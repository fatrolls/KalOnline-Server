/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

CMemory **__cdecl sub_401000(size_t Size);
void __cdecl sub_401020(void *a1);
// void __userpurge CBillingPacket::OnIOCallback(CBillingPacket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
void __thiscall CIOBuffer::Release(CIOBuffer *this); // idb
// volatile int *__usercall CDBSocket::CDBSocket_0@<eax>(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_4010D0(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
void __thiscall CIOObject::OnFree(CIOObject *this); // idb
// CIOObject *__userpurge CIOObject::`vector deleting destructor'@<eax>(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int a5);
// _DWORD *__usercall sub_401160@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __usercall CAuthSocket::Start@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int __thiscall sub_4012C0(void *this);
// BOOL __usercall CAuthSocket::Stop@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __userpurge CAuthSocket::Initialize(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, LONG Value);
// void __userpurge CNMSocket::OnTimer(CNMSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int nId);
// void __usercall sub_401450(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CAuthSocket::OnRead(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
LONG __thiscall sub_401530(volatile LONG *this);
BOOL __thiscall CIOObject::PostObject(CIOObject *this, int nId);
// void __usercall sub_401580(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned __int16 *a4);
// void __usercall sub_401C50(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CAuthSocket::Write(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char a4, ...);
CIOObject *MemoryPool_CAuthPacket::_Alloc();
void __thiscall CIOSpinLock::Enter(CIOSpinLock *this); // idb
LONG __thiscall sub_401DA0(volatile LONG *this);
void __cdecl CMemoryPool<CBillingPacket>::Free(CBillingPacket *pT); // idb
CIOObject *__thiscall sub_401DF0(CIOObject *this);
void __thiscall CIOObject::CIOObject(CIOObject *this); // idb
_DWORD *__thiscall sub_401E50(_DWORD *this, char a2);
// int __thiscall unknown_libname_1(_DWORD, _DWORD); weak
// int __thiscall unknown_libname_2(_DWORD); weak
LONG sub_401ED0();
LONG CMemoryPool<CBillingPacket>::FreeAll();
void __thiscall sub_401F50(void *this);
void __cdecl CMemoryPool_CSkill::_FreeAll(void *);
int __thiscall CBase::CBase(int this);
// void __usercall sub_402020(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// _DWORD *__userpurge sub_402040@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall CBase::_CBase@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CBase::OnFree(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CBase::Set(void *this, int a2, int a3);
// _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD); weak
int __thiscall sub_4021E0(_DWORD *this);
int __thiscall sub_402200(_DWORD *this);
lisp::var *__thiscall lisp::var::pop(lisp::var *this, lisp::var *result); // idb
// CMemory **__userpurge CBaseList::Push@<eax>(CMemory *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
// int __usercall CBaseList::Pop@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
CMemory **CMemoryPool_CBaseList::_Alloc();
LONG __cdecl CMemoryPool_CBaseList::_Free(int a1);
char *__thiscall sub_402370(char *this);
LONG sub_402390();
LONG sub_4023A0();
_DWORD *__thiscall sub_4023F0(_DWORD *this);
int __stdcall CBuff::UpdateBuff(_DWORD *a1, int a2);
_DWORD *__thiscall sub_402460(_DWORD *this, char a2);
_DWORD *__thiscall sub_402490(_DWORD *this);
_DWORD *__cdecl sub_4024B0(int a1, int a2, int a3, int a4);
_DWORD *__thiscall CBuffMoveSpeed::CBuffMoveSpeed(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall CBuff::CBuff(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall CBuffStone::CBuffStone(_DWORD *this, int a2, int a3, int a4, int a5);
void __stdcall CBuffMeditation::CBuffMeditation(int, int, int);
_DWORD *__thiscall sub_405530(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall CBuffRevivalSequela::CBuffRevivalSequela(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_4055A0(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_4055E0(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall CBuffPoison::CBuffPoison(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405670(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall CBuffHaste::CBuffHaste(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_4056F0(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405720(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405750(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405790(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall CBuffCTDefensePer::Copy(void *this);
_DWORD *__thiscall CBuffCTDefensePer::CBuffCTDefensePer(_DWORD *this, void *Src);
_DWORD *__thiscall sub_405850(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405890(void *this);
_DWORD *__thiscall sub_4058D0(_DWORD *this, void *Src);
_DWORD *__thiscall sub_405910(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
_DWORD *__thiscall CBuffCTPrtyPtEx::Copy(void *this);
_DWORD *__thiscall CBuffCTPrtyPtEx::CBuffCTPrtyPtEx(_DWORD *this, void *Src);
_DWORD *__thiscall sub_4059E0(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405A20(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405A50(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall CBuffFlagPrty::CBuffFlagPrty(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
_DWORD *__thiscall sub_405AF0(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405B20(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_405B60(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_405BA0(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall CBuffPrty::CBuffPrty(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
_DWORD *__thiscall sub_405C50(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
_DWORD *__thiscall CBuffRemainEx::CBuffRemainEx(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall sub_405D00(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_405D40(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_405D80(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall sub_405DD0(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall sub_405E20(_DWORD *this);
_DWORD *__thiscall sub_405E40(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall CBuffRemainDeadEx::CBuffRemainDeadEx(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_405ED0(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_405F10(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall sub_405F50(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_405F90(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_405FD0(_DWORD *this, int a2, int a3);
int __stdcall sub_406030(int a1);
BOOL __thiscall CBuff::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffMoveSpeed::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffMoveSpeed::FreeBuff(_DWORD *this, int a2);
int __thiscall CBuffMoveSpeed::UpdateBuff(_DWORD *this, _DWORD *a2, int a3);
__int64 __thiscall CChar::IsMState(_QWORD *this, __int64 a2);
int __thiscall CBuffMoveSpeed::IsExpired(_DWORD *this, _QWORD *a2);
int __thiscall CBuffStone::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffStone::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffMeditation::ApplyBuff(int a1);
int __stdcall sub_4063E0(int a1);
BOOL __thiscall CBuffMeditation::IsExpired(_DWORD *this, _DWORD *a2);
int __cdecl RandomBetween(int nMin, int nMax);
int __thiscall BuffFatalChance::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffFatalChance::FreeBuff(_DWORD *this, int a2);
int __thiscall CBuffRevivalSequela::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffRevivalSequela::FreeBuff(_DWORD *this, int a2);
int __thiscall sub_406690(_DWORD *this, _DWORD *a2);
int __stdcall sub_406700(int a1);
int __thiscall sub_406720(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CBuffStun::IsExpired(_DWORD *this, _QWORD *a2);
int __thiscall sub_4068E0(_DWORD *this, int a2);
int __thiscall sub_406930(void *this, int a2);
int __thiscall sub_406980(_DWORD *this, _DWORD *a2, _QWORD *a3);
int __thiscall CBuffMoveStop::IsExpired(_DWORD *this, _QWORD *a2);
int __stdcall CBuffPoison::ApplyBuff(int a1);
int __stdcall sub_406B50(int a1);
int __thiscall CBuffPoison::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3);
// int __userpurge sub_406CA0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __thiscall unknown_libname_4(_DWORD);
int __stdcall CBuffPoisonCloud::ApplyBuff(int a1);
int __stdcall sub_406E30(int a1);
int __thiscall CBuffPoisonCloud::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3);
// int __userpurge sub_406F80@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CBuffHaste::ApplyBuff(_DWORD *this, _DWORD *a2);
int __thiscall CBuffHaste::FreeBuff(_DWORD *this, int a2);
// int __userpurge CBuffHP::ApplyBuff@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, volatile LONG *a4);
int __stdcall sub_4071E0(int a1);
BOOL __thiscall CBuffHP::IsExpired(_DWORD *this, int a2);
// int __userpurge CBuffMP::ApplyBuff@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, volatile LONG *a4);
int __stdcall sub_4072A0(int a1);
int __thiscall CBuffFlagHP::UpdateBuff(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall CBuffMP::IsExpired(_DWORD *this, int a2);
int __thiscall sub_407360(_DWORD *this, int a2);
int __thiscall sub_4073B0(void *this, int a2);
int __thiscall sub_407400(_DWORD *this, _DWORD *a2, _QWORD *a3);
int __thiscall CBuffSleep::IsExpired(_DWORD *this, _QWORD *a2);
int __thiscall CBuffCTDefensePer::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffCTDefensePer::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffCTHealing::ApplyBuff(int a1);
int __stdcall sub_407660(int a1);
int __thiscall CBuffCTHealing::IsExpired(_DWORD *this, _DWORD *a2);
int __thiscall CBuffCTPrtyPtEx::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffCTPrtyPtEx::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffSuffering::ApplyBuff(int a1);
int __stdcall sub_4077D0(int a1);
int __thiscall CBuffSuffering::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3);
// int __userpurge sub_407920@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CBuffInchantWeapon::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffInchantWeapon::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffSpiritDmg::ApplyBuff(int a1);
int __stdcall sub_407B30(int a1);
int __thiscall CBuffSpiritDmg::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3);
// int __userpurge sub_407C70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CBuffFlagPrty::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffFlagPrty::FreeBuff(_DWORD *this, int a2);
int __thiscall CBuffRevivalSequela::UpdateBuff(_DWORD *this, _DWORD *a2, int a3);
int __stdcall CBuffFlagHP::ApplyBuff(int a1);
int __stdcall sub_407FA0(int a1);
int __thiscall CBuffBerserk::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffBerserk::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffSilenceShot::ApplyBuff(int a1);
int __stdcall sub_4080C0(int a1);
int __thiscall CBuffSilenceShot::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3);
int __thiscall CBuffSilenceShot::IsExpired(_DWORD *this, _QWORD *a2);
int __stdcall CBuffManaBurn::ApplyBuff(int a1);
int __stdcall sub_4082B0(int a1);
int __thiscall CBuffManaBurn::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3);
int __thiscall CBuffManaBurn::IsExpired(_DWORD *this, _QWORD *a2);
int __thiscall CBuffPrty::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffPrty::FreeBuff(int this, _QWORD *a2);
int __thiscall CBuffPrty::UpdateBuff(int this, _DWORD *a2, _QWORD *a3);
int __thiscall sub_408790(_DWORD *this, int a2);
BOOL __thiscall CBuffPrty::IsExpired(int this, _QWORD *a2);
int __thiscall CBuffPrtyEx::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffPrtyEx::FreeBuff(_DWORD *this, _DWORD *a2);
int __thiscall sub_4089E0(_DWORD *this, int a2);
int __thiscall CBuffPrtyEx::UpdateBuff(_DWORD *this, _DWORD *a2, _DWORD *a3);
BOOL __thiscall CBuffPrtyEx::IsExpired(_DWORD *this, _DWORD *a2);
// int __userpurge sub_408BC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_408C40@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_408CA0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
BOOL __thiscall CBuffExpire::IsExpired(_DWORD *this, int a2);
int __thiscall sub_408D20(_DWORD *this, int a2);
int __thiscall sub_408D90(_DWORD *this, int a2);
// int __userpurge sub_408DE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_408E10(_DWORD *this, int a2);
int __thiscall sub_408E30(_DWORD *this, int a2);
// int __userpurge sub_408E60@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_408EC0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_408F30(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CBuffRemainEx::SetBuff(int *this, volatile LONG *a2);
LONG __thiscall CChar::AddGState(volatile LONG *this, int a2);
// int __userpurge sub_408FD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_409020(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_409070(_DWORD *this, int a2);
// int __userpurge sub_4090B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4090F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_409130(int *this, _DWORD *a2);
_DWORD *__thiscall sub_409160(_DWORD *this, int a2);
// int __userpurge sub_409190@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_4091F0(_DWORD *this, int a2);
// int __userpurge sub_409240@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_409290@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_4092D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
// int __userpurge sub_4093D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_409400@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4094D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_409680@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
CIOObject *__thiscall sub_409970(CIOObject *this);
_DWORD *__thiscall sub_409990(_DWORD *this, char a2);
_DWORD *__thiscall sub_4099C0(_DWORD *this);
// void __usercall CCalendar::Start(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// int __setargv(void); weak
int sub_409A80();
// void __userpurge sub_409AA0(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4@<esi>, int a5);
// void __usercall sub_409AC0(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4@<esi>);
int CCalendar::IsIntercalary();
char *__thiscall sub_409D60(char *this);
BOOL __thiscall sub_409F00(_DWORD *this, int a2);
int __stdcall sub_409F20(int a1, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall CChar::AddMState(_DWORD *this, int a2, int a3);
LONG __thiscall CChar::SubGState(volatile LONG *this, int a2);
LONG __thiscall CChar::AddMStateEx(volatile LONG *this, int a2);
LONG __thiscall CChar::SubMStateEx(volatile LONG *this, int a2);
int __thiscall CChar::SubMState(_DWORD *this, int a2, int a3);
int __thiscall CChar::GetFinalDefense(_DWORD *this, int a2);
int __thiscall sub_40A070(_DWORD *this, int a2);
int __thiscall CChar::GetFinalResist(_DWORD *this, int a2, int a3);
int __stdcall sub_40A0C0(int a1);
// void __userpurge sub_40A0E0(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void *__userpurge sub_40A100@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_40A130@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CChar::ReviseProperty(_DWORD *this);
int __thiscall sub_40A3B0(_DWORD *this, int *a2);
_DWORD *__thiscall sub_40A460(_DWORD *this, _DWORD *a2);
void __thiscall sub_40A4D0(_DWORD *this, int Number, int a3);
int __thiscall sub_40A590(_DWORD *this, __int16 a2);
BOOL __thiscall CChar::IsNormal(_DWORD *this);
int __thiscall sub_40A640(_DWORD *this);
int __thiscall sub_40A660(_DWORD *this, int a2);
// void __userpurge sub_40A680(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_40A720@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5);
int __thiscall sub_40A7F0(_DWORD *this, int a2);
// void __userpurge sub_40A830(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_40A8E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_40A990(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_40AA40(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_40AAD0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_40AB60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_40AC10(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_40AC70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_40ACD0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, ...);
// void __usercall sub_40AD60(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, int a6, ...);
void __thiscall CConfig::CConfig(CConfig *this); // idb
_DWORD *__thiscall sub_40AE20(_DWORD *this);
void __thiscall sub_40AE40(CConfig *this);
void __thiscall CConfig::Close(CConfig *this); // idb
void __cdecl free_var(int (__thiscall ***a1)(_DWORD));
int __thiscall sub_40AF90(_DWORD *this);
int __thiscall sub_40AFB0(_DWORD *this);
int __thiscall sub_40AFD0(_DWORD *this);
int __thiscall sub_40AFF0(_DWORD *this);
int __thiscall sub_40B010(_DWORD *this);
int __thiscall CConfig::GetToken(char *this);
lisp::var *__thiscall CConfig::Find(CConfig *this, lisp::var *result, const char *key); // idb
int __thiscall CConfig::GetValue(int this, int a2);
void __thiscall lisp::_string::_string(lisp::_string *this, const char *str); // idb
void *sub_40B620();
// int __thiscall unknown_libname_6(_DWORD); weak
_DWORD *__thiscall sub_40B660(_DWORD *this);
const char *sub_40B680();
char *__cdecl Strdup(const char *str); // idb
int __thiscall CConfig::GetList(int *this, int a2);
_DWORD *__thiscall sub_40B7F0(_DWORD *this, int a2);
_DWORD *__thiscall lisp::_cons::_cons(_DWORD *this, char a2, char a3);
int __thiscall CConfig::Open(_DWORD *this, char *FileName);
int __thiscall sub_40BBE0(_DWORD *this);
const char *__thiscall CConfig::Get(CConfig *this, const char *key); // idb
const char *__thiscall CConfig::Get(CConfig *this, const char *key, const char *defaultValue); // idb
int __thiscall sub_40BC80(CConfig *this, char *String2);
int __thiscall sub_40BCB0(CConfig *this, char *String2, int a3);
int __cdecl CConfig::GetTimeStamp(); // idb
// LONG __userpurge sub_40BD60@<eax>(int a1@<ecx>, DWORD a2@<ebx>, int *a3@<edi>, DWORD a4@<esi>, int a5, unsigned __int16 *a6, int a7);
// volatile int *__usercall sub_40BD90@<eax>(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// _DWORD *__userpurge sub_40BDC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_40BDF0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __usercall CDBSocket::Start@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __usercall CDBSocket::Stop(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
BOOL CDBSocket::OnClose();
// void __usercall sub_40C010(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_40C0A0(DWORD a1@<ebx>, int *a2@<edi>, DWORD a3@<esi>, unsigned __int16 *a4);
// void __usercall CDBSocket::Write(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char a4, ...);
CIOObject *sub_40CE20();
LONG __cdecl sub_40CEA0(int a1);
CIOObject *__thiscall sub_40CED0(CIOObject *this);
LONG sub_40CEF0();
LONG sub_40CF00();
_DWORD *__thiscall CFindPath::CFindPath(_DWORD *this);
_DWORD *__thiscall sub_40CFF0(_DWORD *this);
// int __userpurge CFindPath::FindPath@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int *a6);
int __cdecl sub_40D230(_DWORD *a1, _DWORD *a2);
int __thiscall CFindPath::CalcH(_DWORD *this, _DWORD *a2);
int __thiscall CFindPath::GetBestNode(_DWORD *this);
_DWORD *__thiscall CFindPath::FreeNode(_DWORD *this);
// _DWORD *__userpurge sub_40D370@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// _DWORD *__userpurge CFindPath::LinkChild@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int Number, int a7);
_DWORD *__thiscall CFindPath::CheckList(_DWORD *this, _DWORD *a2, unsigned int a3);
_DWORD *__stdcall CFindPath::Propagation(_DWORD *a1);
_DWORD *__thiscall CFindPath::Insert(int *this, _DWORD *a2);
int CMemoryPool_CFindPath::NODE::_Alloc();
LONG __cdecl CMemoryPool_CFindPath::NODE::_Free(_DWORD *a1);
_DWORD *__thiscall CFindPath::NODE::NODE(_DWORD *this, int a2, int a3);
void __thiscall sub_40D850(void *this);
void __cdecl CMemoryPool_CFindPath::NODE::_FreeAll(void *);
_DWORD *__thiscall CGoto::CGoto(_DWORD *this);
// _DWORD *__userpurge sub_40D8F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_40D920@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __cdecl CGoto::FindGoto(int a1, _DWORD *a2);
int __thiscall CGoto::Set(_DWORD *this, int a2, char a3);
int __thiscall CGoto::OnLoad(_DWORD *this);
_DWORD *__thiscall CPortal::CPortal(_DWORD *this);
// _DWORD *__userpurge sub_40DB20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_40DB50@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CPortal::Set(_DWORD *this, int a2, int a3);
int __thiscall CPortal::OnLoad(_DWORD *this);
// int __usercall sub_40DD50@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::insert(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *result, const std::pair<char const * const,CItem *> *_Val); // idb
bool __thiscall StrCmp::operator()(StrCmp *this, const char *a, const char *b); // idb
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::find(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result, const char *const *_Keyval); // idb
CMemory ***__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::push_back(int *this, const void *a2);
_DWORD *__thiscall sub_40E0B0(_DWORD *this, _DWORD *a2, _DWORD *a3);
int __cdecl sub_40E0F0(int a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::lower_bound(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result, const char *const *_Keyval); // idb
int __thiscall sub_40E130(int *this, int a2, char a3, int C, int a5);
void __thiscall sub_40E570(void *this);
void __thiscall std::length_error::length_error(std::length_error *this, const std::string *_Message); // idb
int __thiscall sub_40E5E0(int this, const std::string *a2);
void __thiscall std::locale::facet::facet(std::locale::facet *this, unsigned int _Initrefs); // idb
_DWORD *__thiscall sub_40E650(_DWORD *this, char a2);
_DWORD *__thiscall sub_40E680(_DWORD *this);
int __thiscall sub_40E6A0(int this);
std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *__thiscall sub_40E6C0(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this, char a2);
void __thiscall std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>::~time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this); // idb
void __thiscall sub_40E720(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this);
std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *__thiscall sub_40E740(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this, char a2);
void __thiscall std::string::string(std::string *this, const std::string *_Right); // idb
void __thiscall sub_40E7C0(std::string *this);
std::string *__thiscall std::string::assign(std::string *this, const std::string *_Right, unsigned int _Roff, unsigned int _Count); // idb
// int __cdecl std::char_traits<char>::copy(void *, void *Src, size_t Size); idb
// int __thiscall unknown_libname_9(_DWORD); weak
void __thiscall std::string::_Tidy(std::string *this, bool _Built, unsigned int _Newsize); // idb
CMemory ***__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_Insert(_DWORD *this, char a2, const void *a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_40E9E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this);
_DWORD *__thiscall sub_40EA00(_DWORD *this);
int __thiscall sub_40EA20(int *this);
std::string *__thiscall std::string::erase(std::string *this, unsigned int _Off, unsigned int _Count); // idb
void *__cdecl sub_40EAD0(void *a1, void *Src, size_t Size);
void __thiscall std::string::string(std::string *this, const char *_Ptr); // idb
std::string *__thiscall std::string::assign(std::string *this, const char *_Ptr); // idb
// int __cdecl std::char_traits<char>::length(char *Str); idb
std::string *__thiscall std::string::assign(std::string *this, const char *_Ptr, unsigned int _Num); // idb
// int __cdecl _tolower(int C);
void __thiscall std::string::_Eos(std::string *this, unsigned int _Newsize); // idb
// _DWORD __cdecl std::char_traits<char>::assign(_DWORD, _DWORD); weak
BOOL __thiscall std::string::_Grow(std::string *this, unsigned int _Newsize, bool _Trim);
int sub_40ED00();
std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lbound(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, const char *const *_Keyval); // idb
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lrotate(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Wherenode); // idb
// int __thiscall unknown_libname_32(_DWORD); weak
void __thiscall sub_40EF20(int this, int a2, size_t Size);
int *__thiscall sub_40F020(int *this, int a2);
CMemory **__stdcall sub_40F150(int a1, int a2, int a3, _DWORD *a4, char a5);
// void *__cdecl operator new(unsigned int, void *); idb
bool __thiscall std::string::_Inside(std::string *this, const char *_Ptr); // idb
CMemory **__stdcall sub_40F220(size_t Size);
CMemory **__stdcall sub_40F270(int a1, int a2, const void *a3);
CMemory **__cdecl sub_40F2E0(size_t Size);
_DWORD *__thiscall sub_40F300(_DWORD *this, unsigned int a2);
CMemory **__stdcall sub_40F370(int a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_40F390(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this);
int std::allocator<CryptoPP::Integer>::max_size();
CMemory **__stdcall sub_40F3E0(int a1);
int sub_40F400();
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::_Dec(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this); // idb
_DWORD *__thiscall sub_40F500(_DWORD *this, int a2, int a3, int a4, _DWORD *a5, char a6);
_DWORD *__thiscall sub_40F560(_DWORD *this, int a2, int a3, const void *a4);
std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Max(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Pnode); // idb
int sub_40F5E0();
CMemory **__cdecl sub_40F610(int a1);
void __thiscall std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>>::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>>(std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> > > *this); // idb
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, const iless *_Parg, const std::allocator<std::pair<char const * const,CItem *> > *_Al); // idb
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Init(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this); // idb
int sub_40F710();
void *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(void *this);
int sub_40F870();
void *__thiscall std::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(void *this, char a2);
void __thiscall sub_40F950(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
void __thiscall sub_40F970(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tidy(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this); // idb
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::erase(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_40FAE0(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_410270(_DWORD *this, const std::string *a2);
void __thiscall sub_4102A0(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this);
std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *__thiscall sub_4102C0(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this, char a2);
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::clear(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this); // idb
std::vector<std::string>::iterator *__thiscall std::vector<std::string>::iterator::operator++(std::vector<std::string>::iterator *this, std::vector<std::string>::iterator *result, int __formal); // idb
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Erase(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Rootnode); // idb
int __cdecl sub_410400(int a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_410440(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_410460(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this);
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this); // idb
void __cdecl std::swap<char>(char *_Left, char *_Right); // idb
int *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_Tidy(int *this);
char *__thiscall sub_4105E0(char *this);
// _DWORD *__userpurge sub_4107B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall CGuild::_CGuild@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_410810(int *this);
// void __usercall CGuild::Stop(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int __thiscall CBase::Delete(volatile signed __int32 *this);
// void __usercall CGuild::SecondProcess(DWORD a1@<ebx>, DWORD a2@<edi>, _DWORD *a3@<esi>);
// int __usercall sub_410910@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4);
// void __usercall CGuild::OnDelete(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __usercall CGuild::IsLoad@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_410DB0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *a5, int a6);
// void __usercall sub_411340(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall CGuild::LoginCastle(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5);
// void __userpurge sub_411650(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_411850(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// int __usercall sub_411B80@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// int __thiscall unknown_libname_10(_DWORD);
int __thiscall sub_411FD0(int this);
// void __usercall sub_411FF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_412010(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge sub_412030@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_412160@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
int __thiscall CGuild::IsAllConsent(int this);
// int __userpurge sub_412450@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *Str1);
// int __userpurge sub_4124C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, char *Source);
int __thiscall CGuild::IsSkillAble(_DWORD *this, int a2, char a3);
// int __userpurge sub_412990@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __usercall sub_412B90@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_412D60@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6);
BOOL __thiscall CGuild::IsTempMemberFUll(int this);
// int __userpurge sub_412F70@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_413170@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Str1);
// int __userpurge sub_413410@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Str1, char *a7);
// int __userpurge sub_4139D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_413C70@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Str1, char *Source);
// int __userpurge sub_413ED0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source);
// void __userpurge sub_414030(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_414080(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<esi>, int a4, int a5);
// int __userpurge sub_4142B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_414340@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_4143A0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10);
// int __userpurge sub_414480@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_414530@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_4145C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8);
// int __userpurge sub_414740@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __usercall CGuild::SetExp@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char *Str, int a5);
// int __userpurge sub_414B60@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_414CA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, unsigned __int8 a6);
int __thiscall CGuild::GetTitle2Class(const char *this, char *Str1);
char *__thiscall CGuild::GetClass2Title(char *this, int a2);
char *__thiscall CGuild::SetClassTitle(char *this, int a2, char *Source);
BOOL __thiscall CGuild::IsMemberFull(int this);
int __thiscall CGuild::IsAppointmentFull(int this, int a2);
int __thiscall CGuild::GetAppointmentLimitTime(int this, int a2);
// int __userpurge CGuild::IsSameName@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char *Str1);
// CIOObject *__usercall sub_415370@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
int __cdecl CGuild::FindGuild(char *Str1); // idb
int __thiscall CGuild::FindLeaderPlayer(int this);
const char *__thiscall CGuild::GetLeaderName(int this);
int __thiscall CGuild::FindMember(int this, int a2, char *Str1);
// char *__usercall sub_4155F0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// int __userpurge sub_4156B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// _DWORD *__userpurge CGuild::MemberDEL@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4);
// BOOL __userpurge sub_415920@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4);
int __cdecl CGuild::GetGuildSkill(int a1);
// void __userpurge sub_415B10(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
int __thiscall CGuild::CalPenaltyLevel(int *this);
int __thiscall CGuild::CalPenaltyTLevel(int *this);
// void __userpurge CGuild::BroadcastLock(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src, int a6);
// BOOL __userpurge CGuild::Broadcast@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src, int a6);
// void __usercall sub_415EB0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, void *Src, int a6);
// int __userpurge sub_415F20@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Str1, int a7);
// int __userpurge sub_416120@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8);
// volatile int *__userpurge CGuild::SetAlliance@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, volatile int *a6);
// void __userpurge CGuild::AllianceBroadcast(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src);
BOOL sub_416530();
BOOL sub_416550();
BOOL sub_416570();
BOOL sub_416590();
__time32_t CGuild::GetWarEndTime();
// int __userpurge sub_416640@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __usercall CGuild::WarDelcareList(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// int __userpurge sub_4169C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
// void __userpurge sub_416B80(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __usercall CGuild::BrokenStandard(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_416CD0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// int __usercall CGuild::CanAttack@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// int __userpurge sub_416E60@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// int __userpurge sub_416F20@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6);
// int __userpurge sub_417000@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __usercall CGuild::CastleGateNPC@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6);
// int __userpurge sub_4171A0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6);
// BOOL __userpurge CGuild::IsAlliancePeriod@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall CGuild::ChangePlayerName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source);
// void __usercall sub_4173D0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source);
int __thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval);
_DWORD *__thiscall sub_417570(int *this);
void __thiscall std::map<unsigned long,ncf::kernel::NetworkSession *>::map<unsigned long,ncf::kernel::NetworkSession *>(std::map<unsigned long,std::list<_tagGameRoomInfo *> *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::list<_tagGameRoomInfo *> *> > > *this); // idb
int __thiscall sub_417600(int *this);
_DWORD *__thiscall sub_417620(int *this);
int __thiscall std::vector<unsigned long>::size(std::vector<unsigned long> *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4176C0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *result, const int *_Keyval); // idb
int __stdcall sub_4177A0(void *a1);
BOOL __stdcall sub_417820(_DWORD *a1, _DWORD *a2);
int __stdcall sub_417840(void *a1);
int __thiscall sub_4178C0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_417970(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_417A10(int *this);
_DWORD *__cdecl sub_417AF0(_DWORD *a1, _DWORD *a2);
_BYTE *__cdecl sub_417B10(_BYTE *a1, _BYTE *a2);
// _DWORD __stdcall unknown_libname_11(_DWORD); weak
_BYTE *__cdecl sub_417B60(_BYTE *a1, char a2);
// _DWORD __cdecl unknown_libname_12(_DWORD); weak
void *__thiscall sub_417B90(void *this);
int __thiscall sub_417BC0(int *this);
int __thiscall sub_417BE0(int *this);
int __thiscall sub_417C00(int *this);
_DWORD *__thiscall CAlliance::CAlliance(_DWORD *this);
// _DWORD *__userpurge sub_417D20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_417D50@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_417D70(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int __thiscall CAlliance::Clear(int this);
// void __usercall CAlliance::OnDelete(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __usercall CAlliance::IsLoad@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall CAlliance::Load(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _BYTE *a4);
// void __usercall CAlliance::LoadSetGuild(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, volatile int *a6);
// volatile int *__userpurge CAlliance::DeleteSetGuild@<eax>(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __usercall sub_4182A0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *Source, int a6, int a7, char *a8, int a9, int a10);
// void __usercall CAlliance::PostponeExpire(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __userpurge sub_418590(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, unsigned int a6);
// void __usercall sub_418600(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4);
// void __userpurge sub_418700(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<esi>, int a4);
_DWORD *__thiscall CAlliance::Add(_DWORD *this, int a2);
// int __usercall CAlliance::GetSize@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// volatile int *__userpurge CWar::SetGuild@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
// void __userpurge CAlliance::BroadcastLock(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src);
// BOOL __userpurge CAlliance::Broadcast@<eax>(BOOL a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src);
// void __usercall CAlliance::ChangeLeaderName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source);
// void __usercall CAlliance::ChangeGuildName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source);
_DWORD *__thiscall CCastle::CCastle(_DWORD *this);
// void *__userpurge sub_418B90@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall CCastle::_CCastle@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_418C40(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __usercall CCastle::Load(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, _DWORD *a5);
// BOOL __usercall CCastle::SetWarGuild@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, volatile int *a5);
// void __usercall sub_418FA0(DWORD a1@<ebx>, DWORD a2@<esi>, int a3);
int __cdecl CCastle::WarPortal(int a1, int a2, int a3, int a4);
// int __userpurge CCastle::_WarMsg@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src);
// void __userpurge CCastle::WarMsg(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src);
// _DWORD *__usercall CCastle::WarList@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, _DWORD *a5);
// void __usercall CCastle::OnDelete(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// volatile int *__userpurge CCastle::SetGuild@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
int __cdecl CCastle::GetCastle(int a1);
int __cdecl CCastle::GetMonsterTile2CID(int a1, int a2, int a3);
// int __userpurge CCastle::SubGateState@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// BOOL __userpurge CCastle::IsLord@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// BOOL __userpurge CCastle::IsAlliance@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge CCastle::IsAlreadyDeclare@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __usercall CCastle::IsAllCastleWarRelation@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_419910(DWORD a1@<ebx>, DWORD a2@<esi>, _DWORD *a3, int a4);
// void __userpurge sub_419C90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8);
// void __userpurge sub_419E00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, char *Source, int a8);
// int __usercall CCastle::GetWarSize@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_419F60(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<esi>, int a4);
// BOOL __usercall CCastle::IsStandardAlive@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __usercall CCastle::GetStandardUnfurl@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge CCastle::SetStandardUnfurl(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge CCastle::SetCurStandardGuild(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, volatile int *a6);
// void __usercall CCastle::UnfurlStandardCancel(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __userpurge sub_41A3F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __usercall CCastle::CreateStandard@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source, int a7);
// void __userpurge CCastle::CreateGate(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, char *Source);
// int *__userpurge sub_41A600@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4@<esi>, int a5, int a6, char *Source);
// int __usercall CCastle::IsGateAlive@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, unsigned int a5);
// int __usercall CCastle::GetTaxRate@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge CCastle::SetTaxRate(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// BOOL __usercall CCastle::IsPayment@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __usercall CCastle::GetTax@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge CCastle::AddTax(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge CCastle::ResetTax@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __usercall CCastle::TaxSave@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// int __userpurge CCastle::IsGateUse@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge CCastle::IsGateUseWarring@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall CCastle::GateGoto(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5);
// int __userpurge CCastle::SetGateLimit@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __usercall CCastle::SetWarRemainSecondTime(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall CCastle::ChangeLeaderName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *Source);
// void __usercall CCastle::ChangeGuildName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *Source);
// void __userpurge CCastle::SetLordDeclare(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_41AE60(DWORD a1@<ebx>, DWORD a2@<edi>, _DWORD *a3@<esi>);
// void __usercall sub_41B060(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4@<esi>);
// int __usercall sub_41B250@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_41B2D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int CCastle::IsWarDeclared();
_DWORD *__thiscall CWar::CWar(_DWORD *this);
// _DWORD *__userpurge sub_41B4B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_41B4E0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CWar::Load(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *a5);
// void __usercall sub_41B710(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__thiscall CWar::ADD(_DWORD *this, int a2);
int __thiscall CWar::Clear(int this);
_DWORD *__thiscall sub_41B7D0(int *this);
_DWORD *__thiscall sub_41B830(int *this);
void __thiscall sub_41B890(std::vector<unsigned long> *this);
unsigned int *__thiscall std::vector<unsigned long>::operator[](std::vector<unsigned long> *this, unsigned int _Pos); // idb
void __thiscall std::vector<CIOSocket::CIOTimer>::push_back(std::vector<CIOSocket::CIOTimer> *this, const CIOSocket::CIOTimer *_Val); // idb
void *__thiscall sub_41B960(void *this);
int __stdcall sub_41B980(void *a1);
int __thiscall sub_41BA00(int *this);
int __cdecl sub_41BA20(int a1);
int __stdcall sub_41BA30(void *a1);
int __thiscall std::vector<unsigned long>::capacity(std::vector<unsigned long> *this);
_DWORD *__thiscall std::vector<CIOSocket::CIOTimer>::insert(int *this, _DWORD *a2, void *Src, int a4);
unsigned int *__thiscall std::vector<unsigned long>::_Ufill(std::vector<unsigned long> *this, unsigned int *_Ptr, unsigned int _Count, const unsigned int *_Val); // idb
void __thiscall sub_41BBA0(int this, void *Src, int a3, int a4);
CMemory **__stdcall sub_41BE60(int a1);
std::pair<char const * const,CItem *> *sub_41BE80(std::pair<char const * const,CItem *> *a1, ...);
void __cdecl std::fill<unsigned long *,unsigned long>(unsigned int *_First, unsigned int *_Last, const unsigned int *_Val); // idb
unsigned int *__cdecl std::copy_backward<unsigned long *,unsigned long *>(unsigned int *_First, unsigned int *_Last, unsigned int *_Dest); // idb
CMemory **__cdecl sub_41BF10(int a1);
void __cdecl sub_41BF30(unsigned int *a1, unsigned int a2, const unsigned int *a3);
unsigned int *__cdecl std::_Uninitialized_copy<unsigned long *,unsigned long *,std::allocator<unsigned long>>(unsigned int *_First, unsigned int *_Last, unsigned int *_Dest);
void __cdecl std::fill_n<unsigned long *,unsigned int,unsigned long>(unsigned int *_First, unsigned int _Count, const unsigned int *_Val); // idb
void *__thiscall sub_41BFC0(void *this);
void *__thiscall sub_41BFF0(void *this);
int __thiscall sub_41C020(int *this);
int __thiscall sub_41C040(int *this);
int __thiscall sub_41C060(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41C110(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_41C1B0(int *this);
int __thiscall sub_41C1D0(int *this);
int __thiscall sub_41C1F0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41C2A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_41C340(_DWORD *this);
// void *__userpurge sub_41C4B0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall CInitItem::_CInitItem@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_41C570(int *this);
int CInitItem::Open();
int __cdecl CInitItem::FindKey(int a1);
_DWORD *CGenNPC::Copy();
int __thiscall sub_41C680(int this, int a2, int a3);
int __thiscall CInitItem::OnLoad(_DWORD *this);
int __thiscall CInitItem::SetSpec(int this, int a2);
_DWORD *__thiscall sub_41DA20(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_41DA60(_DWORD *this, int a2);
_DWORD *__thiscall CSpecPrty::CSpecPrty(_DWORD *this, int a2, int a3, int a4);
int __thiscall CSpec::CSpec(int this, int a2, int a3);
_DWORD *__thiscall sub_41DB00(_DWORD *this, int a2);
// _DWORD __thiscall Concurrency::scheduler_worker_creation_error::scheduler_worker_creation_error(Concurrency::scheduler_worker_creation_error *__hidden this, const char *, int); idb
// _DWORD __thiscall Concurrency::scheduler_worker_creation_error::scheduler_worker_creation_error(Concurrency::scheduler_worker_creation_error *__hidden this, const char *, int); idb
_DWORD *__thiscall sub_41DB90(_DWORD *this, int a2);
_DWORD *__thiscall sub_41DBC0(_DWORD *this, int a2);
_DWORD *__thiscall CSpecChangePrefix::CSpecChangePrefix(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall CSpecProtect::CSpecProtect(_DWORD *this);
_DWORD *__thiscall CSpecBuff::CSpecBuff(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_41DCB0(_DWORD *this, int a2);
BOOL __thiscall CInitItem::ApplySpec(int this, int a2);
BOOL __thiscall CInitItem::FreeSpec(int this, int a2);
int __thiscall sub_41DDC0(int this, int a2);
int __thiscall CInitItem::Enchant(int this, int a2, int a3);
int __cdecl CInitItem::GetSpecValue(int a1, int a2, char a3);
_DWORD *__thiscall CPrefix::CPrefix(_DWORD *this);
// void *__userpurge sub_41E050@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall CPrefix::_CPrefix@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *CPrefix::Copy();
int __thiscall CPrefix::Set(int this, int a2, char a3);
int __thiscall sub_41E970(void *this);
BOOL __thiscall CPrefix::ApplySpec(int this, int a2);
BOOL __thiscall CPrefix::FreeSpec(int this, int a2);
int __thiscall CSpecPrty::ApplySpec(_DWORD *this, int a2);
int __thiscall CSpecPrty::FreeSpec(_DWORD *this, int a2);
LONG __thiscall sub_41EB50(int *this, volatile LONG *a2);
LONG __thiscall sub_41EB70(int *this, volatile LONG *a2);
// int __userpurge sub_41EB90@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall CSpecRefresh::Use(_DWORD *this, _DWORD *a2);
int __thiscall CSpecCharming::Enchant(_DWORD *this, int a2, int a3);
int __stdcall sub_41ED30(int a1, int a2);
int __thiscall CSpecChangePrefix::Enchant(_DWORD *this, int a2, int a3);
int __stdcall sub_41ED90(int a1, int a2);
int __thiscall CSpecBuff::Use(int *this, _DWORD *a2);
// int __userpurge sub_41EE10@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
void *__thiscall sub_41EE30(void *this);
int __thiscall sub_41EE60(int *this);
bool __thiscall iless::operator()(iless *this, const char *a, const char *b); // idb
_DWORD *__thiscall sub_41EEB0(int *this, _DWORD *a2, const char **a3);
int __thiscall sub_41EF40(int *this);
void *__thiscall sub_41EFF0(int *this, void *a2, const char **a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41F020(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_41F0C0(int *this, const char **a2);
_DWORD *__thiscall sub_41F150(int *this);
void __thiscall std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Rarg, const std::pair<char const * const,CItem *> *_Val, char _Carg); // idb
int __stdcall sub_41F200(void *a1);
void *__thiscall sub_41F280(void *this);
int __thiscall sub_41F2B0(int *this);
int __thiscall sub_41F2D0(int *this);
int __thiscall sub_41F2F0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41F3A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_41F440(int *this);
int __stdcall sub_41F4A0(void *a1);
_DWORD *__thiscall CInitMap::CInitMap(_DWORD *this);
// _DWORD *__userpurge sub_41F580@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_41F5B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CInitMap::Set(int this, int a2, char a3);
// int __usercall sub_41F700@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// unsigned int __usercall SnapCurrentProcessMiniDump@<eax>(DWORD a1@<eax>, DWORD a2@<edx>, DWORD a3@<ecx>, DWORD a4@<ebx>, DWORD a5@<edi>, DWORD a6@<esi>, _CONTEXT *lpContext);
void __thiscall CIOException::CInit::CInit(CIOException::CInit *this); // idb
char *__cdecl GetFilePart(char *source); // idb
// void __usercall __noreturn sub_41F9D0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// int cleanup(void); weak
// int cleanup_0(void); weak
BOOL sendMail();
int __cdecl sendMail_0(const char *host, const char *from, const char *to, const char *body); // idb
int __cdecl sendFile(unsigned int sock, const char *name); // idb
// void __usercall GenerateExceptionReport(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _EXCEPTION_POINTERS *data);
void hprintf(void *LogFile, char *Format, ...); // idb
void __cdecl CreateMiniDump(_EXCEPTION_POINTERS *pException); // idb
void __cdecl RecordModuleList(void *LogFile); // idb
// int __cdecl _getdrive();
// int __cdecl sub_420A70(HANDLE hFile); idb
const char *__cdecl GetExceptionDescription(unsigned int ExceptionCode); // idb
void __cdecl PrintStack(void *LogFile, unsigned int begin, unsigned int end); // idb
void __cdecl ImageHelpStackWalk(void *LogFile, _CONTEXT *ptrContext); // idb
void __cdecl IntelStackWalk(void *LogFile, _CONTEXT *ptrContext); // idb
// LONG __userpurge RecordExceptionInfo@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _EXCEPTION_POINTERS *data);
void __thiscall CIOException::CInit::~CInit(CIOException::CInit *this); // idb
void ELOG(const char *lpszFormat, ...); // idb
// void __usercall EBREAK(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// int __usercall EBreak@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// int __usercall CIOException::Filter@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _EXCEPTION_POINTERS *pExp);
void __cdecl CIOException::Open(const char *szMailServer, const char *szMailFrom, const char *szMailTo); // idb
BOOL sub_4217B0();
LONG sub_4217D0();
LONG sub_4217F0();
int sub_421800();
LONG sub_421820();
void __cdecl CIOException::DumpStack(int nThread, void **hThread, unsigned int *nThreadId); // idb
void __cdecl ImageHelpStackWalk_0(void *LogFile, void *hThread); // idb
void __thiscall CIOSpinLock::Wait(CIOSpinLock *this); // idb
void __thiscall CIOCriticalSection::CIOCriticalSection(CIOCriticalSection *this); // idb
// void __usercall CIOCriticalSection::~CIOCriticalSection(CIOCriticalSection *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CIOCriticalSection::Enter(CIOCriticalSection *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CIOCriticalSection::Leave(CIOCriticalSection *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
void sub_422000();
// int __usercall CIOSocket::CreateIOThread@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int nThread);
unsigned int __thiscall CIOSocket::AddIOThread(void *this);
int __cdecl CIOSocket::CloseIOThread(); // idb
void __cdecl CIOSocket::FreeIOThread(); // idb
_DWORD *__thiscall sub_422250(_DWORD *this);
// void __userpurge CIOObject::AddRef(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *pRef);
// void __userpurge CIOObject::Release(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *pRef);
// int __userpurge CIOObject::RegisterWait@<eax>(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *handle);
// void __userpurge CIOObject::AddTimer(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int dwTime, int nId);
void __thiscall CIOSocket::CIOTimer::CIOTimer(CIOSocket::CIOTimer *this, CIOObject *pObject, unsigned int dwTime, int nId); // idb
// void __userpurge CIOObject::OnTimerCallback(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int nId);
// void __userpurge CIOObject::OnIOCallback(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int bSucess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
void __thiscall CIOSocket::CIOTimerInstance::OnTimerCallback(CIOSocket::CIOTimerInstance *this, int nId); // idb
void __thiscall CIOSocket::CIOTimerInstance::OnIOCallback(CIOSocket::CIOTimerInstance *this, int bSucess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped); // idb
// unsigned int __userpurge CIOSocket::WaitThread@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *__formal);
void __stdcall __noreturn CIOSocket::IOThread(void *arglist);
void __cdecl CIOSocket::DumpStack(); // idb
// void __stdcall `vector constructor iterator'(void *, unsigned int, int, void *(__thiscall *)(void *)); idb
CMemory **__cdecl CIOBuffer::Alloc();
void __thiscall CIOBuffer::Free(CIOBuffer *this); // idb
void __cdecl CIOBuffer::FreeAll(); // idb
// int __userpurge CIOSocket::CIOSocket@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void *__userpurge sub_422AB0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall CIOSocket::_CIOSocket@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CIOSocket::Close(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CIOSocket::GracefulClose(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge CIOSocket::OnIOCallback(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
// void __usercall sub_422CC0(CIOSocket *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge CIOSocket::ReadCallback(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int dwTransferred);
// void __userpurge CIOSocket::Read(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int dwLeft);
// void __userpurge CIOSocket::WriteCallback(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int dwTransferred);
// void __userpurge CIOSocket::Write(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, CIOBuffer *pBuffer);
void __thiscall CIOServer::CIOServer(CIOServer *this); // idb
std::numpunct<char> *__thiscall sub_423280(std::numpunct<char> *this, char a2);
void __thiscall std::numpunct<char>::~numpunct<char>(std::numpunct<char> *this); // idb
void __thiscall CIOServer::Close(CIOServer *this); // idb
// int __userpurge CIOServer::Start@<eax>(CIOServer *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int nPort);
void __thiscall CIOServer::OnWaitCallback(CIOServer *this); // idb
void __thiscall CIOServer::Stop(CIOServer *this); // idb
// void __userpurge CIOServer::OnIOCallback(CIOServer *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
// void __usercall CIOSocket::Initialize(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
BOOL __thiscall sub_423620(std::vector<CIOSocket::CIOTimer> *this);
CIOSocket::CIOTimer *__thiscall sub_423640(std::vector<CIOSocket::CIOTimer> *this);
void __thiscall std::priority_queue<CIOSocket::CIOTimer>::push(std::priority_queue<CIOSocket::CIOTimer> *this, const CIOSocket::CIOTimer *_Pred); // idb
void __thiscall std::priority_queue<CIOSocket::CIOTimer>::pop(std::priority_queue<CIOSocket::CIOTimer> *this); // idb
CIOSocket::CIOTimer *__thiscall std::vector<CIOSocket::CIOTimer>::front(std::vector<CIOSocket::CIOTimer> *this); // idb
CIOSocket::CIOTimer *__thiscall sub_423720(int this, int *a2);
void __thiscall std::vector<CIOSocket::CIOTimer>::pop_back(std::vector<CIOSocket::CIOTimer> *this); // idb
_DWORD *__thiscall sub_4237E0(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4);
void __thiscall std::vector<CIOSocket::CIOTimer>::_Destroy(std::vector<CIOSocket::CIOTimer> *this, CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last); // idb
void __thiscall sub_423890(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4);
std::vector<CIOSocket::CIOTimer>::iterator *__thiscall std::vector<CIOSocket::CIOTimer>::iterator::operator+=(std::vector<CIOSocket::CIOTimer>::iterator *this, int _Off); // idb
_DWORD *__cdecl std::push_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(int a1, int a2);
int __cdecl std::pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(int a1, int a2, char a3);
void __cdecl std::_Uninitialized_fill_n<CIOSocket::CIOTimer *,unsigned int,CIOSocket::CIOTimer,std::allocator<CIOSocket::CIOTimer>>(CIOSocket::CIOTimer *_First, unsigned int _Count, const CIOSocket::CIOTimer *_Val);
CIOSocket::CIOTimer *__stdcall std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, CIOSocket::CIOTimer *_Dest);
void __cdecl std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, const CIOSocket::CIOTimer *_Val); // idb
CMemory **__cdecl sub_423CC0(int a1);
_DWORD *__thiscall sub_423CE0(_DWORD *this);
int sub_423D00();
_DWORD *__cdecl std::_Push_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, char a2);
_DWORD *std::_Pop_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, ...);
int __cdecl std::_Destroy_range<CIOSocket::CIOTimer>(int a1, int a2);
CIOSocket::CIOTimer *__cdecl std::_Uninitialized_copy<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *,std::allocator<CIOSocket::CIOTimer>>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, CIOSocket::CIOTimer *_Dest);
std::vector<CIOSocket::CIOTimer>::iterator *__thiscall std::vector<CIOSocket::CIOTimer>::iterator::operator+(std::vector<CIOSocket::CIOTimer>::iterator *this, std::vector<CIOSocket::CIOTimer>::iterator *result, int _Off); // idb
std::vector<CIOSocket::CIOTimer>::iterator *__thiscall sub_423EB0(std::vector<CIOSocket::CIOTimer>::iterator *this, int a2);
_DWORD *__cdecl std::_Push_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6);
_DWORD *__cdecl std::_Pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, char a2, char a3, int a4, int a5, int a6);
void *__cdecl sub_424000(int a1, int a2, void *a3);
BOOL __stdcall sub_424070(_DWORD *a1, _DWORD *a2);
BOOL __thiscall sub_424090(_DWORD *this, _DWORD *a2);
_DWORD *__cdecl std::_Adjust_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6);
void *__thiscall sub_424200(void *this);
char __thiscall std::vector<CIOSocket::CIOTimer>::_Buy(std::vector<CIOSocket::CIOTimer> *this, unsigned int _Capacity);
CIOObject *__thiscall sub_4242A0(CIOObject *this);
_DWORD *__thiscall sub_4242C0(_DWORD *this, char a2);
void __thiscall sub_424320(std::vector<CIOSocket::CIOTimer> *this);
_DWORD *__thiscall CItem::CItem(_DWORD *this);
int __thiscall sub_424400(_DWORD *this, int a2);
int __thiscall sub_424420(_DWORD *this, int a2, int a3);
int __stdcall sub_424440(int a1, int a2, int a3, int a4);
// _DWORD *__userpurge sub_424450@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_424480@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __cdecl CItem::InsertInitItem(int a1);
int __cdecl CItem::InsertPrefix(int a1);
int __cdecl sub_424560(int a1);
// void __usercall CItem::ReloadItemGroup(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
CConfig *__thiscall sub_424670(CConfig *this);
void __thiscall sub_424690(CConfig *this);
int __cdecl sub_4246B0(int a1);
int __cdecl sub_424700(int a1);
_DWORD *__cdecl CItem::NewItem(_DWORD *a1);
_DWORD *__thiscall sub_4249D0(_DWORD *this, int a2);
BOOL __thiscall sub_424A00(_DWORD *this);
int __thiscall CItemStandard::CItemStandard(_DWORD *this, int a2);
// _DWORD *__userpurge sub_424A60@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_424A90@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__cdecl sub_424AB0(int a1, _WORD **a2);
_DWORD *__cdecl CItem::CreateItem(int a1, int a2, int a3, int a4);
_DWORD *__cdecl CItem::CreateCheatItem(int a1, int a2, int a3, int a4);
_DWORD *__thiscall sub_424C30(_DWORD *this, int a2);
// _DWORD *__usercall CItem::CreateDropItem@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// _DWORD *__usercall CItem::CreateQuestItem@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// _DWORD *__usercall CItem::Close@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
_DWORD *CItem::ClearItemGroup();
// void __userpurge sub_425000(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
_DWORD *__thiscall sub_425110(int this, _BYTE **a2, int a3);
int __thiscall sub_4251D0(int this, int a2, _BYTE **a3);
_DWORD *__thiscall CItem::Init(_DWORD *this, int a2, int a3, int a4);
// void __userpurge sub_425310(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_425340(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_425390@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge CItem::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_425490(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_425500(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_4255D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// void __userpurge sub_4256C0(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, _DWORD *a7, int a8, int a9, int a10);
// _DWORD *__userpurge sub_425810@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
BOOL __thiscall CItem::CanSell(_DWORD *this, int a2);
int __thiscall sub_425930(_DWORD *this, int a2);
BOOL __thiscall CItem::CanTrade(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall CItem::CanDrop(_DWORD *this, int a2, int a3);
// int __userpurge sub_425AD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, int a7, int a8);
// void __userpurge CItem::ForcedStorageIn(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7, int a8);
LONG CItem::NewIID();
int __thiscall sub_425BE0(_DWORD *this, int a2);
int __thiscall sub_425C00(_DWORD *this, int a2);
// void __userpurge CItem::SendItemInfo(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char a6);
// void __userpurge sub_425CA0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, int a7, int a8, int a9);
_DWORD *__thiscall CItemWeapon::CItemWeapon(_DWORD *this, int a2);
// _DWORD *__usercall sub_425DD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_BYTE *__thiscall sub_425DF0(int this, _BYTE **a2, int a3);
int __thiscall sub_425FD0(int this, int a2, _BYTE **a3);
int __thiscall CItemWeapon::Init(_DWORD *this, int a2, int a3, int a4);
// void __userpurge sub_4261E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_4262D0(_DWORD *this, int a2);
int __thiscall sub_4262F0(_DWORD *this, char a2);
int __thiscall sub_426320(_DWORD *this, char a2);
// int __userpurge sub_426340@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge CItemWeapon::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int *__thiscall sub_4265B0(int *this, _DWORD *a2);
int __thiscall sub_426740(int *this, _DWORD *a2);
// void __userpurge sub_426880(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4269D0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_426AA0(_DWORD *this, char a2);
// void __userpurge sub_426AD0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_426BD0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
BOOL __thiscall CItemTransform::CanTrade(_DWORD *this, int a2, int a3, int a4);
// int __userpurge sub_426DA0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge CItemWeapon::ForcedStorageIn(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7, int a8);
// int __userpurge sub_426F70@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
int __thiscall CItem::GetLevel(_DWORD *this);
// int __userpurge sub_427460@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_4275A0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_427620@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8);
// int __userpurge sub_4279D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CItemWeapon::GetSellMoney(_DWORD *this, int a2);
// void __userpurge CItemWeapon::UpgradeDestroy(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_427CD0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_427E20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4);
_DWORD *__thiscall CItemDefense::CItemDefense(_DWORD *this, int a2);
void **__thiscall sub_428200(int this, void **a2, int a3);
int __thiscall sub_4283D0(int this, int a2, _BYTE **a3);
// void __userpurge sub_428560(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_428650@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge CItemDefense::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CItemDefense::ApplySpec(int *this, int a2);
int __thiscall CItemDefense::FreeSpec(int *this, int a2);
// void __userpurge sub_428970(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_428AC0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_428B80(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_428BF0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_428D50@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_428E70@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_429290@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_429370@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8);
// int __userpurge sub_429710@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CItemDefense::GetSellMoney(_DWORD *this, int a2);
// void __userpurge CItemDefense::UpgradeDestroy(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge CItemMask::SetWearState(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_429A70(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
_DWORD *__thiscall CItemMask::Init(_DWORD *this, int a2, int a3, int a4);
// void __userpurge sub_429AE0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int *__thiscall CItemStandard::ApplySpec(int *this, int a2);
int *__thiscall CItemStandard::FreeSpec(int *this, int a2);
// void __userpurge sub_429BD0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_429E10(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_429F10@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
BOOL __thiscall sub_429F40(_DWORD *this, int a2, int a3, int a4);
// int __userpurge sub_429FA0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
_DWORD *__thiscall CItemOrnament::CItemOrnament(_DWORD *this, int a2);
int __thiscall CItemOrnament::Init(_DWORD *this, int a2, int a3, int a4);
// void __userpurge sub_42A110(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_42A1C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge CItemOrnament::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
BOOL __thiscall CItemOrnament::ApplySpec(int *this, int a2);
BOOL __thiscall sub_42A380(int *this, int a2);
// void __userpurge sub_42A3C0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_42A4D0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_42A580(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_42A680@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
BOOL __thiscall CItemDefense::CanSell(_DWORD *this, int a2);
// BOOL __userpurge sub_42A7C0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_42A810@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge CItemOrnament::ForcedStorageIn(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7, int a8);
// int __userpurge sub_42A9B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8);
int __thiscall CItemOrnament::GetSellMoney(_DWORD *this, int a2);
// void __userpurge CItemOrnament::UpgradeDestroy(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
_DWORD *__thiscall sub_42ABA0(_DWORD *this, int a2);
// _DWORD *__userpurge sub_42ABD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
int __thiscall CItem::Sum(_DWORD *this, int a2);
// int __userpurge sub_42AC70@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// _DWORD *__userpurge sub_42AD00@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
BOOL __thiscall CItemQuest::CanMerge(_DWORD *this, _DWORD *a2);
// int __userpurge sub_42AEB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_42B190@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, int a7, int *a8);
int __thiscall CItemGeneral::Enchant(int *this, int a2, int a3);
_DWORD *__thiscall sub_42B3E0(_DWORD *this, int a2);
int __stdcall sub_42B420(int a1, int a2, int a3);
// int __userpurge sub_42B440@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
_DWORD *__thiscall sub_42B5C0(_DWORD *this, int a2);
BOOL __thiscall sub_42B5F0(_DWORD *this, int a2);
// int __userpurge sub_42B610@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_42B6B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
// int __userpurge sub_42B7F0@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, LONG Value);
// void __userpurge sub_42B980(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, _DWORD *a7, int a8, int a9, int a10);
// _DWORD *__userpurge sub_42BB70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_42BCC0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_42BF20@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, int a7, int *a8);
int __thiscall sub_42C110(_DWORD *this, int a2);
_DWORD *__thiscall CItemTransform::CItemTransform(_DWORD *this, int a2);
void **__thiscall sub_42C1E0(int this, void **a2, int a3);
int __thiscall sub_42C2B0(int this, int a2, _BYTE **a3);
_DWORD *__thiscall CItemTransform::Init(_DWORD *this, int a2, int a3, int a4);
// void __userpurge sub_42C3C0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_42C460@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge CItemTransform::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CItemTransform::ApplySpec(_DWORD *this, int a2);
int __thiscall CItemTransform::FreeSpec(_DWORD *this, int a2);
// void __userpurge sub_42C680(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_42C770(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_42C850(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_42C930@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// int __userpurge sub_42CA30@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge CItemTransform::ForcedStorageIn(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7, int a8);
// void __userpurge sub_42CB90(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
// void __userpurge sub_42CD60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge CItemTransform::SaveInfo(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_42CE60(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile LONG *a5, int a6);
int __thiscall sub_42CFC0(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_42D0F0(int *this);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *result, const std::pair<int const ,CSocket *> *_Val); // idb
_DWORD *__thiscall sub_42D300(int *this);
_DWORD *__thiscall sub_42D360(int *this);
BOOL __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(std::vector<CIOSocket::CIOTimer>::const_iterator *this, const std::vector<CIOSocket::CIOTimer>::const_iterator *_Right);
int __stdcall sub_42D3F0(void *a1);
int __stdcall sub_42D470(void *a1);
int __stdcall sub_42D4F0(void *a1);
void *__thiscall sub_42D570(void *this, int a2);
int __thiscall sub_42D590(int *this);
int __thiscall sub_42D5B0(int *this);
_WORD *__cdecl sub_42D5D0(_WORD *a1, _WORD *a2);
_WORD *__cdecl sub_42D5F0(_WORD *a1, __int16 a2);
void *__thiscall sub_42D610(void *this);
void *__thiscall std::_Tree_ptr<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_ptr<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(void *this, _BYTE *a2, char a3);
void *__thiscall sub_42D680(void *this);
void *__thiscall sub_42D6B0(void *this);
int __thiscall sub_42D6E0(int *this);
int __thiscall sub_42D700(int *this);
int __thiscall sub_42D720(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42D7D0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_42D870(int *this);
int __thiscall sub_42D890(int *this);
int __thiscall sub_42D8B0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42D960(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_42DA00(int *this);
int __thiscall sub_42DA20(int *this);
int __thiscall sub_42DA40(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42DAF0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *CGroup::Copy();
_DWORD *__thiscall CGroup::CGroup(_DWORD *this);
// void *__userpurge sub_42DC00@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_42DC30@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CGroup::Set(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_42DE00(_DWORD *this);
_DWORD *__thiscall sub_42DE40(_DWORD *this, int a2);
int __thiscall sub_42DE80(void *this);
void __thiscall CGroup::GetItemInfo(int *this, _DWORD *a2, _DWORD *a3, _DWORD *a4);
int __cdecl sub_42DF50(int a1);
_DWORD *CItemGroup::ClearGroup();
char *sub_42E040();
char *__thiscall sub_42E080(char *this);
// void *__userpurge sub_42E0B0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_42E0E0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CItemGroup::Set(_DWORD *this, int a2, int a3);
int __thiscall sub_42E1C0(void *this);
int __stdcall CItemGroup::FindGroup(int a1);
void __thiscall CItemGroup::GetItemInfo(int *this, _DWORD *a2, _DWORD *a3, _DWORD *a4);
int __thiscall CItemGroup::GetFirstGroup(int *this);
// void __usercall CGoods::ForcedStorageIn(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, void *Src);
_DWORD *sub_42E590();
_DWORD *sub_42E620();
_DWORD *__thiscall CGoods::CGoods(_DWORD *this);
// void *__userpurge sub_42E6A0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_42E6D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CGoods::Set(_DWORD *this, int a2, int a3);
int __thiscall CGoods::OnLoad(int this);
CSyncPacket::CElement *__thiscall sub_42E830(int this, int *a2);
_DWORD *__thiscall sub_42E8A0(int *this);
void __thiscall std::vector<CIOSocket::CIOTimer>::vector<CIOSocket::CIOTimer>(std::vector<CIOSocket::CIOTimer> *this); // idb
IPAddrMask *__thiscall sub_42E930(int this, int *a2);
_DWORD *__thiscall sub_42E9A0(int *this);
void *__thiscall sub_42EA00(int *this, void *a2);
CIOSocket::CIOTimer *__thiscall sub_42EA20(int this, int *a2);
int __thiscall sub_42EA90(void *this);
_DWORD *__thiscall sub_42EAB0(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_42EAE0(int *this, _DWORD *a2, int a3);
int __thiscall std::vector<CSyncPacket::CElement>::capacity(std::vector<CSyncPacket::CElement> *this);
int __thiscall std::vector<CSyncPacket::CElement>::size(std::vector<CSyncPacket::CElement> *this);
_DWORD *__thiscall sub_42EB90(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4);
int __stdcall sub_42EC10(void *a1);
_DWORD *__thiscall sub_42EC90(int *this, _DWORD *a2, IPAddrMask *a3, int *a4);
int __stdcall sub_42ED10(void *a1);
int __thiscall std::vector<CIOSocket::CIOTimer>::capacity(std::vector<CIOSocket::CIOTimer> *this);
int __thiscall std::vector<CIOSocket::CIOTimer>::size(std::vector<CIOSocket::CIOTimer> *this);
_DWORD *__thiscall sub_42EE10(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4);
void *__thiscall sub_42EE90(void *this, char a2);
_DWORD *__thiscall sub_42EEB0(_DWORD *this);
// int __thiscall unknown_libname_13(_DWORD, _DWORD); weak
_DWORD *__thiscall sub_42EEF0(_DWORD *this);
int __stdcall sub_42EF10(int a1, int a2);
void __thiscall sub_42EF40(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4);
CMemory **__stdcall sub_42F220(int a1);
void __thiscall sub_42F240(int this, IPAddrMask *a2, unsigned int a3, int *a4);
void __thiscall sub_42F510(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4);
CMemory **__stdcall sub_42F7F0(int a1);
_DWORD *__stdcall sub_42F810(_DWORD *a1, int a2);
_DWORD *__thiscall sub_42F840(int *this, _DWORD *a2, int a3);
unsigned int __thiscall std::allocator<boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime>>::timer_base *>::bucket_type>::max_size(std::allocator<std::pair<unsigned __int64 const ,std::list<_tag_ChannelUserInfo *> *> > *this); // idb
unsigned int __thiscall std::allocator<CIOSocket::CIOTimer>::max_size(std::allocator<CIOSocket::CIOTimer> *this); // idb
std::vector<CSyncPacket::CElement>::iterator *__thiscall std::vector<CSyncPacket::CElement>::iterator::operator+=(std::vector<CSyncPacket::CElement>::iterator *this, int _Off); // idb
int __thiscall sub_42F8F0(_DWORD *this, _DWORD *a2);
int __thiscall sub_42F910(_DWORD *this, _DWORD *a2);
void *__cdecl sub_42F930(void *a1, int a2, int a3);
void *__stdcall sub_42F970(int a1, int a2, void *a3);
void __cdecl std::_Fill<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>(boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *_First, boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *_Last, const boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *_Val); // idb
CIOSocket::CIOTimer *__cdecl std::copy_backward<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, CIOSocket::CIOTimer *_Dest); // idb
CMemory **__cdecl sub_42FA20(int a1);
void __cdecl std::_Destroy_range<CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last);
int __cdecl std::_Destroy_range<std::allocator<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>>(int a1, int a2);
_DWORD *__cdecl std::_Copy_backward_opt<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,std::forward_iterator_tag>(_DWORD *a1, _DWORD *a2, _DWORD *a3);
void __stdcall sub_42FAF0(void *a1, int a2);
void __cdecl std::_Construct<CIOSocket::CIOTimer,CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_Ptr, const CIOSocket::CIOTimer *_Val); // idb
void *__thiscall sub_42FB60(void *this);
// int __thiscall unknown_libname_14(_DWORD); weak
void *__thiscall sub_42FBA0(void *this);
int __thiscall sub_42FBD0(int *this);
int __thiscall sub_42FBF0(int *this);
int __thiscall sub_42FC10(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FCC0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_42FD60(int *this);
int __thiscall sub_42FD80(int *this);
int __thiscall sub_42FDA0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FE50(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall lisp::var::operator=(_DWORD *this, int a2);
int __thiscall sub_42FF10(const char **this);
unsigned int __thiscall sub_42FF30(const char **this);
int __thiscall lisp::_cons::length(lisp::_cons *this); // idb
_DWORD *__thiscall sub_42FFB0(_DWORD *this);
void __thiscall CLog::CInit::~CInit(CLog::CInit *this); // idb
void __cdecl CLog::AddV(int nType, char *format, char *va); // idb
// int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);
// int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD); weak
void __thiscall CLog::Flush(void *this);
void LOG_INFO(char *format, ...); // idb
void LOG_NORMAL(char *format, ...); // idb
void LOG_ERR(char *format, ...); // idb
int sub_4303F0();
void __thiscall sub_430990(int this);
_DWORD *sub_4309B0();
const char *__cdecl GetStr(int nIndex); // idb
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_430A30(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, int a3);
_DWORD *__thiscall sub_430BE0(int *this);
// _DWORD __stdcall _lambda_9ab38a79c03e1e04423ad6818173354b_::_lambda_9ab38a79c03e1e04423ad6818173354b_(_DWORD, _DWORD); weak
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result); // idb
int __stdcall sub_430CA0(void *); // idb
void *__thiscall sub_430D20(int *this, void *a2, char a3, int a4, int a5);
int __cdecl sub_431160(int a1);
std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Lbound(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval); // idb
CMemory **__stdcall sub_431200(int a1, int a2, int a3, int a4, char a5);
void __stdcall sub_431280(void *a1);
// _DWORD __stdcall unknown_libname_16(_DWORD); weak
CMemory **__stdcall sub_4312C0(int a1);
int __thiscall sub_4312E0(int *this);
void *__thiscall std::_Tree_nod<std::_Tmap_traits<std::string,void *,std::less<std::string>,std::allocator<std::pair<std::string const,void *>>,0>>::_Node::_Node(void *this, int a2, int a3, int a4, int a5, char a6);
char *__thiscall std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>(char *this, int a2);
// void __cdecl __ExceptionPtrDestroy(void *); idb
CMemory **__cdecl sub_431450(int a1);
void *__thiscall sub_431470(void *this, char a2);
void __thiscall sub_4314A0(void *this);
std::string *__thiscall sub_4314C0(std::string *this, char *Str);
void __thiscall std::string::string(std::string *this); // idb
void *__thiscall sub_431510(void *this);
void *__thiscall sub_431540(void *this, _BYTE *a2, int a3);
int *__thiscall sub_431580(int *this);
int __thiscall sub_4315F0(int *this);
int __thiscall sub_431610(int *this);
int __thiscall sub_431630(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4316E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_431780(int *this, _DWORD *a2, int a3);
int *__thiscall sub_431F10(int *this, int *a2, int a3);
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd);
ATOM __cdecl MyRegisterClass(HINSTANCE__ *hInstance);
int __cdecl sub_4320D0(HINSTANCE hInstance, int nCmdShow); // idb
int sub_432180();
// LRESULT __userpurge sub_432220@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, HWND hWndParent, UINT Msg, WPARAM wParam, LPARAM lParam);
int __stdcall About(HWND__ *hDlg, unsigned int message, unsigned int wParam, int lParam); // idb
// INT_PTR __userpurge sub_4327E0@<eax>(DWORD a1@<ebx>, DWORD a2@<esi>, HWND hDlg, UINT a4, WPARAM a5, LPARAM a6);
// unsigned int __userpurge sub_432A40@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *a4);
// unsigned int __userpurge sub_432C50@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *a4);
std::string *__thiscall sub_432D10(std::string *this, const std::string *a2);
std::string *__thiscall std::string::append(std::string *this, const std::string *_Right, unsigned int _Roff, unsigned int _Count); // idb
void *__thiscall CMemory::CInit::CInit(void *this);
void __thiscall CMemory::CMemory(CMemory *this); // idb
int __thiscall CMemory::_heap_init(CMemory *this); // idb
int __thiscall CMemory::__sbh_heap_init(CMemory *this, unsigned int threshold); // idb
CMemory **__cdecl CMemory::_malloc(unsigned int size);
_DWORD *__thiscall CMemory::_heap_alloc_base(CMemory *this, unsigned int size);
_DWORD *__thiscall CMemory::__sbh_alloc_block(CMemory *this, int intSize);
CMemory::tagHeader *__thiscall CMemory::__sbh_alloc_new_region(CMemory *this); // idb
int __thiscall CMemory::__sbh_alloc_new_group(CMemory *this, CMemory::tagHeader *pHeader); // idb
void __cdecl CMemory::_free(void *pBlock); // idb
void __thiscall CMemory::_free_base(CMemory *this, void *pBlock); // idb
CMemory::tagHeader *__thiscall CMemory::__sbh_find_block(CMemory *this, void *pvAlloc); // idb
void __thiscall CMemory::__sbh_free_block(CMemory *this, CMemory::tagHeader *pHeader, void *pvAlloc); // idb
CMemory **__cdecl CMemory::_realloc(void *pBlock, unsigned int newsize);
void *__thiscall CMemory::_realloc_base(CMemory *this, void *pBlock, unsigned int newsize); // idb
int __thiscall CMemory::__sbh_resize_block(CMemory *this, CMemory::tagHeader *pHeader, void *pvAlloc, int intNew); // idb
void *__cdecl sub_4347B0(size_t Size);
void __thiscall sub_4347D0(int this);
void __thiscall sub_4347F0(int this);
int __stdcall sub_434810(int a1, int a2, int a3, int (__thiscall *a4)(int));
char *__thiscall sub_434840(char *this);
// void *__userpurge sub_434950@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_434980@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
char *sub_4349C0();
int __thiscall sub_434A00(int this, int a2, int a3);
int __thiscall CInitMonster::OnLoad(int this);
// void __userpurge sub_4351D0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, int a7, int a8, int *a9, int a10);
// void __userpurge sub_435310(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9);
BOOL __thiscall CSMap::IsValidTile(_DWORD *this, int *a2, int a3);
BOOL __thiscall CCellMap::IsValidTile(_DWORD *this, _DWORD *a2, int a3, char a4);
int __thiscall CCellMap::GetTile(_DWORD *this, _DWORD *a2);
int __thiscall sub_435780(_DWORD *this, int *a2);
_DWORD *__thiscall sub_4357B0(_DWORD *this);
// _DWORD *__userpurge sub_435850@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_435880@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__thiscall sub_4358A0(_DWORD *this, _DWORD *a2, int a3, int a4, int a5);
_DWORD *CGenMonster::Copy();
int __thiscall CGenMonster::Set(_DWORD *this, int a2, char a3);
int __thiscall CGenMonster::OnLoad(int this);
// void __userpurge CGenMonster::OnTimer(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int *__thiscall sub_435D60(_DWORD *this, int *a2, int a3);
// void __usercall CGenMonster::Stop(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int __thiscall CMonsterObject::CMonsterObject(int this);
_DWORD *__thiscall sub_435F40(_DWORD *this);
void *__thiscall sub_435F60(void *this, char a2);
void __thiscall CNPCObject::_CNPCObject(void *);
// void __userpurge sub_435FC0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
_DWORD *__thiscall CLink::MoveTo(_DWORD *this, int a2);
// void __userpurge CMonsterObject::Insert(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, CLink *a5);
void __thiscall CLink::Insert(CLink *this, CLink *pLink); // idb
// int __usercall sub_436220@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_4362B0(int this);
// int __thiscall unknown_libname_18(_DWORD); weak
void __stdcall sub_436390(int a1, int a2, int a3);
char *sub_4363A0();
void __stdcall sub_4363B0(int a1, int a2, int a3, int a4);
// _DWORD *__userpurge sub_4363C0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_4363F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CChar::GetDefense(_DWORD *this, int a2);
int __thiscall CChar::GetAbsorb(_DWORD *this);
int __thiscall sub_436490(_DWORD *this, int a2);
int __thiscall sub_4364B0(int this, _DWORD *a2);
// void __usercall CMonster::Start(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __usercall CMonster::Stop(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
LONG sub_4366C0();
char *__cdecl sub_4366D0(int a1, _DWORD *a2);
char *__thiscall sub_436900(char *this, _DWORD *a2);
int __thiscall sub_436930(_DWORD *this);
int __thiscall sub_436950(_DWORD *this, int a2, int a3);
// void *__userpurge sub_436980@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_4369B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// _DWORD *__usercall sub_4369D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_436A10(int *this);
_DWORD *__thiscall sub_436A30(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_436A60(_DWORD *this, _DWORD *a2);
// _DWORD *__userpurge sub_436A90@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_436AC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// _DWORD *__userpurge sub_436AE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_436B10@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__thiscall sub_436B30(_DWORD *this);
_DWORD *__thiscall sub_436B50(_DWORD *this);
int __thiscall sub_436B70(_DWORD *this);
char *__thiscall sub_436B90(char *this);
_DWORD *__thiscall sub_436BB0(_DWORD *this, _DWORD *a2);
// _DWORD *__userpurge sub_436BE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_436C10@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__thiscall sub_436C30(_DWORD *this, _DWORD *a2);
// int __usercall sub_436C60@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
int __thiscall CChar::GetMaxHP(_DWORD *this);
// CIOObject *__usercall sub_436ED0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// volatile int *__usercall sub_436F50@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_436FF0(Concurrency::details::_CancellationTokenRegistration *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_4370A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_4370D0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_437170@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_4371C0(int this, int a2);
// int __usercall sub_437200@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_437220(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall CMonster::Remove(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __usercall sub_4372D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
void __thiscall CLink::Remove(CLink *this); // idb
char *__thiscall sub_437340(char *this);
// void *__userpurge sub_437430@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
char *__thiscall sub_437460(char *this, _DWORD *a2);
// void __usercall sub_437560(Concurrency::details::_CancellationTokenRegistration *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_437610(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_4376F0@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int *a7, _DWORD *a8, int *a9, int a10);
int __thiscall sub_437890(_DWORD *this, _DWORD *a2, int a3, int a4);
// void __userpurge sub_4379B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
int __thiscall CMonsterReal::ReviseProperty(_DWORD *this);
int __stdcall CChar::GetMaxMP(_DWORD *);
// int __userpurge sub_437AD0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_437B30(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7);
// void __usercall sub_437C30(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7, int a8);
int __thiscall CChar::GetStr(_DWORD *this);
int __thiscall CChar::GetHth(_DWORD *this);
int __thiscall CChar::GetInt(_DWORD *this);
int __thiscall CChar::GetWis(_DWORD *this);
int __thiscall Char::GetDex(_DWORD *this);
// void __usercall sub_438A60(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7, int a8);
// void __userpurge sub_439900(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_439940(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
BOOL __thiscall sub_439990(int *this, _DWORD *a2);
int __thiscall CFindPath::Init(_DWORD *this, int a2, int a3, int a4);
// void __userpurge sub_439A90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
// void __usercall sub_439AD0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_439B50(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_439C10(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge sub_439CE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// void __userpurge sub_439EE0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
int __thiscall sub_439F50(int *this, int a2);
// void __userpurge sub_439FE0(DWORD a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int *a7, int *a8);
// void __usercall sub_43A090(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
__int64 __cdecl sub_43A380(_DWORD *a1, _DWORD *a2);
int __thiscall CChar::GetASpeed(_DWORD *this);
int __thiscall CChar::GetAttack(_DWORD *this);
int __thiscall CChar::GetMinAttack(_DWORD *this);
int __thiscall CChar::GetMaxAttack(_DWORD *this);
BOOL __thiscall sub_43A510(int this, _DWORD *a2, int a3);
int __thiscall CChar::GetHit(_DWORD *this);
int __thiscall CChar::GetDodge(_DWORD *this);
// int __usercall sub_43A690@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge sub_43A9B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5);
// int __userpurge CSMap::IsMoveTile@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int Number, int a8, int a9);
// int __userpurge CellMap::IsMoveTile@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, _DWORD *a6, int a7, int a8);
// struct Concurrency::details::_CancellationTokenState *__thiscall Concurrency::details::_CancellationTokenRegistration::_GetToken(Concurrency::details::_CancellationTokenRegistration *__hidden this); idb
int __thiscall CCellMap::GetLock(_DWORD *this, int *a2);
// int __userpurge sub_43ADB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, unsigned int *a6);
BOOL __thiscall sub_43B180(_DWORD *this);
int __thiscall sub_43B1A0(_DWORD *this);
int __thiscall CFindPath::SetNextPath(_DWORD *this);
// Concurrency::details::_CancellationTokenRegistration *__usercall sub_43B200@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CMonsterReal::ManageBuff(_QWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge CMonsterReal::ApplyDamage@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7, int *a8, _DWORD *a9, int *a10, int a11);
int __thiscall CChar::GetFatalDamage(int this, int a2, _DWORD *a3, int a4);
// int __userpurge sub_43B480@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
// void __userpurge sub_43B550(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_43B5F0@<eax>(DWORD a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int *a6, int *a7);
int __thiscall sub_43BA00(int *this);
// void __usercall sub_43BA20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge sub_43BAC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int *a7, _DWORD *a8, int *a9, int a10);
// DWORD __userpurge sub_43BC30@<eax>(DWORD a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int *a7, int *a8);
int __thiscall sub_43BCF0(int this);
int __thiscall sub_43BD50(_DWORD *this);
int __thiscall sub_43BD70(int this, int a2, int a3);
// int __usercall sub_43BE20@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __usercall sub_43C0A0(Concurrency::details::_CancellationTokenRegistration *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_43C170(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
// void __usercall sub_43C1C0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_43C310(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_43C660(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_43C9A0(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
_DWORD *__thiscall sub_43CA30(_DWORD *this, int a2, int a3, int a4, int a5);
int __thiscall sub_43CAF0(_DWORD *this, int a2, int a3);
// int __usercall sub_43CB80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __stdcall CMonsterNotReal::AddBuff(_DWORD *a1);
// int __userpurge sub_43CC40@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int *a7, _DWORD *a8, _DWORD *a9, int a10);
int __thiscall sub_43CDB0(_DWORD *this, int a2);
// void __userpurge sub_43CE00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
int __thiscall sub_43CE40(int this, int a2, int a3, int a4, int a5, char *Source);
// _DWORD *__usercall sub_43CEC0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, int a7, int a8, char *Source, int a10);
BOOL __thiscall sub_43D160(_DWORD *this, int a2);
// int __userpurge sub_43D180@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int *a7, _DWORD *a8, _DWORD *a9, int a10);
int __thiscall sub_43D380(char *this, int a2);
// void __usercall sub_43D3E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_43D490(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source);
// int __userpurge sub_43D4D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10);
// void __usercall sub_43D6C0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_43D810(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_43D880(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__thiscall sub_43D900(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
// _DWORD *__usercall sub_43D970@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int *a6, int a7, int a8, int a9, int a10);
// void __usercall sub_43DBA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_43DC70(int this, int a2);
// void __userpurge sub_43DCC0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
void *__thiscall sub_43DD50(void *this);
void __thiscall sub_43DD80(std::vector<CIOSocket::CIOTimer> *this);
BOOL __thiscall sub_43DDA0(std::vector<CIOSocket::CIOTimer> *this);
CIOSocket::CIOTimer *__thiscall sub_43DDC0(int this, int *a2);
void __thiscall sub_43DE30(std::vector<IPAddrMask> *this);
IPAddrMask *__thiscall sub_43DE50(int this, int *a2);
void *__thiscall sub_43DEC0(void *this);
int __thiscall sub_43DEF0(int *this);
BOOL __thiscall sub_43DF10(void *this);
int __thiscall sub_43DF30(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int *a2);
_DWORD *__thiscall sub_43DF90(int *this);
std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *result, const int *_Keyval); // idb
_DWORD *__thiscall sub_43E080(int *this);
int __thiscall sub_43E0E0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2);
_DWORD *__thiscall sub_43E140(int *this);
int __thiscall sub_43E1A0(int *this);
void __thiscall std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(std::pair<char const * const,CItem *> *this, const char *const *_Val1, CItem *const *_Val2); // idb
int __thiscall sub_43E1F0(void *this);
_DWORD *__thiscall sub_43E210(int *this, _DWORD *a2, int a3);
void *__thiscall sub_43E240(void *this);
int __thiscall sub_43E270(int *this);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_43E290(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const std::pair<char const * const,CItem *> *a3);
_DWORD *__thiscall sub_43E440(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4);
void __thiscall std::vector<CIOSocket::CIOTimer>::_Tidy(std::vector<CIOSocket::CIOTimer> *this); // idb
CIOSocket::CIOTimer *__thiscall std::vector<CIOSocket::CIOTimer>::_Ufill(std::vector<CIOSocket::CIOTimer> *this, CIOSocket::CIOTimer *_Ptr, unsigned int _Count, const CIOSocket::CIOTimer *_Val); // idb
_DWORD *__thiscall sub_43E560(int *this, _DWORD *a2, IPAddrMask *a3, int *a4);
char __thiscall std::vector<IPAddrMask>::_Buy(std::vector<IPAddrMask> *this, unsigned int _Capacity);
void __thiscall std::vector<IPAddrMask>::_Tidy(std::vector<IPAddrMask> *this); // idb
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43E6D0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_43E770(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, int *a3);
int __stdcall sub_43E7B0(void *a1);
int __thiscall sub_43E830(int *this);
BOOL __stdcall sub_43E8E0(_DWORD *a1, _DWORD *a2);
int __stdcall sub_43E900(void *a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43E980(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __stdcall sub_43EA20(void *a1);
int __thiscall sub_43EAA0(int *this);
unsigned int __thiscall sub_43EB50(std::allocator<CIOSocket::CIOTimer> *this);
void __thiscall sub_43EB70(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4);
unsigned int __thiscall sub_43EE50(std::allocator<std::pair<char const * const,CItem *> > *this);
int __stdcall sub_43EE70(int a1, int a2);
void __thiscall sub_43EEA0(int this, IPAddrMask *a2, unsigned int a3, int *a4);
void *__thiscall sub_43F170(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, void *a2, const int *a3);
_DWORD *__thiscall sub_43F1A0(int *this);
int __thiscall std::vector<CIOSocket::CIOTimer>::iterator::operator-(std::vector<CIOSocket::CIOTimer>::iterator *this, const std::vector<CIOSocket::CIOTimer>::const_iterator *_Right); // idb
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43F230(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_43F2D0(int *this, _DWORD *a2);
std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Ubound(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval); // idb
int __stdcall sub_43F390(void *a1);
int __thiscall sub_43F410(int *this, _DWORD *a2);
_DWORD *__thiscall sub_43F4A0(int *this);
// _DWORD __stdcall unknown_libname_19(_DWORD); weak
int __stdcall sub_43F520(void *a1);
void *__cdecl sub_43F5A0(void *a1, int a2, int a3);
_DWORD *__cdecl sub_43F5E0(_DWORD *a1, _DWORD *a2, _DWORD *a3);
_DWORD *__cdecl sub_43F620(_DWORD *a1, _DWORD *a2, _DWORD *a3);
void *__cdecl sub_43F660(void *a1, int a2, int a3);
_DWORD *__cdecl std::_Copy_backward_opt<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(_DWORD *a1, _DWORD *a2, _DWORD *a3);
void *__cdecl sub_43F700(int a1, int a2, void *a3);
void __stdcall sub_43F740(void *a1, int a2);
void __cdecl std::_Construct<IPAddrMask,IPAddrMask>(IPAddrMask *_Ptr, const IPAddrMask *_Val); // idb
void *__thiscall sub_43F7A0(void *this);
// _DWORD __stdcall unknown_libname_20(_DWORD); weak
void *__thiscall sub_43F7E0(void *this);
void *__thiscall sub_43F810(void *this);
int __thiscall sub_43F840(int *this);
int __thiscall sub_43F860(int *this);
int __thiscall sub_43F880(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43F930(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_43F9D0(int *this);
int __thiscall sub_43F9F0(int *this);
int __thiscall sub_43FA10(int *this);
int __thiscall sub_43FAC0(int *this);
int __thiscall sub_43FAE0(int *this);
int __thiscall sub_43FB00(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43FBB0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall CInitNPC::CInitNPC(_DWORD *this);
// _DWORD *__userpurge sub_43FC90@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_43FCC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
BOOL CInitNPC::Close();
_DWORD *CInitNPC::Copy();
int __thiscall CInitNPC::Set(_DWORD *this, int a2, char a3);
int __thiscall sub_43FE20(int this);
_DWORD *__thiscall sub_43FE80(_DWORD *this);
// _DWORD *__userpurge sub_43FF70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_43FFA0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
BOOL sub_43FFC0();
_DWORD *sub_440040();
int __thiscall sub_440080(_DWORD *this, int a2, int a3);
int __thiscall sub_440420(int this);
int __thiscall sub_440480(int this);
// void __userpurge sub_4404E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge CNPCObject::Insert(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, CLink *a5);
int __thiscall sub_4406A0(int this, _DWORD *a2);
BOOL __thiscall sub_440740(_DWORD *this, _DWORD *a2);
int __cdecl sub_440790(_DWORD *a1, _DWORD *a2);
// _DWORD *__userpurge sub_4407F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_440820@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_440840(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4);
_DWORD *__thiscall sub_440AD0(_DWORD *this, _DWORD *a2);
// _DWORD *__usercall sub_440B00@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__thiscall sub_440B20(_DWORD *this, _DWORD *a2);
BOOL __thiscall sub_440B50(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_440B80(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_440BD0(_DWORD *this, _DWORD *a2);
// _DWORD *__userpurge sub_440C20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
LONG sub_440C50();
// void __usercall CNPC::Start(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// int __usercall sub_440CD0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// volatile int *__usercall CNPC::FindNPC@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// int __usercall sub_440D60@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __usercall sub_440DF0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __usercall sub_440E80(Concurrency::details::_CancellationTokenRegistration *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_440ED0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_440F00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_440F70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_440FB0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_440FF0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __usercall sub_4410E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// LONG __usercall CNPC::Remove@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
void __thiscall sub_4411A0(_DWORD *this, int a2, _DWORD *a3);
// void __userpurge sub_441200(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4412E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall CNPCScenario::MirrorGState(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __usercall CNPCScenario::ThroneGState(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __usercall CNPCScenario::ResetBossTower(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_441490(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_441550(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_4415A0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_441740(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_4417F0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2);
void *__thiscall sub_441850(int *this, void *a2, _DWORD *a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_441880(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
// _DWORD __cdecl unknown_libname_21(_DWORD); weak
void __stdcall sub_441930(void *a1, int a2);
int *__thiscall sub_441950(int *this, int a2);
int *__thiscall sub_441A80(int *this, int a2);
_DWORD *__thiscall sub_441BB0(int *this);
int __stdcall sub_441C10(void *a1);
int __cdecl sub_441C90(int a1);
void *__thiscall sub_441CD0(void *this);
void __stdcall sub_441D00(int a1);
void *__thiscall sub_441D20(void *this);
void *__thiscall sub_441D50(void *this);
int __thiscall sub_441D80(int *this);
int __thiscall sub_441DA0(int *this);
int __thiscall sub_441DC0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_441E70(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_441F10(int *this);
int __stdcall sub_441F70(void *a1);
int __thiscall sub_441FF0(int *this);
int __thiscall sub_442010(int *this);
int __thiscall sub_442030(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4420E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_442180(int *this);
int __stdcall sub_4421E0(void *a1);
int __thiscall sub_442260(int *this);
int __thiscall sub_442280(int *this);
int __thiscall sub_4422A0(int *this);
int sub_442350();
int __thiscall CObjectDB::Open(int this, char *FileName);
int __cdecl CObjectDB::FindSymbol(int a1);
int __thiscall CObjectDB::Load(void *this, int a2);
_DWORD *__stdcall sub_442CC0(_DWORD *a1, int a2);
// void __usercall CObjectDB::Close(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
LONG sub_442DC0();
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_442DD0(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const std::pair<char const * const,CItem *> *a3);
int *__thiscall sub_442F90(int *this);
int *__thiscall sub_442FB0(int *this);
unsigned int __thiscall std::allocator<std::pair<char const * const,CItem *>>::max_size(std::allocator<std::pair<char const * const,CItem *> > *this); // idb
CMemory **__stdcall sub_443000(int a1);
int __thiscall sub_443020(int *this);
void *__thiscall sub_4430E0(void *this);
void *__thiscall std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(void *this, _BYTE *a2, char a3);
void *__thiscall sub_443140(void *this);
_DWORD *__thiscall CQuest::CQuest(_DWORD *this);
// _DWORD *__userpurge sub_4431C0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
int sub_4431F0();
int __thiscall sub_443290(int *this);
int __thiscall sub_4432B0(int *this);
int __thiscall sub_4432D0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_443380(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_443420(int *this);
int __stdcall sub_443480(void *a1);
int __thiscall sub_443500(int *this);
int __thiscall sub_443520(int *this);
int __thiscall sub_443540(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4435F0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_443690(int *this);
int __stdcall sub_4436F0(void *a1);
// int __userpurge sub_443770@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void *__userpurge sub_443820@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall Party::_CParty@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// volatile int *__usercall sub_443890@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_443900(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5);
// void __usercall sub_4439D0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __usercall CParty::OnFree(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_443A50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall CParty::Add(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall CParty::Remove(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge CParty::IsHead@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall CParty::IsMember(int *this, int a2);
int __thiscall CParty::FindTopLevel(int *this);
// void __userpurge sub_443D80(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_443ED0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_444150(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_444170(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_4443D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, _DWORD *a7);
// void __userpurge sub_4447A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_444900(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_444970(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge CParty::Broadcast(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src, int a6);
// void __userpurge CParty::_Broadcast(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src, int a6);
// volatile int *__usercall sub_444AB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge CParty::Teleport@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge CParty::StoreItem@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_444C90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_444F60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6);
// void __userpurge sub_445070(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9);
// _DWORD *__userpurge sub_4451F0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int *a6);
// CMemory **__usercall CParty::GetPlayerList@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// CMemory **__usercall CParty::_GetPlayerList@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge sub_4453A0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
void *__thiscall sub_4454D0(void *this);
int __thiscall sub_445500(int *this, int a2, void *a3);
int __thiscall sub_445560(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2);
_DWORD *__thiscall sub_4455C0(int *this, _DWORD *a2, int a3);
char __thiscall std::vector<unsigned long>::_Buy(std::vector<unsigned long> *this, unsigned int _Capacity);
void __stdcall sub_445670(unsigned int *a1, unsigned int *a2);
void __thiscall std::vector<unsigned long>::_Tidy(std::vector<unsigned long> *this); // idb
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_445710(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_4457B0(_DWORD *this);
_DWORD *__thiscall sub_4457D0(int *this, _DWORD *a2, int a3);
unsigned int __thiscall sub_445800(std::allocator<unsigned long> *this);
_DWORD *__thiscall sub_445820(int *this);
std::vector<unsigned long>::iterator *__thiscall std::vector<unsigned long>::iterator::operator+=(std::vector<unsigned long>::iterator *this, int _Off); // idb
int __thiscall sub_4458A0(int *this, _DWORD *a2);
unsigned int __thiscall std::allocator<unsigned long>::max_size(std::allocator<unsigned long> *this); // idb
int __stdcall sub_445900(void *a1);
int __thiscall sub_445980(_DWORD *this, _DWORD *a2);
_DWORD *__cdecl sub_4459A0(_DWORD *a1, int a2);
int __cdecl sub_4459C0(void *Src, int, void *); // idb
void __cdecl std::_Destroy_range<unsigned long>(unsigned int *_First, unsigned int *_Last);
void __cdecl std::_Uninitialized_fill_n<unsigned long *,unsigned int,unsigned long,std::allocator<unsigned long>>(unsigned int *_First, unsigned int _Count, const unsigned int *_Val);
unsigned int *__stdcall sub_445A80(void *Src, int a2, void *a3);
// int __cdecl unknown_libname_22(void *Src, int, void *); idb
BOOL __cdecl std::_Distance2<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(int a1, char a2, _DWORD *a3);
void *__cdecl std::_Copy_backward_opt<unsigned long *,unsigned long *>(void *Src, int a2, int a3);
void *__thiscall sub_445B70(void *this);
int __thiscall sub_445BA0(int *this);
int __thiscall sub_445BC0(int *this);
int __thiscall sub_445BE0(int *this);
// CMemory **__usercall sub_445C90@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char a4, ...);
int __cdecl sub_445CF0(int a1, int a2);
// void __userpurge sub_445D80(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_445ED0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5, int a6, int a7);
// void __userpurge sub_4463E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src);
void __thiscall CPlayer::SendMove(void *this, void *a2, void *Src);
// void *__userpurge sub_446440@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_446470@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_446580(int *this);
int __thiscall sub_4465A0(int *this);
int __thiscall sub_4465C0(int *this);
int __thiscall sub_4465E0(int *this);
int __thiscall sub_446600(int *this);
int __thiscall sub_446620(int *this);
int __thiscall sub_446640(int *this);
// void __usercall CPlayer::Start(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// CIOObject *__usercall sub_4466C0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// CIOObject *__usercall sub_446740@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// CIOObject *__usercall sub_4467C0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_446840(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char a4, ...);
// void __usercall sub_446920(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, ...);
// void __usercall sub_446A00(DWORD a1@<ebx>, DWORD a2@<esi>);
// void __usercall sub_446D70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_446D90(int a1@<ecx>, DWORD a2@<ebx>, volatile int **a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_447240(_DWORD *this, char a2);
int __thiscall sub_447260(_DWORD *this, int a2);
int __thiscall sub_447290(_DWORD *this, int a2);
// void __userpurge sub_4472B0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src);
// void __userpurge sub_4472F0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src);
// void __usercall sub_447450(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge sub_447490@<eax>(volatile LONG *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5, int a6, int *a7, _DWORD *a8, int *a9, int a10);
// void __userpurge sub_447B50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
int __thiscall sub_447B80(_DWORD *this);
// void __userpurge sub_447C00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_447C50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_447C90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_447CE0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_447D20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_447D70(_DWORD *this, int a2);
int __thiscall CPlayer::GetFinalAbsorb(_DWORD *this, int a2);
int __thiscall sub_447E30(_DWORD *this, int a2, int a3);
int __thiscall CPlayer::GetMSpeed(int this, int a2);
BOOL __thiscall sub_447F40(_DWORD *this);
BOOL __thiscall sub_447F60(_DWORD *this, int *a2);
int __thiscall sub_448140(_DWORD *this, int a2);
// void __userpurge sub_448160(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __usercall sub_4481B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// LONG __usercall sub_4483E0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_448470(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_448A40(_DWORD *this);
int __thiscall sub_448A80(_DWORD *this);
// void __usercall sub_448AC0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __userpurge sub_448C30(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src);
// void __usercall sub_448C90(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, ...);
// void __userpurge sub_448D00(unsigned int a1@<ecx>, DWORD a2@<ebx>, char *a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_44BB00(_DWORD *this, int a2);
// int __userpurge sub_44BB80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _BYTE *a5);
_DWORD *__thiscall sub_44C630(_DWORD *this);
_DWORD *__thiscall sub_44C660(_DWORD *this);
// int __usercall sub_44C6D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall CChar::GetMinMagic(_DWORD *this);
int __thiscall CChar::GetMaxMagic(_DWORD *this);
// void __usercall sub_44CA70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_44CDB0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __thiscall Concurrency::details::SchedulingRing::Id(Concurrency::details::SchedulingRing *__hidden this); idb
// void __userpurge sub_44CEA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_44D000(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, __int64 a7);
// void __usercall sub_44E040(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7, int a8);
// void __usercall sub_44F900(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7, int a8);
// void __userpurge sub_450F40(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __usercall sub_4511D0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_451260(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int *a6, int a7, int a8);
int __thiscall CSMap::IsOnTile(_DWORD *this, int *a2, int a3);
int __thiscall CCellMap::IsOnTile(_DWORD *this, _DWORD *a2, int a3);
// void __userpurge sub_4513F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_451660@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4516D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_451720@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
int __thiscall sub_451770(int this, int a2, int a3);
int __thiscall sub_451800(int this, int a2);
// void __userpurge sub_451880(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, void *Src, int a9);
// void __userpurge sub_451B20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, void *Src, int a8);
// void __userpurge sub_451CD0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_451EB0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_451F80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// void __userpurge sub_452030(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_452140(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4521F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_4522B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6);
// int __userpurge sub_452300@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6);
int __thiscall sub_452430(char *this);
// void __userpurge sub_452460(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_452570(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_452640(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_4527C0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __usercall sub_452880(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// int __userpurge sub_4528E0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_452930(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_452B90(_DWORD *this);
int __thiscall CTrade::GetOther(_DWORD *this, int a2);
// void __usercall sub_452BF0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_452C50(int *this);
// BOOL __userpurge sub_452D40@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *a5);
// void __userpurge sub_452EB0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
int __thiscall sub_452F60(int *this, int a2, int a3);
int __thiscall sub_452F90(int this, int a2, _DWORD *a3, int a4, int a5);
// void __usercall sub_453050(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_453160(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, void *Src, int a8);
// void __userpurge sub_453380(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, void *Src, int a8);
// void __userpurge sub_453500(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
char *__thiscall sub_4537C0(char *this, int a2);
// void __userpurge sub_453850(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_4539F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_453AF0(_DWORD *this, int a2);
// void __userpurge sub_453B10(unsigned int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4@<esi>, int a5, int a6, int a7, void *Src, int a9);
int __thiscall sub_453E50(int this);
int __thiscall sub_453E80(int this, int a2);
// void __usercall sub_453EC0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5);
// void __usercall sub_453F10(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __userpurge sub_453F40(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_454110(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __usercall sub_454220(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_454270(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __usercall sub_454300@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_454360(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4543D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// BOOL __userpurge sub_454580@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_454630@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4546C0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_4547B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_454940(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5);
// void __userpurge sub_454970(unsigned int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __usercall sub_454C20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_454DF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5, int a6, int a7, int a8);
// void __userpurge sub_454F00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Str1);
// void __userpurge sub_455530(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Str1);
// void __userpurge sub_458470(volatile LONG *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_458560(_DWORD *this, int a2);
// void __usercall sub_4586F0(volatile LONG *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_4588F0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_458AF0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_458BF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_458CE0(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_459290(unsigned int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src);
// void __usercall sub_4593C0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__thiscall sub_459720(_DWORD *this, int a2);
_DWORD *__thiscall sub_459750(_DWORD *this);
BOOL __thiscall sub_4597A0(_DWORD *this);
// unsigned int __userpurge sub_459850@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_459A50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<esi>);
// void __userpurge sub_459B60(unsigned int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int *__thiscall sub_45AC30(int *this, int a2, int a3, void *Src, int a5, int a6, int a7, int a8);
// void __usercall sub_45ACA0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5);
// void __usercall sub_45ACF0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __userpurge sub_45AD20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
_DWORD *__thiscall sub_45ADF0(_DWORD **this, _DWORD *a2);
// void __userpurge sub_45AE50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
void __thiscall sub_45AE90(_DWORD **this, int a2, int a3);
// void __usercall sub_45AF20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_45AFF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
_DWORD *__thiscall sub_45B0A0(_DWORD *this, int a2, int a3);
// void __userpurge sub_45B100(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, CMemory **a5, int a6);
// int __usercall sub_45B190@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_45B200(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_45B580(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_45B650(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_45B730(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *a6, int a7);
_DWORD *__thiscall sub_45C1E0(_DWORD *this);
int *__thiscall sub_45C220(int *this, int a2, void *Src, int a4);
// int __userpurge sub_45C260@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, char *Str2, int a8, int a9, int a10, int a11, int a12, int a13, int a14);
// void __userpurge sub_45C550(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15);
// void __userpurge sub_45C870(int a1@<ecx>, DWORD a2@<ebx>, int *a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
_DWORD *__thiscall sub_45DAB0(_DWORD *this);
// int __userpurge sub_45DB70@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_45DC20@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// volatile int *__usercall sub_45DDB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_45DE00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
// int __usercall sub_45DE70@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_45DEA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge CPlayer::SetGID(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_45DF00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Source);
// void __userpurge sub_45DF40(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_45DF70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source);
int *__thiscall sub_45DFB0(int *this);
int __thiscall sub_45E000(int *this);
int *__thiscall sub_45E050(int *this);
// int __userpurge sub_45E0A0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_45E130@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_45E3A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_45E5A0(int this);
int __thiscall sub_45E5F0(_DWORD *this);
// int __userpurge CPlayer::AddBuff@<eax>(_QWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5);
// void __usercall sub_45E6D0(int a1@<ecx>, DWORD a2@<ebx>, char *a3@<edi>, DWORD a4@<esi>);
// void __usercall CPlayer::PKBulletinLoad(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _BYTE *a4);
// void __usercall sub_45E8A0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __usercall sub_45EA20(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_45EB40(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_45ECE0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __usercall sub_45EE40(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_45EEA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_45EEF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
BOOL __thiscall sub_45F030(_DWORD *this);
// void __userpurge sub_45F070(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_45F200(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// void __userpurge sub_45F270(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
int __thiscall sub_45F2E0(_DWORD *this);
// void __userpurge sub_45F310(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_45F3A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *a6);
_DWORD *__thiscall sub_45F530(_DWORD *this);
void __thiscall sub_45F570(std::string *this);
// void __userpurge sub_45F590(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
_DWORD *__thiscall sub_45FB30(_DWORD *this, int a2, _DWORD *a3, int a4);
// void __userpurge sub_45FB70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src);
int __thiscall sub_45FC00(_DWORD *this, _DWORD *a2);
// int __usercall sub_45FF40@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_45FFF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8);
// void __userpurge sub_460070(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Str);
// void __userpurge sub_460180(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source);
// void __userpurge sub_4602C0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Str);
// void __userpurge sub_460410(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source);
int __thiscall sub_4604F0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2);
_DWORD *__thiscall sub_460550(int *this, _DWORD *a2, _DWORD *a3);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_4605E0(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const std::pair<char const * const,CItem *> *a3);
int __thiscall sub_4607A0(int *this, const char **a2);
_DWORD *__thiscall sub_460800(int *this, _DWORD *a2, const char **a3);
void *__thiscall sub_460890(void *this);
int __thiscall sub_4608C0(int *this);
int __thiscall sub_4608E0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2);
IPAddrMask *__thiscall sub_460940(int this, int *a2);
void *__thiscall sub_4609B0(void *this);
int __thiscall sub_4609E0(int *this);
// int __thiscall unknown_libname_24(_DWORD);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_460A20(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const void *a3);
int __thiscall sub_460BD0(int *this, _DWORD *a2);
_DWORD *__thiscall sub_460C30(int *this, _DWORD *a2, _DWORD *a3);
void *__thiscall sub_460CC0(void *this);
int __thiscall sub_460CF0(int *this);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_460D10(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const void *a3);
int __thiscall sub_460EC0(int *this, int *a2);
_DWORD *__thiscall sub_460F20(int *this);
void *__thiscall sub_460F80(void *this);
int __thiscall sub_460FB0(int *this);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_460FD0(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, _DWORD *a3);
int __thiscall sub_461180(int *this, _DWORD *a2);
_DWORD *__thiscall sub_4611E0(int *this);
_DWORD *__thiscall sub_461240(int *this, _DWORD *a2, _DWORD *a3);
void *__thiscall sub_4612D0(void *this);
int __thiscall sub_461300(int *this);
int __thiscall sub_461320(int *this, int *a2);
_DWORD *__thiscall sub_461380(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, _DWORD *a2, int *a3);
void *__thiscall sub_461410(void *this);
int __thiscall sub_461440(int *this);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_461460(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const void *a3);
int __thiscall sub_461610(int *this, _DWORD *a2);
_DWORD *__thiscall sub_461670(int *this);
_DWORD *__thiscall sub_4616D0(int *this, _DWORD *a2, _DWORD *a3);
void *__thiscall sub_461760(void *this);
int __thiscall sub_461790(int *this);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_4617B0(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, int a3);
bool __stdcall sub_461960(void *a1, void *a2);
_DWORD *__thiscall sub_461990(int *this, _DWORD *a2, int a3);
int __thiscall sub_462120(int *this, void *a2);
_DWORD *__thiscall sub_462180(int *this, _DWORD *a2, void *a3);
void *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(_DWORD *this, void *a2);
bool __thiscall sub_462240(_DWORD *this);
CMemory ***__thiscall sub_462260(int *this, const void *a2);
_DWORD *__thiscall sub_462290(int *this);
int *__thiscall sub_4622C0(_DWORD *this, int *a2, char a3, const void *a4);
_DWORD *__thiscall sub_4622F0(_DWORD *this, _DWORD *a2, const void *a3);
int *__thiscall sub_462330(int *this, int *a2, int a3);
_DWORD *__thiscall sub_462360(_DWORD *this, _DWORD *a2, _DWORD *a3);
_DWORD *__thiscall sub_462390(_DWORD *this, _DWORD *a2, const void *a3);
_DWORD *__thiscall sub_4623D0(_DWORD *this, _DWORD *a2, const void *a3);
_DWORD *__thiscall sub_462400(_DWORD *this, _DWORD *a2, const void *a3);
int __thiscall sub_462430(int this, const std::string *a2, _DWORD *a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_462470(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_462510(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_4625B0(int *this, void *a2, const char **a3);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_4625E0(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, const char **a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_462620(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_4626C0(int *this);
int __thiscall std::vector<IPAddrMask>::capacity(std::vector<IPAddrMask> *this);
int __thiscall std::vector<IPAddrMask>::size(std::vector<IPAddrMask> *this);
_DWORD *__thiscall sub_4627F0(int *this, _DWORD *a2, IPAddrMask *a3, int *a4);
IPAddrMask *__thiscall std::vector<IPAddrMask>::_Ufill(std::vector<IPAddrMask> *this, IPAddrMask *_Ptr, unsigned int _Count, const IPAddrMask *_Val); // idb
int __cdecl sub_4628A0(int a1);
void *__thiscall sub_4628B0(void *this, _BYTE *a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4628F0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_462990(int *this, void *a2, _DWORD *a3);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_4629C0(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, _DWORD *a3);
void *__thiscall sub_462A00(int *this, void *a2, char a3, int a4, const void *a5);
int __thiscall sub_462E40(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_462EF0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_462F90(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, void *a2, const int *a3);
int __stdcall sub_462FC0(void *a1);
void *__thiscall sub_463040(int *this, void *a2, char a3, int a4, const void *a5);
int *__thiscall sub_463480(int *this, int a2);
int __thiscall sub_4635B0(int *this);
int __cdecl sub_463660(int a1);
void *__thiscall sub_463670(void *this, _BYTE *a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4636B0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_463750(int *this, void *a2, _DWORD *a3);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_463780(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, _DWORD *a3);
int __stdcall sub_4637C0(void *a1);
void *__thiscall sub_463840(int *this, void *a2, char a3, int a4, _DWORD *a5);
int __thiscall sub_463C80(int *this);
int __cdecl sub_463D30(int a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_463D40(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_463DE0(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, int *a3);
int __thiscall sub_463E20(int *this);
int __cdecl sub_463ED0(int a1);
int __cdecl sub_463EE0(int a1);
void *__thiscall sub_463F00(void *this, _BYTE *a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_463F40(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_463FE0(int *this, void *a2, _DWORD *a3);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_464010(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, _DWORD *a3);
int __stdcall sub_464050(void *a1);
void *__thiscall sub_4640D0(int *this, void *a2, char a3, int a4, const void *a5);
int __thiscall sub_464510(int *this);
int __cdecl sub_4645C0(int a1);
int __cdecl sub_4645D0(int a1);
void *__thiscall sub_4645E0(void *this, _BYTE *a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_464620(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_4646C0(int *this, void *a2, void *a3);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_4646F0(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, void *a3);
void *__thiscall sub_464730(int *this, void *a2, char a3, int a4, int a5);
int *__thiscall sub_464B70(int *this, int a2);
int __cdecl sub_464CA0(int a1);
int __cdecl sub_464CE0(int a1);
int *__thiscall sub_464D20(int *this, int a2);
int __thiscall sub_464E50(int *this);
void __stdcall sub_464F00(void *a1);
CMemory ***__thiscall sub_464F20(_DWORD *this, char a2, const void *a3);
_DWORD *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::erase(int this, _DWORD *a2, int a3);
// _DWORD __stdcall unknown_libname_25(_DWORD); weak
void __thiscall std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *this, const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *_Val1, const bool *_Val2); // idb
int *__thiscall sub_4650B0(int *this);
int *__thiscall sub_4650D0(int *this);
int *__thiscall sub_4650F0(int *this);
int *__thiscall sub_465110(int *this);
int *__thiscall sub_465130(int *this);
int *__thiscall sub_465150(int *this);
int *__thiscall sub_465170(int *this);
int *__thiscall sub_465190(int *this);
int *__thiscall sub_4651B0(int *this);
// _DWORD __cdecl unknown_libname_26(_DWORD); weak
int __cdecl sub_4651E0(int a1);
unsigned int __thiscall sub_4651F0(int this);
_DWORD *__thiscall sub_465210(int *this);
int __thiscall sub_465270(int *this);
int __cdecl sub_465290(int a1);
_DWORD *__thiscall sub_4652A0(int *this);
void *__thiscall sub_465300(int *this, void *a2, const char **a3);
int __thiscall sub_465330(int *this, const char **a2);
int __thiscall sub_4653C0(_DWORD *this);
_DWORD *__thiscall sub_4653E0(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_465B70(int *this);
void __thiscall sub_465BD0(int this, IPAddrMask *a2, unsigned int a3, int *a4);
void sub_465EA0();
CMemory **__stdcall sub_465EE0(int a1);
int __cdecl sub_465F00(int a1);
unsigned int __thiscall sub_465F10(int this);
_DWORD *__thiscall sub_465F30(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_4666C0(int *this);
void *__thiscall sub_466720(int *this, void *a2, _DWORD *a3);
int *__thiscall sub_466750(int *this);
int __thiscall sub_4667C0(int *this, _DWORD *a2);
int *__thiscall sub_466850(int *this, int a2);
int *__thiscall sub_466980(int *this, int a2);
CMemory **__stdcall sub_466AB0(int a1, int a2, int a3, const void *a4, char a5);
int sub_466B30();
int __cdecl sub_466B50(int a1);
unsigned int __thiscall sub_466B60(int this);
_DWORD *__thiscall sub_466B80(int *this, _DWORD *a2, int a3);
void *__thiscall sub_467310(int *this, void *a2, _DWORD *a3);
int *__thiscall sub_467340(int *this);
int __thiscall sub_4673B0(int *this, _DWORD *a2);
int *__thiscall sub_467440(int *this, int a2);
int *__thiscall sub_467570(int *this, int a2);
CMemory **__stdcall sub_4676A0(int a1, int a2, int a3, _DWORD *a4, char a5);
_DWORD *__thiscall sub_467720(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_467EB0(int *this);
void *__thiscall sub_467F10(int *this, void *a2, _DWORD *a3);
int *__thiscall sub_467F40(int *this, int a2);
CMemory **__stdcall sub_468070(int a1, int a2, int a3, const void *a4, char a5);
int __cdecl sub_4680F0(int a1);
int sub_468100();
_DWORD *__thiscall sub_468120(int *this, _DWORD *a2, int a3);
void *__thiscall sub_4688B0(int *this, void *a2, _DWORD *a3);
int *__thiscall sub_4688E0(int *this);
int __thiscall sub_468950(int *this, _DWORD *a2);
int *__thiscall sub_4689E0(int *this, int a2);
int *__thiscall sub_468B10(int *this, int a2);
CMemory **__stdcall sub_468C40(int a1, int a2, int a3, const void *a4, char a5);
int sub_468CC0();
_DWORD *__thiscall sub_468CE0(int *this);
void *__thiscall sub_468D40(int *this, void *a2, void *a3);
int *__thiscall sub_468D70(int *this);
int __thiscall sub_468DE0(int *this, void *a2);
CMemory **__stdcall sub_468E70(int a1, int a2, int a3, int a4, char a5);
CMemory **__stdcall sub_468EF0(int a1, int a2, const void *a3);
_DWORD *__thiscall sub_468F60(_DWORD *this, unsigned int a2);
CMemory **__stdcall sub_468FD0(int a1);
int *__thiscall sub_468FF0(int *this);
int *__thiscall sub_469010(int *this);
int *__thiscall sub_469030(int *this, int *a2, int a3);
int *__thiscall sub_469060(int *this);
int *__thiscall sub_469080(int *this);
int *__thiscall sub_4690A0(int *this);
int *__thiscall sub_4690C0(int *this, int *a2, int a3);
int *__thiscall sub_4690F0(int *this);
int *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::const_iterator::operator++(int *this);
int *__thiscall sub_469140(int *this, int *a2, int a3);
int *__thiscall sub_469170(int *this);
int *__thiscall sub_469190(int *this);
void __thiscall std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *this, const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *_Val1, const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *_Val2); // idb
int __stdcall sub_4691E0(void *a1);
int __stdcall sub_469260(void *a1);
int __thiscall sub_4692E0(int *this, const char **a2);
int __stdcall sub_469370(void *a1);
int __stdcall sub_4693F0(void *a1);
int __cdecl sub_469470(int a1);
int __cdecl sub_4694B0(int a1);
int __thiscall sub_4694F0(int *this, _DWORD *a2);
CMemory **sub_469580();
unsigned int __thiscall std::allocator<std::string>::max_size(std::allocator<std::string > *this); // idb
int std::allocator<std::pair<std::string const,void *>>::max_size();
int __cdecl sub_469700(int a1);
int __cdecl sub_469740(int a1);
int __thiscall sub_469780(int *this, _DWORD *a2);
CMemory **sub_469810();
CMemory **__stdcall sub_469930(int a1);
int __stdcall sub_469950(void *a1);
int __cdecl sub_4699D0(int a1);
int __cdecl sub_469A10(int a1);
int __thiscall sub_469A50(int *this, _DWORD *a2);
CMemory **sub_469AE0();
int __cdecl sub_469C00(int a1);
int __cdecl sub_469C40(int a1);
int __thiscall sub_469C80(int *this, _DWORD *a2);
CMemory **sub_469D10();
int sub_469E30();
CMemory **__stdcall sub_469E60(int a1);
int __stdcall sub_469E80(void *); // idb
int __thiscall sub_469F00(int *this, void *a2);
CMemory **sub_469F90();
int std::allocator<CryptoPP::ECPPoint>::max_size();
int sub_46A0E0();
int __thiscall sub_46A100(int *this);
int __thiscall sub_46A1E0(int *this);
int *__thiscall sub_46A2A0(int *this);
int __thiscall sub_46A2C0(int *this);
int __thiscall sub_46A3A0(int *this);
int __thiscall sub_46A460(_DWORD *this, _DWORD *a2);
int *__thiscall sub_46A480(int *this);
int __thiscall sub_46A4A0(int *this);
int __thiscall sub_46A580(int *this);
int __thiscall sub_46A660(int *this);
_DWORD *__thiscall sub_46A720(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6);
_DWORD *__thiscall sub_46A770(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6);
_DWORD *__thiscall sub_46A7C0(_DWORD *this, int a2, int a3, int a4, _DWORD *a5, char a6);
_DWORD *__thiscall sub_46A820(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6);
_DWORD *__thiscall sub_46A870(_DWORD *this, int a2, int a3, int a4, int a5, char a6);
_DWORD *__thiscall sub_46A8C0(_DWORD *this, int a2, int a3, const void *a4);
int __thiscall sub_46A900(int this, int a2);
int sub_46A940();
int *__thiscall sub_46A970(int *this);
int *__thiscall sub_46A990(int *this);
int __thiscall sub_46A9B0(int *this);
int __thiscall sub_46AA70(int *this);
_DWORD *__cdecl sub_46AB30(_DWORD *a1, _DWORD *a2);
int __cdecl sub_46AB50(int a1, char a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14);
BOOL __cdecl std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46ABA0(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46ABD0(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46AC00(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46AC30(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46AC60(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46AC90(int a1, char a2, _DWORD *a3);
// void __cdecl __ExceptionPtrDestroy(void *); idb
int __cdecl sub_46ACD0(int a1, int a2);
void *__stdcall sub_46AD10(int a1, int a2, void *a3);
void __cdecl std::fill<IPAddrMask *,IPAddrMask>(IPAddrMask *_First, IPAddrMask *_Last, const IPAddrMask *_Val); // idb
CMemory **__cdecl sub_46AD70(int a1);
void sub_46AD90();
CMemory **__cdecl sub_46ADA0(int a1);
CMemory **__cdecl sub_46ADC0(int a1);
CMemory **__cdecl sub_46ADE0(int a1);
CMemory **__cdecl sub_46AE00(int a1);
void __cdecl std::_Construct<std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node *,std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node *>(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **_Ptr, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *const *_Val); // idb
void *__thiscall sub_46AE60(void *this, char a2);
void __thiscall sub_46AE90(int this);
BOOL __cdecl sub_46AEB0(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46AEF0(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46AF30(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46AF70(int a1, char a2, _DWORD *a3);
BOOL __cdecl sub_46AFB0(int a1, char a2, _DWORD *a3);
void *__cdecl sub_46AFF0(void *a1, int a2, int a3);
int __cdecl std::_Destroy_range<std::allocator<boost::shared_ptr<boost::asio::detail::win_mutex>>>(int a1, int a2);
_DWORD *__cdecl std::_Copy_backward_opt<IPAddrMask *,IPAddrMask *>(_DWORD *a1, _DWORD *a2, _DWORD *a3);
void __stdcall sub_46B0C0(void *a1, int a2);
void *__cdecl sub_46B0E0(int a1, int a2, void *a3);
void *__thiscall sub_46B150(void *this);
void __stdcall sub_46B180(void *a1, int a2);
void *__thiscall sub_46B1A0(void *this);
CMemory **sub_46B1D0();
void *__thiscall sub_46B2F0(void *this);
int sub_46B330();
CIOObject *__thiscall sub_46B3D0(CIOObject *this);
_DWORD *__thiscall sub_46B3F0(_DWORD *this);
int __thiscall sub_46B410(int *this);
int __thiscall sub_46B430(int *this);
int __thiscall sub_46B450(int *this);
int __thiscall sub_46B500(int *this);
int __thiscall sub_46B520(int *this);
int __thiscall sub_46B540(int *this);
int *__thiscall sub_46B5F0(int *this);
void *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::clear(int *this);
BOOL __thiscall sub_46B6B0(_DWORD *this, int a2);
BOOL __thiscall sub_46B6E0(_DWORD *this, int a2);
BOOL __thiscall sub_46B700(int *this, int a2);
BOOL __thiscall sub_46B760(_DWORD *this, int a2);
// int __userpurge sub_46B790@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// BOOL __userpurge sub_46B850@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// BOOL __userpurge sub_46B880@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_46B8A0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// BOOL __userpurge sub_46B8C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_46B8F0(_DWORD *this, _DWORD *a2);
// void __userpurge sub_46B950(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
void __thiscall sub_46B980(int **this, int a2);
// void __userpurge sub_46B9A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_46BA20(_DWORD *this, int a2);
// BOOL __userpurge sub_46BA50@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_46BB80(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_46BC00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_46BC50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_46BCA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_46BCC0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// int __userpurge sub_46BCE0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_46BD90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
void __stdcall sub_46BDB0(int a1);
int *__thiscall sub_46BDD0(int *this);
int __thiscall CCase::SetCondition(int *this, int a2);
_DWORD *__thiscall sub_46C440(_DWORD *this);
_DWORD *__thiscall sub_46C480(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C4B0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C4E0(_DWORD *this, char a2);
_DWORD *__thiscall sub_46C510(_DWORD *this);
_DWORD *__thiscall sub_46C530(_DWORD *this, char a2);
_DWORD *__thiscall sub_46C560(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C590(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C5C0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C5F0(_DWORD *this, int a2);
void *__thiscall sub_46C620(void *this, char a2);
_DWORD *__thiscall sub_46C650(int this);
_DWORD *__thiscall sub_46C670(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C6A0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C6D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C700(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C730(_DWORD *this, int a2);
_DWORD *__thiscall sub_46C760(_DWORD *this);
// int __userpurge sub_46C780@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4);
_DWORD *__thiscall sub_46CF70(_DWORD *this, int a2);
_DWORD *__thiscall sub_46CFA0(_DWORD *this, char a2);
_DWORD *__thiscall sub_46CFD0(_DWORD *this);
_DWORD *__thiscall sub_46CFF0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D020(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D050(_DWORD *this, char a2);
_DWORD *__thiscall sub_46D080(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D0B0(_DWORD *this);
_DWORD *__thiscall sub_46D0D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D100(_DWORD *this, int a2);
void *__thiscall sub_46D130(void *this, char a2);
_DWORD *__thiscall sub_46D160(int this);
_DWORD *__thiscall sub_46D180(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D1B0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D1E0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D210(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D240(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D270(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D2A0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D2D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_46D300(_DWORD *this, int a2);
int __thiscall sub_46D350(int *this, int a2);
BOOL __thiscall sub_46D3E0(int *this, int a2);
// _DWORD *__usercall sub_46D450@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int *__thiscall sub_46D4F0(int *this, char a2);
// void __usercall sub_46D520(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// CSocket *__usercall CServer::FindSocket@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int nId);
// void __usercall sub_46D610(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
// int __userpurge sub_46D650@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4, char a5);
int __thiscall CQuest::_CQuest(int this);
// int __userpurge CQuest::SetCase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int *a4, int a5);
int __thiscall sub_46D930(int this);
void __thiscall sub_46D990(int *this, int a2);
void *__thiscall sub_46DA30(void *this);
void __thiscall sub_46DA60(std::vector<CSyncPacket::CElement> *this);
CSyncPacket::CElement *__thiscall sub_46DA80(int this, int *a2);
void *__thiscall sub_46DAF0(void *this);
CMemory ***__thiscall sub_46DB30(int *this, _DWORD *a2);
int __thiscall sub_46DB60(int *this);
_DWORD *__thiscall sub_46DB80(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_46DBB0(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4);
char __thiscall std::vector<CSyncPacket::CElement>::_Buy(std::vector<CSyncPacket::CElement> *this, unsigned int _Capacity);
void __thiscall std::vector<CSyncPacket::CElement>::_Tidy(std::vector<CSyncPacket::CElement> *this); // idb
CSyncPacket::CElement *__thiscall std::vector<CSyncPacket::CElement>::_Ufill(std::vector<CSyncPacket::CElement> *this, CSyncPacket::CElement *_Ptr, unsigned int _Count, const CSyncPacket::CElement *_Val); // idb
CMemory ***__thiscall sub_46DD50(_DWORD *this, char a2, _DWORD *a3);
int __cdecl sub_46DDD0(int a1);
void *__thiscall sub_46DDE0(int this, void *a2, char a3, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *a4, const std::pair<char const * const,CItem *> *a5);
unsigned int __thiscall sub_46E220(std::allocator<std::pair<unsigned __int64 const ,std::list<_tag_ChannelUserInfo *> *> > *this);
void __thiscall sub_46E240(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4);
_DWORD *__thiscall sub_46E520(_DWORD *this, unsigned int a2);
CMemory **__stdcall sub_46E590(int a1, int a2, _DWORD *a3);
void *__thiscall std::_List_ptr<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_List_ptr<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(void *this, char a2);
_DWORD *__thiscall sub_46E640(int *this, _DWORD *a2, int a3);
int __thiscall sub_46E670(int *this, _DWORD *a2);
_DWORD *__thiscall sub_46E6A0(_DWORD *this);
unsigned int __thiscall sub_46E6D0(int this);
_DWORD *__thiscall sub_46E6F0(_DWORD *this, int a2, int a3, _DWORD *a4);
int __cdecl sub_46E720(int a1, int a2);
// int __cdecl unknown_libname_27(_DWORD, _DWORD); weak
void *__cdecl sub_46E770(void *a1, int a2, int a3);
void *__cdecl sub_46E7D0(int a1, int a2, void *a3);
void *__cdecl sub_46E810(int a1, int a2, void *a3);
void __cdecl std::_Construct<CSyncPacket::CElement,CSyncPacket::CElement>(CSyncPacket::CElement *_Ptr, const CSyncPacket::CElement *_Val); // idb
void *__thiscall sub_46E8D0(void *this);
int *__thiscall sub_46E900(int *this);
int __thiscall sub_46E970(int *this);
int __thiscall sub_46E990(int *this);
int __thiscall sub_46E9B0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_46EA60(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_46EB00(int *this);
int __stdcall sub_46EB60(void *a1);
void __thiscall CRWLock::CRWLock(CRWLock *this); // idb
// void __usercall CRWLock::~CRWLock(CRWLock *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
LONG __thiscall sub_46EC80(volatile LONG *this);
void __thiscall CRWLock::ReadLock(CRWLock *this); // idb
LONG __thiscall sub_46EED0(volatile LONG *this);
LONG __thiscall sub_46EF00(volatile LONG *this);
// void __usercall CRWLock::ReadUnlock(CRWLock *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
void __thiscall CRWLock::WriteLock(CRWLock *this); // idb
// void __usercall CRWLock::WriteUnlock(CRWLock *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
void __thiscall CScreen::CScreen(CScreen *this); // idb
// void __usercall CScreen::~CScreen(CScreen *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
void __thiscall CScreen::Open(CScreen *this, int nWidth, int nHeight); // idb
void CScreen::Add(CScreen *this, unsigned int color, const char *format, ...); // idb
void __thiscall CScreen::AddString(CScreen *this, unsigned int color, const char *string); // idb
// void __thiscall Concurrency::details::WorkSearchContext::ResetLRCBias(Concurrency::details::WorkSearchContext *__hidden this); idb
void __thiscall CScreen::OnPaint(CScreen *this); // idb
// int __usercall sub_46F490@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __usercall sub_46F4C0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, Concurrency::details::SchedulingRing *a4);
// void __usercall sub_46F550(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, Concurrency::details::SchedulingRing *a4);
int sub_46F5A0();
int sub_46F5B0();
// void __usercall sub_46F5C0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// void __usercall sub_46F620(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// volatile int *__usercall sub_46F6A0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void __usercall sub_46F720(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// _DWORD *__userpurge sub_46F7E0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5);
int __thiscall sub_46F830(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_46F890(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_46F930(int *this);
void *__thiscall sub_46F990(int *this, void *a2, _DWORD *a3);
int __thiscall sub_46F9C0(int *this, _DWORD *a2);
int *__thiscall sub_46FA50(int *this, int *a2, int a3);
int __stdcall sub_46FA80(void *a1);
void *__thiscall sub_46FB00(void *this);
void *__thiscall sub_46FB30(void *this, _BYTE *a2, int a3);
void *__thiscall std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(void *this, _BYTE *a2, char a3);
CIOServer *__thiscall sub_46FBB0(CIOServer *this);
std::numpunct<char> *__thiscall sub_46FBD0(std::numpunct<char> *this, char a2);
void __thiscall sub_46FC00(std::numpunct<char> *this);
int __thiscall sub_46FC20(int *this);
int __thiscall sub_46FC40(int *this);
int __thiscall sub_46FC60(int *this);
_DWORD *__thiscall sub_46FD10(_DWORD *this);
// _DWORD *__userpurge sub_46FDD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_46FE00@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_46FE20(_DWORD *this, int a2, int a3);
int __thiscall CInitSkill::OnLoad(_DWORD *this);
_DWORD *__thiscall sub_470380(_DWORD *this);
LONG __thiscall sub_470400(_DWORD *this);
int sub_470490();
int sub_470500();
int __thiscall sub_4705B0(_DWORD *this, int a2);
void __thiscall sub_4705E0(_DWORD *this, int a2, int a3);
void *__thiscall sub_470690(const void *this);
int __thiscall sub_4706B0(_DWORD *this, int a2, int a3);
// void __userpurge sub_4706D0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_470840(_DWORD *this, int a2, int a3);
// void __userpurge sub_4708A0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_470990(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
int __thiscall sub_470A90(_DWORD *this, int a2, int a3, int a4);
int __thiscall sub_470AE0(_DWORD *this);
int sub_470B30(_DWORD *a1, int a2, ...);
void __thiscall sub_470B70(_DWORD *this, int a2, int a3, int a4);
int __thiscall sub_470C50(_DWORD *this, int a2);
// void __userpurge sub_470DE0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_470FC0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_471120(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
void __thiscall sub_4711B0(_DWORD *this);
void __thiscall sub_471220(_DWORD *this, int a2);
int __thiscall sub_471270(_DWORD *this, int a2, int a3);
// void __usercall sub_4712C0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
_DWORD *__thiscall sub_471420(_DWORD *this);
int __thiscall sub_471460(int this);
int __thiscall sub_4714D0(int *this);
void sub_4714F0();
int sub_471500();
int __thiscall sub_471560(int this, int a2);
int __thiscall sub_4715F0(int this);
BOOL __thiscall sub_471670(int *this, int a2);
// int __userpurge sub_471760@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// _DWORD *__userpurge sub_471830@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5);
_DWORD *__thiscall sub_4718B0(_DWORD *this);
_DWORD *__thiscall sub_4718D0(_DWORD *this);
int __thiscall sub_4719A0(_DWORD *this, int a2);
BOOL __thiscall sub_4719D0(_DWORD *this, int a2, int a3);
BOOL __thiscall sub_471A10(void *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_471AB0(_DWORD *this, int a2);
BOOL __stdcall sub_471B10(int a1, int a2);
BOOL __thiscall sub_471B90(_DWORD *this, int a2);
int __thiscall sub_471BD0(void *this, int a2);
// int __userpurge sub_471C00@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_471CE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_471DA0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __stdcall sub_471EC0(_DWORD *a1, _DWORD *a2);
// void __userpurge sub_471F30(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_472080(_DWORD *this, _DWORD *a2, int a3, int a4);
int __thiscall sub_4721C0(_DWORD *this, _DWORD *a2, int a3, int a4);
int __thiscall sub_472280(_DWORD *this, _DWORD *a2, int a3, int a4);
// void __userpurge sub_4722E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __stdcall sub_472500(int *a1);
BOOL __thiscall sub_472530(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_472580(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_472A10(_DWORD *this, int a2);
int __thiscall sub_472AA0(_DWORD *this, _DWORD *a2);
// int __userpurge sub_472AC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_472AF0(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_472B60@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_472B90(void *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
// int __userpurge sub_472C50@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_472C80(_DWORD *this, _DWORD *a2);
// int __userpurge sub_472CC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_472CF0(int *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
int __thiscall sub_472DF0(void *this, _DWORD *a2, _DWORD *a3, int a4, _DWORD *a5, int a6, unsigned int *a7);
int __thiscall sub_472ED0(_DWORD *this, int a2, int a3);
BOOL __thiscall sub_472F00(_DWORD *this, int a2);
BOOL __thiscall sub_472F70(void *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_472FC0(_DWORD *this, int a2, int a3);
int __thiscall sub_473020(void *this, _DWORD *a2);
BOOL __thiscall sub_473070(_DWORD *this, int a2);
BOOL __thiscall sub_473100(void *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_4731A0(_DWORD *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
int __thiscall sub_4732A0(_DWORD *this, int a2, int a3);
BOOL __thiscall sub_473300(_DWORD *this, int a2);
// void __userpurge sub_473370(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// int __userpurge sub_4734A0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_4734D0(_DWORD *this, int a2, int a3);
int __thiscall sub_473520(_DWORD *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
int __thiscall sub_473640(_DWORD *this, int a2, int a3);
int __thiscall sub_473690(_DWORD *this, int a2, int a3);
int __thiscall sub_473850(_DWORD *this);
BOOL __thiscall sub_473880(_DWORD *this, int a2);
int __thiscall sub_473910(_DWORD *this, int a2, int a3);
int __thiscall sub_473940(void *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
BOOL __thiscall sub_473A60(_DWORD *this, int a2);
// void __userpurge sub_473AC0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_473D50(_DWORD *this);
int __thiscall sub_473D80(void *this, int a2);
int __thiscall sub_473DC0(_DWORD *this, int a2);
int __thiscall sub_473E30(void *this, int a2, int a3, int a4, int a5, int a6);
int __thiscall sub_473E80(void *this, int a2, int a3, int a4, int a5, int a6);
int __thiscall sub_473EF0(void *this, int a2, _DWORD *a3);
int __thiscall sub_473F80(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_474000(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_474080@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_4740C0(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall sub_474150(_DWORD *this, int a2);
// int __userpurge sub_474190@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_4741C0(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_474250(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_4742D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_474310(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall sub_4743A0(_DWORD *this, int a2);
int __thiscall sub_474410(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_4744E0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_474520(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_474640(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_474780@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_4747C0(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall sub_4748E0(_DWORD *this, int a2);
// int __userpurge sub_474920@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_474950(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall sub_474A90(_DWORD *this, int a2);
// void __userpurge sub_474AD0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_474E70(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6);
// void __userpurge sub_4750E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// void __userpurge sub_4753B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
BOOL __thiscall CMeshDefense::CanSkillUp(void *this, _DWORD *a2, int a3);
// void __userpurge sub_475620(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_475920(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_4759A0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall CMagicWidePos::Excute(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_475A70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_475AA0(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_475B10@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_475B40(_DWORD *this, int a2);
int __thiscall sub_475B70(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
BOOL __thiscall sub_475BE0(_DWORD *this, int a2);
int __thiscall sub_475C70(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
BOOL __thiscall CMagicWideIce::GetMagic(_DWORD *this, int a2);
int __thiscall sub_475D50(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_475E40@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_475E70(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_475EE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_475F10(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// _DWORD *__userpurge sub_476010@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, _DWORD *a3, int a4, int a5);
// _DWORD *__userpurge sub_476100@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4, int a5, int a6);
// _DWORD *__userpurge sub_476180@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4, int a5, int a6);
// _DWORD *__userpurge sub_476200@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
BOOL __thiscall sub_476270(_DWORD *this, int a2);
// void __userpurge sub_4762B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, _DWORD *a3, int a4, int a5);
// int __userpurge sub_4763F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_476420(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_476580(_DWORD *this, _DWORD *a2, int a3);
// int __userpurge sub_476620@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_476660(int *this, _DWORD *a2, int a3);
// int __userpurge sub_476700@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_476730(_DWORD *this, _DWORD *a2, int a3);
int __stdcall sub_476790(int a1, _DWORD *a2);
// int __userpurge sub_4767B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_4767E0(_DWORD *this, int a2, _DWORD *a3);
BOOL __thiscall sub_476810(_DWORD *this, int a2);
int __stdcall sub_476870(int a1, _DWORD *a2);
_DWORD *__thiscall sub_476890(_DWORD *this, _DWORD *a2, int a3, int a4);
BOOL __thiscall sub_4768F0(_DWORD *this, int a2);
int __thiscall sub_476930(_DWORD *this, _DWORD *a2, int a3, int a4);
BOOL __thiscall sub_476A30(_DWORD *this, int a2);
// int __userpurge sub_476AE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __stdcall sub_476B30(_DWORD *a1, int a2, int a3);
int __stdcall sub_476B90(_DWORD *a1, int a2, int a3);
BOOL __thiscall sub_476BF0(_DWORD *this, _DWORD *a2, int a3);
// void __userpurge sub_476C60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
_DWORD *__thiscall sub_476D40(_DWORD *this, _DWORD *a2, int a3, int a4);
_DWORD *__thiscall sub_476DA0(_DWORD *this, _DWORD *a2, int a3, int a4);
_DWORD *__thiscall sub_476E00(_DWORD *this, _DWORD *a2, int a3, int a4);
// void __userpurge sub_476E60(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
BOOL __thiscall sub_476F10(_DWORD *this, int a2);
BOOL __thiscall sub_476FA0(_DWORD *this, int a2);
_DWORD *__thiscall sub_4770A0(_DWORD *this, _DWORD *a2, int a3, int a4);
BOOL __thiscall sub_477100(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_4771B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_4772F0(_DWORD *this, int a2, _DWORD *a3);
// int __userpurge sub_477340@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __thiscall sub_477380(_DWORD *this, int a2, _DWORD *a3);
int __thiscall sub_477400(_DWORD *this, int a2, _DWORD *a3);
int __thiscall sub_477490(_DWORD *this, int a2, int a3, int a4);
// int __userpurge sub_477500@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
BOOL __thiscall sub_477530(_DWORD *this, int a2);
// void __userpurge sub_477590(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
BOOL __thiscall sub_477660(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_477700(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_477840(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// int __userpurge sub_4779D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_477A00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
int __thiscall sub_477BD0(_DWORD *this, _DWORD *a2);
// int __userpurge sub_477C70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
int __stdcall sub_477CA0(int a1);
BOOL __thiscall sub_477CE0(_DWORD *this, int a2);
// int __userpurge sub_477D20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// int __userpurge sub_477D50@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_477D70(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// void __userpurge sub_477E10(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_4780C0(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
BOOL __thiscall sub_478160(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_478230(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_478340(_DWORD *this, int a2);
BOOL __thiscall sub_4783A0(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_478450(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_478550(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_478610(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_478750(int (__thiscall ***a1)(_DWORD, int, CIOObject *)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
int __thiscall sub_478870(_DWORD *this, _DWORD *a2, int a3, int a4);
int __thiscall sub_478930(_DWORD *this, int a2, int a3);
BOOL __thiscall sub_4789C0(_DWORD *this, int a2);
// void __userpurge sub_478A00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
BOOL __thiscall sub_478AC0(_DWORD *this, int a2);
BOOL __thiscall sub_478B30(_DWORD *this, int a2);
// void __userpurge sub_478B90(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_478DA0(_DWORD *this, int a2);
// void __userpurge sub_478E00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_479010(_DWORD *this, int a2);
// void __userpurge sub_479080(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall CSuffering::Excute(_DWORD *this, int a2);
// void __userpurge sub_479250(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_479390(_DWORD *this, int a2);
// void __userpurge sub_4793D0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_479550(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_4796B0(_DWORD *this, int a2);
// void __userpurge sub_4796F0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_479890(_DWORD *this, int a2);
BOOL __thiscall sub_4798F0(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_479990(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_479AE0(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_479B30(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_479C70(void *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_479D10(_DWORD *this, _DWORD *a2);
// void __userpurge sub_479D40(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_479EA0(void *this, _DWORD *a2, int a3);
int __thiscall sub_479F10(_DWORD *this, int a2);
// void __userpurge sub_479F30(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
// void __userpurge sub_47A010(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, int a7);
BOOL __thiscall sub_47A140(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_47A1E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
BOOL __thiscall sub_47A360(void *this, _DWORD *a2, _DWORD *a3);
// int __userpurge sub_47A3F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_47A480(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_47A630(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
int __thiscall sub_47A6E0(_DWORD *this, int a2, int a3, int a4);
int __thiscall CSkillBuff::CanExcute(_DWORD *this, int a2, int a3, int a4);
int __thiscall CSkillBuff::PreExcute(_DWORD *this, int a2, int a3, int a4);
int __thiscall sub_47A7A0(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall sub_47A7E0(void *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_47A830(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall sub_47A870(void *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_47A8C0(void *this, int a2, _DWORD *a3, _DWORD *a4);
int __thiscall sub_47A920(_DWORD *this, int a2, int a3, _DWORD *a4);
BOOL __thiscall sub_47A980(void *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_47A9D0(_DWORD *this, int a2, _DWORD *a3, _DWORD *a4);
int __thiscall sub_47AA50(_DWORD *this, int a2, int a3, _DWORD *a4);
BOOL __thiscall sub_47AAB0(_DWORD *this, int a2);
int __thiscall sub_47AAF0(_DWORD *this, int a2, int a3, _DWORD *a4);
int __thiscall CStrenUpInt::Apply(_DWORD *this, int a2, int a3, _DWORD *a4);
int __thiscall sub_47ABB0(_DWORD *this, int a2, int a3, _DWORD *a4);
int __thiscall CCloudSight::CanExcute(_DWORD *this, int a2, int a3, _DWORD *a4);
BOOL __thiscall sub_47AC70(_DWORD *this, int a2);
int __thiscall sub_47ACB0(_DWORD *this, int a2, int a3, _DWORD *a4);
BOOL __thiscall sub_47AD30(_DWORD *this, int a2);
int __thiscall sub_47AD70(void *this, int a2, int a3, _DWORD *a4);
int __thiscall sub_47ADC0(void *this, int a2, int a3, _DWORD *a4);
BOOL __thiscall sub_47AE10(void *this, _DWORD *a2, _DWORD *a3);
// void __userpurge sub_47AE30(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, _DWORD *a7);
// void __userpurge sub_47AE70(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
int __thiscall sub_47AF20(_DWORD *this, int a2);
BOOL __thiscall sub_47AF70(_DWORD *this, int a2);
int __thiscall sub_47B010(_DWORD *this, int a2);
int __thiscall sub_47B050(_DWORD *this, int a2);
int __thiscall sub_47B090(_DWORD *this, int a2);
BOOL __thiscall sub_47B0D0(_DWORD *this, int a2);
int __thiscall sub_47B110(_DWORD *this, int a2);
int __thiscall sub_47B150(_DWORD *this, int a2);
BOOL __thiscall sub_47B190(_DWORD *this, int a2);
// void __userpurge sub_47B1D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge sub_47B2C0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
_DWORD *__thiscall sub_47B410(_DWORD *this, int a2);
BOOL __thiscall sub_47B450(_DWORD *this, int a2);
_DWORD *__thiscall sub_47B4B0(_DWORD *this, int a2);
BOOL __thiscall sub_47B4E0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47B540(_DWORD *this, int a2);
_DWORD *__thiscall sub_47B570(_DWORD *this, int a2);
_DWORD *__thiscall sub_47B5A0(_DWORD *this, int a2);
BOOL __thiscall sub_47B5D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47B630(_DWORD *this, int a2);
BOOL __thiscall sub_47B660(_DWORD *this, int a2);
_DWORD *__thiscall sub_47B6C0(_DWORD *this, int a2);
BOOL __thiscall sub_47B6F0(_DWORD *this, int a2);
BOOL __thiscall sub_47B750(_DWORD *this, _DWORD *a2, _DWORD *a3);
int __stdcall sub_47B7E0(int a1, int a2);
int __stdcall sub_47B810(int a1, int a2);
int __thiscall sub_47B830(void *this, int a2, int a3, int a4, int a5, int a6);
// void __userpurge sub_47B890(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
int __stdcall sub_47B920(int a1, int a2);
int __stdcall sub_47B950(int a1, int a2);
int __thiscall CChantDefLightning::CreateBuff(void *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
BOOL __thiscall sub_47BA70(_DWORD *this, _DWORD *a2, int a3);
// void __userpurge sub_47BAC0(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
int __stdcall sub_47BB50(int a1, int a2);
// void __userpurge sub_47BB80(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, void *Src, int a7);
// void __userpurge sub_47BD90(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
int __thiscall sub_47BE20(_DWORD *this, int a2);
int __stdcall sub_47BE50(_DWORD *a1);
int __stdcall sub_47BE90(_DWORD *a1);
int __stdcall sub_47BED0(_DWORD *a1);
int __thiscall sub_47BF10(void *this, int a2, int a3);
int __thiscall sub_47BF40(_DWORD *this, _DWORD *a2);
// void __userpurge sub_47BFB0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// LONG __userpurge sub_47C180@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// int __userpurge sub_47C340@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
// void __userpurge sub_47C410(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_47C5A0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
int __thiscall sub_47C6D0(void *this, int a2, int a3);
int __thiscall sub_47C700(void *this, int a2, int a3);
// void __userpurge sub_47C730(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
int __thiscall sub_47C940(void *this, int a2, int a3);
int __stdcall sub_47C970(_DWORD *a1);
int __thiscall sub_47C990(void *this, int a2, int a3);
void *__thiscall sub_47C9D0(void *this);
int __thiscall sub_47CA00(int *this);
_DWORD *sub_47CA20();
LONG __cdecl sub_47CAA0(int a1);
void *__thiscall sub_47CAD0(int *this, void *a2, _DWORD *a3);
int __thiscall sub_47CB00(int *this);
int *__thiscall sub_47CBB0(int *this);
int *__thiscall sub_47CBD0(int *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_47CBF0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_47CC90(int *this, _DWORD *a2);
CMemory **__stdcall sub_47CD20(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *a1, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *a2, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *a3, const std::pair<char const * const,CItem *> *a4, char a5);
_DWORD *__thiscall sub_47CDA0(int *this);
int __stdcall sub_47CE00(void *a1);
_DWORD *__thiscall sub_47CE80(_DWORD *this);
_DWORD *__thiscall sub_47CEA0(_DWORD *this);
_DWORD *__thiscall sub_47CEC0(_DWORD *this);
_DWORD *__thiscall sub_47CEE0(_DWORD *this);
_DWORD *__thiscall sub_47CF00(_DWORD *this);
_DWORD *__thiscall sub_47CF20(_DWORD *this);
_DWORD *__thiscall sub_47CF40(_DWORD *this);
int __thiscall sub_47CF60(_DWORD *this, int a2);
_DWORD *__thiscall sub_47CF90(_DWORD *this);
int __thiscall sub_47CFB0(_DWORD *this, int a2, int a3);
int __thiscall sub_47CFD0(_DWORD *this);
_DWORD *__thiscall sub_47CFF0(_DWORD *this);
int __thiscall sub_47D010(_DWORD *this);
_DWORD *__thiscall sub_47D030(_DWORD *this);
int __thiscall sub_47D050(_DWORD *this);
_DWORD *__thiscall sub_47D070(_DWORD *this);
int __thiscall sub_47D090(_DWORD *this);
_DWORD *__thiscall sub_47D0B0(_DWORD *this);
int __stdcall sub_47D0D0(int a1, int a2);
int __thiscall sub_47D0E0(_DWORD *this);
int __thiscall sub_47D100(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D120(_DWORD *this);
int __thiscall sub_47D140(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_47D160(_DWORD *this);
int __thiscall sub_47D180(_DWORD *this, int a2, int a3);
int sub_47D1A0();
_DWORD *__thiscall sub_47D1B0(_DWORD *this);
int __thiscall sub_47D1D0(int *this, int a2, int a3);
int sub_47D210();
int __thiscall sub_47D220(_DWORD *this);
_DWORD *__thiscall sub_47D240(_DWORD *this);
int __thiscall sub_47D260(_DWORD *this, int a2, int a3);
int __thiscall sub_47D280(_DWORD *this);
_DWORD *__thiscall sub_47D2A0(_DWORD *this);
int __thiscall sub_47D2C0(int *this, int a2, int a3);
int __thiscall sub_47D300(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D320(_DWORD *this);
_DWORD *__thiscall sub_47D340(_DWORD *this);
int __thiscall sub_47D360(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D380(_DWORD *this);
int sub_47D3A0();
_DWORD *__thiscall sub_47D3B0(_DWORD *this);
int __thiscall sub_47D3D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D3F0(_DWORD *this);
int sub_47D410();
int __thiscall CMock::CMock(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D450(_DWORD *this);
int __thiscall sub_47D470(_DWORD *this, int a2);
int __thiscall sub_47D490(_DWORD *this);
int __thiscall sub_47D4B0(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_47D4D0(_DWORD *this);
_DWORD *__thiscall sub_47D4F0(_DWORD *this);
_DWORD *__thiscall sub_47D510(_DWORD *this);
_DWORD *__thiscall sub_47D530(_DWORD *this);
int __thiscall CTranscendental::GetAttack(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D580(_DWORD *this);
_DWORD *__thiscall sub_47D5A0(_DWORD *this);
_DWORD *__thiscall sub_47D5C0(_DWORD *this);
_DWORD *__thiscall sub_47D5E0(_DWORD *this);
_DWORD *__thiscall sub_47D600(_DWORD *this);
int __thiscall sub_47D630(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D650(_DWORD *this);
_DWORD *__thiscall sub_47D670(_DWORD *this);
int __thiscall sub_47D690(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D6B0(_DWORD *this);
_DWORD *__thiscall sub_47D6D0(_DWORD *this);
int __thiscall sub_47D6F0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D710(_DWORD *this);
_DWORD *__thiscall sub_47D730(_DWORD *this);
_DWORD *__thiscall sub_47D750(_DWORD *this);
_DWORD *__thiscall sub_47D770(_DWORD *this);
_DWORD *__thiscall sub_47D790(_DWORD *this);
int __thiscall sub_47D7B0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D7D0(_DWORD *this);
_DWORD *__thiscall sub_47D7F0(_DWORD *this);
_DWORD *__thiscall sub_47D810(_DWORD *this);
int __thiscall sub_47D830(_DWORD *this, int a2);
int sub_47D850();
_DWORD *__thiscall sub_47D860(_DWORD *this);
_DWORD *__thiscall sub_47D880(_DWORD *this);
_DWORD *__thiscall sub_47D8A0(_DWORD *this);
_DWORD *__thiscall sub_47D8C0(_DWORD *this);
_DWORD *__thiscall sub_47D8E0(_DWORD *this);
_DWORD *__thiscall sub_47D900(_DWORD *this);
_DWORD *__thiscall sub_47D920(_DWORD *this);
_DWORD *__thiscall sub_47D940(_DWORD *this);
int __thiscall sub_47D960(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D980(_DWORD *this);
int __thiscall sub_47D9A0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47D9C0(_DWORD *this);
int __thiscall sub_47D9E0(_DWORD *this);
_DWORD *__thiscall sub_47DA00(_DWORD *this);
int __thiscall sub_47DA20(_DWORD *this);
_DWORD *__thiscall sub_47DA40(_DWORD *this);
_DWORD *__thiscall sub_47DA60(_DWORD *this);
int __thiscall sub_47DA80(_DWORD *this, int a2);
_DWORD *__thiscall sub_47DAA0(_DWORD *this);
_DWORD *__thiscall sub_47DAC0(_DWORD *this);
_DWORD *__thiscall sub_47DAE0(_DWORD *this);
_DWORD *__thiscall sub_47DB00(_DWORD *this);
_DWORD *__thiscall sub_47DB20(_DWORD *this);
_DWORD *__thiscall sub_47DB40(_DWORD *this);
_DWORD *__thiscall sub_47DB60(_DWORD *this);
_DWORD *__thiscall sub_47DB80(_DWORD *this);
_DWORD *__thiscall sub_47DBA0(_DWORD *this);
_DWORD *__thiscall sub_47DBC0(_DWORD *this);
_DWORD *__thiscall sub_47DBE0(_DWORD *this);
_DWORD *__thiscall sub_47DC00(_DWORD *this);
_DWORD *__thiscall sub_47DC20(_DWORD *this);
_DWORD *__thiscall sub_47DC40(_DWORD *this);
int __thiscall sub_47DC60(_DWORD *this, int a2);
_DWORD *__thiscall sub_47DC80(_DWORD *this);
int __thiscall sub_47DCA0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47DCC0(_DWORD *this);
_DWORD *__thiscall sub_47DCE0(_DWORD *this);
_DWORD *__thiscall sub_47DD00(_DWORD *this);
_DWORD *__thiscall sub_47DD20(_DWORD *this);
_DWORD *__thiscall sub_47DD40(_DWORD *this);
_DWORD *__thiscall sub_47DD60(_DWORD *this);
int sub_47DD80();
_DWORD *__thiscall sub_47DD90(_DWORD *this);
int sub_47DDB0();
_DWORD *__thiscall sub_47DDC0(_DWORD *this);
int __thiscall sub_47DDE0(_DWORD *this, int a2);
int sub_47DE00();
_DWORD *__thiscall sub_47DE10(_DWORD *this);
_DWORD *__thiscall sub_47DE30(_DWORD *this);
_DWORD *__thiscall sub_47DE50(_DWORD *this);
_DWORD *__thiscall sub_47DE70(_DWORD *this);
int __thiscall sub_47DE90(_DWORD *this, int a2);
_DWORD *__thiscall sub_47DEB0(_DWORD *this);
_DWORD *__thiscall sub_47DED0(_DWORD *this);
_DWORD *__thiscall sub_47DEF0(_DWORD *this);
_DWORD *__thiscall sub_47DF10(_DWORD *this);
BOOL __thiscall sub_47DF30(_DWORD *this, int a2, unsigned int a3);
_DWORD *__thiscall sub_47DF70(_DWORD *this);
_DWORD *__thiscall sub_47DF90(_DWORD *this);
_DWORD *__thiscall sub_47DFB0(_DWORD *this);
_DWORD *__thiscall sub_47DFD0(_DWORD *this);
int __thiscall sub_47DFF0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E010(_DWORD *this);
int __thiscall sub_47E030(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E050(_DWORD *this);
int __thiscall sub_47E070(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E090(_DWORD *this);
_DWORD *__thiscall sub_47E0B0(_DWORD *this);
_DWORD *__thiscall sub_47E0D0(_DWORD *this);
_DWORD *__thiscall sub_47E0F0(_DWORD *this);
_DWORD *__thiscall sub_47E110(_DWORD *this);
_DWORD *__thiscall sub_47E130(_DWORD *this);
_DWORD *__thiscall sub_47E150(_DWORD *this);
_DWORD *__thiscall sub_47E170(_DWORD *this);
_DWORD *__thiscall sub_47E190(_DWORD *this);
_DWORD *__thiscall sub_47E1B0(_DWORD *this);
_DWORD *__thiscall sub_47E1D0(_DWORD *this);
_DWORD *__thiscall sub_47E1F0(_DWORD *this);
int __thiscall sub_47E210(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E230(_DWORD *this);
int __thiscall sub_47E250(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E270(_DWORD *this);
int __thiscall sub_47E290(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E2B0(_DWORD *this);
int __thiscall sub_47E2D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E2F0(_DWORD *this);
int __thiscall sub_47E310(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E330(_DWORD *this);
_DWORD *__thiscall sub_47E350(_DWORD *this);
int __thiscall sub_47E370(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E390(_DWORD *this);
_DWORD *__thiscall sub_47E3B0(_DWORD *this);
_DWORD *__thiscall sub_47E3D0(_DWORD *this);
_DWORD *__thiscall sub_47E3F0(_DWORD *this);
_DWORD *__thiscall sub_47E410(_DWORD *this);
_DWORD *__thiscall sub_47E430(_DWORD *this);
_DWORD *__thiscall sub_47E450(_DWORD *this);
_DWORD *__thiscall sub_47E470(_DWORD *this);
_DWORD *__thiscall sub_47E490(_DWORD *this);
_DWORD *__thiscall sub_47E4B0(_DWORD *this);
_DWORD *__thiscall sub_47E4D0(_DWORD *this);
_DWORD *__thiscall sub_47E4F0(_DWORD *this);
int __thiscall sub_47E510(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E530(_DWORD *this);
int __thiscall sub_47E550(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E570(_DWORD *this);
_DWORD *__thiscall sub_47E590(_DWORD *this);
_DWORD *__thiscall sub_47E5B0(_DWORD *this);
int __thiscall sub_47E5D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_47E5F0(_DWORD *this);
_DWORD *__thiscall sub_47E610(_DWORD *this);
_DWORD *__thiscall sub_47E630(_DWORD *this);
_DWORD *__thiscall sub_47E650(_DWORD *this);
_DWORD *__thiscall sub_47E670(_DWORD *this);
_DWORD *__thiscall sub_47E690(_DWORD *this);
_DWORD *__thiscall sub_47E6B0(_DWORD *this);
_DWORD *__thiscall sub_47E6D0(_DWORD *this);
_DWORD *__thiscall sub_47E6F0(_DWORD *this);
_DWORD *__thiscall sub_47E710(_DWORD *this);
_DWORD *__thiscall sub_47E730(_DWORD *this);
_DWORD *__thiscall sub_47E750(_DWORD *this);
_DWORD *__thiscall sub_47E770(_DWORD *this);
_DWORD *__thiscall sub_47E790(_DWORD *this);
_DWORD *__thiscall sub_47E7B0(_DWORD *this);
_DWORD *__thiscall sub_47E7D0(_DWORD *this);
_DWORD *__thiscall sub_47E7F0(_DWORD *this);
_DWORD *__thiscall sub_47E810(_DWORD *this);
_DWORD *__thiscall sub_47E830(_DWORD *this);
_DWORD *__thiscall sub_47E850(_DWORD *this);
int sub_47E870();
int sub_47E880();
_DWORD *__thiscall sub_47E890(_DWORD *this);
int sub_47E8B0();
int sub_47E8C0();
_DWORD *__thiscall sub_47E8D0(_DWORD *this);
int sub_47E8F0();
_DWORD *__thiscall sub_47E900(_DWORD *this);
int __thiscall sub_47E920(_DWORD *this);
int __thiscall sub_47E940(_DWORD *this);
int __thiscall sub_47E960(_DWORD *this);
_DWORD *__thiscall sub_47E980(_DWORD *this);
_DWORD *__thiscall sub_47E9A0(_DWORD *this);
_DWORD *__thiscall sub_47E9C0(_DWORD *this);
_DWORD *__thiscall sub_47E9E0(_DWORD *this);
_DWORD *__thiscall sub_47EA00(_DWORD *this);
_DWORD *__thiscall sub_47EA20(_DWORD *this);
_DWORD *__thiscall sub_47EA40(_DWORD *this);
BOOL __thiscall sub_47EA60(_DWORD *this, int a2, int a3);
int sub_47EAB0();
_DWORD *__thiscall sub_47EAC0(_DWORD *this);
int sub_47EAE0();
_DWORD *__thiscall sub_47EAF0(_DWORD *this);
int sub_47EB10();
_DWORD *__thiscall sub_47EB20(_DWORD *this);
_DWORD *__thiscall sub_47EB70(_DWORD *this, int a2, int a3);
// void *__usercall sub_47EBB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int *__thiscall sub_47EC30(int *this, char a2);
// CCompleteFire *__userpurge CCompleteFire::CCompleteFire@<eax>(CCompleteFire *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int a5);
int __thiscall CCellMap::AllocTile(_DWORD *this);
int __thiscall CMFireFlowerExplosion::CMFireFlowerExplosion(_DWORD *this, FILE *Stream);
int __thiscall sub_47EEC0(_DWORD *this, _DWORD *a2);
int __thiscall CCellMap::_CCellMap(_DWORD *this, _DWORD *a2, int *a3);
// int __userpurge sub_47F070@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
CRWLock *__thiscall CCellMap::ReadUnlock(_DWORD *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_47F2C0(_DWORD *this, _DWORD *a2, int *a3);
// CRWLock *__userpurge sub_47F430@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, _DWORD *a6);
// void __userpurge CSellMap::SendDelete(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, int a7);
// void __userpurge CCellMap::GetRWLockRect(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, int a7);
// void __userpurge CSellMap::SendCreate(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, int a7);
// void __userpurge CSellMap::SendPacket(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
// void __userpurge CSellMap::GetPlayerList(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, CMemory **a6);
// void __userpurge CSellMap::GetPlayerMonsterList(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, CMemory **a6);
// int __userpurge sub_47FA20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, Concurrency::details::_CancellationTokenRegistration **a6);
// int __userpurge sub_47FB20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, Concurrency::details::_CancellationTokenRegistration **a7);
_DWORD *__thiscall sub_47FC10(_DWORD *this);
// void __usercall CCellMap::GetPlayerList(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void *__userpurge sub_47FCC0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// int __usercall CSMap::LoadMap@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4);
// void *__userpurge sub_47FE60@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// void __usercall sub_47FE90(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int __cdecl sub_47FED0(int a1);
int __thiscall sub_47FEF0(char *this, _DWORD *a2, int *a3);
// int __userpurge sub_47FFA0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int *a6);
int __thiscall sub_480050(char *this, _DWORD *a2, _DWORD *a3, int *a4);
// int __userpurge sub_480100@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, _DWORD *a6, int *a7);
// int __userpurge sub_4801B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int *a6);
// int __userpurge sub_480230@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, int a6);
// int __userpurge sub_4802B0@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, int Number, int a7, int a8, int a9, int a10);
_DWORD *__stdcall sub_481210(_DWORD *a1, _DWORD *a2, int a3);
int *__stdcall sub_4812E0(int *a1, int *a2);
int __thiscall sub_481340(_DWORD *this, int *a2);
// int __userpurge sub_481390@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, int Number, int a7, int a8, int a9);
// int __userpurge sub_482140@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, int a7);
// int __userpurge sub_4821F0@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
// CMemory *__userpurge sub_4822A0@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
// CMemory *__userpurge sub_482350@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
// Concurrency::details::_CancellationTokenRegistration *__userpurge sub_482400@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6);
// Concurrency::details::_CancellationTokenRegistration *__userpurge sub_482520@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7);
// void __userpurge sub_482650(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int *a7);
// void __userpurge sub_4828A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_482A50(_DWORD *this, int a2, int a3);
// int __usercall sub_482A80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
void *__thiscall sub_482AB0(void *this);
CMemory **__cdecl sub_482AE0(int a1);
int __thiscall sub_482B00(int this);
// void *__userpurge sub_482B50@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_482B80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_482BB0(int *this);
int __thiscall sub_482BD0(int *this);
int __thiscall sub_482BF0(int *this);
void *__thiscall sub_482CA0(int *this, void *a2);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_482CC0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_482D60(int *this);
int __stdcall sub_482DC0(void *a1);
int __cdecl sub_482E40(int a1);
int __stdcall sub_482E80(_BYTE *a1);
// _DWORD *__userpurge sub_482F10@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// _DWORD *__userpurge sub_483000@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall sub_483030@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_483050(struct in_addr *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_4830F0(int a1@<ecx>, DWORD a2@<ebx>, char *a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_483280(Concurrency::details::SchedulingRing *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
int __thiscall sub_4832E0(void *this);
int __thiscall sub_483340(void *this);
// void __userpurge sub_483370(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src);
// void __usercall CSocket::Write(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, ...);
// void __userpurge sub_483420(struct in_addr *a1@<ecx>, DWORD a2@<ebx>, char *a3@<edi>, DWORD a4@<esi>, unsigned __int16 *a5);
int __thiscall sub_483A90(_DWORD *this, char a2);
// int __userpurge sub_483AB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9, void *Src);
// void __userpurge sub_483C30(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// void __userpurge sub_483CC0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// void __userpurge sub_483CF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7);
// void __userpurge sub_483D20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src);
// void __userpurge sub_483DD0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_483E60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __usercall sub_483F60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_483F90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7);
// void __userpurge sub_484000(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7);
// void __userpurge sub_484070(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6);
// void __userpurge sub_484190(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _BYTE *a6);
// void __userpurge sub_4842A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8);
// void __userpurge sub_484340(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7);
// void __userpurge sub_484460(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
BOOL CStatus::Update();
// struct Concurrency::details::UMSThreadProxy *__thiscall Concurrency::details::UMSFreeVirtualProcessorRoot::GetExecutingProxy(Concurrency::details::UMSFreeVirtualProcessorRoot *__hidden this); idb
void *__thiscall sub_484610(void *this);
// void *__thiscall unknown_libname_31(void *); idb
int __thiscall sub_4847F0(int *this);
// int __userpurge sub_484830@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
int __thiscall sub_484860(Concurrency::details::_CancellationTokenRegistration **this, Concurrency::details::_CancellationTokenRegistration *a2);
// Concurrency::details::_CancellationTokenRegistration *__userpurge CTile::GetItem@<eax>(Concurrency::details::_CancellationTokenRegistration **a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
volatile signed __int32 *__thiscall sub_484950(volatile signed __int32 *this, int a2, int a3);
// void *__userpurge sub_4849A0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5);
// _DWORD *__usercall CTables::CTables@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __usercall sub_484A10(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5);
// void __usercall sub_484B90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>);
// void __userpurge sub_484C00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5);
// void __userpurge sub_484CA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5);
// void __userpurge Encode(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char chCodeNum, unsigned __int8 *ptr, int len);
// void __userpurge Decode(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char chCodeNum, unsigned __int8 *ptr, int len);
void __cdecl InitRandom(); // idb
unsigned int sub_484F80();
int __cdecl _Random();
int __fastcall sub_484FE0(volatile signed __int32 *a1, unsigned int a2);
int __fastcall sub_484FF0(volatile signed __int32 *a1, unsigned int a2);
// void *__userpurge WritePacket@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *a4, int a5);
// char *__usercall WritePacket@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char *packet, const char *__formal, ...);
// void *__userpurge ReadPacketV@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *Src, int a5);
// void *__usercall sub_485530@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *Src, ...);
// void *__userpurge ScanPacketV@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *Src, int a5, int a6);
// char *__usercall ScanPacket@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char *packet, char *end, const char *__formal, ...);
char *__stdcall GetString(char *packet, char *str); // idb
char *__stdcall PutString(char *packet, const char *str); // idb
void __cdecl init_codepage();
int __stdcall mbstricmp(const char *s1, const char *s2); // idb
int __stdcall IsValidString(const char *str); // idb
int __stdcall IsValidName(const char *name); // idb
int __stdcall IsValidAdminName(const char *name); // idb
std::string *__cdecl sub_485F30(std::string *a1);
void __thiscall InitCodePage::InitCodePage(InitCodePage *this); // idb
// BOOL __stdcall MiniDumpWriteDump(HANDLE hProcess, DWORD ProcessId, HANDLE hFile, MINIDUMP_TYPE DumpType, PMINIDUMP_EXCEPTION_INFORMATION ExceptionParam, PMINIDUMP_USER_STREAM_INFORMATION UserStreamParam, PMINIDUMP_CALLBACK_INFORMATION CallbackParam);
// void __thiscall __noreturn std::_String_base::_Xran(std::_String_base *__hidden this); idb
void __thiscall std::runtime_error::runtime_error(std::runtime_error *this, const std::runtime_error *__that); // idb
std::runtime_error *__thiscall sub_48606D(std::runtime_error *this, struct exception *a2);
// void __thiscall std::_String_base::_Xlen(std::_String_base *__hidden this); idb
std::runtime_error *__thiscall sub_4860C5(std::runtime_error *this, struct exception *a2);
int __cdecl sub_4860DD(size_t Size); // idb
// void *__cdecl memcpy(void *, const void *Src, size_t Size);
// void *__cdecl memset(void *, int Val, size_t Size);
// __time32_t __cdecl time(__time32_t *const Time);
// struct tm *__cdecl localtime(const __time32_t *const Time);
// int __cdecl abs(int Number);
// int __cdecl fclose(FILE *Stream);
// int __cdecl isalnum(int C);
// int __cdecl ungetc_0(int Character, FILE *Stream);
// int __cdecl fgetc(FILE *Stream);
// size_t __cdecl strlen(const char *Str);
// FILE *__cdecl fopen(const char *FileName, const char *Mode);
// int __cdecl strcmp(const char *Str1, const char *Str2);
// void *__cdecl memcpy_0(void *, const void *Src, size_t Size);
// char *__cdecl strcpy(char *Destination, const char *Source);
// __time32_t __cdecl mktime(struct tm *const Tm);
// int sprintf(char *const Buffer, const char *const Format, ...);
int __cdecl sub_487447(int a1);
// char *__cdecl strrchr(const char *Str, int Ch);
// size_t __cdecl strcspn(const char *Str, const char *Control);
// size_t __cdecl strspn(const char *Str, const char *Control);
// struct tm *__cdecl gmtime(const __time32_t *const Time);
// void *__cdecl memchr(const void *Buf, int Val, size_t MaxCount);
// int __cdecl _vsnprintf(char *const Buffer, const size_t BufferCount, const char *const Format, va_list ArgList);
// int _snprintf(char *const Buffer, const size_t BufferCount, const char *const Format, ...);
// uintptr_t __cdecl _beginthreadex(void *Security, unsigned int StackSize, _beginthreadex_proc_type StartAddress, void *ArgList, unsigned int InitFlag, unsigned int *ThrdAddr);
// int __cdecl strtol(const char *String, char **EndPtr, int Radix);
// unsigned int __cdecl strtoul(const char *String, char **EndPtr, int Radix);
// size_t __cdecl fwrite(const void *Buffer, size_t ElementSize, size_t ElementCount, FILE *Stream);
unsigned int __cdecl fread_0(void *buffer, unsigned int size, unsigned int count, _iobuf *stream);
// int __cdecl vsprintf(char *const Buffer, const char *const Format, va_list ArgList);
// _DWORD __cdecl flsall(_DWORD); weak
// int __cdecl fflush(FILE *Stream);
int sub_488036();
// int fscanf(FILE *const Stream, const char *const Format, ...);
int __cdecl j__atol(const char *String);
// void *__cdecl malloc(size_t Size);
// int sscanf(const char *const Buffer, const char *const Format, ...);
// char *__cdecl strncpy(char *Destination, const char *Source, size_t Count);
_DWORD __cdecl sub_4883C4(_DWORD); // weak
// size_t __cdecl fread(void *Buffer, size_t ElementSize, size_t ElementCount, FILE *Stream);
size_t __cdecl sub_4884B2(void *Buffer, size_t ElementSize, size_t ElementCount, FILE *Stream);
// char *__cdecl strchr(const char *Str, int Val);
// void __cdecl srand(unsigned int Seed);
// int __cdecl tolower(int C);
// exception *__thiscall exception::exception(exception *__hidden this, const struct exception *); idb
void __thiscall sub_488E49(void *this);
void *__thiscall sub_488E6C(void *this, char a2);
// void __cdecl free(void *Block);
// void __cdecl _lock_file(FILE *Stream);
// void __cdecl _unlock_file(FILE *Stream);
void __cdecl _RTC_Terminate();
void __cdecl sub_48E183(); // idb
// void __cdecl __noreturn terminate(); idb
void __cdecl __noreturn _inconsistency(); // idb
// int __cdecl _stricmp(const char *String1, const char *String2);
// _DWORD *__usercall sub_497770@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
LONG sub_497780();
void sub_497790();
LONG sub_4977A0();
_DWORD *sub_4977B0();
// _DWORD *__usercall sub_4977C0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
LONG sub_4977D0();
void sub_4977E0();
void sub_4977F0();
int *sub_497800();
int sub_497810();
int sub_497820();
// void __usercall sub_497830(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497840();
// void __usercall sub_497850(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497860();
// void __usercall sub_497870(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497880();
void sub_497890();
// void __usercall sub_4978A0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
void sub_4978B0();
void sub_4978C0();
_DWORD *sub_4978D0();
int sub_4978E0();
int sub_4978F0();
int sub_497900();
// void __usercall sub_497910(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497920();
int sub_497930();
// void __usercall sub_497940(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
void sub_497950();
void sub_497960();
void sub_497970();
void sub_497980();
void sub_497990();
void sub_4979A0();
void sub_4979B0();
void sub_4979C0();
int sub_4979D0();
void sub_4979E0();
int sub_4979F0();
// void __usercall sub_497A00(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497A10();
// void __usercall sub_497A20(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497A30();
// void __usercall sub_497A40(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
// _DWORD *__usercall sub_497A50@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497A60();
void sub_497A80();
void sub_497A90();
void sub_497AA0();
int sub_497AB0();
int sub_497AC0();
int sub_497AD0();
// void __usercall sub_497AE0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
void sub_497AF0();
// void __usercall sub_497B00(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497B10();
int sub_497B20();
int sub_497B30();
// void __usercall sub_497B40(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497B50();
// void __usercall sub_497B60(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497B70();
// void __usercall sub_497B80(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497B90();
int sub_497BA0();
// void __usercall sub_497BC0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int *sub_497BD0();
// void __usercall sub_497BE0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
_DWORD *sub_497BF0();
int sub_497C00();
// void __usercall sub_497C10(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497C20();
void sub_497C30();
// void __usercall sub_497C40(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497C50();
int sub_497C60();
int sub_497C70();
int sub_497C80();
// void __usercall sub_497CA0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>);
int sub_497CB0();
// BOOL __stdcall GetTextMetricsA(HDC hdc, LPTEXTMETRICA lptm);
// BOOL __stdcall TextOutA(HDC hdc, int x, int y, LPCSTR lpString, int c);
// COLORREF __stdcall SetTextColor(HDC hdc, COLORREF color);
// LONG __stdcall InterlockedDecrement(volatile LONG *lpAddend);
// DWORD __stdcall WaitForSingleObject(HANDLE hHandle, DWORD dwMilliseconds);
// HANDLE __stdcall CreateEventA(LPSECURITY_ATTRIBUTES lpEventAttributes, BOOL bManualReset, BOOL bInitialState, LPCSTR lpName);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// BOOL __stdcall ResetEvent(HANDLE hEvent);
// LONG __stdcall InterlockedExchange(volatile LONG *Target, LONG Value);
// BOOL __stdcall SetEvent(HANDLE hEvent);
// LONG __stdcall InterlockedIncrement(volatile LONG *lpAddend);
// BOOL __stdcall PostQueuedCompletionStatus(HANDLE CompletionPort, DWORD dwNumberOfBytesTransferred, ULONG_PTR dwCompletionKey, LPOVERLAPPED lpOverlapped);
// LONG __stdcall InterlockedCompareExchange(volatile LONG *Destination, LONG Exchange, LONG Comperand);
// DWORD __stdcall GetTickCount();
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// BOOL __stdcall GetThreadContext(HANDLE hThread, LPCONTEXT lpContext);
// HANDLE __stdcall GetCurrentThread();
// LPTOP_LEVEL_EXCEPTION_FILTER __stdcall SetUnhandledExceptionFilter(LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter);
// LPSTR __stdcall lstrcpyA(LPSTR lpString1, LPCSTR lpString2);
// DWORD __stdcall GetModuleFileNameA(HMODULE hModule, LPSTR lpFilename, DWORD nSize);
// void __stdcall InitializeCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall __noreturn ExitProcess(UINT uExitCode);
// void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// BOOL __stdcall DeleteFileA(LPCSTR lpFileName);
// BOOL __stdcall MoveFileExA(LPCSTR lpExistingFileName, LPCSTR lpNewFileName, DWORD dwFlags);
// BOOL __stdcall ReadFile(HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped);
// HANDLE __stdcall CreateFileA(LPCSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// HANDLE __stdcall GetCurrentProcess();
// SIZE_T __stdcall VirtualQuery(LPCVOID lpAddress, PMEMORY_BASIC_INFORMATION lpBuffer, SIZE_T dwLength);
// DWORD __stdcall GetCurrentThreadId();
// DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
// void __stdcall OutputDebugStringA(LPCSTR lpOutputString);
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// int __stdcall lstrlenA(LPCSTR lpString);
// DWORD __stdcall GetCurrentProcessId();
// BOOL __stdcall SetThreadPriority(HANDLE hThread, int nPriority);
// void __stdcall GetSystemInfo(LPSYSTEM_INFO lpSystemInfo);
// BOOL __stdcall IsBadWritePtr(LPVOID lp, UINT_PTR ucb);
// void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// DWORD __stdcall ResumeThread(HANDLE hThread);
// DWORD __stdcall SuspendThread(HANDLE hThread);
// void __stdcall Sleep(DWORD dwMilliseconds);
// BOOL __stdcall SwitchToThread();
// BOOL __stdcall TryEnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// HANDLE __stdcall CreateIoCompletionPort(HANDLE FileHandle, HANDLE ExistingCompletionPort, ULONG_PTR CompletionKey, DWORD NumberOfConcurrentThreads);
// BOOL __stdcall SetProcessPriorityBoost(HANDLE hProcess, BOOL bDisablePriorityBoost);
// DWORD __stdcall WaitForMultipleObjects(DWORD nCount, const HANDLE *lpHandles, BOOL bWaitAll, DWORD dwMilliseconds);
// BOOL __stdcall GetQueuedCompletionStatus(HANDLE CompletionPort, LPDWORD lpNumberOfBytesTransferred, PULONG_PTR lpCompletionKey, LPOVERLAPPED *lpOverlapped, DWORD dwMilliseconds);
// DWORD __stdcall SetThreadIdealProcessor(HANDLE hThread, DWORD dwIdealProcessor);
// DWORD __stdcall GetLastError();
// LONG __stdcall InterlockedExchangeAdd(volatile LONG *Addend, LONG Value);
// HANDLE __stdcall CreateMutexA(LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCSTR lpName);
// BOOL __stdcall HeapDestroy(HANDLE hHeap);
// HANDLE __stdcall HeapCreate(DWORD flOptions, SIZE_T dwInitialSize, SIZE_T dwMaximumSize);
// BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
// BOOL __stdcall VirtualFree(LPVOID lpAddress, SIZE_T dwSize, DWORD dwFreeType);
// LPVOID __stdcall HeapAlloc(HANDLE hHeap, DWORD dwFlags, SIZE_T dwBytes);
// LPVOID __stdcall VirtualAlloc(LPVOID lpAddress, SIZE_T dwSize, DWORD flAllocationType, DWORD flProtect);
// LPVOID __stdcall HeapReAlloc(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem, SIZE_T dwBytes);
// SIZE_T __stdcall HeapSize(HANDLE hHeap, DWORD dwFlags, LPCVOID lpMem);
// BOOL __stdcall IsDBCSLeadByte(BYTE TestChar);
// UINT __stdcall GetACP();
// void __stdcall GetLocalTime(LPSYSTEMTIME lpSystemTime);
// UINT __stdcall GetDlgItemInt(HWND hDlg, int nIDDlgItem, BOOL *lpTranslated, BOOL bSigned);
// UINT __stdcall IsDlgButtonChecked(HWND hDlg, int nIDButton);
// UINT __stdcall GetDlgItemTextA(HWND hDlg, int nIDDlgItem, LPSTR lpString, int cchMax);
// BOOL __stdcall EndPaint(HWND hWnd, const PAINTSTRUCT *lpPaint);
// BOOL __stdcall GetClientRect(HWND hWnd, LPRECT lpRect);
// HDC __stdcall BeginPaint(HWND hWnd, LPPAINTSTRUCT lpPaint);
// BOOL __stdcall EnableWindow(HWND hWnd, BOOL bEnable);
// BOOL __stdcall EndDialog(HWND hDlg, INT_PTR nResult);
// INT_PTR __stdcall DialogBoxParamA(HINSTANCE hInstance, LPCSTR lpTemplateName, HWND hWndParent, DLGPROC lpDialogFunc, LPARAM dwInitParam);
// LRESULT __stdcall DefWindowProcA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// int __stdcall MessageBoxA(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType);
// BOOL __stdcall DestroyWindow(HWND hWnd);
// void __stdcall PostQuitMessage(int nExitCode);
// HWND __stdcall CreateWindowExA(DWORD dwExStyle, LPCSTR lpClassName, LPCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, LPVOID lpParam);
// HMENU __stdcall GetMenu(HWND hWnd);
// BOOL __stdcall EnableMenuItem(HMENU hMenu, UINT uIDEnableItem, UINT uEnable);
// BOOL __stdcall ShowWindow(HWND hWnd, int nCmdShow);
// BOOL __stdcall UpdateWindow(HWND hWnd);
// HICON __stdcall LoadIconA(HINSTANCE hInstance, LPCSTR lpIconName);
// HCURSOR __stdcall LoadCursorA(HINSTANCE hInstance, LPCSTR lpCursorName);
// ATOM __stdcall RegisterClassExA(const WNDCLASSEXA *);
// int __stdcall LoadStringA(HINSTANCE hInstance, UINT uID, LPSTR lpBuffer, int cchBufferMax);
// HACCEL __stdcall LoadAcceleratorsA(HINSTANCE hInstance, LPCSTR lpTableName);
// BOOL __stdcall GetMessageA(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax);
// int __stdcall TranslateAcceleratorA(HWND hWnd, HACCEL hAccTable, LPMSG lpMsg);
// BOOL __stdcall TranslateMessage(const MSG *lpMsg);
// LRESULT __stdcall DispatchMessageA(const MSG *lpMsg);
// BOOL __stdcall SetWindowTextA(HWND hWnd, LPCSTR lpString);
// BOOL __stdcall InvalidateRect(HWND hWnd, const RECT *lpRect, BOOL bErase);
// int __stdcall wvsprintfA(LPSTR, LPCSTR, va_list arglist);
// int wsprintfA(LPSTR, LPCSTR, ...);
// BOOL __stdcall PtInRect(const RECT *lprc, POINT pt);
// BOOL __stdcall PostMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// BOOL __stdcall KillTimer(HWND hWnd, UINT_PTR uIDEvent);
// UINT_PTR __stdcall SetTimer(HWND hWnd, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc);
// HWND __stdcall GetDlgItem(HWND hDlg, int nIDDlgItem);
// int __stdcall shutdown(SOCKET s, int how);
// char *__stdcall inet_ntoa(struct in_addr in);
// SOCKET __stdcall accept(SOCKET s, struct sockaddr *addr, int *addrlen);
// BOOL __stdcall WSAResetEvent(HANDLE hEvent);
// int __stdcall WSAGetLastError();
// u_long __stdcall htonl(u_long hostlong);
// int __stdcall listen(SOCKET s, int backlog);
// HANDLE __stdcall WSACreateEvent();
// int __stdcall WSAEventSelect(SOCKET s, HANDLE hEventObject, int lNetworkEvents);
// BOOL __stdcall WSACloseEvent(HANDLE hEvent);
// int __stdcall WSASend(SOCKET s, LPWSABUF lpBuffers, DWORD dwBufferCount, LPDWORD lpNumberOfBytesSent, DWORD dwFlags, LPWSAOVERLAPPED lpOverlapped, LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine);
// int __stdcall WSARecv(SOCKET s, LPWSABUF lpBuffers, DWORD dwBufferCount, LPDWORD lpNumberOfBytesRecvd, LPDWORD lpFlags, LPWSAOVERLAPPED lpOverlapped, LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine);
// int __stdcall WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
// int __stdcall WSACleanup();
// int __stdcall setsockopt(SOCKET s, int level, int optname, const char *optval, int optlen);
// int __stdcall recv(SOCKET s, char *buf, int len, int flags);
// int __stdcall send(SOCKET s, const char *buf, int len, int flags);
// int __stdcall getsockname(SOCKET s, struct sockaddr *name, int *namelen);
// SOCKET __stdcall socket(int af, int type, int protocol);
// int __stdcall bind(SOCKET s, const struct sockaddr *name, int namelen);
// unsigned int __stdcall inet_addr(const char *cp);
// struct hostent *__stdcall gethostbyname(const char *name);
// u_short __stdcall htons(u_short hostshort);
// int __stdcall connect(SOCKET s, const struct sockaddr *name, int namelen);
// int __stdcall closesocket(SOCKET s);
// DWORD __stdcall SymGetModuleBase(HANDLE hProcess, DWORD dwAddr);
// PVOID __stdcall SymFunctionTableAccess(HANDLE hProcess, DWORD AddrBase);
// BOOL __stdcall StackWalk(DWORD MachineType, HANDLE hProcess, HANDLE hThread, LPSTACKFRAME StackFrame, PVOID ContextRecord, PREAD_PROCESS_MEMORY_ROUTINE ReadMemoryRoutine, PFUNCTION_TABLE_ACCESS_ROUTINE FunctionTableAccessRoutine, PGET_MODULE_BASE_ROUTINE GetModuleBaseRoutine, PTRANSLATE_ADDRESS_ROUTINE TranslateAddress);
// BOOL __stdcall SymFromAddr(HANDLE hProcess, DWORD64 Address, PDWORD64 Displacement, PSYMBOL_INFO Symbol);
// DWORD __stdcall UnDecorateSymbolName(PCSTR name, PSTR outputString, DWORD maxStringLength, DWORD flags);
// BOOL __stdcall SymGetLineFromAddr64(HANDLE hProcess, DWORD64 qwAddr, PDWORD pdwDisplacement, PIMAGEHLP_LINE64 Line64);
// BOOL __stdcall SymInitialize(HANDLE hProcess, PCSTR UserSearchPath, BOOL fInvadeProcess);
// DWORD __stdcall SymGetOptions();
// DWORD __stdcall SymSetOptions(DWORD SymOptions);
// BOOL __stdcall SymCleanup(HANDLE hProcess);

//-------------------------------------------------------------------------
// Data declarations

void *(__thiscall *off_49830C)(CIOObject *__hidden this, unsigned int) = &CIOObject::`vector deleting destructor'; // weak
const char Src = '\0'; // idb
int (__stdcall *off_49852C)(int) = &sub_4242C0; // weak
int (__stdcall *off_498544)(int) = &sub_401E50; // weak
int (__stdcall *off_498560)(int) = &sub_402040; // weak
void *(__thiscall *off_4985F8[2])(std::_Ref_count_base *__hidden this, const struct type_info *) = { &std::_Ref_count_base::_Get_deleter, &std::_Ref_count_base::_Get_deleter }; // weak
void *(__thiscall *off_498644)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498660)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_49867C)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498698)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4986B4)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4986D0)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4986EC)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498708)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498724)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498740)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_49875C)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498778)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498794)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4987B0)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4987CC)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4987E8)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498804)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498820)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_49883C)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498858)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498874)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498890)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4988AC)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4988C8)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_4988E4)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
void *(__thiscall *off_498900)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
int (__stdcall *off_49891C[3])(int) = { &sub_408BC0, &sub_408C40, &sub_408CA0 }; // weak
void *(__thiscall *off_498938)(std::_Ref_count_base *__hidden this, const struct type_info *) = &std::_Ref_count_base::_Get_deleter; // weak
int (__stdcall *off_498954[3])(int) = { &sub_408BC0, &sub_408DE0, &sub_408CA0 }; // weak
int (__stdcall *off_498970[3])(int) = { &sub_408E30, &sub_408E60, &sub_408CA0 }; // weak
int (__stdcall *off_49898C[3])(int) = { &CBuffRemainEx::SetBuff, &sub_408FD0, &sub_409020 }; // weak
int (__stdcall *off_4989A8[3])(int) = { &sub_409070, &sub_4090B0, &sub_4090F0 }; // weak
int (__stdcall *off_4989C4[3])(int) = { &sub_409130, &sub_4090B0, &sub_4090F0 }; // weak
int (__stdcall *off_4989E0[3])(int) = { &sub_408E30, &sub_409190, &sub_408CA0 }; // weak
int (__stdcall *off_4989FC[3])(int) = { &sub_4091F0, &sub_409240, &sub_409290 }; // weak
int (__stdcall *off_498A18[3])(int) = { &sub_408E30, &sub_408E60, &sub_408CA0 }; // weak
int (__stdcall *off_498A34[3])(int) = { &sub_408E30, &sub_4093D0, &sub_408CA0 }; // weak
int (__stdcall *off_498A50[3])(int) = { &sub_406030, &sub_409400, &sub_4094D0 }; // weak
int (__stdcall *off_498A84)(int) = &sub_409990; // weak
int (__stdcall *off_498AA0)(int) = &sub_40A100; // weak
int (*off_498B58[39])() =
{
  &unknown_libname_6,
  &sub_42FF10,
  &sub_42FF30,
  &sub_40B620,
  &sub_40B620,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_15,
  &unknown_libname_5,
  &unknown_libname_29,
  &sub_40B680,
  &unknown_libname_29,
  &unknown_libname_29,
  &sub_40B620,
  &sub_40B620,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_29,
  &sub_40B680,
  &unknown_libname_6,
  &unknown_libname_6,
  &sub_40B620,
  &sub_40B620,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_15,
  &unknown_libname_29,
  &sub_40B680,
  &unknown_libname_29,
  &unknown_libname_29,
  &unknown_libname_7,
  &unknown_libname_8,
  &unknown_libname_15,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5
}; // weak
int (*off_498B80[29])() =
{
  &sub_40B680,
  &unknown_libname_29,
  &unknown_libname_29,
  &sub_40B620,
  &sub_40B620,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_29,
  &sub_40B680,
  &unknown_libname_6,
  &unknown_libname_6,
  &sub_40B620,
  &sub_40B620,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_15,
  &unknown_libname_29,
  &sub_40B680,
  &unknown_libname_29,
  &unknown_libname_29,
  &unknown_libname_7,
  &unknown_libname_8,
  &unknown_libname_15,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5
}; // weak
int (*off_498BA8[19])() =
{
  &sub_40B680,
  &unknown_libname_6,
  &unknown_libname_6,
  &sub_40B620,
  &sub_40B620,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_15,
  &unknown_libname_29,
  &sub_40B680,
  &unknown_libname_29,
  &unknown_libname_29,
  &unknown_libname_7,
  &unknown_libname_8,
  &unknown_libname_15,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5
}; // weak
int (*off_498BD0[9])() =
{
  &sub_40B680,
  &unknown_libname_29,
  &unknown_libname_29,
  &unknown_libname_7,
  &unknown_libname_8,
  &unknown_libname_15,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_5
}; // weak
int (__stdcall *off_498C78)(int) = &sub_40BDC0; // weak
int (__stdcall *off_498E70)(int) = &sub_4242C0; // weak
int (__stdcall *off_498E88)(int) = &sub_40D8F0; // weak
int (__stdcall *off_498ED0)(int) = &sub_40DB20; // weak
int (__stdcall *off_498F34)(int) = &sub_40E650; // weak
int (__stdcall *off_498F78)(int) = &sub_4107B0; // weak
int (__stdcall *off_4995F0)(int) = &sub_417D20; // weak
int (__stdcall *off_4996E8)(int) = &sub_418B90; // weak
int (__stdcall *off_4997E8)(int) = &sub_41B4B0; // weak
int (__stdcall *off_499870)(int) = &sub_41C4B0; // weak
int (__stdcall *off_4999A0[2])(int) = { &CSpecPrty::ApplySpec, &CSpecPrty::FreeSpec }; // weak
int (__stdcall *off_4999B0[2])(int) = { &unknown_libname_3, &unknown_libname_3 }; // weak
int (__stdcall *off_4999C0[2])(int) = { &sub_41EB50, &sub_41EB70 }; // weak
int (__stdcall *off_4999F0[2])(int) = { &unknown_libname_3, &unknown_libname_3 }; // weak
int (__stdcall *off_499A00[2])(int) = { &unknown_libname_3, &unknown_libname_3 }; // weak
int (__stdcall *off_499A10[2])(int) = { &unknown_libname_3, &unknown_libname_3 }; // weak
int (__stdcall *off_499A20[2])(int) = { &unknown_libname_3, &unknown_libname_3 }; // weak
int (__stdcall *off_499A30[3])(int) = { &unknown_libname_3, &unknown_libname_3, &CSpecBuff::Use }; // weak
int (__stdcall *off_499A40[3])(int) = { &unknown_libname_3, &unknown_libname_3, &sub_41EE10 }; // weak
int (__stdcall *off_499A50)(int) = &sub_41E050; // weak
int (__stdcall *off_499C50)(int) = &sub_41F580; // weak
int (__stdcall *off_49A51C)(int) = &sub_422AB0; // weak
int (__stdcall *off_49A5D0)(int) = &sub_423280; // weak
int (__stdcall *off_49A674)(int) = &sub_4242C0; // weak
int (__stdcall *off_49A690)(int) = &sub_424450; // weak
int (__stdcall *off_49A8D8)(int) = &sub_424A60; // weak
int (__stdcall *off_49A9B8)(int) = &sub_424A60; // weak
int (__stdcall *off_49AB30)(int) = &sub_42ABD0; // weak
_UNKNOWN unk_49AC0C; // weak
int (__stdcall *off_49AC38)(int) = &sub_42ABD0; // weak
int (__stdcall *off_49AD18)(int) = &sub_42ABD0; // weak
int (__stdcall *off_49ADF8)(int) = &sub_42ABD0; // weak
int (__stdcall *off_49AF28)(int) = &sub_42ABD0; // weak
int (__stdcall *off_49B008)(int) = &sub_42ABD0; // weak
int (__stdcall *off_49B0E8)(int) = &sub_42ABD0; // weak
int (__stdcall *off_49B1D0)(int) = &sub_42DC00; // weak
int (__stdcall *off_49B250)(int) = &sub_42E0B0; // weak
int (__stdcall *off_49B2F0)(int) = &sub_42E6A0; // weak
int (*off_49B368[10])() =
{
  &sub_40B680,
  &unknown_libname_29,
  &unknown_libname_29,
  &sub_40B620,
  &sub_40B620,
  &unknown_libname_5,
  &unknown_libname_15,
  &unknown_libname_5,
  &unknown_libname_5,
  &unknown_libname_29
}; // weak
int (__stdcall *off_49B878)(int) = &sub_434950; // weak
int (__stdcall *off_49B928)(int) = &sub_435850; // weak
int (__stdcall *off_49B9D8)(int) = &sub_435F60; // weak
int (__stdcall *off_49B9F0)(int) = &sub_4363C0; // weak
int (__stdcall *off_49BAD8)(int) = &sub_436980; // weak
int (__stdcall *off_49BBD8)(int) = &sub_436AE0; // weak
int (__stdcall *off_49BCC0)(int) = &sub_436A90; // weak
int (__stdcall *off_49BDA8)(int) = &sub_436AE0; // weak
int (__stdcall *off_49BE90)(int) = &sub_436BE0; // weak
int (__stdcall *off_49BF78)(int) = &sub_436AE0; // weak
int (__stdcall *off_49C070)(int) = &sub_437430; // weak
_UNKNOWN unk_49C16C; // weak
int (__stdcall *off_49C198)(int) = &sub_436980; // weak
int (__stdcall *off_49C2F8)(int) = &sub_43FC90; // weak
int (__stdcall *off_49C370)(int) = &sub_43FF70; // weak
int (__stdcall *off_49C418)(int) = &sub_435F60; // weak
int (__stdcall *off_49C430)(int) = &sub_4407F0; // weak
int (__stdcall *off_49C560)(int) = &sub_440C20; // weak
int (__stdcall *off_49C638)(int) = &sub_440C20; // weak
int (__stdcall *off_49C710)(int) = &sub_440C20; // weak
int (__stdcall *off_49C7E8)(int) = &sub_440C20; // weak
int (__stdcall *off_49D000)(int) = &sub_4431C0; // weak
int (__stdcall *off_49D048)(int) = &sub_443820; // weak
const char aBs[] = "bs"; // idb
int (__stdcall *off_49D0C0)(int) = &sub_446440; // weak
void *off_49D440 = (void *)0x494962; // weak
const char asc_49D740[1] = "/"; // idb
const char asc_49D7AC[1] = "/"; // idb
const char aAu[3] = "/"; // idb
const char asc_49DA18[1] = "/"; // idb
const char asc_49DA70[1] = "/"; // idb
const char aAiu[4] = "/"; // idb
int (__stdcall *off_49DDB0)(int) = &sub_4242C0; // weak
int (__stdcall *off_49DE78[3])(int) = { &sub_46C530, &sub_46B6B0, &sub_46C4E0 }; // weak
int (__stdcall *off_49DE80)(int) = &sub_46C4E0; // weak
int (__stdcall *off_49DE88[18])(int) =
{
  &sub_46C530,
  &sub_46B6E0,
  &sub_46C530,
  &sub_46B700,
  &sub_46C530,
  &sub_46B760,
  &sub_46C620,
  &sub_46B790,
  &sub_46C530,
  &sub_46B850,
  &sub_46C530,
  &sub_46B880,
  &sub_46C530,
  &sub_46B8A0,
  &sub_46C530,
  &sub_46B8C0,
  &sub_46C530,
  &sub_46B8F0
}; // weak
int (__stdcall *off_49DE90[16])(int) =
{
  &sub_46C530,
  &sub_46B700,
  &sub_46C530,
  &sub_46B760,
  &sub_46C620,
  &sub_46B790,
  &sub_46C530,
  &sub_46B850,
  &sub_46C530,
  &sub_46B880,
  &sub_46C530,
  &sub_46B8A0,
  &sub_46C530,
  &sub_46B8C0,
  &sub_46C530,
  &sub_46B8F0
}; // weak
int (__stdcall *off_49DE98[14])(int) =
{
  &sub_46C530,
  &sub_46B760,
  &sub_46C620,
  &sub_46B790,
  &sub_46C530,
  &sub_46B850,
  &sub_46C530,
  &sub_46B880,
  &sub_46C530,
  &sub_46B8A0,
  &sub_46C530,
  &sub_46B8C0,
  &sub_46C530,
  &sub_46B8F0
}; // weak
int (__stdcall *off_49DEA0[12])(int) =
{
  &sub_46C620,
  &sub_46B790,
  &sub_46C530,
  &sub_46B850,
  &sub_46C530,
  &sub_46B880,
  &sub_46C530,
  &sub_46B8A0,
  &sub_46C530,
  &sub_46B8C0,
  &sub_46C530,
  &sub_46B8F0
}; // weak
int (__stdcall *off_49DEA8[10])(int) =
{
  &sub_46C530,
  &sub_46B850,
  &sub_46C530,
  &sub_46B880,
  &sub_46C530,
  &sub_46B8A0,
  &sub_46C530,
  &sub_46B8C0,
  &sub_46C530,
  &sub_46B8F0
}; // weak
int (__stdcall *off_49DEB0[8])(int) =
{
  &sub_46C530,
  &sub_46B880,
  &sub_46C530,
  &sub_46B8A0,
  &sub_46C530,
  &sub_46B8C0,
  &sub_46C530,
  &sub_46B8F0
}; // weak
int (__stdcall *off_49DEB8[6])(int) = { &sub_46C530, &sub_46B8A0, &sub_46C530, &sub_46B8C0, &sub_46C530, &sub_46B8F0 }; // weak
int (__stdcall *off_49DEC0[4])(int) = { &sub_46C530, &sub_46B8C0, &sub_46C530, &sub_46B8F0 }; // weak
int (__stdcall *off_49DEC8[2])(int) = { &sub_46C530, &sub_46B8F0 }; // weak
int (__stdcall *off_49DF68[3])(int) = { &sub_46D050, &sub_46B950, &sub_46CFA0 }; // weak
int (__stdcall *off_49DF70)(int) = &sub_46CFA0; // weak
int (__stdcall *off_49DF78[24])(int) =
{
  &sub_46D050,
  &sub_46B980,
  &sub_46D050,
  &sub_46B9A0,
  &sub_46D050,
  &sub_46BA20,
  &sub_46D130,
  &sub_46BA50,
  &sub_46D050,
  &sub_46BB80,
  &sub_46D050,
  &sub_46BC00,
  &sub_46D050,
  &sub_46BC50,
  &sub_46D050,
  &sub_46BCA0,
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DF80[22])(int) =
{
  &sub_46D050,
  &sub_46B9A0,
  &sub_46D050,
  &sub_46BA20,
  &sub_46D130,
  &sub_46BA50,
  &sub_46D050,
  &sub_46BB80,
  &sub_46D050,
  &sub_46BC00,
  &sub_46D050,
  &sub_46BC50,
  &sub_46D050,
  &sub_46BCA0,
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DF88[20])(int) =
{
  &sub_46D050,
  &sub_46BA20,
  &sub_46D130,
  &sub_46BA50,
  &sub_46D050,
  &sub_46BB80,
  &sub_46D050,
  &sub_46BC00,
  &sub_46D050,
  &sub_46BC50,
  &sub_46D050,
  &sub_46BCA0,
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DF90[18])(int) =
{
  &sub_46D130,
  &sub_46BA50,
  &sub_46D050,
  &sub_46BB80,
  &sub_46D050,
  &sub_46BC00,
  &sub_46D050,
  &sub_46BC50,
  &sub_46D050,
  &sub_46BCA0,
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DF98[16])(int) =
{
  &sub_46D050,
  &sub_46BB80,
  &sub_46D050,
  &sub_46BC00,
  &sub_46D050,
  &sub_46BC50,
  &sub_46D050,
  &sub_46BCA0,
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DFA0[14])(int) =
{
  &sub_46D050,
  &sub_46BC00,
  &sub_46D050,
  &sub_46BC50,
  &sub_46D050,
  &sub_46BCA0,
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DFA8[12])(int) =
{
  &sub_46D050,
  &sub_46BC50,
  &sub_46D050,
  &sub_46BCA0,
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DFB0[10])(int) =
{
  &sub_46D050,
  &sub_46BCA0,
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DFB8[8])(int) =
{
  &sub_46D050,
  &sub_46BCC0,
  &sub_46D050,
  &sub_46BCE0,
  &sub_46D050,
  &sub_46BD90,
  &sub_46D050,
  &sub_46BDB0
}; // weak
int (__stdcall *off_49DFC0[6])(int) = { &sub_46D050, &sub_46BCE0, &sub_46D050, &sub_46BD90, &sub_46D050, &sub_46BDB0 }; // weak
int (__stdcall *off_49DFC8[4])(int) = { &sub_46D050, &sub_46BD90, &sub_46D050, &sub_46BDB0 }; // weak
int (__stdcall *off_49DFD0[2])(int) = { &sub_46D050, &sub_46BDB0 }; // weak
int (__stdcall *off_49E074)(int) = &sub_46FBD0; // weak
int (__stdcall *off_49E090)(int) = &sub_46FDD0; // weak
int (__stdcall *off_49E1F8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E268)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E2B8)(int, int) = &sub_471EC0; // weak
int (__stdcall *off_49E308)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E358)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E3A8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E3F8)(int, int) = &sub_472530; // weak
int (__stdcall *off_49E458)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E4B8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E518)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E578)(int, int) = &sub_479AE0; // weak
int (__stdcall *off_49E5C8)(int, int) = &sub_479AE0; // weak
int (__stdcall *off_49E618)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E678)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E6D8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E738)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E798)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E7F8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E858)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E8B8)(int, int) = &sub_472F70; // weak
int (__stdcall *off_49E918)(int, int) = &sub_473100; // weak
int (__stdcall *off_49E978)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49E9D8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EA38)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EA98)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EAF8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EB50)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EBA8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EC00)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EC58)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49ECB0)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49ED08)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49ED60)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EDB8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EE10)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EE68)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EEC0)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49EF18)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49EF88)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49EFF8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F068)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F0D8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F148)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F1B8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F228)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F298)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49F308)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49F378)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F3D8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F438)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F498)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F4F8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F558)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49F5A8)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_49F600)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_49F658)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_49F6B0)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_49F708)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_49F760)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_49F7B8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F808)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F858)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F8A8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F8F8)(int, int) = &sub_476BF0; // weak
int (__stdcall *off_49F948)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F998)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49F9E8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49FA38)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49FA88)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49FAD8)(int, int) = &sub_477100; // weak
int (__stdcall *off_49FB30)(int, int) = &sub_477100; // weak
int (__stdcall *off_49FB88)(int, int) = &sub_477100; // weak
int (__stdcall *off_49FBE0)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49FC30)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49FC80)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49FCD0)(int, int) = &sub_477660; // weak
int (__stdcall *off_49FD20)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49FD70)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49FDD0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49FE30)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49FE90)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49FEE0)(int, int) = &sub_471A10; // weak
int (__stdcall *off_49FF30)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_49FF80)(int, int) = &sub_478160; // weak
int (__stdcall *off_49FFD0)(int, int) = &sub_4783A0; // weak
int (__stdcall *off_4A0020)(int, int) = &sub_478550; // weak
int (__stdcall *off_4A0070)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_4A00C0)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A0110)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A0160)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A01B0)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A0200)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0250)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_4A02A0)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_4A02F0)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A0340)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A0390)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A03E0)(int, int) = &sub_4798F0; // weak
int (__stdcall *off_4A0430)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A0480)(int, int) = &sub_479AE0; // weak
int (__stdcall *off_4A04D0)(int, int) = &sub_479C70; // weak
int (__stdcall *off_4A0520)(int, int) = &sub_479EA0; // weak
int (__stdcall *off_4A0570)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A05C0)(int, int) = &sub_47A140; // weak
int (__stdcall *off_4A0610)(int, int) = &sub_47A7E0; // weak
int (__stdcall *off_4A0670)(int, int) = &sub_47A360; // weak
int (__stdcall *off_4A06D0)(int, int) = &sub_47A7E0; // weak
int (__stdcall *off_4A0730)(int, int) = &sub_47A7E0; // weak
int (__stdcall *off_4A0790)(int, int) = &sub_47A7E0; // weak
int (__stdcall *off_4A07F0)(int, int) = &sub_47A7E0; // weak
int (__stdcall *off_4A0850)(int, int) = &sub_47A870; // weak
int (__stdcall *off_4A08B0)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0910)(int, int) = &sub_47A980; // weak
int (__stdcall *off_4A0970)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A09D0)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0A30)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0A90)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0AF0)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0B50)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0BB0)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0C10)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0C70)(int, int) = &sub_47AE10; // weak
int (__stdcall *off_4A0CD0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0D28)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0D80)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0DD8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0E30)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0E88)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0EE0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0F38)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0F90)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A0FE8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1040)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1098)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A10F0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1148)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A11A0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A11F8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1250)(int, int) = &sub_47B750; // weak
int (__stdcall *off_4A12A8)(int, int) = &sub_47BA70; // weak
int (__stdcall *off_4A1318)(int, int) = &sub_47BA70; // weak
int (__stdcall *off_4A1368)(int, int) = &sub_47B750; // weak
int (__stdcall *off_4A13C8)(int, int) = &sub_47B750; // weak
int (__stdcall *off_4A1428)(int, int) = &sub_47BA70; // weak
int (__stdcall *off_4A1478)(int, int) = &sub_47B750; // weak
int (__stdcall *off_4A14D8)(int, int) = &sub_47B750; // weak
int (__stdcall *off_4A1528)(int, int) = &sub_47BA70; // weak
int (__stdcall *off_4A1578)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A15E8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1658)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A16C8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1738)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A1788)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A17D8)(int, int) = &sub_471A10; // weak
int (__stdcall *off_4A1828)(int, int) = &sub_47A360; // weak
int (__stdcall *off_4A1888)(int, int) = &sub_47A360; // weak
int (__stdcall *off_4A18E8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1958)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A19C8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1A38)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1AA8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4A1D14)(int) = &sub_482B50; // weak
int (__stdcall *off_4A1D30)(int) = &sub_483000; // weak
int (__stdcall *off_4A2048)(int) = &sub_4849A0; // weak
char byte_4A2090[16384] =
{
  ')',
  ',',
  '',
  'c',
  '',
  '\x8D',
  '',
  '',
  '',
  '',
  '',
  'J',
  '`',
  '',
  '',
  'I',
  '',
  '?',
  '',
  'f',
  'W',
  'T',
  '\v',
  '\x9D',
  'Q',
  '',
  '',
  'M',
  'S',
  'k',
  '',
  '',
  '',
  '\n',
  'u',
  '',
  '$',
  '',
  '',
  '&',
  '6',
  't',
  '\x16',
  'j',
  '',
  '',
  '',
  '\x1A',
  'b',
  'H',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '',
  '',
  ';',
  '0',
  'X',
  '',
  '',
  '',
  'F',
  '\x0F',
  'N',
  '',
  '',
  '=',
  '',
  'e',
  'K',
  '\x1F',
  '',
  '\x05',
  'C',
  'A',
  '/',
  'g',
  '}',
  '',
  'Y',
  '',
  'o',
  '',
  '\r',
  '\"',
  '^',
  '',
  'm',
  '\x0E',
  'q',
  '',
  '',
  '4',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '!',
  '',
  '-',
  'V',
  '',
  'p',
  'O',
  '\x7F',
  'G',
  '*',
  '7',
  '5',
  '\x03',
  '',
  '{',
  '%',
  '\x01',
  '',
  '',
  '\x15',
  '\x11',
  'U',
  'h',
  '',
  '',
  '',
  '',
  '',
  'D',
  's',
  'w',
  '\'',
  '',
  '|',
  '',
  '',
  ']',
  '',
  '',
  '',
  '\x1C',
  '',
  'B',
  'z',
  '\x13',
  '',
  'P',
  '',
  '\x06',
  '\t',
  'L',
  '',
  '\x18',
  '\x1E',
  '',
  '\x90',
  '.',
  '',
  '#',
  'a',
  '',
  '',
  'y',
  '>',
  '',
  '\xFF',
  'l',
  'Z',
  '',
  '',
  '',
  '\x02',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '',
  '(',
  'i',
  '',
  '\x8F',
  '~',
  '\a',
  '\x04',
  '',
  '',
  'n',
  '',
  'v',
  '8',
  '9',
  '\x19',
  '',
  '\x14',
  '',
  '',
  '',
  '\f',
  '3',
  '',
  '',
  '',
  '',
  '',
  '',
  'x',
  '',
  '',
  '_',
  ' ',
  '\0',
  '',
  '<',
  '',
  '',
  'R',
  'E',
  '\x81',
  '',
  '\x10',
  '',
  '',
  '@',
  '',
  '\\',
  '',
  '',
  '',
  '[',
  '+',
  '',
  '',
  'd',
  '',
  'r',
  '1',
  '',
  '2',
  '',
  '',
  '\x12',
  '\x1D',
  '',
  ':',
  '',
  '',
  '',
  '',
  '',
  '$',
  '>',
  '{',
  '',
  '',
  'j',
  '\x19',
  '',
  '/',
  'e',
  '(',
  '',
  'T',
  '',
  '',
  '',
  '',
  '4',
  'C',
  'l',
  'x',
  '|',
  '\x1F',
  '',
  '',
  '',
  '',
  'N',
  '\0',
  '',
  '\x17',
  '@',
  '\x0E',
  '=',
  '',
  'Q',
  '',
  '',
  'f',
  '',
  '',
  'q',
  '',
  '',
  '\x0F',
  '',
  '^',
  '',
  '\"',
  'O',
  '',
  '\x03',
  '',
  '',
  '2',
  'm',
  '',
  '\x12',
  '',
  '\x8F',
  '',
  'c',
  '',
  ':',
  '',
  '\v',
  '\f',
  '',
  '\x01',
  's',
  '',
  '',
  '',
  '\x10',
  '',
  'i',
  '~',
  '',
  '',
  '',
  '',
  ']',
  'v',
  '',
  '',
  '',
  '}',
  'A',
  '',
  '\x1E',
  'y',
  '',
  '',
  '',
  'Y',
  '',
  '1',
  '',
  '',
  '',
  'p',
  '',
  '',
  'H',
  '',
  '',
  'b',
  '9',
  '',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x7F',
  '\x13',
  '',
  '',
  '',
  '',
  'h',
  '&',
  '',
  ' ',
  'D',
  ';',
  'U',
  '',
  'k',
  '',
  '',
  '\x81',
  '\x05',
  '',
  '#',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  '<',
  '5',
  '',
  '',
  'J',
  '',
  'o',
  'R',
  '',
  'M',
  '',
  '\x04',
  '\x11',
  '!',
  '[',
  '',
  '_',
  ')',
  '',
  '',
  'n',
  '\x18',
  '8',
  'V',
  ',',
  '-',
  '',
  '',
  'X',
  '',
  '',
  '',
  '\n',
  '3',
  '',
  '',
  '',
  'd',
  'r',
  '',
  '6',
  'G',
  '+',
  'S',
  '',
  'F',
  '7',
  '',
  '\\',
  '\x16',
  'P',
  '\x1D',
  '',
  'W',
  '0',
  '\x06',
  '',
  'K',
  '\r',
  '',
  'I',
  '\'',
  '',
  '',
  '',
  '?',
  'w',
  'g',
  '\x1A',
  '',
  '\xFF',
  'u',
  '',
  '',
  '%',
  '',
  '`',
  't',
  'a',
  '\x1B',
  'L',
  '\x15',
  '\x90',
  'z',
  '',
  '\x8D',
  '',
  '',
  'B',
  '',
  '\t',
  'E',
  '\x14',
  '',
  '',
  '\a',
  '*',
  '\b',
  '',
  '',
  '',
  '',
  '\x02',
  '.',
  'Z',
  '',
  'i',
  'U',
  'R',
  '',
  '',
  '\f',
  '',
  '',
  '\x18',
  '',
  '',
  '~',
  '',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  '(',
  '\x11',
  '',
  '',
  '',
  '',
  '\x17',
  '*',
  '',
  '',
  '',
  '',
  '&',
  'm',
  '\x02',
  '',
  '',
  '',
  '',
  '6',
  '',
  'y',
  '\x05',
  '9',
  'x',
  '',
  '',
  'O',
  'v',
  '',
  'N',
  'F',
  '',
  'z',
  'n',
  'Z',
  '',
  '',
  '0',
  '',
  'Y',
  '',
  '\b',
  'P',
  '',
  'd',
  '',
  '>',
  '',
  '\x14',
  'J',
  '',
  '%',
  '',
  '',
  '\n',
  '-',
  '',
  'I',
  '',
  '',
  '',
  'c',
  '',
  '}',
  '',
  '',
  'M',
  '{',
  ']',
  '@',
  '\'',
  '\x8D',
  '',
  '',
  '',
  '\x0E',
  '\x7F',
  '\x0F',
  '_',
  '',
  '7',
  '',
  '',
  'h',
  '',
  '.',
  '\\',
  'V',
  '',
  '',
  '',
  '',
  'e',
  '2',
  '\x16',
  'C',
  '',
  '<',
  '\x1E',
  '\x1D',
  '',
  '',
  '',
  '',
  's',
  'T',
  '\x03',
  '',
  '',
  '',
  '^',
  '',
  '\0',
  '',
  'g',
  '3',
  '',
  'p',
  '',
  '',
  '\a',
  'G',
  '',
  '',
  '',
  '',
  'W',
  '1',
  '\x1C',
  '',
  '\x15',
  '8',
  '',
  ':',
  '\x1A',
  ')',
  'r',
  't',
  '\t',
  '',
  '',
  '',
  'E',
  '',
  '[',
  '',
  '\x01',
  'l',
  '',
  'b',
  '',
  '',
  '',
  '?',
  '\x90',
  '',
  '\x1F',
  '\x04',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x06',
  'A',
  'o',
  '',
  '',
  '',
  'L',
  '',
  '',
  'w',
  '',
  '',
  'K',
  ';',
  '!',
  '',
  '',
  '#',
  '\x81',
  '+',
  ' ',
  '',
  '',
  '5',
  '\"',
  'a',
  '',
  '',
  ',',
  'k',
  'B',
  'H',
  '\x12',
  '',
  '',
  '',
  '\x10',
  '',
  '\x9D',
  '`',
  '\r',
  '',
  '',
  'X',
  'Q',
  '',
  '4',
  'u',
  'q',
  '',
  '',
  '',
  '',
  '$',
  '\v',
  '\x8F',
  'S',
  'D',
  'j',
  '=',
  '',
  '\xFF',
  '',
  '\x13',
  '',
  '/',
  '',
  '\x1B',
  'f',
  '|',
  'D',
  '',
  '',
  '5',
  '=',
  '\0',
  '\x04',
  'g',
  '',
  '',
  ';',
  '',
  '',
  '\t',
  '\x1F',
  '',
  '',
  '%',
  '',
  '',
  'X',
  '\x1E',
  '\x16',
  '',
  'e',
  '',
  '',
  'S',
  'c',
  'd',
  '@',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  '*',
  'z',
  'J',
  'U',
  '',
  '`',
  'W',
  '~',
  '2',
  'j',
  '',
  '',
  ',',
  '\a',
  ':',
  '',
  'P',
  '',
  '',
  '',
  '\x02',
  '3',
  '\x10',
  '',
  '\x17',
  '\x7F',
  '!',
  '\x13',
  '',
  '',
  '',
  '',
  '\v',
  '\x81',
  '\x1D',
  'v',
  '',
  '>',
  '\x03',
  'm',
  'F',
  '\x90',
  '\x11',
  '',
  '8',
  'a',
  '1',
  '',
  '',
  '',
  '\x1C',
  '\x1A',
  '\x1B',
  '',
  '[',
  '6',
  '#',
  '',
  'n',
  '(',
  '',
  '',
  '',
  '',
  '',
  ']',
  '',
  '',
  '',
  '?',
  '\x0F',
  '',
  '',
  'q',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '}',
  '&',
  '',
  '<',
  '',
  '',
  '',
  'N',
  '',
  '\x19',
  '\\',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  'Y',
  '',
  '\x8F',
  '',
  'y',
  '',
  'H',
  '',
  '',
  '',
  'K',
  'b',
  '\"',
  '',
  'w',
  '\x15',
  's',
  '',
  'f',
  '',
  '\xFF',
  ')',
  '\x8D',
  '',
  '',
  'p',
  '',
  '',
  '',
  '$',
  'L',
  '\n',
  '{',
  '',
  '',
  '^',
  '-',
  '',
  '',
  '',
  'O',
  '',
  '\b',
  '4',
  ' ',
  '',
  '',
  'B',
  '',
  '\x01',
  'Q',
  'E',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  'l',
  '',
  '',
  '',
  '',
  'C',
  'V',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '\f',
  '',
  '',
  'Z',
  '_',
  '',
  '|',
  '',
  '.',
  '',
  'I',
  'o',
  '',
  '7',
  'M',
  '\r',
  '',
  '',
  '/',
  'x',
  'k',
  '',
  '\x06',
  '',
  '',
  '\x14',
  'R',
  '',
  '',
  '',
  'G',
  '',
  '0',
  '\'',
  'r',
  '',
  '',
  'h',
  '\x05',
  '+',
  '9',
  'i',
  'u',
  'A',
  '',
  '\x1F',
  '>',
  't',
  'D',
  ';',
  '',
  '',
  '',
  'Y',
  'C',
  'G',
  'm',
  'L',
  '',
  '\x14',
  '',
  '`',
  'R',
  '7',
  '',
  '#',
  '',
  '\x13',
  '',
  ' ',
  '\x19',
  '',
  '',
  '',
  '',
  '5',
  '',
  '&',
  '',
  '',
  '\v',
  '',
  '\x17',
  'f',
  '@',
  '',
  '\x03',
  '{',
  '\x0F',
  'H',
  '',
  '\x15',
  '',
  '',
  '',
  '\x10',
  '',
  '',
  '',
  '9',
  'a',
  '',
  '',
  '-',
  'V',
  '',
  '\x06',
  'b',
  '',
  '^',
  '',
  '2',
  '',
  'z',
  '',
  'U',
  '\x1A',
  '',
  '',
  '*',
  'T',
  '\'',
  '<',
  '',
  'e',
  'A',
  '',
  '',
  '',
  'I',
  '|',
  '',
  '\x11',
  'l',
  '',
  '\x81',
  '',
  '',
  '',
  'p',
  'r',
  '?',
  '\x8F',
  '',
  '',
  'd',
  '\x1E',
  'h',
  '\x1B',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  '$',
  '\x0E',
  '',
  ']',
  '\x02',
  '',
  '',
  'F',
  '',
  '',
  '4',
  '',
  'P',
  'Z',
  '',
  '\x1C',
  'g',
  '6',
  'q',
  'j',
  'N',
  '',
  'S',
  '',
  '',
  'u',
  '',
  'x',
  '\x1D',
  '',
  '\x90',
  'k',
  'v',
  ')',
  '',
  '',
  '}',
  '',
  '',
  'E',
  '',
  '',
  '\b',
  '',
  '',
  '',
  '',
  '\x9D',
  '\n',
  '',
  '',
  '',
  '',
  's',
  '',
  '',
  '',
  'J',
  '',
  '',
  'c',
  '',
  '',
  '',
  '',
  '\x04',
  '8',
  '',
  '\a',
  'X',
  '',
  '',
  '',
  '1',
  '.',
  '\"',
  '',
  '\x7F',
  '[',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  '\t',
  '',
  '+',
  '\f',
  'W',
  '!',
  'y',
  '%',
  '',
  '',
  '~',
  '',
  '',
  '',
  '\x05',
  '\x01',
  '',
  'O',
  '',
  'w',
  ',',
  '',
  '',
  '',
  '',
  '',
  '',
  'B',
  '',
  '',
  '',
  'Q',
  '\x16',
  'n',
  '',
  ':',
  '\x8D',
  '\x18',
  '0',
  'M',
  'o',
  '(',
  '',
  '',
  '',
  '',
  '',
  '_',
  '\\',
  '',
  '=',
  '\0',
  '',
  '',
  '\r',
  'K',
  'i',
  '/',
  '',
  '',
  '3',
  'Y',
  '',
  'X',
  '=',
  '',
  '',
  '\x16',
  'C',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '\r',
  '',
  '',
  '',
  '',
  'c',
  '',
  '\x1B',
  '\x0F',
  '#',
  '',
  '',
  '/',
  '\x11',
  '',
  '',
  '',
  'p',
  '<',
  '',
  '',
  'z',
  'o',
  '',
  '',
  '',
  '',
  'w',
  '&',
  '',
  'T',
  '',
  '',
  '',
  '(',
  '',
  '',
  '~',
  'h',
  '\x8F',
  '_',
  'G',
  '',
  'S',
  'O',
  '',
  '?',
  '',
  '\xFF',
  '',
  '6',
  '',
  '>',
  'U',
  '\x1E',
  '',
  'N',
  '',
  '\\',
  '',
  'A',
  ']',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\0',
  'f',
  '',
  '',
  '',
  '',
  '',
  '[',
  '',
  '\x1F',
  'V',
  '}',
  '\'',
  '',
  '',
  '\x1A',
  'W',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  '',
  '\x13',
  '',
  'j',
  '',
  'E',
  's',
  '',
  '\x03',
  '5',
  'n',
  '',
  '',
  'i',
  '\x17',
  '',
  'd',
  '',
  '',
  'k',
  '',
  'x',
  ';',
  'Q',
  '',
  '',
  '',
  '9',
  'm',
  '',
  'a',
  '$',
  '\"',
  ')',
  '',
  '\v',
  '\x06',
  '',
  '.',
  '',
  '\x1D',
  '\x18',
  ':',
  '',
  '',
  '',
  '%',
  '\x81',
  '',
  '\x05',
  '2',
  '8',
  ' ',
  'D',
  'r',
  '\f',
  'Z',
  't',
  '',
  '-',
  '',
  '',
  'q',
  '',
  '',
  '',
  '4',
  '+',
  '',
  '',
  '\x02',
  '\a',
  'v',
  '!',
  '',
  '',
  '',
  '',
  '\x8D',
  '',
  '^',
  'y',
  '',
  '|',
  '',
  '\x1C',
  'I',
  '',
  '\b',
  '',
  '',
  '',
  '3',
  'H',
  '',
  '0',
  '\x04',
  '',
  '',
  '\x9D',
  'J',
  '\t',
  '',
  'M',
  '',
  'g',
  'e',
  '',
  '',
  '`',
  '',
  '',
  '\n',
  '\x10',
  '@',
  '\x19',
  '',
  '7',
  'u',
  '\x12',
  '\x90',
  '',
  'l',
  '{',
  '',
  'K',
  '',
  '*',
  '\x14',
  'F',
  '1',
  '',
  '',
  '',
  '',
  '',
  '',
  'P',
  'L',
  'b',
  'B',
  '',
  '\x0E',
  '',
  '',
  '',
  'R',
  '\x7F',
  ',',
  '',
  '',
  'T',
  '',
  '',
  '\x9D',
  '',
  '',
  '',
  'j',
  '{',
  'Y',
  '',
  '',
  '[',
  '',
  ']',
  'Q',
  'I',
  '',
  '|',
  '',
  '',
  '\'',
  '\x1C',
  '',
  'P',
  '\x8F',
  '',
  '\x19',
  '',
  '',
  '&',
  '}',
  'M',
  'k',
  '',
  'z',
  '',
  '',
  '',
  '',
  '\x05',
  'L',
  '',
  '2',
  '%',
  '',
  '',
  '\"',
  '0',
  '',
  '$',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '\x16',
  '\x81',
  '\x90',
  '\f',
  '',
  'V',
  '\x04',
  '',
  '',
  '',
  '',
  '',
  '',
  'X',
  'x',
  '6',
  '',
  '',
  'm',
  '',
  '',
  'H',
  '',
  '',
  's',
  '',
  'q',
  '',
  'c',
  '',
  '',
  '',
  '',
  'J',
  '',
  'B',
  '\xFF',
  '',
  '',
  ',',
  'R',
  '>',
  '\x15',
  ')',
  '3',
  '\x12',
  '4',
  'o',
  'A',
  'S',
  'Z',
  '~',
  '',
  '',
  '',
  '',
  '',
  '',
  'g',
  '',
  '\x1B',
  '#',
  '\x0F',
  '\x14',
  '(',
  '`',
  '',
  '',
  '',
  '\x02',
  '\x03',
  'r',
  '9',
  '',
  '',
  '<',
  '5',
  '^',
  '',
  '\x18',
  '',
  '*',
  '',
  '',
  'v',
  '',
  '',
  '',
  '',
  '',
  '\a',
  'e',
  '',
  'W',
  '\x1A',
  'w',
  '\v',
  '',
  '',
  'C',
  'O',
  '7',
  '\x06',
  '',
  '',
  '\0',
  '',
  '',
  'd',
  '/',
  '',
  '!',
  '\x10',
  'a',
  '',
  '',
  '\\',
  '',
  '_',
  'u',
  '\x7F',
  '',
  '\x11',
  '\n',
  '1',
  'y',
  'F',
  '',
  '',
  '',
  '?',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'f',
  '\x13',
  '',
  '-',
  '',
  '',
  '\x1E',
  '',
  '',
  'N',
  'b',
  'i',
  'E',
  '',
  'D',
  '.',
  ' ',
  '\r',
  '',
  '',
  '=',
  '+',
  'G',
  '',
  '',
  '',
  '',
  'U',
  'p',
  '',
  '\b',
  ';',
  'l',
  '\x01',
  '\x17',
  '',
  '',
  '\t',
  '',
  '\x8D',
  '\x1F',
  '8',
  '',
  'h',
  '',
  '',
  '@',
  '',
  '',
  '\x1D',
  '',
  'K',
  '',
  ':',
  '',
  't',
  'n',
  '',
  '',
  '',
  '&',
  '}',
  '',
  '\'',
  '3',
  '\x1B',
  '',
  'S',
  '',
  'o',
  '0',
  '',
  '\x90',
  '',
  '',
  'U',
  'Y',
  'c',
  '\x1A',
  '',
  '',
  '',
  '\x10',
  '',
  '\x13',
  '',
  '{',
  '\"',
  '',
  ')',
  '',
  '',
  '2',
  '',
  '',
  '*',
  '\f',
  '',
  '',
  'e',
  '(',
  '`',
  '',
  'Q',
  '#',
  '',
  '=',
  '',
  '',
  'H',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  'f',
  '',
  'y',
  '\x16',
  'A',
  '',
  '\x14',
  'k',
  '',
  '',
  'D',
  '',
  '',
  '',
  '',
  ',',
  'n',
  '',
  '',
  '',
  '',
  'I',
  'C',
  '',
  '',
  '',
  's',
  '',
  'm',
  '',
  'G',
  'T',
  '\x1C',
  '|',
  '-',
  '\x11',
  '\0',
  'b',
  '\x12',
  '',
  '1',
  'J',
  '',
  '%',
  '\x05',
  '',
  '',
  '',
  '\x81',
  '9',
  'i',
  '\a',
  'w',
  'x',
  '',
  'N',
  '\x0E',
  'l',
  '\\',
  '\x1E',
  'K',
  '',
  ';',
  '',
  '',
  't',
  '',
  '',
  '\x8F',
  'W',
  '',
  'V',
  '',
  '',
  '',
  '7',
  '\b',
  'L',
  'g',
  '',
  '',
  '\x9D',
  '',
  '^',
  'u',
  '',
  '\r',
  'O',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '$',
  '\x0F',
  '4',
  '\x06',
  '',
  '',
  '?',
  '\xFF',
  '',
  '',
  '\x7F',
  '',
  '',
  '',
  '',
  '/',
  '\x19',
  '8',
  '',
  '!',
  '',
  'd',
  '',
  '',
  '',
  ' ',
  'P',
  '6',
  '',
  '',
  '',
  '',
  '',
  '_',
  '~',
  '',
  '\v',
  'R',
  ':',
  '\x03',
  '',
  'z',
  '\x02',
  '\x18',
  '[',
  '\x01',
  '\x1D',
  '',
  '',
  'a',
  '',
  '',
  '+',
  '',
  '@',
  '',
  '',
  '',
  '<',
  '\x17',
  '',
  'p',
  '.',
  '',
  '',
  'r',
  '\t',
  '',
  '',
  'j',
  '',
  '',
  '\x04',
  'q',
  'E',
  '',
  'F',
  '',
  'Z',
  '',
  ']',
  '\x8D',
  '',
  'B',
  'v',
  '\x1F',
  '',
  '',
  '>',
  'X',
  '',
  'M',
  '5',
  '\n',
  '',
  '',
  '',
  '',
  'h',
  '',
  '',
  '',
  '\x10',
  '\x18',
  '*',
  'x',
  '\x90',
  'R',
  'm',
  '',
  '',
  'Q',
  '',
  '',
  '\x14',
  '\\',
  '\x0E',
  '',
  '\f',
  '-',
  '',
  '',
  '\x05',
  'V',
  'F',
  '',
  '',
  'r',
  '',
  '',
  '',
  '4',
  'X',
  '\x81',
  '\"',
  '',
  '',
  'e',
  'j',
  '',
  'U',
  '',
  '\x8D',
  's',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x19',
  '<',
  'z',
  '',
  '',
  'L',
  '',
  '',
  'M',
  'n',
  '\x02',
  '',
  '~',
  '',
  'G',
  '',
  '',
  '',
  '\v',
  '',
  '\x13',
  '',
  '7',
  '',
  '#',
  '\t',
  '',
  '0',
  ')',
  '',
  '',
  '\x11',
  '\x03',
  'I',
  '',
  'K',
  '',
  '',
  '',
  '\0',
  '>',
  'C',
  '',
  '',
  '\x1B',
  '\x7F',
  '',
  'l',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'B',
  '&',
  '',
  '',
  'W',
  '\x17',
  'q',
  '5',
  '',
  '',
  '|',
  '\x12',
  '',
  '\x0F',
  '',
  '',
  '',
  '',
  'b',
  '\x15',
  'd',
  '',
  '',
  '',
  '\r',
  '',
  ']',
  '',
  '\x16',
  '(',
  '',
  '\x8F',
  '',
  '',
  '\x1E',
  '3',
  '',
  'a',
  '',
  '1',
  '',
  '',
  '6',
  '',
  '',
  'Y',
  '',
  '\a',
  '',
  ':',
  '[',
  'S',
  'T',
  '',
  '?',
  '',
  'Z',
  '}',
  '%',
  '\x04',
  'A',
  ' ',
  '$',
  ';',
  '',
  '',
  'w',
  'P',
  '8',
  'H',
  '=',
  '\x1D',
  '',
  '\x9D',
  '',
  '9',
  '',
  '\n',
  '',
  'N',
  'h',
  '',
  't',
  '\x1C',
  'k',
  '',
  'v',
  '',
  '+',
  '',
  '',
  '.',
  '\x01',
  'i',
  'p',
  '',
  'o',
  '',
  '!',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  '',
  '',
  '\'',
  'J',
  '',
  '',
  'g',
  '',
  'f',
  'E',
  'y',
  '\x1A',
  '{',
  '',
  '',
  '',
  '',
  '\b',
  '`',
  'D',
  '',
  '',
  '',
  '',
  'c',
  'O',
  '',
  '\x06',
  '^',
  'u',
  '',
  '/',
  '',
  ',',
  '',
  '@',
  '_',
  '',
  '2',
  '',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '8',
  '\x9D',
  '\v',
  'p',
  '\x13',
  '',
  '1',
  '',
  '',
  '>',
  '',
  '',
  '',
  '',
  '_',
  '',
  '^',
  '',
  '',
  '',
  'I',
  '|',
  '',
  'U',
  '',
  '',
  '',
  '\x90',
  'w',
  '',
  '',
  '',
  '',
  '9',
  '',
  '',
  '',
  '',
  'P',
  'C',
  '',
  ';',
  '',
  '\x0F',
  'F',
  '',
  'b',
  '',
  '\r',
  'y',
  '`',
  'a',
  '',
  '',
  '2',
  '',
  '\x1F',
  '',
  '',
  ' ',
  '\\',
  '',
  '?',
  '',
  '',
  '',
  '',
  'X',
  '',
  '\x7F',
  '-',
  '',
  '',
  '\a',
  '',
  '',
  'h',
  '',
  '.',
  '',
  '',
  '',
  '',
  '~',
  'O',
  '\x1E',
  '',
  'B',
  '[',
  'r',
  'Z',
  '',
  '',
  '+',
  '!',
  '',
  '',
  '\x11',
  'e',
  '',
  'd',
  '',
  '',
  ']',
  '\x04',
  'G',
  '',
  '',
  '',
  '(',
  '/',
  'x',
  '',
  '\x10',
  '&',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '3',
  '',
  '',
  'l',
  '\x1D',
  '',
  '',
  '',
  '\x1A',
  '',
  '\x8F',
  '\f',
  '',
  '\x15',
  'V',
  '\x19',
  '\xFF',
  '',
  '',
  '',
  '',
  'L',
  '\x06',
  '',
  '',
  '\t',
  '',
  '',
  'S',
  '',
  'v',
  '\x05',
  '=',
  '',
  'M',
  '',
  '',
  '6',
  '\x16',
  '',
  'j',
  '',
  '',
  '',
  '',
  '\x01',
  '\x02',
  '\b',
  '',
  'z',
  '4',
  'A',
  '\n',
  '',
  '\x0E',
  '\x14',
  '',
  'D',
  'g',
  '',
  ':',
  'k',
  '',
  '',
  't',
  '',
  '\x81',
  '',
  'o',
  '@',
  '',
  '}',
  '',
  'H',
  's',
  '\'',
  '',
  '#',
  '\0',
  'i',
  'm',
  'n',
  'N',
  '7',
  '\x1B',
  '',
  'E',
  '',
  'q',
  '',
  '0',
  'Y',
  '5',
  '\x18',
  '',
  ',',
  'c',
  'Q',
  '',
  '\"',
  'f',
  '',
  '',
  'J',
  'R',
  '%',
  '',
  '',
  'K',
  '',
  '',
  'u',
  ')',
  '\x8D',
  '',
  '',
  '$',
  '',
  '',
  '',
  '\x17',
  '',
  '<',
  '{',
  '',
  '\x1C',
  '',
  'T',
  '',
  '\x03',
  '',
  'W',
  '*',
  '',
  '',
  'a',
  '',
  '',
  '',
  '\x0E',
  '/',
  'q',
  '',
  '',
  '~',
  'C',
  '\\',
  'Y',
  '',
  '',
  'G',
  '',
  '',
  '',
  '\xFF',
  '\b',
  '3',
  '',
  '',
  '',
  ',',
  '',
  '\x1E',
  '',
  '',
  ';',
  '',
  'e',
  '\r',
  '\x04',
  'Q',
  'b',
  '',
  'X',
  '',
  '\a',
  '_',
  '\x05',
  'O',
  '\0',
  '',
  '',
  '',
  '',
  'I',
  '',
  'x',
  '|',
  '',
  'D',
  '',
  '}',
  '',
  '',
  '',
  'S',
  '\x11',
  'i',
  '',
  '1',
  'c',
  '.',
  '\x8D',
  '',
  '',
  '*',
  '',
  '',
  'j',
  'L',
  '\n',
  '',
  '=',
  '',
  '',
  '',
  '\'',
  '<',
  '',
  '{',
  '',
  'E',
  'u',
  '[',
  '\x06',
  's',
  '6',
  '',
  'R',
  'p',
  '\x1C',
  'K',
  '',
  '',
  '',
  '',
  '$',
  '',
  '',
  '^',
  ']',
  '\x0F',
  '',
  '-',
  '',
  '',
  '',
  '',
  '',
  '8',
  'M',
  '',
  '',
  'd',
  '&',
  '',
  '',
  '',
  '',
  'r',
  '',
  '\f',
  '@',
  '\x01',
  'F',
  'h',
  '?',
  '\x03',
  '',
  '%',
  'm',
  'z',
  '\x1D',
  '\x9D',
  '\x12',
  '',
  '',
  '\x17',
  '',
  '\x81',
  '',
  '',
  'n',
  '+',
  '',
  '',
  '9',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  'f',
  '',
  '',
  'U',
  '',
  '',
  '',
  '',
  'A',
  '\v',
  '',
  'P',
  'T',
  '',
  '',
  '\x19',
  '',
  '(',
  '',
  '2',
  '',
  '\x13',
  '',
  '\x18',
  '',
  '\x10',
  'w',
  '',
  '',
  '',
  '\x02',
  '\x16',
  'W',
  '\x15',
  'o',
  '',
  '\x14',
  '\"',
  '',
  ':',
  '>',
  '',
  '!',
  '',
  'J',
  '',
  '',
  '`',
  'B',
  '',
  '',
  'N',
  '',
  'l',
  '',
  'g',
  '',
  '\x90',
  '',
  't',
  '0',
  '5',
  '',
  '#',
  '',
  'H',
  'Z',
  '7',
  '\x1A',
  '',
  '\x1F',
  'V',
  '\x8F',
  '',
  'v',
  'y',
  '4',
  '',
  '',
  ' ',
  '\x7F',
  '',
  'k',
  '',
  '',
  '',
  '',
  '\t',
  '',
  '',
  '',
  '',
  ')',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'V',
  'O',
  'i',
  '',
  '\x7F',
  '',
  '',
  '.',
  '\x1B',
  '',
  '',
  '&',
  '',
  '',
  '',
  '',
  '',
  '{',
  ')',
  '',
  '',
  'q',
  '',
  '\x01',
  '',
  'y',
  '',
  'h',
  '\x13',
  '',
  '\x1A',
  '',
  '\'',
  '0',
  '',
  '',
  'l',
  '',
  '',
  '~',
  '\r',
  'A',
  '',
  '>',
  '',
  '',
  '\x14',
  '',
  '',
  '|',
  'r',
  '[',
  '',
  '',
  'g',
  '',
  '5',
  '',
  'N',
  '',
  'F',
  '\x04',
  'L',
  '',
  'j',
  '',
  '',
  'z',
  '\f',
  ']',
  '\x03',
  '\x16',
  '',
  '\0',
  'K',
  '\x15',
  '',
  'k',
  '3',
  '',
  '',
  '\b',
  '',
  'u',
  '',
  '\xFF',
  'R',
  'm',
  '',
  '',
  '\x1E',
  '\x0E',
  '',
  '\t',
  'Z',
  '',
  'U',
  '\n',
  '',
  '',
  '\x17',
  '',
  'I',
  '',
  '',
  '',
  'e',
  '',
  '\x81',
  '\x9D',
  '',
  '',
  '\x0F',
  '\"',
  'p',
  '',
  '\x1F',
  'W',
  '9',
  '',
  'G',
  '2',
  '',
  '',
  '',
  'X',
  's',
  '',
  '',
  'w',
  'E',
  '4',
  '',
  '`',
  'D',
  '',
  '',
  '\x90',
  '',
  '6',
  '\x05',
  '<',
  '',
  '8',
  '',
  '',
  '',
  '',
  '',
  '',
  'M',
  '@',
  '!',
  '\x10',
  '',
  '',
  '',
  '?',
  '',
  'P',
  'B',
  '',
  '_',
  '\x11',
  '',
  'C',
  '%',
  '',
  '*',
  '',
  'S',
  '',
  '',
  '',
  '',
  '',
  '\\',
  '\x1C',
  'Q',
  '',
  '\x06',
  '',
  '\x19',
  '\x8F',
  '\x8D',
  'a',
  'f',
  '',
  't',
  'o',
  'x',
  '\x1D',
  '',
  '',
  '\x18',
  ';',
  '',
  '',
  '(',
  'J',
  'd',
  '',
  'v',
  '\x02',
  'H',
  '',
  'c',
  '\v',
  '',
  '',
  ' ',
  '',
  ',',
  '',
  '',
  'n',
  '',
  'Y',
  'b',
  '1',
  '',
  '',
  '',
  '$',
  '',
  '\x12',
  '/',
  '=',
  '^',
  '}',
  '',
  '',
  '+',
  '',
  ':',
  '',
  '',
  '',
  '',
  '',
  '\a',
  '7',
  '',
  '',
  '',
  '',
  'T',
  '-',
  '#',
  '',
  '_',
  '\x06',
  '',
  '',
  '\t',
  '',
  'Z',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  '~',
  'S',
  '',
  '',
  '',
  'i',
  '',
  '^',
  '',
  '',
  ';',
  '-',
  '\x12',
  '\x7F',
  '',
  'N',
  'g',
  'M',
  '',
  '',
  '',
  '',
  '',
  '%',
  'O',
  '',
  '\x10',
  '',
  '',
  '',
  '.',
  '',
  '\f',
  '',
  '\x8F',
  'r',
  '',
  '>',
  'l',
  'c',
  '',
  '',
  '',
  'k',
  ')',
  '',
  '\x0E',
  'U',
  '',
  '',
  '9',
  'J',
  '',
  't',
  'R',
  '',
  '',
  '',
  '',
  'v',
  '',
  '\b',
  'F',
  '',
  'f',
  ':',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  ',',
  '',
  '#',
  '',
  'a',
  '',
  '',
  'Q',
  '\"',
  '',
  '',
  '',
  '',
  'y',
  '',
  '0',
  '',
  '\xFF',
  'X',
  '',
  '',
  'u',
  ']',
  '',
  '{',
  '',
  'B',
  'H',
  '',
  '@',
  'E',
  '',
  '',
  '\x1A',
  '}',
  '3',
  '',
  '',
  '',
  '\x1E',
  '4',
  '',
  '\x81',
  '',
  ' ',
  'z',
  '\x02',
  '(',
  '\x1F',
  '',
  '\x11',
  '',
  '8',
  '',
  'd',
  'T',
  '\x0F',
  '\'',
  '\x01',
  '\x17',
  '',
  '|',
  '',
  'A',
  '',
  '&',
  '',
  '',
  'e',
  '\n',
  '+',
  '$',
  '',
  '',
  '`',
  'V',
  '\0',
  '',
  '',
  'C',
  '\x16',
  '',
  '\\',
  '?',
  '',
  'D',
  '\x18',
  '<',
  'm',
  '',
  'h',
  '\x9D',
  '\x14',
  'Y',
  '\x13',
  '',
  '\x8D',
  '',
  'x',
  '\x15',
  'p',
  'q',
  '',
  'L',
  '/',
  '',
  '',
  '',
  '5',
  '',
  '\r',
  '',
  'W',
  'b',
  'K',
  'n',
  '\x90',
  '\x04',
  'w',
  '',
  '\a',
  '',
  'I',
  '',
  '',
  '*',
  'G',
  '',
  '',
  '',
  '',
  '6',
  '',
  '',
  '',
  '',
  'o',
  '',
  '',
  '7',
  '\x03',
  '',
  '',
  's',
  '',
  '',
  '1',
  '2',
  'j',
  '',
  '',
  '',
  '\v',
  'P',
  '=',
  '',
  '',
  '',
  '\x05',
  '',
  '!',
  '',
  '\x19',
  '[',
  '\x1E',
  'u',
  '\x04',
  '\x0E',
  '',
  '',
  'i',
  '',
  '|',
  'J',
  '',
  '&',
  '0',
  '',
  '',
  'Y',
  'k',
  '',
  'q',
  '',
  'x',
  '',
  '',
  '4',
  '',
  '\x15',
  '\"',
  '',
  '\x9D',
  '',
  '',
  '',
  '{',
  '/',
  '^',
  '',
  '',
  ']',
  '',
  '5',
  '',
  '',
  '~',
  '=',
  '',
  'a',
  's',
  'f',
  '\t',
  '',
  '9',
  '',
  '%',
  '\x18',
  '',
  '\x10',
  'w',
  '',
  '\x06',
  '_',
  '',
  '',
  '',
  '(',
  '',
  '!',
  ':',
  'G',
  '',
  '?',
  '\x0F',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  '\x12',
  '',
  '',
  '',
  '\x8F',
  '}',
  '',
  '',
  't',
  '\v',
  '#',
  '',
  'A',
  'H',
  '',
  '',
  'p',
  '\'',
  '',
  '\x7F',
  '',
  '',
  '\f',
  '',
  'z',
  '*',
  '\x13',
  'T',
  '\x1B',
  '',
  '',
  '',
  'V',
  '',
  '',
  '',
  'r',
  '\x8D',
  'U',
  '-',
  '',
  '',
  '',
  ';',
  'M',
  '',
  '',
  ' ',
  '',
  '',
  '',
  'D',
  '[',
  '',
  'o',
  '',
  '',
  '<',
  'b',
  '\x01',
  '\x1C',
  '',
  'y',
  '',
  '\x05',
  '',
  '7',
  '>',
  '',
  'l',
  '',
  'e',
  '8',
  '\x17',
  '',
  'v',
  '',
  '',
  '',
  '\b',
  'j',
  '\x02',
  '\\',
  '',
  '',
  '\x11',
  'E',
  'O',
  '',
  '\x1F',
  '',
  '',
  '$',
  '',
  '',
  '',
  'n',
  '@',
  '2',
  'g',
  '`',
  '',
  '',
  '',
  '\r',
  'h',
  '',
  ')',
  '',
  '',
  '',
  'L',
  '',
  'B',
  '1',
  '',
  'R',
  '3',
  'Q',
  '',
  '',
  '',
  '',
  'c',
  'Z',
  '6',
  '.',
  'm',
  '\x03',
  '\x1D',
  'd',
  '',
  '',
  '',
  '',
  'S',
  '\x81',
  '\x90',
  'I',
  '',
  '',
  'F',
  '',
  '',
  ',',
  '',
  '\xFF',
  'P',
  '',
  'W',
  '',
  'X',
  '\0',
  '',
  '',
  '\x1A',
  '\n',
  '+',
  '',
  '',
  '',
  '',
  '',
  '\a',
  'C',
  'N',
  '',
  '',
  '\x16',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  'K',
  '',
  '\"',
  '',
  '',
  'Y',
  '',
  'x',
  '',
  '\x10',
  'G',
  's',
  'C',
  '5',
  '',
  '',
  'N',
  '',
  'X',
  'w',
  ';',
  '\x13',
  'c',
  '\x90',
  '&',
  '\x05',
  '',
  'm',
  ' ',
  '',
  'J',
  '3',
  '',
  'W',
  '',
  '\x1B',
  '',
  '\b',
  '\x14',
  'F',
  '',
  '',
  '',
  '\x1A',
  '',
  '\x12',
  'U',
  '=',
  'o',
  '',
  '',
  '',
  'I',
  '',
  '\x9D',
  '',
  'Q',
  '',
  '',
  '%',
  '$',
  '',
  'h',
  '',
  'j',
  'e',
  'L',
  '',
  '\x11',
  '',
  '\x8D',
  'Z',
  '\x01',
  'O',
  '2',
  '\x0E',
  '',
  '',
  '',
  'v',
  '4',
  '',
  '',
  'D',
  '',
  '',
  '',
  '\x7F',
  '|',
  '\\',
  '',
  '',
  '',
  '\x17',
  '',
  '',
  '',
  '\x0F',
  '\f',
  '_',
  '\'',
  '',
  '',
  '',
  '\v',
  '\x06',
  '',
  '^',
  '',
  '/',
  '0',
  '\n',
  '',
  '',
  '',
  '\x8F',
  'T',
  '~',
  '',
  '.',
  '!',
  '',
  '',
  '',
  'B',
  '',
  'n',
  'r',
  '',
  '',
  'R',
  '',
  '',
  '',
  ',',
  '\x1C',
  '#',
  '\x15',
  '8',
  '\xFF',
  'p',
  '(',
  'M',
  'g',
  '',
  '',
  '@',
  'H',
  'l',
  'P',
  '6',
  '',
  '',
  '',
  'i',
  '',
  'z',
  '\x19',
  'V',
  'y',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  'd',
  '',
  '\x1F',
  '',
  '\x03',
  '7',
  '>',
  '\r',
  '\x04',
  '',
  '',
  '',
  '}',
  'A',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '-',
  '`',
  '',
  '<',
  'f',
  '',
  'b',
  '',
  '',
  '',
  '',
  '*',
  '',
  '',
  '\x16',
  'k',
  '',
  '',
  'u',
  '',
  '',
  '\x1E',
  '{',
  '',
  '',
  '',
  '',
  ')',
  '[',
  '',
  '',
  '',
  '\x18',
  '',
  'K',
  'q',
  ':',
  '+',
  '',
  '\x1D',
  '?',
  '',
  '',
  '',
  'E',
  '',
  ']',
  'a',
  '\x81',
  'S',
  '1',
  '',
  '',
  '\0',
  't',
  '',
  '',
  '',
  '',
  '',
  '9',
  '',
  '',
  '\a',
  '',
  '',
  '\t',
  '',
  '2',
  '\x17',
  '',
  'R',
  '',
  '\x8F',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '_',
  'w',
  '8',
  '\x03',
  '&',
  '\x12',
  '',
  '',
  '\xFF',
  '',
  ' ',
  '',
  '\x13',
  'j',
  '',
  '',
  'h',
  'd',
  '',
  't',
  'k',
  '',
  '\x0E',
  '1',
  '',
  '\x90',
  '\\',
  '',
  '\r',
  '|',
  '-',
  '',
  '\x7F',
  'U',
  'u',
  'F',
  '',
  '',
  '',
  '',
  '',
  '',
  'Q',
  '',
  '',
  '',
  '',
  '',
  '~',
  '',
  '',
  'e',
  'W',
  '@',
  '[',
  '',
  '7',
  '',
  '',
  '',
  '',
  '\x0F',
  '',
  '*',
  '',
  'S',
  '\x18',
  'B',
  ']',
  '',
  'D',
  '\x1B',
  '',
  'K',
  '',
  'z',
  '',
  '\"',
  '\x1F',
  '',
  '3',
  '',
  'V',
  '',
  '\x01',
  '',
  'f',
  '?',
  'c',
  '',
  '',
  '^',
  'C',
  '',
  '',
  'A',
  '',
  '',
  '',
  '\x04',
  '`',
  '',
  '',
  '',
  'a',
  'x',
  '',
  'y',
  '',
  '',
  '',
  '',
  'P',
  '\x1A',
  '\x1D',
  'H',
  '',
  '',
  '',
  '',
  '\x1E',
  '#',
  'm',
  '\x02',
  '',
  '',
  '9',
  '\x14',
  'O',
  '\x8D',
  'X',
  '0',
  '',
  '',
  '\0',
  '\x10',
  '',
  'p',
  '',
  '',
  '',
  '',
  '\x06',
  'l',
  '\x05',
  '\n',
  '',
  '\f',
  'r',
  '}',
  '',
  'Y',
  '\x19',
  'b',
  '',
  '\'',
  'Z',
  'N',
  '4',
  '',
  '.',
  's',
  'T',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'q',
  ':',
  '+',
  ';',
  'G',
  '\t',
  '\a',
  '{',
  '\x16',
  'I',
  '\x9D',
  '',
  ')',
  '\x81',
  '%',
  '',
  '',
  '',
  '',
  '',
  '',
  ',',
  '',
  '',
  '6',
  'M',
  '\v',
  '>',
  '',
  '',
  'o',
  'i',
  '',
  '',
  '',
  '/',
  '',
  '',
  '',
  'n',
  '5',
  '\x1C',
  '',
  '',
  'g',
  '',
  '\x11',
  '$',
  '!',
  '(',
  '',
  '',
  '',
  'L',
  '',
  '<',
  '\b',
  '',
  '=',
  '',
  '',
  'J',
  '',
  '',
  '',
  '',
  'E',
  '',
  'v',
  '\x03',
  '',
  '4',
  '',
  '<',
  '',
  '@',
  '',
  '',
  '',
  ',',
  '',
  'A',
  '*',
  'y',
  '%',
  '',
  '',
  '',
  '\x15',
  '\x0E',
  'n',
  '',
  '6',
  '\n',
  '',
  ']',
  ';',
  '5',
  '',
  '`',
  '[',
  '',
  '\x9D',
  '',
  '',
  'm',
  'o',
  '',
  '\x05',
  'H',
  '',
  '',
  '',
  '',
  't',
  '',
  ':',
  'G',
  '',
  '',
  'b',
  'P',
  'U',
  '',
  '',
  '',
  '',
  '\"',
  'S',
  'k',
  '\x90',
  '',
  '',
  '\'',
  '',
  '^',
  '\x01',
  'T',
  '',
  'Z',
  '',
  '',
  'j',
  '(',
  '',
  '\v',
  '',
  '',
  '',
  '',
  '',
  'd',
  '',
  '',
  '',
  '',
  '',
  '\\',
  'V',
  '\xFF',
  '',
  '',
  'J',
  '',
  '0',
  '{',
  '',
  '',
  '',
  '\x1C',
  '\x16',
  '',
  '\x1E',
  '}',
  '',
  '',
  '',
  'X',
  'N',
  'h',
  '=',
  'L',
  '\x7F',
  '&',
  'r',
  '',
  'D',
  'p',
  '\x11',
  '',
  '\a',
  '\x1F',
  '',
  'K',
  'Y',
  '',
  '',
  '',
  '',
  '\x1A',
  '',
  '\x8F',
  's',
  '\x8D',
  '',
  '\f',
  '.',
  'q',
  '',
  'z',
  '~',
  '',
  ' ',
  '',
  '!',
  '',
  '',
  '',
  '',
  '7',
  'c',
  '?',
  '',
  '',
  '\x06',
  '',
  '\b',
  '',
  '\x0F',
  'F',
  '\x10',
  '',
  '',
  'l',
  '\x19',
  'x',
  '\t',
  'i',
  '',
  '|',
  '',
  'v',
  '',
  '',
  '9',
  'g',
  '',
  '',
  '',
  'R',
  '8',
  '\x81',
  '',
  '',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  '3',
  '\x13',
  'Q',
  '>',
  'f',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  'B',
  '',
  '',
  '2',
  '',
  '',
  '',
  'a',
  '\0',
  'M',
  '',
  'w',
  '/',
  ')',
  '',
  '\x17',
  '\x04',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '#',
  '',
  '',
  '$',
  'u',
  'W',
  '\x1D',
  '',
  '-',
  '',
  '',
  'E',
  '1',
  '',
  '_',
  'C',
  '',
  '',
  'I',
  '\x1B',
  '',
  '',
  '\x02',
  'e',
  '+',
  '\r',
  '',
  'O',
  '',
  '',
  'R',
  '',
  'o',
  '\x01',
  '',
  '',
  '',
  'Z',
  '\xFF',
  '',
  '',
  '\b',
  '',
  '',
  '',
  '[',
  '',
  '',
  '',
  'g',
  '',
  'v',
  '',
  'Q',
  '',
  'k',
  '\x02',
  '',
  '\x1C',
  ']',
  '',
  '',
  '',
  '%',
  '\'',
  's',
  'q',
  '\a',
  '`',
  '',
  '',
  't',
  '',
  '',
  '',
  '\x05',
  '',
  'J',
  '',
  'K',
  'W',
  '\x0F',
  'C',
  '8',
  '',
  '',
  '~',
  'N',
  '',
  '',
  ' ',
  'x',
  '6',
  '\x1B',
  '',
  '-',
  '\x03',
  '',
  '',
  '',
  '',
  '',
  '*',
  '',
  '\x10',
  'A',
  '\x13',
  '',
  '>',
  '\x11',
  '0',
  '',
  '3',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '',
  'w',
  '',
  '',
  ':',
  '',
  '\x8D',
  'c',
  'M',
  '',
  '',
  '4',
  '.',
  '',
  '',
  '{',
  '(',
  'b',
  '|',
  '',
  '\x19',
  '',
  '\x04',
  '',
  'i',
  'z',
  '_',
  '',
  '',
  '\x7F',
  'e',
  '',
  '',
  '',
  '',
  '',
  '',
  'j',
  'U',
  'n',
  '',
  '',
  'd',
  '\x9D',
  '',
  '^',
  '',
  '!',
  '9',
  '1',
  'O',
  '/',
  '',
  '',
  '\x1A',
  '',
  'm',
  '\"',
  '\x0E',
  '<',
  '\x06',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '',
  ';',
  'E',
  'H',
  '\x90',
  '',
  '',
  'I',
  '+',
  'a',
  '',
  '',
  '',
  '',
  'V',
  '',
  '',
  '\r',
  '',
  '\x1D',
  'u',
  '',
  'y',
  '',
  'l',
  'P',
  '\f',
  'h',
  'F',
  '',
  '',
  '2',
  '7',
  '\v',
  '',
  '',
  '',
  'T',
  'X',
  '',
  '#',
  '',
  '\x14',
  '',
  '\x15',
  '',
  '\0',
  '',
  '',
  '\t',
  '',
  '',
  '',
  '\x12',
  '',
  'p',
  '5',
  '',
  '',
  'B',
  ',',
  '$',
  '',
  '',
  '',
  'S',
  '',
  '',
  '}',
  '\x17',
  '\x16',
  '@',
  '\x1F',
  'G',
  '?',
  '',
  '',
  '',
  '',
  '\x81',
  'f',
  '\\',
  'L',
  '',
  '\x18',
  '',
  '&',
  '',
  '',
  '',
  '\x8F',
  '\x1E',
  '',
  '',
  ')',
  'r',
  '=',
  'D',
  '',
  'm',
  '',
  '\x1E',
  '',
  '\v',
  '',
  '',
  '',
  '',
  '',
  'd',
  'l',
  '\x12',
  '#',
  '',
  '\x17',
  '>',
  'X',
  '',
  '\b',
  'I',
  '',
  '\0',
  '',
  '',
  'R',
  '',
  '',
  '',
  '',
  '',
  '',
  'u',
  '\x03',
  '~',
  '',
  '\x1F',
  '\x9D',
  'v',
  '',
  '-',
  '1',
  '0',
  'w',
  '',
  'g',
  '',
  'C',
  '',
  '\x10',
  '',
  '',
  'T',
  '',
  '',
  '',
  'M',
  ' ',
  '',
  '',
  'y',
  '',
  '\x13',
  '',
  '',
  '\n',
  'V',
  '',
  'P',
  '\x14',
  'n',
  '+',
  '\x16',
  '^',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '\'',
  '\x1A',
  '\x01',
  '\f',
  '',
  '',
  '',
  '',
  '',
  '',
  '`',
  'q',
  'L',
  '@',
  '',
  '',
  '',
  'W',
  '',
  '\"',
  'D',
  '\x8F',
  '8',
  '',
  '',
  '',
  '',
  'S',
  '',
  ']',
  '.',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'c',
  '}',
  '/',
  'k',
  ')',
  '',
  '\x0F',
  '',
  'E',
  '',
  '',
  'U',
  '<',
  '',
  '',
  'r',
  '\xFF',
  '|',
  '4',
  'N',
  '\x0E',
  '',
  '\x1B',
  '',
  '',
  '',
  'Y',
  'b',
  '\x04',
  '',
  '&',
  '',
  'G',
  '',
  '',
  '',
  '$',
  '',
  'O',
  '\a',
  'J',
  '',
  '',
  'B',
  '?',
  '\x11',
  '',
  'A',
  '',
  '',
  'h',
  '',
  '',
  '',
  't',
  '',
  '',
  '',
  '',
  '\t',
  's',
  '',
  '',
  '*',
  '[',
  '_',
  '',
  '=',
  '',
  '6',
  'i',
  '(',
  '',
  '\x06',
  'z',
  '%',
  '',
  '\x1C',
  '5',
  '7',
  '\x18',
  'x',
  '',
  '',
  '\x81',
  '',
  '',
  '',
  '',
  'K',
  '\r',
  '3',
  ':',
  '',
  '\x05',
  '\x7F',
  '',
  '',
  '',
  'Q',
  'o',
  ';',
  '',
  '\x1D',
  'a',
  '',
  '\x02',
  '',
  'j',
  'H',
  '',
  '\x90',
  '',
  'Z',
  '',
  '',
  ',',
  '\x19',
  'F',
  '',
  '{',
  'f',
  '\x8D',
  '',
  '',
  '',
  '',
  'e',
  '',
  '',
  '9',
  '2',
  'p',
  '!',
  '',
  '\\',
  '',
  '',
  '@',
  '6',
  'W',
  '\x19',
  '',
  'P',
  '',
  '+',
  '\x1A',
  '',
  '',
  'H',
  '',
  '\x1B',
  '',
  's',
  'i',
  '',
  'M',
  'c',
  '',
  '',
  '',
  '',
  '\x17',
  '\'',
  '',
  '',
  '',
  '\x0E',
  '',
  'z',
  '',
  '/',
  '',
  'h',
  '',
  '',
  'r',
  '',
  '',
  'q',
  '\0',
  'Q',
  ']',
  '',
  '&',
  '\"',
  '',
  '3',
  '\xFF',
  '',
  'Y',
  '\x8F',
  '',
  '',
  '',
  '\x8D',
  '',
  '',
  '\x1E',
  '?',
  'j',
  '',
  '$',
  '',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '`',
  'o',
  'b',
  '^',
  'C',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  ',',
  '',
  '\x9D',
  '4',
  '',
  '~',
  '\x81',
  'D',
  'L',
  'p',
  '',
  '',
  'K',
  '',
  '2',
  '',
  '<',
  'e',
  '',
  '\x02',
  '',
  'a',
  '',
  'V',
  '',
  'x',
  '',
  '\x1C',
  '',
  '\a',
  'd',
  'u',
  'T',
  '\x06',
  '=',
  '}',
  '',
  '',
  '',
  'S',
  '',
  '\x11',
  '',
  'U',
  '',
  '>',
  '',
  '-',
  '\\',
  '(',
  '%',
  '',
  '',
  '',
  'O',
  '',
  '1',
  'Z',
  '!',
  '\x05',
  '',
  '7',
  'm',
  '',
  ':',
  '',
  '#',
  '*',
  ';',
  '\x03',
  '',
  '',
  '_',
  '',
  'g',
  '',
  '',
  '',
  'A',
  '',
  '',
  '',
  'n',
  '\b',
  'E',
  '',
  '',
  '9',
  '\r',
  '.',
  't',
  '\f',
  '',
  'w',
  '',
  '\x10',
  'G',
  'X',
  '\x7F',
  '{',
  '\x14',
  '',
  '',
  '\x13',
  'I',
  '',
  '',
  '',
  '|',
  'J',
  '',
  '',
  'R',
  '',
  '',
  '8',
  '',
  'v',
  'y',
  'k',
  '\x1D',
  '',
  ')',
  '\x0F',
  'B',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  'f',
  'F',
  '',
  'N',
  '5',
  '\x12',
  '',
  '',
  '\x90',
  '',
  'l',
  '',
  '\n',
  '\x04',
  '',
  '0',
  '\t',
  '',
  ' ',
  '[',
  '',
  '\x16',
  '',
  '\x1B',
  '}',
  '',
  '\r',
  '',
  '1',
  '',
  'K',
  '\x0E',
  '',
  '9',
  '',
  '6',
  '',
  '',
  '#',
  'f',
  '',
  '',
  'u',
  '',
  '\f',
  'd',
  '',
  '',
  '',
  'v',
  '',
  '',
  '',
  '',
  'A',
  'Z',
  '^',
  '',
  '\'',
  '',
  '',
  '_',
  't',
  '',
  '',
  '\x18',
  'n',
  '\x06',
  '',
  'G',
  '=',
  '',
  'x',
  '',
  '',
  'M',
  '',
  '',
  '@',
  '',
  '',
  '',
  '~',
  '',
  '',
  'T',
  '',
  '-',
  '!',
  '',
  '',
  ']',
  '',
  'j',
  'e',
  '',
  ',',
  '\x1E',
  '\x1D',
  '',
  '',
  '\x1A',
  '\\',
  '',
  '',
  '\x05',
  '',
  '\x90',
  '>',
  'N',
  '(',
  '',
  ';',
  '',
  'X',
  '*',
  '',
  '',
  '',
  '\a',
  '',
  'm',
  's',
  '\x03',
  '\xFF',
  '',
  '',
  '\"',
  '',
  '\x1F',
  '',
  'I',
  '',
  '',
  '',
  '',
  '',
  '4',
  '',
  '\x14',
  '',
  'H',
  '',
  '$',
  '\x04',
  '',
  '\t',
  'J',
  '',
  'r',
  '\0',
  '\x0F',
  '?',
  '',
  '',
  '\v',
  '',
  '',
  '',
  'V',
  'E',
  '',
  '',
  '',
  '\x9D',
  '{',
  ')',
  '\x15',
  '.',
  '%',
  'o',
  '',
  '',
  '8',
  '',
  '',
  '',
  'w',
  '',
  '0',
  '\n',
  'C',
  '',
  'L',
  '',
  '\x01',
  '',
  '',
  'y',
  '<',
  'l',
  '',
  '`',
  '\x11',
  'O',
  '',
  '\b',
  '',
  '',
  '',
  '',
  '',
  '',
  'Q',
  '\x13',
  '\x10',
  'c',
  'z',
  '\x12',
  '',
  'B',
  'D',
  '\x8D',
  '',
  '',
  '',
  '7',
  '',
  'i',
  '',
  '',
  'W',
  'g',
  '',
  '2',
  '+',
  '',
  ':',
  '',
  'b',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  '5',
  '',
  'a',
  '',
  'U',
  'Y',
  '\x8F',
  '\x81',
  'S',
  '',
  'F',
  '\x17',
  '',
  '\x16',
  '',
  'k',
  ' ',
  '',
  '',
  '',
  'P',
  'p',
  '',
  '',
  '/',
  '',
  '[',
  '',
  'q',
  '&',
  '',
  '\x7F',
  '|',
  '\x19',
  'R',
  '\x1C',
  '',
  '',
  '3',
  'h',
  '',
  'f',
  '',
  '\x01',
  '\b',
  '',
  '',
  '',
  '',
  '%',
  '',
  'l',
  'p',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1A',
  '',
  '',
  ':',
  '',
  'J',
  '',
  '',
  '\x16',
  '',
  '',
  'c',
  '{',
  '\x18',
  '',
  '<',
  'K',
  '\x04',
  '\0',
  '\x17',
  '',
  '',
  '!',
  'Y',
  '.',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '_',
  'N',
  '\x8F',
  '',
  'x',
  '',
  '\x8D',
  '',
  'M',
  '',
  'i',
  'W',
  'z',
  'j',
  '\x1F',
  '\x1B',
  '\f',
  'Z',
  '',
  'A',
  '@',
  '\r',
  '*',
  '',
  '\x10',
  '',
  'D',
  '\t',
  '',
  'k',
  '~',
  '\x11',
  '',
  '\x0F',
  'U',
  '',
  '',
  '',
  '',
  '0',
  '-',
  '\x03',
  '',
  'R',
  '',
  '',
  '',
  'o',
  '',
  ')',
  '\x12',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  ']',
  '?',
  'q',
  '\v',
  ',',
  '',
  '',
  '',
  '',
  'G',
  '',
  '',
  '',
  '',
  '',
  '+',
  'Q',
  'O',
  't',
  '',
  'g',
  '[',
  '',
  '',
  'P',
  '',
  '',
  '',
  '',
  ';',
  'I',
  '',
  'T',
  '\x19',
  'S',
  '\x05',
  '\x81',
  '$',
  '8',
  '\n',
  '>',
  'B',
  '9',
  '\x9D',
  '',
  '',
  '',
  'H',
  'n',
  '',
  '\'',
  '',
  '\x14',
  '',
  '',
  '',
  '',
  '',
  '\x1E',
  's',
  '',
  'V',
  '}',
  '\"',
  '\x0E',
  '',
  '(',
  '',
  '',
  '',
  '|',
  '2',
  '',
  '',
  'w',
  '',
  '',
  '',
  '\x06',
  'a',
  '',
  '',
  '\x1D',
  '',
  '',
  '7',
  '\x02',
  '',
  '\x90',
  '\x7F',
  '',
  '\a',
  '',
  'b',
  '',
  '=',
  '/',
  'e',
  '',
  '`',
  '',
  '',
  '',
  '\\',
  'r',
  '',
  '',
  '4',
  '',
  '3',
  '',
  '',
  'u',
  '',
  'y',
  '',
  'm',
  'd',
  '',
  '&',
  '',
  '\x13',
  '',
  'E',
  'L',
  'C',
  '',
  '5',
  'h',
  '',
  ' ',
  '',
  '',
  'X',
  '1',
  '\x1C',
  '6',
  '',
  '\xFF',
  'v',
  '',
  '#',
  '',
  '',
  '^',
  'F',
  '\x8D',
  'r',
  '',
  '\x11',
  '',
  '',
  ',',
  '\x16',
  's',
  'C',
  '',
  '',
  '',
  '&',
  '',
  'Z',
  '',
  'g',
  '1',
  '%',
  '',
  '',
  '6',
  '>',
  '',
  '',
  'E',
  '\0',
  '',
  'k',
  '',
  '\t',
  't',
  '',
  '+',
  '/',
  'G',
  '',
  '9',
  '@',
  '?',
  '',
  '\xFF',
  '',
  '\'',
  '',
  '8',
  '',
  '',
  'x',
  'v',
  '',
  ')',
  '',
  '2',
  'q',
  'R',
  '\x03',
  '\x02',
  'e',
  '.',
  '\x8F',
  'H',
  '\x0F',
  '',
  '',
  '',
  '<',
  '',
  '',
  'A',
  '',
  '',
  '[',
  '',
  '',
  '\\',
  'I',
  '\x9D',
  '',
  'L',
  '',
  '',
  '',
  '\x10',
  '',
  '(',
  '\x19',
  '!',
  '=',
  'V',
  '\v',
  '',
  '0',
  '',
  'W',
  '',
  'S',
  '\x17',
  'd',
  '',
  ']',
  '',
  '\a',
  '{',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'O',
  '',
  '\x1A',
  '',
  'P',
  '',
  '4',
  ';',
  '',
  'y',
  '',
  '',
  '\x14',
  '',
  '',
  'i',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  'B',
  '\x13',
  '\x05',
  '\x7F',
  'F',
  '',
  '\x15',
  'Q',
  '',
  'M',
  '`',
  'm',
  'J',
  '\x90',
  '',
  '\x06',
  '',
  '',
  '',
  '\x12',
  '',
  '\x1D',
  '_',
  '',
  '5',
  '7',
  '',
  '',
  '\f',
  '',
  '',
  'N',
  '',
  '\"',
  '\x01',
  '^',
  '',
  '',
  'j',
  '3',
  '\r',
  '\x1E',
  'c',
  'T',
  '',
  '',
  '',
  '*',
  'U',
  '',
  'o',
  '',
  'u',
  '',
  '\x1B',
  'w',
  '',
  '',
  '',
  '',
  '#',
  '',
  'K',
  '\n',
  '',
  '',
  '',
  '\b',
  'p',
  '\x81',
  '',
  '',
  '',
  '',
  '',
  'X',
  '',
  '',
  '',
  '',
  '',
  '',
  ' ',
  '\x1F',
  '-',
  '',
  'Y',
  ':',
  'n',
  '',
  'l',
  '',
  '',
  '',
  '~',
  'f',
  '$',
  '',
  '',
  '}',
  '',
  'h',
  '',
  'b',
  'z',
  '',
  '\x04',
  '',
  '',
  '\x0E',
  '',
  '',
  'D',
  'a',
  '',
  '\x18',
  '',
  '|',
  '',
  '',
  ';',
  'h',
  '',
  '',
  '&',
  '',
  '',
  '',
  'w',
  'N',
  '#',
  '>',
  '',
  't',
  '',
  '',
  'd',
  '`',
  'E',
  'F',
  '',
  '',
  '',
  '',
  '\x12',
  '$',
  'I',
  '',
  '}',
  '(',
  'R',
  '\0',
  '',
  '\b',
  '',
  '',
  '',
  '\f',
  '',
  '\x1D',
  '3',
  '',
  '',
  '',
  'A',
  '',
  '1',
  'l',
  '',
  '',
  '',
  'Q',
  '\x1B',
  '',
  '_',
  '\x8F',
  '5',
  '',
  '',
  '',
  '',
  '',
  '\a',
  '',
  '',
  '',
  '',
  'Z',
  'q',
  '\x90',
  '',
  '',
  '',
  '\x9D',
  '',
  '',
  '*',
  '',
  '',
  'u',
  '',
  '',
  '',
  '',
  '4',
  '\n',
  'g',
  '',
  '\x0F',
  '\\',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '0',
  'P',
  '',
  'j',
  'T',
  '',
  '{',
  '\x04',
  '!',
  '',
  'r',
  '?',
  'i',
  'z',
  '',
  '',
  '\x03',
  'x',
  '',
  '%',
  '',
  'D',
  '',
  '9',
  '',
  'M',
  '\x19',
  'Y',
  'v',
  'V',
  '',
  '\x1F',
  '\x10',
  'n',
  '8',
  '',
  '',
  '',
  '\x18',
  '\x8D',
  '',
  'o',
  '\x1E',
  '',
  '',
  'J',
  '',
  '',
  '',
  ']',
  '',
  'B',
  '@',
  '\x1A',
  '\v',
  '',
  '',
  '',
  '',
  '\x16',
  'K',
  '',
  '-',
  '',
  '',
  '',
  '\xFF',
  '',
  'O',
  '~',
  '',
  '',
  '',
  '',
  'a',
  '',
  'L',
  '',
  '\"',
  '',
  '',
  'm',
  ' ',
  ':',
  '\x0E',
  '.',
  '\r',
  '',
  'p',
  '+',
  '',
  '',
  '|',
  '',
  '[',
  '/',
  '\x13',
  ')',
  '\x15',
  '',
  '6',
  '',
  '\x01',
  'W',
  '',
  '',
  'X',
  '\t',
  '',
  '',
  '^',
  '\x05',
  '\x14',
  '',
  'C',
  '7',
  '\x1C',
  's',
  '',
  '',
  '',
  'H',
  '',
  '',
  '',
  'c',
  'k',
  '',
  '\x06',
  '<',
  'U',
  'e',
  '',
  'G',
  '',
  '=',
  '2',
  '\x81',
  '\'',
  '\x7F',
  '',
  '',
  '',
  '\x17',
  '',
  '',
  '',
  'f',
  '',
  'b',
  '',
  ',',
  '',
  '',
  'S',
  '',
  'y',
  '\x11',
  '0',
  '',
  '\x03',
  '',
  'S',
  '',
  '!',
  ',',
  '-',
  'f',
  '\x1A',
  '',
  '',
  '',
  '}',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x17',
  '',
  '',
  '',
  ';',
  'J',
  '',
  '4',
  '',
  'K',
  '5',
  'V',
  '',
  '\xFF',
  '%',
  '',
  '\x0F',
  'd',
  'Q',
  'I',
  '$',
  '\x18',
  '',
  '',
  '',
  'l',
  '\x1B',
  'R',
  '',
  't',
  'b',
  '\x06',
  '[',
  '{',
  '',
  '',
  ']',
  '',
  ' ',
  'v',
  'D',
  '\x0E',
  'r',
  'B',
  '',
  '\x02',
  '~',
  '',
  '',
  '',
  'm',
  '&',
  '',
  '7',
  '',
  '',
  'E',
  '',
  '\x1D',
  '=',
  '\v',
  '',
  '\\',
  '\x1C',
  'W',
  '\x01',
  '',
  '',
  '',
  '\f',
  '',
  '',
  '`',
  '>',
  '',
  '',
  '',
  '/',
  '\x8F',
  '\n',
  'x',
  'A',
  '\"',
  '',
  '',
  '',
  'Z',
  '\x16',
  '',
  '',
  '\x15',
  '',
  '',
  'n',
  '8',
  '*',
  '',
  '',
  '?',
  '',
  '',
  '',
  '',
  '',
  '',
  'F',
  'j',
  'H',
  '',
  '',
  '',
  ')',
  'u',
  '',
  '\x13',
  '',
  '',
  '+',
  '\x1E',
  '',
  '\'',
  '<',
  '',
  '@',
  '',
  '',
  '\x12',
  '',
  '',
  '.',
  '',
  '',
  '',
  '\t',
  '',
  'N',
  '\x7F',
  '',
  'U',
  'O',
  '',
  '',
  'M',
  'p',
  '',
  '\x05',
  '\0',
  '',
  '',
  '',
  '|',
  'y',
  '#',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  'e',
  '^',
  'z',
  '',
  '\x11',
  'G',
  'w',
  'P',
  '',
  '',
  '3',
  '',
  '\r',
  '',
  'k',
  '',
  ':',
  'g',
  '2',
  'o',
  '',
  '',
  '\a',
  '(',
  '',
  '',
  '\x81',
  'C',
  '',
  '',
  '',
  '',
  '9',
  '',
  'i',
  '',
  '',
  'T',
  '1',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  'c',
  's',
  '',
  'a',
  'h',
  '',
  '_',
  'Y',
  '\x90',
  '',
  '\x04',
  'L',
  '',
  '\x19',
  '',
  '',
  '',
  'q',
  '',
  '',
  '\b',
  '',
  '6',
  '\x1F',
  '\x8D',
  '',
  'X',
  '\x10',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '',
  'W',
  '',
  'H',
  'v',
  'o',
  '\x90',
  '',
  'A',
  '',
  '9',
  '',
  '',
  'I',
  '',
  '\x10',
  '',
  '\x06',
  '>',
  '',
  'n',
  'R',
  'D',
  '',
  '',
  '',
  'Y',
  '',
  '`',
  'd',
  '4',
  '_',
  '',
  '2',
  '',
  '',
  '',
  '-',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '+',
  '',
  '\x19',
  'y',
  '',
  '',
  '\x7F',
  '\"',
  '',
  '',
  '\x03',
  '',
  '',
  'l',
  'q',
  '\x1E',
  '',
  '\x8D',
  '\x05',
  'X',
  '\x01',
  '',
  '',
  '',
  ']',
  '\x02',
  '{',
  'T',
  '',
  '',
  'b',
  '\0',
  '',
  '',
  '[',
  ' ',
  '',
  '',
  '@',
  '\x12',
  'g',
  '',
  '*',
  'c',
  '',
  '\x04',
  ':',
  'j',
  '',
  '}',
  '',
  'U',
  '',
  'S',
  'z',
  '\x11',
  '',
  'N',
  '/',
  '\x18',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  '\x1F',
  '',
  '5',
  'O',
  '=',
  '',
  '',
  'K',
  'k',
  '',
  '',
  '',
  '',
  '3',
  '',
  '',
  '\xFF',
  '',
  '|',
  '\x8F',
  '',
  'r',
  '\\',
  '',
  '$',
  ';',
  '6',
  'E',
  '',
  'i',
  '',
  '',
  '\x15',
  '1',
  'e',
  '\'',
  'P',
  'p',
  'Q',
  '',
  '\x14',
  '',
  'J',
  '',
  '.',
  '',
  '',
  '',
  'M',
  '\x13',
  '\t',
  '',
  'a',
  '\x0F',
  '',
  't',
  'F',
  'u',
  '',
  '\x81',
  '\x1D',
  's',
  '#',
  '%',
  '',
  '!',
  '<',
  '',
  '\v',
  'B',
  '&',
  '7',
  '',
  '\n',
  '',
  '\x16',
  '',
  'G',
  ',',
  'w',
  'C',
  '',
  '\r',
  ')',
  '',
  '8',
  'x',
  'f',
  '',
  '',
  '',
  '',
  'm',
  '',
  '^',
  '\a',
  '',
  '',
  'L',
  '',
  '',
  '',
  '\f',
  '',
  '',
  'h',
  '',
  '',
  '',
  '',
  '',
  '',
  '0',
  '',
  '',
  '',
  '',
  '(',
  '',
  'Z',
  '',
  '\x0E',
  '',
  '~',
  '',
  '\x1A',
  '',
  '\x17',
  'V',
  '',
  '\b',
  '',
  '',
  '',
  '?',
  '',
  '\x1C',
  '',
  '',
  ' ',
  '',
  '',
  '',
  '',
  '',
  '',
  '^',
  'r',
  '_',
  '',
  '\x1E',
  '\a',
  '\x9D',
  '\x1A',
  '',
  '',
  '#',
  '',
  '',
  '',
  'o',
  '',
  '>',
  'Z',
  '',
  '',
  '',
  'g',
  '',
  '',
  '\t',
  't',
  '\x15',
  'F',
  '',
  '',
  '',
  '',
  'n',
  '',
  'c',
  '',
  '|',
  '',
  '\x01',
  '',
  '',
  ';',
  '',
  '\x06',
  '\x81',
  '8',
  '',
  '',
  '',
  '',
  '\x05',
  '',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  'D',
  'u',
  'H',
  '\x11',
  'I',
  '',
  'Y',
  'L',
  '\x8D',
  '\x13',
  '',
  'P',
  '\x04',
  '\\',
  '',
  '<',
  '',
  '\x17',
  '',
  '',
  's',
  '-',
  '\n',
  'm',
  '\x1C',
  'R',
  ',',
  '',
  '=',
  '\xFF',
  'M',
  'l',
  '\b',
  '',
  '',
  '',
  '\x10',
  'i',
  '\x7F',
  '',
  '',
  '{',
  '',
  '/',
  '',
  '',
  'k',
  'W',
  '',
  '',
  'b',
  '',
  '',
  '',
  '',
  '',
  '3',
  'e',
  '',
  'K',
  '',
  'V',
  '',
  'O',
  ':',
  '\x1B',
  ')',
  '}',
  '\x0E',
  'w',
  '',
  '',
  '',
  'Q',
  '',
  '$',
  'J',
  'j',
  '6',
  'C',
  '',
  '',
  '',
  '',
  '',
  '~',
  '9',
  '',
  'U',
  '\"',
  '1',
  ']',
  '',
  '',
  '',
  '',
  '[',
  '\x1D',
  '4',
  'y',
  '+',
  '',
  'z',
  '(',
  'a',
  '\x16',
  '',
  '\r',
  '',
  'f',
  '',
  'v',
  '',
  '5',
  '',
  '\x0F',
  'X',
  'B',
  '\x18',
  '',
  '?',
  '',
  '\x12',
  '*',
  '\v',
  'q',
  '.',
  '',
  '\x02',
  '`',
  '',
  '',
  '7',
  '',
  'N',
  '',
  '',
  '',
  '',
  '',
  '&',
  '',
  'E',
  '',
  '',
  '',
  '',
  '',
  '\x03',
  'S',
  '\x8F',
  '@',
  '\x14',
  '',
  '',
  '0',
  '',
  'p',
  '\x19',
  '2',
  '',
  '',
  '',
  'h',
  'd',
  '',
  '\f',
  '',
  '\0',
  '',
  'G',
  '',
  '',
  '\x90',
  'x',
  '',
  '!',
  '',
  '',
  '\'',
  '\x1F',
  '%',
  '',
  '',
  '',
  '',
  'A',
  '',
  '',
  '',
  '[',
  '\0',
  '',
  '',
  '\x8F',
  '\t',
  '<',
  '',
  'p',
  '\b',
  '!',
  '',
  '@',
  '',
  '-',
  'H',
  'C',
  '',
  '',
  '\x06',
  '|',
  '\f',
  '5',
  '',
  ',',
  'G',
  'x',
  'j',
  '',
  '',
  '',
  '_',
  '`',
  '1',
  '',
  '',
  '\x90',
  '^',
  '#',
  'M',
  '',
  '',
  '\x9D',
  '',
  '\x8D',
  '',
  'i',
  '%',
  'o',
  '',
  '\x1C',
  '',
  '',
  '',
  'Z',
  '',
  '\n',
  '',
  '',
  ' ',
  '',
  'c',
  '',
  'b',
  '',
  '',
  '/',
  '',
  '',
  'S',
  '',
  '',
  '',
  '\x19',
  '9',
  '',
  '',
  '',
  '>',
  '',
  '',
  '',
  '',
  'd',
  '',
  '',
  'R',
  '',
  '',
  '',
  '\x14',
  '',
  '\'',
  '',
  'F',
  '\x13',
  '',
  '',
  '\x1E',
  '',
  '\x03',
  '\x1F',
  '',
  '',
  '',
  '',
  'E',
  '7',
  '',
  '',
  '',
  'V',
  '',
  '',
  '*',
  'u',
  '\x02',
  'T',
  '',
  '',
  '',
  '',
  'X',
  '6',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x12',
  '\x0E',
  't',
  '',
  'J',
  '',
  '',
  'y',
  '',
  '',
  '~',
  '',
  'A',
  '',
  '',
  '',
  '{',
  'v',
  's',
  'f',
  '',
  '\r',
  '\x01',
  '',
  '',
  '\x05',
  '\v',
  '4',
  '',
  '',
  'Y',
  '&',
  ';',
  'h',
  'l',
  'P',
  'N',
  '\\',
  '',
  ')',
  ':',
  '\x16',
  '',
  '',
  '',
  '(',
  'L',
  '',
  '',
  '',
  'n',
  '0',
  'e',
  '\x0F',
  '3',
  '',
  '}',
  '',
  '',
  '',
  '\x15',
  '\x1A',
  '',
  'z',
  'm',
  '',
  'Q',
  '$',
  '\xFF',
  'U',
  '\x18',
  '',
  '\a',
  'O',
  'K',
  'B',
  '',
  'W',
  '',
  'D',
  '',
  '=',
  '\x04',
  '\"',
  'q',
  ']',
  '',
  '',
  '',
  '.',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '',
  '',
  '\x10',
  'w',
  'I',
  'a',
  '\x7F',
  '\x17',
  '2',
  '8',
  '\x81',
  '',
  '\x1B',
  'g',
  '\x1D',
  '',
  '+',
  '?',
  'r',
  '',
  'k',
  '',
  '',
  ']',
  '',
  '#',
  '',
  '',
  '%',
  'u',
  'h',
  ':',
  '',
  '',
  '\x8D',
  '',
  '',
  'P',
  '',
  'S',
  '}',
  '`',
  '',
  '',
  '(',
  'y',
  '',
  '',
  '',
  '\b',
  '',
  '^',
  '>',
  'o',
  '\x15',
  '',
  '',
  '',
  '',
  'a',
  '',
  '',
  '',
  '',
  '',
  'W',
  '',
  '',
  's',
  '',
  '',
  '\x7F',
  '0',
  'K',
  '',
  ' ',
  '',
  '',
  '',
  '',
  '',
  '\x90',
  '',
  '',
  '',
  '',
  '',
  '\x13',
  '',
  '',
  '',
  '',
  '',
  '&',
  '+',
  'l',
  'e',
  '',
  'g',
  '',
  'Q',
  'n',
  '',
  '',
  'm',
  '',
  '',
  '',
  '',
  '/',
  '',
  '-',
  '',
  '',
  'f',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  'x',
  '<',
  'A',
  '',
  'd',
  '\x03',
  '',
  '',
  '2',
  '\xFF',
  't',
  '*',
  '',
  'D',
  'H',
  '!',
  'U',
  'k',
  '\x01',
  'O',
  '\x1B',
  '',
  '$',
  'Z',
  '',
  '|',
  '\f',
  '\a',
  'z',
  '',
  '6',
  'b',
  '\v',
  '\r',
  '',
  '\t',
  '',
  '\x0F',
  '',
  '',
  'X',
  '\x12',
  '',
  '=',
  'G',
  '\x1C',
  'E',
  '5',
  '\0',
  '',
  '',
  '',
  '',
  '_',
  '',
  '',
  '',
  '',
  ',',
  '',
  '\x06',
  '',
  '\x9D',
  'R',
  '\x05',
  '',
  '',
  '',
  'p',
  '',
  '',
  '',
  'r',
  '',
  '\x04',
  'L',
  '',
  '\n',
  '',
  'T',
  'v',
  '~',
  '\x1E',
  '',
  '',
  'j',
  '\'',
  'q',
  'c',
  'I',
  'B',
  'M',
  '1',
  '',
  '',
  '',
  ';',
  '',
  'F',
  '\x81',
  '',
  '\x1F',
  '',
  '@',
  'Y',
  '8',
  '\x18',
  '{',
  '\x19',
  '.',
  '',
  '3',
  '\x8F',
  '',
  '',
  ')',
  '',
  'i',
  '',
  '\x1A',
  '7',
  '9',
  '[',
  '',
  '\x14',
  '',
  '',
  'N',
  '\"',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '\x16',
  '\x10',
  '',
  'C',
  '',
  '\\',
  'V',
  'w',
  '',
  '',
  'J',
  '\x17',
  '?',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  '4',
  '',
  '\x0E',
  '',
  '',
  '\t',
  '\v',
  'M',
  '@',
  '$',
  'e',
  's',
  '\'',
  '',
  '',
  '',
  '',
  '(',
  '',
  '\x7F',
  'Z',
  '',
  'a',
  '',
  'i',
  '\x0E',
  '/',
  '',
  '\f',
  '',
  '',
  '?',
  '',
  '*',
  '',
  'r',
  '',
  '',
  '',
  '\a',
  '',
  '',
  '\x1B',
  '4',
  '>',
  '',
  '9',
  '',
  '',
  '',
  ')',
  '',
  '',
  '',
  'k',
  '\\',
  '\x8D',
  '',
  'd',
  '',
  '\x90',
  '',
  '',
  'W',
  '',
  '',
  '',
  '',
  'n',
  '',
  '#',
  '',
  'O',
  'G',
  '\x18',
  '\r',
  '',
  'b',
  '',
  'q',
  '',
  '-',
  '+',
  '}',
  '',
  '\x03',
  '7',
  '\x8F',
  '5',
  '\x06',
  'm',
  '',
  '',
  '\x1A',
  '',
  '3',
  'u',
  '',
  '',
  '1',
  '',
  '|',
  'F',
  ';',
  '',
  '',
  'S',
  '\b',
  'H',
  '',
  'v',
  '',
  '',
  '\x04',
  '_',
  'C',
  '.',
  '2',
  '',
  '\x01',
  '',
  'Y',
  'N',
  '',
  '',
  '',
  '',
  'h',
  '',
  '\0',
  '',
  '\x12',
  '',
  '',
  '',
  'V',
  '<',
  '',
  '',
  'Q',
  '',
  '',
  '\x0F',
  'g',
  '',
  'X',
  '6',
  '\xFF',
  'K',
  'D',
  '',
  '',
  'z',
  '`',
  'A',
  '',
  '\x13',
  '',
  '[',
  '',
  '8',
  '\x16',
  '',
  '',
  'j',
  '',
  'o',
  '',
  '',
  '{',
  '0',
  '',
  't',
  ':',
  '%',
  'I',
  '\x1E',
  'E',
  '',
  '',
  'U',
  'c',
  'T',
  '',
  '\n',
  'w',
  '',
  '',
  '\x10',
  '',
  '\x1F',
  ' ',
  'R',
  '\x02',
  '',
  '',
  ']',
  '',
  '',
  '\"',
  '',
  'p',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'J',
  '~',
  '',
  '',
  '',
  '',
  '',
  '',
  'l',
  '=',
  '',
  'x',
  'P',
  'B',
  '&',
  '',
  '\x1C',
  '',
  '',
  'y',
  '',
  '',
  '',
  '',
  '!',
  'L',
  '\x19',
  '',
  '',
  '\x81',
  '',
  '',
  '',
  '\x9D',
  '',
  '\x15',
  'f',
  '',
  '',
  '',
  '\x14',
  ',',
  '\x17',
  '\x11',
  '',
  '\x05',
  '^',
  '\x1D',
  '3',
  'R',
  '\x1C',
  '',
  '',
  '',
  '}',
  'Q',
  '{',
  '>',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '/',
  '\x8F',
  '.',
  '\x1D',
  ',',
  '\x02',
  '7',
  '',
  '',
  'a',
  'O',
  '\x15',
  '',
  '',
  '\x03',
  '',
  '',
  'C',
  '\x17',
  '',
  '\x81',
  '',
  '\x90',
  '',
  '',
  '',
  's',
  '',
  'T',
  '\x05',
  '',
  '',
  '1',
  '\x14',
  '',
  '',
  '\x13',
  '_',
  '\xFF',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  'p',
  '',
  '',
  'M',
  '',
  '\"',
  '',
  '\x06',
  '',
  '[',
  ']',
  '<',
  '',
  '',
  'k',
  '',
  'S',
  '',
  '\t',
  '',
  'V',
  '',
  '4',
  '',
  '',
  'G',
  '',
  '',
  'W',
  '',
  'P',
  '',
  '\x19',
  'd',
  'm',
  '',
  '0',
  'H',
  '\f',
  '\x1A',
  '',
  '',
  'q',
  'F',
  'I',
  '\\',
  '2',
  '',
  '',
  '',
  'N',
  '',
  '',
  'x',
  'i',
  ';',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'U',
  'b',
  'z',
  'Z',
  '',
  '',
  '',
  'g',
  '\x04',
  '!',
  '',
  '?',
  '\v',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x8D',
  'f',
  'e',
  'h',
  '',
  'n',
  'w',
  '',
  '',
  '`',
  'E',
  '+',
  'D',
  '',
  '\x18',
  '%',
  '&',
  '',
  ':',
  'K',
  '',
  '\r',
  '|',
  'c',
  '#',
  '',
  'L',
  'r',
  '\x7F',
  '',
  '\x01',
  '\x16',
  '\x10',
  'A',
  '',
  '',
  '',
  '\x11',
  '\x1B',
  '\'',
  '',
  'Y',
  '',
  '\0',
  '',
  'u',
  '',
  '',
  '9',
  'J',
  '',
  '',
  '',
  '5',
  '\a',
  '^',
  '',
  '',
  ')',
  'o',
  '6',
  '\x9D',
  '',
  '',
  '*',
  '',
  '',
  '-',
  '8',
  '$',
  '',
  '',
  '',
  '',
  '',
  't',
  '\x1E',
  '~',
  '',
  '(',
  '',
  '=',
  '',
  '',
  '',
  '\x1F',
  'l',
  'X',
  '',
  'v',
  '',
  '',
  'j',
  '',
  'y',
  '@',
  '\x0E',
  '',
  '',
  '',
  ' ',
  '',
  '',
  '',
  '',
  '\n',
  '',
  'B',
  '',
  '\x0F',
  '.',
  '',
  '',
  '',
  'c',
  '',
  '\x1B',
  '!',
  '',
  '',
  ':',
  'x',
  '',
  '',
  '',
  '\x1C',
  '%',
  '#',
  '',
  '',
  '\x1D',
  '',
  '',
  '\x04',
  'g',
  '_',
  '',
  'J',
  '',
  '',
  '|',
  '\x90',
  '',
  '',
  '',
  '>',
  '\x19',
  '\x06',
  '',
  '',
  '\r',
  '?',
  '',
  '',
  '\x0F',
  '',
  '',
  '-',
  '',
  '',
  '',
  '',
  'z',
  '',
  'W',
  '',
  'b',
  'K',
  '',
  'p',
  'L',
  ' ',
  'D',
  '',
  '',
  '',
  '',
  '',
  'G',
  ']',
  '1',
  '',
  'M',
  '',
  '/',
  '\x03',
  ';',
  'u',
  '\x1A',
  '',
  '',
  '',
  '',
  '',
  'B',
  '7',
  'Q',
  '\x18',
  '',
  'j',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '\x16',
  '',
  'X',
  '4',
  '',
  '',
  '\x81',
  '',
  '@',
  '^',
  'U',
  '\x0E',
  '8',
  'r',
  '=',
  'H',
  '',
  'd',
  'C',
  '',
  '',
  '',
  '',
  '',
  'S',
  '',
  '',
  'Y',
  '[',
  '',
  '',
  '',
  '*',
  '',
  '\x14',
  '9',
  '<',
  '(',
  '',
  'N',
  '',
  '',
  'a',
  '',
  '',
  '\t',
  '\x13',
  '}',
  '',
  '',
  '\xFF',
  'f',
  '0',
  'P',
  '\x17',
  '',
  '',
  '5',
  'A',
  'F',
  '',
  '',
  '',
  '',
  '',
  'I',
  '',
  'e',
  '',
  '',
  '&',
  'n',
  '6',
  '+',
  'l',
  's',
  'E',
  '',
  '',
  'R',
  '\x02',
  '',
  '\f',
  'k',
  '~',
  '',
  'Z',
  '',
  'i',
  'm',
  't',
  'v',
  '',
  '',
  'y',
  '',
  '',
  '',
  'V',
  'h',
  '',
  '\x9D',
  '{',
  '\\',
  '',
  '\'',
  'q',
  '\x8F',
  '',
  '\b',
  '\0',
  ',',
  '',
  '',
  '\n',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '2',
  '',
  '\x15',
  '\x8D',
  '`',
  '\a',
  '\x05',
  '',
  '',
  '\"',
  '',
  '',
  '',
  '\v',
  '\x12',
  'O',
  ')',
  '',
  '',
  '',
  'w',
  '$',
  'o',
  '',
  '',
  '',
  'T',
  '',
  '',
  '\x7F',
  '',
  '\x10',
  '\x1E',
  '3',
  '',
  '\x01',
  '',
  '',
  'j',
  '/',
  '',
  '',
  'X',
  '',
  'F',
  '',
  '\x7F',
  '\b',
  '',
  'p',
  '',
  '1',
  '',
  '\\',
  '\x0F',
  'n',
  '\f',
  'K',
  '',
  '',
  '<',
  '',
  '=',
  'D',
  '',
  '',
  ';',
  '!',
  '\x18',
  '',
  'q',
  '',
  '\xFF',
  '',
  'M',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '\a',
  '',
  'L',
  'm',
  '',
  '$',
  '7',
  '',
  '',
  'h',
  '',
  '',
  'y',
  '4',
  '',
  '',
  '(',
  '',
  '\x1F',
  '',
  '\x8F',
  '\x14',
  '\x8D',
  '8',
  ',',
  '',
  '`',
  '',
  '',
  ' ',
  'i',
  'l',
  '',
  '',
  '\n',
  '_',
  '',
  '',
  '',
  'c',
  'e',
  'Z',
  ':',
  '\x13',
  ')',
  '',
  'v',
  '',
  '',
  '\x1E',
  '',
  '',
  'g',
  'f',
  '',
  'H',
  '',
  'P',
  '\r',
  '',
  '',
  '',
  '9',
  '\x81',
  'B',
  'V',
  '',
  'Q',
  'N',
  '\x11',
  'Y',
  '',
  '',
  '\x19',
  '.',
  '',
  '',
  '',
  '',
  'I',
  '',
  '',
  '?',
  '',
  '\x16',
  '',
  '\x10',
  '',
  '',
  '5',
  '@',
  '\x05',
  '+',
  '',
  '',
  '\x1B',
  '\x01',
  '',
  '\v',
  '\0',
  '',
  '',
  '',
  'r',
  '}',
  '',
  '',
  '-',
  '\x04',
  '',
  'C',
  '',
  '',
  '',
  '',
  '^',
  'z',
  'O',
  'R',
  'A',
  '',
  '%',
  '{',
  'd',
  '~',
  '',
  '2',
  '',
  'U',
  '\x1A',
  '',
  '',
  'o',
  'T',
  '',
  '',
  '*',
  's',
  '\x17',
  '',
  '',
  '\x0E',
  '',
  '\x02',
  '',
  '',
  'a',
  'E',
  '\x15',
  '',
  '\x06',
  'G',
  '',
  '',
  '',
  '>',
  'w',
  'x',
  '6',
  '\x90',
  '',
  'W',
  '',
  '',
  '\t',
  '\x12',
  '',
  '\x1C',
  'S',
  '',
  '',
  '',
  '3',
  ']',
  '0',
  '',
  '&',
  't',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'k',
  '',
  '|',
  '',
  '',
  '\x03',
  '',
  'b',
  '',
  '',
  '\'',
  '',
  '#',
  '\"',
  '',
  '',
  'u',
  '',
  '',
  '',
  '',
  '',
  'J',
  '',
  '[',
  '',
  '\x1D',
  '}',
  '\'',
  '',
  'S',
  '',
  '',
  '',
  '\a',
  '',
  '(',
  '\x18',
  '\b',
  '\x03',
  '',
  '',
  '',
  'e',
  '\f',
  '',
  '\x1F',
  '',
  '\x7F',
  '',
  '',
  '',
  '',
  '\x12',
  'c',
  '\x01',
  'f',
  '=',
  '',
  '',
  'u',
  '',
  '',
  'T',
  '',
  '',
  'Q',
  '',
  '4',
  '',
  '\x19',
  '',
  '\x04',
  '',
  '',
  'H',
  'm',
  '',
  'V',
  '9',
  '',
  'k',
  '',
  '',
  'E',
  '',
  '',
  '',
  '\x13',
  '',
  '',
  '',
  '_',
  '',
  '/',
  '3',
  '',
  'w',
  'N',
  '{',
  '&',
  'Z',
  '',
  '',
  ']',
  '\x06',
  '',
  'i',
  '0',
  '',
  '\x90',
  '\x16',
  'B',
  'z',
  'h',
  'X',
  '',
  '',
  '',
  '',
  '',
  '\n',
  '#',
  'A',
  '',
  '',
  '',
  '',
  '\x14',
  'd',
  '',
  '@',
  '',
  '',
  'q',
  's',
  'C',
  '',
  '',
  'b',
  '',
  'M',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  '2',
  '',
  '`',
  '',
  '',
  '',
  '',
  '',
  'I',
  ' ',
  'l',
  '\x10',
  ':',
  'O',
  'o',
  '',
  '',
  ';',
  '\x1E',
  '?',
  '',
  'a',
  '',
  '',
  ')',
  '',
  '\x02',
  '',
  'P',
  '\0',
  '',
  '',
  'W',
  '[',
  '',
  '',
  '',
  '',
  '',
  'Y',
  ',',
  '',
  '\x0F',
  '.',
  '\x1B',
  '\x05',
  '6',
  '\x15',
  '\x1C',
  '\x1A',
  'j',
  '',
  'r',
  '<',
  '',
  '',
  '',
  'R',
  '5',
  '',
  '',
  '^',
  'G',
  '',
  '',
  '\x9D',
  '',
  't',
  'D',
  '+',
  'K',
  '',
  '',
  'J',
  'v',
  '1',
  '\"',
  'U',
  '\x0E',
  '',
  '\x8D',
  'F',
  'p',
  '\v',
  '',
  '',
  '',
  '-',
  '',
  '%',
  '',
  '',
  '\x17',
  '',
  'n',
  '',
  '!',
  '',
  '',
  '\xFF',
  '8',
  '',
  '',
  '|',
  '',
  '\t',
  '',
  '',
  '',
  '*',
  '',
  '',
  '',
  'x',
  '',
  '',
  '\x81',
  'y',
  '7',
  '',
  '$',
  '~',
  '>',
  '',
  '\x11',
  '\x8F',
  'g',
  'L',
  '\\',
  '',
  '',
  '\r',
  '',
  '9',
  '%',
  '',
  '6',
  '',
  '',
  '',
  '',
  '',
  '\x81',
  '',
  'k',
  '5',
  '',
  'm',
  '',
  '(',
  '',
  '{',
  '/',
  '',
  '.',
  'E',
  '\x0F',
  '\x19',
  '',
  '\\',
  '\x17',
  '\v',
  '\x9D',
  '!',
  '&',
  'V',
  '',
  '',
  '\x10',
  'Z',
  '',
  ';',
  'b',
  '',
  '$',
  '0',
  '',
  'G',
  '',
  'I',
  '\x1C',
  '\x18',
  '',
  'X',
  '',
  '',
  'p',
  '|',
  '\n',
  'h',
  ']',
  '',
  '',
  'O',
  '',
  '',
  '\f',
  'g',
  '\x8D',
  '[',
  '2',
  '\x05',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '\r',
  'f',
  'J',
  '',
  ' ',
  '',
  '\x16',
  '',
  'u',
  '',
  '',
  'i',
  '\x1E',
  'y',
  'e',
  '\x14',
  '8',
  '\x03',
  'z',
  '',
  '*',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  'Y',
  '?',
  '\x1B',
  '',
  'R',
  '',
  '',
  '',
  '',
  '',
  '\x04',
  '',
  '_',
  '',
  '',
  'W',
  '',
  '~',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '\x12',
  '',
  'x',
  '',
  '',
  '#',
  '',
  '',
  't',
  '',
  'j',
  '',
  '',
  '\x8F',
  '7',
  '\x1A',
  ',',
  '',
  'B',
  'o',
  '',
  'U',
  'P',
  '>',
  '\0',
  '1',
  '',
  '\x02',
  '',
  'N',
  '',
  '',
  '',
  '',
  '\xFF',
  ')',
  '',
  '',
  '',
  '<',
  '`',
  'D',
  'F',
  'l',
  '',
  '',
  '3',
  'w',
  '',
  '',
  'T',
  '',
  '',
  '+',
  '',
  '',
  '',
  '\t',
  '',
  'H',
  '\'',
  '',
  '',
  'L',
  '\b',
  '\"',
  '\x06',
  '\a',
  'v',
  '\x13',
  'S',
  'c',
  'r',
  '@',
  ':',
  'K',
  '',
  '',
  'n',
  '\x7F',
  '',
  '',
  '',
  '',
  'Q',
  '',
  '',
  '',
  '',
  '}',
  'd',
  '',
  'M',
  '',
  '',
  '',
  '^',
  '',
  '',
  '',
  '',
  '',
  '=',
  'A',
  '-',
  '\x0E',
  '',
  '\x90',
  '',
  'C',
  's',
  'a',
  '',
  '',
  '4',
  '',
  '',
  'q',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '',
  'G',
  'l',
  '',
  'Z',
  'F',
  '',
  '',
  'S',
  '',
  '',
  '\x11',
  '{',
  '',
  '\x0F',
  '',
  '',
  '',
  'y',
  '',
  'i',
  '',
  '',
  '',
  '7',
  '',
  '<',
  '\x13',
  '',
  '',
  '\x03',
  '%',
  '?',
  '',
  '\\',
  'N',
  '',
  '',
  'j',
  '',
  '\a',
  '',
  'X',
  'C',
  'A',
  '',
  'o',
  '',
  '',
  '',
  '',
  '\x7F',
  's',
  '\x01',
  ':',
  '.',
  '',
  '',
  '',
  '',
  ']',
  'x',
  '',
  'b',
  '$',
  '',
  'c',
  '',
  '',
  'I',
  '',
  '',
  '9',
  '',
  ')',
  '',
  'r',
  'u',
  '8',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'R',
  '5',
  'n',
  '',
  '~',
  '',
  '',
  '\v',
  '\x06',
  '_',
  '',
  '\x17',
  '',
  '',
  '',
  '>',
  'K',
  't',
  '',
  'w',
  'Y',
  'U',
  '=',
  '\x81',
  '\0',
  '',
  '',
  '}',
  '\x8D',
  'g',
  '\x16',
  'z',
  '[',
  '',
  '#',
  'H',
  '',
  '',
  '',
  '',
  '\x05',
  'v',
  '',
  '\x0E',
  '\b',
  'Q',
  '',
  '\t',
  '\x10',
  '',
  'V',
  '!',
  '\x12',
  '',
  '\x1C',
  '',
  '-',
  '\"',
  '\x1B',
  '',
  '',
  '',
  'W',
  '',
  '',
  ',',
  '^',
  '',
  '',
  'O',
  '',
  '\xFF',
  '',
  '|',
  '\'',
  '\x1A',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '\x90',
  'J',
  '\n',
  '',
  '\x14',
  '',
  '',
  '',
  '(',
  '0',
  '`',
  '',
  '+',
  '',
  '\x1E',
  '',
  '',
  '',
  '\x8F',
  '3',
  '',
  '',
  'k',
  'h',
  '',
  'B',
  '\x19',
  '\x1F',
  '',
  'T',
  '\x02',
  '',
  'q',
  'a',
  ';',
  '',
  '',
  'E',
  '@',
  '',
  '',
  '',
  '1',
  '\f',
  '',
  '',
  'P',
  'D',
  'e',
  'f',
  '',
  ' ',
  'M',
  '\x04',
  '\x15',
  '4',
  'L',
  '&',
  '',
  '',
  '',
  'p',
  '',
  '/',
  '2',
  'd',
  '',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '\r',
  'm',
  '6',
  '',
  '*',
  'E',
  'x',
  '!',
  'C',
  '\x10',
  '\x04',
  '',
  '',
  '',
  'h',
  '<',
  '$',
  'g',
  '=',
  '',
  '',
  '',
  'd',
  '',
  '?',
  '\f',
  '0',
  'v',
  '\x15',
  '',
  '*',
  '',
  '',
  'c',
  '',
  'R',
  '',
  '',
  '',
  '\x9D',
  'L',
  '',
  '>',
  '',
  '',
  '\x7F',
  '\x18',
  'p',
  '',
  '',
  '',
  'w',
  '',
  ',',
  ':',
  'J',
  '',
  ']',
  'z',
  ')',
  '',
  'n',
  '',
  '@',
  '\x17',
  '.',
  '',
  'r',
  '',
  '',
  '\xFF',
  '',
  '',
  '',
  'P',
  'Q',
  'm',
  '',
  '',
  '',
  '',
  '',
  '\x14',
  '8',
  '',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '{',
  '',
  '',
  'q',
  '',
  '',
  '',
  'S',
  '(',
  'D',
  '3',
  'H',
  '',
  '',
  '\t',
  '\x1F',
  '',
  '\x12',
  's',
  '7',
  '',
  '\x81',
  '9',
  '',
  '\x8D',
  '}',
  '\b',
  'O',
  '',
  '',
  'y',
  '\v',
  '',
  '#',
  '|',
  'K',
  '',
  '\x06',
  'Z',
  '',
  'b',
  '-',
  'T',
  '',
  '',
  '',
  '',
  '',
  'a',
  '\x11',
  '',
  '',
  '',
  '',
  '%',
  '\x05',
  '',
  '\a',
  '',
  '',
  '',
  '',
  'B',
  '',
  'M',
  '',
  '',
  '',
  '',
  '\x1E',
  '',
  'N',
  '\x1D',
  '',
  '',
  '',
  '',
  '~',
  '',
  '\'',
  '_',
  'I',
  '',
  '\x8F',
  '\x0E',
  'e',
  'X',
  '',
  '',
  '\r',
  '',
  ' ',
  '',
  '',
  '',
  '5',
  '\x02',
  '',
  '/',
  '',
  '\x16',
  '\x1B',
  '',
  '1',
  '',
  '',
  '',
  '&',
  '',
  '',
  '\x0F',
  '',
  '',
  'f',
  '\0',
  '',
  '',
  't',
  '',
  '`',
  '',
  '[',
  '',
  '4',
  '6',
  '\x90',
  '',
  '\x1A',
  'o',
  'k',
  '',
  '',
  'G',
  'l',
  'A',
  '',
  '',
  '+',
  '',
  '',
  '\"',
  '',
  '^',
  'U',
  '',
  '\x03',
  'i',
  '',
  '',
  '',
  '',
  'Y',
  '',
  'F',
  'W',
  '',
  '\n',
  '',
  '\x1C',
  'u',
  'j',
  'V',
  '2',
  ';',
  '',
  '',
  '',
  '\x13',
  '\x19',
  '\x01',
  '',
  '9',
  '',
  '',
  '\x15',
  '',
  '',
  'A',
  '\x02',
  '\'',
  '',
  '',
  '',
  'Y',
  'r',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '',
  '',
  '\x1C',
  '',
  '.',
  '',
  '',
  'i',
  '',
  '',
  '',
  '\x19',
  'B',
  '',
  '\x0E',
  '}',
  '<',
  '',
  '',
  '\x05',
  'U',
  'I',
  '',
  'P',
  '\\',
  '=',
  '&',
  'a',
  '',
  '',
  '\x10',
  '',
  'L',
  '',
  '\x17',
  '\a',
  '\x8F',
  '',
  '',
  '',
  '',
  'S',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '2',
  'C',
  '|',
  '',
  '\x1B',
  '',
  '\x81',
  '$',
  '1',
  'b',
  '',
  't',
  '',
  '\v',
  '\f',
  '',
  '\b',
  'f',
  'w',
  'h',
  'd',
  'k',
  '\x9D',
  '@',
  '',
  'D',
  'g',
  '%',
  '!',
  'W',
  'Z',
  '',
  '',
  '',
  'V',
  '',
  '',
  '5',
  '',
  'H',
  '',
  '\x01',
  '\x90',
  '',
  '',
  'R',
  '^',
  '',
  'p',
  'T',
  '',
  '[',
  ']',
  '7',
  '',
  '',
  '',
  '',
  '\x8D',
  'x',
  '',
  ',',
  '',
  '',
  '\x12',
  'n',
  '\x0F',
  '6',
  'y',
  ')',
  '',
  '',
  '',
  '',
  ' ',
  '',
  '\t',
  '',
  '',
  's',
  '',
  'e',
  '`',
  '\x1D',
  '(',
  'J',
  '',
  'm',
  '',
  '\x03',
  ':',
  'E',
  '-',
  '',
  '\xFF',
  'Q',
  'o',
  '?',
  '',
  '',
  '+',
  '{',
  '',
  'F',
  '',
  '',
  '/',
  '',
  '',
  'u',
  '',
  'G',
  '8',
  'N',
  '\x06',
  '',
  '',
  '',
  'l',
  '',
  '',
  '4',
  '',
  'q',
  '',
  '',
  'O',
  '\x16',
  'K',
  'M',
  '',
  '\n',
  '',
  '',
  '',
  'X',
  '',
  '',
  '',
  '',
  '',
  '',
  '3',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '~',
  '',
  '\x13',
  '#',
  'c',
  '\x1A',
  '',
  '',
  '\r',
  '\0',
  '',
  '\x14',
  '',
  '*',
  'z',
  '\x18',
  '\x04',
  '',
  '0',
  '',
  '',
  'v',
  '\"',
  '',
  '>',
  'j',
  '\x1E',
  '',
  '\x7F',
  '',
  ';',
  '',
  '_',
  '',
  '1',
  's',
  'J',
  '',
  '',
  '-',
  '_',
  'Q',
  'B',
  '\x11',
  'M',
  '\x04',
  '',
  '\x1A',
  'n',
  '',
  '2',
  '>',
  '',
  '',
  '',
  '',
  ',',
  'O',
  '9',
  '',
  '',
  'c',
  '%',
  '\x05',
  '',
  'm',
  'r',
  't',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\0',
  'p',
  '',
  '',
  '',
  '',
  '',
  '\x10',
  'o',
  '',
  'R',
  '',
  '',
  '\x9D',
  ']',
  '}',
  '',
  '',
  '',
  '',
  '`',
  '\x16',
  '\x18',
  '',
  '0',
  '',
  '',
  '',
  '\x13',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'Z',
  '\x02',
  '',
  '|',
  '',
  '',
  '',
  '',
  'W',
  '',
  ' ',
  '',
  '(',
  '',
  '<',
  '',
  '\x0F',
  '',
  '/',
  '',
  '~',
  '',
  'u',
  '',
  '\n',
  '\x1E',
  '$',
  '\x14',
  '\x1F',
  '',
  'H',
  '\xFF',
  '',
  '\x17',
  '5',
  '',
  'h',
  '',
  '',
  'l',
  'b',
  '4',
  'k',
  'g',
  ':',
  'E',
  'L',
  '',
  'a',
  '',
  '',
  'C',
  '',
  '',
  'I',
  '{',
  '=',
  '',
  '',
  'T',
  '',
  '^',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'y',
  '\b',
  '\\',
  'f',
  '\x19',
  '\r',
  '*',
  'w',
  '',
  '\t',
  '',
  '',
  'U',
  '',
  '',
  '',
  '',
  '\x06',
  '',
  '',
  '3',
  '',
  '',
  '\x1B',
  '',
  '',
  '\f',
  '\x0E',
  '',
  'Y',
  '',
  '',
  '&',
  'S',
  '\x03',
  '7',
  '\x7F',
  'e',
  '\x90',
  '[',
  '',
  '\x1C',
  '',
  '\'',
  '\x12',
  '',
  'V',
  'q',
  'K',
  '6',
  '',
  '',
  ')',
  '',
  '\x01',
  '?',
  '',
  '',
  ';',
  '',
  '',
  'G',
  '\x8F',
  '',
  '\x15',
  '',
  '\v',
  'd',
  '',
  '',
  '\"',
  '',
  '!',
  '',
  '',
  '',
  '',
  'P',
  '',
  '+',
  '',
  'D',
  'F',
  '',
  'z',
  '.',
  'N',
  '',
  '\x81',
  '',
  'j',
  'i',
  'x',
  '',
  '',
  '\x8D',
  'A',
  '',
  '#',
  '\x1D',
  '',
  '',
  '8',
  '@',
  'X',
  'v',
  '\a',
  '\r',
  '\x06',
  'P',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '|',
  '.',
  '!',
  'x',
  '\x16',
  '',
  '',
  '',
  '',
  '',
  'u',
  '5',
  'L',
  '\x1D',
  '\x1B',
  '>',
  '\x1F',
  '~',
  '',
  'S',
  '\x04',
  '\x14',
  '',
  '',
  '\x0F',
  '',
  '\n',
  'i',
  'Z',
  ';',
  '',
  '',
  '',
  'H',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '+',
  's',
  '\x11',
  '',
  '',
  '',
  '%',
  '',
  'c',
  '&',
  ')',
  '?',
  '',
  'D',
  '',
  '\x8F',
  'n',
  'G',
  '',
  '\x13',
  '`',
  'R',
  'l',
  '\a',
  '',
  '',
  '2',
  '\0',
  '\x10',
  '\xFF',
  '',
  '',
  ' ',
  '\x81',
  '',
  '\v',
  '',
  ':',
  '',
  '0',
  '\x8D',
  '',
  '',
  '',
  '',
  '\'',
  'r',
  '',
  'q',
  '\"',
  '=',
  '\x15',
  'X',
  '',
  '',
  'K',
  '',
  '\x7F',
  '',
  '^',
  '',
  'O',
  'A',
  '',
  '}',
  '\x1C',
  '',
  'I',
  '\\',
  '',
  't',
  '',
  '',
  'd',
  '9',
  '\f',
  '',
  '',
  '\x01',
  '',
  ',',
  '\t',
  '',
  '',
  'p',
  '\x90',
  '',
  'N',
  '',
  '',
  '\x03',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  'C',
  ']',
  'F',
  '',
  '',
  'w',
  '',
  '',
  '',
  '',
  'Y',
  '',
  '(',
  '\x9D',
  '',
  'z',
  '',
  'j',
  '',
  '4',
  '',
  'e',
  '',
  'E',
  '',
  '',
  'h',
  '',
  '$',
  '',
  '',
  '',
  'm',
  '',
  '',
  'J',
  '\x1E',
  '@',
  '',
  '',
  '',
  '',
  '#',
  '7',
  '',
  '',
  '\b',
  '',
  '',
  '6',
  '-',
  '\x18',
  '',
  '',
  '\x17',
  'W',
  'b',
  '\x05',
  'g',
  '3',
  '',
  '',
  'y',
  '<',
  '',
  'U',
  '8',
  'k',
  'a',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '1',
  '',
  'V',
  '\x19',
  '',
  '\x1A',
  '{',
  'o',
  'Q',
  '[',
  '',
  '',
  'v',
  '_',
  '*',
  '',
  '',
  'M',
  '',
  'T',
  '',
  'B',
  '',
  '',
  'f',
  '',
  '/',
  '\x0E',
  '@',
  'z',
  'K',
  '\x05',
  '\x1F',
  '',
  '',
  '1',
  '!',
  '}',
  '\x04',
  '',
  '',
  's',
  '',
  '',
  '',
  '7',
  '3',
  '',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '$',
  '',
  '\x13',
  '',
  '\'',
  '',
  'r',
  '',
  '0',
  '^',
  '',
  'W',
  '',
  '',
  '\x90',
  '',
  '',
  '\x15',
  '',
  '',
  '\a',
  '',
  'i',
  '',
  '\x12',
  '\x1C',
  'c',
  '%',
  'm',
  '',
  'o',
  'Y',
  '',
  'A',
  '+',
  '',
  'P',
  '',
  '\0',
  'w',
  '',
  'e',
  '',
  '',
  '/',
  '',
  '',
  '',
  'g',
  '2',
  '<',
  '',
  '',
  'n',
  '\x06',
  '',
  '\x9D',
  '',
  '\x16',
  '',
  '#',
  '',
  '\r',
  '',
  '[',
  '',
  '?',
  '',
  '\x17',
  '',
  '',
  '',
  '\n',
  'Q',
  '\x1A',
  'p',
  '\x8D',
  '\b',
  '',
  '&',
  '',
  'f',
  '',
  '\x7F',
  ',',
  '',
  'C',
  '\f',
  '\x02',
  '{',
  '',
  '\x1E',
  'l',
  '~',
  '',
  '',
  '\x11',
  '',
  'F',
  '',
  '\\',
  'd',
  '',
  '\x8F',
  '',
  '|',
  '',
  '',
  '',
  '\x0F',
  'H',
  'v',
  '\x10',
  '',
  '',
  '\x81',
  't',
  '',
  'M',
  '\x1D',
  '',
  '',
  '9',
  'L',
  '',
  '\x03',
  '',
  '.',
  ']',
  '',
  'N',
  '5',
  '\x0E',
  ' ',
  'h',
  '\x18',
  'u',
  '',
  '',
  '',
  '',
  '',
  'k',
  'a',
  'y',
  'Z',
  '',
  '',
  'b',
  ';',
  '',
  '\v',
  'T',
  '',
  '',
  'J',
  '`',
  '\x1B',
  'S',
  '',
  'I',
  '',
  '',
  '',
  'X',
  '',
  '',
  '',
  'j',
  '',
  '',
  '-',
  '>',
  '',
  '',
  '',
  '',
  ')',
  'U',
  '',
  'G',
  '',
  '',
  '\"',
  'x',
  '',
  '*',
  '\xFF',
  '',
  '',
  '_',
  '',
  '',
  '',
  'B',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '\x19',
  '(',
  '8',
  '\t',
  '',
  'V',
  'E',
  '',
  '',
  '',
  '',
  '',
  'O',
  '',
  '',
  'R',
  '',
  'q',
  '\x01',
  '',
  '',
  ':',
  '',
  'D',
  '',
  '6',
  '',
  '4',
  '\n',
  'u',
  '',
  '',
  'P',
  'o',
  '',
  '',
  '',
  '7',
  '',
  '',
  '',
  '6',
  '',
  '\0',
  'X',
  '{',
  '',
  '',
  '.',
  't',
  '',
  '',
  'F',
  '\x0F',
  '',
  '',
  '\x05',
  '',
  '',
  '',
  ')',
  '',
  '',
  'k',
  '',
  '\x1A',
  '',
  'S',
  '',
  '',
  '',
  '',
  '',
  '',
  '!',
  '',
  '',
  '',
  '',
  '',
  '\x16',
  'H',
  'Y',
  '>',
  '',
  '?',
  '',
  '',
  '|',
  'g',
  '',
  '',
  '\x8D',
  '\x03',
  'D',
  'W',
  '^',
  '~',
  '',
  '',
  'd',
  '\a',
  'R',
  '(',
  '',
  '',
  'M',
  '$',
  ':',
  '\x19',
  '',
  '',
  '',
  '\x12',
  '',
  'w',
  'j',
  '',
  '',
  '\x1C',
  '\x15',
  '',
  '',
  '',
  '<',
  '\x14',
  '',
  '',
  '\r',
  '',
  '',
  '',
  '\x8F',
  '3',
  'a',
  '',
  '+',
  'C',
  '',
  '\x02',
  'y',
  '4',
  'f',
  '`',
  '\x06',
  '',
  '',
  '2',
  '\x13',
  '\x17',
  '',
  '',
  'b',
  'q',
  '%',
  '@',
  '',
  'B',
  '',
  '',
  '',
  '\x10',
  '',
  'x',
  'i',
  '',
  '',
  '',
  'A',
  '_',
  '',
  '\x1E',
  '\x7F',
  '',
  '\\',
  '\x18',
  '[',
  '',
  '\x11',
  '',
  'J',
  'U',
  '',
  '',
  '',
  '/',
  'v',
  '\x1D',
  'O',
  'l',
  '',
  '\b',
  '-',
  '',
  '',
  '',
  '',
  'm',
  'Z',
  '&',
  '',
  '\'',
  '',
  '',
  '1',
  'N',
  '',
  '',
  '5',
  '',
  '\"',
  '\t',
  '',
  'n',
  ';',
  'V',
  '',
  '',
  '\x04',
  'r',
  '',
  '',
  'K',
  '\x01',
  '',
  '',
  '\v',
  ' ',
  '}',
  '',
  '',
  'c',
  'E',
  'Q',
  '',
  '',
  '',
  '',
  '',
  '',
  's',
  'G',
  '',
  'h',
  '',
  '#',
  'p',
  '',
  '',
  'T',
  '',
  '\x81',
  ']',
  '\x9D',
  '',
  '',
  '9',
  '',
  'I',
  '',
  '',
  '\xFF',
  'z',
  '8',
  '',
  '=',
  '0',
  '',
  '',
  '\x90',
  '',
  '\x1B',
  '*',
  ',',
  '',
  '\x1F',
  '',
  '',
  '\x0E',
  'L',
  '',
  'e',
  '',
  '\f',
  '',
  '',
  '',
  '',
  '',
  '@',
  '\x02',
  '',
  'D',
  '+',
  ':',
  '',
  '',
  'A',
  '',
  '',
  '',
  '',
  't',
  '',
  'b',
  '',
  '',
  '',
  '',
  '_',
  '',
  '',
  '',
  '\x8F',
  '$',
  'S',
  '\0',
  '9',
  'q',
  '',
  '\x90',
  '\\',
  '',
  '',
  '7',
  '',
  ')',
  '[',
  'T',
  '\b',
  '',
  '',
  '',
  '',
  '',
  '',
  ';',
  '!',
  '\x15',
  '2',
  '\x05',
  '\xFF',
  '',
  '',
  'V',
  '',
  'a',
  '',
  'X',
  '',
  'N',
  'h',
  '',
  'w',
  '\v',
  '',
  '\x0E',
  '\x1A',
  '',
  'x',
  '-',
  'K',
  '',
  '>',
  '',
  '~',
  '',
  '<',
  '',
  '',
  'p',
  'E',
  '',
  '',
  '',
  '\x0F',
  '\x7F',
  '8',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  'J',
  '',
  '',
  '',
  '',
  '',
  '\x81',
  '',
  'c',
  '',
  '',
  '`',
  '',
  '\x17',
  'o',
  '',
  '\t',
  '',
  '',
  '',
  '\x06',
  'v',
  'W',
  '',
  'k',
  '{',
  '',
  '\"',
  '',
  '',
  '',
  '/',
  'd',
  '\x1B',
  'f',
  '',
  '',
  '',
  'B',
  '',
  '',
  '',
  '',
  '\x13',
  '\x1C',
  '',
  '',
  '\x04',
  '4',
  '',
  '',
  '\x01',
  '^',
  '(',
  '\x1E',
  '|',
  '\a',
  '',
  ']',
  '\x16',
  'g',
  'G',
  '',
  '\x1F',
  '',
  'Y',
  '',
  '\'',
  'n',
  '',
  '',
  '',
  ' ',
  '\x03',
  '5',
  'j',
  '',
  '%',
  'e',
  '',
  '1',
  '',
  '\x11',
  '',
  'l',
  '',
  '\x8D',
  '',
  '\x18',
  'Q',
  'u',
  'H',
  '',
  'R',
  '3',
  'Z',
  '?',
  'C',
  '',
  '',
  '0',
  '\x19',
  '',
  '',
  '',
  '}',
  '\f',
  '',
  '',
  '',
  'y',
  'z',
  '',
  '',
  's',
  '\x9D',
  '',
  '',
  '&',
  '',
  'r',
  '',
  '',
  'O',
  '\n',
  'P',
  '#',
  '6',
  '',
  '',
  'U',
  'F',
  'L',
  '',
  '',
  '.',
  '',
  '=',
  '\x10',
  '',
  'M',
  '\x14',
  '',
  'I',
  '',
  '*',
  '',
  '',
  '',
  'i',
  ',',
  '\r',
  '',
  'm',
  '\x12',
  '',
  '',
  '\r',
  'J',
  '',
  '',
  'A',
  '4',
  'b',
  '%',
  '6',
  '+',
  '',
  '',
  ']',
  '',
  '\b',
  '\x10',
  '\x0F',
  'R',
  '\t',
  '',
  'B',
  '5',
  'v',
  '',
  '',
  'C',
  '\x8F',
  '',
  '!',
  '',
  'q',
  '',
  '',
  's',
  '\x1F',
  '',
  ':',
  'Z',
  '9',
  '',
  'G',
  'x',
  'n',
  '',
  '',
  '',
  '',
  '\0',
  '\x03',
  '{',
  '(',
  '1',
  '\x12',
  '\x16',
  '\'',
  '',
  'h',
  'r',
  'E',
  '',
  '',
  '\"',
  '',
  '',
  '',
  '',
  ';',
  '',
  'k',
  '\x01',
  '',
  '',
  '',
  'L',
  '',
  '',
  'V',
  '',
  '\\',
  '',
  '\x13',
  '',
  '',
  'O',
  '',
  '',
  '}',
  '',
  '[',
  '',
  '$',
  '',
  '',
  '',
  '2',
  '',
  '\x11',
  '\x14',
  '',
  'o',
  '<',
  '',
  '',
  '\x8D',
  'f',
  ')',
  'w',
  '-',
  '',
  ',',
  'l',
  '',
  '\x15',
  '',
  ' ',
  't',
  'j',
  '',
  '',
  '',
  '0',
  '',
  '\v',
  '',
  '3',
  '8',
  '',
  'm',
  '',
  'u',
  'F',
  '\x04',
  '',
  '',
  '',
  '',
  '',
  '',
  'T',
  '\x18',
  '',
  '\n',
  '',
  '',
  '',
  'S',
  'P',
  'p',
  '\x1D',
  '',
  '',
  '',
  '/',
  'y',
  '\x0E',
  '_',
  'g',
  '@',
  '\x19',
  '',
  '\x81',
  '\x9D',
  '',
  '',
  '?',
  '\x1B',
  'X',
  '\xFF',
  '',
  'H',
  '',
  '',
  'i',
  '#',
  'K',
  '',
  '',
  '',
  '',
  '',
  '',
  '\a',
  '',
  '',
  '\x02',
  '',
  '7',
  '',
  '',
  '\x90',
  'D',
  '\x7F',
  '^',
  '',
  '',
  '',
  'z',
  'M',
  '',
  '',
  '\x1E',
  '',
  '\x05',
  '\f',
  '',
  '*',
  '',
  '`',
  '&',
  '',
  '',
  '',
  'N',
  '',
  '',
  'a',
  'e',
  'd',
  'c',
  'W',
  '',
  '\x1A',
  '',
  '',
  '',
  '',
  'U',
  '',
  '',
  '\x06',
  '~',
  '',
  '=',
  '',
  '',
  '',
  '|',
  '',
  '',
  'Q',
  '',
  '\x1C',
  'Y',
  '>',
  '',
  '',
  '',
  '',
  '',
  'I',
  '',
  '',
  '.',
  '\x17',
  '',
  '',
  '\r',
  '',
  'W',
  '',
  '',
  '',
  '4',
  'M',
  '',
  '',
  '',
  '\'',
  '',
  '\x06',
  '',
  'a',
  'q',
  '',
  '',
  '',
  'L',
  '',
  ')',
  '}',
  'E',
  '\t',
  'r',
  '@',
  '',
  '',
  'o',
  '`',
  '',
  '',
  '',
  'b',
  ':',
  '',
  'J',
  '',
  '[',
  'C',
  '\x17',
  'Q',
  '',
  '',
  '',
  '\x02',
  '',
  '\x18',
  '',
  '',
  '|',
  '!',
  '',
  't',
  '',
  '\x05',
  '',
  ',',
  '\x1C',
  'H',
  '',
  '\b',
  '',
  'm',
  '\x1B',
  'Y',
  'U',
  'y',
  'z',
  '7',
  '^',
  '',
  '',
  '',
  '',
  'w',
  'R',
  '',
  '',
  'u',
  's',
  '',
  '\f',
  '',
  'B',
  '',
  '',
  '\n',
  '',
  '',
  '',
  '',
  ']',
  '',
  '',
  '',
  '',
  '1',
  '\v',
  '',
  '\x04',
  '',
  'h',
  '\x1F',
  '',
  '+',
  '\x1E',
  '<',
  'I',
  'c',
  '',
  '',
  '=',
  '\"',
  '\x0E',
  '',
  ' ',
  '~',
  '',
  '',
  '5',
  'D',
  '/',
  'v',
  '',
  '',
  '',
  '',
  '\x13',
  '{',
  '',
  '\x1A',
  '2',
  '',
  '',
  '\x11',
  '',
  '',
  ';',
  '',
  '',
  '',
  'Z',
  'K',
  '\x81',
  'x',
  '',
  '\x19',
  'N',
  '>',
  '$',
  'f',
  '',
  'e',
  '',
  '\a',
  '',
  '',
  '',
  '',
  'O',
  'l',
  '',
  '(',
  '',
  '9',
  'j',
  '',
  '',
  '',
  '',
  '\x1D',
  '',
  'p',
  '',
  'n',
  '',
  '',
  'F',
  '',
  'G',
  'd',
  '',
  '#',
  '\x10',
  '.',
  '',
  '',
  '&',
  '\\',
  '',
  '8',
  'X',
  '\x8F',
  '',
  '\x8D',
  'g',
  '',
  '\x15',
  'k',
  '',
  '',
  '',
  '6',
  '\x7F',
  '',
  '',
  '\x16',
  'i',
  '',
  '',
  '%',
  '',
  '\x90',
  'A',
  '',
  '',
  '',
  '',
  '',
  '\0',
  '\x0F',
  '',
  '',
  '-',
  '',
  '\x9D',
  'T',
  '',
  '',
  '',
  '',
  '',
  '0',
  '\x12',
  '\xFF',
  '',
  '\x14',
  'V',
  '',
  'P',
  '',
  '\x01',
  '',
  '\x03',
  '?',
  '3',
  'S',
  '',
  '_',
  '*',
  '',
  '',
  '',
  '\x19',
  'h',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  'K',
  '\r',
  '',
  'W',
  '',
  'U',
  '',
  '\x0F',
  'C',
  'R',
  '\x10',
  '',
  '',
  '',
  '',
  '\f',
  '',
  '',
  '',
  'J',
  '\x06',
  'v',
  'i',
  'e',
  '',
  '',
  '{',
  '',
  '\x15',
  'f',
  '',
  ')',
  '',
  '\x01',
  'T',
  '',
  '',
  'B',
  '',
  '',
  '\x17',
  'X',
  '',
  '2',
  'j',
  'Y',
  '',
  '+',
  '[',
  '',
  '',
  '',
  '',
  '.',
  'L',
  '\x05',
  'u',
  '',
  ';',
  '\x1A',
  '\a',
  '',
  '*',
  '',
  '-',
  '',
  '',
  '',
  '^',
  '',
  '',
  'k',
  ' ',
  '',
  '',
  '',
  '\x11',
  '_',
  '',
  '',
  'd',
  '',
  'l',
  '',
  '',
  'q',
  '',
  'E',
  '',
  '9',
  '\x12',
  'n',
  '',
  '',
  '',
  'y',
  'z',
  '',
  'O',
  'r',
  'Q',
  '',
  '',
  'x',
  'V',
  '',
  'D',
  't',
  '',
  '',
  '',
  '',
  '\x1B',
  '\x1F',
  'o',
  '\x90',
  'P',
  '',
  '',
  'm',
  '',
  '\x03',
  '',
  '1',
  '\\',
  '',
  '',
  '',
  '}',
  '',
  ',',
  '?',
  '',
  '',
  '',
  ']',
  '0',
  '',
  '',
  'A',
  '',
  '\x1C',
  '/',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '\x8D',
  '%',
  '\x04',
  'p',
  '|',
  '\"',
  '',
  'I',
  '\x16',
  '',
  'F',
  '\x7F',
  '',
  '\x8F',
  '\x13',
  '`',
  '',
  '=',
  '\x81',
  '<',
  '',
  '',
  '',
  '5',
  '\x0E',
  ':',
  '',
  'S',
  'a',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '(',
  '',
  '\n',
  '\b',
  '!',
  '',
  '',
  'Z',
  'N',
  'c',
  '\x18',
  '\0',
  '\t',
  '~',
  '>',
  '',
  '',
  '',
  '4',
  '\x02',
  '',
  '',
  '',
  'M',
  'G',
  '',
  's',
  '',
  '',
  '\x1E',
  '',
  '\x9D',
  '#',
  '',
  '',
  '',
  '',
  'w',
  '',
  '',
  '',
  '',
  '&',
  '8',
  '\'',
  'b',
  '',
  '',
  '',
  '@',
  '6',
  '\x1D',
  '',
  '',
  '',
  '$',
  '3',
  '7',
  'H',
  '',
  'g',
  'l',
  '',
  '',
  '',
  'm',
  '\a',
  '\x0F',
  '.',
  '7',
  '',
  '',
  '',
  'e',
  '\x7F',
  '',
  '',
  'o',
  '',
  'g',
  '',
  '[',
  '',
  '4',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '/',
  '\x1A',
  '',
  'P',
  'r',
  '',
  '\x17',
  '',
  '',
  'R',
  '',
  '',
  '\x0E',
  'N',
  'V',
  '_',
  '',
  '>',
  'K',
  '0',
  '',
  '8',
  '',
  'z',
  '',
  'H',
  '',
  '\v',
  '2',
  '\x04',
  '\x1F',
  '\x01',
  'w',
  'd',
  'c',
  '',
  'J',
  '',
  '',
  '',
  '`',
  '',
  'h',
  '\x19',
  '',
  '',
  '\x13',
  'C',
  '',
  '',
  'A',
  '',
  'y',
  'v',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '',
  '',
  '',
  '',
  ';',
  's',
  'G',
  '',
  '',
  'Q',
  'u',
  'k',
  '',
  '6',
  '',
  '',
  '\n',
  'q',
  '',
  '',
  'M',
  '',
  'T',
  '',
  '',
  ',',
  'W',
  '\x11',
  '\x1D',
  '',
  '\x18',
  '\x81',
  '',
  'D',
  'f',
  '',
  'j',
  '',
  'O',
  '\x1E',
  '\x9D',
  '',
  '',
  '',
  '\t',
  '',
  '',
  't',
  '',
  '+',
  '',
  '\"',
  '',
  '<',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'F',
  '\x8D',
  '&',
  '',
  '\x15',
  '',
  'U',
  'n',
  '',
  '1',
  ')',
  '5',
  '',
  '\x05',
  '',
  '$',
  '',
  '\x10',
  '',
  'b',
  '\x12',
  '',
  '',
  '',
  '',
  'i',
  '\r',
  '\x06',
  '',
  '',
  'E',
  '',
  'L',
  '',
  '',
  'p',
  '',
  '\x1B',
  '',
  '',
  '',
  'a',
  '@',
  '',
  '',
  '}',
  '\x90',
  ':',
  '^',
  '',
  'x',
  '\0',
  '',
  '~',
  '\x14',
  '9',
  '\x02',
  '-',
  '',
  '\x03',
  '(',
  '',
  '',
  '\x16',
  '\x8F',
  '',
  '*',
  '',
  '',
  '',
  '',
  '#',
  '3',
  'I',
  '\\',
  '?',
  '{',
  '',
  '%',
  'S',
  '',
  '\f',
  ' ',
  '',
  'B',
  '',
  '',
  '',
  '!',
  '\'',
  '',
  'X',
  'Y',
  '|',
  'Z',
  '',
  ']',
  '\xFF',
  '=',
  '',
  '',
  '\x1C',
  '',
  '\xFF',
  '}',
  '',
  '\x1C',
  '',
  '\x17',
  '\x90',
  '(',
  '\x1E',
  '\v',
  '+',
  '',
  '\\',
  'e',
  'X',
  '',
  '',
  'E',
  '3',
  '',
  'v',
  '',
  '8',
  '4',
  'g',
  '',
  '',
  'm',
  '\x01',
  '',
  '',
  ')',
  '\x8D',
  '',
  '',
  '',
  'R',
  '',
  '',
  'B',
  '',
  '',
  '!',
  '',
  '',
  ' ',
  '',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  ']',
  '\x02',
  '\x7F',
  '',
  'z',
  '',
  '\x18',
  'u',
  '',
  '9',
  '\n',
  '|',
  '',
  '',
  '',
  '',
  '`',
  '%',
  '',
  '',
  '',
  '\x15',
  '-',
  '',
  '[',
  '',
  '',
  '\0',
  '{',
  '',
  '',
  'h',
  '\x81',
  '',
  '2',
  '.',
  'Q',
  't',
  '',
  '>',
  '',
  '',
  '',
  ':',
  '\f',
  '',
  '',
  'a',
  'q',
  'S',
  ',',
  '',
  '',
  'w',
  '',
  '\x05',
  'd',
  '',
  '',
  'p',
  'W',
  '\x06',
  '',
  'i',
  '\x12',
  '\"',
  '',
  '',
  '',
  '=',
  '\x10',
  '\x9D',
  'c',
  'l',
  '',
  '',
  '',
  '0',
  'k',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1A',
  '~',
  '',
  '*',
  '',
  '',
  'I',
  '',
  'f',
  '\x0E',
  '',
  '',
  '',
  ';',
  '',
  'C',
  'J',
  '',
  'D',
  '\'',
  '\a',
  '\x03',
  '\x19',
  '',
  '',
  '',
  '',
  'L',
  'F',
  '\x16',
  '\x04',
  '\x0F',
  '',
  '1',
  '',
  '',
  '#',
  'U',
  'V',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '^',
  '',
  'x',
  '7',
  '?',
  'Y',
  '5',
  '',
  '\t',
  '@',
  '',
  'P',
  'o',
  '',
  '_',
  '',
  '\x1F',
  '',
  '',
  '',
  '<',
  '',
  'n',
  '\b',
  '',
  'H',
  '',
  '\x8F',
  '',
  '',
  '\x11',
  '&',
  'G',
  '',
  '$',
  '',
  'O',
  'A',
  '',
  '',
  '6',
  'Z',
  '',
  '',
  '',
  '\r',
  'j',
  '',
  'r',
  'M',
  '',
  '',
  '\x1D',
  'K',
  '\x1B',
  '\x13',
  'b',
  '',
  'y',
  '/',
  '',
  '',
  's',
  '',
  'N',
  '',
  '',
  '',
  '\x05',
  '',
  '',
  '',
  '',
  '\\',
  '\x10',
  '^',
  '',
  '',
  'x',
  '',
  'D',
  'w',
  '',
  'u',
  'B',
  '',
  '',
  '8',
  ']',
  '',
  ')',
  '',
  '\r',
  '',
  'f',
  '',
  '',
  '\x8D',
  '',
  '',
  'W',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  'r',
  'a',
  '\x18',
  '`',
  '\x81',
  '\f',
  '\'',
  '{',
  '\x1F',
  '',
  '',
  'N',
  '\x04',
  'Y',
  '',
  'C',
  '',
  '',
  '[',
  '',
  '',
  'V',
  'O',
  'c',
  'X',
  'q',
  '',
  '',
  '',
  ' ',
  '',
  '',
  '',
  '',
  '\x17',
  '5',
  '',
  'F',
  'v',
  '\x0F',
  '~',
  't',
  '\0',
  '',
  '*',
  'y',
  '',
  'g',
  '',
  '',
  'A',
  '',
  '',
  'M',
  '',
  '\x1A',
  'G',
  '1',
  '',
  '?',
  '|',
  '',
  '\x1B',
  '\xFF',
  '',
  '',
  '\x03',
  'p',
  '\"',
  'b',
  '',
  'E',
  '',
  '',
  '',
  'K',
  '',
  'T',
  '',
  '4',
  '',
  '7',
  '_',
  '',
  '',
  '%',
  '',
  '2',
  '',
  '',
  '\n',
  '=',
  '',
  '',
  '+',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  'R',
  '',
  '',
  '<',
  '\x16',
  '\x06',
  'H',
  '}',
  '',
  '',
  '',
  '\x15',
  '\x9D',
  '(',
  '',
  '',
  '',
  '',
  '0',
  '',
  '\x19',
  '$',
  ':',
  '\x1D',
  'U',
  'e',
  '\a',
  '\x7F',
  '',
  '',
  '',
  '',
  '3',
  'i',
  '',
  '@',
  '\x8F',
  '',
  '',
  '6',
  'l',
  '',
  '',
  'J',
  '',
  '',
  '.',
  '\x0E',
  '',
  '\x01',
  '',
  '#',
  '/',
  '\x13',
  '9',
  'I',
  '&',
  '',
  'P',
  '\x02',
  'Q',
  'j',
  '',
  '\x11',
  '',
  '',
  '\x1E',
  ',',
  '\t',
  '',
  '',
  '!',
  'S',
  '\x90',
  '',
  '',
  'Z',
  '-',
  '',
  'k',
  ';',
  '',
  '',
  'd',
  '',
  '',
  '',
  'z',
  '',
  's',
  '',
  '',
  '\b',
  '\x14',
  '\v',
  'o',
  '',
  '',
  'L',
  '',
  'm',
  '',
  '',
  '',
  '',
  'n',
  '',
  '',
  '>',
  'h',
  '',
  '',
  '',
  '',
  '\f',
  '',
  '',
  '',
  '\x9D',
  'h',
  '',
  '\x0E',
  '8',
  ')',
  '\"',
  '4',
  '',
  '[',
  'F',
  'd',
  '',
  '',
  '',
  'f',
  '',
  '\x05',
  '!',
  'J',
  '\x1C',
  '|',
  '',
  'D',
  '',
  '2',
  '',
  '',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x04',
  '',
  '1',
  '',
  'r',
  'Z',
  '',
  '',
  '-',
  'R',
  '\x15',
  '',
  '\x8F',
  '',
  '',
  '',
  'l',
  'o',
  '9',
  'U',
  '',
  '',
  '',
  '\0',
  '',
  'y',
  '',
  '',
  '\\',
  'S',
  'W',
  ':',
  '\x01',
  '',
  '',
  '\x03',
  'x',
  'H',
  'm',
  '',
  '\x1E',
  '',
  '\t',
  '',
  '',
  '\x12',
  '',
  'I',
  '7',
  '',
  '',
  '',
  '6',
  '~',
  '\x90',
  'k',
  'Q',
  '?',
  'i',
  '\v',
  'q',
  'w',
  '',
  '',
  '\x18',
  '',
  '.',
  'K',
  't',
  '{',
  '',
  '\x1A',
  '',
  '',
  '',
  '\x02',
  'G',
  '<',
  '',
  'n',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'j',
  '',
  'p',
  '',
  '',
  '',
  '>',
  '',
  '\b',
  '',
  '',
  '',
  '\x1F',
  'A',
  '\x19',
  '',
  '',
  '',
  '',
  '\x1D',
  '',
  'z',
  '%',
  'c',
  '',
  '=',
  '',
  '',
  '',
  '\'',
  'V',
  '',
  '',
  '',
  '\x10',
  '\x7F',
  '*',
  '',
  'e',
  '',
  'g',
  '',
  '\x0F',
  '',
  '\r',
  '\x06',
  '',
  'v',
  '\x13',
  '\x81',
  'M',
  ']',
  ' ',
  '0',
  '',
  '',
  '',
  '',
  '',
  'a',
  '/',
  '',
  's',
  '',
  '',
  '\x1B',
  'Y',
  '',
  '}',
  '\x11',
  '',
  '#',
  '',
  '',
  '',
  '',
  'P',
  '',
  'u',
  '',
  'L',
  '',
  '_',
  '\x8D',
  '',
  '+',
  'O',
  '',
  '@',
  '',
  ',',
  '\xFF',
  '',
  '',
  '',
  'T',
  'B',
  '',
  'C',
  '',
  '`',
  '',
  '',
  '&',
  '',
  '',
  '^',
  'N',
  '\x14',
  '(',
  'E',
  '\a',
  ';',
  '',
  '',
  '',
  'X',
  '',
  '',
  '',
  '\x17',
  '\x16',
  '$',
  '',
  '',
  '5',
  'b',
  '',
  '3',
  '',
  'L',
  '',
  '',
  '',
  '\x10',
  '\x1E',
  '',
  '',
  '\x03',
  'x',
  '',
  '\x11',
  '\x19',
  '\n',
  'i',
  '',
  '',
  '',
  '',
  '>',
  ')',
  '',
  '',
  '',
  'U',
  '4',
  '&',
  '',
  '\xFF',
  '',
  '\x1F',
  'q',
  'e',
  '\'',
  '\x15',
  '',
  '<',
  '\x13',
  '\x0F',
  '6',
  '5',
  '',
  'M',
  '\x7F',
  '(',
  'm',
  '',
  'b',
  'Z',
  '*',
  'J',
  '\x16',
  '',
  '\\',
  '',
  '/',
  '',
  '',
  '\x05',
  'j',
  '|',
  '9',
  '',
  '',
  '',
  '\r',
  'l',
  '\x12',
  '.',
  '\t',
  '',
  'C',
  'S',
  'R',
  'v',
  '',
  'T',
  'u',
  'p',
  '',
  '',
  '',
  '',
  'O',
  '',
  '',
  '',
  '',
  '',
  'D',
  '',
  'w',
  '',
  '3',
  '\x1D',
  '',
  '',
  '\x9D',
  '',
  '\b',
  '1',
  '$',
  '%',
  '\x0E',
  'P',
  '0',
  'n',
  '',
  '',
  '',
  '',
  '',
  'F',
  '[',
  '',
  '',
  '',
  '',
  '#',
  'G',
  '',
  '',
  '\x8D',
  '',
  '',
  '~',
  '',
  '',
  '',
  '',
  'o',
  '',
  '\0',
  '',
  '',
  '',
  '\x04',
  '',
  '',
  '',
  '\x14',
  '',
  '+',
  '',
  '\x02',
  'I',
  'z',
  '\x18',
  ';',
  'a',
  '\x90',
  '',
  '',
  '',
  ' ',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '',
  'E',
  '',
  '',
  '',
  '\x8F',
  '',
  '\x81',
  '',
  't',
  '2',
  '',
  'A',
  '',
  'd',
  'c',
  'B',
  '?',
  '',
  '',
  '{',
  '}',
  '\f',
  '',
  '\x1A',
  '\"',
  '',
  'f',
  '\x01',
  '\x06',
  ']',
  '',
  '',
  '8',
  '',
  '',
  ',',
  'Q',
  '',
  'H',
  '',
  '',
  '',
  '',
  'W',
  '\x1B',
  '',
  '',
  '\a',
  '',
  'r',
  '`',
  '',
  'K',
  '7',
  '\v',
  '',
  '',
  '^',
  '',
  'h',
  '-',
  '@',
  '',
  '',
  '',
  '_',
  '',
  'g',
  '',
  'y',
  '',
  '',
  '',
  'N',
  '',
  'k',
  '',
  'Y',
  '\x17',
  '',
  'V',
  '',
  '\x1C',
  '',
  '',
  '',
  '',
  'X',
  '',
  ':',
  's',
  '!',
  '',
  '\x03',
  '',
  '\x17',
  '\x8D',
  '\x05',
  '\x1E',
  '',
  '',
  '8',
  '+',
  '',
  '',
  'd',
  '',
  '`',
  '?',
  '',
  '',
  '',
  '[',
  '',
  '',
  '!',
  '',
  ',',
  '.',
  'I',
  '6',
  'r',
  'E',
  'y',
  '',
  '\x19',
  '',
  '',
  '\x04',
  '',
  '=',
  '',
  'V',
  '',
  '',
  '',
  '',
  '',
  '\a',
  'J',
  '',
  '',
  '\x06',
  'u',
  '$',
  '',
  '\x81',
  '\0',
  '\t',
  '',
  '',
  '',
  '',
  'K',
  ')',
  '\x7F',
  'C',
  'T',
  '',
  '',
  ';',
  '\x1C',
  '\x1D',
  '',
  '^',
  '',
  'm',
  '(',
  '',
  '<',
  'n',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '',
  '\x12',
  '\x01',
  '',
  '\x9D',
  '\x16',
  '',
  '',
  '',
  '\x02',
  'w',
  '',
  '',
  '\x0E',
  '#',
  '4',
  '',
  'L',
  '\x14',
  '|',
  '\x90',
  '',
  'a',
  '',
  '\x1F',
  '@',
  '{',
  '',
  'A',
  '',
  'U',
  '',
  '2',
  ']',
  'O',
  'W',
  ' ',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '\x13',
  '\x0F',
  'Z',
  'x',
  'G',
  '',
  '5',
  '',
  '\xFF',
  '\n',
  '',
  '',
  'o',
  '\v',
  '\x8F',
  '',
  '7',
  'c',
  'e',
  '',
  '',
  '_',
  '',
  '',
  '',
  '',
  '~',
  '',
  '\x1B',
  'f',
  'B',
  '',
  'Q',
  '',
  '',
  '',
  '',
  'F',
  'l',
  '',
  '',
  '',
  '\x1A',
  'X',
  '>',
  '/',
  'M',
  'P',
  '',
  '1',
  '',
  '',
  '',
  '',
  'k',
  '\"',
  '\x10',
  'H',
  's',
  'D',
  '',
  'R',
  '',
  '\x11',
  '',
  '',
  '',
  '\f',
  '\\',
  '3',
  '',
  '',
  '',
  '9',
  '-',
  '',
  '\r',
  '',
  'v',
  '',
  't',
  '%',
  '',
  '',
  '',
  '',
  '',
  '0',
  '',
  'N',
  'z',
  '',
  '*',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '',
  'j',
  'h',
  '',
  'p',
  '',
  '',
  'g',
  '',
  '\x15',
  'i',
  '',
  'b',
  '',
  '}',
  'q',
  '',
  '&',
  'S',
  ':',
  '\'',
  '',
  '',
  '',
  '',
  '',
  '9',
  '',
  '\x18',
  '\x8D',
  '\x01',
  '',
  '@',
  'A',
  'R',
  '\x11',
  '',
  '',
  'w',
  '\x90',
  'i',
  '\x19',
  '(',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  'I',
  '',
  '\x04',
  '',
  '',
  '\n',
  '',
  '-',
  'P',
  '?',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  '\t',
  'k',
  '',
  'F',
  'S',
  '',
  '8',
  '<',
  '\x13',
  '',
  '\x15',
  'g',
  ';',
  'G',
  'v',
  '',
  '',
  ':',
  '.',
  ']',
  '',
  '',
  '',
  '',
  '$',
  '',
  '',
  '`',
  '',
  '\a',
  '',
  'H',
  '',
  '',
  '\x17',
  '\0',
  '',
  '',
  'm',
  'Y',
  '',
  'x',
  'o',
  '',
  'Z',
  '',
  '',
  '',
  '[',
  '',
  ' ',
  'c',
  '\f',
  '',
  '',
  'D',
  '{',
  '',
  '',
  'y',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '\'',
  '\x14',
  '6',
  '',
  '',
  '',
  '',
  'n',
  '5',
  '#',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  '',
  '2',
  '%',
  '',
  '',
  'q',
  '',
  '',
  '',
  '',
  '+',
  '\\',
  'T',
  '',
  '\x02',
  '',
  '',
  'K',
  '\x1A',
  '!',
  '\x7F',
  '',
  '>',
  '',
  '',
  '\v',
  '',
  '|',
  'C',
  '',
  '',
  '',
  '^',
  't',
  'e',
  '',
  '',
  '',
  '',
  '',
  '',
  'r',
  'l',
  'O',
  '',
  '\x81',
  '\x12',
  '\x10',
  '\x16',
  'Q',
  '=',
  '',
  '}',
  's',
  'B',
  '',
  '',
  '7',
  '',
  '\x9D',
  '',
  '',
  '',
  'h',
  'N',
  '\x06',
  '1',
  'V',
  'p',
  'X',
  '\x1B',
  '',
  '',
  '_',
  'u',
  '',
  '3',
  '',
  'z',
  'W',
  '',
  'U',
  '',
  '',
  'f',
  '',
  '',
  'E',
  '',
  '*',
  '',
  ',',
  '',
  '',
  '',
  'd',
  '',
  ')',
  '',
  'L',
  '',
  '',
  '',
  '',
  '0',
  'b',
  '\x8F',
  '',
  'M',
  '\x1F',
  'J',
  '\x03',
  '~',
  '',
  '',
  '',
  '&',
  '',
  '4',
  '\r',
  '',
  '\x0F',
  '\x1E',
  '',
  '',
  '/',
  '',
  '\x05',
  'j',
  '',
  '\"',
  'a',
  '',
  '\x1D',
  '\x05',
  '',
  'N',
  'S',
  '',
  '<',
  '\x15',
  '\x14',
  '',
  '9',
  '3',
  'B',
  '',
  '/',
  '[',
  '8',
  '',
  'H',
  'd',
  'W',
  '',
  '',
  '\x19',
  '+',
  '',
  'p',
  't',
  'w',
  '_',
  '',
  '',
  '\x04',
  '7',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  '\xFF',
  'g',
  '',
  'l',
  '',
  '',
  '',
  '\b',
  ' ',
  '\x06',
  '',
  '',
  '',
  'O',
  '',
  'r',
  'G',
  '',
  '',
  '',
  '',
  '|',
  '',
  '',
  '',
  'C',
  '',
  '',
  'F',
  '\x1E',
  'v',
  '',
  'k',
  '\x17',
  'h',
  '0',
  '>',
  '',
  '',
  '',
  '',
  'I',
  ':',
  '\x18',
  'z',
  '\n',
  '{',
  'j',
  '',
  '',
  'J',
  '',
  '\x8D',
  ';',
  '=',
  '',
  '',
  '6',
  '\x01',
  '\v',
  '',
  '',
  '-',
  '}',
  '',
  '',
  '',
  '',
  'n',
  '',
  'X',
  '\t',
  '!',
  '',
  '',
  '',
  '1',
  'A',
  '\x03',
  'i',
  '',
  '\'',
  '',
  '',
  '\"',
  'U',
  '',
  '\r',
  'x',
  '',
  '',
  '\x90',
  'q',
  '',
  '^',
  '',
  '',
  '2',
  '\x12',
  '',
  '',
  '',
  '\x1B',
  'u',
  '\x81',
  '',
  '\x16',
  '\x8F',
  'D',
  '',
  '`',
  '',
  '',
  '',
  'm',
  's',
  '',
  'a',
  '',
  '',
  '',
  '',
  '',
  '',
  'b',
  ']',
  '\0',
  '',
  '',
  'M',
  '(',
  '',
  'T',
  '',
  '',
  '',
  '\x0F',
  'f',
  '*',
  'E',
  'Y',
  ',',
  'K',
  'Z',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  '\x11',
  '$',
  '',
  '',
  '',
  '',
  'R',
  '\\',
  '',
  '',
  '\x10',
  '',
  '',
  'y',
  '?',
  '\x1C',
  '\x1A',
  'V',
  '',
  '',
  'o',
  '\x13',
  '',
  '\x1F',
  '',
  '',
  '\a',
  '@',
  '',
  '',
  '&',
  'P',
  '5',
  '#',
  'Q',
  '',
  '~',
  '',
  'c',
  '',
  '\f',
  '.',
  '',
  'e',
  '',
  'L',
  '',
  '',
  '',
  '',
  '',
  '',
  '4',
  ')',
  '',
  '%',
  '',
  '',
  '',
  '',
  '\x02',
  '\x7F',
  '',
  '',
  '\x05',
  '',
  '',
  '',
  '',
  '',
  '*',
  '',
  '\x1B',
  '',
  '',
  '@',
  'Q',
  'h',
  '',
  'I',
  '',
  '2',
  '_',
  '\x11',
  '',
  '',
  'p',
  '\x9D',
  '',
  '',
  '',
  '',
  'S',
  '',
  '',
  '$',
  '',
  '',
  'x',
  '\x1F',
  '}',
  'e',
  'W',
  'g',
  '3',
  '',
  '',
  'G',
  '',
  'd',
  '',
  's',
  '\v',
  '',
  '',
  '',
  'c',
  '',
  '',
  '',
  '',
  '|',
  '',
  '\x18',
  '',
  '\x19',
  '\x03',
  '',
  '',
  'J',
  '',
  'U',
  '\"',
  '\x1D',
  '\x16',
  '',
  '\x8F',
  '',
  'V',
  '',
  '\x04',
  '>',
  't',
  '\x0E',
  '\x12',
  'C',
  'i',
  '\x01',
  '',
  '-',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '~',
  '',
  '<',
  '',
  'K',
  'r',
  '',
  '',
  '',
  '',
  '+',
  '\x0F',
  '',
  '',
  '',
  '',
  '`',
  '',
  '4',
  '\x13',
  '0',
  '\b',
  '#',
  '(',
  '',
  '',
  '',
  '',
  ';',
  '',
  '\n',
  'q',
  'D',
  '\0',
  '\\',
  '5',
  '',
  '',
  'y',
  '',
  '\x17',
  'l',
  'm',
  '',
  'X',
  '',
  'w',
  'j',
  '',
  '!',
  '\x10',
  'M',
  '',
  '',
  'u',
  '',
  '',
  '',
  '',
  '',
  '',
  ']',
  'f',
  '',
  '\x1E',
  'E',
  'B',
  '',
  '',
  '',
  'A',
  '',
  '',
  '',
  '\a',
  '[',
  '',
  '',
  '',
  '7',
  '',
  'Y',
  'b',
  ' ',
  '/',
  '\t',
  '',
  'R',
  '1',
  '',
  '',
  '',
  '',
  'k',
  'O',
  '',
  '',
  '\x06',
  '\x90',
  '',
  'N',
  '',
  'Z',
  '',
  '',
  '',
  'n',
  '\x02',
  '',
  '\r',
  '9',
  'P',
  ',',
  '=',
  '\'',
  '8',
  '6',
  '',
  '\x7F',
  '\f',
  '\x1C',
  '',
  '',
  '',
  '\x8D',
  '^',
  '',
  '.',
  '',
  '',
  '?',
  '',
  'H',
  '',
  '',
  '%',
  '',
  'v',
  '',
  '&',
  '',
  ')',
  '\xFF',
  '',
  '',
  'z',
  '',
  'o',
  '',
  'a',
  '\x81',
  '\x1A',
  'L',
  '{',
  '',
  '\x14',
  ':',
  '',
  '',
  '',
  'T',
  'F',
  '',
  '',
  'S',
  '',
  '\n',
  '',
  '',
  '\x02',
  '\x15',
  '',
  '+',
  '',
  '',
  '',
  '>',
  '',
  '~',
  '',
  '\x1A',
  'm',
  '',
  '',
  '\v',
  'w',
  '{',
  '',
  '',
  '$',
  'J',
  '',
  '',
  '}',
  '',
  'p',
  '\x05',
  '',
  '\'',
  '',
  's',
  '\x06',
  'N',
  'R',
  'T',
  '',
  '!',
  '\r',
  '',
  '',
  '',
  '',
  '4',
  '',
  '?',
  '',
  '',
  '\x0E',
  'j',
  '_',
  'G',
  '',
  '',
  'c',
  '\x01',
  '\x8D',
  'A',
  '',
  '',
  ';',
  '',
  '',
  '',
  '',
  '\x7F',
  'g',
  '',
  'X',
  '',
  '',
  '',
  'e',
  '\x03',
  'O',
  '/',
  'I',
  '',
  ',',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  '7',
  '@',
  '[',
  '',
  '',
  'i',
  '6',
  ':',
  'd',
  'P',
  '',
  '<',
  '',
  '\x9D',
  'U',
  ')',
  '',
  'k',
  '\x11',
  '',
  ']',
  '',
  'y',
  '',
  'W',
  '\f',
  '\x0F',
  'K',
  '',
  '\x04',
  '',
  '',
  '',
  'n',
  '',
  '\0',
  'f',
  '',
  '',
  '#',
  '',
  'r',
  '',
  '.',
  '',
  '',
  'b',
  'E',
  '',
  '',
  '',
  '%',
  '',
  ' ',
  '\x19',
  '',
  '',
  '',
  'l',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x81',
  '',
  '8',
  '\"',
  '\b',
  '',
  '',
  '*',
  '',
  '',
  'C',
  '',
  '',
  'D',
  '',
  '',
  '',
  '\x17',
  'z',
  'L',
  '\x1B',
  'v',
  '\x1E',
  '&',
  '',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  'o',
  '',
  '',
  'H',
  '\x14',
  '',
  '',
  '^',
  '\x1D',
  '',
  'M',
  '',
  'F',
  '\x10',
  '1',
  '',
  '\a',
  '2',
  '\x13',
  '\\',
  't',
  '',
  'Q',
  '',
  'Z',
  '\x12',
  '\x16',
  '0',
  '',
  'x',
  'a',
  '`',
  '',
  '',
  'u',
  '',
  '9',
  '',
  '\x1C',
  '3',
  '\x8F',
  '(',
  '\x90',
  '',
  'B',
  '',
  'Y',
  '',
  '',
  '5',
  'V',
  'q',
  '',
  '',
  '\t',
  '=',
  '\xFF',
  '',
  '',
  '|',
  '',
  '',
  '',
  'h',
  '',
  '',
  '-',
  '1',
  '',
  '\x7F',
  '',
  '',
  '9',
  '',
  '',
  '',
  'e',
  ' ',
  'd',
  '7',
  '\x15',
  '',
  '',
  '',
  '',
  '\b',
  '',
  'p',
  'k',
  '\x1C',
  '$',
  '3',
  '',
  '\x19',
  '',
  '',
  '',
  '',
  'M',
  '',
  '',
  '',
  '',
  '\r',
  '',
  '^',
  'H',
  '2',
  'f',
  '',
  '',
  ')',
  '\x1B',
  '\\',
  '',
  '',
  '}',
  '',
  'Y',
  '\x01',
  '',
  '',
  'R',
  '\x1A',
  '\xFF',
  '',
  '',
  '\0',
  '=',
  '',
  'Q',
  '',
  '5',
  '4',
  '',
  'U',
  '',
  '',
  '',
  'X',
  '\x9D',
  '',
  'I',
  '',
  '\x02',
  '',
  '\x10',
  'L',
  '',
  '\x06',
  '\x11',
  'o',
  '',
  '',
  '',
  'x',
  '',
  'J',
  '',
  'E',
  '',
  'F',
  '',
  '',
  'c',
  '\x8D',
  '',
  '(',
  '<',
  '',
  '',
  '-',
  '#',
  '',
  '',
  '',
  '\a',
  '',
  'q',
  '\t',
  'P',
  '',
  '',
  '\x04',
  '',
  'A',
  'v',
  'r',
  '.',
  '',
  '',
  'b',
  '\x14',
  '6',
  '%',
  '',
  ';',
  '',
  '',
  'B',
  '~',
  '',
  'w',
  '',
  '!',
  '',
  '',
  '',
  '',
  't',
  '\x12',
  '?',
  '',
  'n',
  'O',
  '{',
  '\x05',
  '',
  '',
  '',
  '',
  'l',
  '0',
  '',
  '\x1F',
  '',
  'T',
  '',
  '+',
  '',
  '&',
  '',
  'm',
  '',
  'h',
  '\v',
  '/',
  '\x8F',
  '',
  '',
  '\x0E',
  '\x18',
  '\x03',
  'W',
  '',
  'V',
  '',
  '',
  'j',
  's',
  '',
  '',
  '_',
  '',
  '\x17',
  '',
  '',
  '8',
  '\x1E',
  '',
  'u',
  '',
  'g',
  '',
  '\x0F',
  'y',
  'a',
  '',
  'C',
  '',
  '',
  '',
  '',
  '',
  ':',
  '',
  '',
  '\'',
  '',
  '',
  '\x81',
  'G',
  '',
  '>',
  '',
  '*',
  '',
  '',
  '',
  'D',
  '\n',
  '',
  '',
  'i',
  '',
  '\x16',
  '',
  '',
  '',
  '',
  '',
  '\"',
  'Z',
  'S',
  'z',
  '\x90',
  '',
  '`',
  'K',
  '',
  '[',
  '\x1D',
  ',',
  ']',
  '',
  '',
  'N',
  '@',
  '|',
  '',
  '\f',
  '\x13',
  '',
  't',
  '',
  '',
  '',
  '+',
  'o',
  '',
  'b',
  '\f',
  '',
  'm',
  '',
  'k',
  '',
  '',
  '',
  '\v',
  'n',
  '',
  '',
  ',',
  '',
  '=',
  '',
  '',
  '',
  '\xFF',
  'f',
  '',
  '',
  '',
  '[',
  '',
  '',
  '',
  'K',
  '',
  '',
  'x',
  'e',
  '',
  '',
  '',
  '4',
  'h',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '6',
  '!',
  '',
  '\x01',
  '',
  '',
  '9',
  '',
  'u',
  'd',
  '',
  '@',
  'S',
  'C',
  ':',
  '',
  '\x16',
  '\x05',
  'i',
  '\a',
  'q',
  '\x12',
  '',
  '>',
  '\x7F',
  'I',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  '|',
  '',
  '',
  '\x14',
  '\x02',
  'G',
  '$',
  '',
  'r',
  'a',
  'Y',
  '\x03',
  '',
  '-',
  '',
  '',
  ';',
  '`',
  '',
  '\x90',
  '1',
  'v',
  'T',
  '_',
  '',
  'P',
  '',
  '',
  '',
  '',
  '',
  '\x8D',
  '\x1D',
  '',
  '',
  'R',
  'U',
  'X',
  '\x1A',
  '\x15',
  '',
  '',
  '8',
  '<',
  'Q',
  '',
  'L',
  '}',
  '~',
  '\x13',
  '',
  'M',
  '\x8F',
  '/',
  '',
  '',
  '?',
  '',
  '',
  '',
  'g',
  '',
  ' ',
  '\x1C',
  '',
  '',
  '\0',
  '',
  'V',
  '',
  '',
  '&',
  '\x9D',
  '',
  '',
  '\'',
  '',
  '',
  ']',
  '\"',
  '',
  '',
  '',
  '',
  '',
  '3',
  '',
  '',
  '(',
  'E',
  '{',
  '',
  '^',
  'H',
  '',
  '',
  '2',
  '',
  'B',
  '',
  '\x0E',
  '',
  '\x04',
  '',
  '.',
  '5',
  '\x0F',
  '0',
  '\x17',
  '',
  '',
  '',
  '',
  'p',
  'y',
  '',
  '\r',
  '',
  '\x11',
  '\n',
  '\x18',
  '\x1B',
  '#',
  '\b',
  '',
  '',
  '\\',
  '\x81',
  'j',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'J',
  '',
  '',
  '\x10',
  'Z',
  '',
  '',
  '\t',
  '*',
  'w',
  '',
  '%',
  '\x1E',
  'D',
  ')',
  '7',
  '',
  'c',
  '',
  '',
  's',
  'l',
  'z',
  'A',
  'N',
  '',
  '',
  '',
  '',
  '',
  '\x06',
  'F',
  'O',
  'W',
  ']',
  '',
  '',
  '#',
  '\x9D',
  '',
  '\x7F',
  '',
  '',
  '',
  'j',
  '*',
  '5',
  '',
  '',
  '',
  '',
  '',
  'G',
  'm',
  '',
  '',
  '',
  '\x1B',
  '~',
  '}',
  'U',
  '(',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1E',
  '-',
  '',
  'i',
  '',
  '9',
  '',
  '',
  ')',
  '{',
  '',
  '',
  '',
  '\x8F',
  'E',
  '\x1F',
  '\x06',
  '',
  '',
  'n',
  '',
  'O',
  '',
  '\x04',
  '.',
  '=',
  '',
  '',
  '',
  '',
  'K',
  'c',
  '\x0F',
  'u',
  '\x8D',
  '8',
  ';',
  '>',
  '\x90',
  '',
  'f',
  '',
  '\x03',
  '',
  '',
  '\xFF',
  '',
  '1',
  '',
  '4',
  'V',
  '\'',
  '6',
  '\t',
  '$',
  '!',
  ' ',
  'M',
  '\x14',
  '',
  '',
  '+',
  '',
  'h',
  '\a',
  '\x1A',
  '\x01',
  '',
  't',
  '\\',
  'T',
  'e',
  '',
  '%',
  '\x18',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x05',
  'H',
  '',
  'F',
  '',
  '',
  '',
  'Z',
  '',
  '\x17',
  '\0',
  '\b',
  '',
  '',
  'l',
  '_',
  '',
  '',
  '',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '@',
  '',
  '3',
  '',
  '',
  '\x1D',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  '0',
  '',
  '',
  'C',
  '\"',
  '',
  '',
  '|',
  '',
  '',
  '',
  'W',
  '',
  'q',
  '\v',
  '<',
  '',
  '',
  'Q',
  'z',
  '',
  'g',
  'B',
  '',
  '\n',
  '\x16',
  '',
  'X',
  '\x13',
  '',
  '',
  '\f',
  '\x10',
  '',
  'w',
  '?',
  '[',
  'p',
  '',
  '\x12',
  'o',
  '',
  '',
  '\x1C',
  '',
  '',
  'v',
  'D',
  '',
  'S',
  '',
  '',
  '',
  'r',
  ',',
  '',
  'a',
  '',
  'I',
  '',
  '\x19',
  's',
  '',
  '',
  'k',
  ':',
  '\r',
  'b',
  '',
  '\x0E',
  '`',
  '',
  '',
  'R',
  'P',
  '^',
  '',
  '',
  '',
  '2',
  'A',
  '',
  '\x81',
  '\x02',
  'd',
  '&',
  '',
  '',
  'L',
  '',
  '',
  '',
  '',
  '',
  'J',
  'y',
  '',
  '',
  'N',
  '/',
  'x',
  '7',
  '',
  '\x15',
  '4',
  'G',
  '',
  'O',
  '',
  '\x14',
  '^',
  's',
  '',
  '',
  '}',
  'z',
  '',
  '',
  '_',
  'c',
  '',
  '\x1F',
  '\"',
  'R',
  '\\',
  '',
  '',
  '/',
  '>',
  '',
  '',
  '',
  '',
  'C',
  'l',
  '#',
  '5',
  '1',
  'V',
  '\x1E',
  '',
  ' ',
  '+',
  'v',
  '',
  '',
  '',
  '%',
  'n',
  '',
  'f',
  '',
  '',
  'g',
  '',
  '\x05',
  'e',
  '9',
  '',
  'N',
  '\x02',
  '',
  '',
  'Z',
  '',
  '\v',
  '',
  '',
  '',
  '',
  '',
  'P',
  'h',
  'Y',
  '~',
  'k',
  '',
  '',
  '\f',
  'A',
  '',
  '\x7F',
  'H',
  '',
  '\x17',
  '\t',
  '',
  '2',
  '{',
  'x',
  'w',
  '',
  '',
  'I',
  '',
  ':',
  '\x03',
  '',
  '',
  '\x1A',
  '',
  '',
  '',
  '',
  '',
  '',
  'K',
  '',
  '',
  'q',
  '',
  'W',
  '',
  '',
  '.',
  '',
  '7',
  '\x06',
  '',
  '-',
  '',
  '\x01',
  ']',
  '',
  '',
  '',
  '\x0F',
  '*',
  '',
  'Q',
  '',
  '',
  '\n',
  '!',
  '',
  'u',
  '',
  '',
  '?',
  '',
  'T',
  'S',
  '',
  '',
  '',
  'F',
  '\r',
  '',
  '\x12',
  '(',
  '',
  '3',
  '',
  '',
  '',
  'a',
  '',
  '\a',
  '',
  '',
  '',
  'o',
  '[',
  'b',
  '',
  '',
  '\x90',
  '\x1C',
  '',
  'r',
  'X',
  '',
  '$',
  '\b',
  '',
  '\x8D',
  '\x13',
  'E',
  '0',
  '',
  't',
  'L',
  '',
  '',
  '',
  'D',
  'U',
  '',
  '',
  '\x16',
  '6',
  '&',
  '`',
  '\xFF',
  '',
  'M',
  '\x19',
  '',
  '',
  '',
  '\x81',
  '<',
  '=',
  'd',
  '\x0E',
  '',
  '',
  '',
  '',
  'J',
  '',
  '|',
  '',
  ',',
  '\x11',
  '',
  '\x04',
  ')',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  ';',
  'p',
  '',
  '\x1D',
  '\x15',
  '',
  'y',
  '',
  '',
  'i',
  '',
  '\x1B',
  '',
  '',
  'j',
  '',
  '',
  '',
  '8',
  '\x10',
  'm',
  '\x18',
  '',
  '\'',
  'B',
  '',
  '',
  '',
  '',
  '@',
  '\0',
  '',
  '\x8F',
  'f',
  '',
  'I',
  'a',
  'r',
  'E',
  '',
  '',
  '\x7F',
  '\x1A',
  '~',
  '',
  '',
  ';',
  '_',
  '',
  'd',
  '',
  '',
  '',
  'A',
  '#',
  '',
  '',
  'k',
  '',
  '6',
  'g',
  '',
  'G',
  '',
  '',
  '\f',
  '',
  ':',
  'b',
  't',
  '',
  '',
  '%',
  '',
  '\\',
  '',
  '3',
  '',
  ' ',
  '',
  '\r',
  '\b',
  '\x10',
  '',
  'F',
  '=',
  '',
  '',
  '',
  '',
  'o',
  '\x8D',
  '',
  '',
  '\x9D',
  '\x03',
  '',
  '(',
  '',
  '\x12',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  '\x19',
  '',
  '\0',
  'U',
  'O',
  '',
  '',
  '',
  '',
  '',
  ']',
  '',
  '^',
  '',
  '',
  '\x04',
  '0',
  '',
  '\x13',
  '[',
  '\"',
  '',
  '\x1B',
  '!',
  '\n',
  'e',
  'V',
  'W',
  '',
  '\x1F',
  '\x01',
  '',
  '',
  'R',
  'L',
  '',
  '-',
  'y',
  '',
  '',
  '\x18',
  'C',
  '',
  'h',
  '',
  '',
  '\x14',
  '@',
  'Z',
  '&',
  '\x06',
  'j',
  'P',
  'K',
  '\x0E',
  'x',
  'Q',
  '1',
  '\v',
  '',
  '',
  '',
  '',
  '\x0F',
  '',
  '',
  '',
  'M',
  'H',
  'w',
  '',
  '',
  '$',
  '',
  'u',
  '',
  '`',
  '',
  '',
  '\x8F',
  '',
  '5',
  '',
  '',
  '',
  '',
  '\x90',
  '*',
  '',
  '',
  '+',
  '',
  '',
  '',
  '>',
  ',',
  '',
  '',
  '',
  '\'',
  '',
  '9',
  'l',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '7',
  'T',
  '',
  '',
  '',
  '/',
  '|',
  '\x16',
  '{',
  '',
  'S',
  'n',
  'D',
  'c',
  '',
  '\x05',
  '\x1D',
  '',
  '',
  '',
  'B',
  '',
  'X',
  '',
  '\a',
  '',
  '',
  '',
  'p',
  '\x11',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '',
  'z',
  '',
  's',
  '',
  '',
  '',
  'N',
  '',
  '',
  'q',
  '',
  '\t',
  '<',
  '\xFF',
  '',
  '.',
  '\x02',
  '\x81',
  '',
  '?',
  'v',
  '',
  '}',
  'm',
  '8',
  '\x17',
  '\x15',
  'Y',
  '',
  ')',
  '',
  '4',
  '',
  '2',
  'J',
  'i',
  '^',
  'z',
  'G',
  '',
  'J',
  'M',
  '\x04',
  ')',
  'l',
  '#',
  '',
  '\x1D',
  '',
  '',
  '-',
  '',
  '',
  '',
  '\x18',
  '\x02',
  'a',
  '',
  '8',
  '',
  '\x19',
  '\x1A',
  '',
  '',
  'q',
  '',
  'k',
  '',
  '',
  '&',
  '',
  '',
  '1',
  '\x05',
  'E',
  '',
  '',
  'V',
  '',
  '',
  's',
  'N',
  '',
  '',
  '',
  'W',
  'f',
  '\x0E',
  '',
  '',
  '\x8D',
  '$',
  '',
  'Z',
  'e',
  '',
  '',
  '\x7F',
  '\"',
  '\a',
  '',
  'H',
  '',
  '',
  '\xFF',
  '',
  'D',
  '',
  'Y',
  '',
  '3',
  '',
  '',
  'h',
  'n',
  '\x01',
  '',
  'O',
  '6',
  '',
  '',
  '',
  '\x1C',
  'b',
  '',
  '',
  ':',
  '',
  '',
  '\'',
  '\x13',
  '',
  '\x12',
  '',
  '2',
  'S',
  '\x06',
  'y',
  '',
  '',
  '+',
  '',
  '',
  'm',
  '',
  '\\',
  '\x8F',
  'B',
  '',
  'I',
  '\x03',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '',
  '.',
  '`',
  'F',
  '',
  'R',
  'i',
  '7',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '/',
  ']',
  '!',
  '',
  '',
  '(',
  '[',
  'g',
  '\x90',
  '\v',
  '\x81',
  '\x11',
  '\f',
  'U',
  '',
  '',
  '',
  '\x1F',
  '\x1B',
  '',
  '',
  '',
  ';',
  '5',
  '',
  '>',
  '',
  '',
  '',
  'T',
  't',
  '\x14',
  '',
  '9',
  '\x16',
  'v',
  '\x0F',
  '',
  '*',
  '',
  'c',
  '',
  '\n',
  '?',
  '',
  '',
  '\t',
  '',
  'w',
  'P',
  '',
  'X',
  '',
  '',
  'u',
  'A',
  '|',
  '',
  '',
  '_',
  '\x10',
  '',
  'K',
  '',
  '<',
  '\x17',
  'C',
  '~',
  '',
  '4',
  '',
  'p',
  'o',
  'Q',
  'r',
  '\x15',
  '',
  '@',
  '',
  '',
  '\r',
  'x',
  'L',
  ',',
  '\0',
  '',
  '',
  '',
  '\x1E',
  'j',
  '%',
  '',
  'd',
  ' ',
  '',
  '}',
  '{',
  '',
  '0',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'm',
  '',
  '',
  '[',
  '',
  't',
  '1',
  '',
  '',
  '\x02',
  '\x06',
  '',
  '',
  'V',
  'f',
  '',
  '\x17',
  '',
  '',
  '\t',
  '',
  '',
  '=',
  '',
  '',
  '',
  'M',
  '',
  'S',
  '',
  'a',
  '\a',
  '\x03',
  '',
  'W',
  'T',
  '',
  '',
  '',
  '7',
  '',
  '',
  '',
  '',
  '',
  'v',
  '|',
  '',
  '',
  '\x8F',
  '\x1E',
  '',
  '3',
  '',
  'Q',
  '',
  'O',
  '',
  '',
  '-',
  ' ',
  '',
  '',
  '',
  '',
  '\x0F',
  ':',
  '',
  '}',
  'g',
  '',
  '',
  '',
  'L',
  'U',
  '',
  '5',
  '\x1F',
  'A',
  '',
  '(',
  '\x12',
  '',
  '',
  '\x81',
  '\x05',
  's',
  'x',
  '^',
  '8',
  'q',
  'e',
  'h',
  '',
  '~',
  '',
  '',
  'F',
  '',
  '',
  'J',
  '',
  'z',
  '4',
  'r',
  '>',
  '',
  '',
  '\x1C',
  '',
  'i',
  '',
  '',
  '',
  'B',
  '{',
  '',
  '\x04',
  '\x1B',
  '',
  '\x19',
  'K',
  '\x8D',
  '',
  '\0',
  '',
  '',
  'o',
  '',
  '',
  '\n',
  '',
  '\x0E',
  '',
  '?',
  'w',
  '',
  '',
  '',
  'b',
  ']',
  '',
  'R',
  '\x15',
  '\x18',
  '*',
  '',
  '\x90',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '!',
  '',
  'n',
  '',
  'p',
  '@',
  '',
  '\\',
  '',
  ',',
  '',
  '',
  '',
  ')',
  '2',
  '6',
  '\x14',
  '#',
  ';',
  '',
  '',
  '',
  'u',
  '9',
  'P',
  'G',
  '',
  '',
  '\b',
  'y',
  '\x1A',
  '',
  'Y',
  '',
  '\x11',
  '`',
  '\x01',
  '',
  '',
  '',
  'l',
  '\r',
  '',
  '',
  '',
  'c',
  '\xFF',
  'N',
  '',
  '$',
  'X',
  'Z',
  '\x10',
  '',
  '',
  '<',
  '',
  '\"',
  '',
  'C',
  '',
  '_',
  'E',
  'H',
  '',
  '',
  '+',
  '',
  'D',
  '',
  '',
  '',
  '\v',
  '%',
  '',
  '\x9D',
  'd',
  '&',
  'I',
  '\'',
  '.',
  '0',
  'j',
  '/',
  '',
  'k',
  '',
  '\x16',
  '\x13',
  '',
  '',
  '',
  '\f',
  '',
  '\x1D',
  '',
  '',
  '',
  '\x13',
  '',
  'C',
  '',
  '',
  '\x1B',
  '',
  '',
  '`',
  '',
  '',
  '',
  'g',
  '\x14',
  ',',
  '',
  '',
  '6',
  '',
  '',
  '',
  '',
  'p',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1D',
  'v',
  'X',
  '',
  '',
  '\t',
  'm',
  '\x15',
  '\"',
  'Y',
  '',
  '',
  'V',
  'L',
  '',
  ']',
  '',
  'y',
  'l',
  '\x1E',
  '',
  'i',
  'o',
  '\x11',
  '\x02',
  '',
  '',
  '\x90',
  '',
  '5',
  '[',
  '',
  '\x1C',
  '2',
  '\x18',
  '\\',
  'D',
  '\xFF',
  '',
  '',
  'M',
  '/',
  '\x04',
  'e',
  '\a',
  '',
  'd',
  '',
  '',
  '7',
  '',
  '',
  'E',
  '',
  '',
  '\b',
  '',
  '\n',
  '',
  't',
  '\x03',
  '',
  'G',
  'T',
  '\x0E',
  'Q',
  '^',
  'x',
  'z',
  '',
  '',
  '',
  '',
  '|',
  '\f',
  'q',
  '\x01',
  '',
  ')',
  '\x81',
  '-',
  'n',
  '',
  '',
  '\x8D',
  '',
  'R',
  '',
  '',
  '',
  '',
  '}',
  '',
  '',
  'U',
  '',
  '@',
  '#',
  '8',
  '',
  '',
  '',
  '',
  '',
  'u',
  '=',
  '',
  '',
  '',
  '\x19',
  '',
  '\v',
  '%',
  '',
  '\r',
  '',
  '',
  '\x16',
  '\x12',
  '',
  ' ',
  '',
  '',
  '$',
  '4',
  '',
  '\x06',
  'c',
  '',
  '9',
  'A',
  '\x05',
  '',
  '',
  'N',
  '',
  '{',
  'P',
  '\x1A',
  '',
  '',
  'O',
  '\x7F',
  '',
  '_',
  '',
  ':',
  '3',
  'J',
  '',
  '\x9D',
  '',
  '<',
  'h',
  '',
  '',
  '',
  'I',
  'b',
  '(',
  '',
  '',
  '!',
  ';',
  '\x10',
  '',
  '',
  's',
  '\0',
  'r',
  '',
  '',
  '',
  '&',
  '',
  '*',
  '',
  '+',
  '\x8F',
  '>',
  '\x1F',
  '1',
  '\x0F',
  '',
  'Z',
  '',
  '',
  'F',
  '\x17',
  '0',
  '',
  '',
  'B',
  '',
  'W',
  'w',
  'S',
  '',
  '',
  '',
  'a',
  '',
  '',
  '',
  '',
  '?',
  '',
  '',
  '',
  '',
  'H',
  'f',
  '',
  '',
  'K',
  'j',
  '',
  '',
  '',
  '.',
  '~',
  '',
  'k',
  '',
  '\'',
  ''
}; // idb
char byte_4A6090[16384] =
{
  '',
  'y',
  '',
  'u',
  '',
  'M',
  '',
  '',
  'f',
  '',
  '!',
  '\x16',
  '',
  'X',
  ']',
  'C',
  '',
  '}',
  '',
  '',
  '',
  '|',
  '*',
  '',
  '\x9D',
  '',
  '/',
  '5',
  '',
  '',
  '',
  'K',
  '',
  'i',
  'Y',
  '',
  '$',
  'x',
  '\'',
  '',
  '',
  '\0',
  'r',
  '',
  '\x01',
  'k',
  '',
  'P',
  '=',
  '',
  '',
  '',
  'a',
  't',
  '(',
  's',
  '',
  '',
  '',
  '<',
  '',
  'G',
  '',
  '\x11',
  '',
  'O',
  '',
  'N',
  '',
  '',
  'B',
  'q',
  '1',
  '\x0F',
  '\v',
  'J',
  '',
  '\x1B',
  'D',
  'o',
  '',
  '\x18',
  '',
  '\x1C',
  '\x15',
  '~',
  'l',
  '\x14',
  '>',
  'T',
  '',
  '',
  '',
  '\x8D',
  'Z',
  '',
  '\f',
  '',
  '0',
  '\x03',
  '',
  'I',
  '\x13',
  'Q',
  '\x7F',
  '',
  '+',
  '\x1D',
  '',
  '\\',
  '',
  'V',
  'n',
  '^',
  '',
  '',
  ')',
  '\"',
  '',
  '',
  '',
  '',
  '',
  'w',
  '',
  'R',
  '',
  'p',
  'm',
  '',
  '',
  '',
  '',
  '3',
  '',
  '',
  '?',
  '',
  '',
  '',
  '',
  '\x05',
  'L',
  '',
  '',
  '.',
  'H',
  '[',
  '',
  '',
  '\x1F',
  'U',
  ',',
  '\x02',
  '',
  '',
  '',
  '\x17',
  '\n',
  '\x04',
  ';',
  '',
  '',
  '\b',
  '',
  '',
  '\x1A',
  '',
  '_',
  '\x1E',
  '\t',
  '\x19',
  '',
  '',
  'b',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'c',
  '',
  '\x90',
  '',
  '',
  '#',
  '9',
  'F',
  'g',
  '',
  '',
  '8',
  '',
  '',
  '',
  'E',
  '\x8F',
  '',
  '',
  '',
  '',
  '',
  '@',
  ' ',
  '',
  '7',
  '',
  'v',
  '',
  '{',
  '-',
  '\x10',
  '`',
  '\x06',
  'W',
  '6',
  '&',
  '',
  'z',
  'A',
  '',
  'e',
  '',
  '',
  'h',
  '',
  '\x81',
  '',
  ':',
  'd',
  '',
  '',
  '',
  '',
  'j',
  '',
  '',
  '4',
  '\r',
  '',
  '%',
  '',
  '\xFF',
  '\x12',
  'S',
  '',
  '2',
  '\a',
  '',
  '\x1C',
  'D',
  '',
  '3',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'A',
  'B',
  '',
  ' ',
  ',',
  'I',
  '',
  '9',
  '}',
  '',
  '',
  '',
  '\x1E',
  '',
  '\x06',
  '',
  '',
  '',
  '',
  'Y',
  '\x16',
  '',
  '',
  '0',
  '\x90',
  '\0',
  '',
  '',
  '',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '`',
  '6',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  'k',
  '?',
  '',
  '',
  '!',
  '\x01',
  '',
  '\x1F',
  'W',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  'g',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  '1',
  '',
  '#',
  '',
  '',
  '\f',
  '',
  '',
  '',
  '',
  '^',
  '\xFF',
  '',
  '',
  'Q',
  '.',
  '',
  '',
  '',
  'j',
  '=',
  '',
  '\t',
  '&',
  '',
  '',
  'K',
  '\x05',
  '',
  '\x13',
  '7',
  '',
  '\x9D',
  'd',
  ')',
  '',
  'E',
  '',
  '',
  'R',
  '',
  '\x14',
  'Z',
  '',
  '\x02',
  '\x15',
  'V',
  'L',
  '|',
  'c',
  '\x8D',
  '',
  '\x0E',
  ']',
  '',
  'M',
  'y',
  '\v',
  '\x1D',
  'S',
  '',
  '\\',
  '',
  '',
  ';',
  '',
  '+',
  '\x0F',
  '<',
  '%',
  '',
  '\x17',
  '',
  'T',
  '',
  '',
  '',
  '\r',
  'n',
  '\a',
  '',
  '4',
  '\x04',
  '8',
  'b',
  'u',
  'z',
  '',
  '',
  'G',
  't',
  '',
  '',
  '',
  'l',
  '\x10',
  '',
  '',
  '',
  '',
  'm',
  '$',
  '/',
  'r',
  '@',
  'U',
  '5',
  '',
  '\x1A',
  '',
  '',
  ':',
  '',
  'w',
  '',
  '-',
  '',
  'P',
  '',
  'F',
  'h',
  '*',
  '>',
  'p',
  '[',
  'e',
  'O',
  '',
  'a',
  '',
  '',
  '\x8F',
  '',
  'q',
  '',
  'f',
  '',
  '2',
  '',
  '',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  'J',
  '\'',
  '',
  '',
  '~',
  'C',
  '\x18',
  '',
  '',
  'X',
  '',
  '\"',
  'o',
  '',
  '',
  'v',
  '(',
  '\x19',
  '\x81',
  's',
  '',
  '\x03',
  '',
  'x',
  '{',
  'N',
  'H',
  '_',
  'i',
  '',
  '',
  '',
  '',
  '\"',
  '\x7F',
  '',
  '*',
  '',
  '\x8D',
  '>',
  '',
  'K',
  '',
  '\x06',
  '',
  '`',
  'b',
  '',
  '\x15',
  '',
  '',
  'E',
  '',
  's',
  '\x1A',
  '\t',
  '\x12',
  '',
  '',
  '',
  'x',
  'w',
  '',
  '',
  '',
  '',
  '',
  '',
  'H',
  ' ',
  '[',
  '\x14',
  '',
  '\x1B',
  '',
  '',
  'L',
  'j',
  '',
  ':',
  '',
  'r',
  '',
  '',
  '',
  '\'',
  'e',
  '',
  '+',
  '',
  '',
  'v',
  '',
  'C',
  '',
  'Z',
  '',
  '',
  't',
  '',
  '',
  '3',
  '',
  '',
  'N',
  'F',
  '',
  '',
  'W',
  '2',
  '/',
  '?',
  '',
  '\x03',
  '',
  '~',
  '\x02',
  'l',
  '',
  '',
  '<',
  '7',
  '',
  'k',
  'Y',
  '',
  'c',
  '',
  '',
  '',
  'R',
  'A',
  'q',
  '',
  '',
  'h',
  '\x01',
  '',
  '',
  '',
  '!',
  '6',
  '',
  '',
  '',
  '\x9D',
  '}',
  '',
  '',
  '0',
  '',
  ',',
  ')',
  '5',
  'X',
  '\xFF',
  'T',
  '\f',
  'a',
  '',
  '',
  '',
  ']',
  '',
  'Q',
  '',
  '%',
  '\x13',
  '',
  '',
  'm',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  'D',
  'y',
  'B',
  '',
  '-',
  '#',
  '\x16',
  '',
  '',
  '',
  '',
  '',
  'i',
  '',
  '',
  '',
  '|',
  '',
  '\x0E',
  '',
  '\b',
  '',
  '\n',
  'n',
  '',
  'U',
  'g',
  'M',
  '(',
  '4',
  '',
  '',
  'J',
  '',
  '\x8F',
  '',
  'd',
  'O',
  '\a',
  '\x90',
  '',
  '',
  '',
  ';',
  '',
  '\x0F',
  '\x04',
  'V',
  '',
  '',
  '',
  '',
  '9',
  '',
  '=',
  '',
  '\x1E',
  '',
  'o',
  '1',
  '',
  '_',
  '^',
  '',
  '\x05',
  '',
  '\x10',
  'z',
  '',
  'f',
  'G',
  '@',
  '',
  '\r',
  '\x81',
  '{',
  '',
  '',
  '\x17',
  'u',
  '\v',
  '\x1F',
  '',
  '\x1D',
  '\0',
  '',
  '',
  '\x11',
  '',
  '',
  'P',
  '.',
  '$',
  'I',
  '',
  '8',
  '&',
  '',
  '',
  '',
  '',
  '\x1C',
  'p',
  '',
  '\x18',
  '',
  'S',
  '',
  '\x05',
  '',
  ':',
  'L',
  '\x06',
  '',
  '',
  '3',
  '',
  '\r',
  '',
  'F',
  '',
  '',
  '',
  'l',
  '<',
  'P',
  '',
  'A',
  '',
  '',
  '\x16',
  '>',
  'r',
  '\x7F',
  'Y',
  'Z',
  'X',
  'H',
  '\x15',
  '\x0E',
  '',
  '@',
  '',
  '^',
  '',
  '\x11',
  'w',
  '',
  'a',
  '\x9D',
  '&',
  '',
  '2',
  '',
  '',
  '',
  '',
  'T',
  '.',
  ';',
  '',
  '\x03',
  ']',
  '',
  'R',
  '',
  '4',
  '\n',
  'y',
  '\x04',
  'K',
  'k',
  '\x1E',
  '',
  '',
  '',
  '\0',
  '',
  'N',
  '',
  '',
  '',
  '(',
  '',
  '',
  '',
  '}',
  '',
  '6',
  '',
  '',
  '\x1B',
  ' ',
  ')',
  '',
  ',',
  '\x14',
  '',
  '',
  '\\',
  '',
  'g',
  '',
  '',
  '+',
  'S',
  '',
  '\x1C',
  '\x1D',
  '\x18',
  '',
  '\a',
  '',
  '',
  '/',
  '',
  '',
  'M',
  '`',
  '',
  '',
  'o',
  '',
  '',
  '',
  '',
  'I',
  '',
  '',
  '',
  '\'',
  '',
  '',
  'v',
  '-',
  '?',
  '',
  'G',
  '%',
  '\f',
  '',
  '',
  'p',
  '',
  '9',
  '',
  'B',
  '',
  'Q',
  '',
  '',
  '',
  'O',
  '',
  '\x10',
  '\x1F',
  '~',
  '',
  '',
  '\x1A',
  '\x81',
  '\x02',
  '',
  'f',
  '',
  '',
  '',
  '',
  '\x01',
  '$',
  '*',
  'q',
  '',
  '',
  '8',
  '',
  '{',
  '0',
  '',
  '',
  '\x0F',
  '',
  '\x8D',
  '',
  'b',
  '',
  '\x13',
  '',
  '1',
  '',
  '',
  '7',
  '\v',
  '\"',
  'u',
  '\x17',
  '',
  '',
  'V',
  'i',
  '',
  '\xFF',
  'x',
  '',
  't',
  '',
  '\x12',
  'm',
  '',
  'e',
  '',
  '\t',
  '',
  'D',
  '',
  '#',
  '',
  '',
  'd',
  '',
  '',
  'h',
  '',
  '',
  '',
  '',
  'U',
  'c',
  'n',
  '',
  '5',
  'E',
  'W',
  '\b',
  '[',
  '\x19',
  '',
  'C',
  '',
  'z',
  '',
  '',
  '',
  '',
  '|',
  'j',
  '',
  'J',
  '',
  '_',
  '',
  '',
  '',
  's',
  '\x8F',
  '',
  '',
  '',
  '!',
  '',
  '\x90',
  '',
  '=',
  '',
  '',
  '',
  'r',
  ')',
  '',
  '',
  '=',
  '',
  '',
  '',
  '',
  '#',
  '',
  '',
  'o',
  '+',
  '2',
  'W',
  'k',
  '\x16',
  '\x0E',
  '.',
  '',
  '%',
  '',
  '\x19',
  'G',
  'g',
  '}',
  '',
  'e',
  '\0',
  '\x18',
  '',
  '',
  '\x14',
  'n',
  '',
  ' ',
  'L',
  '',
  '\x8F',
  'J',
  '',
  '',
  ':',
  '',
  '',
  '',
  '',
  'B',
  '\xFF',
  'x',
  '\x1E',
  '\x7F',
  '\x12',
  '',
  '6',
  '',
  '\x04',
  'M',
  '',
  '\x01',
  '`',
  '\'',
  'P',
  '',
  '\t',
  '\x03',
  '',
  'u',
  '\n',
  ',',
  'T',
  '',
  '',
  '\f',
  '',
  '',
  '',
  'z',
  '',
  '\x11',
  '',
  'K',
  'F',
  ';',
  '',
  '',
  '\b',
  '{',
  '',
  '',
  'q',
  '@',
  '',
  '\x10',
  '7',
  '>',
  '',
  'd',
  'O',
  '&',
  '~',
  'f',
  '',
  '\x81',
  '\x8D',
  'X',
  '\v',
  '',
  '',
  '^',
  '',
  '_',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '',
  'D',
  '*',
  'U',
  '',
  '',
  '',
  '\x06',
  'Z',
  '[',
  '',
  '',
  '',
  'I',
  'l',
  '',
  '$',
  '\x0F',
  'E',
  '',
  '',
  '',
  'a',
  '',
  '',
  '',
  '',
  '\x05',
  '\\',
  '\x90',
  'N',
  '3',
  'v',
  '\x1A',
  'S',
  '\x1D',
  '\x9D',
  '',
  'p',
  '\x1F',
  '',
  '',
  '\x1C',
  '-',
  ']',
  '',
  'Y',
  '8',
  '0',
  'Q',
  '',
  '',
  '',
  '|',
  '\x15',
  '',
  '',
  '',
  '',
  'm',
  '\x17',
  '1',
  'A',
  's',
  'w',
  '4',
  '(',
  '',
  'b',
  'y',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  'h',
  '',
  '',
  '',
  '',
  'R',
  '',
  '',
  '/',
  '',
  'H',
  '?',
  '',
  '\a',
  '\x13',
  '',
  '',
  'i',
  '',
  '',
  'V',
  'C',
  '<',
  '',
  '\r',
  '',
  '',
  '',
  '',
  '!',
  '\"',
  '',
  '',
  'j',
  '',
  '',
  'c',
  '',
  '5',
  '9',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  'S',
  'h',
  '',
  'r',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x8D',
  '',
  '\x0E',
  '',
  '\x16',
  '',
  '\x1B',
  '',
  'k',
  '',
  '\t',
  '\x06',
  'x',
  '',
  '',
  'b',
  '\x15',
  '',
  '',
  'D',
  '\\',
  '',
  '',
  '',
  '\x17',
  '',
  '',
  '*',
  '_',
  '0',
  '',
  '',
  '',
  '',
  '',
  '\x90',
  '\x1A',
  '',
  '',
  '',
  '',
  '',
  's',
  '@',
  '',
  '\x9D',
  '',
  '',
  '',
  ' ',
  '\x03',
  'B',
  '<',
  '',
  'J',
  '',
  '\a',
  '',
  'o',
  '',
  '7',
  '',
  '',
  '',
  '',
  '',
  '',
  'F',
  ':',
  '',
  '\x81',
  '',
  '9',
  ',',
  'C',
  ']',
  'c',
  '\x02',
  '\0',
  '',
  'Z',
  'H',
  'K',
  '',
  '6',
  '',
  '',
  '',
  '\x13',
  'z',
  '',
  'T',
  '',
  '4',
  'w',
  'm',
  '}',
  '',
  '',
  't',
  '$',
  '\x1F',
  '',
  '',
  'p',
  '',
  '',
  '',
  ')',
  '\x7F',
  '',
  '#',
  '',
  '',
  '^',
  '3',
  '',
  '.',
  '',
  'Q',
  'q',
  '',
  '',
  '',
  '%',
  '',
  '',
  '',
  'd',
  '',
  '',
  '',
  '5',
  '',
  '',
  '{',
  '2',
  '',
  '',
  'e',
  '\n',
  '',
  '\f',
  '',
  '\r',
  'y',
  '',
  '',
  'g',
  '',
  '8',
  '+',
  '',
  '',
  '\v',
  '\x14',
  'E',
  '',
  'W',
  '/',
  '',
  '',
  '\x1E',
  '-',
  '\x8F',
  '',
  '\b',
  'u',
  '',
  '',
  'M',
  '!',
  'V',
  'v',
  '&',
  'G',
  'X',
  '1',
  '\x19',
  '[',
  'A',
  'N',
  '',
  '\"',
  '',
  '',
  'U',
  '\x01',
  '|',
  '',
  '',
  '\x04',
  '\x1C',
  '\x10',
  '',
  'L',
  'a',
  '',
  '',
  ';',
  '=',
  '',
  'n',
  '',
  '',
  '',
  '',
  '\xFF',
  '\x12',
  '',
  '',
  '',
  '?',
  '',
  '',
  '\x1D',
  '',
  'P',
  '(',
  'l',
  'f',
  'j',
  '`',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '',
  '\x11',
  '',
  '',
  '\x18',
  '\x0F',
  'i',
  '\x05',
  '',
  'R',
  'I',
  'O',
  '',
  '~',
  '\'',
  '>',
  '',
  '',
  '\x7F',
  '',
  '@',
  ')',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '',
  '9',
  'x',
  '',
  '',
  'g',
  '',
  'y',
  'd',
  ':',
  '',
  '',
  '\x1C',
  '',
  'v',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '0',
  'w',
  '3',
  '-',
  '\x1F',
  '\x16',
  'z',
  'e',
  '',
  '',
  'a',
  '',
  '',
  '',
  '1',
  '',
  ',',
  'f',
  'h',
  '',
  'I',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'c',
  '',
  '',
  'j',
  ']',
  '\x9D',
  '',
  '',
  '',
  '',
  'O',
  '\x11',
  '[',
  '',
  '*',
  '!',
  '',
  '',
  '\x19',
  '\x10',
  'b',
  'k',
  '\x01',
  '',
  '?',
  '',
  'G',
  '\n',
  'l',
  '\r',
  '',
  '\x0F',
  '',
  '',
  '{',
  '',
  '',
  'V',
  '',
  '',
  '',
  't',
  '',
  '',
  '\b',
  '\"',
  '',
  'L',
  '',
  'i',
  '',
  'T',
  '\x81',
  'R',
  '',
  '',
  '',
  '',
  'H',
  '',
  '$',
  '\t',
  '\x13',
  ' ',
  'm',
  '',
  '',
  ';',
  '',
  'A',
  '',
  '\x05',
  '',
  '',
  '',
  '_',
  '',
  'o',
  '',
  '',
  '',
  '\x1A',
  '<',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  '\x03',
  '\x12',
  '(',
  '.',
  '\x8D',
  'E',
  '\x04',
  '',
  '',
  '',
  '',
  'K',
  '',
  '',
  '\x8F',
  '',
  '\x02',
  'X',
  'W',
  '',
  '',
  '4',
  'P',
  '',
  '|',
  '',
  '\x15',
  '',
  '#',
  '',
  '',
  'Q',
  '\f',
  '',
  'F',
  '',
  '',
  '\x0E',
  'B',
  '\x90',
  '7',
  '~',
  '>',
  '',
  'N',
  '\x1B',
  'D',
  '8',
  '',
  '',
  '\v',
  '`',
  '',
  '}',
  '/',
  'Z',
  'n',
  '',
  '6',
  '\x14',
  '\0',
  '',
  '',
  'u',
  '',
  '',
  '\x18',
  '+',
  '',
  'r',
  '5',
  '',
  '',
  '',
  '',
  's',
  'p',
  '',
  'C',
  '',
  'q',
  '',
  '\\',
  'S',
  '2',
  '',
  '',
  '\'',
  '\x06',
  '\x1E',
  '',
  'J',
  '\a',
  '&',
  'U',
  '',
  '',
  '%',
  '',
  '\x1D',
  'Y',
  '',
  '',
  'M',
  '^',
  '\\',
  '',
  '',
  '',
  '',
  'd',
  '\x9D',
  'k',
  '',
  '',
  '',
  '',
  '$',
  '',
  'p',
  '',
  '\x16',
  '[',
  '^',
  '\x18',
  '>',
  '7',
  ';',
  '',
  '',
  '',
  '\x12',
  '\x05',
  'X',
  '',
  's',
  '',
  '',
  '',
  '\x1B',
  ',',
  '',
  'c',
  '\0',
  '\x03',
  '(',
  '\x1D',
  '#',
  '',
  'G',
  'Z',
  '',
  '',
  '\n',
  '`',
  ' ',
  '\x04',
  '',
  '',
  '',
  '',
  '',
  'i',
  '',
  'v',
  '',
  '.',
  '',
  '',
  '',
  '<',
  '',
  'N',
  'B',
  '',
  '',
  'V',
  '1',
  'M',
  'a',
  't',
  '',
  '',
  'o',
  '\x8F',
  '',
  '+',
  '',
  '\a',
  'W',
  '\x0F',
  '\x7F',
  '}',
  '',
  '\x10',
  '',
  '',
  'r',
  '',
  '',
  '',
  ')',
  '',
  ']',
  '\x11',
  '',
  '\'',
  '8',
  '',
  '',
  'j',
  '',
  '?',
  'q',
  'T',
  'H',
  '\t',
  '',
  '',
  '',
  'R',
  'y',
  '',
  '',
  'l',
  'm',
  ':',
  '',
  '\x1A',
  'Y',
  '\x01',
  '',
  '',
  '',
  'h',
  '',
  '',
  '!',
  '',
  '\r',
  '@',
  '',
  'n',
  '',
  'e',
  'C',
  '',
  '',
  '|',
  '\f',
  '',
  'L',
  '',
  '9',
  'x',
  '\x90',
  '3',
  '',
  '\x13',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  '\"',
  '\b',
  '',
  '',
  '',
  '',
  '',
  'D',
  '',
  '\x1F',
  '',
  '',
  '\x19',
  'U',
  '',
  '6',
  'E',
  'b',
  '',
  'I',
  'S',
  '',
  '%',
  '\x81',
  '',
  '',
  '',
  '',
  '0',
  '',
  '',
  'g',
  '=',
  '&',
  'f',
  '',
  'z',
  '',
  '',
  '_',
  '/',
  '',
  '',
  '',
  'J',
  '\x06',
  '',
  'A',
  '\xFF',
  '',
  '',
  '',
  '-',
  '',
  '\x1E',
  'F',
  'O',
  '',
  'Q',
  'P',
  '',
  '',
  '',
  'w',
  'K',
  '\x17',
  '',
  '',
  '2',
  '\x14',
  '\x15',
  '',
  '*',
  '',
  '\x0E',
  '\x8D',
  '\v',
  '',
  '',
  '{',
  'u',
  '',
  '~',
  '',
  '',
  '5',
  '',
  '\x1C',
  '',
  '4',
  '',
  '',
  '',
  '',
  'W',
  '',
  ':',
  'P',
  '',
  '\x14',
  '',
  '',
  '',
  'I',
  '',
  'B',
  '\x10',
  '\x81',
  '\x0E',
  'v',
  '\0',
  'O',
  't',
  'D',
  '\f',
  '|',
  '',
  'n',
  '\x01',
  '0',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '',
  '',
  ' ',
  'H',
  '',
  '',
  'j',
  '',
  '',
  'L',
  '\x02',
  '',
  '',
  '\x11',
  '',
  '',
  'K',
  '\x90',
  '',
  '',
  '\x1D',
  'p',
  '',
  'F',
  '',
  '',
  '',
  '',
  '1',
  '',
  'X',
  '',
  '',
  '',
  'i',
  'Y',
  '',
  '',
  '\x16',
  '>',
  '',
  'Q',
  '',
  'S',
  '5',
  '8',
  '',
  '',
  '',
  '\t',
  '\x05',
  '',
  '\x9D',
  '&',
  '\x15',
  'm',
  '\x1E',
  '',
  '',
  '',
  '\r',
  '',
  '',
  '',
  '',
  '',
  '{',
  '',
  '}',
  '#',
  '',
  '',
  '',
  '',
  '$',
  '',
  '_',
  '\x06',
  '9',
  '',
  '',
  'o',
  '\x19',
  ')',
  '',
  '',
  '',
  '',
  '\x03',
  '',
  '2',
  '',
  's',
  '',
  '<',
  ']',
  'N',
  '\x1F',
  'A',
  'M',
  'g',
  '',
  'J',
  '~',
  '',
  '\x0F',
  '',
  '4',
  '',
  '(',
  '[',
  '',
  '\x04',
  '3',
  'b',
  '\x18',
  '\x7F',
  '',
  'y',
  '',
  '\b',
  'r',
  '',
  '?',
  'w',
  '',
  '^',
  '\"',
  'z',
  'Z',
  '',
  '*',
  '',
  '',
  '=',
  '\'',
  '',
  '',
  '@',
  '',
  '',
  '',
  ',',
  '\x17',
  '!',
  '',
  '\x1B',
  '\x12',
  '+',
  '',
  'c',
  '`',
  'f',
  '',
  '\n',
  '\x8D',
  '',
  '',
  'u',
  'R',
  'G',
  'a',
  '',
  '',
  '\v',
  '\x1C',
  '',
  '\x13',
  '/',
  '\a',
  '',
  '',
  'x',
  '-',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'd',
  'q',
  ';',
  '',
  'h',
  'T',
  '',
  '%',
  '',
  '',
  '',
  '',
  '',
  '',
  '7',
  '',
  '',
  '',
  '',
  '',
  'k',
  '',
  '',
  '\x1A',
  '',
  '\xFF',
  '',
  '6',
  '',
  '',
  '',
  'C',
  '',
  '\x8F',
  'l',
  '.',
  'U',
  'E',
  'e',
  '',
  'V',
  '',
  '',
  '',
  '',
  '',
  'h',
  '',
  '\x8F',
  'I',
  '',
  '',
  '',
  '\x02',
  '',
  '0',
  '',
  '+',
  'q',
  'a',
  't',
  '\x04',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x81',
  '',
  '',
  '}',
  'U',
  '8',
  ';',
  '^',
  '',
  '',
  '',
  '',
  'r',
  '',
  'm',
  '',
  '',
  ']',
  '',
  'F',
  'N',
  'n',
  '',
  '\x06',
  '6',
  'y',
  '',
  '',
  '',
  '',
  '\0',
  '!',
  '',
  ')',
  '',
  '',
  '\t',
  '>',
  '',
  '',
  'W',
  '\'',
  '',
  '',
  ',',
  'i',
  '',
  '\x14',
  '',
  '',
  '',
  '',
  '',
  'T',
  '&',
  '',
  '',
  '',
  '',
  '\x17',
  '',
  '',
  'C',
  '',
  'Z',
  'X',
  '<',
  'g',
  '\x10',
  '\x0E',
  '2',
  '3',
  '.',
  '',
  'd',
  'b',
  '',
  '',
  'L',
  '',
  '',
  '',
  '|',
  '',
  '',
  '',
  '\x03',
  '',
  'Y',
  '',
  '',
  '',
  '',
  '\x1C',
  'o',
  '1',
  '',
  '',
  '\x15',
  '',
  'S',
  'E',
  'f',
  '',
  '/',
  '\x1E',
  '\x11',
  '',
  '',
  '$',
  '',
  'V',
  '\x7F',
  '\x18',
  '\x19',
  '',
  '',
  '',
  '\x1B',
  'c',
  '',
  'v',
  '#',
  '9',
  '{',
  '',
  ':',
  '',
  'B',
  '',
  '',
  '\x01',
  '\x1D',
  'K',
  'l',
  '\"',
  '\\',
  'k',
  '\v',
  'p',
  '',
  '',
  '',
  '5',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  'G',
  '7',
  '\x8D',
  '',
  '',
  '\xFF',
  '~',
  '',
  'Q',
  'A',
  '',
  '\x13',
  '',
  '',
  'z',
  '',
  'R',
  '4',
  '\n',
  '`',
  '',
  '',
  '\a',
  '\x1F',
  'x',
  ' ',
  '*',
  '',
  'M',
  'H',
  '-',
  '(',
  '',
  'j',
  '',
  '=',
  '',
  '\x1A',
  'O',
  '',
  'D',
  '',
  '\x05',
  'e',
  '?',
  '_',
  '',
  'P',
  '',
  '',
  '\x16',
  'w',
  '\b',
  '',
  'J',
  '\r',
  '',
  's',
  '',
  '',
  '',
  '\x0F',
  '',
  '',
  '',
  '[',
  '\x90',
  '',
  '',
  '\x12',
  '@',
  '\f',
  '',
  'u',
  '',
  '',
  '%',
  '',
  '',
  '',
  ',',
  '',
  '',
  '',
  '\"',
  '*',
  'Y',
  '(',
  '\x14',
  '',
  'K',
  '',
  '~',
  '!',
  '\x04',
  'j',
  '',
  '=',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '_',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '',
  'e',
  '',
  'w',
  'Q',
  '',
  '',
  'F',
  '',
  '\x19',
  'l',
  'B',
  '\x05',
  '',
  '@',
  '',
  '\x15',
  '',
  '',
  '[',
  '',
  'r',
  '',
  '',
  '\x1E',
  'R',
  'M',
  '',
  '',
  '\x7F',
  '',
  '',
  '\n',
  '6',
  'V',
  '\x81',
  '\x0F',
  '',
  '1',
  '',
  '`',
  'J',
  's',
  '',
  '+',
  '',
  '#',
  ']',
  '<',
  '',
  '',
  '',
  '',
  '&',
  '\f',
  '',
  'X',
  '\v',
  'i',
  'h',
  ')',
  '',
  '\0',
  '$',
  'A',
  'v',
  ' ',
  '',
  '',
  '',
  '>',
  'I',
  '',
  '',
  '',
  '',
  '',
  '^',
  '\x06',
  '|',
  'Z',
  '',
  'W',
  '',
  '',
  '3',
  '',
  '',
  'T',
  '4',
  '8',
  '\t',
  '',
  '',
  '\x90',
  '',
  '',
  ':',
  'N',
  '',
  '',
  '\x0E',
  '\x8F',
  '\\',
  'x',
  'G',
  'C',
  '',
  '',
  '',
  'f',
  '\x9D',
  '',
  '',
  '',
  '',
  '\b',
  'k',
  '',
  'E',
  '',
  '',
  '',
  '',
  'q',
  'H',
  'S',
  '\a',
  'z',
  '{',
  '2',
  'n',
  '',
  '',
  '\x10',
  't',
  '5',
  'u',
  '',
  '\x1A',
  '\x12',
  'L',
  '',
  '',
  '',
  '',
  '',
  '7',
  '\x11',
  '/',
  '',
  '\x16',
  'O',
  '9',
  '\x17',
  'U',
  '',
  'P',
  '\x1F',
  'p',
  '',
  '',
  '%',
  '',
  '\x01',
  '',
  '',
  'm',
  '',
  '',
  '\x03',
  '\x1D',
  '0',
  '',
  '}',
  '?',
  '\r',
  '',
  '',
  '',
  '\xFF',
  '\x02',
  '',
  '',
  '',
  '',
  'g',
  '',
  'b',
  'c',
  '',
  '\x18',
  '',
  '',
  '',
  '',
  '',
  '\x8D',
  '',
  '',
  '\'',
  '-',
  '',
  '',
  ';',
  '',
  '',
  '',
  '',
  '',
  'D',
  'd',
  '',
  '.',
  '\x1C',
  'y',
  'a',
  '',
  '',
  'o',
  '\x13',
  'P',
  '\x1E',
  '',
  'M',
  'D',
  '',
  '',
  '',
  'X',
  'd',
  'h',
  '',
  'K',
  '/',
  'b',
  'w',
  '',
  '',
  '',
  '#',
  '5',
  'R',
  'N',
  'k',
  '',
  '',
  '%',
  '\x0F',
  '',
  '',
  'a',
  '{',
  '',
  '',
  'x',
  '\xFF',
  '',
  '',
  '\x12',
  '\'',
  '',
  '\x19',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  '(',
  '',
  '',
  'U',
  '',
  '?',
  '',
  '',
  '',
  '}',
  '',
  '',
  '',
  '',
  '2',
  '',
  '',
  '0',
  '',
  '',
  '\x8D',
  '',
  'C',
  '\x7F',
  '',
  'm',
  '',
  'Q',
  'E',
  '\x9D',
  'A',
  '\b',
  '',
  '',
  ']',
  '',
  '',
  'g',
  '\a',
  '|',
  '',
  '',
  'e',
  ':',
  '',
  'L',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'q',
  '',
  '=',
  '\"',
  '\t',
  'G',
  'T',
  '+',
  '^',
  '',
  '',
  'y',
  '\x1C',
  '9',
  '',
  '',
  'Z',
  '',
  '',
  '',
  ' ',
  'J',
  '\x18',
  '8',
  '',
  '.',
  '\v',
  'i',
  's',
  '@',
  '',
  '',
  'o',
  '6',
  '\x03',
  '',
  '1',
  'f',
  '',
  'c',
  '',
  '',
  '',
  '\x90',
  '\x8F',
  'H',
  '',
  '$',
  '\x81',
  '\x1D',
  '',
  '7',
  '',
  '',
  '',
  '',
  't',
  '',
  '',
  '!',
  '',
  '',
  '3',
  '\x11',
  '',
  '\x01',
  '\x16',
  '',
  '',
  '\x10',
  'p',
  'I',
  ',',
  '',
  'W',
  '~',
  '',
  '\x1A',
  '',
  '\x13',
  '',
  '',
  ')',
  'j',
  '',
  '[',
  '',
  '_',
  'B',
  'r',
  '',
  'v',
  '&',
  '',
  '',
  'F',
  '*',
  'O',
  '',
  '\f',
  'S',
  '-',
  '',
  '',
  '',
  '\x17',
  '`',
  '',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '<',
  '',
  ';',
  '\0',
  '',
  '',
  '\x1F',
  'l',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  '\x14',
  '\x06',
  '',
  '\x05',
  '',
  '>',
  'z',
  '4',
  '\x15',
  'Y',
  '\r',
  '',
  '',
  '',
  '\n',
  'n',
  '',
  '',
  '',
  '\x04',
  '',
  'u',
  'V',
  '\\',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  'N',
  '\x05',
  '',
  '',
  '1',
  '',
  '?',
  '',
  '+',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '}',
  'T',
  'Y',
  '\n',
  '',
  '',
  '',
  '',
  'd',
  '^',
  '',
  '(',
  '\x9D',
  '',
  '',
  '=',
  '',
  '',
  '\\',
  '\x1C',
  '/',
  '',
  'k',
  '',
  '',
  '\x7F',
  '',
  '',
  '',
  '',
  '\x90',
  'C',
  'R',
  '\x1B',
  '',
  '',
  '6',
  '',
  'y',
  '',
  'v',
  '',
  '',
  'z',
  'O',
  '',
  'w',
  '',
  'D',
  '',
  '',
  '\"',
  ' ',
  ')',
  '',
  'c',
  'G',
  '\x12',
  '',
  '@',
  '',
  '',
  'n',
  '',
  '\a',
  '\xFF',
  '',
  'r',
  '\x18',
  '\x01',
  '',
  '`',
  '',
  '8',
  '',
  '',
  'Q',
  '!',
  '',
  '\x16',
  '',
  '<',
  '7',
  '',
  '',
  '',
  '',
  '',
  '4',
  '',
  'F',
  'q',
  'L',
  '',
  '',
  'i',
  '',
  't',
  '',
  '~',
  '\x11',
  '\x1E',
  '\x15',
  '',
  '&',
  '',
  'U',
  '',
  '',
  '\r',
  '0',
  ',',
  ':',
  '\x19',
  '\0',
  '',
  '\x0F',
  '3',
  '',
  '\x17',
  '\x06',
  '',
  '\f',
  '\x0E',
  'I',
  'e',
  '\x03',
  'H',
  '',
  '',
  '',
  '',
  '',
  '',
  '\v',
  '#',
  '',
  'S',
  '_',
  '\x10',
  '-',
  '\x13',
  '9',
  '',
  '',
  '',
  '',
  '',
  '\x14',
  'K',
  '',
  '',
  'g',
  '',
  '|',
  '',
  '',
  'X',
  '\t',
  '',
  'f',
  '\x1A',
  'J',
  '',
  '',
  '{',
  '',
  '',
  '',
  '$',
  'A',
  '\x1F',
  '',
  '',
  '.',
  '',
  '',
  '',
  '5',
  '\x8F',
  ';',
  'B',
  '',
  '',
  '\x04',
  '>',
  'j',
  'x',
  'b',
  'h',
  '',
  'u',
  '',
  '',
  '',
  '',
  '',
  '',
  'l',
  'a',
  'M',
  '*',
  '',
  'o',
  '',
  'Z',
  '',
  's',
  '[',
  '\'',
  'W',
  '2',
  'p',
  '\x8D',
  'P',
  '%',
  '\x81',
  '',
  'E',
  '',
  '\b',
  '',
  ']',
  '',
  '',
  '',
  '',
  '',
  'V',
  'm',
  '',
  '',
  '',
  '',
  '\x02',
  '\x8F',
  ':',
  '',
  '',
  '0',
  '',
  'X',
  'e',
  '',
  '\x03',
  'F',
  '7',
  '',
  'O',
  'i',
  '',
  '\x19',
  '',
  '',
  '5',
  'M',
  '',
  'k',
  '',
  '',
  '\0',
  '',
  '~',
  'A',
  '\x1A',
  'Y',
  '',
  '4',
  '\v',
  '`',
  '?',
  '',
  'h',
  '',
  '',
  'v',
  '',
  '!',
  '\f',
  '',
  '',
  '',
  '\x17',
  '\'',
  '',
  '',
  '',
  '2',
  'B',
  'z',
  '',
  '+',
  '',
  'E',
  '',
  '[',
  '',
  '',
  '',
  '',
  '',
  'C',
  '\\',
  '',
  '\t',
  '',
  '',
  '{',
  '',
  '',
  '',
  '',
  '',
  '',
  'j',
  'u',
  'o',
  '',
  '',
  '\x0F',
  '',
  '',
  '',
  '%',
  '\"',
  ';',
  '',
  '-',
  '',
  '',
  '',
  '',
  '/',
  '',
  '',
  '\x06',
  '',
  '\x10',
  '',
  '',
  '',
  '',
  '_',
  '\x12',
  's',
  '.',
  'W',
  '\x01',
  '',
  '8',
  '\x14',
  '\x8D',
  'g',
  ' ',
  '\b',
  'T',
  '*',
  'b',
  '\x18',
  '',
  'G',
  'f',
  '(',
  '',
  '',
  'Z',
  ']',
  '^',
  '',
  '\x90',
  '',
  't',
  '',
  'S',
  '',
  '',
  'D',
  '',
  'l',
  '',
  '>',
  '\x1B',
  '',
  'a',
  '=',
  '',
  '<',
  '\x1C',
  'q',
  '',
  '',
  '\x16',
  '\x15',
  '',
  '9',
  '\x13',
  '',
  'Q',
  'c',
  'y',
  'H',
  '}',
  '',
  '',
  '\xFF',
  '',
  '',
  'p',
  'U',
  '',
  '\x11',
  '',
  'd',
  'L',
  'r',
  '\x04',
  '',
  '',
  '',
  '\n',
  '',
  '',
  'V',
  '',
  '1',
  'n',
  'K',
  '',
  '',
  'm',
  '',
  '',
  '',
  '',
  '',
  '',
  '3',
  '\x0E',
  '@',
  ')',
  '#',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  'I',
  '\x1E',
  '\x7F',
  '',
  'x',
  '',
  '',
  '\x1F',
  '',
  '',
  '\x81',
  ',',
  'J',
  '',
  '',
  '',
  '\x1D',
  '&',
  '\x05',
  '',
  '\a',
  '',
  '|',
  '',
  '',
  '$',
  '',
  '',
  'P',
  '',
  '\r',
  'R',
  'N',
  '6',
  'w',
  '',
  '',
  '',
  '',
  'F',
  '',
  '',
  '',
  '\x17',
  'g',
  '',
  '#',
  '\xFF',
  'm',
  'f',
  '`',
  '',
  'I',
  '_',
  '\a',
  'B',
  '+',
  '\x13',
  '$',
  '',
  '',
  '[',
  '',
  '',
  ')',
  '!',
  '',
  '',
  '',
  '',
  '\x1A',
  'v',
  '\0',
  '',
  ':',
  '9',
  '\x16',
  'b',
  '',
  '',
  '',
  '',
  '',
  '',
  'u',
  'k',
  'l',
  '',
  'H',
  '\x1D',
  'N',
  '\v',
  '',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  '-',
  '',
  '',
  '\x90',
  '',
  'z',
  '\n',
  'Q',
  '',
  '%',
  '\b',
  '',
  '2',
  '\x1C',
  '',
  '@',
  '',
  '\x0E',
  'G',
  '',
  '6',
  '',
  '',
  'r',
  ',',
  '',
  '\x1F',
  '\x10',
  '\x03',
  'E',
  '',
  'W',
  '',
  'i',
  'a',
  '',
  '',
  '',
  '\x14',
  '',
  '?',
  '',
  '\x8D',
  '<',
  '',
  '>',
  '',
  '',
  '\x19',
  '|',
  '.',
  '',
  '',
  '}',
  '\t',
  '',
  '',
  'M',
  '\x11',
  '\x05',
  '\x9D',
  '',
  '',
  'V',
  '',
  's',
  'U',
  '',
  '',
  '\x01',
  '',
  ']',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'D',
  '',
  'q',
  '\x15',
  '',
  'y',
  '',
  '\"',
  '',
  '',
  '',
  '',
  '\x04',
  'J',
  'n',
  '\x1E',
  '4',
  'x',
  '',
  '',
  'h',
  'S',
  '',
  'Z',
  '',
  '',
  'e',
  '',
  '',
  '=',
  '8',
  '\x81',
  '\x18',
  '',
  '',
  '',
  'p',
  'K',
  '\x02',
  '{',
  '',
  '',
  '\f',
  '3',
  '',
  'L',
  '',
  '^',
  '\x1B',
  '',
  'T',
  '',
  '',
  'X',
  'C',
  '',
  '7',
  '',
  '',
  '(',
  'O',
  '',
  '\r',
  '',
  '',
  'w',
  '',
  '',
  '5',
  'R',
  '&',
  '',
  '',
  '',
  ';',
  '',
  't',
  '\x06',
  '\x0F',
  '',
  '*',
  '~',
  '',
  ' ',
  'c',
  '',
  '',
  'j',
  '1',
  '\x7F',
  'Y',
  '/',
  'P',
  '',
  '',
  'o',
  '',
  '',
  '\'',
  '\\',
  '',
  '',
  '\x8F',
  '',
  '',
  'd',
  '',
  '',
  '0',
  '',
  '',
  'A',
  '',
  '',
  '',
  '',
  'd',
  '',
  '\x13',
  's',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  ',',
  '&',
  'M',
  '',
  '',
  '\x15',
  '\x1C',
  '\x8F',
  '\r',
  '',
  '\x02',
  'R',
  '',
  '\x81',
  'W',
  '',
  '',
  '',
  '^',
  '\x1A',
  '',
  ']',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  'O',
  '',
  '',
  '.',
  '',
  '',
  '',
  '\'',
  '\x01',
  '`',
  '',
  '',
  '',
  'H',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  'g',
  'E',
  'o',
  'S',
  'l',
  'V',
  '',
  '3',
  '',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '',
  '\x90',
  '',
  ':',
  '\x04',
  'Q',
  '',
  '1',
  'b',
  'D',
  '',
  '',
  '',
  'F',
  '*',
  'T',
  'k',
  '\x10',
  't',
  'x',
  '',
  'h',
  '!',
  'C',
  'f',
  '',
  ' ',
  '',
  '\x1D',
  '$',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '#',
  '2',
  '\xFF',
  '\x11',
  'y',
  '{',
  '[',
  '',
  '-',
  '',
  '@',
  '0',
  '',
  '',
  'G',
  'p',
  '',
  '',
  '',
  '5',
  '\t',
  '\\',
  '',
  '8',
  '_',
  '',
  '',
  '\x06',
  ')',
  '',
  '|',
  '',
  '',
  '',
  'B',
  'K',
  '',
  '',
  '\x9D',
  '7',
  '\x16',
  '',
  'u',
  'A',
  '',
  'v',
  '',
  '\x17',
  '',
  '\0',
  '4',
  '=',
  '',
  '%',
  '',
  '',
  '',
  '',
  '',
  'N',
  'z',
  '',
  '',
  '',
  'a',
  'n',
  '',
  '\f',
  'j',
  '\x05',
  'J',
  'w',
  '',
  'Z',
  'i',
  '\b',
  ';',
  'r',
  '',
  'q',
  'P',
  '6',
  '',
  '',
  '?',
  '',
  '',
  '\x7F',
  '',
  '\x0F',
  '',
  '',
  '\v',
  'm',
  '',
  '\x0E',
  '\x8D',
  '',
  '+',
  '',
  '>',
  '',
  '~',
  '}',
  '',
  '\x19',
  'U',
  '',
  '',
  '',
  '\"',
  '',
  '9',
  '',
  'e',
  '',
  '',
  '\x03',
  '',
  'I',
  '<',
  'L',
  '',
  '\a',
  '\x1F',
  '\x1E',
  'c',
  '',
  '(',
  '\x1B',
  'X',
  '',
  '',
  '',
  '',
  '/',
  '',
  '',
  '\n',
  '\x18',
  '',
  'C',
  '',
  '\0',
  '',
  '\'',
  '',
  'y',
  '\x9D',
  '',
  '\x18',
  'L',
  '',
  '',
  '\x14',
  '',
  '',
  'w',
  '',
  '',
  '',
  '\x13',
  'e',
  '',
  '',
  '',
  '',
  '',
  'd',
  '',
  'g',
  'z',
  '\x8F',
  '',
  ':',
  '',
  '',
  '\x0F',
  'r',
  '@',
  'J',
  '',
  '\r',
  '',
  '\n',
  '',
  '',
  '',
  '_',
  '',
  '',
  '',
  '\x02',
  '\x1C',
  '\x17',
  '',
  '',
  '',
  '/',
  '\x1B',
  '\x04',
  'o',
  '',
  '',
  '\x06',
  '\f',
  '',
  '',
  'u',
  '',
  '',
  '0',
  '(',
  '',
  ']',
  '|',
  'p',
  '',
  'm',
  '\xFF',
  '4',
  '',
  '',
  ';',
  'D',
  '5',
  'Y',
  '',
  'l',
  '}',
  'F',
  '\x1F',
  'X',
  '\x1A',
  'B',
  '',
  '\x1E',
  '',
  '3',
  '',
  'R',
  '',
  '',
  '',
  'n',
  '',
  'I',
  '<',
  '',
  '$',
  '\x15',
  '%',
  'v',
  '',
  's',
  '',
  '-',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  '`',
  '',
  'h',
  '\x8D',
  'q',
  '\t',
  '',
  'U',
  '?',
  '',
  '\x1D',
  '',
  '\x19',
  '',
  'K',
  '^',
  '\x90',
  '',
  '',
  'Q',
  '',
  '=',
  '',
  '*',
  '',
  '',
  '',
  '\x11',
  '7',
  '',
  '',
  'H',
  '',
  '',
  '!',
  'c',
  '1',
  '',
  'E',
  '2',
  'G',
  '',
  '',
  't',
  '\x10',
  '',
  '\b',
  '\x03',
  '',
  '',
  '\v',
  '\x16',
  '[',
  '#',
  '',
  '\\',
  '',
  '',
  '\x01',
  '',
  '',
  '',
  '\"',
  '',
  '',
  '\x05',
  'N',
  '',
  'i',
  '\a',
  '',
  '',
  ')',
  '',
  '+',
  'a',
  'f',
  '',
  '',
  '8',
  '',
  '',
  ' ',
  '~',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  'b',
  '',
  '',
  '',
  'W',
  'V',
  '\x7F',
  '',
  'P',
  '9',
  '',
  '',
  '6',
  '\x81',
  'k',
  '{',
  'O',
  '',
  '',
  '.',
  '',
  'S',
  'j',
  'A',
  '',
  'x',
  '&',
  '>',
  'M',
  '',
  'T',
  '',
  '',
  ',',
  'Z',
  '',
  '\x05',
  '\x1C',
  'D',
  'q',
  '/',
  '',
  '\'',
  '\r',
  '',
  '',
  '',
  '',
  '',
  '',
  '5',
  'L',
  'Q',
  '',
  'N',
  '',
  '',
  '',
  '',
  '',
  'o',
  '',
  'A',
  '\x1E',
  '',
  '',
  '',
  '>',
  '',
  '',
  '',
  '',
  '#',
  '',
  '$',
  'k',
  '',
  'J',
  '',
  '',
  'C',
  'g',
  '',
  'R',
  '',
  '',
  'T',
  'f',
  '',
  '@',
  '',
  '7',
  '',
  '_',
  '',
  '',
  '',
  'P',
  '',
  '',
  'M',
  '',
  '6',
  '\xFF',
  '',
  '',
  '',
  '',
  '',
  '1',
  '3',
  '',
  'c',
  ';',
  '\x8D',
  '',
  '\x19',
  '\x02',
  '',
  '',
  '\x81',
  '',
  '4',
  '',
  'X',
  '\t',
  '\x11',
  '',
  '\x1F',
  '',
  'u',
  '(',
  '',
  'l',
  'b',
  '',
  'y',
  '',
  '\x15',
  '',
  's',
  '',
  '\x1B',
  '',
  '',
  '',
  '\x04',
  '',
  '&',
  '',
  '%',
  '+',
  '',
  '\x17',
  '\\',
  '?',
  '',
  't',
  'j',
  'm',
  '',
  ':',
  'x',
  '\b',
  '',
  '',
  '',
  '8',
  '',
  '',
  '`',
  '~',
  '\x7F',
  'G',
  '}',
  'U',
  'a',
  '',
  '',
  '',
  '',
  '',
  '\0',
  'Y',
  'S',
  '',
  '{',
  'v',
  '0',
  '\x12',
  'w',
  '',
  '',
  '',
  '\x0E',
  '\v',
  '',
  '',
  '',
  '\x8F',
  ']',
  '\x01',
  '[',
  '\x16',
  ',',
  '',
  '',
  '\x06',
  '',
  '!',
  'E',
  'd',
  '.',
  '',
  '',
  '\x1A',
  '',
  '^',
  '\x9D',
  '',
  'F',
  '',
  '\"',
  '',
  '',
  '2',
  '\x1D',
  'i',
  'e',
  '\x14',
  'V',
  '',
  '\f',
  '',
  'p',
  '',
  '\x13',
  ' ',
  '',
  '',
  'O',
  '',
  '',
  '',
  '',
  '',
  '\x03',
  '',
  '',
  'I',
  'n',
  '',
  '',
  '',
  'W',
  ')',
  'K',
  '',
  '',
  '',
  '\x10',
  '\a',
  '|',
  '\x0F',
  'h',
  '',
  'Z',
  '',
  'H',
  'B',
  '',
  '*',
  '',
  '=',
  '<',
  '',
  '',
  '',
  '-',
  '',
  'r',
  '',
  '',
  '',
  'z',
  '',
  '9',
  '\x90',
  '\x18',
  '',
  '\n',
  '\x17',
  'S',
  '',
  '\"',
  '',
  '',
  '',
  '',
  '\x14',
  '',
  'B',
  '\x05',
  'T',
  '',
  '',
  '}',
  '2',
  '',
  '\r',
  '?',
  'F',
  'N',
  'I',
  '\x10',
  '',
  '',
  'R',
  '\x8D',
  '',
  '',
  '\x03',
  '%',
  ':',
  '',
  'd',
  '\x0E',
  '',
  '',
  '',
  'Q',
  '',
  '{',
  '',
  'H',
  '',
  ')',
  'o',
  'y',
  '+',
  '*',
  '',
  '',
  '',
  '',
  '',
  '',
  'g',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '^',
  '',
  '',
  '0',
  'e',
  '\x7F',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  ']',
  '9',
  '',
  '\x9D',
  'E',
  '',
  '\x1A',
  'l',
  '5',
  '',
  'C',
  'b',
  '\x12',
  '',
  '',
  '',
  '',
  'n',
  'J',
  '',
  '[',
  '',
  '',
  'w',
  '\v',
  '',
  '',
  '.',
  '',
  '',
  '',
  'z',
  '\f',
  '\x01',
  'G',
  '',
  '',
  '\\',
  '',
  '',
  '',
  '!',
  '\'',
  ',',
  '',
  '=',
  '',
  '',
  '',
  'x',
  '#',
  '',
  '\x06',
  '',
  'j',
  '',
  '\x02',
  '<',
  '$',
  '',
  '',
  '',
  'M',
  '',
  '\n',
  '',
  '-',
  'f',
  '',
  '',
  'K',
  'k',
  '',
  '\t',
  '\x1C',
  '',
  '',
  'm',
  '>',
  '8',
  '\x1B',
  '&',
  '`',
  '\x8F',
  '',
  '\x1D',
  '\x0F',
  '~',
  '\x81',
  's',
  '',
  '',
  '',
  'c',
  '',
  '',
  'U',
  '',
  'Y',
  '',
  'D',
  'p',
  '',
  'q',
  '/',
  '',
  '',
  '\b',
  'O',
  '',
  '@',
  '',
  'W',
  'r',
  't',
  '',
  '',
  '|',
  'A',
  ' ',
  '',
  '',
  '\0',
  '\x19',
  '',
  '(',
  '_',
  '',
  '\x90',
  '',
  '',
  '4',
  'Z',
  '',
  '',
  '',
  'u',
  '\x1E',
  ';',
  '\a',
  '',
  'P',
  '',
  '',
  'L',
  '\x13',
  '',
  '\x1F',
  '',
  '',
  'V',
  'X',
  '',
  '7',
  'v',
  '',
  'h',
  '',
  '',
  '6',
  '\x04',
  '\xFF',
  '',
  '',
  '',
  '3',
  '',
  '\x18',
  'a',
  '',
  '',
  '1',
  '',
  '',
  'i',
  '\x16',
  '',
  '',
  '',
  '',
  '+',
  '',
  'l',
  '',
  '',
  '',
  'z',
  'v',
  '',
  '',
  '',
  'G',
  '',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '',
  '',
  'X',
  '',
  '\x19',
  'Q',
  '\x04',
  '\t',
  '\x0E',
  't',
  '',
  '=',
  '',
  '',
  '',
  '0',
  '',
  'A',
  '',
  '/',
  '\x1A',
  '',
  '',
  '',
  '\b',
  'Y',
  '',
  '',
  '\"',
  '',
  '',
  'g',
  '2',
  '\\',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '\x9D',
  'i',
  '{',
  '',
  '>',
  '\x01',
  '',
  '',
  'N',
  '`',
  '',
  '',
  '',
  '\f',
  '',
  '',
  'e',
  'a',
  '\x13',
  '',
  '\x8F',
  '\x06',
  ',',
  '',
  '',
  'y',
  '',
  'p',
  '\x03',
  '',
  '5',
  '',
  '',
  '',
  '-',
  'M',
  '',
  'J',
  'n',
  'L',
  '\x14',
  'w',
  'j',
  '',
  '',
  '$',
  '\x11',
  '?',
  '',
  '',
  '',
  '',
  'K',
  'b',
  '*',
  '\'',
  '\x10',
  '',
  'x',
  '',
  '',
  'r',
  '',
  ' ',
  '',
  '',
  '|',
  '^',
  '',
  'B',
  '_',
  '\x17',
  '',
  '',
  '7',
  '',
  '\x8D',
  '',
  '',
  '',
  '',
  '\a',
  ':',
  'E',
  '6',
  '',
  '',
  'm',
  '9',
  'U',
  '',
  '1',
  '\xFF',
  '',
  '',
  '',
  'u',
  ';',
  '[',
  '',
  '',
  'f',
  '\n',
  '',
  '',
  '}',
  '',
  '\x81',
  '',
  '',
  'q',
  ')',
  '',
  '\x90',
  '\x0F',
  '',
  'D',
  '',
  '',
  '',
  '',
  '',
  '',
  'T',
  '',
  '\x7F',
  'P',
  '',
  '!',
  '',
  '&',
  'h',
  '\x1B',
  'H',
  'C',
  '#',
  '',
  '',
  '',
  '',
  'S',
  '\x18',
  's',
  '4',
  'I',
  '.',
  'o',
  '',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  'c',
  '',
  '<',
  '\x12',
  '\0',
  '',
  '',
  '',
  '\r',
  '',
  'O',
  '',
  '',
  'd',
  'F',
  '\x1F',
  '(',
  '\x05',
  ']',
  '',
  'V',
  'R',
  '@',
  '',
  '%',
  'W',
  'k',
  '\x15',
  '',
  '\v',
  '\x1C',
  '',
  '',
  '',
  '',
  '\x16',
  '8',
  '~',
  'Z',
  '3',
  '\x7F',
  '',
  '',
  'd',
  'y',
  'R',
  ',',
  '`',
  '',
  '{',
  '\x9D',
  '',
  '\x15',
  '\x03',
  '\b',
  '',
  '',
  '',
  '',
  '',
  't',
  '\x90',
  '',
  '',
  '*',
  '',
  'N',
  '\0',
  '',
  'K',
  'J',
  'j',
  '',
  'A',
  'h',
  '\x0F',
  'x',
  '',
  '',
  '#',
  'W',
  '\x8F',
  '\\',
  '',
  'I',
  '@',
  '',
  '',
  '',
  '\x05',
  '',
  '',
  'r',
  '',
  '\f',
  '',
  '',
  '\n',
  '',
  'Y',
  '',
  '/',
  'U',
  '\x81',
  '7',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  '.',
  'v',
  'l',
  '|',
  '\a',
  '',
  '4',
  'V',
  '',
  '',
  '',
  '',
  '',
  '>',
  '',
  '',
  '',
  '[',
  '',
  ' ',
  '',
  'O',
  'D',
  '!',
  '&',
  '',
  '',
  '',
  '',
  '\x16',
  'G',
  '\x10',
  '',
  '',
  '',
  'F',
  '',
  '',
  'b',
  '+',
  '',
  '',
  '',
  '~',
  'c',
  '\'',
  '\x13',
  '\x1A',
  '',
  '1',
  '',
  '',
  '',
  '',
  '\x01',
  ';',
  '',
  '%',
  '',
  'o',
  '',
  '',
  '\x1D',
  '',
  'E',
  '\x18',
  '',
  '\x1B',
  '',
  '5',
  '',
  '-',
  '',
  'T',
  '',
  '\xFF',
  '',
  '',
  ']',
  '',
  'Z',
  '',
  'X',
  '\"',
  '3',
  '',
  '\x8D',
  '(',
  '',
  '8',
  '',
  ')',
  '',
  '',
  '',
  '\v',
  '',
  'n',
  '_',
  '\x1E',
  '\x04',
  '\x17',
  'g',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  'L',
  '',
  '\r',
  'i',
  '2',
  'M',
  '}',
  '',
  '9',
  '',
  '',
  'u',
  'H',
  '<',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '0',
  'Q',
  'p',
  '',
  '\x19',
  '\x14',
  '=',
  ':',
  'S',
  'B',
  'k',
  '',
  'q',
  '^',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  '',
  '?',
  '',
  'C',
  '',
  'P',
  '6',
  '',
  '',
  'z',
  'w',
  's',
  '\x11',
  '',
  '',
  '',
  'f',
  '\x02',
  'a',
  '',
  '\x06',
  '',
  '$',
  '',
  'm',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '\t',
  'e',
  '$',
  '\x02',
  '',
  ']',
  '#',
  '',
  '',
  '',
  '\x03',
  'O',
  '',
  'q',
  'D',
  'I',
  '',
  'U',
  'L',
  'S',
  'f',
  '',
  '',
  'j',
  '\x1A',
  '%',
  '\x1F',
  '\x8F',
  '\x12',
  'C',
  '',
  '',
  '',
  'B',
  '',
  '(',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '',
  'e',
  'J',
  '}',
  'r',
  '\\',
  '*',
  '',
  '[',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  '',
  '!',
  '',
  '',
  'o',
  'H',
  'G',
  '',
  '',
  'N',
  '',
  '\xFF',
  'w',
  '\x9D',
  '',
  '\x17',
  '\"',
  '',
  '<',
  '5',
  '\x7F',
  '',
  '~',
  '_',
  '\x90',
  '',
  'V',
  '',
  '?',
  '',
  ')',
  'E',
  '',
  '',
  'n',
  '',
  '4',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '\0',
  '',
  '',
  '>',
  'A',
  'Q',
  '\n',
  '',
  '',
  'c',
  '\v',
  'p',
  '',
  '',
  '',
  '',
  '',
  '',
  '8',
  '',
  '@',
  '\x1E',
  '',
  '',
  'R',
  '',
  '\x13',
  '',
  '',
  '\a',
  '',
  '',
  'h',
  '=',
  '7',
  '2',
  '',
  '',
  '\x18',
  ':',
  '',
  '6',
  '',
  'i',
  '',
  '\x14',
  '',
  '+',
  '',
  '',
  '`',
  '',
  '',
  '',
  '',
  '',
  '',
  'd',
  '/',
  ';',
  '',
  'Y',
  '\x81',
  '',
  '\x0F',
  '',
  '\r',
  'K',
  '1',
  '',
  '-',
  '\x1C',
  '\x04',
  '',
  'v',
  'x',
  '',
  '',
  'm',
  '\x06',
  '',
  '',
  '{',
  '&',
  '\x0E',
  't',
  '',
  '',
  '\x01',
  '',
  '',
  '\t',
  '.',
  '',
  '',
  '',
  '\x16',
  'z',
  '',
  '3',
  'W',
  '',
  '',
  'l',
  '\'',
  '',
  '',
  '9',
  'X',
  '',
  'y',
  '^',
  '',
  'P',
  's',
  '\x05',
  '',
  '\x8D',
  'T',
  '',
  '0',
  '',
  '',
  'a',
  '',
  ' ',
  'k',
  '',
  'Z',
  ',',
  '',
  '',
  '\x19',
  '',
  'u',
  '',
  '',
  'g',
  'F',
  '|',
  '\f',
  'M',
  '\x10',
  '',
  '',
  '\x11',
  '',
  '\x1B',
  'b',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  '',
  ':',
  '9',
  '',
  '',
  '',
  'g',
  '',
  '\x1F',
  '',
  '[',
  '',
  '',
  '',
  '?',
  'T',
  '\x03',
  '\x9D',
  '',
  '',
  '\x90',
  '\a',
  'b',
  '',
  'W',
  'v',
  '',
  '',
  '',
  '',
  '',
  '',
  'X',
  '',
  '',
  '',
  '\x13',
  '\r',
  ',',
  'V',
  '4',
  '',
  '\"',
  '\x06',
  '',
  '<',
  '#',
  ']',
  '\x12',
  '6',
  '',
  'z',
  '',
  '\x16',
  '',
  '.',
  '&',
  '',
  '{',
  'C',
  'Y',
  '\x17',
  '(',
  '\'',
  'F',
  '',
  '\t',
  '',
  '\x1A',
  '',
  '$',
  '>',
  'M',
  '',
  '',
  'P',
  '',
  '',
  't',
  'x',
  '',
  '8',
  'a',
  '',
  '',
  'Z',
  '_',
  '',
  '',
  '\x0F',
  'I',
  'L',
  'e',
  '',
  '',
  '',
  '',
  '',
  '',
  'c',
  ';',
  '',
  '\x11',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '7',
  '\x01',
  '\b',
  ' ',
  '',
  '2',
  '',
  '1',
  '}',
  '',
  'h',
  '\xFF',
  '',
  '',
  '\x8D',
  '',
  '',
  '',
  '',
  '',
  '3',
  '',
  'n',
  '',
  '\x1C',
  '',
  '@',
  '',
  '\0',
  '',
  '=',
  '',
  'q',
  'K',
  'D',
  '`',
  '',
  '\n',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  'N',
  '',
  'A',
  'l',
  '+',
  'E',
  '',
  ')',
  '%',
  '',
  'p',
  '',
  '',
  '\x8F',
  '',
  '',
  'H',
  's',
  '',
  '',
  'R',
  '',
  'f',
  'y',
  '-',
  'd',
  '\x81',
  'u',
  '',
  '',
  '',
  '|',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  'k',
  '\x05',
  '',
  '',
  '',
  '',
  '',
  '',
  'B',
  '!',
  '/',
  '',
  '\x7F',
  '',
  '',
  'w',
  'i',
  '',
  '',
  '0',
  '',
  '',
  'O',
  '',
  '',
  'r',
  '',
  'J',
  '\x04',
  '',
  '',
  'U',
  '',
  '',
  '\x18',
  'o',
  '\v',
  '^',
  'Q',
  '',
  '5',
  '',
  '\f',
  'S',
  '\x19',
  '',
  '\x15',
  '',
  '',
  '~',
  'G',
  'j',
  '\x1E',
  '',
  '\x10',
  '\x14',
  '',
  'm',
  '\\',
  '*',
  '!',
  '',
  ']',
  'r',
  'i',
  '',
  '',
  '@',
  '#',
  '',
  'W',
  '',
  '\'',
  '',
  '',
  'Z',
  '',
  '\xFF',
  '\x1A',
  '',
  '',
  '',
  '\x9D',
  '',
  '',
  '|',
  '',
  '6',
  '',
  ')',
  '',
  '\x81',
  '',
  'j',
  '',
  '\f',
  '\x1B',
  'u',
  '\x06',
  '',
  '\x1F',
  '',
  'N',
  '',
  '',
  '',
  '',
  '',
  'b',
  '0',
  '',
  '*',
  'V',
  ':',
  '',
  '',
  '',
  'y',
  '',
  '\x02',
  '',
  '',
  '\r',
  'm',
  '',
  '.',
  '',
  '',
  'w',
  '\x14',
  '\x15',
  '',
  '',
  '\x1C',
  '\x8F',
  '',
  '',
  '{',
  '\v',
  '',
  'c',
  '5',
  ' ',
  '',
  'f',
  '',
  '\x7F',
  '',
  '',
  '}',
  'E',
  '',
  '[',
  '',
  '',
  '8',
  '\x13',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  'X',
  '\x03',
  'n',
  'e',
  '',
  '1',
  '',
  '',
  '',
  '',
  'F',
  'l',
  '',
  '\x0F',
  'Q',
  '~',
  '\n',
  's',
  '',
  'o',
  'h',
  '',
  '\x1E',
  '',
  '',
  'B',
  '',
  '',
  '\x8D',
  'I',
  '_',
  '',
  'Y',
  '',
  '\x11',
  ',',
  '\b',
  '\x17',
  '',
  '',
  '9',
  'G',
  '',
  '',
  '',
  '',
  '',
  'S',
  '\x04',
  'U',
  '&',
  '',
  '?',
  'g',
  'K',
  'M',
  '',
  'z',
  '',
  '^',
  '%',
  '',
  '',
  '',
  '',
  '`',
  '\"',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '=',
  '',
  '',
  '\x10',
  '\0',
  'T',
  '',
  '',
  '',
  '',
  'q',
  '',
  '',
  'C',
  'H',
  '-',
  'J',
  'O',
  '<',
  '\x16',
  '\t',
  '',
  '>',
  '',
  't',
  'v',
  '',
  '/',
  '',
  'D',
  '',
  'a',
  '',
  '\x05',
  '',
  '',
  '',
  'R',
  '\a',
  '',
  '',
  '',
  '$',
  '',
  '\\',
  '\x19',
  '',
  '2',
  'A',
  'd',
  '7',
  '',
  '',
  '3',
  '',
  '\x01',
  'L',
  '',
  '+',
  '',
  'x',
  '',
  'P',
  '4',
  '(',
  '',
  '\x0E',
  '',
  '',
  'k',
  '',
  '',
  ';',
  '\x90',
  '',
  '',
  '\x18',
  'p',
  '',
  '',
  '',
  'W',
  'C',
  '\x02',
  '',
  '',
  '5',
  '',
  '',
  '',
  'e',
  'R',
  '[',
  '',
  '?',
  '&',
  '',
  '',
  '',
  '',
  '',
  'p',
  'm',
  '\x16',
  '+',
  '',
  '\n',
  '0',
  'U',
  'P',
  '',
  '',
  '<',
  '\x06',
  'h',
  '',
  '*',
  '$',
  'I',
  '',
  '',
  '',
  'u',
  '',
  '\a',
  '\b',
  '',
  'c',
  '\0',
  '',
  '',
  '',
  '\x1D',
  ' ',
  '',
  'K',
  't',
  '',
  '',
  '\x1A',
  '\x8F',
  'Q',
  '_',
  'x',
  '',
  'g',
  'A',
  '',
  '>',
  'N',
  '\x7F',
  '',
  '\x81',
  ')',
  '\x1B',
  '\x1F',
  '',
  '',
  '\x9D',
  '',
  '',
  '(',
  '1',
  '\x04',
  '',
  '',
  '!',
  'V',
  '',
  '',
  'l',
  '6',
  'T',
  ':',
  '',
  '',
  '^',
  '',
  '4',
  '',
  '\'',
  '',
  '\t',
  '',
  '',
  '',
  '',
  '',
  '/',
  'H',
  's',
  '',
  '',
  '',
  '@',
  '',
  '3',
  '',
  '=',
  '',
  'f',
  '',
  '',
  '7',
  '',
  '\x0E',
  'D',
  '',
  'B',
  '',
  '\x8D',
  '',
  'n',
  '\x03',
  '8',
  'E',
  'i',
  'J',
  '\\',
  'M',
  '\x11',
  '',
  '\x13',
  'd',
  '',
  '',
  '',
  '',
  '`',
  '',
  '',
  '',
  '',
  '',
  'O',
  'q',
  '',
  '',
  'S',
  'y',
  '2',
  '{',
  ']',
  '',
  '',
  '\x05',
  '',
  '',
  '',
  '',
  '',
  '|',
  '',
  '\f',
  '',
  '\x14',
  '\"',
  '\v',
  '.',
  '',
  'k',
  '',
  '\x19',
  'z',
  'Y',
  '',
  '',
  'w',
  '',
  '9',
  'F',
  'a',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'X',
  '',
  '',
  '\x90',
  '',
  'G',
  'L',
  '',
  '\r',
  'Z',
  '',
  '',
  '\x12',
  '\x1E',
  '',
  '}',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '',
  ',',
  'o',
  '%',
  '',
  '',
  '',
  'b',
  'j',
  '\x01',
  '',
  '',
  ';',
  '-',
  '',
  '\x17',
  '~',
  '\x10',
  'v',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '\x0F',
  '\x1C',
  'r',
  '\xFF',
  '',
  '#',
  'S',
  'H',
  'M',
  '>',
  'a',
  'F',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  'k',
  '[',
  '',
  '',
  '',
  '',
  '',
  'o',
  '6',
  '',
  'r',
  '',
  '',
  'C',
  'v',
  'W',
  '',
  ';',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '^',
  '4',
  '',
  '+',
  '',
  'n',
  '',
  '',
  '\'',
  '',
  '$',
  'x',
  '\x90',
  '',
  '',
  '\x10',
  'b',
  '\x8F',
  '',
  'z',
  '\x18',
  '',
  'Z',
  '\x0E',
  '',
  '',
  '\x1C',
  '',
  '',
  '',
  '\t',
  '\x13',
  '',
  '}',
  '',
  '',
  'm',
  'y',
  '',
  '',
  '\x1B',
  'i',
  'O',
  'g',
  '',
  '\a',
  'G',
  ' ',
  '',
  'V',
  '',
  'L',
  '',
  '%',
  '\"',
  '',
  'R',
  '_',
  '#',
  '',
  '',
  '\\',
  '',
  '',
  'c',
  '~',
  'A',
  '',
  '\x1A',
  '\v',
  '',
  'B',
  '',
  '',
  '',
  '',
  '\n',
  '',
  '',
  '7',
  'j',
  'N',
  '',
  'e',
  '',
  ':',
  'u',
  '',
  '',
  '0',
  'J',
  '\x14',
  '',
  'I',
  '',
  'U',
  'f',
  '',
  '@',
  'E',
  '',
  '',
  '\f',
  '\b',
  '\x12',
  '\x1D',
  '8',
  '',
  '\x7F',
  '',
  '\x1F',
  '',
  ')',
  'P',
  '',
  '\x04',
  '\x19',
  '',
  's',
  '',
  '\x16',
  '&',
  '',
  '\x03',
  '?',
  '\x11',
  '',
  'p',
  '/',
  '\x1E',
  '5',
  '1',
  '',
  '',
  '',
  '\x9D',
  '*',
  '',
  '\x05',
  '-',
  'Q',
  'w',
  '',
  '',
  'd',
  '<',
  '\x01',
  'Y',
  't',
  '',
  '',
  '\x8D',
  '\xFF',
  '',
  '',
  '',
  '=',
  '.',
  '9',
  '',
  '',
  '',
  ']',
  '',
  'h',
  '',
  '\0',
  '\x06',
  '{',
  '',
  '',
  '',
  '\r',
  '\x02',
  '',
  '',
  '2',
  '',
  '!',
  '',
  '`',
  'X',
  '',
  '',
  '',
  'l',
  '',
  ',',
  '(',
  'T',
  '\x0F',
  '',
  '',
  '',
  'K',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'q',
  '3',
  '',
  '',
  '',
  '',
  '|',
  'D',
  '',
  '',
  '\x81',
  '',
  '',
  '.',
  '',
  '',
  'O',
  ':',
  '3',
  '\r',
  'c',
  ' ',
  'Y',
  '',
  '',
  '',
  '',
  '',
  'g',
  'F',
  '',
  'L',
  '',
  '\"',
  '',
  'T',
  '',
  '',
  '\x0F',
  '',
  '[',
  '',
  '\f',
  '',
  '\x01',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  ']',
  'X',
  '',
  'n',
  '',
  '\x9D',
  '',
  '{',
  '',
  '',
  '',
  '',
  '5',
  '',
  '',
  '1',
  'R',
  '_',
  '\x18',
  '',
  '',
  '',
  '',
  '',
  'C',
  '',
  '#',
  '',
  'E',
  'G',
  '\x8F',
  '~',
  'J',
  'a',
  '',
  '',
  'N',
  '',
  '\\',
  '',
  '=',
  '',
  '',
  'r',
  '',
  'I',
  '\x19',
  '',
  'P',
  '',
  '\b',
  '\n',
  '',
  '',
  'u',
  '*',
  '',
  '|',
  '',
  '\x1D',
  '',
  'h',
  '\x90',
  'q',
  'b',
  'Z',
  '(',
  '\x16',
  '',
  '',
  '\t',
  'W',
  '!',
  'D',
  '',
  '',
  '',
  '',
  '',
  'l',
  ',',
  '',
  '',
  'i',
  '\x81',
  '4',
  '',
  'm',
  'y',
  '\x15',
  '',
  '',
  'k',
  '',
  '\a',
  'v',
  '\x04',
  'K',
  '',
  '',
  '',
  '',
  '',
  '\x05',
  '',
  '',
  '',
  '8',
  'j',
  '',
  '^',
  't',
  '',
  '\x0E',
  'o',
  '',
  '\x13',
  '',
  '',
  '<',
  '>',
  '6',
  '',
  '',
  '\x10',
  '\x8D',
  '',
  'e',
  '\x1C',
  '',
  '',
  '',
  '',
  '0',
  '\'',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '\x11',
  ')',
  '',
  '&',
  '',
  'M',
  '\v',
  '',
  'U',
  '%',
  '',
  '2',
  '',
  '',
  '',
  '',
  '9',
  '\x14',
  'S',
  '',
  'z',
  '+',
  '\x17',
  '',
  's',
  '',
  '',
  '',
  '',
  '',
  '\x06',
  '',
  '$',
  '/',
  'f',
  '-',
  '',
  '',
  '\x03',
  'B',
  '\x1B',
  '\x02',
  '}',
  'p',
  ';',
  '\x7F',
  'H',
  '',
  '',
  '\x1E',
  '\0',
  '7',
  '\x1A',
  'Q',
  '',
  'x',
  '',
  'd',
  '?',
  '@',
  '',
  'V',
  '\xFF',
  '',
  '',
  '',
  '',
  '',
  'w',
  'A',
  '`',
  '\x02',
  '\x9D',
  'u',
  'e',
  '',
  '',
  '\x14',
  '',
  '\n',
  '\x06',
  '9',
  '',
  '\x16',
  '',
  '',
  '',
  '',
  '',
  '',
  '`',
  '[',
  '',
  '',
  '',
  '',
  'J',
  '',
  '',
  '3',
  '',
  'c',
  'f',
  '<',
  '\v',
  '',
  '\'',
  '',
  '0',
  '',
  ']',
  '',
  '',
  's',
  '',
  '\x19',
  '\x0F',
  '',
  'C',
  '',
  '\"',
  '',
  '',
  '',
  '\x17',
  '|',
  'l',
  '',
  'K',
  '',
  '',
  '\a',
  '',
  'O',
  '',
  '\r',
  '',
  '',
  '\x11',
  '',
  'k',
  '_',
  '\x1A',
  '\x10',
  '',
  '',
  '',
  '',
  '(',
  '',
  '',
  '',
  '',
  'W',
  'F',
  'v',
  '',
  'p',
  '',
  '{',
  '',
  '7',
  '\x01',
  '',
  '',
  '&',
  ' ',
  '!',
  '',
  '@',
  '>',
  'T',
  '',
  '',
  '',
  '',
  '/',
  '\x1C',
  '',
  '',
  '',
  '',
  '1',
  '\t',
  '',
  '',
  '',
  '',
  't',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  '\x90',
  '',
  'X',
  '2',
  'L',
  '',
  '5',
  '',
  '',
  '',
  '-',
  '\x7F',
  '\x05',
  '%',
  '',
  '',
  'j',
  '$',
  'I',
  ')',
  '',
  '?',
  '',
  '',
  '',
  '',
  '+',
  'h',
  '',
  'B',
  'm',
  '',
  '\b',
  'D',
  '',
  'y',
  'S',
  'a',
  '',
  'q',
  '',
  '',
  '',
  '4',
  '',
  '~',
  '',
  '\f',
  '.',
  'd',
  'z',
  'o',
  'G',
  '\\',
  '',
  '',
  'b',
  '',
  '',
  '',
  'x',
  '\x1E',
  '',
  '\x12',
  '\x1F',
  'P',
  '',
  ':',
  '',
  '\x03',
  'g',
  'N',
  'H',
  '',
  '',
  '=',
  '}',
  'Z',
  ';',
  '',
  '',
  '8',
  'i',
  '',
  '^',
  '',
  '',
  '',
  'M',
  '',
  '*',
  ',',
  '',
  '\x81',
  '',
  '\x1D',
  '',
  'n',
  'U',
  '\x8F',
  '\x0E',
  'V',
  '',
  'Y',
  '',
  'A',
  '\x04',
  'E',
  '',
  'w',
  '\x13',
  '',
  '#',
  '',
  '\xFF',
  '',
  '6',
  '',
  '\0',
  '\x8D',
  'R',
  '',
  'Q',
  'r',
  '',
  '',
  't',
  ']',
  'g',
  '',
  '',
  '',
  '}',
  '\x1A',
  '',
  '',
  '',
  '|',
  '',
  '',
  '',
  '',
  '',
  '',
  '@',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  'v',
  '\x8F',
  '',
  '',
  '',
  '4',
  'q',
  '',
  '\x02',
  'x',
  '\x05',
  'F',
  '',
  '\x15',
  '',
  'm',
  'G',
  '',
  'X',
  '',
  'V',
  '1',
  '',
  'j',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '',
  'c',
  '\x8D',
  '\x1D',
  '',
  '',
  'd',
  '',
  '',
  'o',
  '\x90',
  '',
  '',
  'p',
  '',
  '',
  '2',
  '',
  '',
  '',
  'u',
  '\x0E',
  'M',
  '',
  '\x10',
  '',
  'r',
  '',
  '*',
  '',
  '',
  'y',
  '',
  '',
  '\0',
  '\x1C',
  '',
  '\x12',
  '$',
  '\x81',
  '',
  'f',
  'I',
  '[',
  'K',
  '\a',
  '',
  '',
  's',
  'H',
  'Q',
  'N',
  '\x1E',
  '',
  '',
  '',
  '-',
  'l',
  '\x06',
  '',
  '',
  'b',
  '\x16',
  '~',
  '',
  '{',
  '\x11',
  '',
  '0',
  '/',
  '',
  '\x9D',
  '',
  '\n',
  '',
  'T',
  'a',
  '',
  'J',
  '',
  '\x7F',
  '',
  '\v',
  'w',
  '',
  ':',
  'h',
  '',
  'z',
  'i',
  '.',
  '\x13',
  '\xFF',
  '5',
  '\x01',
  '',
  '',
  '<',
  '',
  '\x18',
  'U',
  '',
  '',
  'C',
  '',
  '=',
  '\x14',
  '',
  '',
  '',
  'D',
  '',
  'B',
  '\x19',
  '',
  ',',
  '6',
  'E',
  '',
  '',
  '',
  '\x03',
  '',
  '!',
  '',
  '',
  '`',
  'n',
  '\x17',
  '\'',
  '9',
  '',
  '',
  'Y',
  '',
  'W',
  '',
  '&',
  '\\',
  'Z',
  'P',
  'S',
  '',
  '',
  'A',
  '',
  '_',
  '',
  '\x04',
  '\"',
  '#',
  ')',
  'O',
  '',
  '7',
  '',
  '',
  '',
  '',
  '',
  '8',
  '',
  '',
  '',
  '%',
  '\x1B',
  '',
  ';',
  'L',
  '',
  'R',
  '',
  '3',
  '\f',
  '',
  '',
  '\x0F',
  '\t',
  '',
  '^',
  ' ',
  'e',
  '',
  '\r',
  '',
  '',
  '',
  '',
  '',
  '(',
  '>',
  '+',
  '?',
  '',
  '',
  '',
  'k',
  '}',
  's',
  '',
  'Q',
  'm',
  '',
  'U',
  '#',
  'g',
  '\x01',
  '',
  '\x02',
  '\x18',
  'G',
  '\x15',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  '',
  '\x9D',
  '',
  'F',
  '',
  'Y',
  '&',
  '',
  '\xFF',
  '',
  '',
  '',
  '',
  '',
  'B',
  '\x05',
  '',
  '',
  '\b',
  '\r',
  '.',
  '\x1D',
  'N',
  '',
  'M',
  'p',
  '\x16',
  '',
  '_',
  'q',
  '[',
  '\'',
  'T',
  '',
  'R',
  '',
  '*',
  '',
  'c',
  '',
  '',
  '(',
  '\x1B',
  '\x04',
  '',
  '',
  'o',
  '',
  '',
  'b',
  'E',
  'h',
  '',
  '',
  '\x90',
  '',
  '\x03',
  'v',
  'D',
  '',
  '',
  '',
  'f',
  '',
  '',
  '',
  ';',
  '\x8D',
  'u',
  '\x10',
  '',
  '3',
  '',
  '',
  'n',
  '',
  '\x12',
  'I',
  '',
  '6',
  '\x06',
  '',
  '',
  '{',
  '\x14',
  '',
  '2',
  '',
  'V',
  '@',
  '',
  '',
  'K',
  '\x1F',
  '\a',
  '',
  '\\',
  'j',
  '',
  '',
  '',
  '',
  '',
  'a',
  'O',
  '',
  '\x0F',
  'C',
  '',
  '',
  '',
  '',
  '',
  '',
  ']',
  '',
  '',
  '',
  '',
  '',
  '4',
  '',
  'S',
  '8',
  '',
  '\x11',
  '=',
  '\x13',
  '\x19',
  '9',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  'W',
  '',
  '',
  '\0',
  '%',
  '^',
  '',
  'l',
  '',
  '',
  '5',
  'x',
  '',
  'A',
  'w',
  '|',
  'r',
  '\x17',
  '>',
  '',
  'e',
  'y',
  '',
  '',
  '',
  '\x1A',
  '!',
  '',
  '<',
  '?',
  '',
  '7',
  '',
  '',
  '\x1C',
  't',
  '1',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\t',
  '\v',
  '`',
  '\x81',
  '',
  '\x1E',
  '',
  'i',
  '\n',
  '',
  '',
  'Z',
  '',
  '',
  'z',
  'H',
  '0',
  '',
  '\f',
  '',
  'X',
  '',
  '',
  '',
  'k',
  '',
  ':',
  '',
  '',
  '+',
  '',
  '',
  '/',
  '\"',
  '',
  'd',
  'L',
  ' ',
  '~',
  '',
  ',',
  '',
  '',
  ')',
  'J',
  '',
  '-',
  '$',
  '',
  '',
  'P',
  '\x8F',
  '',
  '',
  '\x15',
  '\x1E',
  '',
  '-',
  'F',
  '',
  '\r',
  'Q',
  '',
  '',
  'e',
  '',
  '',
  '\xFF',
  '',
  '',
  '8',
  '4',
  '1',
  '\x1B',
  '',
  '\"',
  '',
  '_',
  'f',
  '',
  '\x02',
  '\x13',
  '',
  '',
  '',
  '',
  'D',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  '\x14',
  '',
  '\x12',
  '\x10',
  'c',
  '0',
  'm',
  '\0',
  'U',
  '',
  '',
  '\x16',
  '',
  '',
  '',
  'v',
  'J',
  '',
  '\t',
  '',
  '',
  '',
  '',
  '!',
  '',
  '',
  'j',
  'X',
  'd',
  'k',
  '',
  '',
  '',
  'B',
  'q',
  '\x1A',
  ']',
  '\a',
  '\x01',
  'O',
  ',',
  '\x7F',
  'S',
  '[',
  '',
  '',
  '',
  'H',
  'l',
  'I',
  '',
  '5',
  '',
  '\x19',
  '',
  '',
  '`',
  '',
  '',
  '',
  '',
  'u',
  '',
  'M',
  '',
  'a',
  '',
  '',
  '?',
  'i',
  '',
  '*',
  '',
  '',
  '',
  '',
  't',
  '',
  '\x81',
  '\b',
  '',
  '\x06',
  '',
  '',
  'x',
  '$',
  '',
  '',
  'K',
  '+',
  '',
  '',
  '3',
  '\f',
  '',
  '\\',
  '\x03',
  '',
  '|',
  '\x11',
  '&',
  '',
  '{',
  '',
  '',
  '',
  '',
  '',
  'N',
  '',
  '',
  'R',
  '',
  '',
  '',
  '',
  'E',
  '',
  '',
  '\x18',
  '',
  '#',
  'L',
  '',
  '',
  '',
  '\n',
  '^',
  '',
  'y',
  '\x04',
  '',
  '',
  '>',
  '',
  '',
  '',
  '',
  'Z',
  '.',
  '',
  '\x05',
  'C',
  '',
  '~',
  '@',
  '',
  '}',
  '',
  'g',
  '(',
  '\x0F',
  'W',
  '\x17',
  'h',
  '',
  '',
  '\v',
  'P',
  '',
  '',
  'p',
  'z',
  'o',
  '/',
  '',
  'V',
  '\x0E',
  '\x8F',
  ')',
  '',
  '\x8D',
  '',
  '9',
  '',
  'Y',
  '',
  '',
  '',
  '2',
  's',
  '',
  'w',
  '',
  '\x1C',
  '\x1D',
  'A',
  ' ',
  '7',
  '',
  ':',
  'n',
  '\x90',
  '',
  '<',
  '%',
  ';',
  'G',
  '',
  '',
  'T',
  '',
  '\'',
  '\x1F',
  'r',
  'b',
  '',
  '',
  '=',
  '',
  '',
  '6',
  '',
  '',
  '',
  'K',
  '\x17',
  '',
  '%',
  '',
  '',
  '\x8F',
  '',
  '',
  '',
  '(',
  'm',
  ',',
  '',
  '`',
  '',
  '\x90',
  '',
  '',
  'b',
  '',
  'W',
  '$',
  'N',
  '\x06',
  '\x0F',
  '\x14',
  '',
  '',
  '=',
  '\a',
  '',
  '\x11',
  '',
  '\x10',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '/',
  '\0',
  'J',
  '',
  'F',
  '',
  '',
  'e',
  '',
  '',
  'U',
  'n',
  '',
  '\n',
  'L',
  '',
  'p',
  '#',
  ')',
  'j',
  '',
  'T',
  't',
  '>',
  '',
  '\x9D',
  'D',
  'q',
  '',
  '\x1B',
  '9',
  '<',
  'H',
  '',
  '',
  '',
  'V',
  '',
  'z',
  '',
  'l',
  '',
  '6',
  'd',
  '}',
  '',
  '~',
  '',
  'E',
  'k',
  '\x19',
  '',
  '',
  '8',
  '\x04',
  's',
  '',
  '',
  '\x18',
  '',
  '',
  'Y',
  '',
  '',
  '',
  '',
  '',
  ';',
  '',
  'o',
  '',
  '',
  'M',
  '',
  '',
  '\v',
  '',
  '4',
  '',
  '\x1E',
  '',
  '',
  '',
  '\x81',
  'h',
  '',
  '',
  'i',
  '3',
  '',
  '[',
  'x',
  '',
  '',
  '',
  '7',
  '',
  '',
  '',
  '\x1F',
  '-',
  '\x16',
  '',
  '^',
  '',
  '\x03',
  '',
  '',
  '\x15',
  '_',
  '?',
  '',
  '',
  '',
  'w',
  '',
  'Z',
  'g',
  '',
  '|',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '1',
  '',
  '\x1A',
  'O',
  '',
  '',
  '',
  '\x12',
  '',
  'y',
  '',
  'C',
  '5',
  'G',
  'X',
  '+',
  'c',
  '',
  '',
  '\xFF',
  ':',
  '\x1C',
  '',
  '',
  'S',
  '',
  '',
  'u',
  '0',
  '',
  '@',
  '&',
  '{',
  'A',
  '2',
  '\t',
  'r',
  '!',
  '',
  '',
  '\f',
  '',
  '\x13',
  'B',
  '.',
  '',
  '\"',
  '\x7F',
  ']',
  '\x05',
  '\\',
  ' ',
  '',
  '',
  '*',
  '',
  '\x02',
  '\r',
  '',
  '',
  '',
  '\x8D',
  '',
  'Q',
  '',
  '',
  'I',
  'f',
  '\b',
  '',
  '',
  '\x1D',
  'v',
  '\'',
  '',
  'a',
  '',
  '',
  'R',
  '\x01',
  '',
  'P',
  '',
  '\x8F',
  '',
  '',
  '',
  '',
  '',
  '',
  ',',
  '\n',
  '',
  'N',
  '',
  '\x13',
  'f',
  '',
  '\x11',
  '',
  'q',
  '',
  'W',
  'A',
  '',
  '',
  '',
  '\x1F',
  'u',
  '',
  '',
  '',
  '\xFF',
  ']',
  '>',
  'I',
  '\x1E',
  '',
  '',
  '1',
  '',
  '',
  '',
  '<',
  'X',
  '',
  '',
  'D',
  '',
  'v',
  '\x02',
  '',
  '\x0E',
  '',
  '',
  '9',
  '',
  '',
  '2',
  'C',
  'j',
  'V',
  '\x1D',
  '\x17',
  '\x19',
  '',
  '~',
  '',
  '',
  'l',
  '',
  '\x1A',
  '',
  '\a',
  '',
  'c',
  '{',
  '',
  '\x14',
  '.',
  '%',
  'p',
  '',
  'e',
  'o',
  '',
  '',
  '',
  '',
  'm',
  '',
  '\x05',
  'r',
  'U',
  '',
  '\x10',
  '',
  '',
  'O',
  'F',
  '',
  '',
  'S',
  '',
  'T',
  'a',
  '`',
  '5',
  'J',
  '\x01',
  '',
  'K',
  '/',
  '\x12',
  '',
  '\f',
  '!',
  '',
  '',
  '',
  '',
  'Z',
  '',
  '',
  '8',
  '',
  '',
  '',
  '',
  '',
  '\t',
  '\0',
  'k',
  '}',
  '',
  '\x90',
  'd',
  '',
  '|',
  '\x15',
  'M',
  '\x04',
  'n',
  '',
  'B',
  '',
  '@',
  '',
  '',
  '?',
  '\r',
  'R',
  '',
  '',
  '',
  '+',
  '',
  ':',
  '[',
  '',
  '&',
  '',
  '',
  '',
  'z',
  '\x0F',
  '',
  '_',
  '',
  '=',
  '',
  '',
  'P',
  'y',
  '',
  '\b',
  '',
  '',
  '\x1C',
  '(',
  '',
  '',
  '\x9D',
  '',
  '6',
  '',
  '',
  '0',
  'G',
  ';',
  'h',
  '',
  '',
  '',
  'Q',
  'i',
  'w',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '',
  '',
  '*',
  '\v',
  '\x03',
  '',
  '',
  't',
  '',
  '-',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '$',
  'E',
  '',
  '',
  '^',
  '',
  '',
  '',
  'Y',
  '',
  '\x81',
  '',
  '\\',
  '3',
  ')',
  '7',
  '',
  '4',
  's',
  '\x18',
  '\x16',
  '\x06',
  'x',
  'L',
  ' ',
  'g',
  '\x8D',
  '\x7F',
  'b',
  '',
  'H',
  '',
  '\'',
  '\"',
  '',
  '',
  '#',
  '',
  '\x1C',
  '',
  '\f',
  '-',
  '',
  'N',
  '\a',
  '\v',
  '',
  '^',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  '',
  '\x1A',
  '=',
  'e',
  '',
  'T',
  '',
  '\n',
  '+',
  '',
  '',
  '',
  't',
  '\x8D',
  '\x13',
  '',
  '',
  '',
  '_',
  '',
  '',
  'I',
  '\x01',
  '\t',
  '',
  '',
  '',
  '',
  '',
  '',
  'C',
  'Q',
  '',
  '{',
  'D',
  ')',
  '',
  '',
  '',
  '',
  '4',
  '',
  '',
  '',
  '\x1E',
  '',
  '',
  'h',
  '`',
  'U',
  'm',
  '',
  '9',
  '',
  '',
  '0',
  '',
  '',
  '',
  '',
  'r',
  'G',
  '',
  '',
  '\'',
  '',
  '\x03',
  '$',
  '',
  '3',
  '',
  'X',
  '',
  'J',
  '',
  '',
  'M',
  '',
  'A',
  '}',
  '\x90',
  'p',
  '\x1B',
  'f',
  '\x10',
  '\x1D',
  '',
  'W',
  'P',
  '',
  '6',
  '',
  '1',
  '',
  '',
  '',
  'k',
  '',
  'l',
  '',
  '!',
  '',
  'F',
  '',
  '',
  'V',
  'H',
  '',
  '\0',
  '',
  '\x15',
  '',
  '',
  '\x1F',
  '',
  '',
  '&',
  'y',
  '',
  'g',
  'O',
  ':',
  '',
  '',
  '',
  ']',
  '',
  'S',
  '',
  '(',
  'x',
  '.',
  '\x16',
  '',
  '',
  '',
  '@',
  '',
  '\x0E',
  '',
  '',
  '',
  'R',
  '',
  '5',
  '',
  '2',
  '\x02',
  '',
  'i',
  'j',
  '*',
  '/',
  '',
  'u',
  '',
  '',
  '',
  'z',
  '',
  'E',
  'd',
  '\x04',
  '\x12',
  '\"',
  '',
  '',
  'Z',
  '',
  '',
  '',
  '',
  '\x8F',
  '~',
  '',
  '|',
  '',
  '',
  '\x9D',
  '',
  'L',
  '\x18',
  ',',
  '>',
  '\x14',
  '\b',
  'Y',
  'c',
  '',
  '',
  '',
  '',
  '\xFF',
  '?',
  '\x05',
  '\x17',
  '\x7F',
  '',
  '',
  '8',
  '%',
  '\x81',
  '',
  '\r',
  '',
  's',
  '',
  '',
  '\x0F',
  '',
  'B',
  '\x06',
  '',
  '',
  '<',
  '',
  '',
  '',
  'w',
  'q',
  ';',
  '',
  '',
  '',
  'b',
  '\\',
  '',
  'n',
  '',
  'v',
  'a',
  'o',
  '7',
  '#',
  '[',
  'K',
  '\x19',
  ' ',
  '',
  '',
  '',
  '',
  '^',
  't',
  'D',
  '',
  '',
  '',
  '',
  '7',
  '\x1C',
  '?',
  'M',
  '',
  '\x17',
  '#',
  'i',
  '',
  '',
  '\\',
  'c',
  'S',
  '\x1B',
  '0',
  '\x18',
  '',
  'l',
  '/',
  '',
  'Y',
  'K',
  'Q',
  '\x1E',
  '',
  '',
  ')',
  '\x01',
  '\x1F',
  '',
  '\x10',
  '',
  'a',
  '',
  '',
  '',
  '\x15',
  '\x13',
  '*',
  '',
  'C',
  '',
  '',
  '\f',
  '\x03',
  '',
  ']',
  '\0',
  '',
  '&',
  '',
  '',
  '',
  'k',
  '',
  '',
  '',
  '',
  '',
  '\x16',
  '',
  ',',
  '',
  '.',
  'O',
  '',
  '',
  '',
  '',
  '<',
  '\x9D',
  '',
  'n',
  '',
  '',
  '',
  ' ',
  'y',
  '2',
  'j',
  '$',
  'B',
  '\x1A',
  '9',
  '',
  'v',
  '',
  '',
  '\'',
  '',
  '',
  '[',
  'N',
  '@',
  '8',
  'X',
  '',
  '\v',
  '',
  '\x0E',
  '',
  '',
  '5',
  '',
  '',
  '',
  '\x8F',
  'U',
  '',
  '',
  '',
  'Z',
  '_',
  '\x12',
  '6',
  '',
  '{',
  '',
  '',
  '\t',
  '',
  '',
  '',
  'R',
  'q',
  '',
  '',
  'f',
  '',
  '',
  'o',
  'A',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  'x',
  '',
  '',
  '`',
  '',
  's',
  'z',
  '',
  '+',
  '\x1D',
  '',
  '\b',
  '',
  'T',
  '',
  '',
  'L',
  '!',
  '}',
  'E',
  'P',
  '',
  '',
  '',
  '',
  'p',
  '\x06',
  'w',
  '',
  '\r',
  '',
  '',
  '\a',
  '',
  '~',
  '',
  '',
  '',
  'u',
  'd',
  'W',
  'e',
  '',
  'H',
  '\x11',
  '\n',
  '',
  '',
  'I',
  '\"',
  'h',
  ':',
  '',
  '',
  '',
  '',
  '\x81',
  '(',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '',
  '\x8D',
  '\x90',
  'V',
  'J',
  '',
  '',
  '>',
  'm',
  '',
  'F',
  '4',
  'G',
  'b',
  '',
  '\xFF',
  '|',
  '',
  '',
  '',
  '%',
  '',
  '',
  '-',
  '3',
  '',
  'g',
  '\x7F',
  '',
  'r',
  '\x0F',
  '',
  '\x02',
  '\x14',
  '',
  ';',
  '',
  '1',
  '',
  '\x04',
  '\x05',
  '',
  'w',
  '<',
  '',
  '%',
  '',
  '',
  'g',
  '/',
  '',
  '',
  '',
  'f',
  '',
  '',
  '',
  '\x15',
  '\x8F',
  '\x12',
  '',
  '\"',
  '',
  '',
  '}',
  'j',
  '\x03',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x81',
  'G',
  '&',
  '',
  '',
  '',
  'Q',
  '\xFF',
  '',
  '',
  '',
  '>',
  '',
  '',
  '',
  '',
  '',
  '',
  '`',
  '',
  '\x1F',
  'U',
  'O',
  '=',
  '',
  '!',
  'u',
  'n',
  '\'',
  '',
  '3',
  '',
  '2',
  '',
  '',
  '\f',
  '\b',
  '',
  'L',
  '',
  'o',
  '',
  '',
  '*',
  '',
  '',
  '',
  '_',
  '\x0F',
  '',
  't',
  '',
  '\x9D',
  '1',
  's',
  '\v',
  '\x7F',
  ')',
  'C',
  '',
  'h',
  '',
  '',
  'F',
  'I',
  '',
  '',
  '',
  '|',
  '',
  '\x1B',
  '-',
  '',
  '\t',
  '',
  'a',
  '5',
  '',
  '',
  'S',
  ';',
  'p',
  'T',
  '',
  'r',
  'D',
  '\x19',
  '~',
  '\x13',
  '',
  'z',
  'c',
  ':',
  'R',
  'v',
  '\x05',
  '',
  '?',
  'i',
  '$',
  '',
  ',',
  '',
  '8',
  '\x16',
  '\x14',
  '{',
  '',
  '',
  '',
  'J',
  '',
  '\x0E',
  '^',
  'V',
  '\x1C',
  '',
  '',
  '',
  '\x1A',
  '',
  '',
  '',
  '[',
  '',
  '',
  '',
  '6',
  'W',
  '',
  '',
  'B',
  '\x8D',
  '(',
  '',
  '',
  'd',
  '\r',
  '',
  'k',
  '',
  'e',
  '',
  '\x06',
  'x',
  '\0',
  'P',
  '',
  'M',
  '7',
  'E',
  '\x90',
  '',
  'Y',
  '\x18',
  '',
  '#',
  '',
  '',
  '',
  ' ',
  '',
  '+',
  '0',
  '',
  '\x1D',
  '',
  'm',
  '',
  '\x10',
  'N',
  ']',
  '',
  '',
  '\x17',
  '',
  'b',
  '',
  '',
  '\\',
  '',
  '',
  '4',
  '',
  '\n',
  '',
  'A',
  'l',
  '',
  'X',
  '9',
  'H',
  '',
  '@',
  '\x11',
  '\x02',
  '',
  '',
  'q',
  '\x01',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\a',
  'y',
  '',
  '\x04',
  'Z',
  '',
  'K',
  '\x1E',
  '',
  '.',
  '',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  '\x05',
  '\x8D',
  '{',
  '\x8F',
  'p',
  'd',
  '',
  'u',
  '\x14',
  '',
  '',
  '',
  '\x04',
  '',
  'g',
  '',
  'M',
  '\x17',
  '',
  ';',
  ')',
  '',
  '',
  '',
  '',
  '',
  '',
  'e',
  '',
  '\x02',
  '',
  'w',
  '\v',
  '',
  '',
  '',
  '^',
  '6',
  '\x19',
  '',
  '0',
  '\x7F',
  '<',
  '',
  '\x15',
  '',
  '',
  '`',
  '',
  '',
  '',
  'i',
  'N',
  'l',
  '1',
  '',
  '\n',
  '\r',
  '%',
  '\x13',
  ':',
  '',
  '',
  '\x03',
  '_',
  '\0',
  '',
  '',
  'a',
  '',
  '2',
  'y',
  '#',
  '',
  '\x9D',
  'q',
  'E',
  'F',
  '\x1E',
  ']',
  '',
  '',
  '',
  '',
  '',
  '',
  '|',
  '',
  'Q',
  '4',
  '',
  '',
  '',
  '',
  '~',
  '\x1C',
  '\x11',
  '',
  '',
  '\f',
  '\t',
  '',
  '',
  '',
  '',
  'G',
  '8',
  '',
  '*',
  'Y',
  '>',
  'h',
  '',
  '',
  '\x16',
  '.',
  '\x01',
  't',
  '5',
  'V',
  'x',
  'o',
  '',
  '(',
  '',
  'k',
  'j',
  '',
  'K',
  '',
  '',
  '',
  '!',
  'U',
  '/',
  '',
  '',
  'n',
  'z',
  '',
  '',
  '3',
  'P',
  '',
  'f',
  ' ',
  '\x1A',
  '',
  '',
  '',
  'I',
  'D',
  '?',
  '\"',
  '',
  '',
  '',
  '@',
  'W',
  '',
  '',
  '',
  '+',
  '',
  'L',
  '\x18',
  '',
  '',
  '',
  'X',
  '',
  '',
  'r',
  '',
  '',
  'T',
  '',
  '',
  '',
  '',
  'J',
  '',
  '',
  '&',
  '7',
  '',
  '',
  '\\',
  '\'',
  '\x0E',
  'm',
  '\b',
  '\x10',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '=',
  '}',
  '',
  'O',
  '',
  '',
  '',
  '\x90',
  '\x06',
  '9',
  '[',
  'v',
  '',
  '',
  '',
  '',
  'b',
  '\x0F',
  '',
  '',
  '',
  '',
  '',
  ',',
  'Z',
  '',
  '',
  '',
  '\x1D',
  '',
  'H',
  '',
  '',
  '-',
  '\a',
  'S',
  '',
  '',
  '',
  '$',
  'B',
  '',
  'R',
  '',
  '\x12',
  'C',
  '\x81',
  '',
  '',
  'c',
  '\x1F',
  's',
  'A',
  '',
  'q',
  '\b',
  '',
  '',
  ')',
  '',
  '9',
  'X',
  '',
  '',
  'U',
  'V',
  '',
  '$',
  '',
  '4',
  '\x14',
  '',
  '',
  '',
  '\x04',
  '',
  '8',
  '',
  '!',
  '',
  'L',
  '\x18',
  '',
  '',
  '',
  '',
  'd',
  '',
  '',
  'O',
  'c',
  '0',
  '\t',
  '',
  '\x8D',
  '',
  '',
  '',
  '',
  '\x1A',
  '',
  '',
  'P',
  'H',
  '',
  '',
  'm',
  '',
  '}',
  '',
  '\x01',
  '',
  '',
  '&',
  '/',
  '',
  '',
  '_',
  '\a',
  '\"',
  'I',
  'a',
  '',
  '',
  '',
  'o',
  '+',
  '\x9D',
  '',
  '6',
  '',
  '',
  '',
  '-',
  '',
  'u',
  '?',
  'y',
  '*',
  'j',
  'e',
  '',
  '\r',
  'f',
  '{',
  '.',
  '|',
  'v',
  '\xFF',
  '',
  '1',
  'Q',
  '',
  '\\',
  '',
  'Y',
  'b',
  '[',
  '\x1D',
  '',
  ']',
  '',
  '',
  '',
  '',
  'x',
  '',
  '\x0E',
  '',
  'S',
  '',
  '',
  'Z',
  '',
  '',
  '',
  '',
  'J',
  '%',
  '',
  '',
  '\n',
  'N',
  '\0',
  '\x1C',
  'C',
  '',
  '',
  '',
  '',
  'E',
  '\x1F',
  '\x11',
  '',
  '',
  '\x8F',
  ':',
  'r',
  '',
  '\f',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  '5',
  'T',
  '\x12',
  '',
  '^',
  '7',
  '',
  '',
  'B',
  '~',
  '',
  '',
  '',
  '',
  'K',
  '',
  '<',
  '',
  '\x1E',
  'W',
  '\x81',
  'p',
  'l',
  '\x15',
  '\x10',
  '',
  '',
  ';',
  '',
  'i',
  '(',
  '#',
  'M',
  'k',
  '>',
  '',
  '\x13',
  '`',
  '2',
  '',
  'A',
  '',
  '\x19',
  '',
  '',
  'n',
  '',
  '\x16',
  '',
  '',
  'h',
  'g',
  '3',
  'w',
  '',
  't',
  '\x0F',
  '',
  '\v',
  '',
  '=',
  '',
  '',
  '\x03',
  '',
  '',
  '',
  '',
  '',
  '\'',
  '',
  '',
  'z',
  '',
  '\x1B',
  '',
  '',
  '',
  '\x90',
  '',
  's',
  '',
  'F',
  '',
  '',
  '\x02',
  '',
  ',',
  'R',
  'D',
  'G',
  '',
  '',
  '\x06',
  ' ',
  '\x05',
  '',
  '@',
  '',
  '',
  '\x17',
  '',
  '',
  '*',
  '',
  'P',
  '',
  '\f',
  '\x1E',
  '',
  '\xFF',
  '',
  '',
  'g',
  '',
  '',
  '',
  '',
  '_',
  '1',
  '\n',
  '',
  'F',
  'j',
  '',
  '?',
  'p',
  '@',
  '',
  '\x0E',
  '',
  '',
  '',
  'h',
  'k',
  'Y',
  '',
  '',
  '',
  'i',
  '\x1D',
  '',
  '',
  '[',
  '',
  '',
  '',
  '\x17',
  '\x06',
  '',
  'a',
  'B',
  '\x01',
  '\x11',
  '',
  'x',
  'q',
  '',
  '',
  '',
  '\x19',
  '{',
  '',
  ']',
  '',
  '\x12',
  '',
  '',
  '',
  '\t',
  '',
  '',
  '|',
  '',
  '',
  'm',
  '',
  '\x03',
  '',
  '}',
  '\v',
  '',
  '\x18',
  '',
  '\b',
  '4',
  '',
  '',
  '',
  '',
  'W',
  '',
  '',
  'O',
  '',
  '',
  '8',
  '',
  '\a',
  '>',
  '\x7F',
  'w',
  '\x1C',
  '',
  '',
  '',
  'z',
  's',
  '',
  '',
  'y',
  'v',
  ' ',
  '\x0F',
  '2',
  '+',
  '',
  '!',
  '\x02',
  '\"',
  'e',
  '',
  '',
  '',
  '',
  '',
  '',
  'R',
  '9',
  'c',
  '',
  '\x16',
  '',
  '',
  '',
  '\x1B',
  '\x9D',
  '\x14',
  ',',
  '',
  '.',
  'o',
  '',
  '',
  '',
  '',
  '',
  '',
  'A',
  '\x1F',
  '$',
  '\x04',
  '',
  '',
  '',
  '',
  '<',
  '',
  'f',
  '\'',
  '7',
  '',
  '',
  '',
  '',
  '',
  '',
  'D',
  '',
  '',
  '',
  'Q',
  '',
  '',
  '',
  '\x15',
  '',
  '\x1A',
  ';',
  '',
  '',
  '=',
  '',
  '',
  '',
  ':',
  '',
  '`',
  '',
  '',
  '',
  'J',
  '',
  '',
  '',
  '',
  '/',
  '',
  '',
  'E',
  '&',
  'u',
  '\x05',
  '',
  '^',
  'L',
  'r',
  '\x90',
  '',
  '',
  '',
  '\0',
  '',
  '',
  '3',
  '\r',
  '-',
  '~',
  'H',
  'S',
  '',
  '\x8F',
  'N',
  'G',
  'd',
  'U',
  '#',
  '\x13',
  '',
  '5',
  'X',
  'I',
  '%',
  '(',
  'V',
  'C',
  'M',
  'T',
  '',
  ')',
  '',
  '',
  '',
  'Z',
  '',
  '\x8D',
  '0',
  '\\',
  'l',
  '',
  't',
  '6',
  '',
  'b',
  'K',
  '\x81',
  '\x10',
  '',
  'n',
  'N',
  '\x81',
  '',
  '\x8D',
  '\x1E',
  '',
  '\x01',
  'J',
  '',
  '',
  '$',
  'V',
  '~',
  '\0',
  '\xFF',
  '\"',
  'O',
  '5',
  '',
  'F',
  '\x1F',
  'f',
  '\x0E',
  '',
  '',
  '',
  '',
  '\x18',
  't',
  '\x17',
  '',
  '\x1A',
  'S',
  '\f',
  'd',
  '',
  '',
  '9',
  '<',
  '`',
  '',
  '=',
  '',
  '3',
  '',
  '',
  '\v',
  '',
  'Z',
  '',
  'M',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  '}',
  'X',
  '\'',
  '',
  'e',
  '\x19',
  '>',
  '',
  'q',
  '',
  '',
  '@',
  '',
  '',
  'D',
  '+',
  'v',
  '',
  'j',
  '\x16',
  '',
  '',
  'p',
  '\x02',
  '',
  'H',
  '\x1D',
  '',
  '',
  '',
  '',
  'g',
  '',
  '&',
  '',
  'w',
  '',
  'n',
  '',
  'G',
  '',
  '',
  ';',
  '|',
  '',
  '',
  '',
  '',
  '%',
  '',
  '',
  'I',
  '',
  'C',
  '',
  '',
  'c',
  'a',
  '4',
  'y',
  '\x14',
  '',
  '',
  '\r',
  '',
  '',
  '',
  '\n',
  's',
  '\x1B',
  'l',
  '',
  'T',
  '',
  '',
  '',
  '{',
  ':',
  '',
  '\x13',
  '*',
  '',
  'z',
  '',
  '[',
  '\x7F',
  'B',
  '',
  '_',
  '',
  '',
  '',
  '1',
  '',
  '',
  'b',
  'r',
  '',
  'x',
  '',
  '',
  'm',
  ',',
  '\b',
  'Q',
  '\x10',
  '',
  '\x8F',
  '',
  '',
  '',
  '',
  '8',
  '',
  '\x06',
  '-',
  '',
  '.',
  '\x9D',
  '\x11',
  '',
  'i',
  '',
  '\x0F',
  '/',
  '',
  ']',
  '\\',
  '!',
  '\t',
  '',
  '',
  '',
  '',
  '\x90',
  'u',
  '',
  'o',
  '(',
  '',
  '6',
  '^',
  'U',
  '',
  '',
  '\a',
  '',
  '',
  '',
  '',
  'R',
  ')',
  '',
  'Y',
  'k',
  '',
  '',
  '\x12',
  '',
  '\x04',
  'E',
  '',
  '',
  '',
  '',
  '2',
  '',
  '',
  '',
  '#',
  '',
  '',
  '',
  '',
  '',
  '7',
  '',
  ' ',
  'h',
  '',
  'L',
  'W',
  'K',
  '0',
  '',
  '',
  '',
  '',
  '',
  '\x05',
  '',
  '',
  '\x03',
  '',
  '?',
  'A',
  '',
  '\x1C',
  'P',
  '@',
  '',
  'r',
  '',
  '\n',
  '\x03',
  'P',
  '.',
  'g',
  '',
  'b',
  '',
  'q',
  'X',
  '',
  '',
  '',
  'z',
  '2',
  '\x1C',
  '\x17',
  '+',
  'T',
  '^',
  '',
  '',
  'd',
  '',
  '3',
  '',
  'u',
  '\x04',
  '',
  '\b',
  '',
  'V',
  '\x1A',
  '5',
  'i',
  '\x1E',
  '',
  '',
  '',
  '<',
  'n',
  '',
  '',
  'F',
  '\"',
  '\a',
  'K',
  '\x12',
  '\xFF',
  '\x9D',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  'L',
  '',
  '',
  '\\',
  '\0',
  ';',
  '',
  'p',
  '',
  '',
  '|',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  '\x90',
  '',
  '',
  '>',
  'c',
  '',
  '',
  '',
  '',
  '',
  '%',
  '',
  '9',
  '',
  'Z',
  '~',
  '',
  '#',
  '',
  '',
  '',
  '',
  '4',
  '\x7F',
  'C',
  'k',
  'J',
  '',
  '0',
  '',
  '',
  'v',
  '6',
  'O',
  '8',
  'e',
  '',
  ' ',
  '\r',
  '',
  '',
  '',
  'A',
  '',
  '',
  '\x01',
  's',
  '',
  '\t',
  'w',
  'm',
  '7',
  '\x8D',
  '*',
  '',
  'S',
  '',
  '',
  'y',
  'j',
  '\x1D',
  'a',
  '',
  '',
  'f',
  '',
  '\x81',
  '(',
  '=',
  '',
  'I',
  ',',
  '\x1B',
  'o',
  '',
  '',
  'h',
  '',
  '',
  ']',
  'R',
  '',
  'D',
  '',
  '',
  'M',
  '',
  '}',
  '',
  '',
  '',
  '',
  'U',
  '\x06',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  '',
  '1',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  '',
  '/',
  '',
  '',
  '\x05',
  'B',
  '\x8F',
  'Y',
  '',
  'G',
  '?',
  '',
  'l',
  '',
  '\x16',
  '',
  '\'',
  '',
  '',
  '\x1F',
  'W',
  '',
  '\x18',
  '',
  '`',
  '_',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  '\x13',
  '\x0E',
  '\x10',
  '',
  '',
  '',
  'N',
  '',
  '',
  '[',
  '-',
  '',
  '',
  '',
  '!',
  '',
  '',
  '',
  '',
  '',
  't',
  'Q',
  '',
  'x',
  'H',
  '',
  '\f',
  '&',
  'E',
  '',
  '\v',
  '{',
  '',
  '',
  ')',
  '$',
  ':',
  '\x0F',
  '',
  '\x0F',
  '',
  'o',
  'A',
  '',
  '\x1C',
  't',
  'I',
  '',
  '',
  '\0',
  '',
  '\xFF',
  'd',
  '',
  '\x19',
  '',
  '',
  'U',
  'x',
  'a',
  '\\',
  '4',
  'y',
  '',
  'Q',
  '%',
  '',
  '[',
  '',
  '\x8F',
  '',
  '',
  '.',
  '',
  '',
  'O',
  '~',
  '',
  '',
  'K',
  ' ',
  '',
  'l',
  '',
  '',
  '\x14',
  '\x9D',
  '',
  '',
  'w',
  'i',
  'q',
  '',
  '\r',
  '\t',
  '',
  '',
  'P',
  '',
  '`',
  '',
  '7',
  '9',
  '\x7F',
  '',
  '\x81',
  'm',
  'B',
  '',
  '\x18',
  '',
  '5',
  '',
  '',
  '',
  '',
  'N',
  '',
  '',
  '\x04',
  '',
  'J',
  '\'',
  '',
  '',
  '',
  'C',
  '\x10',
  '6',
  '',
  '',
  '',
  '',
  'D',
  '\x8D',
  's',
  'j',
  '|',
  '',
  'H',
  '',
  'r',
  '=',
  '',
  '',
  'X',
  '#',
  '',
  '',
  '',
  '\x05',
  '',
  '}',
  '',
  '',
  '\x15',
  '\x01',
  '',
  'W',
  '',
  'p',
  '',
  '\x11',
  '<',
  '',
  'E',
  '\x90',
  '',
  '',
  '',
  '',
  '?',
  '\x0E',
  'L',
  '!',
  'F',
  '',
  'u',
  '',
  '',
  '@',
  '$',
  'h',
  '',
  '\b',
  '',
  'S',
  '\n',
  '',
  '',
  '\x17',
  'f',
  'z',
  '',
  'n',
  '',
  '',
  '/',
  '',
  '',
  '',
  'k',
  '3',
  '\x12',
  '1',
  '\v',
  '',
  '',
  'M',
  'Z',
  '0',
  '',
  '',
  '&',
  '',
  'e',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  '*',
  '',
  '',
  '',
  '\x13',
  '(',
  'R',
  ':',
  'c',
  'Y',
  ';',
  '',
  '',
  '\x16',
  '',
  '\x1A',
  '',
  '',
  '8',
  '',
  '',
  '\"',
  '',
  '',
  '\x03',
  '{',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\f',
  '\x1F',
  '',
  '',
  '2',
  '',
  'T',
  '\x02',
  '^',
  '',
  '',
  '\x06',
  'g',
  ']',
  '',
  '',
  '',
  '',
  'G',
  '',
  'v',
  '',
  '',
  '_',
  '+',
  ')',
  '\a',
  '',
  '',
  '-',
  'V',
  '',
  '',
  '>',
  ',',
  '',
  '\x1E',
  '\x1D',
  'b',
  '',
  ' ',
  '',
  '\x06',
  '',
  '',
  '8',
  'y',
  '\x9D',
  '-',
  'u',
  '',
  'F',
  '',
  '',
  'H',
  '[',
  '',
  '',
  '\xFF',
  '\x90',
  '',
  '6',
  '',
  'r',
  '',
  '',
  'I',
  '',
  '',
  '^',
  '',
  '',
  '',
  '5',
  '',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '*',
  '',
  '\t',
  '',
  'L',
  '',
  '',
  '',
  '',
  '7',
  '',
  '',
  '',
  '',
  '(',
  ']',
  '!',
  '\n',
  '4',
  'S',
  '',
  'O',
  '',
  '\x05',
  '\r',
  '',
  '',
  '\b',
  'W',
  '',
  '',
  '',
  '',
  'e',
  'M',
  '',
  '',
  'B',
  '',
  '',
  '',
  '',
  '\x1F',
  ',',
  '',
  '<',
  '{',
  '@',
  '',
  '',
  '+',
  '%',
  '',
  '',
  '\x19',
  'p',
  '>',
  '\x14',
  'm',
  '',
  '',
  '',
  '',
  'C',
  '',
  '',
  '}',
  '',
  '',
  '',
  's',
  'V',
  '\"',
  '',
  '',
  '\x12',
  '',
  'z',
  'E',
  'K',
  '',
  '',
  '~',
  '',
  '',
  'Q',
  '\\',
  '',
  'k',
  '\x17',
  '',
  '\0',
  '',
  'h',
  '\x1A',
  'b',
  ')',
  'a',
  '',
  ':',
  '',
  '',
  '\x1D',
  '$',
  '',
  '',
  '',
  '',
  '=',
  '',
  '',
  '\x04',
  'Y',
  '',
  '_',
  '\x1C',
  '',
  '',
  '\x01',
  'w',
  '',
  'A',
  '#',
  '|',
  'g',
  '',
  '',
  '',
  '',
  'T',
  '',
  '\x7F',
  '\x18',
  '\x13',
  '\v',
  '\x81',
  '\x1B',
  '\x10',
  '1',
  '',
  'D',
  '',
  '',
  '',
  '2',
  '',
  '',
  'c',
  '\x16',
  '',
  '',
  '/',
  '',
  '',
  '\'',
  'v',
  '',
  '',
  ';',
  '\x03',
  '',
  '',
  '',
  'j',
  'J',
  '',
  '',
  'R',
  'i',
  '\x02',
  '',
  '\x0E',
  '',
  '\x8F',
  '',
  'N',
  '\f',
  't',
  '?',
  'U',
  '',
  '',
  '',
  '\x15',
  'X',
  'l',
  'd',
  '',
  'Z',
  'G',
  'x',
  '',
  '',
  'q',
  '',
  '',
  '0',
  '',
  '\x0F',
  'o',
  '',
  'f',
  '\x11',
  'n',
  '`',
  '',
  '\x8D',
  'P',
  '',
  '',
  '\a',
  '3',
  '.',
  '&',
  '9',
  '1',
  'G',
  '',
  '2',
  '',
  '',
  '',
  '',
  '\x10',
  '\x14',
  '\x8F',
  '|',
  '',
  '\x02',
  '',
  '\x12',
  '\x11',
  'b',
  '6',
  'R',
  'c',
  'r',
  '7',
  '\xFF',
  '\x8D',
  '',
  '',
  '',
  '',
  '',
  '',
  '$',
  't',
  '\x1E',
  '?',
  '',
  '\\',
  '\t',
  '',
  '8',
  '4',
  'k',
  '',
  '\v',
  'o',
  'm',
  '',
  '',
  'z',
  '5',
  '`',
  '~',
  '\a',
  '\x17',
  '\n',
  '',
  '\x7F',
  '(',
  '&',
  'D',
  'f',
  '',
  '',
  '',
  '',
  '\x06',
  '\x16',
  '\x1B',
  '',
  '<',
  '',
  '*',
  '',
  '',
  '\x03',
  '',
  'K',
  '',
  '',
  'U',
  '',
  '',
  '\x13',
  '',
  '',
  '',
  'N',
  '',
  '',
  '',
  '\'',
  'Z',
  'P',
  '\x0E',
  '',
  '\x9D',
  '',
  '',
  '\b',
  '',
  '',
  '',
  'j',
  '',
  ':',
  '',
  'v',
  'F',
  'p',
  '\x81',
  ',',
  'e',
  '',
  ' ',
  ';',
  '#',
  'u',
  '',
  '\x18',
  'l',
  '+',
  '',
  '',
  '3',
  '',
  'X',
  '',
  '',
  'H',
  '',
  '',
  '',
  'B',
  '',
  'M',
  '\0',
  '',
  '',
  '',
  '',
  '',
  'i',
  '',
  '\x1C',
  '',
  '{',
  '',
  '',
  'Y',
  '\x1D',
  'd',
  '',
  '',
  'S',
  'C',
  '',
  '',
  '',
  '',
  'h',
  '.',
  '\x19',
  '',
  '/',
  '^',
  '',
  '\r',
  '>',
  '\x04',
  '',
  '\x15',
  'y',
  '',
  'T',
  '',
  '\x1A',
  'n',
  'q',
  '',
  'g',
  '\x0F',
  '[',
  '',
  '\x1F',
  'A',
  '',
  '',
  ')',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'O',
  'x',
  'J',
  '',
  '',
  '_',
  '',
  's',
  '',
  '@',
  '',
  '',
  '',
  'I',
  '',
  '',
  '',
  '',
  '',
  'Q',
  '',
  '\x90',
  '-',
  'w',
  '9',
  '',
  '%',
  'a',
  '',
  'E',
  '',
  '',
  '',
  '',
  'V',
  '',
  '\f',
  'L',
  '}',
  '0',
  '',
  '',
  '\"',
  'W',
  '',
  ']',
  '=',
  '',
  '',
  '',
  '',
  '',
  '',
  '!',
  '\x05',
  '\x01',
  '',
  '',
  '',
  '1',
  '',
  'h',
  ';',
  '\x0F',
  '',
  'A',
  '\x1B',
  '[',
  'f',
  'V',
  '\x02',
  'v',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  ',',
  '3',
  '',
  '',
  'D',
  '>',
  '',
  'n',
  'k',
  'x',
  '7',
  'u',
  '',
  '',
  '',
  '',
  '\r',
  '',
  '\x18',
  '',
  'm',
  '=',
  '',
  '',
  '~',
  '',
  'e',
  '',
  '',
  '\b',
  '|',
  '',
  'I',
  '',
  '',
  '&',
  '',
  'o',
  't',
  '',
  '',
  '\x1D',
  '',
  'X',
  '+',
  '}',
  '\x1A',
  '',
  '',
  '?',
  'p',
  '(',
  '',
  '\x16',
  '\t',
  '',
  '',
  '',
  '-',
  'P',
  '',
  '',
  'F',
  '',
  '\x04',
  '',
  'E',
  '',
  '*',
  '',
  '`',
  'J',
  '',
  '!',
  '\x11',
  '%',
  'q',
  '',
  '\x9D',
  '',
  '',
  'j',
  '',
  '',
  '',
  '',
  'C',
  '',
  ' ',
  '',
  '\x12',
  '\x1C',
  'T',
  '9',
  'S',
  '\x7F',
  'O',
  '',
  'G',
  'H',
  '',
  '6',
  '\x19',
  'y',
  '',
  '\x90',
  '',
  '5',
  'z',
  '\x10',
  'Q',
  '',
  'g',
  '',
  'i',
  '{',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '',
  '\'',
  '',
  '',
  'N',
  '',
  '',
  '',
  'w',
  '',
  '\x0E',
  '_',
  '\\',
  '',
  '\xFF',
  '',
  'l',
  '$',
  'c',
  '',
  '',
  '',
  '',
  '',
  'Z',
  'd',
  ']',
  'M',
  '',
  '',
  '\x17',
  '\x06',
  '',
  '',
  '',
  'K',
  '<',
  '',
  '#',
  'W',
  '\x1E',
  '@',
  '\x14',
  '',
  '\a',
  '',
  '\f',
  '\n',
  '',
  '',
  '',
  '\"',
  '',
  '',
  '0',
  '^',
  '',
  '',
  '',
  '\v',
  'Y',
  '',
  '',
  '2',
  '\x03',
  '',
  '',
  'r',
  'a',
  '',
  '\x8F',
  '\x8D',
  '',
  '\x81',
  '',
  'b',
  '',
  'R',
  '\0',
  '\x13',
  '',
  ')',
  'L',
  '',
  ':',
  '4',
  '',
  '',
  '',
  's',
  '',
  '\x01',
  '\x05',
  '/',
  '8',
  'U',
  '',
  '',
  '',
  '.',
  '',
  'B',
  '',
  '',
  '',
  '',
  '',
  '+',
  '',
  '',
  '',
  'A',
  '\x1E',
  'F',
  '',
  '',
  '',
  '\x9D',
  '\x19',
  '\v',
  '',
  '\x11',
  '\x14',
  'V',
  'd',
  '',
  '',
  '&',
  '',
  '2',
  '',
  '\x02',
  'E',
  'z',
  '',
  '',
  '',
  '{',
  'R',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  ')',
  'H',
  '9',
  '',
  'J',
  '?',
  '',
  '',
  '',
  '5',
  '',
  '',
  '',
  '',
  '',
  '',
  'c',
  '',
  'D',
  '',
  '',
  '',
  '\x8D',
  '',
  '',
  '/',
  '\x12',
  't',
  'a',
  '',
  '',
  '',
  '',
  '\x1D',
  '\n',
  '@',
  '',
  '',
  'l',
  '~',
  'n',
  '\x13',
  '',
  ',',
  '\x0F',
  'r',
  '\r',
  '3',
  '7',
  '',
  ':',
  '',
  '',
  'N',
  'W',
  '',
  '',
  '',
  '',
  'Z',
  '!',
  '\'',
  '\xFF',
  '\x03',
  ' ',
  '6',
  'Q',
  '\\',
  '\x81',
  'e',
  '|',
  '',
  '_',
  'm',
  '',
  'u',
  'B',
  '\x1F',
  '',
  'q',
  'i',
  'j',
  '$',
  '',
  '',
  '',
  '',
  '\"',
  '',
  'y',
  '',
  '\x0E',
  '4',
  'Y',
  '',
  '',
  '',
  '\x10',
  '',
  '-',
  '',
  '',
  '',
  '}',
  '',
  '',
  '',
  '',
  '',
  'b',
  '\x01',
  '\x7F',
  '',
  'x',
  '',
  '\t',
  '',
  '',
  'w',
  '',
  '%',
  'o',
  'I',
  '',
  '',
  '^',
  '',
  '',
  'G',
  '',
  '\x15',
  '\x16',
  '',
  '',
  'f',
  '\x06',
  '\x18',
  '',
  '\f',
  'v',
  '>',
  '',
  '\b',
  ']',
  '',
  'K',
  'g',
  '#',
  '',
  '.',
  '`',
  '',
  '',
  '',
  '=',
  'h',
  ';',
  '<',
  '\x04',
  'U',
  '*',
  '',
  '',
  '',
  '',
  '8',
  '\x05',
  '[',
  '0',
  'P',
  '',
  'M',
  'C',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  'k',
  '',
  'O',
  '\0',
  '',
  '',
  'X',
  'T',
  '',
  '',
  'p',
  '',
  '',
  'S',
  '1',
  '\x1B',
  '',
  'L',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x17',
  '\x90',
  '\x8F',
  '\x1A',
  '(',
  '',
  '',
  's',
  '',
  '',
  '',
  '\a',
  '',
  '=',
  '',
  '',
  ';',
  '',
  '',
  '\x05',
  'X',
  '',
  'k',
  '9',
  '',
  '',
  '*',
  '\x06',
  '',
  'v',
  '',
  'L',
  '',
  '',
  '',
  '$',
  'y',
  'I',
  '\x1F',
  '',
  '\xFF',
  'w',
  '',
  '<',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  '\a',
  '\x1E',
  '1',
  '',
  ':',
  '',
  '\x16',
  '',
  'h',
  '\b',
  '3',
  '',
  '',
  '_',
  '\x90',
  '',
  '/',
  '',
  '',
  'P',
  '',
  'M',
  '|',
  '',
  '',
  'a',
  '7',
  '',
  'B',
  '0',
  '',
  'o',
  '+',
  '\x81',
  '!',
  'd',
  '\'',
  '',
  'q',
  '',
  ',',
  'u',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  '-',
  'F',
  '',
  '',
  '@',
  '?',
  '\f',
  '}',
  '\x12',
  'H',
  '',
  '\x7F',
  'f',
  '\0',
  '\x04',
  '',
  '\x10',
  '',
  'l',
  '\"',
  '`',
  '',
  'e',
  'S',
  '>',
  '',
  'R',
  '5',
  '',
  '',
  '',
  '',
  '\r',
  '\x02',
  'z',
  '\x0E',
  '4',
  '\x0F',
  '6',
  '',
  '2',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '',
  '\\',
  'D',
  '\x18',
  '',
  'W',
  'r',
  '\x13',
  'U',
  '',
  'O',
  'N',
  '.',
  '',
  '',
  'G',
  'A',
  '\x11',
  ']',
  's',
  '\x17',
  'i',
  '',
  'K',
  ' ',
  '',
  '\n',
  '',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  'Z',
  '',
  'x',
  '',
  '',
  '',
  'J',
  'E',
  '',
  'b',
  'Q',
  '',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  '',
  '[',
  '~',
  '8',
  '(',
  '',
  '',
  '\x1A',
  '',
  '^',
  '',
  '\x8D',
  '',
  ')',
  '#',
  'C',
  '',
  '\x1C',
  '',
  '',
  '&',
  'j',
  '',
  '\x19',
  '',
  '',
  'c',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '\x01',
  'm',
  'Y',
  '',
  '%',
  '{',
  '\t',
  '',
  '',
  '\x15',
  '',
  '',
  'p',
  'V',
  '',
  'g',
  'n',
  '\x03',
  '',
  '\x8F',
  '',
  'R',
  '\x1D',
  '8',
  '',
  '',
  'n',
  't',
  '',
  '',
  '',
  'A',
  '\n',
  'c',
  '',
  '',
  '',
  '}',
  '',
  'w',
  '',
  '3',
  'L',
  '',
  '\x06',
  '=',
  '',
  '',
  '',
  '\x04',
  '',
  '\t',
  '',
  '.',
  '+',
  'x',
  '',
  '',
  'H',
  '',
  '',
  '\b',
  ' ',
  '\x8F',
  '\v',
  'i',
  'M',
  'Z',
  '',
  '',
  '',
  'Y',
  '\x13',
  '\x18',
  '',
  '',
  '',
  '\x17',
  '@',
  'b',
  '',
  '',
  '|',
  '^',
  '',
  '',
  '',
  '(',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '[',
  '%',
  'h',
  '',
  '',
  '',
  's',
  '\x0F',
  '',
  '',
  'O',
  '\r',
  '7',
  '',
  '',
  'G',
  'f',
  '',
  '\x7F',
  'o',
  '\x0E',
  '',
  '\x19',
  'V',
  'v',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  'r',
  'g',
  '',
  '',
  '\\',
  '>',
  '\x15',
  'l',
  '',
  '',
  ';',
  'S',
  'B',
  '\x02',
  '\x8D',
  '9',
  '',
  'W',
  '\"',
  '',
  'E',
  '',
  '',
  '\x81',
  'd',
  'q',
  '\x9D',
  '',
  '',
  '!',
  '',
  '',
  '\a',
  '\0',
  '',
  '\x14',
  '',
  '',
  '\f',
  'a',
  '',
  ']',
  '\x03',
  '6',
  '\x16',
  '~',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'U',
  'u',
  'D',
  '',
  '',
  '$',
  '&',
  '',
  '',
  '\x1E',
  '',
  ')',
  '',
  'Q',
  'm',
  'k',
  '<',
  '',
  'p',
  '',
  '5',
  'C',
  '\'',
  ',',
  '',
  '',
  '\x1F',
  'j',
  '#',
  '\x1A',
  '{',
  'F',
  'e',
  '',
  '\xFF',
  '',
  '',
  'X',
  '\x1B',
  '',
  '',
  '',
  'K',
  'N',
  '',
  'J',
  '',
  '2',
  '',
  '',
  '\x90',
  '',
  '-',
  'y',
  '0',
  '?',
  '*',
  '`',
  '',
  '',
  '',
  '',
  '',
  '4',
  '',
  'I',
  '',
  '',
  '',
  '_',
  '/',
  '',
  '1',
  '\x05',
  '',
  '',
  '',
  '',
  'z',
  'P',
  '',
  '',
  '',
  '',
  '\x11',
  '\x10',
  ':',
  'T',
  '',
  '\x01',
  'R',
  '',
  '',
  'j',
  '4',
  '\0',
  '',
  '',
  '',
  '',
  '',
  '',
  '-',
  '\x18',
  '',
  'O',
  '\x06',
  '',
  '$',
  '',
  '',
  '',
  '',
  'J',
  '*',
  '',
  '_',
  'f',
  '',
  '',
  '',
  '0',
  'E',
  '',
  'l',
  '',
  '',
  '}',
  '',
  '.',
  '',
  '\x16',
  'T',
  '',
  '',
  '',
  '',
  '',
  '',
  'a',
  '\x7F',
  '',
  'w',
  'K',
  '',
  'y',
  '\x13',
  '',
  '',
  '',
  '',
  '',
  '',
  'c',
  '',
  'Z',
  '\x10',
  '7',
  '\f',
  'o',
  'M',
  '`',
  '',
  '',
  '',
  's',
  '',
  ']',
  '3',
  '>',
  '',
  '',
  '',
  '',
  'u',
  '',
  '=',
  ' ',
  '@',
  '5',
  '',
  ':',
  '\x05',
  '\x14',
  '\a',
  'z',
  '+',
  ')',
  'm',
  '?',
  '',
  '',
  '\x1A',
  'W',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'k',
  'A',
  '(',
  '',
  'Q',
  '\x0F',
  'N',
  '\r',
  '\n',
  'U',
  '',
  '/',
  'd',
  '',
  'P',
  '',
  '\x8D',
  ',',
  '\x1B',
  'e',
  '',
  'D',
  '',
  'H',
  '',
  '',
  '',
  '',
  '\'',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  '8',
  'x',
  'r',
  '6',
  '\x9D',
  '\b',
  '{',
  '',
  '\x81',
  '',
  'F',
  '',
  '\\',
  '',
  '',
  '',
  'C',
  '~',
  '',
  '',
  '',
  '',
  'n',
  '',
  '',
  '',
  '&',
  'h',
  '',
  '',
  '',
  '',
  '[',
  ';',
  '\x04',
  'G',
  '\x19',
  'v',
  '',
  '\x02',
  '%',
  '\x1F',
  '',
  'V',
  'Y',
  't',
  '',
  '<',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '\x90',
  '',
  '',
  '',
  '',
  'i',
  '|',
  '',
  '\x11',
  'S',
  'X',
  '',
  '1',
  '\x0E',
  '\x01',
  'q',
  '\x15',
  '',
  'B',
  '\x12',
  '',
  '\x1E',
  '\"',
  'b',
  '2',
  '',
  '9',
  '',
  'I',
  '',
  '!',
  'p',
  '\x03',
  '',
  '',
  '\x8F',
  '\v',
  '\x1C',
  '\xFF',
  '#',
  '',
  '',
  '^',
  '',
  '',
  '',
  '',
  '',
  'L',
  '',
  '',
  '\t',
  '',
  'g',
  '>',
  'G',
  'r',
  'J',
  '\'',
  '\x15',
  '',
  '',
  '',
  'Q',
  ' ',
  'b',
  '\0',
  '',
  '\a',
  '',
  '',
  '',
  'T',
  '',
  '',
  '1',
  '',
  '',
  'g',
  '\x8D',
  'n',
  '',
  '\x18',
  '',
  'O',
  '',
  '',
  '\x16',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '',
  '\t',
  '',
  '',
  '',
  '/',
  'i',
  '',
  '',
  ')',
  '\x1D',
  '\xFF',
  '\v',
  '',
  '[',
  'W',
  '\b',
  '9',
  'F',
  '',
  't',
  '',
  '',
  '`',
  '',
  '',
  '',
  '',
  '\x1B',
  '',
  '\x0E',
  's',
  'L',
  'V',
  '\x17',
  'j',
  '',
  '',
  '',
  '',
  '',
  '_',
  '0',
  'D',
  '',
  ':',
  '\x9D',
  'E',
  '',
  '',
  ',',
  '\r',
  'C',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x0F',
  '',
  '\x13',
  '',
  '\x05',
  'a',
  '\x7F',
  '^',
  '7',
  'M',
  'v',
  '8',
  '\x81',
  'c',
  '+',
  '',
  'k',
  '',
  '',
  'd',
  'K',
  '@',
  '',
  'l',
  '\x19',
  '',
  '\\',
  '',
  '\x14',
  '',
  '',
  '',
  'm',
  '',
  '2',
  'I',
  '',
  '',
  '%',
  '',
  'u',
  '',
  '',
  '3',
  ']',
  '\x1C',
  '\x1A',
  '',
  '',
  'S',
  '',
  'X',
  ';',
  '',
  '',
  '',
  '#',
  '\x04',
  '',
  '\x1F',
  '',
  '?',
  'w',
  '',
  '-',
  '',
  '{',
  '',
  '',
  '\"',
  '',
  '',
  '',
  'A',
  'e',
  '',
  '',
  '}',
  'f',
  'o',
  '',
  '\x03',
  '',
  '',
  '',
  'U',
  '$',
  '',
  '',
  '',
  'y',
  '5',
  'Z',
  '',
  '<',
  '!',
  '',
  '*',
  '\x02',
  '',
  'N',
  '',
  '',
  '4',
  '6',
  '',
  '',
  '\x90',
  '',
  '',
  'B',
  'z',
  'H',
  'x',
  '&',
  '',
  '',
  '\x06',
  '',
  'R',
  '~',
  '',
  '.',
  '',
  '\x12',
  '\x8F',
  '',
  '',
  '',
  'Y',
  '',
  'q',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  '\x11',
  'h',
  '',
  '\f',
  'P',
  '',
  '|',
  'p',
  '(',
  '',
  '',
  '\x1E',
  '\x10',
  '=',
  '',
  '',
  '',
  '',
  '',
  '\t',
  '',
  ';',
  '',
  '',
  'd',
  'F',
  '\x0E',
  '',
  '',
  'B',
  'h',
  '\'',
  '\x05',
  '\f',
  'D',
  '&',
  '\x8D',
  '#',
  '4',
  '',
  '',
  '\r',
  '',
  '',
  '',
  '_',
  '\x06',
  '\x1F',
  '',
  '\xFF',
  '',
  'w',
  'f',
  'g',
  '\x1B',
  '\"',
  '-',
  '\x15',
  '2',
  '\x8F',
  '',
  '',
  'E',
  '8',
  'j',
  'e',
  '',
  '^',
  '\x1A',
  ')',
  '(',
  '',
  '',
  '>',
  '',
  '',
  '%',
  '',
  '\x14',
  '',
  '',
  '',
  '',
  'H',
  'Z',
  '',
  'q',
  'x',
  '',
  '',
  '3',
  '',
  '\x01',
  '+',
  '',
  'T',
  'i',
  '',
  'J',
  'I',
  'M',
  '\x19',
  '',
  '',
  '',
  '',
  '1',
  'r',
  '6',
  '',
  '',
  '',
  '',
  '',
  '0',
  '',
  '',
  '!',
  '',
  '',
  '',
  '\x0F',
  '<',
  '',
  'C',
  '.',
  'k',
  '',
  'O',
  ' ',
  '',
  '',
  '',
  'N',
  'K',
  '\\',
  '\n',
  '',
  '',
  '',
  '=',
  '',
  '~',
  ',',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  '',
  'c',
  '\x7F',
  '',
  '',
  ':',
  '{',
  '',
  '',
  '',
  '',
  'm',
  '',
  '',
  '',
  '$',
  'S',
  'A',
  'y',
  'v',
  '',
  '\x9D',
  'b',
  '',
  's',
  '',
  '',
  'u',
  '/',
  '',
  '\x13',
  '9',
  '',
  'X',
  '\x03',
  '',
  '',
  '\b',
  '5',
  '',
  '',
  '7',
  '}',
  '',
  '[',
  '',
  '',
  '@',
  '',
  'a',
  '\x04',
  '*',
  '\x1C',
  '',
  '',
  'o',
  '',
  'l',
  '',
  '',
  '|',
  '',
  '\x02',
  '',
  '\x17',
  '',
  '\x10',
  '',
  'W',
  '',
  '',
  '',
  '',
  '',
  'P',
  '',
  '',
  '',
  '',
  '',
  'U',
  '',
  '',
  '\x11',
  '',
  '\x81',
  'G',
  '',
  '',
  '',
  'L',
  '',
  'z',
  '?',
  '\x12',
  'n',
  '\v',
  'Y',
  '\x16',
  '',
  '',
  '',
  '',
  '\x90',
  '\x1E',
  '',
  '`',
  '\0',
  ']',
  '',
  '',
  'R',
  'p',
  'V',
  '',
  '\a',
  '\x18',
  '',
  '',
  'Q',
  '\x1D',
  '7',
  'W',
  '^',
  '\x01',
  '$',
  '\x05',
  '2',
  '.',
  '',
  '8',
  '',
  '',
  '',
  '',
  'b',
  '',
  '',
  '',
  'V',
  '\x81',
  'g',
  '',
  'Z',
  '\x03',
  '}',
  '!',
  '',
  '\x9D',
  'E',
  'F',
  '\x06',
  'm',
  'y',
  '\x17',
  '',
  'c',
  '4',
  '',
  '',
  '',
  'K',
  '>',
  '',
  '\n',
  '\x19',
  '',
  '\x1A',
  '',
  '',
  '',
  'u',
  '',
  'd',
  '',
  '\x1C',
  '',
  '\t',
  '',
  '',
  'D',
  'M',
  '&',
  '',
  '\x10',
  'n',
  'q',
  '',
  '@',
  '',
  '\x1E',
  '',
  '',
  '',
  '\x1B',
  '/',
  '=',
  'f',
  '',
  '',
  'w',
  '',
  '',
  '',
  '',
  'A',
  's',
  '(',
  'x',
  '',
  'R',
  '',
  '\x14',
  '',
  'v',
  'H',
  '',
  '\x0F',
  'k',
  '',
  '',
  '\r',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'J',
  'N',
  '\x8D',
  '',
  '',
  '\x1D',
  '',
  '',
  '3',
  '',
  '_',
  '',
  '\x1F',
  '',
  'o',
  'h',
  '',
  '',
  '?',
  '',
  '6',
  '',
  '',
  '-',
  '\b',
  '+',
  '',
  '',
  '',
  '',
  'X',
  '',
  '\x04',
  '#',
  '\x8F',
  'i',
  'I',
  '',
  '',
  '',
  '',
  '5',
  '',
  'Q',
  '',
  '\"',
  'e',
  '',
  'Y',
  '\x13',
  '%',
  '',
  '',
  '\\',
  '\x11',
  'P',
  'j',
  '',
  '',
  ']',
  '',
  '\x12',
  '',
  '',
  '<',
  '~',
  '',
  '',
  '\xFF',
  '',
  '',
  '',
  '{',
  'a',
  '',
  '|',
  '',
  '',
  'z',
  '',
  '`',
  '\x0E',
  '',
  '',
  '',
  '',
  '\x90',
  '\x02',
  '',
  ',',
  '\0',
  ')',
  '',
  'C',
  '',
  '',
  '\v',
  '',
  '*',
  '\x7F',
  ':',
  'L',
  '\a',
  'U',
  '',
  '',
  '0',
  '\x16',
  't',
  'p',
  'r',
  '9',
  '',
  '\x18',
  'O',
  '',
  'l',
  '\x15',
  'T',
  '',
  'B',
  '1',
  '',
  '',
  ';',
  'G',
  '',
  '[',
  '',
  'S',
  ' ',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\'',
  '\f',
  '',
  '',
  '',
  '',
  '',
  '',
  'M',
  '\x04',
  '',
  '',
  '\x1C',
  '',
  '',
  'G',
  'j',
  '*',
  '\x1F',
  '',
  '^',
  '',
  '\x17',
  '',
  '',
  '\t',
  '',
  '2',
  'm',
  '4',
  '',
  'L',
  '\x02',
  '\x0F',
  '',
  '',
  'y',
  '\x11',
  '',
  '',
  '\\',
  '\x8F',
  '',
  'u',
  'B',
  '~',
  '',
  'l',
  '\x10',
  '',
  '',
  '',
  '',
  '!',
  '<',
  '',
  '',
  '',
  '}',
  '',
  '',
  't',
  'n',
  '',
  '0',
  '\0',
  ';',
  '6',
  '1',
  '',
  '',
  '#',
  '\x06',
  '\a',
  '',
  '',
  'a',
  '',
  '-',
  '7',
  'I',
  '\x1A',
  '',
  '\x8D',
  '',
  '',
  '',
  '',
  '\"',
  '',
  '\b',
  '.',
  '',
  '',
  '',
  '',
  '',
  'Q',
  'V',
  'Z',
  '',
  '=',
  '',
  '',
  'E',
  '\xFF',
  '',
  ']',
  '',
  '',
  '',
  '5',
  '',
  '\x0E',
  '',
  '+',
  '',
  'P',
  's',
  'T',
  '',
  '\x81',
  '',
  '',
  '\x9D',
  '',
  '8',
  '\f',
  'S',
  'e',
  '',
  'b',
  '',
  '',
  '',
  '\x90',
  '',
  '',
  'H',
  '',
  '',
  '',
  '',
  '',
  '9',
  '',
  '',
  '',
  '',
  '\x03',
  '\x7F',
  '',
  '\r',
  'U',
  '',
  '',
  'i',
  '',
  'p',
  'k',
  '',
  'h',
  '',
  '',
  '',
  '',
  '',
  '\x01',
  ',',
  '',
  '',
  'R',
  '\'',
  'w',
  'J',
  '',
  '_',
  '',
  '%',
  '',
  'C',
  '',
  '`',
  '',
  '',
  '3',
  '',
  '',
  'D',
  '',
  'v',
  '',
  ':',
  '',
  '',
  '',
  'r',
  '',
  '',
  '',
  '?',
  '\v',
  '&',
  '',
  'Y',
  '/',
  '',
  '\x05',
  'q',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x13',
  '\x14',
  'o',
  '\x1B',
  'f',
  '\x12',
  ' ',
  '\x19',
  'F',
  'X',
  'N',
  '$',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  'K',
  '',
  '\x16',
  '\x1E',
  'z',
  '',
  '',
  'A',
  '[',
  '@',
  '\x18',
  '\n',
  'O',
  '',
  '|',
  'x',
  '',
  '',
  '(',
  '\x1D',
  '',
  'd',
  '',
  '>',
  'W',
  'g',
  '',
  'c',
  '{',
  '',
  ')',
  '',
  'c',
  '',
  'w',
  '!',
  '\x02',
  '2',
  '',
  '0',
  'p',
  'V',
  'd',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\t',
  '\b',
  '',
  'J',
  'T',
  '\x18',
  '',
  '\x8F',
  '',
  '\x01',
  'F',
  '',
  '1',
  'q',
  '}',
  '',
  '',
  '',
  '',
  'z',
  '',
  '',
  '',
  '\x19',
  '',
  'g',
  '',
  '\x0F',
  'L',
  'u',
  '',
  '\f',
  '',
  '',
  'b',
  '\"',
  '\x11',
  '\v',
  'S',
  '^',
  '\a',
  '_',
  'M',
  '',
  '',
  'v',
  '\r',
  'B',
  '',
  '',
  'E',
  '9',
  '\x13',
  'R',
  '[',
  '',
  '',
  '',
  '\x04',
  '6',
  '',
  '',
  '',
  '\x05',
  '',
  '~',
  '',
  '\x15',
  'o',
  '',
  '',
  '\x10',
  '',
  '',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '*',
  'K',
  'x',
  'X',
  'I',
  ',',
  '',
  'm',
  '',
  '\x1B',
  '',
  '8',
  '',
  '\x1C',
  '\x90',
  'G',
  '\x1D',
  '\x81',
  '',
  'U',
  'W',
  '>',
  'h',
  '',
  '',
  '',
  '',
  '',
  'f',
  '\x1F',
  'Y',
  '',
  'C',
  '',
  '+',
  '',
  '',
  '',
  ']',
  '',
  '',
  '',
  '',
  '',
  ';',
  '#',
  '',
  '',
  'r',
  '?',
  '',
  '\0',
  '',
  '`',
  '(',
  '\'',
  '\x0E',
  '',
  '\x06',
  'y',
  '',
  '',
  '&',
  '',
  'O',
  'i',
  '',
  '',
  '',
  'Q',
  '%',
  '',
  '\x12',
  '\x16',
  '',
  '4',
  '',
  '',
  '.',
  '',
  '3',
  '',
  '',
  '',
  '\x03',
  '',
  '',
  'j',
  '<',
  '{',
  '',
  'P',
  '',
  '',
  '',
  'n',
  '',
  '',
  '\x17',
  'H',
  '',
  '',
  '7',
  '\x1A',
  '\x9D',
  's',
  '',
  '=',
  '$',
  '',
  '-',
  '',
  '',
  '@',
  '',
  '\x8D',
  '/',
  'D',
  'N',
  '\\',
  '',
  'l',
  't',
  'Z',
  '',
  '|',
  '',
  '',
  '',
  '',
  ' ',
  '',
  '',
  '5',
  'a',
  '',
  '',
  'e',
  'k',
  '',
  '',
  '',
  '',
  'A',
  '\x7F',
  ':',
  '',
  '\xFF',
  '\n',
  '',
  '',
  '',
  ')',
  '~',
  'S',
  '',
  '>',
  'L',
  '\0',
  '',
  '',
  'r',
  '',
  '{',
  '0',
  '',
  '',
  'O',
  'h',
  '\x8F',
  '\x13',
  'P',
  'p',
  '',
  'W',
  'F',
  '',
  ';',
  '=',
  '',
  '\b',
  '',
  'E',
  '\x9D',
  '#',
  '',
  '',
  'D',
  's',
  '\x1F',
  '',
  '',
  '',
  't',
  '',
  '\x06',
  'g',
  '',
  'U',
  '',
  '',
  'q',
  '',
  '\x11',
  '(',
  'o',
  '',
  '',
  '',
  '',
  '',
  '',
  'y',
  '_',
  '',
  'M',
  '',
  '\v',
  '',
  '',
  'Q',
  '}',
  '',
  '',
  '+',
  '',
  '\x0F',
  'A',
  'a',
  '',
  '\x90',
  '',
  '',
  '',
  '\f',
  '',
  '\x1C',
  '',
  'C',
  'J',
  '&',
  '',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  '\x12',
  'm',
  '',
  '',
  '4',
  '-',
  '%',
  '',
  '\'',
  '\r',
  'R',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x16',
  '|',
  'b',
  '/',
  'N',
  '',
  '',
  '',
  '\"',
  '',
  '',
  '',
  '9',
  '$',
  ']',
  '',
  '',
  '',
  'X',
  ',',
  '',
  '!',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  'H',
  '',
  'd',
  '',
  '2',
  '\x03',
  '',
  '',
  'c',
  '',
  '7',
  '',
  '',
  'l',
  '\x17',
  '',
  '',
  '\t',
  '',
  'n',
  '8',
  'I',
  '\x18',
  '',
  '',
  '\x10',
  '',
  '',
  '\x1E',
  '1',
  '<',
  '',
  '*',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  'w',
  '\x14',
  ':',
  ' ',
  '',
  '',
  'v',
  '\x81',
  '',
  '^',
  '\n',
  'V',
  'k',
  '.',
  '',
  'u',
  '\x1B',
  '\xFF',
  '\x05',
  '3',
  '',
  '',
  'j',
  '',
  'i',
  'T',
  'x',
  'G',
  '6',
  '\x02',
  '',
  '',
  '\x19',
  '',
  '\\',
  '',
  ')',
  '\a',
  '',
  '?',
  '\x04',
  'K',
  '@',
  '',
  '\x1A',
  'e',
  '',
  'z',
  '',
  'B',
  '',
  '',
  '`',
  '',
  '[',
  '',
  'Z',
  '',
  '',
  'f',
  '5',
  'Y',
  '',
  '',
  '',
  '\x8D',
  '',
  '\x01',
  '',
  '',
  '',
  '\x7F',
  '=',
  '\x06',
  'O',
  'y',
  '!',
  '&',
  '',
  '',
  '',
  '\x03',
  '\x15',
  'u',
  ',',
  '6',
  'v',
  '',
  'n',
  '',
  '',
  '',
  '\a',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  'V',
  '',
  '+',
  '',
  '',
  '\x1A',
  '\x8F',
  '',
  '#',
  '',
  'k',
  '',
  '\t',
  'T',
  '\xFF',
  '',
  'Q',
  '',
  '',
  '',
  '',
  '1',
  '',
  'b',
  '\\',
  '',
  '',
  'c',
  'B',
  'g',
  '',
  '\r',
  '3',
  ']',
  '?',
  '',
  '',
  '',
  '',
  '',
  '9',
  '',
  'R',
  '\x1B',
  'w',
  '',
  '',
  '\'',
  'P',
  'e',
  '',
  '(',
  '\x01',
  ')',
  'j',
  '',
  't',
  'J',
  '',
  '',
  '^',
  '',
  'p',
  '',
  '8',
  '',
  '',
  '',
  '<',
  'd',
  'N',
  '',
  'H',
  '',
  'a',
  '7',
  'm',
  '',
  '\x12',
  '}',
  '',
  ' ',
  '',
  '',
  '%',
  '',
  '',
  '',
  '\x16',
  '',
  'r',
  '',
  '\x17',
  '',
  '\x1E',
  '\x0F',
  'G',
  '\v',
  '',
  '',
  '_',
  '[',
  '/',
  '\x05',
  'K',
  '',
  '',
  '\x9D',
  '',
  '',
  '>',
  'S',
  '',
  '',
  '4',
  '',
  '',
  '',
  '',
  'M',
  '',
  '',
  '',
  '',
  '',
  '\x14',
  'i',
  '',
  '.',
  '\x13',
  '',
  '',
  '',
  'l',
  ':',
  'X',
  '\x04',
  '',
  '',
  'E',
  '0',
  '',
  ';',
  '\x1F',
  '',
  '5',
  '',
  '',
  '\"',
  '\x19',
  '\0',
  'W',
  '\x1C',
  '',
  'o',
  '',
  '',
  '',
  'z',
  '`',
  '',
  'Z',
  '',
  's',
  '',
  'Y',
  '',
  '',
  '',
  '\b',
  '',
  'C',
  '',
  '|',
  'A',
  '',
  '\n',
  '',
  '',
  '',
  '\x0E',
  '',
  '-',
  '@',
  '',
  '2',
  '',
  'q',
  '\x18',
  'x',
  '',
  '',
  '',
  '\f',
  '',
  'D',
  '\x02',
  '*',
  '',
  '',
  'f',
  '',
  '',
  'U',
  '\x8D',
  '$',
  'I',
  '',
  '',
  '\x81',
  '\x90',
  '',
  'L',
  '\x1D',
  '',
  '',
  '\x10',
  '{',
  '~',
  '',
  'h',
  '',
  '',
  'F',
  '',
  '<',
  '4',
  'M',
  '',
  't',
  '',
  'R',
  'm',
  '\x12',
  'p',
  '',
  '',
  '',
  '$',
  '',
  '',
  'O',
  'S',
  '\x8F',
  '',
  '}',
  '\r',
  '',
  '',
  '',
  '\x1A',
  '8',
  '-',
  '\x16',
  '',
  '',
  '\x9D',
  '\n',
  '',
  '',
  'i',
  '\x17',
  '\x7F',
  '',
  '',
  'd',
  ',',
  '',
  '',
  '',
  'h',
  'y',
  '',
  '',
  '\0',
  '(',
  '\x18',
  'B',
  'A',
  '~',
  '\f',
  '',
  '\x05',
  '',
  '\x81',
  'e',
  '=',
  '',
  '\x90',
  '',
  'v',
  '',
  '',
  '',
  '\\',
  '^',
  '',
  '\'',
  'K',
  'Z',
  '',
  'P',
  '\x1F',
  '',
  '',
  'q',
  '?',
  '7',
  '',
  '',
  'D',
  '',
  '',
  'H',
  '3',
  '',
  '',
  '.',
  '',
  '&',
  '',
  '',
  '',
  '|',
  'a',
  '\v',
  '\t',
  ')',
  '',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  'T',
  '\x14',
  'o',
  'x',
  '',
  '',
  '',
  'w',
  '',
  'X',
  '',
  '',
  '',
  '',
  '1',
  '',
  '\x02',
  ']',
  '',
  '',
  '%',
  '',
  '',
  'r',
  '',
  '',
  '',
  'l',
  'k',
  '\x06',
  'b',
  '',
  '',
  '',
  'f',
  '',
  '\"',
  '',
  '',
  '',
  '+',
  'L',
  '\x8D',
  '',
  '',
  'z',
  'I',
  'u',
  '',
  '',
  '0',
  '\b',
  '',
  '\a',
  '',
  '\x0F',
  '_',
  'G',
  '',
  'U',
  '',
  '',
  '',
  '',
  '2',
  'g',
  '6',
  '',
  '',
  '@',
  '',
  '',
  ' ',
  '',
  '\x03',
  'C',
  'J',
  '\xFF',
  '#',
  '',
  'E',
  '',
  '',
  '',
  '',
  '',
  'N',
  'Y',
  '',
  '5',
  '\x1E',
  '',
  '\x1D',
  '\x1B',
  '',
  '',
  'Q',
  ';',
  '',
  '',
  '',
  'n',
  '',
  '',
  'j',
  '',
  '\x04',
  '',
  '',
  '>',
  '\x19',
  '',
  '\x11',
  '',
  '\x0E',
  '*',
  '/',
  '',
  '',
  '\x10',
  '[',
  'V',
  '{',
  '',
  '',
  '',
  '',
  '\x13',
  '',
  '',
  'c',
  'W',
  '`',
  '',
  '',
  '',
  'F',
  ':',
  '',
  '\x01',
  '',
  's',
  '!',
  '\x1C',
  '9',
  '',
  '8',
  'Y',
  '`',
  '',
  'F',
  '',
  'H',
  '',
  '',
  '',
  '\x10',
  '\b',
  '',
  '',
  '',
  '',
  '',
  'J',
  '',
  'X',
  '|',
  'E',
  '',
  '',
  'Q',
  '{',
  '',
  '',
  'u',
  '',
  '1',
  '',
  '6',
  '',
  '',
  '[',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x04',
  '\x14',
  'b',
  '',
  '',
  '',
  'i',
  '',
  '',
  '+',
  '',
  '5',
  '',
  '\x7F',
  ';',
  'C',
  'e',
  '',
  '\x16',
  'L',
  '\x8D',
  '@',
  '',
  '',
  'B',
  '',
  '',
  '',
  'Z',
  '',
  'N',
  '',
  '#',
  '',
  '',
  '',
  '',
  'n',
  '\x81',
  'x',
  'A',
  'k',
  'y',
  '',
  '\xFF',
  'z',
  '_',
  '',
  '\x1F',
  '',
  '',
  '',
  'l',
  'f',
  '^',
  '\a',
  '',
  '>',
  '\'',
  '\x1B',
  '',
  ',',
  'G',
  '',
  '\f',
  '',
  '\n',
  '\x11',
  '\x05',
  '',
  'I',
  ']',
  '',
  '\0',
  '=',
  'j',
  '',
  '&',
  '',
  '',
  '',
  'U',
  '',
  '',
  'M',
  '.',
  '',
  '',
  '?',
  '',
  '',
  '',
  '',
  '',
  '\r',
  '',
  '',
  'm',
  't',
  '\x06',
  '',
  'h',
  '\x15',
  'c',
  '2',
  '\\',
  'D',
  '-',
  '',
  '',
  '',
  'K',
  '',
  '',
  '\x9D',
  '\x01',
  'd',
  '',
  '\x18',
  '',
  '',
  '',
  '0',
  '\x02',
  '',
  '',
  'r',
  '\x03',
  '\x13',
  '',
  '\x1C',
  '',
  '!',
  '<',
  '',
  '\x8F',
  '\x0E',
  'p',
  '',
  '',
  ')',
  '',
  '',
  '',
  '\"',
  '7',
  '\x90',
  'w',
  '3',
  'T',
  '',
  '/',
  'q',
  '',
  'a',
  '',
  'v',
  '',
  '',
  'R',
  '',
  '',
  'P',
  '',
  '',
  'o',
  '',
  '',
  '',
  '~',
  ':',
  '',
  '',
  '9',
  '\x1D',
  '',
  '$',
  '',
  '(',
  '',
  '\x17',
  '',
  'W',
  'g',
  '',
  '\t',
  '}',
  '',
  '',
  '\x19',
  ' ',
  's',
  '',
  '',
  '',
  'V',
  'S',
  '4',
  'O',
  '%',
  '\x0F',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '\x12',
  '\x1E',
  '',
  '*',
  '',
  '\x1A',
  '}',
  'd',
  '',
  'L',
  '9',
  's',
  '2',
  'b',
  '~',
  'W',
  '',
  '',
  '',
  '',
  '',
  'B',
  '',
  '',
  '',
  '',
  '\\',
  '\xFF',
  '',
  '|',
  'l',
  '',
  'c',
  '\x17',
  '',
  '',
  '\"',
  '1',
  'Z',
  'Y',
  '',
  '\x03',
  'X',
  'k',
  '',
  'U',
  '\x1B',
  '*',
  '\v',
  '_',
  '',
  '#',
  ':',
  '',
  '',
  'Q',
  '',
  '',
  'S',
  '\f',
  'V',
  '',
  'E',
  '\'',
  '',
  'F',
  '',
  ';',
  'G',
  '',
  '',
  '',
  '',
  '',
  '',
  '0',
  'v',
  '\x12',
  't',
  '',
  '',
  '@',
  '',
  '[',
  '',
  '7',
  '',
  '',
  '',
  '',
  'h',
  '\x1A',
  'T',
  '',
  '',
  '',
  'z',
  '',
  'g',
  '\0',
  '',
  '',
  '',
  '',
  '',
  'A',
  '',
  'i',
  'J',
  '',
  'a',
  '%',
  '\n',
  '',
  '\x81',
  '\x13',
  '5',
  '',
  '',
  '',
  '',
  '',
  'f',
  'C',
  '',
  '',
  '',
  '',
  '',
  '+',
  '',
  '\x19',
  '\x18',
  '\x06',
  '\x1D',
  '',
  '',
  '',
  '',
  'j',
  '\x15',
  '{',
  'K',
  'w',
  '',
  '',
  '\x16',
  'D',
  'P',
  '/',
  'H',
  '\t',
  '8',
  '',
  '&',
  '.',
  '',
  '^',
  '3',
  '?',
  '',
  '',
  '=',
  '\x04',
  '',
  '',
  'e',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x14',
  'M',
  '\a',
  '',
  '',
  '!',
  '',
  'R',
  '',
  '\x1C',
  '',
  '',
  '',
  '\x1F',
  '6',
  '',
  '\x1E',
  'o',
  '',
  '',
  'x',
  '`',
  '\x7F',
  '',
  'y',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  'r',
  '\x8D',
  '',
  '',
  'n',
  '\x01',
  '',
  '',
  'N',
  ')',
  '',
  '',
  '',
  '\x90',
  '',
  '',
  ' ',
  '',
  '$',
  'm',
  '',
  '\x0F',
  '\x02',
  '',
  '',
  '<',
  '',
  '',
  '\x05',
  ']',
  '\x0E',
  '',
  'p',
  '\b',
  '',
  '',
  'q',
  '4',
  '>',
  'u',
  ',',
  '',
  '\x9D',
  '',
  '',
  '\x8F',
  '',
  '\x10',
  '',
  '\r',
  '(',
  'I',
  '-',
  '',
  'O',
  '',
  'u',
  '8',
  '\\',
  '',
  '3',
  'q',
  '',
  '',
  'Q',
  '',
  '=',
  'J',
  '',
  '',
  'z',
  '',
  '',
  '\x90',
  '',
  '\x05',
  '',
  '',
  'P',
  '',
  '',
  '_',
  '',
  '',
  '',
  '#',
  '\x11',
  '%',
  '\x81',
  '\x12',
  '\x1F',
  '',
  '+',
  '',
  '',
  '',
  '',
  '{',
  '&',
  '',
  's',
  'n',
  '\x17',
  '',
  '!',
  'S',
  '',
  '\0',
  ' ',
  '',
  'p',
  '',
  '5',
  '[',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  'K',
  '',
  '\x1D',
  '',
  '',
  '\x8D',
  '\x01',
  'N',
  'Y',
  '',
  'f',
  '',
  '',
  '7',
  '\x03',
  'C',
  '}',
  '\x13',
  '',
  '',
  '',
  '\"',
  'k',
  '',
  'E',
  ';',
  '',
  '\x14',
  'v',
  '\x06',
  '\x0E',
  '',
  '',
  '',
  '\x0F',
  '',
  '4',
  '.',
  '1',
  'D',
  '',
  '',
  'G',
  '\x1E',
  '',
  ',',
  '\x9D',
  '',
  'i',
  '',
  '\a',
  '',
  '',
  '\'',
  'V',
  'U',
  '',
  '\v',
  'T',
  '',
  '\n',
  'F',
  'M',
  '\x8F',
  '',
  '^',
  ']',
  '',
  '',
  '',
  'W',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  'R',
  '',
  '',
  '\x19',
  '<',
  '',
  '/',
  '',
  'l',
  'O',
  '',
  '',
  '',
  '',
  '(',
  'h',
  'b',
  'I',
  '\r',
  '\x1C',
  '',
  '@',
  '',
  '\x7F',
  'B',
  '',
  '?',
  '',
  '',
  '',
  '',
  '',
  'a',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  'm',
  '6',
  '',
  'A',
  '2',
  '$',
  'X',
  '',
  '',
  '',
  'e',
  'd',
  'o',
  '',
  'j',
  '\x16',
  '',
  ')',
  'c',
  'Z',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  ':',
  'H',
  '\x02',
  '|',
  'r',
  '\x1A',
  'x',
  '\b',
  '',
  't',
  '~',
  '',
  '>',
  '',
  '',
  '0',
  '\x04',
  '',
  '',
  '',
  '',
  '*',
  '',
  '\f',
  '',
  '',
  'y',
  '',
  'L',
  '',
  '\t',
  '',
  'g',
  '\x10',
  '`',
  '-',
  '9',
  '',
  'w',
  '',
  '',
  '',
  'K',
  'g',
  '',
  '>',
  'X',
  '',
  '{',
  '',
  '0',
  '',
  'a',
  '',
  ' ',
  '/',
  '\x7F',
  '',
  '1',
  '',
  'B',
  '[',
  'w',
  '',
  '',
  '',
  'q',
  'I',
  '\t',
  '_',
  'F',
  '',
  '',
  'f',
  '-',
  '`',
  ']',
  '\x15',
  '',
  '\'',
  'z',
  '',
  '@',
  '',
  '',
  '',
  '',
  'm',
  '',
  '',
  'Y',
  '',
  '',
  '+',
  '',
  '',
  '\x1A',
  '',
  '',
  '',
  '\"',
  '\r',
  '',
  '4',
  '',
  '',
  'x',
  '\x14',
  '',
  'r',
  '',
  '\x05',
  '3',
  '\x1D',
  '\x8D',
  '\x02',
  '',
  '~',
  'k',
  '',
  '',
  'M',
  '}',
  '\x81',
  'j',
  '',
  '',
  'L',
  'c',
  'd',
  '',
  '',
  'y',
  '\\',
  ')',
  'S',
  'U',
  '\x0E',
  '',
  '\x03',
  '#',
  '',
  '\x10',
  'b',
  '\0',
  '\x1B',
  't',
  '\xFF',
  '|',
  '\x18',
  '',
  '',
  '',
  '9',
  '',
  '',
  '\x04',
  '',
  '$',
  '',
  '',
  '',
  '',
  'n',
  '',
  '',
  '',
  '',
  '\n',
  '\b',
  'C',
  '',
  '',
  'R',
  '',
  '\x06',
  '\x17',
  'J',
  'p',
  'D',
  '',
  '!',
  '',
  ':',
  '',
  '',
  '',
  '\x13',
  '^',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1C',
  '=',
  '',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  '\a',
  'N',
  'G',
  '',
  '',
  '',
  '',
  'v',
  '\f',
  '',
  '',
  '',
  '5',
  '\x12',
  '',
  '',
  '%',
  'E',
  'H',
  '\x0F',
  '',
  'l',
  '',
  'e',
  '\x8F',
  '',
  '8',
  '',
  '',
  '',
  '',
  '',
  '',
  'V',
  '\x90',
  'i',
  '',
  '',
  '7',
  '6',
  '',
  '',
  'u',
  'T',
  '\x01',
  '',
  'o',
  '',
  '',
  '',
  '',
  '<',
  '',
  '',
  '?',
  '',
  '',
  '\x11',
  '',
  '',
  '',
  'Z',
  '',
  '\x9D',
  '',
  '.',
  'O',
  'P',
  '',
  '',
  '&',
  ',',
  '',
  '',
  '',
  'h',
  '',
  'Q',
  '\x1E',
  '*',
  'A',
  '',
  '2',
  '(',
  ';',
  '\x16',
  '',
  '\v',
  'W',
  's',
  '',
  '',
  'O',
  '\x13',
  'r',
  '\x06',
  '%',
  'd',
  '?',
  '',
  '',
  '',
  '',
  '',
  '',
  '3',
  '',
  '',
  '',
  '`',
  '^',
  '',
  '',
  '',
  '',
  '\x12',
  '\x18',
  '\x19',
  '',
  'V',
  '\v',
  '',
  '',
  '',
  '',
  '>',
  '\t',
  '7',
  '',
  '!',
  ']',
  '\x9D',
  '\a',
  '',
  'h',
  '',
  '\x0E',
  '',
  '',
  '',
  '$',
  'b',
  'J',
  '',
  '',
  'R',
  '\x8F',
  '\x16',
  '',
  'Z',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'o',
  '',
  'F',
  '&',
  '',
  '\x02',
  'A',
  'q',
  '\x04',
  '',
  '',
  '\x05',
  '-',
  'Q',
  '',
  '',
  '\x8D',
  'c',
  '',
  '',
  ')',
  '1',
  '',
  'H',
  '9',
  '',
  'm',
  '',
  '\0',
  '',
  '',
  '\x14',
  'W',
  '',
  '',
  ':',
  '2',
  '',
  'M',
  '',
  '',
  '\x1E',
  '\b',
  'k',
  'N',
  '',
  '',
  '\x1C',
  '',
  ',',
  '',
  '',
  '',
  '',
  '',
  'e',
  '\x01',
  '',
  '',
  '',
  '',
  '=',
  '5',
  '',
  '',
  'v',
  '',
  '\x0F',
  '\\',
  '',
  '',
  '\"',
  '',
  '',
  '',
  '6',
  '.',
  'n',
  '',
  '',
  '',
  '',
  'f',
  '0',
  'u',
  'w',
  '\x17',
  ' ',
  't',
  '@',
  '4',
  '|',
  '',
  '',
  '+',
  'B',
  '',
  '',
  '',
  '',
  'g',
  '\x1F',
  '_',
  'L',
  '\x1D',
  'S',
  '\x15',
  'y',
  '\x1B',
  'P',
  '*',
  'X',
  '\r',
  'I',
  '',
  '}',
  '\x7F',
  '',
  '',
  'l',
  'x',
  '',
  'j',
  '',
  'Y',
  '',
  '\x1A',
  '\x10',
  'p',
  '\xFF',
  '\x81',
  '',
  '',
  '',
  '',
  '#',
  '',
  '',
  '/',
  '8',
  'C',
  'i',
  'T',
  '',
  'G',
  '[',
  '\'',
  '',
  '',
  '\f',
  '',
  '',
  '',
  '',
  '',
  '',
  'U',
  '',
  'E',
  'K',
  '',
  'z',
  'a',
  '',
  '',
  '',
  '',
  '<',
  '\x90',
  '\x11',
  '',
  '',
  '',
  '\n',
  '~',
  ';',
  '',
  '(',
  '',
  '',
  '',
  's',
  '',
  '\x03',
  '{',
  '',
  '',
  '',
  '',
  'D',
  '~',
  '',
  '\v',
  '\"',
  'w',
  'W',
  '\f',
  '!',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  'C',
  '',
  '',
  'S',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  'z',
  '',
  'x',
  'n',
  '',
  '4',
  'O',
  '>',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'R',
  '',
  '',
  '',
  '',
  '=',
  '',
  '',
  '',
  '\b',
  '',
  '6',
  'i',
  'N',
  '',
  ')',
  '[',
  '',
  'D',
  '',
  '',
  '\x18',
  'k',
  '',
  '',
  'P',
  't',
  '',
  '',
  '',
  'c',
  '',
  '',
  '',
  'f',
  '{',
  'K',
  '\x1C',
  '',
  ':',
  '',
  '8',
  '\x90',
  '\x1E',
  '%',
  'L',
  '\x0F',
  '$',
  '',
  '',
  '',
  '\x05',
  '',
  '',
  'Z',
  '',
  '',
  ' ',
  '\x8D',
  '',
  '',
  ']',
  '\x10',
  'G',
  '^',
  'p',
  '',
  '',
  '',
  '\x02',
  '',
  '\x81',
  '',
  '\\',
  'j',
  'X',
  '\a',
  '',
  '/',
  '',
  'Y',
  '',
  'h',
  'u',
  '0',
  'F',
  '`',
  '',
  '',
  'V',
  '?',
  'd',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  'r',
  '_',
  '\x01',
  '|',
  '',
  '3',
  '',
  'E',
  '\n',
  'l',
  '\x17',
  '',
  '',
  'b',
  '-',
  '\x03',
  '',
  '',
  '',
  '',
  '\r',
  '+',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'I',
  '\x8F',
  '',
  'Q',
  '#',
  '\x1A',
  '',
  '',
  '',
  '\x11',
  '',
  '\x1D',
  '.',
  '',
  'q',
  'M',
  '\x14',
  '',
  ',',
  '',
  '',
  '9',
  '',
  '\x16',
  'T',
  '',
  '(',
  '',
  '\x04',
  '5',
  '<',
  'v',
  '\x7F',
  '\0',
  '\x1F',
  '',
  'U',
  '@',
  '',
  '\x0E',
  'B',
  '&',
  '*',
  '}',
  '',
  '',
  '',
  'H',
  '',
  '',
  '',
  '',
  'J',
  'e',
  '',
  '',
  '\'',
  '',
  '',
  'a',
  '',
  '',
  '',
  '1',
  '\x06',
  '7',
  ';',
  '\x1B',
  'm',
  'A',
  '\x9D',
  'y',
  '',
  '\xFF',
  '',
  '',
  '\t',
  'g',
  '',
  '',
  'o',
  '',
  '',
  '\x13',
  '',
  's',
  '',
  '2',
  '',
  '',
  'j',
  '6',
  'Z',
  'H',
  '',
  '',
  'J',
  'U',
  '#',
  'W',
  '\x8D',
  'h',
  '\x90',
  '^',
  '',
  '',
  '5',
  '',
  '\0',
  '\r',
  '%',
  '',
  '',
  '@',
  '',
  '',
  '\x05',
  '>',
  '\x1E',
  '1',
  '',
  '',
  '',
  '&',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  'l',
  '',
  '',
  '\x0E',
  'n',
  '',
  'G',
  '',
  '',
  '?',
  '',
  '',
  ';',
  '\x11',
  'O',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '~',
  '',
  '',
  '\x02',
  'B',
  'R',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '+',
  'F',
  '',
  '',
  '',
  '_',
  't',
  '',
  ']',
  '|',
  '*',
  '',
  ' ',
  '\'',
  '',
  '<',
  'A',
  '-',
  '`',
  '',
  '\b',
  '',
  '',
  '\x9D',
  'L',
  'I',
  '',
  '\f',
  '',
  '3',
  '',
  '',
  '0',
  '$',
  'o',
  '4',
  '\x16',
  'i',
  '',
  '',
  'Y',
  '',
  '\x1F',
  '',
  'a',
  '/',
  'b',
  '',
  'g',
  'y',
  '',
  '',
  '',
  'm',
  '\x1B',
  '\x12',
  'X',
  'z',
  '',
  '!',
  '2',
  'T',
  'K',
  '\x0F',
  '',
  'r',
  'q',
  '',
  '9',
  '',
  '',
  '',
  '\t',
  '',
  '\x01',
  '\n',
  'p',
  '',
  'e',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  '\x81',
  '',
  '\x13',
  '\x10',
  '\x8F',
  '=',
  '',
  '\x1C',
  '',
  '',
  '',
  'P',
  '{',
  '',
  '\x04',
  '',
  '}',
  'v',
  '',
  '',
  '',
  '\a',
  '\x15',
  '',
  '',
  'k',
  '8',
  'c',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '',
  'N',
  'M',
  '\"',
  '\xFF',
  '',
  'x',
  '',
  ')',
  '',
  'Q',
  '',
  'w',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  'S',
  '\x19',
  '',
  'd',
  'E',
  '\x03',
  '',
  ',',
  '',
  '',
  '\x06',
  '\x17',
  '',
  '',
  '',
  '',
  'D',
  'u',
  '(',
  's',
  '.',
  '7',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  'f',
  '',
  '\x1A',
  'V',
  ':',
  '',
  '',
  '',
  '',
  '[',
  'C'
}; // idb
void *std::logic_error::`vftable' = &sub_40E6C0; // weak
void *std::length_error::`vftable' = &sub_40E740; // weak
void *std::out_of_range::`vftable' = &sub_4102C0; // weak
void *exception::`vftable' = &sub_488E6C; // weak
void (*dword_4AB5EC[2])(void) = { NULL, NULL }; // idb
void (*dword_4AB5F4)(void) = NULL; // idb
_PVFV dword_4AD2BC[223] =
{
  NULL,
  (_PVFV)0x1F,
  (_PVFV)0x1C,
  (_PVFV)0x1F,
  (_PVFV)0x1E,
  (_PVFV)0x1F,
  (_PVFV)0x1E,
  (_PVFV)0x1F,
  (_PVFV)0x1F,
  (_PVFV)0x1E,
  (_PVFV)0x1F,
  (_PVFV)0x1E,
  (_PVFV)0x1F,
  (_PVFV)0x222A323A,
  (_PVFV)0x20A121A,
  (_PVFV)0x242C343C,
  (_PVFV)0x40C141C,
  (_PVFV)0x262E363E,
  (_PVFV)0x60E161E,
  (_PVFV)0x28303840,
  (_PVFV)0x8101820,
  (_PVFV)0x21293139,
  (_PVFV)0x1091119,
  (_PVFV)0x232B333B,
  (_PVFV)0x30B131B,
  (_PVFV)0x252D353D,
  (_PVFV)0x50D151D,
  (_PVFV)0x272F373F,
  (_PVFV)0x70F171F,
  (_PVFV)0x10300828,
  (_PVFV)0x20401838,
  (_PVFV)0xF2F0727,
  (_PVFV)0x1F3F1737,
  (_PVFV)0xE2E0626,
  (_PVFV)0x1E3E1636,
  (_PVFV)0xD2D0525,
  (_PVFV)0x1D3D1535,
  (_PVFV)0xC2C0424,
  (_PVFV)0x1C3C1434,
  (_PVFV)0xB2B0323,
  (_PVFV)0x1B3B1333,
  (_PVFV)0xA2A0222,
  (_PVFV)0x1A3A1232,
  (_PVFV)0x9290121,
  (_PVFV)0x19391131,
  (_PVFV)0x21293139,
  (_PVFV)0x1091119,
  (_PVFV)0x222A323A,
  (_PVFV)0x20A121A,
  (_PVFV)0x232B333B,
  (_PVFV)0x30B131B,
  (_PVFV)0x242C343C,
  (_PVFV)0x272F373F,
  (_PVFV)0x70F171F,
  (_PVFV)0x262E363E,
  (_PVFV)0x60E161E,
  (_PVFV)0x252D353D,
  (_PVFV)0x50D151D,
  (_PVFV)0x40C141C,
  (_PVFV)0x6040201,
  (_PVFV)0xE0C0A08,
  (_PVFV)0x1513110F,
  (_PVFV)0x1C1B1917,
  (_PVFV)0x180B110E,
  (_PVFV)0x1C030501,
  (_PVFV)0xA15060F,
  (_PVFV)0x40C1317,
  (_PVFV)0x710081A,
  (_PVFV)0x20D141B,
  (_PVFV)0x251F3429,
  (_PVFV)0x281E372F,
  (_PVFV)0x30212D33,
  (_PVFV)0x3827312C,
  (_PVFV)0x2A2E3522,
  (_PVFV)0x201D2432,
  (_PVFV)0x10D040E,
  (_PVFV)0x80B0F02,
  (_PVFV)0xC060A03,
  (_PVFV)0x7000905,
  (_PVFV)0x4070F00,
  (_PVFV)0x10D020E,
  (_PVFV)0xB0C060A,
  (_PVFV)0x8030509,
  (_PVFV)0x80E0104,
  (_PVFV)0xB02060D,
  (_PVFV)0x7090C0F,
  (_PVFV)0x50A03,
  (_PVFV)0x2080C0F,
  (_PVFV)0x7010904,
  (_PVFV)0xE030B05,
  (_PVFV)0xD06000A,
  (_PVFV)0xE08010F,
  (_PVFV)0x4030B06,
  (_PVFV)0xD020709,
  (_PVFV)0xA05000C,
  (_PVFV)0x7040D03,
  (_PVFV)0xE08020F,
  (_PVFV)0xA01000C,
  (_PVFV)0x50B0906,
  (_PVFV)0xB070E00,
  (_PVFV)0x10D040A,
  (_PVFV)0x60C0805,
  (_PVFV)0xF020309,
  (_PVFV)0x10A080D,
  (_PVFV)0x2040F03,
  (_PVFV)0xC07060B,
  (_PVFV)0x90E0500,
  (_PVFV)0xE09000A,
  (_PVFV)0x50F0306,
  (_PVFV)0x70C0D01,
  (_PVFV)0x802040B,
  (_PVFV)0x900070D,
  (_PVFV)0xA060403,
  (_PVFV)0xE050802,
  (_PVFV)0x10F0B0C,
  (_PVFV)0x904060D,
  (_PVFV)0x30F08,
  (_PVFV)0xC02010B,
  (_PVFV)0x70E0A05,
  (_PVFV)0xD0A01,
  (_PVFV)0x7080906,
  (_PVFV)0x30E0F04,
  (_PVFV)0xC02050B,
  (_PVFV)0x30E0D07,
  (_PVFV)0xA090600,
  (_PVFV)0x5080201,
  (_PVFV)0xF040C0B,
  (_PVFV)0x50B080D,
  (_PVFV)0x3000F06,
  (_PVFV)0xC020704,
  (_PVFV)0x90E0A01,
  (_PVFV)0x9060A,
  (_PVFV)0xD070B0C,
  (_PVFV)0xE03010F,
  (_PVFV)0x4080205,
  (_PVFV)0x6000F03,
  (_PVFV)0x80D010A,
  (_PVFV)0xB050409,
  (_PVFV)0xE02070C,
  (_PVFV)0x1040C02,
  (_PVFV)0x60B0A07,
  (_PVFV)0xF030508,
  (_PVFV)0x90E000D,
  (_PVFV)0xC020B0E,
  (_PVFV)0x10D0704,
  (_PVFV)0xA0F0005,
  (_PVFV)0x6080903,
  (_PVFV)0xB010204,
  (_PVFV)0x8070D0A,
  (_PVFV)0x50C090F,
  (_PVFV)0xE000306,
  (_PVFV)0x70C080B,
  (_PVFV)0xD020E01,
  (_PVFV)0x9000F06,
  (_PVFV)0x305040A,
  (_PVFV)0xF0A010C,
  (_PVFV)0x8060209,
  (_PVFV)0x4030D00,
  (_PVFV)0xB05070E,
  (_PVFV)0x2040F0A,
  (_PVFV)0x5090C07,
  (_PVFV)0xE0D0106,
  (_PVFV)0x8030B00,
  (_PVFV)0x50F0E09,
  (_PVFV)0x30C0802,
  (_PVFV)0xA040007,
  (_PVFV)0x60B0D01,
  (_PVFV)0xC020304,
  (_PVFV)0xA0F0509,
  (_PVFV)0x7010E0B,
  (_PVFV)0xD080006,
  (_PVFV)0xE020B04,
  (_PVFV)0xD08000F,
  (_PVFV)0x7090C03,
  (_PVFV)0x1060A05,
  (_PVFV)0x70B000D,
  (_PVFV)0xA010904,
  (_PVFV)0xC05030E,
  (_PVFV)0x6080F02,
  (_PVFV)0xD0B0401,
  (_PVFV)0xE07030C,
  (_PVFV)0x8060F0A,
  (_PVFV)0x2090500,
  (_PVFV)0x80D0B06,
  (_PVFV)0x70A0401,
  (_PVFV)0xF000509,
  (_PVFV)0xC03020E,
  (_PVFV)0x408020D,
  (_PVFV)0x10B0F06,
  (_PVFV)0xE03090A,
  (_PVFV)0x70C0005,
  (_PVFV)0x80D0F01,
  (_PVFV)0x407030A,
  (_PVFV)0xB06050C,
  (_PVFV)0x2090E00,
  (_PVFV)0x1040B07,
  (_PVFV)0x20E0C09,
  (_PVFV)0xD0A0600,
  (_PVFV)0x805030F,
  (_PVFV)0x70E0102,
  (_PVFV)0xD080A04,
  (_PVFV)0x90C0F,
  (_PVFV)0xB060503,
  (_PVFV)0x15140710,
  (_PVFV)0x111C0C1D,
  (_PVFV)0x1A170F01,
  (_PVFV)0xA1F1205,
  (_PVFV)0xE180802,
  (_PVFV)0x9031B20,
  (_PVFV)0x61E0D13,
  (_PVFV)0x19040B16,
  (_PVFV)0x80,
  (_PVFV)0x40,
  (_PVFV)0x20,
  (_PVFV)0x10,
  (_PVFV)8,
  (_PVFV)4,
  (_PVFV)2,
  (_PVFV)1,
  (_PVFV)8,
  (_PVFV)4,
  (_PVFV)2,
  (_PVFV)1
}; // idb
int dword_4AD638[] = { 0 }; // weak
int dword_4AD63C[199] =
{
  0,
  5,
  0,
  24,
  0,
  60,
  0,
  160,
  0,
  328,
  0,
  542,
  0,
  814,
  0,
  1157,
  0,
  1588,
  0,
  2250,
  0,
  3086,
  0,
  4135,
  0,
  5444,
  0,
  7068,
  0,
  9126,
  0,
  11660,
  0,
  14769,
  0,
  18572,
  0,
  23214,
  0,
  29155,
  0,
  36409,
  0,
  45245,
  0,
  55988,
  0,
  69026,
  0,
  85569,
  0,
  105656,
  0,
  130009,
  0,
  159494,
  0,
  195150,
  0,
  238225,
  0,
  290216,
  0,
  352918,
  0,
  428488,
  0,
  519513,
  0,
  629149,
  0,
  761081,
  0,
  919784,
  0,
  1110624,
  0,
  1340045,
  0,
  1615778,
  0,
  1947099,
  0,
  2345141,
  0,
  2823265,
  0,
  3397501,
  0,
  4087087,
  0,
  4915108,
  0,
  5909267,
  0,
  7102808,
  0,
  8535623,
  0,
  10255633,
  0,
  12320243,
  0,
  14798389,
  0,
  17772795,
  0,
  21342730,
  0,
  25627317,
  0,
  30769501,
  0,
  36940820,
  0,
  44347118,
  0,
  53235407,
  0,
  63902104,
  0,
  76702906,
  0,
  92064653,
  0,
  110499551,
  0,
  132622249,
  0,
  159170373,
  0,
  191028978,
  0,
  229260177,
  0,
  275138508,
  0,
  330193415,
  0,
  396260232,
  0,
  475541359,
  0,
  570679676,
  0,
  684846641,
  0,
  821848002,
  0,
  986250657,
  0,
  1183534883,
  0,
  1420277014,
  0,
  1704368650,
  0,
  2045279713,
  0,
  -1840593141,
  0,
  -1349678672,
  0,
  -760580154,
  0,
  -53660755,
  0,
  794643720,
  1,
  1812610306,
  1,
  -1260795851,
  1,
  205078772,
  2,
  1964129595,
  2,
  -219975416,
  2,
  -1981906653,
  3,
  1057737955,
  4,
  410345546,
  5,
  492469493,
  6,
  1450013087,
  7,
  -836907017,
  8,
  -1863222783,
  10,
  -1376813322,
  12,
  924866433,
  15,
  1109903264,
  18
}; // idb
_DWORD dword_4AD958[8] = { 1, 100, 0, 249186, 259443, 1, -1, 0 }; // idb
int dword_4AD978[36] =
{
  1,
  101,
  0,
  249575,
  257781,
  1,
  -1,
  1,
  101,
  0,
  250333,
  258664,
  1,
  0,
  1,
  101,
  0,
  248538,
  261538,
  0,
  1,
  1,
  101,
  0,
  248775,
  263384,
  2,
  1,
  1,
  101,
  0,
  252583,
  262508,
  2,
  1,
  0
}; // idb
int dword_4ADA08[70] =
{
  1,
  217,
  0,
  252436,
  262389,
  0,
  0,
  1,
  218,
  0,
  252631,
  262541,
  0,
  0,
  1,
  223,
  0,
  248643,
  263282,
  0,
  0,
  1,
  224,
  0,
  248797,
  263420,
  0,
  0,
  1,
  225,
  0,
  249578,
  257960,
  0,
  0,
  1,
  226,
  0,
  249578,
  257724,
  0,
  0,
  1,
  227,
  0,
  250135,
  258657,
  0,
  0,
  1,
  228,
  0,
  250372,
  258672,
  0,
  0,
  1,
  229,
  0,
  248544,
  261024,
  0,
  0,
  1,
  230,
  0,
  248532,
  261576,
  0,
  0
}; // idb
int dword_4ADB20[] = { 1 }; // weak
int dword_4ADB24[] = { 0 }; // weak
int dword_4ADB28[] = { 245760 }; // weak
int dword_4ADB2C[] = { 266592 }; // weak
int dword_4ADB30[] = { 254560 }; // weak
int dword_4ADB34[] = { 254144 }; // weak
int dword_4ADB38[] = { 0 }; // weak
LONG dword_4ADB3C = 1; // idb
LONG dword_4ADB40 = 1; // idb
LONG dword_4ADB44 = -1; // idb
int dword_4ADB48[24] =
{
  10000000,
  10000000,
  10000000,
  10000000,
  9200000,
  8200000,
  7000000,
  5600000,
  4000000,
  3200000,
  1200000,
  600000,
  400000,
  100000,
  50000,
  10000,
  1000,
  100,
  10,
  10,
  10,
  10,
  10,
  10
}; // idb
int dword_4ADBA8[24] =
{
  10000000,
  8900000,
  5300000,
  3700000,
  1900000,
  1400000,
  800000,
  300000,
  50000,
  10000,
  1000,
  100,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10
}; // idb
int dword_4ADC08[24] =
{
  10000000,
  6700000,
  3800000,
  1500000,
  900000,
  50000,
  10000,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10
}; // idb
int dword_4ADC68[102] =
{
  0,
  7680,
  9120,
  11520,
  14880,
  19200,
  24480,
  30720,
  37920,
  46080,
  55200,
  65280,
  76320,
  88320,
  101280,
  115200,
  130080,
  145920,
  162720,
  180480,
  199200,
  218880,
  239520,
  261120,
  283680,
  307200,
  331680,
  357120,
  383520,
  410880,
  439200,
  468480,
  498720,
  529920,
  562080,
  595200,
  629280,
  664320,
  700320,
  737280,
  775200,
  814080,
  853920,
  894720,
  936480,
  979200,
  1022880,
  1067520,
  1113120,
  1159680,
  1207200,
  1255680,
  1305120,
  1355520,
  1406880,
  1459200,
  1512480,
  1566720,
  1621920,
  1678080,
  1735200,
  1793280,
  1852320,
  1912320,
  1973280,
  2035200,
  2098080,
  2161920,
  2226720,
  2292480,
  2359200,
  2426880,
  2495520,
  2565120,
  2635680,
  2707200,
  2779680,
  2853120,
  2927520,
  3002880,
  3079200,
  3156480,
  3234720,
  3313920,
  3394080,
  3475200,
  3557280,
  3640320,
  3724320,
  3809280,
  3895200,
  3982080,
  4069920,
  4158720,
  4248480,
  4339200,
  4430880,
  4523520,
  4617120,
  4711680,
  4807200,
  0
}; // idb
int dword_4ADE00[20] = { 50, 46, 42, 38, 34, 30, 26, 22, 18, 14, 10, 8, 6, 4, 2, 1, 1, 1, 1, 1 }; // idb
int dword_4ADE50[22] = { 50, 40, 30, 20, 15, 10, 8, 6, 4, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0 }; // idb
int dword_4ADEA8[20] = { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 3, 3, 4, 5, 6 }; // idb
int dword_4ADEF8[22] =
{
  5,
  6,
  6,
  7,
  7,
  8,
  8,
  9,
  10,
  11,
  13,
  15,
  18,
  21,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  0
}; // idb
int dword_4ADF50[22] =
{
  0,
  0,
  0,
  1,
  1,
  2,
  2,
  3,
  4,
  5,
  6,
  10,
  18,
  29,
  74,
  100,
  100,
  100,
  100,
  100,
  100,
  0
}; // idb
int dword_4ADFA8[21] = { 0, 0, 0, 0, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4 }; // idb
int dword_4ADFFC[11] = { 0, 0, 0, 1, 3, 5, 8, 14, 29, 50, 100 }; // idb
int dword_4AE028[10] = { 10, 20, 20, 20, 20, 20, 20, 20, 20, 20 }; // idb
int dword_4AE050[] = { 2 }; // weak
int dword_4AE064[] = { 30 }; // weak
int dword_4AE068[] = { 4 }; // weak
int dword_4AE06C[] = { 1 }; // weak
int dword_4AE070[] = { 36 }; // weak
int dword_4AE074[] = { 45 }; // weak
int dword_4AE078[122] =
{
  60,
  3,
  3,
  0,
  0,
  4,
  40,
  4,
  1,
  45,
  45,
  60,
  4,
  2,
  0,
  0,
  6,
  20,
  3,
  1,
  45,
  54,
  80,
  4,
  3,
  0,
  0,
  3,
  30,
  3,
  1,
  54,
  54,
  80,
  4,
  6,
  0,
  0,
  2,
  40,
  4,
  1,
  18,
  36,
  100,
  3,
  4,
  0,
  0,
  3,
  50,
  4,
  1,
  27,
  45,
  100,
  0,
  6,
  2,
  0,
  4,
  20,
  1,
  4,
  27,
  18,
  80,
  0,
  4,
  3,
  0,
  3,
  30,
  1,
  4,
  36,
  27,
  80,
  0,
  4,
  2,
  6,
  0,
  30,
  1,
  3,
  27,
  18,
  100,
  0,
  0,
  3,
  4,
  3,
  40,
  1,
  3,
  36,
  27,
  120,
  4,
  4,
  0,
  6,
  4,
  40,
  4,
  1,
  45,
  45,
  80,
  0,
  4,
  4,
  6,
  4,
  40,
  1,
  4,
  36,
  36,
  100
}; // idb
int dword_4AE260 = 16711680; // idb
char *off_4AE26C = &Src; // weak
int dword_4AE270[] = { 55364 }; // weak
int dword_4AE274[9] = { 8354, 55370, 9801, 56642, 11073, 59369, 9802, 59369, 8352 }; // idb
int dword_4AE298[6] = { 1, 2, 10, 50, 300, 0 }; // idb
int dword_4AE2B0[] = { 239 }; // weak
int dword_4AE2B4[] = { 10 }; // weak
int dword_4AE2B8[] = { 266 }; // weak
int dword_4AE2BC[29] =
{
  5,
  239,
  10,
  267,
  2,
  239,
  10,
  268,
  1,
  240,
  100,
  269,
  1,
  240,
  200,
  270,
  1,
  241,
  1000,
  271,
  1,
  241,
  1000,
  272,
  1,
  446,
  500,
  447,
  1
}; // idb
int dword_4AE330[] = { 1 }; // weak
int dword_4AE334[] = { 1 }; // weak
int dword_4AE338[177] =
{
  200001,
  2,
  1,
  200002,
  3,
  1,
  200003,
  4,
  6,
  200004,
  5,
  8,
  200005,
  6,
  10,
  200006,
  7,
  11,
  200007,
  8,
  12,
  200008,
  9,
  13,
  200009,
  10,
  14,
  200010,
  11,
  15,
  200011,
  37,
  15,
  200066,
  12,
  16,
  200012,
  13,
  17,
  200013,
  14,
  18,
  200014,
  15,
  19,
  200015,
  16,
  20,
  200016,
  17,
  21,
  200017,
  18,
  23,
  200018,
  19,
  25,
  200019,
  20,
  26,
  200020,
  21,
  27,
  200021,
  22,
  28,
  200022,
  23,
  29,
  200023,
  27,
  30,
  200026,
  28,
  31,
  200027,
  29,
  32,
  200028,
  24,
  33,
  200024,
  30,
  34,
  200029,
  31,
  35,
  200030,
  25,
  36,
  200025,
  32,
  37,
  200031,
  33,
  38,
  200032,
  34,
  39,
  200033,
  35,
  40,
  200034,
  36,
  41,
  200047,
  39,
  41,
  200048,
  38,
  42,
  200049,
  40,
  42,
  200050,
  45,
  43,
  200051,
  41,
  43,
  200052,
  46,
  44,
  200053,
  42,
  44,
  200054,
  44,
  45,
  200055,
  43,
  45,
  200056,
  47,
  46,
  200057,
  48,
  47,
  200058,
  49,
  48,
  200059,
  50,
  49,
  200060,
  51,
  50,
  200061,
  52,
  51,
  200062,
  53,
  52,
  200063,
  58,
  53,
  200064,
  59,
  54,
  200065,
  60,
  55,
  200065,
  61,
  56,
  200065,
  62,
  57,
  200065,
  63,
  58,
  200065,
  64,
  59,
  200065,
  65,
  60
}; // idb
int dword_4AE5FC[4] = { 200065, 34280, 137140, 308571 }; // idb
int dword_4AE60C[4] = { 617142, 357, 761, 857 }; // idb
int dword_4AE61C[] = { 11 }; // weak
int dword_4AE620[] = { 50 }; // weak
int dword_4AE624[11] = { 5, 9, 36, 10, 7, 22, 15, 5, 8, 20, 0 }; // idb
int dword_4AE650[] = { 0 }; // weak
int dword_4AE654[149] =
{
  0,
  5,
  0,
  24,
  0,
  60,
  0,
  160,
  0,
  328,
  0,
  542,
  0,
  814,
  0,
  1157,
  0,
  1588,
  0,
  2250,
  0,
  3086,
  0,
  4135,
  0,
  5444,
  0,
  7068,
  0,
  9126,
  0,
  11660,
  0,
  14769,
  0,
  18572,
  0,
  23214,
  0,
  29155,
  0,
  36409,
  0,
  45245,
  0,
  55988,
  0,
  69026,
  0,
  85569,
  0,
  105656,
  0,
  130009,
  0,
  159494,
  0,
  195150,
  0,
  238225,
  0,
  290216,
  0,
  352918,
  0,
  428488,
  0,
  519513,
  0,
  629149,
  0,
  761081,
  0,
  919784,
  0,
  1110624,
  0,
  1340045,
  0,
  1615778,
  0,
  1947099,
  0,
  2345141,
  0,
  2823265,
  0,
  3397501,
  0,
  4087087,
  0,
  4915108,
  0,
  5909267,
  0,
  7102808,
  0,
  8535623,
  0,
  10255633,
  0,
  12320243,
  0,
  14798389,
  0,
  17772795,
  0,
  21342730,
  0,
  25627317,
  0,
  30769501,
  0,
  36940820,
  0,
  44347118,
  0,
  53235407,
  0,
  63902104,
  0,
  76702906,
  0,
  92064653,
  0,
  110499551,
  0,
  132622249,
  0,
  159170373,
  0,
  191028978,
  0,
  229260177,
  0,
  275138508,
  0,
  330193415,
  0,
  396260232,
  0,
  475541359,
  0,
  570679676,
  0,
  684846641,
  0,
  821848002,
  0
}; // idb
__int64 qword_4AE8A8 = 986250657i64; // weak
int dword_4AE970[3] = { 10, 14, 13 }; // idb
int dword_4AE97C[3] = { 13, 10, 12 }; // idb
_UNKNOWN unk_4AE988; // weak
int dword_4AE9DC[3] = { 654, 655, 656 }; // idb
int dword_4AE9E8[12] = { 500, 500, 3000, 10000, 0, 50, 5, 65, 0, 30, 5, 50 }; // idb
int dword_4AEA18[3] = { 10, 14, 13 }; // idb
int dword_4AEA24[231] =
{
  1,
  90,
  22,
  0,
  0,
  5,
  0,
  24,
  0,
  60,
  0,
  160,
  0,
  328,
  0,
  542,
  0,
  814,
  0,
  1157,
  0,
  1588,
  0,
  2250,
  0,
  3086,
  0,
  4135,
  0,
  5444,
  0,
  7068,
  0,
  9126,
  0,
  11660,
  0,
  14769,
  0,
  18572,
  0,
  23214,
  0,
  29155,
  0,
  36409,
  0,
  45245,
  0,
  55988,
  0,
  69026,
  0,
  85569,
  0,
  105656,
  0,
  130009,
  0,
  159494,
  0,
  195150,
  0,
  238225,
  0,
  290216,
  0,
  352918,
  0,
  428488,
  0,
  519513,
  0,
  629149,
  0,
  761081,
  0,
  919784,
  0,
  1110624,
  0,
  1340045,
  0,
  1615778,
  0,
  1947099,
  0,
  2345141,
  0,
  2823265,
  0,
  3397501,
  0,
  4087087,
  0,
  4915108,
  0,
  5909267,
  0,
  7102808,
  0,
  8535623,
  0,
  10255633,
  0,
  12320243,
  0,
  14798389,
  0,
  17772795,
  0,
  21342730,
  0,
  25627317,
  0,
  30769501,
  0,
  36940820,
  0,
  44347118,
  0,
  53235407,
  0,
  63902104,
  0,
  76702906,
  0,
  92064653,
  0,
  110499551,
  0,
  132622249,
  0,
  159170373,
  0,
  191028978,
  0,
  229260177,
  0,
  275138508,
  0,
  330193415,
  0,
  396260232,
  0,
  475541359,
  0,
  570679676,
  0,
  684846641,
  0,
  821848002,
  0,
  986250657,
  0,
  1183534883,
  0,
  1420277014,
  0,
  1704368650,
  0,
  2045279713,
  0,
  -1840593141,
  0,
  -1349678672,
  0,
  -760580154,
  0,
  -53660755,
  0,
  794643720,
  1,
  1812610306,
  1,
  -1260795851,
  1,
  205078772,
  2,
  1964129595,
  2,
  -219975416,
  2,
  -1981906653,
  3,
  1057737955,
  4,
  410345546,
  5,
  492469493,
  6,
  1450013087,
  7,
  -836907017,
  8,
  -1863222783,
  10,
  -1376813322,
  12,
  924866433,
  15,
  1109903264,
  18,
  10,
  14,
  13,
  13,
  10,
  12,
  18,
  16,
  8,
  8,
  10,
  180,
  120,
  8,
  10,
  18,
  16,
  8,
  170,
  140,
  14,
  10,
  8,
  10,
  18,
  160,
  160,
  0
}; // idb
int dword_4AEDC0[] = { 32 }; // weak
int dword_4AEDC4[601] =
{
  0,
  31,
  1,
  31,
  1,
  31,
  2,
  31,
  3,
  31,
  4,
  31,
  5,
  31,
  6,
  31,
  7,
  30,
  8,
  30,
  9,
  30,
  10,
  29,
  11,
  29,
  12,
  29,
  12,
  28,
  13,
  28,
  14,
  28,
  15,
  27,
  15,
  27,
  16,
  27,
  16,
  26,
  17,
  26,
  18,
  25,
  18,
  25,
  19,
  25,
  19,
  24,
  20,
  24,
  20,
  24,
  21,
  23,
  21,
  23,
  21,
  22,
  22,
  22,
  22,
  0,
  0,
  1,
  0,
  2,
  0,
  3,
  0,
  4,
  0,
  5,
  0,
  6,
  0,
  7,
  0,
  8,
  0,
  9,
  0,
  10,
  0,
  10,
  0,
  11,
  0,
  12,
  0,
  13,
  0,
  13,
  0,
  14,
  0,
  14,
  0,
  15,
  0,
  15,
  0,
  16,
  0,
  16,
  0,
  17,
  0,
  17,
  0,
  18,
  0,
  18,
  0,
  19,
  0,
  19,
  0,
  20,
  0,
  20,
  0,
  21,
  0,
  21,
  0,
  22,
  0,
  22,
  0,
  23,
  0,
  23,
  0,
  24,
  0,
  24,
  0,
  25,
  0,
  25,
  0,
  26,
  0,
  26,
  0,
  27,
  0,
  27,
  0,
  28,
  0,
  28,
  0,
  29,
  0,
  29,
  0,
  30,
  0,
  30,
  0,
  31,
  0,
  31,
  0,
  32,
  0,
  32,
  0,
  33,
  0,
  33,
  0,
  34,
  1,
  34,
  2,
  35,
  3,
  35,
  4,
  36,
  5,
  36,
  6,
  37,
  7,
  37,
  8,
  38,
  9,
  38,
  10,
  39,
  11,
  39,
  12,
  40,
  13,
  40,
  14,
  41,
  15,
  41,
  16,
  42,
  17,
  42,
  18,
  43,
  19,
  43,
  20,
  44,
  21,
  44,
  22,
  45,
  23,
  45,
  24,
  46,
  25,
  46,
  26,
  47,
  27,
  47,
  28,
  48,
  29,
  48,
  30,
  49,
  31,
  49,
  32,
  50,
  33,
  50,
  34,
  51,
  35,
  51,
  36,
  52,
  37,
  52,
  38,
  53,
  39,
  53,
  40,
  54,
  41,
  54,
  42,
  55,
  43,
  55,
  44,
  56,
  45,
  56,
  46,
  57,
  47,
  57,
  48,
  58,
  49,
  58,
  50,
  59,
  41,
  59,
  52,
  60,
  53,
  60,
  54,
  61,
  55,
  61,
  56,
  62,
  57,
  62,
  58,
  63,
  59,
  63,
  60,
  64,
  61,
  64,
  62,
  65,
  63,
  65,
  64,
  66,
  65,
  66,
  66,
  67,
  67,
  67,
  68,
  68,
  69,
  68,
  70,
  69,
  71,
  69,
  72,
  70,
  73,
  70,
  74,
  71,
  75,
  71,
  76,
  72,
  77,
  72,
  78,
  73,
  79,
  73,
  80,
  74,
  81,
  74,
  82,
  75,
  83,
  75,
  84,
  76,
  85,
  76,
  86,
  77,
  87,
  77,
  88,
  78,
  89,
  78,
  90,
  79,
  91,
  79,
  92,
  80,
  93,
  80,
  94,
  81,
  95,
  81,
  96,
  82,
  97,
  82,
  98,
  83,
  99,
  83,
  100,
  84,
  101,
  84,
  102,
  85,
  103,
  85,
  104,
  86,
  105,
  86,
  106,
  87,
  107,
  87,
  108,
  88,
  109,
  88,
  110,
  89,
  111,
  89,
  112,
  90,
  113,
  90,
  114,
  91,
  115,
  91,
  116,
  92,
  117,
  92,
  118,
  93,
  119,
  93,
  120,
  94,
  121,
  94,
  122,
  95,
  123,
  95,
  124,
  96,
  125,
  96,
  126,
  97,
  127,
  97,
  128,
  98,
  129,
  98,
  130,
  99,
  131,
  99,
  132,
  100,
  133,
  100,
  134,
  101,
  135,
  101,
  136,
  102,
  137,
  102,
  138,
  103,
  139,
  103,
  140,
  104,
  141,
  104,
  142,
  105,
  143,
  105,
  144,
  106,
  145,
  106,
  146,
  107,
  147,
  107,
  148,
  108,
  149,
  108,
  150,
  109,
  151,
  109,
  152,
  110,
  153,
  110,
  154,
  111,
  155,
  111,
  156,
  112,
  157,
  112,
  158,
  113,
  159,
  113,
  160,
  114,
  161,
  114,
  162,
  115,
  163,
  115,
  164,
  116,
  165,
  116,
  166,
  117,
  167,
  117,
  168,
  118,
  169,
  118,
  170,
  119,
  171,
  119,
  172,
  120,
  173,
  120,
  174,
  121,
  175,
  121,
  176,
  122,
  177,
  122,
  178,
  123,
  179,
  123,
  180,
  124,
  181,
  124,
  182,
  125,
  183,
  125,
  184,
  126,
  185,
  126,
  186,
  127,
  187,
  127,
  188,
  128,
  189,
  128,
  190,
  129,
  191,
  129,
  192,
  130,
  193,
  130,
  194,
  131,
  195,
  700,
  1000,
  800,
  0,
  0,
  258043,
  259381,
  16049,
  0,
  0,
  265022,
  262538,
  16190,
  0,
  0,
  266040,
  284976,
  22650,
  0,
  0,
  255825,
  288802,
  27050,
  0,
  0,
  267618,
  242946,
  19630,
  0,
  0,
  232954,
  294672,
  45300,
  0
}; // idb
_UNKNOWN unk_4AF728; // weak
int dword_4AF860[] = { 0 }; // weak
_UNKNOWN unk_4AF864; // weak
int dword_4AF8C0[250] =
{
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8
}; // idb
int dword_4AFCA8[250] =
{
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8
}; // idb
int dword_4B0090[102] =
{
  0,
  0,
  0,
  0,
  0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  16,
  17,
  18,
  19,
  20,
  22,
  24,
  26,
  28,
  30,
  32,
  34,
  36,
  38,
  40,
  43,
  46,
  49,
  52,
  55,
  58,
  61,
  64,
  67,
  70,
  74,
  78,
  82,
  86,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  0
}; // idb
int dword_4B0228[52] =
{
  50,
  52,
  52,
  54,
  54,
  56,
  56,
  58,
  58,
  60,
  60,
  62,
  62,
  64,
  64,
  66,
  66,
  68,
  68,
  70,
  70,
  72,
  72,
  74,
  74,
  76,
  76,
  78,
  78,
  80,
  80,
  82,
  82,
  84,
  84,
  86,
  86,
  88,
  88,
  90,
  90,
  95,
  95,
  95,
  95,
  95,
  95,
  95,
  95,
  95,
  95,
  0
}; // idb
int dword_4B02F8[100] =
{
  0,
  0,
  0,
  1,
  1,
  3,
  3,
  6,
  6,
  9,
  9,
  12,
  12,
  15,
  15,
  18,
  18,
  21,
  21,
  24,
  24,
  27,
  27,
  30,
  30,
  33,
  33,
  36,
  36,
  39,
  39,
  42,
  42,
  45,
  45,
  48,
  48,
  51,
  51,
  54,
  54,
  57,
  57,
  60,
  60,
  63,
  63,
  66,
  66,
  69,
  69,
  72,
  72,
  75,
  75,
  78,
  78,
  81,
  81,
  84,
  84,
  87,
  87,
  90,
  90,
  93,
  93,
  96,
  96,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99
}; // idb
int dword_4B0488[210] =
{
  0,
  0,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100
}; // idb
int dword_4B07D0[210] =
{
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100
}; // idb
int dword_4B0B18[61] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  10,
  10,
  20,
  20,
  30,
  30,
  40,
  40,
  50,
  50,
  60,
  60,
  70,
  70,
  80,
  80,
  90,
  90,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100
}; // idb
int dword_4B0C0C[14] = { 89, 83, 74, 65, 56, 48, 32, 19, 5, 3, 0, 91, 93, 95 }; // idb
int dword_4B0C44[7] = { 0, 25, 50, 75, 90, 95, 0 }; // idb
int dword_4B0C60[] = { 0 }; // weak
int dword_4B0F60[6] = { 4, 4, 5, 1, 5, 3 }; // idb
int dword_4B0F78[3] = { 4, 1, 2 }; // idb
int dword_4B0F84[11] = { 0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20 }; // idb
int dword_4B0FB0[16] = { 6, 7, 8, 9, 10, 70, 71, 72, 73, 74, 32, 33, 34, 35, 36, 0 }; // idb
int dword_4B0FF0[14] = { 30, 21, 15, 12, 9, 5, 1, 30, 21, 15, 12, 9, 5, 1 }; // idb
int dword_4B1028[8] = { 42, 26, 17, 14, 11, 6, 2, 0 }; // idb
int dword_4B1048[21] =
{
  0,
  10,
  11,
  11,
  12,
  12,
  13,
  13,
  14,
  14,
  15,
  15,
  16,
  16,
  17,
  17,
  18,
  18,
  19,
  19,
  20
}; // idb
int dword_4B109C[8] = { 100, 115, 130, 145, 160, 175, 190, 200 }; // idb
int dword_4B10BC[8] = { 100, 85, 70, 55, 40, 25, 10, 0 }; // idb
int dword_4B10DC[9] = { 100, 115, 130, 145, 160, 175, 190, 200, 0 }; // idb
int dword_4B1100[288] =
{
  100,
  100,
  100,
  100,
  100,
  100,
  85,
  85,
  85,
  85,
  85,
  85,
  85,
  85,
  85,
  85,
  70,
  70,
  70,
  70,
  70,
  55,
  55,
  55,
  40,
  40,
  40,
  25,
  25,
  25,
  10,
  0,
  0,
  1996959894,
  -301047508,
  -1727442502,
  124634137,
  1886057615,
  -379345611,
  -1637575261,
  249268274,
  2044508324,
  -522852066,
  -1747789432,
  162941995,
  2125561021,
  -407360249,
  -1866523247,
  498536548,
  1789927666,
  -205950648,
  -2067906082,
  450548861,
  1843258603,
  -187386543,
  -2083289657,
  325883990,
  1684777152,
  -43845254,
  -1973040660,
  335633487,
  1661365465,
  -99664541,
  -1928851979,
  997073096,
  1281953886,
  -715111964,
  -1570279054,
  1006888145,
  1258607687,
  -770865667,
  -1526024853,
  901097722,
  1119000684,
  -608450090,
  -1396901568,
  853044451,
  1172266101,
  -589951537,
  -1412350631,
  651767980,
  1373503546,
  -925412992,
  -1076862698,
  565507253,
  1454621731,
  -809855591,
  -1195530993,
  671266974,
  1594198024,
  -972236366,
  -1324619484,
  795835527,
  1483230225,
  -1050600021,
  -1234817731,
  1994146192,
  31158534,
  -1731059524,
  -271249366,
  1907459465,
  112637215,
  -1614814043,
  -390540237,
  2013776290,
  251722036,
  -1777751922,
  -519137256,
  2137656763,
  141376813,
  -1855689577,
  -429695999,
  1802195444,
  476864866,
  -2056965928,
  -228458418,
  1812370925,
  453092731,
  -2113342271,
  -183516073,
  1706088902,
  314042704,
  -1950435094,
  -54949764,
  1658658271,
  366619977,
  -1932296973,
  -69972891,
  1303535960,
  984961486,
  -1547960204,
  -725929758,
  1256170817,
  1037604311,
  -1529756563,
  -740887301,
  1131014506,
  879679996,
  -1385723834,
  -631195440,
  1141124467,
  855842277,
  -1442165665,
  -586318647,
  1342533948,
  654459306,
  -1106571248,
  -921952122,
  1466479909,
  544179635,
  -1184443383,
  -832445281,
  1591671054,
  702138776,
  -1328506846,
  -942167884,
  1504918807,
  783551873,
  -1212326853,
  -1061524307,
  -306674912,
  -1698712650,
  62317068,
  1957810842,
  -355121351,
  -1647151185,
  81470997,
  1943803523,
  -480048366,
  -1805370492,
  225274430,
  2053790376,
  -468791541,
  -1828061283,
  167816743,
  2097651377,
  -267414716,
  -2029476910,
  503444072,
  1762050814,
  -144550051,
  -2140837941,
  426522225,
  1852507879,
  -19653770,
  -1982649376,
  282753626,
  1742555852,
  -105259153,
  -1900089351,
  397917763,
  1622183637,
  -690576408,
  -1580100738,
  953729732,
  1340076626,
  -776247311,
  -1497606297,
  1068828381,
  1219638859,
  -670225446,
  -1358292148,
  906185462,
  1090812512,
  -547295293,
  -1469587627,
  829329135,
  1181335161,
  -882789492,
  -1134132454,
  628085408,
  1382605366,
  -871598187,
  -1156888829,
  570562233,
  1426400815,
  -977650754,
  -1296233688,
  733239954,
  1555261956,
  -1026031705,
  -1244606671,
  752459403,
  1541320221,
  -1687895376,
  -328994266,
  1969922972,
  40735498,
  -1677130071,
  -351390145,
  1913087877,
  83908371,
  -1782625662,
  -491226604,
  2075208622,
  213261112,
  -1831694693,
  -438977011,
  2094854071,
  198958881,
  -2032938284,
  -237706686,
  1759359992,
  534414190,
  -2118248755,
  -155638181,
  1873836001,
  414664567,
  -2012718362,
  -15766928,
  1711684554,
  285281116,
  -1889165569,
  -127750551,
  1634467795,
  376229701,
  -1609899400,
  -686959890,
  1308918612,
  956543938,
  -1486412191,
  -799009033,
  1231636301,
  1047427035,
  -1362007478,
  -640263460,
  1088359270,
  936918000,
  -1447252397,
  -558129467,
  1202900863,
  817233897,
  -1111625188,
  -893730166,
  1404277552,
  615818150,
  -1160759803,
  -841546093,
  1423857449,
  601450431,
  -1285129682,
  -1000256840,
  1567103746,
  711928724,
  -1274298825,
  -1022587231,
  1510334235,
  755167117
}; // idb
int (*off_4B1F60)(void) = &terminate; // weak
HANDLE hEvent = NULL; // idb
int dword_4B21A4 = 0; // weak
int dword_4B21A8 = 0; // weak
_UNKNOWN unk_4B21AC; // weak
int dword_4B21B0[4] = { 0, 0, 0, 0 }; // idb
LONG Target = 0; // idb
int dword_4B221C = 0; // weak
LONG dword_4B2220 = 0; // idb
int dword_4B2224 = 0; // weak
LONG dword_4B2228 = 0; // idb
LONG Addend = 0; // idb
int dword_4B2230 = 0; // weak
LONG dword_4B2234 = 0; // idb
int dword_4B2238 = 0; // weak
int dword_4B223C = 0; // weak
int dword_4B2240 = 0; // weak
int dword_4B2244 = 0; // weak
int dword_4B2248 = 0; // weak
int dword_4B224C = 0; // weak
int dword_4B2250 = 0; // weak
int dword_4B2254 = 0; // weak
_DWORD dword_4B2258[4] = { 0, 0, 0, 0 }; // idb
HANDLE hObject = NULL; // idb
int dword_4B226C = 0; // weak
_UNKNOWN unk_4B2270; // weak
_DWORD dword_4B2278[4] = { 0, 0, 0, 0 }; // idb
int dword_4B2288 = 0; // weak
int dword_4B22E4 = 0; // weak
LONG dword_4B22E8[6198] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  
}; // idb
int dword_4B83C0; // weak
LONG dword_4B83C4; // idb
_UNKNOWN unk_4B83C8; // weak
int dword_4B840C[3]; // idb
int dword_4B8418[3]; // idb
int dword_4B8424; // weak
int dword_4B8428[3]; // idb
int dword_4B8434[3]; // idb
_UNKNOWN unk_4B8440; // weak
HANDLE dword_4B8458; // idb
int dword_4B845C; // weak
int dword_4B8460; // weak
int dword_4B8464[3]; // idb
_UNKNOWN unk_4B8470; // weak
int dword_4B8488[3]; // idb
_UNKNOWN unk_4B8494; // weak
int dword_4B84B0[4]; // idb
int dword_4B8630; // weak
char dword_4B8634[]; // idb
LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter; // idb
CHAR byte_4B8640[264]; // idb
CHAR FileName[260]; // idb
__time32_t dword_4B884C; // idb
struct _RTL_CRITICAL_SECTION CriticalSection; // idb
char *dword_4B8868; // idb
int dword_4B886C; // idb
int dword_4B8870; // idb
_UNKNOWN unk_4B8874; // weak
int dword_4B8878; // weak
void *ArgList; // idb
int dword_4B8884; // idb
int dword_4B8888; // idb
DWORD nCount; // idb
int dword_4B8890[64]; // idb
HANDLE Handles[64]; // idb
int dword_4B8A90; // weak
HANDLE hHandle; // idb
LONG dword_4B8A98; // idb
LONG dword_4B8A9C; // idb
HANDLE CompletionPort; // idb
LONG dword_4B8AA4; // idb
_UNKNOWN unk_4B8AA8; // weak
_UNKNOWN unk_4B8ACC; // weak
_DWORD dword_4B8AE0[2]; // idb
LONG dword_4B8AE8[2]; // idb
_DWORD dword_4B8AF0[32]; // idb
LONG dword_4B8B70; // idb
int dword_4B8B74[3]; // idb
int dword_4B8B80[3]; // idb
int dword_4B8B8C[3]; // idb
_UNKNOWN unk_4B8B98; // weak
int dword_4B8BB0[3]; // idb
int dword_4B8BBC[3]; // idb
_UNKNOWN unk_4B8BC8; // weak
_UNKNOWN unk_4B8BCC; // weak
int dword_4B8BD0[3]; // idb
FILE *Stream; // idb
_UNKNOWN unk_4B8BE8; // weak
_UNKNOWN unk_4B8C1C; // weak
int dword_4B8C20; // weak
u_short hostshort; // idb
u_short dword_4B8C28; // idb
u_short dword_4B8C2C; // idb
char dword_4B8C30[]; // idb
int dword_4B8C34; // weak
int dword_4B8C38; // weak
int dword_4B8C3C; // weak
int dword_4B8C40; // weak
int dword_4B8C44; // weak
char dword_4B8C48[]; // idb
_UNKNOWN unk_4B8C4C; // weak
_UNKNOWN unk_4B8C68; // weak
_UNKNOWN unk_4B8C84; // weak
_UNKNOWN unk_4B8CA0; // weak
_UNKNOWN unk_4B8CBC; // weak
_UNKNOWN unk_4B8CD8; // weak
_UNKNOWN unk_4B8CF4; // weak
int dword_4B8D10[3]; // idb
_UNKNOWN unk_4B8D1C; // weak
HANDLE dword_4B8D38; // idb
CHAR ClassName[104]; // idb
CHAR WindowName[100]; // idb
HINSTANCE hInstance; // idb
int dword_4B8E10; // weak
LONG dword_4B8E18; // idb
int dword_4B8E20[16]; // idb
LONG dword_4B8E68; // idb
int dword_4B8E6C; // weak
int dword_4B8E70[3]; // idb
_UNKNOWN unk_4B8E7C; // weak
int dword_4B8E9C[3]; // idb
_UNKNOWN unk_4B8EA8; // weak
int dword_4B8EC0[3]; // idb
_UNKNOWN unk_4B8ECC; // weak
_DWORD dword_4B8EE8[22]; // idb
_UNKNOWN unk_4B8F40; // weak
_UNKNOWN unk_4B8F80; // weak
_UNKNOWN unk_4B8FE0; // weak
_UNKNOWN unk_4B9040; // weak
int dword_4B90A0[]; // weak
int dword_4B90C0; // weak
int dword_4B90C4; // weak
LONG dword_4B90C8; // idb
int dword_4B90CC[3]; // idb
int dword_4B90D8[3]; // idb
int dword_4B90E4[3]; // idb
_UNKNOWN unk_4B90F0; // weak
_UNKNOWN unk_4B9108; // weak
_UNKNOWN unk_4B9168; // weak
LONG dword_4B9188; // idb
int dword_4B918C[3]; // idb
int dword_4B9508[4]; // idb
LONG dword_4B9588; // idb
int dword_4B958C[3]; // idb
_UNKNOWN unk_4B9598; // weak
int dword_4B95B8; // weak
int dword_4B95BC; // weak
int dword_4B95C0; // weak
LONG dword_4B95C4; // idb
LONG dword_4B95C8; // idb
int dword_4B95CC; // weak
_DWORD dword_4B95D4[2]; // idb
LONG dword_4B95DC; // idb
int dword_4B95E0[3]; // idb
_UNKNOWN unk_4B95EC; // weak
int dword_4B9604[3]; // idb
_UNKNOWN unk_4B9610; // weak
int dword_4B9628[4]; // idb
_UNKNOWN unk_4B9638; // weak
_UNKNOWN unk_4B9658; // weak
_UNKNOWN unk_4B9678; // weak
int dword_4B9690[3]; // idb
_UNKNOWN unk_4B969C; // weak
_DWORD dword_4B96B4[4]; // idb
int dword_4B96C4[3]; // idb
_UNKNOWN unk_4B96D0; // weak
int dword_4B96E8; // weak
HWND hWnd; // idb
int dword_4B96F0; // weak
int dword_4B96F4; // weak
int dword_4B96F8; // weak
__time32_t Time; // idb
int dword_4B9704[3]; // idb
_UNKNOWN unk_4B9710; // weak
int dword_4B9720; // weak
_UNKNOWN unk_4B9728; // weak
int dword_4B9740; // weak
int dword_4B9744[3]; // idb
int dword_4B9750[4]; // idb
char dword_4B9760[]; // idb
int dword_4B9AD8[]; // weak
int dword_4B9BD8[]; // weak
int dword_4B9BFC[]; // weak
int dword_4B9C30; // weak
int dword_4B9C34[3]; // idb
_DWORD dword_4B9C40[480]; // idb
LONG dword_4BA3C0; // idb
_UNKNOWN unk_4BA3C4; // weak
int (__cdecl *dword_4BA3F8)(_DWORD); // weak
int dword_4BA400[210]; // idb
int dword_4BA748[210]; // idb
int dword_4BAA90; // weak
int dword_4BAA94; // weak
int dword_4BAA98; // weak
_UNKNOWN unk_4BAA9C; // weak
int dword_4BAAA0; // weak
char byte_4BAAA8[256]; // idb
LONG dword_4BABA8; // idb
int dword_4BABAC[]; // weak
int dword_4BABB0[32]; // idb
int dword_4BAC30; // weak
int dword_4BAC38; // weak


//----- (00401000) --------------------------------------------------------
CMemory **__cdecl sub_401000(size_t Size)
{
  return CMemory::_malloc(Size);
}

//----- (00401020) --------------------------------------------------------
void __cdecl sub_401020(void *a1)
{
  CMemory::_free(a1);
}

//----- (00401040) --------------------------------------------------------
void __userpurge CBillingPacket::OnIOCallback(CBillingPacket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  sub_401580(a2, a3, a4, (unsigned __int16 *)dwTransferred);
  CIOBuffer::Release(*((CIOBuffer **)this + 4));
  CMemoryPool<CBillingPacket>::Free(this);
}

//----- (00401070) --------------------------------------------------------
void __thiscall CIOBuffer::Release(CIOBuffer *this)
{
  if ( !InterlockedDecrement((volatile LONG *)this + 2001) )
    CIOBuffer::Free(this);
}

//----- (004010A0) --------------------------------------------------------
volatile int *__usercall CDBSocket::CDBSocket_0@<eax>(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOSocket::CIOSocket((int)a1, a2, a3, a4, 0);
  *a1 = (volatile int)&off_49830C;
  sub_4010D0(a1, a2, a3, a4);
  return a1;
}
// 49830C: using guessed type void *(__thiscall *off_49830C)(CIOObject *__hidden this, unsigned int);

//----- (004010D0) --------------------------------------------------------
void __usercall sub_4010D0(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOObject::AddRef((CIOObject *)a1, a2, a3, a4, a1 + 3);
}

//----- (004010F0) --------------------------------------------------------
void __thiscall CIOObject::OnFree(CIOObject *this)
{
  if ( this )
    (**(void (__thiscall ***)(CIOObject *, int))this)(this, 1);
}

//----- (00401130) --------------------------------------------------------
CIOObject *__userpurge CIOObject::`vector deleting destructor'@<eax>(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int a5)
{
  sub_401160(this, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00401160) --------------------------------------------------------
_DWORD *__usercall sub_401160@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_49830C;
  return CIOSocket::_CIOSocket((int)a1, a2, a3, a4);
}
// 49830C: using guessed type void *(__thiscall *off_49830C)(CIOObject *__hidden this, unsigned int);

//----- (00401180) --------------------------------------------------------
int __usercall CAuthSocket::Start@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const char *v3; // eax
  const char *v4; // eax
  struct hostent *v6; // [esp+0h] [ebp-1Ch]
  struct sockaddr name; // [esp+4h] [ebp-18h] BYREF
  SOCKET s; // [esp+18h] [ebp-4h]

  s = socket(2, 1, 0);
  name.sa_family = 2;
  *(_DWORD *)&name.sa_data[2] = 0;
  *(_WORD *)name.sa_data = 0;
  bind(s, &name, 16);
  name.sa_family = 2;
  v3 = (const char *)sub_4012C0(&unk_4B8C84);
  *(_DWORD *)&name.sa_data[2] = inet_addr(v3);
  if ( *(_DWORD *)&name.sa_data[2] == -1 )
  {
    v4 = (const char *)sub_4012C0(&unk_4B8C84);
    v6 = gethostbyname(v4);
    if ( !v6 )
    {
LABEL_11:
      closesocket(s);
      return 0;
    }
    memcpy(&name.sa_data[2], *(const void **)v6->h_addr_list, v6->h_length);
  }
  *(_WORD *)name.sa_data = htons(hostshort);
  if ( connect(s, &name, 16) == -1 )
  {
    LOG_ERR("Can't connect to Auth Server");
    goto LABEL_11;
  }
  if ( !dword_4B21A8 )
    hEvent = CreateEventA(0, 1, 0, 0);
  CAuthSocket::Initialize((int)dword_4B21B0, a1, a2, a3, s);
  if ( !dword_4B21A8 )
    WaitForSingleObject(hEvent, 0xFFFFFFFF);
  return dword_4B21A8;
}
// 4B21A8: using guessed type int dword_4B21A8;

//----- (004012C0) --------------------------------------------------------
int __thiscall sub_4012C0(void *this)
{
  return unknown_libname_1(this, this);
}
// 401E80: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);

//----- (004012E0) --------------------------------------------------------
BOOL __usercall CAuthSocket::Stop@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  BOOL result; // eax

  dword_4B21A4 = 1;
  result = ResetEvent(hEvent);
  if ( Target != -1 )
  {
    CAuthSocket::Write(a1, a2, a3, 4, &Src);
    WaitForSingleObject(hEvent, 0xFFFFFFFF);
    result = CloseHandle(hEvent);
    hEvent = 0;
  }
  return result;
}
// 4B21A4: using guessed type int dword_4B21A4;

//----- (00401340) --------------------------------------------------------
void __userpurge CAuthSocket::Initialize(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, LONG Value)
{
  int v6; // [esp+4h] [ebp-8h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 20), a2, a3, a4);
  if ( InterlockedExchange(&Target, Value) == -1 )
    sub_4010D0(dword_4B21B0, a2, a3, a4);
  memset((void *)(a1 + 52), 0, 0x14u);
  memset((void *)(a1 + 72), 0, 0x14u);
  *(_DWORD *)(*(_DWORD *)(a1 + 92) + 8000) = 0;
  *(_DWORD *)(a1 + 104) = 0;
  while ( *(_DWORD *)(a1 + 96) )
  {
    v6 = *(_DWORD *)(a1 + 96);
    *(_DWORD *)(a1 + 96) = *(_DWORD *)(v6 + 8008);
    CIOBuffer::Free((CIOBuffer *)v6);
  }
  *(_DWORD *)(a1 + 100) = 0;
  *(_DWORD *)(a1 + 96) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 20), a2, a3, a4);
  CIOSocket::Initialize((CIOSocket *)a1, a2, a3, a4);
}

//----- (00401420) --------------------------------------------------------
void __userpurge CNMSocket::OnTimer(CNMSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int nId)
{
  if ( !dword_4B21A4 && !CAuthSocket::Start(a2, a3, a4) )
    CIOObject::AddTimer(this, a2, a3, a4, 0x2710u, 0);
}
// 4B21A4: using guessed type int dword_4B21A4;

//----- (00401450) --------------------------------------------------------
void __usercall sub_401450(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( !dword_4B21A8 || dword_4B21A4 )
  {
    SetEvent(hEvent);
  }
  else
  {
    LOG_ERR("Connection closed from Auth Server");
    CIOObject::AddTimer(a1, a2, a3, a4, 0x2710u, 0);
  }
}
// 4B21A4: using guessed type int dword_4B21A4;
// 4B21A8: using guessed type int dword_4B21A8;

//----- (004014A0) --------------------------------------------------------
void __usercall CAuthSocket::OnRead(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int dwNumberOfBytesTransferred; // [esp+4h] [ebp-14h]
  CIOObject *v6; // [esp+8h] [ebp-10h]
  unsigned int v7; // [esp+Ch] [ebp-Ch]
  unsigned __int16 *v8; // [esp+10h] [ebp-8h]
  unsigned int Size; // [esp+14h] [ebp-4h]

  Size = *(_DWORD *)(*(_DWORD *)(a1 + 92) + 8000);
  v8 = *(unsigned __int16 **)(a1 + 92);
  while ( 1 )
  {
    dwNumberOfBytesTransferred = (int)v8;
    if ( Size < 2 )
      break;
    v7 = *v8;
    if ( Size < v7 )
      break;
    Size -= v7;
    v8 = (unsigned __int16 *)((char *)v8 + v7);
    v6 = MemoryPool_CAuthPacket::_Alloc();
    *((_DWORD *)v6 + 4) = *(_DWORD *)(a1 + 92);
    sub_401530(*(volatile LONG **)(a1 + 92));
    CIOObject::PostObject(v6, dwNumberOfBytesTransferred);
  }
  CIOSocket::Read((CIOSocket *)a1, a2, a3, a4, Size);
}

//----- (00401530) --------------------------------------------------------
LONG __thiscall sub_401530(volatile LONG *this)
{
  return InterlockedIncrement(this + 2001);
}

//----- (00401550) --------------------------------------------------------
BOOL __thiscall CIOObject::PostObject(CIOObject *this, int nId)
{
  return PostQueuedCompletionStatus(CompletionPort, nId, (ULONG_PTR)this, 0);
}

//----- (00401580) --------------------------------------------------------
void __usercall sub_401580(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned __int16 *a4)
{
  char v4[4]; // [esp+4h] [ebp-B8h] BYREF
  char v5[4]; // [esp+8h] [ebp-B4h] BYREF
  unsigned __int16 v6; // [esp+Ch] [ebp-B0h] BYREF
  int v7; // [esp+10h] [ebp-ACh] BYREF
  int v8; // [esp+14h] [ebp-A8h] BYREF
  volatile int *v9; // [esp+18h] [ebp-A4h]
  int v10; // [esp+1Ch] [ebp-A0h] BYREF
  int v11; // [esp+20h] [ebp-9Ch] BYREF
  int v12; // [esp+24h] [ebp-98h] BYREF
  volatile int *v13; // [esp+28h] [ebp-94h]
  unsigned __int8 v14; // [esp+2Fh] [ebp-8Dh] BYREF
  int v15; // [esp+30h] [ebp-8Ch] BYREF
  unsigned __int8 v16; // [esp+37h] [ebp-85h] BYREF
  CIOObject *v17; // [esp+38h] [ebp-84h]
  int v18; // [esp+3Ch] [ebp-80h] BYREF
  volatile int *v19; // [esp+40h] [ebp-7Ch]
  unsigned __int8 v20; // [esp+47h] [ebp-75h] BYREF
  int v21; // [esp+48h] [ebp-74h] BYREF
  const char *v22; // [esp+4Ch] [ebp-70h] BYREF
  int v23; // [esp+50h] [ebp-6Ch] BYREF
  volatile int *v24; // [esp+54h] [ebp-68h]
  unsigned __int8 v25; // [esp+5Bh] [ebp-61h] BYREF
  int v26; // [esp+5Ch] [ebp-60h] BYREF
  const char *v27; // [esp+60h] [ebp-5Ch] BYREF
  int v28; // [esp+64h] [ebp-58h] BYREF
  volatile int *v29; // [esp+68h] [ebp-54h]
  int v30; // [esp+6Ch] [ebp-50h] BYREF
  volatile int *v31; // [esp+70h] [ebp-4Ch]
  unsigned __int16 v32; // [esp+74h] [ebp-48h] BYREF
  int v33; // [esp+78h] [ebp-44h] BYREF
  unsigned __int16 v34; // [esp+7Ch] [ebp-40h] BYREF
  int v35; // [esp+80h] [ebp-3Ch] BYREF
  volatile int *v36; // [esp+84h] [ebp-38h]
  unsigned __int8 v37; // [esp+8Bh] [ebp-31h] BYREF
  unsigned __int16 v38; // [esp+8Ch] [ebp-30h] BYREF
  unsigned __int16 v39; // [esp+90h] [ebp-2Ch] BYREF
  int v40; // [esp+94h] [ebp-28h] BYREF
  void *v41; // [esp+98h] [ebp-24h] BYREF
  volatile int *v42; // [esp+9Ch] [ebp-20h]
  unsigned __int8 v43; // [esp+A2h] [ebp-1Ah] BYREF
  unsigned __int8 v44; // [esp+A3h] [ebp-19h] BYREF
  int v45; // [esp+A4h] [ebp-18h] BYREF
  int v46; // [esp+A8h] [ebp-14h] BYREF
  int v47; // [esp+ACh] [ebp-10h] BYREF
  char v48; // [esp+B2h] [ebp-Ah] BYREF
  unsigned __int8 v49; // [esp+B3h] [ebp-9h] BYREF
  void *Src; // [esp+B4h] [ebp-8h]
  char v51[4]; // [esp+B8h] [ebp-4h]

  Src = (char *)a4 + 3;
  *(_DWORD *)v51 = *((unsigned __int8 *)a4 + 2);
  switch ( *(_DWORD *)v51 )
  {
    case 0:
      sub_485530(a1, a2, a3, Src, "bdb", &v49, &unk_4B21AC, &v48);
      if ( v49 <= 2u )
      {
        dword_4B21A8 = 1;
        SetEvent(hEvent);
        CAuthSocket::Write(a1, a2, a3, 8, "wb", dword_4B8C40, dword_4B8C3C);
        LOG_NORMAL("Auth server version (Version:%d)", v49);
        sub_46F720(a1, a2, a3);
      }
      else
      {
        LOG_ERR("Auth version is different (AuthSvr:%d, MainSvr:%d)", v49, 2);
        CIOSocket::Close((CIOSocket *)&unk_4B21B0, a1, a2, a3);
      }
      break;
    case 1:
      sub_485530(a1, a2, a3, Src, "ddbbdds", &v40, &v46, &v43, &v44, &v47, &v45, &v41);
      v42 = sub_46F6A0(a1, a2, a3, v40);
      if ( v42 )
      {
        sub_483AB0((int)v42, a1, a2, a3, v43, v46, v44, v47, v45, v41);
        sub_401C50(v42, a1, a2, a3);
      }
      else if ( v43 == 1 )
      {
        CAuthSocket::Write(a1, a2, a3, 2, "dddwbdddb", v40, v46, 0, 0, v44, v45, 0, 0, 7);
      }
      break;
    case 2:
      sub_485530(a1, a2, a3, Src, "dbww", &v35, &v37, &v38, &v39);
      v36 = sub_46F6A0(a1, a2, a3, v35);
      if ( v36 )
      {
        sub_483CC0((int)v36, a1, a2, a3, v37, v38, v39);
        sub_401C50(v36, a1, a2, a3);
      }
      break;
    case 3:
      sub_485530(a1, a2, a3, Src, "dwwd", &v30, &v32, &v34, &v33);
      v31 = sub_46F6A0(a1, a2, a3, v30);
      if ( v31 )
      {
        sub_483CF0((int)v31, a1, a2, a3, v32, v34, v33);
        sub_401C50(v31, a1, a2, a3);
      }
      break;
    case 4:
      sub_485530(a1, a2, a3, Src, "d", &v28);
      v29 = sub_46F6A0(a1, a2, a3, v28);
      if ( v29 )
      {
        sub_483F60((int)v29, a1, a2, a3);
        sub_401C50(v29, a1, a2, a3);
      }
      break;
    case 5:
      sub_485530(a1, a2, a3, Src, "dbds", &v23, &v25, &v26, &v27);
      v24 = sub_46F6A0(a1, a2, a3, v23);
      if ( v24 )
      {
        sub_483F90((int)v24, a1, a2, a3, v25, v26, v27);
        sub_401C50(v24, a1, a2, a3);
      }
      break;
    case 6:
      sub_485530(a1, a2, a3, Src, "dbds", &v18, &v20, &v21, &v22);
      v19 = sub_46F6A0(a1, a2, a3, v18);
      if ( v19 )
      {
        sub_484000((int)v19, a1, a2, a3, v20, v21, v22);
        sub_401C50(v19, a1, a2, a3);
      }
      break;
    case 7:
      Src = sub_485530(a1, a2, a3, Src, "db", &v15, &v16);
      v17 = sub_446740(a1, a2, a3, v15);
      if ( v17 )
      {
        sub_459290((unsigned int)v17, a1, a2, a3, v16, Src);
        CIOObject::Release(v17, a1, a2, a3, (volatile int *)v17 + 86);
      }
      break;
    case 8:
      CDBSocket::Write(a1, a2, a3, 53, "m", Src, (char *)a4 + *a4 - (_BYTE *)Src);
      break;
    case 9:
      if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
      {
        Src = sub_485530(a1, a2, a3, Src, "db", &v12, &v14);
        v13 = sub_46F6A0(a1, a2, a3, v12);
        if ( v13 )
        {
          sub_484340((int)v13, a1, a2, a3, v14, Src, (int)a4 + *a4);
          sub_401C50(v13, a1, a2, a3);
        }
      }
      break;
    case 0xA:
      sub_485530(a1, a2, a3, Src, "ddd", &v8, &v11, &v10);
      v9 = sub_46F6A0(a1, a2, a3, v8);
      if ( v9 )
      {
        CSocket::Write(a1, a2, a3, (int)v9, 81, "dd", v11, v10);
        sub_401C50(v9, a1, a2, a3);
      }
      break;
    case 0xB:
      Src = sub_485530(a1, a2, a3, Src, "dw", &v7, &v6);
      CGoods::ForcedStorageIn(a1, a2, a3, v7, v6, Src);
      break;
    case 0xC:
      Src = sub_485530(a1, a2, a3, Src, "ds", v5, v4);
      if ( *(int *)v5 >= 0 )
      {
        if ( *(_DWORD *)v5 )
        {
          if ( dword_4B8E10 )
          {
            LOG_INFO("[Shutdown] Shutdown's already started. (%d min. remains)", dword_4B8E10 / 60000);
          }
          else
          {
            if ( **(_BYTE **)v4 )
            {
              sub_446840(a1, a2, a3, 46, "s", *(_DWORD *)v4);
              if ( dword_4BAAA0 == 1 )
                LOG_NORMAL("[GM Command] Notice from Auth : %s", *(const char **)v4);
            }
            dword_4B8E10 = 60000 * *(_DWORD *)v5;
            SetTimer(hWnd, 2u, 0x2710u, 0);
            LOG_NORMAL("Shutdown's started. (%d min. remains)", *(_DWORD *)v5);
          }
        }
        else if ( dword_4B8E10 )
        {
          KillTimer(hWnd, 2u);
          dword_4B8E10 = 0;
          LOG_NORMAL("Shutdown's canceled.");
        }
      }
      else if ( **(_BYTE **)v4 )
      {
        sub_446840(a1, a2, a3, 46, "s", *(_DWORD *)v4);
        if ( dword_4BAAA0 == 1 )
          LOG_NORMAL("[GM Command] Notice from Auth : %s", *(const char **)v4);
      }
      break;
    default:
      LOG_ERR("invalid packet type at CAuthSocket::Process Type(%d)", *(_DWORD *)v51);
      break;
  }
}
// 4B21A8: using guessed type int dword_4B21A8;
// 4B8C3C: using guessed type int dword_4B8C3C;
// 4B8C40: using guessed type int dword_4B8C40;
// 4B8E10: using guessed type int dword_4B8E10;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00401C50) --------------------------------------------------------
void __usercall sub_401C50(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOObject::Release((CIOObject *)a1, a2, a3, a4, a1 + 3);
}

//----- (00401C70) --------------------------------------------------------
void __usercall CAuthSocket::Write(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char a4, ...)
{
  CMemory **v4; // [esp+4h] [ebp-Ch]
  va_list va; // [esp+1Ch] [ebp+Ch] BYREF

  va_start(va, a4);
  if ( Target != -1 )
  {
    v4 = CIOBuffer::Alloc();
    *((_BYTE *)v4 + 2) = a4;
    *(_WORD *)v4 = (unsigned __int16)WritePacket(a1, a2, a3, (char *)v4 + 3, (int)va) - (_WORD)v4;
    v4[2000] = (CMemory *)*(unsigned __int16 *)v4;
    CIOSocket::Write((CIOSocket *)&unk_4B21B0, a1, a2, a3, (CIOBuffer *)v4);
  }
}

//----- (00401CF0) --------------------------------------------------------
CIOObject *MemoryPool_CAuthPacket::_Alloc()
{
  CIOObject *result; // eax
  CIOObject *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2228);
  v3 = dword_4B2224;
  if ( dword_4B2224 )
  {
    dword_4B2224 = *(_DWORD *)(dword_4B2224 + 16);
    sub_401DA0(&dword_4B2228);
    result = (CIOObject *)v3;
  }
  else
  {
    sub_401DA0(&dword_4B2228);
    v2 = sub_401000(0x14u);
    if ( v2 )
      v1 = sub_401DF0((CIOObject *)v2);
    else
      v1 = 0;
    result = v1;
  }
  return result;
}
// 4B2224: using guessed type int dword_4B2224;

//----- (00401D70) --------------------------------------------------------
void __thiscall CIOSpinLock::Enter(CIOSpinLock *this)
{
  if ( InterlockedCompareExchange((volatile LONG *)this, 1, 0) )
    CIOSpinLock::Wait(this);
}

//----- (00401DA0) --------------------------------------------------------
LONG __thiscall sub_401DA0(volatile LONG *this)
{
  return InterlockedExchange(this, 0);
}

//----- (00401DC0) --------------------------------------------------------
void __cdecl CMemoryPool<CBillingPacket>::Free(CBillingPacket *pT)
{
  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2228);
  *((_DWORD *)pT + 4) = dword_4B2224;
  dword_4B2224 = (int)pT;
  sub_401DA0(&dword_4B2228);
}
// 4B2224: using guessed type int dword_4B2224;

//----- (00401DF0) --------------------------------------------------------
CIOObject *__thiscall sub_401DF0(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_49852C;
  return this;
}
// 49852C: using guessed type int (__stdcall *off_49852C)(int);

//----- (00401E10) --------------------------------------------------------
void __thiscall CIOObject::CIOObject(CIOObject *this)
{
  *(_DWORD *)this = &off_498544;
  *((_DWORD *)this + 1) = 1;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 1;
}
// 498544: using guessed type int (__stdcall *off_498544)(int);

//----- (00401E50) --------------------------------------------------------
_DWORD *__thiscall sub_401E50(_DWORD *this, char a2)
{
  sub_422250(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00401ED0) --------------------------------------------------------
LONG sub_401ED0()
{
  return CMemoryPool<CBillingPacket>::FreeAll();
}

//----- (00401EE0) --------------------------------------------------------
LONG CMemoryPool<CBillingPacket>::FreeAll()
{
  void (__thiscall ***v1)(_DWORD, int); // [esp+Ch] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2228);
  while ( 1 )
  {
    v1 = (void (__thiscall ***)(_DWORD, int))dword_4B2224;
    if ( !dword_4B2224 )
      break;
    dword_4B2224 = *(_DWORD *)(dword_4B2224 + 16);
    if ( v1 )
      (**v1)(v1, 1);
  }
  return sub_401DA0(&dword_4B2228);
}
// 4B2224: using guessed type int dword_4B2224;

//----- (00401F50) --------------------------------------------------------
void __thiscall sub_401F50(void *this)
{
  CMemoryPool_CSkill::_FreeAll(this);
}

//----- (00401F60) --------------------------------------------------------
void __cdecl CMemoryPool_CSkill::_FreeAll(void *a1)
{
  void *v1; // [esp+4h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2220);
  while ( 1 )
  {
    v1 = (void *)dword_4B221C;
    if ( !dword_4B221C )
      break;
    dword_4B221C = *(_DWORD *)(dword_4B221C + 4);
    sub_401020(v1);
  }
  sub_401DA0(&dword_4B2220);
}
// 4B221C: using guessed type int dword_4B221C;

//----- (00401FB0) --------------------------------------------------------
int __thiscall CBase::CBase(int this)
{
  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_498560;
  *(_DWORD *)(this + 16) = -6;
  *(_DWORD *)(this + 28) = InterlockedIncrement(&Addend);
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 20) = 0;
  InterlockedIncrement((volatile LONG *)(this + 8));
  InterlockedDecrement((volatile LONG *)(this + 12));
  return this;
}
// 498560: using guessed type int (__stdcall *off_498560)(int);

//----- (00402020) --------------------------------------------------------
void __usercall sub_402020(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOObject::Release((CIOObject *)a1, a2, a3, a4, a1 + 2);
}

//----- (00402040) --------------------------------------------------------
_DWORD *__userpurge sub_402040@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  CBase::_CBase(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00402070) --------------------------------------------------------
_DWORD *__usercall CBase::_CBase@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_498560;
  if ( a1[4] != -6 )
    EBREAK(a2, a3, a4);
  return sub_422250(a1);
}
// 498560: using guessed type int (__stdcall *off_498560)(int);

//----- (004020A0) --------------------------------------------------------
void __usercall CBase::OnFree(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( *(_DWORD *)(a1 + 16) != -6 )
    EBREAK(a2, a3, a4);
  if ( a1 )
    (**(void (__thiscall ***)(int, int))a1)(a1, 1);
}

//----- (004020F0) --------------------------------------------------------
int __thiscall CBase::Set(void *this, int a2, int a3)
{
  int result; // eax
  lisp::var *v4; // eax
  int v5; // ecx
  lisp::var *v6; // eax
  const char *v7; // eax
  int v8; // [esp-4h] [ebp-1Ch]
  char v10[8]; // [esp+4h] [ebp-14h] BYREF
  char v11[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v12[4]; // [esp+10h] [ebp-8h]
  char v13[4]; // [esp+14h] [ebp-4h] BYREF
  int v14; // [esp+20h] [ebp+8h]

  if ( a2 )
  {
    v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v10);
    v7 = (const char *)sub_4021E0(v6);
    LOG_ERR("invalid symbol(%d) value(%s) at CBase::Set", a2, v7);
    result = 0;
  }
  else
  {
    do
    {
      if ( (unsigned __int8)sub_402200(&a3) )
        return 1;
      lisp::var::pop((lisp::var *)&a3, (lisp::var *)v13);
      v4 = lisp::var::pop((lisp::var *)v13, (lisp::var *)v11);
      *(_DWORD *)v12 = sub_4021E0(v4);
      v14 = CObjectDB::FindSymbol(*(int *)v12);
      if ( !v14 )
      {
        LOG_ERR("invalid symbol(%s) at CBase::Set", *(const char **)v12);
        return 0;
      }
      v8 = v5;
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v13);
    }
    while ( (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 28))(this, v14, v8) );
    result = 0;
  }
  return result;
}
// 402168: variable 'v5' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (004021E0) --------------------------------------------------------
int __thiscall sub_4021E0(_DWORD *this)
{
  return (**(int (__thiscall ***)(_DWORD, _DWORD *))*this)(*this, this);
}

//----- (00402200) --------------------------------------------------------
int __thiscall sub_402200(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 24))(*this, this);
}

//----- (00402220) --------------------------------------------------------
lisp::var *__thiscall lisp::var::pop(lisp::var *this, lisp::var *result)
{
  int v2; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = *(_DWORD *)this;
  *(_DWORD *)this = *(_DWORD *)(*(int (__thiscall **)(lisp::var *))(**(_DWORD **)this + 16))(this);
  v2 = (*(int (__thiscall **)(int))(*(_DWORD *)v4 + 12))(v4);
  std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v2);
  return result;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (00402270) --------------------------------------------------------
CMemory **__userpurge CBaseList::Push@<eax>(CMemory *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  CMemory **v7; // [esp+4h] [ebp-4h]

  v7 = CMemoryPool_CBaseList::_Alloc();
  sub_4010D0(a5, a2, a3, a4);
  *v7 = (CMemory *)a5;
  v7[1] = a1;
  return v7;
}

//----- (004022B0) --------------------------------------------------------
int __usercall CBaseList::Pop@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v6; // [esp+4h] [ebp-4h]

  v6 = *(_DWORD *)(a1 + 4);
  sub_401C50(*(volatile int **)a1, a2, a3, a4);
  CMemoryPool_CBaseList::_Free(a1);
  return v6;
}

//----- (004022E0) --------------------------------------------------------
CMemory **CMemoryPool_CBaseList::_Alloc()
{
  CMemory **result; // eax
  int v1; // [esp+4h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2234);
  v1 = dword_4B2230;
  if ( dword_4B2230 )
  {
    dword_4B2230 = *(_DWORD *)(dword_4B2230 + 4);
    sub_401DA0(&dword_4B2234);
    result = (CMemory **)v1;
  }
  else
  {
    sub_401DA0(&dword_4B2234);
    result = sub_401000(8u);
  }
  return result;
}
// 4B2230: using guessed type int dword_4B2230;

//----- (00402340) --------------------------------------------------------
LONG __cdecl CMemoryPool_CBaseList::_Free(int a1)
{
  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2234);
  *(_DWORD *)(a1 + 4) = dword_4B2230;
  dword_4B2230 = a1;
  return sub_401DA0(&dword_4B2234);
}
// 4B2230: using guessed type int dword_4B2230;

//----- (00402370) --------------------------------------------------------
char *__thiscall sub_402370(char *this)
{
  unknown_libname_2(this + 4);
  return this;
}
// 401EB0: using guessed type int __thiscall unknown_libname_2(_DWORD);

//----- (00402390) --------------------------------------------------------
LONG sub_402390()
{
  return sub_4023A0();
}

//----- (004023A0) --------------------------------------------------------
LONG sub_4023A0()
{
  void *v1; // [esp+4h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2234);
  while ( 1 )
  {
    v1 = (void *)dword_4B2230;
    if ( !dword_4B2230 )
      break;
    dword_4B2230 = *(_DWORD *)(dword_4B2230 + 4);
    sub_401020(v1);
  }
  return sub_401DA0(&dword_4B2234);
}
// 4B2230: using guessed type int dword_4B2230;

//----- (004023F0) --------------------------------------------------------
_DWORD *__thiscall sub_4023F0(_DWORD *this)
{
  *this = off_4985F8;
  this[5] = 0;
  return this;
}
// 4985F8: using guessed type void *(__thiscall *off_4985F8[2])(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00402420) --------------------------------------------------------
int __stdcall CBuff::UpdateBuff(_DWORD *a1, int a2)
{
  if ( a1 )
    sub_402460(a1, 1);
  return 0;
}

//----- (00402460) --------------------------------------------------------
_DWORD *__thiscall sub_402460(_DWORD *this, char a2)
{
  sub_402490(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00402490) --------------------------------------------------------
_DWORD *__thiscall sub_402490(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  *this = off_4985F8;
  return result;
}
// 4985F8: using guessed type void *(__thiscall *off_4985F8[2])(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004024B0) --------------------------------------------------------
_DWORD *__cdecl sub_4024B0(int a1, int a2, int a3, int a4)
{
  _DWORD *v4; // eax
  _DWORD *v6; // [esp+0h] [ebp-49Ch]
  _DWORD *v7; // [esp+4h] [ebp-498h]
  _DWORD *v8; // [esp+8h] [ebp-494h]
  _DWORD *v9; // [esp+Ch] [ebp-490h]
  _DWORD *v10; // [esp+10h] [ebp-48Ch]
  _DWORD *v11; // [esp+14h] [ebp-488h]
  _DWORD *v12; // [esp+18h] [ebp-484h]
  _DWORD *v13; // [esp+1Ch] [ebp-480h]
  _DWORD *v14; // [esp+20h] [ebp-47Ch]
  _DWORD *v15; // [esp+24h] [ebp-478h]
  _DWORD *v16; // [esp+28h] [ebp-474h]
  _DWORD *v17; // [esp+2Ch] [ebp-470h]
  _DWORD *v18; // [esp+30h] [ebp-46Ch]
  _DWORD *v19; // [esp+34h] [ebp-468h]
  _DWORD *v20; // [esp+38h] [ebp-464h]
  _DWORD *v21; // [esp+3Ch] [ebp-460h]
  _DWORD *v22; // [esp+40h] [ebp-45Ch]
  _DWORD *v23; // [esp+44h] [ebp-458h]
  _DWORD *v24; // [esp+48h] [ebp-454h]
  _DWORD *v25; // [esp+4Ch] [ebp-450h]
  _DWORD *v26; // [esp+50h] [ebp-44Ch]
  _DWORD *v27; // [esp+54h] [ebp-448h]
  _DWORD *v28; // [esp+58h] [ebp-444h]
  _DWORD *v29; // [esp+5Ch] [ebp-440h]
  _DWORD *v30; // [esp+60h] [ebp-43Ch]
  _DWORD *v31; // [esp+64h] [ebp-438h]
  _DWORD *v32; // [esp+68h] [ebp-434h]
  _DWORD *v33; // [esp+6Ch] [ebp-430h]
  _DWORD *v34; // [esp+70h] [ebp-42Ch]
  _DWORD *v35; // [esp+74h] [ebp-428h]
  _DWORD *v36; // [esp+78h] [ebp-424h]
  _DWORD *v37; // [esp+7Ch] [ebp-420h]
  _DWORD *v38; // [esp+80h] [ebp-41Ch]
  _DWORD *v39; // [esp+84h] [ebp-418h]
  _DWORD *v40; // [esp+88h] [ebp-414h]
  _DWORD *v41; // [esp+8Ch] [ebp-410h]
  _DWORD *v42; // [esp+90h] [ebp-40Ch]
  _DWORD *v43; // [esp+94h] [ebp-408h]
  _DWORD *v44; // [esp+98h] [ebp-404h]
  _DWORD *v45; // [esp+9Ch] [ebp-400h]
  _DWORD *v46; // [esp+A0h] [ebp-3FCh]
  _DWORD *v47; // [esp+A4h] [ebp-3F8h]
  _DWORD *v48; // [esp+A8h] [ebp-3F4h]
  _DWORD *v49; // [esp+ACh] [ebp-3F0h]
  _DWORD *v50; // [esp+B0h] [ebp-3ECh]
  _DWORD *v51; // [esp+B4h] [ebp-3E8h]
  _DWORD *v52; // [esp+B8h] [ebp-3E4h]
  _DWORD *v53; // [esp+BCh] [ebp-3E0h]
  _DWORD *v54; // [esp+C0h] [ebp-3DCh]
  _DWORD *v55; // [esp+C4h] [ebp-3D8h]
  _DWORD *v56; // [esp+C8h] [ebp-3D4h]
  _DWORD *v57; // [esp+CCh] [ebp-3D0h]
  _DWORD *v58; // [esp+D0h] [ebp-3CCh]
  _DWORD *v59; // [esp+D4h] [ebp-3C8h]
  _DWORD *v60; // [esp+D8h] [ebp-3C4h]
  _DWORD *v61; // [esp+DCh] [ebp-3C0h]
  _DWORD *v62; // [esp+E0h] [ebp-3BCh]
  _DWORD *v63; // [esp+E4h] [ebp-3B8h]
  _DWORD *v64; // [esp+E8h] [ebp-3B4h]
  _DWORD *v65; // [esp+ECh] [ebp-3B0h]
  _DWORD *v66; // [esp+F0h] [ebp-3ACh]
  _DWORD *v67; // [esp+F4h] [ebp-3A8h]
  _DWORD *v68; // [esp+F8h] [ebp-3A4h]
  _DWORD *v69; // [esp+FCh] [ebp-3A0h]
  _DWORD *v70; // [esp+100h] [ebp-39Ch]
  _DWORD *v71; // [esp+104h] [ebp-398h]
  _DWORD *v72; // [esp+108h] [ebp-394h]
  _DWORD *v73; // [esp+10Ch] [ebp-390h]
  _DWORD *v74; // [esp+110h] [ebp-38Ch]
  _DWORD *v75; // [esp+114h] [ebp-388h]
  _DWORD *v76; // [esp+118h] [ebp-384h]
  _DWORD *v77; // [esp+11Ch] [ebp-380h]
  _DWORD *v78; // [esp+120h] [ebp-37Ch]
  _DWORD *v79; // [esp+124h] [ebp-378h]
  _DWORD *v80; // [esp+128h] [ebp-374h]
  _DWORD *v81; // [esp+12Ch] [ebp-370h]
  _DWORD *v82; // [esp+130h] [ebp-36Ch]
  _DWORD *v83; // [esp+134h] [ebp-368h]
  _DWORD *v84; // [esp+138h] [ebp-364h]
  _DWORD *v85; // [esp+13Ch] [ebp-360h]
  _DWORD *v86; // [esp+140h] [ebp-35Ch]
  _DWORD *v87; // [esp+144h] [ebp-358h]
  _DWORD *v88; // [esp+148h] [ebp-354h]
  _DWORD *v89; // [esp+14Ch] [ebp-350h]
  _DWORD *v90; // [esp+150h] [ebp-34Ch]
  _DWORD *v91; // [esp+154h] [ebp-348h]
  _DWORD *v92; // [esp+158h] [ebp-344h]
  _DWORD *v93; // [esp+15Ch] [ebp-340h]
  _DWORD *v94; // [esp+160h] [ebp-33Ch]
  _DWORD *v95; // [esp+164h] [ebp-338h]
  _DWORD *v96; // [esp+168h] [ebp-334h]
  _DWORD *v97; // [esp+16Ch] [ebp-330h]
  _DWORD *v98; // [esp+170h] [ebp-32Ch]
  _DWORD *v99; // [esp+174h] [ebp-328h]
  _DWORD *v100; // [esp+178h] [ebp-324h]
  _DWORD *v101; // [esp+17Ch] [ebp-320h]
  _DWORD *v102; // [esp+180h] [ebp-31Ch]
  _DWORD *v103; // [esp+184h] [ebp-318h]
  _DWORD *v104; // [esp+188h] [ebp-314h]
  _DWORD *v105; // [esp+18Ch] [ebp-310h]
  _DWORD *v106; // [esp+190h] [ebp-30Ch]
  _DWORD *v107; // [esp+194h] [ebp-308h]
  _DWORD *v108; // [esp+198h] [ebp-304h]
  _DWORD *v109; // [esp+19Ch] [ebp-300h]
  _DWORD *v110; // [esp+1A0h] [ebp-2FCh]
  CMemory **v111; // [esp+1A8h] [ebp-2F4h]
  CMemory **v112; // [esp+1ACh] [ebp-2F0h]
  CMemory **v113; // [esp+1B0h] [ebp-2ECh]
  CMemory **v114; // [esp+1B4h] [ebp-2E8h]
  CMemory **v115; // [esp+1B8h] [ebp-2E4h]
  CMemory **v116; // [esp+1BCh] [ebp-2E0h]
  CMemory **v117; // [esp+1C0h] [ebp-2DCh]
  CMemory **v118; // [esp+1C4h] [ebp-2D8h]
  CMemory **v119; // [esp+1C8h] [ebp-2D4h]
  CMemory **v120; // [esp+1CCh] [ebp-2D0h]
  CMemory **v121; // [esp+1D0h] [ebp-2CCh]
  CMemory **v122; // [esp+1D4h] [ebp-2C8h]
  CMemory **v123; // [esp+1D8h] [ebp-2C4h]
  CMemory **v124; // [esp+1DCh] [ebp-2C0h]
  CMemory **v125; // [esp+1E0h] [ebp-2BCh]
  CMemory **v126; // [esp+1E4h] [ebp-2B8h]
  CMemory **v127; // [esp+1E8h] [ebp-2B4h]
  CMemory **v128; // [esp+1ECh] [ebp-2B0h]
  CMemory **v129; // [esp+1F0h] [ebp-2ACh]
  CMemory **v130; // [esp+1F4h] [ebp-2A8h]
  CMemory **v131; // [esp+1F8h] [ebp-2A4h]
  CMemory **v132; // [esp+1FCh] [ebp-2A0h]
  CMemory **v133; // [esp+200h] [ebp-29Ch]
  CMemory **v134; // [esp+204h] [ebp-298h]
  CMemory **v135; // [esp+208h] [ebp-294h]
  CMemory **v136; // [esp+20Ch] [ebp-290h]
  CMemory **v137; // [esp+210h] [ebp-28Ch]
  CMemory **v138; // [esp+214h] [ebp-288h]
  CMemory **v139; // [esp+218h] [ebp-284h]
  CMemory **v140; // [esp+21Ch] [ebp-280h]
  CMemory **v141; // [esp+220h] [ebp-27Ch]
  CMemory **v142; // [esp+224h] [ebp-278h]
  CMemory **v143; // [esp+228h] [ebp-274h]
  CMemory **v144; // [esp+22Ch] [ebp-270h]
  CMemory **v145; // [esp+230h] [ebp-26Ch]
  CMemory **v146; // [esp+234h] [ebp-268h]
  CMemory **v147; // [esp+238h] [ebp-264h]
  CMemory **v148; // [esp+23Ch] [ebp-260h]
  CMemory **v149; // [esp+240h] [ebp-25Ch]
  CMemory **v150; // [esp+244h] [ebp-258h]
  CMemory **v151; // [esp+248h] [ebp-254h]
  CMemory **v152; // [esp+24Ch] [ebp-250h]
  CMemory **v153; // [esp+250h] [ebp-24Ch]
  CMemory **v154; // [esp+254h] [ebp-248h]
  CMemory **v155; // [esp+258h] [ebp-244h]
  CMemory **v156; // [esp+25Ch] [ebp-240h]
  CMemory **v157; // [esp+260h] [ebp-23Ch]
  CMemory **v158; // [esp+264h] [ebp-238h]
  CMemory **v159; // [esp+268h] [ebp-234h]
  CMemory **v160; // [esp+26Ch] [ebp-230h]
  CMemory **v161; // [esp+270h] [ebp-22Ch]
  CMemory **v162; // [esp+274h] [ebp-228h]
  CMemory **v163; // [esp+278h] [ebp-224h]
  CMemory **v164; // [esp+27Ch] [ebp-220h]
  CMemory **v165; // [esp+280h] [ebp-21Ch]
  CMemory **v166; // [esp+284h] [ebp-218h]
  CMemory **v167; // [esp+288h] [ebp-214h]
  CMemory **v168; // [esp+28Ch] [ebp-210h]
  CMemory **v169; // [esp+290h] [ebp-20Ch]
  CMemory **v170; // [esp+294h] [ebp-208h]
  CMemory **v171; // [esp+298h] [ebp-204h]
  CMemory **v172; // [esp+29Ch] [ebp-200h]
  CMemory **v173; // [esp+2A0h] [ebp-1FCh]
  CMemory **v174; // [esp+2A4h] [ebp-1F8h]
  CMemory **v175; // [esp+2A8h] [ebp-1F4h]
  CMemory **v176; // [esp+2ACh] [ebp-1F0h]
  CMemory **v177; // [esp+2B0h] [ebp-1ECh]
  CMemory **v178; // [esp+2B4h] [ebp-1E8h]
  CMemory **v179; // [esp+2B8h] [ebp-1E4h]
  CMemory **v180; // [esp+2BCh] [ebp-1E0h]
  CMemory **v181; // [esp+2C0h] [ebp-1DCh]
  CMemory **v182; // [esp+2C4h] [ebp-1D8h]
  CMemory **v183; // [esp+2C8h] [ebp-1D4h]
  CMemory **v184; // [esp+2CCh] [ebp-1D0h]
  CMemory **v185; // [esp+2D0h] [ebp-1CCh]
  CMemory **v186; // [esp+2D4h] [ebp-1C8h]
  CMemory **v187; // [esp+2D8h] [ebp-1C4h]
  CMemory **v188; // [esp+2DCh] [ebp-1C0h]
  CMemory **v189; // [esp+2E0h] [ebp-1BCh]
  CMemory **v190; // [esp+2E4h] [ebp-1B8h]
  CMemory **v191; // [esp+2E8h] [ebp-1B4h]
  CMemory **v192; // [esp+2ECh] [ebp-1B0h]
  CMemory **v193; // [esp+2F0h] [ebp-1ACh]
  CMemory **v194; // [esp+2F4h] [ebp-1A8h]
  CMemory **v195; // [esp+2F8h] [ebp-1A4h]
  CMemory **v196; // [esp+2FCh] [ebp-1A0h]
  CMemory **v197; // [esp+300h] [ebp-19Ch]
  CMemory **v198; // [esp+304h] [ebp-198h]
  CMemory **v199; // [esp+308h] [ebp-194h]
  CMemory **v200; // [esp+30Ch] [ebp-190h]
  CMemory **v201; // [esp+310h] [ebp-18Ch]
  CMemory **v202; // [esp+314h] [ebp-188h]
  CMemory **v203; // [esp+318h] [ebp-184h]
  CMemory **v204; // [esp+31Ch] [ebp-180h]
  CMemory **v205; // [esp+320h] [ebp-17Ch]
  CMemory **v206; // [esp+324h] [ebp-178h]
  CMemory **v207; // [esp+328h] [ebp-174h]
  CMemory **v208; // [esp+32Ch] [ebp-170h]
  CMemory **v209; // [esp+330h] [ebp-16Ch]
  CMemory **v210; // [esp+334h] [ebp-168h]
  CMemory **v211; // [esp+338h] [ebp-164h]
  CMemory **v212; // [esp+33Ch] [ebp-160h]
  CMemory **v213; // [esp+344h] [ebp-158h]
  CMemory **v214; // [esp+348h] [ebp-154h]
  int v215; // [esp+490h] [ebp-Ch]
  _DWORD *v216; // [esp+498h] [ebp-4h]

  v216 = 0;
  v215 = a2;
  switch ( a1 )
  {
    case 0:
      v214 = sub_401000(0x1Cu);
      if ( v214 )
        v110 = CBuffMoveSpeed::CBuffMoveSpeed(v214, a1, 1000 * a2, a3);
      else
        v110 = 0;
      v216 = v110;
      break;
    case 1:
      v213 = sub_401000(0x1Cu);
      if ( v213 )
        v109 = CBuffStone::CBuffStone(v213, a1, 1000 * a2, a3, a4);
      else
        v109 = 0;
      v216 = v109;
      break;
    case 2:
      if ( sub_401000(0x1Cu) )
      {
        CBuffMeditation::CBuffMeditation(a1, 1000 * a2, a3);
        v108 = v4;
      }
      else
      {
        v108 = 0;
      }
      v216 = v108;
      break;
    case 3:
      v212 = sub_401000(0x1Cu);
      if ( v212 )
        v107 = sub_405530(v212, a1, 1000 * a2, a3, a4);
      else
        v107 = 0;
      v216 = v107;
      break;
    case 4:
      v211 = sub_401000(0x18u);
      if ( v211 )
        v106 = CBuffRevivalSequela::CBuffRevivalSequela(v211, a1, 1000 * a2, a3);
      else
        v106 = 0;
      v216 = v106;
      break;
    case 5:
      v210 = sub_401000(0x30u);
      if ( v210 )
        v105 = CBuffPrty::CBuffPrty(v210, a1, 1000 * a2, 1, 64, 0, 27, a3, 2, a3);
      else
        v105 = 0;
      v216 = v105;
      break;
    case 6:
      v209 = sub_401000(0x30u);
      if ( v209 )
        v104 = CBuffPrty::CBuffPrty(v209, a1, 1000 * a2, 1, 128, 0, 28, a3, 2, a3);
      else
        v104 = 0;
      v216 = v104;
      break;
    case 7:
      v208 = sub_401000(0x1Cu);
      if ( v208 )
        v103 = sub_4055A0(v208, a1, 1000 * a2, 0);
      else
        v103 = 0;
      v216 = v103;
      break;
    case 8:
      v207 = sub_401000(0x1Cu);
      if ( v207 )
        v102 = sub_4055E0(v207, a1, 1000 * a2, 0);
      else
        v102 = 0;
      v216 = v102;
      break;
    case 9:
      v206 = sub_401000(0x30u);
      if ( v206 )
        v101 = CBuffPrty::CBuffPrty(v206, a1, 1000 * a2, 2, 1024, 0, 9, a3, 1, 0);
      else
        v101 = 0;
      v216 = v101;
      break;
    case 10:
      v205 = sub_401000(0x30u);
      if ( v205 )
        v100 = CBuffPrty::CBuffPrty(v205, a1, 1000 * a2, 2, 2048, 0, 11, a3, 1, 0);
      else
        v100 = 0;
      v216 = v100;
      break;
    case 11:
      v204 = sub_401000(0x20u);
      if ( v204 )
        v99 = CBuffPoison::CBuffPoison(v204, a1, 1000 * a2, a3);
      else
        v99 = 0;
      v216 = v99;
      break;
    case 12:
      v203 = sub_401000(0x18u);
      if ( v203 )
        v98 = CBuffHaste::CBuffHaste(v203, a1, 1000 * a2, a3);
      else
        v98 = 0;
      v216 = v98;
      break;
    case 13:
      v202 = sub_401000(0x30u);
      if ( v202 )
        v97 = CBuffPrty::CBuffPrty(v202, a1, 1000 * a2, 2, 0x4000, 0, 37, a3, 2, 0);
      else
        v97 = 0;
      v216 = v97;
      break;
    case 14:
      v201 = sub_401000(0x30u);
      if ( v201 )
        v96 = CBuffPrty::CBuffPrty(v201, a1, 1000 * a2, 2, 0x8000, 0, 0, 0, 0, 0);
      else
        v96 = 0;
      v216 = v96;
      break;
    case 15:
      v200 = sub_401000(0x30u);
      if ( v200 )
        v95 = CBuffPrty::CBuffPrty(v200, a1, 1000 * a2, 4, 0x10000, 0, 0, 0, 0, 0);
      else
        v95 = 0;
      v216 = v95;
      break;
    case 16:
      v133 = sub_401000(0x1Cu);
      if ( v133 )
        v28 = sub_405D80(v133, a1, a2, 0, 128, 64);
      else
        v28 = 0;
      v216 = v28;
      break;
    case 17:
      v132 = sub_401000(0x1Cu);
      if ( v132 )
        v27 = sub_405D80(v132, a1, a2, 0, 256, 64);
      else
        v27 = 0;
      v216 = v27;
      break;
    case 18:
      v199 = sub_401000(0x18u);
      if ( v199 )
        v94 = sub_4056F0(v199, a1, 1000 * a2, a3);
      else
        v94 = 0;
      v216 = v94;
      break;
    case 19:
      v198 = sub_401000(0x18u);
      if ( v198 )
        v93 = sub_405720(v198, a1, 1000 * a2, a3);
      else
        v93 = 0;
      v216 = v93;
      break;
    case 20:
      v197 = sub_401000(0x30u);
      if ( v197 )
        v92 = CBuffPrty::CBuffPrty(v197, a1, 1000 * a2, 4, 0x400000, 0, 17, a3, 2, 0);
      else
        v92 = 0;
      v216 = v92;
      break;
    case 21:
      v196 = sub_401000(0x30u);
      if ( v196 )
        v91 = CBuffPrty::CBuffPrty(v196, a1, 1000 * a2, 4, 0x800000, 0, 9, a3, 2, 0);
      else
        v91 = 0;
      v216 = v91;
      break;
    case 22:
      v195 = sub_401000(0x30u);
      if ( v195 )
        v90 = CBuffPrty::CBuffPrty(v195, a1, 1000 * a2, 4, 0x1000000, 0, 0, 0, 0, 0);
      else
        v90 = 0;
      v216 = v90;
      break;
    case 23:
      v194 = sub_401000(0x30u);
      if ( v194 )
        v89 = CBuffPrty::CBuffPrty(v194, a1, 1000 * a2, 2, 0x2000000, 0, 0, 0, 0, 0);
      else
        v89 = 0;
      v216 = v89;
      break;
    case 24:
      v193 = sub_401000(0x30u);
      if ( v193 )
        v88 = CBuffPrty::CBuffPrty(v193, a1, 1000 * a2, 2, 0x4000000, 0, 0, 0, 0, 0);
      else
        v88 = 0;
      v216 = v88;
      break;
    case 25:
      v192 = sub_401000(0x30u);
      if ( v192 )
        v87 = CBuffPrty::CBuffPrty(v192, a1, 1000 * a2, 2, 0x8000000, 0, 0, 0, 0, 0);
      else
        v87 = 0;
      v216 = v87;
      break;
    case 26:
      v191 = sub_401000(0x1Cu);
      if ( v191 )
        v86 = sub_405750(v191, a1, 1000 * a2, a3);
      else
        v86 = 0;
      v216 = v86;
      break;
    case 27:
      v190 = sub_401000(0x30u);
      if ( v190 )
        v85 = CBuffPrty::CBuffPrty(v190, a1, 1000 * a2, 2, 0x20000000, 0, 15, a3, 2, a4);
      else
        v85 = 0;
      v216 = v85;
      break;
    case 28:
      v189 = sub_401000(0x1Cu);
      if ( v189 )
        v84 = sub_405790(v189, a1, 1000 * a2, a3, a4);
      else
        v84 = 0;
      v216 = v84;
      break;
    case 29:
      v181 = sub_401000(0x1Cu);
      if ( v181 )
        v76 = sub_4059E0(v181, a1, 1000 * a2, a3);
      else
        v76 = 0;
      v216 = v76;
      break;
    case 30:
      if ( !a3 )
        v215 = a2 + time(0);
      v144 = sub_401000(0x1Cu);
      if ( v144 )
        v39 = CBuffRemainEx::CBuffRemainEx(v144, a1, v215, 0, 2, 32);
      else
        v39 = 0;
      v216 = v39;
      break;
    case 31:
      if ( !a3 )
        v215 = a2 + time(0);
      v143 = sub_401000(0x1Cu);
      if ( v143 )
        v38 = CBuffRemainEx::CBuffRemainEx(v143, a1, v215, 0, 4, 32);
      else
        v38 = 0;
      v216 = v38;
      break;
    case 32:
      if ( !a3 )
        v215 = a2 + time(0);
      v142 = sub_401000(0x1Cu);
      if ( v142 )
        v37 = CBuffRemainEx::CBuffRemainEx(v142, a1, v215, 0, 8, 32);
      else
        v37 = 0;
      v216 = v37;
      break;
    case 33:
      if ( !a3 )
        v215 = a2 + time(0);
      v137 = sub_401000(0x1Cu);
      if ( v137 )
        v32 = sub_405D00(v137, a1, v215, 0, 16);
      else
        v32 = 0;
      v216 = v32;
      break;
    case 34:
      if ( !a3 )
        v215 = a2 + time(0);
      v136 = sub_401000(0x1Cu);
      if ( v136 )
        v31 = sub_405D00(v136, a1, v215, 0, 32);
      else
        v31 = 0;
      v216 = v31;
      break;
    case 35:
      if ( !a3 )
        v215 = a2 + time(0);
      v135 = sub_401000(0x1Cu);
      if ( v135 )
        v30 = sub_405D00(v135, a1, v215, 0, 64);
      else
        v30 = 0;
      v216 = v30;
      break;
    case 36:
      v180 = sub_401000(0x18u);
      if ( v180 )
        v75 = sub_405A20(v180, a1, 1000 * a2, a3);
      else
        v75 = 0;
      v216 = v75;
      break;
    case 37:
      v179 = sub_401000(0x30u);
      if ( v179 )
        v74 = CBuffPrty::CBuffPrty(v179, a1, 1000 * a2, 2, 0, 2, 15, a3, 1, a4);
      else
        v74 = 0;
      v216 = v74;
      break;
    case 38:
      v188 = sub_401000(0x1Cu);
      if ( v188 )
        v83 = sub_405850(v188, a1, 1000 * a2, a3);
      else
        v83 = 0;
      v216 = v83;
      break;
    case 39:
      v178 = sub_401000(0x1Cu);
      if ( v178 )
        v73 = sub_405A50(v178, a1, 1000 * a2, a3);
      else
        v73 = 0;
      v216 = v73;
      break;
    case 40:
      v177 = sub_401000(0x30u);
      if ( v177 )
        v72 = CBuffFlagPrty::CBuffFlagPrty(v177, a1, 1000 * a2, 1, 0, 16, 32, a3, 2, 0);
      else
        v72 = 0;
      v216 = v72;
      break;
    case 41:
      v176 = sub_401000(0x30u);
      if ( v176 )
        v71 = CBuffFlagPrty::CBuffFlagPrty(v176, a1, 1000 * a2, 1, 0, 32, 27, a3, 2, a3);
      else
        v71 = 0;
      v216 = v71;
      break;
    case 42:
      v175 = sub_401000(0x30u);
      if ( v175 )
        v70 = CBuffFlagPrty::CBuffFlagPrty(v175, a1, 1000 * a2, 1, 0, 64, 28, a3, 2, a3);
      else
        v70 = 0;
      v216 = v70;
      break;
    case 43:
      v174 = sub_401000(0x30u);
      if ( v174 )
        v69 = CBuffFlagPrty::CBuffFlagPrty(v174, a1, 1000 * a2, 1, 0, 128, 16, a3, 1, 0);
      else
        v69 = 0;
      v216 = v69;
      break;
    case 44:
      v173 = sub_401000(0x30u);
      if ( v173 )
        v68 = CBuffFlagPrty::CBuffFlagPrty(v173, a1, 1000 * a2, 1, 0, 256, 29, a3, 1, 0);
      else
        v68 = 0;
      v216 = v68;
      break;
    case 45:
      v172 = sub_401000(0x18u);
      if ( v172 )
        v67 = sub_405AF0(v172, a1, 1000 * a2, a3);
      else
        v67 = 0;
      v216 = v67;
      break;
    case 46:
      v170 = sub_401000(0x2Cu);
      if ( v170 )
        v65 = sub_405C50(v170, a1, 1000 * a2, 2, 1, 0, a3, 1, 0);
      else
        v65 = 0;
      v216 = v65;
      break;
    case 47:
      v169 = sub_401000(0x2Cu);
      if ( v169 )
        v64 = sub_405C50(v169, a1, 1000 * a2, 2, 2, 1, a3, 1, 0);
      else
        v64 = 0;
      v216 = v64;
      break;
    case 48:
      v168 = sub_401000(0x2Cu);
      if ( v168 )
        v63 = sub_405C50(v168, a1, 1000 * a2, 2, 4, 4, a3, 1, 0);
      else
        v63 = 0;
      v216 = v63;
      break;
    case 49:
      v167 = sub_401000(0x2Cu);
      if ( v167 )
        v62 = sub_405C50(v167, a1, 1000 * a2, 2, 8, 2, a3, 1, 0);
      else
        v62 = 0;
      v216 = v62;
      break;
    case 50:
      v166 = sub_401000(0x2Cu);
      if ( v166 )
        v61 = sub_405C50(v166, a1, 1000 * a2, 2, 16, 31, a3, 2, 0);
      else
        v61 = 0;
      v216 = v61;
      break;
    case 51:
      v131 = sub_401000(0x1Cu);
      if ( v131 )
        v26 = sub_405D80(v131, a1, a2, 0, 512, 32);
      else
        v26 = 0;
      v216 = v26;
      break;
    case 52:
      v130 = sub_401000(0x1Cu);
      if ( v130 )
        v25 = sub_405D80(v130, a1, a2, 0, 1024, 32);
      else
        v25 = 0;
      v216 = v25;
      break;
    case 53:
      v129 = sub_401000(0x1Cu);
      if ( v129 )
        v24 = sub_405ED0(v129, a1, a2, 0, 2048);
      else
        v24 = 0;
      v216 = v24;
      break;
    case 54:
      v128 = sub_401000(0x1Cu);
      if ( v128 )
        v23 = sub_405ED0(v128, a1, a2, 0, 4096);
      else
        v23 = 0;
      v216 = v23;
      break;
    case 55:
      v127 = sub_401000(0x1Cu);
      if ( v127 )
        v22 = sub_405D80(v127, a1, a2, 0, 0x2000, 32);
      else
        v22 = 0;
      v216 = v22;
      break;
    case 56:
      v126 = sub_401000(0x1Cu);
      if ( v126 )
        v21 = sub_405D80(v126, a1, a2, 0, 0x4000, 32);
      else
        v21 = 0;
      v216 = v21;
      break;
    case 57:
      v125 = sub_401000(0x1Cu);
      if ( v125 )
        v20 = sub_405D80(v125, a1, a2, 0, 0x8000, 32);
      else
        v20 = 0;
      v216 = v20;
      break;
    case 58:
      v124 = sub_401000(0x1Cu);
      if ( v124 )
        v19 = sub_405F50(v124, a1, a2, 0, 0x10000);
      else
        v19 = 0;
      v216 = v19;
      break;
    case 59:
      v123 = sub_401000(0x1Cu);
      if ( v123 )
        v18 = sub_405F50(v123, a1, a2, 0, 0x20000);
      else
        v18 = 0;
      v216 = v18;
      break;
    case 60:
      v122 = sub_401000(0x20u);
      if ( v122 )
        v17 = sub_405F10(v122, a1, a2, 5, 0, 0x40000);
      else
        v17 = 0;
      v216 = v17;
      break;
    case 61:
      v121 = sub_401000(0x20u);
      if ( v121 )
        v16 = sub_405F10(v121, a1, a2, 10, 1, 0x80000);
      else
        v16 = 0;
      v216 = v16;
      break;
    case 62:
      v120 = sub_401000(0x20u);
      if ( v120 )
        v15 = sub_405F10(v120, a1, a2, 5, 2, 0x100000);
      else
        v15 = 0;
      v216 = v15;
      break;
    case 63:
      v119 = sub_401000(0x20u);
      if ( v119 )
        v14 = sub_405F10(v119, a1, a2, 10, 3, 0x200000);
      else
        v14 = 0;
      v216 = v14;
      break;
    case 64:
      v118 = sub_401000(0x20u);
      if ( v118 )
        v13 = sub_405F10(v118, a1, a2, 5, 4, 0x400000);
      else
        v13 = 0;
      v216 = v13;
      break;
    case 65:
      v117 = sub_401000(0x1Cu);
      if ( v117 )
        v12 = sub_405E40(v117, a1, a2, 0, 0, 256);
      else
        v12 = 0;
      v216 = v12;
      break;
    case 66:
      v116 = sub_401000(0x1Cu);
      if ( v116 )
        v11 = CBuffRemainDeadEx::CBuffRemainDeadEx(v116, a1, a2, 0, 32);
      else
        v11 = 0;
      v216 = v11;
      break;
    case 67:
      v115 = sub_401000(0x1Cu);
      if ( v115 )
        v10 = CBuffRemainDeadEx::CBuffRemainDeadEx(v115, a1, a2, 0, 64);
      else
        v10 = 0;
      v216 = v10;
      break;
    case 68:
      v114 = sub_401000(0x1Cu);
      if ( v114 )
        v9 = CBuffRemainDeadEx::CBuffRemainDeadEx(v114, a1, a2, 0, 128);
      else
        v9 = 0;
      v216 = v9;
      break;
    case 69:
      v171 = sub_401000(0x1Cu);
      if ( v171 )
        v66 = sub_405B20(v171, a1, 1000 * a2, a3, a4);
      else
        v66 = 0;
      v216 = v66;
      break;
    case 70:
      v187 = sub_401000(0x24u);
      if ( v187 )
        v82 = sub_405910(v187, a1, 1000 * a2, a3, 16, 20, 64, 0);
      else
        v82 = 0;
      v216 = v82;
      break;
    case 71:
      v186 = sub_401000(0x24u);
      if ( v186 )
        v81 = sub_405910(v186, a1, 1000 * a2, a3, 16, 19, 128, 0);
      else
        v81 = 0;
      v216 = v81;
      break;
    case 72:
      v185 = sub_401000(0x24u);
      if ( v185 )
        v80 = sub_405910(v185, a1, 1000 * a2, a3, 16, 18, 256, 0);
      else
        v80 = 0;
      v216 = v80;
      break;
    case 73:
      v184 = sub_401000(0x24u);
      if ( v184 )
        v79 = sub_405910(v184, a1, 1000 * a2, a3, 16, 9, 512, 0);
      else
        v79 = 0;
      v216 = v79;
      break;
    case 74:
      v182 = sub_401000(0x24u);
      if ( v182 )
        v77 = sub_405910(v182, a1, 1000 * a2, a3, 16, 12, 1024, 0);
      else
        v77 = 0;
      v216 = v77;
      break;
    case 75:
      v183 = sub_401000(0x2Cu);
      if ( v183 )
        v78 = sub_405C50(v183, a1, 1000 * a2, 2, 2048, 15, a3, 1, a4);
      else
        v78 = 0;
      v216 = v78;
      break;
    case 76:
      v165 = sub_401000(0x2Cu);
      if ( v165 )
        v60 = sub_405C50(v165, a1, 1000 * a2, 2, 4096, 20, a3, 1, 0);
      else
        v60 = 0;
      v216 = v60;
      break;
    case 77:
      v164 = sub_401000(0x2Cu);
      if ( v164 )
        v59 = sub_405C50(v164, a1, 1000 * a2, 2, 0x2000, 19, a3, 1, 0);
      else
        v59 = 0;
      v216 = v59;
      break;
    case 78:
      v163 = sub_401000(0x2Cu);
      if ( v163 )
        v58 = sub_405C50(v163, a1, 1000 * a2, 2, 0x4000, 18, a3, 1, 0);
      else
        v58 = 0;
      v216 = v58;
      break;
    case 79:
      v162 = sub_401000(0x2Cu);
      if ( v162 )
        v57 = sub_405C50(v162, a1, 1000 * a2, 2, 0x8000, 21, a3, 1, 0);
      else
        v57 = 0;
      v216 = v57;
      break;
    case 80:
      v161 = sub_401000(0x2Cu);
      if ( v161 )
        v56 = sub_405C50(v161, a1, 1000 * a2, 2, 0x10000, 22, a3, 1, 0);
      else
        v56 = 0;
      v216 = v56;
      break;
    case 81:
      v160 = sub_401000(0x1Cu);
      if ( v160 )
        v55 = sub_405B60(v160, a1, 1000 * a2, a3);
      else
        v55 = 0;
      v216 = v55;
      break;
    case 82:
      v159 = sub_401000(0x2Cu);
      if ( v159 )
        v54 = sub_405C50(v159, a1, 1000 * a2, 1, 0x20000, 32, a3, 2, 0);
      else
        v54 = 0;
      v216 = v54;
      break;
    case 83:
      v158 = sub_401000(0x2Cu);
      if ( v158 )
        v53 = sub_405C50(v158, a1, 1000 * a2, 4, 0x40000, 38, a3, 3, 0);
      else
        v53 = 0;
      v216 = v53;
      break;
    case 84:
      v157 = sub_401000(0x1Cu);
      if ( v157 )
        v52 = sub_405BA0(v157, a1, 1000 * a2, a3);
      else
        v52 = 0;
      v216 = v52;
      break;
    case 85:
      v156 = sub_401000(0x2Cu);
      if ( v156 )
        v51 = sub_405C50(v156, a1, 1000 * a2, 4, 0x80000, 31, a3, 2, 0);
      else
        v51 = 0;
      v216 = v51;
      break;
    case 86:
      v155 = sub_401000(0x2Cu);
      if ( v155 )
        v50 = sub_405C50(v155, a1, 1000 * a2, 4, 0x100000, 0, a3, 2, 0);
      else
        v50 = 0;
      v216 = v50;
      break;
    case 87:
      v154 = sub_401000(0x2Cu);
      if ( v154 )
        v49 = sub_405C50(v154, a1, 1000 * a2, 4, 0x200000, 1, a3, 2, 0);
      else
        v49 = 0;
      v216 = v49;
      break;
    case 88:
      v153 = sub_401000(0x2Cu);
      if ( v153 )
        v48 = sub_405C50(v153, a1, 1000 * a2, 4, 0x400000, 4, a3, 2, 0);
      else
        v48 = 0;
      v216 = v48;
      break;
    case 89:
      v152 = sub_401000(0x2Cu);
      if ( v152 )
        v47 = sub_405C50(v152, a1, 1000 * a2, 4, 0x800000, 2, a3, 2, 0);
      else
        v47 = 0;
      v216 = v47;
      break;
    case 90:
      v151 = sub_401000(0x2Cu);
      if ( v151 )
        v46 = sub_405C50(v151, a1, 1000 * a2, 4, 0x1000000, 3, a3, 2, 0);
      else
        v46 = 0;
      v216 = v46;
      break;
    case 91:
      v150 = sub_401000(0x2Cu);
      if ( v150 )
        v45 = sub_405C50(v150, a1, 1000 * a2, 4, 0x2000000, 15, a3, 2, a4);
      else
        v45 = 0;
      v216 = v45;
      break;
    case 92:
      v149 = sub_401000(0x20u);
      if ( v149 )
        v44 = sub_405670(v149, a1, 1000 * a2, a3);
      else
        v44 = 0;
      v216 = v44;
      break;
    case 93:
      v148 = sub_401000(0x2Cu);
      if ( v148 )
        v43 = sub_405C50(v148, a1, 1000 * a2, 4, 0x4000000, 9, a3, 2, 0);
      else
        v43 = 0;
      v216 = v43;
      break;
    case 94:
      v147 = sub_401000(0x30u);
      if ( v147 )
        v42 = CBuffPrty::CBuffPrty(v147, a1, 1000 * a2, 4, 0, 0x2000, 0, 0, 0, 0);
      else
        v42 = 0;
      v216 = v42;
      break;
    case 95:
      v146 = sub_401000(0x30u);
      if ( v146 )
        v41 = CBuffPrty::CBuffPrty(v146, a1, 1000 * a2, 2, 0, 0x4000, 16, a3, 1, 0);
      else
        v41 = 0;
      v216 = v41;
      break;
    case 96:
      v145 = sub_401000(0x30u);
      if ( v145 )
        v40 = CBuffPrty::CBuffPrty(v145, a1, 1000 * a2, 2, 0, 0x8000, 29, a3, 1, 0);
      else
        v40 = 0;
      v216 = v40;
      break;
    case 97:
      if ( !a3 )
        v215 = a2 + time(0);
      v141 = sub_401000(0x1Cu);
      if ( v141 )
        v36 = CBuffRemainEx::CBuffRemainEx(v141, a1, v215, 0, 0x800000, 32);
      else
        v36 = 0;
      v216 = v36;
      break;
    case 98:
      if ( !a3 )
        v215 = a2 + time(0);
      v140 = sub_401000(0x1Cu);
      if ( v140 )
        v35 = CBuffRemainEx::CBuffRemainEx(v140, a1, v215, 0, 0x1000000, 32);
      else
        v35 = 0;
      v216 = v35;
      break;
    case 99:
      if ( !a3 )
        v215 = a2 + time(0);
      v139 = sub_401000(0x1Cu);
      if ( v139 )
        v34 = CBuffRemainEx::CBuffRemainEx(v139, a1, v215, 0, 0x2000000, 32);
      else
        v34 = 0;
      v216 = v34;
      break;
    case 100:
      v113 = sub_401000(0x1Cu);
      if ( v113 )
        v8 = sub_405F90(v113, a1, a2, 0, 0x4000000);
      else
        v8 = 0;
      v216 = v8;
      break;
    case 101:
      if ( !a3 )
        v215 = a2 + time(0);
      v138 = sub_401000(0x1Cu);
      if ( v138 )
        v33 = sub_405D40(v138, a1, v215, 0, 0x8000000);
      else
        v33 = 0;
      v216 = v33;
      break;
    case 102:
      if ( !a3 )
        v215 = a2 + time(0);
      v134 = sub_401000(0x1Cu);
      if ( v134 )
        v29 = CBuffRemainEx::CBuffRemainEx(v134, a1, v215, 0, 0x10000000, 128);
      else
        v29 = 0;
      v216 = v29;
      break;
    case 103:
      v112 = sub_401000(0x20u);
      if ( v112 )
        v7 = sub_405FD0(v112, a1, 1);
      else
        v7 = 0;
      v216 = v7;
      break;
    case 104:
      v111 = sub_401000(0x1Cu);
      if ( v111 )
        v6 = sub_405DD0(v111, a1, a2, 0, 256, 1);
      else
        v6 = 0;
      v216 = v6;
      break;
    default:
      LOG_ERR("CBuff::CreateBuff() Invalid Buff Type.(Buff:%d)", a1);
      break;
  }
  return v216;
}
// 402629: variable 'v4' is possibly undefined

//----- (00405420) --------------------------------------------------------
_DWORD *__thiscall CBuffMoveSpeed::CBuffMoveSpeed(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_498644;
  this[6] = 0;
  return this;
}
// 498644: using guessed type void *(__thiscall *off_498644)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405460) --------------------------------------------------------
_DWORD *__thiscall CBuff::CBuff(_DWORD *this, int a2, int a3, int a4, int a5)
{
  *this = off_4985F8;
  this[1] = a2;
  this[2] = a3 + GetTickCount();
  this[3] = a4;
  this[4] = a5;
  this[5] = 0;
  return this;
}
// 4985F8: using guessed type void *(__thiscall *off_4985F8[2])(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004054B0) --------------------------------------------------------
_DWORD *__thiscall CBuffStone::CBuffStone(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CBuff::CBuff(this, a2, a3, a4, 2);
  *this = &off_498660;
  this[6] = a5;
  return this;
}
// 498660: using guessed type void *(__thiscall *off_498660)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004054F0) --------------------------------------------------------
void __stdcall CBuffMeditation::CBuffMeditation(int a1, int a2, int a3)
{
  _DWORD *v3; // ecx
  _DWORD *v4; // [esp+0h] [ebp-4h]

  v4 = v3;
  CBuff::CBuff(v3, a1, a2, a3, 2);
  *v4 = &off_49867C;
  v4[6] = GetTickCount() + 4000;
}
// 4054F4: variable 'v3' is possibly undefined
// 49867C: using guessed type void *(__thiscall *off_49867C)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405530) --------------------------------------------------------
_DWORD *__thiscall sub_405530(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CBuff::CBuff(this, a2, a3, a4, 2);
  *this = &off_498698;
  this[6] = a5;
  return this;
}
// 498698: using guessed type void *(__thiscall *off_498698)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405570) --------------------------------------------------------
_DWORD *__thiscall CBuffRevivalSequela::CBuffRevivalSequela(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 1);
  *this = &off_4986B4;
  return this;
}
// 4986B4: using guessed type void *(__thiscall *off_4986B4)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004055A0) --------------------------------------------------------
_DWORD *__thiscall sub_4055A0(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_4986D0;
  this[6] = 0;
  return this;
}
// 4986D0: using guessed type void *(__thiscall *off_4986D0)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004055E0) --------------------------------------------------------
_DWORD *__thiscall sub_4055E0(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_4986EC;
  this[6] = 0;
  return this;
}
// 4986EC: using guessed type void *(__thiscall *off_4986EC)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405620) --------------------------------------------------------
_DWORD *__thiscall CBuffPoison::CBuffPoison(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_498708;
  this[6] = 0;
  this[7] = GetTickCount() + 2000;
  return this;
}
// 498708: using guessed type void *(__thiscall *off_498708)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405670) --------------------------------------------------------
_DWORD *__thiscall sub_405670(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_498724;
  this[6] = 0;
  this[7] = GetTickCount() + 2000;
  return this;
}
// 498724: using guessed type void *(__thiscall *off_498724)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004056C0) --------------------------------------------------------
_DWORD *__thiscall CBuffHaste::CBuffHaste(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 2);
  *this = &off_498740;
  return this;
}
// 498740: using guessed type void *(__thiscall *off_498740)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004056F0) --------------------------------------------------------
_DWORD *__thiscall sub_4056F0(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 1);
  *this = &off_49875C;
  return this;
}
// 49875C: using guessed type void *(__thiscall *off_49875C)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405720) --------------------------------------------------------
_DWORD *__thiscall sub_405720(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 1);
  *this = &off_498778;
  return this;
}
// 498778: using guessed type void *(__thiscall *off_498778)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405750) --------------------------------------------------------
_DWORD *__thiscall sub_405750(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_498794;
  this[6] = 0;
  return this;
}
// 498794: using guessed type void *(__thiscall *off_498794)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405790) --------------------------------------------------------
_DWORD *__thiscall sub_405790(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CBuff::CBuff(this, a2, a3, a4, 16);
  *this = &off_4987B0;
  this[6] = a5;
  return this;
}
// 4987B0: using guessed type void *(__thiscall *off_4987B0)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004057D0) --------------------------------------------------------
_DWORD *__thiscall CBuffCTDefensePer::Copy(void *this)
{
  _DWORD *v2; // [esp+0h] [ebp-Ch]
  CMemory **v4; // [esp+8h] [ebp-4h]

  v4 = sub_401000(0x1Cu);
  if ( v4 )
    v2 = CBuffCTDefensePer::CBuffCTDefensePer(v4, this);
  else
    v2 = 0;
  return v2;
}

//----- (00405810) --------------------------------------------------------
_DWORD *__thiscall CBuffCTDefensePer::CBuffCTDefensePer(_DWORD *this, void *Src)
{
  sub_4023F0(this);
  *this = &off_4987B0;
  memcpy(this, Src, 0x1Cu);
  return this;
}
// 4987B0: using guessed type void *(__thiscall *off_4987B0)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405850) --------------------------------------------------------
_DWORD *__thiscall sub_405850(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 16);
  *this = &off_4987CC;
  this[6] = GetTickCount() + 3000;
  return this;
}
// 4987CC: using guessed type void *(__thiscall *off_4987CC)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405890) --------------------------------------------------------
_DWORD *__thiscall sub_405890(void *this)
{
  _DWORD *v2; // [esp+0h] [ebp-Ch]
  CMemory **v4; // [esp+8h] [ebp-4h]

  v4 = sub_401000(0x1Cu);
  if ( v4 )
    v2 = sub_4058D0(v4, this);
  else
    v2 = 0;
  return v2;
}

//----- (004058D0) --------------------------------------------------------
_DWORD *__thiscall sub_4058D0(_DWORD *this, void *Src)
{
  sub_4023F0(this);
  *this = &off_4987CC;
  memcpy(this, Src, 0x1Cu);
  return this;
}
// 4987CC: using guessed type void *(__thiscall *off_4987CC)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405910) --------------------------------------------------------
_DWORD *__thiscall sub_405910(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  CBuff::CBuff(this, a2, a3, a4, a5);
  *this = &off_4987E8;
  this[7] = a6;
  this[8] = a7;
  this[6] = a8;
  return this;
}
// 4987E8: using guessed type void *(__thiscall *off_4987E8)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405960) --------------------------------------------------------
_DWORD *__thiscall CBuffCTPrtyPtEx::Copy(void *this)
{
  _DWORD *v2; // [esp+0h] [ebp-Ch]
  CMemory **v4; // [esp+8h] [ebp-4h]

  v4 = sub_401000(0x24u);
  if ( v4 )
    v2 = CBuffCTPrtyPtEx::CBuffCTPrtyPtEx(v4, this);
  else
    v2 = 0;
  return v2;
}

//----- (004059A0) --------------------------------------------------------
_DWORD *__thiscall CBuffCTPrtyPtEx::CBuffCTPrtyPtEx(_DWORD *this, void *Src)
{
  sub_4023F0(this);
  *this = &off_4987E8;
  memcpy(this, Src, 0x24u);
  return this;
}
// 4987E8: using guessed type void *(__thiscall *off_4987E8)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (004059E0) --------------------------------------------------------
_DWORD *__thiscall sub_4059E0(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_498804;
  this[6] = 0;
  return this;
}
// 498804: using guessed type void *(__thiscall *off_498804)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405A20) --------------------------------------------------------
_DWORD *__thiscall sub_405A20(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 2);
  *this = &off_498820;
  return this;
}
// 498820: using guessed type void *(__thiscall *off_498820)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405A50) --------------------------------------------------------
_DWORD *__thiscall sub_405A50(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_49883C;
  this[6] = 0;
  return this;
}
// 49883C: using guessed type void *(__thiscall *off_49883C)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405A90) --------------------------------------------------------
_DWORD *__thiscall CBuffFlagPrty::CBuffFlagPrty(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  CBuff::CBuff(this, a2, a3, a8, a4);
  *this = &off_498858;
  this[6] = a9;
  this[8] = a7;
  this[10] = a5;
  this[11] = a6;
  this[7] = a10;
  return this;
}
// 498858: using guessed type void *(__thiscall *off_498858)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405AF0) --------------------------------------------------------
_DWORD *__thiscall sub_405AF0(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 1);
  *this = &off_498874;
  return this;
}
// 498874: using guessed type void *(__thiscall *off_498874)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405B20) --------------------------------------------------------
_DWORD *__thiscall sub_405B20(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CBuff::CBuff(this, a2, a3, a4, 2);
  *this = &off_498890;
  this[6] = a5;
  return this;
}
// 498890: using guessed type void *(__thiscall *off_498890)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405B60) --------------------------------------------------------
_DWORD *__thiscall sub_405B60(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_4988AC;
  this[6] = 0;
  return this;
}
// 4988AC: using guessed type void *(__thiscall *off_4988AC)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405BA0) --------------------------------------------------------
_DWORD *__thiscall sub_405BA0(_DWORD *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  *this = &off_4988C8;
  this[6] = 0;
  return this;
}
// 4988C8: using guessed type void *(__thiscall *off_4988C8)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405BE0) --------------------------------------------------------
_DWORD *__thiscall CBuffPrty::CBuffPrty(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  CBuff::CBuff(this, a2, a3, a8, a4);
  *this = &off_4988E4;
  this[6] = 0;
  this[7] = a9;
  this[9] = a7;
  this[10] = a5;
  this[11] = a6;
  this[8] = a10;
  return this;
}
// 4988E4: using guessed type void *(__thiscall *off_4988E4)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405C50) --------------------------------------------------------
_DWORD *__thiscall sub_405C50(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  CBuff::CBuff(this, a2, a3, a7, a4);
  *this = &off_498900;
  this[6] = 0;
  this[7] = a8;
  this[9] = a6;
  this[10] = a5;
  this[8] = a9;
  return this;
}
// 498900: using guessed type void *(__thiscall *off_498900)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405CB0) --------------------------------------------------------
_DWORD *__thiscall CBuffRemainEx::CBuffRemainEx(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_4023F0(this);
  *this = off_49891C;
  this[1] = a2;
  this[2] = a3;
  this[3] = a4;
  this[6] = a5;
  this[4] = a6;
  return this;
}
// 49891C: using guessed type int (__stdcall *off_49891C[3])(int);

//----- (00405D00) --------------------------------------------------------
_DWORD *__thiscall sub_405D00(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CBuffRemainEx::CBuffRemainEx(this, a2, a3, a4, a5, 128);
  *this = &off_498938;
  return this;
}
// 498938: using guessed type void *(__thiscall *off_498938)(std::_Ref_count_base *__hidden this, const struct type_info *);

//----- (00405D40) --------------------------------------------------------
_DWORD *__thiscall sub_405D40(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CBuffRemainEx::CBuffRemainEx(this, a2, a3, a4, a5, 32);
  *this = off_498954;
  return this;
}
// 498954: using guessed type int (__stdcall *off_498954[3])(int);

//----- (00405D80) --------------------------------------------------------
_DWORD *__thiscall sub_405D80(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_4023F0(this);
  *this = off_498970;
  this[1] = a2;
  this[2] = a3;
  this[3] = a4;
  this[6] = a5;
  this[4] = a6;
  return this;
}
// 498970: using guessed type int (__stdcall *off_498970[3])(int);

//----- (00405DD0) --------------------------------------------------------
_DWORD *__thiscall sub_405DD0(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_405E20(this);
  *this = off_49898C;
  this[1] = a2;
  this[2] = a3;
  this[3] = a4;
  this[6] = a5;
  this[4] = a6;
  return this;
}
// 49898C: using guessed type int (__stdcall *off_49898C[3])(int);

//----- (00405E20) --------------------------------------------------------
_DWORD *__thiscall sub_405E20(_DWORD *this)
{
  sub_4023F0(this);
  *this = off_498970;
  return this;
}
// 498970: using guessed type int (__stdcall *off_498970[3])(int);

//----- (00405E40) --------------------------------------------------------
_DWORD *__thiscall sub_405E40(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_405E20(this);
  *this = off_4989A8;
  this[1] = a2;
  this[2] = a3;
  this[3] = a4;
  this[6] = a5;
  this[4] = a6;
  return this;
}
// 4989A8: using guessed type int (__stdcall *off_4989A8[3])(int);

//----- (00405E90) --------------------------------------------------------
_DWORD *__thiscall CBuffRemainDeadEx::CBuffRemainDeadEx(_DWORD *this, int a2, int a3, int a4, int a5)
{
  sub_405E40(this, a2, a3, a4, a5, 256);
  *this = off_4989C4;
  return this;
}
// 4989C4: using guessed type int (__stdcall *off_4989C4[3])(int);

//----- (00405ED0) --------------------------------------------------------
_DWORD *__thiscall sub_405ED0(_DWORD *this, int a2, int a3, int a4, int a5)
{
  sub_405D80(this, a2, a3, a4, a5, 32);
  *this = off_4989E0;
  return this;
}
// 4989E0: using guessed type int (__stdcall *off_4989E0[3])(int);

//----- (00405F10) --------------------------------------------------------
_DWORD *__thiscall sub_405F10(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_405D80(this, a2, a3, a4, a6, 32);
  *this = off_4989FC;
  this[7] = a5;
  return this;
}
// 4989FC: using guessed type int (__stdcall *off_4989FC[3])(int);

//----- (00405F50) --------------------------------------------------------
_DWORD *__thiscall sub_405F50(_DWORD *this, int a2, int a3, int a4, int a5)
{
  sub_405D80(this, a2, a3, a4, a5, 32);
  *this = off_498A18;
  return this;
}
// 498A18: using guessed type int (__stdcall *off_498A18[3])(int);

//----- (00405F90) --------------------------------------------------------
_DWORD *__thiscall sub_405F90(_DWORD *this, int a2, int a3, int a4, int a5)
{
  sub_405D80(this, a2, a3, a4, a5, 1);
  *this = off_498A34;
  return this;
}
// 498A34: using guessed type int (__stdcall *off_498A34[3])(int);

//----- (00405FD0) --------------------------------------------------------
_DWORD *__thiscall sub_405FD0(_DWORD *this, int a2, int a3)
{
  sub_405E20(this);
  *this = off_498A50;
  this[1] = a2;
  this[4] = a3;
  this[2] = 7200;
  this[3] = 0;
  this[7] = 0;
  return this;
}
// 498A50: using guessed type int (__stdcall *off_498A50[3])(int);

//----- (00406030) --------------------------------------------------------
int __stdcall sub_406030(int a1)
{
  return 1;
}

//----- (00406060) --------------------------------------------------------
BOOL __thiscall CBuff::IsExpired(_DWORD *this, int a2)
{
  return (int)(this[2] - GetTickCount()) <= 0;
}

//----- (00406090) --------------------------------------------------------
int __thiscall CBuffMoveSpeed::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 2, 0);
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 96))(a2, 32, 1, this[3]);
  return 1;
}

//----- (004060D0) --------------------------------------------------------
int __thiscall CBuffMoveSpeed::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 32, 0, this[3]);
  this[3] = 0;
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 2, 0);
}

//----- (00406110) --------------------------------------------------------
int __thiscall CBuffMoveSpeed::UpdateBuff(_DWORD *this, _DWORD *a2, int a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState((_QWORD *)a3, 2i64) )
    (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 2, 0);
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  *(_DWORD *)(a3 + 260) -= this[3];
  this[3] = a2[3];
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a3 + 96))(a3, 32, 1, this[3]);
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00406270) --------------------------------------------------------
__int64 __thiscall CChar::IsMState(_QWORD *this, __int64 a2)
{
  return a2 & this[36];
}

//----- (004062A0) --------------------------------------------------------
int __thiscall CBuffMoveSpeed::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 2i64) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (004062F0) --------------------------------------------------------
int __thiscall CBuffStone::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 92))(a2, 16, 1, this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 15, 1, this[6], this[6]);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 4, 0);
  return 1;
}

//----- (00406350) --------------------------------------------------------
int __thiscall CBuffStone::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 16, 0, this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 15, 0, this[6], this[6]);
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 4, 0);
}

//----- (004063B0) --------------------------------------------------------
int __stdcall CBuffMeditation::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 8, 0);
  return 1;
}

//----- (004063E0) --------------------------------------------------------
int __stdcall sub_4063E0(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 8, 0);
}

//----- (00406400) --------------------------------------------------------
BOOL __thiscall CBuffMeditation::IsExpired(_DWORD *this, _DWORD *a2)
{
  int v2; // esi
  _DWORD *v4; // [esp+0h] [ebp-14h]
  int v6; // [esp+Ch] [ebp-8h]
  DWORD v7; // [esp+10h] [ebp-4h]

  v7 = GetTickCount();
  if ( v7 >= this[6] )
  {
    if ( CChar::IsNormal(a2) && a2[69] < CChar::GetMaxMP(v4) )
    {
      v2 = this[3] * CChar::GetWis(a2) / 15;
      v6 = RandomBetween(0, this[3] + 1) + v2;
      if ( v6 >= 5 * this[3] + 5 )
        (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 88))(a2, 8, 1, 5 * this[3] + 5);
      else
        (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 88))(a2, 8, 1, v6);
    }
    this[6] = v7 + 4000;
  }
  return CBuff::IsExpired(this, (int)a2);
}
// 406435: variable 'v4' is possibly undefined

//----- (004064E0) --------------------------------------------------------
int __cdecl RandomBetween(int nMin, int nMax)
{
  int result; // eax

  if ( nMin >= nMax )
    result = nMin;
  else
    result = nMin + _Random() % (unsigned int)(nMax - nMin + 1);
  return result;
}

//----- (00406510) --------------------------------------------------------
int __thiscall BuffFatalChance::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 96))(a2, 31, 1, this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 92))(a2, 9, 1, this[6]);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 16, 0);
  return 1;
}

//----- (00406570) --------------------------------------------------------
int __thiscall CBuffFatalChance::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 31, 0, this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 9, 0, this[6]);
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 16, 0);
}

//----- (004065C0) --------------------------------------------------------
int __thiscall CBuffRevivalSequela::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 27, 1, this[3], this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 28, 1, this[3], this[3]);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 32, 0);
  return 1;
}

//----- (00406630) --------------------------------------------------------
int __thiscall CBuffRevivalSequela::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 27, 0, this[3], this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 28, 0, this[3], this[3]);
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 32, 0);
}

//----- (00406690) --------------------------------------------------------
int __thiscall sub_406690(_DWORD *this, _DWORD *a2)
{
  (*(void (__thiscall **)(_DWORD *, int, _DWORD))(*a2 + 104))(a2, 256, 0);
  if ( (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2) )
  {
    a2[115] = this[2];
    (*(void (__thiscall **)(_DWORD *, _DWORD, int))(*a2 + 224))(a2, this[2], 1);
  }
  return 1;
}

//----- (00406700) --------------------------------------------------------
int __stdcall sub_406700(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 256, 0);
}

//----- (00406720) --------------------------------------------------------
int __thiscall sub_406720(_DWORD *this, _DWORD *a2, int a3)
{
  DWORD v5; // [esp+2Ch] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState((_QWORD *)a3, 256i64) )
    (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 256, 0);
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a3 + 64))(a3) )
  {
    *(_DWORD *)(a3 + 460) = this[2];
    (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a3 + 224))(a3, this[2], 1);
  }
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00406880) --------------------------------------------------------
int __thiscall CBuffStun::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 256i64) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (004068E0) --------------------------------------------------------
int __thiscall sub_4068E0(_DWORD *this, int a2)
{
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 224))(a2, this[2], 1);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 512, 0);
  return 1;
}

//----- (00406930) --------------------------------------------------------
int __thiscall sub_406930(void *this, int a2)
{
  DWORD v2; // eax

  if ( (*(int (__thiscall **)(int, void *))(*(_DWORD *)a2 + 64))(a2, this) )
  {
    v2 = GetTickCount();
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a2 + 224))(a2, v2, 1);
  }
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 512, 0);
}

//----- (00406980) --------------------------------------------------------
int __thiscall sub_406980(_DWORD *this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 512i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 512, 0);
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( (*(int (__thiscall **)(_QWORD *))(*(_DWORD *)a3 + 64))(a3) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 224))(a3, this[2], 1);
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00406AC0) --------------------------------------------------------
int __thiscall CBuffMoveStop::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 512i64) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00406B20) --------------------------------------------------------
int __stdcall CBuffPoison::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 4096, 0);
  return 1;
}

//----- (00406B50) --------------------------------------------------------
int __stdcall sub_406B50(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 4096, 0);
}

//----- (00406B70) --------------------------------------------------------
int __thiscall CBuffPoison::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 4096i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 4096, 0);
  this[3] = a2[3];
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00406CA0) --------------------------------------------------------
int __userpurge sub_406CA0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // eax
  int v7; // [esp-Ch] [ebp-24h]
  int v8; // [esp+0h] [ebp-18h]
  DWORD v10; // [esp+14h] [ebp-4h]

  if ( !CChar::IsMState((_QWORD *)a5, 4096i64) )
    return 0;
  v10 = GetTickCount();
  if ( v10 >= a1[7] )
  {
    if ( *(int *)(a5 + 272) > 1 )
    {
      if ( *(_DWORD *)(a5 + 272) <= a1[3] )
        v8 = *(_DWORD *)(a5 + 272) - 1;
      else
        v8 = a1[3];
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 7, 0, v8);
      if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 60))(a5) )
      {
        v7 = unknown_libname_4(a5);
        v6 = unknown_libname_4(a5);
        sub_448C90(a2, a3, a4, a5, 70, "bbddww", 3, 13, v6, v7, v8, 0);
      }
      else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 64))(a5) )
      {
        *(_DWORD *)(a5 + 464) = GetTickCount() + 20000;
      }
    }
    a1[7] = v10 + 2000;
  }
  if ( CBuff::IsExpired(a1, a5) )
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 8))(a1, a5);
  return 0;
}

//----- (00406E00) --------------------------------------------------------
int __stdcall CBuffPoisonCloud::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 4096);
  return 1;
}

//----- (00406E30) --------------------------------------------------------
int __stdcall sub_406E30(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 4096);
}

//----- (00406E50) --------------------------------------------------------
int __thiscall CBuffPoisonCloud::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x100000000000i64) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 104))(a3, 0, 4096);
  this[3] = a2[3];
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00406F80) --------------------------------------------------------
int __userpurge sub_406F80@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // eax
  int v7; // [esp-Ch] [ebp-24h]
  int v8; // [esp+0h] [ebp-18h]
  DWORD v10; // [esp+14h] [ebp-4h]

  if ( !CChar::IsMState((_QWORD *)a5, 0x100000000000i64) )
    return 0;
  v10 = GetTickCount();
  if ( v10 >= a1[7] )
  {
    if ( *(int *)(a5 + 272) > 1 )
    {
      if ( *(_DWORD *)(a5 + 272) <= a1[3] )
        v8 = *(_DWORD *)(a5 + 272) - 1;
      else
        v8 = a1[3];
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 7, 0, v8);
      if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 60))(a5) )
      {
        v7 = unknown_libname_4(a5);
        v6 = unknown_libname_4(a5);
        sub_448C90(a2, a3, a4, a5, 70, "bbddww", 12, 42, v6, v7, v8, 0);
      }
      else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 64))(a5) )
      {
        *(_DWORD *)(a5 + 464) = GetTickCount() + 20000;
      }
    }
    a1[7] = v10 + 1000;
  }
  if ( CBuff::IsExpired(a1, a5) )
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 8))(a1, a5);
  return 0;
}

//----- (004070C0) --------------------------------------------------------
int __thiscall CBuffHaste::ApplyBuff(_DWORD *this, _DWORD *a2)
{
  if ( sub_45F030(a2) )
    return 0;
  if ( CChar::IsMState(a2, 1i64) )
    (*(void (__thiscall **)(_DWORD *, int, _DWORD))(*a2 + 124))(a2, 1, 0);
  (*(void (__thiscall **)(_DWORD *, int, _DWORD))(*a2 + 104))(a2, 0x2000, 0);
  (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a2 + 96))(a2, 32, 1, this[3]);
  return 1;
}

//----- (00407140) --------------------------------------------------------
int __thiscall CBuffHaste::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 0x2000, 0);
  return (*(int (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 32, 0, this[3]);
}

//----- (00407180) --------------------------------------------------------
int __userpurge CBuffHP::ApplyBuff@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, volatile LONG *a4)
{
  if ( CChar::IsMState(a4, 1i64) )
    (*(void (__thiscall **)(volatile LONG *, int, _DWORD))(*a4 + 124))(a4, 1, 0);
  (*(void (__thiscall **)(volatile LONG *, int, _DWORD))(*a4 + 104))(a4, 0x100000, 0);
  sub_458470(a4, a1, a2, a3, 1);
  return 1;
}

//----- (004071E0) --------------------------------------------------------
int __stdcall sub_4071E0(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 0x100000, 0);
}

//----- (00407200) --------------------------------------------------------
BOOL __thiscall CBuffHP::IsExpired(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 88))(a2, 7, 1, this[3]);
  return CBuff::IsExpired(this, a2);
}

//----- (00407240) --------------------------------------------------------
int __userpurge CBuffMP::ApplyBuff@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, volatile LONG *a4)
{
  if ( CChar::IsMState(a4, 1i64) )
    (*(void (__thiscall **)(volatile LONG *, int, _DWORD))(*a4 + 124))(a4, 1, 0);
  (*(void (__thiscall **)(volatile LONG *, int, _DWORD))(*a4 + 104))(a4, 0x200000, 0);
  sub_458470(a4, a1, a2, a3, 1);
  return 1;
}

//----- (004072A0) --------------------------------------------------------
int __stdcall sub_4072A0(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 0x200000, 0);
}

//----- (004072C0) --------------------------------------------------------
int __thiscall CBuffFlagHP::UpdateBuff(_DWORD *this, _DWORD *a2, int a3)
{
  this[3] = a2[3];
  this[2] = a2[2];
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00407320) --------------------------------------------------------
BOOL __thiscall CBuffMP::IsExpired(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 88))(a2, 8, 1, this[3]);
  return CBuff::IsExpired(this, a2);
}

//----- (00407360) --------------------------------------------------------
int __thiscall sub_407360(_DWORD *this, int a2)
{
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 224))(a2, this[2], 1);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 0x10000000, 0);
  return 1;
}

//----- (004073B0) --------------------------------------------------------
int __thiscall sub_4073B0(void *this, int a2)
{
  DWORD v2; // eax

  if ( (*(int (__thiscall **)(int, void *))(*(_DWORD *)a2 + 64))(a2, this) )
  {
    v2 = GetTickCount();
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a2 + 224))(a2, v2, 1);
  }
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 0x10000000, 0);
}

//----- (00407400) --------------------------------------------------------
int __thiscall sub_407400(_DWORD *this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x10000000i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 0x10000000, 0);
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( (*(int (__thiscall **)(_QWORD *))(*(_DWORD *)a3 + 64))(a3) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 224))(a3, this[2], 1);
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00407540) --------------------------------------------------------
int __thiscall CBuffSleep::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 0x10000000i64) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (004075A0) --------------------------------------------------------
int __thiscall CBuffCTDefensePer::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 15, 1, this[3], this[6]);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 0x40000000, 0);
  return 1;
}

//----- (004075F0) --------------------------------------------------------
int __thiscall CBuffCTDefensePer::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 15, 0, this[3], this[6]);
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 0x40000000, 0);
}

//----- (00407630) --------------------------------------------------------
int __stdcall CBuffCTHealing::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 4);
  return 1;
}

//----- (00407660) --------------------------------------------------------
int __stdcall sub_407660(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 4);
}

//----- (00407680) --------------------------------------------------------
int __thiscall CBuffCTHealing::IsExpired(_DWORD *this, _DWORD *a2)
{
  int v2; // eax
  DWORD v5; // [esp+4h] [ebp-4h]

  v5 = GetTickCount();
  if ( v5 >= this[6] )
  {
    if ( CChar::IsNormal(a2) && a2[68] < CChar::GetMaxHP(a2) )
    {
      v2 = RandomBetween(0, 6);
      (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 88))(a2, 7, 1, this[3] + v2);
    }
    this[6] = v5 + 3000;
  }
  return 0;
}

//----- (00407700) --------------------------------------------------------
int __thiscall CBuffCTPrtyPtEx::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[7], 1, this[3], this[6]);
  (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 116))(a2, this[8]);
  return 1;
}

//----- (00407750) --------------------------------------------------------
int __thiscall CBuffCTPrtyPtEx::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[7], 0, this[3], this[6]);
  return (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 120))(a2, this[8]);
}

//----- (004077A0) --------------------------------------------------------
int __stdcall CBuffSuffering::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, unsigned int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 0x80000000, 0);
  return 1;
}

//----- (004077D0) --------------------------------------------------------
int __stdcall sub_4077D0(int a1)
{
  return (*(int (__thiscall **)(int, unsigned int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 0x80000000, 0);
}

//----- (004077F0) --------------------------------------------------------
int __thiscall CBuffSuffering::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x80000000i64) )
    (*(void (__thiscall **)(_QWORD *, unsigned int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 0x80000000, 0);
  this[3] = a2[3];
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00407920) --------------------------------------------------------
int __userpurge sub_407920@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // eax
  int v7; // [esp-Ch] [ebp-20h]
  int v8; // [esp+0h] [ebp-14h]

  if ( !CChar::IsMState((_QWORD *)a5, 0x80000000i64) )
    return 0;
  if ( *(int *)(a5 + 272) > 1 )
  {
    if ( *(_DWORD *)(a5 + 272) <= a1[3] )
      v8 = *(_DWORD *)(a5 + 272) - 1;
    else
      v8 = a1[3];
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 7, 0, v8);
    if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 60))(a5) )
    {
      v7 = unknown_libname_4(a5);
      v6 = unknown_libname_4(a5);
      sub_448C90(a2, a3, a4, a5, 70, "bbddww", 5, 13, v6, v7, v8, 0);
    }
    else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 64))(a5) )
    {
      *(_DWORD *)(a5 + 464) = GetTickCount() + 20000;
    }
  }
  if ( CBuff::IsExpired(a1, a5) )
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 8))(a1, a5);
  return 0;
}

//----- (00407A30) --------------------------------------------------------
int __thiscall CBuffInchantWeapon::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 27, 1, this[3], this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 28, 1, this[3], this[3]);
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 104))(a2, 0, 1);
  return 1;
}

//----- (00407AA0) --------------------------------------------------------
int __thiscall CBuffInchantWeapon::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 27, 0, this[3], this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 28, 0, this[3], this[3]);
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 124))(a2, 0, 1);
}

//----- (00407B00) --------------------------------------------------------
int __stdcall CBuffSpiritDmg::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 8);
  return 1;
}

//----- (00407B30) --------------------------------------------------------
int __stdcall sub_407B30(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 8);
}

//----- (00407B50) --------------------------------------------------------
int __thiscall CBuffSpiritDmg::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x800000000i64) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 104))(a3, 0, 8);
  this[3] = a2[3];
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00407C70) --------------------------------------------------------
int __userpurge sub_407C70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // eax
  int v7; // [esp-Ch] [ebp-20h]
  int v8; // [esp+0h] [ebp-14h]

  if ( !CChar::IsMState((_QWORD *)a5, 0x800000000i64) )
    return 0;
  if ( *(int *)(a5 + 272) > 1 )
  {
    if ( *(_DWORD *)(a5 + 272) <= a1[3] )
      v8 = *(_DWORD *)(a5 + 272) - 1;
    else
      v8 = a1[3];
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 7, 0, v8);
    if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 60))(a5) )
    {
      v7 = unknown_libname_4(a5);
      v6 = unknown_libname_4(a5);
      sub_448C90(a2, a3, a4, a5, 70, "bbddww", 6, 13, v6, v7, v8, 0);
    }
    else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 64))(a5) )
    {
      *(_DWORD *)(a5 + 464) = GetTickCount() + 20000;
    }
  }
  if ( CBuff::IsExpired(a1, a5) )
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 8))(a1, a5);
  return 0;
}

//----- (00407D80) --------------------------------------------------------
int __thiscall CBuffFlagPrty::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD, _DWORD))(*(_DWORD *)a2 + 104))(a2, this[10], this[11]);
  if ( this[6] )
  {
    switch ( this[6] )
    {
      case 1:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[8], 1, this[3], this[7]);
        break;
      case 2:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, this[8], 1, this[3], this[7]);
        break;
      case 3:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, this[8], 1, this[3], this[7]);
        break;
    }
  }
  return 1;
}

//----- (00407E50) --------------------------------------------------------
int __thiscall CBuffFlagPrty::FreeBuff(_DWORD *this, int a2)
{
  int result; // eax

  (*(void (__thiscall **)(int, _DWORD, _DWORD))(*(_DWORD *)a2 + 124))(a2, this[10], this[11]);
  result = (int)this;
  if ( this[6] )
  {
    if ( this[6] == 1 )
    {
      result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
                 a2,
                 this[8],
                 0,
                 this[3],
                 this[7]);
    }
    else if ( this[6] == 2 )
    {
      result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
                 a2,
                 this[8],
                 0,
                 this[3],
                 this[7]);
    }
    else
    {
      result = (int)this;
      if ( this[6] == 3 )
        result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(
                   a2,
                   this[8],
                   0,
                   this[3],
                   this[7]);
    }
  }
  return result;
}

//----- (00407F20) --------------------------------------------------------
int __thiscall CBuffRevivalSequela::UpdateBuff(_DWORD *this, _DWORD *a2, int a3)
{
  this[2] = a2[2];
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00407F70) --------------------------------------------------------
int __stdcall CBuffFlagHP::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 512);
  return 1;
}

//----- (00407FA0) --------------------------------------------------------
int __stdcall sub_407FA0(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 512);
}

//----- (00407FC0) --------------------------------------------------------
int __thiscall CBuffBerserk::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 27, 1, this[3], this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 15, 1, this[6], this[6]);
  (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 116))(a2, 32);
  return 1;
}

//----- (00408030) --------------------------------------------------------
int __thiscall CBuffBerserk::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 27, 0, this[3], this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 15, 0, this[6], this[6]);
  return (*(int (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 32);
}

//----- (00408090) --------------------------------------------------------
int __stdcall CBuffSilenceShot::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 1024);
  return 1;
}

//----- (004080C0) --------------------------------------------------------
int __stdcall sub_4080C0(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 1024);
}

//----- (004080E0) --------------------------------------------------------
int __thiscall CBuffSilenceShot::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x40000000000i64) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 104))(a3, 0, 1024);
  this[3] = a2[3];
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00408210) --------------------------------------------------------
int __thiscall CBuffSilenceShot::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 0x40000000000i64) )
    return 0;
  (*(void (__cdecl **)(_QWORD *, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, 8, 0, this[3]);
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00408280) --------------------------------------------------------
int __stdcall CBuffManaBurn::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 2048);
  return 1;
}

//----- (004082B0) --------------------------------------------------------
int __stdcall sub_4082B0(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 2048);
}

//----- (004082D0) --------------------------------------------------------
int __thiscall CBuffManaBurn::UpdateBuff(_DWORD *this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x80000000000i64) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 104))(a3, 0, 2048);
  this[3] = a2[3];
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00408400) --------------------------------------------------------
int __thiscall CBuffManaBurn::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 0x80000000000i64) )
    return 0;
  (*(void (__cdecl **)(_QWORD *, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, 8, 0, this[3]);
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00408470) --------------------------------------------------------
int __thiscall CBuffPrty::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD, _DWORD))(*(_DWORD *)a2 + 104))(a2, this[10], this[11]);
  if ( this[7] )
  {
    switch ( this[7] )
    {
      case 1:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[9], 1, this[3], this[8]);
        break;
      case 2:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, this[9], 1, this[3], this[8]);
        break;
      case 3:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, this[9], 1, this[3], this[8]);
        break;
    }
  }
  return 1;
}

//----- (00408540) --------------------------------------------------------
int __thiscall CBuffPrty::FreeBuff(int this, _QWORD *a2)
{
  int result; // eax
  __int64 v3; // [esp+0h] [ebp-Ch]

  v3 = CChar::IsMState(a2, *(_QWORD *)(this + 40));
  result = HIDWORD(v3) | v3;
  if ( v3 )
  {
    (*(void (__thiscall **)(_QWORD *, _DWORD, _DWORD))(*(_DWORD *)a2 + 124))(
      a2,
      *(_DWORD *)(this + 40),
      *(_DWORD *)(this + 44));
    result = this;
    if ( *(_DWORD *)(this + 28) )
    {
      if ( *(_DWORD *)(this + 28) == 1 )
      {
        result = (*(int (__cdecl **)(_QWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
                   a2,
                   *(_DWORD *)(this + 36),
                   0,
                   *(_DWORD *)(this + 12),
                   *(_DWORD *)(this + 32));
      }
      else if ( *(_DWORD *)(this + 28) == 2 )
      {
        result = (*(int (__cdecl **)(_QWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
                   a2,
                   *(_DWORD *)(this + 36),
                   0,
                   *(_DWORD *)(this + 12),
                   *(_DWORD *)(this + 32));
      }
      else
      {
        result = this;
        if ( *(_DWORD *)(this + 28) == 3 )
          result = (*(int (__cdecl **)(_QWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(
                     a2,
                     *(_DWORD *)(this + 36),
                     0,
                     *(_DWORD *)(this + 12),
                     *(_DWORD *)(this + 32));
      }
    }
  }
  return result;
}

//----- (00408630) --------------------------------------------------------
int __thiscall CBuffPrty::UpdateBuff(int this, _DWORD *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  if ( !sub_408790((_DWORD *)this, 4) )
    return CBuff::UpdateBuff(a2, (int)a3);
  v5 = GetTickCount();
  if ( *(int *)(this + 24) < 5 )
  {
    ++*(_DWORD *)(this + 24);
  }
  else
  {
    if ( *(_DWORD *)(this + 8) + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    *(_DWORD *)(this + 24) = 0;
  }
  if ( !CChar::IsMState(a3, *(_QWORD *)(this + 40)) )
  {
    *(_DWORD *)(this + 12) = a2[3];
    *(_DWORD *)(this + 32) = a2[8];
    (*(void (__thiscall **)(int, _QWORD *))(*(_DWORD *)this + 4))(this, a3);
  }
  *(_DWORD *)(this + 8) = a2[2];
  *(_DWORD *)(this + 8) -= dword_4B0C44[*(_DWORD *)(this + 24)] * (*(_DWORD *)(this + 8) - v5) / 0x64;
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00408790) --------------------------------------------------------
int __thiscall sub_408790(_DWORD *this, int a2)
{
  return a2 & this[4];
}

//----- (004087B0) --------------------------------------------------------
BOOL __thiscall CBuffPrty::IsExpired(int this, _QWORD *a2)
{
  if ( !sub_408790((_DWORD *)this, 4) )
    return CBuff::IsExpired((_DWORD *)this, (int)a2);
  if ( !CChar::IsMState(a2, *(_QWORD *)(this + 40)) )
    return 0;
  if ( CBuff::IsExpired((_DWORD *)this, (int)a2) )
    (*(void (__thiscall **)(int, _QWORD *))(*(_DWORD *)this + 8))(this, a2);
  return 0;
}

//----- (00408830) --------------------------------------------------------
int __thiscall CBuffPrtyEx::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 116))(a2, this[10]);
  if ( this[7] )
  {
    switch ( this[7] )
    {
      case 1:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[9], 1, this[3], this[8]);
        break;
      case 2:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, this[9], 1, this[3], this[8]);
        break;
      case 3:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, this[9], 1, this[3], this[8]);
        break;
    }
  }
  return 1;
}

//----- (00408900) --------------------------------------------------------
int __thiscall CBuffPrtyEx::FreeBuff(_DWORD *this, _DWORD *a2)
{
  int result; // eax

  result = sub_4089E0(a2, this[10]);
  if ( result )
  {
    (*(void (__thiscall **)(_DWORD *, _DWORD))(*a2 + 120))(a2, this[10]);
    result = (int)this;
    if ( this[7] )
    {
      if ( this[7] == 1 )
      {
        result = (*(int (__cdecl **)(_DWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*a2 + 92))(
                   a2,
                   this[9],
                   0,
                   this[3],
                   this[8]);
      }
      else if ( this[7] == 2 )
      {
        result = (*(int (__cdecl **)(_DWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*a2 + 96))(
                   a2,
                   this[9],
                   0,
                   this[3],
                   this[8]);
      }
      else
      {
        result = (int)this;
        if ( this[7] == 3 )
          result = (*(int (__cdecl **)(_DWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*a2 + 88))(
                     a2,
                     this[9],
                     0,
                     this[3],
                     this[8]);
      }
    }
  }
  return result;
}

//----- (004089E0) --------------------------------------------------------
int __thiscall sub_4089E0(_DWORD *this, int a2)
{
  return a2 & this[74];
}

//----- (00408A00) --------------------------------------------------------
int __thiscall CBuffPrtyEx::UpdateBuff(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  DWORD v5; // [esp+20h] [ebp-4h]

  if ( !sub_408790(this, 4) )
    return CBuff::UpdateBuff(a2, (int)a3);
  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        sub_402460(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !sub_4089E0(a3, this[10]) )
  {
    this[3] = a2[3];
    this[8] = a2[8];
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 4))(this, a3);
  }
  this[2] = a2[2];
  this[2] -= dword_4B0C44[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    sub_402460(a2, 1);
  return 1;
}

//----- (00408B50) --------------------------------------------------------
BOOL __thiscall CBuffPrtyEx::IsExpired(_DWORD *this, _DWORD *a2)
{
  if ( !sub_408790(this, 4) )
    return CBuff::IsExpired(this, (int)a2);
  if ( !sub_4089E0(a2, this[10]) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00408BC0) --------------------------------------------------------
int __userpurge sub_408BC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int result; // eax
  __time32_t v6; // eax

  if ( (unsigned int)time(0) <= a1[2] )
  {
    v6 = time(0);
    (*(void (__thiscall **)(_DWORD *, _DWORD, int))(*a5 + 108))(a5, a1[6], a1[2] - v6);
    result = 1;
  }
  else
  {
    CDBSocket::Write(a2, a3, a4, 25, "dbdb", a5[111], a1[1], a1[2], 1);
    result = 0;
  }
  return result;
}

//----- (00408C40) --------------------------------------------------------
int __userpurge sub_408C40@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  __time32_t v5; // eax

  v5 = time(0);
  (*(void (__thiscall **)(_DWORD *, _DWORD, int))(*a5 + 108))(a5, a1[6], a1[2] - v5);
  CDBSocket::Write(a2, a3, a4, 25, "dbdb", a5[111], a1[1], a1[2], 0);
  return 1;
}

//----- (00408CA0) --------------------------------------------------------
void __userpurge sub_408CA0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  (*(void (__thiscall **)(_DWORD *, _DWORD))(*a5 + 128))(a5, a1[6]);
  CDBSocket::Write(a2, a3, a4, 25, "dbdb", a5[111], a1[1], a1[2], 1);
}

//----- (00408CF0) --------------------------------------------------------
BOOL __thiscall CBuffExpire::IsExpired(_DWORD *this, int a2)
{
  return this[2] < (unsigned int)time(0);
}

//----- (00408D20) --------------------------------------------------------
int __thiscall sub_408D20(_DWORD *this, int a2)
{
  __time32_t v2; // eax

  v2 = time(0);
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 108))(a2, this[6], this[2] - v2);
  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 27, 1, 10, 10);
  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 28, 1, 10, 10);
  return 1;
}

//----- (00408D90) --------------------------------------------------------
int __thiscall sub_408D90(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 128))(a2, this[6]);
  (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 27, 0, 10, 10);
  return (*(int (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 28, 0, 10, 10);
}

//----- (00408DE0) --------------------------------------------------------
int __userpurge sub_408DE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int result; // eax

  if ( sub_408E10(a5, 0x4000000) )
    result = 0;
  else
    result = sub_408C40(a1, a2, a3, a4, a5);
  return result;
}

//----- (00408E10) --------------------------------------------------------
int __thiscall sub_408E10(_DWORD *this, int a2)
{
  return a2 & this[75];
}

//----- (00408E30) --------------------------------------------------------
int __thiscall sub_408E30(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD, _DWORD))(*(_DWORD *)a2 + 108))(a2, this[6], this[2]);
  return 1;
}

//----- (00408E60) --------------------------------------------------------
int __userpurge sub_408E60@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  (*(void (__thiscall **)(_DWORD *, _DWORD, _DWORD))(*a5 + 108))(a5, a1[6], a1[2]);
  CDBSocket::Write(a2, a3, a4, 25, "dbdb", a5[111], a1[1], a1[2], 0);
  return 1;
}

//----- (00408EC0) --------------------------------------------------------
int __userpurge sub_408EC0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( !--*(_DWORD *)(a1 + 8) )
    return 1;
  if ( !(*(_DWORD *)(a1 + 8) % 0x3Cu) )
    CDBSocket::Write(a2, a3, a4, 25, "dbdb", *(_DWORD *)(a5 + 444), *(_DWORD *)(a1 + 4), *(_DWORD *)(a1 + 8), 2);
  return 0;
}

//----- (00408F30) --------------------------------------------------------
void __userpurge sub_408F30(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CDBSocket::Write(a2, a3, a4, 25, "dbdb", *(_DWORD *)(a5 + 444), *(_DWORD *)(a1 + 4), *(_DWORD *)(a1 + 8), 2);
}

//----- (00408F70) --------------------------------------------------------
int __thiscall CBuffRemainEx::SetBuff(int *this, volatile LONG *a2)
{
  CChar::AddGState(a2, this[6]);
  return 1;
}

//----- (00408FA0) --------------------------------------------------------
LONG __thiscall CChar::AddGState(volatile LONG *this, int a2)
{
  return InterlockedExchange(this + 70, a2 | *((_DWORD *)this + 70));
}

//----- (00408FD0) --------------------------------------------------------
int __userpurge sub_408FD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  (*(void (__thiscall **)(_DWORD *, _DWORD))(*a5 + 100))(a5, a1[6]);
  CDBSocket::Write(a2, a3, a4, 25, "dbdb", a5[111], a1[1], a1[2], 0);
  return 1;
}

//----- (00409020) --------------------------------------------------------
void __userpurge sub_409020(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  (*(void (__thiscall **)(_DWORD *, _DWORD))(*a5 + 112))(a5, a1[6]);
  CDBSocket::Write(a2, a3, a4, 25, "dbdb", a5[111], a1[1], a1[2], 1);
}

//----- (00409070) --------------------------------------------------------
int __thiscall sub_409070(_DWORD *this, int a2)
{
  CChar::AddGState((volatile LONG *)a2, 2);
  *(_DWORD *)(a2 + 1332) = 1000 * this[2] + GetTickCount();
  return 1;
}

//----- (004090B0) --------------------------------------------------------
int __userpurge sub_4090B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CDBSocket::Write(a2, a3, a4, 25, "dbdb", *(_DWORD *)(a5 + 444), *(_DWORD *)(a1 + 4), *(_DWORD *)(a1 + 8), 0);
  return 1;
}

//----- (004090F0) --------------------------------------------------------
void __userpurge sub_4090F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CDBSocket::Write(a2, a3, a4, 25, "dbdb", *(_DWORD *)(a5 + 444), *(_DWORD *)(a1 + 4), *(_DWORD *)(a1 + 8), 1);
}

//----- (00409130) --------------------------------------------------------
int __thiscall sub_409130(int *this, _DWORD *a2)
{
  sub_409160(a2, this[6]);
  return 1;
}

//----- (00409160) --------------------------------------------------------
_DWORD *__thiscall sub_409160(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  result = this;
  this[140] |= a2;
  return result;
}

//----- (00409190) --------------------------------------------------------
int __userpurge sub_409190@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int result; // eax

  if ( sub_408E10(a5, 4096) && a1[1] == 53 || sub_408E10(a5, 2048) && a1[1] == 54 )
    result = 0;
  else
    result = sub_408E60(a1, a2, a3, a4, a5);
  return result;
}

//----- (004091F0) --------------------------------------------------------
int __thiscall sub_4091F0(_DWORD *this, int a2)
{
  if ( !sub_408E30(this, a2) )
    return 0;
  (*(void (__cdecl **)(int, _DWORD, int, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[7], 1, this[3]);
  return 1;
}

//----- (00409240) --------------------------------------------------------
int __userpurge sub_409240@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  if ( !sub_408E60(a1, a2, a3, a4, a5) )
    return 0;
  (*(void (__cdecl **)(_DWORD *, _DWORD, int, _DWORD))(*a5 + 92))(a5, a1[7], 1, a1[3]);
  return 1;
}

//----- (00409290) --------------------------------------------------------
int __userpurge sub_409290@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_408CA0(a1, a2, a3, a4, a5);
  return (*(int (__cdecl **)(_DWORD *, _DWORD, _DWORD, _DWORD))(*a5 + 92))(a5, a1[7], 0, a1[3]);
}

//----- (004092D0) --------------------------------------------------------
int __userpurge sub_4092D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  if ( a1 == a5 )
  {
    if ( !--a1[2] )
    {
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 8))(a1, a6);
      return 0;
    }
    goto LABEL_11;
  }
  if ( (unsigned int)(a5[2] + a1[2]) <= 0x2710 )
  {
    a1[2] += a5[2];
    if ( a5 )
      sub_402460(a5, 1);
LABEL_11:
    sub_448C90(a2, a3, a4, a6, 37, "bdd", 74, a1[6], a1[2]);
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 24))(a1, a6);
    return 1;
  }
  if ( a5 )
    sub_402460(a5, 1);
  return 0;
}

//----- (004093D0) --------------------------------------------------------
int __userpurge sub_4093D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int result; // eax

  if ( sub_408E10(a5, 0x8000000) )
    result = 0;
  else
    result = sub_408E60(a1, a2, a3, a4, a5);
  return result;
}

//----- (00409400) --------------------------------------------------------
int __userpurge sub_409400@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+0h] [ebp-Ch]
  int i; // [esp+8h] [ebp-4h]

  for ( i = 0; i <= 4; ++i )
    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 92))(a5, i, 1, 5);
  *(_DWORD *)(a1 + 28) = RandomBetween(0, 2);
  v6 = *(_DWORD *)(a1 + 28);
  if ( v6 )
  {
    if ( v6 == 1 )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 100))(a5, 0x80000);
    }
    else if ( v6 == 2 )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 100))(a5, 0x100000);
    }
  }
  else
  {
    (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 100))(a5, 0x40000);
  }
  sub_448C90(a2, a3, a4, a5, 94, "bb", 0, *(_DWORD *)(a1 + 28));
  return 1;
}

//----- (004094D0) --------------------------------------------------------
void __userpurge sub_4094D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // [esp+4h] [ebp-Ch]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i <= 4; ++i )
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 92))(a5, i, 0, 5);
  v5 = *(_DWORD *)(a1 + 28);
  switch ( v5 )
  {
    case 0:
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 112))(a5, 0x40000);
      goto LABEL_9;
    case 1:
LABEL_9:
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 112))(a5, 0x80000);
      goto LABEL_10;
    case 2:
LABEL_10:
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 112))(a5, 0x100000);
      break;
  }
  switch ( *(_DWORD *)(a1 + 12) )
  {
    case 1:
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 96))(a5, 5, 0, 25);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 120))(a5, 0x8000000);
      break;
    case 2:
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 96))(a5, 6, 0, 25);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 120))(a5, 0x10000000);
      break;
    case 3:
      (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a5 + 96))(a5, 27, 0, 25, 25);
      (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a5 + 96))(a5, 28, 0, 25, 25);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 120))(a5, 0x20000000);
      break;
    case 4:
      (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a5 + 96))(a5, 15, 0, 25, 25);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 120))(a5, 0x40000000);
      break;
    default:
      break;
  }
  *(_DWORD *)(a1 + 12) = 0;
  sub_448C90(a2, a3, a4, a5, 94, "bb", 1, *(_DWORD *)(a1 + 28));
}

//----- (00409680) --------------------------------------------------------
int __userpurge sub_409680@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax

  if ( !--*(_DWORD *)(a1 + 8) )
    return 1;
  if ( *(_DWORD *)(a1 + 12) )
  {
    if ( *(_DWORD *)(a1 + 8) % 0x384u < 0x12C )
    {
      switch ( *(_DWORD *)(a1 + 12) )
      {
        case 1:
          (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 96))(a5, 5, 0, 25);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 120))(a5, 0x8000000);
          break;
        case 2:
          (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 96))(a5, 6, 0, 25);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 120))(a5, 0x10000000);
          break;
        case 3:
          (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a5 + 96))(a5, 27, 0, 25, 25);
          (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a5 + 96))(a5, 28, 0, 25, 25);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 120))(a5, 0x20000000);
          break;
        case 4:
          (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a5 + 96))(a5, 15, 0, 25, 25);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 120))(a5, 0x40000000);
          break;
        default:
          break;
      }
      *(_DWORD *)(a1 + 12) = 0;
    }
  }
  else if ( *(_DWORD *)(a1 + 8) % 0x384u > 0x12C )
  {
    *(_DWORD *)(a1 + 12) = RandomBetween(1, 4);
    switch ( *(_DWORD *)(a1 + 12) )
    {
      case 1:
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 96))(a5, 5, 1, 25);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 116))(a5, 0x8000000);
        v6 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, a5, 50, "db", v6, 24);
        break;
      case 2:
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 96))(a5, 6, 1, 25);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 116))(a5, 0x10000000);
        v7 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, a5, 50, "db", v7, 25);
        break;
      case 3:
        (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a5 + 96))(a5, 27, 1, 25, 25);
        (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a5 + 96))(a5, 28, 1, 25, 25);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 116))(a5, 0x20000000);
        v8 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, a5, 50, "db", v8, 26);
        break;
      case 4:
        (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a5 + 96))(a5, 15, 1, 25, 25);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 116))(a5, 0x40000000);
        v9 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, a5, 50, "db", v9, 27);
        break;
      default:
        return 0;
    }
  }
  return 0;
}

//----- (00409970) --------------------------------------------------------
CIOObject *__thiscall sub_409970(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_498A84;
  return this;
}
// 498A84: using guessed type int (__stdcall *off_498A84)(int);

//----- (00409990) --------------------------------------------------------
_DWORD *__thiscall sub_409990(_DWORD *this, char a2)
{
  sub_4099C0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004099C0) --------------------------------------------------------
_DWORD *__thiscall sub_4099C0(_DWORD *this)
{
  *this = &off_498A84;
  return sub_422250(this);
}
// 498A84: using guessed type int (__stdcall *off_498A84)(int);

//----- (004099E0) --------------------------------------------------------
void __usercall CCalendar::Start(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  __time32_t Time; // [esp+0h] [ebp-8h] BYREF
  struct tm *v4; // [esp+4h] [ebp-4h]

  Time = time(0);
  v4 = localtime(&Time);
  dword_4B223C = v4->tm_year + 1900;
  dword_4B2240 = v4->tm_mon + 1;
  dword_4B2244 = v4->tm_mday;
  dword_4B2248 = v4->tm_hour;
  dword_4B224C = v4->tm_min;
  dword_4B2250 = v4->tm_sec;
  dword_4B2254 = GetTickCount();
  CIOObject::AddTimer((CIOObject *)&unk_4B2258, a1, a2, a3, 0x3E8u, 0);
}
// 4B223C: using guessed type int dword_4B223C;
// 4B2240: using guessed type int dword_4B2240;
// 4B2244: using guessed type int dword_4B2244;
// 4B2248: using guessed type int dword_4B2248;
// 4B224C: using guessed type int dword_4B224C;
// 4B2250: using guessed type int dword_4B2250;
// 4B2254: using guessed type int dword_4B2254;

//----- (00409A80) --------------------------------------------------------
int sub_409A80()
{
  return dword_4B224C + (dword_4B2248 << 8);
}
// 4B2248: using guessed type int dword_4B2248;
// 4B224C: using guessed type int dword_4B224C;

//----- (00409AA0) --------------------------------------------------------
void __userpurge sub_409AA0(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4@<esi>, int a5)
{
  sub_409AC0(a1, a2, a3, a4);
}

//----- (00409AC0) --------------------------------------------------------
void __usercall sub_409AC0(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4@<esi>)
{
  _PVFV v4; // [esp+0h] [ebp-10h]
  unsigned int v6; // [esp+Ch] [ebp-4h]

  if ( !dword_4B2238 )
  {
    v6 = GetTickCount();
    while ( v6 >= dword_4B2254 )
    {
      dword_4B2254 += 1000;
      ++dword_4B2250;
      if ( (dword_4B8C30[0] & 2) == 0 && !(dword_4B2250 % 30) )
        sub_46F620(a2, a3, (DWORD)a4);
      CGuild::SecondProcess(a2, a3, a4);
      if ( dword_4B2250 >= 60 )
      {
        dword_4B2250 = 0;
        ++dword_4B224C;
        sub_410910(a2, a3, (DWORD)a4, v6);
        sub_45E8A0(a2, a3, (DWORD)a4);
        if ( (dword_4B8C30[0] & 2) != 0 && (dword_4B8C34 & 0x40) != 0 && !(dword_4B224C % 10) )
          sub_45EA20(a2, a3, (DWORD)a4, 0);
        if ( dword_4B224C >= 60 )
        {
          dword_4B224C = 0;
          ++dword_4B2248;
          sub_446A00(a2, (DWORD)a4);
          if ( (dword_4B8C30[0] & 2) == 0
            && (dword_4B8C34 & 0x40) != 0
            && (dword_4B2248 == 3
             || dword_4B2248 == 7
             || dword_4B2248 == 11
             || dword_4B2248 == 15
             || dword_4B2248 == 19
             || dword_4B2248 == 23) )
          {
            sub_45EA20(a2, a3, (DWORD)a4, 0);
          }
          if ( dword_4B2248 >= 24 )
          {
            dword_4B2248 = 0;
            ++dword_4B2244;
            v4 = CCalendar::IsIntercalary() ? 29 : dword_4AD2BC[dword_4B2240];
            if ( dword_4B2244 > (int)v4 )
            {
              dword_4B2244 = 1;
              if ( ++dword_4B2240 > 12 )
              {
                dword_4B2240 = 1;
                ++dword_4B223C;
              }
            }
          }
        }
      }
    }
    CIOObject::AddTimer(a1, a2, a3, (DWORD)a4, dword_4B2254 - v6, 0);
  }
}
// 4B2238: using guessed type int dword_4B2238;
// 4B223C: using guessed type int dword_4B223C;
// 4B2240: using guessed type int dword_4B2240;
// 4B2244: using guessed type int dword_4B2244;
// 4B2248: using guessed type int dword_4B2248;
// 4B224C: using guessed type int dword_4B224C;
// 4B2250: using guessed type int dword_4B2250;
// 4B2254: using guessed type int dword_4B2254;
// 4B8C34: using guessed type int dword_4B8C34;

//----- (00409CE0) --------------------------------------------------------
int CCalendar::IsIntercalary()
{
  int v1; // [esp+4h] [ebp-4h]

  v1 = 0;
  if ( dword_4B2240 == 2 )
  {
    if ( dword_4B223C % 400 )
    {
      v1 = 1;
    }
    else if ( dword_4B223C % 100 )
    {
      v1 = 0;
    }
    else if ( dword_4B223C % 4 )
    {
      v1 = 1;
    }
  }
  return v1;
}
// 4B223C: using guessed type int dword_4B223C;
// 4B2240: using guessed type int dword_4B2240;

//----- (00409D60) --------------------------------------------------------
char *__thiscall sub_409D60(char *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_498AA0;
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(this + 356));
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(this + 388));
  *((_DWORD *)this + 86) = 0;
  *((_DWORD *)this + 87) = 0;
  memset(this + 32, 0, 0x19u);
  *((_DWORD *)this + 15) = 0;
  memset(this + 64, 0, 0x1Cu);
  memset(this + 92, 0, 0x60u);
  memset(this + 188, 0, 0x54u);
  *((_DWORD *)this + 68) = 0;
  *((_DWORD *)this + 69) = 0;
  *((_DWORD *)this + 70) = 0;
  *((_DWORD *)this + 72) = 0;
  *((_DWORD *)this + 73) = 0;
  *((_DWORD *)this + 74) = 0;
  *((_DWORD *)this + 75) = 0;
  *((_DWORD *)this + 76) = 0;
  *((_DWORD *)this + 77) = 0;
  *((_DWORD *)this + 78) = 0;
  *((_DWORD *)this + 80) = -1;
  *((_DWORD *)this + 79) = -1;
  *((_DWORD *)this + 82) = -1;
  *((_DWORD *)this + 81) = -1;
  *((_DWORD *)this + 83) = -1;
  *((_DWORD *)this + 84) = 0;
  *((_DWORD *)this + 85) = 1;
  *((_DWORD *)this + 88) = 0;
  return this;
}
// 498AA0: using guessed type int (__stdcall *off_498AA0)(int);

//----- (00409F00) --------------------------------------------------------
BOOL __thiscall sub_409F00(_DWORD *this, int a2)
{
  return a2 == this[84];
}

//----- (00409F20) --------------------------------------------------------
int __stdcall sub_409F20(int a1, int a2, int a3, int a4, int a5, int a6)
{
  return 0;
}

//----- (00409F30) --------------------------------------------------------
_DWORD *__thiscall CChar::AddMState(_DWORD *this, int a2, int a3)
{
  int v3; // edx
  _DWORD *result; // eax

  v3 = a3 | this[73];
  result = this;
  this[72] |= a2;
  this[73] = v3;
  return result;
}

//----- (00409F70) --------------------------------------------------------
LONG __thiscall CChar::SubGState(volatile LONG *this, int a2)
{
  return InterlockedExchange(this + 70, this[70] & ~a2);
}

//----- (00409FA0) --------------------------------------------------------
LONG __thiscall CChar::AddMStateEx(volatile LONG *this, int a2)
{
  return InterlockedExchange(this + 74, a2 | *((_DWORD *)this + 74));
}

//----- (00409FD0) --------------------------------------------------------
LONG __thiscall CChar::SubMStateEx(volatile LONG *this, int a2)
{
  return InterlockedExchange(this + 74, this[74] & ~a2);
}

//----- (0040A000) --------------------------------------------------------
int __thiscall CChar::SubMState(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // ecx

  result = this[72] & ~a2;
  v4 = this[73] & ~a3;
  this[72] = result;
  this[73] = v4;
  return result;
}

//----- (0040A040) --------------------------------------------------------
int __thiscall CChar::GetFinalDefense(_DWORD *this, int a2)
{
  int v2; // eax

  v2 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 156))(a2);
  return CChar::GetDefense(this, v2);
}

//----- (0040A070) --------------------------------------------------------
int __thiscall sub_40A070(_DWORD *this, int a2)
{
  return CChar::GetAbsorb(this);
}

//----- (0040A090) --------------------------------------------------------
int __thiscall CChar::GetFinalResist(_DWORD *this, int a2, int a3)
{
  return sub_436490(this, a3) / 10;
}

//----- (0040A0C0) --------------------------------------------------------
int __stdcall sub_40A0C0(int a1)
{
  return 1600;
}

//----- (0040A0E0) --------------------------------------------------------
void __userpurge sub_40A0E0(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_401C50(a1, a2, a3, a4);
}

//----- (0040A100) --------------------------------------------------------
void *__userpurge sub_40A100@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_40A130((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0040A130) --------------------------------------------------------
_DWORD *__usercall sub_40A130@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *(_DWORD *)a1 = &off_498AA0;
  sub_40AAD0(a1, a2, a3, a4);
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 388), a2, a3, a4);
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}
// 498AA0: using guessed type int (__stdcall *off_498AA0)(int);

//----- (0040A170) --------------------------------------------------------
int __thiscall CChar::ReviseProperty(_DWORD *this)
{
  int result; // eax
  int v3; // [esp+8h] [ebp-10h]
  int v4; // [esp+Ch] [ebp-Ch]
  int v5; // [esp+10h] [ebp-8h]
  int v6; // [esp+14h] [ebp-4h]

  this[21] += 52 * this[15] / 3;
  this[22] += 8 * this[15] + 140;
  v4 = CChar::GetStr(this);
  v3 = CChar::GetInt(this);
  v6 = CChar::GetWis(this);
  v5 = Char::GetDex(this);
  this[30] += v5 / 8 + 15 * v4 / 54;
  this[31] += v5 / 3;
  this[32] += (v5 - 5) / 11 + (11 * v4 - 80) / 30 + 7 * this[15] / 10 + 1;
  this[33] += 18 * v5 / 77 + (8 * v4 - 25) / 15 + this[15];
  this[34] = v6 / 7 + (7 * v3 - 20) / 12 + this[34] - 3;
  this[35] = 14 * v6 / 45 + 7 * v3 / 12 + this[35] - 3;
  this[40] += v3 / 9;
  this[41] += v3 / 9;
  this[42] += v3 / 9;
  this[43] += v6 / 9;
  result = this[44] + CChar::GetHth(this) / 9;
  this[44] = result;
  return result;
}

//----- (0040A3B0) --------------------------------------------------------
int __thiscall sub_40A3B0(_DWORD *this, int *a2)
{
  int result; // eax
  int v4; // [esp+4h] [ebp-10h]
  int v5; // [esp+8h] [ebp-Ch]
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h]

  v4 = this[81] - 16;
  v5 = this[82] + 16;
  v6 = this[81] + 16;
  v7 = this[82] - 16;
  do
  {
    do
    {
      *a2 = RandomBetween(v4, v6);
      a2[1] = RandomBetween(v7, v5);
    }
    while ( abs(*a2 - this[81]) < 8 );
    result = abs(a2[1] - this[82]);
  }
  while ( result < 8 );
  return result;
}

//----- (0040A460) --------------------------------------------------------
_DWORD *__thiscall sub_40A460(_DWORD *this, _DWORD *a2)
{
  int v2; // edx
  _DWORD *result; // eax

  v2 = a2[1];
  this[81] = *a2;
  this[82] = v2;
  this[79] = (int)*a2 >> 5;
  this[80] = (int)a2[1] >> 5;
  result = this;
  this[84] = (((int)*a2 >> 3) & 3) + 4 * (((int)a2[1] >> 3) & 3);
  return result;
}

//----- (0040A4D0) --------------------------------------------------------
void __thiscall sub_40A4D0(_DWORD *this, int Number, int a3)
{
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  if ( Number || a3 )
  {
    v4 = abs(Number);
    v5 = abs(a3);
    if ( v4 < v5 || v4 <= 127 )
    {
      if ( v4 < v5 && v5 > 127 )
      {
        Number = 127 * Number / v5;
        LOBYTE(a3) = a3 <= 0 ? -127 : 127;
      }
    }
    else
    {
      a3 = 127 * a3 / v4;
      LOWORD(Number) = Number <= 0 ? -127 : 127;
    }
    this[85] = (unsigned __int8)a3 + (unsigned __int16)((_WORD)Number << 8);
  }
}

//----- (0040A590) --------------------------------------------------------
int __thiscall sub_40A590(_DWORD *this, __int16 a2)
{
  int result; // eax

  result = (unsigned __int8)-(char)a2 + ((255 - a2) & 0xFF00);
  this[85] = result;
  return result;
}

//----- (0040A5D0) --------------------------------------------------------
BOOL __thiscall CChar::IsNormal(_DWORD *this)
{
  return (int)this[68] > 0 && !sub_40A640(this) && !sub_40A660(this, 35) && !CChar::IsMState(this, 0x80000i64);
}

//----- (0040A640) --------------------------------------------------------
int __thiscall sub_40A640(_DWORD *this)
{
  return this[5] & 1;
}

//----- (0040A660) --------------------------------------------------------
int __thiscall sub_40A660(_DWORD *this, int a2)
{
  return a2 & this[70];
}

//----- (0040A680) --------------------------------------------------------
void __userpurge sub_40A680(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // [esp+0h] [ebp-14h]
  _DWORD *v8; // [esp+10h] [ebp-4h]

  v8 = sub_4024B0(a5, a6, 1, v6);
  if ( v8 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int))*v8)(v8, a1) )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
      v8[5] = *(_DWORD *)(a1 + 352);
      *(_DWORD *)(a1 + 352) = v8;
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
    }
    else
    {
      sub_402460(v8, 1);
    }
  }
}
// 40A6C8: conditional instruction was optimized away because of '%var_4.4!=0'
// 40A693: variable 'v6' is possibly undefined

//----- (0040A720) --------------------------------------------------------
int __userpurge sub_40A720@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5)
{
  int v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  if ( !a5 )
    return 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  v8 = sub_40A7F0((_DWORD *)a1, a5[1]);
  if ( v8 )
  {
    v7 = (*(int (__thiscall **)(int, int *, int))(*(_DWORD *)v8 + 12))(v8, a5, a1);
  }
  else
  {
    v7 = (*(int (__thiscall **)(int *, int))(*a5 + 4))(a5, a1);
    if ( v7 )
    {
      a5[5] = *(_DWORD *)(a1 + 352);
      *(_DWORD *)(a1 + 352) = a5;
    }
    else
    {
      sub_402460(a5, 1);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  return v7;
}
// 40A7C0: conditional instruction was optimized away because of '%arg_0.4!=0'

//----- (0040A7F0) --------------------------------------------------------
int __thiscall sub_40A7F0(_DWORD *this, int a2)
{
  int i; // [esp+4h] [ebp-4h]

  for ( i = this[88]; i && *(_DWORD *)(i + 4) != a2; i = *(_DWORD *)(i + 20) )
    ;
  return i;
}

//----- (0040A830) --------------------------------------------------------
void __userpurge sub_40A830(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  _DWORD *i; // [esp+10h] [ebp-8h]
  _DWORD *v7; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  v7 = (_DWORD *)(a1 + 352);
  for ( i = *(_DWORD **)(a1 + 352); i; i = (_DWORD *)i[5] )
  {
    if ( i[1] == a5 )
    {
      if ( !(*(int (__thiscall **)(_DWORD *, _DWORD *, int))(*i + 12))(i, i, a1) )
      {
        *v7 = i[5];
        sub_402460(i, 1);
      }
      break;
    }
    v7 = i + 5;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
}
// 40A8A7: conditional instruction was optimized away because of '%var_8.4!=0'

//----- (0040A8E0) --------------------------------------------------------
void __usercall sub_40A8E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *i; // [esp+10h] [ebp-8h]
  _DWORD **v6; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  v6 = (_DWORD **)(a1 + 352);
  for ( i = *(_DWORD **)(a1 + 352); i; i = *v6 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int))(*i + 16))(i, a1) )
    {
      (*(void (__thiscall **)(_DWORD *, int))(*i + 8))(i, a1);
      *v6 = (_DWORD *)i[5];
      sub_402460(i, 1);
    }
    else
    {
      v6 = (_DWORD **)(i + 5);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
}
// 40A957: conditional instruction was optimized away because of '%var_8.4!=0'

//----- (0040A990) --------------------------------------------------------
void __userpurge sub_40A990(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  _DWORD *i; // [esp+10h] [ebp-8h]
  _DWORD *v7; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  v7 = (_DWORD *)(a1 + 352);
  for ( i = *(_DWORD **)(a1 + 352); i; i = (_DWORD *)i[5] )
  {
    if ( i[1] == a5 )
    {
      (*(void (__thiscall **)(_DWORD *, int))(*i + 8))(i, a1);
      *v7 = i[5];
      sub_402460(i, 1);
      break;
    }
    v7 = i + 5;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
}
// 40A9FF: conditional instruction was optimized away because of '%var_8.4!=0'

//----- (0040AA40) --------------------------------------------------------
void __usercall sub_40AA40(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *i; // [esp+10h] [ebp-8h]
  _DWORD **v6; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  v6 = (_DWORD **)(a1 + 352);
  for ( i = *(_DWORD **)(a1 + 352); i; i = *v6 )
  {
    (*(void (__thiscall **)(_DWORD *, int))(*i + 8))(i, a1);
    *v6 = (_DWORD *)i[5];
    sub_402460(i, 1);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
}
// 40AAA4: conditional instruction was optimized away because of '%var_8.4!=0'

//----- (0040AAD0) --------------------------------------------------------
void __usercall sub_40AAD0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *i; // [esp+10h] [ebp-8h]
  _DWORD **v6; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  v6 = (_DWORD **)(a1 + 352);
  for ( i = *(_DWORD **)(a1 + 352); i; i = *v6 )
  {
    *v6 = (_DWORD *)i[5];
    sub_402460(i, 1);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
}
// 40AB25: conditional instruction was optimized away because of '%var_8.4!=0'

//----- (0040AB60) --------------------------------------------------------
void __userpurge sub_40AB60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  _DWORD *i; // [esp+10h] [ebp-8h]
  _DWORD **v7; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  v7 = (_DWORD **)(a1 + 352);
  for ( i = *(_DWORD **)(a1 + 352); i; i = *v7 )
  {
    if ( (a5 & i[4]) != 0 )
    {
      (*(void (__thiscall **)(_DWORD *, int))(*i + 8))(i, a1);
      *v7 = (_DWORD *)i[5];
      sub_402460(i, 1);
    }
    else
    {
      v7 = (_DWORD **)(i + 5);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
}
// 40ABCF: conditional instruction was optimized away because of '%var_8.4!=0'

//----- (0040AC10) --------------------------------------------------------
void __usercall sub_40AC10(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int i; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  for ( i = *(_DWORD *)(a1 + 352); i; i = *(_DWORD *)(i + 20) )
    (**(void (__thiscall ***)(int, int))i)(i, a1);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
}

//----- (0040AC70) --------------------------------------------------------
void __usercall sub_40AC70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
  for ( i = *(_DWORD **)(a1 + 352); i; i = (_DWORD *)i[5] )
    (*(void (__thiscall **)(_DWORD *, int))(*i + 24))(i, a1);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 356), a2, a3, a4);
}

//----- (0040ACD0) --------------------------------------------------------
void __usercall sub_40ACD0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, ...)
{
  CMemory **v5; // [esp+0h] [ebp-10h]
  va_list va; // [esp+20h] [ebp+10h] BYREF

  va_start(va, a5);
  v5 = CIOBuffer::Alloc();
  *((_BYTE *)v5 + 2) = a5;
  *(_WORD *)v5 = (unsigned __int16)WritePacket(a1, a2, a3, (char *)v5 + 3, (int)va) - (_WORD)v5;
  v5[2000] = (CMemory *)*(unsigned __int16 *)v5;
  sub_4821F0(*(char **)(a4 + 312), a1, a2, a3, (_DWORD *)(a4 + 316), (int)v5, 25);
  CIOBuffer::Release((CIOBuffer *)v5);
}

//----- (0040AD60) --------------------------------------------------------
void __usercall sub_40AD60(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, int a6, ...)
{
  CMemory **v6; // [esp+0h] [ebp-10h]
  va_list va; // [esp+24h] [ebp+14h] BYREF

  va_start(va, a6);
  v6 = CIOBuffer::Alloc();
  *((_BYTE *)v6 + 2) = a5;
  *(_WORD *)v6 = (unsigned __int16)WritePacket(a1, a2, a3, (char *)v6 + 3, (int)va) - (_WORD)v6;
  v6[2000] = (CMemory *)*(unsigned __int16 *)v6;
  sub_4821F0(*(char **)(a4 + 312), a1, a2, a3, (_DWORD *)(a4 + 316), (int)v6, a6);
  CIOBuffer::Release((CIOBuffer *)v6);
}

//----- (0040ADF0) --------------------------------------------------------
void __thiscall CConfig::CConfig(CConfig *this)
{
  sub_40AE20((_DWORD *)this + 130);
  *((_DWORD *)this + 128) = 0;
}

//----- (0040AE20) --------------------------------------------------------
_DWORD *__thiscall sub_40AE20(_DWORD *this)
{
  *this = &unk_4B8BCC;
  return this;
}

//----- (0040AE40) --------------------------------------------------------
void __thiscall sub_40AE40(CConfig *this)
{
  CConfig::Close(this);
}

//----- (0040AE60) --------------------------------------------------------
void __thiscall CConfig::Close(CConfig *this)
{
  int v1; // ecx
  int v2; // [esp-4h] [ebp-10h]

  if ( *((_DWORD *)this + 128) )
  {
    fclose(*((FILE **)this + 128));
    *((_DWORD *)this + 128) = 0;
  }
  std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>((char *)this + 520);
  free_var((int (__thiscall ***)(_DWORD))this + 130);
  v2 = v1;
  std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&unk_4B8BC8);
  lisp::var::operator=((_DWORD *)this + 130, v2);
}
// 40AEB0: variable 'v1' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0040AED0) --------------------------------------------------------
void __cdecl free_var(int (__thiscall ***a1)(_DWORD))
{
  int v1; // eax
  int v2; // ecx
  int v3; // eax
  int v4; // ecx
  void *v5; // eax
  int v6; // [esp-4h] [ebp-1Ch]
  int v7; // [esp-4h] [ebp-1Ch]
  void *v8; // [esp+14h] [ebp-4h]

  if ( (unsigned __int8)sub_40AFD0(&a1) )
  {
    v1 = sub_40AF90(&a1);
    v6 = v2;
    std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v1);
    free_var(v6);
    v3 = sub_40AFB0(&a1);
    v7 = v4;
    std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v3);
    free_var(v7);
    sub_401020(a1);
  }
  else if ( (unsigned __int8)sub_40AFF0(&a1) )
  {
    v8 = a1;
    v5 = (void *)(**a1)(a1);
    CMemory::_free(v5);
    sub_401020(v8);
  }
  else if ( (unsigned __int8)sub_40B010(&a1) )
  {
    sub_401020(a1);
  }
}
// 40AEED: variable 'v2' is possibly undefined
// 40AF06: variable 'v4' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0040AF90) --------------------------------------------------------
int __thiscall sub_40AF90(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 12))(*this, this);
}

//----- (0040AFB0) --------------------------------------------------------
int __thiscall sub_40AFB0(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 16))(*this, this);
}

//----- (0040AFD0) --------------------------------------------------------
int __thiscall sub_40AFD0(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 20))(*this, this);
}

//----- (0040AFF0) --------------------------------------------------------
int __thiscall sub_40AFF0(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 28))(*this, this);
}

//----- (0040B010) --------------------------------------------------------
int __thiscall sub_40B010(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 32))(*this, this);
}

//----- (0040B030) --------------------------------------------------------
int __thiscall CConfig::GetToken(char *this)
{
  int result; // eax
  int v2; // [esp+10h] [ebp-14h]
  int C; // [esp+1Ch] [ebp-8h]
  int Ca; // [esp+1Ch] [ebp-8h]
  int Cb; // [esp+1Ch] [ebp-8h]
  int Cc; // [esp+1Ch] [ebp-8h]
  int Cd; // [esp+1Ch] [ebp-8h]
  _BYTE *v9; // [esp+20h] [ebp-4h]
  _BYTE *i; // [esp+20h] [ebp-4h]

  while ( 2 )
  {
    C = fgetc(*((FILE **)this + 128));
    switch ( C )
    {
      case -1:
        return 0;
      case 9:
      case 13:
      case 32:
        continue;
      case 10:
        ++*((_DWORD *)this + 129);
        return 3;
      case 34:
        v9 = this;
        while ( 2 )
        {
          Ca = fgetc(*((FILE **)this + 128));
          switch ( Ca )
          {
            case -1:
              return 0;
            case 10:
              ++*((_DWORD *)this + 129);
              return 3;
            case 13:
              continue;
            case 34:
              Cb = fgetc(*((FILE **)this + 128));
              if ( Cb == -1 )
              {
                *v9 = 0;
                return 2;
              }
              if ( Cb == 34 )
              {
                *v9++ = 34;
                continue;
              }
              break;
            default:
              *v9++ = Ca;
              continue;
          }
          break;
        }
        goto LABEL_19;
      case 39:
        v9 = this;
        while ( 2 )
        {
          Cc = fgetc(*((FILE **)this + 128));
          switch ( Cc )
          {
            case -1:
              return 0;
            case 10:
              ++*((_DWORD *)this + 129);
              return 3;
            case 13:
              continue;
            case 39:
              Cb = fgetc(*((FILE **)this + 128));
              if ( Cb == -1 )
              {
                *v9 = 0;
                result = 2;
              }
              else
              {
                if ( Cb == 39 )
                {
                  *v9++ = 39;
                  continue;
                }
LABEL_19:
                ungetc_0(Cb, *((FILE **)this + 128));
                *v9 = 0;
                result = 2;
              }
              break;
            default:
              *v9++ = Cc;
              continue;
          }
          break;
        }
        return result;
      case 40:
        return 7;
      case 41:
        return 8;
      case 44:
        return 5;
      case 58:
        return 6;
      case 59:
        do
        {
          v2 = fgetc(*((FILE **)this + 128));
          if ( v2 == -1 )
            return 0;
        }
        while ( v2 != 10 );
        ++*((_DWORD *)this + 129);
        return 3;
      case 61:
        return 4;
      default:
        if ( isalnum(C) || C == 45 )
        {
          *this = C;
          for ( i = this + 1; ; ++i )
          {
            Cd = fgetc(*((FILE **)this + 128));
            if ( Cd == -1 )
              goto LABEL_41;
            if ( !isalnum(Cd) )
              break;
            *i = Cd;
          }
          ungetc_0(Cd, *((FILE **)this + 128));
LABEL_41:
          *i = 0;
          return 1;
        }
        return 9;
    }
  }
}

//----- (0040B4A0) --------------------------------------------------------
lisp::var *__thiscall CConfig::Find(CConfig *this, lisp::var *result, const char *key)
{
  _DWORD *v3; // eax
  _DWORD *v4; // eax
  const char *v5; // eax
  int v6; // eax
  int v8; // eax
  int v9; // ecx
  int v10; // [esp-4h] [ebp-10h]
  int v11; // [esp+8h] [ebp-4h] BYREF

  std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>((char *)this + 520);
  while ( !(unsigned __int8)sub_402200(&v11) )
  {
    v3 = (_DWORD *)sub_40AF90(&v11);
    v4 = (_DWORD *)sub_40AF90(v3);
    v5 = (const char *)sub_4021E0(v4);
    if ( !_stricmp(v5, key) )
    {
      v6 = sub_40AF90(&v11);
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v6);
      return result;
    }
    v8 = sub_40AFB0(&v11);
    v10 = v9;
    std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v8);
    lisp::var::operator=(&v11, v10);
  }
  std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&unk_4B8BC8);
  return result;
}
// 40B50E: variable 'v9' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0040B540) --------------------------------------------------------
int __thiscall CConfig::GetValue(int this, int a2)
{
  const char *v2; // eax
  int v3; // eax
  int result; // eax
  CMemory **v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  do
    v7 = CConfig::GetToken((char *)this);
  while ( v7 == 3 );
  if ( v7 == 1 || v7 == 2 )
  {
    v6 = sub_401000(8u);
    if ( v6 )
    {
      v2 = Strdup((const char *)this);
      lisp::_string::_string((lisp::_string *)v6, v2);
      unknown_libname_16(v3);
    }
    else
    {
      unknown_libname_16(0);
    }
    result = a2;
  }
  else
  {
    if ( v7 == 7 )
    {
      CConfig::GetList(a2);
    }
    else
    {
      *(_DWORD *)(this + 524) = v7;
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&unk_4B8BC8);
    }
    result = a2;
  }
  return result;
}
// 40B593: variable 'v3' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);
// 40B6D0: using guessed type _DWORD __stdcall CConfig::GetList(_DWORD);
// 4312A0: using guessed type _DWORD __stdcall unknown_libname_16(_DWORD);

//----- (0040B5F0) --------------------------------------------------------
void __thiscall lisp::_string::_string(lisp::_string *this, const char *str)
{
  sub_40B660(this);
  *(_DWORD *)this = off_498B58;
  *((_DWORD *)this + 1) = str;
}
// 498B58: using guessed type int (*off_498B58[39])();

//----- (0040B620) --------------------------------------------------------
void *sub_40B620()
{
  return &unk_4B8BC8;
}

//----- (0040B660) --------------------------------------------------------
_DWORD *__thiscall sub_40B660(_DWORD *this)
{
  *this = off_498B80;
  return this;
}
// 498B80: using guessed type int (*off_498B80[29])();

//----- (0040B680) --------------------------------------------------------
const char *sub_40B680()
{
  return &Src;
}

//----- (0040B690) --------------------------------------------------------
char *__cdecl Strdup(const char *str)
{
  CMemory **v1; // eax
  unsigned int v3; // [esp-4h] [ebp-8h]

  v3 = strlen(str) + 1;
  v1 = CMemory::_malloc(v3);
  return (char *)memcpy(v1, str, v3);
}

//----- (0040B6D0) --------------------------------------------------------
int __thiscall CConfig::GetList(int *this, int a2)
{
  int result; // eax
  unsigned __int8 v3; // al
  char v4; // cl
  char v5; // cl
  char v6; // [esp-8h] [ebp-30h]
  int (__thiscall ***v7)(_DWORD); // [esp-4h] [ebp-2Ch]
  char v8; // [esp-4h] [ebp-2Ch]
  _DWORD *v9; // [esp+0h] [ebp-28h]
  _DWORD *v10; // [esp+4h] [ebp-24h]
  CMemory **v12; // [esp+14h] [ebp-14h]
  CMemory **v13; // [esp+1Ch] [ebp-Ch]
  int v14; // [esp+20h] [ebp-8h] BYREF
  int v15; // [esp+24h] [ebp-4h] BYREF

  CConfig::GetValue((int)this, (int)&v15);
  if ( (unsigned __int8)sub_402200(&v15) )
  {
    if ( this[131] == 8 )
    {
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&unk_4B8BC8);
      result = a2;
    }
    else
    {
      v13 = sub_401000(8u);
      if ( v13 )
      {
        v10 = sub_40B7F0(v13, this[131]);
        unknown_libname_16(v10);
      }
      else
      {
        unknown_libname_16(0);
      }
      result = a2;
    }
  }
  else
  {
    CConfig::GetList(&v14);
    v3 = sub_40B010(&v14);
    if ( v3 )
    {
      v7 = (int (__thiscall ***)(_DWORD))v3;
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&v15);
      free_var(v7);
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&v14);
      result = a2;
    }
    else
    {
      v12 = sub_401000(0xCu);
      if ( v12 )
      {
        v8 = v4;
        std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&v14);
        v6 = v5;
        std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&v15);
        v9 = lisp::_cons::_cons(v12, v6, v8);
        unknown_libname_16(v9);
      }
      else
      {
        unknown_libname_16(0);
      }
      result = a2;
    }
  }
  return result;
}
// 40B7AD: variable 'v4' is possibly undefined
// 40B7B9: variable 'v5' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);
// 4312A0: using guessed type _DWORD __stdcall unknown_libname_16(_DWORD);

//----- (0040B7F0) --------------------------------------------------------
_DWORD *__thiscall sub_40B7F0(_DWORD *this, int a2)
{
  sub_40B660(this);
  *this = off_498BA8;
  this[1] = a2;
  return this;
}
// 498BA8: using guessed type int (*off_498BA8[19])();

//----- (0040B820) --------------------------------------------------------
_DWORD *__thiscall lisp::_cons::_cons(_DWORD *this, char a2, char a3)
{
  sub_40B660(this);
  *this = off_498BD0;
  std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a2);
  std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
  return this;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);
// 498BD0: using guessed type int (*off_498BD0[9])();

//----- (0040B8A0) --------------------------------------------------------
int __thiscall CConfig::Open(_DWORD *this, char *FileName)
{
  int (__thiscall ***v3)(_DWORD); // ecx
  int (__thiscall ***v4)(_DWORD); // ecx
  const char *v5; // eax
  int v6; // eax
  int (__thiscall ***v7)(_DWORD); // ecx
  lisp::var *v8; // eax
  int (__thiscall ***v9)(_DWORD); // ecx
  int (__thiscall ***v10)(_DWORD); // ecx
  int (__thiscall ***v11)(_DWORD); // ecx
  int v12; // eax
  char v13; // cl
  char v14; // cl
  char v15; // [esp-8h] [ebp-6Ch]
  char v16; // [esp-8h] [ebp-6Ch]
  int (__thiscall ***v17)(_DWORD); // [esp-4h] [ebp-68h] BYREF
  _DWORD *v18; // [esp+0h] [ebp-64h]
  _DWORD *v19; // [esp+4h] [ebp-60h]
  int v20; // [esp+8h] [ebp-5Ch]
  int v21; // [esp+Ch] [ebp-58h]
  int v22; // [esp+10h] [ebp-54h]
  void *Src; // [esp+14h] [ebp-50h]
  CMemory **v24; // [esp+1Ch] [ebp-48h]
  CMemory **v25; // [esp+28h] [ebp-3Ch]
  CMemory **v26; // [esp+34h] [ebp-30h]
  int v27[3]; // [esp+3Ch] [ebp-28h] BYREF
  CMemory **v28; // [esp+48h] [ebp-1Ch]
  int v29; // [esp+50h] [ebp-14h] BYREF
  _DWORD *v30; // [esp+54h] [ebp-10h]
  char *String2; // [esp+58h] [ebp-Ch]
  int v32; // [esp+5Ch] [ebp-8h]
  int v33; // [esp+60h] [ebp-4h] BYREF

  Src = this;
  this[128] = fopen(FileName, "rb");
  if ( !*((_DWORD *)Src + 128) )
  {
    LOG_ERR("'%s' File open failed at CConfig::Open", FileName);
    return 0;
  }
  sub_40AE20(&v33);
  v30 = (char *)Src + 520;
  *((_DWORD *)Src + 129) = 1;
  while ( 1 )
  {
    v32 = CConfig::GetToken((char *)Src);
    v22 = v32;
    if ( !v32 )
      break;
    if ( v22 == 1 )
    {
      String2 = Strdup((const char *)Src);
      v32 = CConfig::GetToken((char *)Src);
      if ( v32 != 4 )
        goto LABEL_33;
      v32 = CConfig::GetToken((char *)Src);
      sub_40AE20(&v29);
      if ( v32 == 1 || v32 == 2 )
      {
        v28 = sub_401000(8u);
        if ( v28 )
        {
          v5 = Strdup((const char *)Src);
          lisp::_string::_string((lisp::_string *)v28, v5);
          v21 = v6;
        }
        else
        {
          v21 = 0;
        }
        v17 = v4;
        unknown_libname_16(v21);
        lisp::var::operator=(&v29, (int)v17);
      }
      else
      {
        if ( v32 != 7 )
          goto LABEL_33;
        v17 = v3;
        CConfig::GetList((int *)Src, (int)&v17);
        lisp::var::operator=(&v29, (int)v17);
        if ( (unsigned __int8)sub_40B010(&v29) )
        {
          v32 = sub_40BBE0(&v29);
          v17 = v7;
          std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&v29);
          free_var(v17);
LABEL_33:
          LOG_ERR("Invalid format %s(%d) at CConfig::Open", FileName, *((_DWORD *)Src + 129));
          CMemory::_free(String2);
          goto LABEL_34;
        }
      }
      v8 = CConfig::Find((CConfig *)Src, (lisp::var *)v27, String2);
      if ( (unsigned __int8)sub_402200(v8) )
      {
        v26 = sub_401000(0xCu);
        if ( v26 )
        {
          v25 = sub_401000(0xCu);
          if ( v25 )
          {
            v24 = sub_401000(8u);
            if ( v24 )
            {
              lisp::_string::_string((lisp::_string *)v24, String2);
              v20 = v12;
            }
            else
            {
              v20 = 0;
            }
            v17 = v11;
            std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&v29);
            v15 = v13;
            unknown_libname_16(v20);
            v19 = lisp::_cons::_cons(v25, v15, (char)v17);
          }
          else
          {
            v19 = 0;
          }
          v17 = v10;
          std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&unk_4B8BC8);
          v16 = v14;
          unknown_libname_16(v19);
          v18 = lisp::_cons::_cons(v26, v16, (char)v17);
        }
        else
        {
          v18 = 0;
        }
        v17 = v9;
        unknown_libname_16(v18);
        lisp::var::operator=(v30, (int)v17);
        v30 = (_DWORD *)sub_40AFB0(v30);
      }
      else
      {
        LOG_ERR("Duplicate key %s(%d) at CConfig::Open", FileName, *((_DWORD *)Src + 129));
        CMemory::_free(String2);
        std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&v29);
        free_var(v17);
      }
LABEL_34:
      while ( v32 != 3 && v32 )
        v32 = CConfig::GetToken((char *)Src);
    }
    else if ( v22 != 3 )
    {
      LOG_ERR("Invalid format %s(%d) at CConfig::Open", FileName, *((_DWORD *)Src + 129));
    }
  }
  fclose(*((FILE **)Src + 128));
  *((_DWORD *)Src + 128) = 0;
  return 1;
}
// 40B9A4: variable 'v6' is possibly undefined
// 40B9B0: variable 'v4' is possibly undefined
// 40B9CC: variable 'v3' is possibly undefined
// 40B9F8: variable 'v7' is possibly undefined
// 40BA83: variable 'v12' is possibly undefined
// 40BA8F: variable 'v11' is possibly undefined
// 40BA9B: variable 'v13' is possibly undefined
// 40BABB: variable 'v10' is possibly undefined
// 40BAC8: variable 'v14' is possibly undefined
// 40BAE8: variable 'v9' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);
// 4312A0: using guessed type _DWORD __stdcall unknown_libname_16(_DWORD);

//----- (0040BBE0) --------------------------------------------------------
int __thiscall sub_40BBE0(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 4))(*this, this);
}

//----- (0040BC00) --------------------------------------------------------
const char *__thiscall CConfig::Get(CConfig *this, const char *key)
{
  lisp::var *v2; // eax
  _DWORD *v3; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  v2 = CConfig::Find(this, (lisp::var *)&v5, key);
  v3 = (_DWORD *)sub_40AFB0(v2);
  return (const char *)sub_4021E0(v3);
}

//----- (0040BC30) --------------------------------------------------------
const char *__thiscall CConfig::Get(CConfig *this, const char *key, const char *defaultValue)
{
  _DWORD *v4; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  CConfig::Find(this, (lisp::var *)&v5, key);
  if ( (unsigned __int8)sub_402200(&v5) )
    return defaultValue;
  v4 = (_DWORD *)sub_40AFB0(&v5);
  return (const char *)sub_4021E0(v4);
}

//----- (0040BC80) --------------------------------------------------------
int __thiscall sub_40BC80(CConfig *this, char *String2)
{
  lisp::var *v2; // eax
  _DWORD *v3; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  v2 = CConfig::Find(this, (lisp::var *)&v5, String2);
  v3 = (_DWORD *)sub_40AFB0(v2);
  return sub_40BBE0(v3);
}

//----- (0040BCB0) --------------------------------------------------------
int __thiscall sub_40BCB0(CConfig *this, char *String2, int a3)
{
  _DWORD *v4; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  CConfig::Find(this, (lisp::var *)&v5, String2);
  if ( (unsigned __int8)sub_402200(&v5) )
    return a3;
  v4 = (_DWORD *)sub_40AFB0(&v5);
  return sub_40BBE0(v4);
}

//----- (0040BD00) --------------------------------------------------------
int __cdecl CConfig::GetTimeStamp()
{
  int result; // eax
  HMODULE v1; // [esp+4h] [ebp-8h]
  _DWORD *v2; // [esp+8h] [ebp-4h]

  v1 = GetModuleHandleA(0);
  if ( !v1 )
    return 0;
  if ( *(_WORD *)v1 != 23117 )
    return 0;
  v2 = (_DWORD *)((char *)v1 + *((_DWORD *)v1 + 15));
  if ( *v2 == 17744 )
    result = v2[2];
  else
    result = 0;
  return result;
}

//----- (0040BD60) --------------------------------------------------------
LONG __userpurge sub_40BD60@<eax>(int a1@<ecx>, DWORD a2@<ebx>, int *a3@<edi>, DWORD a4@<esi>, int a5, unsigned __int16 *a6, int a7)
{
  sub_40C0A0(a2, a3, a4, a6);
  CIOBuffer::Release(*(CIOBuffer **)(a1 + 16));
  return sub_40CEA0(a1);
}

//----- (0040BD90) --------------------------------------------------------
volatile int *__usercall sub_40BD90@<eax>(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOSocket::CIOSocket((int)a1, a2, a3, a4, 0);
  *a1 = (volatile int)&off_498C78;
  sub_4010D0(a1, a2, a3, a4);
  return a1;
}
// 498C78: using guessed type int (__stdcall *off_498C78)(int);

//----- (0040BDC0) --------------------------------------------------------
_DWORD *__userpurge sub_40BDC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_40BDF0(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0040BDF0) --------------------------------------------------------
_DWORD *__usercall sub_40BDF0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_498C78;
  return CIOSocket::_CIOSocket((int)a1, a2, a3, a4);
}
// 498C78: using guessed type int (__stdcall *off_498C78)(int);

//----- (0040BE10) --------------------------------------------------------
int __usercall CDBSocket::Start@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const char *v3; // eax
  const char *v4; // eax
  struct hostent *v6; // [esp+0h] [ebp-1Ch]
  struct sockaddr name; // [esp+4h] [ebp-18h] BYREF
  SOCKET s; // [esp+18h] [ebp-4h]

  s = socket(2, 1, 0);
  name.sa_family = 2;
  *(_DWORD *)&name.sa_data[2] = 0;
  *(_WORD *)name.sa_data = 0;
  bind(s, &name, 16);
  name.sa_family = 2;
  v3 = (const char *)sub_4012C0(&unk_4B8C68);
  *(_DWORD *)&name.sa_data[2] = inet_addr(v3);
  if ( *(_DWORD *)&name.sa_data[2] == -1 )
  {
    v4 = (const char *)sub_4012C0(&unk_4B8C68);
    v6 = gethostbyname(v4);
    if ( !v6 )
      goto LABEL_7;
    memcpy(&name.sa_data[2], *(const void **)v6->h_addr_list, v6->h_length);
  }
  *(_WORD *)name.sa_data = htons(dword_4B8C28);
  if ( connect(s, &name, 16) != -1 )
  {
    dword_4B2288 = s;
    hObject = CreateEventA(0, 1, 0, 0);
    CIOSocket::Initialize((CIOSocket *)&unk_4B2278, a1, a2, a3);
    WaitForSingleObject(hObject, 0xFFFFFFFF);
    hObject = 0;
    CloseHandle(0);
    return dword_4B226C;
  }
  LOG_ERR("Can't connect to DB Server");
LABEL_7:
  closesocket(s);
  return 0;
}
// 4B226C: using guessed type int dword_4B226C;
// 4B2288: using guessed type int dword_4B2288;

//----- (0040BF50) --------------------------------------------------------
void __usercall CDBSocket::Stop(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  if ( dword_4B226C )
  {
    dword_4B226C = 0;
    hObject = CreateEventA(0, 1, 0, 0);
    CDBSocket::Write(a1, a2, a3, 32, &Src);
    WaitForSingleObject(hObject, 0xFFFFFFFF);
    CloseHandle(hObject);
    hObject = 0;
  }
}
// 4B226C: using guessed type int dword_4B226C;

//----- (0040BFB0) --------------------------------------------------------
BOOL CDBSocket::OnClose()
{
  if ( !dword_4B226C )
    return SetEvent(hObject);
  dword_4B226C = 0;
  LOG_ERR("Connection closed from DB Server");
  return PostMessageA(hWnd, 0x111u, 0x8009u, 0);
}
// 4B226C: using guessed type int dword_4B226C;

//----- (0040C010) --------------------------------------------------------
void __usercall sub_40C010(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int dwNumberOfBytesTransferred; // [esp+4h] [ebp-14h]
  CIOObject *v6; // [esp+8h] [ebp-10h]
  unsigned int v7; // [esp+Ch] [ebp-Ch]
  unsigned __int16 *v8; // [esp+10h] [ebp-8h]
  unsigned int Size; // [esp+14h] [ebp-4h]

  Size = *(_DWORD *)(*(_DWORD *)(a1 + 92) + 8000);
  v8 = *(unsigned __int16 **)(a1 + 92);
  while ( 1 )
  {
    dwNumberOfBytesTransferred = (int)v8;
    if ( Size < 2 )
      break;
    v7 = *v8;
    if ( Size < v7 )
      break;
    Size -= v7;
    v8 = (unsigned __int16 *)((char *)v8 + v7);
    v6 = sub_40CE20();
    *((_DWORD *)v6 + 4) = *(_DWORD *)(a1 + 92);
    sub_401530(*(volatile LONG **)(a1 + 92));
    CIOObject::PostObject(v6, dwNumberOfBytesTransferred);
  }
  CIOSocket::Read((CIOSocket *)a1, a2, a3, a4, Size);
}

//----- (0040C0A0) --------------------------------------------------------
void __usercall sub_40C0A0(DWORD a1@<ebx>, int *a2@<edi>, DWORD a3@<esi>, unsigned __int16 *a4)
{
  int v4; // [esp+8h] [ebp-150h] BYREF
  char *v5; // [esp+Ch] [ebp-14Ch] BYREF
  unsigned __int8 v6; // [esp+13h] [ebp-145h] BYREF
  CIOObject *v7; // [esp+14h] [ebp-144h]
  int v8; // [esp+18h] [ebp-140h] BYREF
  char *v9; // [esp+1Ch] [ebp-13Ch] BYREF
  unsigned __int8 v10; // [esp+23h] [ebp-135h] BYREF
  CIOObject *v11; // [esp+24h] [ebp-134h]
  int v12; // [esp+28h] [ebp-130h] BYREF
  char v13[7]; // [esp+2Ch] [ebp-12Ch] BYREF
  char v14; // [esp+33h] [ebp-125h] BYREF
  int v15; // [esp+34h] [ebp-124h] BYREF
  char v16; // [esp+3Bh] [ebp-11Dh] BYREF
  int v17; // [esp+3Ch] [ebp-11Ch] BYREF
  unsigned __int8 v18; // [esp+43h] [ebp-115h] BYREF
  CIOObject *v19; // [esp+44h] [ebp-114h]
  int v20; // [esp+48h] [ebp-110h] BYREF
  unsigned __int8 v21; // [esp+4Fh] [ebp-109h] BYREF
  CIOObject *v22; // [esp+50h] [ebp-108h]
  unsigned __int8 v23; // [esp+57h] [ebp-101h] BYREF
  int v24; // [esp+58h] [ebp-100h] BYREF
  CIOObject *v25; // [esp+5Ch] [ebp-FCh]
  int v26; // [esp+60h] [ebp-F8h] BYREF
  CIOObject *v27; // [esp+64h] [ebp-F4h]
  unsigned __int8 v28; // [esp+6Bh] [ebp-EDh] BYREF
  int v29; // [esp+6Ch] [ebp-ECh] BYREF
  char v30; // [esp+73h] [ebp-E5h] BYREF
  CIOObject *v31; // [esp+74h] [ebp-E4h]
  unsigned __int8 v32; // [esp+7Ah] [ebp-DEh] BYREF
  unsigned __int8 v33; // [esp+7Bh] [ebp-DDh] BYREF
  int v34; // [esp+7Ch] [ebp-DCh] BYREF
  volatile int *v35; // [esp+80h] [ebp-D8h]
  unsigned __int8 v36; // [esp+87h] [ebp-D1h] BYREF
  int v37; // [esp+88h] [ebp-D0h] BYREF
  volatile int *v38; // [esp+8Ch] [ebp-CCh]
  unsigned __int8 v39; // [esp+93h] [ebp-C5h] BYREF
  int v40; // [esp+94h] [ebp-C4h] BYREF
  unsigned __int8 v41; // [esp+9Bh] [ebp-BDh] BYREF
  int v42; // [esp+9Ch] [ebp-BCh] BYREF
  int v43; // [esp+A0h] [ebp-B8h] BYREF
  int v44; // [esp+A4h] [ebp-B4h] BYREF
  CIOObject *v45; // [esp+A8h] [ebp-B0h]
  unsigned __int8 v46; // [esp+AFh] [ebp-A9h] BYREF
  int v47; // [esp+B0h] [ebp-A8h] BYREF
  int v48; // [esp+B4h] [ebp-A4h] BYREF
  CIOObject *v49; // [esp+B8h] [ebp-A0h]
  int v50; // [esp+BCh] [ebp-9Ch] BYREF
  int v51; // [esp+C0h] [ebp-98h] BYREF
  int v52; // [esp+C4h] [ebp-94h]
  CIOObject *v53; // [esp+C8h] [ebp-90h]
  int v54; // [esp+CCh] [ebp-8Ch] BYREF
  int v55; // [esp+D0h] [ebp-88h]
  char *Source; // [esp+D4h] [ebp-84h] BYREF
  unsigned __int8 v57; // [esp+DBh] [ebp-7Dh] BYREF
  int v58; // [esp+DCh] [ebp-7Ch]
  int v59; // [esp+E0h] [ebp-78h] BYREF
  int v60; // [esp+E4h] [ebp-74h] BYREF
  int v61; // [esp+E8h] [ebp-70h] BYREF
  CIOObject *v62; // [esp+ECh] [ebp-6Ch]
  int v63; // [esp+F0h] [ebp-68h]
  CIOObject *v64; // [esp+F4h] [ebp-64h]
  int v65; // [esp+F8h] [ebp-60h] BYREF
  int v66; // [esp+FCh] [ebp-5Ch] BYREF
  int v67; // [esp+100h] [ebp-58h] BYREF
  CIOObject *v68; // [esp+104h] [ebp-54h]
  int v69; // [esp+108h] [ebp-50h] BYREF
  unsigned __int8 v70; // [esp+10Fh] [ebp-49h] BYREF
  CIOObject *v71; // [esp+110h] [ebp-48h]
  int v72; // [esp+114h] [ebp-44h] BYREF
  volatile int *v73; // [esp+118h] [ebp-40h]
  unsigned __int8 v74; // [esp+11Fh] [ebp-39h] BYREF
  int v75; // [esp+120h] [ebp-38h] BYREF
  volatile int *v76; // [esp+124h] [ebp-34h]
  unsigned __int8 v77; // [esp+12Bh] [ebp-2Dh] BYREF
  int v78; // [esp+12Ch] [ebp-2Ch] BYREF
  volatile int *v79; // [esp+130h] [ebp-28h]
  unsigned __int8 v80; // [esp+137h] [ebp-21h] BYREF
  int v81; // [esp+138h] [ebp-20h] BYREF
  volatile int *v82; // [esp+13Ch] [ebp-1Ch]
  unsigned __int16 v83[2]; // [esp+140h] [ebp-18h] BYREF
  unsigned __int8 v84; // [esp+145h] [ebp-13h] BYREF
  char v85; // [esp+146h] [ebp-12h] BYREF
  unsigned __int8 v86; // [esp+147h] [ebp-11h] BYREF
  int v87; // [esp+148h] [ebp-10h] BYREF
  int v88; // [esp+14Ch] [ebp-Ch] BYREF
  void *Src; // [esp+150h] [ebp-8h]
  char v90[4]; // [esp+154h] [ebp-4h]

  Src = (char *)a4 + 3;
  *(_DWORD *)v90 = *((unsigned __int8 *)a4 + 2);
  switch ( *(_DWORD *)v90 )
  {
    case 0:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "dbw", &v81, &v84, v83);
      v82 = sub_46F6A0(a1, (DWORD)a2, a3, v81);
      if ( v82 )
      {
        sub_483C30((int)v82, a1, (DWORD)a2, a3, (int)Src, v84, v83[0]);
        sub_401C50(v82, a1, (DWORD)a2, a3);
      }
      break;
    case 1:
      sub_485530(a1, (DWORD)a2, a3, Src, "bddddb", &v86, &unk_4B2270, &dword_4B8B70, &v88, &v87, &v85);
      if ( v86 == 5 )
      {
        if ( dword_4B8B70 )
        {
          if ( v88 == 120 && !v87 )
          {
            dword_4B226C = 1;
            SetEvent(hObject);
            LOG_NORMAL("DB server version (Version:%d, IID:0x%x)", v86, dword_4B8B70);
            if ( (dword_4B8C30[0] & 1) != 0 )
              CDBSocket::Write(a1, (DWORD)a2, a3, 56, &::Src);
          }
          else
          {
            LOG_ERR(
              "System or Event is diffrent with DBSvr. Sys(M:%d, D:%d), Ev(M:%d, D:%d)",
              *(_DWORD *)dword_4B8C30,
              v88,
              dword_4B8C34,
              v87);
            CIOSocket::Close((CIOSocket *)&unk_4B2278, a1, (DWORD)a2, a3);
          }
        }
        else
        {
          LOG_ERR("can't get Item ID");
          CIOSocket::Close((CIOSocket *)&unk_4B2278, a1, (DWORD)a2, a3);
        }
      }
      else
      {
        LOG_ERR("DB version is different (DBSvr:%d, MainSvr:%d)", v86, 6);
        CIOSocket::Close((CIOSocket *)&unk_4B2278, a1, (DWORD)a2, a3);
      }
      break;
    case 2:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "db", &v78, &v80);
      v79 = sub_46F6A0(a1, (DWORD)a2, a3, v78);
      if ( v79 )
      {
        sub_483D20((int)v79, a1, (DWORD)a2, a3, v80, Src);
        sub_401C50(v79, a1, (DWORD)a2, a3);
      }
      break;
    case 3:
      sub_485530(a1, (DWORD)a2, a3, Src, "db", &v75, &v77);
      v76 = sub_46F6A0(a1, (DWORD)a2, a3, v75);
      if ( v76 )
      {
        sub_483DD0((int)v76, a1, (DWORD)a2, a3, v77);
        sub_401C50(v76, a1, (DWORD)a2, a3);
      }
      break;
    case 4:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "db", &v72, &v74);
      v73 = sub_46F6A0(a1, (DWORD)a2, a3, v72);
      if ( v73 )
      {
        sub_484190((int)v73, a1, (DWORD)a2, a3, v74, Src);
        sub_401C50(v73, a1, (DWORD)a2, a3);
      }
      break;
    case 8:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "db", &v69, &v70);
      v71 = sub_446740(a1, (DWORD)a2, a3, v69);
      if ( v71 )
      {
        sub_459290((unsigned int)v71, a1, (DWORD)a2, a3, v70, Src);
        CIOObject::Release(v71, a1, (DWORD)a2, a3, (volatile int *)v71 + 86);
      }
      break;
    case 9:
      sub_485530(a1, (DWORD)a2, a3, Src, "ddd", &v65, &v66, &v67);
      v68 = sub_446740(a1, (DWORD)a2, a3, v65);
      if ( v68 )
      {
        v63 = 0;
        v64 = (CIOObject *)sub_45DDB0((int)v68, a1, (DWORD)a2, a3);
        if ( v64 )
        {
          v63 = sub_412030((int)v64, a1, (DWORD)a2, a3, (int)v68, v66, v67);
          CIOObject::Release(v64, a1, (DWORD)a2, a3, (volatile int *)v64 + 10);
        }
        if ( v63 )
          sub_448C90(a1, (DWORD)a2, a3, (int)v68, 76, "bb", 0, (unsigned __int8)v63);
        CIOObject::Release(v68, a1, (DWORD)a2, a3, (volatile int *)v68 + 86);
      }
      break;
    case 0xA:
      sub_485530(a1, (DWORD)a2, a3, Src, "ddd", &v59, &v60, &v61);
      v62 = sub_446740(a1, (DWORD)a2, a3, v59);
      if ( v62 )
      {
        v58 = sub_412D60(a1, (DWORD)a2, a3, (int)v62, v60, v61);
        if ( v58 )
          sub_448C90(a1, (DWORD)a2, a3, (int)v62, 76, "bb", 0, (unsigned __int8)v58);
        CIOObject::Release(v62, a1, (DWORD)a2, a3, (volatile int *)v62 + 86);
      }
      break;
    case 0xB:
      sub_485530(a1, (DWORD)a2, a3, Src, "dbs", &v54, &v57, &Source);
      v55 = (int)sub_446740(a1, (DWORD)a2, a3, v54);
      if ( v55 )
      {
        v53 = (CIOObject *)sub_45DDB0(v55, a1, (DWORD)a2, a3);
        if ( v53 )
        {
          v52 = sub_4124C0((int)v53, a1, (DWORD)a2, a3, v55, v57, Source);
          CIOObject::Release(v53, a1, (DWORD)a2, a3, (volatile int *)v53 + 10);
          if ( v52 )
            sub_448C90(a1, (DWORD)a2, a3, v55, 76, "bb", 0, (unsigned __int8)v52);
        }
        else
        {
          LOG_ERR("D2S_GUILD_SAMENAMECHECK guild point error (pid:%d)", *(_DWORD *)(v55 + 444));
        }
        CIOObject::Release((CIOObject *)v55, a1, (DWORD)a2, a3, (volatile int *)(v55 + 344));
      }
      break;
    case 0xC:
      sub_485530(a1, (DWORD)a2, a3, Src, "dd", &v51, &v50);
      sub_411850(a1, (DWORD)a2, a3, v51, v50);
      break;
    case 0xD:
      sub_485530(a1, (DWORD)a2, a3, Src, "dbbss", &v37, &v41, &v39, &v42, &v40);
      v38 = sub_46F6A0(a1, (DWORD)a2, a3, v37);
      if ( v38 )
      {
        sub_4842A0((int)v38, a1, (DWORD)a2, a3, v41, v39, v42, v40);
        sub_401C50(v38, a1, (DWORD)a2, a3);
      }
      break;
    case 0xE:
      CAuthSocket::Write(a1, (DWORD)a2, a3, 13, "m", Src, (char *)a4 + *a4 - (_BYTE *)Src);
      break;
    case 0xF:
      sub_485530(a1, (DWORD)a2, a3, Src, "db", &v34, &v36);
      v35 = sub_46F6A0(a1, (DWORD)a2, a3, v34);
      if ( v35 )
      {
        sub_484460((int)v35, a1, (DWORD)a2, a3, v36);
        sub_401C50(v35, a1, (DWORD)a2, a3);
      }
      break;
    case 0x10:
      CPlayer::PKBulletinLoad(a1, (DWORD)a2, a3, Src);
      break;
    case 0x11:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "b", &v33);
      CCastle::Load(a1, (DWORD)a2, a3, v33, Src);
      break;
    case 0x12:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "b", &v32);
      CWar::Load(a1, (DWORD)a2, a3, v32, (char *)Src);
      break;
    case 0x13:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "db", &v29, &v30);
      v31 = sub_446740(a1, (DWORD)a2, a3, v29);
      if ( v31 )
      {
        if ( v30 )
          sub_448C90(a1, (DWORD)a2, a3, (int)v31, 85, "bm", 1, Src, 40);
        else
          sub_448C90(a1, (DWORD)a2, a3, (int)v31, 85, "b", 0);
        CIOObject::Release(v31, a1, (DWORD)a2, a3, (volatile int *)v31 + 86);
      }
      break;
    case 0x14:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "d", &v48);
      v49 = sub_446740(a1, (DWORD)a2, a3, v48);
      if ( v49 )
      {
        sub_448C90(a1, (DWORD)a2, a3, (int)v49, 76, "bm", 28, Src, (char *)a4 + *a4 - (_BYTE *)Src);
        CIOObject::Release(v49, a1, (DWORD)a2, a3, (volatile int *)v49 + 86);
      }
      break;
    case 0x15:
      sub_485530(a1, (DWORD)a2, a3, Src, "dbdd", &v43, &v46, &v44, &v47);
      v45 = sub_415370(a1, (DWORD)a2, a3, v44);
      if ( v45 )
      {
        sub_4145C0((int)v45, a1, (DWORD)a2, a3, v43, v46, v44, v47);
        CIOObject::Release(v45, a1, (DWORD)a2, a3, (volatile int *)v45 + 10);
      }
      break;
    case 0x16:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "db", &v26, &v28);
      v27 = sub_446740(a1, (DWORD)a2, a3, v26);
      if ( v27 )
      {
        if ( v28 )
          sub_45F3A0((int)v27, a1, (DWORD)a2, a3, v28, (char *)Src);
        CIOObject::Release(v27, a1, (DWORD)a2, a3, (volatile int *)v27 + 86);
      }
      break;
    case 0x17:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "db", &v24, &v23);
      v25 = sub_4466C0(a1, (DWORD)a2, a3, v24);
      if ( v25 )
      {
        sub_45FB70((int)v25, a1, (DWORD)a2, a3, v23, Src);
        CIOObject::Release(v25, a1, (DWORD)a2, a3, (volatile int *)v25 + 86);
      }
      break;
    case 0x18:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "db", &v20, &v21);
      if ( (dword_4B8C30[0] & 0x40) != 0 )
      {
        v22 = sub_4466C0(a1, (DWORD)a2, a3, v20);
        if ( v22 )
        {
          sub_45B730((int)v22, a1, (DWORD)a2, a3, v21, Src, (int)Src);
          CIOObject::Release(v22, a1, (DWORD)a2, a3, (volatile int *)v22 + 86);
        }
      }
      break;
    case 0x19:
      Src = sub_485530(a1, (DWORD)a2, a3, Src, "db", &v17, &v18);
      if ( (*(_WORD *)dword_4B8C30 & 0x400) != 0 )
      {
        v19 = sub_4466C0(a1, (DWORD)a2, a3, v17);
        if ( v19 )
        {
          sub_45C870((int)v19, a1, a2, a3, v18, Src, (int)Src);
          CIOObject::Release(v19, a1, (DWORD)a2, a3, (volatile int *)v19 + 86);
        }
        else if ( v18 == 1 )
        {
          Src = sub_485530(a1, (DWORD)a2, a3, Src, "dbb", &v15, &v16, &v14);
          if ( !v14 && v16 != 3 )
            CDBSocket::Write(a1, (DWORD)a2, a3, 30, "dbddb", v15, 1, v17, v15, 6);
        }
        else if ( v18 == 11 )
        {
          Src = sub_485530(a1, (DWORD)a2, a3, Src, "dd", &v12, v13);
          CDBSocket::Write(a1, (DWORD)a2, a3, 30, "dbddbbddwbd", v12, 8, v17, v12, 1, 0, 0, 0, 0, 0, 0);
        }
      }
      break;
    case 0x1A:
      sub_485530(a1, (DWORD)a2, a3, Src, "dbs", &v8, &v10, &v9);
      v11 = sub_446740(a1, (DWORD)a2, a3, v8);
      if ( v11 )
      {
        sub_460180((int)v11, a1, (DWORD)a2, a3, v10, v9);
        CIOObject::Release(v11, a1, (DWORD)a2, a3, (volatile int *)v11 + 86);
      }
      break;
    case 0x1B:
      sub_485530(a1, (DWORD)a2, a3, Src, "dbs", &v4, &v6, &v5);
      v7 = sub_446740(a1, (DWORD)a2, a3, v4);
      if ( v7 )
      {
        sub_460410((int)v7, a1, (DWORD)a2, a3, v6, v5);
        CIOObject::Release(v7, a1, (DWORD)a2, a3, (volatile int *)v7 + 86);
      }
      break;
    default:
      LOG_ERR("invalid packet type at CDBSocket::Process Type(%d)", *(_DWORD *)v90);
      break;
  }
}
// 4B226C: using guessed type int dword_4B226C;
// 4B8C34: using guessed type int dword_4B8C34;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0040CDB0) --------------------------------------------------------
void __usercall CDBSocket::Write(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char a4, ...)
{
  CMemory **v4; // [esp+8h] [ebp-8h]
  va_list va; // [esp+1Ch] [ebp+Ch] BYREF

  va_start(va, a4);
  v4 = CIOBuffer::Alloc();
  *((_BYTE *)v4 + 2) = a4;
  *(_WORD *)v4 = (unsigned __int16)WritePacket(a1, a2, a3, (char *)v4 + 3, (int)va) - (_WORD)v4;
  v4[2000] = (CMemory *)*(unsigned __int16 *)v4;
  CIOSocket::Write((CIOSocket *)&unk_4B2278, a1, a2, a3, (CIOBuffer *)v4);
}

//----- (0040CE20) --------------------------------------------------------
CIOObject *sub_40CE20()
{
  CIOObject *result; // eax
  CIOObject *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)dword_4B22E8);
  v3 = dword_4B22E4;
  if ( dword_4B22E4 )
  {
    dword_4B22E4 = *(_DWORD *)(dword_4B22E4 + 16);
    sub_401DA0(dword_4B22E8);
    result = (CIOObject *)v3;
  }
  else
  {
    sub_401DA0(dword_4B22E8);
    v2 = sub_401000(0x14u);
    if ( v2 )
      v1 = sub_40CED0((CIOObject *)v2);
    else
      v1 = 0;
    result = v1;
  }
  return result;
}
// 4B22E4: using guessed type int dword_4B22E4;

//----- (0040CEA0) --------------------------------------------------------
LONG __cdecl sub_40CEA0(int a1)
{
  CIOSpinLock::Enter((CIOSpinLock *)dword_4B22E8);
  *(_DWORD *)(a1 + 16) = dword_4B22E4;
  dword_4B22E4 = a1;
  return sub_401DA0(dword_4B22E8);
}
// 4B22E4: using guessed type int dword_4B22E4;

//----- (0040CED0) --------------------------------------------------------
CIOObject *__thiscall sub_40CED0(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_498E70;
  return this;
}
// 498E70: using guessed type int (__stdcall *off_498E70)(int);

//----- (0040CEF0) --------------------------------------------------------
LONG sub_40CEF0()
{
  return sub_40CF00();
}

//----- (0040CF00) --------------------------------------------------------
LONG sub_40CF00()
{
  void (__thiscall ***v1)(_DWORD, int); // [esp+Ch] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)dword_4B22E8);
  while ( 1 )
  {
    v1 = (void (__thiscall ***)(_DWORD, int))dword_4B22E4;
    if ( !dword_4B22E4 )
      break;
    dword_4B22E4 = *(_DWORD *)(dword_4B22E4 + 16);
    if ( v1 )
      (**v1)(v1, 1);
  }
  return sub_401DA0(dword_4B22E8);
}
// 4B22E4: using guessed type int dword_4B22E4;

//----- (0040CF70) --------------------------------------------------------
_DWORD *__thiscall CFindPath::CFindPath(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  this[2] = 0;
  this[3] = 0;
  this[4] = &unk_4B83C8;
  this[6] = -1;
  this[5] = -1;
  this[8] = -1;
  this[7] = -1;
  this[9] = 0;
  return this;
}

//----- (0040CFF0) --------------------------------------------------------
_DWORD *__thiscall sub_40CFF0(_DWORD *this)
{
  return CFindPath::FreeNode(this);
}

//----- (0040D010) --------------------------------------------------------
int __userpurge CFindPath::FindPath@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int *a6)
{
  int v7; // ecx
  int v8; // edx
  int v9; // edx
  _DWORD *v10; // eax
  int v11; // ecx
  _DWORD *v13; // [esp+4h] [ebp-1Ch]
  int v14; // [esp+8h] [ebp-18h] BYREF
  int v15; // [esp+Ch] [ebp-14h]
  int v16; // [esp+10h] [ebp-10h]
  _DWORD *v17; // [esp+14h] [ebp-Ch]
  _DWORD *v18; // [esp+18h] [ebp-8h]
  int v19; // [esp+1Ch] [ebp-4h]

  if ( *a5 == *a6 && a5[1] == a6[1] || !CSMap::IsValidTile(*(_DWORD **)(a1 + 4), a6, 0x20000) )
    return 0;
  CFindPath::FreeNode((_DWORD *)a1);
  v7 = a5[1];
  *(_DWORD *)(a1 + 20) = *a5;
  *(_DWORD *)(a1 + 24) = v7;
  v8 = a6[1];
  *(_DWORD *)(a1 + 28) = *a6;
  *(_DWORD *)(a1 + 32) = v8;
  v18 = (_DWORD *)CMemoryPool_CFindPath::NODE::_Alloc();
  *v18 = 0;
  v18[2] = 0;
  v18[3] = CFindPath::CalcH((_DWORD *)a1, (_DWORD *)(a1 + 20));
  v18[1] = v18[3];
  v18[4] = 0;
  v9 = *(_DWORD *)(a1 + 24);
  v10 = v18;
  v18[5] = *(_DWORD *)(a1 + 20);
  v10[6] = v9;
  v18[15] = 0;
  v18[16] = -1;
  *(_DWORD *)(a1 + 8) = v18;
  *(_DWORD *)(a1 + 12) = 0;
  v17 = v18;
  v19 = 0;
  while ( 1 )
  {
    ++v19;
    v11 = v18[6];
    v14 = v18[5];
    v15 = v11;
    v16 = sub_40D230((_DWORD *)(a1 + 28), &v14);
    if ( v16 <= *(_DWORD *)(a1 + 36) || v16 <= 2304 )
    {
      if ( CSMap::IsMoveTile(
             *(_DWORD **)(a1 + 4),
             a2,
             a3,
             a4,
             *(_DWORD *)a1,
             (int)&v14,
             *(_DWORD *)(a1 + 28) - v14,
             *(_DWORD *)(a1 + 32) - v15,
             0x20000) )
      {
        break;
      }
    }
    if ( v18[3] <= v17[3] )
      v17 = v18;
    if ( v19 > 50 )
      goto LABEL_16;
    sub_40D370(a1, a2, a3, a4, (int)v18);
    v18 = (_DWORD *)CFindPath::GetBestNode((_DWORD *)a1);
    if ( !v18 )
      goto LABEL_14;
  }
  v17 = v18;
LABEL_16:
  if ( !v17 )
    EBREAK(a2, a3, a4);
  v18 = 0;
  while ( 1 )
  {
    v13 = (_DWORD *)*v17;
    if ( !*v17 )
      break;
    *v17 = v18;
    v18 = v17;
    v17 = v13;
  }
  if ( !v18 )
  {
LABEL_14:
    CFindPath::FreeNode((_DWORD *)a1);
    return 0;
  }
  *(_DWORD *)(a1 + 16) = v18;
  return 1;
}

//----- (0040D230) --------------------------------------------------------
int __cdecl sub_40D230(_DWORD *a1, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = a1[1] - a2[1];
  return v3 * v3 + (*a1 - *a2) * (*a1 - *a2);
}

//----- (0040D270) --------------------------------------------------------
int __thiscall CFindPath::CalcH(_DWORD *this, _DWORD *a2)
{
  unsigned int v3; // [esp+0h] [ebp-10h]
  unsigned int v5; // [esp+8h] [ebp-8h]
  unsigned int v6; // [esp+Ch] [ebp-4h]

  v5 = abs(this[7] - *a2);
  v6 = abs(this[8] - a2[1]);
  if ( v5 < v6 )
    v3 = v6 << 16;
  else
    v3 = v5 << 16;
  return v6 * v6 + v3 + v5 * v5;
}

//----- (0040D2E0) --------------------------------------------------------
int __thiscall CFindPath::GetBestNode(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[3];
  if ( !v2 )
    return 0;
  this[3] = *(_DWORD *)(this[3] + 64);
  *(_DWORD *)(v2 + 64) = -1;
  return v2;
}

//----- (0040D320) --------------------------------------------------------
_DWORD *__thiscall CFindPath::FreeNode(_DWORD *this)
{
  _DWORD *result; // eax
  _DWORD *v3; // [esp+4h] [ebp-4h]

  while ( 1 )
  {
    result = this;
    v3 = (_DWORD *)this[2];
    if ( !v3 )
      break;
    this[2] = *(_DWORD *)(this[2] + 60);
    CMemoryPool_CFindPath::NODE::_Free(v3);
  }
  this[4] = &unk_4B83C8;
  return result;
}

//----- (0040D370) --------------------------------------------------------
_DWORD *__userpurge sub_40D370@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CFindPath::LinkChild(a1, a2, a3, a4, a5, 32, 0);
  CFindPath::LinkChild(a1, a2, a3, a4, a5, 32, 32);
  CFindPath::LinkChild(a1, a2, a3, a4, a5, 0, 32);
  CFindPath::LinkChild(a1, a2, a3, a4, a5, -32, 32);
  CFindPath::LinkChild(a1, a2, a3, a4, a5, -32, 0);
  CFindPath::LinkChild(a1, a2, a3, a4, a5, -32, -32);
  CFindPath::LinkChild(a1, a2, a3, a4, a5, 0, -32);
  return CFindPath::LinkChild(a1, a2, a3, a4, a5, 32, -32);
}

//----- (0040D400) --------------------------------------------------------
_DWORD *__userpurge CFindPath::LinkChild@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int Number, int a7)
{
  _DWORD *result; // eax
  int *v9; // [esp+4h] [ebp-18h]
  int v10; // [esp+8h] [ebp-14h] BYREF
  int v11; // [esp+Ch] [ebp-10h]
  unsigned int v12; // [esp+10h] [ebp-Ch]
  int v13; // [esp+14h] [ebp-8h]
  _DWORD *v14; // [esp+18h] [ebp-4h]

  v10 = Number + *(_DWORD *)(a5 + 20);
  v11 = a7 + *(_DWORD *)(a5 + 24);
  v13 = CFindPath::CalcH((_DWORD *)a1, &v10);
  if ( !v13
    || (result = (_DWORD *)CSMap::IsMoveTile(
                             *(_DWORD **)(a1 + 4),
                             a2,
                             a3,
                             a4,
                             *(_DWORD *)a1,
                             a5 + 20,
                             Number,
                             a7,
                             0x20000)) != 0 )
  {
    v12 = *(_DWORD *)(a5 + 8) + 0x10000;
    v14 = CFindPath::CheckList((_DWORD *)a1, &v10, v13);
    if ( v14 )
    {
      if ( *(int *)(a5 + 16) >= 8 )
        EBREAK(a2, a3, a4);
      *(_DWORD *)(a5 + 4 * (*(_DWORD *)(a5 + 16))++ + 28) = v14;
      result = (_DWORD *)v12;
      if ( v12 < v14[2] )
      {
        *v14 = a5;
        v14[2] = v12;
        result = v14;
        v14[1] = v13 + v12;
        if ( v14[16] == -1 )
          result = CFindPath::Propagation(v14);
      }
    }
    else
    {
      v9 = (int *)CMemoryPool_CFindPath::NODE::_Alloc();
      v9[4] = 0;
      *v9 = a5;
      v9[2] = v12;
      v9[3] = v13;
      v9[1] = v13 + v12;
      v9[5] = v10;
      v9[6] = v11;
      CFindPath::Insert((int *)a1, v9);
      if ( *(int *)(a5 + 16) >= 8 )
        EBREAK(a2, a3, a4);
      *(_DWORD *)(a5 + 4 * *(_DWORD *)(a5 + 16) + 28) = v9;
      result = (_DWORD *)a5;
      ++*(_DWORD *)(a5 + 16);
    }
  }
  return result;
}

//----- (0040D580) --------------------------------------------------------
_DWORD *__thiscall CFindPath::CheckList(_DWORD *this, _DWORD *a2, unsigned int a3)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  for ( i = (_DWORD *)this[2]; i && i[3] <= a3; i = (_DWORD *)i[15] )
  {
    if ( i[5] == *a2 && i[6] == a2[1] )
      return i;
  }
  return 0;
}

//----- (0040D5E0) --------------------------------------------------------
_DWORD *__stdcall CFindPath::Propagation(_DWORD *a1)
{
  _DWORD *result; // eax
  int i; // [esp+4h] [ebp-10h]
  unsigned int v3; // [esp+8h] [ebp-Ch]
  _DWORD *v4; // [esp+Ch] [ebp-8h]
  _DWORD *v5; // [esp+10h] [ebp-4h]

  v4 = 0;
  while ( 1 )
  {
    v3 = a1[2] + 0x10000;
    for ( i = 0; ; ++i )
    {
      result = a1;
      if ( i >= a1[4] )
        break;
      v5 = (_DWORD *)a1[i + 7];
      if ( v3 < v5[2] )
      {
        v5[2] = v3;
        v5[1] = v5[3] + v3;
        *v5 = a1;
        if ( v5[16] == -1 )
        {
          v5[16] = v4;
          v4 = v5;
        }
      }
    }
    if ( !v4 )
      break;
    a1 = v4;
    v4 = (_DWORD *)v4[16];
    a1[16] = -1;
  }
  return result;
}

//----- (0040D6A0) --------------------------------------------------------
_DWORD *__thiscall CFindPath::Insert(int *this, _DWORD *a2)
{
  _DWORD *result; // eax
  int *i; // [esp+4h] [ebp-10h]
  int *j; // [esp+4h] [ebp-10h]
  int v5; // [esp+8h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-Ch]

  for ( i = this + 2; ; i = (int *)(v5 + 60) )
  {
    v5 = *i;
    if ( !*i || *(_DWORD *)(v5 + 12) >= a2[3] )
      break;
  }
  *i = (int)a2;
  a2[15] = v5;
  for ( j = this + 3; ; j = (int *)(v6 + 64) )
  {
    v6 = *j;
    if ( !*j || *(_DWORD *)(v6 + 4) >= a2[1] )
      break;
  }
  result = a2;
  *j = (int)a2;
  a2[16] = v6;
  return result;
}

//----- (0040D750) --------------------------------------------------------
int CMemoryPool_CFindPath::NODE::_Alloc()
{
  int result; // eax
  int v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B83C4);
  v3 = dword_4B83C0;
  if ( dword_4B83C0 )
  {
    dword_4B83C0 = *(_DWORD *)dword_4B83C0;
    sub_401DA0(&dword_4B83C4);
    result = v3;
  }
  else
  {
    sub_401DA0(&dword_4B83C4);
    v2 = sub_401000(0x44u);
    if ( v2 )
      v1 = unknown_libname_14(v2);
    else
      v1 = 0;
    result = v1;
  }
  return result;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);
// 4B83C0: using guessed type int dword_4B83C0;

//----- (0040D7C0) --------------------------------------------------------
LONG __cdecl CMemoryPool_CFindPath::NODE::_Free(_DWORD *a1)
{
  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B83C4);
  *a1 = dword_4B83C0;
  dword_4B83C0 = (int)a1;
  return sub_401DA0(&dword_4B83C4);
}
// 4B83C0: using guessed type int dword_4B83C0;

//----- (0040D7F0) --------------------------------------------------------
_DWORD *__thiscall CFindPath::NODE::NODE(_DWORD *this, int a2, int a3)
{
  this[5] = a2;
  this[6] = a3;
  *this = 0;
  this[3] = 0;
  this[2] = 0;
  this[1] = 0;
  this[4] = 0;
  return this;
}

//----- (0040D850) --------------------------------------------------------
void __thiscall sub_40D850(void *this)
{
  CMemoryPool_CFindPath::NODE::_FreeAll(this);
}

//----- (0040D860) --------------------------------------------------------
void __cdecl CMemoryPool_CFindPath::NODE::_FreeAll(void *a1)
{
  void *v1; // [esp+4h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B83C4);
  while ( 1 )
  {
    v1 = (void *)dword_4B83C0;
    if ( !dword_4B83C0 )
      break;
    dword_4B83C0 = *(_DWORD *)dword_4B83C0;
    sub_401020(v1);
  }
  sub_401DA0(&dword_4B83C4);
}
// 4B83C0: using guessed type int dword_4B83C0;

//----- (0040D8B0) --------------------------------------------------------
_DWORD *__thiscall CGoto::CGoto(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_498E88;
  this[8] = 0;
  memset(this + 9, 0, 0x10u);
  return this;
}
// 498E88: using guessed type int (__stdcall *off_498E88)(int);

//----- (0040D8F0) --------------------------------------------------------
_DWORD *__userpurge sub_40D8F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_40D920(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0040D920) --------------------------------------------------------
_DWORD *__usercall sub_40D920@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_498E88;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 498E88: using guessed type int (__stdcall *off_498E88)(int);

//----- (0040D940) --------------------------------------------------------
int __cdecl CGoto::FindGoto(int a1, _DWORD *a2)
{
  void *v2; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // ecx
  char v6[4]; // [esp+0h] [ebp-8h] BYREF
  int v7; // [esp+4h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::find(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B840C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7,
    (const char *const *)&a1);
  v2 = sub_482CA0(dword_4B840C, v6);
  if ( (unsigned __int8)unknown_libname_25(v2) )
    return 0;
  v4 = (_DWORD *)(sub_43E1A0(&v7) + 4);
  v5 = a2;
  *a2 = *v4;
  v5[1] = v4[1];
  v5[2] = v4[2];
  v5[3] = v4[3];
  return 1;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0040D9B0) --------------------------------------------------------
int __thiscall CGoto::Set(_DWORD *this, int a2, char a3)
{
  lisp::var *v3; // eax
  int v4; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  char v11[4]; // [esp+4h] [ebp-14h] BYREF
  char v12[4]; // [esp+8h] [ebp-10h] BYREF
  char v13[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v14[4]; // [esp+10h] [ebp-8h] BYREF
  char v15[4]; // [esp+14h] [ebp-4h] BYREF

  if ( !a2 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v15);
    v4 = sub_40BBE0(v3);
    this[8] = GetStr(v4);
    if ( !this[8] )
      return 1;
    v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v14);
    this[9] = sub_40BBE0(v6);
    v7 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v13);
    this[10] = sub_40BBE0(v7);
    v8 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v12);
    this[11] = sub_40BBE0(v8);
    v9 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v11);
    this[12] = sub_40BBE0(v9);
  }
  return 1;
}

//----- (0040DA70) --------------------------------------------------------
int __thiscall CGoto::OnLoad(_DWORD *this)
{
  const std::pair<char const * const,CItem *> *v2; // eax
  char v4[8]; // [esp+4h] [ebp-1Ch] BYREF
  int v5[5]; // [esp+Ch] [ebp-14h] BYREF

  if ( this[8] )
  {
    v2 = (const std::pair<char const * const,CItem *> *)sub_40E0B0(v5, this + 8, this + 9);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::insert(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)&unk_4B840C,
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v4,
      v2);
    this[8] = 0;
    memset(this + 9, 0, 0x10u);
  }
  return 1;
}

//----- (0040DAE0) --------------------------------------------------------
_DWORD *__thiscall CPortal::CPortal(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_498ED0;
  memset(this + 8, 0, 0x24u);
  this[17] = 0;
  return this;
}
// 498ED0: using guessed type int (__stdcall *off_498ED0)(int);

//----- (0040DB20) --------------------------------------------------------
_DWORD *__userpurge sub_40DB20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_40DB50(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0040DB50) --------------------------------------------------------
_DWORD *__usercall sub_40DB50@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_498ED0;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 498ED0: using guessed type int (__stdcall *off_498ED0)(int);

//----- (0040DB70) --------------------------------------------------------
int __thiscall CPortal::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  _DWORD *v15; // [esp+4h] [ebp-30h]
  char v16[4]; // [esp+Ch] [ebp-28h] BYREF
  char v17[4]; // [esp+10h] [ebp-24h] BYREF
  char v18[4]; // [esp+14h] [ebp-20h] BYREF
  char v19[4]; // [esp+18h] [ebp-1Ch] BYREF
  char v20[4]; // [esp+1Ch] [ebp-18h] BYREF
  char v21[4]; // [esp+20h] [ebp-14h] BYREF
  char v22[4]; // [esp+24h] [ebp-10h] BYREF
  char v23[4]; // [esp+28h] [ebp-Ch] BYREF
  char v24[4]; // [esp+2Ch] [ebp-8h] BYREF
  char v25[4]; // [esp+30h] [ebp-4h] BYREF

  v15 = this;
  switch ( a2 )
  {
    case 'g':
      v4 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v24);
      v15[8] = sub_40BBE0(v4);
      v5 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v23);
      v15[9] = sub_40BBE0(v5);
      v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v22);
      v15[10] = sub_40BBE0(v6);
      v7 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v21);
      v15[11] = sub_40BBE0(v7);
      v8 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v20);
      v15[12] = sub_40BBE0(v8);
      break;
    case 'h':
      v9 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v19);
      v15[13] = sub_40BBE0(v9);
      v10 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v18);
      v15[14] = sub_40BBE0(v10);
      v11 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v17);
      v15[15] = sub_40BBE0(v11);
      v12 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v16);
      v15[16] = sub_40BBE0(v12);
      break;
    case 'm':
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v25);
        v15[17] |= 1 << sub_40BBE0(v3);
      }
      break;
    default:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      return CBase::Set(v15, a2, (int)this);
  }
  return 1;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0040DCF0) --------------------------------------------------------
int __thiscall CPortal::OnLoad(_DWORD *this)
{
  if ( (this[17] & (1 << dword_4BAAA0)) != 0 )
  {
    std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::push_back(
      dword_4B8418,
      this + 8);
    memset(this + 8, 0, 0x24u);
    this[17] = 0;
  }
  return 1;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0040DD50) --------------------------------------------------------
int __usercall sub_40DD50@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-10h] BYREF
  int v7; // [esp+4h] [ebp-Ch] BYREF
  int v8; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h] BYREF

  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(dword_4B8418, &v9);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8418, v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v4) )
      break;
    v8 = sub_46DB60(&v9);
    if ( PtInRect((const RECT *)(v8 + 4), *(POINT *)(a4 + 316)) )
    {
      CChar::AddGState((volatile LONG *)a4, 4096);
      sub_451260((_DWORD *)a4, a1, a2, a3, *(_DWORD *)(v8 + 20), (int *)(v8 + 24), *(_DWORD *)(v8 + 32), 0);
      return 1;
    }
    sub_46DB80(&v9, &v7, 0);
  }
  return 0;
}

//----- (0040DE00) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::insert(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *result, const std::pair<char const * const,CItem *> *_Val)
{
  const char **v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  const char **v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  const char *v10; // [esp-4h] [ebp-3Ch]
  const char *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  int v15; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  int v17; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int C; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_41BA00((int *)this);
  C = *((_DWORD *)this + 1);
  v23 = 1;
  while ( !*(_BYTE *)sub_40E0F0(v21) )
  {
    C = v21;
    v10 = *(const char **)sub_463EE0(v21);
    v3 = (const char **)unknown_libname_21(_Val);
    v23 = StrCmp::operator()(this, *v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)unknown_libname_21(v21);
    else
      v12 = *(_DWORD *)sub_41BA20(v21);
    v21 = v12;
  }
  sub_42D570(v20, C);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_40E130((int *)this, (int)&v17, 1, C, (int)_Val);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        result,
        v5,
        (const bool *)&v18);
      return result;
    }
    sub_40E9E0((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *)v20);
  }
  v11 = *(const char **)unknown_libname_21(_Val);
  v7 = unknown_libname_10(v20);
  v8 = (const char **)sub_463EE0(v7);
  if ( StrCmp::operator()(this, *v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_40E130((int *)this, (int)&v15, v23, C, (int)_Val);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      result,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      result,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v20,
      &v14);
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0040DFC0) --------------------------------------------------------
bool __thiscall StrCmp::operator()(StrCmp *this, const char *a, const char *b)
{
  return strcmp(a, b) < 0;
}

//----- (0040DFF0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::find(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result, const char *const *_Keyval)
{
  void *v3; // eax
  int v4; // eax
  const char **v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::lower_bound(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12,
    _Keyval);
  v3 = sub_482CA0((int *)this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (const char **)sub_463EE0(v4), StrCmp::operator()(this, *_Keyval, *v5)) )
  {
    v7 = (char *)sub_482CA0((int *)this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *(_DWORD *)result = *(_DWORD *)v7;
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0040E080) --------------------------------------------------------
CMemory ***__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::push_back(int *this, const void *a2)
{
  _DWORD *v2; // eax
  char v5[4]; // [esp+4h] [ebp-4h] BYREF

  v2 = sub_482CA0(this, v5);
  return std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_Insert(
           this,
           *v2,
           a2);
}

//----- (0040E0B0) --------------------------------------------------------
_DWORD *__thiscall sub_40E0B0(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  _DWORD *v3; // ecx

  *this = *a2;
  v3 = this + 1;
  *v3 = *a3;
  v3[1] = a3[1];
  v3[2] = a3[2];
  v3[3] = a3[3];
  return this;
}

//----- (0040E0F0) --------------------------------------------------------
int __cdecl sub_40E0F0(int a1)
{
  return a1 + 33;
}

//----- (0040E100) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::lower_bound(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result, const char *const *_Keyval)
{
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v3; // eax

  v3 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lbound(
         this,
         _Keyval);
  sub_42D570(result, (int)v3);
  return result;
}

//----- (0040E130) --------------------------------------------------------
int __thiscall sub_40E130(int *this, int a2, char a3, int C, int a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  _DWORD *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **v38; // eax
  int *v39; // eax
  char v42[28]; // [esp+8h] [ebp-48h] BYREF
  char v43[36]; // [esp+24h] [ebp-2Ch] BYREF
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v44; // [esp+48h] [ebp-8h]
  CMemory **v45; // [esp+4Ch] [ebp-4h]
  int Ca; // [esp+60h] [ebp+10h]

  if ( sub_40ED00() - 1 <= (unsigned int)this[2] )
  {
    std::string::string((std::string *)v42, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)v43, (const std::string *)v42);
    sub_40E570(v5);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v43);
    sub_40E7C0((std::string *)v42);
  }
  v45 = sub_40F150(this[1], C, this[1], (_DWORD *)a5, 0);
  ++this[2];
  if ( C == this[1] )
  {
    v6 = (CMemory ***)sub_41BA00(this);
    *v6 = v45;
    v7 = (CMemory ***)sub_4653C0(this);
    *v7 = v45;
    v8 = (CMemory ***)sub_465270(this);
    *v8 = v45;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)unknown_libname_21(C);
    *v9 = v45;
    if ( C == *(_DWORD *)sub_4653C0(this) )
    {
      v10 = (CMemory ***)sub_4653C0(this);
      *v10 = v45;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_41BA20(C);
    *v11 = v45;
    if ( C == *(_DWORD *)sub_465270(this) )
    {
      v12 = (CMemory ***)sub_465270(this);
      *v12 = v45;
    }
  }
  v44 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)v45;
  while ( 1 )
  {
    v13 = (int *)sub_465290((int)v44);
    if ( *(_BYTE *)_tolower(*v13) )
      break;
    v14 = (_DWORD *)sub_465290((int)v44);
    v15 = (int *)sub_465290((int)v44);
    v16 = (_DWORD *)sub_465290(*v15);
    if ( *v14 == *(_DWORD *)unknown_libname_21(*v16) )
    {
      v17 = (int *)sub_465290((int)v44);
      v18 = (int *)sub_465290(*v17);
      Ca = *(_DWORD *)sub_41BA20(*v18);
      if ( !*(_BYTE *)_tolower(Ca) )
        goto LABEL_15;
      v23 = (int *)sub_465290((int)v44);
      v24 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA20(*v23);
      if ( v44 == *v24 )
      {
        v44 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_465290((int)v44);
        std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lrotate(
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
          v44);
      }
      v25 = (int *)sub_465290((int)v44);
      *(_BYTE *)_tolower(*v25) = 1;
      v26 = (int *)sub_465290((int)v44);
      v27 = (int *)sub_465290(*v26);
      *(_BYTE *)_tolower(*v27) = 0;
      v28 = (int *)sub_465290((int)v44);
      v29 = (int *)sub_465290(*v28);
      sub_40F020(this, *v29);
    }
    else
    {
      v30 = (int *)sub_465290((int)v44);
      v31 = (_DWORD *)sub_465290(*v30);
      Ca = *(_DWORD *)unknown_libname_21(*v31);
      if ( *(_BYTE *)_tolower(Ca) )
      {
        v32 = (_DWORD *)sub_465290((int)v44);
        v33 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)unknown_libname_21(*v32);
        if ( v44 == *v33 )
        {
          v44 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_465290((int)v44);
          sub_40F020(this, (int)v44);
        }
        v34 = (int *)sub_465290((int)v44);
        *(_BYTE *)_tolower(*v34) = 1;
        v35 = (int *)sub_465290((int)v44);
        v36 = (int *)sub_465290(*v35);
        *(_BYTE *)_tolower(*v36) = 0;
        v37 = (int *)sub_465290((int)v44);
        v38 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_465290(*v37);
        std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lrotate(
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
          *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_465290((int)v44);
        *(_BYTE *)_tolower(*v19) = 1;
        *(_BYTE *)_tolower(Ca) = 1;
        v20 = (int *)sub_465290((int)v44);
        v21 = (int *)sub_465290(*v20);
        *(_BYTE *)_tolower(*v21) = 0;
        v22 = (int *)sub_465290((int)v44);
        v44 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_465290(*v22);
      }
    }
  }
  v39 = (int *)sub_41BA00(this);
  *(_BYTE *)_tolower(*v39) = 1;
  sub_42D570((void *)a2, (int)v45);
  return a2;
}
// 40E168: variable 'v5' is possibly undefined
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040E570) --------------------------------------------------------
void __thiscall sub_40E570(void *this)
{
  if ( dword_4BA3F8 )
    dword_4BA3F8(this);
  (*(void (__thiscall **)(void *))(*(_DWORD *)this + 8))(this);
  sub_46AD90();
}
// 4BA3F8: using guessed type int (__cdecl *dword_4BA3F8)(_DWORD);

//----- (0040E5B0) --------------------------------------------------------
void __thiscall std::length_error::length_error(std::length_error *this, const std::string *_Message)
{
  sub_40E5E0((int)this, _Message);
  *(_DWORD *)this = &std::length_error::`vftable';
}
// 4AA0A8: using guessed type void *std::length_error::`vftable';

//----- (0040E5E0) --------------------------------------------------------
int __thiscall sub_40E5E0(int this, const std::string *a2)
{
  std::locale::facet::facet((std::locale::facet *)this, (unsigned int)"unknown");
  *(_DWORD *)this = &std::logic_error::`vftable';
  std::string::string((std::string *)(this + 8), a2);
  return this;
}
// 4AA09C: using guessed type void *std::logic_error::`vftable';

//----- (0040E620) --------------------------------------------------------
void __thiscall std::locale::facet::facet(std::locale::facet *this, unsigned int _Initrefs)
{
  *(_DWORD *)this = &off_498F34;
  *((_DWORD *)this + 1) = _Initrefs;
}
// 498F34: using guessed type int (__stdcall *off_498F34)(int);

//----- (0040E650) --------------------------------------------------------
_DWORD *__thiscall sub_40E650(_DWORD *this, char a2)
{
  sub_40E680(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040E680) --------------------------------------------------------
_DWORD *__thiscall sub_40E680(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  *this = &off_498F34;
  return result;
}
// 498F34: using guessed type int (__stdcall *off_498F34)(int);

//----- (0040E6A0) --------------------------------------------------------
int __thiscall sub_40E6A0(int this)
{
  return sub_4012C0((void *)(this + 8));
}

//----- (0040E6C0) --------------------------------------------------------
std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *__thiscall sub_40E6C0(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this, char a2)
{
  std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>::~time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040E6F0) --------------------------------------------------------
void __thiscall std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>::~time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this)
{
  *(_DWORD *)this = &std::logic_error::`vftable';
  sub_40E7C0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)((char *)this + 8));
  sub_40E680(this);
}
// 4AA09C: using guessed type void *std::logic_error::`vftable';

//----- (0040E720) --------------------------------------------------------
void __thiscall sub_40E720(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this)
{
  *(_DWORD *)this = &std::length_error::`vftable';
  std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>::~time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>(this);
}
// 4AA0A8: using guessed type void *std::length_error::`vftable';

//----- (0040E740) --------------------------------------------------------
std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *__thiscall sub_40E740(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this, char a2)
{
  sub_40E720(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040E770) --------------------------------------------------------
void __thiscall std::string::string(std::string *this, const std::string *_Right)
{
  char v2; // [esp-4h] [ebp-Ch]

  v2 = (char)this;
  unknown_libname_20(_Right);
  sub_42EE90(this, v2);
  std::string::_Tidy(this, 0, 0);
  std::string::assign(this, _Right, 0, 0xFFFFFFFF);
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (0040E7C0) --------------------------------------------------------
void __thiscall sub_40E7C0(std::string *this)
{
  std::string::_Tidy(this, 1, 0);
}

//----- (0040E7E0) --------------------------------------------------------
std::string *__thiscall std::string::assign(std::string *this, const std::string *_Right, unsigned int _Roff, unsigned int _Count)
{
  int v4; // eax
  void *v5; // eax
  void *v7; // [esp-8h] [ebp-10h]
  size_t v8; // [esp-4h] [ebp-Ch]
  size_t Size; // [esp+4h] [ebp-4h]

  if ( unknown_libname_9(_Right) < _Roff )
    std::_String_base::_Xran(this);
  Size = unknown_libname_9(_Right) - _Roff;
  if ( _Count < Size )
    Size = _Count;
  if ( this == _Right )
  {
    std::string::erase(this, Size + _Roff, 0xFFFFFFFF);
    std::string::erase(this, 0, _Roff);
  }
  else if ( std::string::_Grow(this, Size, 0) )
  {
    v4 = unknown_libname_1(_Right, Size);
    v5 = (void *)unknown_libname_1(this, _Roff + v4);
    std::char_traits<char>::copy(v5, v7, v8);
    std::string::_Eos(this, Size);
  }
  return this;
}
// 40E875: variable 'v7' is possibly undefined
// 40E875: variable 'v8' is possibly undefined
// 401E80: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);
// 40E8C0: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (0040E8E0) --------------------------------------------------------
void __thiscall std::string::_Tidy(std::string *this, bool _Built, unsigned int _Newsize)
{
  void *Src; // [esp+4h] [ebp-4h]

  if ( _Built && *((_DWORD *)this + 6) >= 0x10u )
  {
    Src = (void *)*((_DWORD *)this + 1);
    if ( _Newsize )
      std::char_traits<char>::copy((char *)this + 4, Src, _Newsize);
    sub_441930(Src, *((_DWORD *)this + 6) + 1);
  }
  *((_DWORD *)this + 6) = 15;
  std::string::_Eos(this, _Newsize);
}

//----- (0040E960) --------------------------------------------------------
CMemory ***__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_Insert(_DWORD *this, char a2, const void *a3)
{
  int *v3; // eax
  _DWORD *v4; // eax
  CMemory ***result; // eax
  const void *v6; // [esp-4h] [ebp-10h]
  int v8; // [esp+4h] [ebp-8h]
  CMemory **v9; // [esp+8h] [ebp-4h]

  v8 = unknown_libname_10(&a2);
  v6 = a3;
  v3 = (int *)sub_465290(v8);
  v9 = sub_40F270(v8, *v3, v6);
  sub_40F300(this, 1u);
  *(_DWORD *)sub_465290(v8) = v9;
  v4 = (_DWORD *)sub_465290((int)v9);
  result = (CMemory ***)unknown_libname_21(*v4);
  *result = v9;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040E9E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_40E9E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  sub_40F390(this);
  return this;
}

//----- (0040EA00) --------------------------------------------------------
_DWORD *__thiscall sub_40EA00(_DWORD *this)
{
  sub_46E6A0(this);
  return this;
}

//----- (0040EA20) --------------------------------------------------------
int __thiscall sub_40EA20(int *this)
{
  return sub_41BA20(*this);
}

//----- (0040EA40) --------------------------------------------------------
std::string *__thiscall std::string::erase(std::string *this, unsigned int _Off, unsigned int _Count)
{
  int v3; // eax
  int v4; // eax
  void *v6; // [esp-8h] [ebp-10h]
  size_t v7; // [esp-4h] [ebp-Ch]

  if ( *((_DWORD *)this + 5) < _Off )
    std::_String_base::_Xran(this);
  if ( *((_DWORD *)this + 5) - _Off < _Count )
    _Count = *((_DWORD *)this + 5) - _Off;
  if ( _Count )
  {
    v3 = unknown_libname_1(this, *((_DWORD *)this + 5) - _Off - _Count);
    v4 = unknown_libname_1(this, _Count + _Off + v3);
    sub_40EAD0((void *)(_Off + v4), v6, v7);
    std::string::_Eos(this, *((_DWORD *)this + 5) - _Count);
  }
  return this;
}
// 40EAA4: variable 'v6' is possibly undefined
// 40EAA4: variable 'v7' is possibly undefined
// 401E80: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);

//----- (0040EAD0) --------------------------------------------------------
void *__cdecl sub_40EAD0(void *a1, void *Src, size_t Size)
{
  return memcpy_0(a1, Src, Size);
}

//----- (0040EAF0) --------------------------------------------------------
void __thiscall std::string::string(std::string *this, const char *_Ptr)
{
  std::string *v2; // [esp-4h] [ebp-Ch] BYREF
  std::string *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  unknown_libname_14(&v2);
  sub_42EE90(v3, (char)v2);
  std::string::_Tidy(v3, 0, 0);
  std::string::assign(v3, _Ptr);
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0040EB30) --------------------------------------------------------
std::string *__thiscall std::string::assign(std::string *this, const char *_Ptr)
{
  unsigned int v2; // eax

  v2 = std::char_traits<char>::length((char *)_Ptr);
  return std::string::assign(this, _Ptr, v2);
}

//----- (0040EB80) --------------------------------------------------------
std::string *__thiscall std::string::assign(std::string *this, const char *_Ptr, unsigned int _Num)
{
  int v3; // eax
  std::string *result; // eax
  void *v5; // eax
  void *v6; // [esp-8h] [ebp-Ch]
  unsigned int v7; // [esp-4h] [ebp-8h]

  if ( std::string::_Inside(this, _Ptr) )
  {
    v3 = unknown_libname_1(this, _Num);
    result = std::string::assign(this, this, (unsigned int)&_Ptr[-v3], v7);
  }
  else
  {
    if ( std::string::_Grow(this, _Num, 0) )
    {
      v5 = (void *)unknown_libname_1(this, _Ptr);
      std::char_traits<char>::copy(v5, v6, _Num);
      std::string::_Eos(this, _Num);
    }
    result = this;
  }
  return result;
}
// 40EBB3: variable 'v7' is possibly undefined
// 40EBE0: variable 'v6' is possibly undefined
// 401E80: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);

//----- (0040EC10) --------------------------------------------------------
void __thiscall std::string::_Eos(std::string *this, unsigned int _Newsize)
{
  int v2; // eax
  int v3; // [esp-4h] [ebp-Ch]
  char v4; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  *((_DWORD *)this + 5) = _Newsize;
  v2 = unknown_libname_1(this, &v4);
  std::char_traits<char>::assign(_Newsize + v2, v3);
}
// 40EC36: variable 'v3' is possibly undefined
// 401E80: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);
// 40EC50: using guessed type _DWORD __cdecl std::char_traits<char>::assign(_DWORD, _DWORD);

//----- (0040EC60) --------------------------------------------------------
BOOL __thiscall std::string::_Grow(std::string *this, unsigned int _Newsize, bool _Trim)
{
  if ( unknown_libname_32(this) < _Newsize )
    std::_String_base::_Xlen(this);
  if ( *((_DWORD *)this + 6) >= _Newsize )
  {
    if ( _Trim && _Newsize < 0x10 )
    {
      if ( _Newsize >= *((_DWORD *)this + 5) )
        std::string::_Tidy(this, 1, *((_DWORD *)this + 5));
      else
        std::string::_Tidy(this, 1, _Newsize);
    }
    else if ( !_Newsize )
    {
      std::string::_Eos(this, 0);
    }
  }
  else
  {
    sub_40EF20((int)this, _Newsize, *((_DWORD *)this + 5));
  }
  return _Newsize != 0;
}
// 40EEE0: using guessed type int __thiscall unknown_libname_32(_DWORD);

//----- (0040ED00) --------------------------------------------------------
int sub_40ED00()
{
  return std::allocator<CryptoPP::Integer>::max_size();
}

//----- (0040ED20) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lbound(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, const char *const *_Keyval)
{
  const char **v2; // eax
  const char *v4; // [esp-4h] [ebp-10h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v6 = *(_DWORD *)sub_41BA00((int *)this);
  v7 = *((_DWORD *)this + 1);
  while ( !*(_BYTE *)sub_40E0F0(v6) )
  {
    v4 = *_Keyval;
    v2 = (const char **)sub_463EE0(v6);
    if ( StrCmp::operator()(this, *v2, v4) )
    {
      v6 = *(_DWORD *)sub_41BA20(v6);
    }
    else
    {
      v7 = v6;
      v6 = *(_DWORD *)unknown_libname_21(v6);
    }
  }
  return (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040EDB0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lrotate(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Wherenode)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int *v8; // eax
  int v10; // [esp+8h] [ebp-4h]

  v10 = *(_DWORD *)sub_41BA20((int)_Wherenode);
  v2 = (_DWORD *)unknown_libname_21(v10);
  *(_DWORD *)sub_41BA20((int)_Wherenode) = *v2;
  v3 = (int *)unknown_libname_21(v10);
  if ( !*(_BYTE *)sub_40E0F0(*v3) )
  {
    v4 = (int *)unknown_libname_21(v10);
    *(_DWORD *)sub_465290(*v4) = _Wherenode;
  }
  v5 = (_DWORD *)sub_465290((int)_Wherenode);
  *(_DWORD *)sub_465290(v10) = *v5;
  if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA00((int *)this) )
  {
    *(_DWORD *)sub_41BA00((int *)this) = v10;
  }
  else
  {
    v6 = (_DWORD *)sub_465290((int)_Wherenode);
    if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)unknown_libname_21(*v6) )
    {
      v7 = (_DWORD *)sub_465290((int)_Wherenode);
      *(_DWORD *)unknown_libname_21(*v7) = v10;
    }
    else
    {
      v8 = (int *)sub_465290((int)_Wherenode);
      *(_DWORD *)sub_41BA20(*v8) = v10;
    }
  }
  *(_DWORD *)unknown_libname_21(v10) = _Wherenode;
  *(_DWORD *)sub_465290((int)_Wherenode) = v10;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040EF20) --------------------------------------------------------
void __thiscall sub_40EF20(int this, int a2, size_t Size)
{
  void *v3; // eax
  size_t v4; // [esp-4h] [ebp-10h]
  unsigned int v6; // [esp+4h] [ebp-8h]
  CMemory **v7; // [esp+8h] [ebp-4h]

  v6 = a2 | 0xF;
  if ( unknown_libname_32(this) >= (a2 | 0xFu) )
  {
    if ( v6 / 3 < *(_DWORD *)(this + 24) >> 1
      && *(_DWORD *)(this + 24) <= (unsigned int)(unknown_libname_32(this) - (*(_DWORD *)(this + 24) >> 1)) )
    {
      v6 = *(_DWORD *)(this + 24) + (*(_DWORD *)(this + 24) >> 1);
    }
  }
  else
  {
    v6 = a2;
  }
  v7 = sub_40F220(v6 + 1);
  if ( Size )
  {
    v3 = (void *)unknown_libname_1(this, Size);
    std::char_traits<char>::copy(v7, v3, v4);
  }
  std::string::_Tidy((std::string *)this, 1, 0);
  *(_DWORD *)(this + 4) = v7;
  *(_DWORD *)(this + 24) = v6;
  std::string::_Eos((std::string *)this, Size);
}
// 40EFDF: variable 'v4' is possibly undefined
// 401E80: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);
// 40EEE0: using guessed type int __thiscall unknown_libname_32(_DWORD);

//----- (0040F020) --------------------------------------------------------
int *__thiscall sub_40F020(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  _DWORD *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)unknown_libname_21(a2);
  v2 = (_DWORD *)sub_41BA20(v11);
  *(_DWORD *)unknown_libname_21(a2) = *v2;
  v3 = (int *)sub_41BA20(v11);
  if ( !*(_BYTE *)sub_40E0F0(*v3) )
  {
    v4 = (int *)sub_41BA20(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (int *)sub_465290(a2);
    if ( a2 == *(_DWORD *)sub_41BA20(*v6) )
    {
      v7 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v7) = v11;
    }
    else
    {
      v8 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v8) = v11;
    }
  }
  *(_DWORD *)sub_41BA20(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040F150) --------------------------------------------------------
CMemory **__stdcall sub_40F150(int a1, int a2, int a3, _DWORD *a4, char a5)
{
  _DWORD *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_40F3E0(1);
  v6 = operator new(0x24u, v7);
  if ( v6 )
    sub_40F500(v6, a1, a2, a3, a4, a5);
  return v7;
}

//----- (0040F1E0) --------------------------------------------------------
bool __thiscall std::string::_Inside(std::string *this, const char *_Ptr)
{
  int v2; // eax
  bool result; // al
  int v4; // [esp+0h] [ebp-4h]
  int v5; // [esp+0h] [ebp-4h]

  result = 0;
  if ( (unsigned int)_Ptr >= unknown_libname_1(this, this) )
  {
    v2 = unknown_libname_1(v4, v4);
    if ( *(_DWORD *)(v5 + 20) + v2 > (unsigned int)_Ptr )
      result = 1;
  }
  return result;
}
// 40F1F7: variable 'v4' is possibly undefined
// 40F1FF: variable 'v5' is possibly undefined
// 401E80: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);

//----- (0040F220) --------------------------------------------------------
CMemory **__stdcall sub_40F220(size_t Size)
{
  return sub_40F2E0(Size);
}

//----- (0040F270) --------------------------------------------------------
CMemory **__stdcall sub_40F270(int a1, int a2, const void *a3)
{
  _DWORD *v4; // [esp+8h] [ebp-8h]
  CMemory **v5; // [esp+Ch] [ebp-4h]

  v5 = sub_40F370(1);
  v4 = operator new(0x2Cu, v5);
  if ( v4 )
    sub_40F560(v4, a1, a2, a3);
  return v5;
}

//----- (0040F2E0) --------------------------------------------------------
CMemory **__cdecl sub_40F2E0(size_t Size)
{
  return sub_401000(Size);
}

//----- (0040F300) --------------------------------------------------------
_DWORD *__thiscall sub_40F300(_DWORD *this, unsigned int a2)
{
  void *v2; // eax
  _DWORD *result; // eax
  char v5[28]; // [esp+4h] [ebp-40h] BYREF
  char v6[36]; // [esp+20h] [ebp-24h] BYREF

  if ( sub_40F400() - this[2] < a2 )
  {
    std::string::string((std::string *)v5, "list<T> too long");
    std::length_error::length_error((std::length_error *)v6, (const std::string *)v5);
    sub_40E570(v2);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v6);
    sub_40E7C0((std::string *)v5);
  }
  result = this;
  this[2] += a2;
  return result;
}
// 40F337: variable 'v2' is possibly undefined

//----- (0040F370) --------------------------------------------------------
CMemory **__stdcall sub_40F370(int a1)
{
  return sub_46ADA0(a1);
}

//----- (0040F390) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_40F390(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::_Dec(this);
  return this;
}

//----- (0040F3B0) --------------------------------------------------------
int std::allocator<CryptoPP::Integer>::max_size()
{
  return 214748364;
}

//----- (0040F3E0) --------------------------------------------------------
CMemory **__stdcall sub_40F3E0(int a1)
{
  return sub_40F610(a1);
}

//----- (0040F400) --------------------------------------------------------
int sub_40F400()
{
  return sub_40F5E0();
}

//----- (0040F420) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::_Dec(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  int *v1; // eax
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **v2; // eax
  int v4; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_40E0F0(*(_DWORD *)this) )
  {
    *(_DWORD *)this = *(_DWORD *)sub_41BA20(*(_DWORD *)this);
  }
  else
  {
    v1 = (int *)unknown_libname_21(*(_DWORD *)this);
    if ( *(_BYTE *)sub_40E0F0(*v1) )
    {
      while ( 1 )
      {
        v4 = *(_DWORD *)sub_465290(*(_DWORD *)this);
        if ( *(_BYTE *)sub_40E0F0(v4) || *(_DWORD *)this != *(_DWORD *)unknown_libname_21(v4) )
          break;
        *(_DWORD *)this = v4;
      }
      if ( !*(_BYTE *)sub_40E0F0(v4) )
        *(_DWORD *)this = v4;
    }
    else
    {
      v2 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)unknown_libname_21(*(_DWORD *)this);
      *(_DWORD *)this = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Max(*v2);
    }
  }
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040F500) --------------------------------------------------------
_DWORD *__thiscall sub_40F500(_DWORD *this, int a2, int a3, int a4, _DWORD *a5, char a6)
{
  _DWORD *v6; // ecx

  *this = a2;
  this[1] = a3;
  this[2] = a4;
  v6 = this + 3;
  *v6 = *a5;
  v6[1] = a5[1];
  v6[2] = a5[2];
  v6[3] = a5[3];
  v6[4] = a5[4];
  *((_BYTE *)this + 32) = a6;
  *((_BYTE *)this + 33) = 0;
  return this;
}

//----- (0040F560) --------------------------------------------------------
_DWORD *__thiscall sub_40F560(_DWORD *this, int a2, int a3, const void *a4)
{
  *this = a2;
  this[1] = a3;
  qmemcpy(this + 2, a4, 0x24u);
  return this;
}

//----- (0040F5A0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *__cdecl std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Max(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Pnode)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_41BA20((int)_Pnode);
    if ( *(_BYTE *)sub_40E0F0(*v1) )
      break;
    _Pnode = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA20((int)_Pnode);
  }
  return _Pnode;
}

//----- (0040F5E0) --------------------------------------------------------
int sub_40F5E0()
{
  return 119304647;
}

//----- (0040F610) --------------------------------------------------------
CMemory **__cdecl sub_40F610(int a1)
{
  return sub_401000(36 * a1);
}

//----- (0040F630) --------------------------------------------------------
void __thiscall std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>>::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>>(std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> > > *this)
{
  const std::allocator<std::pair<char const * const,CItem *> > *v1; // eax
  char v3; // [esp+6h] [ebp-2h] BYREF
  char v4; // [esp+7h] [ebp-1h] BYREF

  v3 = 0;
  v1 = (const std::allocator<std::pair<char const * const,CItem *> > *)unknown_libname_14(&v4);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    (const iless *)&v3,
    v1);
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0040F660) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, const iless *_Parg, const std::allocator<std::pair<char const * const,CItem *> > *_Al)
{
  char v3; // [esp-4h] [ebp-Ch]

  v3 = (char)this;
  unknown_libname_20(_Al);
  std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    _Parg,
    v3);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Init(this);
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (0040F6A0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Init(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  *((_DWORD *)this + 1) = sub_40F710();
  *(_BYTE *)sub_40E0F0(*((_DWORD *)this + 1)) = 1;
  *(_DWORD *)sub_41BA00((int *)this) = *((_DWORD *)this + 1);
  *(_DWORD *)sub_4653C0(this) = *((_DWORD *)this + 1);
  *(_DWORD *)sub_465270((int *)this) = *((_DWORD *)this + 1);
  *((_DWORD *)this + 2) = 0;
}

//----- (0040F710) --------------------------------------------------------
int sub_40F710()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  int C; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  C = (int)sub_40F3E0(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)unknown_libname_21(C);
  sub_46B180(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_465290(C);
  sub_46B180(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_41BA20(C);
  sub_46B180(v2, (int)&v4);
  *(_BYTE *)_tolower(C) = 1;
  *(_BYTE *)sub_40E0F0(C) = 0;
  return C;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040F830) --------------------------------------------------------
void *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  void *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  unknown_libname_14(&v2);
  std::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(
    v3,
    (char)v2);
  *((_DWORD *)v3 + 1) = sub_40F870();
  *((_DWORD *)v3 + 2) = 0;
  return v3;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0040F870) --------------------------------------------------------
int sub_40F870()
{
  void *v0; // eax
  void *v1; // eax
  int v3; // [esp+4h] [ebp-8h] BYREF
  int v4; // [esp+8h] [ebp-4h]

  v3 = (int)sub_40F370(1);
  v4 = 0;
  v0 = (void *)unknown_libname_21(v3);
  sub_46B180(v0, (int)&v3);
  ++v4;
  v1 = (void *)sub_465290(v3);
  sub_46B180(v1, (int)&v3);
  return v3;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040F910) --------------------------------------------------------
void *__thiscall std::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(void *this, char a2)
{
  char v3; // [esp-4h] [ebp-Ch]

  v3 = (char)this;
  unknown_libname_20(&a2);
  std::_List_ptr<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_List_ptr<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(
    this,
    v3);
  unknown_libname_20(&a2);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (0040F950) --------------------------------------------------------
void __thiscall sub_40F950(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  sub_40F970(this);
}

//----- (0040F970) --------------------------------------------------------
void __thiscall sub_40F970(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tidy(this);
}

//----- (0040F990) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tidy(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int v5; // [esp-4h] [ebp-14h]
  char v7[4]; // [esp+4h] [ebp-Ch] BYREF
  char v8[4]; // [esp+8h] [ebp-8h] BYREF
  char v9[4]; // [esp+Ch] [ebp-4h] BYREF

  v5 = *(_DWORD *)sub_482CA0((int *)this, v9);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::erase(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v7,
    *v1,
    v5);
  v2 = unknown_libname_21(*((_DWORD *)this + 1));
  sub_441D00(v2);
  v3 = sub_465290(*((_DWORD *)this + 1));
  sub_441D00(v3);
  v4 = sub_41BA20(*((_DWORD *)this + 1));
  sub_441D00(v4);
  sub_441930(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0040FA40) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::erase(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::clear(this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = (int *)std::vector<std::string>::iterator::operator++(
                    (std::vector<std::string>::iterator *)&a3,
                    (std::vector<std::string>::iterator *)v10,
                    0);
      sub_40FAE0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0040FAE0) --------------------------------------------------------
_DWORD *__thiscall sub_40FAE0(int *this, _DWORD *a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  int *v5; // eax
  int *v6; // eax
  int *v7; // eax
  _DWORD *v8; // eax
  int *v9; // eax
  _DWORD *v10; // eax
  int *v11; // eax
  _DWORD *v12; // eax
  _DWORD *v13; // eax
  int *v14; // eax
  int *v15; // eax
  _DWORD *v16; // esi
  _DWORD *v17; // eax
  int *v18; // eax
  int *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  int *v22; // eax
  _DWORD *v23; // eax
  int *v24; // eax
  _DWORD *v25; // eax
  _DWORD *v26; // eax
  _DWORD *v27; // eax
  int *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  _DWORD *v32; // eax
  _DWORD *v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  _DWORD v52[9]; // [esp+2Ch] [ebp-34h] BYREF
  int v53; // [esp+50h] [ebp-10h]
  int v54; // [esp+54h] [ebp-Ch]
  int v55; // [esp+58h] [ebp-8h]
  int C; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_10(&a3);
  if ( *(_BYTE *)sub_40E0F0(v3) )
  {
    std::string::string((std::string *)v51, "invalid map/set<T> iterator");
    v4 = sub_410270(v52, (const std::string *)v51);
    sub_40E570(v4);
    sub_4102A0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v52);
    sub_40E7C0((std::string *)v51);
  }
  C = unknown_libname_10(&a3);
  sub_410440((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *)&a3);
  v54 = C;
  v5 = (int *)unknown_libname_21(C);
  if ( *(_BYTE *)sub_40E0F0(*v5) )
  {
    v55 = *(_DWORD *)sub_41BA20(v54);
  }
  else
  {
    v6 = (int *)sub_41BA20(v54);
    if ( *(_BYTE *)sub_40E0F0(*v6) )
    {
      v55 = *(_DWORD *)unknown_libname_21(v54);
    }
    else
    {
      v54 = unknown_libname_10(&a3);
      v55 = *(_DWORD *)sub_41BA20(v54);
    }
  }
  if ( v54 == C )
  {
    v53 = *(_DWORD *)sub_465290(C);
    if ( !*(_BYTE *)sub_40E0F0(v55) )
    {
      v7 = (int *)sub_465290(v55);
      *v7 = v53;
    }
    v8 = (_DWORD *)sub_41BA00(this);
    if ( *v8 == C )
    {
      v9 = (int *)sub_41BA00(this);
      *v9 = v55;
    }
    else
    {
      v10 = (_DWORD *)unknown_libname_21(v53);
      if ( *v10 == C )
        v11 = (int *)unknown_libname_21(v53);
      else
        v11 = (int *)sub_41BA20(v53);
      *v11 = v55;
    }
    v12 = (_DWORD *)sub_4653C0(this);
    if ( *v12 == C )
    {
      if ( *(_BYTE *)sub_40E0F0(v55) )
        v49 = v53;
      else
        v49 = sub_410400(v55);
      *(_DWORD *)sub_4653C0(this) = v49;
    }
    v13 = (_DWORD *)sub_465270(this);
    if ( *v13 == C )
    {
      if ( *(_BYTE *)sub_40E0F0(v55) )
        v48 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)v53;
      else
        v48 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Max((std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)v55);
      *(_DWORD *)sub_465270(this) = v48;
    }
  }
  else
  {
    v14 = (int *)unknown_libname_21(C);
    v15 = (int *)sub_465290(*v14);
    *v15 = v54;
    v16 = (_DWORD *)unknown_libname_21(C);
    *(_DWORD *)unknown_libname_21(v54) = *v16;
    v17 = (_DWORD *)sub_41BA20(C);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(_DWORD *)sub_465290(v54);
      if ( !*(_BYTE *)sub_40E0F0(v55) )
      {
        v18 = (int *)sub_465290(v55);
        *v18 = v53;
      }
      v19 = (int *)unknown_libname_21(v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_41BA20(C);
      *(_DWORD *)sub_41BA20(v54) = *v20;
      v21 = (int *)sub_41BA20(C);
      v22 = (int *)sub_465290(*v21);
      *v22 = v54;
    }
    v23 = (_DWORD *)sub_41BA00(this);
    if ( *v23 == C )
    {
      v24 = (int *)sub_41BA00(this);
      *v24 = v54;
    }
    else
    {
      v25 = (_DWORD *)sub_465290(C);
      v26 = (_DWORD *)unknown_libname_21(*v25);
      if ( *v26 == C )
      {
        v27 = (_DWORD *)sub_465290(C);
        v28 = (int *)unknown_libname_21(*v27);
      }
      else
      {
        v29 = (int *)sub_465290(C);
        v28 = (int *)sub_41BA20(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_465290(C);
    *(_DWORD *)sub_465290(v54) = *v30;
    v47 = (char *)_tolower(C);
    v31 = (char *)_tolower(v54);
    std::swap<char>(v31, v47);
  }
  if ( *(_BYTE *)_tolower(C) == 1 )
  {
    while ( 1 )
    {
      v32 = (_DWORD *)sub_41BA00(this);
      if ( v55 == *v32 || *(_BYTE *)_tolower(v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)_tolower(v55) = 1;
        goto LABEL_66;
      }
      v33 = (_DWORD *)unknown_libname_21(v53);
      if ( v55 == *v33 )
        break;
      v54 = *(_DWORD *)unknown_libname_21(v53);
      if ( !*(_BYTE *)_tolower(v54) )
      {
        *(_BYTE *)_tolower(v54) = 1;
        *(_BYTE *)_tolower(v53) = 0;
        sub_40F020(this, v53);
        v54 = *(_DWORD *)unknown_libname_21(v53);
      }
      if ( !*(_BYTE *)sub_40E0F0(v54) )
      {
        v40 = (int *)sub_41BA20(v54);
        if ( *(_BYTE *)_tolower(*v40) != 1 || (v41 = (int *)unknown_libname_21(v54), *(_BYTE *)_tolower(*v41) != 1) )
        {
          v42 = (int *)unknown_libname_21(v54);
          if ( *(_BYTE *)_tolower(*v42) == 1 )
          {
            v43 = (int *)sub_41BA20(v54);
            *(_BYTE *)_tolower(*v43) = 1;
            *(_BYTE *)_tolower(v54) = 0;
            std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lrotate(
              (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
              (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)v54);
            v54 = *(_DWORD *)unknown_libname_21(v53);
          }
          v44 = (_BYTE *)_tolower(v53);
          *(_BYTE *)_tolower(v54) = *v44;
          *(_BYTE *)_tolower(v53) = 1;
          v45 = (int *)unknown_libname_21(v54);
          *(_BYTE *)_tolower(*v45) = 1;
          sub_40F020(this, v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)_tolower(v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(_DWORD *)sub_465290(v55);
    }
    v54 = *(_DWORD *)sub_41BA20(v53);
    if ( !*(_BYTE *)_tolower(v54) )
    {
      *(_BYTE *)_tolower(v54) = 1;
      *(_BYTE *)_tolower(v53) = 0;
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lrotate(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
        (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)v53);
      v54 = *(_DWORD *)sub_41BA20(v53);
    }
    if ( *(_BYTE *)sub_40E0F0(v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)unknown_libname_21(v54);
    if ( *(_BYTE *)_tolower(*v34) != 1 || (v35 = (int *)sub_41BA20(v54), *(_BYTE *)_tolower(*v35) != 1) )
    {
      v36 = (int *)sub_41BA20(v54);
      if ( *(_BYTE *)_tolower(*v36) == 1 )
      {
        v37 = (int *)unknown_libname_21(v54);
        *(_BYTE *)_tolower(*v37) = 1;
        *(_BYTE *)_tolower(v54) = 0;
        sub_40F020(this, v54);
        v54 = *(_DWORD *)sub_41BA20(v53);
      }
      v38 = (_BYTE *)_tolower(v53);
      *(_BYTE *)_tolower(v54) = *v38;
      *(_BYTE *)_tolower(v53) = 1;
      v39 = (int *)sub_41BA20(v54);
      *(_BYTE *)_tolower(*v39) = 1;
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Lrotate(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
        (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_441D00(C);
  sub_441930((void *)C, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00410270) --------------------------------------------------------
_DWORD *__thiscall sub_410270(_DWORD *this, const std::string *a2)
{
  sub_40E5E0((int)this, a2);
  *this = &std::out_of_range::`vftable';
  return this;
}
// 4AA0B4: using guessed type void *std::out_of_range::`vftable';

//----- (004102A0) --------------------------------------------------------
void __thiscall sub_4102A0(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this)
{
  *(_DWORD *)this = &std::out_of_range::`vftable';
  std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>::~time_put<unsigned short,std::ostreambuf_iterator<unsigned short>>(this);
}
// 4AA0B4: using guessed type void *std::out_of_range::`vftable';

//----- (004102C0) --------------------------------------------------------
std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *__thiscall sub_4102C0(std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *this, char a2)
{
  sub_4102A0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004102F0) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::clear(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **v1; // eax

  v1 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA00((int *)this);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Erase(
    this,
    *v1);
  *(_DWORD *)sub_41BA00((int *)this) = *((_DWORD *)this + 1);
  *((_DWORD *)this + 2) = 0;
  *(_DWORD *)sub_4653C0(this) = *((_DWORD *)this + 1);
  *(_DWORD *)sub_465270((int *)this) = *((_DWORD *)this + 1);
}

//----- (00410350) --------------------------------------------------------
std::vector<std::string>::iterator *__thiscall std::vector<std::string>::iterator::operator++(std::vector<std::string>::iterator *this, std::vector<std::string>::iterator *result, int __formal)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *(_DWORD *)this;
  sub_410440(this);
  *(_DWORD *)result = v4;
  return result;
}

//----- (00410380) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Erase(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Rootnode)
{
  _BYTE *i; // eax
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **v3; // eax
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v5; // [esp+4h] [ebp-4h]

  v5 = _Rootnode;
  for ( i = (_BYTE *)sub_40E0F0((int)_Rootnode); !*i; i = (_BYTE *)sub_40E0F0((int)v5) )
  {
    v3 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA20((int)v5);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Erase(
      this,
      *v3);
    v5 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)unknown_libname_21(v5);
    sub_441D00((int)_Rootnode);
    sub_441930(_Rootnode, 1);
    _Rootnode = v5;
  }
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00410400) --------------------------------------------------------
int __cdecl sub_410400(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)unknown_libname_21(a1);
    if ( *(_BYTE *)sub_40E0F0(*v1) )
      break;
    a1 = *(_DWORD *)unknown_libname_21(a1);
  }
  return a1;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00410440) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_410440(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  sub_410460(this);
  return this;
}

//----- (00410460) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_410460(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::_Inc(this);
  return this;
}

//----- (00410480) --------------------------------------------------------
void __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  int *v1; // eax
  int *v2; // eax
  int v4; // [esp+4h] [ebp-4h]

  if ( !*(_BYTE *)sub_40E0F0(*(_DWORD *)this) )
  {
    v1 = (int *)sub_41BA20(*(_DWORD *)this);
    if ( *(_BYTE *)sub_40E0F0(*v1) )
    {
      while ( 1 )
      {
        v4 = *(_DWORD *)sub_465290(*(_DWORD *)this);
        if ( *(_BYTE *)sub_40E0F0(v4) || *(_DWORD *)this != *(_DWORD *)sub_41BA20(v4) )
          break;
        *(_DWORD *)this = v4;
      }
      *(_DWORD *)this = v4;
    }
    else
    {
      v2 = (int *)sub_41BA20(*(_DWORD *)this);
      *(_DWORD *)this = sub_410400(*v2);
    }
  }
}

//----- (00410540) --------------------------------------------------------
void __cdecl std::swap<char>(char *_Left, char *_Right)
{
  char v2; // [esp+3h] [ebp-1h]

  v2 = *_Left;
  *_Left = *_Right;
  *_Right = v2;
}

//----- (00410570) --------------------------------------------------------
int *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_Tidy(int *this)
{
  int v1; // eax
  int v2; // eax
  int *result; // eax

  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::clear(this);
  v1 = unknown_libname_21(this[1]);
  sub_441D00(v1);
  v2 = sub_465290(this[1]);
  sub_441D00(v2);
  sub_441930((void *)this[1], 1);
  result = this;
  this[1] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004105E0) --------------------------------------------------------
char *__thiscall sub_4105E0(char *this)
{
  const char *v1; // eax
  const char *v2; // eax
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax

  CBase::CBase((int)this);
  *(_DWORD *)this = &off_498F78;
  std::map<unsigned long,ncf::kernel::NetworkSession *>::map<unsigned long,ncf::kernel::NetworkSession *>((std::map<unsigned long,std::list<_tagGameRoomInfo *> *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::list<_tagGameRoomInfo *> *> > > *)(this + 380));
  *((_DWORD *)this + 8) = 0;
  *((_DWORD *)this + 9) = 0;
  *((_DWORD *)this + 10) = 0;
  memset(this + 44, 0, 0x11u);
  *((_DWORD *)this + 16) = 0;
  *((_DWORD *)this + 17) = 0;
  *((_DWORD *)this + 18) = 1;
  *((_DWORD *)this + 19) = 0;
  *((_DWORD *)this + 20) = 0;
  v1 = GetStr(912);
  strcpy(this + 84, v1);
  v2 = GetStr(913);
  strcpy(this + 99, v2);
  v3 = GetStr(914);
  strcpy(this + 114, v3);
  v4 = GetStr(915);
  strcpy(this + 129, v4);
  v5 = GetStr(916);
  strcpy(this + 144, v5);
  v6 = GetStr(917);
  strcpy(this + 159, v6);
  memset(this + 174, 0, 0xB5u);
  *((_DWORD *)this + 89) = 0;
  *((_DWORD *)this + 90) = 3;
  *((_DWORD *)this + 91) = 1;
  *((_DWORD *)this + 92) = 1;
  *((_DWORD *)this + 93) = 0;
  *((_DWORD *)this + 94) = 0;
  *((_DWORD *)this + 98) = 0;
  *((_DWORD *)this + 99) = 0;
  return this;
}
// 498F78: using guessed type int (__stdcall *off_498F78)(int);

//----- (004107B0) --------------------------------------------------------
_DWORD *__userpurge sub_4107B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  CGuild::_CGuild(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (004107E0) --------------------------------------------------------
_DWORD *__usercall CGuild::_CGuild@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_498F78;
  sub_410810(a1 + 95);
  return CBase::_CBase(a1, a2, a3, a4);
}
// 498F78: using guessed type int (__stdcall *off_498F78)(int);

//----- (00410810) --------------------------------------------------------
int __thiscall sub_410810(int *this)
{
  return sub_417600(this);
}

//----- (00410830) --------------------------------------------------------
void __usercall CGuild::Stop(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-Ch] BYREF
  int v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8428,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8428, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    v4 = sub_43E1A0(&v7);
    CBase::Delete(*(volatile signed __int32 **)(v4 + 4));
    sub_46FA50(&v7, &v6, 0);
  }
  sub_417570(dword_4B8428);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
}

//----- (004108B0) --------------------------------------------------------
int __thiscall CBase::Delete(volatile signed __int32 *this)
{
  int result; // eax

  result = sub_484FE0(this + 5, 0);
  if ( !result )
    result = (*(int (__thiscall **)(volatile signed __int32 *))(*this + 36))(this);
  return result;
}

//----- (004108E0) --------------------------------------------------------
void __usercall CGuild::SecondProcess(DWORD a1@<ebx>, DWORD a2@<edi>, _DWORD *a3@<esi>)
{
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  if ( sub_416590() )
    sub_41AE60(a1, a2, a3);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, (DWORD)a3);
}

//----- (00410910) --------------------------------------------------------
int __usercall sub_410910@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v6; // [esp+0h] [ebp-28h] BYREF
  int v7; // [esp+4h] [ebp-24h] BYREF
  int v8; // [esp+8h] [ebp-20h] BYREF
  char v9[4]; // [esp+Ch] [ebp-1Ch] BYREF
  int v10; // [esp+10h] [ebp-18h]
  volatile signed __int32 *v11; // [esp+14h] [ebp-14h]
  int v12; // [esp+18h] [ebp-10h] BYREF
  int v13; // [esp+1Ch] [ebp-Ch]
  __time32_t Time; // [esp+20h] [ebp-8h] BYREF
  struct tm *v15; // [esp+24h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8428,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v12);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8428, v9);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
            v4) )
      break;
    v11 = *(volatile signed __int32 **)(sub_43E1A0(&v12) + 4);
    if ( *((_DWORD *)v11 + 89) && *((_DWORD *)v11 + 89) < a4 )
    {
      if ( *((_DWORD *)v11 + 8) )
      {
        *((_DWORD *)v11 + 89) = 0;
        sub_46FA50(&v12, &v8, 0);
      }
      else
      {
        CBase::Delete(v11);
        v12 = *sub_4653E0(dword_4B8428, &v7, v12);
      }
    }
    else
    {
      sub_46FA50(&v12, &v6, 0);
    }
  }
  Time = time(0);
  v15 = localtime(&Time);
  v13 = 0;
  if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
  {
    if ( (dword_4B8C30[0] & 2) != 0 )
    {
      if ( v15->tm_min >= 5 )
      {
        if ( v15->tm_min >= 15 )
        {
          if ( v15->tm_min >= 20 )
          {
            if ( v15->tm_min < 30 )
              v13 = 4;
          }
          else
          {
            v13 = 2;
          }
        }
        else
        {
          v13 = 1;
        }
      }
      else
      {
        v13 = 0;
      }
    }
    else if ( v15->tm_hour >= 17 )
    {
      if ( v15->tm_hour >= 18 )
      {
        if ( v15->tm_hour < 19 )
          v13 = 4;
      }
      else if ( v15->tm_min >= 58 )
      {
        v13 = 2;
      }
      else
      {
        v13 = 1;
      }
    }
    else
    {
      v13 = 0;
    }
  }
  else
  {
    switch ( v15->tm_wday )
    {
      case 4:
        if ( v15->tm_hour >= 21 )
          v13 = 1;
        break;
      case 5:
        if ( v15->tm_hour >= 21 )
          v13 = 2;
        else
          v13 = 1;
        break;
      case 6:
        if ( v15->tm_hour >= 21 )
        {
          if ( v15->tm_hour < 23 )
            v13 = 4;
        }
        else
        {
          v13 = 2;
        }
        break;
    }
  }
  if ( dword_4B8424 != v13 )
  {
    if ( v13 == 4 )
    {
      v10 = Time;
      if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
      {
        if ( (dword_4B8C30[0] & 2) != 0 )
          v10 += 60 * (30 - v15->tm_min);
        else
          v10 += 3600;
      }
      else if ( v15->tm_hour == 21 )
      {
        v10 += 7200;
      }
      else
      {
        v10 += 3600;
      }
      sub_418FA0(a1, a3, v10);
    }
    if ( dword_4B8424 != 4 || !CCastle::IsWarDeclared() )
      dword_4B8424 = v13;
  }
  if ( dword_4B8424 )
    CAlliance::PostponeExpire(a1, a2, a3);
  else
    sub_418600(a1, a2, a3, Time);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
  return CCastle::TaxSave(a1, a2, a3);
}
// 4B8424: using guessed type int dword_4B8424;

//----- (00410BE0) --------------------------------------------------------
void __usercall CGuild::OnDelete(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  char v7[4]; // [esp+8h] [ebp-10h] BYREF
  int v8; // [esp+Ch] [ebp-Ch] BYREF
  volatile int *v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v7);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
            v4) )
      break;
    v9 = *(volatile int **)(*(_DWORD *)(sub_43E1A0(&v10) + 4) + 32);
    if ( v9 )
    {
      sub_45DEA0((int)v9, a2, a3, a4, 0);
      sub_45DE00((int)v9, a2, a3, a4, 0);
      CPlayer::SetGID((int)v9, a2, a3, a4, 0);
      sub_45DF00((int)v9, a2, a3, a4, (char *)&Src);
      sub_45DF40((int)v9, a2, a3, a4, 0);
      sub_45DF70((int)v9, a2, a3, a4, 0, (char *)&Src);
      sub_401C50(v9, a2, a3, a4);
      *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v10) + 4) + 32) = 0;
      --*(_DWORD *)(a1 + 32);
    }
    v5 = sub_43E1A0(&v10);
    sub_401020(*(void **)(v5 + 4));
    sub_46FA50(&v10, &v8, 0);
  }
  sub_417620((int *)(a1 + 380));
  if ( *(_DWORD *)(a1 + 396) )
    CAlliance::DeleteSetGuild(*(volatile int **)(a1 + 396), a2, a3, a4, a1);
  sub_402020((volatile int *)a1, a2, a3, a4);
}

//----- (00410D10) --------------------------------------------------------
int __usercall CGuild::IsLoad@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+4h] [ebp-Ch] BYREF
  int v7; // [esp+8h] [ebp-8h] BYREF
  int v8; // [esp+Ch] [ebp-4h]

  v8 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  sub_460550(dword_4B8428, &v7, &a4);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8428, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
         v4) )
  {
    v8 = 1;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v7) + 4) + 356) )
    {
      a3 = GetTickCount() + 600000;
      *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v7) + 4) + 356) = a3;
    }
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
  return v8;
}

//----- (00410DB0) --------------------------------------------------------
void __usercall sub_410DB0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  std::pair<char const * const,CItem *> *v7; // eax
  std::pair<char const * const,CItem *> *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp+0h] [ebp-6Ch]
  int v12; // [esp+4h] [ebp-68h]
  int v13; // [esp+8h] [ebp-64h]
  char *v14; // [esp+Ch] [ebp-60h]
  char v15[8]; // [esp+14h] [ebp-58h] BYREF
  char v16[8]; // [esp+1Ch] [ebp-50h] BYREF
  CMemory **v17; // [esp+24h] [ebp-48h]
  char v18[8]; // [esp+28h] [ebp-44h] BYREF
  char v19[8]; // [esp+30h] [ebp-3Ch] BYREF
  char *v20; // [esp+38h] [ebp-34h]
  char v21[4]; // [esp+3Ch] [ebp-30h] BYREF
  char v22[8]; // [esp+40h] [ebp-2Ch] BYREF
  int i; // [esp+48h] [ebp-24h]
  int v24; // [esp+4Ch] [ebp-20h] BYREF
  int v25; // [esp+50h] [ebp-1Ch] BYREF
  char *v26; // [esp+54h] [ebp-18h]
  char *v27; // [esp+58h] [ebp-14h]
  int v28; // [esp+5Ch] [ebp-10h] BYREF
  int v29; // [esp+60h] [ebp-Ch] BYREF
  char v30[8]; // [esp+64h] [ebp-8h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550(dword_4B8428, &v24, &a4);
  v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8428, v21);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v24,
         v6) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
  }
  else
  {
    v20 = (char *)sub_401000(0x190u);
    if ( v20 )
      v14 = sub_4105E0(v20);
    else
      v14 = 0;
    v26 = v14;
    a5 = GetString(a5, v14 + 44);
    a5 = (char *)sub_417AF0(a5, (_DWORD *)v26 + 19);
    a5 = (char *)sub_417AF0(a5, (_DWORD *)v26 + 17);
    a5 = GetString(a5, v26 + 174);
    a5 = GetString(a5, v26 + 84);
    a5 = GetString(a5, v26 + 99);
    a5 = GetString(a5, v26 + 114);
    a5 = GetString(a5, v26 + 129);
    a5 = GetString(a5, v26 + 144);
    a5 = GetString(a5, v26 + 159);
    a5 = (char *)sub_417AF0(a5, (_DWORD *)v26 + 90);
    a5 = (char *)sub_417AF0(a5, (_DWORD *)v26 + 91);
    a5 = (char *)sub_417AF0(a5, (_DWORD *)v26 + 92);
    a5 = (char *)sub_417AF0(a5, (_DWORD *)v26 + 93);
    a5 = (char *)sub_417AF0(a5, (_DWORD *)v26 + 94);
    a5 = (char *)sub_417AF0(a5, (_DWORD *)v26 + 98);
    v7 = sub_41BE80((std::pair<char const * const,CItem *> *)v18, a4, v26);
    unknown_libname_11(v7);
    std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8428,
      (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v30,
      (const std::pair<int const ,CSocket *> *)v19);
    if ( v30[4] )
    {
      *((_DWORD *)v26 + 16) = 0;
      v29 = 0;
      a5 = sub_417B10(a5, &v29);
      for ( i = 0; i < v29; ++i )
      {
        v17 = sub_401000(0x28u);
        v27 = (char *)v17;
        a5 = (char *)sub_417AF0(a5, &v28);
        a5 = GetString(a5, v27);
        *((_DWORD *)v27 + 5) = 0;
        a5 = (char *)sub_42D5D0(a5, (_WORD *)v27 + 10);
        *((_DWORD *)v27 + 6) = 0;
        a5 = sub_417B10(a5, v27 + 24);
        *((_DWORD *)v27 + 7) = 0;
        a5 = sub_417B10(a5, v27 + 28);
        a5 = (char *)sub_417AF0(a5, (_DWORD *)v27 + 9);
        *((_DWORD *)v27 + 8) = 0;
        v8 = sub_41BE80((std::pair<char const * const,CItem *> *)v15, v28, v27);
        unknown_libname_11(v8);
        std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
          (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(v26 + 380),
          (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v22,
          (const std::pair<int const ,CSocket *> *)v16);
        if ( v22[4] )
        {
          if ( *((int *)v27 + 6) < 6 )
          {
            if ( 10000 * *((_DWORD *)v27 + 5) >= 0 )
              v13 = 10000 * *((_DWORD *)v27 + 5);
            else
              v13 = 0;
            if ( v13 + *((_DWORD *)v26 + 16) <= 2000000000 )
            {
              if ( 10000 * *((_DWORD *)v27 + 5) >= 0 )
                v11 = 10000 * *((_DWORD *)v27 + 5);
              else
                v11 = 0;
              v12 = v11 + *((_DWORD *)v26 + 16);
            }
            else
            {
              v12 = 2000000000;
            }
            *((_DWORD *)v26 + 16) = v12;
          }
        }
        else
        {
          LOG_ERR("CGuild::Load() member insert error (gid:%d, pid:%d,count:%d)", a4, v28, v29);
          sub_401020(v27);
        }
      }
      if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
      {
        if ( *((int *)v26 + 17) < 3 )
        {
          if ( *((int *)v26 + 17) < 2 )
          {
            if ( *((int *)v26 + 17) < 1 )
              *((_DWORD *)v26 + 18) = 1;
            else
              *((_DWORD *)v26 + 18) = 2;
          }
          else
          {
            *((_DWORD *)v26 + 18) = 3;
          }
        }
        else
        {
          *((_DWORD *)v26 + 18) = 4;
        }
        v10 = CGuild::CalPenaltyTLevel((int *)v26);
        *((_DWORD *)v26 + 18) = v10;
      }
      else
      {
        if ( *((int *)v26 + 17) < 16000000 )
        {
          if ( *((int *)v26 + 17) < 7800000 )
          {
            if ( *((int *)v26 + 17) < 2400000 )
              *((_DWORD *)v26 + 18) = 1;
            else
              *((_DWORD *)v26 + 18) = 2;
          }
          else
          {
            *((_DWORD *)v26 + 18) = 3;
          }
        }
        else
        {
          *((_DWORD *)v26 + 18) = 4;
        }
        v9 = CGuild::CalPenaltyLevel((int *)v26);
        *((_DWORD *)v26 + 18) = v9;
      }
      v25 = 0;
      a5 = sub_417B10(a5, &v25);
      if ( v25 )
        CAlliance::Load(a1, a2, a3, a5);
      if ( *((_DWORD *)v26 + 98) )
        CAlliance::LoadSetGuild(a1, a2, a3, *((_DWORD *)v26 + 98), a4, (volatile int *)v26);
      if ( a6 )
      {
        CCastle::SetGuild(a6, a1, a2, a3, (volatile int *)v26);
        ++*((_DWORD *)v26 + 8);
      }
      CCastle::SetWarGuild(a1, a2, a3, a4, (volatile int *)v26);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    }
    else
    {
      CBase::Delete((volatile signed __int32 *)v26);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      LOG_ERR("CGuildAdmin::Load() guild insert error ( gid:%d )", a4);
    }
  }
}
// 417B30: using guessed type _DWORD __stdcall unknown_libname_11(_DWORD);

//----- (00411340) --------------------------------------------------------
void __usercall sub_411340(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  void *v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  void *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // eax
  void *v20; // [esp-8h] [ebp-24h]
  int v21; // [esp-4h] [ebp-20h]
  int v22; // [esp-4h] [ebp-20h]
  int v23; // [esp-4h] [ebp-20h]
  char *v24; // [esp-4h] [ebp-20h]
  int v25; // [esp-4h] [ebp-20h]
  _DWORD *v26; // [esp+0h] [ebp-1Ch]
  char v27[4]; // [esp+4h] [ebp-18h] BYREF
  char v28[4]; // [esp+8h] [ebp-14h] BYREF
  int v29; // [esp+Ch] [ebp-10h] BYREF
  void *Src; // [esp+10h] [ebp-Ch]
  int v31; // [esp+14h] [ebp-8h] BYREF
  int v32; // [esp+18h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  v29 = sub_45DE70(a4, a1, a2, a3);
  sub_460550(dword_4B8428, &v31, &v29);
  v4 = sub_482CA0(dword_4B8428, v28);
  if ( (unsigned __int8)unknown_libname_25(v4) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    v21 = *(_DWORD *)(a4 + 444);
    v5 = sub_45DE70(a4, a1, a2, a3);
    LOG_ERR("CGuild::Login() guild key error (gid:%d,pid:%d)", v5, v21);
    sub_45DEA0(a4, a1, a2, a3, 0);
  }
  else
  {
    v6 = sub_43E1A0(&v31);
    sub_460550((int *)(*(_DWORD *)(v6 + 4) + 380), &v32, (_DWORD *)(a4 + 444));
    v7 = sub_43E1A0(&v31);
    v8 = sub_482CA0((int *)(*(_DWORD *)(v7 + 4) + 380), v27);
    if ( (unsigned __int8)unknown_libname_25(v8) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      v22 = *(_DWORD *)(a4 + 444);
      v9 = sub_45DE70(a4, a1, a2, a3);
      LOG_ERR("CGuild::Login() guild member error (gid:%d,pid:%d)", v9, v22);
      sub_45DEA0(a4, a1, a2, a3, 0);
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v32) + 4) + 32) = a4;
      sub_4010D0((volatile int *)a4, a1, a2, a3);
      v26 = (_DWORD *)(*(_DWORD *)(sub_43E1A0(&v31) + 4) + 32);
      ++*v26;
      *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v31) + 4) + 356) = 0;
      v10 = sub_43E1A0(&v31);
      sub_45DE00(a4, a1, a2, a3, *(volatile int **)(v10 + 4));
      v11 = sub_43E1A0(&v31);
      CPlayer::SetGID(a4, a1, a2, a3, *(_DWORD *)(*(_DWORD *)(v11 + 4) + 72));
      v12 = sub_43E1A0(&v31);
      sub_45DF00(a4, a1, a2, a3, (char *)(*(_DWORD *)(v12 + 4) + 44));
      v13 = sub_43E1A0(&v31);
      sub_45DF40(a4, a1, a2, a3, *(_DWORD *)(*(_DWORD *)(v13 + 4) + 76));
      v23 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v32) + 4) + 24);
      v14 = sub_43E1A0(&v31);
      v24 = CGuild::GetClass2Title(*(char **)(v14 + 4), v23);
      v15 = sub_43E1A0(&v32);
      sub_45DF70(a4, a1, a2, a3, *(_DWORD *)(*(_DWORD *)(v15 + 4) + 24), v24);
      v25 = *(_DWORD *)sub_43E1A0(&v31);
      v16 = sub_43E1A0(&v31);
      sub_414080(*(_DWORD *)(v16 + 4), a1, a3, a4, v25);
      if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v31) + 4) + 396) )
      {
        v17 = sub_43E1A0(&v31);
        sub_418700(*(_DWORD *)(*(_DWORD *)(v17 + 4) + 396), a1, a3, a4);
      }
      if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v32) + 4) + 28) )
      {
        Src = sub_445C90(a1, a2, a3, 76, "bbsb", 0, 2, a4 + 32, *(unsigned __int8 *)(a4 + 60));
        v20 = Src;
        v18 = sub_43E1A0(&v31);
        CGuild::Broadcast(*(_DWORD *)(v18 + 4), a1, a2, a3, v20, a4);
        CIOBuffer::Release((CIOBuffer *)Src);
      }
      if ( *(_BYTE *)(*(_DWORD *)(sub_43E1A0(&v31) + 4) + 174) )
      {
        v19 = sub_43E1A0(&v31);
        sub_448C90(a1, a2, a3, a4, 76, "bbs", 0, 5, *(_DWORD *)(v19 + 4) + 174);
      }
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    }
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00411620) --------------------------------------------------------
void __usercall CGuild::LoginCastle(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5)
{
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  sub_419910(a1, a3, a4, a5);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
}

//----- (00411650) --------------------------------------------------------
void __userpurge sub_411650(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  void *v7; // eax
  int v8; // eax
  void *v9; // [esp-8h] [ebp-2Ch]
  int v10; // [esp-4h] [ebp-28h]
  char v12[4]; // [esp+4h] [ebp-20h] BYREF
  int v13; // [esp+8h] [ebp-1Ch] BYREF
  char v14[4]; // [esp+Ch] [ebp-18h] BYREF
  int v15; // [esp+10h] [ebp-14h] BYREF
  void *v16; // [esp+14h] [ebp-10h]
  void *Src; // [esp+18h] [ebp-Ch]
  int v18; // [esp+1Ch] [ebp-8h] BYREF
  int v19; // [esp+20h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  v15 = sub_45DE70(a5, a2, a3, a4);
  sub_460550(dword_4B8434, &v18, &v15);
  v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8434, v14);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v18,
         v5) )
  {
    Src = sub_445C90(a2, a3, a4, 76, "bbs", 0, 3, a5 + 32);
    v9 = Src;
    v6 = sub_43E1A0(&v18);
    CGuild::Broadcast(*(_DWORD *)(v6 + 4), a2, a3, a4, v9, a5);
    CIOBuffer::Release((CIOBuffer *)Src);
    sub_4653E0(dword_4B8434, &v13, v18);
    CBase::Delete((volatile signed __int32 *)a1);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
  }
  else
  {
    sub_460550((int *)(a1 + 380), &v19, (_DWORD *)(a5 + 444));
    v7 = sub_482CA0((int *)(a1 + 380), v12);
    if ( (unsigned __int8)unknown_libname_25(v7) )
    {
      v10 = *(_DWORD *)(a5 + 444);
      v8 = sub_45DE70(a5, a2, a3, a4);
      LOG_ERR("CGuild::Logout() member not find (gid:%d,pid:%d)", v8, v10);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v19) + 4) + 32) = 0;
      sub_401C50((volatile int *)a5, a2, a3, a4);
      sub_45DE00(a5, a2, a3, a4, 0);
      CPlayer::SetGID(a5, a2, a3, a4, 0);
      sub_45DF00(a5, a2, a3, a4, (char *)&::Src);
      sub_45DF40(a5, a2, a3, a4, 0);
      sub_45DF70(a5, a2, a3, a4, 0, (char *)&::Src);
      if ( --*(_DWORD *)(a1 + 32) )
      {
        if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v19) + 4) + 28) )
        {
          v16 = sub_445C90(a2, a3, a4, 76, "bbs", 0, 3, a5 + 32);
          CGuild::Broadcast(a1, a2, a3, a4, v16, a5);
          CIOBuffer::Release((CIOBuffer *)v16);
        }
      }
      else
      {
        *(_DWORD *)(a1 + 356) = GetTickCount() + 600000;
      }
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    }
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00411850) --------------------------------------------------------
void __usercall sub_411850(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  void *v5; // eax
  int v6; // eax
  int v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  void *v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  void *v18; // [esp-8h] [ebp-3Ch]
  int v19; // [esp-4h] [ebp-38h]
  _DWORD *v20; // [esp+4h] [ebp-30h]
  char v21[4]; // [esp+8h] [ebp-2Ch] BYREF
  void *v22; // [esp+Ch] [ebp-28h]
  char v23[4]; // [esp+10h] [ebp-24h] BYREF
  int v24; // [esp+14h] [ebp-20h] BYREF
  char v25[4]; // [esp+18h] [ebp-1Ch] BYREF
  int v26; // [esp+1Ch] [ebp-18h] BYREF
  void *Src; // [esp+20h] [ebp-14h]
  void *v28; // [esp+24h] [ebp-10h]
  int v29; // [esp+28h] [ebp-Ch]
  int v30; // [esp+2Ch] [ebp-8h] BYREF
  int v31; // [esp+30h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550(dword_4B8428, &v31, &a5);
  v5 = sub_482CA0(dword_4B8428, v25);
  if ( (unsigned __int8)unknown_libname_25(v5) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    return;
  }
  if ( a5 == a4 )
  {
    v6 = sub_43E1A0(&v31);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(*(_DWORD *)(v6 + 4) + 380),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v30);
    while ( 1 )
    {
      v7 = sub_43E1A0(&v31);
      v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(*(_DWORD *)(v7 + 4) + 380), v23);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v30,
              v8) )
        break;
      v29 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v30) + 4) + 32);
      if ( v29 )
      {
        sub_45DEA0(v29, a1, a2, a3, 0);
        sub_45DE00(v29, a1, a2, a3, 0);
        CPlayer::SetGID(v29, a1, a2, a3, 0);
        sub_45DF00(v29, a1, a2, a3, (char *)&::Src);
        sub_45DF40(v29, a1, a2, a3, 0);
        sub_45DF70(v29, a1, a2, a3, 0, (char *)&::Src);
        sub_448C90(a1, a2, a3, v29, 76, "bb", 0, 43);
        v9 = unknown_libname_4(v29);
        v28 = sub_445C90(a1, a2, a3, 76, "bdssbd", 9, v9, &::Src, &::Src, 0, 0);
        sub_415EB0(a1, a2, a3, v29, v28, 0);
        sub_401C50((volatile int *)v29, a1, a2, a3);
        *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v30) + 4) + 32) = 0;
        v20 = (_DWORD *)(*(_DWORD *)(sub_43E1A0(&v31) + 4) + 32);
        --*v20;
      }
      v22 = *(void **)(sub_43E1A0(&v30) + 4);
      sub_401020(v22);
      sub_46FA50(&v30, &v24, 0);
    }
    v10 = sub_43E1A0(&v31);
    sub_417620((int *)(*(_DWORD *)(v10 + 4) + 380));
    if ( *(int *)(*(_DWORD *)(sub_43E1A0(&v31) + 4) + 32) > 0 )
    {
      v11 = sub_43E1A0(&v31);
      LOG_ERR("CGuild::DelPlayer() plaer reference error (ref:%d)", *(_DWORD *)(*(_DWORD *)(v11 + 4) + 32));
    }
    a3 = GetTickCount() + 600000;
    *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v31) + 4) + 356) = a3;
  }
  else
  {
    v12 = sub_43E1A0(&v31);
    sub_460550((int *)(*(_DWORD *)(v12 + 4) + 380), &v26, &a4);
    v13 = sub_43E1A0(&v31);
    v14 = sub_482CA0((int *)(*(_DWORD *)(v13 + 4) + 380), v21);
    if ( (unsigned __int8)unknown_libname_25(v14) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      LOG_ERR("CGuild::DelPlayer() not find member (gid:%d,pid:%d)", a5, a4);
      return;
    }
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v26) + 4) + 32) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      LOG_ERR("CGuild::DelPlayer error (gid:%d,pid:%d)", a5, a4);
      return;
    }
    v15 = sub_43E1A0(&v26);
    Src = sub_445C90(a1, a2, a3, 76, "bbs", 0, 32, *(_DWORD *)(v15 + 4));
    v18 = Src;
    v16 = sub_43E1A0(&v31);
    CGuild::Broadcast(*(_DWORD *)(v16 + 4), a1, a2, a3, v18, 0);
    CIOBuffer::Release((CIOBuffer *)Src);
    v19 = v26;
    v17 = sub_43E1A0(&v31);
    CGuild::MemberDEL(*(int **)(v17 + 4), a1, a2, v19);
  }
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00411B80) --------------------------------------------------------
int __usercall sub_411B80@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  int result; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-B4h]
  int v10; // [esp-4h] [ebp-ACh]
  int v11; // [esp+4h] [ebp-A4h]
  int v12; // [esp+8h] [ebp-A0h]
  CMemory **v13; // [esp+Ch] [ebp-9Ch]
  CMemory **v14; // [esp+Ch] [ebp-9Ch]
  char *v15; // [esp+10h] [ebp-98h]
  char *v16; // [esp+14h] [ebp-94h]
  char v17; // [esp+18h] [ebp-90h] BYREF
  char v18[124]; // [esp+19h] [ebp-8Fh] BYREF
  __int16 v19; // [esp+95h] [ebp-13h]
  char v20; // [esp+97h] [ebp-11h]
  uintptr_t StackCookie; // [esp+98h] [ebp-10h] BYREF
  int v22; // [esp+9Ch] [ebp-Ch]
  int v23; // [esp+A0h] [ebp-8h]
  volatile int *v24; // [esp+A4h] [ebp-4h]

  if ( sub_45DE70(a4, a1, a2, a3) )
    return 13;
  if ( *(int *)(a4 + 60) < 30 )
    return 7;
  sub_411FF0(a4, a1, a2, a3);
  if ( !*(_DWORD *)(a4 + 928) || (v24 = sub_443890(a1, a2, a3, *(_DWORD *)(a4 + 928))) == 0 )
  {
    sub_412010(a4, a1, a2, a3);
    return 12;
  }
  sub_412010(a4, a1, a2, a3);
  if ( !CParty::IsHead((int)v24, a1, a2, a3, a4) )
  {
    sub_401C50(v24, a1, a2, a3);
    return 11;
  }
  if ( sub_411FD0((int)v24) < 6 )
  {
    sub_401C50(v24, a1, a2, a3);
    return 12;
  }
  CIOCriticalSection::Enter((CIOCriticalSection *)(a4 + 932), a1, a2, a3);
  if ( !*(_DWORD *)(a4 + 1008)
    || ((*(_WORD *)dword_4B8C30 & 0x100) != 0 ? 100 : 100000) > *(_DWORD *)(*(_DWORD *)(a4 + 1008) + 52) )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a4 + 932), a1, a2, a3);
    sub_401C50(v24, a1, a2, a3);
    return 8;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a4 + 932), a1, a2, a3);
  v13 = CParty::GetPlayerList((int)v24, a1, a2, a3);
  v11 = 0;
  v22 = 0;
  while ( v13 )
  {
    if ( !v22 )
    {
      v5 = unknown_libname_10(v13);
      if ( sub_45DE70(v5, a1, a2, a3) )
        v22 = 1;
      else
        v11 += *(_DWORD *)(unknown_libname_10(v13) + 460);
    }
    v13 = (CMemory **)CBaseList::Pop((int)v13, a1, a2, a3);
  }
  if ( v22 )
  {
    sub_401C50(v24, a1, a2, a3);
    return 13;
  }
  if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
  {
    if ( v11 < 1 )
      goto LABEL_26;
  }
  else if ( v11 < 60 )
  {
LABEL_26:
    sub_401C50(v24, a1, a2, a3);
    return 9;
  }
  v15 = sub_4155F0(a1, a2, a3, *(_DWORD *)(a4 + 444));
  if ( v15 )
  {
    v17 = 0;
    memset(v18, 0, sizeof(v18));
    v19 = 0;
    v20 = 0;
    v16 = &v17;
    v14 = CParty::GetPlayerList((int)v24, a1, (DWORD)&StackCookie, a3);
    v12 = 0;
    v23 = 0;
    CRWLock::WriteLock((CRWLock *)&unk_4B8440);
    while ( v14 )
    {
      if ( !v12 )
      {
        v10 = *(_DWORD *)(a4 + 444) != *(_DWORD *)(unknown_libname_10(v14) + 444) ? 8 : 1;
        v6 = unknown_libname_10(v14);
        if ( sub_4156B0((int)v15, a1, (DWORD)&StackCookie, a3, *(_DWORD *)(a4 + 444), v6, v10) )
        {
          v7 = unknown_libname_10(v14);
          v16 = (char *)sub_4459A0(v16, *(_DWORD *)(v7 + 444));
          ++v23;
        }
        else
        {
          v12 = *(_DWORD *)(unknown_libname_10(v14) + 444);
        }
      }
      v14 = (CMemory **)CBaseList::Pop((int)v14, a1, (DWORD)&StackCookie, a3);
    }
    if ( v12 )
    {
      LOG_ERR("CGuild::CreateTrial() member add error (leader:%d,pid:%d)", *(_DWORD *)(a4 + 444), v12);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8434,
        (const int *)(a4 + 444));
      CBase::Delete((volatile signed __int32 *)v15);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, (DWORD)&StackCookie, a3);
      sub_401C50(v24, a1, (DWORD)&StackCookie, a3);
      result = 1;
    }
    else
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, (DWORD)&StackCookie, a3);
      sub_401C50(v24, a1, (DWORD)&StackCookie, a3);
      v9 = (unsigned __int8)v23;
      v8 = unknown_libname_4(a4);
      CDBSocket::Write(a1, (DWORD)&StackCookie, a3, 39, "dbm", v8, v9, &v17, v16 - &v17);
      result = 0;
    }
  }
  else
  {
    sub_401C50(v24, a1, a2, a3);
    LOG_ERR("CGuild::CreateTrial() temp guild create error (pid:%d)", *(_DWORD *)(a4 + 444));
    result = 1;
  }
  return result;
}

//----- (00411FD0) --------------------------------------------------------
int __thiscall sub_411FD0(int this)
{
  return std::vector<unsigned long>::size((std::vector<unsigned long> *)(this + 32));
}

//----- (00411FF0) --------------------------------------------------------
void __usercall sub_411FF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 388), a2, a3, a4);
}

//----- (00412010) --------------------------------------------------------
void __usercall sub_412010(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 388), a2, a3, a4);
}

//----- (00412030) --------------------------------------------------------
int __userpurge sub_412030@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  void *v7; // eax
  int result; // eax
  int v9; // eax
  int v10; // [esp-4h] [ebp-1Ch]
  int v12; // [esp+4h] [ebp-14h] BYREF
  int v13; // [esp+8h] [ebp-10h] BYREF
  char v14[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v15; // [esp+10h] [ebp-8h] BYREF
  void *Src; // [esp+14h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  if ( a6 )
  {
    sub_460550((int *)(a1 + 380), &v15, &a6);
    v7 = sub_482CA0((int *)(a1 + 380), v14);
    if ( (unsigned __int8)unknown_libname_25(v7) )
    {
      v13 = sub_45DE70(a5, a2, a3, a4);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8434,
        &v13);
      CBase::Delete((volatile signed __int32 *)a1);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 1;
    }
    else
    {
      v10 = a7;
      v9 = sub_43E1A0(&v15);
      sub_448C90(a2, a3, a4, a5, 76, "bbsd", 0, 6, *(_DWORD *)(v9 + 4), v10);
      v12 = sub_45DE70(a5, a2, a3, a4);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8434,
        &v12);
      CBase::Delete((volatile signed __int32 *)a1);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 0;
    }
  }
  else
  {
    Src = sub_445C90(a2, a3, a4, 76, "b", 2);
    CGuild::Broadcast(a1, a2, a3, a4, Src, a5);
    CIOBuffer::Release((CIOBuffer *)Src);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 14;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00412160) --------------------------------------------------------
int __userpurge sub_412160@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  void *v6; // eax
  int result; // eax
  int v8; // eax
  void *v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-4h] [ebp-30h]
  int v13; // [esp-4h] [ebp-30h]
  int v15; // [esp+4h] [ebp-28h] BYREF
  int v16; // [esp+8h] [ebp-24h] BYREF
  char v17[4]; // [esp+Ch] [ebp-20h] BYREF
  int v18; // [esp+10h] [ebp-1Ch] BYREF
  int v19; // [esp+14h] [ebp-18h] BYREF
  int v20; // [esp+18h] [ebp-14h] BYREF
  char v21[4]; // [esp+1Ch] [ebp-10h] BYREF
  int v22; // [esp+20h] [ebp-Ch] BYREF
  int v23; // [esp+24h] [ebp-8h]
  void *Src; // [esp+28h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550((int *)(a1 + 380), &v22, (_DWORD *)(a5 + 444));
  v6 = sub_482CA0((int *)(a1 + 380), v21);
  if ( (unsigned __int8)unknown_libname_25(v6) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 15;
  }
  else if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v22) + 4) + 24) == 1
         || *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v22) + 4) + 24) == 8 )
  {
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v22) + 4) + 24) != 1 )
      *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v22) + 4) + 24) = 7;
    v8 = sub_43E1A0(&v22);
    Src = sub_445C90(a2, a3, a4, 76, "bbsb", 0, 17, *(_DWORD *)(v8 + 4), (unsigned __int8)a6);
    CGuild::Broadcast(a1, a2, a3, a4, Src, 0);
    CIOBuffer::Release((CIOBuffer *)Src);
    if ( a6 )
    {
      if ( CGuild::IsAllConsent(a1) )
      {
        v19 = sub_45DE70(a5, a2, a3, a4);
        v22 = *sub_460550((int *)(a1 + 380), &v18, &v19);
        v9 = sub_482CA0((int *)(a1 + 380), v17);
        if ( (unsigned __int8)unknown_libname_25(v9) )
        {
          v16 = sub_45DE70(a5, a2, a3, a4);
          std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
            (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8434,
            &v16);
          CBase::Delete((volatile signed __int32 *)a1);
          CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
          v12 = *(_DWORD *)(a5 + 444);
          v10 = sub_45DE70(a5, a2, a3, a4);
          LOG_ERR("CGuild::CreateConsent() leader not find (leader:%d,pid:%d)", v10, v12);
          result = 1;
        }
        else
        {
          v23 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v22) + 4) + 32);
          if ( v23 )
          {
            sub_448C90(a2, a3, a4, v23, 76, "b", 4);
            CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
            result = 0;
          }
          else
          {
            v15 = sub_45DE70(a5, a2, a3, a4);
            std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
              (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8434,
              &v15);
            CBase::Delete((volatile signed __int32 *)a1);
            CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
            v13 = *(_DWORD *)(a5 + 444);
            v11 = sub_45DE70(a5, a2, a3, a4);
            LOG_ERR("CGuild::CreateConsent() leader logout error (leader:%d,pid:%d)", v11, v13);
            result = 1;
          }
        }
      }
      else
      {
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 0;
      }
    }
    else
    {
      v20 = sub_45DE70(a5, a2, a3, a4);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8434,
        &v20);
      CBase::Delete((volatile signed __int32 *)a1);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 0;
    }
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 16;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004123E0) --------------------------------------------------------
int __thiscall CGuild::IsAllConsent(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h] BYREF
  int v6; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 380), v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v6) + 4) + 24) == 8 )
      return 0;
    sub_46FA50(&v6, &v5, 0);
  }
  return 1;
}

//----- (00412450) --------------------------------------------------------
int __userpurge sub_412450@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *Str1)
{
  int v6; // eax

  if ( sub_45DE70(a4, a1, a2, a3) != *(_DWORD *)(a4 + 444) )
    return 22;
  if ( !IsValidName(Str1) )
    return 18;
  if ( CGuild::IsSameName(a1, a2, a3, Str1) )
    return 19;
  v6 = unknown_libname_4(a4);
  CDBSocket::Write(a1, a2, a3, 41, "ds", v6, Str1);
  return 0;
}

//----- (004124C0) --------------------------------------------------------
int __userpurge sub_4124C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, char *Source)
{
  int result; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int v9; // eax
  std::pair<char const * const,CItem *> *v10; // eax
  int v11; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v12; // eax
  int v13; // eax
  int v14; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v15; // eax
  int v16; // eax
  int v17; // [esp-4h] [ebp-60h]
  int v18; // [esp+0h] [ebp-5Ch]
  int v19; // [esp+4h] [ebp-58h]
  int v20; // [esp+8h] [ebp-54h]
  char v22[4]; // [esp+10h] [ebp-4Ch] BYREF
  int v23; // [esp+14h] [ebp-48h] BYREF
  char v24[4]; // [esp+18h] [ebp-44h] BYREF
  char v25[4]; // [esp+1Ch] [ebp-40h] BYREF
  int v26; // [esp+20h] [ebp-3Ch] BYREF
  char v27[4]; // [esp+24h] [ebp-38h] BYREF
  int v28; // [esp+28h] [ebp-34h] BYREF
  int v29; // [esp+2Ch] [ebp-30h] BYREF
  char v30[8]; // [esp+30h] [ebp-2Ch] BYREF
  char v31[8]; // [esp+38h] [ebp-24h] BYREF
  char v32[4]; // [esp+40h] [ebp-1Ch] BYREF
  int v33; // [esp+44h] [ebp-18h] BYREF
  int i; // [esp+48h] [ebp-14h] BYREF
  int v35; // [esp+4Ch] [ebp-10h]
  int v36; // [esp+50h] [ebp-Ch]
  char v37[8]; // [esp+54h] [ebp-8h] BYREF

  if ( a6 == 2 )
    return 1;
  if ( a6 )
    return 19;
  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  if ( CGuild::IsAllConsent(a1) )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
    if ( *(_DWORD *)(a5 + 1008)
      && ((*(_WORD *)dword_4B8C30 & 0x100) != 0 ? 100 : 100000) <= *(_DWORD *)(*(_DWORD *)(a5 + 1008) + 52) )
    {
      v35 = *(_DWORD *)(a5 + 1008);
      if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v35 + 120))(
              v35,
              a5,
              31,
              -((*(_WORD *)dword_4B8C30 & 0x100) != 0 ? 100 : 100000)) )
        sub_4516D0(a5, a2, a3, a4, v35);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
      strcpy((char *)(a1 + 44), Source);
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&i);
      while ( 1 )
      {
        v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v32);
        if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                (std::vector<CIOSocket::CIOTimer>::const_iterator *)&i,
                v8) )
          break;
        if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&i) + 4) + 24) != 1 )
          *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&i) + 4) + 24) = 6;
        v36 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&i) + 4) + 32);
        if ( v36 )
          sub_45DF00(v36, a2, a3, a4, (char *)(a1 + 44));
        sub_46FA50(&i, &v33, 0);
      }
      v9 = sub_45DE70(a5, a2, a3, a4);
      v10 = sub_41BE80((std::pair<char const * const,CItem *> *)v30, v9, a1);
      unknown_libname_11(v10);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8428,
        (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v37,
        (const std::pair<int const ,CSocket *> *)v31);
      if ( v37[4] )
      {
        v28 = sub_45DE70(a5, a2, a3, a4);
        std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
          (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8434,
          &v28);
        if ( 10000 * *(_DWORD *)(a5 + 460) >= 0 )
          v20 = 10000 * *(_DWORD *)(a5 + 460);
        else
          v20 = 0;
        if ( v20 <= 2000000000 )
        {
          if ( 10000 * *(_DWORD *)(a5 + 460) >= 0 )
            v18 = 10000 * *(_DWORD *)(a5 + 460);
          else
            v18 = 0;
          v19 = v18;
        }
        else
        {
          v19 = 2000000000;
        }
        *(_DWORD *)(a1 + 64) = v19;
        for ( i = *(_DWORD *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                               (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
                               (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v27);
              ;
              sub_46FA50(&i, &v26, 0) )
        {
          v12 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v25);
          if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)&i,
                  v12) )
            break;
          v36 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&i) + 4) + 32);
          if ( v36 )
          {
            sub_448C90(a2, a3, a4, v36, 76, "bbs", 0, 21, a1 + 44);
            v13 = sub_45DE70(a5, a2, a3, a4);
            sub_414080(a1, a2, a4, v36, v13);
          }
        }
        v14 = sub_45DE70(a5, a2, a3, a4);
        CDBSocket::Write(a2, a3, a4, 42, "ds", v14, Source);
        for ( i = *(_DWORD *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                               (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
                               (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v24);
              ;
              sub_46FA50(&i, &v23, 0) )
        {
          v15 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v22);
          if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)&i,
                  v15) )
            break;
          if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&i) + 4) + 24) != 1 )
          {
            v17 = *(_DWORD *)sub_43E1A0(&i);
            v16 = sub_45DE70(a5, a2, a3, a4);
            CDBSocket::Write(a2, a3, a4, 43, "dd", v16, v17);
          }
        }
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 0;
      }
      else
      {
        v11 = sub_45DE70(a5, a2, a3, a4);
        LOG_ERR("CGuild::CreateGuildName() guild insert error (gid:%d)", v11);
        v29 = sub_45DE70(a5, a2, a3, a4);
        std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
          (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8434,
          &v29);
        CBase::Delete((volatile signed __int32 *)a1);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 1;
      }
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 8;
    }
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 20;
  }
  return result;
}
// 417B30: using guessed type _DWORD __stdcall unknown_libname_11(_DWORD);

//----- (004128D0) --------------------------------------------------------
int __thiscall CGuild::IsSkillAble(_DWORD *this, int a2, char a3)
{
  int result; // eax

  switch ( a2 )
  {
    case 1:
      result = 1;
      break;
    case 2:
      result = this[90] & (1 << a3);
      break;
    case 3:
      result = this[91] & (1 << a3);
      break;
    case 4:
      result = this[92] & (1 << a3);
      break;
    case 5:
      result = this[93] & (1 << a3);
      break;
    case 6:
      result = this[94] & (1 << a3);
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (00412990) --------------------------------------------------------
int __userpurge sub_412990@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  void *v6; // eax
  int v7; // eax
  int result; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-8h] [ebp-18h]
  int v12; // [esp-4h] [ebp-14h]
  char v14[4]; // [esp+4h] [ebp-Ch] BYREF
  volatile int *v15; // [esp+8h] [ebp-8h]
  int v16; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  sub_460550(a1 + 95, &v16, (_DWORD *)(a5 + 444));
  v6 = sub_482CA0(a1 + 95, v14);
  if ( (unsigned __int8)unknown_libname_25(v6) )
  {
    v12 = *(_DWORD *)(a5 + 444);
    v7 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::Conflux() member find error (gid:%d,pid:%d)", v7, v12);
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 1;
  }
  else
  {
    v9 = sub_43E1A0(&v16);
    if ( CGuild::IsSkillAble(a1, *(_DWORD *)(*(_DWORD *)(v9 + 4) + 24), 0) )
    {
      if ( CGuild::IsTempMemberFUll((int)a1) )
      {
        CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 23;
      }
      else if ( CCastle::IsAllCastleWarRelation(a2, a3, a4, (int)a1) && (sub_416570() || sub_416590()) )
      {
        CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 94;
      }
      else
      {
        CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        v15 = (volatile int *)sub_4467C0(a2, a3, a4, a6);
        if ( v15 )
        {
          if ( sub_40A660(v15, 256) )
          {
            sub_448C90(a2, a3, a4, a5, 77, "b", 11);
            CIOObject::Release((CIOObject *)v15, a2, a3, a4, v15 + 86);
            result = 0;
          }
          else if ( sub_45DE70((int)v15, a2, a3, a4) )
          {
            CIOObject::Release((CIOObject *)v15, a2, a3, a4, v15 + 86);
            result = 25;
          }
          else
          {
            sub_448C90(a2, a3, a4, a5, 76, "bbs", 0, 27, a6);
            v11 = *(_DWORD *)(a5 + 444);
            v10 = sub_45DE70(a5, a2, a3, a4);
            sub_448C90(a2, a3, a4, (int)v15, 76, "bdds", 14, v10, v11, a1 + 11);
            CIOObject::Release((CIOObject *)v15, a2, a3, a4, v15 + 86);
            result = 0;
          }
        }
        else
        {
          result = 24;
        }
      }
    }
    else
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 22;
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00412B90) --------------------------------------------------------
int __usercall sub_412B90@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, int a7)
{
  int result; // eax
  void *v8; // eax
  int v9; // eax
  int v10; // eax
  void *v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // [esp-8h] [ebp-1Ch]
  int v16; // [esp-4h] [ebp-18h]
  char v17[4]; // [esp+0h] [ebp-14h] BYREF
  char v18[4]; // [esp+4h] [ebp-10h] BYREF
  int v19; // [esp+8h] [ebp-Ch] BYREF
  int v20; // [esp+Ch] [ebp-8h]
  int v21; // [esp+10h] [ebp-4h] BYREF

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  if ( sub_45DE70(a4, a1, a2, a3) )
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    result = 29;
  }
  else
  {
    sub_460550(dword_4B8428, &v19, &a5);
    v8 = sub_482CA0(dword_4B8428, v18);
    if ( (unsigned __int8)unknown_libname_25(v8) )
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      result = 1;
    }
    else
    {
      v9 = sub_43E1A0(&v19);
      sub_460550((int *)(*(_DWORD *)(v9 + 4) + 380), &v21, &a6);
      v10 = sub_43E1A0(&v19);
      v11 = sub_482CA0((int *)(*(_DWORD *)(v10 + 4) + 380), v17);
      if ( (unsigned __int8)unknown_libname_25(v11) )
      {
        CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
        result = 1;
      }
      else
      {
        v20 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v21) + 4) + 32);
        if ( v20 )
        {
          v12 = sub_43E1A0(&v19);
          if ( CCastle::IsAllCastleWarRelation(a1, a2, a3, *(_DWORD *)(v12 + 4)) && (sub_416570() || sub_416590()) )
          {
            CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
            result = 94;
          }
          else if ( a7 )
          {
            v13 = sub_43E1A0(&v19);
            if ( CGuild::IsTempMemberFUll(*(_DWORD *)(v13 + 4)) )
            {
              CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
              result = 23;
            }
            else
            {
              CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
              v16 = a5;
              v15 = *(_DWORD *)(a4 + 444);
              v14 = unknown_libname_4(a4);
              CDBSocket::Write(a1, a2, a3, 40, "ddd", v14, v15, v16);
              result = 0;
            }
          }
          else
          {
            sub_448C90(a1, a2, a3, v20, 76, "bbs", 0, 28, a4 + 32);
            CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
            result = 0;
          }
        }
        else
        {
          CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
          result = 24;
        }
      }
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00412D60) --------------------------------------------------------
int __usercall sub_412D60@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6)
{
  int result; // eax
  void *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-18h]
  void *v13; // [esp-8h] [ebp-14h]
  int v14; // [esp-4h] [ebp-10h]
  char v15[4]; // [esp+0h] [ebp-Ch] BYREF
  int v16; // [esp+4h] [ebp-8h] BYREF
  void *Src; // [esp+8h] [ebp-4h]

  if ( a6 )
  {
    sub_448C90(a1, a2, a3, a4, 76, "bbsd", 0, 6, a4 + 32, a6);
    result = 0;
  }
  else
  {
    CRWLock::WriteLock((CRWLock *)&unk_4B8440);
    sub_460550(dword_4B8428, &v16, &a5);
    v7 = sub_482CA0(dword_4B8428, v15);
    if ( (unsigned __int8)unknown_libname_25(v7) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      result = 1;
    }
    else
    {
      v12 = a5;
      v8 = sub_43E1A0(&v16);
      if ( sub_4156B0(*(_DWORD *)(v8 + 4), a1, a2, a3, v12, a4, 6) )
      {
        CDBSocket::Write(a1, a2, a3, 43, "dd", a5, *(_DWORD *)(a4 + 444));
        v14 = a5;
        v9 = sub_43E1A0(&v16);
        sub_414080(*(_DWORD *)(v9 + 4), a1, a3, a4, v14);
        if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v16) + 4) + 396) )
        {
          v10 = sub_43E1A0(&v16);
          sub_418700(*(_DWORD *)(*(_DWORD *)(v10 + 4) + 396), a1, a3, a4);
        }
        Src = sub_445C90(a1, a2, a3, 76, "bbsb", 0, 30, a4 + 32, *(unsigned __int8 *)(a4 + 60));
        v13 = Src;
        v11 = sub_43E1A0(&v16);
        CGuild::Broadcast(*(_DWORD *)(v11 + 4), a1, a2, a3, v13, 0);
        CIOBuffer::Release((CIOBuffer *)Src);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
        result = 0;
      }
      else
      {
        LOG_ERR("CGuild::ConfluxSecedeAnswer() member add error (gid:%d,pid:%d)", a5, *(_DWORD *)(a4 + 444));
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
        result = 1;
      }
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00412EF0) --------------------------------------------------------
BOOL __thiscall CGuild::IsTempMemberFUll(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h] BYREF
  int v7; // [esp+10h] [ebp-4h]

  v7 = 0;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 380), v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v6) + 4) + 24) == 6 )
      ++v7;
    sub_46FA50(&v6, &v5, 0);
  }
  return v7 >= 10;
}

//----- (00412F70) --------------------------------------------------------
int __userpurge sub_412F70@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  void *v5; // eax
  int v6; // eax
  int result; // eax
  int v8; // eax
  int v9; // [esp-4h] [ebp-1Ch]
  char v11[4]; // [esp+4h] [ebp-14h] BYREF
  void *Src; // [esp+8h] [ebp-10h]
  int v13; // [esp+Ch] [ebp-Ch]
  int v14; // [esp+10h] [ebp-8h] BYREF
  void *v15; // [esp+14h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550(a1 + 95, &v14, (_DWORD *)(a5 + 444));
  v5 = sub_482CA0(a1 + 95, v11);
  if ( (unsigned __int8)unknown_libname_25(v5) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    v9 = *(_DWORD *)(a5 + 444);
    v6 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::Secession() member delete error (gid:%d,pid:%d)", v6, v9);
    result = 1;
  }
  else if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v14) + 4) + 24) == 1 )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 31;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v14) + 4) + 32) = 0;
    sub_401C50((volatile int *)a5, a2, a3, a4);
    sub_45DEA0(a5, a2, a3, a4, 0);
    sub_45DE00(a5, a2, a3, a4, 0);
    CPlayer::SetGID(a5, a2, a3, a4, 0);
    sub_45DF00(a5, a2, a3, a4, (char *)&::Src);
    sub_45DF40(a5, a2, a3, a4, 0);
    sub_45DF70(a5, a2, a3, a4, 0, (char *)&::Src);
    sub_45EEA0(a5, a2, a3, a4);
    CGuild::MemberDEL(a1, a2, a3, v14);
    v13 = time(0) + 259200;
    CDBSocket::Write(a2, a3, a4, 45, "dd", *(_DWORD *)(a5 + 444), v13);
    v8 = unknown_libname_4(a5);
    v15 = sub_445C90(a2, a3, a4, 76, "bdssbd", 9, v8, &::Src, &::Src, 0, 0);
    sub_415EB0(a2, a3, a4, a5, v15, 0);
    if ( --a1[8] )
    {
      Src = sub_445C90(a2, a3, a4, 76, "bbs", 0, 32, a5 + 32);
      CGuild::Broadcast((int)a1, a2, a3, a4, Src, 0);
      CIOBuffer::Release((CIOBuffer *)Src);
    }
    else
    {
      a1[89] = GetTickCount() + 600000;
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 33;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00413170) --------------------------------------------------------
int __userpurge sub_413170@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Str1)
{
  void *v6; // eax
  int v7; // eax
  int result; // eax
  int v9; // eax
  void *v10; // eax
  int v11; // eax
  _DWORD *v12; // eax
  int v13; // [esp-4h] [ebp-28h]
  int v14; // [esp-4h] [ebp-28h]
  char v16[4]; // [esp+4h] [ebp-20h] BYREF
  char v17[4]; // [esp+8h] [ebp-1Ch] BYREF
  void *v18; // [esp+Ch] [ebp-18h]
  int v19; // [esp+10h] [ebp-14h]
  int v20; // [esp+14h] [ebp-10h] BYREF
  int v21; // [esp+18h] [ebp-Ch]
  int v22; // [esp+1Ch] [ebp-8h] BYREF
  void *Src; // [esp+20h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550(a1 + 95, &v22, (_DWORD *)(a5 + 444));
  v6 = sub_482CA0(a1 + 95, v17);
  if ( (unsigned __int8)unknown_libname_25(v6) )
  {
    v13 = *(_DWORD *)(a5 + 444);
    v7 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::Banish() member find error (gid:%d,pid:%d)", v7, v13);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 1;
  }
  else
  {
    v9 = sub_43E1A0(&v22);
    if ( CGuild::IsSkillAble(a1, *(_DWORD *)(*(_DWORD *)(v9 + 4) + 24), 1) )
    {
      CGuild::FindMember((int)a1, (int)&v20, Str1);
      v10 = sub_482CA0(a1 + 95, v16);
      if ( (unsigned __int8)unknown_libname_25(v10) )
      {
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 4;
      }
      else if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v20) + 4) + 24) == 1 )
      {
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 34;
      }
      else
      {
        Src = sub_445C90(a2, a3, a4, 76, "bbs", 0, 35, Str1);
        CGuild::Broadcast((int)a1, a2, a3, a4, Src, 0);
        CIOBuffer::Release((CIOBuffer *)Src);
        v21 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v20) + 4) + 32);
        if ( v21 )
        {
          if ( sub_45DE70(v21, a2, a3, a4) )
          {
            sub_45DEA0(v21, a2, a3, a4, 0);
            sub_45DE00(v21, a2, a3, a4, 0);
            CPlayer::SetGID(v21, a2, a3, a4, 0);
            sub_45DF00(v21, a2, a3, a4, (char *)&::Src);
            sub_45DF40(v21, a2, a3, a4, 0);
            sub_45DF70(v21, a2, a3, a4, 0, (char *)&::Src);
            sub_45EEA0(v21, a2, a3, a4);
            v11 = unknown_libname_4(v21);
            v18 = sub_445C90(a2, a3, a4, 76, "bdssbd", 9, v11, &::Src, &::Src, 0, 0);
            sub_415EB0(a2, a3, a4, v21, v18, 0);
            if ( !--a1[8] )
              LOG_ERR("CGuild::Banish() player reference error");
          }
          sub_401C50((volatile int *)v21, a2, a3, a4);
          *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v20) + 4) + 32) = 0;
        }
        v19 = time(0) + 259200;
        v14 = v19;
        v12 = (_DWORD *)sub_43E1A0(&v20);
        CDBSocket::Write(a2, a3, a4, 45, "dd", *v12, v14);
        CGuild::MemberDEL(a1, a2, a3, v20);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 36;
      }
    }
    else
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 22;
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00413410) --------------------------------------------------------
int __userpurge sub_413410@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Str1, char *a7)
{
  void *v7; // eax
  int v8; // eax
  int result; // eax
  int v10; // eax
  void *v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // eax
  _DWORD *v23; // eax
  int v24; // eax
  int *v25; // [esp-10h] [ebp-58h]
  int *v26; // [esp-Ch] [ebp-54h]
  int v27; // [esp-8h] [ebp-50h]
  void *v28; // [esp-8h] [ebp-50h]
  int v29; // [esp-8h] [ebp-50h]
  int v30; // [esp-4h] [ebp-4Ch]
  char *v31; // [esp-4h] [ebp-4Ch]
  int v32; // [esp-4h] [ebp-4Ch]
  int v33; // [esp-4h] [ebp-4Ch]
  int v34; // [esp-4h] [ebp-4Ch]
  int v35; // [esp+4h] [ebp-44h]
  int v36; // [esp+8h] [ebp-40h]
  int v37; // [esp+Ch] [ebp-3Ch]
  int v38; // [esp+10h] [ebp-38h]
  int v39; // [esp+14h] [ebp-34h]
  int v40; // [esp+18h] [ebp-30h]
  int v41; // [esp+1Ch] [ebp-2Ch]
  int v42; // [esp+20h] [ebp-28h]
  char v44[4]; // [esp+28h] [ebp-20h] BYREF
  char v45[4]; // [esp+2Ch] [ebp-1Ch] BYREF
  void *v46; // [esp+30h] [ebp-18h]
  int v47; // [esp+34h] [ebp-14h]
  int v48; // [esp+38h] [ebp-10h]
  int v49; // [esp+3Ch] [ebp-Ch] BYREF
  int v50; // [esp+40h] [ebp-8h] BYREF
  void *Src; // [esp+44h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550(a1 + 95, &v50, (_DWORD *)(a5 + 444));
  v7 = sub_482CA0(a1 + 95, v45);
  if ( (unsigned __int8)unknown_libname_25(v7) )
  {
    v30 = *(_DWORD *)(a5 + 444);
    v8 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::Appointment() member find error (gid:%d,pid:%d)", v8, v30);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 1;
  }
  v10 = sub_43E1A0(&v50);
  if ( !CGuild::IsSkillAble(a1, *(_DWORD *)(*(_DWORD *)(v10 + 4) + 24), 3) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 22;
  }
  CGuild::FindMember((int)a1, (int)&v49, Str1);
  v11 = sub_482CA0(a1 + 95, v44);
  if ( (unsigned __int8)unknown_libname_25(v11) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 4;
  }
  if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 24) == 1 )
    goto LABEL_8;
  if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 24) == 2
    && (a4 = *(_DWORD *)(sub_43E1A0(&v49) + 4), *(_DWORD *)(a4 + 36) > time(0)) )
  {
    v12 = sub_43E1A0(&v49);
    sub_448C90(a2, a3, a4, a5, 76, "bbd", 0, 39, *(_DWORD *)(*(_DWORD *)(v12 + 4) + 36));
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 0;
  }
  else
  {
    v47 = CGuild::GetTitle2Class((const char *)a1, a7);
    if ( v47 )
    {
      if ( v47 == 1 )
      {
LABEL_8:
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        return 37;
      }
      v13 = sub_43E1A0(&v49);
      if ( *(_DWORD *)(*(_DWORD *)(v13 + 4) + 24) == v47 )
      {
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 41;
      }
      else if ( v47 < 6 && CGuild::IsMemberFull((int)a1) )
      {
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 40;
      }
      else if ( CGuild::IsAppointmentFull((int)a1, v47) )
      {
        v48 = CGuild::GetAppointmentLimitTime((int)a1, v47);
        if ( v48 && v48 > time(0) )
        {
          CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
          sub_448C90(a2, a3, a4, a5, 76, "bbd", 0, 39, v48);
          result = 0;
        }
        else
        {
          if ( v47 == 6 )
          {
            if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 20) >= 0 )
              v42 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 20);
            else
              v42 = 0;
            if ( a1[16] - v42 >= 0 )
            {
              if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 20) >= 0 )
                v40 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 20);
              else
                v40 = 0;
              v41 = a1[16] - v40;
            }
            else
            {
              v41 = 0;
            }
            a1[16] = v41;
          }
          else if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 24) == 6 )
          {
            if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 20) >= 0 )
              v39 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 20);
            else
              v39 = 0;
            if ( v39 + a1[16] <= 2000000000 )
            {
              if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 20) >= 0 )
                v37 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 20);
              else
                v37 = 0;
              v38 = v37 + a1[16];
            }
            else
            {
              v38 = 2000000000;
            }
            a1[16] = v38;
          }
          if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
            v36 = CGuild::CalPenaltyTLevel(a1);
          else
            v36 = CGuild::CalPenaltyLevel(a1);
          sub_415920((int)a1, a2, a3, v36);
          if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 32) && (CGuild::GetGuildSkill(a1[18]) & 1) != 0 )
          {
            v14 = sub_43E1A0(&v49);
            *(_DWORD *)(*(_DWORD *)(v14 + 4) + 24) = v47;
            v31 = CGuild::GetClass2Title((char *)a1, v47);
            v27 = v47;
            v15 = sub_43E1A0(&v49);
            sub_45DF70(*(_DWORD *)(*(_DWORD *)(v15 + 4) + 32), a2, a3, a4, v27, v31);
            v16 = sub_43E1A0(&v49);
            v32 = sub_45E000(*(int **)(*(_DWORD *)(v16 + 4) + 32));
            v17 = sub_43E1A0(&v49);
            v26 = sub_45DFB0(*(int **)(*(_DWORD *)(v17 + 4) + 32));
            v18 = sub_43E1A0(&v49);
            v25 = sub_45E050(*(int **)(*(_DWORD *)(v18 + 4) + 32));
            v19 = sub_43E1A0(&v49);
            v20 = unknown_libname_4(*(_DWORD *)(*(_DWORD *)(v19 + 4) + 32));
            v46 = sub_445C90(a2, a3, a4, 76, "bdssbd", 9, v20, v25, v26, 1, v32);
            v28 = v46;
            v21 = sub_43E1A0(&v49);
            sub_415EB0(a2, a3, a4, *(_DWORD *)(*(_DWORD *)(v21 + 4) + 32), v28, 0);
          }
          else
          {
            v22 = sub_43E1A0(&v49);
            *(_DWORD *)(*(_DWORD *)(v22 + 4) + 24) = v47;
          }
          if ( v47 == 2 )
            v35 = time(0) + 604800;
          else
            v35 = 0;
          *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 36) = v35;
          v33 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v49) + 4) + 36);
          v29 = (unsigned __int8)v47;
          v23 = (_DWORD *)sub_43E1A0(&v49);
          CDBSocket::Write(a2, a3, a4, 46, "dbd", *v23, v29, v33);
          v34 = (unsigned __int8)v47;
          v24 = sub_43E1A0(&v49);
          Src = sub_445C90(a2, a3, a4, 76, "bbsb", 0, 42, *(_DWORD *)(v24 + 4), v34);
          CGuild::Broadcast((int)a1, a2, a3, a4, Src, 0);
          CIOBuffer::Release((CIOBuffer *)Src);
          CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
          result = 0;
        }
      }
      else
      {
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 38;
      }
    }
    else
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 55;
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004139D0) --------------------------------------------------------
int __userpurge sub_4139D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  void *v5; // eax
  int v6; // eax
  int result; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int v9; // eax
  int v10; // [esp-4h] [ebp-2Ch]
  void *v12; // [esp+4h] [ebp-24h]
  char v13[4]; // [esp+8h] [ebp-20h] BYREF
  int v14; // [esp+Ch] [ebp-1Ch] BYREF
  char v15[4]; // [esp+10h] [ebp-18h] BYREF
  int v16; // [esp+14h] [ebp-14h]
  int v17; // [esp+18h] [ebp-10h] BYREF
  int v18; // [esp+1Ch] [ebp-Ch]
  int v19; // [esp+20h] [ebp-8h] BYREF
  void *Src; // [esp+24h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550(a1 + 95, &v19, (_DWORD *)(a5 + 444));
  v5 = sub_482CA0(a1 + 95, v15);
  if ( (unsigned __int8)unknown_libname_25(v5) )
  {
    v10 = *(_DWORD *)(a5 + 444);
    v6 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::Dissolution() member find error (gid:%d,pid:%d)", v6, v10);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 1;
  }
  else if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v19) + 4) + 24) == 1 )
  {
    if ( CCastle::IsAllCastleWarRelation(a2, a3, a4, (int)a1) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 107;
    }
    else
    {
      v18 = time(0) + 259200;
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 95),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v17);
      while ( 1 )
      {
        v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(a1 + 95, v13);
        if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v17,
                v8) )
          break;
        v16 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 32);
        if ( v16 )
        {
          sub_45DEA0(v16, a2, a3, a4, 0);
          sub_45DE00(v16, a2, a3, a4, 0);
          CPlayer::SetGID(v16, a2, a3, a4, 0);
          sub_45DF00(v16, a2, a3, a4, (char *)&::Src);
          sub_45DF40(v16, a2, a3, a4, 0);
          sub_45DF70(v16, a2, a3, a4, 0, (char *)&::Src);
          sub_45EEA0(v16, a2, a3, a4);
          sub_448C90(a2, a3, a4, v16, 76, "bb", 0, 43);
          v9 = unknown_libname_4(v16);
          Src = sub_445C90(a2, a3, a4, 76, "bdssbd", 9, v9, &::Src, &::Src, 0, 0);
          sub_415EB0(a2, a3, a4, v16, Src, 0);
          sub_401C50((volatile int *)v16, a2, a3, a4);
          *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 32) = 0;
          --a1[8];
        }
        v12 = *(void **)(sub_43E1A0(&v17) + 4);
        sub_401020(v12);
        sub_46FA50(&v17, &v14, 0);
      }
      sub_417620(a1 + 95);
      if ( (int)a1[8] > 0 )
        LOG_ERR("CGuild::Dissolution() plaer reference error (ref:%d)", a1[8]);
      a1[89] = GetTickCount() + 600000;
      CDBSocket::Write(a2, a3, a4, 47, "dd", *(_DWORD *)(a5 + 444), v18);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 44;
    }
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 22;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00413C70) --------------------------------------------------------
int __userpurge sub_413C70@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Str1, char *Source)
{
  int result; // eax
  void *v8; // eax
  int v9; // eax
  int v10; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int *v15; // [esp-10h] [ebp-34h]
  int *v16; // [esp-Ch] [ebp-30h]
  int v17; // [esp-8h] [ebp-2Ch]
  int v18; // [esp-4h] [ebp-28h]
  int v19; // [esp-4h] [ebp-28h]
  char v21[4]; // [esp+4h] [ebp-20h] BYREF
  int v22; // [esp+8h] [ebp-1Ch] BYREF
  char v23[4]; // [esp+Ch] [ebp-18h] BYREF
  char v24[4]; // [esp+10h] [ebp-14h] BYREF
  int v25; // [esp+14h] [ebp-10h]
  int v26; // [esp+18h] [ebp-Ch]
  int i; // [esp+1Ch] [ebp-8h] BYREF
  void *Src; // [esp+20h] [ebp-4h]

  if ( !IsValidName(Source) )
    return 45;
  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550((int *)(a1 + 380), &i, (_DWORD *)(a5 + 444));
  v8 = sub_482CA0((int *)(a1 + 380), v24);
  if ( (unsigned __int8)unknown_libname_25(v8) )
  {
    v18 = *(_DWORD *)(a5 + 444);
    v9 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::TitelChange() member find error (gid:%d,pid:%d)", v9, v18);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 1;
  }
  else
  {
    v10 = sub_43E1A0(&i);
    if ( CGuild::IsSkillAble((_DWORD *)a1, *(_DWORD *)(*(_DWORD *)(v10 + 4) + 24), 4) )
    {
      v26 = CGuild::GetTitle2Class((const char *)a1, Str1);
      if ( v26 )
      {
        CGuild::SetClassTitle((char *)a1, v26, Source);
        Src = sub_445C90(a2, a3, a4, 76, "bbbs", 0, 46, (unsigned __int8)v26, Source);
        CGuild::Broadcast(a1, a2, a3, a4, Src, 0);
        CIOBuffer::Release((CIOBuffer *)Src);
        for ( i = *(_DWORD *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                               (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
                               (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v23);
              ;
              sub_46FA50(&i, &v22, 0) )
        {
          v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v21);
          if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)&i,
                  v11) )
            break;
          v25 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&i) + 4) + 32);
          if ( v25 )
          {
            v12 = sub_43E1A0(&i);
            if ( *(_DWORD *)(*(_DWORD *)(v12 + 4) + 24) == v26 )
            {
              sub_45DF70(v25, a2, a3, a4, v26, Source);
              if ( (CGuild::GetGuildSkill(*(_DWORD *)(a1 + 72)) & 1) != 0 )
              {
                v19 = sub_45E000((int *)v25);
                v16 = sub_45DFB0((int *)v25);
                v15 = sub_45E050((int *)v25);
                v13 = unknown_libname_4(v25);
                Src = sub_445C90(a2, a3, a4, 76, "bdssbd", 9, v13, v15, v16, 1, v19);
                sub_415EB0(a2, a3, a4, v25, Src, 0);
              }
            }
          }
        }
        v17 = (unsigned __int8)v26;
        v14 = sub_45DE70(a5, a2, a3, a4);
        CDBSocket::Write(a2, a3, a4, 48, "dbs", v14, v17, Source);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 0;
      }
      else
      {
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 55;
      }
    }
    else
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 22;
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00413ED0) --------------------------------------------------------
int __userpurge sub_413ED0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source)
{
  void *v6; // eax
  int v7; // eax
  int result; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-4h] [ebp-14h]
  char v13[4]; // [esp+4h] [ebp-Ch] BYREF
  int v14; // [esp+8h] [ebp-8h] BYREF
  void *Src; // [esp+Ch] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550((int *)(a1 + 380), &v14, (_DWORD *)(a5 + 444));
  v6 = sub_482CA0((int *)(a1 + 380), v13);
  if ( (unsigned __int8)unknown_libname_25(v6) )
  {
    v11 = *(_DWORD *)(a5 + 444);
    v7 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::TitelChange() member find error (gid:%d,pid:%d)", v7, v11);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 1;
  }
  else
  {
    v9 = sub_43E1A0(&v14);
    if ( CGuild::IsSkillAble((_DWORD *)a1, *(_DWORD *)(*(_DWORD *)(v9 + 4) + 24), 2) )
    {
      if ( IsValidString(Source) )
      {
        strcpy((char *)(a1 + 174), Source);
        Src = sub_445C90(a2, a3, a4, 76, "bbs", 0, 5, a1 + 174);
        CGuild::Broadcast(a1, a2, a3, a4, Src, 0);
        CIOBuffer::Release((CIOBuffer *)Src);
        v10 = sub_45DE70(a5, a2, a3, a4);
        CDBSocket::Write(a2, a3, a4, 49, "ds", v10, a1 + 174);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 0;
      }
      else
      {
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 56;
      }
    }
    else
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 22;
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00414030) --------------------------------------------------------
void __userpurge sub_414030(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  sub_448C90(a2, a3, a4, a5, 76, "bbs", 0, 5, a1 + 174);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
}

//----- (00414080) --------------------------------------------------------
void __userpurge sub_414080(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<esi>, int a4, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  int v7; // eax
  char *v8; // eax
  unsigned __int8 v9; // al
  char v10; // [esp+7h] [ebp-1019h]
  char v12[4]; // [esp+Ch] [ebp-1014h] BYREF
  int v13; // [esp+10h] [ebp-1010h] BYREF
  int v14; // [esp+14h] [ebp-100Ch] BYREF
  char v15; // [esp+18h] [ebp-1008h] BYREF
  char v16[4092]; // [esp+19h] [ebp-1007h] BYREF
  __int16 v17; // [esp+1015h] [ebp-Bh]
  char v18; // [esp+1017h] [ebp-9h]
  uintptr_t StackCookie; // [esp+1018h] [ebp-8h] BYREF
  char *v20; // [esp+101Ch] [ebp-4h]

  v15 = 0;
  memset(v16, 0, sizeof(v16));
  v17 = 0;
  v18 = 0;
  v20 = &v15;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v14);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v12);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v14,
            v5) )
      break;
    v6 = sub_43E1A0(&v14);
    v20 = PutString(v20, *(const char **)(v6 + 4));
    v7 = sub_43E1A0(&v14);
    v20 = sub_417B60(v20, *(_BYTE *)(*(_DWORD *)(v7 + 4) + 24));
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v14) + 4) + 28) && *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v14) + 4) + 32) )
    {
      v10 = *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v14) + 4) + 32) + 60);
      v8 = sub_417B60(v20, v10);
    }
    else
    {
      v8 = sub_417B60(v20, 0);
    }
    v20 = v8;
    sub_46FA50(&v14, &v13, 0);
  }
  v9 = unknown_libname_24(a1 + 380, &v15);
  sub_448C90(
    a2,
    (DWORD)&StackCookie,
    a3,
    a4,
    76,
    "bdsssssssbm",
    6,
    a5,
    a1 + 44,
    a1 + 84,
    a1 + 99,
    a1 + 114,
    a1 + 129,
    a1 + 144,
    a1 + 159,
    v9);
  sub_448C90(
    a2,
    (DWORD)&StackCookie,
    a3,
    a4,
    76,
    "bbdddd",
    8,
    *(_DWORD *)(a1 + 72),
    *(_DWORD *)(a1 + 64),
    *(_DWORD *)(a1 + 68),
    *(_DWORD *)(a1 + 80),
    *(_DWORD *)(a1 + 76));
}
// 460A00: using guessed type int __thiscall unknown_libname_24(_DWORD, _DWORD);

//----- (004142B0) --------------------------------------------------------
int __userpurge sub_4142B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int result; // eax

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  if ( *(_DWORD *)(a5 + 444) == sub_45DE70(a5, a2, a3, a4) )
  {
    sub_448C90(a2, a3, a4, a5, 76, "bddddd", 7, a1[90], a1[91], a1[92], a1[93], a1[94]);
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 0;
  }
  else
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 22;
  }
  return result;
}

//----- (00414340) --------------------------------------------------------
int __userpurge sub_414340@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  sub_448C90(a2, a3, a4, a5, 76, "bbdddd", 8, a1[18], a1[16], a1[17], a1[20], a1[19]);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
  return 0;
}

//----- (004143A0) --------------------------------------------------------
int __userpurge sub_4143A0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10)
{
  int result; // eax

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  if ( *(_DWORD *)(a5 + 444) == sub_45DE70(a5, a2, a3, a4) )
  {
    a1[90] = a6;
    a1[91] = a7;
    a1[92] = a8;
    a1[93] = a9;
    a1[94] = a10;
    CDBSocket::Write(a2, a3, a4, 51, "dddddd", *(_DWORD *)(a5 + 444), a1[90], a1[91], a1[92], a1[93], a1[94]);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 47;
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 22;
  }
  return result;
}

//----- (00414480) --------------------------------------------------------
int __userpurge sub_414480@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  int v7; // eax
  int v9; // [esp+4h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  v9 = sub_45DE70(a5, a2, a3, a4);
  if ( *(_DWORD *)(a5 + 444) == v9 )
  {
    if ( *(int *)(a1 + 72) >= 2 )
    {
      if ( !(unsigned __int16)*(_DWORD *)(a1 + 76) )
      {
        v7 = unknown_libname_4(a5);
        CDBSocket::Write(a2, a3, a4, 68, "ddd", v7, v9, a6);
      }
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 0;
    }
    else
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 103;
    }
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 22;
  }
  return result;
}

//----- (00414530) --------------------------------------------------------
int __userpurge sub_414530@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  int v7; // eax
  int v9; // [esp+4h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  v9 = sub_45DE70(a5, a2, a3, a4);
  if ( *(_DWORD *)(a5 + 444) == v9 )
  {
    if ( *(int *)(a1 + 72) >= 2 )
    {
      v7 = unknown_libname_4(a5);
      CDBSocket::Write(a2, a3, a4, 69, "ddd", v7, v9, a6);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 0;
    }
    else
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 103;
    }
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 22;
  }
  return result;
}

//----- (004145C0) --------------------------------------------------------
int __userpurge sub_4145C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int v10; // [esp+0h] [ebp-20h]
  char v12[4]; // [esp+8h] [ebp-18h] BYREF
  int v13; // [esp+Ch] [ebp-14h] BYREF
  int *v14; // [esp+10h] [ebp-10h]
  int v15; // [esp+14h] [ebp-Ch]
  int v16; // [esp+18h] [ebp-8h] BYREF
  CIOObject *v17; // [esp+1Ch] [ebp-4h]

  if ( a6 )
  {
    CRWLock::WriteLock((CRWLock *)&unk_4B8440);
    *(_DWORD *)(a1 + 76) = a8;
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v16);
    while ( 1 )
    {
      v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v12);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v16,
              v8) )
        break;
      v15 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v16) + 4) + 32);
      if ( v15 )
      {
        sub_45DF40(v15, a2, a3, a4, a8);
        sub_448C90(a2, a3, a4, v15, 76, "bbd", 0, 48, a8);
      }
      sub_46FA50(&v16, &v13, 0);
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
  }
  v17 = sub_446740(a2, a3, a4, a5);
  if ( v17 )
  {
    if ( a6 )
    {
      CIOCriticalSection::Enter((CIOObject *)((char *)v17 + 932), a2, a3, a4);
      v14 = (int *)*((_DWORD *)v17 + 252);
      if ( v14 )
      {
        v10 = v14[13] <= 500000 ? v14[13] : 500000;
        if ( !(*(int (__thiscall **)(int *, CIOObject *, int, int))(*v14 + 120))(v14, v17, 31, -v10) )
          sub_4516D0((int)v17, a2, a3, a4, (int)v14);
      }
      CIOCriticalSection::Leave((CIOObject *)((char *)v17 + 932), a2, a3, a4);
    }
    else
    {
      sub_448C90(a2, a3, a4, (int)v17, 76, "bb", 0, 102);
    }
    CIOObject::Release(v17, a2, a3, a4, (volatile int *)v17 + 86);
  }
  return 0;
}

//----- (00414740) --------------------------------------------------------
int __userpurge sub_414740@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v7; // ecx
  int v8; // ecx
  int v9; // eax
  int v10; // eax
  int v11; // eax
  __int64 v12; // [esp-10h] [ebp-3Ch]
  __int64 v13; // [esp-10h] [ebp-3Ch]
  int v14; // [esp-8h] [ebp-34h]
  int v15; // [esp+0h] [ebp-2Ch]
  __int64 v16; // [esp+8h] [ebp-24h]
  int v18; // [esp+28h] [ebp-4h]

  if ( !*(_QWORD *)(a5 + 464) )
    return 51;
  if ( a6 == 10 )
  {
    if ( dword_4AD63C[2 * *(_DWORD *)(a5 + 60)] | dword_4AD638[2 * *(_DWORD *)(a5 + 60)] )
    {
      v7 = *(_DWORD *)(a5 + 60);
      LODWORD(v12) = dword_4AD638[2 * v7];
      HIDWORD(v12) = dword_4AD63C[2 * v7];
      if ( v12 / 10 >= *(_QWORD *)(a5 + 464) )
      {
        LODWORD(v16) = *(_DWORD *)(a5 + 464);
      }
      else
      {
        v8 = *(_DWORD *)(a5 + 60);
        HIDWORD(v13) = dword_4AD63C[2 * v8];
        LODWORD(v13) = dword_4AD638[2 * v8];
        v16 = v13 / 10;
      }
      v15 = v16;
    }
    else
    {
      v15 = 0;
    }
    v18 = v15;
  }
  else
  {
    v18 = *(_DWORD *)(a5 + 464);
  }
  if ( v18 <= 0 )
  {
    LOG_ERR(
      "CGuild::SetExpADD() exp cal error (exppercent:%d,nextlevelexp:%d,exp:%d)",
      a6,
      dword_4AD638[2 * *(_DWORD *)(a5 + 60)],
      dword_4AD63C[2 * *(_DWORD *)(a5 + 60)]);
    return 1;
  }
  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
  {
    if ( a1[17] >= 3 )
      goto LABEL_16;
    a1[17] += v18;
    if ( a1[17] > 3 )
    {
      v18 -= a1[17] - 3;
      a1[17] = 3;
    }
    v10 = CGuild::CalPenaltyTLevel(a1);
    sub_415920((int)a1, a2, a3, v10);
  }
  else
  {
    if ( a1[17] >= 16000000 )
    {
LABEL_16:
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 53;
    }
    a1[17] += v18;
    if ( a1[17] > 16000000 )
    {
      v18 -= a1[17] - 16000000;
      a1[17] = 16000000;
    }
    v9 = CGuild::CalPenaltyLevel(a1);
    sub_415920((int)a1, a2, a3, v9);
  }
  v14 = *(_DWORD *)(a5 + 444);
  v11 = sub_45DE70(a5, a2, a3, a4);
  CDBSocket::Write(a2, a3, a4, 50, "ddd", v11, v14, v18);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
  (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a5 + 88))(a5, 25, 0, v18, v18 >> 31);
  sub_448C90(a2, a3, a4, a5, 76, "bbd", 0, 52, v18);
  return 0;
}
// 4AD638: using guessed type int dword_4AD638[];

//----- (004149F0) --------------------------------------------------------
int __usercall CGuild::SetExp@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char *Str, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  _DWORD *v11; // eax
  int v12; // [esp-4h] [ebp-18h]
  int v13; // [esp+0h] [ebp-14h]
  char v14[4]; // [esp+4h] [ebp-10h] BYREF
  int v15; // [esp+8h] [ebp-Ch] BYREF
  int v16; // [esp+Ch] [ebp-8h]
  int v17; // [esp+10h] [ebp-4h] BYREF

  if ( a5 < 0 || a5 > 16000000 )
    return 0;
  if ( strlen(Str) > 0xE )
    return 0;
  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8428,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v17);
  while ( 1 )
  {
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8428, v14);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v17,
            v6) )
    {
      CDBSocket::Write(a1, a2, a3, 59, "sd", Str, a5);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      return 1;
    }
    v7 = sub_43E1A0(&v17);
    if ( !strcmp(Str, (const char *)(*(_DWORD *)(v7 + 4) + 44)) )
      break;
    sub_46FA50(&v17, &v15, 0);
  }
  v16 = a5 - *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 68);
  *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 68) = a5;
  if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
  {
    v9 = sub_43E1A0(&v17);
    v13 = CGuild::CalPenaltyTLevel(*(int **)(v9 + 4));
  }
  else
  {
    v8 = sub_43E1A0(&v17);
    v13 = CGuild::CalPenaltyLevel(*(int **)(v8 + 4));
  }
  v10 = sub_43E1A0(&v17);
  sub_415920(*(_DWORD *)(v10 + 4), a1, a2, v13);
  v12 = v16;
  v11 = (_DWORD *)sub_43E1A0(&v17);
  CDBSocket::Write(a1, a2, a3, 50, "ddd", *v11, 0, v12);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
  return 1;
}

//----- (00414B60) --------------------------------------------------------
int __userpurge sub_414B60@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  void *v6; // eax
  int v7; // eax
  int result; // eax
  int v9; // [esp-4h] [ebp-14h]
  char v11[4]; // [esp+4h] [ebp-Ch] BYREF
  int v12; // [esp+8h] [ebp-8h] BYREF
  void *Src; // [esp+Ch] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550((int *)(a1 + 380), &v12, (_DWORD *)(a5 + 444));
  v6 = sub_482CA0((int *)(a1 + 380), v11);
  if ( (unsigned __int8)unknown_libname_25(v6) )
  {
    v9 = *(_DWORD *)(a5 + 444);
    v7 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::SetConnectTell() member find error (gid:%d,pid:%d)", v7, v9);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 1;
  }
  else if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v12) + 4) + 28) == a6 )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 49;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v12) + 4) + 28) = a6;
    if ( a6 )
      Src = sub_445C90(a2, a3, a4, 76, "bbsb", 0, 2, a5 + 32, *(_DWORD *)(a5 + 60));
    else
      Src = sub_445C90(a2, a3, a4, 76, "bbs", 0, 3, a5 + 32);
    CGuild::Broadcast(a1, a2, a3, a4, Src, a5);
    CIOBuffer::Release((CIOBuffer *)Src);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 50;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00414CA0) --------------------------------------------------------
void __userpurge sub_414CA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, unsigned __int8 a6)
{
  CMemory **Src; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  Src = sub_445C90(a2, a3, a4, 76, "bbbs", 0, 54, a6, a5);
  CGuild::Broadcast(a1, a2, a3, a4, Src, 0);
  CIOBuffer::Release((CIOBuffer *)Src);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
}

//----- (00414D00) --------------------------------------------------------
int __thiscall CGuild::GetTitle2Class(const char *this, char *Str1)
{
  const char *v2; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax
  const char *v7; // eax
  const char *v8; // eax

  if ( !strcmp(Str1, "1") )
    return 1;
  v2 = GetStr(912);
  if ( !strcmp(Str1, v2) || !strcmp(Str1, this + 84) )
    return 1;
  if ( !strcmp(Str1, "2") )
    return 2;
  v4 = GetStr(913);
  if ( !strcmp(Str1, v4) || !strcmp(Str1, this + 99) )
    return 2;
  if ( !strcmp(Str1, "3") )
    return 3;
  v5 = GetStr(914);
  if ( !strcmp(Str1, v5) || !strcmp(Str1, this + 114) )
    return 3;
  if ( !strcmp(Str1, "4") )
    return 4;
  v6 = GetStr(915);
  if ( !strcmp(Str1, v6) || !strcmp(Str1, this + 129) )
    return 4;
  if ( !strcmp(Str1, "5") )
    return 5;
  v7 = GetStr(916);
  if ( !strcmp(Str1, v7) || !strcmp(Str1, this + 144) )
    return 5;
  if ( !strcmp(Str1, "6") )
    return 6;
  v8 = GetStr(917);
  if ( !strcmp(Str1, v8) || !strcmp(Str1, this + 159) )
    return 6;
  return 0;
}

//----- (00414F10) --------------------------------------------------------
char *__thiscall CGuild::GetClass2Title(char *this, int a2)
{
  char *result; // eax

  switch ( a2 )
  {
    case 1:
      result = this + 84;
      break;
    case 2:
      result = this + 99;
      break;
    case 3:
      result = this + 114;
      break;
    case 4:
      result = this + 129;
      break;
    case 5:
      result = this + 144;
      break;
    default:
      result = this + 159;
      break;
  }
  return result;
}

//----- (00414F90) --------------------------------------------------------
char *__thiscall CGuild::SetClassTitle(char *this, int a2, char *Source)
{
  char *result; // eax

  result = (char *)a2;
  switch ( a2 )
  {
    case 1:
      result = strcpy(this + 84, Source);
      break;
    case 2:
      result = strcpy(this + 99, Source);
      break;
    case 3:
      result = strcpy(this + 114, Source);
      break;
    case 4:
      result = strcpy(this + 129, Source);
      break;
    case 5:
      result = strcpy(this + 144, Source);
      break;
    case 6:
      result = strcpy(this + 159, Source);
      break;
    default:
      return result;
  }
  return result;
}

//----- (00415060) --------------------------------------------------------
BOOL __thiscall CGuild::IsMemberFull(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  BOOL result; // eax
  char v4[4]; // [esp+8h] [ebp-10h] BYREF
  int v5; // [esp+Ch] [ebp-Ch] BYREF
  int v6; // [esp+10h] [ebp-8h] BYREF
  int v7; // [esp+14h] [ebp-4h]

  v7 = 0;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 380), v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v6) + 4) + 24) != 6 )
      ++v7;
    sub_46FA50(&v6, &v5, 0);
  }
  switch ( *(_DWORD *)(this + 72) )
  {
    case 1:
      result = v7 >= 12;
      break;
    case 2:
      result = v7 >= 26;
      break;
    case 3:
      result = v7 >= 40;
      break;
    case 4:
      result = v7 >= 54;
      break;
    default:
      result = 1;
      break;
  }
  return result;
}

//----- (00415140) --------------------------------------------------------
int __thiscall CGuild::IsAppointmentFull(int this, int a2)
{
  int result; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  unsigned int v4; // eax
  unsigned int v5; // eax
  char v7[4]; // [esp+8h] [ebp-10h] BYREF
  int v8; // [esp+Ch] [ebp-Ch] BYREF
  int v9; // [esp+10h] [ebp-8h] BYREF
  unsigned int v10; // [esp+14h] [ebp-4h]

  if ( a2 == 5 || a2 == 6 )
    return 1;
  v10 = 0;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 380), v7);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v3) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v9) + 4) + 24) == a2 )
      ++v10;
    sub_46FA50(&v9, &v8, 0);
  }
  switch ( a2 )
  {
    case 2:
      return (int)v10 <= 0;
    case 3:
      v4 = unknown_libname_24(this + 380);
      result = v10 < v4 / 0x64;
      break;
    case 4:
      v5 = unknown_libname_24(this + 380);
      result = v10 < v5 / 0xA;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (00415240) --------------------------------------------------------
int __thiscall CGuild::GetAppointmentLimitTime(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int v6; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h]

  v8 = 0;
  if ( a2 != 2 )
    return v8;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 380), v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v7) + 4) + 24) == 2 )
      return *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v7) + 4) + 36);
    sub_46FA50(&v7, &v6, 0);
  }
  return v8;
}

//----- (004152D0) --------------------------------------------------------
int __userpurge CGuild::IsSameName@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char *Str1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  char v7[4]; // [esp+4h] [ebp-Ch] BYREF
  int v8; // [esp+8h] [ebp-8h] BYREF
  int v9; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8428,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8428, v7);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v4) )
      break;
    v5 = sub_43E1A0(&v9);
    if ( !strcmp(Str1, (const char *)(*(_DWORD *)(v5 + 4) + 44)) )
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      return 1;
    }
    sub_46FA50(&v9, &v8, 0);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
  return 0;
}

//----- (00415370) --------------------------------------------------------
CIOObject *__usercall sub_415370@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-Ch] BYREF
  int v7; // [esp+4h] [ebp-8h] BYREF
  CIOObject *v8; // [esp+8h] [ebp-4h]

  v8 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  sub_460550(dword_4B8428, &v7, &a4);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8428, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
         v4) )
  {
    v8 = *(CIOObject **)(sub_43E1A0(&v7) + 4);
    CIOObject::AddRef(v8, a1, a2, a3, (volatile int *)v8 + 10);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
  return v8;
}

//----- (004153F0) --------------------------------------------------------
int __cdecl CGuild::FindGuild(char *Str1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v4[4]; // [esp+0h] [ebp-Ch] BYREF
  int v5; // [esp+4h] [ebp-8h] BYREF
  int v6; // [esp+8h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8428,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8428, v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v6,
            v1) )
      break;
    v2 = sub_43E1A0(&v6);
    if ( !strcmp(Str1, (const char *)(*(_DWORD *)(v2 + 4) + 44)) )
      return *(_DWORD *)(sub_43E1A0(&v6) + 4);
    sub_46FA50(&v6, &v5, 0);
  }
  return 0;
}

//----- (00415470) --------------------------------------------------------
int __thiscall CGuild::FindLeaderPlayer(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h] BYREF
  int v6; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 380), v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v6) + 4) + 24) == 1 )
      return *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v6) + 4) + 32);
    sub_46FA50(&v6, &v5, 0);
  }
  return 0;
}

//----- (004154F0) --------------------------------------------------------
const char *__thiscall CGuild::GetLeaderName(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h] BYREF
  int v6; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 380), v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v6) + 4) + 24) == 1 )
      return *(const char **)(sub_43E1A0(&v6) + 4);
    sub_46FA50(&v6, &v5, 0);
  }
  return &Src;
}

//----- (00415570) --------------------------------------------------------
int __thiscall CGuild::FindMember(int this, int a2, char *Str1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v7[4]; // [esp+4h] [ebp-Ch] BYREF
  int v8; // [esp+8h] [ebp-8h] BYREF
  int v9; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 380), v7);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v3) )
      break;
    v4 = sub_43E1A0(&v9);
    if ( !strcmp(Str1, *(const char **)(v4 + 4)) )
      break;
    sub_46FA50(&v9, &v8, 0);
  }
  *(_DWORD *)a2 = v9;
  return a2;
}

//----- (004155F0) --------------------------------------------------------
char *__usercall sub_4155F0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  std::pair<char const * const,CItem *> *v4; // eax
  char *result; // eax
  char *v6; // [esp+4h] [ebp-2Ch]
  char v7[8]; // [esp+10h] [ebp-20h] BYREF
  char v8[8]; // [esp+18h] [ebp-18h] BYREF
  char *v9; // [esp+20h] [ebp-10h]
  char *v10; // [esp+24h] [ebp-Ch]
  char v11[8]; // [esp+28h] [ebp-8h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  v9 = (char *)sub_401000(0x190u);
  if ( v9 )
    v6 = sub_4105E0(v9);
  else
    v6 = 0;
  v10 = v6;
  v4 = sub_41BE80((std::pair<char const * const,CItem *> *)v7, a4, v6);
  unknown_libname_11(v4);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8434,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v11,
    (const std::pair<int const ,CSocket *> *)v8);
  if ( v11[4] )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    result = v10;
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    if ( v10 )
      (**(void (__thiscall ***)(char *, int))v10)(v10, 1);
    result = 0;
  }
  return result;
}
// 417B30: using guessed type _DWORD __stdcall unknown_libname_11(_DWORD);

//----- (004156B0) --------------------------------------------------------
int __userpurge sub_4156B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  std::pair<char const * const,CItem *> *v7; // eax
  int result; // eax
  char *v9; // eax
  char v11[8]; // [esp+8h] [ebp-20h] BYREF
  char v12[8]; // [esp+10h] [ebp-18h] BYREF
  char *v13; // [esp+18h] [ebp-10h]
  char *Destination; // [esp+1Ch] [ebp-Ch]
  char v15[8]; // [esp+20h] [ebp-8h] BYREF

  v13 = (char *)sub_401000(0x28u);
  Destination = v13;
  v7 = sub_41BE80((std::pair<char const * const,CItem *> *)v11, *(_DWORD *)(a6 + 444), v13);
  unknown_libname_11(v7);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 380),
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v15,
    (const std::pair<int const ,CSocket *> *)v12);
  if ( v15[4] )
  {
    sub_45DEA0(a6, a2, a3, a4, a5);
    sub_45DE00(a6, a2, a3, a4, (volatile int *)a1);
    CPlayer::SetGID(a6, a2, a3, a4, *(_DWORD *)(a1 + 72));
    sub_45DF00(a6, a2, a3, a4, (char *)(a1 + 44));
    sub_45DF40(a6, a2, a3, a4, *(_DWORD *)(a1 + 76));
    v9 = CGuild::GetClass2Title((char *)a1, a7);
    sub_45DF70(a6, a2, a3, a4, a7, v9);
    strcpy(Destination, (const char *)(a6 + 32));
    *((_DWORD *)Destination + 6) = a7;
    *((_DWORD *)Destination + 7) = 1;
    *((_DWORD *)Destination + 9) = 0;
    *((_DWORD *)Destination + 8) = a6;
    sub_4010D0((volatile int *)a6, a2, a3, a4);
    ++*(_DWORD *)(a1 + 32);
    *(_DWORD *)(a1 + 356) = 0;
    *((_DWORD *)Destination + 5) = *(_DWORD *)(a6 + 460);
    result = 1;
  }
  else
  {
    sub_401020(Destination);
    result = 0;
  }
  return result;
}
// 417B30: using guessed type _DWORD __stdcall unknown_libname_11(_DWORD);

//----- (00415800) --------------------------------------------------------
_DWORD *__userpurge CGuild::MemberDEL@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4)
{
  int v5; // [esp+0h] [ebp-1Ch]
  int v6; // [esp+4h] [ebp-18h]
  int v7; // [esp+8h] [ebp-14h]
  int v8; // [esp+Ch] [ebp-10h]
  int v10; // [esp+14h] [ebp-8h] BYREF
  void *v11; // [esp+18h] [ebp-4h]

  if ( *(int *)(*(_DWORD *)(sub_43E1A0(&a4) + 4) + 24) < 6 )
  {
    if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&a4) + 4) + 20) >= 0 )
      v8 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&a4) + 4) + 20);
    else
      v8 = 0;
    if ( a1[16] - v8 >= 0 )
    {
      if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&a4) + 4) + 20) >= 0 )
        v6 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&a4) + 4) + 20);
      else
        v6 = 0;
      v7 = a1[16] - v6;
    }
    else
    {
      v7 = 0;
    }
    a1[16] = v7;
    if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
      v5 = CGuild::CalPenaltyTLevel(a1);
    else
      v5 = CGuild::CalPenaltyLevel(a1);
    sub_415920((int)a1, a2, a3, v5);
  }
  v11 = *(void **)(sub_43E1A0(&a4) + 4);
  sub_401020(v11);
  return sub_4653E0(a1 + 95, &v10, a4);
}

//----- (00415920) --------------------------------------------------------
BOOL __userpurge sub_415920@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4)
{
  BOOL result; // eax
  int v5; // esi
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int *v9; // [esp-10h] [ebp-3Ch]
  int *v10; // [esp-Ch] [ebp-38h]
  int v11; // [esp-4h] [ebp-30h]
  char v13[4]; // [esp+8h] [ebp-24h] BYREF
  int v14; // [esp+Ch] [ebp-20h] BYREF
  char v15[4]; // [esp+10h] [ebp-1Ch] BYREF
  int v16; // [esp+14h] [ebp-18h] BYREF
  int v17; // [esp+18h] [ebp-14h]
  int v18; // [esp+1Ch] [ebp-10h] BYREF
  void *Src; // [esp+20h] [ebp-Ch]
  int v20; // [esp+24h] [ebp-8h]
  int v21; // [esp+28h] [ebp-4h] BYREF

  result = a1;
  if ( *(_DWORD *)(a1 + 72) != a4 )
  {
    v5 = CGuild::GetGuildSkill(*(_DWORD *)(a1 + 72)) & 3;
    if ( v5 == (CGuild::GetGuildSkill(a4) & 3) )
    {
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v18);
      while ( 1 )
      {
        v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v13);
        result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                   (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v18,
                   v8);
        if ( !result )
          break;
        v17 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v18) + 4) + 32);
        if ( v17 )
          CPlayer::SetGID(v17, a2, a3, v5, a4);
        sub_46FA50(&v18, &v14, 0);
      }
    }
    else
    {
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v21);
      while ( 1 )
      {
        v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v15);
        result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                   (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v21,
                   v6);
        if ( !result )
          break;
        v20 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v21) + 4) + 32);
        if ( v20 )
        {
          CPlayer::SetGID(v20, a2, a3, v5, a4);
          if ( *(int *)(*(_DWORD *)(sub_43E1A0(&v21) + 4) + 24) < 6 )
          {
            v11 = sub_45E000((int *)v20);
            v10 = sub_45DFB0((int *)v20);
            v9 = sub_45E050((int *)v20);
            v7 = unknown_libname_4(v20);
            Src = sub_445C90(a2, a3, v5, 76, "bdssbd", 9, v7, v9, v10, 1, v11);
            sub_415EB0(a2, a3, v5, v20, Src, 0);
          }
        }
        sub_46FA50(&v21, &v16, 0);
      }
    }
    *(_DWORD *)(a1 + 72) = a4;
  }
  return result;
}

//----- (00415AB0) --------------------------------------------------------
int __cdecl CGuild::GetGuildSkill(int a1)
{
  int result; // eax

  switch ( a1 )
  {
    case 1:
      result = 0;
      break;
    case 2:
      result = 1;
      break;
    case 3:
      result = 3;
      break;
    case 4:
      result = 15;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (00415B10) --------------------------------------------------------
void __userpurge sub_415B10(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  void *v7; // eax
  int v8; // eax
  int v9; // [esp-4h] [ebp-1Ch]
  int v10; // [esp+0h] [ebp-18h]
  int v11; // [esp+4h] [ebp-14h]
  int v12; // [esp+8h] [ebp-10h]
  char v14[4]; // [esp+10h] [ebp-8h] BYREF
  int v15; // [esp+14h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  sub_460550(a1 + 95, &v15, (_DWORD *)(a5 + 444));
  v7 = sub_482CA0(a1 + 95, v14);
  if ( (unsigned __int8)unknown_libname_25(v7) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    v9 = *(_DWORD *)(a5 + 444);
    v8 = sub_45DE70(a5, a2, a3, a4);
    LOG_ERR("CGuild::SetPointADD() member find error (gid:%d,pid:%d)", v8, v9);
  }
  else
  {
    if ( a6 + *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v15) + 4) + 20) >= 0 )
      v12 = a6 + *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v15) + 4) + 20);
    else
      v12 = 0;
    *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v15) + 4) + 20) = v12;
    if ( *(int *)(*(_DWORD *)(sub_43E1A0(&v15) + 4) + 24) < 6 )
    {
      if ( a1[16] + 10000 * a6 >= 0 )
        v11 = a1[16] + 10000 * a6;
      else
        v11 = 0;
      a1[16] = v11;
      if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
        v10 = CGuild::CalPenaltyTLevel(a1);
      else
        v10 = CGuild::CalPenaltyLevel(a1);
      sub_415920((int)a1, a2, a3, v10);
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00415C60) --------------------------------------------------------
int __thiscall CGuild::CalPenaltyLevel(int *this)
{
  int result; // eax
  int v2; // [esp+0h] [ebp-14h]
  int v3; // [esp+Ch] [ebp-8h]
  int v4; // [esp+10h] [ebp-4h]

  if ( this[17] < 16000000 )
  {
    if ( this[17] < 7800000 )
    {
      if ( this[17] < 2400000 )
        v4 = 1;
      else
        v4 = 2;
    }
    else
    {
      v4 = 3;
    }
  }
  else
  {
    v4 = 4;
  }
  if ( this[16] < 4000000 )
  {
    if ( this[16] < 2600000 )
    {
      if ( this[16] < 1200000 )
        v3 = 1;
      else
        v3 = 2;
    }
    else
    {
      v3 = 3;
    }
  }
  else
  {
    v3 = 4;
  }
  if ( v4 >= v3 )
    v2 = v3;
  else
    v2 = v4;
  if ( this[18] > v2 )
    result = v3;
  else
    result = v2;
  return result;
}

//----- (00415D30) --------------------------------------------------------
int __thiscall CGuild::CalPenaltyTLevel(int *this)
{
  int result; // eax
  int v2; // [esp+0h] [ebp-14h]
  int v3; // [esp+Ch] [ebp-8h]
  int v4; // [esp+10h] [ebp-4h]

  if ( this[17] < 3 )
  {
    if ( this[17] < 2 )
    {
      if ( this[17] < 1 )
        v4 = 1;
      else
        v4 = 2;
    }
    else
    {
      v4 = 3;
    }
  }
  else
  {
    v4 = 4;
  }
  if ( this[16] < 30000 )
  {
    if ( this[16] < 20000 )
    {
      if ( this[16] < 10000 )
        v3 = 1;
      else
        v3 = 2;
    }
    else
    {
      v3 = 3;
    }
  }
  else
  {
    v3 = 4;
  }
  if ( v4 >= v3 )
    v2 = v3;
  else
    v2 = v4;
  if ( this[18] > v2 )
    result = v3;
  else
    result = v2;
  return result;
}

//----- (00415DF0) --------------------------------------------------------
void __userpurge CGuild::BroadcastLock(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src, int a6)
{
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  CGuild::Broadcast(a1, a2, a3, a4, Src, a6);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
}

//----- (00415E30) --------------------------------------------------------
BOOL __userpurge CGuild::Broadcast@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  BOOL result; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  int v11; // [esp+Ch] [ebp-8h]
  int v12; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v12);
  while ( 1 )
  {
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v9);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
               v6);
    if ( !result )
      break;
    v11 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v12) + 4) + 32);
    if ( v11 )
    {
      if ( v11 != a6 )
        sub_448C30(v11, a2, a3, a4, Src);
    }
    sub_46FA50(&v12, &v10, 0);
  }
  return result;
}

//----- (00415EB0) --------------------------------------------------------
void __usercall sub_415EB0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, void *Src, int a6)
{
  int v6; // eax
  CMemory *i; // [esp+0h] [ebp-4h]

  for ( i = sub_4822A0(*(char **)(a4 + 312), a1, a2, a3, (_DWORD *)(a4 + 316), 25);
        i;
        i = (CMemory *)CBaseList::Pop((int)i, a1, a2, a3) )
  {
    if ( !a6 || a4 != unknown_libname_10(i) )
    {
      v6 = unknown_libname_10(i);
      sub_448C30(v6, a1, a2, a3, Src);
    }
  }
  CIOBuffer::Release((CIOBuffer *)Src);
}

//----- (00415F20) --------------------------------------------------------
int __userpurge sub_415F20@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Str1, int a7)
{
  int result; // eax
  int v9; // [esp+4h] [ebp-8h]
  int v10; // [esp+8h] [ebp-4h]
  int v11; // [esp+1Ch] [ebp+10h]

  if ( sub_45DE70(a5, a2, a3, a4) != *(_DWORD *)(a5 + 444) )
    return 22;
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  if ( (CGuild::GetGuildSkill(a1[18]) & 8) == 0 )
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 57;
  }
  if ( a1[99] && a1[98] == sub_45DE70(a5, a2, a3, a4) )
  {
    if ( CAlliance::GetSize(a1[99], a2, a3, a4) >= 8 )
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 64;
    }
    v11 = *(_DWORD *)(a1[99] + 76);
  }
  else
  {
    if ( a1[98] )
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 58;
    }
    if ( a7 <= 0 || a7 > 15 )
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 59;
    }
    v11 = a7 * ((*(_WORD *)dword_4B8C30 & 0x100) != 0 ? 3600 : 86400) + time(0);
  }
  if ( !sub_416530() )
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 68;
  }
  v10 = CGuild::FindGuild(Str1);
  if ( !v10 )
    goto LABEL_19;
  if ( *(_DWORD *)(v10 + 392) )
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 61;
  }
  else
  {
    v9 = CGuild::FindLeaderPlayer(v10);
    if ( !v9 )
    {
LABEL_19:
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 60;
    }
    sub_448C90(a2, a3, a4, v9, 76, "bbdsd", 0, 62, *(_DWORD *)(a5 + 444), a1 + 11, v11);
    sub_448C90(a2, a3, a4, a5, 76, "bbs", 0, 63, v10 + 44);
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 0;
  }
  return result;
}

//----- (00416120) --------------------------------------------------------
int __userpurge sub_416120@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8)
{
  int result; // eax
  void *v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v15; // eax
  int v16; // eax
  int v17; // [esp-10h] [ebp-34h]
  int v18; // [esp-10h] [ebp-34h]
  int v19; // [esp-4h] [ebp-28h]
  int v20; // [esp-4h] [ebp-28h]
  char v22[4]; // [esp+4h] [ebp-20h] BYREF
  int v23; // [esp+8h] [ebp-1Ch] BYREF
  char v24[4]; // [esp+Ch] [ebp-18h] BYREF
  int v25; // [esp+10h] [ebp-14h]
  int v26; // [esp+14h] [ebp-10h] BYREF
  void *Src; // [esp+18h] [ebp-Ch]
  int v28; // [esp+1Ch] [ebp-8h] BYREF
  int v29; // [esp+20h] [ebp-4h]

  if ( sub_45DE70(a5, a2, a3, a4) != *(_DWORD *)(a5 + 444) )
    return 22;
  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  if ( *(_DWORD *)(a1 + 392) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 61;
  }
  sub_460550(dword_4B8428, &v28, &a6);
  v9 = sub_482CA0(dword_4B8428, v24);
  if ( (unsigned __int8)unknown_libname_25(v9)
    || (v10 = sub_43E1A0(&v28), (v29 = CGuild::FindLeaderPlayer(*(_DWORD *)(v10 + 4))) == 0) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 60;
  }
  v11 = sub_43E1A0(&v28);
  if ( (CGuild::GetGuildSkill(*(_DWORD *)(*(_DWORD *)(v11 + 4) + 72)) & 8) == 0 )
    goto LABEL_9;
  if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v28) + 4) + 396)
    && (v12 = sub_43E1A0(&v28), *(_DWORD *)(*(_DWORD *)(v12 + 4) + 392) == a6) )
  {
    v13 = sub_43E1A0(&v28);
    if ( CAlliance::GetSize(*(_DWORD *)(*(_DWORD *)(v13 + 4) + 396), a2, a3, a4) >= 8 )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 64;
    }
    a7 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v28) + 4) + 396) + 76);
  }
  else
  {
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v28) + 4) + 392) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 58;
    }
    if ( a7 <= time(0) || a7 > ((*(_WORD *)dword_4B8C30 & 0x100) != 0 ? 54060 : 1296060) + time(0) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 59;
    }
  }
  if ( sub_416530() )
  {
    if ( a8 )
    {
      v19 = a7;
      v17 = *(_DWORD *)(a5 + 444);
      v14 = sub_43E1A0(&v28);
      if ( !sub_4182A0(a2, a3, a4, a6, (char *)(v29 + 32), *(_DWORD *)(v14 + 4), v17, (char *)(a5 + 32), a1, v19) )
      {
LABEL_9:
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        return 1;
      }
      if ( *(_DWORD *)(a1 + 396) )
      {
        std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 380),
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v26);
        while ( 1 )
        {
          v15 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 380), v22);
          if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v26,
                  v15) )
            break;
          v25 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v26) + 4) + 32);
          if ( v25 )
            sub_418700(*(_DWORD *)(a1 + 396), a2, a4, v25);
          sub_46FA50(&v26, &v23, 0);
        }
        v20 = a7;
        v18 = *(_DWORD *)(a5 + 444);
        v16 = sub_43E1A0(&v28);
        Src = sub_445C90(a2, a3, a4, 76, "bbsdssd", 0, 65, *(_DWORD *)(v16 + 4) + 44, v18, a1 + 44, a5 + 32, v20);
        CAlliance::BroadcastLock(*(_DWORD *)(a1 + 396), a2, a3, a4, Src);
        CIOBuffer::Release((CIOBuffer *)Src);
      }
    }
    else
    {
      sub_448C90(a2, a3, a4, v29, 76, "bbs", 0, 66, a1 + 44);
      sub_448C90(a2, a3, a4, a5, 76, "bbs", 0, 66, a1 + 44);
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 0;
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 68;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004164A0) --------------------------------------------------------
volatile int *__userpurge CGuild::SetAlliance@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, volatile int *a6)
{
  volatile int *result; // eax

  if ( *(_DWORD *)(a1 + 396) )
    sub_401C50(*(volatile int **)(a1 + 396), a2, a3, a4);
  if ( a6 )
    sub_4010D0(a6, a2, a3, a4);
  result = a6;
  *(_DWORD *)(a1 + 396) = a6;
  *(_DWORD *)(a1 + 392) = a5;
  return result;
}

//----- (004164F0) --------------------------------------------------------
void __userpurge CGuild::AllianceBroadcast(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src)
{
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  if ( *(_DWORD *)(a1 + 396) )
    CAlliance::BroadcastLock(*(_DWORD *)(a1 + 396), a2, a3, a4, Src);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
}

//----- (00416530) --------------------------------------------------------
BOOL sub_416530()
{
  return dword_4B8424 == 0;
}
// 4B8424: using guessed type int dword_4B8424;

//----- (00416550) --------------------------------------------------------
BOOL sub_416550()
{
  return dword_4B8424 == 1;
}
// 4B8424: using guessed type int dword_4B8424;

//----- (00416570) --------------------------------------------------------
BOOL sub_416570()
{
  return dword_4B8424 == 2;
}
// 4B8424: using guessed type int dword_4B8424;

//----- (00416590) --------------------------------------------------------
BOOL sub_416590()
{
  return dword_4B8424 == 4;
}
// 4B8424: using guessed type int dword_4B8424;

//----- (004165B0) --------------------------------------------------------
__time32_t CGuild::GetWarEndTime()
{
  __time32_t Time; // [esp+0h] [ebp-8h] BYREF
  struct tm *Tm; // [esp+4h] [ebp-4h]

  Time = time(0);
  Tm = localtime(&Time);
  if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
  {
    Tm->tm_hour = 22;
  }
  else
  {
    Time += 86400 * (7 - Tm->tm_wday);
    Tm = localtime(&Time);
    Tm->tm_hour = 7;
  }
  Tm->tm_sec = 0;
  Tm->tm_min = 0;
  return mktime(Tm);
}

//----- (00416640) --------------------------------------------------------
int __userpurge sub_416640@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  int v8; // [esp+4h] [ebp-10h]
  int v9; // [esp+8h] [ebp-Ch]
  int *v10; // [esp+Ch] [ebp-8h]
  int v11; // [esp+10h] [ebp-4h]

  if ( *(_DWORD *)(a5 + 444) != sub_45DE70(a5, a2, a3, a4) )
    return 22;
  CRWLock::WriteLock((CRWLock *)&unk_4B8440);
  if ( (*(_WORD *)dword_4B8C30 & 0x100) == 0 && (CGuild::GetGuildSkill(a1[18]) & 4) == 0 )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 57;
  }
  if ( !sub_416550() )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 70;
  }
  if ( a1[98] && a1[98] != *(_DWORD *)(a5 + 444) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 71;
  }
  v10 = (int *)CCastle::GetCastle(a6);
  if ( !v10 )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 1;
  }
  if ( CCastle::IsLord((int)v10, a2, a3, a4, *(_DWORD *)(a5 + 444)) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 72;
  }
  if ( CCastle::IsAlreadyDeclare((int)v10, a2, a3, a4, *(_DWORD *)(a5 + 444)) )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 75;
  }
  if ( CCastle::GetWarSize((int)v10, a2, a3, a4) >= 100 )
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    return 77;
  }
  v9 = 1;
  if ( a1[98] )
  {
    if ( CCastle::IsAlliance((int)v10, a2, a3, a4, a1[98]) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      return 73;
    }
    v9 = CAlliance::GetSize(a1[99], a2, a3, a4);
  }
  CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
  if ( *(_DWORD *)(a5 + 1008)
    && v9 * ((*(_WORD *)dword_4B8C30 & 0x100) != 0 ? 100 : 100000) <= *(_DWORD *)(*(_DWORD *)(a5 + 1008) + 52) )
  {
    v11 = *(_DWORD *)(a5 + 1008);
    if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v11 + 120))(
            v11,
            a5,
            31,
            -(v9 * ((*(_WORD *)dword_4B8C30 & 0x100) != 0 ? 100 : 100000))) )
      sub_4516D0(a5, a2, a3, a4, v11);
    CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
    if ( v10[13] == -4 )
    {
      v8 = v10[12];
      if ( *(_DWORD *)(v8 + 392) )
        sub_419C90((int)v10, a2, a3, a4, a6, *(_DWORD *)(v8 + 392), v8 + 44, *(_DWORD *)(v8 + 396));
      else
        sub_419E00((int)v10, a2, a3, a4, a6, v10[8], (char *)(v8 + 44), v8);
    }
    if ( a1[98] )
      sub_419C90((int)v10, a2, a3, a4, a6, a1[98], (int)(a1 + 11), a1[99]);
    else
      sub_419E00((int)v10, a2, a3, a4, a6, *(_DWORD *)(a5 + 444), (char *)(a5 + 32), (int)a1);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 0;
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 74;
  }
  return result;
}

//----- (00416980) --------------------------------------------------------
void __usercall CGuild::WarDelcareList(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  _DWORD *v5; // [esp+0h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  v5 = (_DWORD *)CCastle::GetCastle(a5);
  if ( v5 )
    sub_419F60(v5, a1, a3, a4);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
}

//----- (004169C0) --------------------------------------------------------
int __userpurge sub_4169C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  int result; // eax
  int v8; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  if ( sub_416590() )
  {
    v8 = CCastle::GetCastle(a6);
    if ( v8 )
    {
      if ( CCastle::IsStandardAlive(v8, a2, a3, a4) )
      {
        if ( CCastle::GetStandardUnfurl(v8, a2, a3, a4) )
        {
          CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
          result = 95;
        }
        else if ( a5[111] == sub_45DE70((int)a5, a2, a3, a4) )
        {
          if ( !*(_DWORD *)(a1 + 392) || *(_DWORD *)(a1 + 392) == a5[111] )
          {
            if ( CCastle::IsLord(v8, a2, a3, a4, a5[111]) || CCastle::IsAlreadyDeclare(v8, a2, a3, a4, a5[111]) )
            {
              sub_411FF0((int)a5, a2, a3, a4);
              if ( sub_40A660(a5, 1024) )
              {
                sub_412010((int)a5, a2, a3, a4);
                CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
                result = 82;
              }
              else
              {
                CCastle::SetStandardUnfurl(v8, a2, a3, a4, 1);
                (*(void (__thiscall **)(_DWORD *, int))(*a5 + 100))(a5, 1024);
                a5[337] = GetTickCount() + 60000;
                a5[295] = a6;
                sub_412010((int)a5, a2, a3, a4);
                CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
                result = 84;
              }
            }
            else
            {
              CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
              result = 93;
            }
          }
          else
          {
            CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
            result = 92;
          }
        }
        else
        {
          CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
          result = 22;
        }
      }
      else
      {
        CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
        result = 83;
      }
    }
    else
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
      result = 1;
    }
  }
  else
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
    result = 91;
  }
  return result;
}

//----- (00416B80) --------------------------------------------------------
void __userpurge sub_416B80(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  CMemory **Src; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  if ( sub_416590() )
  {
    v8 = CCastle::GetCastle(a6);
    if ( v8 )
    {
      if ( CCastle::IsStandardAlive(v8, a2, a3, a4)
        && CCastle::CreateStandard(a2, a3, a4, a6, *(_DWORD *)(a5 + 444), (char *)(a1 + 44), 1) )
      {
        CCastle::SetCurStandardGuild(v8, a2, a3, a4, *(_DWORD *)(a5 + 444), (volatile int *)a1);
        CCastle::SetStandardUnfurl(v8, a2, a3, a4, 0);
        CCastle::SetLordDeclare(v8, a2, a3, a4, 1);
        ++*(_DWORD *)(a1 + 32);
        Src = sub_445C90(a2, a3, a4, 76, "bbds", 0, 85, a6, a1 + 44);
        CCastle::WarMsg(v8, a2, a3, a4, Src);
        CIOBuffer::Release((CIOBuffer *)Src);
      }
    }
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
}

//----- (00416C90) --------------------------------------------------------
void __usercall CGuild::BrokenStandard(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  int v4; // [esp+0h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  v4 = CCastle::GetCastle(a4);
  if ( v4 )
    sub_41A3F0(v4, a1, a2, a3, a4);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
}

//----- (00416CD0) --------------------------------------------------------
void __usercall sub_416CD0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  CMemory **Src; // [esp+0h] [ebp-Ch]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  v7 = CCastle::GetCastle(a4);
  if ( v7 )
  {
    v6 = CCastle::SubGateState(v7, a1, a2, a3, a4, a5);
    if ( v6 >= 0 )
    {
      Src = sub_445C90(a1, a2, a3, 76, "bbdb", 0, 99, a4, (unsigned __int8)v6);
      CCastle::WarMsg(v7, a1, a2, a3, Src);
      CIOBuffer::Release((CIOBuffer *)Src);
    }
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
}

//----- (00416D50) --------------------------------------------------------
int __usercall CGuild::CanAttack@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  int result; // eax

  if ( a4 && CCastle::IsAllCastleWarRelation(a1, a2, a3, a4) )
  {
    if ( a5 )
    {
      if ( a4 == a5 )
      {
        CIOObject::Release((CIOObject *)a4, a1, a2, a3, (volatile int *)(a4 + 40));
        CIOObject::Release((CIOObject *)a5, a1, a2, a3, (volatile int *)(a5 + 40));
        result = 0;
      }
      else
      {
        CRWLock::ReadLock((CRWLock *)&unk_4B8440);
        if ( *(_DWORD *)(a4 + 392) && *(_DWORD *)(a4 + 392) == *(_DWORD *)(a5 + 392) )
        {
          CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
          CIOObject::Release((CIOObject *)a4, a1, a2, a3, (volatile int *)(a4 + 40));
          CIOObject::Release((CIOObject *)a5, a1, a2, a3, (volatile int *)(a5 + 40));
          result = 0;
        }
        else
        {
          CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
          CIOObject::Release((CIOObject *)a4, a1, a2, a3, (volatile int *)(a4 + 40));
          CIOObject::Release((CIOObject *)a5, a1, a2, a3, (volatile int *)(a5 + 40));
          result = 1;
        }
      }
    }
    else
    {
      CIOObject::Release((CIOObject *)a4, a1, a2, a3, (volatile int *)(a4 + 40));
      result = 1;
    }
  }
  else
  {
    if ( a5 )
      CIOObject::Release((CIOObject *)a5, a1, a2, a3, (volatile int *)(a5 + 40));
    result = 0;
  }
  return result;
}
// 416D8F: conditional instruction was optimized away because of '%arg_0.4!=0'

//----- (00416E60) --------------------------------------------------------
int __userpurge sub_416E60@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  int result; // eax
  unsigned __int8 v6; // al
  int v7; // [esp-4h] [ebp-Ch]
  int v8; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(a4 + 444) != sub_45DE70(a4, a1, a2, a3) )
    return 22;
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  v8 = CCastle::GetCastle(a5);
  if ( v8 )
  {
    if ( CCastle::IsLord(v8, a1, a2, a3, *(_DWORD *)(a4 + 444)) )
    {
      v7 = CCastle::GetTax(v8, a1, a2, a3);
      v6 = CCastle::GetTaxRate(v8, a1, a2, a3);
      sub_448C90(a1, a2, a3, a4, 76, "bbd", 23, v6, v7);
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      result = 0;
    }
    else
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      result = 86;
    }
  }
  else
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    result = 1;
  }
  return result;
}

//----- (00416F20) --------------------------------------------------------
int __userpurge sub_416F20@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6)
{
  int result; // eax
  int v7; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(a4 + 444) != sub_45DE70(a4, a1, a2, a3) )
    return 1;
  if ( a6 > 115 || a6 < 85 )
    return 87;
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  v7 = CCastle::GetCastle(a5);
  if ( v7 && CCastle::IsLord(v7, a1, a2, a3, *(_DWORD *)(a4 + 444)) )
  {
    CCastle::SetTaxRate(v7, a1, a2, a3, a5, a6);
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    sub_448C90(a1, a2, a3, a4, 76, "bbb", 0, 88, (unsigned __int8)a6);
    result = 0;
  }
  else
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    result = 1;
  }
  return result;
}

//----- (00417000) --------------------------------------------------------
int __userpurge sub_417000@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v8; // [esp+4h] [ebp-Ch]
  int v9; // [esp+8h] [ebp-8h]
  volatile signed __int32 *v10; // [esp+Ch] [ebp-4h]

  if ( *(_DWORD *)(a5 + 444) != sub_45DE70(a5, a2, a3, a4) )
    return 1;
  v9 = CCastle::GetCastle(a6);
  if ( !v9 )
    return 1;
  if ( !CCastle::IsLord(v9, a2, a3, a4, *(_DWORD *)(a5 + 444)) )
    return 1;
  v8 = CCastle::ResetTax(v9, a2, a3, a4, a6);
  *(_DWORD *)(a1 + 80) += v8;
  v10 = CItem::CreateItem(31, 0, v8, -1);
  if ( v10 )
  {
    if ( !sub_4522B0(a5, a2, a3, a4, 31, v10) )
    {
      LOG_ERR("CGuild::TaxLevy() Fail to insert money(%d).", v8);
      CBase::Delete(v10);
    }
  }
  sub_448C90(a2, a3, a4, a5, 76, "bbd", 0, 101, v8);
  return 0;
}

//----- (004170F0) --------------------------------------------------------
int __usercall CGuild::CastleGateNPC@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6)
{
  int result; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp+0h] [ebp-Ch]
  _DWORD *v10; // [esp+4h] [ebp-8h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  v10 = (_DWORD *)CCastle::GetCastle(a5);
  if ( v10 )
  {
    if ( sub_416590() )
    {
      v7 = sub_45DE70((int)a4, a1, a2, a3);
      v9 = CCastle::IsGateUseWarring((int)v10, a1, a2, a3, v7);
    }
    else
    {
      v8 = sub_45DE70((int)a4, a1, a2, a3);
      v9 = CCastle::IsGateUse(v10, a1, a2, a3, v8);
    }
    if ( v9 )
    {
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      result = v9;
    }
    else
    {
      CCastle::GateGoto(a1, a2, a3, a4, a6);
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      result = 0;
    }
  }
  else
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    result = 1;
  }
  return result;
}

//----- (004171A0) --------------------------------------------------------
int __userpurge sub_4171A0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6)
{
  int result; // eax
  int v7; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(a4 + 444) != sub_45DE70(a4, a1, a2, a3) )
    return 22;
  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  v7 = CCastle::GetCastle(a5);
  if ( !v7 )
    goto LABEL_4;
  if ( CCastle::IsLord(v7, a1, a2, a3, *(_DWORD *)(a4 + 444)) )
  {
    if ( !CCastle::SetGateLimit(v7, a1, a2, a3, a6, a5) )
    {
LABEL_4:
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
      return 1;
    }
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    result = 90;
  }
  else
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    result = 22;
  }
  return result;
}

//----- (00417260) --------------------------------------------------------
BOOL __userpurge CGuild::IsAlliancePeriod@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  BOOL v6; // [esp+0h] [ebp-Ch]

  CRWLock::ReadLock((CRWLock *)&unk_4B8440);
  if ( *(_DWORD *)(a1 + 392) )
    v6 = CCastle::IsAlliance(a5, a2, a3, a4, *(_DWORD *)(a1 + 392));
  else
    v6 = 0;
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8440, a2, a3, a4);
  return v6;
}

//----- (004172C0) --------------------------------------------------------
void __usercall CGuild::ChangePlayerName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source)
{
  void *v6; // eax
  void *v7; // eax
  int v8; // eax
  char *v9; // [esp-4h] [ebp-18h]
  char v10[4]; // [esp+0h] [ebp-14h] BYREF
  char v11[4]; // [esp+4h] [ebp-10h] BYREF
  int v12; // [esp+8h] [ebp-Ch]
  int v13; // [esp+Ch] [ebp-8h] BYREF
  int v14; // [esp+10h] [ebp-4h] BYREF

  if ( a4 )
  {
    CRWLock::WriteLock((CRWLock *)&unk_4B8440);
    sub_460550(dword_4B8428, &v14, &a4);
    v6 = sub_482CA0(dword_4B8428, v11);
    if ( (unsigned __int8)unknown_libname_25(v6) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    }
    else
    {
      v12 = *(_DWORD *)(sub_43E1A0(&v14) + 4);
      sub_460550((int *)(v12 + 380), &v13, &a5);
      v7 = sub_482CA0((int *)(v12 + 380), v10);
      if ( !(unsigned __int8)unknown_libname_25(v7) )
      {
        v9 = Source;
        v8 = sub_43E1A0(&v13);
        strcpy(*(char **)(v8 + 4), v9);
        if ( a4 == a5 )
        {
          CAlliance::ChangeLeaderName(a1, a2, a3, *(_DWORD *)(v12 + 392), a4, Source);
          CCastle::ChangeLeaderName(a1, a2, a3, a4, Source);
        }
      }
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    }
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004173D0) --------------------------------------------------------
void __usercall sub_4173D0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source)
{
  void *v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  char v8[4]; // [esp+0h] [ebp-1Ch] BYREF
  int v9; // [esp+4h] [ebp-18h] BYREF
  char v10[4]; // [esp+8h] [ebp-14h] BYREF
  int v11; // [esp+Ch] [ebp-10h]
  int v12; // [esp+10h] [ebp-Ch] BYREF
  int v13; // [esp+14h] [ebp-8h]
  int v14; // [esp+18h] [ebp-4h] BYREF

  if ( a4 && a4 == a5 )
  {
    CRWLock::WriteLock((CRWLock *)&unk_4B8440);
    sub_460550(dword_4B8428, &v14, &a4);
    v6 = sub_482CA0(dword_4B8428, v10);
    if ( (unsigned __int8)unknown_libname_25(v6) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    }
    else
    {
      v13 = *(_DWORD *)(sub_43E1A0(&v14) + 4);
      strcpy((char *)(v13 + 44), Source);
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(v13 + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v12);
      while ( 1 )
      {
        v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(v13 + 380), v8);
        if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
                v7) )
          break;
        v11 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v12) + 4) + 32);
        if ( v11 )
        {
          sub_448C90(a1, a2, a3, v11, 37, "bbs", 100, 8, Source);
          sub_45DF00(v11, a1, a2, a3, Source);
        }
        sub_46FA50(&v12, &v9, 0);
      }
      CAlliance::ChangeGuildName(a1, a2, a3, *(_DWORD *)(v13 + 392), a4, Source);
      CCastle::ChangeGuildName(a1, a2, a3, a4, Source);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8440, a1, a2, a3);
    }
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00417510) --------------------------------------------------------
int __thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    _Keyval);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_4176C0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00417570) --------------------------------------------------------
_DWORD *__thiscall sub_417570(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_4177A0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (004175D0) --------------------------------------------------------
void __thiscall std::map<unsigned long,ncf::kernel::NetworkSession *>::map<unsigned long,ncf::kernel::NetworkSession *>(std::map<unsigned long,std::list<_tagGameRoomInfo *> *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::list<_tagGameRoomInfo *> *> > > *this)
{
  int v1; // eax
  char v3; // [esp+6h] [ebp-2h] BYREF
  char v4; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v4);
  sub_46FB30(this, &v3, v1);
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00417600) --------------------------------------------------------
int __thiscall sub_417600(int *this)
{
  return sub_4178C0(this);
}

//----- (00417620) --------------------------------------------------------
_DWORD *__thiscall sub_417620(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_417840(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00417680) --------------------------------------------------------
int __thiscall std::vector<unsigned long>::size(std::vector<unsigned long> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 2) - *((_DWORD *)this + 1)) >> 2;
  else
    v2 = 0;
  return v2;
}

//----- (004176C0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4176C0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_417570((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00417760) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *result, const int *_Keyval)
{
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v3; // eax
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_46F990((int *)this, v8, _Keyval);
  v3 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_441850((int *)this, v7, _Keyval);
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(
    result,
    v3,
    v5);
  return result;
}

//----- (004177A0) --------------------------------------------------------
int __stdcall sub_4177A0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_4177A0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00417820) --------------------------------------------------------
BOOL __stdcall sub_417820(_DWORD *a1, _DWORD *a2)
{
  return *a1 < *a2;
}

//----- (00417840) --------------------------------------------------------
int __stdcall sub_417840(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_417840(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004178C0) --------------------------------------------------------
int __thiscall sub_4178C0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_417970(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00417970) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_417970(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_417620((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00417A10) --------------------------------------------------------
int __thiscall sub_417A10(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_46DDD0(*this) )
  {
    result = *(_DWORD *)sub_41BA20(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)unknown_libname_21(*this);
    if ( *(_BYTE *)sub_46DDD0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        if ( *(_BYTE *)sub_46DDD0(v5) || *this != *(_DWORD *)unknown_libname_21(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_46DDD0(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)unknown_libname_21(*this);
      result = sub_482E40(*v3);
      *this = result;
    }
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00417AF0) --------------------------------------------------------
_DWORD *__cdecl sub_417AF0(_DWORD *a1, _DWORD *a2)
{
  *a2 = *a1;
  return a1 + 1;
}

//----- (00417B10) --------------------------------------------------------
_BYTE *__cdecl sub_417B10(_BYTE *a1, _BYTE *a2)
{
  *a2 = *a1;
  return a1 + 1;
}

//----- (00417B60) --------------------------------------------------------
_BYTE *__cdecl sub_417B60(_BYTE *a1, char a2)
{
  *a1 = a2;
  return a1 + 1;
}

//----- (00417B90) --------------------------------------------------------
void *__thiscall sub_417B90(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00417BC0) --------------------------------------------------------
int __thiscall sub_417BC0(int *this)
{
  return sub_417BE0(this);
}

//----- (00417BE0) --------------------------------------------------------
int __thiscall sub_417BE0(int *this)
{
  return sub_417C00(this);
}

//----- (00417C00) --------------------------------------------------------
int __thiscall sub_417C00(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4176C0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00417CB0) --------------------------------------------------------
_DWORD *__thiscall CAlliance::CAlliance(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_4995F0;
  this[8] = -5;
  this[9] = 0;
  memset(this + 10, 0, 0x11u);
  memset((char *)this + 57, 0, 0x11u);
  this[19] = 0;
  this[20] = 0;
  return this;
}
// 4995F0: using guessed type int (__stdcall *off_4995F0)(int);

//----- (00417D20) --------------------------------------------------------
_DWORD *__userpurge sub_417D20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_417D50(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00417D50) --------------------------------------------------------
_DWORD *__usercall sub_417D50@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_4995F0;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 4995F0: using guessed type int (__stdcall *off_4995F0)(int);

//----- (00417D70) --------------------------------------------------------
void __usercall sub_417D70(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-Ch] BYREF
  int v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8470);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8464,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8464, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    v4 = sub_43E1A0(&v7);
    CAlliance::Clear(*(_DWORD *)(v4 + 4));
    sub_46FA50(&v7, &v6, 0);
  }
  sub_41B7D0(dword_4B8464);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
}

//----- (00417DF0) --------------------------------------------------------
int __thiscall CAlliance::Clear(int this)
{
  int v3; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]

  for ( i = *(_DWORD *)(this + 32); i != -5; i = v3 )
  {
    v3 = *(_DWORD *)(i + 32);
    *(_DWORD *)(i + 32) = -5;
    CBase::Delete((volatile signed __int32 *)i);
  }
  *(_DWORD *)(this + 32) = -5;
  return CBase::Delete((volatile signed __int32 *)this);
}

//----- (00417E50) --------------------------------------------------------
void __usercall CAlliance::OnDelete(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( *(_DWORD *)(a1 + 80) )
    CGuild::SetAlliance(*(_DWORD *)(a1 + 80), a2, a3, a4, 0, 0);
  CWar::SetGuild(a1, a2, a3, a4, 0);
  sub_402020((volatile int *)a1, a2, a3, a4);
}

//----- (00417E90) --------------------------------------------------------
int __usercall CAlliance::IsLoad@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-10h] BYREF
  int v7; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::ReadLock((CRWLock *)&unk_4B8470);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8464,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8464, v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v4) )
      break;
    for ( i = *(_DWORD *)(sub_43E1A0(&v9) + 4); i != -5; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 36) == a4 )
      {
        CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
        return 1;
      }
    }
    sub_46FA50(&v9, &v7, 0);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
  return 0;
}

//----- (00417F30) --------------------------------------------------------
void __usercall CAlliance::Load(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _BYTE *a4)
{
  _DWORD *v4; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char *v6; // eax
  std::pair<char const * const,CItem *> *v7; // eax
  char *v8; // eax
  char *v9; // eax
  char *v10; // [esp+0h] [ebp-44h]
  char *v11; // [esp+4h] [ebp-40h]
  CMemory **v12; // [esp+8h] [ebp-3Ch]
  char v13[8]; // [esp+Ch] [ebp-38h] BYREF
  char v14[8]; // [esp+14h] [ebp-30h] BYREF
  CMemory **v15; // [esp+1Ch] [ebp-28h]
  char v16[4]; // [esp+20h] [ebp-24h] BYREF
  char v17[4]; // [esp+24h] [ebp-20h] BYREF
  int v18; // [esp+28h] [ebp-1Ch] BYREF
  char *v19; // [esp+2Ch] [ebp-18h]
  __time32_t v20; // [esp+30h] [ebp-14h] BYREF
  char *v21; // [esp+34h] [ebp-10h]
  int v22; // [esp+38h] [ebp-Ch] BYREF
  char v23[8]; // [esp+3Ch] [ebp-8h] BYREF
  _BYTE *v24; // [esp+4Ch] [ebp+8h]
  char *v25; // [esp+4Ch] [ebp+8h]
  char *v26; // [esp+4Ch] [ebp+8h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8470);
  v22 = 0;
  v24 = sub_417B10(a4, &v22);
  if ( v22 > 0 )
  {
    v4 = sub_417AF0(v24, &v20);
    v25 = (char *)sub_417AF0(v4, v17);
    sub_460550(dword_4B8464, &v18, v17);
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8464, v16);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v18,
           v5) )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
    }
    else if ( v20 > time(0) )
    {
      v15 = sub_401000(0x54u);
      if ( v15 )
        v11 = (char *)CAlliance::CAlliance(v15);
      else
        v11 = 0;
      v21 = v11;
      *((_DWORD *)v11 + 9) = *(_DWORD *)v17;
      v6 = GetString(v25, v21 + 40);
      v26 = GetString(v6, v21 + 57);
      *((_DWORD *)v21 + 19) = v20;
      v7 = sub_41BE80((std::pair<char const * const,CItem *> *)v13, *(_DWORD *)v17, v21);
      unknown_libname_11(v7);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8464,
        (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v23,
        (const std::pair<int const ,CSocket *> *)v14);
      if ( v23[4] )
      {
        --v22;
        while ( v22 > 0 )
        {
          v12 = sub_401000(0x54u);
          if ( v12 )
            v10 = (char *)CAlliance::CAlliance(v12);
          else
            v10 = 0;
          v19 = v10;
          v8 = (char *)sub_417AF0(v26, (_DWORD *)v10 + 9);
          v9 = GetString(v8, v19 + 40);
          v26 = GetString(v9, v19 + 57);
          *((_DWORD *)v19 + 19) = v20;
          CAlliance::Add(v21, (int)v19);
          --v22;
        }
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
      }
      else
      {
        CBase::Delete((volatile signed __int32 *)v21);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
        LOG_ERR("CAlliance::Load() alliance map inset error (aid:%d)", *(_DWORD *)v17);
      }
    }
    else
    {
      CDBSocket::Write(a1, a2, a3, 26, "d", *(_DWORD *)v17);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
    }
  }
  else
  {
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
  }
}
// 417B30: using guessed type _DWORD __stdcall unknown_libname_11(_DWORD);

//----- (00418180) --------------------------------------------------------
void __usercall CAlliance::LoadSetGuild(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, volatile int *a6)
{
  void *v6; // eax
  int v7; // eax
  char v8[4]; // [esp+0h] [ebp-Ch] BYREF
  int i; // [esp+4h] [ebp-8h]
  int v10; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8470);
  sub_460550(dword_4B8464, &v10, &a4);
  v6 = sub_482CA0(dword_4B8464, v8);
  if ( !(unsigned __int8)unknown_libname_25(v6) )
  {
    for ( i = *(_DWORD *)(sub_43E1A0(&v10) + 4); i != -5; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 36) == a5 )
      {
        CWar::SetGuild(i, a1, a2, a3, a6);
        v7 = sub_43E1A0(&v10);
        CGuild::SetAlliance((int)a6, a1, a2, a3, a4, *(volatile int **)(v7 + 4));
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
        return;
      }
    }
  }
  CGuild::SetAlliance((int)a6, a1, a2, a3, 0, 0);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00418250) --------------------------------------------------------
volatile int *__userpurge CAlliance::DeleteSetGuild@<eax>(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  volatile int *result; // eax
  int i; // [esp+4h] [ebp-4h]

  result = a1;
  for ( i = (int)a1; i != -5; i = *(_DWORD *)(i + 32) )
  {
    result = (volatile int *)i;
    if ( *(_DWORD *)(i + 80) == a5 )
    {
      CGuild::SetAlliance(a5, a2, a3, a4, 0, 0);
      result = CWar::SetGuild(i, a2, a3, a4, 0);
    }
  }
  return result;
}

//----- (004182A0) --------------------------------------------------------
int __usercall sub_4182A0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *Source, int a6, int a7, char *a8, int a9, int a10)
{
  std::pair<char const * const,CItem *> *v10; // eax
  char *v12; // [esp+0h] [ebp-3Ch]
  _DWORD *v13; // [esp+4h] [ebp-38h]
  CMemory **v14; // [esp+8h] [ebp-34h]
  char v15[8]; // [esp+Ch] [ebp-30h] BYREF
  char v16[8]; // [esp+14h] [ebp-28h] BYREF
  CMemory **v17; // [esp+1Ch] [ebp-20h]
  _DWORD *i; // [esp+20h] [ebp-1Ch]
  char v19[8]; // [esp+24h] [ebp-18h] BYREF
  void *Src; // [esp+2Ch] [ebp-10h]
  int v21; // [esp+30h] [ebp-Ch]
  char *v22; // [esp+34h] [ebp-8h]
  _DWORD *v23; // [esp+38h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8470);
  v21 = 0;
  if ( *(_DWORD *)(a6 + 392) )
  {
    v23 = *(_DWORD **)(a6 + 396);
    for ( i = v23; i != (_DWORD *)-5; i = (_DWORD *)i[8] )
      ++v21;
  }
  else
  {
    v17 = sub_401000(0x54u);
    if ( v17 )
      v13 = CAlliance::CAlliance(v17);
    else
      v13 = 0;
    v23 = v13;
    v10 = sub_41BE80((std::pair<char const * const,CItem *> *)v15, a4, v13);
    unknown_libname_11(v10);
    std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8464,
      (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v19,
      (const std::pair<int const ,CSocket *> *)v16);
    if ( !v19[4] )
    {
      CBase::Delete(v23);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
      LOG_ERR("CAlliance::Join() alliance map inset error (aid:%d)", a4);
      return 0;
    }
    v23[9] = a4;
    strcpy((char *)v23 + 40, (const char *)(a6 + 44));
    strcpy((char *)v23 + 57, Source);
    v23[19] = a10;
    CWar::SetGuild((int)v23, a1, a2, a3, (volatile int *)a6);
    CGuild::SetAlliance(a6, a1, a2, a3, a4, v23);
    ++v21;
    CDBSocket::Write(a1, a2, a3, 23, "dd", a4, a10);
    Src = sub_445C90(a1, a2, a3, 76, "bdbdss", 17, a10, 1, a4, a6 + 44, Source);
    CGuild::Broadcast(a6, a1, a2, a3, Src, 0);
    CIOBuffer::Release((CIOBuffer *)Src);
  }
  v14 = sub_401000(0x54u);
  if ( v14 )
    v12 = (char *)CAlliance::CAlliance(v14);
  else
    v12 = 0;
  v22 = v12;
  *((_DWORD *)v12 + 9) = a7;
  strcpy(v22 + 40, (const char *)(a9 + 44));
  strcpy(v22 + 57, a8);
  *((_DWORD *)v22 + 19) = a10;
  CWar::SetGuild((int)v22, a1, a2, a3, (volatile int *)a9);
  CGuild::SetAlliance(a9, a1, a2, a3, a4, v23);
  CAlliance::Add(v23, (int)v22);
  CDBSocket::Write(a1, a2, a3, 24, "ddb", a4, a7, (unsigned __int8)v21);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
  return 1;
}
// 417B30: using guessed type _DWORD __stdcall unknown_libname_11(_DWORD);

//----- (00418500) --------------------------------------------------------
void __usercall CAlliance::PostponeExpire(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  int v5; // [esp-8h] [ebp-18h]
  unsigned int v6; // [esp-4h] [ebp-14h]
  char v7[4]; // [esp+0h] [ebp-10h] BYREF
  int v8; // [esp+4h] [ebp-Ch] BYREF
  int v9; // [esp+8h] [ebp-8h] BYREF
  __time32_t v10; // [esp+Ch] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8470);
  v10 = CGuild::GetWarEndTime();
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8464,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8464, v7);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v3) )
      break;
    v6 = v10;
    v5 = *(_DWORD *)sub_43E1A0(&v9);
    v4 = sub_43E1A0(&v9);
    sub_418590(*(_DWORD *)(v4 + 4), a1, a2, a3, v5, v6);
    sub_46FA50(&v9, &v8, 0);
  }
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
}

//----- (00418590) --------------------------------------------------------
void __userpurge sub_418590(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, unsigned int a6)
{
  CMemory **Src; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(a1 + 76) < a6 )
  {
    *(_DWORD *)(a1 + 76) = a6;
    CDBSocket::Write(a2, a3, a4, 60, "dd", a5, a6);
    Src = sub_445C90(a2, a3, a4, 76, "bbd", 0, 69, a6);
    CAlliance::Broadcast(a1, a2, a3, a4, Src);
    CIOBuffer::Release((CIOBuffer *)Src);
  }
}

//----- (00418600) --------------------------------------------------------
void __usercall sub_418600(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // [esp+0h] [ebp-1Ch] BYREF
  int v6; // [esp+4h] [ebp-18h] BYREF
  char v7[4]; // [esp+8h] [ebp-14h] BYREF
  void *Src; // [esp+Ch] [ebp-10h]
  char v9[4]; // [esp+10h] [ebp-Ch]
  int v10; // [esp+14h] [ebp-8h]
  int v11; // [esp+18h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8470);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8464,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v11);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8464, v7);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v11,
            v4) )
      break;
    *(_DWORD *)v9 = *(_DWORD *)sub_43E1A0(&v11);
    v10 = *(_DWORD *)(sub_43E1A0(&v11) + 4);
    if ( *(_DWORD *)(v10 + 76) >= a4 )
    {
      sub_46FA50(&v11, &v5, 0);
    }
    else
    {
      CDBSocket::Write(a1, a2, a3, 26, "d", *(_DWORD *)v9);
      Src = sub_445C90(a1, a2, a3, 76, "bb", 0, 67);
      CAlliance::Broadcast(v10, a1, a2, a3, Src);
      CIOBuffer::Release((CIOBuffer *)Src);
      CAlliance::Clear(v10);
      v11 = *sub_4653E0(dword_4B8464, &v6, v11);
      LOG_NORMAL("CAlliance::Expire() Alliance's expired. (AID:%d)", *(_DWORD *)v9);
    }
  }
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
}

//----- (00418700) --------------------------------------------------------
void __userpurge sub_418700(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<esi>, int a4)
{
  int i; // [esp+8h] [ebp-1014h]
  char v6; // [esp+Ch] [ebp-1010h] BYREF
  char v7[4092]; // [esp+Dh] [ebp-100Fh] BYREF
  __int16 v8; // [esp+1009h] [ebp-13h]
  char v9; // [esp+100Bh] [ebp-11h]
  int v10; // [esp+100Ch] [ebp-10h] BYREF
  char *v11; // [esp+1014h] [ebp-8h]
  int v12; // [esp+1018h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8470);
  v6 = 0;
  memset(v7, 0, sizeof(v7));
  v8 = 0;
  v9 = 0;
  v11 = &v6;
  v12 = 0;
  for ( i = a1; i != -5; i = *(_DWORD *)(i + 32) )
  {
    v11 = (char *)sub_4459A0(v11, *(_DWORD *)(i + 36));
    v11 = PutString(v11, (const char *)(i + 40));
    v11 = PutString(v11, (const char *)(i + 57));
    ++v12;
  }
  sub_448C90(a2, (DWORD)&v10, a3, a4, 76, "bdbm", 17, *(_DWORD *)(a1 + 76), (unsigned __int8)v12, &v6, v11 - &v6);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a2, (DWORD)&v10, a3);
}

//----- (00418820) --------------------------------------------------------
_DWORD *__thiscall CAlliance::Add(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  *(_DWORD *)(a2 + 32) = this[8];
  result = this;
  this[8] = a2;
  return result;
}

//----- (00418850) --------------------------------------------------------
int __usercall CAlliance::GetSize@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int i; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v7 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8470);
  for ( i = a1; i != -5; i = *(_DWORD *)(i + 32) )
    ++v7;
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a2, a3, a4);
  return v7;
}

//----- (004188A0) --------------------------------------------------------
volatile int *__userpurge CWar::SetGuild@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  volatile int *result; // eax

  if ( *(_DWORD *)(a1 + 80) )
    sub_401C50(*(volatile int **)(a1 + 80), a2, a3, a4);
  if ( a5 )
    sub_4010D0(a5, a2, a3, a4);
  result = a5;
  *(_DWORD *)(a1 + 80) = a5;
  return result;
}

//----- (004188E0) --------------------------------------------------------
void __userpurge CAlliance::BroadcastLock(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src)
{
  int i; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8470);
  for ( i = a1; i != -5; i = *(_DWORD *)(i + 32) )
  {
    if ( *(_DWORD *)(i + 80) )
      CGuild::Broadcast(*(_DWORD *)(i + 80), a2, a3, a4, Src, 0);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a2, a3, a4);
}

//----- (00418940) --------------------------------------------------------
BOOL __userpurge CAlliance::Broadcast@<eax>(BOOL a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src)
{
  BOOL result; // eax
  int i; // [esp+4h] [ebp-4h]

  result = a1;
  for ( i = a1; i != -5; i = *(_DWORD *)(i + 32) )
  {
    result = i;
    if ( *(_DWORD *)(i + 80) )
      result = CGuild::Broadcast(*(_DWORD *)(i + 80), a2, a3, a4, Src, 0);
  }
  return result;
}

//----- (00418990) --------------------------------------------------------
void __usercall CAlliance::ChangeLeaderName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  char v7[4]; // [esp+0h] [ebp-Ch] BYREF
  int i; // [esp+4h] [ebp-8h]
  int v9; // [esp+8h] [ebp-4h] BYREF

  if ( a4 )
  {
    CRWLock::WriteLock((CRWLock *)&unk_4B8470);
    sub_460550(dword_4B8464, &v9, &a4);
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8464, v7);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
           v6) )
    {
      for ( i = *(_DWORD *)(sub_43E1A0(&v9) + 4); i != -5; i = *(_DWORD *)(i + 32) )
      {
        if ( *(_DWORD *)(i + 36) == a5 )
        {
          strcpy((char *)(i + 57), Source);
          break;
        }
      }
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
  }
}

//----- (00418A30) --------------------------------------------------------
void __usercall CAlliance::ChangeGuildName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  char v7[4]; // [esp+0h] [ebp-Ch] BYREF
  int i; // [esp+4h] [ebp-8h]
  int v9; // [esp+8h] [ebp-4h] BYREF

  if ( a4 )
  {
    CRWLock::WriteLock((CRWLock *)&unk_4B8470);
    sub_460550(dword_4B8464, &v9, &a4);
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8464, v7);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
           v6) )
    {
      for ( i = *(_DWORD *)(sub_43E1A0(&v9) + 4); i != -5; i = *(_DWORD *)(i + 32) )
      {
        if ( *(_DWORD *)(i + 36) == a5 )
        {
          strcpy((char *)(i + 40), Source);
          break;
        }
      }
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
  }
}

//----- (00418AD0) --------------------------------------------------------
_DWORD *__thiscall CCastle::CCastle(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_4996E8;
  sub_4454D0(this + 22);
  this[8] = 0;
  this[9] = 0;
  this[10] = 100;
  this[12] = 0;
  this[13] = -4;
  this[14] = 0;
  this[15] = 0;
  this[16] = 0;
  this[11] = 0;
  this[17] = 0;
  this[20] = 0;
  this[21] = 0;
  this[18] = 0;
  this[19] = 0;
  return this;
}
// 4996E8: using guessed type int (__stdcall *off_4996E8)(int);

//----- (00418B90) --------------------------------------------------------
void *__userpurge sub_418B90@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  CCastle::_CCastle((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00418BC0) --------------------------------------------------------
_DWORD *__usercall CCastle::_CCastle@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *(_DWORD *)a1 = &off_4996E8;
  sub_41B890((std::vector<unsigned long> *)(a1 + 88));
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}
// 4996E8: using guessed type int (__stdcall *off_4996E8)(int);

//----- (00418C40) --------------------------------------------------------
void __usercall sub_418C40(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-Ch] BYREF
  int v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    v4 = sub_43E1A0(&v7);
    CBase::Delete(*(volatile signed __int32 **)(v4 + 4));
    sub_46FA50(&v7, &v6, 0);
  }
  sub_41B830(dword_4B8488);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
}

//----- (00418CC0) --------------------------------------------------------
void __usercall CCastle::Load(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, _DWORD *a5)
{
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _BYTE *v7; // eax
  _BYTE *v8; // eax
  std::pair<char const * const,CItem *> *v9; // eax
  volatile signed __int32 *v10; // [esp+0h] [ebp-24h]
  char v11[8]; // [esp+4h] [ebp-20h] BYREF
  char v12[8]; // [esp+Ch] [ebp-18h] BYREF
  CMemory **v13; // [esp+14h] [ebp-10h]
  volatile signed __int32 *v14; // [esp+18h] [ebp-Ch]
  char v15[8]; // [esp+1Ch] [ebp-8h] BYREF
  char *v16; // [esp+30h] [ebp+Ch]

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  if ( !a4 )
  {
    SetEvent(dword_4B8458);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
    return;
  }
  v13 = sub_401000(0x68u);
  if ( v13 )
    v10 = CCastle::CCastle(v13);
  else
    v10 = 0;
  v14 = v10;
  v5 = sub_417AF0(a5, (_DWORD *)v10 + 17);
  v6 = sub_417AF0(v5, (_DWORD *)v10 + 8);
  v7 = sub_417AF0(v6, (_DWORD *)v10 + 9);
  v8 = sub_417B10(v7, (_BYTE *)v10 + 40);
  v16 = sub_417B10(v8, (_BYTE *)v10 + 44);
  v9 = sub_41BE80((std::pair<char const * const,CItem *> *)v11, *((_DWORD *)v14 + 17), v14);
  unknown_libname_11(v9);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8488,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v15,
    (const std::pair<int const ,CSocket *> *)v12);
  if ( !v15[4] )
  {
    LOG_ERR("CCastle::Load() castle insert error ( cid:%d )", *((_DWORD *)v14 + 17));
    CBase::Delete(v14);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
    return;
  }
  if ( *((_DWORD *)v14 + 8) )
  {
    if ( a4 == 2 )
    {
      LOG_ERR("CCastle::Load() guild error (cid:%d, gid:%d)", *((_DWORD *)v14 + 17), *((_DWORD *)v14 + 8));
      *((_DWORD *)v14 + 8) = 0;
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
      return;
    }
    sub_410DB0(a1, a2, a3, *((_DWORD *)v14 + 8), v16, (int)v14);
    if ( *((_DWORD *)v14 + 14) )
      sub_401C50(*((volatile int **)v14 + 14), a1, a2, a3);
    if ( *((_DWORD *)v14 + 12) )
      sub_4010D0(*((volatile int **)v14 + 12), a1, a2, a3);
    *((_DWORD *)v14 + 14) = *((_DWORD *)v14 + 12);
    *((_DWORD *)v14 + 15) = *((_DWORD *)v14 + 8);
    CCastle::CreateStandard(
      a1,
      a2,
      a3,
      *((_DWORD *)v14 + 17),
      *((_DWORD *)v14 + 8),
      (char *)(*((_DWORD *)v14 + 12) + 44),
      0);
    CCastle::CreateGate(
      (int)v14,
      a1,
      a2,
      a3,
      *((_DWORD *)v14 + 17),
      *((_DWORD *)v14 + 8),
      (char *)(*((_DWORD *)v14 + 12) + 44));
  }
  else
  {
    CCastle::CreateStandard(a1, a2, a3, *((_DWORD *)v14 + 17), 0, (char *)&Src, 0);
    CCastle::CreateGate((int)v14, a1, a2, a3, *((_DWORD *)v14 + 17), 0, (char *)&Src);
  }
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
}
// 417B30: using guessed type _DWORD __stdcall unknown_libname_11(_DWORD);

//----- (00418F10) --------------------------------------------------------
BOOL __usercall CCastle::SetWarGuild@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, volatile int *a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  BOOL result; // eax
  char v7[4]; // [esp+0h] [ebp-10h] BYREF
  int v8; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  int v10; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v7);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
               v5);
    if ( !result )
      break;
    for ( i = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v10) + 4) + 52); i != -4; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 40) == a4 )
        CWar::SetGuild(i, a1, a2, a3, a5);
    }
    sub_46FA50(&v10, &v8, 0);
  }
  return result;
}

//----- (00418FA0) --------------------------------------------------------
void __usercall sub_418FA0(DWORD a1@<ebx>, DWORD a2@<esi>, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int *v4; // eax
  int *v5; // eax
  _DWORD *v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-1038h]
  int v9; // [esp-4h] [ebp-1030h]
  int v10; // [esp-4h] [ebp-1030h]
  void *v11; // [esp-4h] [ebp-1030h]
  int v12; // [esp+4h] [ebp-1028h]
  char v13[4]; // [esp+8h] [ebp-1024h] BYREF
  int v14; // [esp+Ch] [ebp-1020h] BYREF
  int v15; // [esp+10h] [ebp-101Ch]
  void *Src; // [esp+14h] [ebp-1018h]
  int v17; // [esp+18h] [ebp-1014h] BYREF
  char v18; // [esp+1Ch] [ebp-1010h] BYREF
  char v19[4092]; // [esp+1Dh] [ebp-100Fh] BYREF
  __int16 v20; // [esp+1019h] [ebp-13h]
  char v21; // [esp+101Bh] [ebp-11h]
  int v22; // [esp+101Ch] [ebp-10h] BYREF
  char *v23; // [esp+1024h] [ebp-8h]
  int v24; // [esp+1028h] [ebp-4h] BYREF

  v18 = 0;
  memset(v19, 0, sizeof(v19));
  v20 = 0;
  v21 = 0;
  v23 = &v18;
  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v23 = (char *)CCastle::WarList(a1, (DWORD)&v22, a2, &v24, v23);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v17);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v13);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v17,
            v3) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 52) != -4 )
    {
      v15 = 0;
      if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 48) )
      {
        if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 48) + 392) )
          v12 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 48) + 392);
        else
          v12 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 32);
        v15 = v12;
      }
      v9 = v15;
      v4 = (int *)sub_43E1A0(&v17);
      sub_448AC0(a1, (DWORD)&v22, a2, *v4, v9);
      v5 = (int *)sub_43E1A0(&v17);
      sub_440FF0(a1, (DWORD)&v22, a2, *v5, 0);
      *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v17) + 4) + 76) = a3;
      v10 = v23 - &v18;
      v8 = v24;
      v6 = (_DWORD *)sub_43E1A0(&v17);
      Src = sub_445C90(a1, (DWORD)&v22, a2, 76, "bbddm", 0, 78, *v6, v8, &v18, v10);
      v11 = Src;
      v7 = sub_43E1A0(&v17);
      CCastle::_WarMsg(*(_DWORD *)(v7 + 4), a1, (DWORD)&v22, a2, v11);
      CIOBuffer::Release((CIOBuffer *)Src);
    }
    sub_46FA50(&v17, &v14, 0);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a1, (DWORD)&v22, a2);
  CCastle::SetWarRemainSecondTime(a1, (DWORD)&v22, a2, 0);
}

//----- (004191B0) --------------------------------------------------------
int __cdecl CCastle::WarPortal(int a1, int a2, int a3, int a4)
{
  int i; // [esp+0h] [ebp-4h]

  for ( i = 0; i < 1; ++i )
  {
    if ( a1 == dword_4ADB20[7 * i]
      && a2 == dword_4ADB24[7 * i]
      && a3 >= dword_4ADB28[7 * i]
      && a3 <= dword_4ADB30[7 * i]
      && a4 <= dword_4ADB2C[7 * i]
      && a4 >= dword_4ADB34[7 * i] )
    {
      return dword_4ADB38[7 * i];
    }
  }
  return -1;
}
// 4ADB20: using guessed type int dword_4ADB20[];
// 4ADB24: using guessed type int dword_4ADB24[];
// 4ADB28: using guessed type int dword_4ADB28[];
// 4ADB2C: using guessed type int dword_4ADB2C[];
// 4ADB30: using guessed type int dword_4ADB30[];
// 4ADB34: using guessed type int dword_4ADB34[];
// 4ADB38: using guessed type int dword_4ADB38[];

//----- (00419250) --------------------------------------------------------
int __userpurge CCastle::_WarMsg@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src)
{
  int result; // eax
  int i; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(a1 + 48) )
  {
    CRWLock::ReadLock((CRWLock *)&unk_4B8470);
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 48) + 396) )
      CAlliance::Broadcast(*(_DWORD *)(*(_DWORD *)(a1 + 48) + 396), a2, a3, a4, Src);
    else
      CGuild::Broadcast(*(_DWORD *)(a1 + 48), a2, a3, a4, Src, 0);
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a2, a3, a4);
  }
  result = *(_DWORD *)(a1 + 52);
  for ( i = result; i != -4; i = *(_DWORD *)(i + 32) )
  {
    result = i;
    if ( *(_DWORD *)(i + 80) )
      result = CGuild::Broadcast(*(_DWORD *)(i + 80), a2, a3, a4, Src, 0);
  }
  return result;
}

//----- (004192F0) --------------------------------------------------------
void __userpurge CCastle::WarMsg(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src)
{
  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  CCastle::_WarMsg(a1, a2, a3, a4, Src);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
}

//----- (00419320) --------------------------------------------------------
_DWORD *__usercall CCastle::WarList@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, _DWORD *a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  char v8[4]; // [esp+0h] [ebp-14h] BYREF
  int v9; // [esp+4h] [ebp-10h] BYREF
  int j; // [esp+8h] [ebp-Ch]
  int i; // [esp+Ch] [ebp-8h]
  int v12; // [esp+10h] [ebp-4h] BYREF

  *a4 = 0;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v12);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v8);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
            v5) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v12) + 4) + 48) )
    {
      CRWLock::ReadLock((CRWLock *)&unk_4B8470);
      if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v12) + 4) + 48) + 396) )
      {
        for ( i = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v12) + 4) + 48) + 396); i != -5; i = *(_DWORD *)(i + 32) )
        {
          a5 = sub_4459A0(a5, *(_DWORD *)(i + 36));
          ++*a4;
        }
      }
      else
      {
        v6 = sub_43E1A0(&v12);
        a5 = sub_4459A0(a5, *(_DWORD *)(*(_DWORD *)(v6 + 4) + 32));
        ++*a4;
      }
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a1, a2, a3);
    }
    for ( j = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v12) + 4) + 52); j != -4; j = *(_DWORD *)(j + 32) )
    {
      a5 = sub_4459A0(a5, *(_DWORD *)(j + 40));
      ++*a4;
    }
    sub_46FA50(&v12, &v9, 0);
  }
  return a5;
}

//----- (00419480) --------------------------------------------------------
void __usercall CCastle::OnDelete(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CCastle::SetGuild(a1, a2, a3, a4, 0);
  if ( *(_DWORD *)(a1 + 56) )
    sub_401C50(*(volatile int **)(a1 + 56), a2, a3, a4);
  *(_DWORD *)(a1 + 56) = 0;
  *(_DWORD *)(a1 + 60) = 0;
  if ( *(_DWORD *)(a1 + 52) != -4 )
  {
    CWar::Clear(*(_DWORD *)(a1 + 52));
    *(_DWORD *)(a1 + 52) = -4;
  }
  sub_402020((volatile int *)a1, a2, a3, a4);
}

//----- (004194F0) --------------------------------------------------------
volatile int *__userpurge CCastle::SetGuild@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  volatile int *result; // eax

  if ( *(_DWORD *)(a1 + 48) )
    sub_401C50(*(volatile int **)(a1 + 48), a2, a3, a4);
  if ( a5 )
    sub_4010D0(a5, a2, a3, a4);
  result = a5;
  *(_DWORD *)(a1 + 48) = a5;
  return result;
}

//----- (00419530) --------------------------------------------------------
int __cdecl CCastle::GetCastle(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  int v4; // [esp+4h] [ebp-4h] BYREF

  sub_460550(dword_4B8488, &v4, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v3);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v4,
         v1) )
  {
    result = *(_DWORD *)(sub_43E1A0(&v4) + 4);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00419580) --------------------------------------------------------
int __cdecl CCastle::GetMonsterTile2CID(int a1, int a2, int a3)
{
  int *v4; // [esp+0h] [ebp-Ch]
  _DWORD *v5; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]
  int j; // [esp+8h] [ebp-4h]

  for ( i = 0; i < 1; ++i )
  {
    v5 = (_DWORD *)((char *)&unk_4AD958 + 28 * i);
    if ( v5[2] == a1 && v5[3] == a2 && v5[4] == a3 )
      return *v5;
  }
  for ( j = 0; j < 5; ++j )
  {
    v4 = &dword_4AD978[7 * j];
    if ( v4[2] == a1 && v4[3] == a2 && v4[4] == a3 )
      return *v4;
  }
  return 0;
}

//----- (00419630) --------------------------------------------------------
int __userpurge CCastle::SubGateState@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  void *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  int i; // [esp+Ch] [ebp-8h]
  int v12; // [esp+10h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  sub_482CA0((int *)(a1 + 88), &v12);
  for ( i = 0; i < 5; ++i )
  {
    if ( dword_4AD978[7 * i] == a5 )
    {
      if ( a6 == *(_DWORD *)sub_43E1F0(&v12) )
      {
        *(_DWORD *)sub_43E1F0(&v12) = 0;
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
        return i;
      }
      sub_4455C0(&v12, &v10, 0);
      v7 = sub_42EA00((int *)(a1 + 88), v9);
      if ( (unsigned __int8)unknown_libname_25(v7) )
        break;
    }
  }
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return -1;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004196F0) --------------------------------------------------------
BOOL __userpurge CCastle::IsLord@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  BOOL v7; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v7 = a5 == *(_DWORD *)(a1 + 32);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v7;
}

//----- (00419730) --------------------------------------------------------
BOOL __userpurge CCastle::IsAlliance@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  BOOL v6; // [esp+0h] [ebp-Ch]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v6 = *(_DWORD *)(a1 + 48) && *(_DWORD *)(*(_DWORD *)(a1 + 48) + 392) == a5;
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v6;
}

//----- (00419790) --------------------------------------------------------
int __userpurge CCastle::IsAlreadyDeclare@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int i; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  v8 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  for ( i = *(_DWORD *)(a1 + 52); i != -4; i = *(_DWORD *)(i + 32) )
  {
    if ( *(_DWORD *)(i + 40) == a5 )
    {
      v8 = 1;
      break;
    }
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v8;
}

//----- (004197F0) --------------------------------------------------------
int __usercall CCastle::IsAllCastleWarRelation@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-14h] BYREF
  int v7; // [esp+4h] [ebp-10h] BYREF
  int i; // [esp+8h] [ebp-Ch]
  _DWORD *v9; // [esp+Ch] [ebp-8h]
  int v10; // [esp+10h] [ebp-4h] BYREF

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
            v4) )
      break;
    v9 = *(_DWORD **)(sub_43E1A0(&v10) + 4);
    if ( v9[8] && (v9[12] == a4 || *(_DWORD *)(v9[12] + 392) && *(_DWORD *)(v9[12] + 392) == *(_DWORD *)(a4 + 392)) )
    {
LABEL_12:
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
      return 1;
    }
    for ( i = v9[13]; i != -4; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 80) && *(_DWORD *)(i + 80) == a4 )
        goto LABEL_12;
    }
    sub_46FA50(&v10, &v7, 0);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
  return 0;
}

//----- (00419910) --------------------------------------------------------
void __usercall sub_419910(DWORD a1@<ebx>, DWORD a2@<esi>, _DWORD *a3, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int *v8; // eax
  int v9; // [esp-Ch] [ebp-1044h]
  int v10; // [esp-Ch] [ebp-1044h]
  int v11; // [esp-Ch] [ebp-1044h]
  int v12; // [esp-Ch] [ebp-1044h]
  int v13; // [esp-8h] [ebp-1040h]
  int v14; // [esp-4h] [ebp-103Ch]
  int v15; // [esp-4h] [ebp-103Ch]
  int v16; // [esp-4h] [ebp-103Ch]
  int v17; // [esp-4h] [ebp-103Ch]
  char v18[4]; // [esp+4h] [ebp-1034h] BYREF
  int v19; // [esp+8h] [ebp-1030h] BYREF
  _DWORD *v20; // [esp+Ch] [ebp-102Ch]
  int v21; // [esp+10h] [ebp-1028h]
  int v22; // [esp+14h] [ebp-1024h]
  int j; // [esp+18h] [ebp-1020h]
  int i; // [esp+1Ch] [ebp-101Ch]
  int v25; // [esp+20h] [ebp-1018h]
  int v26; // [esp+24h] [ebp-1014h] BYREF
  char v27; // [esp+28h] [ebp-1010h] BYREF
  char v28[4092]; // [esp+29h] [ebp-100Fh] BYREF
  __int16 v29; // [esp+1025h] [ebp-13h]
  char v30; // [esp+1027h] [ebp-11h]
  int v31; // [esp+1028h] [ebp-10h] BYREF
  char *v32; // [esp+1030h] [ebp-8h]
  int v33; // [esp+1034h] [ebp-4h] BYREF

  v27 = 0;
  memset(v28, 0, sizeof(v28));
  v29 = 0;
  v30 = 0;
  v32 = &v27;
  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v32 = (char *)CCastle::WarList(a1, (DWORD)&v31, a2, &v33, v32);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v26);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v18);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v26,
            v4) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v26) + 4) + 52) != -4 )
    {
      if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v26) + 4) + 48) )
      {
        if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v26) + 4) + 32) == a4 )
        {
          v14 = v32 - &v27;
          v9 = v33;
          v5 = (_DWORD *)sub_43E1A0(&v26);
          sub_448C90(a1, (DWORD)&v31, a2, (int)a3, 76, "bbddm", 0, 78, *v5, v9, &v27, v14);
          break;
        }
        if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v26) + 4) + 48) + 396) )
        {
          CRWLock::ReadLock((CRWLock *)&unk_4B8470);
          for ( i = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v26) + 4) + 48) + 396); i != -5; i = *(_DWORD *)(i + 32) )
          {
            if ( *(_DWORD *)(i + 36) == a4 )
            {
              v15 = v32 - &v27;
              v10 = v33;
              v6 = (_DWORD *)sub_43E1A0(&v26);
              sub_448C90(a1, (DWORD)&v31, a2, (int)a3, 76, "bbddm", 0, 78, *v6, v10, &v27, v15);
              CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a1, (DWORD)&v31, a2);
              CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a1, (DWORD)&v31, a2);
              return;
            }
          }
          CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a1, (DWORD)&v31, a2);
        }
      }
      for ( j = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v26) + 4) + 52); j != -4; j = *(_DWORD *)(j + 32) )
      {
        if ( *(_DWORD *)(j + 40) == a4 )
        {
          v16 = v32 - &v27;
          v11 = v33;
          v7 = (_DWORD *)sub_43E1A0(&v26);
          sub_448C90(a1, (DWORD)&v31, a2, (int)a3, 76, "bbddm", 0, 78, *v7, v11, &v27, v16);
          break;
        }
      }
      v17 = a3[82];
      v13 = a3[81];
      v12 = a3[77];
      v8 = (int *)sub_43E1A0(&v26);
      v25 = CCastle::WarPortal(*v8, v12, v13, v17);
      if ( v25 >= 0 )
      {
        v20 = (_DWORD *)((char *)&unk_4AF728 + 28 * v25);
        v21 = RandomBetween(v20[1] - 32, v20[1] + 32);
        v22 = RandomBetween(v20[2] - 32, v20[2] + 32);
        a3[77] = *v20;
        a3[81] = v21;
        a3[82] = v22;
        a3[83] = 0;
      }
    }
    sub_46FA50(&v26, &v19, 0);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a1, (DWORD)&v31, a2);
}

//----- (00419C90) --------------------------------------------------------
void __userpurge sub_419C90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8)
{
  unsigned int v8; // eax
  char *v9; // [esp+0h] [ebp-18h]
  CMemory **v11; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  CMemory **Src; // [esp+14h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  CRWLock::WriteLock((CRWLock *)&unk_4B8470);
  v8 = CGuild::GetWarEndTime();
  sub_418590(a8, a2, a3, a4, a6, v8);
  Src = sub_445C90(a2, a3, a4, 76, "bbds", 0, 76, a5, a7);
  for ( i = a8; i != -5; i = *(_DWORD *)(i + 32) )
  {
    v11 = sub_401000(0x54u);
    if ( v11 )
      v9 = (char *)CWar::CWar(v11);
    else
      v9 = 0;
    *((_DWORD *)v9 + 9) = a6;
    *((_DWORD *)v9 + 10) = *(_DWORD *)(i + 36);
    strcpy(v9 + 44, (const char *)(i + 40));
    strcpy(v9 + 61, (const char *)(i + 57));
    CWar::SetGuild((int)v9, a2, a3, a4, *(volatile int **)(i + 80));
    if ( *(_DWORD *)(a1 + 52) == -4 )
      *(_DWORD *)(a1 + 52) = v9;
    else
      CWar::ADD(*(_DWORD **)(a1 + 52), (int)v9);
    CDBSocket::Write(a2, a3, a4, 61, "ddd", a5, a6, *(_DWORD *)(i + 36));
    if ( *(_DWORD *)(i + 80) )
      CGuild::Broadcast(*(_DWORD *)(i + 80), a2, a3, a4, Src, 0);
  }
  CIOBuffer::Release((CIOBuffer *)Src);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8470, a2, a3, a4);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
}

//----- (00419E00) --------------------------------------------------------
void __userpurge sub_419E00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, char *Source, int a8)
{
  char *v8; // [esp+0h] [ebp-14h]
  CMemory **v10; // [esp+8h] [ebp-Ch]
  CMemory **Src; // [esp+10h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  v10 = sub_401000(0x54u);
  if ( v10 )
    v8 = (char *)CWar::CWar(v10);
  else
    v8 = 0;
  *((_DWORD *)v8 + 9) = 0;
  *((_DWORD *)v8 + 10) = a6;
  strcpy(v8 + 44, (const char *)(a8 + 44));
  strcpy(v8 + 61, Source);
  CWar::SetGuild((int)v8, a2, a3, a4, (volatile int *)a8);
  if ( *(_DWORD *)(a1 + 52) == -4 )
    *(_DWORD *)(a1 + 52) = v8;
  else
    CWar::ADD(*(_DWORD **)(a1 + 52), (int)v8);
  CDBSocket::Write(a2, a3, a4, 61, "ddd", a5, 0, a6);
  Src = sub_445C90(a2, a3, a4, 76, "bbds", 0, 76, a5, a8 + 44);
  CGuild::Broadcast(a8, a2, a3, a4, Src, 0);
  CIOBuffer::Release((CIOBuffer *)Src);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
}

//----- (00419F10) --------------------------------------------------------
int __usercall CCastle::GetWarSize@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int i; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v7 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  for ( i = *(_DWORD *)(a1 + 52); i != -4; i = *(_DWORD *)(i + 32) )
    ++v7;
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v7;
}

//----- (00419F60) --------------------------------------------------------
void __userpurge sub_419F60(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<esi>, int a4)
{
  const char *v4; // eax
  int j; // [esp+8h] [ebp-1018h]
  int i; // [esp+Ch] [ebp-1014h]
  char v8; // [esp+10h] [ebp-1010h] BYREF
  char v9[4092]; // [esp+11h] [ebp-100Fh] BYREF
  __int16 v10; // [esp+100Dh] [ebp-13h]
  char v11; // [esp+100Fh] [ebp-11h]
  uintptr_t StackCookie; // [esp+1010h] [ebp-10h] BYREF
  char *v13; // [esp+1014h] [ebp-Ch]
  int v14; // [esp+1018h] [ebp-8h]
  int v15; // [esp+101Ch] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v8 = 0;
  memset(v9, 0, sizeof(v9));
  v10 = 0;
  v11 = 0;
  v13 = &v8;
  v15 = 0;
  v14 = 0;
  if ( a1[12] )
  {
    if ( *(_DWORD *)(a1[12] + 396) )
    {
      for ( i = *(_DWORD *)(a1[12] + 396); i != -5; i = *(_DWORD *)(i + 32) )
      {
        v13 = PutString(v13, (const char *)(i + 40));
        v13 = PutString(v13, (const char *)(i + 57));
        ++v14;
      }
    }
    else
    {
      v13 = PutString(v13, (const char *)(a1[12] + 44));
      v4 = CGuild::GetLeaderName(a1[12]);
      v13 = PutString(v13, v4);
      ++v14;
    }
  }
  if ( a1[13] != -4 )
  {
    for ( j = a1[13]; j != -4; j = *(_DWORD *)(j + 32) )
    {
      if ( !a1[12] || a1[8] != *(_DWORD *)(j + 40) && a1[8] != *(_DWORD *)(j + 36) )
      {
        if ( *(_DWORD *)(j + 36) && *(_DWORD *)(j + 40) != *(_DWORD *)(j + 36) )
          v13 = sub_417B60(v13, 0);
        else
          v13 = sub_417B60(v13, 1);
        v13 = (char *)sub_4459A0(v13, *(_DWORD *)(j + 36));
        v13 = PutString(v13, (const char *)(j + 44));
        v13 = PutString(v13, (const char *)(j + 61));
        ++v15;
      }
    }
  }
  sub_448C90(
    a2,
    (DWORD)&StackCookie,
    a3,
    a4,
    76,
    "bbbm",
    20,
    (unsigned __int8)v14,
    (unsigned __int8)v15,
    &v8,
    v13 - &v8);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, (DWORD)&StackCookie, a3);
}

//----- (0041A1E0) --------------------------------------------------------
BOOL __usercall CCastle::IsStandardAlive@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  BOOL v6; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v6 = *(_DWORD *)(a1 + 60) == 0;
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v6;
}

//----- (0041A220) --------------------------------------------------------
int __usercall CCastle::GetStandardUnfurl@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v6; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v6 = *(_DWORD *)(a1 + 64);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v6;
}

//----- (0041A250) --------------------------------------------------------
void __userpurge CCastle::SetStandardUnfurl(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  *(_DWORD *)(a1 + 64) = a5;
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
}

//----- (0041A280) --------------------------------------------------------
void __userpurge CCastle::SetCurStandardGuild(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, volatile int *a6)
{
  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  if ( *(_DWORD *)(a1 + 56) )
    sub_401C50(*(volatile int **)(a1 + 56), a2, a3, a4);
  if ( a6 )
    sub_4010D0(a6, a2, a3, a4);
  *(_DWORD *)(a1 + 56) = a6;
  *(_DWORD *)(a1 + 60) = a5;
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
}

//----- (0041A2E0) --------------------------------------------------------
void __usercall CCastle::UnfurlStandardCancel(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v5[4]; // [esp+0h] [ebp-10h] BYREF
  int v6; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  int v8; // [esp+Ch] [ebp-4h] BYREF

  if ( a4 )
  {
    CRWLock::WriteLock((CRWLock *)&unk_4B8494);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v5);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
              v4) )
        break;
      if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v8) + 4) + 52) != -4 )
      {
        if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v8) + 4) + 32) == a4 )
        {
          *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v8) + 4) + 64) = 0;
          break;
        }
        for ( i = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v8) + 4) + 52); i != -4; i = *(_DWORD *)(i + 32) )
        {
          if ( *(_DWORD *)(i + 40) == a4 )
          {
            *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v8) + 4) + 64) = 0;
            CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
            return;
          }
        }
      }
      sub_46FA50(&v8, &v6, 0);
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
  }
  else
  {
    LOG_ERR("CCastle::UnfurlStandardCancel() gid error");
  }
}

//----- (0041A3F0) --------------------------------------------------------
void __userpurge sub_41A3F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CMemory **Src; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  if ( *(_DWORD *)(a1 + 56) )
  {
    Src = sub_445C90(a2, a3, a4, 76, "bbdsb", 0, 98, a5, *(_DWORD *)(a1 + 56) + 44, *(_DWORD *)(a1 + 80) != 0);
    if ( !--*(_DWORD *)(*(_DWORD *)(a1 + 56) + 32) )
      *(_DWORD *)(*(_DWORD *)(a1 + 56) + 356) = GetTickCount() + 600000;
  }
  else
  {
    Src = sub_445C90(a2, a3, a4, 76, "bbdsb", 0, 98, a5, &::Src, 0);
  }
  CCastle::_WarMsg(a1, a2, a3, a4, Src);
  CIOBuffer::Release((CIOBuffer *)Src);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  CCastle::SetCurStandardGuild(a1, a2, a3, a4, 0, 0);
  CCastle::SetLordDeclare(a1, a2, a3, a4, 0);
}

//----- (0041A4E0) --------------------------------------------------------
int __usercall CCastle::CreateStandard@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, char *Source, int a7)
{
  int i; // [esp+4h] [ebp-8h]
  int v9; // [esp+8h] [ebp-4h]

  v9 = 0;
  for ( i = 0; i < 1; ++i )
  {
    if ( dword_4AD958[7 * i] == a4 )
    {
      if ( sub_43CEC0(
             a1,
             a2,
             a3,
             dword_4AD958[7 * i + 1],
             dword_4AD958[7 * i + 2],
             (int)&dword_4AD958[7 * i + 3],
             dword_4AD958[7 * i + 6] + (dword_4AD958[7 * i + 5] << 8),
             a5,
             Source,
             a7) )
      {
        v9 = 1;
      }
      return v9;
    }
  }
  return v9;
}

//----- (0041A570) --------------------------------------------------------
void __userpurge CCastle::CreateGate(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, char *Source)
{
  _DWORD *v8; // [esp+4h] [ebp-Ch] BYREF
  int *v9; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 5; ++i )
  {
    v9 = &dword_4AD978[7 * i];
    if ( *v9 == a5 )
    {
      v8 = sub_43CEC0(a2, a3, a4, v9[1], v9[2], (int)(v9 + 3), v9[6] + (v9[5] << 8), a6, Source, 0);
      std::vector<CIOSocket::CIOTimer>::push_back(
        (std::vector<CIOSocket::CIOTimer> *)(a1 + 88),
        (const CIOSocket::CIOTimer *)&v8);
    }
  }
}

//----- (0041A600) --------------------------------------------------------
int *__userpurge sub_41A600@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4@<esi>, int a5, int a6, char *Source)
{
  int *result; // eax
  void *v8; // eax
  char v10[4]; // [esp+8h] [ebp-18h] BYREF
  int v11; // [esp+Ch] [ebp-14h] BYREF
  int *v12; // [esp+10h] [ebp-10h]
  int i; // [esp+14h] [ebp-Ch]
  int v14; // [esp+18h] [ebp-8h] BYREF
  int v15; // [esp+1Ch] [ebp-4h]

  result = (int *)sub_482CA0((int *)(a1 + 88), &v14);
  for ( i = 0; i < 5; ++i )
  {
    v12 = &dword_4AD978[7 * i];
    result = v12;
    if ( *v12 == a5 )
    {
      v15 = *(_DWORD *)sub_43E1F0(&v14);
      if ( v15 )
      {
        (*(void (__thiscall **)(int, int, char *))(*(_DWORD *)v15 + 212))(v15, a6, Source);
      }
      else
      {
        a4 = sub_43CEC0(a2, a3, (DWORD)a4, v12[1], v12[2], (int)(v12 + 3), v12[6] + (v12[5] << 8), a6, Source, 0);
        *(_DWORD *)sub_43E1F0(&v14) = a4;
      }
      sub_4455C0(&v14, &v11, 0);
      v8 = sub_42EA00((int *)(a1 + 88), v10);
      result = (int *)unknown_libname_25(v8);
      if ( (_BYTE)result )
        break;
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041A700) --------------------------------------------------------
int __usercall CCastle::IsGateAlive@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, unsigned int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v7[4]; // [esp+0h] [ebp-10h] BYREF
  int v8; // [esp+4h] [ebp-Ch]
  int v9; // [esp+8h] [ebp-8h]
  int v10; // [esp+Ch] [ebp-4h] BYREF

  v9 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  sub_460550(dword_4B8488, &v10, &a4);
  v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v7);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
         v5) )
  {
    v8 = *(_DWORD *)(sub_43E1A0(&v10) + 4);
    if ( *std::vector<unsigned long>::operator[]((std::vector<unsigned long> *)(v8 + 88), a5) )
      v9 = 1;
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
  return v9;
}

//----- (0041A790) --------------------------------------------------------
int __usercall CCastle::GetTaxRate@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v6; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v6 = *(_DWORD *)(a1 + 40);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v6;
}

//----- (0041A7C0) --------------------------------------------------------
void __userpurge CCastle::SetTaxRate(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  *(_DWORD *)(a1 + 40) = a6;
  CDBSocket::Write(a2, a3, a4, 63, "db", a5, (unsigned __int8)a6);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
}

//----- (0041A810) --------------------------------------------------------
BOOL __usercall CCastle::IsPayment@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  BOOL v6; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v6 = *(_DWORD *)(a1 + 32) != 0;
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v6;
}

//----- (0041A850) --------------------------------------------------------
int __usercall CCastle::GetTax@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v6; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  v6 = *(_DWORD *)(a1 + 36);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v6;
}

//----- (0041A880) --------------------------------------------------------
void __userpurge CCastle::AddTax(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // [esp+0h] [ebp-8h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  if ( *(_DWORD *)(a1 + 36) + (a5 < 0 ? 0 : a5) <= 2000000000 )
    v5 = *(_DWORD *)(a1 + 36) + (a5 < 0 ? 0 : a5);
  else
    v5 = 2000000000;
  *(_DWORD *)(a1 + 36) = v5;
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
}

//----- (0041A8F0) --------------------------------------------------------
int __userpurge CCastle::ResetTax@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v7; // [esp+4h] [ebp-4h]

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  v7 = *(_DWORD *)(a1 + 36);
  *(_DWORD *)(a1 + 36) = 0;
  CDBSocket::Write(a2, a3, a4, 27, "dd", a5, 0);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v7;
}

//----- (0041A940) --------------------------------------------------------
int __usercall CCastle::TaxSave@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  int result; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  _DWORD *v5; // eax
  int v6; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+0h] [ebp-Ch] BYREF
  int v8; // [esp+4h] [ebp-8h] BYREF
  int v9; // [esp+8h] [ebp-4h] BYREF

  result = ++dword_4B845C;
  if ( dword_4B845C > 5 )
  {
    dword_4B845C = 0;
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v7);
      result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                 (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
                 v4);
      if ( !(_BYTE)result )
        break;
      v6 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v9) + 4) + 36);
      v5 = (_DWORD *)sub_43E1A0(&v9);
      CDBSocket::Write(a1, a2, a3, 27, "dd", *v5, v6);
      sub_46FA50(&v9, &v8, 0);
    }
  }
  return result;
}
// 4B845C: using guessed type int dword_4B845C;

//----- (0041A9E0) --------------------------------------------------------
int __userpurge CCastle::IsGateUse@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int i; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  v8 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  if ( a1[11] != 2 )
  {
    if ( a1[11] )
    {
      if ( a1[11] == 1 )
      {
        if ( a5 && a1[12] )
        {
          if ( *(_DWORD *)(a1[12] + 396) )
          {
            CRWLock::ReadLock((CRWLock *)&unk_4B8470);
            for ( i = *(_DWORD *)(a1[12] + 396); i != -5 && *(_DWORD *)(i + 36) != a5; i = *(_DWORD *)(i + 32) )
              ;
            if ( i == -5 )
              v8 = 97;
            CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a2, a3, a4);
          }
          else if ( a1[8] != a5 )
          {
            v8 = 97;
          }
        }
        else
        {
          v8 = 97;
        }
      }
    }
    else if ( !a5 || a1[8] != a5 )
    {
      v8 = 96;
    }
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v8;
}

//----- (0041AAF0) --------------------------------------------------------
int __userpurge CCastle::IsGateUseWarring@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int i; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  v8 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8494);
  if ( a5 && *(_DWORD *)(a1 + 48) )
  {
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 48) + 396) )
    {
      CRWLock::ReadLock((CRWLock *)&unk_4B8470);
      for ( i = *(_DWORD *)(*(_DWORD *)(a1 + 48) + 396); i != -5 && *(_DWORD *)(i + 36) != a5; i = *(_DWORD *)(i + 32) )
        ;
      if ( i == -5 )
        v8 = 97;
      CRWLock::ReadUnlock((CRWLock *)&unk_4B8470, a2, a3, a4);
    }
    else if ( *(_DWORD *)(a1 + 32) != a5 )
    {
      v8 = 97;
    }
  }
  else
  {
    v8 = 97;
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  return v8;
}

//----- (0041ABB0) --------------------------------------------------------
void __usercall CCastle::GateGoto(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5)
{
  int i; // [esp+4h] [ebp-4h]

  for ( i = 0; i < 10; ++i )
  {
    if ( dword_4ADA08[7 * i + 1] == a5 )
    {
      sub_451260(a4, a1, a2, a3, dword_4ADA08[7 * i + 2], &dword_4ADA08[7 * i + 3], 0, 0);
      return;
    }
  }
}

//----- (0041AC10) --------------------------------------------------------
int __userpurge CCastle::SetGateLimit@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  if ( a5 < 0 || a5 > 2 )
    return 0;
  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  *(_DWORD *)(a1 + 44) = a5;
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
  CDBSocket::Write(a2, a3, a4, 65, "db", a6, (unsigned __int8)a5);
  return 1;
}

//----- (0041AC70) --------------------------------------------------------
void __usercall CCastle::SetWarRemainSecondTime(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  dword_4B8460 = a4;
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
}
// 4B8460: using guessed type int dword_4B8460;

//----- (0041ACA0) --------------------------------------------------------
void __usercall CCastle::ChangeLeaderName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *Source)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v6[4]; // [esp+0h] [ebp-10h] BYREF
  int v7; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v5) )
      break;
    for ( i = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v9) + 4) + 52); i != -4; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 40) == a4 )
      {
        strcpy((char *)(i + 61), Source);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
        return;
      }
    }
    sub_46FA50(&v9, &v7, 0);
  }
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
}

//----- (0041AD50) --------------------------------------------------------
void __usercall CCastle::ChangeGuildName(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *Source)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v6[4]; // [esp+0h] [ebp-10h] BYREF
  int v7; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v5) )
      break;
    for ( i = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v9) + 4) + 52); i != -4; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 40) == a4 )
      {
        strcpy((char *)(i + 44), Source);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
        return;
      }
    }
    sub_46FA50(&v9, &v7, 0);
  }
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
}

//----- (0041AE00) --------------------------------------------------------
void __userpurge CCastle::SetLordDeclare(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  *(_DWORD *)(a1 + 80) = a5;
  if ( a5 )
    *(_DWORD *)(a1 + 84) = time(0) + 300;
  else
    *(_DWORD *)(a1 + 84) = 0;
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a2, a3, a4);
}

//----- (0041AE60) --------------------------------------------------------
void __usercall sub_41AE60(DWORD a1@<ebx>, DWORD a2@<edi>, _DWORD *a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v4[4]; // [esp+0h] [ebp-24h] BYREF
  int v5; // [esp+4h] [ebp-20h] BYREF
  void *v6; // [esp+8h] [ebp-1Ch]
  void *Src; // [esp+Ch] [ebp-18h]
  _DWORD *v8; // [esp+10h] [ebp-14h]
  int v9; // [esp+14h] [ebp-10h]
  int v10; // [esp+18h] [ebp-Ch] BYREF
  __time32_t v11; // [esp+1Ch] [ebp-8h]
  int v12; // [esp+20h] [ebp-4h]

  v12 = 0;
  v11 = time(0);
  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
            v3) )
      break;
    v8 = *(_DWORD **)(sub_43E1A0(&v10) + 4);
    if ( v8[13] != -4 && v8[19] )
    {
      v9 = v8[19] - v11;
      if ( v9 <= 600 )
      {
        if ( !(v9 % 60) || v9 <= 60 )
        {
          Src = sub_445C90(
                  a1,
                  a2,
                  (DWORD)a3,
                  76,
                  "bbbb",
                  0,
                  100,
                  (unsigned __int8)(v9 / 60),
                  (unsigned __int8)(v9 % 60));
          CCastle::_WarMsg((int)v8, a1, a2, (DWORD)a3, Src);
          CIOBuffer::Release((CIOBuffer *)Src);
        }
        if ( v9 <= 0 )
        {
          v12 = sub_41B250(v8, a1, a2, (DWORD)a3);
          if ( v12 )
            sub_41B060((int)v8, a1, a2, a3);
        }
      }
      if ( v8[20] )
      {
        v9 = v8[21] - v11;
        if ( v9 <= 300 && (!(v9 % 60) || v9 < 60 && !(v9 % 10) || v9 <= 30) )
        {
          v6 = sub_445C90(
                 a1,
                 a2,
                 (DWORD)a3,
                 76,
                 "bbsbb",
                 0,
                 104,
                 v8[14] + 44,
                 (unsigned __int8)(v9 / 60),
                 (unsigned __int8)(v9 % 60));
          CCastle::_WarMsg((int)v8, a1, a2, (DWORD)a3, v6);
          CIOBuffer::Release((CIOBuffer *)v6);
        }
        if ( v9 <= 0 )
        {
          sub_41B2D0((int)v8, a1, a2, (DWORD)a3);
          v8[20] = 0;
          v8[21] = 0;
        }
      }
    }
    sub_46FA50(&v10, &v5, 0);
  }
  if ( v12 )
    dword_4B8424 = 0;
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, (DWORD)a3);
}
// 4B8424: using guessed type int dword_4B8424;

//----- (0041B060) --------------------------------------------------------
void __usercall sub_41B060(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4@<esi>)
{
  CMemory **v4; // eax
  int v6; // [esp+8h] [ebp-8h]
  CIOBuffer *Src; // [esp+Ch] [ebp-4h]

  sub_41B2D0(a1, a2, a3, (DWORD)a4);
  if ( *(_DWORD *)(a1 + 48) )
    v4 = sub_445C90(a2, a3, (DWORD)a4, 76, "bbds", 0, 79, *(_DWORD *)(a1 + 68), *(_DWORD *)(a1 + 48) + 44);
  else
    v4 = sub_445C90(a2, a3, (DWORD)a4, 76, "bbds", 0, 79, *(_DWORD *)(a1 + 68), &::Src);
  Src = (CIOBuffer *)v4;
  CCastle::_WarMsg(a1, a2, a3, (DWORD)a4, v4);
  CIOBuffer::Release(Src);
  v6 = 0;
  if ( *(_DWORD *)(a1 + 48) )
  {
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 48) + 392) )
    {
      sub_448AC0(a2, a3, (DWORD)a4, *(_DWORD *)(a1 + 68), *(_DWORD *)(*(_DWORD *)(a1 + 48) + 392));
      goto LABEL_9;
    }
    v6 = *(_DWORD *)(a1 + 32);
  }
  sub_448AC0(a2, a3, (DWORD)a4, *(_DWORD *)(a1 + 68), v6);
LABEL_9:
  if ( *(_DWORD *)(a1 + 52) != -4 )
  {
    CWar::Clear(*(_DWORD *)(a1 + 52));
    *(_DWORD *)(a1 + 52) = -4;
  }
  sub_440FF0(a2, a3, (DWORD)a4, *(_DWORD *)(a1 + 68), 1);
  if ( *(_DWORD *)(a1 + 48) )
  {
    if ( !*(_DWORD *)(a1 + 56) )
      CCastle::CreateStandard(
        a2,
        a3,
        (DWORD)a4,
        *(_DWORD *)(a1 + 68),
        *(_DWORD *)(a1 + 32),
        (char *)(*(_DWORD *)(a1 + 48) + 44),
        0);
    sub_41A600(a1, a2, a3, a4, *(_DWORD *)(a1 + 68), *(_DWORD *)(a1 + 32), (char *)(*(_DWORD *)(a1 + 48) + 44));
  }
  else
  {
    CCastle::CreateStandard(a2, a3, (DWORD)a4, *(_DWORD *)(a1 + 68), 0, (char *)&::Src, 0);
    sub_41A600(a1, a2, a3, a4, *(_DWORD *)(a1 + 68), 0, (char *)&::Src);
  }
  if ( *(_DWORD *)(a1 + 56) )
    sub_401C50(*(volatile int **)(a1 + 56), a2, a3, (DWORD)a4);
  if ( *(_DWORD *)(a1 + 48) )
    sub_4010D0(*(volatile int **)(a1 + 48), a2, a3, (DWORD)a4);
  *(_DWORD *)(a1 + 56) = *(_DWORD *)(a1 + 48);
  *(_DWORD *)(a1 + 60) = *(_DWORD *)(a1 + 32);
  *(_DWORD *)(a1 + 64) = 0;
  *(_DWORD *)(a1 + 80) = 0;
  *(_DWORD *)(a1 + 84) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  CDBSocket::Write(a2, a3, (DWORD)a4, 62, &::Src);
}

//----- (0041B250) --------------------------------------------------------
int __usercall sub_41B250@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CMemory **Src; // [esp+4h] [ebp-4h]

  if ( !a1[16] && !a1[20] )
    return 1;
  if ( (int)++a1[18] >= 4 )
    return 1;
  Src = sub_445C90(a2, a3, a4, 76, "bb", 0, 105);
  CCastle::_WarMsg((int)a1, a2, a3, a4, Src);
  CIOBuffer::Release((CIOBuffer *)Src);
  a1[19] += 600;
  return 0;
}

//----- (0041B2D0) --------------------------------------------------------
void __usercall sub_41B2D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CMemory **v4; // eax
  CIOBuffer *Src; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  v7 = 0;
  if ( *(_DWORD *)(a1 + 56) )
  {
    v7 = *(_DWORD *)(a1 + 56);
  }
  else if ( *(_DWORD *)(a1 + 48) )
  {
    v7 = *(_DWORD *)(a1 + 48);
  }
  if ( v7 != *(_DWORD *)(a1 + 48) )
  {
    *(_DWORD *)(a1 + 32) = *(_DWORD *)(a1 + 60);
    CCastle::SetGuild(a1, a2, a3, a4, *(volatile int **)(a1 + 56));
    CDBSocket::Write(a2, a3, a4, 64, "dd", *(_DWORD *)(a1 + 68), *(_DWORD *)(a1 + 32));
    if ( *(_DWORD *)(a1 + 48) )
      v4 = sub_445C90(a2, a3, a4, 76, "bbds", 0, 106, *(_DWORD *)(a1 + 68), *(_DWORD *)(a1 + 48) + 44);
    else
      v4 = sub_445C90(a2, a3, a4, 76, "bbds", 0, 106, *(_DWORD *)(a1 + 68), &::Src);
    Src = (CIOBuffer *)v4;
    CCastle::_WarMsg(a1, a2, a3, a4, v4);
    CIOBuffer::Release(Src);
    *(_DWORD *)(a1 + 36) = 0;
    *(_DWORD *)(a1 + 40) = 100;
    CDBSocket::Write(a2, a3, a4, 63, "db", *(_DWORD *)(a1 + 68), 100);
  }
}

//----- (0041B3D0) --------------------------------------------------------
int CCastle::IsWarDeclared()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  char v2[4]; // [esp+0h] [ebp-Ch] BYREF
  int v3; // [esp+4h] [ebp-8h] BYREF
  int v4; // [esp+8h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8488,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8488, v2);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v4,
            v0) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v4) + 4) + 52) != -4 )
      return 1;
    sub_46FA50(&v4, &v3, 0);
  }
  return 0;
}

//----- (0041B440) --------------------------------------------------------
_DWORD *__thiscall CWar::CWar(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_4997E8;
  this[8] = -4;
  this[9] = 0;
  this[10] = 0;
  memset(this + 11, 0, 0x11u);
  memset((char *)this + 61, 0, 0x11u);
  this[20] = 0;
  return this;
}
// 4997E8: using guessed type int (__stdcall *off_4997E8)(int);

//----- (0041B4B0) --------------------------------------------------------
_DWORD *__userpurge sub_41B4B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_41B4E0(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0041B4E0) --------------------------------------------------------
_DWORD *__usercall sub_41B4E0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_4997E8;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 4997E8: using guessed type int (__stdcall *off_4997E8)(int);

//----- (0041B550) --------------------------------------------------------
void __usercall CWar::Load(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char *a5)
{
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  char *v7; // eax
  char *v8; // eax
  void *v9; // eax
  int v10; // eax
  int v11; // eax
  volatile signed __int32 *v12; // [esp-4h] [ebp-24h]
  volatile signed __int32 *v13; // [esp+0h] [ebp-20h]
  char v14[4]; // [esp+4h] [ebp-1Ch] BYREF
  int v15; // [esp+8h] [ebp-18h] BYREF
  CMemory **v16; // [esp+Ch] [ebp-14h]
  int v17; // [esp+10h] [ebp-10h]
  int v18; // [esp+14h] [ebp-Ch] BYREF
  volatile signed __int32 *v19; // [esp+18h] [ebp-8h]
  char v20[4]; // [esp+1Ch] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8494);
  if ( a4 )
  {
    sub_41B960(&v18);
    while ( a4 > 0 )
    {
      v16 = sub_401000(0x54u);
      if ( v16 )
        v13 = CWar::CWar(v16);
      else
        v13 = 0;
      v19 = v13;
      v5 = sub_417AF0(a5, v20);
      v6 = sub_417AF0(v5, (_DWORD *)v19 + 9);
      v7 = (char *)sub_417AF0(v6, (_DWORD *)v19 + 10);
      v8 = GetString(v7, (char *)v19 + 44);
      a5 = GetString(v8, (char *)v19 + 61);
      v18 = *sub_460550(dword_4B8488, &v15, v20);
      v9 = sub_482CA0(dword_4B8488, v14);
      if ( (unsigned __int8)unknown_libname_25(v9) )
      {
        LOG_ERR("CWar::Load() not find castle (cid:%d)", *(_DWORD *)v20);
        CBase::Delete(v19);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
        return;
      }
      v17 = *(_DWORD *)(sub_43E1A0(&v18) + 4);
      if ( *((_DWORD *)v19 + 10) == *(_DWORD *)(v17 + 32) )
        CWar::SetGuild((int)v19, a1, a2, a3, *(volatile int **)(v17 + 48));
      if ( *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v18) + 4) + 52) == -4 )
      {
        v10 = sub_43E1A0(&v18);
        *(_DWORD *)(*(_DWORD *)(v10 + 4) + 52) = v19;
      }
      else
      {
        v12 = v19;
        v11 = sub_43E1A0(&v18);
        CWar::ADD(*(_DWORD **)(*(_DWORD *)(v11 + 4) + 52), (int)v12);
      }
      --a4;
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
  }
  else
  {
    SetEvent(dword_4B8458);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B8494, a1, a2, a3);
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041B710) --------------------------------------------------------
void __usercall sub_41B710(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CWar::SetGuild((int)a1, a2, a3, a4, 0);
  sub_402020(a1, a2, a3, a4);
}

//----- (0041B730) --------------------------------------------------------
_DWORD *__thiscall CWar::ADD(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  while ( 1 )
  {
    result = this;
    if ( this[8] == -4 )
      break;
    this = (_DWORD *)this[8];
  }
  this[8] = a2;
  return result;
}

//----- (0041B770) --------------------------------------------------------
int __thiscall CWar::Clear(int this)
{
  int v3; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]

  for ( i = *(_DWORD *)(this + 32); i != -4; i = v3 )
  {
    v3 = *(_DWORD *)(i + 32);
    *(_DWORD *)(i + 32) = -4;
    CBase::Delete((volatile signed __int32 *)i);
  }
  *(_DWORD *)(this + 32) = -4;
  return CBase::Delete((volatile signed __int32 *)this);
}

//----- (0041B7D0) --------------------------------------------------------
_DWORD *__thiscall sub_41B7D0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_41B980(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0041B830) --------------------------------------------------------
_DWORD *__thiscall sub_41B830(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_41BA30(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0041B890) --------------------------------------------------------
void __thiscall sub_41B890(std::vector<unsigned long> *this)
{
  std::vector<unsigned long>::_Tidy(this);
}

//----- (0041B8B0) --------------------------------------------------------
unsigned int *__thiscall std::vector<unsigned long>::operator[](std::vector<unsigned long> *this, unsigned int _Pos)
{
  int *v2; // eax
  _DWORD *v3; // eax
  int v5; // [esp+4h] [ebp-8h] BYREF
  char v6[4]; // [esp+8h] [ebp-4h] BYREF

  v2 = (int *)sub_482CA0((int *)this, v6);
  v3 = sub_4457D0(v2, &v5, _Pos);
  return (unsigned int *)sub_43E1F0(v3);
}

//----- (0041B8F0) --------------------------------------------------------
void __thiscall std::vector<CIOSocket::CIOTimer>::push_back(std::vector<CIOSocket::CIOTimer> *this, const CIOSocket::CIOTimer *_Val)
{
  unsigned int v2; // esi
  void **v3; // eax
  int v5; // [esp+8h] [ebp-8h] BYREF
  char v6[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<unsigned long>::size(this);
  if ( v2 >= std::vector<unsigned long>::capacity(this) )
  {
    v3 = (void **)sub_42EA00((int *)this, v6);
    std::vector<CIOSocket::CIOTimer>::insert((int *)this, &v5, *v3, (int)_Val);
  }
  else
  {
    *((_DWORD *)this + 2) = std::vector<unsigned long>::_Ufill(
                              this,
                              *((unsigned int **)this + 2),
                              1u,
                              (const unsigned int *)_Val);
  }
}

//----- (0041B960) --------------------------------------------------------
void *__thiscall sub_41B960(void *this)
{
  unknown_libname_2(this);
  return this;
}
// 401EB0: using guessed type int __thiscall unknown_libname_2(_DWORD);

//----- (0041B980) --------------------------------------------------------
int __stdcall sub_41B980(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_41B980(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041BA00) --------------------------------------------------------
int __thiscall sub_41BA00(int *this)
{
  return sub_465290(this[1]);
}

//----- (0041BA20) --------------------------------------------------------
int __cdecl sub_41BA20(int a1)
{
  return a1 + 8;
}

//----- (0041BA30) --------------------------------------------------------
int __stdcall sub_41BA30(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_41BA30(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041BAB0) --------------------------------------------------------
int __thiscall std::vector<unsigned long>::capacity(std::vector<unsigned long> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 2;
  else
    v2 = 0;
  return v2;
}

//----- (0041BAF0) --------------------------------------------------------
_DWORD *__thiscall std::vector<CIOSocket::CIOTimer>::insert(int *this, _DWORD *a2, void *Src, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<unsigned long>::size((std::vector<unsigned long> *)this) )
  {
    v4 = sub_482CA0(this, v11);
    v8 = sub_4458A0((int *)&Src, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_41BBA0((int)this, Src, 1, a4);
  v7 = v12;
  v5 = (int *)sub_482CA0(this, v10);
  sub_4457D0(v5, a2, v7);
  return a2;
}

//----- (0041BB70) --------------------------------------------------------
unsigned int *__thiscall std::vector<unsigned long>::_Ufill(std::vector<unsigned long> *this, unsigned int *_Ptr, unsigned int _Count, const unsigned int *_Val)
{
  std::_Uninitialized_fill_n<unsigned long *,unsigned int,unsigned long,std::allocator<unsigned long>>(
    _Ptr,
    _Count,
    _Val);
  return &_Ptr[_Count];
}

//----- (0041BBA0) --------------------------------------------------------
void __thiscall sub_41BBA0(int this, void *Src, int a3, int a4)
{
  unsigned int v4; // esi
  unsigned int *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-1Ch]
  char *v8; // [esp+Ch] [ebp-14h]
  CMemory **v9; // [esp+10h] [ebp-10h]
  unsigned int *v10; // [esp+14h] [ebp-Ch]
  unsigned int v11; // [esp+18h] [ebp-8h]
  int v12; // [esp+18h] [ebp-8h]
  unsigned int v13; // [esp+1Ch] [ebp-4h] BYREF
  int v14; // [esp+2Ch] [ebp+Ch]

  v13 = *(_DWORD *)a4;
  v11 = std::vector<unsigned long>::capacity((std::vector<unsigned long> *)this);
  if ( a3 )
  {
    v4 = sub_445800((std::allocator<unsigned long> *)this);
    if ( v4 - std::vector<unsigned long>::size((std::vector<unsigned long> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<unsigned long>::size((std::vector<unsigned long> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)Src) >> 2 >= (unsigned int)a3 )
        {
          v8 = *(char **)(this + 8);
          *(_DWORD *)(this + 8) = sub_445A80(&v8[-4 * a3], (int)v8, v8);
          std::copy_backward<unsigned long *,unsigned long *>(
            (unsigned int *)Src,
            (unsigned int *)&v8[-4 * a3],
            (unsigned int *)v8);
          std::fill<unsigned long *,unsigned long>((unsigned int *)Src, (unsigned int *)Src + a3, &v13);
        }
        else
        {
          sub_445A80(Src, *(_DWORD *)(this + 8), (char *)Src + 4 * a3);
          std::vector<unsigned long>::_Ufill(
            (std::vector<unsigned long> *)this,
            *(unsigned int **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)Src) >> 2),
            &v13);
          *(_DWORD *)(this + 8) += 4 * a3;
          std::fill<unsigned long *,unsigned long>(
            (unsigned int *)Src,
            (unsigned int *)(*(_DWORD *)(this + 8) - 4 * a3),
            &v13);
        }
      }
      else
      {
        if ( sub_445800((std::allocator<unsigned long> *)this) - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<unsigned long>::size((std::vector<unsigned long> *)this) )
          v12 = a3 + std::vector<unsigned long>::size((std::vector<unsigned long> *)this);
        v9 = sub_41BE60(v12);
        v5 = sub_445A80(*(void **)(this + 4), (int)Src, v9);
        v10 = std::vector<unsigned long>::_Ufill((std::vector<unsigned long> *)this, v5, a3, &v13);
        sub_445A80(Src, *(_DWORD *)(this + 8), v10);
        v14 = a3 + std::vector<unsigned long>::size((std::vector<unsigned long> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_445670(*(unsigned int **)(this + 4), *(unsigned int **)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 2);
        }
        *(_DWORD *)(this + 12) = &v9[v12];
        *(_DWORD *)(this + 8) = &v9[v14];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (0041BE60) --------------------------------------------------------
CMemory **__stdcall sub_41BE60(int a1)
{
  return sub_41BF10(a1);
}

//----- (0041BE80) --------------------------------------------------------
std::pair<char const * const,CItem *> *sub_41BE80(std::pair<char const * const,CItem *> *a1, ...)
{
  int v2; // [esp+Ch] [ebp+Ch] BYREF
  va_list va; // [esp+Ch] [ebp+Ch]
  va_list va1; // [esp+10h] [ebp+10h] BYREF

  va_start(va1, a1);
  va_start(va, a1);
  v2 = va_arg(va1, _DWORD);
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    a1,
    (const char *const *)va,
    (CItem *const *)va1);
  return a1;
}

//----- (0041BEA0) --------------------------------------------------------
void __cdecl std::fill<unsigned long *,unsigned long>(unsigned int *_First, unsigned int *_Last, const unsigned int *_Val)
{
  while ( _First != _Last )
    *_First++ = *_Val;
}

//----- (0041BED0) --------------------------------------------------------
unsigned int *__cdecl std::copy_backward<unsigned long *,unsigned long *>(unsigned int *_First, unsigned int *_Last, unsigned int *_Dest)
{
  unknown_libname_27(_First, _Dest);
  return (unsigned int *)std::_Copy_backward_opt<unsigned long *,unsigned long *>(_First, (int)_Last, (int)_Dest);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0041BF10) --------------------------------------------------------
CMemory **__cdecl sub_41BF10(int a1)
{
  return sub_401000(4 * a1);
}

//----- (0041BF30) --------------------------------------------------------
void __cdecl sub_41BF30(unsigned int *a1, unsigned int a2, const unsigned int *a3)
{
  std::fill_n<unsigned long *,unsigned int,unsigned long>(a1, a2, a3);
}

//----- (0041BF50) --------------------------------------------------------
unsigned int *__cdecl std::_Uninitialized_copy<unsigned long *,unsigned long *,std::allocator<unsigned long>>(unsigned int *_First, unsigned int *_Last, unsigned int *_Dest)
{
  unknown_libname_27(_First, _Dest);
  return (unsigned int *)unknown_libname_22(_First, (int)_Last, _Dest);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0041BF90) --------------------------------------------------------
void __cdecl std::fill_n<unsigned long *,unsigned int,unsigned long>(unsigned int *_First, unsigned int _Count, const unsigned int *_Val)
{
  memset32(_First, *_Val, _Count);
}

//----- (0041BFC0) --------------------------------------------------------
void *__thiscall sub_41BFC0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0041BFF0) --------------------------------------------------------
void *__thiscall sub_41BFF0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0041C020) --------------------------------------------------------
int __thiscall sub_41C020(int *this)
{
  return sub_41C040(this);
}

//----- (0041C040) --------------------------------------------------------
int __thiscall sub_41C040(int *this)
{
  return sub_41C060(this);
}

//----- (0041C060) --------------------------------------------------------
int __thiscall sub_41C060(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_41C110(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041C110) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41C110(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_41B7D0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041C1B0) --------------------------------------------------------
int __thiscall sub_41C1B0(int *this)
{
  return sub_41C1D0(this);
}

//----- (0041C1D0) --------------------------------------------------------
int __thiscall sub_41C1D0(int *this)
{
  return sub_41C1F0(this);
}

//----- (0041C1F0) --------------------------------------------------------
int __thiscall sub_41C1F0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_41C2A0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041C2A0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41C2A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_41B830((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041C340) --------------------------------------------------------
_DWORD *__thiscall sub_41C340(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_499870;
  sub_41EE30(this + 30);
  memset(this + 8, 0, 0x1Fu);
  this[16] = 0;
  this[17] = 0;
  this[18] = 0;
  this[19] = 0;
  this[20] = 0;
  this[21] = 0;
  this[22] = 0;
  this[23] = 0;
  this[24] = -1;
  this[25] = 0;
  this[26] = 0;
  this[27] = 0;
  this[28] = 0;
  this[29] = 0;
  this[33] = 0;
  this[34] = 0;
  this[35] = 0;
  this[36] = 0;
  this[37] = 0;
  this[38] = 0;
  this[39] = 0;
  this[40] = -1;
  this[41] = 0;
  this[42] = 0;
  this[43] = 0;
  this[44] = 0;
  return this;
}
// 499870: using guessed type int (__stdcall *off_499870)(int);

//----- (0041C4B0) --------------------------------------------------------
void *__userpurge sub_41C4B0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  CInitItem::_CInitItem((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0041C4E0) --------------------------------------------------------
_DWORD *__usercall CInitItem::_CInitItem@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  char v8[4]; // [esp+8h] [ebp-Ch] BYREF
  int v9; // [esp+Ch] [ebp-8h] BYREF
  int v10; // [esp+10h] [ebp-4h] BYREF

  *(_DWORD *)a1 = &off_499870;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 120), v8);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
            v4) )
      break;
    v5 = sub_43E1A0(&v10);
    sub_401020(*(void **)(v5 + 4));
    sub_46FA50(&v10, &v9, 0);
  }
  sub_41C570((int *)(a1 + 120));
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}
// 499870: using guessed type int (__stdcall *off_499870)(int);

//----- (0041C570) --------------------------------------------------------
int __thiscall sub_41C570(int *this)
{
  return sub_41EE60(this);
}

//----- (0041C590) --------------------------------------------------------
int CInitItem::Open()
{
  int result; // eax
  char v1[8]; // [esp+0h] [ebp-10h] BYREF
  char v2[4]; // [esp+8h] [ebp-8h]
  int v3; // [esp+Ch] [ebp-4h]

  v3 = 46;
  *(_DWORD *)v2 = 0;
  while ( *(int *)v2 < v3 )
  {
    sub_442DD0(
      dword_4B84B0,
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v1,
      (const std::pair<char const * const,CItem *> *)(8 * *(_DWORD *)v2 + 4949184));
    if ( !v1[4] )
      LOG_ERR("CInitItem::Open() Duplicate Key. (key:%d)", *(_DWORD *)v2);
    result = ++*(_DWORD *)v2;
  }
  return result;
}

//----- (0041C5F0) --------------------------------------------------------
int __cdecl CInitItem::FindKey(int a1)
{
  void *v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  int v4; // [esp+4h] [ebp-4h] BYREF

  sub_41EEB0(dword_4B84B0, &v4, (const char **)&a1);
  v1 = sub_482CA0(dword_4B84B0, v3);
  if ( (unsigned __int8)unknown_libname_25(v1) )
    result = -1;
  else
    result = *(_DWORD *)(sub_43E1A0(&v4) + 4);
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041C640) --------------------------------------------------------
_DWORD *CGenNPC::Copy()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0xB4u);
  if ( v2 )
    v1 = sub_41C340(v2);
  else
    v1 = 0;
  return v1;
}

//----- (0041C680) --------------------------------------------------------
int __thiscall sub_41C680(int this, int a2, int a3)
{
  lisp::var *v3; // eax
  int v4; // eax
  int result; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  int v8; // eax
  lisp::var *v9; // eax
  int v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  int v20; // eax
  lisp::var *v21; // eax
  lisp::var *v22; // eax
  lisp::var *v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  lisp::var *v30; // eax
  lisp::var *v31; // eax
  lisp::var *v32; // eax
  lisp::var *v33; // eax
  lisp::var *v34; // eax
  lisp::var *v35; // eax
  char v37[4]; // [esp+Ch] [ebp-88h] BYREF
  char v38[4]; // [esp+10h] [ebp-84h] BYREF
  char v39[4]; // [esp+14h] [ebp-80h] BYREF
  char v40[4]; // [esp+18h] [ebp-7Ch] BYREF
  char v41[4]; // [esp+1Ch] [ebp-78h] BYREF
  char v42[4]; // [esp+20h] [ebp-74h] BYREF
  char v43[4]; // [esp+24h] [ebp-70h] BYREF
  char v44[4]; // [esp+28h] [ebp-6Ch] BYREF
  char v45[4]; // [esp+2Ch] [ebp-68h] BYREF
  char v46[8]; // [esp+30h] [ebp-64h] BYREF
  char v47[4]; // [esp+38h] [ebp-5Ch] BYREF
  char v48[4]; // [esp+3Ch] [ebp-58h] BYREF
  char v49[4]; // [esp+40h] [ebp-54h] BYREF
  char v50[4]; // [esp+44h] [ebp-50h] BYREF
  char v51[4]; // [esp+48h] [ebp-4Ch] BYREF
  char v52[4]; // [esp+4Ch] [ebp-48h] BYREF
  char v53[4]; // [esp+50h] [ebp-44h] BYREF
  char v54[4]; // [esp+54h] [ebp-40h] BYREF
  char v55[4]; // [esp+58h] [ebp-3Ch] BYREF
  char v56[4]; // [esp+5Ch] [ebp-38h] BYREF
  char v57[4]; // [esp+60h] [ebp-34h] BYREF
  char v58[4]; // [esp+64h] [ebp-30h] BYREF
  char v59[4]; // [esp+68h] [ebp-2Ch] BYREF
  char v60[4]; // [esp+6Ch] [ebp-28h] BYREF
  char v61[4]; // [esp+70h] [ebp-24h] BYREF
  char v62[4]; // [esp+74h] [ebp-20h] BYREF
  char v63[4]; // [esp+78h] [ebp-1Ch] BYREF
  char v64[4]; // [esp+7Ch] [ebp-18h] BYREF
  int v65; // [esp+80h] [ebp-14h]
  int v66; // [esp+84h] [ebp-10h]
  int v67; // [esp+88h] [ebp-Ch]
  int v68; // [esp+8Ch] [ebp-8h]
  char *Str; // [esp+90h] [ebp-4h]

  switch ( a2 )
  {
    case 1:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v64);
      v4 = sub_40BBE0(v3);
      Str = (char *)GetStr(v4);
      if ( Str && strlen(Str) && strlen(Str) <= 0x1E )
      {
        strcpy((char *)(this + 32), Str);
        goto LABEL_33;
      }
      LOG_ERR("CInitItem::Set() Invalid Name. (Name:%s)", Str);
      return 0;
    case 2:
      v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v63);
      *(_DWORD *)(this + 64) = sub_40BBE0(v6);
      goto LABEL_33;
    case 7:
      v15 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v56);
      *(_DWORD *)(this + 80) = sub_40BBE0(v15);
      goto LABEL_33;
    case 8:
      v29 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v43);
      *(_DWORD *)(this + 152) = sub_40BBE0(v29);
      goto LABEL_33;
    case 34:
      v22 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v50);
      *(_DWORD *)(this + 104) = sub_40BBE0(v22);
      goto LABEL_33;
    case 38:
      v7 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v62);
      v8 = sub_4021E0(v7);
      *(_DWORD *)(this + 68) = CInitItem::FindKey(v8);
      v9 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v61);
      v10 = sub_4021E0(v9);
      *(_DWORD *)(this + 72) = CInitItem::FindKey(v10);
      goto LABEL_33;
    case 39:
      v19 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v52);
      v20 = sub_4021E0(v19);
      *(_DWORD *)(this + 96) = CInitItem::FindKey(v20);
      v21 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v51);
      *(_DWORD *)(this + 100) = sub_40BBE0(v21);
      goto LABEL_33;
    case 40:
      v23 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v49);
      *(_DWORD *)(this + 108) = sub_40BBE0(v23);
      goto LABEL_33;
    case 41:
      v25 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v47);
      *(_DWORD *)(this + 116) = sub_40BBE0(v25);
      goto LABEL_33;
    case 42:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      if ( CInitItem::SetSpec(this, a2 - 1) )
        goto LABEL_33;
      result = 0;
      break;
    case 44:
    case 45:
    case 57:
    case 90:
    case 91:
      goto LABEL_33;
    case 47:
      v16 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v55);
      *(_DWORD *)(this + 84) = sub_40BBE0(v16);
      goto LABEL_33;
    case 48:
      v17 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v54);
      *(_DWORD *)(this + 88) = sub_40BBE0(v17);
      goto LABEL_33;
    case 49:
      v18 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v53);
      *(_DWORD *)(this + 92) = sub_40BBE0(v18);
      goto LABEL_33;
    case 58:
      v24 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v48);
      *(_DWORD *)(this + 112) = sub_40BBE0(v24);
      goto LABEL_33;
    case 80:
      v26 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v46);
      *(_DWORD *)(this + 132) = sub_40BBE0(v26);
      v27 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v45);
      *(_DWORD *)(this + 136) = sub_40BBE0(v27);
      *(_DWORD *)(this + 144) = *(_DWORD *)(this + 136);
      goto LABEL_33;
    case 86:
      v28 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v44);
      *(_DWORD *)(this + 148) = sub_40BBE0(v28);
      goto LABEL_33;
    case 98:
      v30 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v42);
      *(_DWORD *)(this + 156) = sub_40BBE0(v30);
      goto LABEL_33;
    case 101:
      v11 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v60);
      v66 = sub_40BBE0(v11);
      v12 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v59);
      v68 = sub_40BBE0(v12);
      v13 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v58);
      v67 = sub_40BBE0(v13);
      v14 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v57);
      v65 = sub_40BBE0(v14);
      *(_DWORD *)(this + 76) = v65 | (v67 << 8) | (v68 << 16) | (v66 << 24);
      goto LABEL_33;
    case 102:
      v31 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v41);
      *(_DWORD *)(this + 160) = sub_40BBE0(v31);
      v32 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v40);
      *(_DWORD *)(this + 164) = sub_40BBE0(v32);
      goto LABEL_33;
    case 105:
      v33 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v39);
      *(_DWORD *)(this + 168) = sub_40BBE0(v33);
      goto LABEL_33;
    case 106:
      v34 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v38);
      *(_DWORD *)(this + 172) = sub_40BBE0(v34);
      goto LABEL_33;
    case 109:
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        v35 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v37);
        *(_DWORD *)(this + 176) |= 1 << sub_40BBE0(v35);
      }
LABEL_33:
      result = 1;
      break;
    default:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      result = CBase::Set((void *)this, a2, a2 - 1);
      break;
  }
  return result;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0041CC40) --------------------------------------------------------
int __thiscall CInitItem::OnLoad(_DWORD *this)
{
  if ( this[17] == 1 && (int)this[20] >= 40 )
    this[42] = 30;
  return CItem::InsertInitItem((int)this);
}

//----- (0041CC80) --------------------------------------------------------
int __thiscall CInitItem::SetSpec(int this, int a2)
{
  lisp::var *v2; // eax
  int result; // eax
  lisp::var *v4; // eax
  int v5; // eax
  lisp::var *v6; // eax
  int v7; // eax
  lisp::var *v8; // eax
  int v9; // eax
  lisp::var *v10; // eax
  int v11; // eax
  lisp::var *v12; // eax
  int v13; // eax
  lisp::var *v14; // eax
  int v15; // eax
  lisp::var *v16; // eax
  int v17; // eax
  lisp::var *v18; // eax
  int v19; // eax
  lisp::var *v20; // eax
  int v21; // eax
  lisp::var *v22; // eax
  int v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  int v30; // eax
  lisp::var *v31; // eax
  int v32; // eax
  lisp::var *v33; // eax
  int v34; // eax
  lisp::var *v35; // eax
  int v36; // eax
  lisp::var *v37; // eax
  int v38; // eax
  lisp::var *v39; // eax
  int v40; // eax
  lisp::var *v41; // eax
  int v42; // eax
  lisp::var *v43; // eax
  int v44; // eax
  lisp::var *v45; // eax
  char v46; // al
  lisp::var *v47; // eax
  lisp::var *v48; // eax
  lisp::var *v49; // eax
  int v50; // eax
  lisp::var *v51; // eax
  lisp::var *v52; // eax
  int v53; // eax
  int v54; // eax
  lisp::var *v55; // eax
  int v56; // eax
  lisp::var *v57; // eax
  lisp::var *v58; // eax
  lisp::var *v59; // eax
  lisp::var *v60; // eax
  lisp::var *v61; // eax
  lisp::var *v62; // eax
  lisp::var *v63; // eax
  lisp::var *v64; // eax
  int v65; // eax
  const std::pair<int const ,CSocket *> *v66; // eax
  CItem *v67; // [esp+0h] [ebp-1F0h]
  CItem *v68; // [esp+4h] [ebp-1ECh]
  CItem *v69; // [esp+8h] [ebp-1E8h]
  CItem *v70; // [esp+Ch] [ebp-1E4h]
  CItem *v71; // [esp+10h] [ebp-1E0h]
  CItem *v72; // [esp+14h] [ebp-1DCh]
  CItem *v73; // [esp+18h] [ebp-1D8h]
  CItem *v74; // [esp+1Ch] [ebp-1D4h]
  CItem *v75; // [esp+20h] [ebp-1D0h]
  CItem *v76; // [esp+24h] [ebp-1CCh]
  CItem *v77; // [esp+28h] [ebp-1C8h]
  CItem *v78; // [esp+2Ch] [ebp-1C4h]
  CItem *v79; // [esp+30h] [ebp-1C0h]
  CItem *v80; // [esp+34h] [ebp-1BCh]
  CItem *v81; // [esp+38h] [ebp-1B8h]
  CItem *v82; // [esp+3Ch] [ebp-1B4h]
  CItem *v83; // [esp+40h] [ebp-1B0h]
  CItem *v84; // [esp+44h] [ebp-1ACh]
  CItem *v85; // [esp+48h] [ebp-1A8h]
  CItem *v86; // [esp+4Ch] [ebp-1A4h]
  CItem *v87; // [esp+50h] [ebp-1A0h]
  CItem *v88; // [esp+54h] [ebp-19Ch]
  CItem *v89; // [esp+58h] [ebp-198h]
  CItem *v90; // [esp+5Ch] [ebp-194h]
  CItem *v91; // [esp+60h] [ebp-190h]
  CItem *v92; // [esp+64h] [ebp-18Ch]
  CItem *v93; // [esp+68h] [ebp-188h]
  CItem *v94; // [esp+6Ch] [ebp-184h]
  CItem *v95; // [esp+70h] [ebp-180h]
  char v97[8]; // [esp+7Ch] [ebp-174h] BYREF
  char v98[4]; // [esp+84h] [ebp-16Ch] BYREF
  CMemory **v99; // [esp+88h] [ebp-168h]
  CMemory **v100; // [esp+8Ch] [ebp-164h]
  CMemory **v101; // [esp+90h] [ebp-160h]
  char v102[4]; // [esp+94h] [ebp-15Ch] BYREF
  char v103[4]; // [esp+98h] [ebp-158h] BYREF
  char v104[4]; // [esp+9Ch] [ebp-154h] BYREF
  CMemory **v105; // [esp+A0h] [ebp-150h]
  char v106[4]; // [esp+A4h] [ebp-14Ch] BYREF
  char v107[4]; // [esp+A8h] [ebp-148h] BYREF
  char v108[4]; // [esp+ACh] [ebp-144h] BYREF
  char v109[4]; // [esp+B0h] [ebp-140h] BYREF
  char v110[4]; // [esp+B4h] [ebp-13Ch] BYREF
  CMemory **v111; // [esp+B8h] [ebp-138h]
  char v112[4]; // [esp+BCh] [ebp-134h] BYREF
  CMemory **v113; // [esp+C0h] [ebp-130h]
  Concurrency::scheduler_worker_creation_error *v114; // [esp+C4h] [ebp-12Ch]
  char v115[4]; // [esp+C8h] [ebp-128h] BYREF
  char v116[4]; // [esp+CCh] [ebp-124h] BYREF
  Concurrency::scheduler_worker_creation_error *v117; // [esp+D0h] [ebp-120h]
  char v118[4]; // [esp+D4h] [ebp-11Ch] BYREF
  char v119[4]; // [esp+D8h] [ebp-118h] BYREF
  char v120[4]; // [esp+DCh] [ebp-114h] BYREF
  CMemory **v121; // [esp+E0h] [ebp-110h]
  char v122[4]; // [esp+E4h] [ebp-10Ch] BYREF
  CMemory **v123; // [esp+E8h] [ebp-108h]
  char v124[4]; // [esp+ECh] [ebp-104h] BYREF
  CMemory **v125; // [esp+F0h] [ebp-100h]
  char v126[4]; // [esp+F4h] [ebp-FCh] BYREF
  CMemory **v127; // [esp+F8h] [ebp-F8h]
  char v128[4]; // [esp+FCh] [ebp-F4h] BYREF
  CMemory **v129; // [esp+100h] [ebp-F0h]
  char v130[4]; // [esp+104h] [ebp-ECh] BYREF
  CMemory **v131; // [esp+108h] [ebp-E8h]
  char v132[4]; // [esp+10Ch] [ebp-E4h] BYREF
  CMemory **v133; // [esp+110h] [ebp-E0h]
  char v134[4]; // [esp+114h] [ebp-DCh] BYREF
  CMemory **v135; // [esp+118h] [ebp-D8h]
  char v136[4]; // [esp+11Ch] [ebp-D4h] BYREF
  CMemory **v137; // [esp+120h] [ebp-D0h]
  CMemory **v138; // [esp+124h] [ebp-CCh]
  char v139[4]; // [esp+128h] [ebp-C8h] BYREF
  CMemory **v140; // [esp+12Ch] [ebp-C4h]
  char v141[4]; // [esp+130h] [ebp-C0h] BYREF
  char v142[4]; // [esp+134h] [ebp-BCh] BYREF
  CMemory **v143; // [esp+138h] [ebp-B8h]
  char v144[4]; // [esp+13Ch] [ebp-B4h] BYREF
  char v145[4]; // [esp+140h] [ebp-B0h] BYREF
  char v146[4]; // [esp+144h] [ebp-ACh] BYREF
  CMemory **v147; // [esp+148h] [ebp-A8h]
  char v148[4]; // [esp+14Ch] [ebp-A4h] BYREF
  CMemory **v149; // [esp+150h] [ebp-A0h]
  char v150[4]; // [esp+154h] [ebp-9Ch] BYREF
  CMemory **v151; // [esp+158h] [ebp-98h]
  char v152[4]; // [esp+15Ch] [ebp-94h] BYREF
  CMemory **v153; // [esp+160h] [ebp-90h]
  char v154[4]; // [esp+164h] [ebp-8Ch] BYREF
  CMemory **v155; // [esp+168h] [ebp-88h]
  char v156[4]; // [esp+16Ch] [ebp-84h] BYREF
  CMemory **v157; // [esp+170h] [ebp-80h]
  char v158[4]; // [esp+174h] [ebp-7Ch] BYREF
  CMemory **v159; // [esp+178h] [ebp-78h]
  char v160[4]; // [esp+17Ch] [ebp-74h] BYREF
  CMemory **v161; // [esp+180h] [ebp-70h]
  char v162[4]; // [esp+184h] [ebp-6Ch] BYREF
  char v163[4]; // [esp+188h] [ebp-68h] BYREF
  CMemory **v164; // [esp+18Ch] [ebp-64h]
  char v165[4]; // [esp+190h] [ebp-60h] BYREF
  int v166; // [esp+194h] [ebp-5Ch]
  int v167; // [esp+198h] [ebp-58h]
  int v168; // [esp+19Ch] [ebp-54h]
  int v169; // [esp+1A0h] [ebp-50h]
  int v170; // [esp+1A4h] [ebp-4Ch]
  int v171; // [esp+1A8h] [ebp-48h]
  int v172; // [esp+1ACh] [ebp-44h]
  int v173; // [esp+1B0h] [ebp-40h]
  char *v174; // [esp+1B4h] [ebp-3Ch]
  int v175; // [esp+1B8h] [ebp-38h]
  char *v176; // [esp+1BCh] [ebp-34h]
  int v177; // [esp+1C0h] [ebp-30h]
  int v178; // [esp+1C4h] [ebp-2Ch]
  int v179; // [esp+1C8h] [ebp-28h]
  int v180; // [esp+1CCh] [ebp-24h]
  int v181; // [esp+1D0h] [ebp-20h]
  int v182; // [esp+1D4h] [ebp-1Ch]
  char v183[8]; // [esp+1D8h] [ebp-18h] BYREF
  CItem *v184; // [esp+1E0h] [ebp-10h] BYREF
  char v185[4]; // [esp+1E4h] [ebp-Ch]
  int v186; // [esp+1E8h] [ebp-8h] BYREF
  char v187[4]; // [esp+1ECh] [ebp-4h] BYREF

  while ( 2 )
  {
    if ( (unsigned __int8)sub_402200(&a2) )
      return 1;
    lisp::var::pop((lisp::var *)&a2, (lisp::var *)&v186);
    v2 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v165);
    *(_DWORD *)v185 = sub_4021E0(v2);
    *(_DWORD *)v187 = CObjectDB::FindSymbol(*(int *)v185);
    if ( *(_DWORD *)v187 )
    {
      v184 = 0;
      switch ( *(_DWORD *)v187 )
      {
        case 9:
          v164 = sub_401000(0x14u);
          if ( v164 )
          {
            v4 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v163);
            v5 = sub_40BBE0(v4);
            v95 = (CItem *)sub_41DA20(v164, 0, v5);
          }
          else
          {
            v95 = 0;
          }
          v184 = v95;
          goto LABEL_9;
        case 0xA:
          v161 = sub_401000(0x14u);
          if ( v161 )
          {
            v8 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v160);
            v9 = sub_40BBE0(v8);
            v94 = (CItem *)sub_41DA20(v161, 1, v9);
          }
          else
          {
            v94 = 0;
          }
          v184 = v94;
          goto LABEL_9;
        case 0xB:
          v159 = sub_401000(0x14u);
          if ( v159 )
          {
            v10 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v158);
            v11 = sub_40BBE0(v10);
            v93 = (CItem *)sub_41DA20(v159, 2, v11);
          }
          else
          {
            v93 = 0;
          }
          v184 = v93;
          goto LABEL_9;
        case 0xC:
          v157 = sub_401000(0x14u);
          if ( v157 )
          {
            v12 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v156);
            v13 = sub_40BBE0(v12);
            v92 = (CItem *)sub_41DA20(v157, 3, v13);
          }
          else
          {
            v92 = 0;
          }
          v184 = v92;
          goto LABEL_9;
        case 0xD:
          v155 = sub_401000(0x14u);
          if ( v155 )
          {
            v14 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v154);
            v15 = sub_40BBE0(v14);
            v91 = (CItem *)sub_41DA20(v155, 4, v15);
          }
          else
          {
            v91 = 0;
          }
          v184 = v91;
          goto LABEL_9;
        case 0xE:
          v153 = sub_401000(0x14u);
          if ( v153 )
          {
            v16 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v152);
            v17 = sub_40BBE0(v16);
            v90 = (CItem *)sub_41DA20(v153, 5, v17);
          }
          else
          {
            v90 = 0;
          }
          v184 = v90;
          goto LABEL_9;
        case 0xF:
          v151 = sub_401000(0x14u);
          if ( v151 )
          {
            v18 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v150);
            v19 = sub_40BBE0(v18);
            v89 = (CItem *)sub_41DA20(v151, 6, v19);
          }
          else
          {
            v89 = 0;
          }
          v184 = v89;
          goto LABEL_9;
        case 0x10:
          v149 = sub_401000(0x14u);
          if ( v149 )
          {
            v20 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v148);
            v21 = sub_40BBE0(v20);
            v88 = (CItem *)sub_41DA20(v149, 9, v21);
          }
          else
          {
            v88 = 0;
          }
          v184 = v88;
          goto LABEL_9;
        case 0x11:
          v147 = sub_401000(0x14u);
          if ( v147 )
          {
            v22 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v146);
            v23 = sub_40BBE0(v22);
            v87 = (CItem *)sub_41DA20(v147, 10, v23);
          }
          else
          {
            v87 = 0;
          }
          v184 = v87;
          goto LABEL_9;
        case 0x12:
          v24 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v145);
          v181 = sub_40BBE0(v24);
          v25 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v144);
          v182 = sub_40BBE0(v25);
          v143 = sub_401000(0x14u);
          if ( v143 )
            v86 = (CItem *)CSpecPrty::CSpecPrty(v143, 27, v181, v182);
          else
            v86 = 0;
          v184 = v86;
          goto LABEL_9;
        case 0x13:
          v26 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v142);
          v179 = sub_40BBE0(v26);
          v27 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v141);
          v180 = sub_40BBE0(v27);
          v140 = sub_401000(0x14u);
          if ( v140 )
            v85 = (CItem *)CSpecPrty::CSpecPrty(v140, 28, v179, v180);
          else
            v85 = 0;
          v184 = v85;
          goto LABEL_9;
        case 0x14:
          v28 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v139);
          v178 = sub_40BBE0(v28);
          v138 = sub_401000(0x14u);
          if ( v138 )
            v84 = (CItem *)CSpecPrty::CSpecPrty(v138, 15, v178, v178);
          else
            v84 = 0;
          v184 = v84;
          goto LABEL_9;
        case 0x15:
          v137 = sub_401000(0x14u);
          if ( v137 )
          {
            v29 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v136);
            v30 = sub_40BBE0(v29);
            v83 = (CItem *)sub_41DA20(v137, 16, v30);
          }
          else
          {
            v83 = 0;
          }
          v184 = v83;
          goto LABEL_9;
        case 0x16:
          v125 = sub_401000(0x14u);
          if ( v125 )
          {
            v41 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v124);
            v42 = sub_40BBE0(v41);
            v77 = (CItem *)sub_41DA20(v125, 17, v42);
          }
          else
          {
            v77 = 0;
          }
          v184 = v77;
          goto LABEL_9;
        case 0x17:
          v123 = sub_401000(0x14u);
          if ( v123 )
          {
            v43 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v122);
            v44 = sub_40BBE0(v43);
            v76 = (CItem *)sub_41DA20(v123, 32, v44);
          }
          else
          {
            v76 = 0;
          }
          v184 = v76;
          goto LABEL_9;
        case 0x19:
          v135 = sub_401000(0x14u);
          if ( v135 )
          {
            v31 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v134);
            v32 = sub_40BBE0(v31);
            v82 = (CItem *)sub_41DA20(v135, 18, v32);
          }
          else
          {
            v82 = 0;
          }
          v184 = v82;
          goto LABEL_9;
        case 0x1A:
          v133 = sub_401000(0x14u);
          if ( v133 )
          {
            v33 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v132);
            v34 = sub_40BBE0(v33);
            v81 = (CItem *)sub_41DA20(v133, 19, v34);
          }
          else
          {
            v81 = 0;
          }
          v184 = v81;
          goto LABEL_9;
        case 0x1B:
          v131 = sub_401000(0x14u);
          if ( v131 )
          {
            v35 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v130);
            v36 = sub_40BBE0(v35);
            v80 = (CItem *)sub_41DA20(v131, 20, v36);
          }
          else
          {
            v80 = 0;
          }
          v184 = v80;
          goto LABEL_9;
        case 0x1C:
          v129 = sub_401000(0x14u);
          if ( v129 )
          {
            v37 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v128);
            v38 = sub_40BBE0(v37);
            v79 = (CItem *)sub_41DA20(v129, 21, v38);
          }
          else
          {
            v79 = 0;
          }
          v184 = v79;
          goto LABEL_9;
        case 0x1D:
          v127 = sub_401000(0x14u);
          if ( v127 )
          {
            v39 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v126);
            v40 = sub_40BBE0(v39);
            v78 = (CItem *)sub_41DA20(v127, 22, v40);
          }
          else
          {
            v78 = 0;
          }
          v184 = v78;
LABEL_9:
          if ( !(unsigned __int8)sub_402200(&v186) )
          {
            v6 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v162);
            v7 = sub_40BBE0(v6);
            *((_DWORD *)v184 + 3) = v7;
          }
          goto LABEL_125;
        case 0x2B:
          v47 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v119);
          v176 = (char *)sub_40BBE0(v47);
          v48 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v118);
          v177 = sub_40BBE0(v48);
          v117 = (Concurrency::scheduler_worker_creation_error *)sub_401000(0xCu);
          if ( v117 )
            v74 = (CItem *)Concurrency::scheduler_worker_creation_error::scheduler_worker_creation_error(
                             v117,
                             v176,
                             v177);
          else
            v74 = 0;
          v184 = v74;
          goto LABEL_125;
        case 0x2E:
          v49 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v116);
          v50 = sub_4021E0(v49);
          v174 = (char *)CInitItem::FindKey(v50);
          v51 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v115);
          v175 = sub_40BBE0(v51);
          v114 = (Concurrency::scheduler_worker_creation_error *)sub_401000(0xCu);
          if ( v114 )
            v73 = (CItem *)Concurrency::scheduler_worker_creation_error::scheduler_worker_creation_error(
                             v114,
                             v174,
                             v175);
          else
            v73 = 0;
          v184 = v73;
          goto LABEL_125;
        case 0x52:
          v113 = sub_401000(0xCu);
          if ( v113 )
          {
            v52 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v112);
            v53 = sub_4021E0(v52);
            v54 = CInitItem::FindKey(v53);
            v72 = (CItem *)sub_41DB90(v113, v54);
          }
          else
          {
            v72 = 0;
          }
          v184 = v72;
          goto LABEL_125;
        case 0x54:
          v111 = sub_401000(0xCu);
          if ( v111 )
            v71 = (CItem *)sub_41DBC0(v111, 0);
          else
            v71 = 0;
          v184 = v71;
          goto LABEL_125;
        case 0x55:
          v121 = sub_401000(0xCu);
          if ( v121 )
          {
            v45 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v120);
            v46 = sub_40BBE0(v45);
            v75 = (CItem *)sub_41DB00(v121, 1 << v46);
          }
          else
          {
            v75 = 0;
          }
          v184 = v75;
          goto LABEL_125;
        case 0x58:
          v55 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v110);
          v56 = sub_4021E0(v55);
          v169 = CInitItem::FindKey(v56);
          v57 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v109);
          v171 = sub_40BBE0(v57);
          v58 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v108);
          v172 = sub_40BBE0(v58);
          v59 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v107);
          v170 = sub_40BBE0(v59);
          v60 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v106);
          v173 = sub_40BBE0(v60);
          v105 = sub_401000(0x1Cu);
          if ( v105 )
            v70 = (CItem *)CSpecChangePrefix::CSpecChangePrefix(v105, v169, v171, v172, v170, v173);
          else
            v70 = 0;
          v184 = v70;
          goto LABEL_125;
        case 0x59:
          v61 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v104);
          v166 = sub_40BBE0(v61);
          v62 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v103);
          v167 = sub_40BBE0(v62);
          v63 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v102);
          v168 = sub_40BBE0(v63);
          v101 = sub_401000(0x14u);
          if ( v101 )
            v69 = (CItem *)CSpecBuff::CSpecBuff(v101, v166, v167, v168);
          else
            v69 = 0;
          v184 = v69;
          goto LABEL_125;
        case 0x63:
          v100 = sub_401000(0xCu);
          if ( v100 )
            v68 = (CItem *)CSpecProtect::CSpecProtect(v100);
          else
            v68 = 0;
          v184 = v68;
          goto LABEL_125;
        case 0x64:
          v99 = sub_401000(0xCu);
          if ( v99 )
          {
            v64 = lisp::var::pop((lisp::var *)&v186, (lisp::var *)v98);
            v65 = sub_40BBE0(v64);
            v67 = (CItem *)sub_41DCB0(v99, v65);
          }
          else
          {
            v67 = 0;
          }
          v184 = v67;
LABEL_125:
          std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
            (std::pair<char const * const,CItem *> *)v97,
            (const char *const *)v187,
            &v184);
          std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
            (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(this + 120),
            (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v183,
            v66);
          if ( v183[4] )
            continue;
          LOG_ERR("CInitItem::Set() Duplicate Specialty. (Symbol:%d)", *(_DWORD *)v187);
          result = 0;
          break;
        default:
          LOG_ERR("CInitItem::SetSpec() Invalid Specialty. (symbol:%d)", *(_DWORD *)v187);
          return 0;
      }
    }
    else
    {
      LOG_ERR("CInitItem::SetSpec() Invalid symbol(%s)", *(const char **)v185);
      result = 0;
    }
    return result;
  }
}
// 41D919: variable 'v66' is possibly undefined

//----- (0041DA20) --------------------------------------------------------
_DWORD *__thiscall sub_41DA20(_DWORD *this, int a2, int a3)
{
  sub_41DA60(this, a3);
  *this = off_4999A0;
  this[3] = 1;
  this[4] = a2;
  return this;
}
// 4999A0: using guessed type int (__stdcall *off_4999A0[2])(int);

//----- (0041DA60) --------------------------------------------------------
_DWORD *__thiscall sub_41DA60(_DWORD *this, int a2)
{
  *this = off_4999B0;
  this[1] = a2;
  this[2] = 0;
  return this;
}
// 4999B0: using guessed type int (__stdcall *off_4999B0[2])(int);

//----- (0041DA90) --------------------------------------------------------
_DWORD *__thiscall CSpecPrty::CSpecPrty(_DWORD *this, int a2, int a3, int a4)
{
  CSpec::CSpec((int)this, a3, a4);
  *this = off_4999A0;
  this[3] = 1;
  this[4] = a2;
  return this;
}
// 4999A0: using guessed type int (__stdcall *off_4999A0[2])(int);

//----- (0041DAD0) --------------------------------------------------------
int __thiscall CSpec::CSpec(int this, int a2, int a3)
{
  *(_DWORD *)this = off_4999B0;
  *(_DWORD *)(this + 4) = a2;
  *(_DWORD *)(this + 8) = a3;
  return this;
}
// 4999B0: using guessed type int (__stdcall *off_4999B0[2])(int);

//----- (0041DB00) --------------------------------------------------------
_DWORD *__thiscall sub_41DB00(_DWORD *this, int a2)
{
  sub_41DA60(this, a2);
  *this = off_4999C0;
  return this;
}
// 4999C0: using guessed type int (__stdcall *off_4999C0[2])(int);

//----- (0041DB90) --------------------------------------------------------
_DWORD *__thiscall sub_41DB90(_DWORD *this, int a2)
{
  sub_41DA60(this, a2);
  *this = off_4999F0;
  return this;
}
// 4999F0: using guessed type int (__stdcall *off_4999F0[2])(int);

//----- (0041DBC0) --------------------------------------------------------
_DWORD *__thiscall sub_41DBC0(_DWORD *this, int a2)
{
  sub_41DA60(this, a2);
  *this = off_499A00;
  return this;
}
// 499A00: using guessed type int (__stdcall *off_499A00[2])(int);

//----- (0041DBF0) --------------------------------------------------------
_DWORD *__thiscall CSpecChangePrefix::CSpecChangePrefix(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_41DA60(this, a2);
  *this = off_499A10;
  this[3] = a3;
  this[5] = a4;
  this[4] = a5;
  this[6] = a6;
  return this;
}
// 499A10: using guessed type int (__stdcall *off_499A10[2])(int);

//----- (0041DC40) --------------------------------------------------------
_DWORD *__thiscall CSpecProtect::CSpecProtect(_DWORD *this)
{
  sub_41DA60(this, 0);
  *this = off_499A20;
  return this;
}
// 499A20: using guessed type int (__stdcall *off_499A20[2])(int);

//----- (0041DC70) --------------------------------------------------------
_DWORD *__thiscall CSpecBuff::CSpecBuff(_DWORD *this, int a2, int a3, int a4)
{
  sub_41DA60(this, a2);
  *this = off_499A30;
  this[3] = a3;
  this[4] = a4;
  return this;
}
// 499A30: using guessed type int (__stdcall *off_499A30[3])(int);

//----- (0041DCB0) --------------------------------------------------------
_DWORD *__thiscall sub_41DCB0(_DWORD *this, int a2)
{
  sub_41DA60(this, a2);
  *this = off_499A40;
  return this;
}
// 499A40: using guessed type int (__stdcall *off_499A40[3])(int);

//----- (0041DCE0) --------------------------------------------------------
BOOL __thiscall CInitItem::ApplySpec(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 120), v6);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
               v2);
    if ( !result )
      break;
    v4 = sub_43E1A0(&v8);
    (***(void (__thiscall ****)(_DWORD, int))(v4 + 4))(*(_DWORD *)(v4 + 4), a2);
    sub_46FA50(&v8, &v7, 0);
  }
  return result;
}

//----- (0041DD50) --------------------------------------------------------
BOOL __thiscall CInitItem::FreeSpec(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 120), v6);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
               v2);
    if ( !result )
      break;
    v4 = sub_43E1A0(&v8);
    (*(void (__thiscall **)(_DWORD, int))(**(_DWORD **)(v4 + 4) + 4))(*(_DWORD *)(v4 + 4), a2);
    sub_46FA50(&v8, &v7, 0);
  }
  return result;
}

//----- (0041DDC0) --------------------------------------------------------
int __thiscall sub_41DDC0(int this, int a2)
{
  int result; // eax
  void *v3; // eax
  int v4; // eax
  int v5; // eax
  char v7[4]; // [esp+Ch] [ebp-Ch] BYREF
  DWORD v8; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h] BYREF

  if ( *(_DWORD *)(this + 100) > *(_DWORD *)(a2 + 60) )
    return 0;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  v3 = sub_482CA0((int *)(this + 120), v7);
  if ( (unsigned __int8)unknown_libname_25(v3) )
    return 0;
  if ( *(_DWORD *)(this + 148) )
  {
    v8 = GetTickCount();
    if ( v8 < *(_DWORD *)(a2 + 1336) )
    {
      result = 0;
    }
    else
    {
      *(_DWORD *)(a2 + 1336) = *(_DWORD *)(this + 148) + v8;
      v4 = sub_43E1A0(&v9);
      result = (*(int (__thiscall **)(_DWORD, int))(**(_DWORD **)(v4 + 4) + 8))(*(_DWORD *)(v4 + 4), a2);
    }
  }
  else
  {
    v5 = sub_43E1A0(&v9);
    result = (*(int (__thiscall **)(_DWORD, int))(**(_DWORD **)(v5 + 4) + 8))(*(_DWORD *)(v5 + 4), a2);
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041DE90) --------------------------------------------------------
int __thiscall CInitItem::Enchant(int this, int a2, int a3)
{
  void *v3; // eax
  int v5; // eax
  char v7[4]; // [esp+8h] [ebp-8h] BYREF
  int v8; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  v3 = sub_482CA0((int *)(this + 120), v7);
  if ( (unsigned __int8)unknown_libname_25(v3) )
    return 0;
  v5 = sub_43E1A0(&v8);
  return (*(int (__thiscall **)(_DWORD, int, int))(**(_DWORD **)(v5 + 4) + 12))(*(_DWORD *)(v5 + 4), a2, a3);
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041DF00) --------------------------------------------------------
int __cdecl CInitItem::GetSpecValue(int a1, int a2, char a3)
{
  void *v3; // eax
  _DWORD *v4; // esi
  _DWORD *v5; // esi
  char v7[4]; // [esp+8h] [ebp-10h] BYREF
  int v8; // [esp+Ch] [ebp-Ch]
  char *v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h] BYREF

  v9 = &a3;
  v8 = 0;
  sub_460550((int *)(a1 + 120), &v10, &a2);
  v3 = sub_482CA0((int *)(a1 + 120), v7);
  if ( !(unsigned __int8)unknown_libname_25(v3) && (a2 == 18 || a2 == 19) )
  {
    v9 += 4;
    v4 = (_DWORD *)*((_DWORD *)v9 - 1);
    *v4 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v10) + 4) + 4);
    v9 += 4;
    v5 = (_DWORD *)*((_DWORD *)v9 - 1);
    *v5 = *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v10) + 4) + 8);
    v8 = 1;
  }
  return v8;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041E000) --------------------------------------------------------
_DWORD *__thiscall CPrefix::CPrefix(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_499A50;
  sub_41EE30(this + 11);
  this[8] = 0;
  this[9] = 0;
  this[10] = 0;
  return this;
}
// 499A50: using guessed type int (__stdcall *off_499A50)(int);

//----- (0041E050) --------------------------------------------------------
void *__userpurge sub_41E050@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  CPrefix::_CPrefix((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0041E080) --------------------------------------------------------
_DWORD *__usercall CPrefix::_CPrefix@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  char v8[4]; // [esp+8h] [ebp-Ch] BYREF
  int v9; // [esp+Ch] [ebp-8h] BYREF
  int v10; // [esp+10h] [ebp-4h] BYREF

  *(_DWORD *)a1 = &off_499A50;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 44),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 44), v8);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
            v4) )
      break;
    v5 = sub_43E1A0(&v10);
    sub_401020(*(void **)(v5 + 4));
    sub_46FA50(&v10, &v9, 0);
  }
  sub_41C570((int *)(a1 + 44));
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}
// 499A50: using guessed type int (__stdcall *off_499A50)(int);

//----- (0041E110) --------------------------------------------------------
_DWORD *CPrefix::Copy()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x38u);
  if ( v2 )
    v1 = CPrefix::CPrefix(v2);
  else
    v1 = 0;
  return v1;
}

//----- (0041E150) --------------------------------------------------------
int __thiscall CPrefix::Set(int this, int a2, char a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  int v7; // eax
  lisp::var *v8; // eax
  int v9; // eax
  lisp::var *v10; // eax
  int v11; // eax
  lisp::var *v12; // eax
  int v13; // eax
  lisp::var *v14; // eax
  int v15; // eax
  lisp::var *v16; // eax
  int v17; // eax
  lisp::var *v18; // eax
  int v19; // eax
  lisp::var *v20; // eax
  int v21; // eax
  lisp::var *v22; // eax
  int v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  int v30; // eax
  lisp::var *v31; // eax
  int v32; // eax
  lisp::var *v33; // eax
  int v34; // eax
  lisp::var *v35; // eax
  int v36; // eax
  lisp::var *v37; // eax
  int v38; // eax
  lisp::var *v39; // eax
  int v40; // eax
  int result; // eax
  const std::pair<int const ,CSocket *> *v42; // eax
  int v43; // [esp-4h] [ebp-124h]
  CItem *v44; // [esp+0h] [ebp-120h]
  CItem *v45; // [esp+4h] [ebp-11Ch]
  CItem *v46; // [esp+8h] [ebp-118h]
  CItem *v47; // [esp+Ch] [ebp-114h]
  CItem *v48; // [esp+10h] [ebp-110h]
  CItem *v49; // [esp+14h] [ebp-10Ch]
  CItem *v50; // [esp+18h] [ebp-108h]
  CItem *v51; // [esp+1Ch] [ebp-104h]
  CItem *v52; // [esp+20h] [ebp-100h]
  CItem *v53; // [esp+24h] [ebp-FCh]
  CItem *v54; // [esp+28h] [ebp-F8h]
  CItem *v55; // [esp+2Ch] [ebp-F4h]
  CItem *v56; // [esp+30h] [ebp-F0h]
  CItem *v57; // [esp+34h] [ebp-ECh]
  CItem *v58; // [esp+38h] [ebp-E8h]
  CItem *v59; // [esp+3Ch] [ebp-E4h]
  CItem *v60; // [esp+40h] [ebp-E0h]
  CItem *v61; // [esp+44h] [ebp-DCh]
  char v63[12]; // [esp+50h] [ebp-D0h] BYREF
  char v64[4]; // [esp+5Ch] [ebp-C4h] BYREF
  CMemory **v65; // [esp+60h] [ebp-C0h]
  char v66[4]; // [esp+64h] [ebp-BCh] BYREF
  CMemory **v67; // [esp+68h] [ebp-B8h]
  char v68[4]; // [esp+6Ch] [ebp-B4h] BYREF
  CMemory **v69; // [esp+70h] [ebp-B0h]
  char v70[4]; // [esp+74h] [ebp-ACh] BYREF
  CMemory **v71; // [esp+78h] [ebp-A8h]
  char v72[4]; // [esp+7Ch] [ebp-A4h] BYREF
  CMemory **v73; // [esp+80h] [ebp-A0h]
  char v74[4]; // [esp+84h] [ebp-9Ch] BYREF
  CMemory **v75; // [esp+88h] [ebp-98h]
  CMemory **v76; // [esp+8Ch] [ebp-94h]
  char v77[4]; // [esp+90h] [ebp-90h] BYREF
  CMemory **v78; // [esp+94h] [ebp-8Ch]
  char v79[4]; // [esp+98h] [ebp-88h] BYREF
  char v80[4]; // [esp+9Ch] [ebp-84h] BYREF
  CMemory **v81; // [esp+A0h] [ebp-80h]
  char v82[4]; // [esp+A4h] [ebp-7Ch] BYREF
  char v83[4]; // [esp+A8h] [ebp-78h] BYREF
  char v84[4]; // [esp+ACh] [ebp-74h] BYREF
  CMemory **v85; // [esp+B0h] [ebp-70h]
  char v86[4]; // [esp+B4h] [ebp-6Ch] BYREF
  CMemory **v87; // [esp+B8h] [ebp-68h]
  char v88[4]; // [esp+BCh] [ebp-64h] BYREF
  CMemory **v89; // [esp+C0h] [ebp-60h]
  char v90[4]; // [esp+C4h] [ebp-5Ch] BYREF
  CMemory **v91; // [esp+C8h] [ebp-58h]
  char v92[4]; // [esp+CCh] [ebp-54h] BYREF
  CMemory **v93; // [esp+D0h] [ebp-50h]
  char v94[4]; // [esp+D4h] [ebp-4Ch] BYREF
  CMemory **v95; // [esp+D8h] [ebp-48h]
  char v96[4]; // [esp+DCh] [ebp-44h] BYREF
  CMemory **v97; // [esp+E0h] [ebp-40h]
  char v98[4]; // [esp+E4h] [ebp-3Ch] BYREF
  CMemory **v99; // [esp+E8h] [ebp-38h]
  char v100[4]; // [esp+ECh] [ebp-34h] BYREF
  CMemory **v101; // [esp+F0h] [ebp-30h]
  char v102[4]; // [esp+F4h] [ebp-2Ch] BYREF
  char v103[4]; // [esp+F8h] [ebp-28h] BYREF
  char v104[4]; // [esp+FCh] [ebp-24h] BYREF
  int v105; // [esp+100h] [ebp-20h]
  int v106; // [esp+104h] [ebp-1Ch]
  int v107; // [esp+108h] [ebp-18h]
  int v108; // [esp+10Ch] [ebp-14h]
  int v109; // [esp+110h] [ebp-10h]
  char v110[8]; // [esp+114h] [ebp-Ch] BYREF
  CItem *v111; // [esp+11Ch] [ebp-4h] BYREF

  v111 = 0;
  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v104);
      *(_DWORD *)(this + 32) = sub_40BBE0(v3);
      goto LABEL_78;
    case 7:
      v4 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v103);
      *(_DWORD *)(this + 36) = sub_40BBE0(v4);
      goto LABEL_78;
    case 9:
      v101 = sub_401000(0x14u);
      if ( v101 )
      {
        v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v100);
        v7 = sub_40BBE0(v6);
        v61 = (CItem *)sub_41DA20(v101, 0, v7);
      }
      else
      {
        v61 = 0;
      }
      v111 = v61;
      goto LABEL_78;
    case 10:
      v99 = sub_401000(0x14u);
      if ( v99 )
      {
        v8 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v98);
        v9 = sub_40BBE0(v8);
        v60 = (CItem *)sub_41DA20(v99, 1, v9);
      }
      else
      {
        v60 = 0;
      }
      v111 = v60;
      goto LABEL_78;
    case 11:
      v97 = sub_401000(0x14u);
      if ( v97 )
      {
        v10 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v96);
        v11 = sub_40BBE0(v10);
        v59 = (CItem *)sub_41DA20(v97, 2, v11);
      }
      else
      {
        v59 = 0;
      }
      v111 = v59;
      goto LABEL_78;
    case 12:
      v95 = sub_401000(0x14u);
      if ( v95 )
      {
        v12 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v94);
        v13 = sub_40BBE0(v12);
        v58 = (CItem *)sub_41DA20(v95, 3, v13);
      }
      else
      {
        v58 = 0;
      }
      v111 = v58;
      goto LABEL_78;
    case 13:
      v93 = sub_401000(0x14u);
      if ( v93 )
      {
        v14 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v92);
        v15 = sub_40BBE0(v14);
        v57 = (CItem *)sub_41DA20(v93, 4, v15);
      }
      else
      {
        v57 = 0;
      }
      v111 = v57;
      goto LABEL_78;
    case 14:
      v91 = sub_401000(0x14u);
      if ( v91 )
      {
        v16 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v90);
        v17 = sub_40BBE0(v16);
        v56 = (CItem *)sub_41DA20(v91, 5, v17);
      }
      else
      {
        v56 = 0;
      }
      v111 = v56;
      goto LABEL_78;
    case 15:
      v89 = sub_401000(0x14u);
      if ( v89 )
      {
        v18 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v88);
        v19 = sub_40BBE0(v18);
        v55 = (CItem *)sub_41DA20(v89, 6, v19);
      }
      else
      {
        v55 = 0;
      }
      v111 = v55;
      goto LABEL_78;
    case 16:
      v87 = sub_401000(0x14u);
      if ( v87 )
      {
        v20 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v86);
        v21 = sub_40BBE0(v20);
        v54 = (CItem *)sub_41DA20(v87, 9, v21);
      }
      else
      {
        v54 = 0;
      }
      v111 = v54;
      goto LABEL_78;
    case 17:
      v85 = sub_401000(0x14u);
      if ( v85 )
      {
        v22 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v84);
        v23 = sub_40BBE0(v22);
        v53 = (CItem *)sub_41DA20(v85, 10, v23);
      }
      else
      {
        v53 = 0;
      }
      v111 = v53;
      goto LABEL_78;
    case 18:
      v24 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v83);
      v108 = sub_40BBE0(v24);
      v25 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v82);
      v109 = sub_40BBE0(v25);
      v81 = sub_401000(0x14u);
      if ( v81 )
        v52 = (CItem *)CSpecPrty::CSpecPrty(v81, 27, v108, v109);
      else
        v52 = 0;
      v111 = v52;
      goto LABEL_78;
    case 19:
      v26 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v80);
      v106 = sub_40BBE0(v26);
      v27 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v79);
      v107 = sub_40BBE0(v27);
      v78 = sub_401000(0x14u);
      if ( v78 )
        v51 = (CItem *)CSpecPrty::CSpecPrty(v78, 28, v106, v107);
      else
        v51 = 0;
      v111 = v51;
      goto LABEL_78;
    case 20:
      v28 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v77);
      v105 = sub_40BBE0(v28);
      v76 = sub_401000(0x14u);
      if ( v76 )
        v50 = (CItem *)CSpecPrty::CSpecPrty(v76, 15, v105, v105);
      else
        v50 = 0;
      v111 = v50;
      goto LABEL_78;
    case 21:
      v75 = sub_401000(0x14u);
      if ( v75 )
      {
        v29 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v74);
        v30 = sub_40BBE0(v29);
        v49 = (CItem *)sub_41DA20(v75, 16, v30);
      }
      else
      {
        v49 = 0;
      }
      v111 = v49;
      goto LABEL_78;
    case 25:
      v73 = sub_401000(0x14u);
      if ( v73 )
      {
        v31 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v72);
        v32 = sub_40BBE0(v31);
        v48 = (CItem *)sub_41DA20(v73, 18, v32);
      }
      else
      {
        v48 = 0;
      }
      v111 = v48;
      goto LABEL_78;
    case 26:
      v71 = sub_401000(0x14u);
      if ( v71 )
      {
        v33 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v70);
        v34 = sub_40BBE0(v33);
        v47 = (CItem *)sub_41DA20(v71, 19, v34);
      }
      else
      {
        v47 = 0;
      }
      v111 = v47;
      goto LABEL_78;
    case 27:
      v69 = sub_401000(0x14u);
      if ( v69 )
      {
        v35 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v68);
        v36 = sub_40BBE0(v35);
        v46 = (CItem *)sub_41DA20(v69, 20, v36);
      }
      else
      {
        v46 = 0;
      }
      v111 = v46;
      goto LABEL_78;
    case 28:
      v67 = sub_401000(0x14u);
      if ( v67 )
      {
        v37 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v66);
        v38 = sub_40BBE0(v37);
        v45 = (CItem *)sub_41DA20(v67, 21, v38);
      }
      else
      {
        v45 = 0;
      }
      v111 = v45;
      goto LABEL_78;
    case 29:
      v65 = sub_401000(0x14u);
      if ( v65 )
      {
        v39 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v64);
        v40 = sub_40BBE0(v39);
        v44 = (CItem *)sub_41DA20(v65, 22, v40);
      }
      else
      {
        v44 = 0;
      }
      v111 = v44;
      goto LABEL_78;
    case 58:
      v5 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v102);
      *(_DWORD *)(this + 40) = sub_40BBE0(v5);
LABEL_78:
      if ( v111 )
      {
        std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
          (std::pair<char const * const,CItem *> *)v63,
          (const char *const *)&a2,
          &v111);
        std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
          (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(this + 44),
          (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v110,
          v42);
        if ( v110[4] )
        {
          result = 1;
        }
        else
        {
          LOG_ERR("CPrefix::Set() Duplicate Specialty. (Symbol:%d)", a2);
          result = 0;
        }
      }
      else
      {
        result = 1;
      }
      break;
    default:
      v43 = a2 - 2;
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      result = CBase::Set((void *)this, a2, v43);
      break;
  }
  return result;
}
// 41E8A6: variable 'v42' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0041E970) --------------------------------------------------------
int __thiscall sub_41E970(void *this)
{
  return CItem::InsertPrefix((int)this);
}

//----- (0041E990) --------------------------------------------------------
BOOL __thiscall CPrefix::ApplySpec(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 44),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 44), v6);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
               v2);
    if ( !result )
      break;
    v4 = sub_43E1A0(&v8);
    (***(void (__thiscall ****)(_DWORD, int))(v4 + 4))(*(_DWORD *)(v4 + 4), a2);
    sub_46FA50(&v8, &v7, 0);
  }
  return result;
}

//----- (0041EA00) --------------------------------------------------------
BOOL __thiscall CPrefix::FreeSpec(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 44),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 44), v6);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
               v2);
    if ( !result )
      break;
    v4 = sub_43E1A0(&v8);
    (*(void (__thiscall **)(_DWORD, int))(**(_DWORD **)(v4 + 4) + 4))(*(_DWORD *)(v4 + 4), a2);
    sub_46FA50(&v8, &v7, 0);
  }
  return result;
}

//----- (0041EA70) --------------------------------------------------------
int __thiscall CSpecPrty::ApplySpec(_DWORD *this, int a2)
{
  int result; // eax

  if ( this[3] )
    result = (*(int (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
               a2,
               this[4],
               1,
               this[1],
               this[2]);
  else
    result = (*(int (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
               a2,
               this[4],
               1,
               this[1],
               this[2]);
  return result;
}

//----- (0041EAE0) --------------------------------------------------------
int __thiscall CSpecPrty::FreeSpec(_DWORD *this, int a2)
{
  int result; // eax

  if ( this[3] )
    result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
               a2,
               this[4],
               0,
               this[1],
               this[2]);
  else
    result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
               a2,
               this[4],
               0,
               this[1],
               this[2]);
  return result;
}

//----- (0041EB50) --------------------------------------------------------
LONG __thiscall sub_41EB50(int *this, volatile LONG *a2)
{
  return CChar::AddGState(a2, this[1]);
}

//----- (0041EB70) --------------------------------------------------------
LONG __thiscall sub_41EB70(int *this, volatile LONG *a2)
{
  return CChar::SubGState(a2, this[1]);
}

//----- (0041EB90) --------------------------------------------------------
int __userpurge sub_41EB90@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  volatile int *v7; // [esp+4h] [ebp-18h]
  int v8[2]; // [esp+Ch] [ebp-10h] BYREF
  _DWORD *v9; // [esp+14h] [ebp-8h]
  int v10; // [esp+18h] [ebp-4h]

  if ( !CChar::IsNormal(a5) || sub_40A660(a5, 256) )
    return 0;
  if ( !*(_DWORD *)(a1 + 4) )
  {
    if ( a5[232] )
    {
      v7 = sub_443890(a2, a3, a4, a5[232]);
      if ( v7 )
      {
        if ( CParty::Teleport((int)v7, a2, a3, a4, (int)a5, *(_DWORD *)(a1 + 8)) )
        {
          sub_401C50(v7, a2, a3, a4);
          return 1;
        }
        sub_401C50(v7, a2, a3, a4);
      }
    }
  }
  v10 = dword_4AF860[4 * *(_DWORD *)(a1 + 8)];
  v9 = (_DWORD *)((char *)&unk_4AF864 + 16 * *(_DWORD *)(a1 + 8));
  v8[0] = RandomBetween(*v9 - 64, *v9 + 64);
  v8[1] = RandomBetween(v9[1] - 64, v9[1] + 64);
  sub_451260(a5, a2, a3, a4, v10, v8, 0, 0);
  return 1;
}
// 4AF860: using guessed type int dword_4AF860[];

//----- (0041ECB0) --------------------------------------------------------
int __thiscall CSpecRefresh::Use(_DWORD *this, _DWORD *a2)
{
  if ( !CChar::IsNormal(a2) )
    return 0;
  (*(void (__cdecl **)(_DWORD *, _DWORD, int, _DWORD))(*a2 + 88))(a2, this[1], 1, this[2]);
  return 1;
}

//----- (0041ED00) --------------------------------------------------------
int __thiscall CSpecCharming::Enchant(_DWORD *this, int a2, int a3)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a3 + 176))(a3, a2, this[1]);
}

//----- (0041ED30) --------------------------------------------------------
int __stdcall sub_41ED30(int a1, int a2)
{
  return (*(int (__thiscall **)(int, int))(*(_DWORD *)a2 + 184))(a2, a1);
}

//----- (0041ED50) --------------------------------------------------------
int __thiscall CSpecChangePrefix::Enchant(_DWORD *this, int a2, int a3)
{
  return (*(int (__thiscall **)(int, int, _DWORD, _DWORD *, _DWORD *))(*(_DWORD *)a3 + 188))(
           a3,
           a2,
           this[1],
           this + 3,
           this + 5);
}

//----- (0041ED90) --------------------------------------------------------
int __stdcall sub_41ED90(int a1, int a2)
{
  return (*(int (__thiscall **)(int, int))(*(_DWORD *)a2 + 192))(a2, a1);
}

//----- (0041EDB0) --------------------------------------------------------
int __thiscall CSpecBuff::Use(int *this, _DWORD *a2)
{
  _DWORD *v4; // [esp+4h] [ebp-4h]

  if ( !CChar::IsNormal(a2) )
    return 0;
  v4 = sub_4024B0(this[1], this[3], this[4], (int)this);
  return (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a2 + 180))(a2, v4);
}

//----- (0041EE10) --------------------------------------------------------
int __userpurge sub_41EE10@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  return sub_458AF0(a5, a2, a3, a4, *(_DWORD *)(a1 + 4));
}

//----- (0041EE30) --------------------------------------------------------
void *__thiscall sub_41EE30(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0041EE60) --------------------------------------------------------
int __thiscall sub_41EE60(int *this)
{
  return sub_41EF40(this);
}

//----- (0041EE80) --------------------------------------------------------
bool __thiscall iless::operator()(iless *this, const char *a, const char *b)
{
  return mbstricmp(a, b) < 0;
}

//----- (0041EEB0) --------------------------------------------------------
_DWORD *__thiscall sub_41EEB0(int *this, _DWORD *a2, const char **a3)
{
  void *v3; // eax
  int v4; // eax
  const char **v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_41EFF0(this, v12, a3);
  v3 = sub_482CA0(this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (const char **)sub_463EE0(v4), iless::operator()((iless *)this, *a3, *v5)) )
  {
    v7 = (char *)sub_482CA0(this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041EF40) --------------------------------------------------------
int __thiscall sub_41EF40(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_41F020(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041EFF0) --------------------------------------------------------
void *__thiscall sub_41EFF0(int *this, void *a2, const char **a3)
{
  int v3; // eax

  v3 = sub_41F0C0(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (0041F020) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41F020(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_41F150((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041F0C0) --------------------------------------------------------
int __thiscall sub_41F0C0(int *this, const char **a2)
{
  const char **v2; // eax
  const char *v4; // [esp-4h] [ebp-10h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v6 = *(_DWORD *)sub_41BA00(this);
  v7 = this[1];
  while ( !*(_BYTE *)sub_46DDD0(v6) )
  {
    v4 = *a2;
    v2 = (const char **)sub_463EE0(v6);
    if ( iless::operator()((iless *)this, *v2, v4) )
    {
      v6 = *(_DWORD *)sub_41BA20(v6);
    }
    else
    {
      v7 = v6;
      v6 = *(_DWORD *)unknown_libname_21(v6);
    }
  }
  return v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041F150) --------------------------------------------------------
_DWORD *__thiscall sub_41F150(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_41F200(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0041F1B0) --------------------------------------------------------
void __thiscall std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *_Rarg, const std::pair<char const * const,CItem *> *_Val, char _Carg)
{
  int v6; // edx

  *(_DWORD *)this = _Larg;
  *((_DWORD *)this + 1) = _Parg;
  *((_DWORD *)this + 2) = _Rarg;
  v6 = *((_DWORD *)_Val + 1);
  *((_DWORD *)this + 3) = *(_DWORD *)_Val;
  *((_DWORD *)this + 4) = v6;
  *((_BYTE *)this + 20) = _Carg;
  *((_BYTE *)this + 21) = 0;
}

//----- (0041F200) --------------------------------------------------------
int __stdcall sub_41F200(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_41F200(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041F280) --------------------------------------------------------
void *__thiscall sub_41F280(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0041F2B0) --------------------------------------------------------
int __thiscall sub_41F2B0(int *this)
{
  return sub_41F2D0(this);
}

//----- (0041F2D0) --------------------------------------------------------
int __thiscall sub_41F2D0(int *this)
{
  return sub_41F2F0(this);
}

//----- (0041F2F0) --------------------------------------------------------
int __thiscall sub_41F2F0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_41F3A0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041F3A0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41F3A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_41F440((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0041F440) --------------------------------------------------------
_DWORD *__thiscall sub_41F440(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_41F4A0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0041F4A0) --------------------------------------------------------
int __stdcall sub_41F4A0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_41F4A0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0041F520) --------------------------------------------------------
_DWORD *__thiscall CInitMap::CInitMap(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_499C50;
  this[8] = 0;
  this[9] = 0;
  this[10] = -1;
  this[11] = -1;
  memset(this + 12, 0, 0x81u);
  return this;
}
// 499C50: using guessed type int (__stdcall *off_499C50)(int);

//----- (0041F580) --------------------------------------------------------
_DWORD *__userpurge sub_41F580@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_41F5B0(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0041F5B0) --------------------------------------------------------
_DWORD *__usercall sub_41F5B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_499C50;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 499C50: using guessed type int (__stdcall *off_499C50)(int);

//----- (0041F5D0) --------------------------------------------------------
int __thiscall CInitMap::Set(int this, int a2, char a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  const char *v7; // eax
  int result; // eax
  int v9; // [esp-8h] [ebp-24h]
  int v10; // [esp-4h] [ebp-20h]
  char v12[4]; // [esp+Ch] [ebp-10h] BYREF
  char v13[4]; // [esp+10h] [ebp-Ch] BYREF
  char v14[4]; // [esp+14h] [ebp-8h] BYREF
  char v15[4]; // [esp+18h] [ebp-4h] BYREF

  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v15);
      *(_DWORD *)(this + 32) = sub_40BBE0(v3);
      goto LABEL_6;
    case 30:
      v4 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v14);
      *(_DWORD *)(this + 36) = sub_40BBE0(v4);
      goto LABEL_6;
    case 31:
      v5 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v13);
      *(_DWORD *)(this + 40) = sub_40BBE0(v5);
      v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v12);
      *(_DWORD *)(this + 44) = sub_40BBE0(v6);
      v10 = *(_DWORD *)(this + 44);
      v9 = *(_DWORD *)(this + 40);
      v7 = (const char *)sub_4012C0(&unk_4B8C4C);
      sprintf((char *const)(this + 48), "%s\\n_%03d_%03d.ksm", v7, v9, v10);
      goto LABEL_6;
    case 32:
LABEL_6:
      result = 1;
      break;
    default:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      result = CBase::Set((void *)this, a2, a2 - 2);
      break;
  }
  return result;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0041F700) --------------------------------------------------------
int __usercall sub_41F700@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return CSMap::LoadMap(a2, a3, a4, a1);
}

//----- (0041F720) --------------------------------------------------------
unsigned int __usercall SnapCurrentProcessMiniDump@<eax>(DWORD a1@<eax>, DWORD a2@<edx>, DWORD a3@<ecx>, DWORD a4@<ebx>, DWORD a5@<edi>, DWORD a6@<esi>, _CONTEXT *lpContext)
{
  HANDLE v7; // eax
  DWORD vars0; // [esp+2ECh] [ebp+0h]
  DWORD retaddr; // [esp+2F0h] [ebp+4h]

  memset(lpContext, 0, sizeof(_CONTEXT));
  lpContext->ContextFlags = 65599;
  v7 = GetCurrentThread();
  if ( !GetThreadContext(v7, lpContext) )
    return 0;
  lpContext->Eax = a1;
  lpContext->Ebx = a4;
  lpContext->Ecx = a3;
  lpContext->Edx = a2;
  lpContext->Edi = a5;
  lpContext->Esi = a6;
  lpContext->SegGs = (unsigned __int16)__GS__;
  lpContext->SegFs = (unsigned __int16)__FS__;
  lpContext->SegEs = (unsigned __int16)__ES__;
  lpContext->SegDs = (unsigned __int16)__DS__;
  lpContext->SegCs = (unsigned __int16)__CS__;
  lpContext->SegSs = (unsigned __int16)__SS__;
  lpContext->Ebp = vars0;
  lpContext->Eip = retaddr;
  return 1;
}
// 41F890: variable 'vars0' is possibly undefined

//----- (0041F8E0) --------------------------------------------------------
void __thiscall CIOException::CInit::CInit(CIOException::CInit *this)
{
  CHAR *v1; // eax
  CHAR *lpString1; // [esp+4h] [ebp-4h]

  InitializeCriticalSection(&CriticalSection);
  GetModuleFileNameA(0, FileName, 0x104u);
  v1 = GetFilePart(FileName);
  lstrcpyA(v1, "Main_Exec.txt");
  GetModuleFileNameA(0, byte_4B8640, 0x104u);
  lpString1 = GetFilePart(byte_4B8640);
  lstrcpyA(lpString1, "Exception.dmp");
  dword_4B884C = time(0);
  lpTopLevelExceptionFilter = SetUnhandledExceptionFilter((LPTOP_LEVEL_EXCEPTION_FILTER)RecordExceptionInfo);
  sub_487447((int)sub_41F9D0);
}

//----- (0041F990) --------------------------------------------------------
char *__cdecl GetFilePart(char *source)
{
  char *v2; // [esp+0h] [ebp-4h]
  char *v3; // [esp+0h] [ebp-4h]

  v2 = strrchr(source, 92);
  if ( v2 )
    v3 = v2 + 1;
  else
    v3 = source;
  return v3;
}

//----- (0041F9D0) --------------------------------------------------------
void __usercall __noreturn sub_41F9D0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  ELOG("Buffer Overrun\n");
  if ( dword_4ADB3C )
  {
    cleanup();
    GenerateExceptionReport(a1, a2, a3, 0);
    sendMail();
    cleanup_0();
  }
  ExitProcess(1u);
}
// 41FA10: using guessed type int cleanup(void);
// 41FA20: using guessed type int cleanup_0(void);

//----- (0041FA30) --------------------------------------------------------
BOOL sendMail()
{
  __time32_t Time; // [esp+0h] [ebp-118h] BYREF
  LPSTR v2; // [esp+4h] [ebp-114h]
  CHAR NewFileName[264]; // [esp+8h] [ebp-110h] BYREF
  struct tm *v4; // [esp+114h] [ebp-4h]

  if ( dword_4B8868 )
    sendMail_0(dword_4B8868, (const char *)dword_4B886C, (const char *)dword_4B8870, FileName);
  strcpy(NewFileName, FileName);
  v2 = GetFilePart(NewFileName);
  time(&Time);
  v4 = localtime(&Time);
  wsprintfA(
    v2,
    "Exception\\%02d%02d%02d.%02d%02d%02d.dbg.txt",
    v4->tm_year % 100,
    v4->tm_mon + 1,
    v4->tm_mday,
    v4->tm_hour,
    v4->tm_min,
    v4->tm_sec);
  MoveFileExA(FileName, NewFileName, 1u);
  wsprintfA(
    v2,
    "Exception\\%02d%02d%02d.%02d%02d%02d.dbg.dmp",
    v4->tm_year % 100,
    v4->tm_mon + 1,
    v4->tm_mday,
    v4->tm_hour,
    v4->tm_min,
    v4->tm_sec);
  MoveFileExA(byte_4B8640, NewFileName, 1u);
  DeleteFileA(FileName);
  return DeleteFileA(byte_4B8640);
}

//----- (0041FBA0) --------------------------------------------------------
int __cdecl sendMail_0(const char *host, const char *from, const char *to, const char *body)
{
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int namelen; // [esp+0h] [ebp-9D8h] BYREF
  size_t v14; // [esp+4h] [ebp-9D4h]
  struct hostent *v15; // [esp+8h] [ebp-9D0h]
  char *Str; // [esp+Ch] [ebp-9CCh]
  char optval[4]; // [esp+10h] [ebp-9C8h] BYREF
  struct sockaddr name; // [esp+14h] [ebp-9C4h] BYREF
  int v19; // [esp+24h] [ebp-9B4h]
  SOCKET s; // [esp+28h] [ebp-9B0h]
  int v21; // [esp+2Ch] [ebp-9ACh]
  char buf[2048]; // [esp+30h] [ebp-9A8h] BYREF
  struct WSAData WSAData; // [esp+830h] [ebp-1A8h] BYREF
  struct sockaddr v24; // [esp+9C4h] [ebp-14h] BYREF

  v21 = 0;
  if ( WSAStartup(0x202u, &WSAData) )
    return 0;
  s = socket(2, 1, 0);
  if ( s == -1 )
  {
    WSACleanup();
    return 0;
  }
  *(_DWORD *)optval = 5000;
  v19 = setsockopt(s, 0xFFFF, 4102, optval, 4);
  if ( v19 != -1 )
  {
    *(_DWORD *)optval = 5000;
    v19 = setsockopt(s, 0xFFFF, 4101, optval, 4);
    if ( v19 != -1 )
    {
      name.sa_family = 2;
      *(_DWORD *)&name.sa_data[2] = 0;
      *(_WORD *)name.sa_data = 0;
      if ( bind(s, &name, 16) != -1 )
      {
        name.sa_family = 2;
        *(_DWORD *)&name.sa_data[2] = inet_addr(host);
        if ( *(_DWORD *)&name.sa_data[2] != -1 )
        {
LABEL_11:
          *(_WORD *)name.sa_data = htons(0x19u);
          if ( connect(s, &name, 16) != -1 )
          {
            recv(s, buf, 2048, 0);
            Str = "HELO www.inixsoft.com\r\n";
            v5 = strlen("HELO www.inixsoft.com\r\n");
            if ( send(s, "HELO www.inixsoft.com\r\n", v5, 0) > 0 )
            {
              recv(s, buf, 2048, 0);
              sprintf(buf, "MAIL From: <%s>\r\n", from);
              v6 = strlen(buf);
              if ( send(s, buf, v6, 0) > 0 )
              {
                recv(s, buf, 2048, 0);
                for ( Str = (char *)to; ; Str += v14 )
                {
                  Str += strspn(Str, " ,");
                  if ( !*Str )
                    break;
                  v14 = strcspn(Str, ",");
                  sprintf(buf, "RCPT To: <%.*s>\r\n", v14, Str);
                  v7 = strlen(buf);
                  if ( send(s, buf, v7, 0) <= 0 )
                    goto LABEL_25;
                  recv(s, buf, 2048, 0);
                }
                Str = "DATA\r\n";
                v8 = strlen("DATA\r\n");
                if ( send(s, "DATA\r\n", v8, 0) > 0 )
                {
                  recv(s, buf, 2048, 0);
                  memset(&v24, 0, sizeof(v24));
                  namelen = 16;
                  getsockname(s, &v24, &namelen);
                  sprintf(buf, "From: <%s>\r\n", from);
                  v9 = strlen(buf);
                  if ( send(s, buf, v9, 0) > 0 )
                  {
                    sprintf(
                      buf,
                      "Subject: Exception (%d.%d.%d.%d)\r\n\r\n\r\n",
                      (unsigned __int8)v24.sa_data[2],
                      (unsigned __int8)v24.sa_data[3],
                      (unsigned __int8)v24.sa_data[4],
                      (unsigned __int8)v24.sa_data[5]);
                    v10 = strlen(buf);
                    if ( send(s, buf, v10, 0) > 0 )
                    {
                      if ( sendFile(s, body) )
                      {
                        Str = "\r\n.\r\n";
                        v11 = strlen("\r\n.\r\n");
                        if ( send(s, Str, v11, 0) > 0 )
                        {
                          recv(s, buf, 2048, 0);
                          Str = "QUIT\r\n";
                          v12 = strlen("QUIT\r\n");
                          if ( send(s, Str, v12, 0) > 0 )
                          {
                            recv(s, buf, 2048, 0);
                            v21 = 1;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          goto LABEL_25;
        }
        v15 = gethostbyname(host);
        if ( v15 )
        {
          memcpy(&name.sa_data[2], *(const void **)v15->h_addr_list, v15->h_length);
          goto LABEL_11;
        }
      }
    }
  }
LABEL_25:
  closesocket(s);
  WSACleanup();
  return v21;
}

//----- (00420110) --------------------------------------------------------
int __cdecl sendFile(unsigned int sock, const char *name)
{
  DWORD NumberOfBytesRead; // [esp+0h] [ebp-40Ch] BYREF
  char Buffer[1024]; // [esp+4h] [ebp-408h] BYREF
  HANDLE hFile; // [esp+408h] [ebp-4h]

  hFile = CreateFileA(name, 0x80000000, 1u, 0, 3u, 0, 0);
  if ( hFile == (HANDLE)-1 )
    return 1;
  do
  {
    if ( !ReadFile(hFile, Buffer, 0x400u, &NumberOfBytesRead, 0) || !NumberOfBytesRead )
    {
      CloseHandle(hFile);
      return 1;
    }
  }
  while ( send(sock, Buffer, NumberOfBytesRead, 0) > 0 );
  return 0;
}

//----- (004201C0) --------------------------------------------------------
void __usercall GenerateExceptionReport(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _EXCEPTION_POINTERS *data)
{
  DWORD v4; // eax
  DWORD v5; // eax
  DWORD v6; // ecx
  const char *v7; // eax
  HANDLE v8; // eax
  HANDLE v9; // eax
  int v10; // [esp-1Ch] [ebp-B8Ch]
  int v11; // [esp-18h] [ebp-B88h]
  int v12; // [esp-14h] [ebp-B84h]
  int v13; // [esp-10h] [ebp-B80h]
  int v14; // [esp-Ch] [ebp-B7Ch]
  const char *v15; // [esp-Ch] [ebp-B7Ch]
  int v16; // [esp-8h] [ebp-B78h]
  DWORD v17; // [esp-8h] [ebp-B78h]
  DWORD v18; // [esp-4h] [ebp-B74h]
  const char *v19; // [esp+Ch] [ebp-B64h]
  DWORD v20; // [esp+10h] [ebp-B60h]
  int i; // [esp+14h] [ebp-B5Ch]
  CHAR v22[1004]; // [esp+18h] [ebp-B58h] BYREF
  const char *v23; // [esp+404h] [ebp-76Ch]
  CONTEXT Context; // [esp+408h] [ebp-768h] BYREF
  struct _MEMORY_BASIC_INFORMATION Buffer; // [esp+6D8h] [ebp-498h] BYREF
  const CHAR *v26; // [esp+6F4h] [ebp-47Ch]
  _CONTEXT ContextRecord; // [esp+6F8h] [ebp-478h] BYREF
  struct tm *v28; // [esp+9CCh] [ebp-1A4h]
  struct _SYSTEMTIME SystemTime; // [esp+9D0h] [ebp-1A0h] BYREF
  int v30[21]; // [esp+9E0h] [ebp-190h] BYREF
  DWORD v31; // [esp+A34h] [ebp-13Ch]
  int v32[2]; // [esp+A38h] [ebp-138h] BYREF
  PEXCEPTION_RECORD v33; // [esp+A40h] [ebp-130h]
  HANDLE hFile; // [esp+A44h] [ebp-12Ch]
  CHAR Filename[268]; // [esp+A48h] [ebp-128h] BYREF
  CPPEH_RECORD ms_exc; // [esp+B58h] [ebp-18h]

  hFile = CreateFileA(FileName, 0x40000000u, 1u, 0, 4u, 0x80000080, 0);
  if ( hFile == (HANDLE)-1 )
  {
    OutputDebugStringA("Error creating exception report");
  }
  else
  {
    SetFilePointer(hFile, 0, 0, 2u);
    SystemTime.wYear = 0;
    *(_DWORD *)&SystemTime.wMonth = 0;
    *(_DWORD *)&SystemTime.wDay = 0;
    *(_DWORD *)&SystemTime.wMinute = 0;
    SystemTime.wMilliseconds = 0;
    GetLocalTime(&SystemTime);
    if ( dword_4ADB40 )
      v19 = "first excpetion";
    else
      v19 = &Src;
    v16 = SystemTime.wSecond;
    v14 = SystemTime.wMinute;
    v13 = SystemTime.wHour;
    v12 = SystemTime.wDay;
    v11 = SystemTime.wMonth;
    v10 = SystemTime.wYear;
    v4 = GetCurrentThreadId();
    hprintf(
      hFile,
      "[%x %04d/%02d/%02d %02d:%02d:%02d]: ======================= %s\r\n",
      v4,
      v10,
      v11,
      v12,
      v13,
      v14,
      v16,
      v19);
    v26 = "Unknown";
    if ( !data )
    {
      SnapCurrentProcessMiniDump(v5, (DWORD)&Context, v6, a1, a2, a3, &Context);
      memset(v30, 0, 0x50u);
      v30[3] = Context.Eip;
      v32[1] = (int)&Context;
      v32[0] = (int)v30;
      data = (_EXCEPTION_POINTERS *)v32;
    }
    qmemcpy(&ContextRecord, data->ContextRecord, sizeof(ContextRecord));
    if ( VirtualQuery((LPCVOID)ContextRecord.Eip, &Buffer, 0x1Cu)
      && GetModuleFileNameA((HMODULE)Buffer.AllocationBase, Filename, 0x104u) )
    {
      v26 = GetFilePart(Filename);
    }
    v28 = localtime(&dword_4B884C);
    hprintf(
      hFile,
      "start at %02d/%02d/%02d %02d:%02d:%02d\r\n",
      v28->tm_year % 100,
      v28->tm_mon + 1,
      v28->tm_mday,
      v28->tm_hour,
      v28->tm_min,
      v28->tm_sec);
    sub_420A70(hFile);
    v33 = data->ExceptionRecord;
    v18 = ContextRecord.Eip;
    v17 = ContextRecord.SegCs;
    v15 = v26;
    v7 = GetExceptionDescription(v33->ExceptionCode);
    hprintf(hFile, "%s in module %s at %04x:%08x.\r\n", v7, v15, v17, v18);
    if ( v33->ExceptionCode == -1073741819 && v33->NumberParameters >= 2 )
    {
      v23 = "Read from";
      if ( v33->ExceptionInformation[0] )
        v23 = "Write to";
      wsprintfA(v22, "%s location %08x caused an access violation.\r\n", v23, v33->ExceptionInformation[1]);
      hprintf(hFile, "%s", v22);
    }
    hprintf(hFile, "\r\n");
    hprintf(hFile, "Registers:\r\n");
    hprintf(
      hFile,
      "EAX=%08x CS=%04x EIP=%08x EFLGS=%08x\r\n",
      ContextRecord.Eax,
      ContextRecord.SegCs,
      ContextRecord.Eip,
      ContextRecord.EFlags);
    hprintf(
      hFile,
      "EBX=%08x SS=%04x ESP=%08x EBP=%08x\r\n",
      ContextRecord.Ebx,
      ContextRecord.SegSs,
      ContextRecord.Esp,
      ContextRecord.Ebp);
    hprintf(
      hFile,
      "ECX=%08x DS=%04x ESI=%08x FS=%04x\r\n",
      ContextRecord.Ecx,
      ContextRecord.SegDs,
      ContextRecord.Esi,
      ContextRecord.SegFs);
    hprintf(
      hFile,
      "EDX=%08x ES=%04x EDI=%08x GS=%04x\r\n",
      ContextRecord.Edx,
      ContextRecord.SegEs,
      ContextRecord.Edi,
      ContextRecord.SegGs);
    hprintf(hFile, "\r\nBytes at CS:EIP:\r\n");
    v31 = ContextRecord.Eip;
    for ( i = 0; i < 16; ++i )
    {
      ms_exc.registration.TryLevel = 0;
      hprintf(hFile, "%02x ", *(unsigned __int8 *)(i + v31));
      ms_exc.registration.TryLevel = -1;
    }
    hprintf(hFile, "\r\n\r\nStack dump:\r\n");
    *(_DWORD *)dword_4B8634 = ContextRecord.Esp & 0xFFFFFFE0;
    dword_4B8630 = (int)NtCurrentTeb()->NtTib.StackBase & 0xFFFFFFE0;
    PrintStack(hFile, ContextRecord.Esp & 0xFFFFFFE0, (ContextRecord.Esp & 0xFFFFFFE0) + 160);
    hprintf(hFile, "\r\n");
    v8 = GetCurrentProcess();
    if ( SymInitialize(v8, 0, 1) )
    {
      v20 = SymGetOptions();
      if ( (v20 & 0x16) != 20 )
        SymSetOptions(v20 & 0xFFFFFFFD | 0x14);
      ImageHelpStackWalk(hFile, &ContextRecord);
      v9 = GetCurrentProcess();
      SymCleanup(v9);
    }
    else
    {
      IntelStackWalk(hFile, &ContextRecord);
    }
    RecordModuleList(hFile);
    CloseHandle(hFile);
    CreateMiniDump(data);
  }
}
// 4202F9: variable 'v5' is possibly undefined
// 4202F9: variable 'v6' is possibly undefined
// 4B8630: using guessed type int dword_4B8630;

//----- (004207B0) --------------------------------------------------------
void hprintf(void *LogFile, char *Format, ...)
{
  int v2; // eax
  CHAR String[2004]; // [esp+0h] [ebp-7E0h] BYREF
  DWORD NumberOfBytesWritten; // [esp+7D8h] [ebp-8h] BYREF
  va_list arglist; // [esp+7DCh] [ebp-4h]
  va_list va; // [esp+7F0h] [ebp+10h] BYREF

  va_start(va, Format);
  va_copy(arglist, va);
  wvsprintfA(String, Format, va);
  arglist = 0;
  v2 = lstrlenA(String);
  WriteFile(LogFile, String, v2, &NumberOfBytesWritten, 0);
}

//----- (00420820) --------------------------------------------------------
void __cdecl CreateMiniDump(_EXCEPTION_POINTERS *pException)
{
  HANDLE v1; // eax
  HANDLE v2; // eax
  HANDLE v3; // eax
  DWORD v4; // [esp-18h] [ebp-2Ch]
  struct _MINIDUMP_EXCEPTION_INFORMATION *ExceptionParam; // [esp+0h] [ebp-14h]
  HANDLE hFile; // [esp+4h] [ebp-10h]
  int v7[3]; // [esp+8h] [ebp-Ch] BYREF

  hFile = CreateFileA(byte_4B8640, 0x40000000u, 1u, 0, 2u, 0x80000080, 0);
  if ( hFile != (HANDLE)-1 )
  {
    v1 = GetCurrentThread();
    SetThreadPriority(v1, 2);
    if ( pException )
    {
      v7[0] = GetCurrentThreadId();
      v7[2] = 1;
      v7[1] = (int)pException;
      ExceptionParam = (struct _MINIDUMP_EXCEPTION_INFORMATION *)v7;
    }
    else
    {
      ExceptionParam = 0;
    }
    v4 = GetCurrentProcessId();
    v2 = GetCurrentProcess();
    MiniDumpWriteDump(v2, v4, hFile, MiniDumpNormal, ExceptionParam, 0, 0);
    v3 = GetCurrentThread();
    SetThreadPriority(v3, 0);
    CloseHandle(hFile);
  }
}

//----- (004208D0) --------------------------------------------------------
void __cdecl RecordModuleList(void *LogFile)
{
  hprintf(LogFile, "Module list:\r\n");
  GetModuleHandleA(0);
  _getdrive();
}

//----- (00420B70) --------------------------------------------------------
const char *__cdecl GetExceptionDescription(unsigned int ExceptionCode)
{
  unsigned int i; // [esp+0h] [ebp-C4h]
  int v3; // [esp+4h] [ebp-C0h]
  int v4[47]; // [esp+8h] [ebp-BCh]

  v3 = 1073807365;
  v4[0] = (int)"a Control-C";
  v4[1] = 1073807368;
  v4[2] = (int)"a Control-Break";
  v4[3] = -2147483646;
  v4[4] = (int)"a Datatype Misalignment";
  v4[5] = -2147483645;
  v4[6] = (int)"a Breakpoint";
  v4[7] = -1073741819;
  v4[8] = (int)"an Access Violation";
  v4[9] = -1073741818;
  v4[10] = (int)"an In Page Error";
  v4[11] = -1073741801;
  v4[12] = (int)"a No Memory";
  v4[13] = -1073741795;
  v4[14] = (int)"an Illegal Instruction";
  v4[15] = -1073741787;
  v4[16] = (int)"a Noncontinuable Exception";
  v4[17] = -1073741786;
  v4[18] = (int)"an Invalid Disposition";
  v4[19] = -1073741684;
  v4[20] = (int)"a Array Bounds Exceeded";
  v4[21] = -1073741683;
  v4[22] = (int)"a Float Denormal Operand";
  v4[23] = -1073741682;
  v4[24] = (int)"a Float Divide by Zero";
  v4[25] = -1073741681;
  v4[26] = (int)"a Float Inexact Result";
  v4[27] = -1073741680;
  v4[28] = (int)"a Float Invalid Operation";
  v4[29] = -1073741679;
  v4[30] = (int)"a Float Overflow";
  v4[31] = -1073741678;
  v4[32] = (int)"a Float Stack Check";
  v4[33] = -1073741677;
  v4[34] = (int)"a Float Underflow";
  v4[35] = -1073741676;
  v4[36] = (int)"an Integer Divide by Zero";
  v4[37] = -1073741675;
  v4[38] = (int)"an Integer Overflow";
  v4[39] = -1073741674;
  v4[40] = (int)"a Privileged Instruction";
  v4[41] = -1073741571;
  v4[42] = (int)"a Stack Overflow";
  v4[43] = -1073741502;
  v4[44] = (int)"a DLL Initialization Failed";
  v4[45] = -529697949;
  v4[46] = (int)"a Microsoft C++ Exception";
  for ( i = 0; i < 0x18; ++i )
  {
    if ( ExceptionCode == *(&v3 + 2 * i) )
      return (const char *)v4[2 * i];
  }
  return "Unknown exception type";
}

//----- (00420D50) --------------------------------------------------------
void __cdecl PrintStack(void *LogFile, unsigned int begin, unsigned int end)
{
  int v3; // eax
  int v4; // eax
  char v5; // [esp+Ch] [ebp-80h] BYREF
  char v6[88]; // [esp+Dh] [ebp-7Fh] BYREF
  __int16 v7; // [esp+65h] [ebp-27h]
  char v8; // [esp+67h] [ebp-25h]
  LPSTR v9; // [esp+70h] [ebp-1Ch]
  CPPEH_RECORD ms_exc; // [esp+74h] [ebp-18h]
  unsigned int v11; // [esp+9Ch] [ebp+10h]

  if ( *(_DWORD *)dword_4B8634 < begin )
    *(_DWORD *)dword_4B8634 = begin & 0xFFFFFFE0;
  if ( end <= dword_4B8630 )
    v11 = (end + 31) & 0xFFFFFFE0;
  else
    v11 = dword_4B8630;
  ms_exc.registration.TryLevel = 0;
  v5 = 0;
  memset(v6, 0, sizeof(v6));
  v7 = 0;
  v8 = 0;
  v9 = &v5;
  while ( *(_DWORD *)dword_4B8634 < v11 )
  {
    if ( (dword_4B8634[0] & 0x1F) == 0 )
    {
      v3 = wsprintfA(v9, "%08x:", *(_DWORD *)dword_4B8634);
      v9 += v3;
    }
    v4 = wsprintfA(v9, " %08x", **(_DWORD **)dword_4B8634);
    v9 += v4;
    *(_DWORD *)dword_4B8634 += 4;
    if ( (dword_4B8634[0] & 0x1F) == 0 )
    {
      hprintf(LogFile, "%s\r\n", &v5);
      v5 = 0;
      v9 = &v5;
    }
  }
}
// 4B8630: using guessed type int dword_4B8630;

//----- (00420ED0) --------------------------------------------------------
void __cdecl ImageHelpStackWalk(void *LogFile, _CONTEXT *ptrContext)
{
  HANDLE v2; // eax
  HANDLE v3; // eax
  HANDLE v4; // eax
  HANDLE v5; // [esp-1Ch] [ebp-678h]
  DWORD64 v6; // [esp-10h] [ebp-66Ch]
  DWORD64 v7; // [esp-10h] [ebp-66Ch]
  struct _MEMORY_BASIC_INFORMATION Buffer; // [esp+0h] [ebp-65Ch] BYREF
  CHAR Filename[268]; // [esp+1Ch] [ebp-640h] BYREF
  DWORD pdwDisplacement; // [esp+128h] [ebp-534h] BYREF
  struct _IMAGEHLP_LINE64 Line64; // [esp+12Ch] [ebp-530h] BYREF
  PSYMBOL_INFO Symbol; // [esp+148h] [ebp-514h]
  CHAR outputString[512]; // [esp+14Ch] [ebp-510h] BYREF
  struct _SYMBOL_INFO v14; // [esp+34Ch] [ebp-310h] BYREF
  unsigned __int64 Displacement; // [esp+5ACh] [ebp-B0h] BYREF
  struct _tagSTACKFRAME StackFrame; // [esp+5B4h] [ebp-A8h] BYREF

  hprintf(LogFile, "Call Stack Information:\r\n");
  memset(&StackFrame, 0, sizeof(StackFrame));
  StackFrame.AddrPC.Offset = ptrContext->Eip;
  StackFrame.AddrPC.Mode = AddrModeFlat;
  StackFrame.AddrStack.Offset = ptrContext->Esp;
  StackFrame.AddrStack.Mode = AddrModeFlat;
  StackFrame.AddrFrame.Offset = ptrContext->Ebp;
  StackFrame.AddrFrame.Mode = AddrModeFlat;
  while ( 1 )
  {
    v5 = GetCurrentThread();
    v2 = GetCurrentProcess();
    if ( !StackWalk(0x14Cu, v2, v5, &StackFrame, ptrContext, 0, SymFunctionTableAccess, SymGetModuleBase, 0)
      || !StackFrame.AddrFrame.Offset )
    {
      break;
    }
    PrintStack(LogFile, StackFrame.AddrFrame.Offset - 32, StackFrame.AddrFrame.Offset + 12);
    hprintf(LogFile, "\r\n%08x  %08x ", StackFrame.AddrFrame.Offset, StackFrame.AddrPC.Offset);
    Symbol = &v14;
    v14.SizeOfStruct = 600;
    v14.MaxNameLen = 512;
    Displacement = 0i64;
    outputString[0] = 0;
    v6 = StackFrame.AddrPC.Offset;
    v3 = GetCurrentProcess();
    if ( SymFromAddr(v3, v6, &Displacement, &v14)
      && (hprintf(LogFile, "%s +%x\r\n", Symbol->Name, (_DWORD)Displacement),
          UnDecorateSymbolName(Symbol->Name, outputString, 0x200u, 0),
          pdwDisplacement = 0,
          Line64.SizeOfStruct = 24,
          v7 = StackFrame.AddrPC.Offset,
          v4 = GetCurrentProcess(),
          SymGetLineFromAddr64(v4, v7, &pdwDisplacement, &Line64)) )
    {
      hprintf(LogFile, "%s %d %s\r\n", Line64.FileName, Line64.LineNumber, outputString);
    }
    else
    {
      Filename[0] = 0;
      if ( VirtualQuery((LPCVOID)StackFrame.AddrPC.Offset, &Buffer, 0x1Cu) )
        GetModuleFileNameA((HMODULE)Buffer.AllocationBase, Filename, 0x104u);
      hprintf(LogFile, "%s %s\r\n", Filename, outputString);
    }
    hprintf(
      LogFile,
      "Params:   %08x %08x %08x %08x\r\n",
      StackFrame.Params[0],
      StackFrame.Params[1],
      StackFrame.Params[2],
      StackFrame.Params[3]);
  }
  hprintf(LogFile, "\r\n");
}

//----- (004211B0) --------------------------------------------------------
void __cdecl IntelStackWalk(void *LogFile, _CONTEXT *ptrContext)
{
  int i; // [esp+Ch] [ebp-154h]
  struct _MEMORY_BASIC_INFORMATION Buffer; // [esp+10h] [ebp-150h] BYREF
  unsigned __int8 *v4; // [esp+2Ch] [ebp-134h]
  CHAR Filename[264]; // [esp+30h] [ebp-130h] BYREF
  LPCVOID lpAddress; // [esp+13Ch] [ebp-24h]
  LPVOID lp; // [esp+140h] [ebp-20h]
  LPVOID v8; // [esp+144h] [ebp-1Ch]
  CPPEH_RECORD ms_exc; // [esp+148h] [ebp-18h]

  hprintf(LogFile, "Intel Call Stack Information:\r\n");
  lpAddress = (LPCVOID)ptrContext->Eip;
  lp = (LPVOID)ptrContext->Ebp;
  do
  {
    PrintStack(LogFile, (unsigned int)lp - 32, (unsigned int)lp + 12);
    Filename[0] = 0;
    if ( VirtualQuery(lpAddress, &Buffer, 0x1Cu) )
      GetModuleFileNameA((HMODULE)Buffer.AllocationBase, Filename, 0x104u);
    hprintf(LogFile, "\r\n%08x  %08x  %s\r\n", lp, lpAddress, Filename);
    hprintf(LogFile, "Bytes at CS:EIP: ");
    v4 = (unsigned __int8 *)lpAddress;
    for ( i = 0; i < 16; ++i )
    {
      ms_exc.registration.TryLevel = 0;
      hprintf(LogFile, "%02x ", v4[i]);
      ms_exc.registration.TryLevel = -1;
    }
    hprintf(LogFile, "\r\n");
    lpAddress = (LPCVOID)*((_DWORD *)lp + 1);
    v8 = lp;
    lp = *(LPVOID *)lp;
  }
  while ( ((unsigned __int8)lp & 3) == 0 && lp > v8 && !IsBadWritePtr(lp, 8u) );
}

//----- (00421380) --------------------------------------------------------
LONG __userpurge RecordExceptionInfo@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _EXCEPTION_POINTERS *data)
{
  LONG result; // eax

  if ( dword_4ADB3C && data->ExceptionRecord->ExceptionCode != -536870911 )
  {
    cleanup();
    if ( !dword_4B8878 )
    {
      dword_4B8878 = 1;
      GenerateExceptionReport(a1, a2, a3, data);
      sendMail();
    }
    cleanup_0();
  }
  if ( lpTopLevelExceptionFilter )
    result = lpTopLevelExceptionFilter(data);
  else
    result = 0;
  return result;
}
// 41FA10: using guessed type int cleanup(void);
// 41FA20: using guessed type int cleanup_0(void);
// 4B8878: using guessed type int dword_4B8878;

//----- (004213F0) --------------------------------------------------------
void __thiscall CIOException::CInit::~CInit(CIOException::CInit *this)
{
  if ( lpTopLevelExceptionFilter )
    SetUnhandledExceptionFilter(lpTopLevelExceptionFilter);
  DeleteCriticalSection(&CriticalSection);
}

//----- (00421420) --------------------------------------------------------
void ELOG(const char *lpszFormat, ...)
{
  DWORD v1; // eax
  int v2; // [esp-18h] [ebp-448h]
  int v3; // [esp-14h] [ebp-444h]
  int v4; // [esp-10h] [ebp-440h]
  int v5; // [esp-Ch] [ebp-43Ch]
  int v6; // [esp-8h] [ebp-438h]
  int v7; // [esp-4h] [ebp-434h]
  _BYTE *Src; // [esp+0h] [ebp-430h]
  DWORD NumberOfBytesWritten; // [esp+4h] [ebp-42Ch] BYREF
  int i; // [esp+8h] [ebp-428h]
  struct _SYSTEMTIME SystemTime; // [esp+Ch] [ebp-424h] BYREF
  HANDLE hFile; // [esp+1Ch] [ebp-414h]
  char Buffer[1028]; // [esp+20h] [ebp-410h] BYREF
  DWORD nNumberOfBytesToWrite; // [esp+428h] [ebp-8h]
  va_list ArgList; // [esp+42Ch] [ebp-4h]
  va_list va; // [esp+43Ch] [ebp+Ch] BYREF

  va_start(va, lpszFormat);
  if ( dword_4ADB3C )
  {
    cleanup();
    va_copy(ArgList, va);
    SystemTime.wYear = 0;
    *(_DWORD *)&SystemTime.wMonth = 0;
    *(_DWORD *)&SystemTime.wDay = 0;
    *(_DWORD *)&SystemTime.wMinute = 0;
    SystemTime.wMilliseconds = 0;
    GetLocalTime(&SystemTime);
    hFile = CreateFileA(FileName, 0xC0000000, 1u, 0, 4u, 0x80u, 0);
    if ( hFile != (HANDLE)-1 )
    {
      SetFilePointer(hFile, 0, 0, 2u);
      v7 = SystemTime.wSecond;
      v6 = SystemTime.wMinute;
      v5 = SystemTime.wHour;
      v4 = SystemTime.wDay;
      v3 = SystemTime.wMonth;
      v2 = SystemTime.wYear;
      v1 = GetCurrentThreadId();
      nNumberOfBytesToWrite = _snprintf(
                                Buffer,
                                0x400u,
                                "[%x %04d/%02d/%02d %02d:%02d:%02d]: ",
                                v1,
                                v2,
                                v3,
                                v4,
                                v5,
                                v6,
                                v7);
      if ( (nNumberOfBytesToWrite & 0x80000000) == 0 )
      {
        WriteFile(hFile, Buffer, nNumberOfBytesToWrite, &NumberOfBytesWritten, 0);
        nNumberOfBytesToWrite = _vsnprintf(Buffer, 0x400u, lpszFormat, ArgList);
        if ( (nNumberOfBytesToWrite & 0x80000000) == 0 )
        {
          for ( i = 0; i < (int)nNumberOfBytesToWrite; i += 2 )
          {
            Src = memchr(&Buffer[i], 10, nNumberOfBytesToWrite - i);
            if ( !Src )
              break;
            if ( nNumberOfBytesToWrite < 0x400 )
              ++nNumberOfBytesToWrite;
            i = Src - Buffer;
            memcpy_0(Src + 1, Src, nNumberOfBytesToWrite - (Src - Buffer) - 1);
            *Src = 13;
          }
          WriteFile(hFile, Buffer, nNumberOfBytesToWrite, &NumberOfBytesWritten, 0);
        }
      }
      ArgList = 0;
      CloseHandle(hFile);
      cleanup_0();
    }
  }
}
// 41FA10: using guessed type int cleanup(void);
// 41FA20: using guessed type int cleanup_0(void);

//----- (00421670) --------------------------------------------------------
void __usercall EBREAK(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  if ( dword_4ADB3C && InterlockedExchange(&dword_4ADB40, 0) )
  {
    if ( dword_4ADB3C )
      EBreak(a1, a2, a3);
  }
}

//----- (004216B0) --------------------------------------------------------
int __usercall EBreak@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  ELOG("EASSERT\n");
  cleanup();
  GenerateExceptionReport(a1, a2, a3, 0);
  sendMail();
  return cleanup_0();
}
// 41FA10: using guessed type int cleanup(void);
// 41FA20: using guessed type int cleanup_0(void);

//----- (004216E0) --------------------------------------------------------
int __usercall CIOException::Filter@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _EXCEPTION_POINTERS *pExp)
{
  if ( dword_4ADB3C && pExp->ExceptionRecord->ExceptionCode != -536870911 )
  {
    cleanup();
    GenerateExceptionReport(a1, a2, a3, pExp);
    cleanup_0();
  }
  return 1;
}
// 41FA10: using guessed type int cleanup(void);
// 41FA20: using guessed type int cleanup_0(void);

//----- (00421720) --------------------------------------------------------
void __cdecl CIOException::Open(const char *szMailServer, const char *szMailFrom, const char *szMailTo)
{
  HANDLE hObject; // [esp+0h] [ebp-4h]

  if ( szMailServer && *szMailServer )
  {
    dword_4B8868 = (char *)szMailServer;
    dword_4B886C = (int)szMailFrom;
    dword_4B8870 = (int)szMailTo;
  }
  else
  {
    dword_4B8868 = 0;
    dword_4B886C = 0;
    dword_4B8870 = 0;
  }
  hObject = CreateFileA(FileName, 0x80000000, 1u, 0, 3u, 0, 0);
  if ( hObject != (HANDLE)-1 )
  {
    CloseHandle(hObject);
    sub_421800();
  }
}

//----- (004217B0) --------------------------------------------------------
BOOL sub_4217B0()
{
  return InterlockedExchange(&dword_4ADB3C, 1) == 0;
}

//----- (004217D0) --------------------------------------------------------
LONG sub_4217D0()
{
  return InterlockedExchange(&dword_4ADB3C, 0);
}

//----- (004217F0) --------------------------------------------------------
LONG sub_4217F0()
{
  return dword_4ADB3C;
}

//----- (00421800) --------------------------------------------------------
int sub_421800()
{
  cleanup();
  sendMail();
  return cleanup_0();
}
// 41FA10: using guessed type int cleanup(void);
// 41FA20: using guessed type int cleanup_0(void);

//----- (00421820) --------------------------------------------------------
LONG sub_421820()
{
  dword_4ADB40 = dword_4ADB40 == 0;
  return dword_4ADB40;
}

//----- (00421840) --------------------------------------------------------
void __cdecl CIOException::DumpStack(int nThread, void **hThread, unsigned int *nThreadId)
{
  HANDLE v3; // eax
  DWORD v4; // eax
  HANDLE v5; // eax
  HANDLE v6; // eax
  HANDLE v7; // eax
  int v8; // [esp-18h] [ebp-38h]
  int v9; // [esp-14h] [ebp-34h]
  int v10; // [esp-10h] [ebp-30h]
  int v11; // [esp-Ch] [ebp-2Ch]
  int v12; // [esp-8h] [ebp-28h]
  int v13; // [esp-4h] [ebp-24h]
  int i; // [esp+0h] [ebp-20h]
  DWORD v15; // [esp+4h] [ebp-1Ch]
  struct tm *v16; // [esp+8h] [ebp-18h]
  struct _SYSTEMTIME SystemTime; // [esp+Ch] [ebp-14h] BYREF
  HANDLE hFile; // [esp+1Ch] [ebp-4h]

  v3 = GetCurrentThread();
  SetThreadPriority(v3, 2);
  cleanup();
  hFile = CreateFileA(FileName, 0x40000000u, 1u, 0, 4u, 0x80000080, 0);
  if ( hFile == (HANDLE)-1 )
  {
    cleanup_0();
  }
  else
  {
    SetFilePointer(hFile, 0, 0, 2u);
    SystemTime.wYear = 0;
    *(_DWORD *)&SystemTime.wMonth = 0;
    *(_DWORD *)&SystemTime.wDay = 0;
    *(_DWORD *)&SystemTime.wMinute = 0;
    SystemTime.wMilliseconds = 0;
    GetLocalTime(&SystemTime);
    v13 = SystemTime.wSecond;
    v12 = SystemTime.wMinute;
    v11 = SystemTime.wHour;
    v10 = SystemTime.wDay;
    v9 = SystemTime.wMonth;
    v8 = SystemTime.wYear;
    v4 = GetCurrentThreadId();
    hprintf(
      hFile,
      "[%x %04d/%02d/%02d %02d:%02d:%02d]: Dump Stack =======================\r\n",
      v4,
      v8,
      v9,
      v10,
      v11,
      v12,
      v13);
    v16 = localtime(&dword_4B884C);
    hprintf(
      hFile,
      "start at %02d/%02d/%02d %02d:%02d:%02d\r\n",
      v16->tm_year % 100,
      v16->tm_mon + 1,
      v16->tm_mday,
      v16->tm_hour,
      v16->tm_min,
      v16->tm_sec);
    v5 = GetCurrentProcess();
    if ( SymInitialize(v5, 0, 1) )
    {
      v15 = SymGetOptions();
      if ( (v15 & 0x16) != 20 )
        SymSetOptions(v15 & 0xFFFFFFFD | 0x14);
      for ( i = 0; i < nThread; ++i )
      {
        hprintf(hFile, "Call Stack Information %d (%x):\r\n", i, nThreadId[i]);
        ImageHelpStackWalk_0(hFile, hThread[i]);
      }
      RecordModuleList(hFile);
      v6 = GetCurrentProcess();
      SymCleanup(v6);
    }
    CloseHandle(hFile);
    cleanup_0();
    CreateMiniDump(0);
    v7 = GetCurrentThread();
    SetThreadPriority(v7, 0);
  }
}
// 41FA10: using guessed type int cleanup(void);
// 41FA20: using guessed type int cleanup_0(void);

//----- (00421A20) --------------------------------------------------------
void __cdecl ImageHelpStackWalk_0(void *LogFile, void *hThread)
{
  HANDLE v2; // eax
  HANDLE v3; // eax
  HANDLE v4; // eax
  DWORD64 v5; // [esp-10h] [ebp-93Ch]
  DWORD64 v6; // [esp-10h] [ebp-93Ch]
  struct _MEMORY_BASIC_INFORMATION Buffer; // [esp+0h] [ebp-92Ch] BYREF
  CHAR Filename[268]; // [esp+1Ch] [ebp-910h] BYREF
  DWORD pdwDisplacement; // [esp+128h] [ebp-804h] BYREF
  struct _IMAGEHLP_LINE64 Line64; // [esp+12Ch] [ebp-800h] BYREF
  PSYMBOL_INFO Symbol; // [esp+148h] [ebp-7E4h]
  CHAR outputString[512]; // [esp+14Ch] [ebp-7E0h] BYREF
  struct _SYMBOL_INFO v13; // [esp+34Ch] [ebp-5E0h] BYREF
  unsigned __int64 Displacement; // [esp+5A4h] [ebp-388h] BYREF
  CONTEXT Context; // [esp+5ACh] [ebp-380h] BYREF
  struct _tagSTACKFRAME StackFrame; // [esp+884h] [ebp-A8h] BYREF

  SuspendThread(hThread);
  memset(&Context, 0, sizeof(Context));
  Context.ContextFlags = 65543;
  GetThreadContext(hThread, &Context);
  hprintf(LogFile, "\r\nRegisters:\r\n");
  hprintf(LogFile, "EAX=%08x CS=%04x EIP=%08x EFLGS=%08x\r\n", Context.Eax, Context.SegCs, Context.Eip, Context.EFlags);
  hprintf(LogFile, "EBX=%08x SS=%04x ESP=%08x EBP=%08x\r\n", Context.Ebx, Context.SegSs, Context.Esp, Context.Ebp);
  hprintf(LogFile, "ECX=%08x DS=%04x ESI=%08x FS=%04x\r\n", Context.Ecx, Context.SegDs, Context.Esi, Context.SegFs);
  hprintf(LogFile, "EDX=%08x ES=%04x EDI=%08x GS=%04x\r\n", Context.Edx, Context.SegEs, Context.Edi, Context.SegGs);
  hprintf(LogFile, "\r\nStack dump:\r\n");
  *(_DWORD *)dword_4B8634 = Context.Esp & 0xFFFFFFE0;
  dword_4B8630 = 0x80000000;
  PrintStack(LogFile, Context.Esp & 0xFFFFFFE0, (Context.Esp & 0xFFFFFFE0) + 160);
  hprintf(LogFile, "\r\nCall Stack:\r\n");
  memset(&StackFrame, 0, sizeof(StackFrame));
  StackFrame.AddrPC.Offset = Context.Eip;
  StackFrame.AddrPC.Mode = AddrModeFlat;
  StackFrame.AddrStack.Offset = Context.Esp;
  StackFrame.AddrStack.Mode = AddrModeFlat;
  StackFrame.AddrFrame.Offset = Context.Ebp;
  StackFrame.AddrFrame.Mode = AddrModeFlat;
  while ( 1 )
  {
    v2 = GetCurrentProcess();
    if ( !StackWalk(0x14Cu, v2, hThread, &StackFrame, &Context, 0, SymFunctionTableAccess, SymGetModuleBase, 0)
      || !StackFrame.AddrFrame.Offset )
    {
      break;
    }
    PrintStack(LogFile, StackFrame.AddrFrame.Offset - 16, StackFrame.AddrFrame.Offset + 12);
    hprintf(LogFile, "\r\n%08x  %08x ", StackFrame.AddrFrame.Offset, StackFrame.AddrPC.Offset);
    Symbol = &v13;
    v13.SizeOfStruct = 600;
    v13.MaxNameLen = 512;
    outputString[0] = 0;
    Displacement = 0i64;
    v5 = StackFrame.AddrPC.Offset;
    v3 = GetCurrentProcess();
    if ( SymFromAddr(v3, v5, &Displacement, &v13)
      && (hprintf(LogFile, "%s +%x\r\n", Symbol->Name, (_DWORD)Displacement),
          UnDecorateSymbolName(Symbol->Name, outputString, 0x200u, 0),
          pdwDisplacement = 0,
          Line64.SizeOfStruct = 24,
          v6 = StackFrame.AddrPC.Offset,
          v4 = GetCurrentProcess(),
          SymGetLineFromAddr64(v4, v6, &pdwDisplacement, &Line64)) )
    {
      hprintf(LogFile, "%s %d %s\r\n", Line64.FileName, Line64.LineNumber, outputString);
    }
    else
    {
      Filename[0] = 0;
      if ( VirtualQuery((LPCVOID)StackFrame.AddrPC.Offset, &Buffer, 0x1Cu) )
        GetModuleFileNameA((HMODULE)Buffer.AllocationBase, Filename, 0x104u);
      hprintf(LogFile, "%s %s\r\n", Filename, outputString);
    }
    hprintf(
      LogFile,
      "Params:   %08x %08x %08x %08x\r\n",
      StackFrame.Params[0],
      StackFrame.Params[1],
      StackFrame.Params[2],
      StackFrame.Params[3]);
  }
  hprintf(LogFile, "\r\n");
  ResumeThread(hThread);
}
// 4B8630: using guessed type int dword_4B8630;

//----- (00421E40) --------------------------------------------------------
void __thiscall CIOSpinLock::Wait(CIOSpinLock *this)
{
  int v2; // [esp+4h] [ebp-4h]
  int v3; // [esp+4h] [ebp-4h]

  v2 = 4000;
  while ( --v2 >= 0 )
  {
    if ( !InterlockedCompareExchange((volatile LONG *)this, 1, 0) )
      return;
    _mm_pause();
  }
  v3 = 4000;
  while ( --v3 >= 0 )
  {
    SwitchToThread();
    if ( !InterlockedCompareExchange((volatile LONG *)this, 1, 0) )
      return;
  }
  do
    Sleep(0x3E8u);
  while ( InterlockedCompareExchange((volatile LONG *)this, 1, 0) );
}

//----- (00421ED0) --------------------------------------------------------
void __thiscall CIOCriticalSection::CIOCriticalSection(CIOCriticalSection *this)
{
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  *((_DWORD *)this + 7) = 0;
  *((_DWORD *)this + 6) = 0;
}

//----- (00421F00) --------------------------------------------------------
void __usercall CIOCriticalSection::~CIOCriticalSection(CIOCriticalSection *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( *((_DWORD *)this + 6) )
    EBREAK(a2, a3, a4);
  DeleteCriticalSection((LPCRITICAL_SECTION)this);
}

//----- (00421F30) --------------------------------------------------------
void __usercall CIOCriticalSection::Enter(CIOCriticalSection *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v5; // [esp+8h] [ebp-4h]
  int vars0; // [esp+Ch] [ebp+0h]
  void *retaddr; // [esp+10h] [ebp+4h]

  if ( !TryEnterCriticalSection((LPCRITICAL_SECTION)this) )
    EnterCriticalSection((LPCRITICAL_SECTION)this);
  if ( *((_DWORD *)this + 6) )
  {
    ELOG("CIOCriticalSection::Enter EIP(%p %p)\n", *((const void **)this + 6), *((const void **)this + 7));
    EBREAK(a2, a3, a4);
  }
  v5 = *(_DWORD *)(vars0 + 4);
  *((_DWORD *)this + 6) = retaddr;
  *((_DWORD *)this + 7) = v5;
}
// 421F95: variable 'vars0' is possibly undefined

//----- (00421FC0) --------------------------------------------------------
void __usercall CIOCriticalSection::Leave(CIOCriticalSection *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( !*((_DWORD *)this + 6) )
    EBREAK(a2, a3, a4);
  *((_DWORD *)this + 7) = 0;
  *((_DWORD *)this + 6) = 0;
  LeaveCriticalSection((LPCRITICAL_SECTION)this);
}

//----- (00422000) --------------------------------------------------------
void sub_422000()
{
  CIOSocket::FreeIOThread();
  CIOBuffer::FreeAll();
}

//----- (00422020) --------------------------------------------------------
int __usercall CIOSocket::CreateIOThread@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int nThread)
{
  HANDLE v4; // eax
  int result; // eax
  int ArgList; // [esp+0h] [ebp-4h]

  v4 = GetCurrentProcess();
  SetProcessPriorityBoost(v4, 1);
  dword_4B8A98 = 0;
  hHandle = CreateEventA(0, 0, 0, 0);
  CompletionPort = CreateIoCompletionPort((HANDLE)0xFFFFFFFF, 0, 0, 0);
  CIOSocket::CIOTimerInstance::OnTimerCallback((CIOSocket::CIOTimerInstance *)&unk_4B8AE0, 0);
  CIOObject::AddRef((CIOObject *)&unk_4B8AE0, a1, a2, a3, dword_4B8AE8);
  if ( CIOObject::RegisterWait((CIOObject *)&unk_4B8AE0, a1, a2, a3, hHandle) )
  {
    dword_4B8888 = (int)CMemory::_malloc(4 * nThread);
    dword_4B8884 = (int)CMemory::_malloc(4 * nThread);
    ::ArgList = (void *)nThread;
    for ( ArgList = 0; ArgList < nThread; ++ArgList )
      *(_DWORD *)(dword_4B8888 + 4 * ArgList) = _beginthreadex(
                                                  0,
                                                  0,
                                                  (_beginthreadex_proc_type)CIOSocket::IOThread,
                                                  (void *)ArgList,
                                                  0,
                                                  (unsigned int *)(dword_4B8884 + 4 * ArgList));
    result = 1;
  }
  else
  {
    LOG_ERR("RegisterWait error for timer");
    result = 0;
  }
  return result;
}

//----- (00422130) --------------------------------------------------------
unsigned int __thiscall CIOSocket::AddIOThread(void *this)
{
  unsigned int ThrdAddr; // [esp+0h] [ebp-4h] BYREF

  ThrdAddr = (unsigned int)this;
  if ( !CompletionPort )
    return 0;
  dword_4B8888 = (int)CMemory::_realloc((void *)dword_4B8888, 4 * (_DWORD)ArgList + 4);
  dword_4B8884 = (int)CMemory::_realloc((void *)dword_4B8884, 4 * (_DWORD)ArgList + 4);
  *(_DWORD *)(dword_4B8888 + 4 * (_DWORD)ArgList) = _beginthreadex(
                                                      0,
                                                      0,
                                                      (_beginthreadex_proc_type)CIOSocket::IOThread,
                                                      ArgList,
                                                      0,
                                                      &ThrdAddr);
  *(_DWORD *)(dword_4B8884 + 4 * (_DWORD)ArgList) = ThrdAddr;
  ArgList = (char *)ArgList + 1;
  return ThrdAddr;
}

//----- (004221E0) --------------------------------------------------------
int __cdecl CIOSocket::CloseIOThread()
{
  if ( InterlockedExchange(&dword_4B8A98, 1) )
    return 0;
  SetEvent(hHandle);
  return 1;
}

//----- (00422210) --------------------------------------------------------
void __cdecl CIOSocket::FreeIOThread()
{
  CMemory::_free((void *)dword_4B8888);
  CMemory::_free((void *)dword_4B8884);
  dword_4B8888 = 0;
  dword_4B8884 = 0;
}

//----- (00422250) --------------------------------------------------------
_DWORD *__thiscall sub_422250(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  *this = &off_498544;
  return result;
}
// 498544: using guessed type int (__stdcall *off_498544)(int);

//----- (00422270) --------------------------------------------------------
void __userpurge CIOObject::AddRef(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *pRef)
{
  if ( InterlockedIncrement((volatile LONG *)this + 1) == 1 )
  {
    EBREAK(a2, a3, a4);
    *((_DWORD *)this + 1) = 100;
  }
  InterlockedIncrement(pRef);
}

//----- (004222B0) --------------------------------------------------------
void __userpurge CIOObject::Release(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *pRef)
{
  LONG v6; // [esp+4h] [ebp-8h]
  LONG v7; // [esp+8h] [ebp-4h]

  v6 = InterlockedDecrement(pRef);
  if ( v6 >= 0 )
  {
    v7 = InterlockedDecrement((volatile LONG *)this + 1);
    if ( v7 <= 0 )
    {
      if ( v7 >= 0 )
      {
        if ( *pRef )
        {
          ELOG("CIOObject::Release %p %p %x %d\n", this, *(const void **)this, (char *)pRef - (char *)this, *pRef);
          EBREAK(a2, a3, a4);
          *pRef = 100;
          *((_DWORD *)this + 1) = 100;
        }
        else
        {
          (*(void (__thiscall **)(CIOObject *))(*(_DWORD *)this + 4))(this);
        }
      }
      else
      {
        ELOG("CIOObject::Release %p %p %d\n", this, *(const void **)this, v7);
        EBREAK(a2, a3, a4);
        *((_DWORD *)this + 1) = 100;
      }
    }
  }
  else
  {
    ELOG("CIOObject::Release %p %p %x %d\n", this, *(const void **)this, (char *)pRef - (char *)this, v6);
    EBREAK(a2, a3, a4);
    *pRef = 100;
    *((_DWORD *)this + 1) = 100;
  }
}

//----- (004223B0) --------------------------------------------------------
int __userpurge CIOObject::RegisterWait@<eax>(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *handle)
{
  int result; // eax

  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8AA8, a2, a3, a4);
  if ( (int)nCount < 64 )
  {
    Handles[nCount] = handle;
    dword_4B8890[nCount++] = (int)this;
    SetEvent(hHandle);
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8AA8, a2, a3, a4);
    result = 1;
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8AA8, a2, a3, a4);
    result = 0;
  }
  return result;
}

//----- (00422430) --------------------------------------------------------
void __userpurge CIOObject::AddTimer(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int dwTime, int nId)
{
  const CIOSocket::CIOTimer *v6; // eax
  char v8[12]; // [esp+4h] [ebp-Ch] BYREF
  unsigned int v9; // [esp+18h] [ebp+8h]

  CIOObject::AddRef(this, a2, a3, a4, (volatile int *)this + 2);
  v9 = dwTime + GetTickCount();
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8AA8, a2, a3, a4);
  CIOSocket::CIOTimer::CIOTimer((CIOSocket::CIOTimer *)v8, this, v9, nId);
  std::priority_queue<CIOSocket::CIOTimer>::push((std::priority_queue<CIOSocket::CIOTimer> *)&unk_4B8ACC, v6);
  if ( (int)(dword_4B8A90 - v9) <= 0 )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8AA8, a2, a3, a4);
  }
  else
  {
    dword_4B8A90 = v9;
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8AA8, a2, a3, a4);
    SetEvent(hHandle);
  }
}
// 422478: variable 'v6' is possibly undefined
// 4B8A90: using guessed type int dword_4B8A90;

//----- (004224C0) --------------------------------------------------------
void __thiscall CIOSocket::CIOTimer::CIOTimer(CIOSocket::CIOTimer *this, CIOObject *pObject, unsigned int dwTime, int nId)
{
  *(_DWORD *)this = dwTime;
  *((_DWORD *)this + 1) = pObject;
  *((_DWORD *)this + 2) = nId;
}

//----- (004224F0) --------------------------------------------------------
void __userpurge CIOObject::OnTimerCallback(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int nId)
{
  if ( !PostQueuedCompletionStatus(CompletionPort, nId, (ULONG_PTR)this, 0) )
  {
    EBREAK(a2, a3, a4);
    sub_401C50((volatile int *)this, a2, a3, a4);
  }
}

//----- (00422530) --------------------------------------------------------
void __userpurge CIOObject::OnIOCallback(CIOObject *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int bSucess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  if ( lpOverlapped )
    EBREAK(a2, a3, a4);
  (*(void (__thiscall **)(CIOObject *, unsigned int))(*(_DWORD *)this + 8))(this, dwTransferred);
  CIOObject::Release(this, a2, a3, a4, (volatile int *)this + 2);
}

//----- (00422570) --------------------------------------------------------
void __thiscall CIOSocket::CIOTimerInstance::OnTimerCallback(CIOSocket::CIOTimerInstance *this, int nId)
{
  DWORD v2; // eax
  const CIOSocket::CIOTimer *v3; // eax
  char v5[12]; // [esp+4h] [ebp-Ch] BYREF

  v2 = GetTickCount();
  CIOSocket::CIOTimer::CIOTimer((CIOSocket::CIOTimer *)v5, this, v2 + 86400000, nId);
  std::priority_queue<CIOSocket::CIOTimer>::push((std::priority_queue<CIOSocket::CIOTimer> *)&unk_4B8ACC, v3);
  dword_4B8A90 = *(_DWORD *)sub_423640((std::vector<CIOSocket::CIOTimer> *)&unk_4B8ACC);
}
// 42259B: variable 'v3' is possibly undefined
// 4B8A90: using guessed type int dword_4B8A90;

//----- (004225C0) --------------------------------------------------------
void __thiscall CIOSocket::CIOTimerInstance::OnIOCallback(CIOSocket::CIOTimerInstance *this, int bSucess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  HANDLE v4; // eax

  if ( dwTransferred )
    CIOObject::PostObject((CIOObject *)&unk_4B8AE0, dwTransferred - 1);
  else
    SetEvent(hHandle);
  v4 = GetCurrentThread();
  SuspendThread(v4);
}

//----- (00422600) --------------------------------------------------------
unsigned int __userpurge CIOSocket::WaitThread@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *__formal)
{
  CIOSocket::CIOTimer *v4; // eax
  CIOSocket::CIOTimer *v5; // eax
  CIOSocket::CIOTimer *v7; // [esp+4h] [ebp-18h]
  int v8; // [esp+8h] [ebp-14h]
  int i; // [esp+Ch] [ebp-10h]
  int dwMilliseconds; // [esp+10h] [ebp-Ch]
  DWORD v11; // [esp+14h] [ebp-8h]
  DWORD v12; // [esp+18h] [ebp-4h]

  while ( 1 )
  {
    v11 = GetTickCount();
    dwMilliseconds = dword_4B8A90 - v11;
    if ( (int)(dword_4B8A90 - v11) <= 0 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8AA8, a1, a2, a3);
      v7 = sub_423640((std::vector<CIOSocket::CIOTimer> *)&unk_4B8ACC);
      v8 = *((_DWORD *)v7 + 1);
      for ( i = *((_DWORD *)v7 + 2); ; i = *((_DWORD *)v7 + 2) )
      {
        std::priority_queue<CIOSocket::CIOTimer>::pop((std::priority_queue<CIOSocket::CIOTimer> *)&unk_4B8ACC);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)v8 + 12))(v8, i);
        v4 = sub_423640((std::vector<CIOSocket::CIOTimer> *)&unk_4B8ACC);
        *(_DWORD *)v7 = *(_DWORD *)v4;
        *((_DWORD *)v7 + 1) = *((_DWORD *)v4 + 1);
        *((_DWORD *)v7 + 2) = *((_DWORD *)v4 + 2);
        dwMilliseconds = *(_DWORD *)v7 - v11;
        if ( dwMilliseconds > 0 )
          break;
        v8 = *((_DWORD *)v7 + 1);
      }
      dword_4B8A90 = *(_DWORD *)v7;
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8AA8, a1, a2, a3);
    }
    v12 = WaitForMultipleObjects(nCount, Handles, 0, dwMilliseconds);
    if ( dword_4B8A98 )
      break;
    if ( v12 < nCount )
      (*(void (__thiscall **)(int))(*(_DWORD *)dword_4B8890[v12] + 16))(dword_4B8890[v12]);
  }
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8AA8, a1, a2, a3);
  while ( !sub_423620((std::vector<CIOSocket::CIOTimer> *)&unk_4B8ACC) )
  {
    v5 = sub_423640((std::vector<CIOSocket::CIOTimer> *)&unk_4B8ACC);
    CIOObject::Release(*((CIOObject **)v5 + 1), a1, a2, a3, (volatile int *)(*((_DWORD *)v5 + 1) + 8));
    std::priority_queue<CIOSocket::CIOTimer>::pop((std::priority_queue<CIOSocket::CIOTimer> *)&unk_4B8ACC);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8AA8, a1, a2, a3);
  CIOObject::PostObject((CIOObject *)&unk_4B8AE0, (int)ArgList - 1);
  WaitForSingleObject(hHandle, 0xFFFFFFFF);
  CloseHandle(hHandle);
  return 0;
}
// 4B8A90: using guessed type int dword_4B8A90;

//----- (004227B0) --------------------------------------------------------
void __stdcall __noreturn CIOSocket::IOThread(void *arglist)
{
  HANDLE v1; // eax
  unsigned int CompletionKey; // [esp+0h] [ebp-10h] BYREF
  BOOL v3; // [esp+4h] [ebp-Ch]
  DWORD NumberOfBytesTransferred; // [esp+8h] [ebp-8h] BYREF
  LPOVERLAPPED Overlapped; // [esp+Ch] [ebp-4h] BYREF

  v1 = GetCurrentThread();
  SetThreadIdealProcessor(v1, 0x20u);
  while ( 1 )
  {
    v3 = GetQueuedCompletionStatus(CompletionPort, &NumberOfBytesTransferred, &CompletionKey, &Overlapped, 0xFFFFFFFF);
    InterlockedIncrement(&dword_4B8A9C);
    (*(void (__thiscall **)(unsigned int, BOOL, DWORD, LPOVERLAPPED))(*(_DWORD *)CompletionKey + 20))(
      CompletionKey,
      v3,
      NumberOfBytesTransferred,
      Overlapped);
    InterlockedDecrement(&dword_4B8A9C);
  }
}

//----- (00422820) --------------------------------------------------------
void __cdecl CIOSocket::DumpStack()
{
  CIOException::DumpStack((int)ArgList, (void **)dword_4B8888, (unsigned int *)dword_4B8884);
  sub_421800();
}

//----- (00422880) --------------------------------------------------------
CMemory **__cdecl CIOBuffer::Alloc()
{
  char v0; // al
  CMemory **v2; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  v0 = InterlockedIncrement(&dword_4ADB44);
  v3 = 8 * (v0 & 0xF) + 4950768;
  CIOSpinLock::Enter((CIOSpinLock *)(8 * (v0 & 0xF) + 4950772));
  v2 = *(CMemory ***)v3;
  if ( *(_DWORD *)v3 )
  {
    *(_DWORD *)v3 = v2[2002];
    sub_401DA0((volatile LONG *)(v3 + 4));
  }
  else
  {
    sub_401DA0((volatile LONG *)(v3 + 4));
    v2 = sub_401000(0x1F4Cu);
  }
  v2[2000] = 0;
  v2[2001] = (CMemory *)1;
  v2[2002] = 0;
  return v2;
}

//----- (00422930) --------------------------------------------------------
void __thiscall CIOBuffer::Free(CIOBuffer *this)
{
  char v1; // al
  int v3; // [esp+4h] [ebp-4h]

  v1 = InterlockedDecrement(&dword_4B8AA4);
  v3 = 8 * (v1 & 0xF) + 4950768;
  CIOSpinLock::Enter((CIOSpinLock *)(8 * (v1 & 0xF) + 4950772));
  *((_DWORD *)this + 2002) = *(_DWORD *)v3;
  *(_DWORD *)v3 = this;
  sub_401DA0((volatile LONG *)(v3 + 4));
}

//----- (00422990) --------------------------------------------------------
void __cdecl CIOBuffer::FreeAll()
{
  _DWORD *v0; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 16; ++i )
  {
    CIOSpinLock::Enter((CIOSpinLock *)(8 * i + 4950772));
    while ( 1 )
    {
      v0 = (_DWORD *)dword_4B8AF0[2 * i];
      if ( !v0 )
        break;
      dword_4B8AF0[2 * i] = v0[2002];
      sub_401020(v0);
    }
    sub_401DA0((volatile LONG *)(8 * i + 4950772));
  }
}

//----- (00422A10) --------------------------------------------------------
int __userpurge CIOSocket::CIOSocket@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CIOObject::CIOObject((CIOObject *)a1);
  *(_DWORD *)a1 = &off_49A51C;
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(a1 + 20));
  *(_DWORD *)(a1 + 16) = a5;
  if ( *(_DWORD *)(a1 + 16) != -1 )
    sub_4010D0((volatile int *)a1, a2, a3, a4);
  memset((void *)(a1 + 52), 0, 0x14u);
  memset((void *)(a1 + 72), 0, 0x14u);
  *(_DWORD *)(a1 + 92) = CIOBuffer::Alloc();
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 100) = 0;
  *(_DWORD *)(a1 + 96) = 0;
  return a1;
}
// 49A51C: using guessed type int (__stdcall *off_49A51C)(int);

//----- (00422AB0) --------------------------------------------------------
void *__userpurge sub_422AB0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  CIOSocket::_CIOSocket((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00422AE0) --------------------------------------------------------
_DWORD *__usercall CIOSocket::_CIOSocket@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v6; // [esp+4h] [ebp-4h]

  *(_DWORD *)a1 = &off_49A51C;
  CIOBuffer::Release(*(CIOBuffer **)(a1 + 92));
  while ( *(_DWORD *)(a1 + 96) )
  {
    v6 = *(_DWORD *)(a1 + 96);
    *(_DWORD *)(a1 + 96) = *(_DWORD *)(v6 + 8008);
    CIOBuffer::Free((CIOBuffer *)v6);
  }
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 20), a2, a3, a4);
  return sub_422250((_DWORD *)a1);
}
// 49A51C: using guessed type int (__stdcall *off_49A51C)(int);

//----- (00422B50) --------------------------------------------------------
void __usercall CIOSocket::Close(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  char optval[2]; // [esp+4h] [ebp-8h] BYREF
  __int16 v6; // [esp+6h] [ebp-6h]
  SOCKET s; // [esp+8h] [ebp-4h]

  CIOCriticalSection::Enter((CIOSocket *)((char *)this + 20), a2, a3, a4);
  s = InterlockedExchange((volatile LONG *)this + 4, -1);
  CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
  if ( s != -1 )
  {
    (*(void (__thiscall **)(CIOSocket *))(*(_DWORD *)this + 28))(this);
    *(_WORD *)optval = 1;
    v6 = 0;
    setsockopt(s, 0xFFFF, 128, optval, 4);
    closesocket(s);
    sub_401C50((volatile int *)this, a2, a3, a4);
  }
}

//----- (00422BD0) --------------------------------------------------------
void __usercall CIOSocket::GracefulClose(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  LONG s; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOSocket *)((char *)this + 20), a2, a3, a4);
  s = InterlockedExchange((volatile LONG *)this + 4, -1);
  CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
  if ( s != -1 )
  {
    (*(void (__thiscall **)(CIOSocket *))(*(_DWORD *)this + 28))(this);
    closesocket(s);
    sub_401C50((volatile int *)this, a2, a3, a4);
  }
}

//----- (00422C30) --------------------------------------------------------
void __userpurge CIOSocket::OnIOCallback(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  if ( bSuccess )
  {
    if ( lpOverlapped == (_OVERLAPPED *)((char *)this + 72) )
    {
      CIOSocket::WriteCallback(this, a2, a3, a4, dwTransferred);
      sub_401C50((volatile int *)this, a2, a3, a4);
    }
    else if ( lpOverlapped == (_OVERLAPPED *)((char *)this + 52) )
    {
      CIOSocket::ReadCallback(this, a2, a3, a4, dwTransferred);
      sub_401C50((volatile int *)this, a2, a3, a4);
    }
    else
    {
      (*(void (__thiscall **)(CIOSocket *, unsigned int))(*(_DWORD *)this + 8))(this, dwTransferred);
      CIOObject::Release(this, a2, a3, a4, (volatile int *)this + 2);
    }
  }
  else
  {
    if ( lpOverlapped == (_OVERLAPPED *)((char *)this + 52) )
      CIOSocket::Close(this, a2, a3, a4);
    sub_401C50((volatile int *)this, a2, a3, a4);
  }
}

//----- (00422CC0) --------------------------------------------------------
void __usercall sub_422CC0(CIOSocket *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOSocket::Read(a1, a2, a3, a4, 0);
}

//----- (00422CE0) --------------------------------------------------------
void __userpurge CIOSocket::ReadCallback(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int dwTransferred)
{
  if ( dwTransferred )
  {
    *(_DWORD *)(*((_DWORD *)this + 23) + 8000) += dwTransferred;
    (*(void (__thiscall **)(CIOSocket *))(*(_DWORD *)this + 32))(this);
  }
  else
  {
    CIOSocket::Close(this, a2, a3, a4);
  }
}

//----- (00422D30) --------------------------------------------------------
void __userpurge CIOSocket::Read(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int dwLeft)
{
  DWORD v6; // [esp+4h] [ebp-18h]
  CMemory **v7; // [esp+8h] [ebp-14h]
  DWORD NumberOfBytesRecvd; // [esp+Ch] [ebp-10h] BYREF
  struct _WSABUF Buffers; // [esp+10h] [ebp-Ch] BYREF
  DWORD Flags; // [esp+18h] [ebp-4h] BYREF

  *(_DWORD *)(*((_DWORD *)this + 23) + 8000) -= dwLeft;
  if ( *(_DWORD *)(*((_DWORD *)this + 23) + 8004) == 1 )
  {
    memcpy_0(
      *((void **)this + 23),
      (const void *)(*(_DWORD *)(*((_DWORD *)this + 23) + 8000) + *((_DWORD *)this + 23)),
      dwLeft);
  }
  else
  {
    v7 = CIOBuffer::Alloc();
    memcpy(v7, (const void *)(*(_DWORD *)(*((_DWORD *)this + 23) + 8000) + *((_DWORD *)this + 23)), dwLeft);
    CIOBuffer::Release(*((CIOBuffer **)this + 23));
    *((_DWORD *)this + 23) = v7;
  }
  *(_DWORD *)(*((_DWORD *)this + 23) + 8000) = dwLeft;
  sub_4010D0((volatile int *)this, a2, a3, a4);
  Buffers.len = 8000 - *(_DWORD *)(*((_DWORD *)this + 23) + 8000);
  Buffers.buf = (CHAR *)(*(_DWORD *)(*((_DWORD *)this + 23) + 8000) + *((_DWORD *)this + 23));
  Flags = 0;
  CIOCriticalSection::Enter((CIOSocket *)((char *)this + 20), a2, a3, a4);
  if ( !WSARecv(
          *((_DWORD *)this + 4),
          &Buffers,
          1u,
          &NumberOfBytesRecvd,
          &Flags,
          (LPWSAOVERLAPPED)((char *)this + 52),
          0)
    || GetLastError() == 997 )
  {
    CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
  }
  else
  {
    v6 = GetLastError();
    CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
    if ( v6 != 10038 && v6 != 10054 && v6 != 10053 && v6 != 10058 )
      LOG_ERR("CIOSocket::Read %x(%x) err = %d", *((_DWORD *)this + 4), this, v6);
    CIOSocket::Close(this, a2, a3, a4);
    sub_401C50((volatile int *)this, a2, a3, a4);
  }
}

//----- (00422ED0) --------------------------------------------------------
void __userpurge CIOSocket::WriteCallback(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int dwTransferred)
{
  DWORD v6; // [esp+4h] [ebp-14h]
  struct _WSABUF Buffers; // [esp+8h] [ebp-10h] BYREF
  DWORD NumberOfBytesSent; // [esp+10h] [ebp-8h] BYREF
  CIOBuffer *v9; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOSocket *)((char *)this + 20), a2, a3, a4);
  if ( dwTransferred == *(_DWORD *)(*((_DWORD *)this + 24) + 8000) )
  {
    *((_DWORD *)this + 26) -= *(_DWORD *)(*((_DWORD *)this + 24) + 8000);
    v9 = (CIOBuffer *)*((_DWORD *)this + 24);
    *((_DWORD *)this + 24) = *(_DWORD *)(*((_DWORD *)this + 24) + 8008);
    if ( *((_DWORD *)this + 24) )
    {
      sub_4010D0((volatile int *)this, a2, a3, a4);
      Buffers.len = *(_DWORD *)(*((_DWORD *)this + 24) + 8000);
      Buffers.buf = (CHAR *)*((_DWORD *)this + 24);
      if ( !WSASend(*((_DWORD *)this + 4), &Buffers, 1u, &NumberOfBytesSent, 0, (LPWSAOVERLAPPED)((char *)this + 72), 0)
        || GetLastError() == 997 )
      {
        CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
      }
      else
      {
        v6 = GetLastError();
        CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
        if ( v6 != 10038 && v6 != 10054 && v6 != 10053 && v6 != 10058 )
          LOG_ERR("CIOSocket::WriteCallback %x(%x) err=%d", *((_DWORD *)this + 4), this, v6);
        sub_401C50((volatile int *)this, a2, a3, a4);
      }
    }
    else
    {
      *((_DWORD *)this + 25) = 0;
      CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
    }
    CIOBuffer::Free(v9);
  }
  else
  {
    LOG_ERR(
      "different write count %x(%x) %d != %d",
      *((_DWORD *)this + 4),
      this,
      dwTransferred,
      *(_DWORD *)(*((_DWORD *)this + 24) + 8000));
    CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
  }
}

//----- (00423050) --------------------------------------------------------
void __userpurge CIOSocket::Write(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, CIOBuffer *pBuffer)
{
  DWORD v6; // [esp+4h] [ebp-10h]
  struct _WSABUF Buffers; // [esp+8h] [ebp-Ch] BYREF
  DWORD NumberOfBytesSent; // [esp+10h] [ebp-4h] BYREF

  if ( *((_DWORD *)pBuffer + 2000) )
  {
    if ( *((_DWORD *)pBuffer + 2000) > 0x1F40u )
      EBREAK(a2, a3, a4);
    CIOCriticalSection::Enter((CIOSocket *)((char *)this + 20), a2, a3, a4);
    *((_DWORD *)this + 26) += *((_DWORD *)pBuffer + 2000);
    if ( *((_DWORD *)this + 25) )
    {
      if ( *((_DWORD *)this + 24) == *((_DWORD *)this + 25)
        || (unsigned int)(*((_DWORD *)pBuffer + 2000) + *(_DWORD *)(*((_DWORD *)this + 25) + 8000)) > 0x1F40 )
      {
        *(_DWORD *)(*((_DWORD *)this + 25) + 8008) = pBuffer;
        *((_DWORD *)this + 25) = pBuffer;
        CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
      }
      else
      {
        memcpy(
          (void *)(*(_DWORD *)(*((_DWORD *)this + 25) + 8000) + *((_DWORD *)this + 25)),
          pBuffer,
          *((_DWORD *)pBuffer + 2000));
        *(_DWORD *)(*((_DWORD *)this + 25) + 8000) += *((_DWORD *)pBuffer + 2000);
        CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
        CIOBuffer::Free(pBuffer);
      }
    }
    else
    {
      *((_DWORD *)this + 25) = pBuffer;
      *((_DWORD *)this + 24) = pBuffer;
      sub_4010D0((volatile int *)this, a2, a3, a4);
      Buffers.len = *((_DWORD *)pBuffer + 2000);
      Buffers.buf = (CHAR *)pBuffer;
      if ( !WSASend(*((_DWORD *)this + 4), &Buffers, 1u, &NumberOfBytesSent, 0, (LPWSAOVERLAPPED)((char *)this + 72), 0)
        || GetLastError() == 997 )
      {
        CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
      }
      else
      {
        v6 = GetLastError();
        CIOCriticalSection::Leave((CIOSocket *)((char *)this + 20), a2, a3, a4);
        if ( v6 != 10038 && v6 != 10054 && v6 != 10053 && v6 != 10058 )
          LOG_ERR("CIOSocket::Write %x(%x) err=%d", *((_DWORD *)this + 4), this, v6);
        sub_401C50((volatile int *)this, a2, a3, a4);
      }
    }
  }
  else
  {
    CIOBuffer::Free(pBuffer);
  }
}

//----- (00423240) --------------------------------------------------------
void __thiscall CIOServer::CIOServer(CIOServer *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_49A5D0;
  *((_DWORD *)this + 4) = -1;
  *((_DWORD *)this + 5) = 0;
}
// 49A5D0: using guessed type int (__stdcall *off_49A5D0)(int);

//----- (00423280) --------------------------------------------------------
std::numpunct<char> *__thiscall sub_423280(std::numpunct<char> *this, char a2)
{
  std::numpunct<char>::~numpunct<char>(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004232B0) --------------------------------------------------------
void __thiscall std::numpunct<char>::~numpunct<char>(std::numpunct<char> *this)
{
  *(_DWORD *)this = &off_49A5D0;
  CIOServer::Close(this);
  sub_422250(this);
}
// 49A5D0: using guessed type int (__stdcall *off_49A5D0)(int);

//----- (004232E0) --------------------------------------------------------
void __thiscall CIOServer::Close(CIOServer *this)
{
  if ( *((_DWORD *)this + 4) != -1 )
  {
    closesocket(*((_DWORD *)this + 4));
    *((_DWORD *)this + 4) = -1;
  }
  if ( *((_DWORD *)this + 5) )
  {
    WSACloseEvent(*((HANDLE *)this + 5));
    *((_DWORD *)this + 5) = 0;
  }
}

//----- (00423330) --------------------------------------------------------
int __userpurge CIOServer::Start@<eax>(CIOServer *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int nPort)
{
  int v5; // eax
  int v7; // eax
  int v8; // eax
  struct sockaddr name; // [esp+4h] [ebp-14h] BYREF

  *((_DWORD *)this + 4) = socket(2, 1, 0);
  if ( *((_DWORD *)this + 4) == -1 )
  {
    v5 = WSAGetLastError();
    LOG_ERR("socket error %d", v5);
    return 0;
  }
  name.sa_family = 2;
  *(_DWORD *)&name.sa_data[2] = htonl(0);
  *(_WORD *)name.sa_data = htons(nPort);
  if ( bind(*((_DWORD *)this + 4), &name, 16) )
  {
    v7 = WSAGetLastError();
    LOG_ERR("bind error %d", v7);
  }
  else if ( listen(*((_DWORD *)this + 4), 5) )
  {
    v8 = WSAGetLastError();
    LOG_ERR("listen error %d", v8);
  }
  else
  {
    *((_DWORD *)this + 5) = WSACreateEvent();
    WSAEventSelect(*((_DWORD *)this + 4), *((HANDLE *)this + 5), 8);
    if ( CIOObject::RegisterWait(this, a2, a3, a4, *((void **)this + 5)) )
      return 1;
    LOG_ERR("RegisterWait error on port %d", nPort);
  }
  CIOServer::Close(this);
  return 0;
}

//----- (00423460) --------------------------------------------------------
void __thiscall CIOServer::OnWaitCallback(CIOServer *this)
{
  WSAResetEvent(*((HANDLE *)this + 5));
  PostQueuedCompletionStatus(CompletionPort, 0, (ULONG_PTR)this, 0);
}

//----- (00423490) --------------------------------------------------------
void __thiscall CIOServer::Stop(CIOServer *this)
{
  SOCKET s; // [esp+4h] [ebp-4h]

  s = *((_DWORD *)this + 4);
  *((_DWORD *)this + 4) = -1;
  closesocket(s);
}

//----- (004234C0) --------------------------------------------------------
void __userpurge CIOServer::OnIOCallback(CIOServer *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  int v7; // eax
  struct sockaddr addr; // [esp+4h] [ebp-20h] BYREF
  CIOSocket *v10; // [esp+18h] [ebp-Ch]
  int addrlen; // [esp+1Ch] [ebp-8h] BYREF
  SOCKET s; // [esp+20h] [ebp-4h]

  addrlen = 16;
  s = accept(*((_DWORD *)this + 4), &addr, &addrlen);
  if ( s == -1 )
  {
    if ( WSAGetLastError() != 10035 && *((_DWORD *)this + 4) != -1 )
    {
      v7 = WSAGetLastError();
      LOG_ERR("accept error: %d", v7);
    }
  }
  else
  {
    v10 = (CIOSocket *)(*(int (__thiscall **)(CIOServer *, SOCKET, struct sockaddr *))(*(_DWORD *)this + 24))(
                         this,
                         s,
                         &addr);
    if ( v10 )
    {
      CIOSocket::Initialize(v10, a2, a3, a4);
      sub_401C50((volatile int *)v10, a2, a3, a4);
    }
    else
    {
      closesocket(s);
    }
  }
}

//----- (00423570) --------------------------------------------------------
void __usercall CIOSocket::Initialize(CIOSocket *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  DWORD v4; // eax
  int v5; // [esp-8h] [ebp-10h]
  HANDLE v6; // [esp-4h] [ebp-Ch]
  char optval[4]; // [esp+4h] [ebp-4h] BYREF

  if ( CreateIoCompletionPort(*((HANDLE *)this + 4), CompletionPort, (ULONG_PTR)this, 0) )
  {
    *(_DWORD *)optval = 0;
    setsockopt(*((_DWORD *)this + 4), 0xFFFF, 4098, optval, 4);
    *(_DWORD *)optval = 0;
    setsockopt(*((_DWORD *)this + 4), 0xFFFF, 4097, optval, 4);
    (*(void (__thiscall **)(CIOSocket *))(*(_DWORD *)this + 24))(this);
  }
  else
  {
    v6 = CompletionPort;
    v5 = *((_DWORD *)this + 4);
    v4 = GetLastError();
    ELOG("CreateIoCompletionPort: %d %x %x\n", v4, v5, v6);
    CIOSocket::Close(this, a2, a3, a4);
  }
}

//----- (00423620) --------------------------------------------------------
BOOL __thiscall sub_423620(std::vector<CIOSocket::CIOTimer> *this)
{
  return sub_43DDA0(this);
}

//----- (00423640) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall sub_423640(std::vector<CIOSocket::CIOTimer> *this)
{
  return std::vector<CIOSocket::CIOTimer>::front(this);
}

//----- (00423660) --------------------------------------------------------
void __thiscall std::priority_queue<CIOSocket::CIOTimer>::push(std::priority_queue<CIOSocket::CIOTimer> *this, const CIOSocket::CIOTimer *_Pred)
{
  int *v2; // eax
  int v3; // [esp-8h] [ebp-14h]
  char v5[4]; // [esp+4h] [ebp-8h] BYREF
  char v6[4]; // [esp+8h] [ebp-4h] BYREF

  sub_423720((int)this, (int *)_Pred);
  v3 = *(_DWORD *)sub_42EA00((int *)this, v6);
  v2 = (int *)sub_482CA0((int *)this, v5);
  std::push_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(*v2, v3);
}

//----- (004236B0) --------------------------------------------------------
void __thiscall std::priority_queue<CIOSocket::CIOTimer>::pop(std::priority_queue<CIOSocket::CIOTimer> *this)
{
  int *v1; // eax
  int v2; // [esp-8h] [ebp-14h]
  char v3; // [esp-4h] [ebp-10h]
  char v5[4]; // [esp+4h] [ebp-8h] BYREF
  char v6[4]; // [esp+8h] [ebp-4h] BYREF

  v3 = *((_BYTE *)this + 16);
  v2 = *(_DWORD *)sub_42EA00((int *)this, v6);
  v1 = (int *)sub_482CA0((int *)this, v5);
  std::pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(*v1, v2, v3);
  std::vector<CIOSocket::CIOTimer>::pop_back(this);
}

//----- (00423700) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall std::vector<CIOSocket::CIOTimer>::front(std::vector<CIOSocket::CIOTimer> *this)
{
  void *v1; // eax
  char v3[4]; // [esp+4h] [ebp-4h] BYREF

  v1 = sub_482CA0((int *)this, v3);
  return (CIOSocket::CIOTimer *)sub_43E1F0(v1);
}

//----- (00423720) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall sub_423720(int this, int *a2)
{
  unsigned int v2; // esi
  CIOSocket::CIOTimer *result; // eax
  CIOSocket::CIOTimer **v4; // eax
  int v6; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
  if ( v2 >= std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (CIOSocket::CIOTimer **)sub_42EA00((int *)this, v7);
    result = (CIOSocket::CIOTimer *)sub_4237E0((int *)this, &v6, *v4, a2);
  }
  else
  {
    result = std::vector<CIOSocket::CIOTimer>::_Ufill(
               (std::vector<CIOSocket::CIOTimer> *)this,
               *(CIOSocket::CIOTimer **)(this + 8),
               1u,
               (const CIOSocket::CIOTimer *)a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (00423790) --------------------------------------------------------
void __thiscall std::vector<CIOSocket::CIOTimer>::pop_back(std::vector<CIOSocket::CIOTimer> *this)
{
  if ( !sub_43DDA0(this) )
  {
    std::vector<CIOSocket::CIOTimer>::_Destroy(
      this,
      (CIOSocket::CIOTimer *)(*((_DWORD *)this + 2) - 12),
      *((CIOSocket::CIOTimer **)this + 2));
    *((_DWORD *)this + 2) -= 12;
  }
}

//----- (004237E0) --------------------------------------------------------
_DWORD *__thiscall sub_4237E0(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(this, v11);
    v8 = std::vector<CIOSocket::CIOTimer>::iterator::operator-((std::vector<CIOSocket::CIOTimer>::iterator *)&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_423890((int)this, a3, 1u, a4);
  v7 = v12;
  v5 = (int *)sub_482CA0(this, v10);
  sub_42F840(v5, a2, v7);
  return a2;
}

//----- (00423860) --------------------------------------------------------
void __thiscall std::vector<CIOSocket::CIOTimer>::_Destroy(std::vector<CIOSocket::CIOTimer> *this, CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last)
{
  std::_Destroy_range<CIOSocket::CIOTimer>(_First, _Last);
}

//----- (00423890) --------------------------------------------------------
void __thiscall sub_423890(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4)
{
  unsigned int v4; // esi
  CIOSocket::CIOTimer *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-24h]
  CIOSocket::CIOTimer *v8; // [esp+Ch] [ebp-1Ch]
  CMemory **v9; // [esp+10h] [ebp-18h]
  CIOSocket::CIOTimer *v10; // [esp+14h] [ebp-14h]
  unsigned int v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+18h] [ebp-10h]
  int v13[3]; // [esp+1Ch] [ebp-Ch] BYREF
  int v14; // [esp+34h] [ebp+Ch]

  v13[0] = *a4;
  v13[1] = a4[1];
  v13[2] = a4[2];
  v11 = std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this);
  if ( a3 )
  {
    v4 = sub_43EB50((std::allocator<CIOSocket::CIOTimer> *)this);
    if ( v4 - std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) / 12 >= a3 )
        {
          v8 = *(CIOSocket::CIOTimer **)(this + 8);
          *(_DWORD *)(this + 8) = std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
                                    (CIOSocket::CIOTimer *)((char *)v8 - 12 * a3),
                                    v8,
                                    v8);
          sub_43F5E0(a2, (_DWORD *)v8 - 3 * a3, v8);
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)((char *)a2 + 12 * a3),
            (const CIOSocket::CIOTimer *)v13);
        }
        else
        {
          std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
            a2,
            *(CIOSocket::CIOTimer **)(this + 8),
            (CIOSocket::CIOTimer *)((char *)a2 + 12 * a3));
          std::vector<CIOSocket::CIOTimer>::_Ufill(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 8),
            a3 - (*(_DWORD *)(this + 8) - (int)a2) / 12,
            (const CIOSocket::CIOTimer *)v13);
          *(_DWORD *)(this + 8) += 12 * a3;
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)(*(_DWORD *)(this + 8) - 12 * a3),
            (const CIOSocket::CIOTimer *)v13);
        }
      }
      else
      {
        if ( sub_43EB50((std::allocator<CIOSocket::CIOTimer> *)this) - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
          v12 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        v9 = sub_42F7F0(v12);
        v5 = std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
               *(CIOSocket::CIOTimer **)(this + 4),
               a2,
               (CIOSocket::CIOTimer *)v9);
        v10 = std::vector<CIOSocket::CIOTimer>::_Ufill(
                (std::vector<CIOSocket::CIOTimer> *)this,
                v5,
                a3,
                (const CIOSocket::CIOTimer *)v13);
        std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(a2, *(CIOSocket::CIOTimer **)(this + 8), v10);
        v14 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          std::vector<CIOSocket::CIOTimer>::_Destroy(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 4),
            *(CIOSocket::CIOTimer **)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) / 12);
        }
        *(_DWORD *)(this + 12) = &v9[3 * v12];
        *(_DWORD *)(this + 8) = &v9[3 * v14];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (00423B70) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer>::iterator *__thiscall std::vector<CIOSocket::CIOTimer>::iterator::operator+=(std::vector<CIOSocket::CIOTimer>::iterator *this, int _Off)
{
  *(_DWORD *)this += 12 * _Off;
  return this;
}

//----- (00423B90) --------------------------------------------------------
_DWORD *__cdecl std::push_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(int a1, int a2)
{
  _DWORD *result; // eax
  _DWORD *v3; // eax

  result = (_DWORD *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                       (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
                       (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
  if ( (_BYTE)result )
  {
    sub_423D00();
    sub_423D00();
    v3 = sub_423CE0(&a2);
    result = std::_Push_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
               a1,
               *v3);
  }
  return result;
}

//----- (00423BE0) --------------------------------------------------------
int __cdecl std::pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(int a1, int a2, char a3)
{
  int result; // eax
  int v4; // eax
  int v5; // edx

  result = std::vector<CIOSocket::CIOTimer>::iterator::operator-(
             (std::vector<CIOSocket::CIOTimer>::iterator *)&a2,
             (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1);
  if ( result > 1 )
  {
    v4 = sub_423D00();
    LOBYTE(v5) = a3;
    result = (int)std::_Pop_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
                    a1,
                    a2,
                    v5,
                    v4);
  }
  return result;
}
// 423C0D: variable 'v5' is possibly undefined

//----- (00423C20) --------------------------------------------------------
void __cdecl std::_Uninitialized_fill_n<CIOSocket::CIOTimer *,unsigned int,CIOSocket::CIOTimer,std::allocator<CIOSocket::CIOTimer>>(CIOSocket::CIOTimer *_First, unsigned int _Count, const CIOSocket::CIOTimer *_Val)
{
  unknown_libname_27(&_First, &_First);
  sub_43F660(_First, _Count, (int)_Val);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (00423C60) --------------------------------------------------------
CIOSocket::CIOTimer *__stdcall std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, CIOSocket::CIOTimer *_Dest)
{
  return std::_Uninitialized_copy<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *,std::allocator<CIOSocket::CIOTimer>>(
           _First,
           _Last,
           _Dest);
}

//----- (00423C90) --------------------------------------------------------
void __cdecl std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, const CIOSocket::CIOTimer *_Val)
{
  while ( _First != _Last )
  {
    *(_DWORD *)_First = *(_DWORD *)_Val;
    *((_DWORD *)_First + 1) = *((_DWORD *)_Val + 1);
    *((_DWORD *)_First + 2) = *((_DWORD *)_Val + 2);
    _First = (CIOSocket::CIOTimer *)((char *)_First + 12);
  }
}

//----- (00423CC0) --------------------------------------------------------
CMemory **__cdecl sub_423CC0(int a1)
{
  return sub_401000(12 * a1);
}

//----- (00423CE0) --------------------------------------------------------
_DWORD *__thiscall sub_423CE0(_DWORD *this)
{
  *this -= 12;
  return this;
}

//----- (00423D00) --------------------------------------------------------
int sub_423D00()
{
  return 0;
}

//----- (00423D10) --------------------------------------------------------
_DWORD *__cdecl std::_Push_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, char a2)
{
  _DWORD *result; // eax
  int *v3; // eax
  int v4; // [esp+Ch] [ebp-4h]

  result = (_DWORD *)std::vector<CIOSocket::CIOTimer>::iterator::operator-(
                       (std::vector<CIOSocket::CIOTimer>::iterator *)&a2,
                       (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1);
  v4 = (int)result;
  if ( (int)result > 0 )
  {
    v3 = (int *)sub_43E1F0(&a2);
    result = std::_Push_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
               a1,
               v4,
               0,
               *v3,
               v3[1],
               v3[2]);
  }
  return result;
}

//----- (00423D80) --------------------------------------------------------
_DWORD *std::_Pop_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, ...)
{
  std::vector<CIOSocket::CIOTimer>::iterator *v1; // eax
  int *v2; // eax
  std::vector<CIOSocket::CIOTimer>::iterator *v3; // eax
  int v5; // [esp-18h] [ebp-30h]
  int v6; // [esp-14h] [ebp-2Ch]
  int v7; // [esp-10h] [ebp-28h]
  int v8; // [esp-Ch] [ebp-24h]
  char v9[4]; // [esp+0h] [ebp-18h] BYREF
  char v10[4]; // [esp+4h] [ebp-14h] BYREF
  char v11[4]; // [esp+8h] [ebp-10h] BYREF
  int v12; // [esp+Ch] [ebp-Ch]
  int v13; // [esp+10h] [ebp-8h]
  int v14; // [esp+14h] [ebp-4h]
  va_list va; // [esp+24h] [ebp+Ch] BYREF

  va_start(va, a1);
  v1 = std::vector<CIOSocket::CIOTimer>::iterator::operator+(
         (std::vector<CIOSocket::CIOTimer>::iterator *)va,
         (std::vector<CIOSocket::CIOTimer>::iterator *)v11,
         1);
  v2 = (int *)sub_43E1F0(v1);
  v12 = *v2;
  v13 = v2[1];
  v14 = v2[2];
  sub_423D00();
  v6 = v12;
  v7 = v13;
  v8 = v14;
  v5 = *(_DWORD *)std::vector<CIOSocket::CIOTimer>::iterator::operator+(
                    (std::vector<CIOSocket::CIOTimer>::iterator *)va,
                    (std::vector<CIOSocket::CIOTimer>::iterator *)v10,
                    1);
  v3 = std::vector<CIOSocket::CIOTimer>::iterator::operator+(
         (std::vector<CIOSocket::CIOTimer>::iterator *)va,
         (std::vector<CIOSocket::CIOTimer>::iterator *)v9,
         1);
  return std::_Pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
           a1,
           *(_DWORD *)v3,
           v5,
           v6,
           v7,
           v8);
}

//----- (00423E10) --------------------------------------------------------
int __cdecl std::_Destroy_range<CIOSocket::CIOTimer>(int a1, int a2)
{
  int result; // eax

  while ( a1 != a2 )
  {
    sub_441D00(a1);
    result = a1 + 12;
    a1 += 12;
  }
  return result;
}

//----- (00423E40) --------------------------------------------------------
CIOSocket::CIOTimer *__cdecl std::_Uninitialized_copy<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *,std::allocator<CIOSocket::CIOTimer>>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, CIOSocket::CIOTimer *_Dest)
{
  unknown_libname_27(&_First, &_Dest);
  return (CIOSocket::CIOTimer *)sub_424000((int)_First, (int)_Last, _Dest);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (00423E80) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer>::iterator *__thiscall std::vector<CIOSocket::CIOTimer>::iterator::operator+(std::vector<CIOSocket::CIOTimer>::iterator *this, std::vector<CIOSocket::CIOTimer>::iterator *result, int _Off)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *(_DWORD *)this;
  *(_DWORD *)result = *(_DWORD *)sub_423EB0((std::vector<CIOSocket::CIOTimer>::iterator *)&v4, _Off);
  return result;
}

//----- (00423EB0) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer>::iterator *__thiscall sub_423EB0(std::vector<CIOSocket::CIOTimer>::iterator *this, int a2)
{
  return std::vector<CIOSocket::CIOTimer>::iterator::operator+=(this, -a2);
}

//----- (00423ED0) --------------------------------------------------------
_DWORD *__cdecl std::_Push_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // esi
  _DWORD *v10; // eax
  _DWORD *v11; // eax
  _DWORD *v12; // eax
  _DWORD *result; // eax
  int v14; // [esp+4h] [ebp-14h] BYREF
  int v15; // [esp+8h] [ebp-10h] BYREF
  int v16; // [esp+Ch] [ebp-Ch] BYREF
  int v17; // [esp+10h] [ebp-8h] BYREF
  int i; // [esp+14h] [ebp-4h]

  for ( i = (a2 - 1) / 2; a3 < a2; i = (i - 1) / 2 )
  {
    v6 = sub_42F840(&a1, &v17, i);
    v7 = (_DWORD *)sub_43E1F0(v6);
    if ( !sub_424070(v7, &a4) )
      break;
    v8 = sub_42F840(&a1, &v15, i);
    v9 = (_DWORD *)sub_43E1F0(v8);
    v10 = sub_42F840(&a1, &v16, a2);
    v11 = (_DWORD *)sub_43E1F0(v10);
    *v11 = *v9;
    v11[1] = v9[1];
    v11[2] = v9[2];
    a2 = i;
  }
  v12 = sub_42F840(&a1, &v14, a2);
  result = (_DWORD *)sub_43E1F0(v12);
  *result = a4;
  result[1] = a5;
  result[2] = a6;
  return result;
}

//----- (00423FA0) --------------------------------------------------------
_DWORD *__cdecl std::_Pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, char a2, char a3, int a4, int a5, int a6)
{
  _DWORD *v6; // esi
  _DWORD *v7; // eax
  int v8; // eax
  int v10; // [esp-10h] [ebp-14h]
  int v11; // [esp-Ch] [ebp-10h]
  int v12; // [esp-8h] [ebp-Ch]

  v6 = (_DWORD *)sub_43E1F0(&a1);
  v7 = (_DWORD *)sub_43E1F0(&a3);
  *v7 = *v6;
  v7[1] = v6[1];
  v7[2] = v6[2];
  v10 = a4;
  v11 = a5;
  v12 = a6;
  v8 = std::vector<CIOSocket::CIOTimer>::iterator::operator-(
         (std::vector<CIOSocket::CIOTimer>::iterator *)&a2,
         (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1);
  return std::_Adjust_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
           a1,
           0,
           v8,
           v10,
           v11,
           v12);
}

//----- (00424000) --------------------------------------------------------
void *__cdecl sub_424000(int a1, int a2, void *a3)
{
  while ( a1 != a2 )
  {
    sub_43F740(a3, a1);
    a3 = (char *)a3 + 12;
    a1 += 12;
  }
  return a3;
}

//----- (00424070) --------------------------------------------------------
BOOL __stdcall sub_424070(_DWORD *a1, _DWORD *a2)
{
  return sub_424090(a1, a2);
}

//----- (00424090) --------------------------------------------------------
BOOL __thiscall sub_424090(_DWORD *this, _DWORD *a2)
{
  return *this - *a2 > 0;
}

//----- (004240B0) --------------------------------------------------------
_DWORD *__cdecl std::_Adjust_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  _DWORD *v10; // esi
  _DWORD *v11; // eax
  _DWORD *v12; // eax
  _DWORD *v13; // eax
  _DWORD *v14; // esi
  _DWORD *v15; // eax
  _DWORD *v16; // eax
  _DWORD *v18; // [esp-4h] [ebp-28h]
  int v19; // [esp+4h] [ebp-20h] BYREF
  int v20; // [esp+8h] [ebp-1Ch] BYREF
  int v21; // [esp+Ch] [ebp-18h] BYREF
  int v22; // [esp+10h] [ebp-14h] BYREF
  int v23; // [esp+14h] [ebp-10h] BYREF
  int v24; // [esp+18h] [ebp-Ch] BYREF
  int i; // [esp+1Ch] [ebp-8h]
  int v26; // [esp+20h] [ebp-4h]

  v26 = a2;
  for ( i = 2 * a2 + 2; i < a3; i = 2 * i + 2 )
  {
    v6 = sub_42F840(&a1, &v24, i - 1);
    v18 = (_DWORD *)sub_43E1F0(v6);
    v7 = sub_42F840(&a1, &v23, i);
    v8 = (_DWORD *)sub_43E1F0(v7);
    if ( sub_424070(v8, v18) )
      --i;
    v9 = sub_42F840(&a1, &v21, i);
    v10 = (_DWORD *)sub_43E1F0(v9);
    v11 = sub_42F840(&a1, &v22, a2);
    v12 = (_DWORD *)sub_43E1F0(v11);
    *v12 = *v10;
    v12[1] = v10[1];
    v12[2] = v10[2];
    a2 = i;
  }
  if ( i == a3 )
  {
    v13 = sub_42F840(&a1, &v19, a3 - 1);
    v14 = (_DWORD *)sub_43E1F0(v13);
    v15 = sub_42F840(&a1, &v20, a2);
    v16 = (_DWORD *)sub_43E1F0(v15);
    *v16 = *v14;
    v16[1] = v14[1];
    v16[2] = v14[2];
    a2 = a3 - 1;
  }
  return std::_Push_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
           a1,
           a2,
           v26,
           a4,
           a5,
           a6);
}

//----- (00424200) --------------------------------------------------------
void *__thiscall sub_424200(void *this)
{
  sub_43DD50(this);
  return this;
}

//----- (00424220) --------------------------------------------------------
char __thiscall std::vector<CIOSocket::CIOTimer>::_Buy(std::vector<CIOSocket::CIOTimer> *this, unsigned int _Capacity)
{
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  if ( !_Capacity )
    return 0;
  if ( sub_43EB50(this) >= _Capacity )
  {
    *((_DWORD *)this + 1) = sub_42F7F0(_Capacity);
    *((_DWORD *)this + 2) = *((_DWORD *)this + 1);
    *((_DWORD *)this + 3) = *((_DWORD *)this + 1) + 12 * _Capacity;
  }
  else
  {
    sub_465EA0();
  }
  return 1;
}

//----- (004242A0) --------------------------------------------------------
CIOObject *__thiscall sub_4242A0(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_49A674;
  return this;
}
// 49A674: using guessed type int (__stdcall *off_49A674)(int);

//----- (004242C0) --------------------------------------------------------
_DWORD *__thiscall sub_4242C0(_DWORD *this, char a2)
{
  sub_46B3F0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00424320) --------------------------------------------------------
void __thiscall sub_424320(std::vector<CIOSocket::CIOTimer> *this)
{
  sub_43DD80(this);
}

//----- (00424340) --------------------------------------------------------
_DWORD *__thiscall CItem::CItem(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_49A690;
  this[6] = 4;
  this[8] = 0;
  this[9] = 0;
  this[10] = 0;
  this[11] = 0;
  this[12] = 0;
  this[13] = 0;
  this[14] = 0;
  this[16] = -1;
  this[15] = -1;
  this[17] = 0;
  this[18] = 0;
  this[19] = 0;
  this[20] = 0;
  this[21] = 0;
  this[22] = 0;
  return this;
}
// 49A690: using guessed type int (__stdcall *off_49A690)(int);

//----- (00424400) --------------------------------------------------------
int __thiscall sub_424400(_DWORD *this, int a2)
{
  return this[13];
}

//----- (00424420) --------------------------------------------------------
int __thiscall sub_424420(_DWORD *this, int a2, int a3)
{
  return this[13];
}

//----- (00424440) --------------------------------------------------------
int __stdcall sub_424440(int a1, int a2, int a3, int a4)
{
  return 0;
}

//----- (00424450) --------------------------------------------------------
_DWORD *__userpurge sub_424450@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_424480(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00424480) --------------------------------------------------------
_DWORD *__usercall sub_424480@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_49A690;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 49A690: using guessed type int (__stdcall *off_49A690)(int);

//----- (004244A0) --------------------------------------------------------
int __cdecl CItem::InsertInitItem(int a1)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  char v3[8]; // [esp+0h] [ebp-10h] BYREF
  char v4[8]; // [esp+8h] [ebp-8h] BYREF

  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v3,
    (const char *const *)(a1 + 64),
    (CItem *const *)&a1);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8B74,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v4,
    v1);
  if ( v4[4] )
    return 1;
  LOG_ERR("CItem::InsertInitItem() Duplicate InitItem. (Code:%d)", *(_DWORD *)(a1 + 64));
  return 0;
}
// 4244C3: variable 'v1' is possibly undefined

//----- (00424500) --------------------------------------------------------
int __cdecl CItem::InsertPrefix(int a1)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  char v3[8]; // [esp+0h] [ebp-10h] BYREF
  char v4[8]; // [esp+8h] [ebp-8h] BYREF

  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v3,
    (const char *const *)(a1 + 32),
    (CItem *const *)&a1);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8B80,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v4,
    v1);
  if ( v4[4] )
    return 1;
  LOG_ERR("CItem::InsertPrefix() Duplicate Prefix. (Index:%d)", *(_DWORD *)(a1 + 32));
  return 0;
}
// 424523: variable 'v1' is possibly undefined

//----- (00424560) --------------------------------------------------------
int __cdecl sub_424560(int a1)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  char v3[8]; // [esp+0h] [ebp-10h] BYREF
  char v4[8]; // [esp+8h] [ebp-8h] BYREF

  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v3,
    (const char *const *)(a1 + 32),
    (CItem *const *)&a1);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8B8C,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v4,
    v1);
  if ( v4[4] )
    return 1;
  LOG_ERR("CItem::InsertItemGroup() Duplicate ItemGroup. (Index:%d)", *(_DWORD *)(a1 + 32));
  return 0;
}
// 424583: variable 'v1' is possibly undefined

//----- (004245C0) --------------------------------------------------------
void __usercall CItem::ReloadItemGroup(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  char v3[540]; // [esp+0h] [ebp-220h] BYREF

  if ( sub_442DC0() )
  {
    sub_424670((CConfig *)v3);
    CRWLock::WriteLock((CRWLock *)&unk_4B8B98);
    CItem::ClearItemGroup();
    if ( CObjectDB::Open((int)v3, "Config\\ItemGroup.txt") )
    {
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8B98, a1, a2, a3);
      LOG_NORMAL("<ItemGroup> reloading is completed.");
    }
    else
    {
      CItem::ClearItemGroup();
      CRWLock::WriteUnlock((CRWLock *)&unk_4B8B98, a1, a2, a3);
      LOG_ERR("<ItemGroup> reloading is failed.");
    }
    sub_424690((CConfig *)v3);
  }
  else
  {
    LOG_NORMAL("invalid server state to reload <ItemGroup>. Try later.");
  }
}

//----- (00424670) --------------------------------------------------------
CConfig *__thiscall sub_424670(CConfig *this)
{
  CConfig::CConfig(this);
  return this;
}

//----- (00424690) --------------------------------------------------------
void __thiscall sub_424690(CConfig *this)
{
  sub_40AE40(this);
}

//----- (004246B0) --------------------------------------------------------
int __cdecl sub_4246B0(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  int v4; // [esp+4h] [ebp-4h] BYREF

  sub_460550(dword_4B8B74, &v4, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8B74, v3);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v4,
         v1) )
  {
    result = *(_DWORD *)(sub_43E1A0(&v4) + 4);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00424700) --------------------------------------------------------
int __cdecl sub_424700(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  int v4; // [esp+4h] [ebp-4h] BYREF

  sub_460550(dword_4B8B80, &v4, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8B80, v3);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v4,
         v1) )
  {
    result = *(_DWORD *)(sub_43E1A0(&v4) + 4);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00424750) --------------------------------------------------------
_DWORD *__cdecl CItem::NewItem(_DWORD *a1)
{
  _DWORD *result; // eax
  CMemory **v2; // eax
  _DWORD *v3; // [esp+0h] [ebp-54h]
  _DWORD *v4; // [esp+4h] [ebp-50h]
  _DWORD *v5; // [esp+8h] [ebp-4Ch]
  int v6; // [esp+Ch] [ebp-48h]
  _DWORD *v7; // [esp+10h] [ebp-44h]
  int v8; // [esp+14h] [ebp-40h]
  _DWORD *v9; // [esp+18h] [ebp-3Ch]
  _DWORD *v10; // [esp+1Ch] [ebp-38h]
  _DWORD *v11; // [esp+20h] [ebp-34h]
  _DWORD *v12; // [esp+24h] [ebp-30h]
  CMemory **v13; // [esp+2Ch] [ebp-28h]
  CMemory **v14; // [esp+30h] [ebp-24h]
  CMemory **v15; // [esp+38h] [ebp-1Ch]
  CMemory **v16; // [esp+3Ch] [ebp-18h]
  CMemory **v17; // [esp+40h] [ebp-14h]
  CMemory **v18; // [esp+44h] [ebp-10h]
  CMemory **v19; // [esp+48h] [ebp-Ch]
  CMemory **v20; // [esp+4Ch] [ebp-8h]
  _DWORD *v21; // [esp+50h] [ebp-4h]

  if ( (a1[44] & (1 << dword_4BAAA0)) == 0 )
    return 0;
  switch ( a1[17] )
  {
    case 0:
      v17 = sub_401000(0x84u);
      if ( v17 )
        v9 = CItemWeapon::CItemWeapon(v17, (int)a1);
      else
        v9 = 0;
      v21 = v9;
      goto LABEL_44;
    case 1:
      v8 = a1[18];
      if ( v8 == 20 )
      {
        v16 = sub_401000(0x7Cu);
        if ( v16 )
          v7 = sub_4249D0(v16, (int)a1);
        else
          v7 = 0;
        v21 = v7;
      }
      else if ( v8 == 22 )
      {
        v15 = sub_401000(0x84u);
        if ( v15 )
          v6 = CItemStandard::CItemStandard(v15, (int)a1);
        else
          v6 = 0;
        v21 = (_DWORD *)v6;
      }
      else
      {
        v2 = sub_401000(0x7Cu);
        if ( v2 )
          v5 = CItemDefense::CItemDefense(v2, (int)a1);
        else
          v5 = 0;
        v21 = v5;
      }
      goto LABEL_44;
    case 2:
      v20 = sub_401000(0x5Cu);
      if ( v20 )
        v12 = CItemOrnament::CItemOrnament(v20, (int)a1);
      else
        v12 = 0;
      v21 = v12;
      goto LABEL_44;
    case 3:
      v19 = sub_401000(0x5Cu);
      if ( v19 )
        v11 = sub_42ABA0(v19, (int)a1);
      else
        v11 = 0;
      v21 = v11;
      goto LABEL_44;
    case 4:
      v18 = sub_401000(0x5Cu);
      if ( v18 )
        v10 = sub_42B3E0(v18, (int)a1);
      else
        v10 = 0;
      v21 = v10;
      goto LABEL_44;
    case 5:
      v14 = sub_401000(0x5Cu);
      if ( v14 )
        v4 = sub_42B5C0(v14, (int)a1);
      else
        v4 = 0;
      v21 = v4;
      goto LABEL_44;
    case 6:
      v13 = sub_401000(0x6Cu);
      if ( v13 )
        v3 = CItemTransform::CItemTransform(v13, (int)a1);
      else
        v3 = 0;
      v21 = v3;
LABEL_44:
      result = v21;
      break;
    default:
      LOG_ERR("CItem::NewItem() Invalid Item Class(%d).", a1[17]);
      result = 0;
      break;
  }
  return result;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (004249D0) --------------------------------------------------------
_DWORD *__thiscall sub_4249D0(_DWORD *this, int a2)
{
  CItemDefense::CItemDefense(this, a2);
  *this = &off_49A8D8;
  return this;
}
// 49A8D8: using guessed type int (__stdcall *off_49A8D8)(int);

//----- (00424A00) --------------------------------------------------------
BOOL __thiscall sub_424A00(_DWORD *this)
{
  return this[24] <= 0;
}

//----- (00424A20) --------------------------------------------------------
int __thiscall CItemStandard::CItemStandard(_DWORD *this, int a2)
{
  CItemDefense::CItemDefense(this, a2);
  *this = &off_49A9B8;
  this[31] = 0;
  this[32] = 0;
  return (int)this;
}
// 49A9B8: using guessed type int (__stdcall *off_49A9B8)(int);

//----- (00424A60) --------------------------------------------------------
_DWORD *__userpurge sub_424A60@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_424A90(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00424A90) --------------------------------------------------------
_DWORD *__usercall sub_424A90@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return sub_425DD0(a1, a2, a3, a4);
}

//----- (00424AB0) --------------------------------------------------------
_DWORD *__cdecl sub_424AB0(int a1, _WORD **a2)
{
  _DWORD *result; // eax
  _DWORD *v3; // [esp+0h] [ebp-Ch]
  char v4[4]; // [esp+4h] [ebp-8h] BYREF
  _DWORD *v5; // [esp+8h] [ebp-4h]

  *(_DWORD *)v4 = 0;
  *a2 = sub_42D5D0(*a2, v4);
  v3 = (_DWORD *)sub_4246B0(*(int *)v4);
  if ( v3 )
  {
    v5 = 0;
    v5 = CItem::NewItem(v3);
    if ( v5 )
      (*(void (__thiscall **)(_DWORD *, int, _WORD **))(*v5 + 80))(v5, a1, a2);
    else
      *a2 = (_WORD *)((char *)*a2 + 21);
    result = v5;
  }
  else
  {
    LOG_ERR("CItem::CreateItem() Invalid index(%d).", *(_DWORD *)v4);
    *a2 = (_WORD *)((char *)*a2 + 21);
    result = 0;
  }
  return result;
}

//----- (00424B50) --------------------------------------------------------
_DWORD *__cdecl CItem::CreateItem(int a1, int a2, int a3, int a4)
{
  _DWORD *v5; // [esp+0h] [ebp-8h]
  _DWORD *v6; // [esp+4h] [ebp-4h]

  if ( a3 <= 0 )
    return 0;
  v6 = 0;
  v5 = (_DWORD *)sub_4246B0(a1);
  if ( v5 )
  {
    v6 = CItem::NewItem(v5);
    if ( v6 )
      (*(void (__thiscall **)(_DWORD *, int, int, int))(*v6 + 76))(v6, a2, a3, a4);
  }
  return v6;
}

//----- (00424BB0) --------------------------------------------------------
_DWORD *__cdecl CItem::CreateCheatItem(int a1, int a2, int a3, int a4)
{
  _DWORD *v5; // [esp+0h] [ebp-8h]
  _DWORD *v6; // [esp+4h] [ebp-4h]

  if ( a3 <= 0 )
    return 0;
  v6 = 0;
  v5 = (_DWORD *)sub_4246B0(a1);
  if ( v5 )
  {
    v6 = CItem::NewItem(v5);
    if ( v6 )
    {
      (*(void (__thiscall **)(_DWORD *, int, int, int))(*v6 + 76))(v6, a2, a3, a4);
      if ( (dword_4B8C30[0] & 2) == 0 )
        sub_424C30(v6, 8);
    }
  }
  return v6;
}

//----- (00424C30) --------------------------------------------------------
_DWORD *__thiscall sub_424C30(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  result = this;
  this[12] |= a2;
  return result;
}

//----- (00424C50) --------------------------------------------------------
_DWORD *__usercall CItem::CreateDropItem@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  void *v5; // eax
  int v7; // eax
  char v8[4]; // [esp+0h] [ebp-1Ch] BYREF
  _DWORD *v9; // [esp+4h] [ebp-18h]
  int v10; // [esp+8h] [ebp-14h] BYREF
  int v11; // [esp+Ch] [ebp-10h] BYREF
  _DWORD *v12; // [esp+10h] [ebp-Ch]
  int v13; // [esp+14h] [ebp-8h] BYREF
  int v14; // [esp+18h] [ebp-4h] BYREF

  CRWLock::ReadLock((CRWLock *)&unk_4B8B98);
  sub_460550(dword_4B8B8C, &v14, &a4);
  v5 = sub_482CA0(dword_4B8B8C, v8);
  if ( (unsigned __int8)unknown_libname_25(v5) )
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8B98, a1, a2, a3);
    return 0;
  }
  v10 = 0;
  v13 = 0;
  v11 = 0;
  v7 = sub_43E1A0(&v14);
  CItemGroup::GetItemInfo(*(int **)(v7 + 4), &v10, &v13, &v11);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8B98, a1, a2, a3);
  if ( v11 <= 0 )
    return 0;
  v12 = 0;
  v9 = (_DWORD *)sub_4246B0(v10);
  if ( v9 )
  {
    if ( (a5 & v9[19]) != a5 )
      return 0;
    v12 = CItem::NewItem(v9);
    if ( v12 )
      (*(void (__thiscall **)(_DWORD *, int, int, _DWORD))(*v12 + 76))(v12, v13, v11, 0);
  }
  return v12;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00424D50) --------------------------------------------------------
_DWORD *__usercall CItem::CreateQuestItem@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  void *v4; // eax
  _DWORD *result; // eax
  int v6; // eax
  char v7[4]; // [esp+0h] [ebp-20h] BYREF
  _DWORD *v8; // [esp+4h] [ebp-1Ch]
  int v9; // [esp+8h] [ebp-18h] BYREF
  int v10; // [esp+Ch] [ebp-14h] BYREF
  int *v11; // [esp+10h] [ebp-10h]
  _DWORD *v12; // [esp+14h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-8h] BYREF
  int v14; // [esp+1Ch] [ebp-4h] BYREF

  CRWLock::ReadLock((CRWLock *)&unk_4B8B98);
  sub_460550(dword_4B8B8C, &v14, &a4);
  v4 = sub_482CA0(dword_4B8B8C, v7);
  if ( (unsigned __int8)unknown_libname_25(v4) )
  {
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8B98, a1, a2, a3);
    result = 0;
  }
  else
  {
    v9 = 0;
    v13 = 0;
    v10 = 0;
    v6 = sub_43E1A0(&v14);
    v11 = (int *)CItemGroup::GetFirstGroup(*(int **)(v6 + 4));
    if ( v11 )
      CGroup::GetItemInfo(v11, &v9, &v13, &v10);
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8B98, a1, a2, a3);
    if ( v10 > 0 )
    {
      v12 = 0;
      v8 = (_DWORD *)sub_4246B0(v9);
      if ( v8 )
      {
        v12 = CItem::NewItem(v8);
        if ( v12 )
          (*(void (__thiscall **)(_DWORD *, int, int, _DWORD))(*v12 + 76))(v12, v13, v10, 0);
      }
      result = v12;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00424E50) --------------------------------------------------------
_DWORD *__usercall CItem::Close@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  void (__thiscall ***v6)(_DWORD, int); // [esp+Ch] [ebp-24h]
  char v7[4]; // [esp+10h] [ebp-20h] BYREF
  int v8; // [esp+14h] [ebp-1Ch] BYREF
  void (__thiscall ***v9)(_DWORD, int); // [esp+18h] [ebp-18h]
  void (__thiscall ***v10)(_DWORD, int); // [esp+1Ch] [ebp-14h]
  char v11[4]; // [esp+20h] [ebp-10h] BYREF
  int v12; // [esp+24h] [ebp-Ch] BYREF
  int v13; // [esp+28h] [ebp-8h] BYREF
  int v14; // [esp+2Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8B74,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v14);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8B74, v11);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v14,
            v3) )
      break;
    v9 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v14) + 4);
    v10 = v9;
    if ( v9 )
      (**v10)(v10, 1);
    sub_46FA50(&v14, &v12, 0);
  }
  sub_42D0F0(dword_4B8B74);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8B80,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v13);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8B80, v7);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v13,
            v4) )
      break;
    v6 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v13) + 4);
    if ( v6 )
      (**v6)(v6, 1);
    sub_46FA50(&v13, &v8, 0);
  }
  sub_42D300(dword_4B8B80);
  CRWLock::WriteLock((CRWLock *)&unk_4B8B98);
  CItem::ClearItemGroup();
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8B98, a1, a2, a3);
  return sub_42E590();
}

//----- (00424F70) --------------------------------------------------------
_DWORD *CItem::ClearItemGroup()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v4; // [esp+10h] [ebp-8h] BYREF
  int v5; // [esp+14h] [ebp-4h] BYREF

  CItemGroup::ClearGroup();
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8B8C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8B8C, v3);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v5,
            v0) )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_46FA50(&v5, &v4, 0);
  }
  return sub_42D360(dword_4B8B8C);
}

//----- (00425000) --------------------------------------------------------
void __userpurge sub_425000(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CMemory **v6; // [esp+8h] [ebp-14h]
  int v7[2]; // [esp+Ch] [ebp-10h] BYREF
  char *v8; // [esp+14h] [ebp-8h]
  DWORD v9; // [esp+18h] [ebp-4h]

  if ( a5 )
  {
    if ( a5 == 1 )
    {
      *((_DWORD *)a1 + 18) = 0;
      *((_DWORD *)a1 + 19) = 0;
      *((_DWORD *)a1 + 20) = 0;
    }
  }
  else
  {
    v9 = *((_DWORD *)a1 + 17);
    v8 = (char *)*((_DWORD *)a1 + 14);
    if ( v9 && !sub_40A640(a1) )
    {
      if ( GetTickCount() < v9 )
      {
        CIOObject::AddTimer(a1, a2, a3, a4, 0xEA60u, 0);
      }
      else
      {
        v7[0] = *((int *)a1 + 15) >> 5;
        v7[1] = *((int *)a1 + 16) >> 5;
        if ( v8 && sub_480230(v8, a2, a3, a4, a1, (int)v7) )
        {
          v6 = sub_445C90(a2, a3, a4, 28, "d", *((_DWORD *)a1 + 7));
          sub_4821F0(v8, a2, a3, a4, v7, (int)v6, 25);
          CIOBuffer::Release((CIOBuffer *)v6);
          (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)a1 + 92))(a1, 11);
        }
      }
    }
  }
}

//----- (00425110) --------------------------------------------------------
_DWORD *__thiscall sub_425110(int this, _BYTE **a2, int a3)
{
  _BYTE *v3; // eax
  _DWORD *result; // eax

  if ( !a3 )
    a3 = *(_DWORD *)(this + 52);
  *a2 = sub_4459A0(*a2, *(_DWORD *)(this + 36));
  *a2 = sub_42D5F0(*a2, *(_WORD *)(*(_DWORD *)(this + 40) + 64));
  if ( *(_DWORD *)(this + 44) )
    v3 = sub_417B60(*a2, *(_DWORD *)(*(_DWORD *)(this + 44) + 32));
  else
    v3 = sub_417B60(*a2, 0);
  *a2 = v3;
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 48));
  result = sub_4459A0(*a2, a3);
  *a2 = result;
  return result;
}

//----- (004251D0) --------------------------------------------------------
int __thiscall sub_4251D0(int this, int a2, _BYTE **a3)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(this + 32) = a2;
  v5 = 0;
  *a3 = sub_417AF0(*a3, (_DWORD *)(this + 36));
  *a3 = sub_417B10(*a3, &v5);
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 48));
  *a3 = sub_417AF0(*a3, (_DWORD *)(this + 52));
  *a3 += 2;
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 84));
  *a3 += 8;
  result = sub_424700(v5);
  *(_DWORD *)(this + 44) = result;
  return result;
}

//----- (004252A0) --------------------------------------------------------
_DWORD *__thiscall CItem::Init(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *result; // eax
  int v5; // [esp+0h] [ebp-Ch]

  if ( !*(_DWORD *)(this[10] + 92) )
    a3 = 1;
  result = this;
  this[13] = a3;
  if ( dword_4BAAA0 == 2 )
  {
    result = (_DWORD *)this[10];
    if ( result[39] )
    {
      if ( a4 < 0 )
        v5 = dword_4B8C20;
      else
        v5 = a4;
      result = this;
      this[21] = v5;
    }
  }
  return result;
}
// 4B8C20: using guessed type int dword_4B8C20;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00425310) --------------------------------------------------------
void __userpurge sub_425310(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  sub_448C90(a2, a3, a4, a5, 28, "d", *(_DWORD *)(a1 + 28));
}

//----- (00425340) --------------------------------------------------------
void __userpurge sub_425340(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  sub_448C90(a2, a3, a4, a5, 23, "wdddd", *(_DWORD *)(a1[10] + 64), a1[7], a1[15], a1[16], a1[13]);
}

//----- (00425390) --------------------------------------------------------
int __userpurge sub_425390@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  sub_448C90(a2, a3, a4, a5, 44, "db", *(_DWORD *)(a1 + 36), a6);
  CDBSocket::Write(
    a2,
    a3,
    a4,
    3,
    "ddwdbddd",
    *(_DWORD *)(a1 + 36),
    *(_DWORD *)(a1 + 32),
    *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
    *(_DWORD *)(a1 + 52),
    a6,
    (unsigned __int8)*(_DWORD *)(a1 + 84) << 8,
    0,
    0);
  CBase::Delete((volatile signed __int32 *)a1);
  return 1;
}

//----- (00425420) --------------------------------------------------------
int __userpurge CItem::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( *(_DWORD *)(a1 + 36) )
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a5,
      (unsigned __int8)*(_DWORD *)(a1 + 84) << 8,
      0,
      0);
  return CBase::Delete((volatile signed __int32 *)a1);
}

//----- (00425490) --------------------------------------------------------
void __userpurge sub_425490(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  a1[8] = a5;
  a1[9] = a6;
  CDBSocket::Write(a2, a3, a4, 6, "dwbbdbbdb", a1[9], *(_DWORD *)(a1[10] + 64), 0, a1[12], a1[13], 0, a1[21], a1[8], 2);
}

//----- (00425500) --------------------------------------------------------
void __userpurge sub_425500(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v8; // [esp+4h] [ebp-4h]

  v8 = a1[8];
  a1[8] = *(_DWORD *)(a5 + 444);
  if ( a6 == 10 )
    a1[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 43);
  if ( a7 )
    CDBSocket::Write(a2, a3, a4, 7, "dddwbd", a1[9], v8, a1[8], *(_DWORD *)(a1[10] + 64), a6, a1[13]);
  else
    CDBSocket::Write(
      a2,
      a3,
      a4,
      6,
      "dwbbdbbdb",
      a1[9],
      *(_DWORD *)(a1[10] + 64),
      0,
      a1[12],
      a1[13],
      0,
      a1[21],
      a1[8],
      a6);
}

//----- (004255D0) --------------------------------------------------------
int __userpurge sub_4255D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  if ( a7 + *(_DWORD *)(a1 + 52) > 0 )
    return *(_DWORD *)(a1 + 52);
  sub_448C90(a2, a3, a4, a5, 45, "ddb", *(_DWORD *)(a1 + 36), 0, a6);
  if ( a6 == 50 )
    CDBSocket::Write(
      a2,
      a3,
      a4,
      7,
      "dddwbd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a5 + 444),
      0,
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      50,
      *(_DWORD *)(a1 + 52));
  else
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a6,
      (unsigned __int8)*(_DWORD *)(a1 + 84) << 8,
      0,
      0);
  *(_DWORD *)(a1 + 52) = 0;
  CBase::Delete((volatile signed __int32 *)a1);
  return 0;
}

//----- (004256C0) --------------------------------------------------------
void __userpurge sub_4256C0(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, _DWORD *a7, int a8, int a9, int a10)
{
  int v10; // edx
  CMemory **v12; // [esp+8h] [ebp-4h]

  *((_DWORD *)a1 + 14) = *(_DWORD *)(a5 + 312);
  v10 = a6[1];
  *((_DWORD *)a1 + 15) = *a6;
  *((_DWORD *)a1 + 16) = v10;
  *((_DWORD *)a1 + 17) = GetTickCount() + 180000;
  CIOObject::AddTimer(a1, a2, a3, a4, 0xEA60u, 0);
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 60))(a5) )
  {
    if ( a8 )
    {
      sub_448C90(a2, a3, a4, a5, 44, "db", *((_DWORD *)a1 + 9), 11);
      CDBSocket::Write(
        a2,
        a3,
        a4,
        7,
        "dddwbd",
        *((_DWORD *)a1 + 9),
        *((_DWORD *)a1 + 8),
        0,
        *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
        11,
        *((_DWORD *)a1 + 13));
    }
    else
    {
      *((_DWORD *)a1 + 8) = *(_DWORD *)(a5 + 444);
    }
  }
  else
  {
    *((_DWORD *)a1 + 18) = a9;
    *((_DWORD *)a1 + 19) = a10;
    CIOObject::AddTimer(a1, a2, a3, a4, 0x1D4C0u, 1);
  }
  v12 = sub_445C90(
          a2,
          a3,
          a4,
          23,
          "wdddd",
          *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
          *((_DWORD *)a1 + 7),
          *a6,
          a6[1],
          *((_DWORD *)a1 + 13));
  sub_4821F0(*(char **)(a5 + 312), a2, a3, a4, a7, (int)v12, 25);
  CIOBuffer::Release((CIOBuffer *)v12);
}

//----- (00425810) --------------------------------------------------------
_DWORD *__userpurge sub_425810@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  if ( a1[13] != a7 )
    EBREAK(a2, a3, a4);
  a1[8] = 0;
  a1[12] |= 4u;
  sub_448C90(a2, a3, a4, a5, 44, "db", a1[9], a6);
  CDBSocket::Write(a2, a3, a4, 7, "dddwbd", a1[9], *(_DWORD *)(a5 + 444), a1[8], *(_DWORD *)(a1[10] + 64), a6, a1[13]);
  return a1;
}

//----- (004258B0) --------------------------------------------------------
BOOL __thiscall CItem::CanSell(_DWORD *this, int a2)
{
  BOOL result; // eax
  BOOL v3; // [esp+0h] [ebp-Ch]
  BOOL v4; // [esp+4h] [ebp-8h]

  if ( (dword_4B8C30[0] & 2) != 0 )
  {
    v4 = *(int *)(this[10] + 112) > 0 && this[13] >= a2;
    result = v4;
  }
  else
  {
    v3 = !sub_425930(this, 136) && *(int *)(this[10] + 112) > 0 && this[13] >= a2;
    result = v3;
  }
  return result;
}

//----- (00425930) --------------------------------------------------------
int __thiscall sub_425930(_DWORD *this, int a2)
{
  return a2 & this[12];
}

//----- (00425950) --------------------------------------------------------
BOOL __thiscall CItem::CanTrade(_DWORD *this, int a2, int a3, int a4)
{
  BOOL result; // eax
  BOOL v5; // [esp+0h] [ebp-Ch]
  BOOL v6; // [esp+4h] [ebp-8h]

  if ( (dword_4B8C30[0] & 2) != 0 )
    return this[13] >= a2;
  if ( dword_4BAAA0 == 2 && *(_DWORD *)(this[10] + 156) )
  {
    v6 = *(_DWORD *)(a3 + 60) > dword_4AE028[this[21]] && !sub_425930(this, 136) && this[13] >= a2;
    result = v6;
  }
  else
  {
    v5 = !sub_425930(this, 136) && this[13] >= a2;
    result = v5;
  }
  return result;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00425A10) --------------------------------------------------------
BOOL __thiscall CItem::CanDrop(_DWORD *this, int a2, int a3)
{
  BOOL result; // eax
  BOOL v4; // [esp+0h] [ebp-Ch]
  BOOL v5; // [esp+4h] [ebp-8h]

  if ( (dword_4B8C30[0] & 2) != 0 )
    return this[13] >= a2;
  if ( dword_4BAAA0 == 2 && *(_DWORD *)(this[10] + 156) )
  {
    v5 = *(_DWORD *)(a3 + 60) > dword_4AE028[this[21]] && !sub_425930(this, 136) && this[13] >= a2;
    result = v5;
  }
  else
  {
    v4 = !sub_425930(this, 136) && this[13] >= a2;
    result = v4;
  }
  return result;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00425AD0) --------------------------------------------------------
int __userpurge sub_425AD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, int a7, int a8)
{
  a1[12] &= 0xFFFFFFEF;
  CItem::SendItemInfo((int)a1, a2, a3, a4, (int)a5, 66);
  sub_452F60(a5, a1[9], 0);
  CDBSocket::Write(a2, a3, a4, 12, "ddbd", a1[9], a1[8], 0, a1[13]);
  return 1;
}

//----- (00425B40) --------------------------------------------------------
void __userpurge CItem::ForcedStorageIn(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7, int a8)
{
  LONG v8; // eax
  int v9; // [esp-24h] [ebp-2Ch]
  int v10; // [esp-1Ch] [ebp-24h]
  int v11; // [esp-18h] [ebp-20h]
  int v12; // [esp-10h] [ebp-18h]
  const char *v13; // [esp+0h] [ebp-8h]

  if ( a7 )
    v13 = a7;
  else
    v13 = &Src;
  v12 = a1[21];
  v11 = a1[13];
  v10 = a1[12];
  v9 = *(_DWORD *)(a1[10] + 64);
  v8 = CItem::NewIID();
  CDBSocket::Write(a2, a3, a4, 35, "bdwbbdbbdds", a5, v8, v9, 0, v10, v11, 0, v12, a6, a8, v13);
}

//----- (00425BB0) --------------------------------------------------------
LONG CItem::NewIID()
{
  LONG v1; // [esp+0h] [ebp-4h]

  v1 = InterlockedIncrement(&dword_4B8B70);
  if ( !v1 )
    v1 = InterlockedIncrement(&dword_4B8B70);
  return v1;
}

//----- (00425BE0) --------------------------------------------------------
int __thiscall sub_425BE0(_DWORD *this, int a2)
{
  return a2 * *(_DWORD *)(this[10] + 112);
}

//----- (00425C00) --------------------------------------------------------
int __thiscall sub_425C00(_DWORD *this, int a2)
{
  int result; // eax

  this[20] = 0;
  result = *(_DWORD *)(a2 + 444);
  this[8] = result;
  return result;
}

//----- (00425C30) --------------------------------------------------------
void __userpurge CItem::SendItemInfo(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char a6)
{
  CMemory **v6; // eax
  CMemory **v8; // [esp+4h] [ebp-Ch]
  int v9; // [esp+8h] [ebp-8h] BYREF
  void *Src; // [esp+Ch] [ebp-4h]

  v6 = CIOBuffer::Alloc();
  Src = v6;
  v8 = v6;
  *((_BYTE *)v6 + 2) = a6;
  v9 = (int)v6 + 3;
  (*(void (__thiscall **)(int, int *, _DWORD))(*(_DWORD *)a1 + 72))(a1, &v9, 0);
  *(_WORD *)v8 = v9 - (_WORD)v8;
  *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v8;
  sub_448C30(a5, a2, a3, a4, Src);
  CIOBuffer::Release((CIOBuffer *)Src);
}

//----- (00425CA0) --------------------------------------------------------
void __userpurge sub_425CA0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, int a7, int a8, int a9)
{
  volatile int *v9; // [esp+4h] [ebp-4h]

  if ( dword_4BAAA0 != 1 )
  {
    v9 = CItem::CreateItem(a6, a7, a8, -1);
    if ( v9 )
    {
      sub_4010D0(v9, a1, a2, a3);
      if ( sub_452300((char *)a4, a1, a2, a3, a5, v9) != 1 )
      {
        LOG_ERR("CItem::InsertItem() (PID:%d, LogType:%d, Index:%d)", *(_DWORD *)(a4 + 444), a5, a6);
        CBase::Delete(v9);
      }
      sub_401C50(v9, a1, a2, a3);
    }
  }
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00425D30) --------------------------------------------------------
_DWORD *__thiscall CItemWeapon::CItemWeapon(_DWORD *this, int a2)
{
  CItem::CItem(this);
  *this = &off_49AB30;
  this[10] = a2;
  this[23] = 0;
  this[24] = 0;
  this[25] = 0;
  this[26] = 0;
  this[27] = 0;
  this[28] = 0;
  this[29] = 0;
  this[30] = 0;
  this[31] = 0;
  this[32] = 0;
  return this;
}
// 49AB30: using guessed type int (__stdcall *off_49AB30)(int);

//----- (00425DD0) --------------------------------------------------------
_DWORD *__usercall sub_425DD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return sub_424480(a1, a2, a3, a4);
}

//----- (00425DF0) --------------------------------------------------------
_BYTE *__thiscall sub_425DF0(int this, _BYTE **a2, int a3)
{
  _BYTE *v3; // eax
  _BYTE *result; // eax

  if ( !a3 )
    a3 = *(_DWORD *)(this + 52);
  *a2 = sub_4459A0(*a2, *(_DWORD *)(this + 36));
  *a2 = sub_42D5F0(*a2, *(_WORD *)(*(_DWORD *)(this + 40) + 64));
  if ( *(_DWORD *)(this + 44) )
    v3 = sub_417B60(*a2, *(_DWORD *)(*(_DWORD *)(this + 44) + 32));
  else
    v3 = sub_417B60(*a2, 0);
  *a2 = v3;
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 48));
  *a2 = sub_4459A0(*a2, a3);
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 92));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 96));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 84));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 100));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 104));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 108));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 112));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 116));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 120));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 124));
  result = sub_417B60(*a2, *(_BYTE *)(this + 128));
  *a2 = result;
  return result;
}

//----- (00425FD0) --------------------------------------------------------
int __thiscall sub_425FD0(int this, int a2, _BYTE **a3)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(this + 32) = a2;
  v5 = 0;
  *a3 = sub_417AF0(*a3, (_DWORD *)(this + 36));
  *a3 = sub_417B10(*a3, &v5);
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 48));
  *a3 = sub_417AF0(*a3, (_DWORD *)(this + 52));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 92));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 96));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 84));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 100));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 104));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 108));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 112));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 116));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 120));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 124));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 128));
  result = sub_424700(v5);
  *(_DWORD *)(this + 44) = result;
  return result;
}

//----- (00426190) --------------------------------------------------------
int __thiscall CItemWeapon::Init(_DWORD *this, int a2, int a3, int a4)
{
  int result; // eax

  this[11] = sub_424700(a2);
  this[13] = 1;
  this[24] = *(_DWORD *)(this[10] + 116);
  result = this[24];
  this[23] = result;
  return result;
}

//----- (004261E0) --------------------------------------------------------
void __userpurge sub_4261E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( sub_425930(a1, 1) )
  {
    if ( (*(int *)(a1[10] + 96) < 0 || *(_DWORD *)(a1[10] + 96) == *(_DWORD *)(a5 + 452))
      && *(_DWORD *)(a1[10] + 100) <= *(_DWORD *)(a5 + 60)
      && !sub_426320((_DWORD *)a5, 0) )
    {
      if ( *(_DWORD *)(a1[10] + 72) != 21 )
      {
LABEL_10:
        sub_4262F0((_DWORD *)a5, 0);
        *(_WORD *)(a5 + 964) = *(_WORD *)(a1[10] + 64);
        *(_DWORD *)(a5 + 304) = *(_DWORD *)(a1[10] + 104);
        (*(void (__thiscall **)(_DWORD *, int))(*a1 + 104))(a1, a5);
        return;
      }
      if ( !sub_426320((_DWORD *)a5, 1) )
      {
        sub_4262F0((_DWORD *)a5, 12);
        goto LABEL_10;
      }
    }
    sub_4262D0(a1, 1);
    CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
  }
}

//----- (004262D0) --------------------------------------------------------
int __thiscall sub_4262D0(_DWORD *this, int a2)
{
  int result; // eax

  result = this[12] & ~a2;
  this[12] = result;
  return result;
}

//----- (004262F0) --------------------------------------------------------
int __thiscall sub_4262F0(_DWORD *this, char a2)
{
  int result; // eax

  result = this[139] | (1 << a2);
  this[139] = result;
  return result;
}

//----- (00426320) --------------------------------------------------------
int __thiscall sub_426320(_DWORD *this, char a2)
{
  return this[139] & (1 << a2);
}

//----- (00426340) --------------------------------------------------------
int __userpurge sub_426340@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  int v7; // [esp+0h] [ebp-14h]

  if ( sub_425930((_DWORD *)a1, 1) )
  {
    sub_448C90(a2, a3, a4, a5, 36, "b", 11);
    result = 0;
  }
  else
  {
    sub_448C90(a2, a3, a4, a5, 44, "db", *(_DWORD *)(a1 + 36), a6);
    if ( *(_DWORD *)(a1 + 44) )
      v7 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v7 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a6,
      (unsigned __int8)*(_DWORD *)(a1 + 100) | ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16) | (v7 << 24),
      ((unsigned __int8)*(_DWORD *)(a1 + 112) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 104) << 24),
      ((unsigned __int8)*(_DWORD *)(a1 + 128) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 124) << 16) | ((unsigned __int8)*(_DWORD *)(a1 + 120) << 24));
    CBase::Delete((volatile signed __int32 *)a1);
    result = 1;
  }
  return result;
}

//----- (004264A0) --------------------------------------------------------
int __userpurge CItemWeapon::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+0h] [ebp-14h]

  if ( *(_DWORD *)(a1 + 36) )
  {
    if ( *(_DWORD *)(a1 + 44) )
      v6 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v6 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a5,
      (unsigned __int8)*(_DWORD *)(a1 + 100) | ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16) | (v6 << 24),
      ((unsigned __int8)*(_DWORD *)(a1 + 112) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 104) << 24),
      ((unsigned __int8)*(_DWORD *)(a1 + 128) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 124) << 16) | ((unsigned __int8)*(_DWORD *)(a1 + 120) << 24));
  }
  return CBase::Delete((volatile signed __int32 *)a1);
}

//----- (004265B0) --------------------------------------------------------
int *__thiscall sub_4265B0(int *this, _DWORD *a2)
{
  int *result; // eax
  int v4; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h]

  CInitItem::ApplySpec(this[10], (int)a2);
  v4 = 0;
  v6 = 0;
  if ( CInitItem::GetSpecValue(this[10], 18, (char)&v4) )
  {
    a2[150] = v4;
    a2[151] = v6;
  }
  if ( CInitItem::GetSpecValue(this[10], 19, (char)&v4) )
  {
    a2[152] = v4;
    a2[153] = v6;
  }
  if ( this[11] )
    CPrefix::ApplySpec(this[11], (int)a2);
  if ( this[25] )
  {
    v5 = this[25] * (2 * this[25] + 7) / 9;
    a2[148] = v5;
    (*(void (__cdecl **)(_DWORD *, int, int, int, int))(*a2 + 92))(a2, 27, 1, v5, v5);
  }
  if ( this[26] )
  {
    v5 = this[26] * (2 * this[26] + 7) / 9;
    a2[149] = v5;
    (*(void (__cdecl **)(_DWORD *, int, int, int, int))(*a2 + 92))(a2, 28, 1, v5, v5);
  }
  if ( this[28] )
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, this[28]);
  result = this;
  if ( this[31] )
  {
    result = (int *)this[31];
    a2[147] = result;
  }
  return result;
}

//----- (00426740) --------------------------------------------------------
int __thiscall sub_426740(int *this, _DWORD *a2)
{
  int result; // eax
  int v4; // [esp+4h] [ebp-4h]
  int v5; // [esp+4h] [ebp-4h]

  CInitItem::FreeSpec(this[10], (int)a2);
  a2[150] = 0;
  a2[151] = 0;
  a2[152] = 0;
  a2[153] = 0;
  if ( this[11] )
    CPrefix::FreeSpec(this[11], (int)a2);
  result = (int)this;
  if ( this[25] )
  {
    v4 = this[25] * (2 * this[25] + 7) / 9;
    a2[148] = 0;
    result = (*(int (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 92))(a2, 27, 0, v4, v4);
  }
  if ( this[26] )
  {
    v5 = this[26] * (2 * this[26] + 7) / 9;
    a2[149] = 0;
    result = (*(int (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 92))(a2, 28, 0, v5, v5);
  }
  if ( this[28] )
    result = (*(int (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 9, 0, this[28]);
  a2[147] = 0;
  return result;
}

//----- (00426880) --------------------------------------------------------
void __userpurge sub_426880(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-Ch]
  int v7; // [esp-4h] [ebp-8h]

  if ( *(int *)(a1[10] + 96) >= 0 && *(_DWORD *)(a1[10] + 96) != *(_DWORD *)(a5 + 452)
    || *(_DWORD *)(a1[10] + 100) > *(_DWORD *)(a5 + 60) )
  {
    sub_448C90(a2, a3, a4, a5, 36, "b", 12);
    return;
  }
  if ( !sub_425930(a1, 1) )
  {
    if ( sub_426320((_DWORD *)a5, 0) )
    {
      sub_448C90(a2, a3, a4, a5, 36, "b", 10);
      return;
    }
    if ( *(_DWORD *)(a1[10] + 72) == 21 )
    {
      if ( sub_426320((_DWORD *)a5, 1) )
        return;
      sub_4262F0((_DWORD *)a5, 12);
    }
    sub_4262F0((_DWORD *)a5, 0);
    *(_WORD *)(a5 + 964) = *(_WORD *)(a1[10] + 64);
    *(_DWORD *)(a5 + 304) = *(_DWORD *)(a1[10] + 104);
    sub_424C30(a1, 1);
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 104))(a1, a5);
    v7 = *(unsigned __int16 *)(a1[10] + 64);
    v6 = a1[9];
    v5 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 41, &unk_49AC0C, v5, v6, v7);
    CDBSocket::Write(a2, a3, a4, 4, "d", a1[9]);
  }
}

//----- (004269D0) --------------------------------------------------------
void __userpurge sub_4269D0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-Ch]
  int v7; // [esp-4h] [ebp-8h]

  if ( sub_425930(a1, 1) && sub_426320((_DWORD *)a5, 0) )
  {
    sub_426AA0((_DWORD *)a5, 0);
    if ( *(_DWORD *)(a1[10] + 72) == 21 )
      sub_426AA0((_DWORD *)a5, 12);
    *(_WORD *)(a5 + 964) = 0;
    *(_DWORD *)(a5 + 304) = 0;
    sub_4262D0(a1, 1);
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 108))(a1, a5);
    v7 = *(unsigned __int16 *)(a1[10] + 64);
    v6 = a1[9];
    v5 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 42, &unk_49AC0C, v5, v6, v7);
    CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
  }
}

//----- (00426AA0) --------------------------------------------------------
int __thiscall sub_426AA0(_DWORD *this, char a2)
{
  int result; // eax

  result = this[139] & ~(1 << a2);
  this[139] = result;
  return result;
}

//----- (00426AD0) --------------------------------------------------------
void __userpurge sub_426AD0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v7; // [esp+0h] [ebp-10h]
  int v9; // [esp+Ch] [ebp-4h]

  v9 = a1[8];
  a1[8] = *(_DWORD *)(a5 + 444);
  if ( a6 == 10 )
    a1[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 43);
  if ( a7 )
  {
    CDBSocket::Write(a2, a3, a4, 7, "dddwbd", a1[9], v9, a1[8], *(_DWORD *)(a1[10] + 64), a6, a1[13]);
  }
  else
  {
    if ( a1[11] )
      v7 = *(_DWORD *)(a1[11] + 32);
    else
      v7 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      6,
      "dwbbdbbdb",
      a1[9],
      *(_DWORD *)(a1[10] + 64),
      v7,
      a1[12],
      a1[13],
      a1[23],
      a1[21],
      a1[8],
      a6);
  }
}

//----- (00426BD0) --------------------------------------------------------
int __userpurge sub_426BD0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v8; // [esp+0h] [ebp-14h]

  if ( a7 + *(_DWORD *)(a1 + 52) > 0 )
    return *(_DWORD *)(a1 + 52);
  sub_448C90(a2, a3, a4, a5, 45, "ddb", *(_DWORD *)(a1 + 36), 0, a6);
  if ( a6 == 50 )
  {
    CDBSocket::Write(
      a2,
      a3,
      a4,
      7,
      "dddwbd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a5 + 444),
      0,
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      50,
      *(_DWORD *)(a1 + 52));
  }
  else
  {
    if ( *(_DWORD *)(a1 + 44) )
      v8 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v8 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a6,
      (unsigned __int8)*(_DWORD *)(a1 + 100) | ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16) | (v8 << 24),
      ((unsigned __int8)*(_DWORD *)(a1 + 112) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 104) << 24),
      ((unsigned __int8)*(_DWORD *)(a1 + 128) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 124) << 16) | ((unsigned __int8)*(_DWORD *)(a1 + 120) << 24));
  }
  *(_DWORD *)(a1 + 52) = 0;
  CBase::Delete((volatile signed __int32 *)a1);
  return 0;
}

//----- (00426D60) --------------------------------------------------------
BOOL __thiscall CItemTransform::CanTrade(_DWORD *this, int a2, int a3, int a4)
{
  BOOL result; // eax

  if ( sub_425930(this, 1) )
    result = 0;
  else
    result = CItem::CanTrade(this, a2, a3, a4);
  return result;
}

//----- (00426DA0) --------------------------------------------------------
int __userpurge sub_426DA0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v7; // [esp+0h] [ebp-20h]
  __int16 v9; // [esp+8h] [ebp-18h] BYREF
  int v10; // [esp+Ah] [ebp-16h]
  char v11; // [esp+Eh] [ebp-12h]
  char v12; // [esp+Fh] [ebp-11h]
  int v13; // [esp+10h] [ebp-10h]
  char v14; // [esp+14h] [ebp-Ch]
  char v15; // [esp+15h] [ebp-Bh]
  char v16; // [esp+16h] [ebp-Ah]
  char v17; // [esp+17h] [ebp-9h]
  char v18; // [esp+18h] [ebp-8h]
  char v19; // [esp+19h] [ebp-7h]
  char v20; // [esp+1Ah] [ebp-6h]
  char v21; // [esp+1Bh] [ebp-5h]
  char v22; // [esp+1Ch] [ebp-4h]
  char v23; // [esp+1Dh] [ebp-3h]
  char v24; // [esp+1Eh] [ebp-2h]

  if ( sub_425930((_DWORD *)a1, 1) )
    return 0;
  v9 = *(_WORD *)(*(_DWORD *)(a1 + 40) + 64);
  v10 = *(_DWORD *)(a1 + 36);
  if ( *(_DWORD *)(a1 + 44) )
    v7 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
  else
    LOBYTE(v7) = 0;
  v11 = v7;
  v12 = *(_BYTE *)(a1 + 48);
  v13 = *(_DWORD *)(a1 + 52);
  v14 = *(_BYTE *)(a1 + 92);
  v15 = *(_BYTE *)(a1 + 96);
  v16 = *(_BYTE *)(a1 + 84);
  v17 = *(_BYTE *)(a1 + 100);
  v18 = *(_BYTE *)(a1 + 104);
  v19 = *(_BYTE *)(a1 + 108);
  v20 = *(_BYTE *)(a1 + 112);
  v21 = *(_BYTE *)(a1 + 116);
  v22 = *(_BYTE *)(a1 + 120);
  v23 = *(_BYTE *)(a1 + 124);
  v24 = *(_BYTE *)(a1 + 128);
  sub_452EB0(a5, a2, a3, a4, &v9, *(_DWORD *)(a1 + 36), 0);
  CDBSocket::Write(
    a2,
    a3,
    a4,
    11,
    "dddbd",
    *(_DWORD *)(a1 + 36),
    *(_DWORD *)(a1 + 32),
    *(_DWORD *)(a5 + 440),
    0,
    *(_DWORD *)(a1 + 52));
  CBase::Delete((volatile signed __int32 *)a1);
  return 1;
}

//----- (00426ED0) --------------------------------------------------------
void __userpurge CItemWeapon::ForcedStorageIn(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7, int a8)
{
  LONG v8; // eax
  int v9; // [esp-24h] [ebp-34h]
  int v10; // [esp-1Ch] [ebp-2Ch]
  int v11; // [esp-18h] [ebp-28h]
  int v12; // [esp-14h] [ebp-24h]
  int v13; // [esp-10h] [ebp-20h]
  const char *v14; // [esp+0h] [ebp-10h]
  int v15; // [esp+4h] [ebp-Ch]

  if ( a1[11] )
    v15 = *(_DWORD *)(a1[11] + 32);
  else
    v15 = 0;
  if ( a7 )
    v14 = a7;
  else
    v14 = &Src;
  v13 = a1[21];
  v12 = a1[23];
  v11 = a1[13];
  v10 = a1[12];
  v9 = *(_DWORD *)(a1[10] + 64);
  v8 = CItem::NewIID();
  CDBSocket::Write(a2, a3, a4, 35, "bdwbbdbbdds", a5, v8, v9, v15, v10, v11, v12, v13, a6, a8, v14);
}

//----- (00426F70) --------------------------------------------------------
int __userpurge sub_426F70@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  int v7; // [esp+4h] [ebp-40h]
  int v8; // [esp+8h] [ebp-3Ch]
  int v9; // [esp+Ch] [ebp-38h]
  int v10; // [esp+10h] [ebp-34h]
  int v11; // [esp+14h] [ebp-30h]
  int v13; // [esp+38h] [ebp-Ch]
  int v14; // [esp+3Ch] [ebp-8h]
  int v15; // [esp+40h] [ebp-4h]

  if ( CItem::GetLevel(a1) < 40 || sub_425930(a1, 1) )
    return 0;
  v15 = sub_425930(a1, 64);
  if ( a6 == 9 )
  {
    if ( *((int *)a1 + 28) < 20 )
    {
      a4 = *((_DWORD *)a1 + 28);
      if ( dword_4ADC08[a4] >= RandomBetween(1, 10000000) )
      {
        CDBSocket::Write(
          a2,
          a3,
          a4,
          17,
          "ddbbb",
          *((_DWORD *)a1 + 9),
          *((_DWORD *)a1 + 8),
          9,
          ++*((_DWORD *)a1 + 28),
          v15);
        goto LABEL_22;
      }
    }
    goto LABEL_25;
  }
  if ( a6 == 27 )
  {
    if ( *((int *)a1 + 25) < 20 )
    {
      a4 = *((_DWORD *)a1 + 25);
      if ( dword_4ADB48[a4] >= RandomBetween(1, 10000000) )
      {
        CDBSocket::Write(
          a2,
          a3,
          a4,
          17,
          "ddbbb",
          *((_DWORD *)a1 + 9),
          *((_DWORD *)a1 + 8),
          a6,
          ++*((_DWORD *)a1 + 25),
          v15);
        goto LABEL_22;
      }
    }
LABEL_25:
    if ( v15 )
    {
      CDBSocket::Write(a2, a3, a4, 21, "ddbbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), 64, 0, a6);
      sub_4262D0(a1, 64);
      CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
      result = 1;
    }
    else
    {
      if ( RandomBetween(1, 100) > 90 )
      {
        *((_DWORD *)a1 + 24) = 0;
      }
      else
      {
        v13 = RandomBetween(1, 100);
        if ( v13 <= 50 )
        {
          if ( v13 <= 20 )
            v14 = 3;
          else
            v14 = 2;
        }
        else
        {
          v14 = 1;
        }
        *((_DWORD *)a1 + 24) -= v14;
      }
      if ( *((int *)a1 + 24) <= 0 )
      {
        sub_448C90(a2, a3, a4, a5, 68, "db", *((_DWORD *)a1 + 9), 0);
        if ( *((_DWORD *)a1 + 11) )
          v11 = *(_DWORD *)(*((_DWORD *)a1 + 11) + 32);
        else
          v11 = 0;
        CDBSocket::Write(
          a2,
          a3,
          a4,
          3,
          "ddwdbddd",
          *((_DWORD *)a1 + 9),
          *((_DWORD *)a1 + 8),
          *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
          *((_DWORD *)a1 + 13),
          21,
          (unsigned __int8)*((_DWORD *)a1 + 25) | ((unsigned __int8)*((_DWORD *)a1 + 21) << 8) | ((unsigned __int8)*((_DWORD *)a1 + 23) << 16) | (v11 << 24),
          ((unsigned __int8)*((_DWORD *)a1 + 28) << 8) | ((unsigned __int8)*((_DWORD *)a1 + 26) << 24),
          ((unsigned __int8)*((_DWORD *)a1 + 32) << 8) | ((unsigned __int8)*((_DWORD *)a1 + 31) << 16) | ((unsigned __int8)*((_DWORD *)a1 + 30) << 24));
        if ( CItem::GetLevel(a1) - 40 >= 20 )
          v10 = 20;
        else
          v10 = CItem::GetLevel(a1) - 40;
        if ( *(_DWORD *)(*((_DWORD *)a1 + 10) + 72) == 1 )
        {
          if ( *((int *)a1 + 26) >= 20 )
            v9 = 20;
          else
            v9 = *((_DWORD *)a1 + 26);
          v8 = v9;
        }
        else
        {
          if ( *((int *)a1 + 25) >= 20 )
            v7 = 20;
          else
            v7 = *((_DWORD *)a1 + 25);
          v8 = v7;
        }
        sub_425CA0(a2, a3, a4, a5, 21, 517, 0, dword_4ADF50[v8] + dword_4ADEF8[v10], -1);
        CBase::Delete(a1);
      }
      else
      {
        sub_448C90(a2, a3, a4, a5, 68, "db", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 24));
        CDBSocket::Write(a2, a3, a4, 18, "ddb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), *((_DWORD *)a1 + 24));
      }
      result = 1;
    }
    return result;
  }
  if ( a6 != 28 )
    return 0;
  if ( *(_DWORD *)(*((_DWORD *)a1 + 10) + 72) != 1 )
    return 0;
  if ( *((int *)a1 + 26) >= 20 )
    goto LABEL_25;
  a4 = *((_DWORD *)a1 + 26);
  if ( dword_4ADB48[a4] < RandomBetween(1, 10000000) )
    goto LABEL_25;
  CDBSocket::Write(a2, a3, a4, 17, "ddbbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), a6, ++*((_DWORD *)a1 + 26), v15);
LABEL_22:
  if ( v15 )
    sub_4262D0(a1, 64);
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  return 1;
}

//----- (00427420) --------------------------------------------------------
int __thiscall CItem::GetLevel(_DWORD *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( this[11] )
    v2 = *(_DWORD *)(this[11] + 36);
  else
    v2 = 0;
  return v2 + *(_DWORD *)(this[10] + 80);
}

//----- (00427460) --------------------------------------------------------
int __userpurge sub_427460@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v9; // [esp+8h] [ebp-4h]

  if ( CItem::GetLevel(a1) < 40 || sub_425930(a1, 1) )
    return 0;
  v9 = sub_425930(a1, 64);
  switch ( a6 )
  {
    case 9:
      a1[28] = a7;
      CDBSocket::Write(a2, a3, a4, 17, "ddbbb", a1[9], a1[8], 9, a1[28], v9);
      break;
    case 27:
      a1[25] = a7;
      CDBSocket::Write(a2, a3, a4, 17, "ddbbb", a1[9], a1[8], 27, a1[25], v9);
      break;
    case 28:
      if ( *(_DWORD *)(a1[10] + 72) != 1 )
        return 0;
      a1[26] = a7;
      CDBSocket::Write(a2, a3, a4, 17, "ddbbb", a1[9], a1[8], a6, a1[26], v9);
      break;
    default:
      return 0;
  }
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  return 1;
}

//----- (004275A0) --------------------------------------------------------
int __userpurge sub_4275A0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( a1[24] >= a1[23] )
    return 0;
  sub_448C90(a2, a3, a4, a5, 68, "db", a1[9], ++a1[24]);
  CDBSocket::Write(a2, a3, a4, 18, "ddb", a1[9], a1[8], a1[24]);
  return 1;
}

//----- (00427620) --------------------------------------------------------
int __userpurge sub_427620@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8)
{
  int v9; // [esp+0h] [ebp-4Ch]
  int v10; // [esp+4h] [ebp-48h]
  int v11; // [esp+8h] [ebp-44h]
  int v12; // [esp+Ch] [ebp-40h]
  int v13; // [esp+10h] [ebp-3Ch]
  int v14; // [esp+14h] [ebp-38h]
  int v16; // [esp+34h] [ebp-18h]
  int i; // [esp+38h] [ebp-14h]
  int v18; // [esp+3Ch] [ebp-10h]
  int v19; // [esp+40h] [ebp-Ch]
  int v20; // [esp+48h] [ebp-4h]

  if ( sub_425930(a1, 1) || a6 > 0 )
    return 0;
  if ( *((_DWORD *)a1 + 11) )
    v14 = *(_DWORD *)(*((_DWORD *)a1 + 11) + 32);
  else
    v14 = 0;
  v18 = v14;
  v19 = RandomBetween(1, 100);
  v20 = sub_425930(a1, 64);
  for ( i = 0; i < 2; ++i )
  {
    if ( v19 <= *(_DWORD *)(a7 + 4 * i) )
    {
      v18 = *(_DWORD *)(a8 + 4 * i);
      break;
    }
  }
  if ( v14 == v18 )
  {
    if ( v20 )
    {
      CDBSocket::Write(a2, a3, a4, 21, "ddbbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), 64, 0, 255);
      sub_4262D0(a1, 64);
      CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
      return 1;
    }
    *((_DWORD *)a1 + 24) -= 5;
    if ( *((int *)a1 + 24) <= 0 )
    {
      sub_448C90(a2, a3, a4, a5, 68, "db", *((_DWORD *)a1 + 9), 0);
      if ( *((_DWORD *)a1 + 11) )
        v13 = *(_DWORD *)(*((_DWORD *)a1 + 11) + 32);
      else
        v13 = 0;
      CDBSocket::Write(
        a2,
        a3,
        a4,
        3,
        "ddwdbddd",
        *((_DWORD *)a1 + 9),
        *((_DWORD *)a1 + 8),
        *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
        *((_DWORD *)a1 + 13),
        27,
        (unsigned __int8)*((_DWORD *)a1 + 25) | ((unsigned __int8)*((_DWORD *)a1 + 21) << 8) | ((unsigned __int8)*((_DWORD *)a1 + 23) << 16) | (v13 << 24),
        ((unsigned __int8)*((_DWORD *)a1 + 28) << 8) | ((unsigned __int8)*((_DWORD *)a1 + 26) << 24),
        ((unsigned __int8)*((_DWORD *)a1 + 32) << 8) | ((unsigned __int8)*((_DWORD *)a1 + 31) << 16) | ((unsigned __int8)*((_DWORD *)a1 + 30) << 24));
      if ( CItem::GetLevel(a1) >= 40 )
      {
        if ( CItem::GetLevel(a1) - 40 >= 20 )
          v12 = 20;
        else
          v12 = CItem::GetLevel(a1) - 40;
        if ( *(_DWORD *)(*((_DWORD *)a1 + 10) + 72) == 1 )
        {
          if ( *((int *)a1 + 26) >= 20 )
            v11 = 20;
          else
            v11 = *((_DWORD *)a1 + 26);
          v10 = v11;
        }
        else
        {
          if ( *((int *)a1 + 25) >= 20 )
            v9 = 20;
          else
            v9 = *((_DWORD *)a1 + 25);
          v10 = v9;
        }
        sub_425CA0(a2, a3, a4, a5, 27, 517, 0, dword_4ADF50[v10] + dword_4ADEF8[v12], -1);
      }
      CBase::Delete(a1);
    }
    else
    {
      sub_448C90(a2, a3, a4, a5, 68, "db", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 24));
      CDBSocket::Write(a2, a3, a4, 18, "ddb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), *((_DWORD *)a1 + 24));
    }
  }
  else
  {
    v16 = sub_424700(v18);
    if ( !v16 )
      return 0;
    *((_DWORD *)a1 + 11) = v16;
    CDBSocket::Write(a2, a3, a4, 19, "ddbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), v18, v20);
    if ( v20 )
      sub_4262D0(a1, 64);
    CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  }
  return 1;
}

//----- (004279D0) --------------------------------------------------------
int __userpurge sub_4279D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+0h] [ebp-10h]
  int v8; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h]

  if ( CItem::GetLevel(a1) < 40 || dword_4BAAA0 != 2 && a1[30] >= *(_DWORD *)(a1[10] + 168) || sub_425930(a1, 65) )
    return 0;
  if ( a1[11] )
    v6 = *(_DWORD *)(a1[11] + 32);
  else
    v6 = 0;
  v8 = (unsigned __int8)a1[25] | ((unsigned __int8)a1[21] << 8) | ((unsigned __int8)a1[23] << 16) | (v6 << 24);
  v9 = ((unsigned __int8)a1[28] << 8) | ((unsigned __int8)a1[26] << 24);
  CDBSocket::Write(a2, a3, a4, 21, "ddbbwddb", a1[9], a1[8], 64, 1, *(_DWORD *)(a1[10] + 64), v8, v9, ++a1[30]);
  sub_424C30(a1, 64);
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  return 1;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00427B00) --------------------------------------------------------
int __thiscall CItemWeapon::GetSellMoney(_DWORD *this, int a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = *(_DWORD *)(this[10] + 112);
  if ( this[11] )
    v3 += *(_DWORD *)(this[11] + 40) * v3 / 100;
  if ( this[25] )
    v3 += 100 * this[25] * this[25] * this[25];
  if ( this[26] )
    v3 += 100 * this[26] * this[26] * this[26];
  if ( this[28] )
    v3 += 200 * this[28] * this[28] * this[28];
  return v3;
}

//----- (00427BC0) --------------------------------------------------------
void __userpurge CItemWeapon::UpgradeDestroy(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // [esp+0h] [ebp-20h]
  int v6; // [esp+4h] [ebp-1Ch]
  int v7; // [esp+8h] [ebp-18h]
  int v8; // [esp+Ch] [ebp-14h]

  if ( CItem::GetLevel(a1) >= 40
    && !sub_425930(a1, 1)
    && (*(int (__thiscall **)(_DWORD *, int, int))(*a1 + 88))(a1, a5, 45) )
  {
    if ( CItem::GetLevel(a1) - 40 >= 20 )
      v8 = 20;
    else
      v8 = CItem::GetLevel(a1) - 40;
    if ( *(_DWORD *)(a1[10] + 72) == 1 )
    {
      if ( (int)a1[26] >= 20 )
        v7 = 20;
      else
        v7 = a1[26];
      v6 = v7;
    }
    else
    {
      if ( (int)a1[25] >= 20 )
        v5 = 20;
      else
        v5 = a1[25];
      v6 = v5;
    }
    sub_425CA0(a2, a3, a4, a5, 45, 517, 0, dword_4ADF50[v6] + dword_4ADEF8[v8], -1);
    sub_4516D0(a5, a2, a3, a4, (int)a1);
  }
}

//----- (00427CD0) --------------------------------------------------------
void __userpurge sub_427CD0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // [esp+0h] [ebp-18h]
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h]

  if ( CItem::GetLevel(a1) >= 40 && !sub_425930(a1, 1) )
  {
    v7 = (int)a1[31] >= 19 ? 19 : a1[31];
    v6 = (int)a1[31] >= 19 ? 19 : a1[31];
    if ( dword_4ADE00[v7] + a1[32] * dword_4ADE50[v6] < 100 )
    {
      v5 = (int)a1[31] >= 19 ? 19 : a1[31];
      v9 = dword_4ADEA8[v5];
      v10 = sub_451770(a5, 517, v9);
      if ( v10 )
      {
        if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v10 + 120))(v10, a5, 46, -v9) )
          sub_4516D0(a5, a2, a3, a4, v10);
        CDBSocket::Write(a2, a3, a4, 28, "ddbb", a1[9], a1[8], 1, ++a1[32]);
        CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
      }
    }
  }
}

//----- (00427E20) --------------------------------------------------------
void __userpurge sub_427E20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4)
{
  int v4; // esi
  int v5; // [esp+4h] [ebp-30h]
  int v6; // [esp+Ch] [ebp-28h]
  int v7; // [esp+10h] [ebp-24h]
  int v8; // [esp+14h] [ebp-20h]
  int v10; // [esp+28h] [ebp-Ch]
  int v11; // [esp+2Ch] [ebp-8h]
  int v12; // [esp+30h] [ebp-4h]

  if ( CItem::GetLevel((_DWORD *)a1) >= 40 && !sub_425930((_DWORD *)a1, 1) )
  {
    v8 = *(_DWORD *)(*(_DWORD *)(a1 + 40) + 72) == 1 ? *(_DWORD *)(a1 + 104) : *(_DWORD *)(a1 + 100);
    if ( *(_DWORD *)(a1 + 124) < v8 )
    {
      v11 = 1500 * (*(_DWORD *)(a1 + 124) + 1);
      v12 = sub_451770(a4, 31, v11);
      if ( v12 )
      {
        if ( *(int *)(a1 + 124) >= 19 )
          v7 = 19;
        else
          v7 = *(_DWORD *)(a1 + 124);
        if ( *(int *)(a1 + 124) >= 19 )
          v6 = 19;
        else
          v6 = *(_DWORD *)(a1 + 124);
        v4 = dword_4ADE00[v7] + *(_DWORD *)(a1 + 128) * dword_4ADE50[v6];
        if ( v4 < RandomBetween(1, 100) )
        {
          v10 = RandomBetween(1, 100);
          if ( v10 > 60 )
          {
            if ( v10 > 90 )
            {
              sub_448C90(a2, a3, v4, a4, 37, "bd", 82, *(_DWORD *)(a1 + 36));
              if ( *(_DWORD *)(a1 + 44) )
                v5 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
              else
                v5 = 0;
              CDBSocket::Write(
                a2,
                a3,
                v4,
                3,
                "ddwdbddd",
                *(_DWORD *)(a1 + 36),
                *(_DWORD *)(a1 + 32),
                *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
                *(_DWORD *)(a1 + 52),
                47,
                (unsigned __int8)*(_DWORD *)(a1 + 100) | ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16) | (v5 << 24),
                ((unsigned __int8)*(_DWORD *)(a1 + 112) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 104) << 24),
                ((unsigned __int8)*(_DWORD *)(a1 + 128) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 124) << 16) | ((unsigned __int8)*(_DWORD *)(a1 + 120) << 24));
              sub_4516D0(a4, a2, a3, v4, a1);
              CBase::Delete((volatile signed __int32 *)a1);
            }
            else
            {
              *(_DWORD *)(a1 + 128) = 0;
              if ( *(int *)(a1 + 124) <= 0 )
                CDBSocket::Write(a2, a3, v4, 28, "ddbb", *(_DWORD *)(a1 + 36), *(_DWORD *)(a1 + 32), 2, 0);
              else
                CDBSocket::Write(
                  a2,
                  a3,
                  v4,
                  28,
                  "ddbb",
                  *(_DWORD *)(a1 + 36),
                  *(_DWORD *)(a1 + 32),
                  2,
                  --*(_DWORD *)(a1 + 124));
              CItem::SendItemInfo(a1, a2, a3, v4, a4, 69);
            }
          }
          else
          {
            if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v12 + 120))(v12, a4, 47, -v11) )
              sub_4516D0(a4, a2, a3, v4, v12);
            sub_448C90(a2, a3, v4, a4, 36, "b", 81);
          }
        }
        else
        {
          if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v12 + 120))(v12, a4, 47, -v11) )
            sub_4516D0(a4, a2, a3, v4, v12);
          *(_DWORD *)(a1 + 128) = 0;
          CDBSocket::Write(
            a2,
            a3,
            v4,
            28,
            "ddbb",
            *(_DWORD *)(a1 + 36),
            *(_DWORD *)(a1 + 32),
            2,
            ++*(_DWORD *)(a1 + 124));
          CItem::SendItemInfo(a1, a2, a3, v4, a4, 69);
        }
      }
    }
  }
}

//----- (00428180) --------------------------------------------------------
_DWORD *__thiscall CItemDefense::CItemDefense(_DWORD *this, int a2)
{
  CItem::CItem(this);
  *this = &off_49AC38;
  this[10] = a2;
  this[23] = 0;
  this[24] = 0;
  this[25] = 0;
  this[26] = 0;
  this[27] = 0;
  this[28] = 0;
  this[29] = 0;
  this[30] = 0;
  return this;
}
// 49AC38: using guessed type int (__stdcall *off_49AC38)(int);

//----- (00428200) --------------------------------------------------------
void **__thiscall sub_428200(int this, void **a2, int a3)
{
  _BYTE *v3; // eax
  void **result; // eax

  if ( !a3 )
    a3 = *(_DWORD *)(this + 52);
  *a2 = sub_4459A0(*a2, *(_DWORD *)(this + 36));
  *a2 = sub_42D5F0(*a2, *(_WORD *)(*(_DWORD *)(this + 40) + 64));
  if ( *(_DWORD *)(this + 44) )
    v3 = sub_417B60(*a2, *(_DWORD *)(*(_DWORD *)(this + 44) + 32));
  else
    v3 = sub_417B60(*a2, 0);
  *a2 = v3;
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 48));
  *a2 = sub_4459A0(*a2, a3);
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 92));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 96));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 84));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 100));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 104));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 108));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 112));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 116));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 120));
  memset(*a2, 0, 2u);
  result = a2;
  *a2 = (char *)*a2 + 2;
  return result;
}

//----- (004283D0) --------------------------------------------------------
int __thiscall sub_4283D0(int this, int a2, _BYTE **a3)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(this + 32) = a2;
  v5 = 0;
  *a3 = sub_417AF0(*a3, (_DWORD *)(this + 36));
  *a3 = sub_417B10(*a3, &v5);
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 48));
  *a3 = sub_417AF0(*a3, (_DWORD *)(this + 52));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 92));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 96));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 84));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 100));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 104));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 108));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 112));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 116));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 120));
  *a3 += 2;
  result = sub_424700(v5);
  *(_DWORD *)(this + 44) = result;
  return result;
}

//----- (00428560) --------------------------------------------------------
void __userpurge sub_428560(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v6; // [esp+4h] [ebp-4h]

  if ( sub_425930(a1, 1) )
  {
    if ( *(int *)(a1[10] + 96) >= 0 && *(_DWORD *)(a1[10] + 96) != a5[113]
      || *(_DWORD *)(a1[10] + 100) > a5[15]
      || (v6 = *(_DWORD *)(a1[10] + 72) - 2, sub_426320(a5, v6))
      || *(_DWORD *)(a1[10] + 72) == 3 && sub_426320(a5, 12) )
    {
      sub_4262D0(a1, 1);
      CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
    }
    else
    {
      sub_4262F0(a5, v6);
      *((_WORD *)a5 + v6 + 482) = *(_WORD *)(a1[10] + 64);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 104))(a1, a5);
    }
  }
}

//----- (00428650) --------------------------------------------------------
int __userpurge sub_428650@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  int v7; // [esp+0h] [ebp-14h]

  if ( sub_425930((_DWORD *)a1, 1) )
  {
    sub_448C90(a2, a3, a4, a5, 36, "b", 11);
    result = 0;
  }
  else
  {
    sub_448C90(a2, a3, a4, a5, 44, "db", *(_DWORD *)(a1 + 36), a6);
    if ( *(_DWORD *)(a1 + 44) )
      v7 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v7 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a6,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16) | (v7 << 24),
      (unsigned __int8)*(_DWORD *)(a1 + 116) | ((unsigned __int8)*(_DWORD *)(a1 + 108) << 16),
      (unsigned __int8)*(_DWORD *)(a1 + 120) << 24);
    CBase::Delete((volatile signed __int32 *)a1);
    result = 1;
  }
  return result;
}

//----- (00428770) --------------------------------------------------------
int __userpurge CItemDefense::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+0h] [ebp-14h]

  if ( *(_DWORD *)(a1 + 36) )
  {
    if ( *(_DWORD *)(a1 + 44) )
      v6 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v6 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a5,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16) | (v6 << 24),
      (unsigned __int8)*(_DWORD *)(a1 + 116) | ((unsigned __int8)*(_DWORD *)(a1 + 108) << 16),
      (unsigned __int8)*(_DWORD *)(a1 + 120) << 24);
  }
  return CBase::Delete((volatile signed __int32 *)a1);
}

//----- (00428850) --------------------------------------------------------
int __thiscall CItemDefense::ApplySpec(int *this, int a2)
{
  int result; // eax

  result = CInitItem::ApplySpec(this[10], a2);
  if ( this[11] )
    result = CPrefix::ApplySpec(this[11], a2);
  if ( this[27] )
    result = (*(int (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 15, 1, this[27], this[27]);
  if ( this[29] )
    result = (*(int (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 10, 1, this[29]);
  return result;
}

//----- (004288E0) --------------------------------------------------------
int __thiscall CItemDefense::FreeSpec(int *this, int a2)
{
  int result; // eax

  result = CInitItem::FreeSpec(this[10], a2);
  if ( this[11] )
    result = CPrefix::FreeSpec(this[11], a2);
  if ( this[27] )
    result = (*(int (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 92))(a2, 15, 0, this[27], this[27]);
  if ( this[29] )
    result = (*(int (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 92))(a2, 10, 0, this[29]);
  return result;
}

//----- (00428970) --------------------------------------------------------
void __userpurge sub_428970(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-10h]
  int v7; // [esp-4h] [ebp-Ch]
  int v9; // [esp+4h] [ebp-4h]

  if ( (*(int *)(a1[10] + 96) < 0 || *(_DWORD *)(a1[10] + 96) == a5[113]) && *(_DWORD *)(a1[10] + 100) <= a5[15] )
  {
    if ( !sub_425930(a1, 1) )
    {
      v9 = *(_DWORD *)(a1[10] + 72) - 2;
      if ( sub_426320(a5, v9) )
      {
        sub_448C90(a2, a3, a4, (int)a5, 36, "b", 10);
      }
      else if ( *(_DWORD *)(a1[10] + 72) != 3 || !sub_426320(a5, 12) )
      {
        sub_4262F0(a5, v9);
        *((_WORD *)a5 + v9 + 482) = *(_WORD *)(a1[10] + 64);
        sub_424C30(a1, 1);
        (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 104))(a1, a5);
        v7 = *(unsigned __int16 *)(a1[10] + 64);
        v6 = a1[9];
        v5 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, (int)a5, 41, &unk_49AC0C, v5, v6, v7);
        CDBSocket::Write(a2, a3, a4, 4, "d", a1[9]);
      }
    }
  }
  else
  {
    sub_448C90(a2, a3, a4, (int)a5, 36, "b", 12);
  }
}

//----- (00428AC0) --------------------------------------------------------
void __userpurge sub_428AC0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-10h]
  int v7; // [esp-4h] [ebp-Ch]
  int v9; // [esp+4h] [ebp-4h]

  if ( sub_425930(a1, 1) )
  {
    v9 = *(_DWORD *)(a1[10] + 72) - 2;
    if ( sub_426320(a5, v9) )
    {
      sub_426AA0(a5, v9);
      *((_WORD *)a5 + v9 + 482) = 0;
      sub_4262D0(a1, 1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 108))(a1, a5);
      v7 = *(unsigned __int16 *)(a1[10] + 64);
      v6 = a1[9];
      v5 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, (int)a5, 42, &unk_49AC0C, v5, v6, v7);
      CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
    }
  }
}

//----- (00428B80) --------------------------------------------------------
void __userpurge sub_428B80(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  a1[8] = a5;
  a1[9] = a6;
  CDBSocket::Write(
    a2,
    a3,
    a4,
    6,
    "dwbbdbbdb",
    a1[9],
    *(_DWORD *)(a1[10] + 64),
    0,
    a1[12],
    a1[13],
    a1[23],
    a1[21],
    a1[8],
    2);
}

//----- (00428BF0) --------------------------------------------------------
int __userpurge sub_428BF0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v8; // [esp+0h] [ebp-14h]

  if ( a7 + *(_DWORD *)(a1 + 52) > 0 )
    return *(_DWORD *)(a1 + 52);
  sub_448C90(a2, a3, a4, a5, 45, "ddb", *(_DWORD *)(a1 + 36), 0, a6);
  if ( a6 == 50 )
  {
    CDBSocket::Write(
      a2,
      a3,
      a4,
      7,
      "dddwbd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a5 + 444),
      0,
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      50,
      *(_DWORD *)(a1 + 52));
  }
  else
  {
    if ( *(_DWORD *)(a1 + 44) )
      v8 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v8 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a6,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16) | (v8 << 24),
      (unsigned __int8)*(_DWORD *)(a1 + 116) | ((unsigned __int8)*(_DWORD *)(a1 + 108) << 16),
      (unsigned __int8)*(_DWORD *)(a1 + 120) << 24);
  }
  *(_DWORD *)(a1 + 52) = 0;
  CBase::Delete((volatile signed __int32 *)a1);
  return 0;
}

//----- (00428D50) --------------------------------------------------------
int __userpurge sub_428D50@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v7; // [esp+0h] [ebp-20h]
  __int16 v9; // [esp+8h] [ebp-18h] BYREF
  int v10; // [esp+Ah] [ebp-16h]
  char v11; // [esp+Eh] [ebp-12h]
  char v12; // [esp+Fh] [ebp-11h]
  int v13; // [esp+10h] [ebp-10h]
  char v14; // [esp+14h] [ebp-Ch]
  char v15; // [esp+15h] [ebp-Bh]
  char v16; // [esp+16h] [ebp-Ah]
  char v17; // [esp+17h] [ebp-9h]
  char v18; // [esp+18h] [ebp-8h]
  char v19; // [esp+19h] [ebp-7h]
  char v20; // [esp+1Ah] [ebp-6h]
  char v21; // [esp+1Bh] [ebp-5h]
  char v22; // [esp+1Ch] [ebp-4h]
  char v23; // [esp+1Dh] [ebp-3h]
  char v24; // [esp+1Eh] [ebp-2h]

  if ( sub_425930((_DWORD *)a1, 1) )
    return 0;
  v9 = *(_WORD *)(*(_DWORD *)(a1 + 40) + 64);
  v10 = *(_DWORD *)(a1 + 36);
  if ( *(_DWORD *)(a1 + 44) )
    v7 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
  else
    LOBYTE(v7) = 0;
  v11 = v7;
  v12 = *(_BYTE *)(a1 + 48);
  v13 = *(_DWORD *)(a1 + 52);
  v14 = *(_BYTE *)(a1 + 92);
  v15 = *(_BYTE *)(a1 + 96);
  v16 = *(_BYTE *)(a1 + 84);
  v17 = *(_BYTE *)(a1 + 100);
  v18 = *(_BYTE *)(a1 + 104);
  v19 = *(_BYTE *)(a1 + 108);
  v20 = *(_BYTE *)(a1 + 112);
  v21 = *(_BYTE *)(a1 + 116);
  v22 = *(_BYTE *)(a1 + 120);
  v23 = 0;
  v24 = 0;
  sub_452EB0(a5, a2, a3, a4, &v9, *(_DWORD *)(a1 + 36), 0);
  CDBSocket::Write(
    a2,
    a3,
    a4,
    11,
    "dddbd",
    *(_DWORD *)(a1 + 36),
    *(_DWORD *)(a1 + 32),
    *(_DWORD *)(a5 + 440),
    0,
    *(_DWORD *)(a1 + 52));
  CBase::Delete((volatile signed __int32 *)a1);
  return 1;
}

//----- (00428E70) --------------------------------------------------------
int __userpurge sub_428E70@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  int v7; // [esp+4h] [ebp-34h]
  int v8; // [esp+8h] [ebp-30h]
  int v9; // [esp+Ch] [ebp-2Ch]
  int v10; // [esp+10h] [ebp-28h]
  int v12; // [esp+24h] [ebp-14h]
  int v13; // [esp+2Ch] [ebp-Ch]
  int v14; // [esp+30h] [ebp-8h]
  int v15; // [esp+34h] [ebp-4h]

  if ( CItem::GetLevel(a1) < 40 || sub_425930(a1, 1) )
    return 0;
  v15 = sub_425930(a1, 64);
  if ( a6 == 10 )
  {
    if ( *((int *)a1 + 29) >= 20 || (a4 = *((_DWORD *)a1 + 29), dword_4ADC08[a4] < RandomBetween(1, 10000000)) )
    {
LABEL_18:
      if ( v15 )
      {
        CDBSocket::Write(a2, a3, a4, 21, "ddbbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), 64, 0, a6);
        sub_4262D0(a1, 64);
        CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
        result = 1;
      }
      else
      {
        if ( RandomBetween(1, 100) > 90 )
        {
          *((_DWORD *)a1 + 24) = 0;
        }
        else
        {
          v13 = RandomBetween(1, 100);
          if ( v13 <= 50 )
          {
            if ( v13 <= 20 )
              v14 = 3;
            else
              v14 = 2;
          }
          else
          {
            v14 = 1;
          }
          *((_DWORD *)a1 + 24) -= v14;
        }
        if ( *((int *)a1 + 24) <= 0 )
        {
          sub_448C90(a2, a3, a4, a5, 68, "db", *((_DWORD *)a1 + 9), 0);
          if ( *((_DWORD *)a1 + 11) )
            v10 = *(_DWORD *)(*((_DWORD *)a1 + 11) + 32);
          else
            v10 = 0;
          CDBSocket::Write(
            a2,
            a3,
            a4,
            3,
            "ddwdbddd",
            *((_DWORD *)a1 + 9),
            *((_DWORD *)a1 + 8),
            *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
            *((_DWORD *)a1 + 13),
            21,
            ((unsigned __int8)*((_DWORD *)a1 + 21) << 8) | ((unsigned __int8)*((_DWORD *)a1 + 23) << 16) | (v10 << 24),
            (unsigned __int8)*((_DWORD *)a1 + 29) | ((unsigned __int8)*((_DWORD *)a1 + 27) << 16),
            (unsigned __int8)*((_DWORD *)a1 + 30) << 24);
          v12 = 0;
          if ( *(_DWORD *)(*((_DWORD *)a1 + 10) + 72) == 3 )
          {
            if ( CItem::GetLevel(a1) >= 44 )
            {
              if ( CItem::GetLevel(a1) - 40 >= 20 )
                v9 = 20;
              else
                v9 = CItem::GetLevel(a1) - 40;
              if ( *((int *)a1 + 27) >= 10 )
                v8 = 10;
              else
                v8 = *((_DWORD *)a1 + 27);
              v12 = dword_4ADFFC[v8] + dword_4ADFA8[v9];
            }
          }
          else
          {
            if ( *((int *)a1 + 27) >= 10 )
              v7 = 10;
            else
              v7 = *((_DWORD *)a1 + 27);
            v12 = dword_4ADFFC[v7] + (*(_DWORD *)(*((_DWORD *)a1 + 10) + 112) + 1000) / 10000;
          }
          if ( v12 > 0 )
            sub_425CA0(a2, a3, a4, a5, 21, 517, 0, v12, -1);
          CBase::Delete(a1);
        }
        else
        {
          sub_448C90(a2, a3, a4, a5, 68, "db", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 24));
          CDBSocket::Write(a2, a3, a4, 18, "ddb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), *((_DWORD *)a1 + 24));
        }
        result = 1;
      }
      return result;
    }
    CDBSocket::Write(a2, a3, a4, 17, "ddbbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), 10, ++*((_DWORD *)a1 + 29), v15);
  }
  else
  {
    if ( a6 != 15 )
      return 0;
    if ( *((int *)a1 + 27) >= 20 )
      goto LABEL_18;
    a4 = *((_DWORD *)a1 + 27);
    if ( dword_4ADBA8[a4] < RandomBetween(1, 10000000) )
      goto LABEL_18;
    CDBSocket::Write(a2, a3, a4, 17, "ddbbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), a6, ++*((_DWORD *)a1 + 27), v15);
  }
  if ( v15 )
    sub_4262D0(a1, 64);
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  return 1;
}

//----- (00429290) --------------------------------------------------------
int __userpurge sub_429290@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v9; // [esp+8h] [ebp-4h]

  if ( CItem::GetLevel(a1) < 40 || sub_425930(a1, 1) )
    return 0;
  v9 = sub_425930(a1, 64);
  if ( a6 == 10 )
  {
    a1[29] = a7;
    CDBSocket::Write(a2, a3, a4, 17, "ddbbb", a1[9], a1[8], 10, a1[29], v9);
  }
  else
  {
    if ( a6 != 15 )
      return 0;
    a1[27] = a7;
    CDBSocket::Write(a2, a3, a4, 17, "ddbbb", a1[9], a1[8], 15, a1[27], v9);
  }
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  return 1;
}

//----- (00429370) --------------------------------------------------------
int __userpurge sub_429370@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8)
{
  int v9; // [esp+0h] [ebp-40h]
  int v10; // [esp+4h] [ebp-3Ch]
  int v11; // [esp+8h] [ebp-38h]
  int v12; // [esp+Ch] [ebp-34h]
  int v13; // [esp+10h] [ebp-30h]
  int v15; // [esp+18h] [ebp-28h]
  int v16; // [esp+28h] [ebp-18h]
  int i; // [esp+2Ch] [ebp-14h]
  int v18; // [esp+30h] [ebp-10h]
  int v19; // [esp+34h] [ebp-Ch]
  int v20; // [esp+3Ch] [ebp-4h]

  if ( sub_425930(a1, 1) || a6 >= 0 && a6 != 1 )
    return 0;
  if ( *((_DWORD *)a1 + 11) )
    v13 = *(_DWORD *)(*((_DWORD *)a1 + 11) + 32);
  else
    v13 = 0;
  v18 = v13;
  v19 = RandomBetween(1, 100);
  v20 = sub_425930(a1, 64);
  for ( i = 0; i < 2; ++i )
  {
    if ( v19 <= *(_DWORD *)(a7 + 4 * i) )
    {
      v18 = *(_DWORD *)(a8 + 4 * i);
      break;
    }
  }
  if ( v13 == v18 )
  {
    if ( v20 )
    {
      CDBSocket::Write(a2, a3, a4, 21, "ddbbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), 64, 0, 255);
      sub_4262D0(a1, 64);
      CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
      return 1;
    }
    *((_DWORD *)a1 + 24) -= 5;
    if ( *((int *)a1 + 24) <= 0 )
    {
      sub_448C90(a2, a3, a4, a5, 68, "db", *((_DWORD *)a1 + 9), 0);
      if ( *((_DWORD *)a1 + 11) )
        v12 = *(_DWORD *)(*((_DWORD *)a1 + 11) + 32);
      else
        v12 = 0;
      CDBSocket::Write(
        a2,
        a3,
        a4,
        3,
        "ddwdbddd",
        *((_DWORD *)a1 + 9),
        *((_DWORD *)a1 + 8),
        *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
        *((_DWORD *)a1 + 13),
        27,
        ((unsigned __int8)*((_DWORD *)a1 + 21) << 8) | ((unsigned __int8)*((_DWORD *)a1 + 23) << 16) | (v12 << 24),
        (unsigned __int8)*((_DWORD *)a1 + 29) | ((unsigned __int8)*((_DWORD *)a1 + 27) << 16),
        (unsigned __int8)*((_DWORD *)a1 + 30) << 24);
      if ( CItem::GetLevel(a1) >= 40 )
      {
        v15 = 0;
        if ( *(_DWORD *)(*((_DWORD *)a1 + 10) + 72) == 3 )
        {
          if ( CItem::GetLevel(a1) >= 44 )
          {
            if ( CItem::GetLevel(a1) - 40 >= 20 )
              v11 = 20;
            else
              v11 = CItem::GetLevel(a1) - 40;
            if ( *((int *)a1 + 27) >= 10 )
              v10 = 10;
            else
              v10 = *((_DWORD *)a1 + 27);
            v15 = dword_4ADFFC[v10] + dword_4ADFA8[v11];
          }
        }
        else
        {
          if ( *((int *)a1 + 27) >= 10 )
            v9 = 10;
          else
            v9 = *((_DWORD *)a1 + 27);
          v15 = dword_4ADFFC[v9] + (*(_DWORD *)(*((_DWORD *)a1 + 10) + 112) + 1000) / 10000;
        }
        if ( v15 > 0 )
          sub_425CA0(a2, a3, a4, a5, 21, 517, 0, v15, -1);
      }
      CBase::Delete(a1);
    }
    else
    {
      sub_448C90(a2, a3, a4, a5, 68, "db", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 24));
      CDBSocket::Write(a2, a3, a4, 18, "ddb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), *((_DWORD *)a1 + 24));
    }
  }
  else
  {
    v16 = sub_424700(v18);
    if ( !v16 )
      return 0;
    *((_DWORD *)a1 + 11) = v16;
    CDBSocket::Write(a2, a3, a4, 19, "ddbb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 8), v18, v20);
    if ( v20 )
      sub_4262D0(a1, 64);
    CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  }
  return 1;
}

//----- (00429710) --------------------------------------------------------
int __userpurge sub_429710@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+0h] [ebp-10h]
  int v8; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h]

  if ( CItem::GetLevel(a1) < 40 || dword_4BAAA0 != 2 && a1[30] >= *(_DWORD *)(a1[10] + 168) || sub_425930(a1, 65) )
    return 0;
  if ( a1[11] )
    v6 = *(_DWORD *)(a1[11] + 32);
  else
    v6 = 0;
  v8 = ((unsigned __int8)a1[21] << 8) | ((unsigned __int8)a1[23] << 16) | (v6 << 24);
  v9 = (unsigned __int8)a1[29] | ((unsigned __int8)a1[27] << 16);
  CDBSocket::Write(a2, a3, a4, 21, "ddbbwddb", a1[9], a1[8], 64, 1, *(_DWORD *)(a1[10] + 64), v8, v9, ++a1[30]);
  sub_424C30(a1, 64);
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  return 1;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00429830) --------------------------------------------------------
int __thiscall CItemDefense::GetSellMoney(_DWORD *this, int a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = *(_DWORD *)(this[10] + 112);
  if ( this[11] )
    v3 += *(_DWORD *)(this[11] + 40) * v3 / 100;
  if ( this[27] )
    v3 += 100 * this[27] * this[27] * this[27];
  if ( this[29] )
    v3 += 200 * this[29] * this[29] * this[29];
  return v3;
}

//----- (004298D0) --------------------------------------------------------
void __userpurge CItemDefense::UpgradeDestroy(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // [esp+0h] [ebp-18h]
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  BOOL v8; // [esp+Ch] [ebp-Ch]
  int v10; // [esp+14h] [ebp-4h]

  if ( *(_DWORD *)(a1[10] + 72) == 3 )
    v8 = CItem::GetLevel(a1) < 44;
  else
    v8 = CItem::GetLevel(a1) < 40;
  if ( !v8 && !sub_425930(a1, 1) && (*(int (__thiscall **)(_DWORD *, int, int))(*a1 + 88))(a1, a5, 45) )
  {
    v10 = 0;
    if ( *(_DWORD *)(a1[10] + 72) == 3 )
    {
      if ( CItem::GetLevel(a1) >= 44 )
      {
        if ( CItem::GetLevel(a1) - 40 >= 20 )
          v7 = 20;
        else
          v7 = CItem::GetLevel(a1) - 40;
        if ( (int)a1[27] >= 10 )
          v6 = 10;
        else
          v6 = a1[27];
        v10 = dword_4ADFFC[v6] + dword_4ADFA8[v7];
      }
    }
    else
    {
      if ( (int)a1[27] >= 10 )
        v5 = 10;
      else
        v5 = a1[27];
      v10 = dword_4ADFFC[v5] + (*(_DWORD *)(a1[10] + 112) + 1000) / 10000;
    }
    if ( v10 > 0 )
      sub_425CA0(a2, a3, a4, a5, 21, 517, 0, v10, -1);
    sub_4516D0(a5, a2, a3, a4, (int)a1);
  }
}

//----- (00429A30) --------------------------------------------------------
void __userpurge CItemMask::SetWearState(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( sub_425930(a1, 1) )
  {
    sub_4262D0(a1, 1);
    CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
  }
}

//----- (00429A70) --------------------------------------------------------
void __userpurge sub_429A70(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  sub_448C90(a1, a2, a3, a4, 36, "b", 109);
}

//----- (00429AA0) --------------------------------------------------------
_DWORD *__thiscall CItemMask::Init(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *result; // eax

  this[11] = 0;
  this[13] = 1;
  this[24] = 1;
  result = this;
  this[23] = 1;
  return result;
}

//----- (00429AE0) --------------------------------------------------------
void __userpurge sub_429AE0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  if ( a5[118] || *(int *)(a1[10] + 160) < 0 )
  {
    if ( sub_425930(a1, 1) )
    {
      sub_4262D0(a1, 1);
      CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
    }
  }
  else
  {
    sub_429FA0(a1, a2, a3, a4, a5, 0);
  }
}

//----- (00429B50) --------------------------------------------------------
int *__thiscall CItemStandard::ApplySpec(int *this, int a2)
{
  int *result; // eax

  result = this;
  if ( !this[31] )
  {
    CInitItem::ApplySpec(this[10], a2);
    result = this;
    this[31] = 1;
  }
  return result;
}

//----- (00429B90) --------------------------------------------------------
int *__thiscall CItemStandard::FreeSpec(int *this, int a2)
{
  int *result; // eax

  result = this;
  if ( this[31] )
  {
    CInitItem::FreeSpec(this[10], a2);
    result = this;
    this[31] = 0;
  }
  return result;
}

//----- (00429BD0) --------------------------------------------------------
void __userpurge sub_429BD0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-24h]
  int v7; // [esp-4h] [ebp-20h]

  if ( *(int *)(a1[10] + 160) < 0 )
  {
    if ( sub_425930(a1, 1) || !CChar::IsNormal(a5) || sub_40A660(a5, 512) )
      return;
    if ( sub_426320(a5, 13) )
    {
LABEL_11:
      sub_448C90(a2, a3, a4, (int)a5, 36, "b", 10);
      return;
    }
LABEL_24:
    a1[32] = GetTickCount() + 10000;
    sub_4262F0(a5, 13);
    a5[126] = (unsigned __int16)a5[126] | (*(_DWORD *)(a1[10] + 64) << 16);
    a5[257] = a1;
    a5[258] = *(_DWORD *)(a1[10] + 160);
    sub_424C30(a1, 1);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 104))(a1, a5);
    v7 = *(unsigned __int16 *)(a1[10] + 64);
    v6 = a1[9];
    v5 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 41, &unk_49AC0C, v5, v6, v7);
    CDBSocket::Write(a2, a3, a4, 4, "d", a1[9]);
    return;
  }
  if ( !a5[118] )
  {
    sub_429FA0(a1, a2, a3, a4, a5, 1);
    return;
  }
  if ( !sub_425930(a1, 1) && CChar::IsNormal(a5) && !sub_40A660(a5, 512) && (int)a5[120] >= 3 && (int)a5[127] <= 5 )
  {
    if ( sub_426320(a5, 13) )
      goto LABEL_11;
    if ( CChar::IsMState(a5, 0x2000i64) )
      sub_40A990((int)a5, a2, a3, a4, 12);
    if ( CChar::IsMState(a5, 0x1000000000i64) )
      sub_40A990((int)a5, a2, a3, a4, 40);
    if ( CChar::IsMState(a5, 1i64) )
      (*(void (__thiscall **)(_DWORD *, int, _DWORD))(*a5 + 124))(a5, 1, 0);
    goto LABEL_24;
  }
}

//----- (00429E10) --------------------------------------------------------
void __userpurge sub_429E10(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-Ch]
  int v7; // [esp-4h] [ebp-8h]

  if ( sub_425930(a1, 1) && sub_426320(a5, 13) )
  {
    if ( a1[32] <= GetTickCount() )
    {
      sub_426AA0(a5, 13);
      a5[126] = (unsigned __int16)a5[126];
      a5[257] = 0;
      a5[258] = -1;
      sub_4262D0(a1, 1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 108))(a1, a5);
      v7 = *(unsigned __int16 *)(a1[10] + 64);
      v6 = a1[9];
      v5 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, (int)a5, 42, &unk_49AC0C, v5, v6, v7);
      CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
    }
    else
    {
      sub_448C90(a2, a3, a4, (int)a5, 36, "b", 79);
    }
  }
}

//----- (00429F10) --------------------------------------------------------
int __userpurge sub_429F10@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  sub_448C90(a1, a2, a3, a5, 36, "b", 78);
  return 0;
}

//----- (00429F40) --------------------------------------------------------
BOOL __thiscall sub_429F40(_DWORD *this, int a2, int a3, int a4)
{
  BOOL result; // eax

  if ( !sub_425930(this, 1) && a4 && *(_DWORD *)(a3 + 472) == *(_DWORD *)(a4 + 472) && *(int *)(a4 + 508) < 6 )
    result = CItem::CanTrade(this, a2, a3, a4);
  else
    result = 0;
  return result;
}

//----- (00429FA0) --------------------------------------------------------
int __userpurge sub_429FA0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  int v6; // eax
  int v8; // [esp-8h] [ebp-Ch]
  int v9; // [esp-4h] [ebp-8h]

  if ( a6 && sub_425930(a1, 1) )
  {
    if ( sub_426320(a5, 13) )
      sub_426AA0(a5, 13);
    a5[126] = (unsigned __int16)a5[126];
    a5[257] = 0;
    a5[258] = -1;
    sub_4262D0(a1, 1);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 108))(a1, a5);
    v9 = *(unsigned __int16 *)(a1[10] + 64);
    v8 = a1[9];
    v6 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 42, &unk_49AC0C, v6, v8, v9);
    CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
  }
  sub_4516D0((int)a5, a2, a3, a4, (int)a1);
  sub_448C90(a2, a3, a4, (int)a5, 44, "db", a1[9], 4);
  return (*(int (__thiscall **)(_DWORD *, int))(*a1 + 92))(a1, 4);
}

//----- (0042A0B0) --------------------------------------------------------
_DWORD *__thiscall CItemOrnament::CItemOrnament(_DWORD *this, int a2)
{
  CItem::CItem(this);
  *this = &off_49AD18;
  this[10] = a2;
  return this;
}
// 49AD18: using guessed type int (__stdcall *off_49AD18)(int);

//----- (0042A0E0) --------------------------------------------------------
int __thiscall CItemOrnament::Init(_DWORD *this, int a2, int a3, int a4)
{
  int result; // eax

  result = sub_424700(a2);
  this[11] = result;
  this[13] = 1;
  return result;
}

//----- (0042A110) --------------------------------------------------------
void __userpurge sub_42A110(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v6; // [esp+4h] [ebp-4h]

  if ( sub_425930(a1, 1) )
  {
    if ( *(int *)(a1[10] + 96) >= 0 && *(_DWORD *)(a1[10] + 96) != a5[113]
      || *(_DWORD *)(a1[10] + 100) > a5[15]
      || (v6 = *(_DWORD *)(a1[10] + 72) - 2, sub_426320(a5, v6)) )
    {
      sub_4262D0(a1, 1);
      CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
    }
    else
    {
      sub_4262F0(a5, v6);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 104))(a1, a5);
    }
  }
}

//----- (0042A1C0) --------------------------------------------------------
int __userpurge sub_42A1C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  int v7; // [esp+0h] [ebp-Ch]

  if ( sub_425930((_DWORD *)a1, 1) )
  {
    sub_448C90(a2, a3, a4, a5, 36, "b", 11);
    result = 0;
  }
  else
  {
    sub_448C90(a2, a3, a4, a5, 44, "db", *(_DWORD *)(a1 + 36), a6);
    if ( *(_DWORD *)(a1 + 44) )
      v7 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v7 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a6,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | (v7 << 24),
      0,
      0);
    CBase::Delete((volatile signed __int32 *)a1);
    result = 1;
  }
  return result;
}

//----- (0042A2A0) --------------------------------------------------------
int __userpurge CItemOrnament::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+0h] [ebp-Ch]

  if ( *(_DWORD *)(a1 + 36) )
  {
    if ( *(_DWORD *)(a1 + 44) )
      v6 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v6 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a5,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | (v6 << 24),
      0,
      0);
  }
  return CBase::Delete((volatile signed __int32 *)a1);
}

//----- (0042A340) --------------------------------------------------------
BOOL __thiscall CItemOrnament::ApplySpec(int *this, int a2)
{
  BOOL result; // eax

  result = CInitItem::ApplySpec(this[10], a2);
  if ( this[11] )
    result = CPrefix::ApplySpec(this[11], a2);
  return result;
}

//----- (0042A380) --------------------------------------------------------
BOOL __thiscall sub_42A380(int *this, int a2)
{
  BOOL result; // eax

  result = CInitItem::FreeSpec(this[10], a2);
  if ( this[11] )
    result = CPrefix::FreeSpec(this[11], a2);
  return result;
}

//----- (0042A3C0) --------------------------------------------------------
void __userpurge sub_42A3C0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-10h]
  int v7; // [esp-4h] [ebp-Ch]
  int v9; // [esp+4h] [ebp-4h]

  if ( (*(int *)(a1[10] + 96) < 0 || *(_DWORD *)(a1[10] + 96) == a5[113]) && *(_DWORD *)(a1[10] + 100) <= a5[15] )
  {
    if ( !sub_425930(a1, 1) )
    {
      v9 = *(_DWORD *)(a1[10] + 72) - 2;
      if ( sub_426320(a5, v9) )
      {
        sub_448C90(a2, a3, a4, (int)a5, 36, "b", 10);
      }
      else
      {
        sub_4262F0(a5, v9);
        sub_424C30(a1, 1);
        (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 104))(a1, a5);
        v7 = *(unsigned __int16 *)(a1[10] + 64);
        v6 = a1[9];
        v5 = unknown_libname_4(a5);
        sub_448C90(a2, a3, a4, (int)a5, 41, &unk_49AC0C, v5, v6, v7);
        CDBSocket::Write(a2, a3, a4, 4, "d", a1[9]);
      }
    }
  }
  else
  {
    sub_448C90(a2, a3, a4, (int)a5, 36, "b", 12);
  }
}

//----- (0042A4D0) --------------------------------------------------------
void __userpurge sub_42A4D0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-10h]
  int v7; // [esp-4h] [ebp-Ch]
  int v9; // [esp+4h] [ebp-4h]

  if ( sub_425930(a1, 1) )
  {
    v9 = *(_DWORD *)(a1[10] + 72) - 2;
    if ( sub_426320(a5, v9) )
    {
      sub_426AA0(a5, v9);
      sub_4262D0(a1, 1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 108))(a1, a5);
      v7 = *(unsigned __int16 *)(a1[10] + 64);
      v6 = a1[9];
      v5 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, (int)a5, 42, &unk_49AC0C, v5, v6, v7);
      CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
    }
  }
}

//----- (0042A580) --------------------------------------------------------
void __userpurge sub_42A580(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v7; // [esp+0h] [ebp-10h]
  int v9; // [esp+Ch] [ebp-4h]

  v9 = a1[8];
  a1[8] = *(_DWORD *)(a5 + 444);
  if ( a6 == 10 )
    a1[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 43);
  if ( a7 )
  {
    CDBSocket::Write(a2, a3, a4, 7, "dddwbd", a1[9], v9, a1[8], *(_DWORD *)(a1[10] + 64), a6, a1[13]);
  }
  else
  {
    if ( a1[11] )
      v7 = *(_DWORD *)(a1[11] + 32);
    else
      v7 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      6,
      "dwbbdbbdb",
      a1[9],
      *(_DWORD *)(a1[10] + 64),
      v7,
      a1[12],
      a1[13],
      0,
      a1[21],
      a1[8],
      a6);
  }
}

//----- (0042A680) --------------------------------------------------------
int __userpurge sub_42A680@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v8; // [esp+0h] [ebp-Ch]

  if ( a7 + *(_DWORD *)(a1 + 52) > 0 )
    return *(_DWORD *)(a1 + 52);
  sub_448C90(a2, a3, a4, a5, 45, "ddb", *(_DWORD *)(a1 + 36), 0, a6);
  if ( a6 == 50 )
  {
    CDBSocket::Write(
      a2,
      a3,
      a4,
      7,
      "dddwbd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a5 + 444),
      0,
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      50,
      *(_DWORD *)(a1 + 52));
  }
  else
  {
    if ( *(_DWORD *)(a1 + 44) )
      v8 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
    else
      v8 = 0;
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 52),
      a6,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | (v8 << 24),
      0,
      0);
  }
  *(_DWORD *)(a1 + 52) = 0;
  CBase::Delete((volatile signed __int32 *)a1);
  return 0;
}

//----- (0042A790) --------------------------------------------------------
BOOL __thiscall CItemDefense::CanSell(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( sub_425930(this, 1) )
    result = 0;
  else
    result = CItem::CanSell(this, a2);
  return result;
}

//----- (0042A7C0) --------------------------------------------------------
BOOL __userpurge sub_42A7C0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  if ( !sub_425930(a1, 1) )
    return CItem::CanDrop(a1, a5, a6);
  sub_448C90(a2, a3, a4, a6, 36, "b", 13);
  return 0;
}

//----- (0042A810) --------------------------------------------------------
int __userpurge sub_42A810@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v7; // [esp+0h] [ebp-20h]
  __int16 v9; // [esp+8h] [ebp-18h] BYREF
  int v10; // [esp+Ah] [ebp-16h]
  char v11; // [esp+Eh] [ebp-12h]
  char v12; // [esp+Fh] [ebp-11h]
  int v13; // [esp+10h] [ebp-10h]
  char v14; // [esp+14h] [ebp-Ch]
  char v15; // [esp+15h] [ebp-Bh]
  char v16; // [esp+16h] [ebp-Ah]
  char v17; // [esp+17h] [ebp-9h]
  char v18; // [esp+18h] [ebp-8h]
  char v19; // [esp+19h] [ebp-7h]
  char v20; // [esp+1Ah] [ebp-6h]
  char v21; // [esp+1Bh] [ebp-5h]
  char v22; // [esp+1Ch] [ebp-4h]
  char v23; // [esp+1Dh] [ebp-3h]
  char v24; // [esp+1Eh] [ebp-2h]

  if ( sub_425930((_DWORD *)a1, 1) )
    return 0;
  v9 = *(_WORD *)(*(_DWORD *)(a1 + 40) + 64);
  v10 = *(_DWORD *)(a1 + 36);
  if ( *(_DWORD *)(a1 + 44) )
    v7 = *(_DWORD *)(*(_DWORD *)(a1 + 44) + 32);
  else
    LOBYTE(v7) = 0;
  v11 = v7;
  v12 = *(_BYTE *)(a1 + 48);
  v13 = *(_DWORD *)(a1 + 52);
  v14 = 0;
  v15 = 0;
  v16 = *(_BYTE *)(a1 + 84);
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v20 = 0;
  v21 = 0;
  v22 = 0;
  v23 = 0;
  v24 = 0;
  sub_452EB0(a5, a2, a3, a4, &v9, *(_DWORD *)(a1 + 36), 0);
  CDBSocket::Write(
    a2,
    a3,
    a4,
    11,
    "dddbd",
    *(_DWORD *)(a1 + 36),
    *(_DWORD *)(a1 + 32),
    *(_DWORD *)(a5 + 440),
    0,
    *(_DWORD *)(a1 + 52));
  CBase::Delete((volatile signed __int32 *)a1);
  return 1;
}

//----- (0042A910) --------------------------------------------------------
void __userpurge CItemOrnament::ForcedStorageIn(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7, int a8)
{
  LONG v8; // eax
  int v9; // [esp-24h] [ebp-34h]
  int v10; // [esp-1Ch] [ebp-2Ch]
  int v11; // [esp-18h] [ebp-28h]
  int v12; // [esp-10h] [ebp-20h]
  const char *v13; // [esp+0h] [ebp-10h]
  int v14; // [esp+4h] [ebp-Ch]

  if ( a1[11] )
    v14 = *(_DWORD *)(a1[11] + 32);
  else
    v14 = 0;
  if ( a7 )
    v13 = a7;
  else
    v13 = &Src;
  v12 = a1[21];
  v11 = a1[13];
  v10 = a1[12];
  v9 = *(_DWORD *)(a1[10] + 64);
  v8 = CItem::NewIID();
  CDBSocket::Write(a2, a3, a4, 35, "bdwbbdbbdds", a5, v8, v9, v14, v10, v11, 0, v12, a6, a8, v13);
}

//----- (0042A9B0) --------------------------------------------------------
int __userpurge sub_42A9B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8)
{
  int v9; // [esp+0h] [ebp-1Ch]
  int v11; // [esp+8h] [ebp-14h]
  int i; // [esp+Ch] [ebp-10h]
  int v13; // [esp+10h] [ebp-Ch]
  int v14; // [esp+14h] [ebp-8h]

  if ( sub_425930(a1, 1) || a6 >= 0 && a6 != 2 )
    return 0;
  if ( a1[11] )
    v9 = *(_DWORD *)(a1[11] + 32);
  else
    v9 = 0;
  v13 = v9;
  v14 = RandomBetween(1, 100);
  for ( i = 0; i < 2; ++i )
  {
    if ( v14 <= *(_DWORD *)(a7 + 4 * i) )
    {
      v13 = *(_DWORD *)(a8 + 4 * i);
      break;
    }
  }
  if ( v9 == v13 )
  {
    sub_448C90(a2, a3, a4, a5, 36, "b", 54);
  }
  else
  {
    v11 = sub_424700(v13);
    if ( !v11 )
      return 0;
    a1[11] = v11;
    CDBSocket::Write(a2, a3, a4, 19, "ddbb", a1[9], a1[8], v13, 0);
    CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 69);
  }
  return 1;
}

//----- (0042AAD0) --------------------------------------------------------
int __thiscall CItemOrnament::GetSellMoney(_DWORD *this, int a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = *(_DWORD *)(this[10] + 112);
  if ( this[11] )
    v3 += *(_DWORD *)(this[11] + 40) * v3 / 100;
  return v3;
}

//----- (0042AB20) --------------------------------------------------------
void __userpurge CItemOrnament::UpgradeDestroy(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( *(_DWORD *)(a1[10] + 64) != 596 && !sub_425930(a1, 1) )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, int))(*a1 + 88))(a1, a5, 45) )
    {
      sub_425CA0(a2, a3, a4, a5, 45, 517, 0, 1, -1);
      sub_4516D0(a5, a2, a3, a4, (int)a1);
    }
  }
}

//----- (0042ABA0) --------------------------------------------------------
_DWORD *__thiscall sub_42ABA0(_DWORD *this, int a2)
{
  CItem::CItem(this);
  *this = &off_49ADF8;
  this[10] = a2;
  return this;
}
// 49ADF8: using guessed type int (__stdcall *off_49ADF8)(int);

//----- (0042ABD0) --------------------------------------------------------
_DWORD *__userpurge sub_42ABD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_425DD0(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0042AC00) --------------------------------------------------------
int __thiscall CItem::Sum(_DWORD *this, int a2)
{
  if ( a2 <= 0 || (unsigned int)(a2 + this[13]) <= 0x7FFFFFFF )
    return a2 + this[13];
  LOG_ERR(
    "Excess of Item Num : PID(%d), Index(%d), IID(%d), Num(%d), AddNum(%d)",
    this[8],
    *(_DWORD *)(this[10] + 64),
    this[9],
    this[13],
    a2);
  return 0x7FFFFFFF;
}

//----- (0042AC70) --------------------------------------------------------
int __userpurge sub_42AC70@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // eax
  int v7; // [esp-4h] [ebp-8h]

  if ( sub_41DDC0(a1[10], a5) )
  {
    (*(void (__thiscall **)(int *, int, int, int))(*a1 + 120))(a1, a5, *(_DWORD *)(a1[10] + 156) != 0 ? 43 : 9, -1);
    if ( *(_DWORD *)(a1[10] + 172) )
    {
      v7 = *(_DWORD *)(a1[10] + 172);
      v5 = unknown_libname_4(a5);
      sub_40AD60(a2, a3, a4, a5, 50, 15, "db", v5, v7);
    }
  }
  return a1[13];
}

//----- (0042AD00) --------------------------------------------------------
_DWORD *__userpurge sub_42AD00@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v9; // [esp+4h] [ebp-4h]

  if ( a1[13] < a7 )
    EBREAK(a2, a3, a4);
  if ( a1[13] <= a7 )
  {
    a1[8] = 0;
    a1[12] |= 4u;
    sub_448C90(a2, a3, a4, a5, 44, "db", a1[9], a6);
    CDBSocket::Write(a2, a3, a4, 7, "dddwbd", a1[9], *(_DWORD *)(a5 + 444), a1[8], *(_DWORD *)(a1[10] + 64), a6, a1[13]);
    v9 = a1;
  }
  else
  {
    a1[13] -= a7;
    sub_448C90(a2, a3, a4, a5, 45, "ddb", a1[9], a1[13], a6);
    CDBSocket::Write(a2, a3, a4, 8, "ddwdb", a1[9], a1[8], *(_DWORD *)(a1[10] + 64), -a7, a6);
    v9 = CItem::CreateItem(*(_DWORD *)(a1[10] + 64), 0, a7, a1[21]);
  }
  return v9;
}

//----- (0042AE40) --------------------------------------------------------
BOOL __thiscall CItemQuest::CanMerge(_DWORD *this, _DWORD *a2)
{
  int v2; // esi
  BOOL v4; // [esp+4h] [ebp-8h]

  v4 = 0;
  if ( this[10] == a2[10] )
  {
    v2 = sub_425930(this, 136);
    if ( v2 == sub_425930(a2, 136) && (dword_4BAAA0 != 2 || this[21] == a2[21]) )
      v4 = 1;
  }
  return v4;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0042AEB0) --------------------------------------------------------
int __userpurge sub_42AEB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v7; // [esp+0h] [ebp-28h]
  LONG v9; // [esp+Ch] [ebp-1Ch] BYREF
  unsigned __int16 v10; // [esp+10h] [ebp-18h] BYREF
  LONG v11; // [esp+12h] [ebp-16h]
  __int64 v12; // [esp+16h] [ebp-12h]
  int v13; // [esp+1Eh] [ebp-Ah]
  int v14; // [esp+22h] [ebp-6h]
  char v15; // [esp+26h] [ebp-2h]

  if ( *(_DWORD *)(a1 + 52) >= a6 )
    v7 = a6;
  else
    v7 = *(_DWORD *)(a1 + 52);
  v10 = 0;
  v11 = 0;
  v12 = 0i64;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  *(_DWORD *)((char *)&v12 + 1) = *(_DWORD *)(a1 + 48) & 0x88;
  v13 = *(unsigned __int8 *)(a1 + 84);
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 40) + 92) )
  {
    *(_DWORD *)(a1 + 52) -= v7;
    if ( sub_452F90(a5, *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64), &v9, *(_DWORD *)(a1 + 48) & 0x88, *(_DWORD *)(a1 + 84)) )
    {
      v11 = v9;
      *(_DWORD *)((char *)&v12 + 2) = v7;
      CDBSocket::Write(a2, a3, a4, 11, "dddbd", v9, *(_DWORD *)(a1 + 32), *(_DWORD *)(a5 + 440), 1, v7);
      if ( *(int *)(a1 + 52) <= 0 )
        CDBSocket::Write(
          a2,
          a3,
          a4,
          3,
          "ddwdbddd",
          *(_DWORD *)(a1 + 36),
          *(_DWORD *)(a1 + 32),
          *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
          v7,
          15,
          (unsigned __int8)*(_DWORD *)(a1 + 84) << 8,
          0,
          0);
      else
        CDBSocket::Write(
          a2,
          a3,
          a4,
          8,
          "ddwdb",
          *(_DWORD *)(a1 + 36),
          *(_DWORD *)(a1 + 32),
          *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
          -v7,
          15);
    }
    else
    {
      v10 = *(_WORD *)(*(_DWORD *)(a1 + 40) + 64);
      *(_DWORD *)((char *)&v12 + 2) = v7;
      if ( *(int *)(a1 + 52) <= 0 )
      {
        v11 = *(_DWORD *)(a1 + 36);
        CDBSocket::Write(
          a2,
          a3,
          a4,
          11,
          "dddbd",
          *(_DWORD *)(a1 + 36),
          *(_DWORD *)(a1 + 32),
          *(_DWORD *)(a5 + 440),
          0,
          v7);
      }
      else
      {
        v11 = CItem::NewIID();
        CDBSocket::Write(
          a2,
          a3,
          a4,
          6,
          "dwbbdbbdb",
          v11,
          v10,
          0,
          *(_DWORD *)(a1 + 48) & 0x88 | 0x10,
          v7,
          0,
          *(_DWORD *)(a1 + 84),
          *(_DWORD *)(a5 + 440),
          15);
        CDBSocket::Write(
          a2,
          a3,
          a4,
          8,
          "ddwdb",
          *(_DWORD *)(a1 + 36),
          *(_DWORD *)(a1 + 32),
          *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
          -v7,
          15);
      }
    }
    sub_452EB0(a5, a2, a3, a4, &v10, *(_DWORD *)(a1 + 36), *(_DWORD *)(a1 + 52));
    if ( *(int *)(a1 + 52) > 0 )
      return 0;
  }
  else
  {
    v11 = *(_DWORD *)(a1 + 36);
    v10 = *(_WORD *)(*(_DWORD *)(a1 + 40) + 64);
    *(_DWORD *)((char *)&v12 + 2) = *(_DWORD *)(a1 + 52);
    sub_452EB0(a5, a2, a3, a4, &v10, *(_DWORD *)(a1 + 36), 0);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      11,
      "dddbd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(a5 + 440),
      0,
      *(_DWORD *)(a1 + 52));
  }
  CBase::Delete((volatile signed __int32 *)a1);
  return 1;
}

//----- (0042B190) --------------------------------------------------------
int __userpurge sub_42B190@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, int a7, int *a8)
{
  int result; // eax
  int v9; // [esp+0h] [ebp-10h]
  int v11; // [esp+8h] [ebp-8h]
  _DWORD *v12; // [esp+Ch] [ebp-4h]

  if ( !*(_DWORD *)(*((_DWORD *)a1 + 10) + 92) )
    return sub_425AD0(a1, a2, a3, a4, a5, a6, a7, (int)a8);
  if ( *((_DWORD *)a1 + 13) >= a6 )
    v9 = a6;
  else
    v9 = *((_DWORD *)a1 + 13);
  *((_DWORD *)a1 + 13) -= v9;
  v12 = (_DWORD *)sub_451800((int)a5, (int)a1);
  if ( v12 )
  {
    v12[13] = CItem::Sum(v12, v9);
    sub_448C90(a2, a3, a4, (int)a5, 67, "dd", v12[9], v12[13]);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      8,
      "ddwdb",
      v12[9],
      *((_DWORD *)a1 + 8),
      *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
      v9,
      15);
    *a8 = *((_DWORD *)a1 + 13);
    sub_452F60(a5, *((_DWORD *)a1 + 9), *a8);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      12,
      "ddbd",
      *((_DWORD *)a1 + 9),
      *((_DWORD *)a1 + 8),
      (*((_DWORD *)a1 + 13) <= 0) + 1,
      v9);
    CBase::Delete(a1);
    result = 0;
  }
  else if ( *((int *)a1 + 13) <= 0 )
  {
    *((_DWORD *)a1 + 13) = v9;
    result = sub_425AD0(a1, a2, a3, a4, a5, v9, a7, (int)a8);
  }
  else
  {
    v11 = *((_DWORD *)a1 + 9);
    *((_DWORD *)a1 + 9) = CItem::NewIID();
    *a8 = *((_DWORD *)a1 + 13);
    *((_DWORD *)a1 + 13) = v9;
    CItem::SendItemInfo((int)a1, a2, a3, a4, (int)a5, 66);
    CDBSocket::Write(a2, a3, a4, 12, "ddbd", v11, *((_DWORD *)a1 + 8), 1, v9);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      6,
      "dwbbdbbdb",
      *((_DWORD *)a1 + 9),
      a7,
      0,
      a1[12] & 0x88,
      v9,
      0,
      *((_DWORD *)a1 + 21),
      *((_DWORD *)a1 + 8),
      15);
    result = 1;
  }
  return result;
}

//----- (0042B3A0) --------------------------------------------------------
int __thiscall CItemGeneral::Enchant(int *this, int a2, int a3)
{
  if ( CInitItem::Enchant(this[10], a2, a3) )
    (*(void (__thiscall **)(int *, int, int, int))(*this + 120))(this, a2, 21, -1);
  return this[13];
}

//----- (0042B3E0) --------------------------------------------------------
_DWORD *__thiscall sub_42B3E0(_DWORD *this, int a2)
{
  CItem::CItem(this);
  *this = &off_49AF28;
  this[10] = a2;
  return this;
}
// 49AF28: using guessed type int (__stdcall *off_49AF28)(int);

//----- (0042B420) --------------------------------------------------------
int __stdcall sub_42B420(int a1, int a2, int a3)
{
  return 0;
}

//----- (0042B440) --------------------------------------------------------
int __userpurge sub_42B440@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v9; // [esp+8h] [ebp-4h]
  int v10; // [esp+1Ch] [ebp+10h]

  if ( !*(_DWORD *)(*((_DWORD *)a1 + 10) + 92) )
    return sub_4255D0((int)a1, a2, a3, a4, a5, a6, a7);
  v9 = *((_DWORD *)a1 + 13);
  *((_DWORD *)a1 + 13) = CItem::Sum(a1, a7);
  if ( *((int *)a1 + 13) <= 0 )
  {
    sub_448C90(a2, a3, a4, a5, 45, "ddb", *((_DWORD *)a1 + 9), 0, a6);
    if ( a6 == 50 )
      CDBSocket::Write(
        a2,
        a3,
        a4,
        7,
        "dddwbd",
        *((_DWORD *)a1 + 9),
        *(_DWORD *)(a5 + 444),
        0,
        *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
        50,
        *((_DWORD *)a1 + 13));
    else
      CDBSocket::Write(
        a2,
        a3,
        a4,
        3,
        "ddwdbddd",
        *((_DWORD *)a1 + 9),
        *((_DWORD *)a1 + 8),
        *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
        v9,
        a6,
        (unsigned __int8)*((_DWORD *)a1 + 21) << 8,
        0,
        0);
    v10 = 0;
    CBase::Delete(a1);
  }
  else
  {
    sub_448C90(a2, a3, a4, a5, 45, "ddb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 13), a6);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      8,
      "ddwdb",
      *((_DWORD *)a1 + 9),
      *((_DWORD *)a1 + 8),
      *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
      a7,
      a6);
    v10 = *((_DWORD *)a1 + 13);
  }
  return v10;
}

//----- (0042B5C0) --------------------------------------------------------
_DWORD *__thiscall sub_42B5C0(_DWORD *this, int a2)
{
  CItem::CItem(this);
  *this = &off_49B008;
  this[10] = a2;
  return this;
}
// 49B008: using guessed type int (__stdcall *off_49B008)(int);

//----- (0042B5F0) --------------------------------------------------------
BOOL __thiscall sub_42B5F0(_DWORD *this, int a2)
{
  return *(_DWORD *)(a2 + 40) == this[10];
}

//----- (0042B610) --------------------------------------------------------
int __userpurge sub_42B610@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  InterlockedExchangeAdd(&dword_4B95DC, -*(_DWORD *)(a1 + 52));
  *(_DWORD *)(a5 + 1008) = 0;
  sub_448C90(a2, a3, a4, a5, 44, "db", *(_DWORD *)(a1 + 36), a6);
  CDBSocket::Write(
    a2,
    a3,
    a4,
    3,
    "ddwdbddd",
    *(_DWORD *)(a1 + 36),
    *(_DWORD *)(a1 + 32),
    *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
    *(_DWORD *)(a1 + 52),
    a6,
    0,
    0,
    0);
  CBase::Delete((volatile signed __int32 *)a1);
  return 1;
}

//----- (0042B6B0) --------------------------------------------------------
void __userpurge sub_42B6B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  int v8; // [esp+4h] [ebp-4h]

  if ( a6 != 10 )
    InterlockedExchangeAdd(&dword_4B95DC, a1[13]);
  if ( a1[20] )
  {
    if ( a1[20] == 1 )
    {
      a5[306] += a1[13];
    }
    else if ( a1[20] == 2 )
    {
      a5[307] += a1[13];
    }
  }
  a5[252] = a1;
  v8 = a1[8];
  a1[8] = a5[111];
  if ( a6 == 10 )
    a1[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo((int)a1, a2, a3, a4, (int)a5, 43);
  if ( a7 )
    CDBSocket::Write(a2, a3, a4, 7, "dddwbd", a1[9], v8, a1[8], *(_DWORD *)(a1[10] + 64), a6, a1[13]);
  else
    CDBSocket::Write(a2, a3, a4, 6, "dwbbdbbdb", a1[9], *(_DWORD *)(a1[10] + 64), 0, a1[12], a1[13], 0, 0, a1[8], a6);
}

//----- (0042B7F0) --------------------------------------------------------
int __userpurge sub_42B7F0@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, LONG Value)
{
  int v9; // [esp+4h] [ebp-4h]

  if ( a6 != 10 && a6 != 26 && a6 != 50 && a6 != 51 && (a6 != 15 || Value < 0) )
    InterlockedExchangeAdd(&dword_4B95DC, Value);
  v9 = *((_DWORD *)a1 + 13);
  *((_DWORD *)a1 + 13) = CItem::Sum(a1, Value);
  if ( *((int *)a1 + 13) <= 0 )
  {
    *(_DWORD *)(a5 + 1008) = 0;
    sub_448C90(a2, a3, a4, a5, 45, "ddb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 13), a6);
    if ( a6 == 50 || a6 == 51 )
      CDBSocket::Write(
        a2,
        a3,
        a4,
        7,
        "dddwbd",
        *((_DWORD *)a1 + 9),
        *(_DWORD *)(a5 + 444),
        0,
        *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
        a6,
        *((_DWORD *)a1 + 13));
    else
      CDBSocket::Write(
        a2,
        a3,
        a4,
        3,
        "ddwdbddd",
        *((_DWORD *)a1 + 9),
        *((_DWORD *)a1 + 8),
        *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
        v9,
        a6,
        0,
        0,
        0);
    *((_DWORD *)a1 + 13) = 0;
    CBase::Delete(a1);
  }
  else
  {
    sub_448C90(a2, a3, a4, a5, 45, "ddb", *((_DWORD *)a1 + 9), *((_DWORD *)a1 + 13), a6);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      8,
      "ddwdb",
      *((_DWORD *)a1 + 9),
      *((_DWORD *)a1 + 8),
      *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
      Value,
      a6);
  }
  return *((_DWORD *)a1 + 13);
}

//----- (0042B980) --------------------------------------------------------
void __userpurge sub_42B980(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, _DWORD *a7, int a8, int a9, int a10)
{
  int v10; // edx
  int v12; // [esp+4h] [ebp-10h]
  CIOObject *v13; // [esp+8h] [ebp-Ch]
  CMemory **v14; // [esp+10h] [ebp-4h]

  *((_DWORD *)a1 + 14) = *(_DWORD *)(a5 + 312);
  v10 = a6[1];
  *((_DWORD *)a1 + 15) = *a6;
  *((_DWORD *)a1 + 16) = v10;
  *((_DWORD *)a1 + 17) = GetTickCount() + 180000;
  CIOObject::AddTimer(a1, a2, a3, a4, 0xEA60u, 0);
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 60))(a5) )
  {
    if ( a8 )
    {
      InterlockedExchangeAdd(&dword_4B95DC, -*((_DWORD *)a1 + 13));
      *(_DWORD *)(a5 + 1008) = 0;
      sub_448C90(a2, a3, a4, a5, 44, "db", *((_DWORD *)a1 + 9), 11);
      CDBSocket::Write(
        a2,
        a3,
        a4,
        7,
        "dddwbd",
        *((_DWORD *)a1 + 9),
        *((_DWORD *)a1 + 8),
        0,
        *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
        11,
        *((_DWORD *)a1 + 13));
    }
    else
    {
      *((_DWORD *)a1 + 8) = *(_DWORD *)(a5 + 444);
    }
  }
  else
  {
    if ( !a9 )
    {
      v13 = sub_446740(a2, a3, a4, a10);
      if ( v13 )
      {
        v12 = 0;
        if ( sub_408E10(v13, 4) )
        {
          v12 = 20;
        }
        else if ( sub_408E10(v13, 1) )
        {
          v12 = 20;
        }
        if ( v12 )
          *((_DWORD *)a1 + 13) += v12 * *((_DWORD *)a1 + 13) / 100;
        CIOObject::Release(v13, a2, a3, a4, (volatile int *)v13 + 86);
      }
    }
    *((_DWORD *)a1 + 18) = a9;
    *((_DWORD *)a1 + 19) = a10;
    CIOObject::AddTimer(a1, a2, a3, a4, 0x1D4C0u, 1);
  }
  v14 = sub_445C90(
          a2,
          a3,
          a4,
          23,
          "wdddd",
          *(_DWORD *)(*((_DWORD *)a1 + 10) + 64),
          *((_DWORD *)a1 + 7),
          *a6,
          a6[1],
          *((_DWORD *)a1 + 13));
  sub_4821F0(*(char **)(a5 + 312), a2, a3, a4, a7, (int)v14, 25);
  CIOBuffer::Release((CIOBuffer *)v14);
}

//----- (0042BB70) --------------------------------------------------------
_DWORD *__userpurge sub_42BB70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v9; // [esp+4h] [ebp-4h]

  if ( a1[13] < a7 )
    EBREAK(a2, a3, a4);
  if ( a1[13] <= a7 )
  {
    a1[8] = 0;
    a1[12] |= 4u;
    *(_DWORD *)(a5 + 1008) = 0;
    sub_448C90(a2, a3, a4, a5, 44, "db", a1[9], a6);
    CDBSocket::Write(a2, a3, a4, 7, "dddwbd", a1[9], *(_DWORD *)(a5 + 444), a1[8], *(_DWORD *)(a1[10] + 64), a6, a1[13]);
    v9 = a1;
  }
  else
  {
    a1[13] -= a7;
    sub_448C90(a2, a3, a4, a5, 45, "ddb", a1[9], a1[13], a6);
    CDBSocket::Write(a2, a3, a4, 8, "ddwdb", a1[9], a1[8], *(_DWORD *)(a1[10] + 64), -a7, a6);
    v9 = CItem::CreateItem(*(_DWORD *)(a1[10] + 64), 0, a7, -1);
  }
  return v9;
}

//----- (0042BCC0) --------------------------------------------------------
int __userpurge sub_42BCC0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v7; // [esp+0h] [ebp-24h]
  unsigned __int16 v9; // [esp+8h] [ebp-1Ch] BYREF
  LONG v10; // [esp+Ah] [ebp-1Ah]
  __int64 v11; // [esp+Eh] [ebp-16h]
  int v12; // [esp+16h] [ebp-Eh]
  int v13; // [esp+1Ah] [ebp-Ah]
  char v14; // [esp+1Eh] [ebp-6h]
  LONG v15; // [esp+20h] [ebp-4h] BYREF

  if ( *(_DWORD *)(a1 + 52) >= a6 )
    v7 = a6;
  else
    v7 = *(_DWORD *)(a1 + 52);
  *(_DWORD *)(a1 + 52) -= v7;
  v9 = 0;
  v10 = 0;
  v11 = 0i64;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  *(_DWORD *)((char *)&v11 + 1) = *(_DWORD *)(a1 + 48) & 0x88;
  if ( sub_452F90(a5, *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64), &v15, *(_DWORD *)(a1 + 48) & 0x88, 0) )
  {
    v10 = v15;
    *(_DWORD *)((char *)&v11 + 2) = v7;
    CDBSocket::Write(a2, a3, a4, 11, "dddbd", v15, *(_DWORD *)(a1 + 32), *(_DWORD *)(a5 + 440), 1, v7);
    if ( *(int *)(a1 + 52) <= 0 )
    {
      *(_DWORD *)(a5 + 1008) = 0;
      CDBSocket::Write(
        a2,
        a3,
        a4,
        3,
        "ddwdbddd",
        *(_DWORD *)(a1 + 36),
        *(_DWORD *)(a1 + 32),
        *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
        v7,
        15,
        0,
        0,
        0);
    }
    else
    {
      CDBSocket::Write(
        a2,
        a3,
        a4,
        8,
        "ddwdb",
        *(_DWORD *)(a1 + 36),
        *(_DWORD *)(a1 + 32),
        *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
        -v7,
        15);
    }
  }
  else
  {
    v9 = *(_WORD *)(*(_DWORD *)(a1 + 40) + 64);
    *(_DWORD *)((char *)&v11 + 2) = v7;
    if ( *(int *)(a1 + 52) <= 0 )
    {
      *(_DWORD *)(a5 + 1008) = 0;
      v10 = *(_DWORD *)(a1 + 36);
      CDBSocket::Write(
        a2,
        a3,
        a4,
        11,
        "dddbd",
        *(_DWORD *)(a1 + 36),
        *(_DWORD *)(a1 + 32),
        *(_DWORD *)(a5 + 440),
        0,
        v7);
    }
    else
    {
      v10 = CItem::NewIID();
      CDBSocket::Write(
        a2,
        a3,
        a4,
        6,
        "dwbbdbbdb",
        v10,
        v9,
        0,
        *(_DWORD *)(a1 + 48) & 0x88 | 0x10,
        v7,
        0,
        0,
        *(_DWORD *)(a5 + 440),
        15);
      CDBSocket::Write(
        a2,
        a3,
        a4,
        8,
        "ddwdb",
        *(_DWORD *)(a1 + 36),
        *(_DWORD *)(a1 + 32),
        *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
        -v7,
        15);
    }
  }
  sub_452EB0(a5, a2, a3, a4, &v9, *(_DWORD *)(a1 + 36), *(_DWORD *)(a1 + 52));
  if ( *(int *)(a1 + 52) > 0 )
    return 0;
  CBase::Delete((volatile signed __int32 *)a1);
  return 1;
}

//----- (0042BF20) --------------------------------------------------------
int __userpurge sub_42BF20@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, int a7, int *a8)
{
  int result; // eax
  int v9; // [esp+0h] [ebp-10h]
  int v11; // [esp+8h] [ebp-8h]
  _DWORD *v12; // [esp+Ch] [ebp-4h]

  if ( *(_DWORD *)(a1 + 52) >= a6 )
    v9 = a6;
  else
    v9 = *(_DWORD *)(a1 + 52);
  *(_DWORD *)(a1 + 52) -= v9;
  v12 = (_DWORD *)sub_451800((int)a5, a1);
  if ( v12 )
  {
    v12[13] = CItem::Sum(v12, v9);
    sub_448C90(a2, a3, a4, (int)a5, 67, "dd", v12[9], v12[13]);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      8,
      "ddwdb",
      v12[9],
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      v9,
      15);
    *a8 = *(_DWORD *)(a1 + 52);
    sub_452F60(a5, *(_DWORD *)(a1 + 36), *a8);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      12,
      "ddbd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      (*(_DWORD *)(a1 + 52) <= 0) + 1,
      v9);
    CBase::Delete((volatile signed __int32 *)a1);
    result = 0;
  }
  else
  {
    a5[252] = a1;
    if ( *(int *)(a1 + 52) <= 0 )
    {
      *(_DWORD *)(a1 + 52) = v9;
      result = sub_425AD0((_DWORD *)a1, a2, a3, a4, a5, v9, a7, (int)a8);
    }
    else
    {
      v11 = *(_DWORD *)(a1 + 36);
      *(_DWORD *)(a1 + 36) = CItem::NewIID();
      *a8 = *(_DWORD *)(a1 + 52);
      *(_DWORD *)(a1 + 52) = v9;
      CItem::SendItemInfo(a1, a2, a3, a4, (int)a5, 66);
      CDBSocket::Write(a2, a3, a4, 12, "ddbd", v11, *(_DWORD *)(a1 + 32), 1, v9);
      CDBSocket::Write(
        a2,
        a3,
        a4,
        6,
        "dwbbdbbdb",
        *(_DWORD *)(a1 + 36),
        a7,
        0,
        *(_DWORD *)(a1 + 48) & 0x88,
        v9,
        0,
        0,
        *(_DWORD *)(a1 + 32),
        15);
      result = 1;
    }
  }
  return result;
}

//----- (0042C110) --------------------------------------------------------
int __thiscall sub_42C110(_DWORD *this, int a2)
{
  if ( this[20] )
  {
    if ( this[20] == 1 )
    {
      *(_DWORD *)(a2 + 1224) += this[13];
    }
    else if ( this[20] == 2 )
    {
      *(_DWORD *)(a2 + 1228) += this[13];
    }
  }
  return sub_425C00(this, a2);
}

//----- (0042C180) --------------------------------------------------------
_DWORD *__thiscall CItemTransform::CItemTransform(_DWORD *this, int a2)
{
  CItem::CItem(this);
  *this = &off_49B0E8;
  this[10] = a2;
  this[23] = 0;
  this[24] = 0;
  this[25] = 0;
  this[26] = 0;
  return this;
}
// 49B0E8: using guessed type int (__stdcall *off_49B0E8)(int);

//----- (0042C1E0) --------------------------------------------------------
void **__thiscall sub_42C1E0(int this, void **a2, int a3)
{
  void **result; // eax

  *a2 = sub_4459A0(*a2, *(_DWORD *)(this + 36));
  *a2 = sub_42D5F0(*a2, *(_WORD *)(*(_DWORD *)(this + 40) + 64));
  *a2 = sub_417B60(*a2, 0);
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 48));
  *a2 = sub_4459A0(*a2, *(_DWORD *)(this + 96));
  *a2 = sub_417B60(*a2, *(_BYTE *)(this + 92));
  memset(*a2, 0, 0xAu);
  result = a2;
  *a2 = (char *)*a2 + 10;
  return result;
}

//----- (0042C2B0) --------------------------------------------------------
int __thiscall sub_42C2B0(int this, int a2, _BYTE **a3)
{
  int result; // eax

  *(_DWORD *)(this + 32) = a2;
  *(_DWORD *)(this + 52) = 1;
  *a3 = sub_417AF0(*a3, (_DWORD *)(this + 36));
  ++*a3;
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 48));
  *a3 = sub_417AF0(*a3, (_DWORD *)(this + 96));
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 92));
  ++*a3;
  *a3 = sub_417B10(*a3, (_BYTE *)(this + 84));
  *a3 += 8;
  result = *(_DWORD *)(this + 48) | 0x20;
  *(_DWORD *)(this + 48) = result;
  return result;
}

//----- (0042C390) --------------------------------------------------------
_DWORD *__thiscall CItemTransform::Init(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *result; // eax

  this[12] |= 0x20u;
  result = this;
  this[13] = 1;
  this[23] = 1;
  return result;
}

//----- (0042C3C0) --------------------------------------------------------
void __userpurge sub_42C3C0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  if ( sub_425930(a1, 1) )
  {
    if ( a5[15] < a1[23] || sub_426320(a5, 10) )
    {
      sub_4262D0(a1, 1);
      CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
    }
    else
    {
      sub_4262F0(a5, 10);
      a5[255] = a1;
      a5[256] = 16 * *(_DWORD *)(a1[10] + 152);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 104))(a1, a5);
    }
  }
}

//----- (0042C460) --------------------------------------------------------
int __userpurge sub_42C460@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax

  if ( sub_425930((_DWORD *)a1, 1) )
  {
    sub_448C90(a2, a3, a4, a5, 36, "b", 11);
    result = 0;
  }
  else
  {
    sub_448C90(a2, a3, a4, a5, 44, "db", *(_DWORD *)(a1 + 36), a6);
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 96),
      a6,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16),
      0,
      0);
    CBase::Delete((volatile signed __int32 *)a1);
    result = 1;
  }
  return result;
}

//----- (0042C520) --------------------------------------------------------
int __userpurge CItemTransform::Erase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( *(_DWORD *)(a1 + 36) )
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 96),
      a5,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16),
      0,
      0);
  return CBase::Delete((volatile signed __int32 *)a1);
}

//----- (0042C5A0) --------------------------------------------------------
int __thiscall CItemTransform::ApplySpec(_DWORD *this, int a2)
{
  int result; // eax
  int i; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  for ( i = 0; i <= 4; ++i )
  {
    v5 = dword_4AE050[11 * *(_DWORD *)(this[10] + 152) + i];
    if ( v5 )
      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, i, 1, this[23] / v5 + 1);
    result = i + 1;
  }
  return result;
}
// 4AE050: using guessed type int dword_4AE050[];

//----- (0042C610) --------------------------------------------------------
int __thiscall CItemTransform::FreeSpec(_DWORD *this, int a2)
{
  int result; // eax
  int i; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  for ( i = 0; i <= 4; ++i )
  {
    v5 = dword_4AE050[11 * *(_DWORD *)(this[10] + 152) + i];
    if ( v5 )
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 92))(a2, i, 0, this[23] / v5 + 1);
    result = i + 1;
  }
  return result;
}
// 4AE050: using guessed type int dword_4AE050[];

//----- (0042C680) --------------------------------------------------------
void __userpurge sub_42C680(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-Ch]
  int v7; // [esp-4h] [ebp-8h]

  if ( a5[15] >= a1[23] && !sub_425930(a1, 1) )
  {
    if ( sub_426320(a5, 10) )
    {
      sub_448C90(a2, a3, a4, (int)a5, 36, "b", 10);
    }
    else
    {
      sub_4262F0(a5, 10);
      a5[255] = a1;
      a5[256] = 16 * *(_DWORD *)(a1[10] + 152);
      sub_424C30(a1, 1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 104))(a1, a5);
      v7 = *(unsigned __int16 *)(a1[10] + 64);
      v6 = a1[9];
      v5 = unknown_libname_4(a5);
      sub_448C90(a2, a3, a4, (int)a5, 41, &unk_49AC0C, v5, v6, v7);
      CDBSocket::Write(a2, a3, a4, 4, "d", a1[9]);
    }
  }
}

//----- (0042C770) --------------------------------------------------------
void __userpurge sub_42C770(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-Ch]
  int v7; // [esp-4h] [ebp-8h]

  if ( sub_425930(a1, 1) && sub_426320(a5, 10) && !sub_40A660(a5, 512) )
  {
    sub_426AA0(a5, 10);
    a5[255] = 0;
    a5[256] = 0;
    a1[25] = 0;
    sub_4262D0(a1, 1);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 108))(a1, a5);
    v7 = *(unsigned __int16 *)(a1[10] + 64);
    v6 = a1[9];
    v5 = unknown_libname_4(a5);
    sub_448C90(a2, a3, a4, (int)a5, 42, &unk_49AC0C, v5, v6, v7);
    CDBSocket::Write(a2, a3, a4, 5, "d", a1[9]);
    CItemTransform::SaveInfo(a1, a2, a3, a4, 0);
  }
}

//----- (0042C850) --------------------------------------------------------
void __userpurge sub_42C850(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v8; // [esp+4h] [ebp-4h]

  v8 = a1[8];
  a1[8] = *(_DWORD *)(a5 + 444);
  if ( a6 == 10 )
    a1[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo((int)a1, a2, a3, a4, a5, 43);
  if ( a7 )
    CDBSocket::Write(a2, a3, a4, 7, "dddwbd", a1[9], v8, a1[8], *(_DWORD *)(a1[10] + 64), a6, a1[13]);
  else
    CDBSocket::Write(
      a2,
      a3,
      a4,
      6,
      "dwbbdbbdb",
      a1[9],
      *(_DWORD *)(a1[10] + 64),
      0,
      a1[12],
      a1[24],
      a1[23],
      a1[21],
      a1[8],
      a6);
}

//----- (0042C930) --------------------------------------------------------
int __userpurge sub_42C930@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  if ( a7 + *(_DWORD *)(a1 + 52) > 0 )
    return *(_DWORD *)(a1 + 52);
  sub_448C90(a2, a3, a4, a5, 45, "ddb", *(_DWORD *)(a1 + 36), 0, a6);
  if ( a6 == 50 )
    CDBSocket::Write(
      a2,
      a3,
      a4,
      7,
      "dddwbd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a5 + 444),
      0,
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      50,
      *(_DWORD *)(a1 + 52));
  else
    CDBSocket::Write(
      a2,
      a3,
      a4,
      3,
      "ddwdbddd",
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 32),
      *(_DWORD *)(*(_DWORD *)(a1 + 40) + 64),
      *(_DWORD *)(a1 + 96),
      a6,
      ((unsigned __int8)*(_DWORD *)(a1 + 84) << 8) | ((unsigned __int8)*(_DWORD *)(a1 + 92) << 16),
      0,
      0);
  *(_DWORD *)(a1 + 52) = 0;
  CBase::Delete((volatile signed __int32 *)a1);
  return 0;
}

//----- (0042CA30) --------------------------------------------------------
int __userpurge sub_42CA30@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  __int16 v8; // [esp+4h] [ebp-18h] BYREF
  int v9; // [esp+6h] [ebp-16h]
  char v10; // [esp+Ah] [ebp-12h]
  char v11; // [esp+Bh] [ebp-11h]
  int v12; // [esp+Ch] [ebp-10h]
  char v13; // [esp+10h] [ebp-Ch]
  char v14; // [esp+11h] [ebp-Bh]
  char v15; // [esp+12h] [ebp-Ah]
  char v16; // [esp+13h] [ebp-9h]
  char v17; // [esp+14h] [ebp-8h]
  char v18; // [esp+15h] [ebp-7h]
  char v19; // [esp+16h] [ebp-6h]
  char v20; // [esp+17h] [ebp-5h]
  char v21; // [esp+18h] [ebp-4h]
  char v22; // [esp+19h] [ebp-3h]
  char v23; // [esp+1Ah] [ebp-2h]

  if ( sub_425930((_DWORD *)a1, 1) )
    return 0;
  v8 = *(_WORD *)(*(_DWORD *)(a1 + 40) + 64);
  v9 = *(_DWORD *)(a1 + 36);
  v10 = 0;
  v11 = *(_BYTE *)(a1 + 48);
  v12 = *(_DWORD *)(a1 + 96);
  v13 = *(_BYTE *)(a1 + 92);
  v14 = 0;
  v15 = *(_BYTE *)(a1 + 84);
  v16 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v20 = 0;
  v21 = 0;
  v22 = 0;
  v23 = 0;
  sub_452EB0(a5, a2, a3, a4, &v8, *(_DWORD *)(a1 + 36), 0);
  CDBSocket::Write(
    a2,
    a3,
    a4,
    11,
    "dddbd",
    *(_DWORD *)(a1 + 36),
    *(_DWORD *)(a1 + 32),
    *(_DWORD *)(a5 + 440),
    0,
    *(_DWORD *)(a1 + 52));
  CBase::Delete((volatile signed __int32 *)a1);
  return 1;
}

//----- (0042CB10) --------------------------------------------------------
void __userpurge CItemTransform::ForcedStorageIn(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7, int a8)
{
  LONG v8; // eax
  int v9; // [esp-24h] [ebp-2Ch]
  int v10; // [esp-1Ch] [ebp-24h]
  int v11; // [esp-18h] [ebp-20h]
  int v12; // [esp-14h] [ebp-1Ch]
  int v13; // [esp-10h] [ebp-18h]
  const char *v14; // [esp+0h] [ebp-8h]

  if ( a7 )
    v14 = a7;
  else
    v14 = &Src;
  v13 = a1[21];
  v12 = a1[23];
  v11 = a1[24];
  v10 = a1[12];
  v9 = *(_DWORD *)(a1[10] + 64);
  v8 = CItem::NewIID();
  CDBSocket::Write(a2, a3, a4, 35, "bdwbbdbbdds", a5, v8, v9, 0, v10, v11, v12, v13, a6, a8, v14);
}

//----- (0042CB90) --------------------------------------------------------
void __userpurge sub_42CB90(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  int v7; // [esp+4h] [ebp-18h]
  int v8; // [esp+8h] [ebp-14h]
  int i; // [esp+Ch] [ebp-10h]
  int v10; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h]
  int v12; // [esp+18h] [ebp-4h]

  if ( a5[111] != a1[8] || !sub_425930(a1, 1) || (int)a1[23] >= 100 )
  {
    a1[25] = 0;
    return;
  }
  v12 = 1;
  if ( a6 )
  {
    if ( ++a1[25] < 0xB4u )
      return;
    a1[25] -= 180;
    v12 = 10;
    a1[24] += 10;
  }
  else
  {
    if ( (int)a5[15] > 20 )
      v12 = (a5[15] - 11) / 10 + 1;
    a1[24] += v12;
  }
  if ( a1[24] >= dword_4ADC68[a1[23]] )
  {
    if ( a5[15] <= a1[23] )
    {
      a1[24] -= v12;
      return;
    }
    a1[24] -= dword_4ADC68[a1[23]];
    v10 = a1[23];
    a1[23] = v10 + 1;
    for ( i = 0; i <= 4; ++i )
    {
      v11 = dword_4AE050[11 * *(_DWORD *)(a1[10] + 152) + i];
      if ( v11 )
      {
        v7 = v10 / v11 + 1;
        v8 = a1[23] / v11 + 1;
        if ( v8 > v7 )
          (*(void (__cdecl **)(_DWORD *, int, int, int))(*a5 + 92))(a5, i, 1, v8 - v7);
      }
    }
    CItemTransform::SaveInfo(a1, a2, a3, a4, 1);
  }
  CItem::SendItemInfo((int)a1, a2, a3, a4, (int)a5, 69);
}
// 4AE050: using guessed type int dword_4AE050[];

//----- (0042CD60) --------------------------------------------------------
void __userpurge sub_42CD60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int i; // [esp+Ch] [ebp-Ch]
  int v8; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h]

  if ( a6 >= 1 && a6 <= 40 )
  {
    v8 = *(_DWORD *)(a1 + 92);
    *(_DWORD *)(a1 + 92) = a6;
    for ( i = 0; i <= 4; ++i )
    {
      v9 = dword_4AE050[11 * *(_DWORD *)(*(_DWORD *)(a1 + 40) + 152) + i];
      if ( v9 )
      {
        if ( v8 / v9 + 1 != *(_DWORD *)(a1 + 92) / v9 + 1 )
          (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 92))(a5, i, 1, *(_DWORD *)(a1 + 92) / v9 - v8 / v9);
      }
    }
    CItem::SendItemInfo(a1, a2, a3, a4, a5, 69);
  }
}
// 4AE050: using guessed type int dword_4AE050[];

//----- (0042CE20) --------------------------------------------------------
void __userpurge CItemTransform::SaveInfo(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CDBSocket::Write(a2, a3, a4, 20, "dddbb", a1[9], a1[8], a1[24], a1[23], a5);
}

//----- (0042CE60) --------------------------------------------------------
void __userpurge sub_42CE60(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile LONG *a5, int a6)
{
  int v6; // eax
  int v7; // [esp-4h] [ebp-10h]
  int v8; // [esp+4h] [ebp-8h]

  if ( a6 <= (a1[23] - 1) / 10 )
  {
    a1[26] = a6;
    v8 = *(_DWORD *)(a1[10] + 152);
    (*(void (__cdecl **)(volatile LONG *, int, int, int))(*a5 + 96))(a5, 32, 1, dword_4AE064[11 * v8]);
    if ( a6 >= 2 )
    {
      (*(void (__cdecl **)(volatile LONG *, int, int, int, int))(*a5 + 92))(
        a5,
        15,
        1,
        dword_4AE070[11 * v8],
        dword_4AE074[11 * v8]);
      (*(void (__cdecl **)(volatile LONG *, int, int, int))(*a5 + 96))(a5, 29, 1, dword_4AE078[11 * v8]);
      if ( a6 >= 3 )
      {
        (*(void (__cdecl **)(volatile LONG *, int, int, int, int))(*a5 + 96))(
          a5,
          27,
          1,
          dword_4AE068[11 * v8],
          dword_4AE068[11 * v8]);
        (*(void (__cdecl **)(volatile LONG *, int, int, int, int))(*a5 + 96))(
          a5,
          28,
          1,
          dword_4AE06C[11 * v8],
          dword_4AE06C[11 * v8]);
      }
    }
    *((_DWORD *)a5 + 256) |= a6;
    CChar::AddGState(a5, 512);
    v7 = *((_DWORD *)a5 + 256);
    v6 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 30, "dbb", v6, 13, v7);
  }
}
// 4AE064: using guessed type int dword_4AE064[];
// 4AE068: using guessed type int dword_4AE068[];
// 4AE06C: using guessed type int dword_4AE06C[];
// 4AE070: using guessed type int dword_4AE070[];
// 4AE074: using guessed type int dword_4AE074[];

//----- (0042CFC0) --------------------------------------------------------
int __thiscall sub_42CFC0(_DWORD *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-Ch]
  int v4; // [esp+8h] [ebp-8h]

  v3 = this[26];
  this[26] = 0;
  v4 = *(_DWORD *)(this[10] + 152);
  (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 96))(a2, 32, 0, dword_4AE064[11 * v4]);
  if ( v3 >= 2 )
  {
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 92))(
      a2,
      15,
      0,
      dword_4AE070[11 * v4],
      dword_4AE074[11 * v4]);
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 96))(a2, 29, 0, dword_4AE078[11 * v4]);
    if ( v3 >= 3 )
    {
      (*(void (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 96))(
        a2,
        27,
        0,
        dword_4AE068[11 * v4],
        dword_4AE068[11 * v4]);
      (*(void (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 96))(
        a2,
        28,
        0,
        dword_4AE06C[11 * v4],
        dword_4AE06C[11 * v4]);
    }
  }
  a2[256] &= ~v3;
  return (*(int (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 512);
}
// 4AE064: using guessed type int dword_4AE064[];
// 4AE068: using guessed type int dword_4AE068[];
// 4AE06C: using guessed type int dword_4AE06C[];
// 4AE070: using guessed type int dword_4AE070[];
// 4AE074: using guessed type int dword_4AE074[];

//----- (0042D0F0) --------------------------------------------------------
_DWORD *__thiscall sub_42D0F0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_42D3F0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0042D150) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *result, const std::pair<int const ,CSocket *> *_Val)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA00((int *)this);
  v22 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)*((_DWORD *)this + 1);
  v23 = 1;
  while ( !*(_BYTE *)sub_46DDD0((int)v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_463EE0((int)v21);
    v3 = (_DWORD *)unknown_libname_21(_Val);
    v23 = sub_417820(v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)unknown_libname_21(v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA20((int)v21);
    v21 = v12;
  }
  sub_42D570(&v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_46DDE0((int)this, v17, 1, v22, _Val);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        result,
        v5,
        (const bool *)&v18);
      return result;
    }
    sub_47CBD0(&v20);
  }
  v11 = (_DWORD *)unknown_libname_21(_Val);
  v7 = unknown_libname_10(&v20);
  v8 = (_DWORD *)sub_463EE0(v7);
  if ( sub_417820(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_46DDE0((int)this, v15, v23, v22, _Val);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      result,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      result,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0042D300) --------------------------------------------------------
_DWORD *__thiscall sub_42D300(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_42D470(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0042D360) --------------------------------------------------------
_DWORD *__thiscall sub_42D360(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_42D4F0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0042D3C0) --------------------------------------------------------
BOOL __thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(std::vector<CIOSocket::CIOTimer>::const_iterator *this, const std::vector<CIOSocket::CIOTimer>::const_iterator *_Right)
{
  return (unsigned __int8)unknown_libname_25(_Right) == 0;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0042D3F0) --------------------------------------------------------
int __stdcall sub_42D3F0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_42D3F0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042D470) --------------------------------------------------------
int __stdcall sub_42D470(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_42D470(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042D4F0) --------------------------------------------------------
int __stdcall sub_42D4F0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_42D4F0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042D570) --------------------------------------------------------
void *__thiscall sub_42D570(void *this, int a2)
{
  unknown_libname_16(a2);
  return this;
}
// 4312A0: using guessed type _DWORD __stdcall unknown_libname_16(_DWORD);

//----- (0042D590) --------------------------------------------------------
int __thiscall sub_42D590(int *this)
{
  return sub_42D5B0(this);
}

//----- (0042D5B0) --------------------------------------------------------
int __thiscall sub_42D5B0(int *this)
{
  return sub_4651E0(*this);
}

//----- (0042D5D0) --------------------------------------------------------
_WORD *__cdecl sub_42D5D0(_WORD *a1, _WORD *a2)
{
  *a2 = *a1;
  return a1 + 1;
}

//----- (0042D5F0) --------------------------------------------------------
_WORD *__cdecl sub_42D5F0(_WORD *a1, __int16 a2)
{
  *a1 = a2;
  return a1 + 1;
}

//----- (0042D610) --------------------------------------------------------
void *__thiscall sub_42D610(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0042D640) --------------------------------------------------------
void *__thiscall std::_Tree_ptr<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_ptr<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(void *this, _BYTE *a2, char a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  unknown_libname_20(&a3);
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    a2,
    v4);
  unknown_libname_20(&a3);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (0042D680) --------------------------------------------------------
void *__thiscall sub_42D680(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0042D6B0) --------------------------------------------------------
void *__thiscall sub_42D6B0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0042D6E0) --------------------------------------------------------
int __thiscall sub_42D6E0(int *this)
{
  return sub_42D700(this);
}

//----- (0042D700) --------------------------------------------------------
int __thiscall sub_42D700(int *this)
{
  return sub_42D720(this);
}

//----- (0042D720) --------------------------------------------------------
int __thiscall sub_42D720(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_42D7D0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042D7D0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42D7D0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_42D0F0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0042D870) --------------------------------------------------------
int __thiscall sub_42D870(int *this)
{
  return sub_42D890(this);
}

//----- (0042D890) --------------------------------------------------------
int __thiscall sub_42D890(int *this)
{
  return sub_42D8B0(this);
}

//----- (0042D8B0) --------------------------------------------------------
int __thiscall sub_42D8B0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_42D960(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042D960) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42D960(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_42D300((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0042DA00) --------------------------------------------------------
int __thiscall sub_42DA00(int *this)
{
  return sub_42DA20(this);
}

//----- (0042DA20) --------------------------------------------------------
int __thiscall sub_42DA20(int *this)
{
  return sub_42DA40(this);
}

//----- (0042DA40) --------------------------------------------------------
int __thiscall sub_42DA40(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_42DAF0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042DAF0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42DAF0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_42D360((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0042DB90) --------------------------------------------------------
_DWORD *CGroup::Copy()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x34u);
  if ( v2 )
    v1 = CGroup::CGroup(v2);
  else
    v1 = 0;
  return v1;
}

//----- (0042DBD0) --------------------------------------------------------
_DWORD *__thiscall CGroup::CGroup(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_49B1D0;
  sub_46DA30(this + 9);
  return this;
}
// 49B1D0: using guessed type int (__stdcall *off_49B1D0)(int);

//----- (0042DC00) --------------------------------------------------------
void *__userpurge sub_42DC00@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_42DC30((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0042DC30) --------------------------------------------------------
_DWORD *__usercall sub_42DC30@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  sub_46DA60((std::vector<CSyncPacket::CElement> *)(a1 + 36));
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}

//----- (0042DC50) --------------------------------------------------------
int __thiscall CGroup::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  int v13; // [esp+0h] [ebp-58h]
  _DWORD *v14; // [esp+8h] [ebp-50h]
  char v15[4]; // [esp+10h] [ebp-48h] BYREF
  char v16[4]; // [esp+14h] [ebp-44h] BYREF
  char v17[4]; // [esp+18h] [ebp-40h] BYREF
  char v18[4]; // [esp+1Ch] [ebp-3Ch] BYREF
  char v19[4]; // [esp+20h] [ebp-38h] BYREF
  char v20[4]; // [esp+24h] [ebp-34h] BYREF
  char v21[4]; // [esp+28h] [ebp-30h] BYREF
  char v22[4]; // [esp+2Ch] [ebp-2Ch] BYREF
  int v23[4]; // [esp+30h] [ebp-28h] BYREF
  int v24; // [esp+40h] [ebp-18h] BYREF
  int v25[4]; // [esp+44h] [ebp-14h] BYREF
  char v26[4]; // [esp+54h] [ebp-4h] BYREF

  v14 = this;
  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v22);
      v14[8] = sub_40BBE0(v3);
      break;
    case 50:
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        lisp::var::pop((lisp::var *)&a3, (lisp::var *)&v24);
        sub_42DE00(v23);
        v7 = lisp::var::pop((lisp::var *)&v24, (lisp::var *)v18);
        v23[0] = sub_40BBE0(v7);
        v8 = lisp::var::pop((lisp::var *)&v24, (lisp::var *)v17);
        v23[1] = sub_40BBE0(v8);
        v9 = lisp::var::pop((lisp::var *)&v24, (lisp::var *)v16);
        v23[2] = sub_40BBE0(v9);
        if ( !(unsigned __int8)sub_402200(&v24) )
        {
          v10 = lisp::var::pop((lisp::var *)&v24, (lisp::var *)v15);
          v23[3] = sub_40BBE0(v10);
        }
        sub_42E830((int)(v14 + 9), v23);
      }
      break;
    case 52:
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        lisp::var::pop((lisp::var *)&a3, (lisp::var *)v26);
        sub_42DE40(v25, 31);
        v4 = lisp::var::pop((lisp::var *)v26, (lisp::var *)v21);
        v25[0] = sub_40BBE0(v4);
        if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
        {
          v5 = lisp::var::pop((lisp::var *)v26, (lisp::var *)v20);
          v13 = 5 * sub_40BBE0(v5);
        }
        else
        {
          v6 = lisp::var::pop((lisp::var *)v26, (lisp::var *)v19);
          v13 = sub_40BBE0(v6);
        }
        v25[3] = v13;
        sub_42E830((int)(v14 + 9), v25);
      }
      break;
    default:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      return CBase::Set(v14, a2, (int)this);
  }
  return 1;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0042DE00) --------------------------------------------------------
_DWORD *__thiscall sub_42DE00(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  this[2] = 0;
  this[3] = 1;
  return this;
}

//----- (0042DE40) --------------------------------------------------------
_DWORD *__thiscall sub_42DE40(_DWORD *this, int a2)
{
  *this = 0;
  this[1] = a2;
  this[2] = 0;
  this[3] = 1;
  return this;
}

//----- (0042DE80) --------------------------------------------------------
int __thiscall sub_42DE80(void *this)
{
  return sub_42DF50((int)this);
}

//----- (0042DEA0) --------------------------------------------------------
void __thiscall CGroup::GetItemInfo(int *this, _DWORD *a2, _DWORD *a3, _DWORD *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  _DWORD *v5; // eax
  char v7[4]; // [esp+4h] [ebp-10h] BYREF
  int v8; // [esp+8h] [ebp-Ch] BYREF
  int v9; // [esp+Ch] [ebp-8h] BYREF
  int v10; // [esp+10h] [ebp-4h]

  if ( this )
  {
    v10 = RandomBetween(1, 1000);
    sub_482CA0(this + 9, &v9);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(this + 9, v7);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
              v4) )
        break;
      v5 = (_DWORD *)sub_42EA90(&v9);
      if ( v10 <= *v5 )
      {
        *a2 = *(_DWORD *)(sub_42EA90(&v9) + 4);
        *a3 = *(_DWORD *)(sub_42EA90(&v9) + 8);
        *a4 = *(_DWORD *)(sub_42EA90(&v9) + 12);
        return;
      }
      sub_42EAB0(&v9, &v8, 0);
    }
  }
}

//----- (0042DF50) --------------------------------------------------------
int __cdecl sub_42DF50(int a1)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  char v3[8]; // [esp+0h] [ebp-10h] BYREF
  char v4[8]; // [esp+8h] [ebp-8h] BYREF

  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v3,
    (const char *const *)(a1 + 32),
    (CItem *const *)&a1);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8BB0,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v4,
    v1);
  if ( v4[4] )
    return 1;
  LOG_ERR("CItemGroup::InsertGroup() Duplicate Group. (GroupID:%d)", *(_DWORD *)(a1 + 32));
  return 0;
}
// 42DF73: variable 'v1' is possibly undefined

//----- (0042DFB0) --------------------------------------------------------
_DWORD *CItemGroup::ClearGroup()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v4; // [esp+10h] [ebp-8h] BYREF
  int v5; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8BB0,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8BB0, v3);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v5,
            v0) )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_46FA50(&v5, &v4, 0);
  }
  return sub_42E8A0(dword_4B8BB0);
}

//----- (0042E040) --------------------------------------------------------
char *sub_42E040()
{
  char *v1; // [esp+0h] [ebp-Ch]
  char *v2; // [esp+8h] [ebp-4h]

  v2 = (char *)sub_401000(0x34u);
  if ( v2 )
    v1 = sub_42E080(v2);
  else
    v1 = 0;
  return v1;
}

//----- (0042E080) --------------------------------------------------------
char *__thiscall sub_42E080(char *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_49B250;
  std::vector<CIOSocket::CIOTimer>::vector<CIOSocket::CIOTimer>((std::vector<CIOSocket::CIOTimer> *)(this + 36));
  return this;
}
// 49B250: using guessed type int (__stdcall *off_49B250)(int);

//----- (0042E0B0) --------------------------------------------------------
void *__userpurge sub_42E0B0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_42E0E0((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0042E0E0) --------------------------------------------------------
_DWORD *__usercall sub_42E0E0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  sub_43DE30((std::vector<IPAddrMask> *)(a1 + 36));
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}

//----- (0042E100) --------------------------------------------------------
int __thiscall CItemGroup::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  int v6; // eax
  _DWORD *v9; // [esp+4h] [ebp-20h]
  char v10[4]; // [esp+Ch] [ebp-18h] BYREF
  char v11[4]; // [esp+10h] [ebp-14h] BYREF
  char v12[4]; // [esp+14h] [ebp-10h] BYREF
  int v13[2]; // [esp+18h] [ebp-Ch] BYREF
  char v14[4]; // [esp+20h] [ebp-4h] BYREF

  v9 = this;
  if ( a2 == 2 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v12);
    v9[8] = sub_40BBE0(v3);
  }
  else
  {
    if ( a2 != 51 )
    {
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      return CBase::Set(v9, a2, (int)this);
    }
    while ( !(unsigned __int8)sub_402200(&a3) )
    {
      lisp::var::pop((lisp::var *)&a3, (lisp::var *)v14);
      v4 = lisp::var::pop((lisp::var *)v14, (lisp::var *)v11);
      v13[0] = sub_40BBE0(v4);
      v5 = lisp::var::pop((lisp::var *)v14, (lisp::var *)v10);
      v6 = sub_40BBE0(v5);
      v13[1] = CItemGroup::FindGroup(v6);
      sub_42E930((int)(v9 + 9), v13);
    }
  }
  return 1;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0042E1C0) --------------------------------------------------------
int __thiscall sub_42E1C0(void *this)
{
  return sub_424560((int)this);
}

//----- (0042E1E0) --------------------------------------------------------
int __stdcall CItemGroup::FindGroup(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+4h] [ebp-Ch] BYREF
  int v4; // [esp+8h] [ebp-8h]
  int v5; // [esp+Ch] [ebp-4h] BYREF

  v4 = 0;
  sub_460550(dword_4B8BB0, &v5, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8BB0, v3);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v5,
         v1) )
  {
    v4 = *(_DWORD *)(sub_43E1A0(&v5) + 4);
  }
  return v4;
}

//----- (0042E240) --------------------------------------------------------
void __thiscall CItemGroup::GetItemInfo(int *this, _DWORD *a2, _DWORD *a3, _DWORD *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  _DWORD *v5; // eax
  int v6; // eax
  char v8[4]; // [esp+4h] [ebp-10h] BYREF
  int v9; // [esp+8h] [ebp-Ch] BYREF
  int v10; // [esp+Ch] [ebp-8h] BYREF
  int v11; // [esp+10h] [ebp-4h]

  v11 = RandomBetween(1, 1000);
  sub_482CA0(this + 9, &v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(this + 9, v8);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
            v4) )
      break;
    v5 = (_DWORD *)sub_42EA90(&v10);
    if ( v11 <= *v5 )
    {
      v6 = sub_42EA90(&v10);
      CGroup::GetItemInfo(*(int **)(v6 + 4), a2, a3, a4);
      return;
    }
    sub_42EAE0(&v10, &v9, 0);
  }
}

//----- (0042E2D0) --------------------------------------------------------
int __thiscall CItemGroup::GetFirstGroup(int *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int result; // eax
  char v4[4]; // [esp+4h] [ebp-8h] BYREF
  char v5[4]; // [esp+8h] [ebp-4h] BYREF

  sub_482CA0(this + 9, v5);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(this + 9, v4);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
         v1) )
  {
    result = *(_DWORD *)(sub_42EA90(v5) + 4);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042E320) --------------------------------------------------------
void __usercall CGoods::ForcedStorageIn(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, void *Src)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  int v8; // eax
  char v9[4]; // [esp+0h] [ebp-48h] BYREF
  int v10; // [esp+4h] [ebp-44h] BYREF
  char v11[4]; // [esp+8h] [ebp-40h] BYREF
  int v12; // [esp+Ch] [ebp-3Ch] BYREF
  int v13; // [esp+10h] [ebp-38h]
  volatile signed __int32 *v14; // [esp+14h] [ebp-34h]
  int v15; // [esp+18h] [ebp-30h]
  int v16; // [esp+1Ch] [ebp-2Ch]
  int v17; // [esp+20h] [ebp-28h] BYREF
  int v18; // [esp+24h] [ebp-24h]
  char v19; // [esp+2Bh] [ebp-1Dh] BYREF
  int v20; // [esp+2Ch] [ebp-1Ch] BYREF
  __int16 v21[3]; // [esp+30h] [ebp-18h] BYREF
  char v22; // [esp+37h] [ebp-11h] BYREF
  int v23; // [esp+38h] [ebp-10h]
  unsigned __int16 v24; // [esp+3Ch] [ebp-Ch] BYREF
  int v25; // [esp+40h] [ebp-8h] BYREF
  int i; // [esp+44h] [ebp-4h]

  for ( i = 0; i < a5; ++i )
  {
    v23 = 0;
    v22 = 0;
    if ( dword_4BAAA0 )
      Src = sub_485530(a1, a2, a3, Src, "dwwbb", &v20, v21, &v24, &v19, &v22);
    else
      Src = sub_485530(a1, a2, a3, Src, "dwwb", &v20, v21, &v24, &v19);
    v12 = (unsigned __int16)v21[0];
    sub_460550(dword_4B8BBC, &v25, &v12);
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8BBC, v11);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v25,
           v6) )
    {
      v18 = *(_DWORD *)(sub_43E1A0(&v25) + 4);
      sub_482CA0((int *)(v18 + 36), &v17);
      while ( 1 )
      {
        v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(v18 + 36), v9);
        if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v17,
                v7) )
          break;
        v13 = *(_DWORD *)sub_43E1F0(&v17);
        v15 = *(_DWORD *)(sub_43E1F0(&v17) + 4);
        v8 = sub_43E1F0(&v17);
        v16 = *(_DWORD *)(v8 + 8) * v24;
        v14 = CItem::CreateItem(v13, v15, v16, -1);
        if ( v14 )
        {
          if ( v19 || v22 )
            sub_424C30(v14, 128);
          if ( *(_DWORD *)(*((_DWORD *)v14 + 10) + 92) )
          {
            (*(void (__thiscall **)(volatile signed __int32 *, int, int, const char *, int))(*v14 + 160))(
              v14,
              42,
              a4,
              &::Src,
              v20);
            CBase::Delete(v14);
          }
          else
          {
            while ( 1 )
            {
              (*(void (__thiscall **)(volatile signed __int32 *, int, int, const char *, int))(*v14 + 160))(
                v14,
                42,
                a4,
                &::Src,
                v20);
              CBase::Delete(v14);
              if ( --v16 <= 0 )
                break;
              v14 = CItem::CreateItem(v13, 0, 1, -1);
              if ( v19 || v22 )
                sub_424C30(v14, 128);
            }
          }
        }
        else
        {
          LOG_ERR(
            "CGoods::ForcedStorageIn() Can't create goods. (%d<%d> : %d %d %d)",
            (unsigned __int16)v21[0],
            v20,
            v13,
            v15,
            v16);
        }
        sub_43E210(&v17, &v10, 0);
      }
      v23 = 2;
    }
    CAuthSocket::Write(a1, a2, a3, 14, "db", v20, v23);
  }
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0042E590) --------------------------------------------------------
_DWORD *sub_42E590()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v4; // [esp+10h] [ebp-8h] BYREF
  int v5; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8BBC,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8BBC, v3);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v5,
            v0) )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_46FA50(&v5, &v4, 0);
  }
  return sub_42E9A0(dword_4B8BBC);
}

//----- (0042E620) --------------------------------------------------------
_DWORD *sub_42E620()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x34u);
  if ( v2 )
    v1 = CGoods::CGoods(v2);
  else
    v1 = 0;
  return v1;
}

//----- (0042E660) --------------------------------------------------------
_DWORD *__thiscall CGoods::CGoods(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_49B2F0;
  this[8] = 0;
  sub_43DD50(this + 9);
  return this;
}
// 49B2F0: using guessed type int (__stdcall *off_49B2F0)(int);

//----- (0042E6A0) --------------------------------------------------------
void *__userpurge sub_42E6A0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_42E6D0((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0042E6D0) --------------------------------------------------------
_DWORD *__usercall sub_42E6D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  sub_43DD80((std::vector<CIOSocket::CIOTimer> *)(a1 + 36));
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}

//----- (0042E6F0) --------------------------------------------------------
int __thiscall CGoods::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  _DWORD *v9; // [esp+4h] [ebp-28h]
  char v10[4]; // [esp+Ch] [ebp-20h] BYREF
  char v11[4]; // [esp+10h] [ebp-1Ch] BYREF
  char v12[4]; // [esp+14h] [ebp-18h] BYREF
  char v13[4]; // [esp+18h] [ebp-14h] BYREF
  int v14[3]; // [esp+1Ch] [ebp-10h] BYREF
  char v15[4]; // [esp+28h] [ebp-4h] BYREF

  v9 = this;
  if ( a2 == 2 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v13);
    v9[8] = sub_40BBE0(v3);
  }
  else
  {
    if ( a2 != 50 )
    {
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      return CBase::Set(v9, a2, (int)this);
    }
    while ( !(unsigned __int8)sub_402200(&a3) )
    {
      lisp::var::pop((lisp::var *)&a3, (lisp::var *)v15);
      v4 = lisp::var::pop((lisp::var *)v15, (lisp::var *)v12);
      v14[0] = sub_40BBE0(v4);
      v5 = lisp::var::pop((lisp::var *)v15, (lisp::var *)v11);
      v14[1] = sub_40BBE0(v5);
      v6 = lisp::var::pop((lisp::var *)v15, (lisp::var *)v10);
      v14[2] = sub_40BBE0(v6);
      sub_42EA20((int)(v9 + 9), v14);
    }
  }
  return 1;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0042E7D0) --------------------------------------------------------
int __thiscall CGoods::OnLoad(int this)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  CItem *v4; // [esp+4h] [ebp-14h] BYREF
  char v5[8]; // [esp+8h] [ebp-10h] BYREF
  char v6[8]; // [esp+10h] [ebp-8h] BYREF

  v4 = (CItem *)this;
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v5,
    (const char *const *)(this + 32),
    &v4);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8BBC,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v1);
  if ( v6[4] )
    return 1;
  LOG_ERR("CGoods::OnLoad() Duplicate Index. (Index:%d)", *(_DWORD *)(this + 32));
  return 0;
}
// 42E7FC: variable 'v1' is possibly undefined

//----- (0042E830) --------------------------------------------------------
CSyncPacket::CElement *__thiscall sub_42E830(int this, int *a2)
{
  unsigned int v2; // esi
  CSyncPacket::CElement *result; // eax
  CIOSocket::CIOTimer **v4; // eax
  int v6; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this);
  if ( v2 >= std::vector<CSyncPacket::CElement>::capacity((std::vector<CSyncPacket::CElement> *)this) )
  {
    v4 = (CIOSocket::CIOTimer **)sub_42EA00((int *)this, v7);
    result = (CSyncPacket::CElement *)sub_42EB90((int *)this, &v6, *v4, a2);
  }
  else
  {
    result = std::vector<CSyncPacket::CElement>::_Ufill(
               (std::vector<CSyncPacket::CElement> *)this,
               *(CSyncPacket::CElement **)(this + 8),
               1u,
               (const CSyncPacket::CElement *)a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (0042E8A0) --------------------------------------------------------
_DWORD *__thiscall sub_42E8A0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_42EC10(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0042E900) --------------------------------------------------------
void __thiscall std::vector<CIOSocket::CIOTimer>::vector<CIOSocket::CIOTimer>(std::vector<CIOSocket::CIOTimer> *this)
{
  std::vector<CIOSocket::CIOTimer> *v1; // [esp-4h] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer> *v2; // [esp+0h] [ebp-8h]

  v2 = this;
  v1 = this;
  unknown_libname_14(&v1);
  sub_42EE90(v2, (char)v1);
  std::vector<IPAddrMask>::_Buy(v2, 0);
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0042E930) --------------------------------------------------------
IPAddrMask *__thiscall sub_42E930(int this, int *a2)
{
  unsigned int v2; // esi
  IPAddrMask *result; // eax
  IPAddrMask **v4; // eax
  int v6; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
  if ( v2 >= std::vector<IPAddrMask>::capacity((std::vector<IPAddrMask> *)this) )
  {
    v4 = (IPAddrMask **)sub_42EA00((int *)this, v7);
    result = (IPAddrMask *)sub_42EC90((int *)this, &v6, *v4, a2);
  }
  else
  {
    result = std::vector<IPAddrMask>::_Ufill(
               (std::vector<IPAddrMask> *)this,
               *(IPAddrMask **)(this + 8),
               1u,
               (const IPAddrMask *)a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (0042E9A0) --------------------------------------------------------
_DWORD *__thiscall sub_42E9A0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_42ED10(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0042EA00) --------------------------------------------------------
void *__thiscall sub_42EA00(int *this, void *a2)
{
  sub_42D570(a2, this[2]);
  return a2;
}

//----- (0042EA20) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall sub_42EA20(int this, int *a2)
{
  unsigned int v2; // esi
  CIOSocket::CIOTimer *result; // eax
  CIOSocket::CIOTimer **v4; // eax
  int v6; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
  if ( v2 >= std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (CIOSocket::CIOTimer **)sub_42EA00((int *)this, v7);
    result = (CIOSocket::CIOTimer *)sub_42EE10((int *)this, &v6, *v4, a2);
  }
  else
  {
    result = std::vector<CIOSocket::CIOTimer>::_Ufill(
               (std::vector<CIOSocket::CIOTimer> *)this,
               *(CIOSocket::CIOTimer **)(this + 8),
               1u,
               (const CIOSocket::CIOTimer *)a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (0042EA90) --------------------------------------------------------
int __thiscall sub_42EA90(void *this)
{
  return sub_43E1F0(this);
}

//----- (0042EAB0) --------------------------------------------------------
_DWORD *__thiscall sub_42EAB0(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_42EEB0(this);
  *a2 = v4;
  return a2;
}

//----- (0042EAE0) --------------------------------------------------------
_DWORD *__thiscall sub_42EAE0(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  unknown_libname_13(this, this);
  *a2 = v4;
  return a2;
}
// 42EED0: using guessed type int __thiscall unknown_libname_13(_DWORD, _DWORD);

//----- (0042EB10) --------------------------------------------------------
int __thiscall std::vector<CSyncPacket::CElement>::capacity(std::vector<CSyncPacket::CElement> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 4;
  else
    v2 = 0;
  return v2;
}

//----- (0042EB50) --------------------------------------------------------
int __thiscall std::vector<CSyncPacket::CElement>::size(std::vector<CSyncPacket::CElement> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 2) - *((_DWORD *)this + 1)) >> 4;
  else
    v2 = 0;
  return v2;
}

//----- (0042EB90) --------------------------------------------------------
_DWORD *__thiscall sub_42EB90(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this) )
  {
    v4 = sub_482CA0(this, v11);
    v8 = sub_46E670((int *)&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_42EF40((int)this, a3, 1u, a4);
  v7 = v12;
  v5 = (int *)sub_482CA0(this, v10);
  sub_46E640(v5, a2, v7);
  return a2;
}

//----- (0042EC10) --------------------------------------------------------
int __stdcall sub_42EC10(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_42EC10(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042EC90) --------------------------------------------------------
_DWORD *__thiscall sub_42EC90(int *this, _DWORD *a2, IPAddrMask *a3, int *a4)
{
  _DWORD *v4; // eax
  int v6; // [esp-4h] [ebp-18h]
  int v7; // [esp+0h] [ebp-14h]
  char v9[4]; // [esp+8h] [ebp-Ch] BYREF
  char v10[4]; // [esp+Ch] [ebp-8h] BYREF
  int v11; // [esp+10h] [ebp-4h]

  if ( std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
  {
    v4 = sub_482CA0(this, v10);
    v7 = sub_43F2D0((int *)&a3, v4);
  }
  else
  {
    v7 = 0;
  }
  v11 = v7;
  sub_42F240((int)this, a3, 1u, a4);
  v6 = v11;
  sub_482CA0(this, v9);
  sub_42F810(a2, v6);
  return a2;
}

//----- (0042ED10) --------------------------------------------------------
int __stdcall sub_42ED10(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_42ED10(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042ED90) --------------------------------------------------------
int __thiscall std::vector<CIOSocket::CIOTimer>::capacity(std::vector<CIOSocket::CIOTimer> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) / 12;
  else
    v2 = 0;
  return v2;
}

//----- (0042EDD0) --------------------------------------------------------
int __thiscall std::vector<CIOSocket::CIOTimer>::size(std::vector<CIOSocket::CIOTimer> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 2) - *((_DWORD *)this + 1)) / 12;
  else
    v2 = 0;
  return v2;
}

//----- (0042EE10) --------------------------------------------------------
_DWORD *__thiscall sub_42EE10(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(this, v11);
    v8 = std::vector<CIOSocket::CIOTimer>::iterator::operator-((std::vector<CIOSocket::CIOTimer>::iterator *)&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_42F510((int)this, a3, 1u, a4);
  v7 = v12;
  v5 = (int *)sub_482CA0(this, v10);
  sub_42F840(v5, a2, v7);
  return a2;
}

//----- (0042EE90) --------------------------------------------------------
void *__thiscall sub_42EE90(void *this, char a2)
{
  unknown_libname_20(&a2);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (0042EEB0) --------------------------------------------------------
_DWORD *__thiscall sub_42EEB0(_DWORD *this)
{
  *this += 16;
  return this;
}

//----- (0042EEF0) --------------------------------------------------------
_DWORD *__thiscall sub_42EEF0(_DWORD *this)
{
  *this += 12;
  return this;
}

//----- (0042EF10) --------------------------------------------------------
int __stdcall sub_42EF10(int a1, int a2)
{
  return sub_46E720(a1, a2);
}

//----- (0042EF40) --------------------------------------------------------
void __thiscall sub_42EF40(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4)
{
  unsigned int v4; // esi
  CSyncPacket::CElement *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-28h]
  char *v8; // [esp+Ch] [ebp-20h]
  CMemory **v9; // [esp+10h] [ebp-1Ch]
  CSyncPacket::CElement *v10; // [esp+14h] [ebp-18h]
  unsigned int v11; // [esp+18h] [ebp-14h]
  int v12; // [esp+18h] [ebp-14h]
  int v13[4]; // [esp+1Ch] [ebp-10h] BYREF
  int v14; // [esp+38h] [ebp+Ch]

  v13[0] = *a4;
  v13[1] = a4[1];
  v13[2] = a4[2];
  v13[3] = a4[3];
  v11 = std::vector<CSyncPacket::CElement>::capacity((std::vector<CSyncPacket::CElement> *)this);
  if ( a3 )
  {
    v4 = sub_46E220((std::allocator<std::pair<unsigned __int64 const ,std::list<_tag_ChannelUserInfo *> *> > *)this);
    if ( v4 - std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 4 >= a3 )
        {
          v8 = *(char **)(this + 8);
          *(_DWORD *)(this + 8) = sub_42F970((int)&v8[-16 * a3], (int)v8, v8);
          std::copy_backward<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(
            a2,
            (CIOSocket::CIOTimer *)&v8[-16 * a3],
            (CIOSocket::CIOTimer *)v8);
          std::_Fill<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>(
            a2,
            (CIOSocket::CIOTimer *)((char *)a2 + 16 * a3),
            (const boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *)v13);
        }
        else
        {
          sub_42F970((int)a2, *(_DWORD *)(this + 8), (char *)a2 + 16 * a3);
          std::vector<CSyncPacket::CElement>::_Ufill(
            (std::vector<CSyncPacket::CElement> *)this,
            *(CSyncPacket::CElement **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 4),
            (const CSyncPacket::CElement *)v13);
          *(_DWORD *)(this + 8) += 16 * a3;
          std::_Fill<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>(
            a2,
            (boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *)(*(_DWORD *)(this + 8) - 16 * a3),
            (const boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *)v13);
        }
      }
      else
      {
        if ( sub_46E220((std::allocator<std::pair<unsigned __int64 const ,std::list<_tag_ChannelUserInfo *> *> > *)this)
           - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this) )
          v12 = a3 + std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this);
        v9 = sub_42F220(v12);
        v5 = (CSyncPacket::CElement *)sub_42F970(*(_DWORD *)(this + 4), (int)a2, v9);
        v10 = std::vector<CSyncPacket::CElement>::_Ufill(
                (std::vector<CSyncPacket::CElement> *)this,
                v5,
                a3,
                (const CSyncPacket::CElement *)v13);
        sub_42F970((int)a2, *(_DWORD *)(this + 8), v10);
        v14 = a3 + std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_42EF10(*(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 4);
        }
        *(_DWORD *)(this + 12) = &v9[4 * v12];
        *(_DWORD *)(this + 8) = &v9[4 * v14];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (0042F220) --------------------------------------------------------
CMemory **__stdcall sub_42F220(int a1)
{
  return sub_42FA20(a1);
}

//----- (0042F240) --------------------------------------------------------
void __thiscall sub_42F240(int this, IPAddrMask *a2, unsigned int a3, int *a4)
{
  int v4; // edx
  unsigned int v5; // esi
  IPAddrMask *v6; // eax
  unsigned int v7; // [esp+4h] [ebp-20h]
  _DWORD *v9; // [esp+Ch] [ebp-18h]
  CMemory **v10; // [esp+10h] [ebp-14h]
  IPAddrMask *v11; // [esp+14h] [ebp-10h]
  unsigned int v12; // [esp+18h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-Ch]
  int v14[2]; // [esp+1Ch] [ebp-8h] BYREF
  int v15; // [esp+30h] [ebp+Ch]

  v4 = a4[1];
  v14[0] = *a4;
  v14[1] = v4;
  v12 = std::vector<IPAddrMask>::capacity((std::vector<IPAddrMask> *)this);
  if ( a3 )
  {
    v5 = sub_43EE50((std::allocator<std::pair<char const * const,CItem *> > *)this);
    if ( v5 - std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) >= a3 )
    {
      if ( v12 >= a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 3 >= a3 )
        {
          v9 = *(_DWORD **)(this + 8);
          *(_DWORD *)(this + 8) = sub_46AD10((int)&v9[-2 * a3], (int)v9, v9);
          sub_43F620(a2, &v9[-2 * a3], v9);
          std::fill<IPAddrMask *,IPAddrMask>(a2, (IPAddrMask *)((char *)a2 + 8 * a3), (const IPAddrMask *)v14);
        }
        else
        {
          sub_46AD10((int)a2, *(_DWORD *)(this + 8), (char *)a2 + 8 * a3);
          std::vector<IPAddrMask>::_Ufill(
            (std::vector<IPAddrMask> *)this,
            *(IPAddrMask **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 3),
            (const IPAddrMask *)v14);
          *(_DWORD *)(this + 8) += 8 * a3;
          std::fill<IPAddrMask *,IPAddrMask>(
            a2,
            (IPAddrMask *)(*(_DWORD *)(this + 8) - 8 * a3),
            (const IPAddrMask *)v14);
        }
      }
      else
      {
        if ( sub_43EE50((std::allocator<std::pair<char const * const,CItem *> > *)this) - (v12 >> 1) >= v12 )
          v7 = v12 + (v12 >> 1);
        else
          v7 = 0;
        v13 = v7;
        if ( v7 < a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
          v13 = a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
        v10 = sub_465EE0(v13);
        v6 = (IPAddrMask *)sub_46AD10(*(_DWORD *)(this + 4), (int)a2, v10);
        v11 = std::vector<IPAddrMask>::_Ufill((std::vector<IPAddrMask> *)this, v6, a3, (const IPAddrMask *)v14);
        sub_46AD10((int)a2, *(_DWORD *)(this + 8), v11);
        v15 = a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_43EE70(*(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 3);
        }
        *(_DWORD *)(this + 12) = &v10[2 * v13];
        *(_DWORD *)(this + 8) = &v10[2 * v15];
        *(_DWORD *)(this + 4) = v10;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (0042F510) --------------------------------------------------------
void __thiscall sub_42F510(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4)
{
  unsigned int v4; // esi
  CIOSocket::CIOTimer *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-24h]
  CIOSocket::CIOTimer *v8; // [esp+Ch] [ebp-1Ch]
  CMemory **v9; // [esp+10h] [ebp-18h]
  CIOSocket::CIOTimer *v10; // [esp+14h] [ebp-14h]
  unsigned int v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+18h] [ebp-10h]
  int v13[3]; // [esp+1Ch] [ebp-Ch] BYREF
  int v14; // [esp+34h] [ebp+Ch]

  v13[0] = *a4;
  v13[1] = a4[1];
  v13[2] = a4[2];
  v11 = std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this);
  if ( a3 )
  {
    v4 = sub_43EB50((std::allocator<CIOSocket::CIOTimer> *)this);
    if ( v4 - std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) / 12 >= a3 )
        {
          v8 = *(CIOSocket::CIOTimer **)(this + 8);
          *(_DWORD *)(this + 8) = std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
                                    (CIOSocket::CIOTimer *)((char *)v8 - 12 * a3),
                                    v8,
                                    v8);
          sub_43F5E0(a2, (_DWORD *)v8 - 3 * a3, v8);
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)((char *)a2 + 12 * a3),
            (const CIOSocket::CIOTimer *)v13);
        }
        else
        {
          std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
            a2,
            *(CIOSocket::CIOTimer **)(this + 8),
            (CIOSocket::CIOTimer *)((char *)a2 + 12 * a3));
          std::vector<CIOSocket::CIOTimer>::_Ufill(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 8),
            a3 - (*(_DWORD *)(this + 8) - (int)a2) / 12,
            (const CIOSocket::CIOTimer *)v13);
          *(_DWORD *)(this + 8) += 12 * a3;
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)(*(_DWORD *)(this + 8) - 12 * a3),
            (const CIOSocket::CIOTimer *)v13);
        }
      }
      else
      {
        if ( sub_43EB50((std::allocator<CIOSocket::CIOTimer> *)this) - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
          v12 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        v9 = sub_42F7F0(v12);
        v5 = std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
               *(CIOSocket::CIOTimer **)(this + 4),
               a2,
               (CIOSocket::CIOTimer *)v9);
        v10 = std::vector<CIOSocket::CIOTimer>::_Ufill(
                (std::vector<CIOSocket::CIOTimer> *)this,
                v5,
                a3,
                (const CIOSocket::CIOTimer *)v13);
        std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(a2, *(CIOSocket::CIOTimer **)(this + 8), v10);
        v14 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          std::vector<CIOSocket::CIOTimer>::_Destroy(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 4),
            *(CIOSocket::CIOTimer **)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) / 12);
        }
        *(_DWORD *)(this + 12) = &v9[3 * v12];
        *(_DWORD *)(this + 8) = &v9[3 * v14];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (0042F7F0) --------------------------------------------------------
CMemory **__stdcall sub_42F7F0(int a1)
{
  return sub_423CC0(a1);
}

//----- (0042F810) --------------------------------------------------------
_DWORD *__stdcall sub_42F810(_DWORD *a1, int a2)
{
  *a1 = *(_DWORD *)unknown_libname_19(a2);
  return a1;
}
// 43F500: using guessed type _DWORD __stdcall unknown_libname_19(_DWORD);

//----- (0042F840) --------------------------------------------------------
_DWORD *__thiscall sub_42F840(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *this;
  *a2 = *(_DWORD *)std::vector<CIOSocket::CIOTimer>::iterator::operator+=(
                     (std::vector<CIOSocket::CIOTimer>::iterator *)&v4,
                     a3);
  return a2;
}

//----- (0042F870) --------------------------------------------------------
unsigned int __thiscall std::allocator<boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime>>::timer_base *>::bucket_type>::max_size(std::allocator<std::pair<unsigned __int64 const ,std::list<_tag_ChannelUserInfo *> *> > *this)
{
  return 0xFFFFFFF;
}

//----- (0042F8A0) --------------------------------------------------------
unsigned int __thiscall std::allocator<CIOSocket::CIOTimer>::max_size(std::allocator<CIOSocket::CIOTimer> *this)
{
  return 357913941;
}

//----- (0042F8D0) --------------------------------------------------------
std::vector<CSyncPacket::CElement>::iterator *__thiscall std::vector<CSyncPacket::CElement>::iterator::operator+=(std::vector<CSyncPacket::CElement>::iterator *this, int _Off)
{
  *(_DWORD *)this += 16 * _Off;
  return this;
}

//----- (0042F8F0) --------------------------------------------------------
int __thiscall sub_42F8F0(_DWORD *this, _DWORD *a2)
{
  return (*this - *a2) >> 4;
}

//----- (0042F910) --------------------------------------------------------
int __thiscall sub_42F910(_DWORD *this, _DWORD *a2)
{
  return (*this - *a2) / 12;
}

//----- (0042F930) --------------------------------------------------------
void *__cdecl sub_42F930(void *a1, int a2, int a3)
{
  unknown_libname_27(&a1, &a1);
  return sub_46E770(a1, a2, a3);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0042F970) --------------------------------------------------------
void *__stdcall sub_42F970(int a1, int a2, void *a3)
{
  return sub_46E7D0(a1, a2, a3);
}

//----- (0042F9A0) --------------------------------------------------------
void __cdecl std::_Fill<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>(boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *_First, boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *_Last, const boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *_Val)
{
  while ( _First != _Last )
  {
    *(_DWORD *)_First = *(_DWORD *)_Val;
    *((_DWORD *)_First + 1) = *((_DWORD *)_Val + 1);
    *((_DWORD *)_First + 2) = *((_DWORD *)_Val + 2);
    *((_DWORD *)_First + 3) = *((_DWORD *)_Val + 3);
    _First = (boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *)((char *)_First + 16);
  }
}

//----- (0042F9E0) --------------------------------------------------------
CIOSocket::CIOTimer *__cdecl std::copy_backward<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, CIOSocket::CIOTimer *_Dest)
{
  unknown_libname_27(&_First, &_Dest);
  return (CIOSocket::CIOTimer *)std::_Copy_backward_opt<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,std::forward_iterator_tag>(
                                  _First,
                                  _Last,
                                  _Dest);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0042FA20) --------------------------------------------------------
CMemory **__cdecl sub_42FA20(int a1)
{
  return sub_401000(16 * a1);
}

//----- (0042FA40) --------------------------------------------------------
void __cdecl std::_Destroy_range<CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last)
{
  unknown_libname_27(&_First, &_Last);
  std::_Destroy_range<CIOSocket::CIOTimer>((int)_First, (int)_Last);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0042FA80) --------------------------------------------------------
int __cdecl std::_Destroy_range<std::allocator<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>>(int a1, int a2)
{
  int result; // eax

  while ( a1 != a2 )
  {
    sub_441D00(a1);
    result = a1 + 16;
    a1 += 16;
  }
  return result;
}

//----- (0042FAB0) --------------------------------------------------------
_DWORD *__cdecl std::_Copy_backward_opt<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,std::forward_iterator_tag>(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  while ( a1 != a2 )
  {
    a2 -= 4;
    a3 -= 4;
    *a3 = *a2;
    a3[1] = a2[1];
    a3[2] = a2[2];
    a3[3] = a2[3];
  }
  return a3;
}

//----- (0042FAF0) --------------------------------------------------------
void __stdcall sub_42FAF0(void *a1, int a2)
{
  std::_Construct<CSyncPacket::CElement,CSyncPacket::CElement>(
    (CSyncPacket::CElement *)a1,
    (const CSyncPacket::CElement *)a2);
}

//----- (0042FB10) --------------------------------------------------------
void __cdecl std::_Construct<CIOSocket::CIOTimer,CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_Ptr, const CIOSocket::CIOTimer *_Val)
{
  _DWORD *v2; // [esp+4h] [ebp-4h]

  v2 = operator new(0xCu, _Ptr);
  if ( v2 )
  {
    *v2 = *(_DWORD *)_Val;
    v2[1] = *((_DWORD *)_Val + 1);
    v2[2] = *((_DWORD *)_Val + 2);
  }
}

//----- (0042FB60) --------------------------------------------------------
void *__thiscall sub_42FB60(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0042FBA0) --------------------------------------------------------
void *__thiscall sub_42FBA0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0042FBD0) --------------------------------------------------------
int __thiscall sub_42FBD0(int *this)
{
  return sub_42FBF0(this);
}

//----- (0042FBF0) --------------------------------------------------------
int __thiscall sub_42FBF0(int *this)
{
  return sub_42FC10(this);
}

//----- (0042FC10) --------------------------------------------------------
int __thiscall sub_42FC10(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_42FCC0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042FCC0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FCC0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_42E8A0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0042FD60) --------------------------------------------------------
int __thiscall sub_42FD60(int *this)
{
  return sub_42FD80(this);
}

//----- (0042FD80) --------------------------------------------------------
int __thiscall sub_42FD80(int *this)
{
  return sub_42FDA0(this);
}

//----- (0042FDA0) --------------------------------------------------------
int __thiscall sub_42FDA0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_42FE50(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0042FE50) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FE50(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_42E9A0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0042FEF0) --------------------------------------------------------
_DWORD *__thiscall lisp::var::operator=(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  if ( this != (_DWORD *)&unk_4B8BC8 )
  {
    result = this;
    *this = a2;
  }
  return result;
}

//----- (0042FF10) --------------------------------------------------------
int __thiscall sub_42FF10(const char **this)
{
  return strtol(this[1], 0, 0);
}

//----- (0042FF30) --------------------------------------------------------
unsigned int __thiscall sub_42FF30(const char **this)
{
  return strtoul(this[1], 0, 0);
}

//----- (0042FF50) --------------------------------------------------------
int __thiscall lisp::_cons::length(lisp::_cons *this)
{
  int v2; // eax
  int v3; // ecx
  int v4; // [esp-4h] [ebp-14h]
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h] BYREF

  v5 = 0;
  std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>((char *)this + 8);
  while ( 1 )
  {
    ++v5;
    if ( !(unsigned __int8)sub_40AFD0(&v6) )
      break;
    v2 = sub_40AFB0(&v6);
    v4 = v3;
    std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v2);
    lisp::var::operator=(&v6, v4);
  }
  return v5;
}
// 42FF94: variable 'v3' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0042FFB0) --------------------------------------------------------
_DWORD *__thiscall sub_42FFB0(_DWORD *this)
{
  sub_40B660(this);
  *this = off_49B368;
  return this;
}
// 49B368: using guessed type int (*off_49B368[10])();

//----- (0042FFE0) --------------------------------------------------------
void __thiscall CLog::CInit::~CInit(CLog::CInit *this)
{
  unsigned int i; // [esp+4h] [ebp-4h]

  for ( i = 0; i < 3; ++i )
  {
    if ( *(&Stream + i) )
      fclose(*(&Stream + i));
  }
}

//----- (00430030) --------------------------------------------------------
void __cdecl CLog::AddV(int nType, char *format, char *va)
{
  char v3[36]; // [esp+8h] [ebp-93Ch] BYREF
  char Buffer[260]; // [esp+2Ch] [ebp-918h] BYREF
  __time32_t Time; // [esp+130h] [ebp-814h] BYREF
  struct tm *Tm; // [esp+134h] [ebp-810h]
  size_t ElementCount; // [esp+138h] [ebp-80Ch]
  char Source[1024]; // [esp+13Ch] [ebp-808h] BYREF
  char v9[1028]; // [esp+53Ch] [ebp-408h] BYREF

  vsprintf(Source, format, va);
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(&unk_4B8BE8);
  CScreen::AddString((CScreen *)&unk_4B8BE8, *(&dword_4AE260 + nType), Source);
  if ( nType >= 1 )
  {
    time(&Time);
    Tm = localtime(&Time);
    if ( Time >= (unsigned int)dword_4B8BD0[nType] )
    {
      if ( *(&Stream + nType) )
        fclose(*(&Stream + nType));
      if ( nType == 1 )
        sprintf(Buffer, "MaL\\%02d%02d%02d.log", Tm->tm_year % 100, Tm->tm_mon + 1, Tm->tm_mday);
      else
        sprintf(Buffer, "MaL\\%02d%02d%02d.err.log", Tm->tm_year % 100, Tm->tm_mon + 1, Tm->tm_mday);
      qmemcpy(v3, Tm, sizeof(v3));
      Tm->tm_sec = 0;
      Tm->tm_min = 0;
      Tm->tm_hour = 0;
      dword_4B8BD0[nType] = mktime(Tm) + 86400;
      *(&Stream + nType) = fopen(Buffer, "ab");
      qmemcpy(Tm, v3, sizeof(struct tm));
    }
    ElementCount = sprintf(
                     v9,
                     "%02d/%02d/%02d %02d:%02d:%02d %s\r\n",
                     Tm->tm_year % 100,
                     Tm->tm_mon + 1,
                     Tm->tm_mday,
                     Tm->tm_hour,
                     Tm->tm_min,
                     Tm->tm_sec,
                     Source);
    if ( *(&Stream + nType) )
      fread_0(v9, 1u, ElementCount, *(&Stream + nType));
  }
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(&unk_4B8BE8);
  if ( (_UNKNOWN *)dword_4B96E8 == &unk_4B8BE8 )
    InvalidateRect(hWnd, 0, 1);
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);
// 4B96E8: using guessed type int dword_4B96E8;

//----- (00430300) --------------------------------------------------------
void __thiscall CLog::Flush(void *this)
{
  unsigned int i; // [esp+0h] [ebp-4h]

  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(&unk_4B8BE8, this);
  for ( i = 0; i < 3; ++i )
  {
    if ( *(&Stream + i) )
      fflush(*(&Stream + i));
  }
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(&unk_4B8BE8);
}
// 4302C0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD, _DWORD);
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00430360) --------------------------------------------------------
void LOG_INFO(char *format, ...)
{
  va_list va; // [esp+10h] [ebp+Ch] BYREF

  va_start(va, format);
  CLog::AddV(0, format, va);
}

//----- (00430390) --------------------------------------------------------
void LOG_NORMAL(char *format, ...)
{
  va_list va; // [esp+10h] [ebp+Ch] BYREF

  va_start(va, format);
  CLog::AddV(1, format, va);
}

//----- (004303C0) --------------------------------------------------------
void LOG_ERR(char *format, ...)
{
  va_list va; // [esp+10h] [ebp+Ch] BYREF

  va_start(va, format);
  CLog::AddV(2, format, va);
}

//----- (004303F0) --------------------------------------------------------
int sub_4303F0()
{
  int result; // eax
  char *v1; // eax
  char *v2; // eax
  char *v3; // eax
  char *v4; // eax
  char *v5; // eax
  char *v6; // eax
  char *v7; // eax
  char *v8; // eax
  size_t v9; // eax
  size_t v10; // eax
  size_t v11; // eax
  size_t v12; // eax
  const char *v13; // eax
  const char *v14; // eax
  const char *v15; // eax
  int v16; // eax
  int v17; // [esp-4h] [ebp-2F4h]
  char v18[28]; // [esp+8h] [ebp-2E8h] BYREF
  char v19[32]; // [esp+24h] [ebp-2CCh] BYREF
  int v20; // [esp+44h] [ebp-2ACh]
  char v21[8]; // [esp+50h] [ebp-2A0h] BYREF
  CHAR String[32]; // [esp+58h] [ebp-298h] BYREF
  char *Str; // [esp+78h] [ebp-278h]
  char v24[4]; // [esp+7Ch] [ebp-274h] BYREF
  struct _SYSTEM_INFO SystemInfo; // [esp+80h] [ebp-270h] BYREF
  char v26[48]; // [esp+A4h] [ebp-24Ch] BYREF
  FILE *Stream; // [esp+D4h] [ebp-21Ch]
  _DWORD v28[132]; // [esp+D8h] [ebp-218h] BYREF
  int v29; // [esp+2ECh] [ebp-4h]

  CConfig::CConfig((CConfig *)v28);
  if ( CConfig::Open(v28, "MainConfig.txt") )
  {
    GetSystemInfo(&SystemInfo);
    *(_DWORD *)dword_4B8C48 = sub_40BCB0((CConfig *)v28, "NumberOfThreads", 2 * SystemInfo.dwNumberOfProcessors);
    dword_4B8C44 = sub_40BCB0((CConfig *)v28, "MaxUser", 1000);
    dword_4B8C40 = sub_40BC80((CConfig *)v28, "ServerId");
    dword_4B8C3C = sub_40BCB0((CConfig *)v28, "AgeLimit", 18);
    v1 = (char *)CConfig::Get((CConfig *)v28, "Map", ".\\Map");
    sub_4314C0((std::string *)&unk_4B8C4C, v1);
    v2 = (char *)CConfig::Get((CConfig *)v28, "DBServer", "127.0.0.1");
    sub_4314C0((std::string *)&unk_4B8C68, v2);
    v3 = (char *)CConfig::Get((CConfig *)v28, "AuthServer", "127.0.0.1");
    sub_4314C0((std::string *)&unk_4B8C84, v3);
    v4 = (char *)CConfig::Get((CConfig *)v28, "MailServer");
    sub_4314C0((std::string *)&unk_4B8CBC, v4);
    v5 = (char *)CConfig::Get((CConfig *)v28, "MailFrom");
    sub_4314C0((std::string *)&unk_4B8CD8, v5);
    v6 = (char *)CConfig::Get((CConfig *)v28, "MailTo");
    sub_4314C0((std::string *)&unk_4B8CF4, v6);
    dword_4B8C38 = CConfig::GetTimeStamp();
    *(_DWORD *)&dword_4B8C2C = sub_40BCB0((CConfig *)v28, "Port", 30001);
    *(_DWORD *)&dword_4B8C28 = sub_40BCB0((CConfig *)v28, "DBPort", 40001);
    *(_DWORD *)&hostshort = sub_40BCB0((CConfig *)v28, "AuthPort", 50001);
    v7 = (char *)CConfig::Get((CConfig *)v28, "ODBC", "KAL");
    sub_4314C0((std::string *)&unk_4B8CA0, v7);
    dword_4B8C20 = sub_40BCB0((CConfig *)v28, "ItemVer", 1);
    dword_4BAAA0 = sub_40BCB0((CConfig *)v28, "Country", 0);
    v8 = (char *)CConfig::Get((CConfig *)v28, "Language", "LanguageM_EN.txt");
    sub_4314C0((std::string *)&unk_4B8D1C, v8);
    Str = (char *)CConfig::Get((CConfig *)v28, "Title");
    if ( *Str )
    {
      sprintf(String, "%s on port %d", Str, *(_DWORD *)&dword_4B8C2C);
      SetWindowTextA(hWnd, String);
    }
    for ( Str = (char *)CConfig::Get((CConfig *)v28, "Event", &Src); ; Str += v10 )
    {
      v9 = strspn(Str, " ,");
      Str += v9;
      if ( !*Str )
        break;
      dword_4B8C34 |= 1 << j__atol(Str);
      v10 = strcspn(Str, " ,");
    }
    for ( Str = (char *)CConfig::Get((CConfig *)v28, "System", &Src); ; Str += v12 )
    {
      v11 = strspn(Str, " ,");
      Str += v11;
      if ( !*Str )
        break;
      *(_DWORD *)dword_4B8C30 |= 1 << j__atol(Str);
      v12 = strcspn(Str, " ,");
    }
    v29 = 0;
    v13 = (const char *)sub_4012C0(&unk_4B8D1C);
    Stream = fopen(v13, "rt");
    if ( Stream )
    {
      while ( (Stream->_flag & 0x10) == 0 )
      {
        ++v29;
        if ( fscanf(Stream, "%d %[^\n]", v24, v26) < 2 )
        {
          if ( (Stream->_flag & 0x10) == 0 )
          {
            v17 = v29;
            v15 = (const char *)sub_4012C0(&unk_4B8D1C);
            LOG_ERR("Can't read '%s'. (line:%d)", v15, v17);
            fclose(Stream);
            v20 = 0;
            sub_40AE40((CConfig *)v28);
            return v20;
          }
          break;
        }
        std::string::string((std::string *)v18, v26);
        v16 = _lambda_9ab38a79c03e1e04423ad6818173354b_::_lambda_9ab38a79c03e1e04423ad6818173354b_(v24, v18);
        sub_430A30(
          dword_4B8D10,
          (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v21,
          v16);
        sub_430990((int)v19);
        sub_40E7C0((std::string *)v18);
        if ( !v21[4] )
        {
          LOG_ERR("Can't insert into LanguageMap.(index:%d, string:%s)", *(_DWORD *)v24, v26);
          fclose(Stream);
          sub_40AE40((CConfig *)v28);
          return 0;
        }
      }
      fclose(Stream);
      sub_40AE40((CConfig *)v28);
      result = 1;
    }
    else
    {
      v14 = (const char *)sub_4012C0(&unk_4B8D1C);
      LOG_ERR("Can't open '%s'", v14);
      sub_40AE40((CConfig *)v28);
      result = 0;
    }
  }
  else
  {
    sub_40AE40((CConfig *)v28);
    result = 0;
  }
  return result;
}
// 430C40: using guessed type _DWORD __stdcall _lambda_9ab38a79c03e1e04423ad6818173354b_::_lambda_9ab38a79c03e1e04423ad6818173354b_(_DWORD, _DWORD);
// 4B8C20: using guessed type int dword_4B8C20;
// 4B8C34: using guessed type int dword_4B8C34;
// 4B8C38: using guessed type int dword_4B8C38;
// 4B8C3C: using guessed type int dword_4B8C3C;
// 4B8C40: using guessed type int dword_4B8C40;
// 4B8C44: using guessed type int dword_4B8C44;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00430990) --------------------------------------------------------
void __thiscall sub_430990(int this)
{
  sub_40E7C0((std::string *)(this + 4));
}

//----- (004309B0) --------------------------------------------------------
_DWORD *sub_4309B0()
{
  return sub_430BE0(dword_4B8D10);
}

//----- (004309C0) --------------------------------------------------------
const char *__cdecl GetStr(int nIndex)
{
  void *v1; // eax
  const char *result; // eax
  int v3; // eax
  char v4[4]; // [esp+0h] [ebp-8h] BYREF
  int v5; // [esp+4h] [ebp-4h] BYREF

  sub_461380(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8D10,
    &v5,
    &nIndex);
  v1 = sub_482CA0(dword_4B8D10, v4);
  if ( (unsigned __int8)unknown_libname_25(v1) )
  {
    LOG_ERR("Can't find words in LanguageMap. (index:%d)", nIndex);
    result = &Src;
  }
  else
  {
    v3 = sub_43E1A0(&v5);
    result = (const char *)sub_4012C0((void *)(v3 + 4));
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00430A30) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_430A30(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, int a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_41BA00(this);
  v22 = this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_463D30(v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_463EE0(v21);
    v3 = (_DWORD *)unknown_libname_21(a3);
    v23 = sub_417820(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)unknown_libname_21(v21);
    else
      v12 = *(_DWORD *)sub_41BA20(v21);
    v21 = v12;
  }
  sub_42D570(&v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_430D20(this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_465130(&v20);
  }
  v11 = (_DWORD *)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (_DWORD *)sub_463EE0(v7);
  if ( sub_417820(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_430D20(this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00430BE0) --------------------------------------------------------
_DWORD *__thiscall sub_430BE0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_430CA0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00430C70) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result)
{
  int *v2; // eax

  v2 = (int *)sub_4653C0(this);
  sub_42D570(result, *v2);
  return result;
}

//----- (00430CA0) --------------------------------------------------------
int __stdcall sub_430CA0(void *a1)
{
  char *i; // eax
  int result; // eax
  void **v3; // eax
  void *v4; // [esp+4h] [ebp-4h]

  v4 = a1;
  for ( i = (char *)sub_463D30((int)a1); ; i = (char *)sub_463D30((int)v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (void **)sub_41BA20((int)v4);
    sub_430CA0(*v3);
    v4 = *(void **)unknown_libname_21(v4);
    sub_431280(a1);
    sub_441930(a1, 1);
    a1 = v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00430D20) --------------------------------------------------------
void *__thiscall sub_430D20(int *this, void *a2, char a3, int a4, int a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  _DWORD *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  char v42[28]; // [esp+8h] [ebp-48h] BYREF
  char v43[36]; // [esp+24h] [ebp-2Ch] BYREF
  CMemory **v44; // [esp+48h] [ebp-8h]
  CMemory **v45; // [esp+4Ch] [ebp-4h]
  int v46; // [esp+60h] [ebp+10h]

  if ( sub_466B30() - 1 <= (unsigned int)this[2] )
  {
    std::string::string((std::string *)v42, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)v43, (const std::string *)v42);
    sub_40E570(v5);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v43);
    sub_40E7C0((std::string *)v42);
  }
  v45 = sub_431200(this[1], a4, this[1], a5, 0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_41BA00(this);
    *v6 = v45;
    v7 = (CMemory ***)sub_4653C0(this);
    *v7 = v45;
    v8 = (CMemory ***)sub_465270(this);
    *v8 = v45;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)unknown_libname_21(a4);
    *v9 = v45;
    if ( a4 == *(_DWORD *)sub_4653C0(this) )
    {
      v10 = (CMemory ***)sub_4653C0(this);
      *v10 = v45;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_41BA20(a4);
    *v11 = v45;
    if ( a4 == *(_DWORD *)sub_465270(this) )
    {
      v12 = (CMemory ***)sub_465270(this);
      *v12 = v45;
    }
  }
  v44 = v45;
  while ( 1 )
  {
    v13 = (int *)sub_465290((int)v44);
    if ( *(_BYTE *)sub_431160(*v13) )
      break;
    v14 = (_DWORD *)sub_465290((int)v44);
    v15 = (int *)sub_465290((int)v44);
    v16 = (_DWORD *)sub_465290(*v15);
    if ( *v14 == *(_DWORD *)unknown_libname_21(*v16) )
    {
      v17 = (int *)sub_465290((int)v44);
      v18 = (int *)sub_465290(*v17);
      v46 = *(_DWORD *)sub_41BA20(*v18);
      if ( !*(_BYTE *)sub_431160(v46) )
        goto LABEL_15;
      v23 = (int *)sub_465290((int)v44);
      v24 = (CMemory ***)sub_41BA20(*v23);
      if ( v44 == *v24 )
      {
        v44 = *(CMemory ***)sub_465290((int)v44);
        sub_463480(this, (int)v44);
      }
      v25 = (int *)sub_465290((int)v44);
      *(_BYTE *)sub_431160(*v25) = 1;
      v26 = (int *)sub_465290((int)v44);
      v27 = (int *)sub_465290(*v26);
      *(_BYTE *)sub_431160(*v27) = 0;
      v28 = (int *)sub_465290((int)v44);
      v29 = (int *)sub_465290(*v28);
      sub_467F40(this, *v29);
    }
    else
    {
      v30 = (int *)sub_465290((int)v44);
      v31 = (_DWORD *)sub_465290(*v30);
      v46 = *(_DWORD *)unknown_libname_21(*v31);
      if ( *(_BYTE *)sub_431160(v46) )
      {
        v32 = (_DWORD *)sub_465290((int)v44);
        v33 = (CMemory ***)unknown_libname_21(*v32);
        if ( v44 == *v33 )
        {
          v44 = *(CMemory ***)sub_465290((int)v44);
          sub_467F40(this, (int)v44);
        }
        v34 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_431160(*v34) = 1;
        v35 = (int *)sub_465290((int)v44);
        v36 = (int *)sub_465290(*v35);
        *(_BYTE *)sub_431160(*v36) = 0;
        v37 = (int *)sub_465290((int)v44);
        v38 = (int *)sub_465290(*v37);
        sub_463480(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_431160(*v19) = 1;
        *(_BYTE *)sub_431160(v46) = 1;
        v20 = (int *)sub_465290((int)v44);
        v21 = (int *)sub_465290(*v20);
        *(_BYTE *)sub_431160(*v21) = 0;
        v22 = (int *)sub_465290((int)v44);
        v44 = *(CMemory ***)sub_465290(*v22);
      }
    }
  }
  v39 = (int *)sub_41BA00(this);
  *(_BYTE *)sub_431160(*v39) = 1;
  sub_42D570(a2, (int)v45);
  return a2;
}
// 430D58: variable 'v5' is possibly undefined
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00431160) --------------------------------------------------------
int __cdecl sub_431160(int a1)
{
  return a1 + 44;
}

//----- (00431170) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Lbound(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00((int *)this);
  v6 = *((_DWORD *)this + 1);
  while ( !*(_BYTE *)sub_463D30(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(v2, _Keyval) )
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
  }
  return (std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *)v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00431200) --------------------------------------------------------
CMemory **__stdcall sub_431200(int a1, int a2, int a3, int a4, char a5)
{
  void *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_4312C0(1);
  v6 = operator new(0x30u, v7);
  if ( v6 )
    std::_Tree_nod<std::_Tmap_traits<std::string,void *,std::less<std::string>,std::allocator<std::pair<std::string const,void *>>,0>>::_Node::_Node(
      v6,
      a1,
      a2,
      a3,
      a4,
      a5);
  return v7;
}

//----- (00431280) --------------------------------------------------------
void __stdcall sub_431280(void *a1)
{
  __ExceptionPtrDestroy(a1);
}

//----- (004312C0) --------------------------------------------------------
CMemory **__stdcall sub_4312C0(int a1)
{
  return sub_431450(a1);
}

//----- (004312E0) --------------------------------------------------------
int __thiscall sub_4312E0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_463D30(*this) )
  {
    result = *(_DWORD *)sub_41BA20(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)unknown_libname_21(*this);
    if ( *(_BYTE *)sub_463D30(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        if ( *(_BYTE *)sub_463D30(v5) || *this != *(_DWORD *)unknown_libname_21(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_463D30(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)unknown_libname_21(*this);
      result = sub_4699D0(*v3);
      *this = result;
    }
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004313C0) --------------------------------------------------------
void *__thiscall std::_Tree_nod<std::_Tmap_traits<std::string,void *,std::less<std::string>,std::allocator<std::pair<std::string const,void *>>,0>>::_Node::_Node(void *this, int a2, int a3, int a4, int a5, char a6)
{
  *(_DWORD *)this = a2;
  *((_DWORD *)this + 1) = a3;
  *((_DWORD *)this + 2) = a4;
  std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>(
    (char *)this + 12,
    a5);
  *((_BYTE *)this + 44) = a6;
  *((_BYTE *)this + 45) = 0;
  return this;
}

//----- (00431410) --------------------------------------------------------
char *__thiscall std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>(char *this, int a2)
{
  *(_DWORD *)this = *(_DWORD *)a2;
  std::string::string((std::string *)(this + 4), (const std::string *)(a2 + 4));
  return this;
}

//----- (00431450) --------------------------------------------------------
CMemory **__cdecl sub_431450(int a1)
{
  return sub_401000(48 * a1);
}

//----- (00431470) --------------------------------------------------------
void *__thiscall sub_431470(void *this, char a2)
{
  sub_4314A0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004314A0) --------------------------------------------------------
void __thiscall sub_4314A0(void *this)
{
  sub_430990((int)this + 12);
}

//----- (004314C0) --------------------------------------------------------
std::string *__thiscall sub_4314C0(std::string *this, char *Str)
{
  return std::string::assign(this, Str);
}

//----- (004314E0) --------------------------------------------------------
void __thiscall std::string::string(std::string *this)
{
  std::string *v1; // [esp-4h] [ebp-Ch] BYREF
  std::string *v2; // [esp+0h] [ebp-8h]

  v2 = this;
  v1 = this;
  unknown_libname_14(&v1);
  sub_42EE90(v2, (char)v1);
  std::string::_Tidy(v2, 0, 0);
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00431510) --------------------------------------------------------
void *__thiscall sub_431510(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_431540(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00431540) --------------------------------------------------------
void *__thiscall sub_431540(void *this, _BYTE *a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  unknown_libname_20(a3);
  std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    a2,
    v4);
  sub_431580((int *)this);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (00431580) --------------------------------------------------------
int *__thiscall sub_431580(int *this)
{
  int *result; // eax

  this[1] = (int)sub_469AE0();
  *(_BYTE *)sub_463D30(this[1]) = 1;
  *(_DWORD *)sub_41BA00(this) = this[1];
  *(_DWORD *)sub_4653C0(this) = this[1];
  *(_DWORD *)sub_465270(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (004315F0) --------------------------------------------------------
int __thiscall sub_4315F0(int *this)
{
  return sub_431610(this);
}

//----- (00431610) --------------------------------------------------------
int __thiscall sub_431610(int *this)
{
  return sub_431630(this);
}

//----- (00431630) --------------------------------------------------------
int __thiscall sub_431630(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4316E0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004316E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4316E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_430BE0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_431F10(&a3, &v10, 0);
      sub_431780((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00431780) --------------------------------------------------------
_DWORD *__thiscall sub_431780(int *this, _DWORD *a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  void **v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  _DWORD v52[9]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_10(&a3);
  if ( *(_BYTE *)sub_463D30(v3) )
  {
    std::string::string((std::string *)v51, "invalid map/set<T> iterator");
    v4 = sub_410270(v52, (const std::string *)v51);
    sub_40E570(v4);
    sub_4102A0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v52);
    sub_40E7C0((std::string *)v51);
  }
  v56 = (void *)unknown_libname_10(&a3);
  sub_465110(&a3);
  v54 = v56;
  v5 = (int *)unknown_libname_21(v56);
  if ( *(_BYTE *)sub_463D30(*v5) )
  {
    v55 = *(void **)sub_41BA20((int)v54);
  }
  else
  {
    v6 = (int *)sub_41BA20((int)v54);
    if ( *(_BYTE *)sub_463D30(*v6) )
    {
      v55 = *(void **)unknown_libname_21(v54);
    }
    else
    {
      v54 = (void *)unknown_libname_10(&a3);
      v55 = *(void **)sub_41BA20((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_465290((int)v56);
    if ( !*(_BYTE *)sub_463D30((int)v55) )
    {
      v7 = (_DWORD *)sub_465290((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_41BA00(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_41BA00(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)unknown_libname_21(v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)unknown_libname_21(v53);
      else
        v11 = (_DWORD *)sub_41BA20((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_4653C0(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_463D30((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_469A10((int)v55);
      *(_DWORD *)sub_4653C0(this) = v49;
    }
    v13 = (void **)sub_465270(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_463D30((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_4699D0((int)v55);
      *(_DWORD *)sub_465270(this) = v48;
    }
  }
  else
  {
    v14 = (int *)unknown_libname_21(v56);
    v15 = (_DWORD *)sub_465290(*v14);
    *v15 = v54;
    v16 = (_DWORD *)unknown_libname_21(v56);
    *(_DWORD *)unknown_libname_21(v54) = *v16;
    v17 = (void **)sub_41BA20((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_465290((int)v54);
      if ( !*(_BYTE *)sub_463D30((int)v55) )
      {
        v18 = (_DWORD *)sub_465290((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)unknown_libname_21(v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_41BA20((int)v56);
      *(_DWORD *)sub_41BA20((int)v54) = *v20;
      v21 = (int *)sub_41BA20((int)v56);
      v22 = (_DWORD *)sub_465290(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_41BA00(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_41BA00(this);
      *v24 = v54;
    }
    else
    {
      v25 = (_DWORD *)sub_465290((int)v56);
      v26 = (void **)unknown_libname_21(*v25);
      if ( *v26 == v56 )
      {
        v27 = (_DWORD *)sub_465290((int)v56);
        v28 = (_DWORD *)unknown_libname_21(*v27);
      }
      else
      {
        v29 = (int *)sub_465290((int)v56);
        v28 = (_DWORD *)sub_41BA20(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_465290((int)v56);
    *(_DWORD *)sub_465290((int)v54) = *v30;
    v47 = (char *)sub_431160((int)v56);
    v31 = (char *)sub_431160((int)v54);
    std::swap<char>(v31, v47);
  }
  if ( *(_BYTE *)sub_431160((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_41BA00(this);
      if ( v55 == *v32 || *(_BYTE *)sub_431160((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_431160((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)unknown_libname_21(v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)unknown_libname_21(v53);
      if ( !*(_BYTE *)sub_431160((int)v54) )
      {
        *(_BYTE *)sub_431160((int)v54) = 1;
        *(_BYTE *)sub_431160((int)v53) = 0;
        sub_467F40(this, (int)v53);
        v54 = *(void **)unknown_libname_21(v53);
      }
      if ( !*(_BYTE *)sub_463D30((int)v54) )
      {
        v40 = (int *)sub_41BA20((int)v54);
        if ( *(_BYTE *)sub_431160(*v40) != 1 || (v41 = (int *)unknown_libname_21(v54), *(_BYTE *)sub_431160(*v41) != 1) )
        {
          v42 = (int *)unknown_libname_21(v54);
          if ( *(_BYTE *)sub_431160(*v42) == 1 )
          {
            v43 = (int *)sub_41BA20((int)v54);
            *(_BYTE *)sub_431160(*v43) = 1;
            *(_BYTE *)sub_431160((int)v54) = 0;
            sub_463480(this, (int)v54);
            v54 = *(void **)unknown_libname_21(v53);
          }
          v44 = (_BYTE *)sub_431160((int)v53);
          *(_BYTE *)sub_431160((int)v54) = *v44;
          *(_BYTE *)sub_431160((int)v53) = 1;
          v45 = (int *)unknown_libname_21(v54);
          *(_BYTE *)sub_431160(*v45) = 1;
          sub_467F40(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_431160((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_465290((int)v55);
    }
    v54 = *(void **)sub_41BA20((int)v53);
    if ( !*(_BYTE *)sub_431160((int)v54) )
    {
      *(_BYTE *)sub_431160((int)v54) = 1;
      *(_BYTE *)sub_431160((int)v53) = 0;
      sub_463480(this, (int)v53);
      v54 = *(void **)sub_41BA20((int)v53);
    }
    if ( *(_BYTE *)sub_463D30((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)unknown_libname_21(v54);
    if ( *(_BYTE *)sub_431160(*v34) != 1 || (v35 = (int *)sub_41BA20((int)v54), *(_BYTE *)sub_431160(*v35) != 1) )
    {
      v36 = (int *)sub_41BA20((int)v54);
      if ( *(_BYTE *)sub_431160(*v36) == 1 )
      {
        v37 = (int *)unknown_libname_21(v54);
        *(_BYTE *)sub_431160(*v37) = 1;
        *(_BYTE *)sub_431160((int)v54) = 0;
        sub_467F40(this, (int)v54);
        v54 = *(void **)sub_41BA20((int)v53);
      }
      v38 = (_BYTE *)sub_431160((int)v53);
      *(_BYTE *)sub_431160((int)v54) = *v38;
      *(_BYTE *)sub_431160((int)v53) = 1;
      v39 = (int *)sub_41BA20((int)v54);
      *(_BYTE *)sub_431160(*v39) = 1;
      sub_463480(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_431280(v56);
  sub_441930(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00431F10) --------------------------------------------------------
int *__thiscall sub_431F10(int *this, int *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_465110(this);
  *a2 = v4;
  return a2;
}

//----- (00431F40) --------------------------------------------------------
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd)
{
  void *v5; // ecx
  unsigned int ThrdAddr; // [esp+0h] [ebp-24h] BYREF
  struct tagMSG Msg; // [esp+4h] [ebp-20h] BYREF
  HACCEL hAccTable; // [esp+20h] [ebp-4h]

  LoadStringA(hInstance, 0x67u, WindowName, 100);
  LoadStringA(hInstance, 0x6Du, ClassName, 100);
  MyRegisterClass(hInstance);
  CScreen::Open((CScreen *)&unk_4B8BE8, 200, 50);
  CScreen::Open((CScreen *)&unk_4BA3C4, 80, 20);
  dword_4B96E8 = (int)&unk_4B8BE8;
  if ( !sub_4320D0(hInstance, nShowCmd) )
    return 0;
  hAccTable = LoadAcceleratorsA(hInstance, (LPCSTR)0x6D);
  dword_4B8D38 = (HANDLE)_beginthreadex(0, 0, (_beginthreadex_proc_type)sub_432A40, 0, 0, &ThrdAddr);
  while ( GetMessageA(&Msg, 0, 0, 0) )
  {
    if ( !TranslateAcceleratorA(Msg.hwnd, hAccTable, &Msg) )
    {
      TranslateMessage(&Msg);
      DispatchMessageA(&Msg);
    }
  }
  CLog::Flush(v5);
  if ( sub_4217D0() )
    ExitProcess(0);
  return Msg.wParam;
}
// 432029: variable 'v5' is possibly undefined
// 4B96E8: using guessed type int dword_4B96E8;

//----- (00432050) --------------------------------------------------------
ATOM __cdecl MyRegisterClass(HINSTANCE__ *hInstance)
{
  WNDCLASSEXA v2; // [esp+0h] [ebp-30h] BYREF

  v2.cbSize = 48;
  v2.style = 3;
  v2.lpfnWndProc = (WNDPROC)sub_432220;
  v2.cbClsExtra = 0;
  v2.cbWndExtra = 0;
  v2.hInstance = hInstance;
  v2.hIcon = LoadIconA(hInstance, (LPCSTR)0x6B);
  v2.hCursor = LoadCursorA(0, (LPCSTR)0x7F00);
  v2.hbrBackground = (HBRUSH)6;
  v2.lpszMenuName = (LPCSTR)109;
  v2.lpszClassName = ClassName;
  v2.hIconSm = LoadIconA(hInstance, (LPCSTR)0x6C);
  return RegisterClassExA(&v2);
}

//----- (004320D0) --------------------------------------------------------
int __cdecl sub_4320D0(HINSTANCE hInstance, int nCmdShow)
{
  HMENU v3; // eax
  HMENU v4; // eax
  HWND hWnd; // [esp+0h] [ebp-4h]

  ::hInstance = hInstance;
  hWnd = CreateWindowExA(0x300u, ClassName, WindowName, 0xCF0000u, 0, 0, 624, 256, 0, 0, hInstance, 0);
  if ( !hWnd )
    return 0;
  v3 = GetMenu(hWnd);
  EnableMenuItem(v3, 0x8011u, 1u);
  v4 = GetMenu(hWnd);
  EnableMenuItem(v4, 0x8015u, 1u);
  ::hWnd = hWnd;
  ShowWindow(hWnd, nCmdShow);
  UpdateWindow(hWnd);
  return 1;
}

//----- (00432180) --------------------------------------------------------
int sub_432180()
{
  int result; // eax

  ELOG("Exception Test\n");
  result = 0;
  MEMORY[0] = 0;
  return result;
}

//----- (00432220) --------------------------------------------------------
LRESULT __userpurge sub_432220@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, HWND hWndParent, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  void *v7; // ecx
  int v9; // [esp+Ch] [ebp-24h]
  int v10; // [esp+10h] [ebp-20h]
  int v11; // [esp+14h] [ebp-1Ch]
  unsigned int v12; // [esp+1Ch] [ebp-14h]
  HANDLE hObject; // [esp+20h] [ebp-10h]
  unsigned int ThrdAddr[3]; // [esp+24h] [ebp-Ch] BYREF

  if ( Msg > 0x10 )
  {
    if ( Msg == 273 )
    {
      ThrdAddr[2] = (unsigned __int16)wParam;
      ThrdAddr[1] = HIWORD(wParam);
      if ( (unsigned __int16)wParam > 0x800Eu )
      {
        switch ( (unsigned __int16)wParam )
        {
          case 0x8011u:
          case 0x8015u:
            return 0;
          case 0x8012u:
            goto LABEL_26;
          case 0x8013u:
            KillTimer(hWndParent, 1u);
            dword_4B96E8 = (int)&unk_4BA3C4;
            CStatus::Update();
            SetTimer(hWndParent, 1u, 0xBB8u, 0);
            return 0;
          case 0x8017u:
            DialogBoxParamA(hInstance, (LPCSTR)0x82, hWndParent, (DLGPROC)sub_4327E0, 0);
            return 0;
          case 0x8019u:
            CItem::ReloadItemGroup(a1, a2, a3);
            return 0;
          default:
            return DefWindowProcA(hWndParent, Msg, wParam, lParam);
        }
      }
      if ( (unsigned __int16)wParam == 32782 )
      {
        KillTimer(hWndParent, 1u);
        dword_4B96E8 = (int)&unk_4B8BE8;
        if ( sub_421820() )
          LOG_INFO("ASSERT enabled");
        else
          LOG_INFO("ASSERT disabled");
      }
      else if ( (unsigned __int16)wParam > 0x800Au )
      {
        switch ( (unsigned __int16)wParam )
        {
          case 0x800Bu:
            KillTimer(hWndParent, 1u);
            dword_4B96E8 = (int)&unk_4B8BE8;
            LOG_INFO("Stack dump started");
            UpdateWindow(hWndParent);
            CIOSocket::DumpStack();
            LOG_INFO("Stack dump completed");
            break;
          case 0x800Cu:
            KillTimer(hWndParent, 1u);
            dword_4B96E8 = (int)&unk_4B8BE8;
            CLog::Flush(v7);
            LOG_INFO("Log Flushed");
            break;
          case 0x800Du:
            v12 = CIOSocket::AddIOThread((void *)HIWORD(wParam));
            if ( v12 )
              ++*(_DWORD *)dword_4B8C48;
            KillTimer(hWndParent, 1u);
            dword_4B96E8 = (int)&unk_4B8BE8;
            LOG_ERR("Add thread count(%d) thread id(%x)", *(_DWORD *)dword_4B8C48, v12);
            break;
          default:
            return DefWindowProcA(hWndParent, Msg, wParam, lParam);
        }
      }
      else
      {
        switch ( (unsigned __int16)wParam )
        {
          case 0x800Au:
            KillTimer(hWndParent, 1u);
            dword_4B96E8 = (int)&unk_4B8BE8;
            LOG_INFO("Exception test started");
            UpdateWindow(hWndParent);
            sub_432180();
            LOG_INFO("Exception test completed");
            break;
          case 0x68u:
            DialogBoxParamA(hInstance, (LPCSTR)0x67, hWndParent, About, 0);
            break;
          case 0x69u:
            PostMessageA(hWndParent, 0x10u, 0, 0);
            break;
          case 0x8009u:
            if ( sub_4217D0() )
            {
              hObject = (HANDLE)_beginthreadex(0, 0, (_beginthreadex_proc_type)sub_432C50, (void *)lParam, 0, ThrdAddr);
              CloseHandle(hObject);
LABEL_26:
              KillTimer(hWndParent, 1u);
              dword_4B96E8 = (int)&unk_4B8BE8;
              InvalidateRect(hWndParent, 0, 1);
            }
            break;
          default:
            return DefWindowProcA(hWndParent, Msg, wParam, lParam);
        }
      }
    }
    else
    {
      if ( Msg != 275 )
        return DefWindowProcA(hWndParent, Msg, wParam, lParam);
      switch ( wParam )
      {
        case 1u:
          CStatus::Update();
          break;
        case 2u:
          dword_4B8E10 -= 10000;
          if ( dword_4B8E10 <= 0 )
          {
            KillTimer(hWndParent, 2u);
            SetTimer(hWndParent, 3u, 0x7D0u, 0);
            sub_446840(a1, a2, a3, 36, "b", 2);
            LOG_INFO("[Shutdown] Server is closed right now!");
            dword_4B8E10 = 0;
          }
          else
          {
            v11 = dword_4B8E10 / 60000;
            v10 = dword_4B8E10 % 60000 / 1000;
            if ( dword_4B8E10 / 60000 <= 0 )
            {
              sub_446840(a1, a2, a3, 37, "bb", 1, v10);
              LOG_INFO("[Shutdown] Server will be closed after %d sec", v10);
            }
            else if ( !v10 )
            {
              sub_446840(a1, a2, a3, 37, "bb", 0, v11);
              LOG_INFO("[Shutdown] Server will be closed after %d min", v11);
            }
          }
          break;
        case 3u:
          KillTimer(hWndParent, 3u);
          PostMessageA(hWndParent, 0x111u, 0x8009u, 0);
          break;
      }
    }
  }
  else
  {
    switch ( Msg )
    {
      case 0x10u:
        if ( sub_4217F0() )
        {
          v9 = MessageBoxA(hWndParent, "Really shutdown the System?", "MainSvr", 3u);
          if ( v9 == 6 )
          {
            PostMessageA(hWndParent, 0x111u, 0x8009u, 1);
            return 0;
          }
          if ( v9 == 2 )
            return 0;
        }
        DestroyWindow(hWndParent);
        return 0;
      case 2u:
        PostQuitMessage(0);
        break;
      case 0xFu:
        CScreen::OnPaint((CScreen *)dword_4B96E8);
        break;
      default:
        return DefWindowProcA(hWndParent, Msg, wParam, lParam);
    }
  }
  return 0;
}
// 432489: variable 'v7' is possibly undefined
// 4B8E10: using guessed type int dword_4B8E10;
// 4B96E8: using guessed type int dword_4B96E8;

//----- (00432770) --------------------------------------------------------
int __stdcall About(HWND__ *hDlg, unsigned int message, unsigned int wParam, int lParam)
{
  if ( message == 272 )
    return 1;
  if ( message != 273 || (unsigned __int16)wParam != 1 && (unsigned __int16)wParam != 2 )
    return 0;
  EndDialog(hDlg, (unsigned __int16)wParam);
  return 1;
}

//----- (004327E0) --------------------------------------------------------
INT_PTR __userpurge sub_4327E0@<eax>(DWORD a1@<ebx>, DWORD a2@<esi>, HWND hDlg, UINT a4, WPARAM a5, LPARAM a6)
{
  HWND v7; // eax
  UINT v8; // [esp-4h] [ebp-224h]
  signed int v9; // [esp+Ch] [ebp-214h]
  CHAR String; // [esp+10h] [ebp-210h] BYREF
  char v11[508]; // [esp+11h] [ebp-20Fh] BYREF
  __int16 v12; // [esp+20Dh] [ebp-13h]
  char v13; // [esp+20Fh] [ebp-11h]
  int v14; // [esp+210h] [ebp-10h] BYREF
  int v15; // [esp+218h] [ebp-8h]
  int v16; // [esp+21Ch] [ebp-4h]

  if ( a4 == 272 )
    return 1;
  if ( a4 != 273 )
    return 0;
  v16 = (unsigned __int16)a5;
  v15 = HIWORD(a5);
  if ( (unsigned __int16)a5 == 1 )
  {
    String = 0;
    memset(v11, 0, sizeof(v11));
    v12 = 0;
    v13 = 0;
    GetDlgItemTextA(hDlg, 1001, &String, 511);
    if ( IsDlgButtonChecked(hDlg, 1003) )
    {
      v9 = GetDlgItemInt(hDlg, 1002, 0, 0);
      if ( v9 > 60 )
      {
        MessageBoxA(hDlg, "Shutdown Time Setting Error. (Max 60)", "Shutdown Error", 0);
        return 1;
      }
      if ( v9 <= 0 )
      {
        if ( dword_4B8E10 )
        {
          KillTimer(hWnd, 2u);
          dword_4B8E10 = 0;
          LOG_NORMAL("Shutdown's canceled.");
        }
        goto LABEL_22;
      }
      if ( dword_4B8E10 )
      {
        LOG_INFO("[Shutdown] Shutdown's already started. (%d min. remains)", dword_4B8E10 / 60000);
LABEL_22:
        EndDialog(hDlg, 1);
        return 1;
      }
      dword_4B8E10 = 60000 * v9;
      SetTimer(hWnd, 2u, 0x2710u, 0);
      LOG_NORMAL("Shutdown's started. (%d min. remains)", v9);
    }
    if ( String )
    {
      sub_446840(a1, (DWORD)&v14, a2, 46, "s", &String);
      if ( dword_4BAAA0 == 1 )
        LOG_NORMAL("[GM Command] Notice from Main : %s", &String);
    }
    goto LABEL_22;
  }
  if ( (unsigned __int16)a5 == 2 )
  {
    EndDialog(hDlg, 0);
    return 1;
  }
  if ( (unsigned __int16)a5 == 1003 && !v15 )
  {
    v8 = IsDlgButtonChecked(hDlg, 1003);
    v7 = GetDlgItem(hDlg, 1002);
    EnableWindow(v7, v8);
  }
  return 0;
}
// 4B8E10: using guessed type int dword_4B8E10;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00432A40) --------------------------------------------------------
unsigned int __userpurge sub_432A40@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *a4)
{
  std::string *v4; // eax
  std::string *v5; // eax
  const CHAR *v6; // eax
  unsigned int result; // eax
  const char *v8; // eax
  void *v9; // ecx
  const char *v10; // [esp-8h] [ebp-1E4h]
  std::string *v11; // [esp-4h] [ebp-1E0h]
  const char *v12; // [esp-4h] [ebp-1E0h]
  char v13[28]; // [esp+0h] [ebp-1DCh] BYREF
  char v14[28]; // [esp+1Ch] [ebp-1C0h] BYREF
  char v15[4]; // [esp+38h] [ebp-1A4h]
  struct tm *v16; // [esp+3Ch] [ebp-1A0h]
  __time32_t Time; // [esp+40h] [ebp-19Ch] BYREF
  struct WSAData WSAData; // [esp+44h] [ebp-198h] BYREF

  sub_4217D0();
  v11 = sub_485F30((std::string *)v13);
  std::string::string((std::string *)v14, "Global\\");
  v5 = sub_432D10(v4, v11);
  v6 = (const CHAR *)sub_4012C0(v5);
  CreateMutexA(0, 0, v6);
  sub_40E7C0((std::string *)v14);
  sub_40E7C0((std::string *)v13);
  if ( GetLastError() )
  {
    LOG_INFO("Another Server is running");
    result = 0;
  }
  else
  {
    LOG_NORMAL("Server started");
    *(_DWORD *)v15 = WSAStartup(0x202u, &WSAData);
    if ( *(_DWORD *)v15 )
    {
      LOG_ERR("WSAStartup error 0x%x", *(_DWORD *)v15);
      result = 0;
    }
    else if ( sub_4303F0() )
    {
      InitRandom();
      v12 = (const char *)sub_4012C0(&unk_4B8CF4);
      v10 = (const char *)sub_4012C0(&unk_4B8CD8);
      v8 = (const char *)sub_4012C0(&unk_4B8CBC);
      CIOException::Open(v8, v10, v12);
      CIOSocket::CreateIOThread(a1, a2, a3, *(int *)dword_4B8C48);
      if ( CDBSocket::Start(a1, a2, a3) )
      {
        if ( CAuthSocket::Start(a1, a2, a3) )
        {
          if ( sub_442350() )
          {
            CCalendar::Start(a1, a2, a3);
            sub_46F490(a1, a2, a3);
            CPlayer::Start(a1, a2, a3);
            CMonster::Start(a1, a2, a3);
            CNPC::Start(a1, a2, a3);
            Time = dword_4B8C38 + 32400;
            v16 = gmtime(&Time);
            LOG_NORMAL(
              "Server is ready on port %d (time stamp: %02d/%02d/%02d %02d:%02d:%02d (KR))",
              *(_DWORD *)&dword_4B8C2C,
              v16->tm_year % 100,
              v16->tm_mon + 1,
              v16->tm_mday,
              v16->tm_hour,
              v16->tm_min,
              v16->tm_sec);
            CLog::Flush(v9);
            sub_4217B0();
            CIOSocket::WaitThread(a1, a2, a3, 0);
          }
          result = 0;
        }
        else
        {
          result = 0;
        }
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  return result;
}
// 432A78: variable 'v4' is possibly undefined
// 432C2C: variable 'v9' is possibly undefined
// 4B8C38: using guessed type int dword_4B8C38;

//----- (00432C50) --------------------------------------------------------
unsigned int __userpurge sub_432C50@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *a4)
{
  void *v4; // ecx

  LOG_NORMAL("Shutdown started");
  sub_417D70(a1, a2, a3);
  sub_418C40(a1, a2, a3);
  CGuild::Stop(a1, a2, a3);
  CLog::Flush(v4);
  sub_440CD0(a1, a2, a3);
  CMonster::Stop(a1, a2, a3);
  sub_46AD90();
  sub_46F5C0(a1, a2, a3);
  while ( sub_46F5A0() )
    Sleep(0x1Eu);
  Sleep(0x3E8u);
  __setargv();
  CObjectDB::Close(a1, a2, a3);
  sub_47FE90(a1, a2, a3);
  CAuthSocket::Stop(a1, a2, a3);
  CDBSocket::Stop(a1, a2, a3);
  CIOSocket::CloseIOThread();
  WaitForSingleObject(dword_4B8D38, 0xFFFFFFFF);
  sub_4309B0();
  LOG_NORMAL("Shutdown completed");
  if ( a4 )
    PostMessageA(hWnd, 0x10u, 0, 0);
  return 0;
}
// 432C6F: variable 'v4' is possibly undefined
// 409A70: using guessed type int __setargv(void);

//----- (00432D10) --------------------------------------------------------
std::string *__thiscall sub_432D10(std::string *this, const std::string *a2)
{
  return std::string::append(this, a2, 0, 0xFFFFFFFF);
}

//----- (00432D30) --------------------------------------------------------
std::string *__thiscall std::string::append(std::string *this, const std::string *_Right, unsigned int _Roff, unsigned int _Count)
{
  int v4; // eax
  int v5; // eax
  void *v7; // [esp-8h] [ebp-10h]
  size_t v8; // [esp-4h] [ebp-Ch]
  unsigned int v10; // [esp+4h] [ebp-4h]
  unsigned int v11; // [esp+4h] [ebp-4h]

  if ( unknown_libname_9(_Right) < _Roff )
    std::_String_base::_Xran(this);
  v10 = unknown_libname_9(_Right) - _Roff;
  if ( v10 < _Count )
    _Count = v10;
  if ( -1 - *((_DWORD *)this + 5) <= _Count )
    std::_String_base::_Xlen(this);
  if ( _Count )
  {
    v11 = _Count + *((_DWORD *)this + 5);
    if ( std::string::_Grow(this, v11, 0) )
    {
      v4 = unknown_libname_1(_Right, _Count);
      v5 = unknown_libname_1(this, _Roff + v4);
      std::char_traits<char>::copy((void *)(*((_DWORD *)this + 5) + v5), v7, v8);
      std::string::_Eos(this, v11);
    }
  }
  return this;
}
// 432DC6: variable 'v7' is possibly undefined
// 432DC6: variable 'v8' is possibly undefined
// 401E80: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);
// 40E8C0: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00432DF0) --------------------------------------------------------
void *__thiscall CMemory::CInit::CInit(void *this)
{
  int v1; // eax
  int v3; // [esp+0h] [ebp-10h]
  CMemory *v5; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 16; ++i )
  {
    v5 = (CMemory *)sub_4347B0(0x38u);
    if ( v5 )
    {
      CMemory::CMemory(v5);
      v3 = v1;
    }
    else
    {
      v3 = 0;
    }
    dword_4B8E20[i] = v3;
  }
  return this;
}
// 432E2C: variable 'v1' is possibly undefined

//----- (00432E50) --------------------------------------------------------
void __thiscall CMemory::CMemory(CMemory *this)
{
  InitializeCriticalSection((LPCRITICAL_SECTION)((char *)this + 32));
  *((_DWORD *)this + 7) = 0;
  CMemory::_heap_init(this);
}

//----- (00432E80) --------------------------------------------------------
int __thiscall CMemory::_heap_init(CMemory *this)
{
  *(_DWORD *)this = HeapCreate(1u, 0x10000u, 0);
  if ( !*(_DWORD *)this )
    return 0;
  if ( CMemory::__sbh_heap_init(this, 0x3F8u) )
    return 1;
  HeapDestroy(*(HANDLE *)this);
  *(_DWORD *)this = 0;
  return 0;
}

//----- (00432EE0) --------------------------------------------------------
int __thiscall CMemory::__sbh_heap_init(CMemory *this, unsigned int threshold)
{
  *((_DWORD *)this + 2) = HeapAlloc(*(HANDLE *)this, 0, 0x140u);
  if ( !*((_DWORD *)this + 2) )
    return 0;
  *((_DWORD *)this + 1) = threshold;
  *((_DWORD *)this + 3) = *((_DWORD *)this + 2);
  *((_DWORD *)this + 6) = 0;
  *((_DWORD *)this + 5) = 0;
  *((_DWORD *)this + 4) = 16;
  return 1;
}

//----- (00432F50) --------------------------------------------------------
CMemory **__cdecl CMemory::_malloc(unsigned int size)
{
  CMemory *v2; // [esp+0h] [ebp-8h]
  CMemory **v3; // [esp+4h] [ebp-4h]

  v2 = (CMemory *)dword_4B8E20[InterlockedIncrement(&dword_4B8E18) & 0xF];
  v3 = (CMemory **)CMemory::_heap_alloc_base(v2, size + 4);
  if ( v3 )
  {
    *v3++ = v2;
    memset(v3, 252, size);
  }
  return v3;
}

//----- (00432FC0) --------------------------------------------------------
_DWORD *__thiscall CMemory::_heap_alloc_base(CMemory *this, unsigned int size)
{
  _DWORD *v4; // [esp+4h] [ebp-4h]
  LPVOID v5; // [esp+4h] [ebp-4h]

  if ( size <= *((_DWORD *)this + 1) )
  {
    sub_4347D0((int)this);
    v4 = CMemory::__sbh_alloc_block(this, size);
    sub_4347F0((int)this);
    if ( v4 )
      return v4;
  }
  sub_4347D0((int)this);
  v5 = HeapAlloc(*(HANDLE *)this, 0, (size + 15) & 0xFFFFFFF0);
  sub_4347F0((int)this);
  return v5;
}

//----- (00433040) --------------------------------------------------------
_DWORD *__thiscall CMemory::__sbh_alloc_block(CMemory *this, int intSize)
{
  int v5; // eax
  signed int v7; // [esp+8h] [ebp-38h]
  int v8; // [esp+Ch] [ebp-34h]
  int v9; // [esp+Ch] [ebp-34h]
  unsigned int v10; // [esp+10h] [ebp-30h]
  int v11; // [esp+14h] [ebp-2Ch]
  _DWORD *v12; // [esp+18h] [ebp-28h]
  _DWORD *v13; // [esp+1Ch] [ebp-24h]
  _DWORD *v14; // [esp+20h] [ebp-20h]
  CMemory::tagHeader *i; // [esp+24h] [ebp-1Ch]
  unsigned int v16; // [esp+28h] [ebp-18h]
  int j; // [esp+2Ch] [ebp-14h]
  int v18; // [esp+30h] [ebp-10h]
  unsigned int v19; // [esp+34h] [ebp-Ch]
  int *v20; // [esp+38h] [ebp-8h]
  _DWORD *v21; // [esp+38h] [ebp-8h]
  int v22; // [esp+3Ch] [ebp-4h]

  v19 = *((_DWORD *)this + 2) + 20 * *((_DWORD *)this + 5);
  v7 = (intSize + 23) & 0xFFFFFFF0;
  v8 = (v7 >> 4) - 1;
  if ( v8 >= 32 )
  {
    v16 = 0;
    v10 = 0xFFFFFFFF >> ((v7 >> 4) - 33);
  }
  else
  {
    v16 = 0xFFFFFFFF >> v8;
    v10 = -1;
  }
  for ( i = (CMemory::tagHeader *)*((_DWORD *)this + 3);
        (unsigned int)i < v19 && !(*((_DWORD *)i + 1) & v10 | *(_DWORD *)i & v16);
        i = (CMemory::tagHeader *)((char *)i + 20) )
  {
    ;
  }
  if ( i != (CMemory::tagHeader *)v19 )
    goto LABEL_27;
  for ( i = (CMemory::tagHeader *)*((_DWORD *)this + 2);
        (unsigned int)i < *((_DWORD *)this + 3) && !(*((_DWORD *)i + 1) & v10 | *(_DWORD *)i & v16);
        i = (CMemory::tagHeader *)((char *)i + 20) )
  {
    ;
  }
  if ( i != *((CMemory::tagHeader **)this + 3) )
    goto LABEL_27;
  while ( (unsigned int)i < v19 && !*((_DWORD *)i + 2) )
    i = (CMemory::tagHeader *)((char *)i + 20);
  if ( i == (CMemory::tagHeader *)v19 )
  {
    for ( i = (CMemory::tagHeader *)*((_DWORD *)this + 2);
          (unsigned int)i < *((_DWORD *)this + 3) && !*((_DWORD *)i + 2);
          i = (CMemory::tagHeader *)((char *)i + 20) )
    {
      ;
    }
    if ( i == *((CMemory::tagHeader **)this + 3) )
    {
      i = CMemory::__sbh_alloc_new_region(this);
      if ( !i )
        return 0;
    }
  }
  **((_DWORD **)i + 4) = CMemory::__sbh_alloc_new_group(this, i);
  if ( **((_DWORD **)i + 4) == -1 )
    return 0;
LABEL_27:
  *((_DWORD *)this + 3) = i;
  v12 = (_DWORD *)*((_DWORD *)i + 4);
  j = *v12;
  if ( *v12 == -1 || !(v12[j + 49] & v10 | v12[j + 17] & v16) )
  {
    for ( j = 0; !(v12[j + 49] & v10 | v12[j + 17] & v16); ++j )
      ;
  }
  v13 = &v12[129 * j + 81];
  v9 = 0;
  v22 = v12[j + 17] & v16;
  if ( !v22 )
  {
    v9 = 32;
    v22 = v12[j + 49] & v10;
  }
  while ( v22 >= 0 )
  {
    v22 *= 2;
    ++v9;
  }
  v20 = (int *)v13[2 * v9 + 1];
  v11 = *v20 - v7;
  v18 = (v11 >> 4) - 1;
  if ( v18 > 63 )
    v18 = 63;
  if ( v18 != v9 )
  {
    if ( v20[1] == v20[2] )
    {
      if ( v9 >= 32 )
      {
        v12[j + 49] &= ~(0x80000000 >> (v9 - 32));
        if ( !--*((_BYTE *)v12 + v9 + 4) )
          *((_DWORD *)i + 1) &= ~(0x80000000 >> (v9 - 32));
      }
      else
      {
        v12[j + 17] &= ~(0x80000000 >> v9);
        if ( !--*((_BYTE *)v12 + v9 + 4) )
          *(_DWORD *)i &= ~(0x80000000 >> v9);
      }
    }
    *(_DWORD *)(v20[2] + 4) = v20[1];
    *(_DWORD *)(v20[1] + 8) = v20[2];
    if ( v11 )
    {
      v14 = &v13[2 * v18];
      v20[1] = v14[1];
      v20[2] = (int)v14;
      v14[1] = v20;
      *(_DWORD *)(v20[1] + 8) = v20;
      if ( v20[1] == v20[2] )
      {
        if ( v18 >= 32 )
        {
          if ( !(*((_BYTE *)v12 + v18 + 4))++ )
            *((_DWORD *)i + 1) |= 0x80000000 >> (v18 - 32);
          v12[j + 49] |= 0x80000000 >> (v18 - 32);
        }
        else
        {
          if ( !(*((_BYTE *)v12 + v18 + 4))++ )
            *(_DWORD *)i |= 0x80000000 >> v18;
          v12[j + 17] |= 0x80000000 >> v18;
        }
      }
    }
  }
  if ( v11 )
  {
    *v20 = v11;
    *(int *)((char *)v20 + v11 - 4) = v11;
  }
  v21 = (int *)((char *)v20 + v11);
  *v21 = v7 + 1;
  *(_DWORD *)((char *)v21 + v7 - 4) = v7 + 1;
  v5 = (*v13)++;
  if ( !v5 && i == *((CMemory::tagHeader **)this + 6) && j == *((_DWORD *)this + 7) )
    *((_DWORD *)this + 6) = 0;
  *v12 = j;
  return v21 + 1;
}

//----- (00433570) --------------------------------------------------------
CMemory::tagHeader *__thiscall CMemory::__sbh_alloc_new_region(CMemory *this)
{
  CMemory::tagHeader *result; // eax
  LPVOID v3; // [esp+4h] [ebp-4h]
  int v4; // [esp+4h] [ebp-4h]

  if ( *((_DWORD *)this + 5) == *((_DWORD *)this + 4) )
  {
    v3 = HeapReAlloc(*(HANDLE *)this, 0, *((LPVOID *)this + 2), 20 * (*((_DWORD *)this + 4) + 16));
    if ( !v3 )
      return 0;
    *((_DWORD *)this + 2) = v3;
    *((_DWORD *)this + 4) += 16;
  }
  v4 = *((_DWORD *)this + 2) + 20 * *((_DWORD *)this + 5);
  *(_DWORD *)(v4 + 16) = HeapAlloc(*(HANDLE *)this, 8u, 0x41C4u);
  if ( !*(_DWORD *)(v4 + 16) )
    return 0;
  *(_DWORD *)(v4 + 12) = VirtualAlloc(0, 0x1000000u, 0x2000u, 4u);
  if ( *(_DWORD *)(v4 + 12) )
  {
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 4) = 0;
    *(_DWORD *)(v4 + 8) = -1;
    ++*((_DWORD *)this + 5);
    **(_DWORD **)(v4 + 16) = -1;
    result = (CMemory::tagHeader *)v4;
  }
  else
  {
    HeapFree(*(HANDLE *)this, 0, *(LPVOID *)(v4 + 16));
    result = 0;
  }
  return result;
}

//----- (00433690) --------------------------------------------------------
int __thiscall CMemory::__sbh_alloc_new_group(CMemory *this, CMemory::tagHeader *pHeader)
{
  int v4; // [esp+4h] [ebp-2Ch]
  int v5; // [esp+8h] [ebp-28h]
  int v6; // [esp+10h] [ebp-20h]
  int v7; // [esp+14h] [ebp-1Ch]
  int i; // [esp+1Ch] [ebp-14h]
  _DWORD *j; // [esp+20h] [ebp-10h]
  char *lpAddress; // [esp+24h] [ebp-Ch]

  v6 = *((_DWORD *)pHeader + 4);
  v4 = *((_DWORD *)pHeader + 2);
  v5 = 0;
  while ( v4 >= 0 )
  {
    v4 *= 2;
    ++v5;
  }
  v7 = v6 + 516 * v5 + 324;
  for ( i = 0; i < 63; ++i )
  {
    *(_DWORD *)(v7 + 8 * i + 8) = v7 + 8 * i;
    *(_DWORD *)(v7 + 8 * i + 4) = v7 + 8 * i;
  }
  lpAddress = (char *)(*((_DWORD *)pHeader + 3) + (v5 << 19));
  if ( !VirtualAlloc(lpAddress, 0x80000u, 0x1000u, 4u) )
    return -1;
  for ( j = lpAddress; j <= (_DWORD *)lpAddress + 114688; j += 0x4000 )
  {
    j[2] = -1;
    j[0x3FFF] = -1;
    j[3] = 65520;
    j[4] = j + 16387;
    j[5] = j - 16381;
    j[16382] = 65520;
  }
  *(_DWORD *)(v6 + 516 * v5 + 832) = lpAddress + 12;
  *(_DWORD *)(*(_DWORD *)(v6 + 516 * v5 + 832) + 8) = v6 + 516 * v5 + 828;
  *(_DWORD *)(v6 + 516 * v5 + 836) = lpAddress + 458764;
  *(_DWORD *)(*(_DWORD *)(v6 + 516 * v5 + 836) + 4) = v6 + 516 * v5 + 828;
  *(_DWORD *)(v6 + 4 * v5 + 68) = 0;
  *(_DWORD *)(v6 + 4 * v5 + 196) = 1;
  if ( !(*(_BYTE *)(v6 + 67))++ )
    *((_DWORD *)pHeader + 1) |= 1u;
  *((_DWORD *)pHeader + 2) &= ~(0x80000000 >> v5);
  return v5;
}

//----- (00433880) --------------------------------------------------------
void __cdecl CMemory::_free(void *pBlock)
{
  CMemory *v1; // [esp+0h] [ebp-8h]

  if ( pBlock )
  {
    v1 = (CMemory *)*((_DWORD *)pBlock - 1);
    *((_DWORD *)pBlock - 1) = 0;
    CMemory::_free_base(v1, (char *)pBlock - 4);
  }
}

//----- (004338C0) --------------------------------------------------------
void __thiscall CMemory::_free_base(CMemory *this, void *pBlock)
{
  SIZE_T v3; // [esp+4h] [ebp-Ch]
  CMemory::tagHeader *v4; // [esp+Ch] [ebp-4h]

  sub_4347D0((int)this);
  v4 = CMemory::__sbh_find_block(this, pBlock);
  if ( v4 )
  {
    memset(pBlock, 253, *((_DWORD *)pBlock - 1) - 9);
    CMemory::__sbh_free_block(this, v4, pBlock);
  }
  else
  {
    v3 = HeapSize(*(HANDLE *)this, 0, pBlock);
    memset(pBlock, 253, v3);
    HeapFree(*(HANDLE *)this, 0, pBlock);
  }
  sub_4347F0((int)this);
}

//----- (00433970) --------------------------------------------------------
CMemory::tagHeader *__thiscall CMemory::__sbh_find_block(CMemory *this, void *pvAlloc)
{
  unsigned int i; // [esp+8h] [ebp-8h]

  for ( i = *((_DWORD *)this + 2); i < *((_DWORD *)this + 2) + 20 * *((_DWORD *)this + 5); i += 20 )
  {
    if ( (char *)pvAlloc - *(_DWORD *)(i + 12) < (char *)0x1000000 )
      return (CMemory::tagHeader *)i;
  }
  return 0;
}

//----- (004339D0) --------------------------------------------------------
void __thiscall CMemory::__sbh_free_block(CMemory *this, CMemory::tagHeader *pHeader, void *pvAlloc)
{
  int v6; // [esp+8h] [ebp-3Ch]
  unsigned int v7; // [esp+Ch] [ebp-38h]
  int v8; // [esp+10h] [ebp-34h]
  unsigned int v9; // [esp+14h] [ebp-30h]
  int v10; // [esp+18h] [ebp-2Ch]
  _DWORD *v11; // [esp+1Ch] [ebp-28h]
  _DWORD *v12; // [esp+20h] [ebp-24h]
  int v13; // [esp+28h] [ebp-1Ch]
  int *v14; // [esp+2Ch] [ebp-18h]
  unsigned int v15; // [esp+30h] [ebp-14h]
  unsigned int v16; // [esp+34h] [ebp-10h]
  char *v17; // [esp+38h] [ebp-Ch]
  char *v18; // [esp+3Ch] [ebp-8h]

  v10 = *((_DWORD *)pHeader + 4);
  v15 = ((unsigned int)pvAlloc - *((_DWORD *)pHeader + 3)) >> 19;
  v11 = (_DWORD *)(v10 + 516 * v15 + 324);
  v14 = (int *)((char *)pvAlloc - 4);
  v6 = *((_DWORD *)pvAlloc - 1) - 1;
  if ( (v6 & 1) == 0 )
  {
    v18 = (char *)v14 + v6;
    v8 = *(int *)((char *)v14 + v6);
    v13 = *((_DWORD *)pvAlloc - 2);
    if ( (v8 & 1) == 0 )
    {
      v16 = (v8 >> 4) - 1;
      if ( v16 > 0x3F )
        v16 = 63;
      if ( *((_DWORD *)v18 + 1) == *((_DWORD *)v18 + 2) )
      {
        if ( v16 >= 0x20 )
        {
          *(_DWORD *)(v10 + 4 * v15 + 196) &= ~(0x80000000 >> (v16 - 32));
          if ( !--*(_BYTE *)(v16 + v10 + 4) )
            *((_DWORD *)pHeader + 1) &= ~(0x80000000 >> (v16 - 32));
        }
        else
        {
          *(_DWORD *)(v10 + 4 * v15 + 68) &= ~(0x80000000 >> v16);
          if ( !--*(_BYTE *)(v16 + v10 + 4) )
            *(_DWORD *)pHeader &= ~(0x80000000 >> v16);
        }
      }
      *(_DWORD *)(*((_DWORD *)v18 + 2) + 4) = *((_DWORD *)v18 + 1);
      *(_DWORD *)(*((_DWORD *)v18 + 1) + 8) = *((_DWORD *)v18 + 2);
      v6 += v8;
    }
    v7 = (v6 >> 4) - 1;
    if ( v7 > 0x3F )
      v7 = 63;
    if ( (v13 & 1) == 0 )
    {
      v17 = (char *)v14 - v13;
      v9 = (v13 >> 4) - 1;
      if ( v9 > 0x3F )
        v9 = 63;
      v6 += v13;
      v7 = (v6 >> 4) - 1;
      if ( v7 > 0x3F )
        v7 = 63;
      if ( v9 != v7 )
      {
        if ( *((_DWORD *)v17 + 1) == *((_DWORD *)v17 + 2) )
        {
          if ( v9 >= 0x20 )
          {
            *(_DWORD *)(v10 + 4 * v15 + 196) &= ~(0x80000000 >> (v9 - 32));
            if ( !--*(_BYTE *)(v9 + v10 + 4) )
              *((_DWORD *)pHeader + 1) &= ~(0x80000000 >> (v9 - 32));
          }
          else
          {
            *(_DWORD *)(v10 + 4 * v15 + 68) &= ~(0x80000000 >> v9);
            if ( !--*(_BYTE *)(v9 + v10 + 4) )
              *(_DWORD *)pHeader &= ~(0x80000000 >> v9);
          }
        }
        *(_DWORD *)(*((_DWORD *)v17 + 2) + 4) = *((_DWORD *)v17 + 1);
        *(_DWORD *)(*((_DWORD *)v17 + 1) + 8) = *((_DWORD *)v17 + 2);
      }
      v14 = (int *)((char *)v14 - v13);
    }
    if ( (v13 & 1) != 0 || v9 != v7 )
    {
      v12 = &v11[2 * v7];
      v14[1] = v12[1];
      v14[2] = (int)v12;
      v12[1] = v14;
      *(_DWORD *)(v14[1] + 8) = v14;
      if ( v14[1] == v14[2] )
      {
        if ( v7 >= 0x20 )
        {
          if ( !(*(_BYTE *)(v7 + v10 + 4))++ )
            *((_DWORD *)pHeader + 1) |= 0x80000000 >> (v7 - 32);
          *(_DWORD *)(v10 + 4 * v15 + 196) |= 0x80000000 >> (v7 - 32);
        }
        else
        {
          if ( !(*(_BYTE *)(v7 + v10 + 4))++ )
            *(_DWORD *)pHeader |= 0x80000000 >> v7;
          *(_DWORD *)(v10 + 4 * v15 + 68) |= 0x80000000 >> v7;
        }
      }
    }
    *v14 = v6;
    *(int *)((char *)v14 + v6 - 4) = v6;
    if ( !--*v11 )
    {
      if ( *((_DWORD *)this + 6) )
      {
        VirtualFree(
          (LPVOID)(*(_DWORD *)(*((_DWORD *)this + 6) + 12) + (*((_DWORD *)this + 7) << 19)),
          0x80000u,
          0x4000u);
        *(_DWORD *)(*((_DWORD *)this + 6) + 8) |= 0x80000000 >> *((_DWORD *)this + 7);
        *(_DWORD *)(*(_DWORD *)(*((_DWORD *)this + 6) + 16) + 4 * *((_DWORD *)this + 7) + 196) = 0;
        if ( !--*(_BYTE *)(*(_DWORD *)(*((_DWORD *)this + 6) + 16) + 67) )
          *(_DWORD *)(*((_DWORD *)this + 6) + 4) &= 0xFFFFFFFE;
        if ( *(_DWORD *)(*((_DWORD *)this + 6) + 8) == -1 )
        {
          VirtualFree(*(LPVOID *)(*((_DWORD *)this + 6) + 12), 0, 0x8000u);
          HeapFree(*(HANDLE *)this, 0, *(LPVOID *)(*((_DWORD *)this + 6) + 16));
          memcpy_0(
            *((void **)this + 6),
            (const void *)(*((_DWORD *)this + 6) + 20),
            20 * *((_DWORD *)this + 5) + *((_DWORD *)this + 2) - (*((_DWORD *)this + 6) + 20));
          --*((_DWORD *)this + 5);
          if ( (unsigned int)pHeader > *((_DWORD *)this + 6) )
            pHeader = (CMemory::tagHeader *)((char *)pHeader - 20);
          *((_DWORD *)this + 3) = *((_DWORD *)this + 2);
        }
      }
      *((_DWORD *)this + 6) = pHeader;
      *((_DWORD *)this + 7) = v15;
    }
  }
}
// 433CED: variable 'v9' is possibly undefined

//----- (00433FA0) --------------------------------------------------------
CMemory **__cdecl CMemory::_realloc(void *pBlock, unsigned int newsize)
{
  CMemory **result; // eax
  CMemory *v3; // [esp+0h] [ebp-8h]
  CMemory **lpMem; // [esp+4h] [ebp-4h]

  if ( !pBlock )
    return CMemory::_malloc(newsize);
  if ( newsize )
  {
    v3 = (CMemory *)*((_DWORD *)pBlock - 1);
    *((_DWORD *)pBlock - 1) = 0;
    lpMem = (CMemory **)CMemory::_realloc_base(v3, (char *)pBlock - 4, newsize + 4);
    if ( lpMem )
      *lpMem++ = v3;
    result = lpMem;
  }
  else
  {
    CMemory::_free(pBlock);
    result = 0;
  }
  return result;
}

//----- (00434030) --------------------------------------------------------
void *__thiscall CMemory::_realloc_base(CMemory *this, void *pBlock, unsigned int newsize)
{
  void *result; // eax
  CMemory::tagHeader *v5; // [esp+Ch] [ebp-Ch]
  unsigned int v6; // [esp+10h] [ebp-8h]
  unsigned int v7; // [esp+10h] [ebp-8h]
  void *v8; // [esp+14h] [ebp-4h]

  v8 = 0;
  if ( newsize <= 0xFFFFFFE0 )
  {
    sub_4347D0((int)this);
    v5 = CMemory::__sbh_find_block(this, pBlock);
    if ( v5 )
    {
      if ( newsize <= *((_DWORD *)this + 1) )
      {
        if ( CMemory::__sbh_resize_block(this, v5, pBlock, newsize) )
        {
          v8 = pBlock;
        }
        else
        {
          v8 = CMemory::__sbh_alloc_block(this, newsize);
          if ( v8 )
          {
            v6 = *((_DWORD *)pBlock - 1) - 9;
            if ( v6 >= newsize )
              memcpy(v8, pBlock, newsize);
            else
              memcpy(v8, pBlock, v6);
            v5 = CMemory::__sbh_find_block(this, pBlock);
            CMemory::__sbh_free_block(this, v5, pBlock);
          }
        }
      }
      if ( !v8 )
      {
        if ( !newsize )
          newsize = 1;
        newsize = (newsize + 15) & 0xFFFFFFF0;
        v8 = HeapAlloc(*(HANDLE *)this, 0, newsize);
        if ( v8 )
        {
          v7 = *((_DWORD *)pBlock - 1) - 9;
          if ( v7 >= newsize )
            memcpy(v8, pBlock, newsize);
          else
            memcpy(v8, pBlock, v7);
          CMemory::__sbh_free_block(this, v5, pBlock);
        }
      }
    }
    sub_4347F0((int)this);
    if ( !v5 )
    {
      if ( !newsize )
        newsize = 1;
      v8 = HeapReAlloc(*(HANDLE *)this, 0, pBlock, (newsize + 15) & 0xFFFFFFF0);
    }
  }
  if ( v8 )
    result = v8;
  else
    result = 0;
  return result;
}

//----- (004341E0) --------------------------------------------------------
int __thiscall CMemory::__sbh_resize_block(CMemory *this, CMemory::tagHeader *pHeader, void *pvAlloc, int intNew)
{
  int v9; // [esp+4h] [ebp-30h]
  int v10; // [esp+4h] [ebp-30h]
  unsigned int v11; // [esp+8h] [ebp-2Ch]
  int v12; // [esp+Ch] [ebp-28h]
  int v13; // [esp+Ch] [ebp-28h]
  int v14; // [esp+10h] [ebp-24h]
  int v15; // [esp+14h] [ebp-20h]
  signed int v16; // [esp+18h] [ebp-1Ch]
  unsigned int v17; // [esp+1Ch] [ebp-18h]
  unsigned int v18; // [esp+1Ch] [ebp-18h]
  _DWORD *v19; // [esp+24h] [ebp-10h]
  int *v20; // [esp+24h] [ebp-10h]
  unsigned int v21; // [esp+28h] [ebp-Ch]
  unsigned int v22; // [esp+2Ch] [ebp-8h]
  unsigned int v23; // [esp+2Ch] [ebp-8h]
  unsigned int v24; // [esp+2Ch] [ebp-8h]
  int *v25; // [esp+30h] [ebp-4h]
  int *v26; // [esp+30h] [ebp-4h]

  v16 = (intNew + 23) & 0xFFFFFFF0;
  v14 = *((_DWORD *)pHeader + 4);
  v21 = ((unsigned int)pvAlloc - *((_DWORD *)pHeader + 3)) >> 19;
  v15 = v14 + 516 * v21 + 324;
  v19 = (char *)pvAlloc - 4;
  v9 = *((_DWORD *)pvAlloc - 1) - 1;
  v25 = (int *)((char *)pvAlloc + v9 - 4);
  v12 = *v25;
  if ( v16 <= v9 )
  {
    if ( v16 < v9 )
    {
      *v19 = v16 + 1;
      *(_DWORD *)((char *)v19 + v16 - 4) = v16 + 1;
      v20 = (_DWORD *)((char *)v19 + v16);
      v10 = v9 - v16;
      v11 = (v10 >> 4) - 1;
      if ( v11 > 0x3F )
        v11 = 63;
      if ( (v12 & 1) == 0 )
      {
        v24 = (v12 >> 4) - 1;
        if ( v24 > 0x3F )
          v24 = 63;
        if ( v25[1] == v25[2] )
        {
          if ( v24 >= 0x20 )
          {
            *(_DWORD *)(v14 + 4 * v21 + 196) &= ~(0x80000000 >> (v24 - 32));
            if ( !--*(_BYTE *)(v24 + v14 + 4) )
              *((_DWORD *)pHeader + 1) &= ~(0x80000000 >> (v24 - 32));
          }
          else
          {
            *(_DWORD *)(v14 + 4 * v21 + 68) &= ~(0x80000000 >> v24);
            if ( !--*(_BYTE *)(v24 + v14 + 4) )
              *(_DWORD *)pHeader &= ~(0x80000000 >> v24);
          }
        }
        *(_DWORD *)(v25[2] + 4) = v25[1];
        *(_DWORD *)(v25[1] + 8) = v25[2];
        v10 += v12;
        v11 = (v10 >> 4) - 1;
        if ( v11 > 0x3F )
          v11 = 63;
      }
      v18 = v15 + 8 * v11;
      v20[1] = *(_DWORD *)(v18 + 4);
      v20[2] = v18;
      *(_DWORD *)(v18 + 4) = v20;
      *(_DWORD *)(v20[1] + 8) = v20;
      if ( v20[1] == v20[2] )
      {
        if ( v11 >= 0x20 )
        {
          if ( !(*(_BYTE *)(v11 + v14 + 4))++ )
            *((_DWORD *)pHeader + 1) |= 0x80000000 >> (v11 - 32);
          *(_DWORD *)(v14 + 4 * v21 + 196) |= 0x80000000 >> (v11 - 32);
        }
        else
        {
          if ( !(*(_BYTE *)(v11 + v14 + 4))++ )
            *(_DWORD *)pHeader |= 0x80000000 >> v11;
          *(_DWORD *)(v14 + 4 * v21 + 68) |= 0x80000000 >> v11;
        }
      }
      *v20 = v10;
      *(int *)((char *)v20 + v10 - 4) = v10;
    }
  }
  else
  {
    if ( (v12 & 1) != 0 || v16 > v12 + v9 )
      return 0;
    v22 = (v12 >> 4) - 1;
    if ( v22 > 0x3F )
      v22 = 63;
    if ( *(_DWORD *)((char *)pvAlloc + v9) == *(_DWORD *)((char *)pvAlloc + v9 + 4) )
    {
      if ( v22 >= 0x20 )
      {
        *(_DWORD *)(v14 + 4 * v21 + 196) &= ~(0x80000000 >> (v22 - 32));
        if ( !--*(_BYTE *)(v22 + v14 + 4) )
          *((_DWORD *)pHeader + 1) &= ~(0x80000000 >> (v22 - 32));
      }
      else
      {
        *(_DWORD *)(v14 + 4 * v21 + 68) &= ~(0x80000000 >> v22);
        if ( !--*(_BYTE *)(v22 + v14 + 4) )
          *(_DWORD *)pHeader &= ~(0x80000000 >> v22);
      }
    }
    *(_DWORD *)(*(_DWORD *)((char *)pvAlloc + v9 + 4) + 4) = *(_DWORD *)((char *)pvAlloc + v9);
    *(_DWORD *)(*(_DWORD *)((char *)pvAlloc + v9) + 8) = *(_DWORD *)((char *)pvAlloc + v9 + 4);
    v13 = v12 + v9 - v16;
    if ( v13 > 0 )
    {
      v26 = (_DWORD *)((char *)v19 + v16);
      v23 = (v13 >> 4) - 1;
      if ( v23 > 0x3F )
        v23 = 63;
      v17 = v15 + 8 * v23;
      v26[1] = *(_DWORD *)(v17 + 4);
      v26[2] = v17;
      *(_DWORD *)(v17 + 4) = v26;
      *(_DWORD *)(v26[1] + 8) = v26;
      if ( v26[1] == v26[2] )
      {
        if ( v23 >= 0x20 )
        {
          if ( !(*(_BYTE *)(v23 + v14 + 4))++ )
            *((_DWORD *)pHeader + 1) |= 0x80000000 >> (v23 - 32);
          *(_DWORD *)(v14 + 4 * v21 + 196) |= 0x80000000 >> (v23 - 32);
        }
        else
        {
          if ( !(*(_BYTE *)(v23 + v14 + 4))++ )
            *(_DWORD *)pHeader |= 0x80000000 >> v23;
          *(_DWORD *)(v14 + 4 * v21 + 68) |= 0x80000000 >> v23;
        }
      }
      *v26 = v13;
      *(int *)((char *)v26 + v13 - 4) = v13;
    }
    *v19 = v16 + 1;
    *(_DWORD *)((char *)v19 + v16 - 4) = v16 + 1;
  }
  return 1;
}

//----- (004347B0) --------------------------------------------------------
void *__cdecl sub_4347B0(size_t Size)
{
  return malloc(Size);
}

//----- (004347D0) --------------------------------------------------------
void __thiscall sub_4347D0(int this)
{
  EnterCriticalSection((LPCRITICAL_SECTION)(this + 32));
}

//----- (004347F0) --------------------------------------------------------
void __thiscall sub_4347F0(int this)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(this + 32));
}

//----- (00434810) --------------------------------------------------------
int __stdcall sub_434810(int a1, int a2, int a3, int (__thiscall *a4)(int))
{
  int result; // eax
  int i; // [esp+8h] [ebp+8h]

  result = a1 + a3 * a2;
  for ( i = result; --a3 >= 0; result = a4(i) )
    i -= a2;
  return result;
}

//----- (00434840) --------------------------------------------------------
char *__thiscall sub_434840(char *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_49B878;
  sub_43DD50(this + 236);
  std::vector<CIOSocket::CIOTimer>::vector<CIOSocket::CIOTimer>((std::vector<CIOSocket::CIOTimer> *)(this + 252));
  memset(this + 32, 0, 0x19u);
  *((_DWORD *)this + 15) = 0;
  *((_DWORD *)this + 16) = 0;
  *((_DWORD *)this + 17) = 0;
  *((_DWORD *)this + 18) = 0;
  *((_DWORD *)this + 19) = 0;
  *((_DWORD *)this + 20) = 1;
  *((_DWORD *)this + 21) = 0;
  *((_DWORD *)this + 23) = 0;
  *((_DWORD *)this + 22) = 0;
  *((_DWORD *)this + 24) = 0;
  memset(this + 100, 0, 0x1Cu);
  memset(this + 128, 0, 0x60u);
  *((_DWORD *)this + 57) = 0;
  *((_DWORD *)this + 56) = 0;
  *((_DWORD *)this + 58) = 0;
  return this;
}
// 49B878: using guessed type int (__stdcall *off_49B878)(int);

//----- (00434950) --------------------------------------------------------
void *__userpurge sub_434950@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_434980((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00434980) --------------------------------------------------------
_DWORD *__usercall sub_434980@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *(_DWORD *)a1 = &off_49B878;
  sub_43DE30((std::vector<IPAddrMask> *)(a1 + 252));
  sub_43DD80((std::vector<CIOSocket::CIOTimer> *)(a1 + 236));
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}
// 49B878: using guessed type int (__stdcall *off_49B878)(int);

//----- (004349C0) --------------------------------------------------------
char *sub_4349C0()
{
  char *v1; // [esp+0h] [ebp-Ch]
  char *v2; // [esp+8h] [ebp-4h]

  v2 = (char *)sub_401000(0x110u);
  if ( v2 )
    v1 = sub_434840(v2);
  else
    v1 = 0;
  return v1;
}

//----- (00434A00) --------------------------------------------------------
int __thiscall sub_434A00(int this, int a2, int a3)
{
  lisp::var *v3; // eax
  int v4; // eax
  int result; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  lisp::var *v20; // eax
  lisp::var *v21; // eax
  lisp::var *v22; // eax
  lisp::var *v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  lisp::var *v30; // eax
  lisp::var *v31; // eax
  lisp::var *v32; // eax
  lisp::var *v33; // eax
  lisp::var *v34; // eax
  lisp::var *v35; // eax
  lisp::var *v36; // eax
  int v37; // eax
  lisp::var *v38; // eax
  lisp::var *v39; // eax
  int v40; // eax
  lisp::var *v41; // eax
  lisp::var *v42; // eax
  lisp::var *v43; // eax
  lisp::var *v44; // eax
  lisp::var *v45; // eax
  char v47[4]; // [esp+Ch] [ebp-C0h] BYREF
  char v48[4]; // [esp+10h] [ebp-BCh] BYREF
  char v49[4]; // [esp+14h] [ebp-B8h] BYREF
  char v50[4]; // [esp+18h] [ebp-B4h] BYREF
  char v51[4]; // [esp+1Ch] [ebp-B0h] BYREF
  char v52[4]; // [esp+20h] [ebp-ACh] BYREF
  char v53[4]; // [esp+24h] [ebp-A8h] BYREF
  char v54[4]; // [esp+28h] [ebp-A4h] BYREF
  char v55[4]; // [esp+2Ch] [ebp-A0h] BYREF
  char v56[4]; // [esp+30h] [ebp-9Ch] BYREF
  char v57[4]; // [esp+34h] [ebp-98h] BYREF
  char v58[4]; // [esp+38h] [ebp-94h] BYREF
  char v59[4]; // [esp+3Ch] [ebp-90h] BYREF
  char v60[4]; // [esp+40h] [ebp-8Ch] BYREF
  char v61[4]; // [esp+44h] [ebp-88h] BYREF
  char v62[4]; // [esp+48h] [ebp-84h] BYREF
  char v63[4]; // [esp+4Ch] [ebp-80h] BYREF
  char v64[4]; // [esp+50h] [ebp-7Ch] BYREF
  char v65[4]; // [esp+54h] [ebp-78h] BYREF
  char v66[4]; // [esp+58h] [ebp-74h] BYREF
  char v67[4]; // [esp+5Ch] [ebp-70h] BYREF
  char v68[4]; // [esp+60h] [ebp-6Ch] BYREF
  char v69[4]; // [esp+64h] [ebp-68h] BYREF
  char v70[4]; // [esp+68h] [ebp-64h] BYREF
  char v71[4]; // [esp+6Ch] [ebp-60h] BYREF
  char v72[4]; // [esp+70h] [ebp-5Ch] BYREF
  char v73[4]; // [esp+74h] [ebp-58h] BYREF
  char v74[4]; // [esp+78h] [ebp-54h] BYREF
  char v75[4]; // [esp+7Ch] [ebp-50h] BYREF
  char v76[4]; // [esp+80h] [ebp-4Ch] BYREF
  char v77[4]; // [esp+84h] [ebp-48h] BYREF
  char v78[4]; // [esp+88h] [ebp-44h] BYREF
  char v79[4]; // [esp+8Ch] [ebp-40h] BYREF
  char v80[4]; // [esp+90h] [ebp-3Ch] BYREF
  char v81[4]; // [esp+94h] [ebp-38h] BYREF
  char v82[4]; // [esp+98h] [ebp-34h] BYREF
  char v83[4]; // [esp+9Ch] [ebp-30h] BYREF
  char v84[4]; // [esp+A0h] [ebp-2Ch] BYREF
  char v85[4]; // [esp+A4h] [ebp-28h] BYREF
  int v86[2]; // [esp+A8h] [ebp-24h] BYREF
  char v87[4]; // [esp+B0h] [ebp-1Ch] BYREF
  int v88[3]; // [esp+B4h] [ebp-18h] BYREF
  char v89[4]; // [esp+C0h] [ebp-Ch] BYREF
  int v90; // [esp+C4h] [ebp-8h]
  char *Str; // [esp+C8h] [ebp-4h]

  switch ( a2 )
  {
    case 1:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v85);
      v4 = sub_40BBE0(v3);
      Str = (char *)GetStr(v4);
      if ( Str && strlen(Str) && strlen(Str) <= 0x18 )
      {
        strcpy((char *)(this + 32), Str);
        goto LABEL_44;
      }
      LOG_ERR("CMonster::Set() Invalid Name. (Name:%s)", Str);
      return 0;
    case 2:
      v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v84);
      *(_DWORD *)(this + 60) = sub_40BBE0(v6);
      goto LABEL_44;
    case 7:
      v8 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v82);
      *(_DWORD *)(this + 68) = sub_40BBE0(v8);
      goto LABEL_44;
    case 8:
      v7 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v83);
      *(_DWORD *)(this + 64) = sub_40BBE0(v7);
      goto LABEL_44;
    case 9:
      v16 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v74);
      *(_DWORD *)(this + 100) = sub_40BBE0(v16);
      goto LABEL_44;
    case 10:
      v17 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v73);
      *(_DWORD *)(this + 104) = sub_40BBE0(v17);
      goto LABEL_44;
    case 11:
      v18 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v72);
      *(_DWORD *)(this + 108) = sub_40BBE0(v18);
      goto LABEL_44;
    case 12:
      v19 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v71);
      *(_DWORD *)(this + 112) = sub_40BBE0(v19);
      goto LABEL_44;
    case 13:
      v20 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v70);
      *(_DWORD *)(this + 116) = sub_40BBE0(v20);
      goto LABEL_44;
    case 14:
      v21 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v69);
      *(_DWORD *)(this + 120) = sub_40BBE0(v21);
      goto LABEL_44;
    case 15:
      v22 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v68);
      *(_DWORD *)(this + 124) = sub_40BBE0(v22);
      goto LABEL_44;
    case 16:
      v23 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v67);
      *(_DWORD *)(this + 156) = sub_40BBE0(v23);
      goto LABEL_44;
    case 17:
      v24 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v66);
      *(_DWORD *)(this + 160) = sub_40BBE0(v24);
      goto LABEL_44;
    case 18:
      v25 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v65);
      *(_DWORD *)(this + 232) = sub_40BBE0(v25);
      v26 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v64);
      *(_DWORD *)(this + 164) = sub_40BBE0(v26);
      v27 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v63);
      *(_DWORD *)(this + 168) = sub_40BBE0(v27);
      goto LABEL_44;
    case 19:
      v28 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v62);
      *(_DWORD *)(this + 172) = sub_40BBE0(v28);
      v29 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v61);
      *(_DWORD *)(this + 176) = sub_40BBE0(v29);
      goto LABEL_44;
    case 20:
      v30 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v60);
      *(_DWORD *)(this + 180) = sub_40BBE0(v30);
      v31 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v59);
      *(_DWORD *)(this + 184) = sub_40BBE0(v31);
      goto LABEL_44;
    case 21:
      v32 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v58);
      *(_DWORD *)(this + 188) = sub_40BBE0(v32);
      goto LABEL_44;
    case 22:
      v33 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v57);
      *(_DWORD *)(this + 192) = sub_40BBE0(v33);
      goto LABEL_44;
    case 23:
      v34 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v56);
      *(_DWORD *)(this + 224) = sub_40BBE0(v34);
      v35 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v55);
      *(_DWORD *)(this + 228) = sub_40BBE0(v35);
      goto LABEL_44;
    case 24:
      v90 = 0;
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        v36 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v54);
        v37 = sub_40BBE0(v36);
        *(_DWORD *)(this + 4 * v90++ + 196) = 10 * v37;
      }
      goto LABEL_44;
    case 33:
      v9 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v81);
      *(_DWORD *)(this + 72) = sub_40BBE0(v9);
      goto LABEL_44;
    case 34:
      v12 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v78);
      *(_DWORD *)(this + 84) = sub_40BBE0(v12);
      goto LABEL_44;
    case 35:
      v13 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v77);
      *(_DWORD *)(this + 88) = sub_40BBE0(v13);
      v14 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v76);
      *(_DWORD *)(this + 92) = sub_40BBE0(v14);
      goto LABEL_44;
    case 36:
      v15 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v75);
      *(_DWORD *)(this + 96) = sub_40BBE0(v15);
      goto LABEL_44;
    case 37:
      v10 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v80);
      *(_DWORD *)(this + 76) = sub_40BBE0(v10);
      v11 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v79);
      *(_DWORD *)(this + 80) = sub_40BBE0(v11);
      goto LABEL_44;
    case 70:
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        lisp::var::pop((lisp::var *)&a3, (lisp::var *)v89);
        v38 = lisp::var::pop((lisp::var *)v89, (lisp::var *)v53);
        v88[0] = sub_40BBE0(v38) << 16;
        v39 = lisp::var::pop((lisp::var *)v89, (lisp::var *)v52);
        v40 = sub_40BBE0(v39);
        v88[0] |= v40;
        v41 = lisp::var::pop((lisp::var *)v89, (lisp::var *)v51);
        v88[1] = sub_40BBE0(v41);
        v42 = lisp::var::pop((lisp::var *)v89, (lisp::var *)v50);
        v88[2] = sub_40BBE0(v42);
        sub_43DDC0(this + 236, v88);
      }
      goto LABEL_44;
    case 107:
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        lisp::var::pop((lisp::var *)&a3, (lisp::var *)v87);
        v43 = lisp::var::pop((lisp::var *)v87, (lisp::var *)v49);
        v86[0] = sub_40BBE0(v43);
        v44 = lisp::var::pop((lisp::var *)v87, (lisp::var *)v48);
        v86[1] = sub_40BBE0(v44);
        sub_43DE50(this + 252, v86);
      }
      goto LABEL_44;
    case 109:
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        v45 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v47);
        *(_DWORD *)(this + 268) |= 1 << sub_40BBE0(v45);
      }
LABEL_44:
      result = 1;
      break;
    default:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      result = CBase::Set((void *)this, a2, a2 - 1);
      break;
  }
  return result;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (00435170) --------------------------------------------------------
int __thiscall CInitMonster::OnLoad(int this)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  CItem *v4; // [esp+4h] [ebp-14h] BYREF
  char v5[8]; // [esp+8h] [ebp-10h] BYREF
  char v6[8]; // [esp+10h] [ebp-8h] BYREF

  v4 = (CItem *)this;
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v5,
    (const char *const *)(this + 60),
    &v4);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8E70,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v1);
  if ( v6[4] )
    return 1;
  LOG_ERR("CInitMonster::Onload() Duplicate Monster Data. (Index:%d)", *(_DWORD *)(this + 60));
  return 0;
}
// 43519C: variable 'v1' is possibly undefined

//----- (004351D0) --------------------------------------------------------
void __userpurge sub_4351D0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, int a7, int a8, int *a9, int a10)
{
  int v10; // [esp+0h] [ebp-2Ch]
  int v11; // [esp+4h] [ebp-28h]
  int v12[2]; // [esp+14h] [ebp-18h] BYREF
  int v13[2]; // [esp+1Ch] [ebp-10h] BYREF
  _DWORD *v14; // [esp+24h] [ebp-8h]
  int i; // [esp+28h] [ebp-4h]

  for ( i = 0; i < a5; ++i )
  {
    v14 = CItem::CreateDropItem(a1, a2, a3, a6, a10);
    if ( v14 )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int))(*v14 + 164))(v14, v10) && *a9 > 0 )
      {
        if ( *a9 < 5 )
          v11 = dword_4AE298[*a9];
        else
          v11 = 1;
        v14[13] *= v11;
        *a9 = -1;
      }
      sub_40A3B0((_DWORD *)a4, v12);
      v13[0] = v12[0] >> 5;
      v13[1] = v12[1] >> 5;
      if ( sub_4801B0(*(_DWORD **)(a4 + 312), a1, a2, a3, (int)v14, v13) )
      {
        v14[20] = 1;
        (*(void (__thiscall **)(_DWORD *, int, int *, int *, int, int, int))(*v14 + 124))(v14, a4, v12, v13, 1, a7, a8);
      }
      else if ( v14 )
      {
        v10 = (*(int (__thiscall **)(_DWORD *, int))*v14)(v14, 1);
      }
      else
      {
        v10 = 0;
      }
    }
  }
}
// 43521C: variable 'v10' is possibly undefined

//----- (00435310) --------------------------------------------------------
void __userpurge sub_435310(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v9; // eax
  int *v10; // eax
  int v11; // [esp+0h] [ebp-3Ch]
  char v13[4]; // [esp+8h] [ebp-34h] BYREF
  int v14; // [esp+Ch] [ebp-30h] BYREF
  int v15; // [esp+10h] [ebp-2Ch]
  int v16; // [esp+14h] [ebp-28h]
  int v17; // [esp+18h] [ebp-24h]
  int v18; // [esp+1Ch] [ebp-20h] BYREF
  void *Src; // [esp+20h] [ebp-1Ch]
  int v20; // [esp+24h] [ebp-18h]
  int v21; // [esp+28h] [ebp-14h]
  _DWORD *v22; // [esp+2Ch] [ebp-10h]
  int v23; // [esp+30h] [ebp-Ch] BYREF
  int v24; // [esp+34h] [ebp-8h]
  volatile int *v25; // [esp+38h] [ebp-4h]

  v22 = 0;
  v25 = 0;
  if ( a6 )
  {
    v25 = sub_443890(a2, a3, a4, a7);
    if ( v25 )
      v22 = sub_444AB0((int)v25, a2, a3, a4);
  }
  else
  {
    v22 = sub_446740(a2, a3, a4, a7);
  }
  if ( v22 )
  {
    v23 = 0;
    if ( (dword_4B8C34 & 1) != 0 || (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
      v11 = 2 * a1[20];
    else
      v11 = a1[20];
    v24 = v11;
    if ( a1[16] == 4 )
    {
      if ( v25 )
      {
        v24 += sub_4453A0((int)v25, a2, a3, a4, 0);
      }
      else if ( sub_408E10(v22, 0x2000000) )
      {
        ++v24;
      }
    }
    else if ( sub_408E10(v22, 201326592) )
    {
      v20 = RandomBetween(1, 10000);
      if ( v20 <= 481 )
      {
        if ( v20 <= 81 )
        {
          if ( v20 <= 21 )
          {
            if ( v20 <= 1 )
            {
              if ( sub_408E10(v22, 0x8000000) )
                v23 = 4;
            }
            else
            {
              v23 = 3;
            }
          }
          else
          {
            v23 = 2;
          }
        }
        else
        {
          v23 = 1;
        }
      }
    }
    v21 = v23;
    sub_4351D0(a2, a3, a4, a5, v24, a1[19], a6, a7, &v23, 0);
    if ( a9 && RandomBetween(1, 100) > 50 )
      sub_4351D0(a2, a3, a4, a5, v24, a1[19], a6, a7, &v23, a9);
    if ( v23 < 0 )
    {
      if ( v25 )
      {
        Src = sub_445C90(a2, a3, a4, 37, "bb", 90, v21);
        CParty::Broadcast((int)v25, a2, a3, a4, Src, 0);
      }
      else
      {
        sub_448C90(a2, a3, a4, (int)v22, 37, "bb", 90, v21);
      }
    }
    CIOObject::Release((CIOObject *)v22, a2, a3, a4, v22 + 86);
  }
  if ( !sub_43DDA0((std::vector<CIOSocket::CIOTimer> *)(a1 + 59)) )
  {
    v22 = 0;
    if ( v25 )
    {
      v22 = sub_444AB0((int)v25, a2, a3, a4);
    }
    else
    {
      a7 = a8;
      v22 = sub_446740(a2, a3, a4, a8);
    }
    if ( v22 )
    {
      if ( CSMap::IsValidTile((_DWORD *)v22[78], v22 + 81, 0x20000) )
      {
        sub_482CA0(a1 + 59, &v18);
        while ( 1 )
        {
          v9 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(a1 + 59, v13);
          if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v18,
                  v9) )
            break;
          v10 = (int *)sub_43E1F0(&v18);
          v15 = *v10;
          v16 = v10[1];
          v17 = v10[2];
          if ( sub_454580((int)v22, a2, a3, a4, v15) )
          {
            v23 = 0;
            sub_4351D0(a2, a3, a4, a5, v17, v16, a6, a7, &v23, 0);
          }
          sub_43E210(&v18, &v14, 0);
        }
      }
      CIOObject::Release((CIOObject *)v22, a2, a3, a4, v22 + 86);
    }
  }
  if ( v25 )
    sub_401C50(v25, a2, a3, a4);
}
// 4B8C34: using guessed type int dword_4B8C34;

//----- (00435660) --------------------------------------------------------
BOOL __thiscall CSMap::IsValidTile(_DWORD *this, int *a2, int a3)
{
  _DWORD *v4; // eax
  int v5; // [esp-4h] [ebp-10h]
  int v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h]

  v6 = *a2 >> 5;
  v7 = a2[1] >> 5;
  if ( v6 < 0 || v6 >> 8 >= 64 || v7 < 0 || v7 >> 8 >= 64 )
    return 0;
  v5 = ((*a2 >> 3) & 3) + 4 * ((a2[1] >> 3) & 3);
  v4 = (_DWORD *)sub_435780(this, &v6);
  return CCellMap::IsValidTile(v4, &v6, a3, v5);
}

//----- (004356F0) --------------------------------------------------------
BOOL __thiscall CCellMap::IsValidTile(_DWORD *this, _DWORD *a2, int a3, char a4)
{
  int v5[2]; // [esp+4h] [ebp-8h] BYREF

  if ( !this )
    return 0;
  v5[0] = (unsigned __int8)*a2;
  v5[1] = (unsigned __int8)a2[1];
  return (*(_DWORD *)(CCellMap::GetTile(this, v5) + 4) & (a3 | (1 << a4))) == 0;
}

//----- (00435750) --------------------------------------------------------
int __thiscall CCellMap::GetTile(_DWORD *this, _DWORD *a2)
{
  return this[2] + 8 * ((a2[1] << 8) + *a2);
}

//----- (00435780) --------------------------------------------------------
int __thiscall sub_435780(_DWORD *this, int *a2)
{
  return this[64 * (a2[1] >> 8) + 2 + (*a2 >> 8)];
}

//----- (004357B0) --------------------------------------------------------
_DWORD *__thiscall sub_4357B0(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_49B928;
  this[8] = 0;
  this[9] = 0;
  this[10] = 0;
  this[11] = 0;
  this[12] = 0;
  this[13] = 0;
  memset(this + 14, 0, 0x10u);
  this[18] = 0;
  this[19] = GetTickCount();
  this[20] = 1000;
  this[21] = 0;
  return this;
}
// 49B928: using guessed type int (__stdcall *off_49B928)(int);

//----- (00435850) --------------------------------------------------------
_DWORD *__userpurge sub_435850@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_435880(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00435880) --------------------------------------------------------
_DWORD *__usercall sub_435880@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_49B928;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 49B928: using guessed type int (__stdcall *off_49B928)(int);

//----- (004358A0) --------------------------------------------------------
_DWORD *__thiscall sub_4358A0(_DWORD *this, _DWORD *a2, int a3, int a4, int a5)
{
  CBase::CBase((int)this);
  *this = &off_49B928;
  this[8] = a3;
  this[9] = a2[77];
  this[10] = 0;
  this[11] = a5;
  this[12] = 0;
  this[13] = a4;
  this[14] = a2[81] - 32 * a4;
  this[15] = a2[82] - 32 * a4;
  this[16] = a2[81] + 32 * a4;
  this[17] = a2[82] + 32 * a4;
  this[18] = a2[78];
  this[19] = GetTickCount();
  this[20] = 1000;
  this[21] = 0;
  return this;
}
// 49B928: using guessed type int (__stdcall *off_49B928)(int);

//----- (00435990) --------------------------------------------------------
_DWORD *CGenMonster::Copy()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x58u);
  if ( v2 )
    v1 = sub_4357B0(v2);
  else
    v1 = 0;
  return v1;
}

//----- (004359D0) --------------------------------------------------------
int __thiscall CGenMonster::Set(_DWORD *this, int a2, char a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  int result; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  char v14[4]; // [esp+Ch] [ebp-24h] BYREF
  char v15[4]; // [esp+10h] [ebp-20h] BYREF
  char v16[4]; // [esp+14h] [ebp-1Ch] BYREF
  char v17[4]; // [esp+18h] [ebp-18h] BYREF
  char v18[4]; // [esp+1Ch] [ebp-14h] BYREF
  char v19[4]; // [esp+20h] [ebp-10h] BYREF
  char v20[4]; // [esp+24h] [ebp-Ch] BYREF
  char v21[4]; // [esp+28h] [ebp-8h] BYREF
  char v22[4]; // [esp+2Ch] [ebp-4h] BYREF

  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v22);
      this[8] = sub_40BBE0(v3);
      goto LABEL_11;
    case 3:
      v4 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v21);
      this[9] = sub_40BBE0(v4);
      this[18] = sub_47FED0(this[9]);
      if ( this[18] )
        goto LABEL_11;
      LOG_ERR("CGenMonster::Set() Can't find the Map. (index:%d)", this[9]);
      result = 0;
      break;
    case 4:
      v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v20);
      this[10] = sub_40BBE0(v6);
      goto LABEL_11;
    case 5:
      v7 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v19);
      this[11] = sub_40BBE0(v7);
      goto LABEL_11;
    case 6:
      v9 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v17);
      this[14] = 32 * sub_40BBE0(v9);
      v10 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v16);
      this[15] = 32 * sub_40BBE0(v10);
      v11 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v15);
      this[16] = 32 * sub_40BBE0(v11);
      v12 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v14);
      this[17] = 32 * sub_40BBE0(v12);
      goto LABEL_11;
    case 87:
      v8 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v18);
      this[20] = 1000 * sub_40BBE0(v8);
LABEL_11:
      result = 1;
      break;
    default:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      result = CBase::Set(this, a2, a2 - 2);
      break;
  }
  return result;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (00435BF0) --------------------------------------------------------
int __thiscall CGenMonster::OnLoad(int this)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  CItem *v4; // [esp+4h] [ebp-14h] BYREF
  char v5[8]; // [esp+8h] [ebp-10h] BYREF
  char v6[8]; // [esp+10h] [ebp-8h] BYREF

  v4 = (CItem *)this;
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v5,
    (const char *const *)(this + 40),
    &v4);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B8EC0,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v1);
  if ( v6[4] )
    return 1;
  LOG_ERR("CGenMosnter::Onload() Duplicate GenArea. (area:%d)", *(_DWORD *)(this + 40));
  return 0;
}
// 435C1C: variable 'v1' is possibly undefined

//----- (00435C50) --------------------------------------------------------
void __userpurge CGenMonster::OnTimer(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v7[4]; // [esp+4h] [ebp-18h] BYREF
  int v8; // [esp+8h] [ebp-14h] BYREF
  int v9; // [esp+Ch] [ebp-10h]
  int v10; // [esp+10h] [ebp-Ch]
  DWORD v11; // [esp+14h] [ebp-8h]
  int v12; // [esp+18h] [ebp-4h] BYREF

  if ( !dword_4B8E6C )
  {
    CRWLock::ReadLock((CRWLock *)&unk_4B8ECC);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8EC0,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v12);
    while ( 1 )
    {
      v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8EC0, v7);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
              v5) )
        break;
      v10 = *(_DWORD *)(sub_43E1A0(&v12) + 4);
      v11 = GetTickCount();
      if ( *(_DWORD *)(v10 + 80) == 1000 || (int)(*(_DWORD *)(v10 + 76) - v11) <= 0 )
      {
        v9 = 0;
        while ( *(_DWORD *)(v10 + 48) < *(_DWORD *)(v10 + 44) )
        {
          if ( sub_436C60(a2, a3, a4, v10, 0) )
          {
            InterlockedIncrement((volatile LONG *)(v10 + 48));
          }
          else if ( ++v9 >= 3 )
          {
            goto LABEL_3;
          }
        }
        *(_DWORD *)(v10 + 76) = *(_DWORD *)(v10 + 80) + v11;
      }
LABEL_3:
      sub_46FA50(&v12, &v8, 0);
    }
    CRWLock::ReadUnlock((CRWLock *)&unk_4B8ECC, a2, a3, a4);
    CIOObject::AddTimer(a1, a2, a3, a4, 0x3E8u, 0);
  }
}
// 4B8E6C: using guessed type int dword_4B8E6C;

//----- (00435D60) --------------------------------------------------------
int *__thiscall sub_435D60(_DWORD *this, int *a2, int a3)
{
  int v3; // eax
  int v6; // [esp+4h] [ebp-8h]

  if ( a3 && this[13] )
  {
    this[14] = *(_DWORD *)(a3 + 324) - 32 * this[13];
    this[15] = *(_DWORD *)(a3 + 328) - 32 * this[13];
    this[16] = *(_DWORD *)(a3 + 324) + 32 * this[13];
    this[17] = *(_DWORD *)(a3 + 328) + 32 * this[13];
  }
  v6 = RandomBetween(this[14], this[16]);
  v3 = RandomBetween(this[15], this[17]);
  *a2 = v6;
  a2[1] = v3;
  return a2;
}

//----- (00435E30) --------------------------------------------------------
void __usercall CGenMonster::Stop(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  void (__thiscall ***v4)(_DWORD, int); // [esp+Ch] [ebp-10h]
  char v5[4]; // [esp+10h] [ebp-Ch] BYREF
  int v6; // [esp+14h] [ebp-8h] BYREF
  int v7; // [esp+18h] [ebp-4h] BYREF

  dword_4B8E6C = 1;
  CRWLock::WriteLock((CRWLock *)&unk_4B8ECC);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8EC0,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8EC0, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    v4 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v7) + 4);
    if ( v4 )
      (**v4)(v4, 1);
    sub_46FA50(&v7, &v6, 0);
  }
  sub_43E140(dword_4B8EC0);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8ECC, a1, a2, a3);
}
// 4B8E6C: using guessed type int dword_4B8E6C;

//----- (00435EE0) --------------------------------------------------------
int __thiscall CMonsterObject::CMonsterObject(int this)
{
  int i; // [esp+4h] [ebp-4h]

  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_49B9D8;
  `vector constructor iterator'(
    (void *)(this + 16),
    0x20u,
    2,
    (void *(__thiscall *)(void *))CIOCriticalSection::CIOCriticalSection);
  for ( i = 0; i < 2; ++i )
    sub_435F40((_DWORD *)(this + 8 * i + 80));
  return this;
}
// 49B9D8: using guessed type int (__stdcall *off_49B9D8)(int);

//----- (00435F40) --------------------------------------------------------
_DWORD *__thiscall sub_435F40(_DWORD *this)
{
  _DWORD *result; // eax

  *this = this;
  result = this;
  this[1] = this;
  return result;
}

//----- (00435F60) --------------------------------------------------------
void *__thiscall sub_435F60(void *this, char a2)
{
  CNPCObject::_CNPCObject(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00435F90) --------------------------------------------------------
void __thiscall CNPCObject::_CNPCObject(void *this)
{
  sub_434810((int)this + 16, 32, 2, (int (__thiscall *)(int))CIOCriticalSection::~CIOCriticalSection);
  sub_422250(this);
}

//----- (00435FC0) --------------------------------------------------------
void __userpurge sub_435FC0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  _DWORD *v6; // [esp+8h] [ebp-18h]
  _DWORD *v7; // [esp+Ch] [ebp-14h]
  _DWORD *v8; // [esp+10h] [ebp-10h]
  _DWORD *v9; // [esp+14h] [ebp-Ch]
  DWORD v10; // [esp+18h] [ebp-8h]
  DWORD v11; // [esp+1Ch] [ebp-4h]

  if ( a5 )
  {
    if ( a5 == 1 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 16), a2, a3, a4);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      CLink::MoveTo((_DWORD *)(a1 + 88), a1 + 80);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      v7 = *(_DWORD **)(a1 + 80);
      while ( v7 != (_DWORD *)(a1 + 80) )
      {
        v6 = v7 - 105;
        v7 = (_DWORD *)*v7;
        (*(void (__thiscall **)(_DWORD *))(*v6 + 204))(v6);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 16), a2, a3, a4);
      CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, 0x3E8u, 1);
    }
  }
  else
  {
    v11 = GetTickCount();
    do
    {
      v10 = v11 + 30;
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 16), a2, a3, a4);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      CLink::MoveTo((_DWORD *)(a1 + 88), a1 + 80);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      v9 = *(_DWORD **)(a1 + 80);
      while ( v9 != (_DWORD *)(a1 + 80) )
      {
        v8 = v9 - 105;
        v9 = (_DWORD *)*v9;
        (*(void (__thiscall **)(_DWORD *))(*v8 + 200))(v8);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 16), a2, a3, a4);
      v11 = GetTickCount();
    }
    while ( v10 <= v11 );
    CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, v10 - v11, 0);
  }
}

//----- (00436140) --------------------------------------------------------
_DWORD *__thiscall CLink::MoveTo(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  result = this;
  if ( (_DWORD *)*this != this )
  {
    **(_DWORD **)(a2 + 4) = *this;
    *(_DWORD *)(*this + 4) = *(_DWORD *)(a2 + 4);
    *(_DWORD *)(a2 + 4) = this[1];
    *(_DWORD *)this[1] = a2;
    *this = this;
    result = this;
    this[1] = this;
  }
  return result;
}

//----- (004361A0) --------------------------------------------------------
void __userpurge CMonsterObject::Insert(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, CLink *a5)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  CLink::Insert(a5, (CLink *)(a1 + 88));
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
}

//----- (004361E0) --------------------------------------------------------
void __thiscall CLink::Insert(CLink *this, CLink *pLink)
{
  *((_DWORD *)this + 1) = *((_DWORD *)pLink + 1);
  *(_DWORD *)this = pLink;
  **((_DWORD **)pLink + 1) = this;
  *((_DWORD *)pLink + 1) = this;
}

//----- (00436220) --------------------------------------------------------
int __usercall sub_436220@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int result; // eax
  volatile signed __int32 *v6; // [esp+4h] [ebp-Ch]
  _DWORD *v7; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 2; ++i )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 32 * i + 16), a2, a3, a4);
    v7 = *(_DWORD **)(a1 + 8 * i + 80);
    while ( v7 != (_DWORD *)(a1 + 8 * i + 80) )
    {
      v6 = v7 - 105;
      v7 = (_DWORD *)*v7;
      CBase::Delete(v6);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 32 * i + 16), a2, a3, a4);
    result = i + 1;
  }
  return result;
}

//----- (004362B0) --------------------------------------------------------
int __thiscall sub_4362B0(int this)
{
  sub_409D60((char *)this);
  *(_DWORD *)this = &off_49B9F0;
  sub_471420((_DWORD *)(this + 480));
  *(_DWORD *)(this + 24) = 2;
  *(_DWORD *)(this + 432) = 0;
  *(_DWORD *)(this + 436) = 0;
  memset((void *)(this + 440), 0, 0x10u);
  *(_DWORD *)(this + 456) = 0;
  *(_DWORD *)(this + 460) = GetTickCount();
  *(_DWORD *)(this + 464) = *(_DWORD *)(this + 460);
  *(_DWORD *)(this + 468) = 0;
  *(_DWORD *)(this + 472) = 0;
  *(_DWORD *)(this + 476) = 0;
  return this;
}
// 49B9F0: using guessed type int (__stdcall *off_49B9F0)(int);

//----- (00436390) --------------------------------------------------------
void __stdcall sub_436390(int a1, int a2, int a3)
{
  ;
}

//----- (004363A0) --------------------------------------------------------
char *sub_4363A0()
{
  return off_4AE26C;
}
// 4AE26C: using guessed type char *off_4AE26C;

//----- (004363B0) --------------------------------------------------------
void __stdcall sub_4363B0(int a1, int a2, int a3, int a4)
{
  ;
}

//----- (004363C0) --------------------------------------------------------
_DWORD *__userpurge sub_4363C0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_4363F0(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (004363F0) --------------------------------------------------------
_DWORD *__usercall sub_4363F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_49B9F0;
  sub_471460((int)(a1 + 120));
  return sub_40A130((int)a1, a2, a3, a4);
}
// 49B9F0: using guessed type int (__stdcall *off_49B9F0)(int);

//----- (00436420) --------------------------------------------------------
int __thiscall CChar::GetDefense(_DWORD *this, int a2)
{
  return this[a2 + 36] + this[a2 + 60] * this[a2 + 36] / 100;
}

//----- (00436460) --------------------------------------------------------
int __thiscall CChar::GetAbsorb(_DWORD *this)
{
  return this[38] + this[62] * this[38] / 100;
}

//----- (00436490) --------------------------------------------------------
int __thiscall sub_436490(_DWORD *this, int a2)
{
  return this[a2 + 40];
}

//----- (004364B0) --------------------------------------------------------
int __thiscall sub_4364B0(int this, _DWORD *a2)
{
  sub_409D60((char *)this);
  *(_DWORD *)this = &off_49B9F0;
  sub_471420((_DWORD *)(this + 480));
  *(_DWORD *)(this + 24) = 2;
  *(_DWORD *)(this + 308) = a2[9];
  *(_DWORD *)(this + 312) = a2[18];
  *(_DWORD *)(this + 436) = a2[10];
  *(_DWORD *)(this + 440) = a2[14];
  *(_DWORD *)(this + 444) = a2[15];
  *(_DWORD *)(this + 448) = a2[16];
  *(_DWORD *)(this + 452) = a2[17];
  *(_DWORD *)(this + 456) = 0;
  *(_DWORD *)(this + 460) = GetTickCount();
  *(_DWORD *)(this + 464) = *(_DWORD *)(this + 460);
  *(_DWORD *)(this + 468) = 0;
  *(_DWORD *)(this + 472) = 0;
  *(_DWORD *)(this + 476) = 0;
  return this;
}
// 49B9F0: using guessed type int (__stdcall *off_49B9F0)(int);

//----- (00436590) --------------------------------------------------------
void __usercall CMonster::Start(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  dword_4B8E68 = 0;
  CIOObject::AddTimer((CIOObject *)&unk_4B8EE8, a1, a2, a3, 0x3E8u, 0);
  CIOObject::AddTimer((CIOObject *)&unk_4B8F80, a1, a2, a3, 0x1Eu, 0);
  CIOObject::AddTimer((CIOObject *)&unk_4B8F80, a1, a2, a3, 0x3E8u, 1);
  CIOObject::AddTimer((CIOObject *)&unk_4B8FE0, a1, a2, a3, 0x3E8u, 1);
  CIOObject::AddTimer((CIOObject *)&unk_4B9040, a1, a2, a3, 0x3E8u, 1);
}

//----- (00436600) --------------------------------------------------------
void __usercall CMonster::Stop(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  void (__thiscall ***v4)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v5[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v6; // [esp+10h] [ebp-8h] BYREF
  int v7; // [esp+14h] [ebp-4h] BYREF

  CGenMonster::Stop(a1, a2, a3);
  sub_436220((int)&unk_4B8F80, a1, a2, a3);
  sub_436220((int)&unk_4B8FE0, a1, a2, a3);
  sub_436220((int)&unk_4B9040, a1, a2, a3);
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8E70,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8E70, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    v4 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v7) + 4);
    if ( v4 )
      (**v4)(v4, 1);
    sub_46FA50(&v7, &v6, 0);
  }
  sub_43E080(dword_4B8E70);
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
}

//----- (004366C0) --------------------------------------------------------
LONG sub_4366C0()
{
  return dword_4B8E68;
}

//----- (004366D0) --------------------------------------------------------
char *__cdecl sub_4366D0(int a1, _DWORD *a2)
{
  char *v3; // [esp+0h] [ebp-48h]
  char *v4; // [esp+4h] [ebp-44h]
  char *v5; // [esp+8h] [ebp-40h]
  char *v6; // [esp+Ch] [ebp-3Ch]
  int v7; // [esp+10h] [ebp-38h]
  char *v8; // [esp+14h] [ebp-34h]
  unsigned int v9; // [esp+18h] [ebp-30h]
  char *v10; // [esp+1Ch] [ebp-2Ch]
  unsigned int v11; // [esp+20h] [ebp-28h]
  CMemory **v12; // [esp+28h] [ebp-20h]
  CMemory **v13; // [esp+2Ch] [ebp-1Ch]
  CMemory **v14; // [esp+30h] [ebp-18h]
  CMemory **v15; // [esp+34h] [ebp-14h]
  CMemory **v16; // [esp+38h] [ebp-10h]
  char *v17; // [esp+3Ch] [ebp-Ch]
  char *v18; // [esp+40h] [ebp-8h]
  char *v19; // [esp+44h] [ebp-4h]

  v19 = 0;
  switch ( *(_DWORD *)(a1 + 64) )
  {
    case 0:
      v11 = *(_DWORD *)(a1 + 72);
      if ( v11 && v11 <= 2 )
      {
        v18 = (char *)sub_401000(0x278u);
        if ( v18 )
          v10 = sub_436900(v18, a2);
        else
          v10 = 0;
        v19 = v10;
        *((_DWORD *)v10 + 117) = *(_DWORD *)(a1 + 72) - 1;
      }
      break;
    case 1:
      v9 = *(_DWORD *)(a1 + 72);
      if ( v9 )
      {
        if ( v9 <= 2 )
        {
          v17 = (char *)sub_401000(0x278u);
          if ( v17 )
            v8 = sub_437460(v17, a2);
          else
            v8 = 0;
          v19 = v8;
          *((_DWORD *)v8 + 117) = *(_DWORD *)(a1 + 72) - 1;
        }
        else if ( v9 == 3 )
        {
          v16 = sub_401000(0x298u);
          if ( v16 )
            v7 = sub_43BCF0((int)v16);
          else
            v7 = 0;
          v19 = (char *)v7;
        }
      }
      break;
    case 2:
    case 3:
      v15 = sub_401000(0x218u);
      if ( v15 )
        v6 = (char *)sub_436B30(v15);
      else
        v6 = 0;
      v19 = v6;
      break;
    case 4:
      v14 = sub_401000(0x1F8u);
      if ( v14 )
        v5 = (char *)sub_436BB0(v14, a2);
      else
        v5 = 0;
      v19 = v5;
      break;
    case 5:
      v13 = sub_401000(0x1F8u);
      if ( v13 )
        v4 = (char *)sub_436C30(v13, a2);
      else
        v4 = 0;
      v19 = v4;
      break;
    case 6:
      v12 = sub_401000(0x1F8u);
      if ( v12 )
        v3 = (char *)sub_436A30(v12, a2);
      else
        v3 = 0;
      v19 = v3;
      break;
    default:
      return v19;
  }
  return v19;
}

//----- (00436900) --------------------------------------------------------
char *__thiscall sub_436900(char *this, _DWORD *a2)
{
  sub_437460(this, a2);
  *(_DWORD *)this = &off_49BAD8;
  return this;
}
// 49BAD8: using guessed type int (__stdcall *off_49BAD8)(int);

//----- (00436930) --------------------------------------------------------
int __thiscall sub_436930(_DWORD *this)
{
  return *(_DWORD *)(this[108] + 232);
}

//----- (00436950) --------------------------------------------------------
int __thiscall sub_436950(_DWORD *this, int a2, int a3)
{
  int result; // eax

  this[131] = a2;
  result = a3;
  this[155] = a3;
  return result;
}

//----- (00436980) --------------------------------------------------------
void *__userpurge sub_436980@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_4369B0((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (004369B0) --------------------------------------------------------
_DWORD *__usercall sub_4369B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return sub_4369D0(a1, a2, a3, a4);
}

//----- (004369D0) --------------------------------------------------------
_DWORD *__usercall sub_4369D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  sub_40CFF0((_DWORD *)(a1 + 580));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 540), a2, a3, a4);
  sub_436A10((int *)(a1 + 528));
  return sub_4363F0((_DWORD *)a1, a2, a3, a4);
}

//----- (00436A10) --------------------------------------------------------
int __thiscall sub_436A10(int *this)
{
  return sub_43DEF0(this);
}

//----- (00436A30) --------------------------------------------------------
_DWORD *__thiscall sub_436A30(_DWORD *this, _DWORD *a2)
{
  sub_436A60(this, a2);
  *this = &off_49BBD8;
  return this;
}
// 49BBD8: using guessed type int (__stdcall *off_49BBD8)(int);

//----- (00436A60) --------------------------------------------------------
_DWORD *__thiscall sub_436A60(_DWORD *this, _DWORD *a2)
{
  sub_4364B0((int)this, a2);
  *this = &off_49BCC0;
  return this;
}
// 49BCC0: using guessed type int (__stdcall *off_49BCC0)(int);

//----- (00436A90) --------------------------------------------------------
_DWORD *__userpurge sub_436A90@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_436AC0(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00436AC0) --------------------------------------------------------
_DWORD *__usercall sub_436AC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return sub_4363F0(a1, a2, a3, a4);
}

//----- (00436AE0) --------------------------------------------------------
_DWORD *__userpurge sub_436AE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_436B10(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00436B10) --------------------------------------------------------
_DWORD *__usercall sub_436B10@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return sub_436AC0(a1, a2, a3, a4);
}

//----- (00436B30) --------------------------------------------------------
_DWORD *__thiscall sub_436B30(_DWORD *this)
{
  sub_436B50(this);
  *this = &off_49BDA8;
  return this;
}
// 49BDA8: using guessed type int (__stdcall *off_49BDA8)(int);

//----- (00436B50) --------------------------------------------------------
_DWORD *__thiscall sub_436B50(_DWORD *this)
{
  sub_4362B0((int)this);
  *this = &off_49BCC0;
  return this;
}
// 49BCC0: using guessed type int (__stdcall *off_49BCC0)(int);

//----- (00436B70) --------------------------------------------------------
int __thiscall sub_436B70(_DWORD *this)
{
  return this[126];
}

//----- (00436B90) --------------------------------------------------------
char *__thiscall sub_436B90(char *this)
{
  return this + 508;
}

//----- (00436BB0) --------------------------------------------------------
_DWORD *__thiscall sub_436BB0(_DWORD *this, _DWORD *a2)
{
  sub_436A60(this, a2);
  *this = &off_49BE90;
  return this;
}
// 49BE90: using guessed type int (__stdcall *off_49BE90)(int);

//----- (00436BE0) --------------------------------------------------------
_DWORD *__userpurge sub_436BE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_436C10(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00436C10) --------------------------------------------------------
_DWORD *__usercall sub_436C10@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_49BE90;
  return sub_436AC0(a1, a2, a3, a4);
}
// 49BE90: using guessed type int (__stdcall *off_49BE90)(int);

//----- (00436C30) --------------------------------------------------------
_DWORD *__thiscall sub_436C30(_DWORD *this, _DWORD *a2)
{
  sub_436A60(this, a2);
  *this = &off_49BF78;
  return this;
}
// 49BF78: using guessed type int (__stdcall *off_49BF78)(int);

//----- (00436C60) --------------------------------------------------------
int __usercall sub_436C60@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  int result; // eax
  void *v6; // eax
  int v7; // eax
  int v8; // [esp-14h] [ebp-40h]
  int v9; // [esp-10h] [ebp-3Ch]
  int v10; // [esp-Ch] [ebp-38h]
  int v11; // [esp-8h] [ebp-34h]
  char v12[4]; // [esp+Ch] [ebp-20h] BYREF
  int v13; // [esp+10h] [ebp-1Ch]
  int v14[2]; // [esp+14h] [ebp-18h] BYREF
  int v15[2]; // [esp+1Ch] [ebp-10h] BYREF
  int v16; // [esp+24h] [ebp-8h] BYREF
  char *v17; // [esp+28h] [ebp-4h]

  sub_435D60((_DWORD *)a4, v14, a5);
  if ( !CSMap::IsValidTile(*(_DWORD **)(a4 + 72), v14, 0x20000) )
    return 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
  sub_460550(dword_4B8E70, &v16, (_DWORD *)(a4 + 32));
  v6 = sub_482CA0(dword_4B8E70, v12);
  if ( (unsigned __int8)unknown_libname_25(v6) )
    goto LABEL_4;
  v13 = *(_DWORD *)(sub_43E1A0(&v16) + 4);
  if ( (*(_DWORD *)(v13 + 268) & (1 << dword_4BAAA0)) != 0 )
  {
    v17 = sub_4366D0(v13, (_DWORD *)a4);
    if ( !v17 )
    {
LABEL_4:
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
      return 0;
    }
    sub_40A460(v17, v14);
    (*(void (__thiscall **)(char *, int))(*(_DWORD *)v17 + 188))(v17, v13);
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
    sub_411FF0((int)v17, a1, a2, a3);
    v15[0] = v14[0] >> 5;
    v15[1] = v14[1] >> 5;
    if ( sub_4801B0(*((_DWORD **)v17 + 78), a1, a2, a3, (int)v17, v15) )
    {
      (*(void (__thiscall **)(char *, int))(*(_DWORD *)v17 + 192))(v17, a5);
      v11 = (*(int (__thiscall **)(char *, _DWORD))(*(_DWORD *)v17 + 220))(
              v17,
              *(_DWORD *)(*((_DWORD *)v17 + 108) + 64));
      v10 = *((_DWORD *)v17 + 73);
      v9 = *((_DWORD *)v17 + 72);
      v8 = *((_DWORD *)v17 + 70);
      v7 = CChar::GetMaxHP(v17);
      sub_40ACD0(
        a1,
        a2,
        a3,
        (int)v17,
        20,
        "wdddwdddIsb",
        *(_DWORD *)(*((_DWORD *)v17 + 108) + 60),
        *((_DWORD *)v17 + 7),
        *((_DWORD *)v17 + 81),
        *((_DWORD *)v17 + 82),
        *((_DWORD *)v17 + 85),
        *((_DWORD *)v17 + 68),
        v7,
        v8,
        v9,
        v10,
        v11);
      sub_412010((int)v17, a1, a2, a3);
      result = 1;
    }
    else
    {
      sub_412010((int)v17, a1, a2, a3);
      if ( v17 )
        (**(void (__thiscall ***)(char *, int))v17)(v17, 1);
      result = 0;
    }
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
    result = 1;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00436E90) --------------------------------------------------------
int __thiscall CChar::GetMaxHP(_DWORD *this)
{
  return this[28] + this[21] + this[52] * this[21] / 100;
}

//----- (00436ED0) --------------------------------------------------------
CIOObject *__usercall sub_436ED0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-Ch] BYREF
  CIOObject *v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h] BYREF

  v7 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8EA8);
  sub_460550(dword_4B8E9C, &v8, &a4);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8E9C, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
         v4) )
  {
    v7 = *(CIOObject **)(sub_43E1A0(&v8) + 4);
    CIOObject::AddRef(v7, a1, a2, a3, (volatile int *)v7 + 86);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8EA8, a1, a2, a3);
  return v7;
}

//----- (00436F50) --------------------------------------------------------
volatile int *__usercall sub_436F50@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-10h] BYREF
  int v7; // [esp+4h] [ebp-Ch] BYREF
  int v8; // [esp+8h] [ebp-8h] BYREF
  volatile int *v9; // [esp+Ch] [ebp-4h]

  v9 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B8EA8);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B8E9C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8E9C, v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
            v4) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v8) + 4) + 432) + 60) == a4 )
    {
      v9 = *(volatile int **)(sub_43E1A0(&v8) + 4);
      sub_4010D0(v9, a1, a2, a3);
      break;
    }
    sub_46FA50(&v8, &v7, 0);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8EA8, a1, a2, a3);
  return v9;
}

//----- (00436FF0) --------------------------------------------------------
void __usercall sub_436FF0(Concurrency::details::_CancellationTokenRegistration *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *v5; // [esp+4h] [ebp-4h]

  sub_411FF0((int)a1, a2, a3, a4);
  (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, _DWORD))(*(_DWORD *)a1 + 184))(a1, 0);
  (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)a1 + 196))(a1);
  sub_480230(*((_DWORD **)a1 + 78), a2, a3, a4, a1, (int)a1 + 316);
  if ( *((_DWORD *)a1 + 119) )
  {
    v5 = (_DWORD *)*((_DWORD *)a1 + 119);
    *((_DWORD *)a1 + 119) = 0;
    sub_412010((int)a1, a2, a3, a4);
    (*(void (__thiscall **)(_DWORD *, _DWORD))(*v5 + 172))(v5, *(_DWORD *)(*((_DWORD *)a1 + 108) + 60));
  }
  else
  {
    sub_412010((int)a1, a2, a3, a4);
  }
  sub_402020((volatile int *)a1, a2, a3, a4);
}

//----- (004370A0) --------------------------------------------------------
void __userpurge sub_4370A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  sub_448C90(a2, a3, a4, a5, 25, "d", *(_DWORD *)(a1 + 28));
}

//----- (004370D0) --------------------------------------------------------
void __userpurge sub_4370D0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // [esp-14h] [ebp-18h]
  int v8; // [esp-10h] [ebp-14h]
  int v9; // [esp-Ch] [ebp-10h]
  int v10; // [esp-8h] [ebp-Ch]

  v10 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 220))(a1, *(_DWORD *)(a1[108] + 64));
  v9 = a1[73];
  v8 = a1[72];
  v7 = a1[70];
  v6 = CChar::GetMaxHP(a1);
  sub_448C90(
    a2,
    a3,
    a4,
    a5,
    20,
    "wdddwdddIsb",
    *(_DWORD *)(a1[108] + 60),
    a1[7],
    a1[81],
    a1[82],
    a1[85],
    a1[68],
    v6,
    v7,
    v8,
    v9,
    v10);
}

//----- (00437170) --------------------------------------------------------
int __userpurge sub_437170@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int result; // eax

  result = a1;
  if ( *(_DWORD *)(a1 + 456) )
    CIOObject::Release(*(CIOObject **)(a1 + 456), a2, a3, a4, (volatile int *)(*(_DWORD *)(a1 + 456) + 348));
  *(_DWORD *)(a1 + 456) = a5;
  return result;
}

//----- (004371C0) --------------------------------------------------------
int __thiscall sub_4371C0(int this, int a2)
{
  int result; // eax

  *(_DWORD *)(this + 432) = a2;
  strcpy((char *)(this + 32), (const char *)(a2 + 32));
  result = *(_DWORD *)(a2 + 68);
  *(_DWORD *)(this + 60) = result;
  return result;
}

//----- (00437200) --------------------------------------------------------
int __usercall sub_437200@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return sub_4372D0(a1, a2, a3, a4);
}

//----- (00437220) --------------------------------------------------------
void __userpurge sub_437220(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::pair<int const ,CSocket *> *v5; // eax
  char v7[8]; // [esp+4h] [ebp-18h] BYREF
  const char *v8; // [esp+Ch] [ebp-10h] BYREF
  CItem *v9; // [esp+10h] [ebp-Ch] BYREF
  char v10[8]; // [esp+14h] [ebp-8h] BYREF

  sub_4010D0((volatile int *)a1, a2, a3, a4);
  CMonsterObject::Insert((int)&unk_4B8F80, a2, a3, a4, (CLink *)(a1 + 420));
  CRWLock::WriteLock((CRWLock *)&unk_4B8EA8);
  v9 = (CItem *)a1;
  v8 = *(const char **)(a1 + 28);
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v10,
    &v8,
    &v9);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8E9C,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v7,
    v5);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8EA8, a2, a3, a4);
}
// 437277: variable 'v5' is possibly undefined

//----- (00437290) --------------------------------------------------------
void __usercall CMonster::Remove(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v5; // [esp+4h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B8EA8);
  v5 = *(_DWORD *)(a1 + 28);
  sub_43E0E0(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8E9C,
    &v5);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8EA8, a2, a3, a4);
}

//----- (004372D0) --------------------------------------------------------
int __usercall sub_4372D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( !sub_40A640((_DWORD *)a1) )
    return 0;
  CLink::Remove((CLink *)(a1 + 420));
  sub_401C50((volatile int *)a1, a2, a3, a4);
  return 1;
}

//----- (00437310) --------------------------------------------------------
void __thiscall CLink::Remove(CLink *this)
{
  *(_DWORD *)(*(_DWORD *)this + 4) = *((_DWORD *)this + 1);
  **((_DWORD **)this + 1) = *(_DWORD *)this;
}

//----- (00437340) --------------------------------------------------------
char *__thiscall sub_437340(char *this)
{
  sub_4362B0((int)this);
  *(_DWORD *)this = &off_49C070;
  sub_43DEC0(this + 528);
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(this + 540));
  CFindPath::CFindPath((_DWORD *)this + 145);
  *((_DWORD *)this + 129) = 0;
  *((_DWORD *)this + 128) = 0;
  *((_DWORD *)this + 130) = 0;
  *((_DWORD *)this + 118) = 1;
  *((_DWORD *)this + 127) = 0;
  *((_DWORD *)this + 126) = 0;
  *((_DWORD *)this + 131) = GetTickCount();
  *((_DWORD *)this + 157) = *((_DWORD *)this + 131);
  *((_DWORD *)this + 143) = 0;
  *((_DWORD *)this + 144) = 0;
  *((_DWORD *)this + 155) = 0;
  *((_DWORD *)this + 156) = 0;
  return this;
}
// 49C070: using guessed type int (__stdcall *off_49C070)(int);

//----- (00437430) --------------------------------------------------------
void *__userpurge sub_437430@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_4369D0((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00437460) --------------------------------------------------------
char *__thiscall sub_437460(char *this, _DWORD *a2)
{
  sub_4364B0((int)this, a2);
  *(_DWORD *)this = &off_49C070;
  sub_43DEC0(this + 528);
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(this + 540));
  CFindPath::CFindPath((_DWORD *)this + 145);
  *((_DWORD *)this + 126) = (*((_DWORD *)this + 112) + *((_DWORD *)this + 110)) / 2;
  *((_DWORD *)this + 127) = (*((_DWORD *)this + 111) + *((_DWORD *)this + 113)) / 2;
  *((_DWORD *)this + 130) = 0;
  *((_DWORD *)this + 118) = 1;
  *((_DWORD *)this + 131) = GetTickCount();
  *((_DWORD *)this + 157) = *((_DWORD *)this + 131);
  *((_DWORD *)this + 143) = 0;
  *((_DWORD *)this + 144) = 0;
  *((_DWORD *)this + 155) = 0;
  *((_DWORD *)this + 156) = 0;
  return this;
}
// 49C070: using guessed type int (__stdcall *off_49C070)(int);

//----- (00437560) --------------------------------------------------------
void __usercall sub_437560(Concurrency::details::_CancellationTokenRegistration *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *v5; // [esp+4h] [ebp-4h]

  sub_411FF0((int)a1, a2, a3, a4);
  (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, _DWORD))(*(_DWORD *)a1 + 184))(a1, 0);
  sub_43BA20((int)a1, a2, a3, a4);
  (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)a1 + 196))(a1);
  sub_480230(*((_DWORD **)a1 + 78), a2, a3, a4, a1, (int)a1 + 316);
  if ( *((_DWORD *)a1 + 119) )
  {
    v5 = (_DWORD *)*((_DWORD *)a1 + 119);
    *((_DWORD *)a1 + 119) = 0;
    sub_412010((int)a1, a2, a3, a4);
    (*(void (__thiscall **)(_DWORD *, _DWORD))(*v5 + 172))(v5, *(_DWORD *)(*((_DWORD *)a1 + 108) + 60));
  }
  else
  {
    sub_412010((int)a1, a2, a3, a4);
  }
  sub_402020((volatile int *)a1, a2, a3, a4);
}

//----- (00437610) --------------------------------------------------------
void __userpurge sub_437610(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // [esp-14h] [ebp-1Ch]
  int v8; // [esp-10h] [ebp-18h]
  int v9; // [esp-Ch] [ebp-14h]
  int v10; // [esp-8h] [ebp-10h]

  v10 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 220))(a1, *(_DWORD *)(a1[108] + 64));
  v9 = a1[73];
  v8 = a1[72];
  v7 = a1[70];
  v6 = CChar::GetMaxHP(a1);
  sub_448C90(
    a2,
    a3,
    a4,
    a5,
    20,
    "wdddwdddIsb",
    *(_DWORD *)(a1[108] + 60),
    a1[7],
    a1[81],
    a1[82],
    a1[85],
    a1[68],
    v6,
    v7,
    v8,
    v9,
    v10);
  if ( a1[65] )
    sub_448C90(a2, a3, a4, a5, 49, "dbw", a1[7], 32, a1[65]);
}

//----- (004376F0) --------------------------------------------------------
int __userpurge sub_4376F0@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int *a7, _DWORD *a8, int *a9, int a10)
{
  int result; // eax
  int v11; // [esp+0h] [ebp-20h]
  int v12; // [esp+4h] [ebp-1Ch]
  int v14; // [esp+Ch] [ebp-14h] BYREF
  int v15; // [esp+10h] [ebp-10h] BYREF
  int v16; // [esp+14h] [ebp-Ch]
  int v17; // [esp+18h] [ebp-8h]
  int v18; // [esp+1Ch] [ebp-4h]

  if ( (*(int (__thiscall **)(volatile signed __int32 *))(*a1 + 244))(a1) )
    return 1;
  if ( a10 )
    v12 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 52))(a10);
  else
    v12 = 1;
  v16 = v12;
  v18 = sub_437890(a1, a5, a6, v12);
  if ( v18 > 0 )
  {
    CMonsterReal::ManageBuff(a1, a2, a3, a4);
    sub_411FF0((int)a1, a2, a3, a4);
    if ( CMonsterReal::ApplyDamage((int)a1, a2, a3, a4, a5, a6, v18, a7, a8, a9, a10) )
    {
      v17 = *a9 + *a7;
      if ( a10 )
      {
        v11 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 24))(a10);
        (*(void (__thiscall **)(volatile signed __int32 *, _DWORD *, int, int))(*a1 + 208))(a1, a5, v17, v11);
      }
      else
      {
        (*(void (__thiscall **)(volatile signed __int32 *, _DWORD *, int, _DWORD))(*a1 + 208))(a1, a5, v17, 0);
      }
      if ( *((int *)a1 + 68) > 0 )
      {
        (*(void (__thiscall **)(volatile signed __int32 *, int, int))(*a1 + 248))(a1, v17, v16);
        sub_412010((int)a1, a2, a3, a4);
      }
      else
      {
        v15 = 0;
        v14 = 0;
        (*(void (__thiscall **)(volatile signed __int32 *, _DWORD *, _DWORD, int *, int *))(*a1 + 232))(
          a1,
          a5,
          *a8,
          &v15,
          &v14);
        sub_412010((int)a1, a2, a3, a4);
        sub_43B550((int)a1, a2, a3, a4, v15, v14);
        CBase::Delete(a1);
      }
      result = 1;
    }
    else
    {
      sub_412010((int)a1, a2, a3, a4);
      result = 1;
    }
  }
  else
  {
    *a9 = 0;
    *a7 = 0;
    result = 0;
  }
  return result;
}

//----- (00437890) --------------------------------------------------------
int __thiscall sub_437890(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v5; // [esp+0h] [ebp-10h]
  int Number; // [esp+8h] [ebp-8h]
  int v8; // [esp+Ch] [ebp-4h]
  int v9; // [esp+Ch] [ebp-4h]

  Number = a2[15] - this[15];
  if ( a4 )
  {
    if ( (*(int (__thiscall **)(_DWORD *))(*this + 64))(this) || (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2) )
    {
      if ( Number < 0 )
        v5 = -dword_4B02F8[abs(Number)];
      else
        v5 = dword_4B02F8[Number];
      a3 += v5;
    }
    v8 = a3 - (*(int (__thiscall **)(_DWORD *, _DWORD *))(*this + 136))(this, a2);
    if ( v8 <= 0 )
      return 0;
    v9 = v8 - v8 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*this + 140))(this, a2) / 100;
  }
  else
  {
    v9 = a3 + Number * abs(Number) / 4;
  }
  if ( sub_408E10(a2, 512) )
    v9 += v9 / 10;
  return v9;
}

//----- (004379B0) --------------------------------------------------------
void __userpurge sub_4379B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  sub_411FF0((int)a1, a2, a3, a4);
  if ( !a1[114] )
  {
    CIOObject::AddRef((CIOObject *)a5, a2, a3, a4, a5 + 87);
    (*(void (__thiscall **)(_DWORD *, volatile int *))(*a1 + 184))(a1, a5);
  }
  sub_412010((int)a1, a2, a3, a4);
}

//----- (00437A00) --------------------------------------------------------
int __thiscall CMonsterReal::ReviseProperty(_DWORD *this)
{
  int result; // eax
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+8h] [ebp-4h]

  CChar::ReviseProperty(this);
  v4 = this[19];
  this[21] += 2 * this[17] * this[17] / 10 + 115;
  this[22] += v4 + 2 * v4 * v4 / 10;
  this[68] = CChar::GetMaxHP(this);
  result = CChar::GetMaxMP(this);
  *(_DWORD *)(v3 + 276) = result;
  return result;
}
// 437A80: variable 'v3' is possibly undefined

//----- (00437A90) --------------------------------------------------------
int __stdcall CChar::GetMaxMP(_DWORD *a1)
{
  _DWORD *v1; // ecx

  return v1[29] + v1[22] + v1[53] * v1[22] / 100;
}
// 437AA1: variable 'v1' is possibly undefined
// 437A90: inconsistent function type and number of purged bytes

//----- (00437AD0) --------------------------------------------------------
int __userpurge sub_437AD0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int result; // eax

  sub_437170(a1, a2, a3, a4, a5);
  result = unknown_libname_6(a1 + 480);
  if ( !result )
  {
    if ( a5 )
    {
      *(_DWORD *)(a1 + 472) = 4;
      *(_DWORD *)(a1 + 524) = 0;
    }
    else
    {
      result = a1;
      *(_DWORD *)(a1 + 472) = 1;
    }
  }
  return result;
}
// 40B640: using guessed type int __thiscall unknown_libname_6(_DWORD);

//----- (00437B30) --------------------------------------------------------
void __usercall sub_437B30(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7)
{
  int v7; // [esp+0h] [ebp-14h]
  int v8; // [esp+4h] [ebp-10h]

  if ( a5 == 7 )
  {
    if ( a6 )
    {
      a4[68] += a7;
      if ( CChar::GetMaxHP(a4) >= a4[68] )
        v8 = a4[68];
      else
        v8 = CChar::GetMaxHP(a4);
      a4[68] = v8;
    }
    else
    {
      a4[68] -= a7;
      if ( (int)a4[68] >= 0 )
        v7 = a4[68];
      else
        v7 = 0;
      a4[68] = v7;
    }
    sub_40ACD0(a1, a2, a3, (int)a4, 49, "dbd", a4[7], 7, a4[68]);
  }
}

//----- (00437C30) --------------------------------------------------------
void __usercall sub_437C30(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7, int a8)
{
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  _DWORD *v12; // [esp+0h] [ebp-50h]
  int v13; // [esp+0h] [ebp-50h]
  int v14; // [esp+4h] [ebp-4Ch]
  int v15; // [esp+8h] [ebp-48h]
  int v16; // [esp+Ch] [ebp-44h]
  int v17; // [esp+1Ch] [ebp-34h]
  int v18; // [esp+24h] [ebp-2Ch]
  int v19; // [esp+2Ch] [ebp-24h]
  int v20; // [esp+2Ch] [ebp-24h]
  int v21; // [esp+2Ch] [ebp-24h]
  int v22; // [esp+30h] [ebp-20h]
  int v23; // [esp+38h] [ebp-18h]
  int v24; // [esp+3Ch] [ebp-14h]
  int v25; // [esp+3Ch] [ebp-14h]
  int v26; // [esp+3Ch] [ebp-14h]
  int v27; // [esp+44h] [ebp-Ch]

  switch ( a5 )
  {
    case 0:
      v27 = CChar::GetStr(a4);
      a4[30] -= 15 * v27 / 54;
      a4[32] -= (11 * v27 - 80) / 30;
      a4[33] -= (8 * v27 - 25) / 15;
      if ( a6 )
        a4[23] += a7;
      else
        a4[23] -= a7;
      v8 = CChar::GetStr(a4);
      a4[30] += 15 * v8 / 54;
      a4[32] += (11 * v8 - 80) / 30;
      a4[33] += (8 * v8 - 25) / 15;
      break;
    case 1:
      v24 = CChar::GetHth(a4);
      if ( a6 )
      {
        a4[21] -= 2 * v24 * v24 / 10 + 115;
        a4[44] -= v24 / 9;
        a4[24] += a7;
        v25 = CChar::GetHth(a4);
        a4[21] += 2 * v25 * v25 / 10 + 115;
        a4[44] += v25 / 9;
        v23 = CChar::GetMaxHP(a4);
        if ( a7 < 0 )
        {
          if ( a4[68] >= v23 )
            v16 = v23;
          else
            v16 = a4[68];
          a4[68] = v16;
        }
      }
      else
      {
        a4[21] -= 2 * v24 * v24 / 10 + 115;
        a4[44] -= v24 / 9;
        a4[24] -= a7;
        v26 = CChar::GetHth(a4);
        a4[21] += 2 * v26 * v26 / 10 + 115;
        a4[44] += v26 / 9;
        v23 = CChar::GetMaxHP(a4);
        if ( a7 > 0 )
        {
          if ( a4[68] >= v23 )
            v15 = v23;
          else
            v15 = a4[68];
          a4[68] = v15;
        }
      }
      sub_40ACD0(a1, a2, a3, (int)a4, 49, "dbd", a4[7], 5, v23);
      break;
    case 2:
      v22 = CChar::GetInt(a4);
      a4[34] -= (7 * v22 - 20) / 12;
      a4[35] -= 7 * v22 / 12;
      a4[40] -= v22 / 9;
      a4[41] -= v22 / 9;
      a4[42] -= v22 / 9;
      if ( a6 )
        a4[25] += a7;
      else
        a4[25] -= a7;
      v9 = CChar::GetInt(a4);
      a4[34] += (7 * v9 - 20) / 12;
      a4[35] += 7 * v9 / 12;
      a4[40] += v9 / 9;
      a4[41] += v9 / 9;
      a4[42] += v9 / 9;
      break;
    case 3:
      v19 = CChar::GetWis(a4);
      if ( a6 )
      {
        a4[22] -= v19 + 2 * v19 * v19 / 10;
        a4[34] -= v19 / 7;
        a4[35] -= 14 * v19 / 45;
        a4[43] -= v19 / 9;
        a4[26] += a7;
        v20 = CChar::GetWis(a4);
        a4[22] += v20 + 2 * v20 * v20 / 10;
        a4[34] += v20 / 7;
        a4[35] += 14 * v20 / 45;
        a4[43] += v20 / 9;
        v18 = CChar::GetMaxMP(v12);
        if ( a7 < 0 )
        {
          if ( a4[69] >= v18 )
            v14 = v18;
          else
            v14 = a4[69];
          a4[69] = v14;
        }
      }
      else
      {
        a4[22] -= v19 + 2 * v19 * v19 / 10;
        a4[34] -= v19 / 7;
        a4[35] -= 14 * v19 / 45;
        a4[43] -= v19 / 9;
        a4[26] -= a7;
        v21 = CChar::GetWis(a4);
        a4[22] += v21 + 2 * v21 * v21 / 10;
        a4[34] += v21 / 7;
        a4[35] += 14 * v21 / 45;
        a4[43] += v21 / 9;
        v18 = CChar::GetMaxMP(v12);
        if ( a7 > 0 )
        {
          if ( a4[69] >= v18 )
            v13 = v18;
          else
            v13 = a4[69];
          a4[69] = v13;
        }
      }
      sub_40ACD0(a1, a2, a3, (int)a4, 49, "dbw", a4[7], 6, v18);
      break;
    case 4:
      v17 = Char::GetDex(a4);
      a4[30] -= v17 / 8;
      a4[31] -= v17 / 3;
      a4[32] -= (v17 - 5) / 11;
      a4[33] -= 18 * v17 / 77;
      if ( a6 )
        a4[27] += a7;
      else
        a4[27] -= a7;
      v10 = Char::GetDex(a4);
      a4[30] += v10 / 8;
      a4[31] += v10 / 3;
      a4[32] += (v10 - 5) / 11;
      a4[33] += 18 * v10 / 77;
      break;
    case 15:
      if ( a6 )
      {
        a4[36] += a7;
        v11 = a8 + a4[37];
      }
      else
      {
        a4[36] -= a7;
        v11 = a4[37] - a8;
      }
      a4[37] = v11;
      break;
    default:
      return;
  }
}
// 438474: variable 'v12' is possibly undefined

//----- (00438920) --------------------------------------------------------
int __thiscall CChar::GetStr(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[23] + this[16];
  return v2 + this[47] * v2 / 100;
}

//----- (00438960) --------------------------------------------------------
int __thiscall CChar::GetHth(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[24] + this[17];
  return v2 + this[48] * v2 / 100;
}

//----- (004389A0) --------------------------------------------------------
int __thiscall CChar::GetInt(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[25] + this[18];
  return v2 + this[49] * v2 / 100;
}

//----- (004389E0) --------------------------------------------------------
int __thiscall CChar::GetWis(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[26] + this[19];
  return v2 + this[50] * v2 / 100;
}

//----- (00438A20) --------------------------------------------------------
int __thiscall Char::GetDex(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[27] + this[20];
  return v2 + this[51] * v2 / 100;
}

//----- (00438A60) --------------------------------------------------------
void __usercall sub_438A60(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7, int a8)
{
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // ecx
  _DWORD *v15; // [esp+0h] [ebp-68h]
  int v16; // [esp+0h] [ebp-68h]
  int v17; // [esp+4h] [ebp-64h]
  int v18; // [esp+8h] [ebp-60h]
  int v19; // [esp+Ch] [ebp-5Ch]
  unsigned int v20; // [esp+18h] [ebp-50h]
  unsigned int v21; // [esp+1Ch] [ebp-4Ch]
  DWORD v22; // [esp+20h] [ebp-48h]
  int v23; // [esp+34h] [ebp-34h]
  int v24; // [esp+3Ch] [ebp-2Ch]
  int v25; // [esp+44h] [ebp-24h]
  int v26; // [esp+44h] [ebp-24h]
  int v27; // [esp+44h] [ebp-24h]
  int v28; // [esp+48h] [ebp-20h]
  int v29; // [esp+50h] [ebp-18h]
  int v30; // [esp+54h] [ebp-14h]
  int v31; // [esp+54h] [ebp-14h]
  int v32; // [esp+54h] [ebp-14h]
  int v33; // [esp+5Ch] [ebp-Ch]

  switch ( a5 )
  {
    case 0:
      v33 = CChar::GetStr(a4);
      a4[30] -= 15 * v33 / 54;
      a4[32] -= (11 * v33 - 80) / 30;
      a4[33] -= (8 * v33 - 25) / 15;
      if ( a6 )
        a4[47] += a7;
      else
        a4[47] -= a7;
      v8 = CChar::GetStr(a4);
      a4[30] += 15 * v8 / 54;
      a4[32] += (11 * v8 - 80) / 30;
      a4[33] += (8 * v8 - 25) / 15;
      break;
    case 1:
      v30 = CChar::GetHth(a4);
      if ( a6 )
      {
        a4[21] -= 2 * v30 * v30 / 10 + 115;
        a4[44] -= v30 / 9;
        a4[48] += a7;
        v31 = CChar::GetHth(a4);
        a4[21] += 2 * v31 * v31 / 10 + 115;
        a4[44] += v31 / 9;
        v29 = CChar::GetMaxHP(a4);
        if ( a7 < 0 )
        {
          if ( a4[68] >= v29 )
            v19 = v29;
          else
            v19 = a4[68];
          a4[68] = v19;
        }
      }
      else
      {
        a4[21] -= 2 * v30 * v30 / 10 + 115;
        a4[44] -= v30 / 9;
        a4[48] -= a7;
        v32 = CChar::GetHth(a4);
        a4[21] += 2 * v32 * v32 / 10 + 115;
        a4[44] += v32 / 9;
        v29 = CChar::GetMaxHP(a4);
        if ( a7 > 0 )
        {
          if ( a4[68] >= v29 )
            v18 = v29;
          else
            v18 = a4[68];
          a4[68] = v18;
        }
      }
      sub_40ACD0(a1, a2, a3, (int)a4, 49, "dbd", a4[7], 5, v29);
      break;
    case 2:
      v28 = CChar::GetInt(a4);
      a4[34] -= (7 * v28 - 20) / 12;
      a4[35] -= 7 * v28 / 12;
      a4[40] -= v28 / 9;
      a4[41] -= v28 / 9;
      a4[42] -= v28 / 9;
      if ( a6 )
        a4[49] += a7;
      else
        a4[49] -= a7;
      v9 = CChar::GetInt(a4);
      a4[34] += (7 * v9 - 20) / 12;
      a4[35] += 7 * v9 / 12;
      a4[40] += v9 / 9;
      a4[41] += v9 / 9;
      a4[42] += v9 / 9;
      break;
    case 3:
      v25 = CChar::GetWis(a4);
      if ( a6 )
      {
        a4[22] -= v25 + 2 * v25 * v25 / 10;
        a4[34] -= v25 / 7;
        a4[35] -= 14 * v25 / 45;
        a4[43] -= v25 / 9;
        a4[50] += a7;
        v26 = CChar::GetWis(a4);
        a4[22] += v26 + 2 * v26 * v26 / 10;
        a4[34] += v26 / 7;
        a4[35] += 14 * v26 / 45;
        a4[43] += v26 / 9;
        v24 = CChar::GetMaxMP(v15);
        if ( a7 < 0 )
        {
          if ( a4[69] >= v24 )
            v17 = v24;
          else
            v17 = a4[69];
          a4[69] = v17;
        }
      }
      else
      {
        a4[22] -= v25 + 2 * v25 * v25 / 10;
        a4[34] -= v25 / 7;
        a4[35] -= 14 * v25 / 45;
        a4[43] -= v25 / 9;
        a4[26] -= a7;
        v27 = CChar::GetWis(a4);
        a4[22] += v27 + 2 * v27 * v27 / 10;
        a4[34] += v27 / 7;
        a4[35] += 14 * v27 / 45;
        a4[43] += v27 / 9;
        v24 = CChar::GetMaxMP(v15);
        if ( a7 > 0 )
        {
          if ( a4[69] >= v24 )
            v16 = v24;
          else
            v16 = a4[69];
          a4[69] = v16;
        }
      }
      sub_40ACD0(a1, a2, a3, (int)a4, 49, "dbw", a4[7], 6, v24);
      break;
    case 4:
      v23 = Char::GetDex(a4);
      a4[30] -= v23 / 8;
      a4[31] -= v23 / 3;
      a4[32] -= (v23 - 5) / 11;
      a4[33] -= 18 * v23 / 77;
      if ( a6 )
        a4[51] += a7;
      else
        a4[51] -= a7;
      v10 = Char::GetDex(a4);
      a4[30] += v10 / 8;
      a4[31] += v10 / 3;
      a4[32] += (v10 - 5) / 11;
      a4[33] += 18 * v10 / 77;
      break;
    case 9:
      if ( a6 )
        v12 = a7 + a4[54];
      else
        v12 = a4[54] - a7;
      a4[54] = v12;
      break;
    case 15:
      if ( a6 )
      {
        a4[60] += a7;
        v11 = a8 + a4[61];
      }
      else
      {
        a4[60] -= a7;
        v11 = a4[61] - a8;
      }
      a4[61] = v11;
      break;
    case 17:
      if ( a6 )
        v14 = a7 + a4[63];
      else
        v14 = a4[63] - a7;
      a4[63] = v14;
      break;
    case 32:
      if ( a6 )
        v13 = a7 + a4[65];
      else
        v13 = a4[65] - a7;
      a4[65] = v13;
      if ( !a4[65] )
      {
        v22 = GetTickCount();
        v21 = (*(int (__thiscall **)(_DWORD *, int))(*a4 + 152))(a4, 1);
        v20 = a4[131] - v22;
        if ( v20 )
        {
          if ( v20 < v21 )
            a4[131] -= v20 * v21 / v21;
        }
      }
      sub_40ACD0(a1, a2, a3, (int)a4, 49, "dbw", a4[7], 32, a4[65]);
      break;
    default:
      return;
  }
}
// 4392CE: variable 'v15' is possibly undefined

//----- (00439900) --------------------------------------------------------
void __userpurge sub_439900(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CChar::AddGState((volatile LONG *)a1, a5);
  sub_40ACD0(a2, a3, a4, a1, 9, "dd", *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 280));
}

//----- (00439940) --------------------------------------------------------
void __userpurge sub_439940(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  CChar::SubMState(a1, a5, a6);
  sub_40ACD0(a2, a3, a4, (int)a1, 48, &unk_49C16C, a1[7], a1[72], a1[73]);
}

//----- (00439990) --------------------------------------------------------
BOOL __thiscall sub_439990(int *this, _DWORD *a2)
{
  sub_4371C0((int)this, (int)a2);
  memcpy(this + 16, a2 + 25, 0x1Cu);
  memcpy(this + 23, a2 + 32, 0x60u);
  this[76] = a2[21];
  memcpy(this + 128, a2 + 22, 8u);
  (*(void (__thiscall **)(int *))(*this + 84))(this);
  CFindPath::Init(this + 145, (int)this, this[78], this[76] * this[76]);
  return sub_471670(this + 120, (int)this);
}

//----- (00439A60) --------------------------------------------------------
int __thiscall CFindPath::Init(_DWORD *this, int a2, int a3, int a4)
{
  int result; // eax

  *this = a2;
  result = a3;
  this[1] = a3;
  this[9] = a4;
  return result;
}

//----- (00439A90) --------------------------------------------------------
void __userpurge sub_439A90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  sub_437220(a1, a2, a3, a4, (int)a5);
  InterlockedIncrement(&dword_4B8E68);
  if ( a5 )
  {
    sub_4010D0(a5, a2, a3, a4);
    *(_DWORD *)(a1 + 476) = a5;
  }
}

//----- (00439AD0) --------------------------------------------------------
void __usercall sub_439AD0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  int v8; // [esp+8h] [ebp-4h] BYREF

  CMonster::Remove(a1, a2, a3, a4);
  InterlockedDecrement(&dword_4B8E68);
  CRWLock::ReadLock((CRWLock *)&unk_4B8ECC);
  sub_460550(dword_4B8EC0, &v8, (_DWORD *)(a1 + 436));
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8EC0, v7);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
         v4) )
  {
    v5 = sub_43E1A0(&v8);
    InterlockedDecrement((volatile LONG *)(*(_DWORD *)(v5 + 4) + 48));
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8ECC, a2, a3, a4);
}

//----- (00439B50) --------------------------------------------------------
void __usercall sub_439B50(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // [esp+0h] [ebp-8h]

  if ( !sub_4372D0((int)a1, a2, a3, a4) && !sub_40A660(a1, 1) )
  {
    sub_411FF0((int)a1, a2, a3, a4);
    if ( a1[114] && !CChar::IsNormal((_DWORD *)a1[114]) )
    {
      (*(void (__thiscall **)(_DWORD *, _DWORD))(*a1 + 132))(a1, a1[114]);
      (*(void (__thiscall **)(_DWORD *, _DWORD))(*a1 + 184))(a1, 0);
    }
    v4 = a1[118];
    if ( v4 > 0 )
    {
      if ( v4 <= 3 )
      {
        (*(void (__thiscall **)(_DWORD *))(*a1 + 240))(a1);
      }
      else if ( v4 == 4 )
      {
        (*(void (__thiscall **)(_DWORD *))(*a1 + 236))(a1);
      }
    }
    sub_412010((int)a1, a2, a3, a4);
  }
}

//----- (00439C10) --------------------------------------------------------
void __usercall sub_439C10(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v5; // [esp+4h] [ebp-8h]
  DWORD v6; // [esp+8h] [ebp-4h]

  if ( !sub_4372D0(a1, a2, a3, a4) )
  {
    sub_40A8E0(a1, a2, a3, a4);
    sub_411FF0(a1, a2, a3, a4);
    v6 = GetTickCount();
    if ( sub_40A660((_DWORD *)a1, 1) && v6 >= *(_DWORD *)(a1 + 460) )
    {
      sub_40ACD0(a2, a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), 9);
      sub_412010(a1, a2, a3, a4);
      CBase::Delete((volatile signed __int32 *)a1);
    }
    else
    {
      v5 = CChar::GetMaxHP((_DWORD *)a1);
      if ( *(_DWORD *)(a1 + 272) < v5 && v6 >= *(_DWORD *)(a1 + 464) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 7, 1, v5);
        sub_43BA20(a1, a2, a3, a4);
      }
      sub_412010(a1, a2, a3, a4);
    }
  }
}

//----- (00439CE0) --------------------------------------------------------
int __userpurge sub_439CE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int result; // eax
  void *v8; // eax
  const std::pair<char const * const,CItem *> *v9; // eax
  _DWORD *v10; // [esp+0h] [ebp-34h]
  int v11; // [esp+4h] [ebp-30h]
  char v13[8]; // [esp+14h] [ebp-20h] BYREF
  char v14[4]; // [esp+1Ch] [ebp-18h] BYREF
  char v15[8]; // [esp+20h] [ebp-14h] BYREF
  char *v16; // [esp+28h] [ebp-Ch] BYREF
  int v17; // [esp+2Ch] [ebp-8h]
  int v18; // [esp+30h] [ebp-4h] BYREF

  result = (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 60))(a5);
  if ( result )
  {
    v16 = (char *)a5;
    if ( CChar::IsMState((_QWORD *)a5, 0x4000i64) )
      a7 += *((_DWORD *)v16 + 67);
    if ( a7 )
    {
      if ( a7 <= -100 )
        v11 = -100;
      else
        v11 = a7;
      a6 += v11 * a6 / 100;
    }
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 135), a2, a3, a4);
    a1[143] += a6;
    std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 132),
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)&v18,
      (const int *)&v16);
    v8 = sub_482CA0(a1 + 132, v14);
    if ( (unsigned __int8)unknown_libname_25(v8) )
    {
      sub_4010D0((volatile int *)v16, a2, a3, a4);
      std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
        (std::pair<char const * const,CItem *> *)v13,
        (const char *const *)&v16,
        (CItem *const *)&a6);
      sub_43E290(
        a1 + 132,
        (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v15,
        v9);
      if ( !v15[4] )
        sub_401C50((volatile int *)v16, a2, a3, a4);
      v17 = a6;
    }
    else
    {
      v10 = (_DWORD *)(sub_43E1A0(&v18) + 4);
      *v10 += a6;
      v17 = *(_DWORD *)(sub_43E1A0(&v18) + 4);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 135), a2, a3, a4);
    if ( a1[114] )
    {
      result = a1[114];
      if ( result == a5 )
      {
        result = (int)a1;
        a1[144] = v17;
      }
      else if ( a1[144] < v17 )
      {
        CIOObject::AddRef((CIOObject *)a5, a2, a3, a4, (volatile int *)(a5 + 348));
        result = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 184))(a1, a5);
        a1[144] = v17;
      }
    }
    else
    {
      CIOObject::AddRef((CIOObject *)a5, a2, a3, a4, (volatile int *)(a5 + 348));
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 184))(a1, a5);
      result = (int)a1;
      a1[144] = v17;
    }
  }
  return result;
}
// 439DE0: variable 'v9' is possibly undefined
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00439EE0) --------------------------------------------------------
void __userpurge sub_439EE0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  volatile int *v6; // [esp+4h] [ebp-4h] BYREF

  v6 = a5;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 540), a2, a3, a4);
  if ( sub_43DF30(
         (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 528),
         (int *)&v6) )
  {
    if ( v6 == *(volatile int **)(a1 + 456) )
      *(_DWORD *)(a1 + 576) = 0;
    sub_401C50(v6, a2, a3, a4);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 540), a2, a3, a4);
}

//----- (00439F50) --------------------------------------------------------
int __thiscall sub_439F50(int *this, int a2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+8h] [ebp-4h]

  v4 = *(_DWORD *)(this[108] + 4 * a2 + 224);
  if ( !this[65] )
    return *(_DWORD *)(this[108] + 4 * a2 + 224);
  if ( this[65] <= 0 )
    v3 = v4 * (abs(this[65]) + 100) / 100;
  else
    v3 = 100 * v4 / (this[65] + 100);
  return v3;
}

//----- (00439FE0) --------------------------------------------------------
void __userpurge sub_439FE0(DWORD a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int *a7, int *a8)
{
  int v8; // eax
  int v10; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(a1 + 272) = 0;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a5 + 76))(a5, *(_DWORD *)(a1 + 28), a6);
  v10 = 0;
  sub_43B5F0(a1, a2, a3, a4, a7, a8, &v10);
  v8 = (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 164))(a5);
  sub_435310(*(_DWORD **)(a1 + 432), a2, a3, a4, a1, *a7, *a8, v10, v8);
  sub_40AA40(a1, a2, a3, a4);
  sub_40ACD0(a2, a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), 9);
}

//----- (0043A090) --------------------------------------------------------
void __usercall sub_43A090(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-58h]
  int v8; // [esp-8h] [ebp-54h]
  int v9; // [esp-4h] [ebp-50h]
  int v11; // [esp+24h] [ebp-28h] BYREF
  int v12; // [esp+28h] [ebp-24h] BYREF
  volatile int *v13; // [esp+2Ch] [ebp-20h]
  int v14; // [esp+30h] [ebp-1Ch] BYREF
  int v15; // [esp+34h] [ebp-18h]
  int v16; // [esp+38h] [ebp-14h]
  __int64 v17; // [esp+3Ch] [ebp-10h]
  DWORD v18; // [esp+48h] [ebp-4h]

  if ( !CChar::IsMState(a1, 268435712i64) )
  {
    v18 = GetTickCount();
    if ( v18 >= a1[115] )
    {
      v17 = sub_43A380(a1 + 81, (_DWORD *)(a1[114] + 324));
      if ( a1[77] == *(_DWORD *)(a1[114] + 308) && v17 <= a1[129] * a1[129] )
      {
        if ( v17 <= a1[76] * a1[76] )
        {
          a1[115] = v18 + CChar::GetASpeed(a1);
          a1[131] = a1[115];
          sub_40A4D0(a1, *(_DWORD *)(a1[114] + 324) - a1[81], *(_DWORD *)(a1[114] + 328) - a1[82]);
          v14 = 0;
          v11 = 0;
          v16 = 0;
          v15 = 0;
          v13 = (volatile int *)a1[114];
          CIOObject::AddRef((CIOObject *)v13, a2, a3, a4, v13 + 86);
          v12 = (*(int (__thiscall **)(_DWORD *, volatile int *))(*a1 + 168))(a1, v13);
          v15 = (*(int (__thiscall **)(volatile int *, _DWORD *))(*v13 + 148))(v13, a1);
          if ( !v15 )
          {
            if ( (*(int (__thiscall **)(volatile int *))(*v13 + 60))(v13) )
            {
              v4 = sub_408E10(v13, 0x8000);
              if ( sub_43A510((int)a1, v13, v4 != 0 ? 0xFFFFFFFB : 0) )
              {
                sub_412010((int)a1, a2, a3, a4);
                v5 = CChar::GetAttack(a1);
                v16 = (*(int (__thiscall **)(volatile int *, _DWORD *, int, int *, int *, int *, _DWORD))(*v13 + 72))(
                        v13,
                        a1,
                        v5,
                        &v14,
                        &v11,
                        &v12,
                        0);
                sub_411FF0((int)a1, a2, a3, a4);
              }
            }
          }
          if ( !v16 )
            (*(void (__thiscall **)(volatile int *, _DWORD *))(*v13 + 80))(v13, a1);
          v9 = v16 | (2 * v11) | (4 * v15);
          v8 = v12;
          v7 = v14;
          v6 = unknown_libname_4(v13);
          sub_40ACD0(a2, a3, a4, (int)a1, 31, "ddwwb", a1[7], v6, v7, v8, v9);
          CIOObject::Release((CIOObject *)v13, a2, a3, a4, v13 + 86);
        }
        else if ( !CChar::IsMState(a1, 512i64) )
        {
          a1[155] = 1;
          a1[118] = 2;
        }
      }
      else
      {
        (*(void (__thiscall **)(_DWORD *, _DWORD))(*a1 + 132))(a1, a1[114]);
        (*(void (__thiscall **)(_DWORD *, _DWORD))(*a1 + 184))(a1, 0);
      }
    }
  }
}

//----- (0043A380) --------------------------------------------------------
__int64 __cdecl sub_43A380(_DWORD *a1, _DWORD *a2)
{
  __int64 v3; // [esp-10h] [ebp-28h]

  v3 = a1[1] - a2[1];
  return v3 * v3 + (*a1 - *a2) * (__int64)(*a1 - *a2);
}

//----- (0043A3F0) --------------------------------------------------------
int __thiscall CChar::GetASpeed(_DWORD *this)
{
  int v2; // [esp+0h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-4h]

  v3 = this[39];
  if ( !v3 )
    return 0x7FFFFFFF;
  if ( !this[63] )
    return this[39];
  if ( (int)this[63] <= 0 )
    v2 = v3 * (abs(this[63]) + 100) / 100;
  else
    v2 = 100 * v3 / (this[63] + 100);
  return v2;
}

//----- (0043A480) --------------------------------------------------------
int __thiscall CChar::GetAttack(_DWORD *this)
{
  int v1; // eax
  int v3; // [esp-4h] [ebp-Ch]

  v3 = CChar::GetMaxAttack(this);
  v1 = CChar::GetMinAttack(this);
  return RandomBetween(v1, v3);
}

//----- (0043A4B0) --------------------------------------------------------
int __thiscall CChar::GetMinAttack(_DWORD *this)
{
  return this[32] + this[56] * this[32] / 100;
}

//----- (0043A4E0) --------------------------------------------------------
int __thiscall CChar::GetMaxAttack(_DWORD *this)
{
  return this[33] + this[57] * this[33] / 100;
}

//----- (0043A510) --------------------------------------------------------
BOOL __thiscall sub_43A510(int this, _DWORD *a2, int a3)
{
  int v4; // esi
  int v5; // [esp+4h] [ebp-20h]
  int v6; // [esp+8h] [ebp-1Ch]
  int v8; // [esp+18h] [ebp-Ch]
  int Number; // [esp+1Ch] [ebp-8h]

  if ( CChar::IsMState((_QWORD *)this, 0x2000000i64) )
    return 1;
  Number = *(_DWORD *)(this + 60) - a2[15];
  if ( Number < 0 )
    v6 = -dword_4B0090[abs(Number)];
  else
    v6 = dword_4B0090[Number];
  v4 = CChar::GetHit((_DWORD *)this);
  v8 = a3 + v6 + v4 - CChar::GetDodge(a2);
  if ( (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2) && sub_408E10((_DWORD *)this, 0x4000) )
    v8 += 10;
  if ( v8 <= 41 )
  {
    if ( v8 < -41 )
      v8 = -41;
  }
  else
  {
    v8 = 41;
  }
  if ( v8 < 0 )
    v5 = 100 - dword_4B0228[abs(v8)];
  else
    v5 = dword_4B0228[v8];
  return v5 >= RandomBetween(1, 100);
}

//----- (0043A630) --------------------------------------------------------
int __thiscall CChar::GetHit(_DWORD *this)
{
  return this[30] + this[54] * this[30] / 100;
}

//----- (0043A660) --------------------------------------------------------
int __thiscall CChar::GetDodge(_DWORD *this)
{
  return this[31] + this[55] * this[31] / 100;
}

//----- (0043A690) --------------------------------------------------------
int __usercall sub_43A690@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int result; // eax
  unsigned int v5; // [esp+0h] [ebp-4Ch]
  int v6; // [esp+10h] [ebp-3Ch]
  int v7; // [esp+14h] [ebp-38h]
  __int64 v8; // [esp+18h] [ebp-34h]
  int v10[2]; // [esp+24h] [ebp-28h] BYREF
  __int64 v11; // [esp+2Ch] [ebp-20h]
  int v12; // [esp+38h] [ebp-14h] BYREF
  int v13; // [esp+3Ch] [ebp-10h]
  int Number[2]; // [esp+40h] [ebp-Ch] BYREF
  unsigned int v15; // [esp+48h] [ebp-4h]

  v8 = CChar::IsMState((_QWORD *)a1, 268436224i64);
  result = HIDWORD(v8) | v8;
  if ( !v8 )
  {
    result = GetTickCount();
    v15 = result;
    v7 = *(_DWORD *)(a1 + 472);
    if ( v7 == 1 )
    {
      result = a1;
      if ( v15 >= *(_DWORD *)(a1 + 524) )
      {
        if ( sub_43A9B0(a1, a2, a3, a4, Number)
          && (++*(_DWORD *)(a1 + 520),
              *(_DWORD *)(a1 + 624) = (*(_DWORD *)(a1 + 520) & 3) == 0,
              sub_481390(
                *(char **)(a1 + 312),
                a2,
                a3,
                a4,
                (Concurrency::details::_CancellationTokenRegistration *)a1,
                Number[0],
                Number[1],
                *(_DWORD *)(a1 + 624),
                0)) )
        {
          if ( *(_DWORD *)(a1 + 624) )
            v6 = 20000;
          else
            v6 = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 152))(a1, 0);
          *(_DWORD *)(a1 + 524) = v6 + v15;
          result = a1;
          if ( *(_DWORD *)(a1 + 624) )
          {
            if ( *(_DWORD *)(a1 + 468) )
            {
              result = (int)sub_43B200(a1, a2, a3, a4);
              v13 = result;
              if ( result )
              {
                *(_DWORD *)(a1 + 624) = 0;
                result = (*(int (__thiscall **)(int, int))(*(_DWORD *)a1 + 184))(a1, v13);
              }
            }
          }
        }
        else
        {
          *(_DWORD *)(a1 + 624) = 0;
          result = a1;
          --*(_DWORD *)(a1 + 520);
        }
      }
    }
    else if ( v7 == 2 )
    {
      result = a1;
      if ( v15 >= *(_DWORD *)(a1 + 524) )
      {
        v11 = sub_43A380((_DWORD *)(a1 + 324), (_DWORD *)(*(_DWORD *)(a1 + 456) + 324));
        if ( *(_DWORD *)(a1 + 308) == *(_DWORD *)(*(_DWORD *)(a1 + 456) + 308)
          && v11 <= *(_DWORD *)(a1 + 516) * *(_DWORD *)(a1 + 516) )
        {
          result = *(_DWORD *)(a1 + 304) * *(_DWORD *)(a1 + 304);
          v5 = result;
          if ( SHIDWORD(v11) > result >> 31 || SHIDWORD(v11) >= result >> 31 && (result = v11, (unsigned int)v11 > v5) )
          {
            v12 = (*(int (__thiscall **)(int, int))(*(_DWORD *)a1 + 152))(a1, 1);
            if ( sub_43ADB0(a1, a2, a3, a4, v10, (unsigned int *)&v12)
              && sub_481390(
                   *(char **)(a1 + 312),
                   a2,
                   a3,
                   a4,
                   (Concurrency::details::_CancellationTokenRegistration *)a1,
                   v10[0],
                   v10[1],
                   0,
                   1) )
            {
              *(_DWORD *)(a1 + 524) = v12 + v15;
              result = a1;
              *(_DWORD *)(a1 + 460) = *(_DWORD *)(a1 + 524);
            }
            else
            {
              sub_481390(
                *(char **)(a1 + 312),
                a2,
                a3,
                a4,
                (Concurrency::details::_CancellationTokenRegistration *)a1,
                0,
                0,
                1,
                0);
              (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 132))(a1, *(_DWORD *)(a1 + 456));
              result = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 184))(a1, 0);
            }
          }
          else
          {
            *(_DWORD *)(a1 + 472) = 4;
          }
        }
        else
        {
          (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 132))(a1, *(_DWORD *)(a1 + 456));
          result = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 184))(a1, 0);
        }
      }
    }
  }
  return result;
}

//----- (0043A9B0) --------------------------------------------------------
int __userpurge sub_43A9B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5)
{
  int v5; // ecx
  int result; // eax
  int v7; // [esp+0h] [ebp-24h]
  int v8; // [esp+4h] [ebp-20h]
  int v9; // [esp+8h] [ebp-1Ch]
  int v11; // [esp+10h] [ebp-14h]
  int v12; // [esp+18h] [ebp-Ch]
  int Number; // [esp+1Ch] [ebp-8h]
  int v14; // [esp+20h] [ebp-4h]

  Number = RandomBetween(0, 64) - 32;
  v14 = RandomBetween(0, 64) - 32;
  if ( !Number && !v14 )
    goto LABEL_17;
  v11 = abs(Number);
  v12 = abs(v14);
  v9 = v11 < v12 ? 32 * v11 / v12 : 32 * v12 / v11;
  if ( v11 >= v12 )
  {
    v5 = dword_4AEDC4[2 * v9];
    *a5 = dword_4AEDC0[2 * v9];
    a5[1] = v5;
  }
  else
  {
    *a5 = dword_4AEDC4[2 * v9];
    a5[1] = dword_4AEDC0[2 * v9];
  }
  v8 = Number < 0 ? -*a5 : *a5;
  *a5 = v8;
  v7 = v14 < 0 ? -a5[1] : a5[1];
  a5[1] = v7;
  if ( CSMap::IsMoveTile(*(_DWORD **)(a1 + 312), a2, a3, a4, a1, a1 + 324, *a5, a5[1], 0x20000) )
    result = 1;
  else
LABEL_17:
    result = 0;
  return result;
}
// 4AEDC0: using guessed type int dword_4AEDC0[];

//----- (0043AB00) --------------------------------------------------------
int __userpurge CSMap::IsMoveTile@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int Number, int a8, int a9)
{
  _DWORD *v10; // eax
  int v11; // [esp-4h] [ebp-38h]
  int v12; // [esp+0h] [ebp-34h]
  int v13; // [esp+4h] [ebp-30h]
  int v14; // [esp+8h] [ebp-2Ch]
  int v16; // [esp+10h] [ebp-24h] BYREF
  int v17; // [esp+14h] [ebp-20h]
  int i; // [esp+18h] [ebp-1Ch]
  int v19; // [esp+1Ch] [ebp-18h]
  int v20; // [esp+20h] [ebp-14h]
  int v21; // [esp+24h] [ebp-10h]
  int v22; // [esp+28h] [ebp-Ch]
  BOOL v23; // [esp+2Ch] [ebp-8h]
  int v24; // [esp+30h] [ebp-4h]

  v19 = abs(Number);
  v24 = abs(a8);
  if ( v19 < v24 )
    v14 = v24;
  else
    v14 = v19;
  v22 = v14;
  v23 = 1;
  for ( i = 8; v23 && i <= 32; i += 8 )
  {
    v23 = i < v22;
    if ( i >= v22 )
      v13 = Number;
    else
      v13 = Number * i / v22;
    v20 = v13 + *(_DWORD *)a6;
    if ( v23 )
      v12 = a8 * i / v22;
    else
      v12 = a8;
    v21 = v12 + *(_DWORD *)(a6 + 4);
    v16 = v20 >> 5;
    v17 = v21 >> 5;
    if ( v20 >> 5 < 0 || v16 >> 8 >= 64 || v17 < 0 || v17 >> 8 >= 64 )
      return 0;
    v11 = ((v20 >> 3) & 3) + 4 * ((v21 >> 3) & 3);
    v10 = (_DWORD *)sub_435780(a1, &v16);
    if ( !CellMap::IsMoveTile(
            v10,
            a2,
            a3,
            a4,
            (Concurrency::details::_CancellationTokenRegistration *)a5,
            &v16,
            a9,
            v11) )
      return 0;
  }
  return 1;
}

//----- (0043AC60) --------------------------------------------------------
int __userpurge CellMap::IsMoveTile@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, _DWORD *a6, int a7, int a8)
{
  CRWLock *v10; // [esp+4h] [ebp-14h]
  int v11[2]; // [esp+8h] [ebp-10h] BYREF
  int v12; // [esp+10h] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+14h] [ebp-4h]

  if ( !a1 )
    return 0;
  v11[0] = (unsigned __int8)*a6;
  v11[1] = (unsigned __int8)a6[1];
  v12 = CCellMap::GetTile(a1, v11);
  if ( (*(_DWORD *)(v12 + 4) & (a7 | (1 << a8))) != 0 )
    return 0;
  v10 = (CRWLock *)CCellMap::GetLock(a1, v11);
  CRWLock::ReadLock(v10);
  for ( i = *(Concurrency::details::_CancellationTokenRegistration **)v12;
        i;
        i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
  {
    if ( *((_DWORD *)i + 4) == -6 )
    {
      *(_DWORD *)v12 = 0;
      ELOG("CSellMap::IsMoveTile %p %p\n", i, *(const void **)i);
      EBREAK(a2, a3, a4);
      return 0;
    }
    if ( a5 != i
      && (*(int (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, int))(*(_DWORD *)i + 56))(i, a8) )
    {
      CRWLock::ReadUnlock(v10, a2, a3, a4);
      return 0;
    }
  }
  CRWLock::ReadUnlock(v10, a2, a3, a4);
  return 1;
}

//----- (0043AD80) --------------------------------------------------------
int __thiscall CCellMap::GetLock(_DWORD *this, int *a2)
{
  return this[3] + 24 * (16 * (a2[1] >> 4) + (*a2 >> 4));
}

//----- (0043ADB0) --------------------------------------------------------
int __userpurge sub_43ADB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, unsigned int *a6)
{
  int v6; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // [esp+4h] [ebp-34h]
  int v11; // [esp+8h] [ebp-30h]
  int v12; // [esp+Ch] [ebp-2Ch]
  int Number; // [esp+1Ch] [ebp-1Ch]
  int v15; // [esp+20h] [ebp-18h]
  unsigned int v16; // [esp+24h] [ebp-14h]
  int v17; // [esp+28h] [ebp-10h]
  int v18; // [esp+30h] [ebp-8h]
  int v19; // [esp+34h] [ebp-4h]

  if ( *(_DWORD *)(a1 + 620) )
  {
    CFindPath::FreeNode((_DWORD *)(a1 + 580));
    *(_DWORD *)(a1 + 620) = 0;
  }
  if ( !sub_43B180((_DWORD *)(a1 + 580)) )
  {
    if ( CFindPath::SetNextPath((_DWORD *)(a1 + 580)) )
    {
      v9 = (_DWORD *)sub_43B1A0((_DWORD *)(a1 + 580));
      *a5 = *v9 - *(_DWORD *)(a1 + 324);
      a5[1] = v9[1] - *(_DWORD *)(a1 + 328);
      if ( *a5 && a5[1] )
        *a6 = 14 * *a6 / 0xA;
      return 1;
    }
    CFindPath::FreeNode((_DWORD *)(a1 + 580));
  }
  v16 = *a6;
  v17 = *(_DWORD *)(a1 + 304) + 32;
  Number = *(_DWORD *)(*(_DWORD *)(a1 + 456) + 324) - *(_DWORD *)(a1 + 324);
  v15 = abs(Number);
  v18 = *(_DWORD *)(*(_DWORD *)(a1 + 456) + 328) - *(_DWORD *)(a1 + 328);
  v19 = abs(v18);
  if ( v15 < v19 )
    v12 = 32 * v15 / v19;
  else
    v12 = 32 * v19 / v15;
  if ( v18 * v18 + Number * Number <= v17 * v17 )
  {
    if ( v15 >= v19 )
    {
      *a5 = v15 - *(_DWORD *)(a1 + 304) * dword_4AEDC0[2 * v12] / 32;
      a5[1] = v19 - *(_DWORD *)(a1 + 304) * dword_4AEDC4[2 * v12] / 32;
      a4 = v12;
      *a6 = *a5 * v16 / dword_4AEDC0[2 * v12];
    }
    else
    {
      *a5 = v15 - *(_DWORD *)(a1 + 304) * dword_4AEDC4[2 * v12] / 32;
      a5[1] = v19 - *(_DWORD *)(a1 + 304) * dword_4AEDC0[2 * v12] / 32;
      a4 = v12;
      *a6 = a5[1] * v16 / dword_4AEDC0[2 * v12];
    }
  }
  else if ( v15 >= v19 )
  {
    v6 = dword_4AEDC4[2 * v12];
    *a5 = dword_4AEDC0[2 * v12];
    a5[1] = v6;
  }
  else
  {
    *a5 = dword_4AEDC4[2 * v12];
    a5[1] = dword_4AEDC0[2 * v12];
  }
  if ( Number < 0 )
    v11 = -*a5;
  else
    v11 = *a5;
  *a5 = v11;
  if ( v18 < 0 )
    v10 = -a5[1];
  else
    v10 = a5[1];
  a5[1] = v10;
  if ( !CSMap::IsMoveTile(*(_DWORD **)(a1 + 312), a2, a3, a4, a1, a1 + 324, *a5, a5[1], 0x20000) )
  {
    if ( !CFindPath::FindPath(a1 + 580, a2, a3, a4, (_DWORD *)(a1 + 324), (int *)(*(_DWORD *)(a1 + 456) + 324)) )
      return 0;
    v8 = (_DWORD *)sub_43B1A0((_DWORD *)(a1 + 580));
    *a5 = *v8 - *(_DWORD *)(a1 + 324);
    a5[1] = v8[1] - *(_DWORD *)(a1 + 328);
    if ( *a5 )
    {
      if ( a5[1] )
        *a6 = 14 * v16 / 0xA;
    }
  }
  return 1;
}
// 4AEDC0: using guessed type int dword_4AEDC0[];

//----- (0043B180) --------------------------------------------------------
BOOL __thiscall sub_43B180(_DWORD *this)
{
  return this[4] == (_DWORD)&unk_4B83C8;
}

//----- (0043B1A0) --------------------------------------------------------
int __thiscall sub_43B1A0(_DWORD *this)
{
  return this[4] + 20;
}

//----- (0043B1C0) --------------------------------------------------------
int __thiscall CFindPath::SetNextPath(_DWORD *this)
{
  this[4] = *(_DWORD *)this[4];
  if ( this[4] )
    return 1;
  this[4] = &unk_4B83C8;
  return 0;
}

//----- (0043B200) --------------------------------------------------------
Concurrency::details::_CancellationTokenRegistration *__usercall sub_43B200@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return sub_482400(*(char **)(a1 + 312), a2, a3, a4, (_DWORD *)(a1 + 316), *(int *)(a1 + 512) >> 5);
}

//----- (0043B230) --------------------------------------------------------
void __usercall CMonsterReal::ManageBuff(_QWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( CChar::IsMState(a1, 512i64) )
    sub_40A990((int)a1, a2, a3, a4, 8);
  if ( CChar::IsMState(a1, 0x10000000i64) )
    sub_40A990((int)a1, a2, a3, a4, 26);
}

//----- (0043B290) --------------------------------------------------------
int __userpurge CMonsterReal::ApplyDamage@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7, int *a8, _DWORD *a9, int *a10, int a11)
{
  int result; // eax
  int v12; // [esp+0h] [ebp-1Ch]
  int v13; // [esp+4h] [ebp-18h]
  int v14; // [esp+10h] [ebp-Ch]

  if ( CChar::IsNormal((_DWORD *)a1) )
  {
    if ( a11 )
      v14 = (*(int (__thiscall **)(int))(*(_DWORD *)a11 + 28))(a11);
    else
      v14 = 0;
    if ( CChar::IsMState((_QWORD *)a1, 0x1000000i64) )
      *a8 = a6;
    else
      *a8 = a7 + CChar::GetFatalDamage((int)a5, a7, a9, v14);
    if ( *a8 >= *(_DWORD *)(a1 + 272) )
      v13 = *(_DWORD *)(a1 + 272);
    else
      v13 = *a8;
    *a8 = v13;
    *(_DWORD *)(a1 + 272) -= *a8;
    if ( *a10 )
    {
      if ( *(int *)(a1 + 272) <= 0 )
      {
        *a10 = 0;
      }
      else
      {
        if ( *a10 >= *(_DWORD *)(a1 + 272) )
          v12 = *(_DWORD *)(a1 + 272);
        else
          v12 = *a10;
        *a10 = v12;
        *(_DWORD *)(a1 + 272) -= *a10;
      }
    }
    sub_43B480((_DWORD *)a1, a2, a3, a4, a5, a7, *a10 + *a8);
    result = 1;
  }
  else
  {
    *a10 = 0;
    *a8 = 0;
    result = 0;
  }
  return result;
}

//----- (0043B400) --------------------------------------------------------
int __thiscall CChar::GetFatalDamage(int this, int a2, _DWORD *a3, int a4)
{
  int v4; // esi

  v4 = a4 + *(_DWORD *)(this + 256);
  if ( v4 < RandomBetween(1, 100) && !CChar::IsMState((_QWORD *)this, 0x8000000i64) )
    return 0;
  *a3 = 1;
  return a2 * (2 * *(_DWORD *)(this + 180) + 50) / 100;
}

//----- (0043B480) --------------------------------------------------------
int __userpurge sub_43B480@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  int result; // eax

  sub_40A590(a1, a5[85]);
  a1[116] = GetTickCount() + 20000;
  a1[156] = 0;
  if ( !sub_40A660(a5, 512) && sub_445CF0(a1[15], a5[15]) >= 3 )
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a5 + 88))(a5, 35, 1, a7 / 10);
  result = sub_408E10(a5, 0x20000);
  if ( result )
  {
    result = RandomBetween(1, 100);
    if ( result <= 10 )
    {
      sub_40A830((int)a5, a2, a3, a4, 59);
      result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a5 + 88))(a5, 7, 1, a6);
    }
  }
  return result;
}

//----- (0043B550) --------------------------------------------------------
void __userpurge sub_43B550(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  volatile int *v7; // [esp+4h] [ebp-8h]
  volatile int *v8; // [esp+8h] [ebp-4h]

  if ( a5 )
  {
    v8 = sub_443890(a2, a3, a4, a6);
    if ( v8 )
    {
      sub_444F60((int)v8, a2, a3, a4, *(_DWORD *)(a1 + 60), (_DWORD *)(a1 + 324));
      sub_401C50(v8, a2, a3, a4);
    }
  }
  else
  {
    v7 = (volatile int *)sub_446740(a2, a3, a4, a6);
    if ( v7 )
    {
      if ( sub_445CF0(*(_DWORD *)(a1 + 60), *((_DWORD *)v7 + 15)) >= 3 )
        (*(void (__thiscall **)(volatile int *, _DWORD))(*v7 + 184))(v7, 0);
      CIOObject::Release((CIOObject *)v7, a2, a3, a4, v7 + 86);
    }
  }
}

//----- (0043B5F0) --------------------------------------------------------
int __userpurge sub_43B5F0@<eax>(DWORD a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int *a6, int *a7)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  void *v8; // eax
  const std::pair<char const * const,CItem *> *v9; // eax
  int v10; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  int v12; // eax
  int v14; // [esp+4h] [ebp-80h]
  int v15; // [esp+8h] [ebp-7Ch]
  _DWORD *v16; // [esp+Ch] [ebp-78h]
  char v18[4]; // [esp+14h] [ebp-70h] BYREF
  int v19; // [esp+18h] [ebp-6Ch] BYREF
  char v20[8]; // [esp+1Ch] [ebp-68h] BYREF
  char v21[8]; // [esp+24h] [ebp-60h] BYREF
  char v22[4]; // [esp+2Ch] [ebp-58h] BYREF
  char v23[4]; // [esp+30h] [ebp-54h] BYREF
  int v24; // [esp+34h] [ebp-50h] BYREF
  int v25; // [esp+38h] [ebp-4Ch] BYREF
  volatile int *v26; // [esp+3Ch] [ebp-48h]
  int v27; // [esp+40h] [ebp-44h] BYREF
  int v28; // [esp+44h] [ebp-40h]
  int Number; // [esp+48h] [ebp-3Ch]
  CItem *v30; // [esp+4Ch] [ebp-38h] BYREF
  int v31; // [esp+50h] [ebp-34h] BYREF
  int v32; // [esp+54h] [ebp-30h]
  volatile int *v33; // [esp+58h] [ebp-2Ch]
  int v34; // [esp+5Ch] [ebp-28h]
  char *v35; // [esp+60h] [ebp-24h] BYREF
  int v36; // [esp+64h] [ebp-20h] BYREF
  int v37[3]; // [esp+68h] [ebp-1Ch] BYREF
  int v38; // [esp+74h] [ebp-10h]
  int v39; // [esp+78h] [ebp-Ch]
  int v40; // [esp+7Ch] [ebp-8h]
  int v41; // [esp+80h] [ebp-4h]

  v41 = 0;
  v40 = 0;
  v39 = *(_DWORD *)(*(_DWORD *)(a1 + 432) + 96);
  v38 = 0;
  sub_43E240(v37);
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 540), a2, a3, a4);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 528),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v36);
  while ( 1 )
  {
    v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 528), v23);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v36,
            v7) )
      break;
    v34 = 0;
    v33 = *(volatile int **)sub_43E1A0(&v36);
    v35 = 0;
    v32 = *((_DWORD *)v33 + 232);
    if ( v32 )
      v35 = (char *)sub_443890(a2, a3, a4, v32);
    if ( v35 )
    {
      v30 = *(CItem **)(sub_43E1A0(&v36) + 4);
      std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)v37,
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)&v31,
        (const int *)&v35);
      v8 = sub_482CA0(v37, v22);
      if ( (unsigned __int8)unknown_libname_25(v8) )
      {
        sub_4010D0((volatile int *)v35, a2, a3, a4);
        std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
          (std::pair<char const * const,CItem *> *)v21,
          (const char *const *)&v35,
          &v30);
        sub_43E290(
          v37,
          (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v20,
          v9);
      }
      else
      {
        v16 = (_DWORD *)(sub_43E1A0(&v31) + 4);
        *v16 += v30;
      }
      sub_401C50((volatile int *)v35, a2, a3, a4);
    }
    else
    {
      Number = *(_DWORD *)(a1 + 60) - *((_DWORD *)v33 + 15);
      v10 = sub_43E1A0(&v36);
      a4 = a1;
      v34 = *(_DWORD *)(v10 + 4) * v39 / *(_DWORD *)(a1 + 572);
      if ( v41 < v34 )
      {
        v41 = v34;
        *a7 = unknown_libname_4(v33);
      }
      if ( Number < 0 )
      {
        if ( abs(Number) >= 20 )
          v14 = 20;
        else
          v14 = abs(Number);
        v34 -= dword_4B07D0[21 * ((*((_DWORD *)v33 + 15) - 1) / 10) + v14] * v34 / 100;
      }
      else
      {
        if ( Number >= 20 )
          v15 = 20;
        else
          v15 = Number;
        v34 += dword_4B0488[21 * ((*((_DWORD *)v33 + 15) - 1) / 10) + v15] * v34 / 100;
      }
      if ( v34 > 0 )
      {
        v28 = (dword_4B8C34 & 1) != 0 ? 0x64 : 0;
        if ( sub_408E10(v33, 2) )
        {
          v28 += 30;
        }
        else if ( sub_408E10(v33, 1) )
        {
          v28 += 30;
        }
        (*(void (__cdecl **)(volatile int *, int, int, int, int))(*v33 + 88))(
          v33,
          25,
          1,
          v34 + v28 * v34 / 100,
          (v34 + v28 * v34 / 100) >> 31);
        if ( v40 < v34 )
        {
          v40 = v34;
          *a6 = unknown_libname_4(v33);
        }
        v38 += v34;
      }
    }
    sub_401C50(v33, a2, a3, a4);
    sub_46FA50(&v36, &v24, 0);
  }
  if ( !sub_43DF10(v37) )
  {
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)v37,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v27);
    while ( 1 )
    {
      v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(v37, v18);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v27,
              v11) )
        break;
      v26 = *(volatile int **)sub_43E1A0(&v27);
      v12 = sub_43E1A0(&v27);
      a4 = a1;
      v25 = *(_DWORD *)(v12 + 4) * v39 / *(_DWORD *)(a1 + 572);
      sub_4443D0((int)v26, a2, a3, a1, &v25, *(_DWORD *)(a1 + 60), (_DWORD *)(a1 + 324));
      if ( v40 < v25 )
      {
        v40 = v25;
        *a5 = 1;
        *a6 = *((_DWORD *)v26 + 4);
      }
      v38 += v25;
      sub_401C50(v26, a2, a3, a1);
      sub_46FA50(&v27, &v19, 0);
    }
  }
  sub_43DF90((int *)(a1 + 528));
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 540), a2, a3, a4);
  if ( 2 * v38 < v39 )
    *a6 = 0;
  return sub_43BA00(v37);
}
// 43B71F: variable 'v9' is possibly undefined
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);
// 4B8C34: using guessed type int dword_4B8C34;

//----- (0043BA00) --------------------------------------------------------
int __thiscall sub_43BA00(int *this)
{
  return sub_43E270(this);
}

//----- (0043BA20) --------------------------------------------------------
void __usercall sub_43BA20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+4h] [ebp-10h] BYREF
  int v7; // [esp+8h] [ebp-Ch] BYREF
  volatile int *v8; // [esp+Ch] [ebp-8h]
  int v9; // [esp+10h] [ebp-4h] BYREF

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 540), a2, a3, a4);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 528),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 528), v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
            v4) )
      break;
    v8 = *(volatile int **)sub_43E1A0(&v9);
    sub_401C50(v8, a2, a3, a4);
    sub_46FA50(&v9, &v7, 0);
  }
  sub_43DF90((int *)(a1 + 528));
  *(_DWORD *)(a1 + 572) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 540), a2, a3, a4);
}

//----- (0043BAC0) --------------------------------------------------------
int __userpurge sub_43BAC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int *a7, _DWORD *a8, int *a9, int a10)
{
  int result; // eax
  int v11; // [esp+0h] [ebp-20h]
  int v12; // [esp+4h] [ebp-1Ch]
  int v14; // [esp+Ch] [ebp-14h] BYREF
  int v15; // [esp+10h] [ebp-10h] BYREF
  int v16; // [esp+14h] [ebp-Ch]
  int v17; // [esp+18h] [ebp-8h]
  int v18; // [esp+1Ch] [ebp-4h]

  if ( a10 )
    v12 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 52))(a10);
  else
    v12 = 1;
  v16 = v12;
  v18 = sub_437890(a1, a5, a6, v12);
  if ( v18 > 0 )
  {
    CMonsterReal::ManageBuff(a1, a2, a3, a4);
    sub_411FF0((int)a1, a2, a3, a4);
    if ( CMonsterReal::ApplyDamage((int)a1, a2, a3, a4, a5, a6, v18, a7, a8, a9, a10) )
    {
      v17 = *a9 + *a7;
      if ( a10 )
      {
        v11 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 24))(a10);
        (*(void (__thiscall **)(_DWORD *, _DWORD *, int, int))(*a1 + 208))(a1, a5, v17, v11);
      }
      else
      {
        (*(void (__thiscall **)(_DWORD *, _DWORD *, int, _DWORD))(*a1 + 208))(a1, a5, v17, 0);
      }
      if ( (int)a1[68] > 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int, int))(*a1 + 248))(a1, v17, v16);
        sub_412010((int)a1, a2, a3, a4);
      }
      else
      {
        v15 = 0;
        v14 = 0;
        (*(void (__thiscall **)(_DWORD *, _DWORD *, _DWORD, int *, int *))(*a1 + 232))(a1, a5, *a8, &v15, &v14);
        sub_412010((int)a1, a2, a3, a4);
        sub_43B550((int)a1, a2, a3, a4, v15, v14);
      }
      result = 1;
    }
    else
    {
      sub_412010((int)a1, a2, a3, a4);
      result = 1;
    }
  }
  else
  {
    *a9 = 0;
    *a7 = 0;
    result = 0;
  }
  return result;
}

//----- (0043BC30) --------------------------------------------------------
DWORD __userpurge sub_43BC30@<eax>(DWORD a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int *a7, int *a8)
{
  int v8; // eax
  DWORD result; // eax
  int v11; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(a1 + 272) = 0;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a5 + 76))(a5, *(_DWORD *)(a1 + 28), a6);
  v11 = 0;
  sub_43B5F0(a1, a2, a3, a4, a7, a8, &v11);
  v8 = (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 164))(a5);
  sub_435310(*(_DWORD **)(a1 + 432), a2, a3, a4, a1, *a7, *a8, v11, v8);
  sub_40AA40(a1, a2, a3, a4);
  CChar::AddGState((volatile LONG *)a1, 1);
  sub_40ACD0(a2, a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), 8);
  result = GetTickCount() + 10000;
  *(_DWORD *)(a1 + 460) = result;
  return result;
}

//----- (0043BCF0) --------------------------------------------------------
int __thiscall sub_43BCF0(int this)
{
  sub_437340((char *)this);
  *(_DWORD *)this = &off_49C198;
  memset((void *)(this + 632), 0, 0x18u);
  *(_DWORD *)(this + 632) = GetTickCount();
  *(_DWORD *)(this + 656) = 0;
  return this;
}
// 49C198: using guessed type int (__stdcall *off_49C198)(int);

//----- (0043BD50) --------------------------------------------------------
int __thiscall sub_43BD50(_DWORD *this)
{
  return sub_40A660(this, 73728);
}

//----- (0043BD70) --------------------------------------------------------
int __thiscall sub_43BD70(int this, int a2, int a3)
{
  sub_437340((char *)this);
  *(_DWORD *)this = &off_49C198;
  *(_DWORD *)(this + 308) = a2;
  *(_DWORD *)(this + 312) = a3;
  memset((void *)(this + 632), 0, 0x18u);
  *(_DWORD *)(this + 632) = GetTickCount() + 3600000;
  *(_DWORD *)(this + 460) = GetTickCount() + 10000;
  *(_DWORD *)(this + 524) = *(_DWORD *)(this + 460);
  *(_DWORD *)(this + 656) = 0;
  CChar::AddGState((volatile LONG *)this, 0x2000);
  return this;
}
// 49C198: using guessed type int (__stdcall *off_49C198)(int);

//----- (0043BE20) --------------------------------------------------------
int __usercall sub_43BE20@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  int result; // eax
  void *v4; // eax
  int v5; // eax
  int v6; // [esp-28h] [ebp-64h]
  int v7; // [esp-24h] [ebp-60h]
  int v8; // [esp-20h] [ebp-5Ch]
  int v9; // [esp-1Ch] [ebp-58h]
  int v10; // [esp-18h] [ebp-54h]
  int v11; // [esp-14h] [ebp-50h]
  int v12; // [esp-10h] [ebp-4Ch]
  int v13; // [esp-Ch] [ebp-48h]
  int v14; // [esp-8h] [ebp-44h]
  _DWORD *v15; // [esp+4h] [ebp-38h]
  CMemory **v16; // [esp+10h] [ebp-2Ch]
  char v17[4]; // [esp+14h] [ebp-28h] BYREF
  int v18; // [esp+18h] [ebp-24h] BYREF
  int v19; // [esp+1Ch] [ebp-20h]
  int v20[2]; // [esp+20h] [ebp-1Ch] BYREF
  int v21; // [esp+28h] [ebp-14h]
  int v22; // [esp+2Ch] [ebp-10h] BYREF
  int v23; // [esp+30h] [ebp-Ch]
  int v24; // [esp+34h] [ebp-8h] BYREF
  _DWORD *v25; // [esp+38h] [ebp-4h]

  v21 = sub_47FED0(3);
  if ( !v21 )
    return 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
  v18 = 213;
  sub_460550(dword_4B8E70, &v24, &v18);
  v4 = sub_482CA0(dword_4B8E70, v17);
  if ( (unsigned __int8)unknown_libname_25(v4) )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
    result = 0;
  }
  else
  {
    v19 = *(_DWORD *)(sub_43E1A0(&v24) + 4);
    if ( (*(_DWORD *)(v19 + 268) & (1 << dword_4BAAA0)) != 0 )
    {
      v22 = 57367;
      v23 = 8931;
      v16 = sub_401000(0x298u);
      if ( v16 )
        v15 = (_DWORD *)sub_43BD70((int)v16, 3, v21);
      else
        v15 = 0;
      v25 = v15;
      sub_40A460(v15, &v22);
      sub_40A4D0(v25, 0, -1);
      (*(void (__thiscall **)(_DWORD *, int))(*v25 + 188))(v25, v19);
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
      sub_411FF0((int)v25, a1, a2, a3);
      v20[0] = v22 >> 5;
      v20[1] = v23 >> 5;
      if ( sub_4801B0((_DWORD *)v25[78], a1, a2, a3, (int)v25, v20) )
      {
        (*(void (__thiscall **)(_DWORD *, _DWORD))(*v25 + 192))(v25, 0);
        v14 = (*(int (__thiscall **)(_DWORD *, int))(*v25 + 220))(v25, *(_DWORD *)(v25[108] + 64) | 0x80);
        v13 = v25[73];
        v12 = v25[72];
        v11 = v25[70];
        v10 = CChar::GetMaxHP(v25);
        v9 = v25[68];
        v8 = v25[85];
        v7 = v25[82];
        v6 = v25[81];
        v5 = unknown_libname_4(v25);
        sub_40ACD0(
          a1,
          a2,
          a3,
          (int)v25,
          20,
          "wdddwdddIsb",
          *(_DWORD *)(v25[108] + 60),
          v5,
          v6,
          v7,
          v8,
          v9,
          v10,
          v11,
          v12,
          v13,
          v14);
        sub_412010((int)v25, a1, a2, a3);
        CNPCScenario::MirrorGState(a1, a2, a3, 0, 3);
        CNPCScenario::ThroneGState(a1, a2, a3, 0, 12);
        sub_446920(a1, a2, a3, 3, 92, "bb", 0, 99);
        result = 1;
      }
      else
      {
        sub_412010((int)v25, a1, a2, a3);
        if ( v25 )
          (*(void (__thiscall **)(_DWORD *, int))*v25)(v25, 1);
        result = 0;
      }
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
      result = 1;
    }
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0043C0A0) --------------------------------------------------------
void __usercall sub_43C0A0(Concurrency::details::_CancellationTokenRegistration *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // [esp+0h] [ebp-18h]
  int i; // [esp+10h] [ebp-8h]
  int *v7; // [esp+14h] [ebp-4h]

  sub_411FF0((int)a1, a2, a3, a4);
  (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, _DWORD))(*(_DWORD *)a1 + 184))(a1, 0);
  sub_43BA20((int)a1, a2, a3, a4);
  v7 = (int *)((char *)a1 + 656);
  for ( i = *((_DWORD *)a1 + 164); i; i = *v7 )
  {
    *v7 = *(_DWORD *)(i + 84);
    v4 = (**(int (__thiscall ***)(int, int))i)(i, 1);
  }
  (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, int))(*(_DWORD *)a1 + 196))(a1, v4);
  sub_480230(*((_DWORD **)a1 + 78), a2, a3, a4, a1, (int)a1 + 316);
  sub_412010((int)a1, a2, a3, a4);
  CNPCScenario::ResetBossTower(a2, a3, a4, 0);
  sub_402020((volatile int *)a1, a2, a3, a4);
}
// 43C107: conditional instruction was optimized away because of '%var_8.4!=0'
// 43C12B: variable 'v4' is possibly undefined

//----- (0043C170) --------------------------------------------------------
void __userpurge sub_43C170(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  if ( !a1[117] )
    a1[117] = 1;
  a1[157] = GetTickCount();
  sub_4379B0(a1, a2, a3, a4, a5);
}

//----- (0043C1C0) --------------------------------------------------------
void __usercall sub_43C1C0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( !sub_4372D0((int)a1, a2, a3, a4) && !(*(int (__thiscall **)(int *))(*a1 + 244))(a1) )
  {
    sub_411FF0((int)a1, a2, a3, a4);
    if ( a1[114] && !CChar::IsNormal((_DWORD *)a1[114]) )
    {
      (*(void (__thiscall **)(int *, int))(*a1 + 132))(a1, a1[114]);
      (*(void (__thiscall **)(int *, _DWORD))(*a1 + 184))(a1, 0);
    }
    switch ( a1[118] )
    {
      case 1:
      case 2:
      case 3:
        (*(void (__thiscall **)(int *))(*a1 + 240))(a1);
        break;
      case 4:
        (*(void (__thiscall **)(int *))(*a1 + 236))(a1);
        break;
      case 5:
        if ( sub_471760(a1 + 120, a2, a3, a4, a1[114]) )
          a1[118] = 6;
        break;
      case 6:
        sub_471830(a1 + 120, a2, a3, a4, (volatile int *)a1[114]);
        a1[118] = a1[114] != 0 ? 4 : 1;
        break;
      default:
        break;
    }
    sub_412010((int)a1, a2, a3, a4);
  }
}

//----- (0043C310) --------------------------------------------------------
void __usercall sub_43C310(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-8h]
  DWORD v7; // [esp+Ch] [ebp-4h]

  if ( !sub_4372D0(a1, a2, a3, a4) )
  {
    sub_40A8E0(a1, a2, a3, a4);
    sub_411FF0(a1, a2, a3, a4);
    v7 = GetTickCount();
    if ( sub_40A660((_DWORD *)a1, 0x10000) && v7 >= *(_DWORD *)(a1 + 460) )
    {
      sub_40ACD0(a2, a3, a4, a1, 25, "d", *(_DWORD *)(a1 + 28));
      sub_412010(a1, a2, a3, a4);
      CBase::Delete((volatile signed __int32 *)a1);
    }
    else if ( sub_40A660((_DWORD *)a1, 0x2000) && v7 >= *(_DWORD *)(a1 + 524) )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a1 + 112))(a1, 0x2000);
      sub_412010(a1, a2, a3, a4);
    }
    else
    {
      v5 = CChar::GetMaxHP((_DWORD *)a1);
      if ( *(_DWORD *)(a1 + 272) < v5 && v7 >= *(_DWORD *)(a1 + 464) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 7, 1, v5);
        sub_43BA20(a1, a2, a3, a4);
      }
      if ( *(_DWORD *)(a1 + 468)
        && !unknown_libname_6(a1 + 480)
        && !sub_43DF10((void *)(a1 + 528))
        && v7 - *(_DWORD *)(a1 + 628) <= 0x2710 )
      {
        (*(void (__thiscall **)(int, int, int, int, int))(*(_DWORD *)a1 + 228))(a1, 232, 5, 12, 3);
        sub_43CB80(a1, a2, a3, a4);
        v6 = -1;
        if ( *(_DWORD *)(a1 + 632) <= v7 )
          v6 = 8;
        if ( *(_DWORD *)(a1 + 272) <= 60 * v5 / 100 && *(_DWORD *)(a1 + 636) <= v7 )
        {
          *(_DWORD *)(a1 + 636) = v7 + 47000;
          if ( v6 < 0 )
            v6 = 5;
        }
        if ( *(_DWORD *)(a1 + 272) <= 50 * v5 / 100 && *(_DWORD *)(a1 + 640) <= v7 )
        {
          *(_DWORD *)(a1 + 640) = v7 + 83000;
          if ( v6 < 0 && RandomBetween(1, 100) <= 90 )
            v6 = 4;
        }
        if ( *(_DWORD *)(a1 + 272) <= 75 * v5 / 100 && *(_DWORD *)(a1 + 644) <= v7 )
        {
          *(_DWORD *)(a1 + 644) = v7 + 14000;
          if ( v6 < 0 && RandomBetween(1, 100) <= 80 )
            v6 = 2;
        }
        if ( *(_DWORD *)(a1 + 648) <= v7 )
        {
          *(_DWORD *)(a1 + 648) = v7 + 32000;
          if ( v6 < 0 && RandomBetween(1, 100) <= 85 )
            v6 = 3;
        }
        if ( *(_DWORD *)(a1 + 652) <= v7 )
        {
          *(_DWORD *)(a1 + 652) = v7 + 10000;
          if ( v6 < 0 && RandomBetween(1, 100) <= 75 )
            v6 = *(_DWORD *)(a1 + 272) <= 50 * v5 / 100;
        }
        if ( v6 >= 0 )
        {
          if ( sub_471560(a1 + 480, v6) )
            *(_DWORD *)(a1 + 472) = 5;
        }
      }
      sub_412010(a1, a2, a3, a4);
    }
  }
}
// 40B640: using guessed type int __thiscall unknown_libname_6(_DWORD);

//----- (0043C660) --------------------------------------------------------
void __usercall sub_43C660(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-5Ch]
  int v9; // [esp-8h] [ebp-58h]
  int v10; // [esp-4h] [ebp-54h]
  int v11; // [esp-4h] [ebp-54h]
  int v13; // [esp+24h] [ebp-2Ch] BYREF
  int v14; // [esp+28h] [ebp-28h] BYREF
  CIOObject *v15; // [esp+2Ch] [ebp-24h]
  int v16; // [esp+30h] [ebp-20h] BYREF
  int v17; // [esp+34h] [ebp-1Ch]
  int v18; // [esp+38h] [ebp-18h]
  CMemory *i; // [esp+3Ch] [ebp-14h]
  __int64 v20; // [esp+40h] [ebp-10h]
  DWORD v21; // [esp+48h] [ebp-8h]
  CIOObject *v22; // [esp+4Ch] [ebp-4h]

  if ( !CChar::IsMState(a1, 268435712i64) )
  {
    v21 = GetTickCount();
    if ( v21 >= a1[115] )
    {
      v20 = sub_43A380(a1 + 81, (_DWORD *)(a1[114] + 324));
      if ( a1[77] == *(_DWORD *)(a1[114] + 308) && v20 <= a1[129] * a1[129] )
      {
        if ( v20 <= a1[76] * a1[76] )
        {
          a1[115] = v21 + CChar::GetASpeed(a1);
          a1[131] = a1[115];
          sub_40A4D0(a1, *(_DWORD *)(a1[114] + 324) - a1[81], *(_DWORD *)(a1[114] + 328) - a1[82]);
          v22 = (CIOObject *)a1[114];
          CIOObject::AddRef(v22, a2, a3, a4, (volatile int *)v22 + 86);
          for ( i = sub_4822A0(*((char **)v22 + 78), a2, a3, a4, (_DWORD *)v22 + 79, 1);
                i;
                i = (CMemory *)CBaseList::Pop((int)i, a2, a3, a4) )
          {
            v15 = (CIOObject *)unknown_libname_10(i);
            v16 = 0;
            v13 = 0;
            v18 = 0;
            v17 = 0;
            v14 = (*(int (__thiscall **)(_DWORD *, CIOObject *))(*a1 + 168))(a1, v15);
            v17 = (*(int (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v15 + 148))(v15, a1);
            if ( !v17 )
            {
              v4 = sub_408E10(v15, 0x8000);
              if ( sub_43A510((int)a1, v15, v4 != 0 ? 0xFFFFFFFB : 0) )
              {
                sub_412010((int)a1, a2, a3, a4);
                v5 = CChar::GetAttack(a1);
                v18 = (*(int (__thiscall **)(CIOObject *, _DWORD *, int, int *, int *, int *, _DWORD))(*(_DWORD *)v15 + 72))(
                        v15,
                        a1,
                        v5,
                        &v16,
                        &v13,
                        &v14,
                        0);
                sub_411FF0((int)a1, a2, a3, a4);
              }
            }
            if ( v15 == v22 )
            {
              v11 = v18 | (2 * v13) | (4 * v17);
              v9 = v14;
              v8 = v16;
              v7 = unknown_libname_4(v15);
              sub_40ACD0(a2, a3, a4, (int)a1, 31, "ddwwb", a1[7], v7, v8, v9, v11);
            }
            else if ( v18 )
            {
              v10 = v16;
              v6 = unknown_libname_4(v15);
              sub_448C90(a2, a3, a4, (int)v15, 50, "dbw", v6, 23, v10);
            }
          }
          CIOObject::Release(v22, a2, a3, a4, (volatile int *)v22 + 86);
        }
        else if ( !CChar::IsMState(a1, 512i64) )
        {
          a1[155] = 1;
          a1[118] = 2;
        }
      }
      else
      {
        (*(void (__thiscall **)(_DWORD *, _DWORD))(*a1 + 132))(a1, a1[114]);
        (*(void (__thiscall **)(_DWORD *, _DWORD))(*a1 + 184))(a1, 0);
      }
    }
  }
}

//----- (0043C9A0) --------------------------------------------------------
void __userpurge sub_43C9A0(volatile int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  if ( !sub_40A640(a1) )
  {
    sub_411FF0((int)a1, a2, a3, a4);
    for ( i = (_DWORD *)*((_DWORD *)a1 + 164); i && i[8] != a5; i = (_DWORD *)i[21] )
      ;
    if ( i )
    {
      --i[11];
      --i[12];
    }
    sub_412010((int)a1, a2, a3, a4);
  }
  sub_40A0E0(a1, a2, a3, a4, a5);
}

//----- (0043CA30) --------------------------------------------------------
_DWORD *__thiscall sub_43CA30(_DWORD *this, int a2, int a3, int a4, int a5)
{
  _DWORD *result; // eax
  _DWORD *v6; // [esp+0h] [ebp-14h]
  CMemory **v8; // [esp+8h] [ebp-Ch]
  _DWORD *i; // [esp+10h] [ebp-4h]

  for ( i = (_DWORD *)this[164]; i && i[8] != a2; i = (_DWORD *)i[21] )
    ;
  if ( i )
  {
    result = i;
    i[11] += a5;
    if ( i[11] > a4 )
    {
      result = i;
      i[11] = a4;
    }
  }
  else
  {
    v8 = sub_401000(0x58u);
    if ( v8 )
      v6 = sub_4358A0(v8, this, a2, a3, a5);
    else
      v6 = 0;
    v6[21] = this[164];
    result = v6;
    this[164] = v6;
  }
  return result;
}

//----- (0043CAF0) --------------------------------------------------------
int __thiscall sub_43CAF0(_DWORD *this, int a2, int a3)
{
  int result; // eax

  if ( !this[117] )
    this[117] = 1;
  result = GetTickCount();
  this[157] = result;
  if ( a2 >= 100 )
  {
    result = unknown_libname_6(this + 120);
    if ( !result )
    {
      result = RandomBetween(1, 100);
      if ( result <= 80 )
      {
        result = sub_471560((int)(this + 120), 7 - (a3 != 0));
        if ( result )
          this[118] = 5;
      }
    }
  }
  return result;
}
// 40B640: using guessed type int __thiscall unknown_libname_6(_DWORD);

//----- (0043CB80) --------------------------------------------------------
int __usercall sub_43CB80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int result; // eax
  int j; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]

  result = a1;
  for ( i = *(_DWORD *)(a1 + 656); i; i = result )
  {
    for ( j = 0; j < 3 && *(_DWORD *)(i + 48) < *(_DWORD *)(i + 44) && sub_436C60(a2, a3, a4, i, a1); ++j )
      InterlockedIncrement((volatile LONG *)(i + 48));
    result = *(_DWORD *)(i + 84);
  }
  return result;
}

//----- (0043CC00) --------------------------------------------------------
int __stdcall CMonsterNotReal::AddBuff(_DWORD *a1)
{
  if ( a1 )
    sub_402460(a1, 1);
  return 0;
}

//----- (0043CC40) --------------------------------------------------------
int __userpurge sub_43CC40@<eax>(volatile signed __int32 *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int *a7, _DWORD *a8, _DWORD *a9, int a10)
{
  int result; // eax
  int v11; // [esp+0h] [ebp-1Ch]
  int v12; // [esp+4h] [ebp-18h]
  int v13; // [esp+8h] [ebp-14h]
  int v15; // [esp+14h] [ebp-8h]

  *a9 = 0;
  if ( a10 )
    v13 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 52))(a10);
  else
    v13 = 1;
  v15 = sub_437890(a1, a5, a6, v13);
  if ( v15 > 0 )
  {
    sub_411FF0((int)a1, a2, a3, a4);
    if ( CChar::IsNormal(a1) )
    {
      if ( a10 )
        v12 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 28))(a10);
      else
        v12 = 0;
      *a7 = v15 + CChar::GetFatalDamage((int)a5, v15, a8, v12);
      if ( *a7 >= *((_DWORD *)a1 + 68) )
        v11 = *((_DWORD *)a1 + 68);
      else
        v11 = *a7;
      *a7 = v11;
      *((_DWORD *)a1 + 68) -= *a7;
      if ( *((int *)a1 + 68) > 0 )
      {
        sub_412010((int)a1, a2, a3, a4);
      }
      else
      {
        *((_DWORD *)a1 + 68) = 0;
        sub_40ACD0(a2, a3, a4, (int)a1, 30, "db", *((_DWORD *)a1 + 7), 9);
        sub_412010((int)a1, a2, a3, a4);
        CBase::Delete(a1);
      }
      result = 1;
    }
    else
    {
      sub_412010((int)a1, a2, a3, a4);
      *a7 = 0;
      result = 0;
    }
  }
  else
  {
    *a7 = 0;
    result = 0;
  }
  return result;
}

//----- (0043CDB0) --------------------------------------------------------
int __thiscall sub_43CDB0(_DWORD *this, int a2)
{
  int result; // eax

  sub_4371C0((int)this, a2);
  memcpy(this + 16, (const void *)(a2 + 100), 0x1Cu);
  result = CChar::GetMaxHP(this);
  this[68] = result;
  return result;
}

//----- (0043CE00) --------------------------------------------------------
void __userpurge sub_43CE00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  sub_437220(a1, a2, a3, a4, (int)a5);
  if ( a5 )
  {
    sub_4010D0(a5, a2, a3, a4);
    *(_DWORD *)(a1 + 476) = a5;
  }
}

//----- (0043CE40) --------------------------------------------------------
int __thiscall sub_43CE40(int this, int a2, int a3, int a4, int a5, char *Source)
{
  sub_436B50((_DWORD *)this);
  *(_DWORD *)this = &off_49BDA8;
  *(_DWORD *)(this + 308) = a2;
  *(_DWORD *)(this + 312) = a3;
  *(_DWORD *)(this + 340) = a4;
  *(_DWORD *)(this + 504) = a5;
  strcpy((char *)(this + 508), Source);
  *(_DWORD *)(this + 528) = 0;
  return this;
}
// 49BDA8: using guessed type int (__stdcall *off_49BDA8)(int);

//----- (0043CEC0) --------------------------------------------------------
_DWORD *__usercall sub_43CEC0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, int a7, int a8, char *Source, int a10)
{
  _DWORD *result; // eax
  void *v11; // eax
  int v12; // eax
  int v13; // [esp-28h] [ebp-58h]
  int v14; // [esp-24h] [ebp-54h]
  int v15; // [esp-20h] [ebp-50h]
  int v16; // [esp-1Ch] [ebp-4Ch]
  int v17; // [esp-18h] [ebp-48h]
  int v18; // [esp-14h] [ebp-44h]
  int v19; // [esp-10h] [ebp-40h]
  int v20; // [esp-Ch] [ebp-3Ch]
  int v21; // [esp-8h] [ebp-38h]
  _DWORD *v22; // [esp+4h] [ebp-2Ch]
  CMemory **v23; // [esp+10h] [ebp-20h]
  char v24[4]; // [esp+14h] [ebp-1Ch] BYREF
  _DWORD *v25; // [esp+18h] [ebp-18h]
  int v26[2]; // [esp+1Ch] [ebp-14h] BYREF
  int v27; // [esp+24h] [ebp-Ch]
  int v28; // [esp+28h] [ebp-8h] BYREF
  _DWORD *v29; // [esp+2Ch] [ebp-4h]

  v27 = sub_47FED0(a5);
  if ( v27 )
  {
    if ( CSMap::IsValidTile((_DWORD *)v27, (int *)a6, 0) )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
      sub_460550(dword_4B8E70, &v28, &a4);
      v11 = sub_482CA0(dword_4B8E70, v24);
      if ( (unsigned __int8)unknown_libname_25(v11)
        || (v25 = *(_DWORD **)(sub_43E1A0(&v28) + 4), (v25[67] & (1 << dword_4BAAA0)) == 0) )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
        result = 0;
      }
      else
      {
        v23 = sub_401000(0x218u);
        if ( v23 )
          v22 = (_DWORD *)sub_43CE40((int)v23, a5, v27, a7, a8, Source);
        else
          v22 = 0;
        v29 = v22;
        sub_40A460(v22, (_DWORD *)a6);
        (*(void (__thiscall **)(_DWORD *, _DWORD *))(*v29 + 188))(v29, v25);
        CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
        sub_411FF0((int)v29, a1, a2, a3);
        v26[0] = *(int *)a6 >> 5;
        v26[1] = *(int *)(a6 + 4) >> 5;
        if ( sub_4801B0((_DWORD *)v29[78], a1, a2, a3, (int)v29, v26) )
        {
          (*(void (__thiscall **)(_DWORD *, _DWORD))(*v29 + 192))(v29, 0);
          v21 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v29 + 220))(v29, *(_DWORD *)(v29[108] + 64));
          v20 = v29[73];
          v19 = v29[72];
          v18 = v29[70];
          v17 = CChar::GetMaxHP(v29);
          v16 = v29[68];
          v15 = v29[85];
          v14 = v29[82];
          v13 = v29[81];
          v12 = unknown_libname_4(v29);
          sub_40ACD0(
            a1,
            a2,
            a3,
            (int)v29,
            20,
            "wdddwdddIsb",
            *(_DWORD *)(v29[108] + 60),
            v12,
            v13,
            v14,
            v15,
            v16,
            v17,
            v18,
            v19,
            v20,
            v21);
          if ( a10 && sub_43D160(v25, 2) && a8 )
          {
            (*(void (__thiscall **)(_DWORD *, int))(*v29 + 100))(v29, 0x20000);
            v29[132] = GetTickCount() + 300000;
          }
          sub_412010((int)v29, a1, a2, a3);
          result = v29;
        }
        else
        {
          sub_412010((int)v29, a1, a2, a3);
          if ( v29 )
            (*(void (__thiscall **)(_DWORD *, int))*v29)(v29, 1);
          result = 0;
        }
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    LOG_ERR("CMonsterGuildWar::Create() not find Map (map:%d)", a5);
    result = 0;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0043D160) --------------------------------------------------------
BOOL __thiscall sub_43D160(_DWORD *this, int a2)
{
  return this[16] == a2;
}

//----- (0043D180) --------------------------------------------------------
int __userpurge sub_43D180@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int *a7, _DWORD *a8, _DWORD *a9, int a10)
{
  int result; // eax
  int v11; // eax
  int v12; // eax
  int v13; // [esp+0h] [ebp-14h]
  int v14; // [esp+4h] [ebp-10h]
  int v16; // [esp+10h] [ebp-4h]
  int v17; // [esp+10h] [ebp-4h]

  *a9 = 0;
  if ( a10 )
    v14 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 52))(a10);
  else
    v14 = 1;
  if ( !v14 )
    return 0;
  v16 = sub_437890((_DWORD *)a1, a5, a6, v14);
  if ( v16 <= 0 )
    return 0;
  sub_411FF0(a1, a2, a3, a4);
  if ( CChar::IsNormal((_DWORD *)a1) )
  {
    v17 = v16 + CChar::GetFatalDamage((int)a5, v16, a8, 0);
    if ( v17 >= *(_DWORD *)(a1 + 272) )
      v13 = *(_DWORD *)(a1 + 272);
    else
      v13 = v17;
    *a7 = v13;
    *(_DWORD *)(a1 + 272) -= *a7;
    *(_DWORD *)(a1 + 464) = GetTickCount() + 20000;
    if ( *(int *)(a1 + 272) > 0 )
    {
      sub_412010(a1, a2, a3, a4);
    }
    else
    {
      *(_DWORD *)(a1 + 272) = 0;
      (*(void (__thiscall **)(_DWORD *, _DWORD, _DWORD))(*a5 + 76))(a5, *(_DWORD *)(a1 + 28), *a8);
      sub_40ACD0(a2, a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), 9);
      sub_412010(a1, a2, a3, a4);
      if ( sub_43D160(*(_DWORD **)(a1 + 432), 2) )
      {
        v11 = CCastle::GetMonsterTile2CID(*(_DWORD *)(a1 + 308), *(_DWORD *)(a1 + 324), *(_DWORD *)(a1 + 328));
        CGuild::BrokenStandard(a2, a3, a4, v11);
      }
      else if ( sub_43D160(*(_DWORD **)(a1 + 432), 3) )
      {
        v12 = CCastle::GetMonsterTile2CID(*(_DWORD *)(a1 + 308), *(_DWORD *)(a1 + 324), *(_DWORD *)(a1 + 328));
        sub_416CD0(a2, a3, a4, v12, a1);
      }
      CBase::Delete((volatile signed __int32 *)a1);
    }
    result = 1;
  }
  else
  {
    sub_412010(a1, a2, a3, a4);
    result = 1;
  }
  return result;
}

//----- (0043D380) --------------------------------------------------------
int __thiscall sub_43D380(char *this, int a2)
{
  sub_4371C0((int)this, a2);
  memcpy(this + 64, (const void *)(a2 + 100), 0x1Cu);
  memcpy(this + 92, (const void *)(a2 + 128), 0x60u);
  return (*(int (__thiscall **)(char *))(*(_DWORD *)this + 84))(this);
}

//----- (0043D3E0) --------------------------------------------------------
void __usercall sub_43D3E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v5; // [esp+4h] [ebp-8h]
  DWORD v6; // [esp+8h] [ebp-4h]

  if ( !sub_4372D0((int)a1, a2, a3, a4) )
  {
    v6 = GetTickCount();
    if ( sub_40A660(a1, 0x20000) && a1[132] < v6 )
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 112))(a1, 0x20000);
    if ( !sub_416590() )
    {
      sub_411FF0((int)a1, a2, a3, a4);
      v5 = CChar::GetMaxHP(a1);
      if ( a1[68] < v5 && v6 >= a1[116] )
        (*(void (__cdecl **)(_DWORD *, int, int, int))(*a1 + 88))(a1, 7, 1, v5);
      sub_412010((int)a1, a2, a3, a4);
    }
  }
}

//----- (0043D490) --------------------------------------------------------
void __userpurge sub_43D490(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source)
{
  sub_411FF0(a1, a2, a3, a4);
  *(_DWORD *)(a1 + 504) = a5;
  strcpy((char *)(a1 + 508), Source);
  sub_412010(a1, a2, a3, a4);
}

//----- (0043D4D0) --------------------------------------------------------
int __userpurge sub_43D4D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10)
{
  int v11; // eax
  volatile int *v13; // [esp+8h] [ebp-10h]
  int v14; // [esp+Ch] [ebp-Ch]

  if ( sub_40A640(a1) )
    return 0;
  sub_411FF0((int)a1, a2, a3, a4);
  if ( a6 )
  {
    if ( a6 == 1 && a5 == a1[114] && a1[115] > GetTickCount() )
    {
      a1[115] = GetTickCount();
      (*(void (__thiscall **)(_DWORD *, _DWORD))(*a1 + 184))(a1, 0);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 112))(a5, 0x8000);
      sub_448C90(a2, a3, a4, a5, 36, "b", 89);
    }
LABEL_22:
    sub_412010((int)a1, a2, a3, a4);
    return 0;
  }
  if ( !a1[114] )
  {
    CIOObject::AddRef((CIOObject *)a5, a2, a3, a4, (volatile int *)(a5 + 348));
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 184))(a1, a5);
    v14 = 6;
    if ( *(_DWORD *)(a5 + 928) )
    {
      v13 = sub_443890(a2, a3, a4, *(_DWORD *)(a5 + 928));
      if ( v13 )
      {
        if ( sub_4453A0((int)v13, a2, a3, a4, 1) )
          v14 = 2;
        sub_401C50(v13, a2, a3, a4);
      }
    }
    else if ( sub_408E10((_DWORD *)a5, 0x2000000) )
    {
      v11 = unknown_libname_4(a5);
      sub_40AD60(a2, a3, a4, a5, 50, 15, "db", v11, 21);
      v14 = 2;
    }
    a1[115] = 1000 * v14 + GetTickCount();
    (*(void (__thiscall **)(int, int))(*(_DWORD *)a5 + 100))(a5, 0x8000);
    sub_448C90(a2, a3, a4, a5, 37, "bb", 87, v14);
    goto LABEL_22;
  }
  sub_412010((int)a1, a2, a3, a4);
  if ( a5 != a1[114] )
    sub_448C90(a2, a3, a4, a5, 36, "b", 86);
  return 0;
}

//----- (0043D6C0) --------------------------------------------------------
void __usercall sub_43D6C0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v6; // [esp+4h] [ebp-8h]
  _DWORD *v7; // [esp+8h] [ebp-4h]

  if ( !sub_4372D0(a1, a2, a3, a4) )
  {
    sub_411FF0(a1, a2, a3, a4);
    if ( !*(_DWORD *)(a1 + 456) )
      goto LABEL_10;
    if ( !CChar::IsNormal(*(_DWORD **)(a1 + 456)) )
    {
      (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 184))(a1, 0);
      sub_412010(a1, a2, a3, a4);
      return;
    }
    if ( *(_DWORD *)(a1 + 460) <= GetTickCount() )
    {
      v7 = *(_DWORD **)(a1 + 456);
      (*(void (__thiscall **)(_DWORD *, int))(*v7 + 112))(v7, 0x8000);
      sub_448C90(a2, a3, a4, (int)v7, 36, "b", 88);
      v6 = v7[232];
      if ( v6 )
      {
        sub_435310(*(_DWORD **)(a1 + 432), a2, a3, a4, a1, 1, v6, 0, 0);
      }
      else
      {
        v4 = unknown_libname_4(v7);
        sub_435310(*(_DWORD **)(a1 + 432), a2, a3, a4, a1, 0, v4, 0, 0);
      }
      (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 184))(a1, 0);
      sub_40ACD0(a2, a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), 9);
      sub_412010(a1, a2, a3, a4);
      CBase::Delete((volatile signed __int32 *)a1);
    }
    else
    {
LABEL_10:
      sub_412010(a1, a2, a3, a4);
    }
  }
}

//----- (0043D810) --------------------------------------------------------
void __userpurge sub_43D810(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::pair<int const ,CSocket *> *v5; // eax
  char v7[8]; // [esp+4h] [ebp-18h] BYREF
  const char *v8; // [esp+Ch] [ebp-10h] BYREF
  CItem *v9; // [esp+10h] [ebp-Ch] BYREF
  char v10[8]; // [esp+14h] [ebp-8h] BYREF

  sub_4010D0((volatile int *)a1, a2, a3, a4);
  CMonsterObject::Insert((int)&unk_4B8FE0, a2, a3, a4, (CLink *)(a1 + 420));
  CRWLock::WriteLock((CRWLock *)&unk_4B8EA8);
  v9 = (CItem *)a1;
  v8 = *(const char **)(a1 + 28);
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v10,
    &v8,
    &v9);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8E9C,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v7,
    v5);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8EA8, a2, a3, a4);
}
// 43D867: variable 'v5' is possibly undefined

//----- (0043D880) --------------------------------------------------------
void __usercall sub_43D880(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  int v8; // [esp+8h] [ebp-4h] BYREF

  CMonster::Remove(a1, a2, a3, a4);
  CRWLock::ReadLock((CRWLock *)&unk_4B8ECC);
  sub_460550(dword_4B8EC0, &v8, (_DWORD *)(a1 + 436));
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B8EC0, v7);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
         v4) )
  {
    v5 = sub_43E1A0(&v8);
    InterlockedDecrement((volatile LONG *)(*(_DWORD *)(v5 + 4) + 48));
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B8ECC, a2, a3, a4);
}

//----- (0043D900) --------------------------------------------------------
_DWORD *__thiscall sub_43D900(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_436B50(this);
  *this = &off_49BF78;
  this[77] = a2;
  this[78] = a3;
  this[85] = a4;
  this[115] = a6 + GetTickCount();
  this[34] = a5;
  this[35] = a5;
  return this;
}
// 49BF78: using guessed type int (__stdcall *off_49BF78)(int);

//----- (0043D970) --------------------------------------------------------
_DWORD *__usercall sub_43D970@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int *a6, int a7, int a8, int a9, int a10)
{
  _DWORD *result; // eax
  void *v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // [esp-28h] [ebp-54h]
  int v15; // [esp-24h] [ebp-50h]
  int v16; // [esp-20h] [ebp-4Ch]
  int v17; // [esp-1Ch] [ebp-48h]
  int v18; // [esp-18h] [ebp-44h]
  int v19; // [esp-14h] [ebp-40h]
  int v20; // [esp-10h] [ebp-3Ch]
  int v21; // [esp-Ch] [ebp-38h]
  int v22; // [esp-8h] [ebp-34h]
  _DWORD *v23; // [esp+4h] [ebp-28h]
  CMemory **v24; // [esp+10h] [ebp-1Ch]
  char v25[4]; // [esp+14h] [ebp-18h] BYREF
  int v26[2]; // [esp+18h] [ebp-14h] BYREF
  _DWORD *v27; // [esp+20h] [ebp-Ch]
  int v28; // [esp+24h] [ebp-8h] BYREF
  _DWORD *v29; // [esp+28h] [ebp-4h]

  v27 = (_DWORD *)sub_47FED0(a5);
  if ( v27 )
  {
    if ( CSMap::IsValidTile(v27, a6, 0) )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
      sub_460550(dword_4B8E70, &v28, &a4);
      v11 = sub_482CA0(dword_4B8E70, v25);
      if ( (unsigned __int8)unknown_libname_25(v11) )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
        result = 0;
      }
      else
      {
        v24 = sub_401000(0x1F8u);
        if ( v24 )
          v23 = sub_43D900(v24, a5, (int)v27, a7, a9, a10);
        else
          v23 = 0;
        v29 = v23;
        sub_40A460(v23, a6);
        v12 = sub_43E1A0(&v28);
        (*(void (__thiscall **)(_DWORD *, _DWORD))(*v29 + 188))(v29, *(_DWORD *)(v12 + 4));
        CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
        sub_411FF0((int)v29, a1, a2, a3);
        v26[0] = *a6 >> 5;
        v26[1] = a6[1] >> 5;
        if ( sub_4801B0((_DWORD *)v29[78], a1, a2, a3, (int)v29, v26) )
        {
          (*(void (__thiscall **)(_DWORD *, int))(*v29 + 192))(v29, a8);
          v22 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v29 + 220))(v29, *(_DWORD *)(v29[108] + 64));
          v21 = v29[73];
          v20 = v29[72];
          v19 = v29[70];
          v18 = CChar::GetMaxHP(v29);
          v17 = v29[68];
          v16 = v29[85];
          v15 = v29[82];
          v14 = v29[81];
          v13 = unknown_libname_4(v29);
          sub_40ACD0(
            a1,
            a2,
            a3,
            (int)v29,
            20,
            "wdddwdddIsb",
            *(_DWORD *)(v29[108] + 60),
            v13,
            v14,
            v15,
            v16,
            v17,
            v18,
            v19,
            v20,
            v21,
            v22);
          sub_412010((int)v29, a1, a2, a3);
          result = v29;
        }
        else
        {
          sub_412010((int)v29, a1, a2, a3);
          if ( v29 )
            (*(void (__thiscall **)(_DWORD *, int))*v29)(v29, 1);
          result = 0;
        }
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    LOG_ERR("CMonsterMagic::Create() not find Map (map:%d)", a5);
    result = 0;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0043DBA0) --------------------------------------------------------
void __usercall sub_43DBA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( !sub_4372D0(a1, a2, a3, a4) )
  {
    if ( *(_DWORD *)(a1 + 460) < GetTickCount() )
    {
      sub_40ACD0(a2, a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), 9);
      CBase::Delete((volatile signed __int32 *)a1);
    }
    sub_411FF0(a1, a2, a3, a4);
    if ( *(_DWORD *)(a1 + 476) )
    {
      if ( sub_40A640(*(_DWORD **)(a1 + 476)) )
      {
        sub_412010(a1, a2, a3, a4);
        sub_40ACD0(a2, a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), 9);
        CBase::Delete((volatile signed __int32 *)a1);
        return;
      }
      (*(void (__thiscall **)(_DWORD, int, int))(**(_DWORD **)(a1 + 484) + 72))(*(_DWORD *)(a1 + 484), a1, a1);
    }
    sub_412010(a1, a2, a3, a4);
  }
}

//----- (0043DC70) --------------------------------------------------------
int __thiscall sub_43DC70(int this, int a2)
{
  *(_DWORD *)(this + 432) = a2;
  strcpy((char *)(this + 32), (const char *)(a2 + 32));
  sub_471670((int *)(this + 480), this);
  return sub_4715F0(this + 480);
}

//----- (0043DCC0) --------------------------------------------------------
void __userpurge sub_43DCC0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  const std::pair<int const ,CSocket *> *v5; // eax
  char v7[8]; // [esp+4h] [ebp-18h] BYREF
  const char *v8; // [esp+Ch] [ebp-10h] BYREF
  CItem *v9; // [esp+10h] [ebp-Ch] BYREF
  char v10[8]; // [esp+14h] [ebp-8h] BYREF

  sub_4010D0((volatile int *)a1, a2, a3, a4);
  CMonsterObject::Insert((int)&unk_4B9040, a2, a3, a4, (CLink *)(a1 + 420));
  CRWLock::WriteLock((CRWLock *)&unk_4B8EA8);
  v9 = (CItem *)a1;
  v8 = *(const char **)(a1 + 28);
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v10,
    &v8,
    &v9);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)&unk_4B8E9C,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v7,
    v5);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B8EA8, a2, a3, a4);
  if ( a5 )
  {
    sub_4010D0(a5, a2, a3, a4);
    *(_DWORD *)(a1 + 476) = a5;
  }
}
// 43DD17: variable 'v5' is possibly undefined

//----- (0043DD50) --------------------------------------------------------
void *__thiscall sub_43DD50(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  void *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  unknown_libname_14(&v2);
  sub_42EE90(v3, (char)v2);
  std::vector<CIOSocket::CIOTimer>::_Buy((std::vector<CIOSocket::CIOTimer> *)v3, 0);
  return v3;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0043DD80) --------------------------------------------------------
void __thiscall sub_43DD80(std::vector<CIOSocket::CIOTimer> *this)
{
  std::vector<CIOSocket::CIOTimer>::_Tidy(this);
}

//----- (0043DDA0) --------------------------------------------------------
BOOL __thiscall sub_43DDA0(std::vector<CIOSocket::CIOTimer> *this)
{
  return std::vector<CIOSocket::CIOTimer>::size(this) == 0;
}

//----- (0043DDC0) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall sub_43DDC0(int this, int *a2)
{
  unsigned int v2; // esi
  CIOSocket::CIOTimer *result; // eax
  CIOSocket::CIOTimer **v4; // eax
  int v6; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
  if ( v2 >= std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (CIOSocket::CIOTimer **)sub_42EA00((int *)this, v7);
    result = (CIOSocket::CIOTimer *)sub_43E440((int *)this, &v6, *v4, a2);
  }
  else
  {
    result = std::vector<CIOSocket::CIOTimer>::_Ufill(
               (std::vector<CIOSocket::CIOTimer> *)this,
               *(CIOSocket::CIOTimer **)(this + 8),
               1u,
               (const CIOSocket::CIOTimer *)a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (0043DE30) --------------------------------------------------------
void __thiscall sub_43DE30(std::vector<IPAddrMask> *this)
{
  std::vector<IPAddrMask>::_Tidy(this);
}

//----- (0043DE50) --------------------------------------------------------
IPAddrMask *__thiscall sub_43DE50(int this, int *a2)
{
  unsigned int v2; // esi
  IPAddrMask *result; // eax
  IPAddrMask **v4; // eax
  int v6; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
  if ( v2 >= std::vector<IPAddrMask>::capacity((std::vector<IPAddrMask> *)this) )
  {
    v4 = (IPAddrMask **)sub_42EA00((int *)this, v7);
    result = (IPAddrMask *)sub_43E560((int *)this, &v6, *v4, a2);
  }
  else
  {
    result = std::vector<IPAddrMask>::_Ufill(
               (std::vector<IPAddrMask> *)this,
               *(IPAddrMask **)(this + 8),
               1u,
               (const IPAddrMask *)a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (0043DEC0) --------------------------------------------------------
void *__thiscall sub_43DEC0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0043DEF0) --------------------------------------------------------
int __thiscall sub_43DEF0(int *this)
{
  return sub_43E830(this);
}

//----- (0043DF10) --------------------------------------------------------
BOOL __thiscall sub_43DF10(void *this)
{
  return unknown_libname_24(this, this) == 0;
}
// 460A00: using guessed type int __thiscall unknown_libname_24(_DWORD, _DWORD);

//----- (0043DF30) --------------------------------------------------------
int __thiscall sub_43DF30(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_43E770(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_43E6D0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (0043DF90) --------------------------------------------------------
_DWORD *__thiscall sub_43DF90(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_43E7B0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0043DFF0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *result, const int *_Keyval)
{
  void *v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_47CAD0((int *)this, v12, _Keyval);
  v3 = sub_482CA0((int *)this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (_DWORD *)sub_463EE0(v4), sub_43E8E0(_Keyval, v5)) )
  {
    v7 = (char *)sub_482CA0((int *)this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *(_DWORD *)result = *(_DWORD *)v7;
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0043E080) --------------------------------------------------------
_DWORD *__thiscall sub_43E080(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_43E900(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0043E0E0) --------------------------------------------------------
int __thiscall sub_43E0E0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_43E980(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (0043E140) --------------------------------------------------------
_DWORD *__thiscall sub_43E140(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_43EA20(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0043E1A0) --------------------------------------------------------
int __thiscall sub_43E1A0(int *this)
{
  return sub_42D590(this);
}

//----- (0043E1C0) --------------------------------------------------------
void __thiscall std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(std::pair<char const * const,CItem *> *this, const char *const *_Val1, CItem *const *_Val2)
{
  *(const char **)this = *_Val1;
  *((CItem **)this + 1) = *_Val2;
}

//----- (0043E1F0) --------------------------------------------------------
int __thiscall sub_43E1F0(void *this)
{
  return unknown_libname_10(this, this);
}
// 411FC0: using guessed type int __thiscall unknown_libname_10(_DWORD, _DWORD);

//----- (0043E210) --------------------------------------------------------
_DWORD *__thiscall sub_43E210(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_42EEF0(this);
  *a2 = v4;
  return a2;
}

//----- (0043E240) --------------------------------------------------------
void *__thiscall sub_43E240(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0043E270) --------------------------------------------------------
int __thiscall sub_43E270(int *this)
{
  return sub_43EAA0(this);
}

//----- (0043E290) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_43E290(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const std::pair<char const * const,CItem *> *a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA00(this);
  v22 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_46DDD0((int)v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_463EE0((int)v21);
    v3 = (_DWORD *)unknown_libname_21(a3);
    v23 = sub_43E8E0(v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)unknown_libname_21(v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA20((int)v21);
    v21 = v12;
  }
  sub_42D570(&v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_46DDE0((int)this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_47CBD0(&v20);
  }
  v11 = (_DWORD *)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (_DWORD *)sub_463EE0(v7);
  if ( sub_43E8E0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_46DDE0((int)this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0043E440) --------------------------------------------------------
_DWORD *__thiscall sub_43E440(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(this, v11);
    v8 = std::vector<CIOSocket::CIOTimer>::iterator::operator-((std::vector<CIOSocket::CIOTimer>::iterator *)&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_43EB70((int)this, a3, 1u, a4);
  v7 = v12;
  v5 = (int *)sub_482CA0(this, v10);
  sub_42F840(v5, a2, v7);
  return a2;
}

//----- (0043E4C0) --------------------------------------------------------
void __thiscall std::vector<CIOSocket::CIOTimer>::_Tidy(std::vector<CIOSocket::CIOTimer> *this)
{
  if ( *((_DWORD *)this + 1) )
  {
    std::vector<CIOSocket::CIOTimer>::_Destroy(
      this,
      *((CIOSocket::CIOTimer **)this + 1),
      *((CIOSocket::CIOTimer **)this + 2));
    sub_441930(*((void **)this + 1), (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) / 12);
  }
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
}

//----- (0043E530) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall std::vector<CIOSocket::CIOTimer>::_Ufill(std::vector<CIOSocket::CIOTimer> *this, CIOSocket::CIOTimer *_Ptr, unsigned int _Count, const CIOSocket::CIOTimer *_Val)
{
  std::_Uninitialized_fill_n<CIOSocket::CIOTimer *,unsigned int,CIOSocket::CIOTimer,std::allocator<CIOSocket::CIOTimer>>(
    _Ptr,
    _Count,
    _Val);
  return (CIOSocket::CIOTimer *)((char *)_Ptr + 12 * _Count);
}

//----- (0043E560) --------------------------------------------------------
_DWORD *__thiscall sub_43E560(int *this, _DWORD *a2, IPAddrMask *a3, int *a4)
{
  _DWORD *v4; // eax
  int v6; // [esp-4h] [ebp-18h]
  int v7; // [esp+0h] [ebp-14h]
  char v9[4]; // [esp+8h] [ebp-Ch] BYREF
  char v10[4]; // [esp+Ch] [ebp-8h] BYREF
  int v11; // [esp+10h] [ebp-4h]

  if ( std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
  {
    v4 = sub_482CA0(this, v10);
    v7 = sub_43F2D0((int *)&a3, v4);
  }
  else
  {
    v7 = 0;
  }
  v11 = v7;
  sub_43EEA0((int)this, a3, 1u, a4);
  v6 = v11;
  sub_482CA0(this, v9);
  sub_42F810(a2, v6);
  return a2;
}

//----- (0043E5E0) --------------------------------------------------------
char __thiscall std::vector<IPAddrMask>::_Buy(std::vector<IPAddrMask> *this, unsigned int _Capacity)
{
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  if ( !_Capacity )
    return 0;
  if ( sub_43EE50(this) >= _Capacity )
  {
    *((_DWORD *)this + 1) = sub_465EE0(_Capacity);
    *((_DWORD *)this + 2) = *((_DWORD *)this + 1);
    *((_DWORD *)this + 3) = *((_DWORD *)this + 1) + 8 * _Capacity;
  }
  else
  {
    sub_465EA0();
  }
  return 1;
}

//----- (0043E660) --------------------------------------------------------
void __thiscall std::vector<IPAddrMask>::_Tidy(std::vector<IPAddrMask> *this)
{
  if ( *((_DWORD *)this + 1) )
  {
    sub_43EE70(*((_DWORD *)this + 1), *((_DWORD *)this + 2));
    sub_441930(*((void **)this + 1), (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 3);
  }
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
}

//----- (0043E6D0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43E6D0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_43DF90((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0043E770) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_43E770(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, int *a3)
{
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v3; // eax
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_43F170(this, v8, a3);
  v3 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_47CAD0((int *)this, v7, a3);
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(
    a2,
    v3,
    v5);
  return a2;
}

//----- (0043E7B0) --------------------------------------------------------
int __stdcall sub_43E7B0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_43E7B0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043E830) --------------------------------------------------------
int __thiscall sub_43E830(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_43E6D0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043E8E0) --------------------------------------------------------
BOOL __stdcall sub_43E8E0(_DWORD *a1, _DWORD *a2)
{
  return *a1 < *a2;
}

//----- (0043E900) --------------------------------------------------------
int __stdcall sub_43E900(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_43E900(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043E980) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43E980(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_43F1A0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0043EA20) --------------------------------------------------------
int __stdcall sub_43EA20(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_43EA20(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043EAA0) --------------------------------------------------------
int __thiscall sub_43EAA0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_43F230(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043EB50) --------------------------------------------------------
unsigned int __thiscall sub_43EB50(std::allocator<CIOSocket::CIOTimer> *this)
{
  return std::allocator<CIOSocket::CIOTimer>::max_size(this);
}

//----- (0043EB70) --------------------------------------------------------
void __thiscall sub_43EB70(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4)
{
  unsigned int v4; // esi
  CIOSocket::CIOTimer *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-24h]
  CIOSocket::CIOTimer *v8; // [esp+Ch] [ebp-1Ch]
  CMemory **v9; // [esp+10h] [ebp-18h]
  CIOSocket::CIOTimer *v10; // [esp+14h] [ebp-14h]
  unsigned int v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+18h] [ebp-10h]
  int v13[3]; // [esp+1Ch] [ebp-Ch] BYREF
  int v14; // [esp+34h] [ebp+Ch]

  v13[0] = *a4;
  v13[1] = a4[1];
  v13[2] = a4[2];
  v11 = std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this);
  if ( a3 )
  {
    v4 = sub_43EB50((std::allocator<CIOSocket::CIOTimer> *)this);
    if ( v4 - std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) / 12 >= a3 )
        {
          v8 = *(CIOSocket::CIOTimer **)(this + 8);
          *(_DWORD *)(this + 8) = std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
                                    (CIOSocket::CIOTimer *)((char *)v8 - 12 * a3),
                                    v8,
                                    v8);
          sub_43F5E0(a2, (_DWORD *)v8 - 3 * a3, v8);
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)((char *)a2 + 12 * a3),
            (const CIOSocket::CIOTimer *)v13);
        }
        else
        {
          std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
            a2,
            *(CIOSocket::CIOTimer **)(this + 8),
            (CIOSocket::CIOTimer *)((char *)a2 + 12 * a3));
          std::vector<CIOSocket::CIOTimer>::_Ufill(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 8),
            a3 - (*(_DWORD *)(this + 8) - (int)a2) / 12,
            (const CIOSocket::CIOTimer *)v13);
          *(_DWORD *)(this + 8) += 12 * a3;
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)(*(_DWORD *)(this + 8) - 12 * a3),
            (const CIOSocket::CIOTimer *)v13);
        }
      }
      else
      {
        if ( sub_43EB50((std::allocator<CIOSocket::CIOTimer> *)this) - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
          v12 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        v9 = sub_42F7F0(v12);
        v5 = std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(
               *(CIOSocket::CIOTimer **)(this + 4),
               a2,
               (CIOSocket::CIOTimer *)v9);
        v10 = std::vector<CIOSocket::CIOTimer>::_Ufill(
                (std::vector<CIOSocket::CIOTimer> *)this,
                v5,
                a3,
                (const CIOSocket::CIOTimer *)v13);
        std::vector<CIOSocket::CIOTimer>::_Ucopy<CIOSocket::CIOTimer *>(a2, *(CIOSocket::CIOTimer **)(this + 8), v10);
        v14 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          std::vector<CIOSocket::CIOTimer>::_Destroy(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 4),
            *(CIOSocket::CIOTimer **)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) / 12);
        }
        *(_DWORD *)(this + 12) = &v9[3 * v12];
        *(_DWORD *)(this + 8) = &v9[3 * v14];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (0043EE50) --------------------------------------------------------
unsigned int __thiscall sub_43EE50(std::allocator<std::pair<char const * const,CItem *> > *this)
{
  return std::allocator<std::pair<char const * const,CItem *>>::max_size(this);
}

//----- (0043EE70) --------------------------------------------------------
int __stdcall sub_43EE70(int a1, int a2)
{
  return sub_46ACD0(a1, a2);
}

//----- (0043EEA0) --------------------------------------------------------
void __thiscall sub_43EEA0(int this, IPAddrMask *a2, unsigned int a3, int *a4)
{
  int v4; // edx
  unsigned int v5; // esi
  IPAddrMask *v6; // eax
  unsigned int v7; // [esp+4h] [ebp-20h]
  _DWORD *v9; // [esp+Ch] [ebp-18h]
  CMemory **v10; // [esp+10h] [ebp-14h]
  IPAddrMask *v11; // [esp+14h] [ebp-10h]
  unsigned int v12; // [esp+18h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-Ch]
  int v14[2]; // [esp+1Ch] [ebp-8h] BYREF
  int v15; // [esp+30h] [ebp+Ch]

  v4 = a4[1];
  v14[0] = *a4;
  v14[1] = v4;
  v12 = std::vector<IPAddrMask>::capacity((std::vector<IPAddrMask> *)this);
  if ( a3 )
  {
    v5 = sub_43EE50((std::allocator<std::pair<char const * const,CItem *> > *)this);
    if ( v5 - std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) >= a3 )
    {
      if ( v12 >= a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 3 >= a3 )
        {
          v9 = *(_DWORD **)(this + 8);
          *(_DWORD *)(this + 8) = sub_46AD10((int)&v9[-2 * a3], (int)v9, v9);
          sub_43F620(a2, &v9[-2 * a3], v9);
          std::fill<IPAddrMask *,IPAddrMask>(a2, (IPAddrMask *)((char *)a2 + 8 * a3), (const IPAddrMask *)v14);
        }
        else
        {
          sub_46AD10((int)a2, *(_DWORD *)(this + 8), (char *)a2 + 8 * a3);
          std::vector<IPAddrMask>::_Ufill(
            (std::vector<IPAddrMask> *)this,
            *(IPAddrMask **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 3),
            (const IPAddrMask *)v14);
          *(_DWORD *)(this + 8) += 8 * a3;
          std::fill<IPAddrMask *,IPAddrMask>(
            a2,
            (IPAddrMask *)(*(_DWORD *)(this + 8) - 8 * a3),
            (const IPAddrMask *)v14);
        }
      }
      else
      {
        if ( sub_43EE50((std::allocator<std::pair<char const * const,CItem *> > *)this) - (v12 >> 1) >= v12 )
          v7 = v12 + (v12 >> 1);
        else
          v7 = 0;
        v13 = v7;
        if ( v7 < a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
          v13 = a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
        v10 = sub_465EE0(v13);
        v6 = (IPAddrMask *)sub_46AD10(*(_DWORD *)(this + 4), (int)a2, v10);
        v11 = std::vector<IPAddrMask>::_Ufill((std::vector<IPAddrMask> *)this, v6, a3, (const IPAddrMask *)v14);
        sub_46AD10((int)a2, *(_DWORD *)(this + 8), v11);
        v15 = a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_43EE70(*(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 3);
        }
        *(_DWORD *)(this + 12) = &v10[2 * v13];
        *(_DWORD *)(this + 8) = &v10[2 * v15];
        *(_DWORD *)(this + 4) = v10;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (0043F170) --------------------------------------------------------
void *__thiscall sub_43F170(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, void *a2, const int *a3)
{
  std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *v3; // eax

  v3 = std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Ubound(
         this,
         a3);
  sub_42D570(a2, (int)v3);
  return a2;
}

//----- (0043F1A0) --------------------------------------------------------
_DWORD *__thiscall sub_43F1A0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_43F390(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0043F200) --------------------------------------------------------
int __thiscall std::vector<CIOSocket::CIOTimer>::iterator::operator-(std::vector<CIOSocket::CIOTimer>::iterator *this, const std::vector<CIOSocket::CIOTimer>::const_iterator *_Right)
{
  int v3; // [esp+4h] [ebp-4h] BYREF

  v3 = *(_DWORD *)this;
  return sub_42F910(&v3, _Right);
}

//----- (0043F230) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43F230(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_43F4A0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0043F2D0) --------------------------------------------------------
int __thiscall sub_43F2D0(int *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h] BYREF

  v3 = *this;
  return sub_46A460(&v3, a2);
}

//----- (0043F300) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Ubound(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00((int *)this);
  v6 = *((_DWORD *)this + 1);
  while ( !*(_BYTE *)sub_46DDD0(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_43E8E0(_Keyval, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
  }
  return (std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *)v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043F390) --------------------------------------------------------
int __stdcall sub_43F390(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_43F390(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043F410) --------------------------------------------------------
int __thiscall sub_43F410(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_46DDD0(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043F4A0) --------------------------------------------------------
_DWORD *__thiscall sub_43F4A0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_43F520(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0043F520) --------------------------------------------------------
int __stdcall sub_43F520(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_43F520(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043F5A0) --------------------------------------------------------
void *__cdecl sub_43F5A0(void *a1, int a2, int a3)
{
  unknown_libname_27(&a1, &a1);
  return sub_46AFF0(a1, a2, a3);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0043F5E0) --------------------------------------------------------
_DWORD *__cdecl sub_43F5E0(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  unknown_libname_27(&a1, &a3);
  return std::_Copy_backward_opt<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(a1, a2, a3);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0043F620) --------------------------------------------------------
_DWORD *__cdecl sub_43F620(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  unknown_libname_27(&a1, &a3);
  return std::_Copy_backward_opt<IPAddrMask *,IPAddrMask *>(a1, a2, a3);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0043F660) --------------------------------------------------------
void *__cdecl sub_43F660(void *a1, int a2, int a3)
{
  void *result; // eax

  result = a1;
  while ( a2 )
  {
    sub_43F740(a1, a3);
    --a2;
    a1 = (char *)a1 + 12;
  }
  return result;
}

//----- (0043F6C0) --------------------------------------------------------
_DWORD *__cdecl std::_Copy_backward_opt<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  while ( a1 != a2 )
  {
    a2 -= 3;
    a3 -= 3;
    *a3 = *a2;
    a3[1] = a2[1];
    a3[2] = a2[2];
  }
  return a3;
}

//----- (0043F700) --------------------------------------------------------
void *__cdecl sub_43F700(int a1, int a2, void *a3)
{
  unknown_libname_27(&a1, &a3);
  return sub_46B0E0(a1, a2, a3);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0043F740) --------------------------------------------------------
void __stdcall sub_43F740(void *a1, int a2)
{
  std::_Construct<CIOSocket::CIOTimer,CIOSocket::CIOTimer>((CIOSocket::CIOTimer *)a1, (const CIOSocket::CIOTimer *)a2);
}

//----- (0043F760) --------------------------------------------------------
void __cdecl std::_Construct<IPAddrMask,IPAddrMask>(IPAddrMask *_Ptr, const IPAddrMask *_Val)
{
  int v2; // eax
  _DWORD *v3; // [esp+4h] [ebp-4h]

  v3 = operator new(8u, _Ptr);
  if ( v3 )
  {
    v2 = *((_DWORD *)_Val + 1);
    *v3 = *(_DWORD *)_Val;
    v3[1] = v2;
  }
}

//----- (0043F7A0) --------------------------------------------------------
void *__thiscall sub_43F7A0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0043F7E0) --------------------------------------------------------
void *__thiscall sub_43F7E0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0043F810) --------------------------------------------------------
void *__thiscall sub_43F810(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0043F840) --------------------------------------------------------
int __thiscall sub_43F840(int *this)
{
  return sub_43F860(this);
}

//----- (0043F860) --------------------------------------------------------
int __thiscall sub_43F860(int *this)
{
  return sub_43F880(this);
}

//----- (0043F880) --------------------------------------------------------
int __thiscall sub_43F880(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_43F930(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043F930) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43F930(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_43E080((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0043F9D0) --------------------------------------------------------
int __thiscall sub_43F9D0(int *this)
{
  return sub_43F9F0(this);
}

//----- (0043F9F0) --------------------------------------------------------
int __thiscall sub_43F9F0(int *this)
{
  return sub_43FA10(this);
}

//----- (0043FA10) --------------------------------------------------------
int __thiscall sub_43FA10(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_43E980(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043FAC0) --------------------------------------------------------
int __thiscall sub_43FAC0(int *this)
{
  return sub_43FAE0(this);
}

//----- (0043FAE0) --------------------------------------------------------
int __thiscall sub_43FAE0(int *this)
{
  return sub_43FB00(this);
}

//----- (0043FB00) --------------------------------------------------------
int __thiscall sub_43FB00(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_43FBB0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0043FBB0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_43FBB0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_43E140((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0043FC50) --------------------------------------------------------
_DWORD *__thiscall CInitNPC::CInitNPC(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_49C2F8;
  this[8] = 0;
  this[9] = 0;
  return this;
}
// 49C2F8: using guessed type int (__stdcall *off_49C2F8)(int);

//----- (0043FC90) --------------------------------------------------------
_DWORD *__userpurge sub_43FC90@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_43FCC0(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0043FCC0) --------------------------------------------------------
_DWORD *__usercall sub_43FCC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_49C2F8;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 49C2F8: using guessed type int (__stdcall *off_49C2F8)(int);

//----- (0043FCE0) --------------------------------------------------------
BOOL CInitNPC::Close()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  BOOL result; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v4; // [esp+10h] [ebp-8h] BYREF
  int v5; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B90CC,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B90CC, v3);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v5,
               v0);
    if ( !result )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_46FA50(&v5, &v4, 0);
  }
  return result;
}

//----- (0043FD60) --------------------------------------------------------
_DWORD *CInitNPC::Copy()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x28u);
  if ( v2 )
    v1 = CInitNPC::CInitNPC(v2);
  else
    v1 = 0;
  return v1;
}

//----- (0043FDA0) --------------------------------------------------------
int __thiscall CInitNPC::Set(_DWORD *this, int a2, char a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  _DWORD *v7; // [esp+4h] [ebp-10h]
  char v8[4]; // [esp+Ch] [ebp-8h] BYREF
  char v9[4]; // [esp+10h] [ebp-4h] BYREF

  v7 = this;
  if ( a2 == 30 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v9);
    v7[8] = sub_40BBE0(v3);
  }
  else
  {
    if ( a2 != 53 )
    {
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      return CBase::Set(v7, a2, (int)this);
    }
    v4 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v8);
    v7[9] = sub_40BBE0(v4);
  }
  return 1;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0043FE20) --------------------------------------------------------
int __thiscall sub_43FE20(int this)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  CItem *v4; // [esp+4h] [ebp-14h] BYREF
  char v5[8]; // [esp+8h] [ebp-10h] BYREF
  char v6[8]; // [esp+10h] [ebp-8h] BYREF

  v4 = (CItem *)this;
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v5,
    (const char *const *)(this + 32),
    &v4);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B90CC,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v1);
  if ( v6[4] )
    return 1;
  LOG_ERR("CInitNPC::OnLoad() Duplicated InitNPC.(Kind:%d)", *(_DWORD *)(this + 32));
  return 0;
}
// 43FE4C: variable 'v1' is possibly undefined

//----- (0043FE80) --------------------------------------------------------
_DWORD *__thiscall sub_43FE80(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_49C370;
  this[8] = 0;
  this[9] = 0;
  this[10] = 0;
  this[11] = 0;
  this[12] = 0;
  this[13] = 0;
  this[14] = 0;
  this[16] = -1;
  this[15] = -1;
  this[17] = 0;
  this[19] = -1;
  this[18] = -1;
  this[20] = 0;
  this[21] = 0;
  this[22] = 0;
  this[23] = 0;
  this[24] = 0;
  this[25] = 0;
  this[27] = -1;
  this[26] = -1;
  return this;
}
// 49C370: using guessed type int (__stdcall *off_49C370)(int);

//----- (0043FF70) --------------------------------------------------------
_DWORD *__userpurge sub_43FF70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_43FFA0(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0043FFA0) --------------------------------------------------------
_DWORD *__usercall sub_43FFA0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_49C370;
  return CBase::_CBase(a1, a2, a3, a4);
}
// 49C370: using guessed type int (__stdcall *off_49C370)(int);

//----- (0043FFC0) --------------------------------------------------------
BOOL sub_43FFC0()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  BOOL result; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v4; // [esp+10h] [ebp-8h] BYREF
  int v5; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B90D8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B90D8, v3);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v5,
               v0);
    if ( !result )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_43E1A0(&v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_46FA50(&v5, &v4, 0);
  }
  return result;
}

//----- (00440040) --------------------------------------------------------
_DWORD *sub_440040()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x70u);
  if ( v2 )
    v1 = sub_43FE80(v2);
  else
    v1 = 0;
  return v1;
}

//----- (00440080) --------------------------------------------------------
int __thiscall sub_440080(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  int result; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  lisp::var *v20; // eax
  lisp::var *v21; // eax
  lisp::var *v22; // eax
  lisp::var *v23; // eax
  char v25[4]; // [esp+Ch] [ebp-50h] BYREF
  char v26[4]; // [esp+10h] [ebp-4Ch] BYREF
  char v27[4]; // [esp+14h] [ebp-48h] BYREF
  char v28[4]; // [esp+18h] [ebp-44h] BYREF
  char v29[4]; // [esp+1Ch] [ebp-40h] BYREF
  char v30[4]; // [esp+20h] [ebp-3Ch] BYREF
  char v31[4]; // [esp+24h] [ebp-38h] BYREF
  char v32[4]; // [esp+28h] [ebp-34h] BYREF
  char v33[4]; // [esp+2Ch] [ebp-30h] BYREF
  char v34[4]; // [esp+30h] [ebp-2Ch] BYREF
  char v35[4]; // [esp+34h] [ebp-28h] BYREF
  char v36[4]; // [esp+38h] [ebp-24h] BYREF
  char v37[4]; // [esp+3Ch] [ebp-20h] BYREF
  char v38[4]; // [esp+40h] [ebp-1Ch] BYREF
  char v39[4]; // [esp+44h] [ebp-18h] BYREF
  char v40[4]; // [esp+48h] [ebp-14h] BYREF
  char v41[4]; // [esp+4Ch] [ebp-10h] BYREF
  char v42[4]; // [esp+50h] [ebp-Ch] BYREF
  char v43[4]; // [esp+54h] [ebp-8h] BYREF
  char v44[4]; // [esp+58h] [ebp-4h] BYREF

  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v44);
      this[8] = sub_40BBE0(v3);
      goto LABEL_20;
    case 3:
      v7 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v40);
      this[13] = sub_40BBE0(v7);
      this[14] = sub_47FED0(this[13]);
      if ( this[14] )
        goto LABEL_20;
      LOG_ERR("CGenNPC::Set() Can't find the Map. (index:%d)", this[13]);
      result = 0;
      break;
    case 30:
      v4 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v43);
      this[9] = sub_40BBE0(v4);
      goto LABEL_20;
    case 31:
      v9 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v39);
      this[15] = sub_40BBE0(v9);
      v10 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v38);
      this[16] = sub_40BBE0(v10);
      v11 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v37);
      this[17] = sub_40BBE0(v11);
      goto LABEL_20;
    case 43:
      v21 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v27);
      this[25] = sub_40BBE0(v21);
      v22 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v26);
      this[26] = sub_40BBE0(v22);
      v23 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v25);
      this[27] = sub_40BBE0(v23);
      goto LABEL_20;
    case 54:
      v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v41);
      this[11] = sub_40BBE0(v6);
      goto LABEL_20;
    case 55:
      v5 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v42);
      this[10] = sub_40BBE0(v5);
      goto LABEL_20;
    case 56:
      v12 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v36);
      this[18] = sub_40BBE0(v12) - this[15];
      v13 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v35);
      this[19] = sub_40BBE0(v13) - this[16];
      goto LABEL_20;
    case 70:
      v14 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v34);
      this[12] |= sub_40BBE0(v14) << 16;
      v15 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v33);
      this[12] |= sub_40BBE0(v15);
      goto LABEL_20;
    case 95:
      v16 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v32);
      this[20] = sub_40BBE0(v16);
      goto LABEL_20;
    case 96:
      v17 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v31);
      this[21] = sub_40BBE0(v17);
      goto LABEL_20;
    case 108:
      v18 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v30);
      this[22] = sub_40BBE0(v18);
      v19 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v29);
      this[23] = sub_40BBE0(v19);
      goto LABEL_20;
    case 109:
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        v20 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v28);
        this[24] |= 1 << sub_40BBE0(v20);
      }
LABEL_20:
      result = 1;
      break;
    default:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      result = CBase::Set(this, a2, a2 - 2);
      break;
  }
  return result;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (00440420) --------------------------------------------------------
int __thiscall sub_440420(int this)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  CItem *v4; // [esp+4h] [ebp-14h] BYREF
  char v5[8]; // [esp+8h] [ebp-10h] BYREF
  char v6[8]; // [esp+10h] [ebp-8h] BYREF

  v4 = (CItem *)this;
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v5,
    (const char *const *)(this + 32),
    &v4);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B90D8,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v1);
  if ( v6[4] )
    return 1;
  LOG_ERR("CGenNPC::OnLoad() Duplicated GenNPC.(Index:%d)", *(_DWORD *)(this + 32));
  return 0;
}
// 44044C: variable 'v1' is possibly undefined

//----- (00440480) --------------------------------------------------------
int __thiscall sub_440480(int this)
{
  int i; // [esp+4h] [ebp-4h]

  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_49C418;
  `vector constructor iterator'(
    (void *)(this + 16),
    0x20u,
    2,
    (void *(__thiscall *)(void *))CIOCriticalSection::CIOCriticalSection);
  for ( i = 0; i < 2; ++i )
    sub_435F40((_DWORD *)(this + 8 * i + 80));
  return this;
}
// 49C418: using guessed type int (__stdcall *off_49C418)(int);

//----- (004404E0) --------------------------------------------------------
void __userpurge sub_4404E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  _DWORD *v6; // [esp+8h] [ebp-18h]
  _DWORD *v7; // [esp+Ch] [ebp-14h]
  _DWORD *v8; // [esp+10h] [ebp-10h]
  _DWORD *v9; // [esp+14h] [ebp-Ch]
  DWORD v10; // [esp+18h] [ebp-8h]
  DWORD v11; // [esp+1Ch] [ebp-4h]

  if ( a5 )
  {
    if ( a5 == 1 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 16), a2, a3, a4);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      CLink::MoveTo((_DWORD *)(a1 + 88), a1 + 80);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      v7 = *(_DWORD **)(a1 + 80);
      while ( v7 != (_DWORD *)(a1 + 80) )
      {
        v6 = v7 - 105;
        v7 = (_DWORD *)*v7;
        (*(void (__thiscall **)(_DWORD *))(*v6 + 200))(v6);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 16), a2, a3, a4);
      CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, 0x3E8u, 1);
    }
  }
  else
  {
    v11 = GetTickCount();
    do
    {
      v10 = v11 + 30;
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 16), a2, a3, a4);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      CLink::MoveTo((_DWORD *)(a1 + 88), a1 + 80);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      v9 = *(_DWORD **)(a1 + 80);
      while ( v9 != (_DWORD *)(a1 + 80) )
      {
        v8 = v9 - 105;
        v9 = (_DWORD *)*v9;
        (*(void (__thiscall **)(_DWORD *))(*v8 + 196))(v8);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 16), a2, a3, a4);
      v11 = GetTickCount();
    }
    while ( v10 <= v11 );
    CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, v10 - v11, 0);
  }
}

//----- (00440660) --------------------------------------------------------
void __userpurge CNPCObject::Insert(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, CLink *a5)
{
  InterlockedIncrement(&dword_4B90C8);
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  CLink::Insert(a5, (CLink *)(a1 + 88));
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
}

//----- (004406A0) --------------------------------------------------------
int __thiscall sub_4406A0(int this, _DWORD *a2)
{
  sub_409D60((char *)this);
  *(_DWORD *)this = &off_49C430;
  *(_DWORD *)(this + 24) = 3;
  *(_DWORD *)(this + 308) = a2[13];
  *(_DWORD *)(this + 312) = a2[14];
  *(_DWORD *)(this + 432) = 0;
  *(_DWORD *)(this + 436) = a2[8];
  *(_DWORD *)(this + 440) = a2[10];
  *(_DWORD *)(this + 444) = 0;
  *(_DWORD *)(this + 452) = a2[20];
  *(_DWORD *)(this + 456) = a2[21];
  return this;
}
// 49C430: using guessed type int (__stdcall *off_49C430)(int);

//----- (00440740) --------------------------------------------------------
BOOL __thiscall sub_440740(_DWORD *this, _DWORD *a2)
{
  return sub_440790(this + 81, a2) <= 64 && (int)this[111] > 0;
}

//----- (00440790) --------------------------------------------------------
int __cdecl sub_440790(_DWORD *a1, _DWORD *a2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  v4 = abs(*a1 - *a2);
  v5 = abs(a1[1] - a2[1]);
  if ( v4 <= v5 )
    v3 = v5;
  else
    v3 = v4;
  return v3;
}

//----- (004407F0) --------------------------------------------------------
_DWORD *__userpurge sub_4407F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_440820(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00440820) --------------------------------------------------------
_DWORD *__usercall sub_440820@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_49C430;
  return sub_40A130((int)a1, a2, a3, a4);
}
// 49C430: using guessed type int (__stdcall *off_49C430)(int);

//----- (00440840) --------------------------------------------------------
void __usercall sub_440840(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4)
{
  void *v4; // eax
  int *v5; // [esp+0h] [ebp-44h]
  int *v6; // [esp+4h] [ebp-40h]
  int *v7; // [esp+8h] [ebp-3Ch]
  int *v8; // [esp+Ch] [ebp-38h]
  int *v9; // [esp+10h] [ebp-34h]
  int *v10; // [esp+14h] [ebp-30h]
  CMemory **v11; // [esp+1Ch] [ebp-28h]
  CMemory **v12; // [esp+20h] [ebp-24h]
  CMemory **v13; // [esp+24h] [ebp-20h]
  CMemory **v14; // [esp+28h] [ebp-1Ch]
  CMemory **v15; // [esp+2Ch] [ebp-18h]
  CMemory **v16; // [esp+30h] [ebp-14h]
  char v17[4]; // [esp+34h] [ebp-10h] BYREF
  int v18; // [esp+38h] [ebp-Ch]
  int *v19; // [esp+3Ch] [ebp-8h]
  int v20; // [esp+40h] [ebp-4h] BYREF

  sub_460550(dword_4B90CC, &v20, a4 + 9);
  v4 = sub_482CA0(dword_4B90CC, v17);
  if ( (unsigned __int8)unknown_libname_25(v4) )
  {
    LOG_ERR("CNPC::Create() Invalid InitNPC.(Index:%d)", a4[9]);
  }
  else
  {
    v18 = *(_DWORD *)(sub_43E1A0(&v20) + 4);
    if ( (a4[24] & (1 << dword_4BAAA0)) != 0 )
    {
      v19 = 0;
      switch ( *(_DWORD *)(v18 + 32) )
      {
        case 0:
          v16 = sub_401000(0x1D0u);
          if ( v16 )
            v10 = sub_440AD0(v16, a4);
          else
            v10 = 0;
          v19 = v10;
          goto LABEL_30;
        case 1:
          v15 = sub_401000(0x1D0u);
          if ( v15 )
            v9 = sub_440AD0(v15, a4);
          else
            v9 = 0;
          v19 = v9;
          goto LABEL_30;
        case 2:
          v14 = sub_401000(0x1D0u);
          if ( v14 )
            v8 = sub_440AD0(v14, a4);
          else
            v8 = 0;
          v19 = v8;
          goto LABEL_30;
        case 3:
          v13 = sub_401000(0x1D0u);
          if ( v13 )
            v7 = sub_440B20(v13, a4);
          else
            v7 = 0;
          v19 = v7;
          goto LABEL_30;
        case 4:
          v12 = sub_401000(0x1E0u);
          if ( v12 )
            v6 = sub_440B80(v12, a4);
          else
            v6 = 0;
          v19 = v6;
          goto LABEL_30;
        case 5:
          v11 = sub_401000(0x1E0u);
          if ( v11 )
            v5 = sub_440BD0(v11, a4);
          else
            v5 = 0;
          v19 = v5;
LABEL_30:
          sub_411FF0((int)v19, a1, a2, a3);
          sub_40A460(v19, a4 + 15);
          sub_4411A0(v19, v18, a4);
          (*(void (__thiscall **)(int *))(*v19 + 204))(v19);
          if ( v19[114] != 2 )
            sub_4801B0((_DWORD *)v19[78], a1, a2, a3, (int)v19, v19 + 79);
          sub_4410E0((int)v19, a1, a2, a3);
          sub_412010((int)v19, a1, a2, a3);
          break;
        default:
          LOG_ERR("CNPC::Create() Invalid NPC kind. (Kind:%d)", *(_DWORD *)(v18 + 32));
          break;
      }
    }
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00440AD0) --------------------------------------------------------
_DWORD *__thiscall sub_440AD0(_DWORD *this, _DWORD *a2)
{
  sub_4406A0((int)this, a2);
  *this = &off_49C560;
  return this;
}
// 49C560: using guessed type int (__stdcall *off_49C560)(int);

//----- (00440B00) --------------------------------------------------------
_DWORD *__usercall sub_440B00@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return sub_440820(a1, a2, a3, a4);
}

//----- (00440B20) --------------------------------------------------------
_DWORD *__thiscall sub_440B20(_DWORD *this, _DWORD *a2)
{
  sub_4406A0((int)this, a2);
  *this = &off_49C638;
  return this;
}
// 49C638: using guessed type int (__stdcall *off_49C638)(int);

//----- (00440B50) --------------------------------------------------------
BOOL __thiscall sub_440B50(_DWORD *this, _DWORD *a2)
{
  return sub_440790(this + 81, a2) <= 64;
}

//----- (00440B80) --------------------------------------------------------
_DWORD *__thiscall sub_440B80(_DWORD *this, _DWORD *a2)
{
  sub_4406A0((int)this, a2);
  *this = &off_49C710;
  this[118] = 0;
  this[116] = a2[22];
  this[117] = a2[23];
  return this;
}
// 49C710: using guessed type int (__stdcall *off_49C710)(int);

//----- (00440BD0) --------------------------------------------------------
_DWORD *__thiscall sub_440BD0(_DWORD *this, _DWORD *a2)
{
  int v2; // ecx

  sub_4406A0((int)this, a2);
  *this = &off_49C7E8;
  this[116] = a2[25];
  v2 = a2[27];
  this[117] = a2[26];
  this[118] = v2;
  return this;
}
// 49C7E8: using guessed type int (__stdcall *off_49C7E8)(int);

//----- (00440C20) --------------------------------------------------------
_DWORD *__userpurge sub_440C20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_440B00(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00440C50) --------------------------------------------------------
LONG sub_440C50()
{
  return dword_4B90C8;
}

//----- (00440C60) --------------------------------------------------------
void __usercall CNPC::Start(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-Ch] BYREF
  int v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B90D8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B90D8, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    v4 = sub_43E1A0(&v7);
    sub_440840(a1, a2, a3, *(_DWORD **)(v4 + 4));
    sub_46FA50(&v7, &v6, 0);
  }
  CIOObject::AddTimer((CIOObject *)&unk_4B9108, a1, a2, a3, 0x3E8u, 1);
}

//----- (00440CD0) --------------------------------------------------------
int __usercall sub_440CD0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CNPCScenario::ResetBossTower(a1, a2, a3, 1);
  return sub_436220((int)&unk_4B9108, a1, a2, a3);
}

//----- (00440CF0) --------------------------------------------------------
volatile int *__usercall CNPC::FindNPC@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-Ch] BYREF
  volatile int *v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h] BYREF

  v7 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B90F0);
  sub_460550(dword_4B90E4, &v8, &a4);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B90E4, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
         v4) )
  {
    v7 = *(volatile int **)(sub_43E1A0(&v8) + 4);
    sub_4010D0(v7, a1, a2, a3);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B90F0, a1, a2, a3);
  return v7;
}

//----- (00440D60) --------------------------------------------------------
int __usercall sub_440D60@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v7[4]; // [esp+0h] [ebp-10h] BYREF
  int v8; // [esp+4h] [ebp-Ch]
  int v9; // [esp+8h] [ebp-8h]
  int v10; // [esp+Ch] [ebp-4h] BYREF

  v9 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B90F0);
  sub_460550(dword_4B90E4, &v10, &a4);
  v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B90E4, v7);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
         v5) )
  {
    v8 = *(_DWORD *)(sub_43E1A0(&v10) + 4);
    if ( (*(int (__thiscall **)(int, int))(*(_DWORD *)v8 + 184))(v8, a5) )
      v9 = 1;
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B90F0, a1, a2, a3);
  return v9;
}

//----- (00440DF0) --------------------------------------------------------
void __usercall sub_440DF0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v6[4]; // [esp+0h] [ebp-Ch] BYREF
  int v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h] BYREF

  CRWLock::ReadLock((CRWLock *)&unk_4B90F0);
  sub_460550(dword_4B90E4, &v8, &a4);
  v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B90E4, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
         v5) )
  {
    v7 = *(_DWORD *)(sub_43E1A0(&v8) + 4);
    if ( (*(int (__thiscall **)(int, int))(*(_DWORD *)v7 + 184))(v7, a5 + 324) )
      (*(void (__thiscall **)(int, int))(*(_DWORD *)v7 + 188))(v7, a5);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B90F0, a1, a2, a3);
}

//----- (00440E80) --------------------------------------------------------
void __usercall sub_440E80(Concurrency::details::_CancellationTokenRegistration *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  sub_411FF0((int)a1, a2, a3, a4);
  CNPC::Remove((int)a1, a2, a3, a4);
  sub_480230(*((_DWORD **)a1 + 78), a2, a3, a4, a1, (int)a1 + 316);
  sub_412010((int)a1, a2, a3, a4);
  sub_402020((volatile int *)a1, a2, a3, a4);
}

//----- (00440ED0) --------------------------------------------------------
void __userpurge sub_440ED0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  sub_448C90(a2, a3, a4, a5, 26, "d", *(_DWORD *)(a1 + 28));
}

//----- (00440F00) --------------------------------------------------------
void __userpurge sub_440F00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  sub_448C90(a2, a3, a4, a5, 21, "dwbdddwd", a1[7], a1[109], a1[110], a1[81], a1[82], a1[83], a1[85], a1[70]);
}

//----- (00440F70) --------------------------------------------------------
void __userpurge sub_440F70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CChar::SubGState((volatile LONG *)a1, a5);
  sub_40ACD0(a2, a3, a4, a1, 9, "dd", *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 280));
}

//----- (00440FB0) --------------------------------------------------------
void __userpurge sub_440FB0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( *(int *)(a1 + 444) > 0 )
    sub_448C90(a2, a3, a4, a5, 51, "d", *(_DWORD *)(a1 + 444));
}

//----- (00440FF0) --------------------------------------------------------
void __usercall sub_440FF0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v6[4]; // [esp+0h] [ebp-14h] BYREF
  int v7; // [esp+4h] [ebp-10h] BYREF
  int v8; // [esp+8h] [ebp-Ch] BYREF
  CMemory **v9; // [esp+Ch] [ebp-8h]
  volatile int *v10; // [esp+10h] [ebp-4h]

  v9 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B90F0);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B90E4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B90E4, v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
            v5) )
      break;
    v10 = *(volatile int **)(sub_43E1A0(&v8) + 4);
    if ( *((_DWORD *)v10 + 113) == a4 )
      v9 = CBaseList::Push((CMemory *)v9, a1, a2, a3, v10);
    sub_46FA50(&v8, &v7, 0);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B90F0, a1, a2, a3);
  while ( v9 )
  {
    v10 = (volatile int *)unknown_libname_10(v9);
    if ( *((_DWORD *)v10 + 114) == 1 )
    {
      sub_441200((int)v10, a1, a2, a3, a5);
    }
    else if ( *((_DWORD *)v10 + 114) == 2 )
    {
      sub_441200((int)v10, a1, a2, a3, a5 == 0);
    }
    v9 = (CMemory **)CBaseList::Pop((int)v9, a1, a2, a3);
  }
}

//----- (004410E0) --------------------------------------------------------
void __usercall sub_4410E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::pair<int const ,CSocket *> *v4; // eax
  char v6[8]; // [esp+4h] [ebp-18h] BYREF
  const char *v7; // [esp+Ch] [ebp-10h] BYREF
  CItem *v8; // [esp+10h] [ebp-Ch] BYREF
  char v9[8]; // [esp+14h] [ebp-8h] BYREF

  sub_4010D0((volatile int *)a1, a2, a3, a4);
  CNPCObject::Insert((int)&unk_4B9108, a2, a3, a4, (CLink *)(a1 + 420));
  CRWLock::WriteLock((CRWLock *)&unk_4B90F0);
  v8 = (CItem *)a1;
  v7 = *(const char **)(a1 + 28);
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v9,
    &v7,
    &v8);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B90E4,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v4);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B90F0, a2, a3, a4);
}
// 441137: variable 'v4' is possibly undefined

//----- (00441150) --------------------------------------------------------
LONG __usercall CNPC::Remove@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v6; // [esp+4h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B90F0);
  v6 = *(_DWORD *)(a1 + 28);
  sub_4417F0(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B90E4,
    &v6);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B90F0, a2, a3, a4);
  return InterlockedDecrement(&dword_4B90C8);
}

//----- (004411A0) --------------------------------------------------------
void __thiscall sub_4411A0(_DWORD *this, int a2, _DWORD *a3)
{
  this[108] = a2;
  this[111] = a3[11];
  this[112] = a3[12];
  this[83] = a3[17];
  sub_40A4D0(this, a3[18], a3[19]);
}

//----- (00441200) --------------------------------------------------------
void __userpurge sub_441200(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_411FF0(a1, a2, a3, a4);
  if ( a5 )
  {
    sub_4801B0(*(_DWORD **)(a1 + 312), a2, a3, a4, a1, (int *)(a1 + 316));
    sub_40ACD0(
      a2,
      a3,
      a4,
      a1,
      21,
      "dwbdddwd",
      *(_DWORD *)(a1 + 28),
      *(_DWORD *)(a1 + 436),
      *(_DWORD *)(a1 + 440),
      *(_DWORD *)(a1 + 324),
      *(_DWORD *)(a1 + 328),
      *(_DWORD *)(a1 + 332),
      *(_DWORD *)(a1 + 340),
      *(_DWORD *)(a1 + 280));
  }
  else
  {
    sub_480230(*(_DWORD **)(a1 + 312), a2, a3, a4, (Concurrency::details::_CancellationTokenRegistration *)a1, a1 + 316);
    sub_40ACD0(a2, a3, a4, a1, 26, "d", *(_DWORD *)(a1 + 28));
  }
  sub_412010(a1, a2, a3, a4);
}

//----- (004412E0) --------------------------------------------------------
void __userpurge sub_4412E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_46D610(a2, a3, a4, *(_DWORD *)(a1 + 448), a5);
}

//----- (00441310) --------------------------------------------------------
void __usercall CNPCScenario::MirrorGState(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  int j; // [esp+0h] [ebp-8h]
  int i; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9168, a1, a2, a3);
  if ( a4 )
  {
    for ( i = 0; i < 8; ++i )
    {
      if ( dword_4B90A0[i] )
        (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_4B90A0[i] + 100))(dword_4B90A0[i], a5);
    }
  }
  else
  {
    for ( j = 0; j < 8; ++j )
    {
      if ( dword_4B90A0[j] )
        (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_4B90A0[j] + 112))(dword_4B90A0[j], a5);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a1, a2, a3);
}
// 4B90A0: using guessed type int dword_4B90A0[];

//----- (004413D0) --------------------------------------------------------
void __usercall CNPCScenario::ThroneGState(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9168, a1, a2, a3);
  if ( a4 )
  {
    if ( dword_4B90C0 )
      (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_4B90C0 + 100))(dword_4B90C0, a5);
  }
  else if ( dword_4B90C0 )
  {
    (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_4B90C0 + 112))(dword_4B90C0, a5);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a1, a2, a3);
}
// 4B90C0: using guessed type int dword_4B90C0;

//----- (00441430) --------------------------------------------------------
void __usercall CNPCScenario::ResetBossTower(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  int i; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9168, a1, a2, a3);
  if ( a4 )
  {
    for ( i = 0; i < 9; ++i )
      dword_4B90A0[i] = 0;
  }
  dword_4B90C4 = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a1, a2, a3);
}
// 4B90A0: using guessed type int dword_4B90A0[];
// 4B90C4: using guessed type int dword_4B90C4;

//----- (00441490) --------------------------------------------------------
void __usercall sub_441490(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  DWORD v5; // [esp+4h] [ebp-4h]

  if ( !sub_4372D0((int)a1, a2, a3, a4) )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
    v5 = GetTickCount();
    if ( dword_4B90C4 != 255 && sub_40A660(a1, 1) && v5 >= a1[118] )
    {
      (*(void (__thiscall **)(int *, int))(*a1 + 112))(a1, 1);
      dword_4B90C4 &= ~(1 << a1[116]);
      a1[118] = 0;
      sub_446920(a2, a3, a4, a1[77], 37, "bw", 94, a1[117]);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
  }
}
// 4B90C4: using guessed type int dword_4B90C4;

//----- (00441550) --------------------------------------------------------
void __usercall sub_441550(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
  if ( *(int *)(a1 + 464) >= 0 && *(int *)(a1 + 464) < 9 )
    dword_4B90A0[*(_DWORD *)(a1 + 464)] = a1;
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
}
// 4B90A0: using guessed type int dword_4B90A0[];

//----- (004415A0) --------------------------------------------------------
void __userpurge sub_4415A0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  char v8; // [esp+7h] [ebp-1h] BYREF

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "b", &v8);
  if ( v8 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
    if ( a1[116] == 8 || !dword_4B90A0[a1[116]] )
      goto LABEL_11;
    if ( (dword_4B90C4 & (1 << a1[116])) != 0 )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
      sub_448C90(a2, a3, a4, a5, 36, "b", 91);
      return;
    }
    if ( !sub_451F80(a5, a2, a3, a4, 9, a1[117], 1) )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
      sub_448C90(a2, a3, a4, a5, 37, "bw", 92, a1[117]);
      return;
    }
    (*(void (__thiscall **)(int *, int))(*a1 + 100))(a1, 1);
    a1[118] = GetTickCount() + 600000;
    sub_446920(a2, a3, a4, a1[77], 37, "bw", 93, a1[117]);
    dword_4B90C4 |= 1 << a1[116];
    if ( dword_4B90C4 == 255 )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
      sub_482A50(&dword_4B9C40[15 * a1[77]], a1[77], 1);
    }
    else
    {
LABEL_11:
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9168, a2, a3, a4);
    }
  }
}
// 4B90A0: using guessed type int dword_4B90A0[];
// 4B90C4: using guessed type int dword_4B90C4;

//----- (00441740) --------------------------------------------------------
void __userpurge sub_441740(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v8[2]; // [esp+4h] [ebp-Ch] BYREF
  char v9; // [esp+Fh] [ebp-1h] BYREF

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "b", &v9);
  if ( v9 && a1[117] >= 0 && a1[118] >= 0 )
  {
    v8[0] = RandomBetween(a1[117] - 32, a1[117] + 32);
    v8[1] = RandomBetween(a1[118] - 32, a1[118] + 32);
    sub_451260((_DWORD *)a5, a2, a3, a4, a1[116], v8, 0, 0);
  }
}

//----- (004417F0) --------------------------------------------------------
int __thiscall sub_4417F0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_441880(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00441850) --------------------------------------------------------
void *__thiscall sub_441850(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_46F9C0(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (00441880) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_441880(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_441BB0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00441930) --------------------------------------------------------
void __stdcall sub_441930(void *a1, int a2)
{
  sub_401020(a1);
}

//----- (00441950) --------------------------------------------------------
int *__thiscall sub_441950(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_41BA20(a2);
  v2 = (_DWORD *)unknown_libname_21(v11);
  *(_DWORD *)sub_41BA20(a2) = *v2;
  v3 = (int *)unknown_libname_21(v11);
  if ( !*(_BYTE *)sub_46DDD0(*v3) )
  {
    v4 = (int *)unknown_libname_21(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (_DWORD *)sub_465290(a2);
    if ( a2 == *(_DWORD *)unknown_libname_21(*v6) )
    {
      v7 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v8) = v11;
    }
  }
  *(_DWORD *)unknown_libname_21(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00441A80) --------------------------------------------------------
int *__thiscall sub_441A80(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  _DWORD *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)unknown_libname_21(a2);
  v2 = (_DWORD *)sub_41BA20(v11);
  *(_DWORD *)unknown_libname_21(a2) = *v2;
  v3 = (int *)sub_41BA20(v11);
  if ( !*(_BYTE *)sub_46DDD0(*v3) )
  {
    v4 = (int *)sub_41BA20(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (int *)sub_465290(a2);
    if ( a2 == *(_DWORD *)sub_41BA20(*v6) )
    {
      v7 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v7) = v11;
    }
    else
    {
      v8 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v8) = v11;
    }
  }
  *(_DWORD *)sub_41BA20(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00441BB0) --------------------------------------------------------
_DWORD *__thiscall sub_441BB0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_441C10(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00441C10) --------------------------------------------------------
int __stdcall sub_441C10(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_441C10(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00441C90) --------------------------------------------------------
int __cdecl sub_441C90(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)unknown_libname_21(a1);
    if ( *(_BYTE *)sub_46DDD0(*v1) )
      break;
    a1 = *(_DWORD *)unknown_libname_21(a1);
  }
  return a1;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00441CD0) --------------------------------------------------------
void *__thiscall sub_441CD0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00441D00) --------------------------------------------------------
void __stdcall sub_441D00(int a1)
{
  sub_46AD90();
}

//----- (00441D20) --------------------------------------------------------
void *__thiscall sub_441D20(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00441D50) --------------------------------------------------------
void *__thiscall sub_441D50(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00441D80) --------------------------------------------------------
int __thiscall sub_441D80(int *this)
{
  return sub_441DA0(this);
}

//----- (00441DA0) --------------------------------------------------------
int __thiscall sub_441DA0(int *this)
{
  return sub_441DC0(this);
}

//----- (00441DC0) --------------------------------------------------------
int __thiscall sub_441DC0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_441E70(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00441E70) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_441E70(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_441F10((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00441F10) --------------------------------------------------------
_DWORD *__thiscall sub_441F10(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_441F70(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00441F70) --------------------------------------------------------
int __stdcall sub_441F70(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_441F70(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00441FF0) --------------------------------------------------------
int __thiscall sub_441FF0(int *this)
{
  return sub_442010(this);
}

//----- (00442010) --------------------------------------------------------
int __thiscall sub_442010(int *this)
{
  return sub_442030(this);
}

//----- (00442030) --------------------------------------------------------
int __thiscall sub_442030(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4420E0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004420E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4420E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_442180((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00442180) --------------------------------------------------------
_DWORD *__thiscall sub_442180(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_4421E0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (004421E0) --------------------------------------------------------
int __stdcall sub_4421E0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_4421E0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00442260) --------------------------------------------------------
int __thiscall sub_442260(int *this)
{
  return sub_442280(this);
}

//----- (00442280) --------------------------------------------------------
int __thiscall sub_442280(int *this)
{
  return sub_4422A0(this);
}

//----- (004422A0) --------------------------------------------------------
int __thiscall sub_4422A0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_441880(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00442350) --------------------------------------------------------
int sub_442350()
{
  int result; // eax
  char v1[8]; // [esp+30h] [ebp-238h] BYREF
  char v2[8]; // [esp+38h] [ebp-230h] BYREF
  int v3; // [esp+40h] [ebp-228h]
  char v4[4]; // [esp+44h] [ebp-224h]
  char v5[540]; // [esp+48h] [ebp-220h] BYREF

  v3 = 110;
  *(_DWORD *)v4 = 0;
  while ( *(int *)v4 < v3 )
  {
    sub_442DD0(
      dword_4B918C,
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v2,
      (const std::pair<char const * const,CItem *> *)(8 * *(_DWORD *)v4 + 4952472));
    if ( !v2[4] )
      LOG_ERR("CObjectDB::Open() Duplicate Key at Symbol Map %d", *(_DWORD *)v4);
    ++*(_DWORD *)v4;
  }
  v3 = 14;
  *(_DWORD *)v4 = 0;
  while ( *(int *)v4 < v3 )
  {
    sub_442DD0(
      dword_4B9508,
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v1,
      (const std::pair<char const * const,CItem *> *)(8 * *(_DWORD *)v4 + 4953368));
    if ( !v1[4] )
      LOG_ERR("CObjectDB::Open() Duplicate Key at Class Map %d", *(_DWORD *)v4);
    ++*(_DWORD *)v4;
  }
  CInitItem::Open();
  sub_470490();
  sub_4714F0();
  sub_424670((CConfig *)v5);
  LOG_INFO("Reading [Map] . . .");
  if ( !CObjectDB::Open((int)v5, "Config\\InitMap.txt") )
    goto LABEL_27;
  LOG_INFO("Reading [InitMonster] . . .");
  if ( !CObjectDB::Open((int)v5, "Config\\InitMonster.txt") )
    goto LABEL_27;
  LOG_INFO("Reading [GenMonster] . . .");
  if ( !CObjectDB::Open((int)v5, "Config\\GenMonster.txt") )
    goto LABEL_27;
  LOG_INFO("Reading [InitItem] . . .");
  if ( !CObjectDB::Open((int)v5, "Config\\InitItem.txt") )
    goto LABEL_27;
  LOG_INFO("Reading [Prefix] . . .");
  if ( CObjectDB::Open((int)v5, "Config\\Prefix.txt")
    && (LOG_INFO("Reading [ItemGroup] . . ."), CObjectDB::Open((int)v5, "Config\\ItemGroup.txt"))
    && (LOG_INFO("Reading [Goods] . . ."), CObjectDB::Open((int)v5, "Config\\Goods.txt"))
    && (LOG_INFO("Reading [InitNPC] . . ."), CObjectDB::Open((int)v5, "Config\\InitNPC.txt"))
    && (LOG_INFO("Reading [InitSkill] . . ."), CObjectDB::Open((int)v5, "Config\\InitSkill.txt"))
    && (LOG_INFO("Reading [Quest] . . ."), CObjectDB::Open((int)v5, "Config\\Quest.txt"))
    && (LOG_INFO("Reading [Etc] . . ."), CObjectDB::Open((int)v5, "Config\\Etc.txt")) )
  {
    InterlockedExchange(&dword_4B9188, 1);
    sub_424690((CConfig *)v5);
    result = 1;
  }
  else
  {
LABEL_27:
    sub_424690((CConfig *)v5);
    result = 0;
  }
  return result;
}

//----- (00442760) --------------------------------------------------------
int __thiscall CObjectDB::Open(int this, char *FileName)
{
  int result; // eax
  void *v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // [esp+4h] [ebp-44h]
  char v8[4]; // [esp+14h] [ebp-34h] BYREF
  const char *v9; // [esp+18h] [ebp-30h] BYREF
  int v10; // [esp+1Ch] [ebp-2Ch]
  int v11; // [esp+20h] [ebp-28h] BYREF
  char v12[28]; // [esp+24h] [ebp-24h] BYREF
  int v13; // [esp+44h] [ebp-4h]

  *(_DWORD *)(this + 512) = fopen(FileName, "rb");
  if ( *(_DWORD *)(this + 512) )
  {
    std::string::string((std::string *)v12);
    *(_DWORD *)(this + 516) = 1;
    *(_DWORD *)(this + 528) = FileName;
    while ( 2 )
    {
      v13 = CConfig::GetToken((char *)this);
      v6 = v13;
      switch ( v13 )
      {
        case 0:
          fclose(*(FILE **)(this + 512));
          *(_DWORD *)(this + 512) = 0;
          sub_40E7C0((std::string *)v12);
          return 1;
        case 3:
          continue;
        case 7:
          if ( CConfig::GetToken((char *)this) != 1 )
            goto LABEL_13;
          v9 = (const char *)this;
          sub_41EEB0(dword_4B9508, &v11, &v9);
          v3 = sub_482CA0(dword_4B9508, v8);
          if ( (unsigned __int8)unknown_libname_25(v3) )
            goto LABEL_13;
          v4 = sub_43E1A0(&v11);
          v10 = (*(int (__thiscall **)(_DWORD, _DWORD, int))(**(_DWORD **)(v4 + 4) + 24))(
                  *(_DWORD *)(v4 + 4),
                  *(_DWORD *)(v4 + 4),
                  v6);
          if ( CObjectDB::Load((void *)this, v10) )
            continue;
          v5 = sub_43E1A0(&v11);
          if ( v10 != *(_DWORD *)(v5 + 4) )
            (*(void (__thiscall **)(int))(*(_DWORD *)v10 + 4))(v10);
          fclose(*(FILE **)(this + 512));
          *(_DWORD *)(this + 512) = 0;
          LOG_ERR("Invalid format %s(%d) at CObjectDB::Open(Load())", FileName, *(_DWORD *)(this + 516));
          sub_40E7C0((std::string *)v12);
          result = 0;
          break;
        case 8:
          LOG_ERR("Unmatched close parenthesis at CObjectDB::Open, %s(%d)", FileName, *(_DWORD *)(this + 516));
          continue;
        default:
LABEL_13:
          LOG_ERR("Invalid format %s(%d) at CObjectDB::Open", FileName, *(_DWORD *)(this + 516));
          do
            v13 = CConfig::GetToken((char *)this);
          while ( v13 != 3 && v13 );
          continue;
      }
      break;
    }
  }
  else
  {
    LOG_ERR("'%s' File open failed at CObjectDB::Open", FileName);
    result = 0;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004429B0) --------------------------------------------------------
int __cdecl CObjectDB::FindSymbol(int a1)
{
  void *v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  int v4; // [esp+4h] [ebp-4h] BYREF

  sub_41EEB0(dword_4B918C, &v4, (const char **)&a1);
  v1 = sub_482CA0(dword_4B918C, v3);
  if ( (unsigned __int8)unknown_libname_25(v1) )
    result = 0;
  else
    result = *(_DWORD *)(sub_43E1A0(&v4) + 4);
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00442A00) --------------------------------------------------------
int __thiscall CObjectDB::Load(void *this, int a2)
{
  int v2; // ecx
  void *v3; // esp
  int v4; // ecx
  int v5; // ecx
  _DWORD *v6; // eax
  void *v7; // esp
  void *v8; // esp
  int v9; // eax
  void *v10; // esp
  int v11; // ecx
  char v12; // cl
  _DWORD *v13; // eax
  char v15; // [esp-1Ch] [ebp-7Ch]
  char v16; // [esp-18h] [ebp-78h]
  int v17; // [esp-18h] [ebp-78h]
  int v18; // [esp-14h] [ebp-74h] BYREF
  int v19; // [esp-10h] [ebp-70h]
  int v20; // [esp-Ch] [ebp-6Ch] BYREF
  _DWORD v21[2]; // [esp-8h] [ebp-68h] BYREF
  int v22[2]; // [esp+0h] [ebp-60h] BYREF
  int v23; // [esp+8h] [ebp-58h]
  void *v24; // [esp+Ch] [ebp-54h]
  int *v25; // [esp+10h] [ebp-50h]
  _DWORD *v26; // [esp+14h] [ebp-4Ch]
  void *v27; // [esp+18h] [ebp-48h]
  void *Src; // [esp+1Ch] [ebp-44h]
  _DWORD *v29; // [esp+2Ch] [ebp-34h]
  lisp::_string *v30; // [esp+34h] [ebp-2Ch]
  _DWORD *v31; // [esp+40h] [ebp-20h]
  char v32[4]; // [esp+48h] [ebp-18h] BYREF
  size_t v33; // [esp+4Ch] [ebp-14h]
  void *v34; // [esp+50h] [ebp-10h]
  int v35; // [esp+54h] [ebp-Ch] BYREF
  int v36; // [esp+58h] [ebp-8h]
  int v37; // [esp+5Ch] [ebp-4h]

  Src = this;
  sub_40AE20(&v35);
  v37 = 0;
  do
  {
    while ( 1 )
    {
      while ( 1 )
      {
        while ( 1 )
        {
          v36 = CConfig::GetToken((char *)Src);
          if ( v36 != 8 )
            break;
          if ( !v37 )
          {
            v21[1] = v2;
            std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&v35);
            if ( (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 28))(a2, 0)
              && (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 32))(a2) )
            {
              return 1;
            }
            LOG_ERR(
              "Invalid format %s line(%d) at CObjectDB::Load",
              *((const char **)Src + 132),
              *((_DWORD *)Src + 129));
            return 0;
          }
          --v37;
        }
        if ( v36 != 7 )
          break;
        v3 = alloca(12);
        v27 = &v20;
        v31 = operator new(0xCu, &v20);
        if ( v31 )
        {
          v19 = v4;
          std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&unk_4B8BC8);
          v18 = v5;
          std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&unk_4B8BC8);
          v26 = lisp::_cons::_cons(v31, v18, v19);
        }
        else
        {
          v26 = 0;
        }
        v19 = v4;
        unknown_libname_16(v26);
        v6 = sub_442CC0(&v35, v37);
        lisp::var::operator=(v6, v19);
        ++v37;
      }
      if ( v36 != 1 && v36 != 2 )
        break;
      v33 = strlen((const char *)Src);
      v7 = alloca(v33 + 1);
      v25 = v22;
      v34 = v22;
      memcpy(v22, Src, v33 + 1);
      v8 = alloca(8);
      v24 = v21;
      v30 = (lisp::_string *)operator new(8u, v21);
      if ( v30 )
      {
        lisp::_string::_string(v30, (const char *)v34);
        v23 = v9;
      }
      else
      {
        v23 = 0;
      }
      unknown_libname_16(v23);
      v10 = alloca(12);
      v22[1] = (int)&v18;
      v29 = operator new(0xCu, &v18);
      if ( v29 )
      {
        v16 = v11;
        std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&unk_4B8BC8);
        v15 = v12;
        std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v32);
        v22[0] = (int)lisp::_cons::_cons(v29, v15, v16);
      }
      else
      {
        v22[0] = 0;
      }
      v17 = v11;
      unknown_libname_16(v22[0]);
      v13 = sub_442CC0(&v35, v37);
      lisp::var::operator=(v13, v17);
    }
  }
  while ( v36 == 3 );
  LOG_ERR(
    "Invalid format %s line(%d) token(%d) at CObjectDB::Load",
    *((const char **)Src + 132),
    *((_DWORD *)Src + 129),
    v36);
  while ( v37 >= 0 )
  {
    switch ( v36 )
    {
      case 0:
        LOG_ERR("Unmatched open parenthesis at CObjectDB::Load");
        return 0;
      case 7:
        ++v37;
        break;
      case 8:
        --v37;
        break;
    }
    v36 = CConfig::GetToken((char *)Src);
  }
  return 0;
}
// 442A70: variable 'v4' is possibly undefined
// 442A7D: variable 'v5' is possibly undefined
// 442B49: variable 'v9' is possibly undefined
// 442B85: variable 'v11' is possibly undefined
// 442B92: variable 'v12' is possibly undefined
// 442BE1: variable 'v2' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);
// 4312A0: using guessed type _DWORD __stdcall unknown_libname_16(_DWORD);

//----- (00442CC0) --------------------------------------------------------
_DWORD *__stdcall sub_442CC0(_DWORD *a1, int a2)
{
  char i; // al
  _DWORD *v4; // [esp+0h] [ebp-8h]
  _DWORD *v5; // [esp+4h] [ebp-4h]

  v5 = a1;
  v4 = a1;
  for ( i = sub_40AFD0(a1); ; i = sub_40AFD0(v5) )
  {
    while ( i )
    {
      v4 = v5;
      v5 = (_DWORD *)sub_40AFB0(v5);
      i = sub_40AFD0(v5);
    }
    if ( !a2 )
      break;
    --a2;
    v5 = (_DWORD *)sub_40AF90(v4);
    v4 = v5;
  }
  return v5;
}

//----- (00442D30) --------------------------------------------------------
void __usercall CObjectDB::Close(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-Ch] BYREF
  int v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h] BYREF

  InterlockedExchange(&dword_4B9188, 0);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B9508,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B9508, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    v4 = sub_43E1A0(&v7);
    CBase::Delete(*(volatile signed __int32 **)(v4 + 4));
    sub_46FA50(&v7, &v6, 0);
  }
  CItem::Close(a1, a2, a3);
  CInitNPC::Close();
  sub_43FFC0();
  sub_470500();
  sub_471500();
  sub_46D520(a1, a2, a3);
}

//----- (00442DC0) --------------------------------------------------------
LONG sub_442DC0()
{
  return dword_4B9188;
}

//----- (00442DD0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_442DD0(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const std::pair<char const * const,CItem *> *a3)
{
  const char **v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  const char **v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  const char *v10; // [esp-4h] [ebp-3Ch]
  const char *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA00(this);
  v22 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_46DDD0((int)v21) )
  {
    v22 = v21;
    v10 = *(const char **)sub_463EE0((int)v21);
    v3 = (const char **)unknown_libname_21(a3);
    v23 = iless::operator()((iless *)this, *v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)unknown_libname_21(v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA20((int)v21);
    v21 = v12;
  }
  sub_42D570(&v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_46DDE0((int)this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_47CBD0(&v20);
  }
  v11 = *(const char **)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (const char **)sub_463EE0(v7);
  if ( iless::operator()((iless *)this, *v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_46DDE0((int)this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00442F90) --------------------------------------------------------
int *__thiscall sub_442F90(int *this)
{
  sub_443020(this);
  return this;
}

//----- (00442FB0) --------------------------------------------------------
int *__thiscall sub_442FB0(int *this)
{
  sub_417A10(this);
  return this;
}

//----- (00442FD0) --------------------------------------------------------
unsigned int __thiscall std::allocator<std::pair<char const * const,CItem *>>::max_size(std::allocator<std::pair<char const * const,CItem *> > *this)
{
  return 0x1FFFFFFF;
}

//----- (00443000) --------------------------------------------------------
CMemory **__stdcall sub_443000(int a1)
{
  return sub_482AE0(a1);
}

//----- (00443020) --------------------------------------------------------
int __thiscall sub_443020(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_46DDD0(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_41BA20(*this);
    if ( *(_BYTE *)sub_46DDD0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        result = *(char *)sub_46DDD0(v5);
        if ( result )
          break;
        result = sub_41BA20(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_41BA20(*this);
      result = sub_441C90(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (004430E0) --------------------------------------------------------
void *__thiscall sub_4430E0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00443110) --------------------------------------------------------
void *__thiscall std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(void *this, _BYTE *a2, char a3)
{
  void *v4; // [esp+0h] [ebp-4h]

  v4 = this;
  LOBYTE(this) = *a2;
  unknown_libname_20(this);
  unknown_libname_20(&a3);
  return v4;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (00443140) --------------------------------------------------------
void *__thiscall sub_443140(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00443170) --------------------------------------------------------
_DWORD *__thiscall CQuest::CQuest(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_49D000;
  this[8] = 0;
  this[9] = 0;
  this[10] = 0;
  sub_46DAF0(this + 11);
  return this;
}
// 49D000: using guessed type int (__stdcall *off_49D000)(int);

//----- (004431C0) --------------------------------------------------------
_DWORD *__userpurge sub_4431C0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_46D450(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (004431F0) --------------------------------------------------------
int sub_4431F0()
{
  void *v0; // eax
  void *v1; // eax
  int v3; // [esp+4h] [ebp-8h] BYREF
  int v4; // [esp+8h] [ebp-4h]

  v3 = (int)sub_42F7F0(1);
  v4 = 0;
  v0 = (void *)unknown_libname_21(v3);
  sub_46B180(v0, (int)&v3);
  ++v4;
  v1 = (void *)sub_465290(v3);
  sub_46B180(v1, (int)&v3);
  return v3;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00443290) --------------------------------------------------------
int __thiscall sub_443290(int *this)
{
  return sub_4432B0(this);
}

//----- (004432B0) --------------------------------------------------------
int __thiscall sub_4432B0(int *this)
{
  return sub_4432D0(this);
}

//----- (004432D0) --------------------------------------------------------
int __thiscall sub_4432D0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_443380(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00443380) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_443380(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_443420((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00443420) --------------------------------------------------------
_DWORD *__thiscall sub_443420(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_443480(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00443480) --------------------------------------------------------
int __stdcall sub_443480(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_443480(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00443500) --------------------------------------------------------
int __thiscall sub_443500(int *this)
{
  return sub_443520(this);
}

//----- (00443520) --------------------------------------------------------
int __thiscall sub_443520(int *this)
{
  return sub_443540(this);
}

//----- (00443540) --------------------------------------------------------
int __thiscall sub_443540(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4435F0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004435F0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4435F0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_443690((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00443690) --------------------------------------------------------
_DWORD *__thiscall sub_443690(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_4436F0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (004436F0) --------------------------------------------------------
int __stdcall sub_4436F0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_4436F0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00443770) --------------------------------------------------------
int __userpurge sub_443770@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CIOObject::CIOObject((CIOObject *)a1);
  *(_DWORD *)a1 = &off_49D048;
  sub_4454D0((void *)(a1 + 32));
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(a1 + 48));
  *(_DWORD *)(a1 + 16) = InterlockedIncrement(&dword_4B9588);
  *(_DWORD *)(a1 + 20) = a5;
  *(_DWORD *)(a1 + 24) = *(_DWORD *)(a5 + 60);
  *(_DWORD *)(a1 + 28) = 0;
  CIOObject::AddRef((CIOObject *)a5, a2, a3, a4, (volatile int *)(a5 + 436));
  *(_DWORD *)(a5 + 928) = *(_DWORD *)(a1 + 16);
  std::vector<CIOSocket::CIOTimer>::push_back(
    (std::vector<CIOSocket::CIOTimer> *)(a1 + 32),
    (const CIOSocket::CIOTimer *)&a5);
  *(_DWORD *)(a1 + 80) = 0;
  CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, 0x3E8u, 0);
  return a1;
}
// 49D048: using guessed type int (__stdcall *off_49D048)(int);

//----- (00443820) --------------------------------------------------------
void *__userpurge sub_443820@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  Party::_CParty((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00443850) --------------------------------------------------------
_DWORD *__usercall Party::_CParty@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *(_DWORD *)a1 = &off_49D048;
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  sub_41B890((std::vector<unsigned long> *)(a1 + 32));
  return sub_422250((_DWORD *)a1);
}
// 49D048: using guessed type int (__stdcall *off_49D048)(int);

//----- (00443890) --------------------------------------------------------
volatile int *__usercall sub_443890@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-Ch] BYREF
  volatile int *v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h] BYREF

  v7 = 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9598, a1, a2, a3);
  sub_460550(dword_4B958C, &v8, &a4);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B958C, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
         v4) )
  {
    v7 = *(volatile int **)(sub_43E1A0(&v8) + 4);
    sub_4010D0(v7, a1, a2, a3);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9598, a1, a2, a3);
  return v7;
}

//----- (00443900) --------------------------------------------------------
void __usercall sub_443900(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5)
{
  volatile int *v5; // [esp+0h] [ebp-Ch]
  CMemory **v6; // [esp+4h] [ebp-8h]
  volatile int *v7; // [esp+8h] [ebp-4h]

  sub_454940(a1, a2, a3, a4, a5);
  if ( *(_DWORD *)(a5 + 928) )
  {
    sub_448C90(a1, a2, a3, a4, 37, "bs", 31, a5 + 32);
  }
  else
  {
    v7 = sub_443890(a1, a2, a3, *(_DWORD *)(a4 + 928));
    if ( !v7 )
    {
      v6 = sub_401000(0x54u);
      if ( v6 )
        v5 = (volatile int *)sub_443770((int)v6, a1, a2, a3, a4);
      else
        v5 = 0;
      v7 = v5;
      sub_4010D0(v5, a1, a2, a3);
      CParty::Add((int)v5, a1, a2, a3);
    }
    sub_443D80((int)v7, a1, a2, a3, a4, a5);
    sub_401C50(v7, a1, a2, a3);
  }
  sub_4439D0(a1, a2, a3, a4, a5);
}

//----- (004439D0) --------------------------------------------------------
void __usercall sub_4439D0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  sub_412010(a4, a1, a2, a3);
  sub_412010(a5, a1, a2, a3);
}

//----- (004439F0) --------------------------------------------------------
void __usercall CParty::OnFree(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( *((_DWORD *)a1 + 7) )
  {
    CIOObject::OnFree(a1);
  }
  else
  {
    ELOG(
      "CParty::OnFree %p %d %d %d %d\n",
      a1,
      *((_DWORD *)a1 + 1),
      *((_DWORD *)a1 + 3),
      *((_DWORD *)a1 + 2),
      *((_DWORD *)a1 + 7));
    EBREAK(a2, a3, a4);
    *((_DWORD *)a1 + 1) = 100;
  }
}

//----- (00443A50) --------------------------------------------------------
void __userpurge sub_443A50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  int v7; // eax
  char v9[4]; // [esp+4h] [ebp-1Ch] BYREF
  int v10; // [esp+8h] [ebp-18h] BYREF
  int v11; // [esp+Ch] [ebp-14h]
  int v12; // [esp+10h] [ebp-10h] BYREF
  unsigned __int16 *v13; // [esp+14h] [ebp-Ch]
  _DWORD *v14; // [esp+18h] [ebp-8h]
  void *Src; // [esp+1Ch] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  if ( *(_DWORD *)(a1 + 28) )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  }
  else
  {
    Src = CIOBuffer::Alloc();
    v13 = (unsigned __int16 *)Src;
    *((_BYTE *)Src + 2) = 60;
    v14 = v13 + 2;
    sub_482CA0((int *)(a1 + 32), &v12);
    while ( 1 )
    {
      v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v9);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
              v5) )
        break;
      v11 = *(_DWORD *)sub_43E1F0(&v12);
      v6 = unknown_libname_4(v11);
      v14 = sub_4459A0(v14, v6);
      v14 = sub_4459A0(v14, *(_DWORD *)(v11 + 324));
      v14 = sub_4459A0(v14, *(_DWORD *)(v11 + 328));
      sub_4455C0(&v12, &v10, 0);
    }
    v7 = std::vector<unsigned long>::size((std::vector<unsigned long> *)(a1 + 32));
    WritePacket(a2, a3, a4, (char *)v13 + 3, "b", v7);
    *v13 = (_WORD)v14 - (_WORD)v13;
    *((_DWORD *)Src + 2000) = *v13;
    CParty::_Broadcast(a1, a2, a3, a4, Src, 0);
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
    CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, 0x3E8u, 0);
  }
}

//----- (00443BA0) --------------------------------------------------------
void __usercall CParty::Add(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::pair<int const ,CSocket *> *v4; // eax
  char v6[8]; // [esp+4h] [ebp-14h] BYREF
  CItem *v7; // [esp+Ch] [ebp-Ch] BYREF
  char v8[8]; // [esp+10h] [ebp-8h] BYREF

  sub_4010D0((volatile int *)a1, a2, a3, a4);
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9598, a2, a3, a4);
  v7 = (CItem *)a1;
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v8,
    (const char *const *)(a1 + 16),
    &v7);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B958C,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v4);
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9598, a2, a3, a4);
}
// 443BDE: variable 'v4' is possibly undefined

//----- (00443C00) --------------------------------------------------------
void __usercall CParty::Remove(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9598, a2, a3, a4);
  sub_445560(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B958C,
    (const int *)(a1 + 16));
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9598, a2, a3, a4);
  sub_401C50((volatile int *)a1, a2, a3, a4);
}

//----- (00443C40) --------------------------------------------------------
int __userpurge CParty::IsHead@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v7; // [esp+4h] [ebp-4h]

  v7 = 1;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  if ( *(_DWORD *)(a1 + 28) || *(_DWORD *)(a1 + 20) != a5 )
    v7 = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  return v7;
}

//----- (00443C90) --------------------------------------------------------
int __thiscall CParty::IsMember(int *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v5[4]; // [esp+4h] [ebp-Ch] BYREF
  int v6; // [esp+8h] [ebp-8h] BYREF
  int v7; // [esp+Ch] [ebp-4h] BYREF

  sub_482CA0(this + 8, &v7);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(this + 8, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v2) )
      break;
    if ( a2 == *(_DWORD *)sub_43E1F0(&v7) )
      return 1;
    sub_4455C0(&v7, &v6, 0);
  }
  return 0;
}

//----- (00443D00) --------------------------------------------------------
int __thiscall CParty::FindTopLevel(int *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch]
  int v7; // [esp+10h] [ebp-8h] BYREF
  int v8; // [esp+14h] [ebp-4h]

  v8 = 0;
  sub_482CA0(this + 8, &v7);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(this + 8, v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v1) )
      break;
    v6 = *(_DWORD *)sub_43E1F0(&v7);
    if ( *(_DWORD *)(v6 + 60) > v8 )
      v8 = *(_DWORD *)(v6 + 60);
    sub_4455C0(&v7, &v5, 0);
  }
  return v8;
}

//----- (00443D80) --------------------------------------------------------
void __userpurge sub_443D80(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // [esp-14h] [ebp-20h]
  int v8; // [esp-10h] [ebp-1Ch]
  int v9; // [esp-Ch] [ebp-18h]
  int v10; // [esp-8h] [ebp-14h]
  int v11; // [esp-4h] [ebp-10h]
  CMemory **Src; // [esp+4h] [ebp-8h]
  int v14; // [esp+8h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  if ( !*(_DWORD *)(a1 + 28) && a5 == *(_DWORD *)(a1 + 20) )
  {
    v14 = std::vector<unsigned long>::size((std::vector<unsigned long> *)(a1 + 32));
    if ( v14 >= 6 )
    {
      sub_448C90(a2, a3, a4, a6, 36, "b", 30);
    }
    else
    {
      if ( v14 == 1 )
        sub_4447A0(a1, a2, a3, a4, *(_DWORD *)(a1 + 20));
      CIOObject::AddRef((CIOObject *)a6, a2, a3, a4, (volatile int *)(a6 + 436));
      *(_DWORD *)(a6 + 928) = *(_DWORD *)(a1 + 16);
      sub_448C90(a2, a3, a4, a6, 36, "b", 29);
      v11 = CChar::GetMaxHP((_DWORD *)a6);
      v10 = *(_DWORD *)(a6 + 272);
      v9 = *(_DWORD *)(a6 + 60);
      v8 = *(_DWORD *)(a6 + 452);
      v7 = a6 + 32;
      v6 = unknown_libname_4(a6);
      Src = sub_445C90(a2, a3, a4, 37, "bdsbbww", 29, v6, v7, v8, v9, v10, v11);
      CParty::_Broadcast(a1, a2, a3, a4, Src, 0);
      std::vector<CIOSocket::CIOTimer>::push_back(
        (std::vector<CIOSocket::CIOTimer> *)(a1 + 32),
        (const CIOSocket::CIOTimer *)&a6);
      sub_4447A0(a1, a2, a3, a4, a6);
      if ( *(_DWORD *)(a6 + 60) > *(_DWORD *)(a1 + 24) )
        *(_DWORD *)(a1 + 24) = *(_DWORD *)(a6 + 60);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
}

//----- (00443ED0) --------------------------------------------------------
void __userpurge sub_443ED0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  void *v5; // eax
  int v6; // eax
  void *v7; // eax
  int v8; // eax
  int v9; // [esp-4h] [ebp-34h]
  CMemory **v10; // [esp+0h] [ebp-30h]
  char v12[4]; // [esp+8h] [ebp-28h] BYREF
  int v13; // [esp+Ch] [ebp-24h] BYREF
  char v14[4]; // [esp+10h] [ebp-20h] BYREF
  int v15; // [esp+14h] [ebp-1Ch] BYREF
  CIOObject *v16; // [esp+18h] [ebp-18h]
  void *v17; // [esp+1Ch] [ebp-14h] BYREF
  int v18; // [esp+20h] [ebp-10h]
  int v19; // [esp+24h] [ebp-Ch]
  CMemory **v20; // [esp+28h] [ebp-8h]
  void *Src; // [esp+2Ch] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  if ( *(_DWORD *)(a1 + 28) )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  }
  else
  {
    sub_482CA0((int *)(a1 + 32), &v17);
    while ( 1 )
    {
      v5 = sub_42EA00((int *)(a1 + 32), v14);
      if ( (unsigned __int8)unknown_libname_25(v5) )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
        LOG_ERR("CParty::Leave() Not this party member. (bit:%x)", *(_DWORD *)(a5 + 20));
        return;
      }
      if ( a5 == *(_DWORD *)sub_43E1F0(&v17) )
        break;
      sub_4455C0((int *)&v17, &v15, 0);
    }
    sub_445500((int *)(a1 + 32), (int)&v13, v17);
    *(_DWORD *)(a5 + 928) = 0;
    sub_448C90(a2, a3, a4, a5, 36, "b", 32);
    v6 = unknown_libname_4(a5);
    Src = sub_445C90(a2, a3, a4, 37, "bd", 32, v6);
    CParty::_Broadcast(a1, a2, a3, a4, Src, 0);
    if ( *(_DWORD *)(a5 + 60) >= *(_DWORD *)(a1 + 24) )
      *(_DWORD *)(a1 + 24) = CParty::FindTopLevel((int *)a1);
    v19 = *(_DWORD *)(a5 + 576);
    if ( v19 )
      v10 = CParty::_GetPlayerList(a1, a2, a3, a4);
    else
      v10 = 0;
    v20 = v10;
    v18 = std::vector<unsigned long>::size((std::vector<unsigned long> *)(a1 + 32));
    if ( a5 == *(_DWORD *)(a1 + 20) )
    {
      v7 = sub_482CA0((int *)(a1 + 32), v12);
      *(_DWORD *)(a1 + 20) = *(_DWORD *)sub_43E1F0(v7);
      if ( v18 > 1 )
        sub_448C90(a2, a3, a4, *(_DWORD *)(a1 + 20), 36, "b", 35);
    }
    if ( v18 == 1 )
    {
      v16 = *(CIOObject **)(a1 + 20);
      *(_DWORD *)(a1 + 20) = 0;
      sub_444150(a1, a2, a3, a4);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      CParty::Remove(a1, a2, a3, a4);
      *((_DWORD *)v16 + 232) = 0;
      sub_448C90(a2, a3, a4, (int)v16, 36, "b", 36);
      *((_DWORD *)v16 + 144) = 0;
      sub_40AB60((int)v16, a2, a3, a4, 24);
      CIOObject::Release(v16, a2, a3, a4, (volatile int *)v16 + 109);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
    }
    while ( v20 )
    {
      v9 = v19;
      v8 = unknown_libname_10(v20);
      sub_40A990(v8, a2, a3, a4, v9);
      v20 = (CMemory **)CBaseList::Pop((int)v20, a2, a3, a4);
    }
    *(_DWORD *)(a5 + 576) = 0;
    sub_40AB60(a5, a2, a3, a4, 24);
    CIOObject::Release((CIOObject *)a5, a2, a3, a4, (volatile int *)(a5 + 436));
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00444150) --------------------------------------------------------
void __usercall sub_444150(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *(_DWORD *)(a1 + 28) = 1;
  sub_401C50((volatile int *)a1, a2, a3, a4);
}

//----- (00444170) --------------------------------------------------------
void __userpurge sub_444170(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  void *v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-4h] [ebp-2Ch]
  CMemory **v10; // [esp+0h] [ebp-28h]
  int v12; // [esp+8h] [ebp-20h] BYREF
  char v13[4]; // [esp+Ch] [ebp-1Ch] BYREF
  int v14; // [esp+10h] [ebp-18h] BYREF
  CIOObject *v15; // [esp+14h] [ebp-14h]
  void *v16; // [esp+18h] [ebp-10h] BYREF
  int v17; // [esp+1Ch] [ebp-Ch]
  CMemory **v18; // [esp+20h] [ebp-8h]
  void *Src; // [esp+24h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  if ( *(_DWORD *)(a1 + 28) || a5 != *(_DWORD *)(a1 + 20) )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  }
  else
  {
    sub_482CA0((int *)(a1 + 32), &v16);
    while ( 1 )
    {
      v6 = sub_42EA00((int *)(a1 + 32), v13);
      if ( (unsigned __int8)unknown_libname_25(v6) )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
        LOG_ERR("CParty::Leave() Not this party member. (bit:%x)", *(_DWORD *)(a6 + 20));
        return;
      }
      if ( a6 == *(_DWORD *)sub_43E1F0(&v16) )
        break;
      sub_4455C0((int *)&v16, &v14, 0);
    }
    sub_445500((int *)(a1 + 32), (int)&v12, v16);
    *(_DWORD *)(a6 + 928) = 0;
    sub_448C90(a2, a3, a4, a6, 36, "b", 33);
    v7 = unknown_libname_4(a6);
    Src = sub_445C90(a2, a3, a4, 37, "bd", 33, v7);
    CParty::_Broadcast(a1, a2, a3, a4, Src, 0);
    if ( *(_DWORD *)(a6 + 60) >= *(_DWORD *)(a1 + 24) )
      *(_DWORD *)(a1 + 24) = CParty::FindTopLevel((int *)a1);
    v17 = *(_DWORD *)(a6 + 576);
    if ( v17 )
      v10 = CParty::_GetPlayerList(a1, a2, a3, a4);
    else
      v10 = 0;
    v18 = v10;
    if ( std::vector<unsigned long>::size((std::vector<unsigned long> *)(a1 + 32)) == 1 )
    {
      v15 = *(CIOObject **)(a1 + 20);
      *(_DWORD *)(a1 + 20) = 0;
      sub_444150(a1, a2, a3, a4);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
      CParty::Remove(a1, a2, a3, a4);
      *((_DWORD *)v15 + 232) = 0;
      sub_448C90(a2, a3, a4, (int)v15, 36, "b", 36);
      *((_DWORD *)v15 + 144) = 0;
      sub_40AB60((int)v15, a2, a3, a4, 24);
      CIOObject::Release(v15, a2, a3, a4, (volatile int *)v15 + 109);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
    }
    while ( v18 )
    {
      v9 = v17;
      v8 = unknown_libname_10(v18);
      sub_40A990(v8, a2, a3, a4, v9);
      v18 = (CMemory **)CBaseList::Pop((int)v18, a2, a3, a4);
    }
    *(_DWORD *)(a6 + 576) = 0;
    sub_40AB60(a6, a2, a3, a4, 24);
    CIOObject::Release((CIOObject *)a6, a2, a3, a4, (volatile int *)(a6 + 436));
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004443D0) --------------------------------------------------------
void __userpurge sub_4443D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, _DWORD *a7)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  const std::pair<char const * const,CItem *> *v9; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v10; // eax
  int v11; // [esp+0h] [ebp-78h]
  int v12; // [esp+4h] [ebp-74h]
  char v14[4]; // [esp+Ch] [ebp-6Ch] BYREF
  int v15; // [esp+10h] [ebp-68h] BYREF
  char v16[8]; // [esp+14h] [ebp-64h] BYREF
  char v17[8]; // [esp+1Ch] [ebp-5Ch] BYREF
  char v18[4]; // [esp+24h] [ebp-54h] BYREF
  int v19; // [esp+28h] [ebp-50h] BYREF
  char v20[4]; // [esp+2Ch] [ebp-4Ch] BYREF
  int v21; // [esp+30h] [ebp-48h] BYREF
  int v22; // [esp+34h] [ebp-44h]
  int v23; // [esp+38h] [ebp-40h] BYREF
  int v24; // [esp+3Ch] [ebp-3Ch] BYREF
  int v25; // [esp+40h] [ebp-38h] BYREF
  int v26; // [esp+44h] [ebp-34h]
  int Number; // [esp+48h] [ebp-30h]
  int v28; // [esp+4Ch] [ebp-2Ch]
  char *v29; // [esp+50h] [ebp-28h] BYREF
  int v30; // [esp+54h] [ebp-24h]
  int v31[4]; // [esp+58h] [ebp-20h] BYREF
  int v32; // [esp+68h] [ebp-10h] BYREF
  int v33[3]; // [esp+6Ch] [ebp-Ch] BYREF

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  Number = a6 - *(_DWORD *)(a1 + 24);
  if ( Number < 0 )
  {
    if ( abs(Number) >= 20 )
      v11 = 20;
    else
      v11 = abs(Number);
    *a5 -= dword_4B07D0[21 * ((*(_DWORD *)(a1 + 24) - 1) / 10) + v11] * *a5 / 100;
  }
  else
  {
    if ( Number >= 20 )
      v12 = 20;
    else
      v12 = Number;
    *a5 += dword_4B0488[21 * ((*(_DWORD *)(a1 + 24) - 1) / 10) + v12] * *a5 / 100;
  }
  if ( *a5 > 0 )
  {
    sub_4454D0(v31);
    v30 = 0;
    v26 = 0;
    sub_482CA0((int *)(a1 + 32), &v25);
    while ( 1 )
    {
      v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v20);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v25,
              v7) )
        break;
      v29 = *(char **)sub_43E1F0(&v25);
      if ( CChar::IsNormal(v29) && sub_440790((_DWORD *)v29 + 81, a7) <= 640 )
      {
        if ( *(_DWORD *)(a1 + 24) - *((_DWORD *)v29 + 15) <= 20 )
          ++v26;
        v30 += *((_DWORD *)v29 + 15);
        std::vector<CIOSocket::CIOTimer>::push_back(
          (std::vector<CIOSocket::CIOTimer> *)v31,
          (const CIOSocket::CIOTimer *)&v29);
      }
      sub_4455C0(&v25, &v21, 0);
    }
    if ( v26 > 1 )
      *a5 += *a5 * (v26 - 1) / 10;
    sub_43DEC0(v33);
    v28 = *(_DWORD *)(a1 + 24);
    sub_482CA0(v31, &v24);
    while ( 1 )
    {
      v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(v31, v18);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v24,
              v8) )
        break;
      v29 = *(char **)sub_43E1F0(&v24);
      v32 = *((_DWORD *)v29 + 15) * *a5 / v30;
      Number = v28 - *((_DWORD *)v29 + 15);
      if ( Number <= 28 )
      {
        if ( Number > 0 )
          v32 -= dword_4B0B18[Number] * v32 / 100;
      }
      else
      {
        v32 = 0;
      }
      if ( v32 )
      {
        CIOObject::AddRef((CIOObject *)v29, a2, a3, a4, (volatile int *)v29 + 86);
        std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
          (std::pair<char const * const,CItem *> *)v17,
          (const char *const *)&v29,
          (CItem *const *)&v32);
        sub_43E290(
          v33,
          (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v16,
          v9);
      }
      sub_4455C0(&v24, &v19, 0);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
    *a5 = 0;
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)v33,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v23);
    while ( 1 )
    {
      v10 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(v33, v14);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v23,
              v10) )
        break;
      v29 = *(char **)sub_43E1A0(&v23);
      v32 = *(_DWORD *)(sub_43E1A0(&v23) + 4);
      *a5 += v32;
      v22 = (dword_4B8C34 & 1) != 0 ? 0x64 : 0;
      if ( sub_408E10(v29, 2) )
      {
        v22 += 30;
      }
      else if ( sub_408E10(v29, 1) )
      {
        v22 += 30;
      }
      (*(void (__cdecl **)(char *, int, int, int, int))(*(_DWORD *)v29 + 88))(
        v29,
        25,
        1,
        v32 + v22 * v32 / 100,
        (v32 + v22 * v32 / 100) >> 31);
      CIOObject::Release((CIOObject *)v29, a2, a3, a4, (volatile int *)v29 + 86);
      sub_46FA50(&v23, &v15, 0);
    }
    sub_436A10(v33);
    sub_41B890((std::vector<unsigned long> *)v31);
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  }
}
// 44467C: variable 'v9' is possibly undefined
// 4B8C34: using guessed type int dword_4B8C34;

//----- (004447A0) --------------------------------------------------------
void __userpurge sub_4447A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  __int16 v7; // ax
  int v8; // eax
  char v10[4]; // [esp+4h] [ebp-1Ch] BYREF
  int v11; // [esp+8h] [ebp-18h] BYREF
  _DWORD *v12; // [esp+Ch] [ebp-14h]
  int v13; // [esp+10h] [ebp-10h] BYREF
  char *v14; // [esp+14h] [ebp-Ch]
  char *v15; // [esp+18h] [ebp-8h]
  void *Src; // [esp+1Ch] [ebp-4h]

  Src = CIOBuffer::Alloc();
  v14 = (char *)Src;
  *((_BYTE *)Src + 2) = 61;
  v15 = v14 + 4;
  sub_482CA0((int *)(a1 + 32), &v13);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v10);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v13,
            v5) )
      break;
    v12 = *(_DWORD **)sub_43E1F0(&v13);
    v6 = unknown_libname_4(v12);
    v15 = (char *)sub_4459A0(v15, v6);
    v15 = PutString(v15, (const char *)v12 + 32);
    v15 = sub_417B60(v15, *((_BYTE *)v12 + 452));
    v15 = sub_417B60(v15, *((_BYTE *)v12 + 60));
    v15 = (char *)sub_42D5F0(v15, *((_WORD *)v12 + 136));
    v7 = CChar::GetMaxHP(v12);
    v15 = (char *)sub_42D5F0(v15, v7);
    sub_4455C0(&v13, &v11, 0);
  }
  v8 = std::vector<unsigned long>::size((std::vector<unsigned long> *)(a1 + 32));
  WritePacket(a2, a3, a4, v14 + 3, "b", v8);
  *(_WORD *)v14 = (_WORD)v15 - (_WORD)v14;
  *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v14;
  sub_448C30(a5, a2, a3, a4, Src);
  CIOBuffer::Release((CIOBuffer *)Src);
}

//----- (00444900) --------------------------------------------------------
void __userpurge sub_444900(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax
  int v6; // [esp-8h] [ebp-10h]
  int v7; // [esp-4h] [ebp-Ch]
  CMemory **Src; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  v7 = CChar::GetMaxHP(a5);
  v6 = a5[68];
  v5 = unknown_libname_4(a5);
  Src = sub_445C90(a2, a3, a4, 62, "dbdd", v5, 7, v6, v7);
  CParty::_Broadcast(a1, a2, a3, a4, Src, 0);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
}

//----- (00444970) --------------------------------------------------------
void __userpurge sub_444970(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // eax
  int v6; // [esp-4h] [ebp-Ch]
  CMemory **Src; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  if ( CParty::IsMember((int *)a1, a5) )
  {
    *(_DWORD *)(a1 + 24) = CParty::FindTopLevel((int *)a1);
    v6 = *(_DWORD *)(a5 + 60);
    v5 = unknown_libname_4(a5);
    Src = sub_445C90(a2, a3, a4, 62, "dbd", v5, 26, v6);
    CParty::_Broadcast(a1, a2, a3, a4, Src, 0);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
}

//----- (004449F0) --------------------------------------------------------
void __userpurge CParty::Broadcast(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src, int a6)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  CParty::_Broadcast(a1, a2, a3, a4, Src, a6);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
}

//----- (00444A30) --------------------------------------------------------
void __userpurge CParty::_Broadcast(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  char v8[4]; // [esp+4h] [ebp-10h] BYREF
  int v9; // [esp+8h] [ebp-Ch] BYREF
  int v10; // [esp+Ch] [ebp-8h]
  int v11; // [esp+10h] [ebp-4h] BYREF

  sub_482CA0((int *)(a1 + 32), &v11);
  while ( 1 )
  {
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v8);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v11,
            v6) )
      break;
    v10 = *(_DWORD *)sub_43E1F0(&v11);
    if ( v10 != a6 )
      sub_448C30(v10, a2, a3, a4, Src);
    sub_4455C0(&v11, &v9, 0);
  }
  CIOBuffer::Release((CIOBuffer *)Src);
}

//----- (00444AB0) --------------------------------------------------------
volatile int *__usercall sub_444AB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  volatile int *v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  v4 = std::vector<unsigned long>::size((std::vector<unsigned long> *)(a1 + 32));
  v8 = RandomBetween(0, v4 - 1);
  v7 = (volatile int *)*std::vector<unsigned long>::operator[]((std::vector<unsigned long> *)(a1 + 32), v8);
  CIOObject::AddRef((CIOObject *)v7, a2, a3, a4, v7 + 86);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  return v7;
}

//----- (00444B20) --------------------------------------------------------
int __userpurge CParty::Teleport@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  char v9[4]; // [esp+4h] [ebp-20h] BYREF
  int v10; // [esp+8h] [ebp-1Ch] BYREF
  int v11[2]; // [esp+Ch] [ebp-18h] BYREF
  _DWORD *v12; // [esp+14h] [ebp-10h]
  int v13; // [esp+18h] [ebp-Ch] BYREF
  _DWORD *v14; // [esp+1Ch] [ebp-8h]
  int v15; // [esp+20h] [ebp-4h]

  if ( !CParty::IsHead(a1, a2, a3, a4, a5) )
    return 0;
  v15 = dword_4AF860[4 * a6];
  v14 = (_DWORD *)((char *)&unk_4AF864 + 16 * a6);
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  sub_482CA0((int *)(a1 + 32), &v13);
  while ( 1 )
  {
    v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v9);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v13,
            v7) )
      break;
    v12 = *(_DWORD **)sub_43E1F0(&v13);
    if ( CChar::IsNormal(v12) )
    {
      v11[0] = RandomBetween(*v14 - 64, *v14 + 64);
      v11[1] = RandomBetween(v14[1] - 64, v14[1] + 64);
      sub_451260(v12, a2, a3, a4, v15, v11, 0, 0);
    }
    sub_4455C0(&v13, &v10, 0);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  return 1;
}
// 4AF860: using guessed type int dword_4AF860[];

//----- (00444C30) --------------------------------------------------------
int __userpurge CParty::StoreItem@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int result; // eax

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  *(_DWORD *)(a1 + 80) = CBaseList::Push(*(CMemory **)(a1 + 80), a2, a3, a4, (volatile int *)a5);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  *(_DWORD *)(a5 + 72) = 0;
  *(_DWORD *)(a5 + 76) = 0;
  *(_DWORD *)(a5 + 68) = 0;
  result = a5;
  *(_DWORD *)(a5 + 56) = 0;
  return result;
}

//----- (00444C90) --------------------------------------------------------
void __userpurge sub_444C90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  volatile signed __int32 *v8; // eax
  char v10[4]; // [esp+4h] [ebp-54h] BYREF
  int v11; // [esp+8h] [ebp-50h] BYREF
  char v12[4]; // [esp+Ch] [ebp-4Ch] BYREF
  int v13; // [esp+10h] [ebp-48h] BYREF
  char v14[4]; // [esp+14h] [ebp-44h] BYREF
  int v15; // [esp+18h] [ebp-40h] BYREF
  int v16; // [esp+1Ch] [ebp-3Ch] BYREF
  void *Src; // [esp+20h] [ebp-38h]
  int v18; // [esp+24h] [ebp-34h]
  volatile signed __int32 *v19; // [esp+28h] [ebp-30h]
  int v20; // [esp+2Ch] [ebp-2Ch] BYREF
  int v21; // [esp+30h] [ebp-28h]
  volatile signed __int32 *v22; // [esp+34h] [ebp-24h]
  int v23; // [esp+38h] [ebp-20h] BYREF
  int v24; // [esp+3Ch] [ebp-1Ch]
  int v25; // [esp+40h] [ebp-18h] BYREF
  int v26[4]; // [esp+44h] [ebp-14h] BYREF
  int v27; // [esp+54h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  sub_4454D0(v26);
  sub_482CA0((int *)(a1 + 32), &v23);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v14);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v23,
            v5) )
      break;
    v25 = *(_DWORD *)sub_43E1F0(&v23);
    if ( CChar::IsNormal((_DWORD *)v25) )
    {
      if ( sub_440790((_DWORD *)(v25 + 324), a5) <= 640 )
      {
        CIOObject::AddRef((CIOObject *)v25, a2, a3, a4, (volatile int *)(v25 + 344));
        std::vector<CIOSocket::CIOTimer>::push_back(
          (std::vector<CIOSocket::CIOTimer> *)v26,
          (const CIOSocket::CIOTimer *)&v25);
      }
    }
    sub_4455C0(&v23, &v15, 0);
  }
  v24 = *(_DWORD *)(a1 + 80);
  *(_DWORD *)(a1 + 80) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  v27 = std::vector<unsigned long>::size((std::vector<unsigned long> *)v26);
  if ( v27 > 0 )
  {
    while ( 1 )
    {
      if ( !v24 )
      {
        sub_482CA0(v26, &v16);
        while ( 1 )
        {
          v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(v26, v10);
          if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v16,
                  v7) )
            break;
          v25 = *(_DWORD *)sub_43E1F0(&v16);
          CIOObject::Release((CIOObject *)v25, a2, a3, a4, (volatile int *)(v25 + 344));
          sub_4455C0(&v16, &v11, 0);
        }
        goto LABEL_27;
      }
      v22 = (volatile signed __int32 *)unknown_libname_10(v24);
      if ( (*(int (__thiscall **)(volatile signed __int32 *))(*v22 + 164))(v22) )
      {
        v21 = (*((_DWORD *)v22 + 13) + v27 - 1) / v27;
        sub_482CA0(v26, &v20);
        while ( 1 )
        {
          v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(v26, v12);
          if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v20,
                  v6) )
            break;
          v25 = *(_DWORD *)sub_43E1F0(&v20);
          v19 = CItem::CreateItem(31, 0, v21, -1);
          *((_DWORD *)v19 + 20) = 1;
          if ( sub_4522B0(v25, a2, a3, a4, 25, v19) != 1 )
            CBase::Delete(v19);
          sub_4455C0(&v20, &v13, 0);
        }
      }
      else
      {
        v18 = RandomBetween(0, v27 - 1);
        v25 = *std::vector<unsigned long>::operator[]((std::vector<unsigned long> *)v26, v18);
        if ( sub_4522B0(v25, a2, a3, a4, 25, v22) == 1 )
        {
          Src = sub_445C90(a2, a3, a4, 37, "bsw", 42, v25 + 32, *(_DWORD *)(*((_DWORD *)v22 + 10) + 64));
          CParty::Broadcast(a1, a2, a3, a4, Src, v25);
          goto LABEL_9;
        }
      }
      CBase::Delete(v22);
LABEL_9:
      v24 = CBaseList::Pop(v24, a2, a3, a4);
    }
  }
  while ( v24 )
  {
    v8 = (volatile signed __int32 *)unknown_libname_10(v24);
    CBase::Delete(v8);
    v24 = CBaseList::Pop(v24, a2, a3, a4);
  }
LABEL_27:
  sub_41B890((std::vector<unsigned long> *)v26);
}

//----- (00444F60) --------------------------------------------------------
void __userpurge sub_444F60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // eax
  char v9[4]; // [esp+8h] [ebp-14h] BYREF
  int v10; // [esp+Ch] [ebp-10h] BYREF
  int v11; // [esp+10h] [ebp-Ch] BYREF
  volatile int *v12; // [esp+14h] [ebp-8h]
  CMemory **v13; // [esp+18h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  if ( sub_445CF0(a5, *(_DWORD *)(a1 + 24)) >= 3 )
  {
    v13 = 0;
    sub_482CA0((int *)(a1 + 32), &v11);
    while ( 1 )
    {
      v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v9);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v11,
              v6) )
        break;
      v12 = *(volatile int **)sub_43E1F0(&v11);
      if ( CChar::IsNormal(v12) )
      {
        if ( sub_440790((_DWORD *)v12 + 81, a6) <= 640 )
          v13 = CBaseList::Push((CMemory *)v13, a2, a3, a4, v12);
      }
      sub_4455C0(&v11, &v10, 0);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
    while ( v13 )
    {
      v7 = unknown_libname_10(v13);
      (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)v7 + 184))(v7, 0);
      v13 = (CMemory **)CBaseList::Pop((int)v13, a2, a3, a4);
    }
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  }
}

//----- (00445070) --------------------------------------------------------
void __userpurge sub_445070(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-2Ch]
  int v12; // [esp+0h] [ebp-20h]
  int v13; // [esp+4h] [ebp-1Ch]
  char v15[4]; // [esp+Ch] [ebp-14h] BYREF
  int v16; // [esp+10h] [ebp-10h] BYREF
  int v17; // [esp+14h] [ebp-Ch] BYREF
  volatile int *v18; // [esp+18h] [ebp-8h]
  CMemory **v19; // [esp+1Ch] [ebp-4h]

  v19 = 0;
  v18 = 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  sub_482CA0((int *)(a1 + 32), &v17);
  while ( 1 )
  {
    v9 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v15);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v17,
            v9) )
      break;
    v18 = *(volatile int **)sub_43E1F0(&v17);
    if ( CChar::IsNormal(v18) )
    {
      if ( sub_440790((_DWORD *)(a5 + 324), (_DWORD *)v18 + 81) <= 128 )
        v19 = CBaseList::Push((CMemory *)v19, a2, a3, a4, v18);
    }
    sub_4455C0(&v17, &v16, 0);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  while ( v19 )
  {
    v18 = (volatile int *)unknown_libname_10(v19);
    if ( a6 )
    {
      v13 = a7 * CChar::GetMaxHP(v18) / 100;
      (*(void (__cdecl **)(volatile int *, int, int, int))(*v18 + 88))(v18, 7, 1, v13);
    }
    else
    {
      (*(void (__cdecl **)(volatile int *, int, int, int))(*v18 + 88))(v18, 7, 1, a7);
    }
    if ( a6 )
      v12 = a7 * CChar::GetMaxHP(v18) / 100;
    else
      v12 = a7;
    v11 = unknown_libname_4(v18);
    v10 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 70, "bbddww", a9, a8, v10, v11, v12, 0);
    v19 = (CMemory **)CBaseList::Pop((int)v19, a2, a3, a4);
  }
}

//----- (004451F0) --------------------------------------------------------
_DWORD *__userpurge sub_4451F0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int *a6)
{
  int v6; // eax
  _DWORD *result; // eax
  _DWORD *v9; // [esp+4h] [ebp-8h]
  CMemory **i; // [esp+8h] [ebp-4h]

  for ( i = CParty::GetPlayerList(a1, a2, a3, a4); i; i = (CMemory **)CBaseList::Pop((int)i, a2, a3, a4) )
  {
    v9 = (_DWORD *)unknown_libname_10(i);
    sub_40A990((int)v9, a2, a3, a4, a6[1]);
    if ( v9 != a5 && v9[144] == a6[1] )
      v9[144] = 0;
    if ( a5[144] )
      sub_40A990((int)v9, a2, a3, a4, a5[144]);
    if ( CChar::IsNormal(v9) )
    {
      if ( sub_440790(a5 + 81, v9 + 81) <= 64 )
      {
        v6 = (*(int (__thiscall **)(int *, int))(*a6 + 20))(a6, a1);
        (*(void (__thiscall **)(_DWORD *, int))(*v9 + 180))(v9, v6);
      }
    }
  }
  result = a5;
  a5[144] = a6[1];
  return result;
}
// 4452BA: variable 'a1' is possibly undefined

//----- (004452F0) --------------------------------------------------------
CMemory **__usercall CParty::GetPlayerList@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CMemory **v6; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  v6 = CParty::_GetPlayerList(a1, a2, a3, a4);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  return v6;
}

//----- (00445330) --------------------------------------------------------
CMemory **__usercall CParty::_GetPlayerList@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  volatile int **v5; // eax
  char v8[4]; // [esp+4h] [ebp-10h] BYREF
  int v9; // [esp+8h] [ebp-Ch] BYREF
  int v10; // [esp+Ch] [ebp-8h] BYREF
  CMemory **v11; // [esp+10h] [ebp-4h]

  v11 = 0;
  sub_482CA0((int *)(a1 + 32), &v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v8);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
            v4) )
      break;
    v5 = (volatile int **)sub_43E1F0(&v10);
    v11 = CBaseList::Push((CMemory *)v11, a2, a3, a4, *v5);
    sub_4455C0(&v10, &v9, 0);
  }
  return v11;
}

//----- (004453A0) --------------------------------------------------------
int __userpurge sub_4453A0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  _DWORD **v8; // eax
  char v11[4]; // [esp+4h] [ebp-20h] BYREF
  int v12; // [esp+8h] [ebp-1Ch] BYREF
  char v13[4]; // [esp+Ch] [ebp-18h] BYREF
  int v14; // [esp+10h] [ebp-14h] BYREF
  int v15; // [esp+14h] [ebp-10h] BYREF
  int v16; // [esp+18h] [ebp-Ch] BYREF
  _DWORD *v17; // [esp+1Ch] [ebp-8h]
  int v18; // [esp+20h] [ebp-4h]

  v18 = 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  if ( a5 )
  {
    sub_482CA0((int *)(a1 + 32), &v16);
    while ( 1 )
    {
      v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v13);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v16,
              v5) )
        break;
      v17 = *(_DWORD **)sub_43E1F0(&v16);
      if ( sub_408E10(v17, 0x2000000) )
      {
        v6 = unknown_libname_4(v17);
        sub_40AD60(a2, a3, a4, (int)v17, 50, 15, "db", v6, 21);
        ++v18;
      }
      sub_4455C0(&v16, &v14, 0);
    }
  }
  else
  {
    sub_482CA0((int *)(a1 + 32), &v15);
    while ( 1 )
    {
      v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 32), v11);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v15,
              v7) )
        break;
      v8 = (_DWORD **)sub_43E1F0(&v15);
      if ( sub_408E10(*v8, 0x2000000) )
        ++v18;
      sub_4455C0(&v15, &v12, 0);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 48), a2, a3, a4);
  return v18;
}

//----- (004454D0) --------------------------------------------------------
void *__thiscall sub_4454D0(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  void *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  unknown_libname_14(&v2);
  sub_42EE90(v3, (char)v2);
  std::vector<unsigned long>::_Buy((std::vector<unsigned long> *)v3, 0);
  return v3;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00445500) --------------------------------------------------------
int __thiscall sub_445500(int *this, int a2, void *a3)
{
  sub_4459C0((char *)a3 + 4, this[2], a3);
  sub_445670((unsigned int *)(this[2] - 4), (unsigned int *)this[2]);
  this[2] -= 4;
  *(_DWORD *)a2 = a3;
  return a2;
}

//----- (00445560) --------------------------------------------------------
int __thiscall sub_445560(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_445710(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (004455C0) --------------------------------------------------------
_DWORD *__thiscall sub_4455C0(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_4457B0(this);
  *a2 = v4;
  return a2;
}

//----- (004455F0) --------------------------------------------------------
char __thiscall std::vector<unsigned long>::_Buy(std::vector<unsigned long> *this, unsigned int _Capacity)
{
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  if ( !_Capacity )
    return 0;
  if ( sub_445800(this) >= _Capacity )
  {
    *((_DWORD *)this + 1) = sub_41BE60(_Capacity);
    *((_DWORD *)this + 2) = *((_DWORD *)this + 1);
    *((_DWORD *)this + 3) = *((_DWORD *)this + 1) + 4 * _Capacity;
  }
  else
  {
    sub_465EA0();
  }
  return 1;
}

//----- (00445670) --------------------------------------------------------
void __stdcall sub_445670(unsigned int *a1, unsigned int *a2)
{
  std::_Destroy_range<unsigned long>(a1, a2);
}

//----- (004456A0) --------------------------------------------------------
void __thiscall std::vector<unsigned long>::_Tidy(std::vector<unsigned long> *this)
{
  if ( *((_DWORD *)this + 1) )
  {
    sub_445670(*((unsigned int **)this + 1), *((unsigned int **)this + 2));
    sub_441930(*((void **)this + 1), (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 2);
  }
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
}

//----- (00445710) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_445710(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_445820((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004457B0) --------------------------------------------------------
_DWORD *__thiscall sub_4457B0(_DWORD *this)
{
  *this += 4;
  return this;
}

//----- (004457D0) --------------------------------------------------------
_DWORD *__thiscall sub_4457D0(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *this;
  *a2 = *(_DWORD *)std::vector<unsigned long>::iterator::operator+=((std::vector<unsigned long>::iterator *)&v4, a3);
  return a2;
}

//----- (00445800) --------------------------------------------------------
unsigned int __thiscall sub_445800(std::allocator<unsigned long> *this)
{
  return std::allocator<unsigned long>::max_size(this);
}

//----- (00445820) --------------------------------------------------------
_DWORD *__thiscall sub_445820(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_445900(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00445880) --------------------------------------------------------
std::vector<unsigned long>::iterator *__thiscall std::vector<unsigned long>::iterator::operator+=(std::vector<unsigned long>::iterator *this, int _Off)
{
  *(_DWORD *)this += 4 * _Off;
  return this;
}

//----- (004458A0) --------------------------------------------------------
int __thiscall sub_4458A0(int *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h] BYREF

  v3 = *this;
  return sub_445980(&v3, a2);
}

//----- (004458D0) --------------------------------------------------------
unsigned int __thiscall std::allocator<unsigned long>::max_size(std::allocator<unsigned long> *this)
{
  return 0x3FFFFFFF;
}

//----- (00445900) --------------------------------------------------------
int __stdcall sub_445900(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_445900(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00445980) --------------------------------------------------------
int __thiscall sub_445980(_DWORD *this, _DWORD *a2)
{
  return (*this - *a2) >> 2;
}

//----- (004459A0) --------------------------------------------------------
_DWORD *__cdecl sub_4459A0(_DWORD *a1, int a2)
{
  *a1 = a2;
  return a1 + 1;
}

//----- (004459C0) --------------------------------------------------------
int __cdecl sub_4459C0(void *Src, int a2, void *a3)
{
  unknown_libname_27(Src, a3);
  return unknown_libname_22(Src, a2, a3);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (00445A00) --------------------------------------------------------
void __cdecl std::_Destroy_range<unsigned long>(unsigned int *_First, unsigned int *_Last)
{
  unknown_libname_27(_First, _Last);
  sub_46AD90();
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (00445A40) --------------------------------------------------------
void __cdecl std::_Uninitialized_fill_n<unsigned long *,unsigned int,unsigned long,std::allocator<unsigned long>>(unsigned int *_First, unsigned int _Count, const unsigned int *_Val)
{
  unknown_libname_27(_First, _First);
  sub_41BF30(_First, _Count, _Val);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (00445A80) --------------------------------------------------------
unsigned int *__stdcall sub_445A80(void *Src, int a2, void *a3)
{
  return std::_Uninitialized_copy<unsigned long *,unsigned long *,std::allocator<unsigned long>>(
           (unsigned int *)Src,
           (unsigned int *)a2,
           (unsigned int *)a3);
}

//----- (00445AF0) --------------------------------------------------------
BOOL __cdecl std::_Distance2<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(int a1, char a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_47CBB0(&a1);
  }
  return result;
}

//----- (00445B30) --------------------------------------------------------
void *__cdecl std::_Copy_backward_opt<unsigned long *,unsigned long *>(void *Src, int a2, int a3)
{
  return memcpy_0((void *)(a3 - 4 * ((a2 - (int)Src) >> 2)), Src, 4 * ((a2 - (int)Src) >> 2));
}

//----- (00445B70) --------------------------------------------------------
void *__thiscall sub_445B70(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00445BA0) --------------------------------------------------------
int __thiscall sub_445BA0(int *this)
{
  return sub_445BC0(this);
}

//----- (00445BC0) --------------------------------------------------------
int __thiscall sub_445BC0(int *this)
{
  return sub_445BE0(this);
}

//----- (00445BE0) --------------------------------------------------------
int __thiscall sub_445BE0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_445710(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00445C90) --------------------------------------------------------
CMemory **__usercall sub_445C90@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char a4, ...)
{
  CMemory **v5; // [esp+0h] [ebp-10h]
  va_list va; // [esp+1Ch] [ebp+Ch] BYREF

  va_start(va, a4);
  v5 = CIOBuffer::Alloc();
  *((_BYTE *)v5 + 2) = a4;
  *(_WORD *)v5 = (unsigned __int16)WritePacket(a1, a2, a3, (char *)v5 + 3, (int)va) - (_WORD)v5;
  v5[2000] = (CMemory *)*(unsigned __int16 *)v5;
  return v5;
}

//----- (00445CF0) --------------------------------------------------------
int __cdecl sub_445CF0(int a1, int a2)
{
  int result; // eax
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+4h] [ebp-8h]
  int Number; // [esp+8h] [ebp-4h]

  Number = a1 - a2;
  if ( a1 - a2 < 0 )
  {
    if ( abs(Number) >= 20 )
      v3 = 20;
    else
      v3 = abs(Number);
    result = dword_4BA400[21 * ((a2 - 1) / 10) + v3];
  }
  else
  {
    if ( Number >= 20 )
      v4 = 20;
    else
      v4 = a1 - a2;
    result = dword_4BA748[21 * ((a2 - 1) / 10) + v4];
  }
  return result;
}

//----- (00445D80) --------------------------------------------------------
void __userpurge sub_445D80(CIOObject *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+8h] [ebp-18h]
  int *v7; // [esp+Ch] [ebp-14h]
  int v8; // [esp+10h] [ebp-10h]
  int *v9; // [esp+14h] [ebp-Ch]
  DWORD v10; // [esp+18h] [ebp-8h]
  DWORD v11; // [esp+1Ch] [ebp-4h]

  if ( a5 )
  {
    if ( a5 == 1 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9638, a2, a3, a4);
      CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a2, a3, a4);
      CLink::MoveTo(dword_4B95D4, (int)&dword_4B95CC);
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a2, a3, a4);
      v7 = (int *)dword_4B95CC;
      while ( v7 != &dword_4B95CC )
      {
        v6 = (int)(v7 - 105);
        v7 = (int *)*v7;
        sub_448470(v6, a2, a3, a4);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9638, a2, a3, a4);
      CIOObject::AddTimer(a1, a2, a3, a4, 0x3E8u, 1);
    }
  }
  else
  {
    v11 = GetTickCount();
    do
    {
      v10 = v11 + 30;
      CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9638, a2, a3, a4);
      CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a2, a3, a4);
      CLink::MoveTo(dword_4B95D4, (int)&dword_4B95CC);
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a2, a3, a4);
      v9 = (int *)dword_4B95CC;
      while ( v9 != &dword_4B95CC )
      {
        v8 = (int)(v9 - 105);
        v9 = (int *)*v9;
        sub_447450(v8, a2, a3, a4);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9638, a2, a3, a4);
      v11 = GetTickCount();
    }
    while ( v10 <= v11 );
    CIOObject::AddTimer(a1, a2, a3, a4, v10 - v11, 0);
  }
}
// 4B95CC: using guessed type int dword_4B95CC;

//----- (00445ED0) --------------------------------------------------------
int __userpurge sub_445ED0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5, int a6, int a7)
{
  sub_409D60((char *)a1);
  *(_DWORD *)a1 = &off_49D0C0;
  sub_470380((_DWORD *)(a1 + 616));
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(a1 + 932));
  sub_460890((void *)(a1 + 980));
  std::vector<CIOSocket::CIOTimer>::vector<CIOSocket::CIOTimer>((std::vector<CIOSocket::CIOTimer> *)(a1 + 992));
  sub_4609B0((void *)(a1 + 1040));
  sub_460CC0((void *)(a1 + 1052));
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(a1 + 1136));
  sub_460F80((void *)(a1 + 1168));
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(a1 + 1192));
  sub_4612D0((void *)(a1 + 1236));
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(a1 + 1248));
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(a1 + 1280));
  sub_461410((void *)(a1 + 1312));
  sub_461760((void *)(a1 + 1380));
  *(_DWORD *)(a1 + 432) = 0;
  *(_DWORD *)(a1 + 436) = 0;
  *(_DWORD *)(a1 + 24) = 1;
  sub_4010D0(a5, a2, a3, a4);
  *(_DWORD *)(a1 + 1404) = a5;
  *(_DWORD *)(a1 + 440) = a6;
  *(_DWORD *)(a1 + 444) = a7;
  *(_DWORD *)(a1 + 448) = 0;
  *(_DWORD *)(a1 + 452) = 0;
  *(_DWORD *)(a1 + 456) = 0;
  *(_DWORD *)(a1 + 460) = 0;
  *(_DWORD *)(a1 + 464) = 0;
  *(_DWORD *)(a1 + 468) = 0;
  *(_DWORD *)(a1 + 472) = 0;
  *(_DWORD *)(a1 + 476) = 0;
  *(_DWORD *)(a1 + 480) = 0;
  memset((void *)(a1 + 484), 0, 0x11u);
  *(_DWORD *)(a1 + 504) = 0;
  *(_DWORD *)(a1 + 508) = 0;
  memset((void *)(a1 + 512), 0, 0xFu);
  *(_DWORD *)(a1 + 528) = 0;
  *(_DWORD *)(a1 + 532) = 0;
  *(_DWORD *)(a1 + 536) = 0;
  *(_DWORD *)(a1 + 540) = 0;
  *(_DWORD *)(a1 + 544) = 0;
  *(_DWORD *)(a1 + 548) = 0;
  *(_DWORD *)(a1 + 552) = 0;
  *(_DWORD *)(a1 + 556) = 0;
  *(_DWORD *)(a1 + 560) = 0;
  *(_DWORD *)(a1 + 564) = 0;
  *(_DWORD *)(a1 + 568) = 0;
  *(_DWORD *)(a1 + 572) = 0;
  *(_DWORD *)(a1 + 576) = 0;
  *(_DWORD *)(a1 + 580) = 0;
  *(_DWORD *)(a1 + 584) = 0;
  *(_DWORD *)(a1 + 588) = 0;
  *(_DWORD *)(a1 + 592) = 0;
  *(_DWORD *)(a1 + 596) = 0;
  *(_DWORD *)(a1 + 600) = 0;
  *(_DWORD *)(a1 + 604) = 0;
  *(_DWORD *)(a1 + 608) = 0;
  *(_DWORD *)(a1 + 612) = 0;
  *(_DWORD *)(a1 + 928) = 0;
  memset((void *)(a1 + 964), 0, 0xEu);
  *(_DWORD *)(a1 + 1008) = 0;
  *(_DWORD *)(a1 + 1012) = 0;
  *(_DWORD *)(a1 + 1016) = 0;
  *(_DWORD *)(a1 + 1020) = 0;
  *(_DWORD *)(a1 + 1024) = 0;
  *(_DWORD *)(a1 + 1028) = 0;
  *(_DWORD *)(a1 + 1032) = -1;
  *(_DWORD *)(a1 + 1036) = 0;
  memset((void *)(a1 + 1064), 0, 0x41u);
  *(_DWORD *)(a1 + 1132) = 0;
  *(_DWORD *)(a1 + 1324) = 0;
  *(_DWORD *)(a1 + 1356) = GetTickCount();
  *(_DWORD *)(a1 + 1352) = *(_DWORD *)(a1 + 1356);
  *(_DWORD *)(a1 + 1332) = *(_DWORD *)(a1 + 1352);
  *(_DWORD *)(a1 + 1328) = *(_DWORD *)(a1 + 1332);
  *(_DWORD *)(a1 + 1336) = *(_DWORD *)(a1 + 1328);
  *(_DWORD *)(a1 + 1340) = *(_DWORD *)(a1 + 1336);
  *(_DWORD *)(a1 + 1360) = *(_DWORD *)(a1 + 1340);
  *(_DWORD *)(a1 + 1344) = 0;
  *(_DWORD *)(a1 + 1348) = 0;
  *(_DWORD *)(a1 + 1364) = GetTickCount() + 1800000;
  *(_DWORD *)(a1 + 1368) = 0;
  *(_DWORD *)(a1 + 1376) = -1;
  *(_DWORD *)(a1 + 1372) = -1;
  *(_DWORD *)(a1 + 1392) = 0;
  *(_DWORD *)(a1 + 1396) = 0;
  *(_DWORD *)(a1 + 1400) = 0;
  *(_DWORD *)(a1 + 1180) = 0;
  *(_DWORD *)(a1 + 1184) = 0;
  *(_DWORD *)(a1 + 1188) = 0;
  *(_DWORD *)(a1 + 1224) = 0;
  *(_DWORD *)(a1 + 1228) = 0;
  *(_DWORD *)(a1 + 1232) = 0;
  return a1;
}
// 49D0C0: using guessed type int (__stdcall *off_49D0C0)(int);

//----- (004463E0) --------------------------------------------------------
void __userpurge sub_4463E0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src)
{
  sub_448C30(a1, a2, a3, a4, Src);
}

//----- (00446400) --------------------------------------------------------
void __thiscall CPlayer::SendMove(void *this, void *a2, void *Src)
{
  DWORD v3; // ebx
  DWORD v4; // edi
  DWORD v5; // esi

  if ( this != a2 )
    sub_448C30((int)this, v3, v4, v5, Src);
}
// 446416: variable 'v3' is possibly undefined
// 446416: variable 'v4' is possibly undefined
// 446416: variable 'v5' is possibly undefined

//----- (00446440) --------------------------------------------------------
void *__userpurge sub_446440@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_446470((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00446470) --------------------------------------------------------
_DWORD *__usercall sub_446470@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *(_DWORD *)a1 = &off_49D0C0;
  sub_459750((_DWORD *)a1);
  sub_45AF20(a1, a2, a3, a4);
  if ( *(_DWORD *)(a1 + 1404) )
    sub_401C50(*(volatile int **)(a1 + 1404), a2, a3, a4);
  sub_446640((int *)(a1 + 1380));
  sub_446620((int *)(a1 + 1312));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1280), a2, a3, a4);
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
  sub_446600((int *)(a1 + 1236));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  sub_4465E0((int *)(a1 + 1168));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
  sub_4465C0((int *)(a1 + 1052));
  sub_4465A0((int *)(a1 + 1040));
  sub_43DE30((std::vector<IPAddrMask> *)(a1 + 992));
  sub_446580((int *)(a1 + 980));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  sub_470400((_DWORD *)(a1 + 616));
  return sub_40A130(a1, a2, a3, a4);
}
// 49D0C0: using guessed type int (__stdcall *off_49D0C0)(int);

//----- (00446580) --------------------------------------------------------
int __thiscall sub_446580(int *this)
{
  return sub_4608C0(this);
}

//----- (004465A0) --------------------------------------------------------
int __thiscall sub_4465A0(int *this)
{
  return sub_4609E0(this);
}

//----- (004465C0) --------------------------------------------------------
int __thiscall sub_4465C0(int *this)
{
  return sub_460CF0(this);
}

//----- (004465E0) --------------------------------------------------------
int __thiscall sub_4465E0(int *this)
{
  return sub_460FB0(this);
}

//----- (00446600) --------------------------------------------------------
int __thiscall sub_446600(int *this)
{
  return sub_461300(this);
}

//----- (00446620) --------------------------------------------------------
int __thiscall sub_446620(int *this)
{
  return sub_461440(this);
}

//----- (00446640) --------------------------------------------------------
int __thiscall sub_446640(int *this)
{
  return sub_461790(this);
}

//----- (00446660) --------------------------------------------------------
void __usercall CPlayer::Start(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  int i; // [esp+0h] [ebp-4h]

  for ( i = 0; i < 2; ++i )
    sub_435F40((_DWORD *)(8 * i + 4953548));
  dword_4B95C8 = 0;
  dword_4B95B8 = 60;
  CIOObject::AddTimer((CIOObject *)&unk_4B96B4, a1, a2, a3, 0x3E8u, 1);
}
// 4B95B8: using guessed type int dword_4B95B8;

//----- (004466C0) --------------------------------------------------------
CIOObject *__usercall sub_4466C0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-Ch] BYREF
  CIOObject *v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h] BYREF

  v7 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B95EC);
  sub_460550(dword_4B9628, &v8, &a4);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B9628, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
         v4) )
  {
    v7 = *(CIOObject **)(sub_43E1A0(&v8) + 4);
    CIOObject::AddRef(v7, a1, a2, a3, (volatile int *)v7 + 86);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B95EC, a1, a2, a3);
  return v7;
}

//----- (00446740) --------------------------------------------------------
CIOObject *__usercall sub_446740@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-10h] BYREF
  int v7; // [esp+4h] [ebp-Ch] BYREF
  CIOObject *v8; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h] BYREF

  v8 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B95EC);
  v7 = a4;
  sub_460550(dword_4B95E0, &v9, &v7);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B95E0, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
         v4) )
  {
    v8 = *(CIOObject **)(sub_43E1A0(&v9) + 4);
    CIOObject::AddRef(v8, a1, a2, a3, (volatile int *)v8 + 86);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B95EC, a1, a2, a3);
  return v8;
}

//----- (004467C0) --------------------------------------------------------
CIOObject *__usercall sub_4467C0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-Ch] BYREF
  CIOObject *v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h] BYREF

  v7 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B9610);
  sub_460800(dword_4B9604, &v8, (const char **)&a4);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B9604, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
         v4) )
  {
    v7 = *(CIOObject **)(sub_43E1A0(&v8) + 4);
    CIOObject::AddRef(v7, a1, a2, a3, (volatile int *)v7 + 86);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B9610, a1, a2, a3);
  return v7;
}

//----- (00446840) --------------------------------------------------------
void __usercall sub_446840(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char a4, ...)
{
  int *i; // [esp+4h] [ebp-14h]
  CMemory **Src; // [esp+14h] [ebp-4h]
  va_list va; // [esp+24h] [ebp+Ch] BYREF

  va_start(va, a4);
  Src = CIOBuffer::Alloc();
  *((_BYTE *)Src + 2) = a4;
  *(_WORD *)Src = (unsigned __int16)WritePacket(a1, a2, a3, (char *)Src + 3, (int)va) - (_WORD)Src;
  Src[2000] = (CMemory *)*(unsigned __int16 *)Src;
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
  CLink::MoveTo(dword_4B95D4, (int)&dword_4B95CC);
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
  for ( i = (int *)dword_4B95CC; i != &dword_4B95CC; i = (int *)*i )
    sub_448C30((int)(i - 105), a1, a2, a3, Src);
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
  CIOBuffer::Release((CIOBuffer *)Src);
}
// 4B95CC: using guessed type int dword_4B95CC;

//----- (00446920) --------------------------------------------------------
void __usercall sub_446920(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, ...)
{
  int *i; // [esp+4h] [ebp-14h]
  CMemory **Src; // [esp+14h] [ebp-4h]
  va_list va; // [esp+28h] [ebp+10h] BYREF

  va_start(va, a5);
  Src = CIOBuffer::Alloc();
  *((_BYTE *)Src + 2) = a5;
  *(_WORD *)Src = (unsigned __int16)WritePacket(a1, a2, a3, (char *)Src + 3, (int)va) - (_WORD)Src;
  Src[2000] = (CMemory *)*(unsigned __int16 *)Src;
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
  CLink::MoveTo(dword_4B95D4, (int)&dword_4B95CC);
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
  for ( i = (int *)dword_4B95CC; i != &dword_4B95CC; i = (int *)*i )
  {
    if ( *(i - 28) == a4 )
      sub_448C30((int)(i - 105), a1, a2, a3, Src);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
  CIOBuffer::Release((CIOBuffer *)Src);
}
// 4B95CC: using guessed type int dword_4B95CC;

//----- (00446A00) --------------------------------------------------------
void __usercall sub_446A00(DWORD a1@<ebx>, DWORD a2@<esi>)
{
  int j; // [esp+4h] [ebp-118h]
  int v3; // [esp+8h] [ebp-114h]
  int *v4; // [esp+Ch] [ebp-110h]
  int *i; // [esp+10h] [ebp-10Ch]
  int v6; // [esp+14h] [ebp-108h] BYREF
  _BYTE v7[260]; // [esp+18h] [ebp-104h] BYREF
  int savedregs; // [esp+11Ch] [ebp+0h] BYREF

  v6 = 0;
  memset(v7, 0, sizeof(v7));
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9638, a1, (DWORD)&savedregs, a2);
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a1, (DWORD)&savedregs, a2);
  CLink::MoveTo(dword_4B95D4, (int)&dword_4B95CC);
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a1, (DWORD)&savedregs, a2);
  for ( i = (int *)dword_4B95CC; i != &dword_4B95CC; i = (int *)*i )
  {
    v4 = i - 105;
    if ( *(i - 90) <= 100 )
    {
      v3 = (v4[15] - 1) / 10;
      ++*(&v6 + 6 * v3 + v4[113]);
      ++*(_DWORD *)&v7[24 * v3 + 8];
      if ( sub_40A660(v4, 32) )
        ++*(_DWORD *)&v7[24 * v3 + 12];
      if ( sub_40A660(v4, 16) )
        ++*(_DWORD *)&v7[24 * v3 + 16];
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9638, a1, (DWORD)&savedregs, a2);
  for ( j = 0; j < 10; ++j )
  {
    LOG_NORMAL(
      "##%02d ~ %02d : %d %d %d : %d",
      10 * j + 1,
      10 * j + 10,
      *(&v6 + 6 * j),
      *(_DWORD *)&v7[24 * j],
      *(_DWORD *)&v7[24 * j + 4],
      *(_DWORD *)&v7[24 * j + 8]);
    LOG_NORMAL(
      "@@%02d ~ %02d : %d %d",
      10 * j + 1,
      10 * j + 10,
      *(_DWORD *)&v7[24 * j + 12],
      *(_DWORD *)&v7[24 * j + 16]);
    *(_DWORD *)&v7[236] += *(&v6 + 6 * j);
    *(_DWORD *)&v7[240] += *(_DWORD *)&v7[24 * j];
    *(_DWORD *)&v7[244] += *(_DWORD *)&v7[24 * j + 4];
    *(_DWORD *)&v7[248] += *(_DWORD *)&v7[24 * j + 8];
    *(_DWORD *)&v7[252] += *(_DWORD *)&v7[24 * j + 12];
    *(_DWORD *)&v7[256] += *(_DWORD *)&v7[24 * j + 16];
  }
  LOG_NORMAL(
    "##Total Sum : %d %d %d : %d",
    *(_DWORD *)&v7[236],
    *(_DWORD *)&v7[240],
    *(_DWORD *)&v7[244],
    *(_DWORD *)&v7[248]);
  LOG_NORMAL("@@Total Sum : %d %d", *(_DWORD *)&v7[252], *(_DWORD *)&v7[256]);
  LOG_NORMAL("$$Currency Increment : %d", dword_4B95DC);
  CDBSocket::Write(
    a1,
    (DWORD)&savedregs,
    a2,
    74,
    "ddddddd",
    *(_DWORD *)&v7[236],
    *(_DWORD *)&v7[240],
    *(_DWORD *)&v7[244],
    *(_DWORD *)&v7[248],
    *(_DWORD *)&v7[252],
    *(_DWORD *)&v7[256],
    dword_4B95DC);
}
// 4B95CC: using guessed type int dword_4B95CC;

//----- (00446D70) --------------------------------------------------------
void __usercall sub_446D70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CBase::OnFree(a1, a2, a3, a4);
}

//----- (00446D90) --------------------------------------------------------
void __usercall sub_446D90(int a1@<ecx>, DWORD a2@<ebx>, volatile int **a3@<edi>, DWORD a4@<esi>)
{
  char *v4; // esi
  char *v5; // esi
  char *v6; // esi
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  _DWORD *v10; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  int *v12; // eax
  int v13; // [esp+0h] [ebp-4Ch]
  int v14; // [esp+0h] [ebp-4Ch]
  int v15; // [esp+4h] [ebp-48h]
  int v16; // [esp+4h] [ebp-48h]
  int v18; // [esp+Ch] [ebp-40h] BYREF
  char v19[4]; // [esp+10h] [ebp-3Ch] BYREF
  int v20; // [esp+14h] [ebp-38h] BYREF
  int v21[7]; // [esp+18h] [ebp-34h] BYREF
  volatile int *v22; // [esp+34h] [ebp-18h] BYREF
  volatile int *v23; // [esp+38h] [ebp-14h]
  int v24; // [esp+3Ch] [ebp-10h]
  CIOObject *v25; // [esp+40h] [ebp-Ch]
  volatile signed __int32 *v26; // [esp+44h] [ebp-8h]
  volatile int *v27; // [esp+48h] [ebp-4h]

  sub_411FF0(a1, a2, (DWORD)a3, a4);
  if ( !sub_447240((_DWORD *)a1, 3) )
    goto LABEL_39;
  v27 = *(volatile int **)(a1 + 1012);
  if ( v27 )
  {
    sub_4010D0(v27, a2, (DWORD)a3, a4);
    sub_412010(a1, a2, (DWORD)a3, a4);
    CBase::Delete(v27);
    sub_401C50(v27, a2, (DWORD)a3, a4);
    sub_411FF0(a1, a2, (DWORD)a3, a4);
  }
  v25 = *(CIOObject **)(a1 + 476);
  if ( v25 )
  {
    CIOObject::AddRef(v25, a2, (DWORD)a3, a4, (volatile int *)v25 + 10);
    sub_412010(a1, a2, (DWORD)a3, a4);
    sub_411650((int)v25, a2, (DWORD)a3, a4, a1);
    CIOObject::Release(v25, a2, (DWORD)a3, a4, (volatile int *)v25 + 10);
    sub_411FF0(a1, a2, (DWORD)a3, a4);
  }
  v24 = *(_DWORD *)(a1 + 928);
  if ( v24 )
  {
    *(_DWORD *)(a1 + 928) = 0;
    v23 = sub_443890(a2, (DWORD)a3, a4, v24);
    if ( v23 )
    {
      sub_443ED0((int)v23, a2, (DWORD)a3, a4, a1);
      sub_401C50(v23, a2, (DWORD)a3, a4);
    }
  }
  if ( sub_40A660((_DWORD *)a1, 128) )
  {
    v22 = *(volatile int **)(a1 + 1396);
    if ( !v22 )
      EBREAK(a2, (DWORD)a3, a4);
    sub_454DF0(a1, a2, (DWORD)a3, a4, v22, 3, 2, 6);
    goto LABEL_33;
  }
  if ( !sub_447290((_DWORD *)a1, 16) && sub_40A660((_DWORD *)a1, 2) )
  {
    if ( !sub_447290((_DWORD *)a1, 256) )
    {
      v7 = sub_4024B0(65, 600, v13, v15);
      (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a1 + 180))(a1, v7);
      if ( sub_447290((_DWORD *)a1, 32) )
      {
        v8 = sub_4024B0(66, 600, v14, v16);
        (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a1 + 180))(a1, v8);
      }
      else if ( sub_447290((_DWORD *)a1, 64) )
      {
        v9 = sub_4024B0(67, 600, v14, v16);
        (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a1 + 180))(a1, v9);
      }
      if ( sub_447290((_DWORD *)a1, 128) )
      {
        v10 = sub_4024B0(68, 600, v14, v16);
        (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a1 + 180))(a1, v10);
      }
      goto LABEL_33;
    }
    *(_DWORD *)(a1 + 272) = CChar::GetMaxHP((_DWORD *)a1);
    v4 = (char *)&unk_4AF728 + 28 * *(_DWORD *)(a1 + 564);
    qmemcpy(v21, v4, sizeof(v21));
    a4 = (DWORD)(v4 + 28);
    a3 = &v22;
    if ( v21[5] )
    {
      sub_412010(a1, a2, (DWORD)&v22, a4);
      if ( sub_416590() )
      {
        if ( !CCastle::IsGateAlive(a2, (DWORD)&v22, a4, v21[4], v21[5]) && sub_45E0A0(a1, a2, (DWORD)&v22, a4, v21[4]) )
        {
          *(_DWORD *)(a1 + 564) = v21[6];
          v5 = (char *)&unk_4AF728 + 28 * *(_DWORD *)(a1 + 564);
          qmemcpy(v21, v5, sizeof(v21));
          a4 = (DWORD)(v5 + 28);
          a3 = &v22;
        }
        goto LABEL_25;
      }
    }
    else
    {
      if ( !v21[4] )
      {
LABEL_26:
        *(_DWORD *)(a1 + 308) = v21[0];
        *(_DWORD *)(a1 + 324) = v21[1];
        *(_DWORD *)(a1 + 328) = v21[2];
        *(_DWORD *)(a1 + 332) = v21[3];
        sub_447260((_DWORD *)a1, 256);
        goto LABEL_33;
      }
      sub_412010(a1, a2, (DWORD)&v22, a4);
      if ( sub_45E0A0(a1, a2, (DWORD)&v22, a4, v21[4]) )
      {
LABEL_25:
        sub_411FF0(a1, a2, (DWORD)&v22, a4);
        goto LABEL_26;
      }
    }
    *(_DWORD *)(a1 + 564) = 0;
    v6 = (char *)&unk_4AF728 + 28 * *(_DWORD *)(a1 + 564);
    qmemcpy(v21, v6, sizeof(v21));
    a4 = (DWORD)(v6 + 28);
    a3 = &v22;
    goto LABEL_25;
  }
LABEL_33:
  sub_44CEA0(a1, a2, (DWORD)a3, a4, 0);
  sub_459A50(a1, a2, a4);
  sub_40AC70(a1, a2, (DWORD)a3, a4);
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, (DWORD)a3, a4);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 980),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20);
  while ( 1 )
  {
    v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v19);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v20,
            v11) )
      break;
    v12 = sub_46FA50(&v20, &v18, 0);
    v26 = *(volatile signed __int32 **)(sub_43E1A0(v12) + 4);
    sub_4516D0(a1, a2, (DWORD)a3, a4, (int)v26);
    CBase::Delete(v26);
  }
  *(_DWORD *)(a1 + 1008) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, (DWORD)a3, a4);
  if ( !sub_480230(
          *(_DWORD **)(a1 + 312),
          a2,
          (DWORD)a3,
          a4,
          (Concurrency::details::_CancellationTokenRegistration *)a1,
          a1 + 316) )
  {
    sub_4010D0((volatile int *)a1, a2, (DWORD)a3, a4);
    LOG_ERR(
      "CPlayer::OnDelete() Removal of point from Map is failed. (%d %d)",
      *(_DWORD *)(a1 + 316),
      *(_DWORD *)(a1 + 320));
  }
  sub_40ACD0(a2, (DWORD)a3, a4, a1, 24, "d", *(_DWORD *)(a1 + 28));
LABEL_39:
  if ( sub_447240((_DWORD *)a1, 2) )
    sub_4483E0(a1, a2, (DWORD)a3, a4);
  sub_484FE0((volatile signed __int32 *)(a1 + 20), 4u);
  sub_412010(a1, a2, (DWORD)a3, a4);
  sub_402020((volatile int *)a1, a2, (DWORD)a3, a4);
}
// 447059: variable 'v13' is possibly undefined
// 447059: variable 'v15' is possibly undefined
// 447085: variable 'v14' is possibly undefined
// 447085: variable 'v16' is possibly undefined

//----- (00447240) --------------------------------------------------------
int __thiscall sub_447240(_DWORD *this, char a2)
{
  return this[5] & (1 << a2);
}

//----- (00447260) --------------------------------------------------------
int __thiscall sub_447260(_DWORD *this, int a2)
{
  int result; // eax

  result = this[140] & ~a2;
  this[140] = result;
  return result;
}

//----- (00447290) --------------------------------------------------------
int __thiscall sub_447290(_DWORD *this, int a2)
{
  return a2 & this[140];
}

//----- (004472B0) --------------------------------------------------------
void __userpurge sub_4472B0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src)
{
  sub_448C30(a1, a2, a3, a4, Src);
  sub_448C90(a2, a3, a4, a5, 24, "d", *(_DWORD *)(a1 + 28));
}

//----- (004472F0) --------------------------------------------------------
void __userpurge sub_4472F0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src)
{
  int v6; // eax
  int *v7; // eax
  int *v8; // [esp-10h] [ebp-18h]
  int v9; // [esp-Ch] [ebp-14h]
  int v10; // [esp-8h] [ebp-10h]
  int v11; // [esp-4h] [ebp-Ch]
  int v12; // [esp-4h] [ebp-Ch]

  if ( a1 != (int *)a5 )
  {
    sub_448C30((int)a1, a2, a3, a4, Src);
    if ( *(_DWORD *)(a5 + 260) )
    {
      v11 = *(_DWORD *)(a5 + 260);
      v6 = unknown_libname_4(a5);
      sub_448C90(a2, a3, a4, (int)a1, 49, "dbw", v6, 32, v11);
    }
    v12 = a1[126];
    v10 = a1[256];
    v9 = a1[118];
    v8 = sub_45DFB0(a1);
    v7 = sub_45E050(a1);
    sub_448C90(
      a2,
      a3,
      a4,
      a5,
      19,
      "dsbdddwdmbbIssdbd",
      a1[7],
      a1 + 8,
      a1[113],
      a1[81],
      a1[82],
      a1[83],
      a1[85],
      a1[70],
      a1 + 241,
      14,
      a1[137],
      a1[138],
      a1[72],
      a1[73],
      v7,
      v8,
      v9,
      v10,
      v12);
    if ( a1[65] )
      sub_448C90(a2, a3, a4, a5, 49, "dbw", a1[7], 32, a1[65]);
  }
}

//----- (00447450) --------------------------------------------------------
void __usercall sub_447450(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( sub_40A640((_DWORD *)a1) )
  {
    CLink::Remove((CLink *)(a1 + 420));
    CIOObject::Release((CIOObject *)a1, a2, a3, a4, (volatile int *)(a1 + 8));
  }
}

//----- (00447490) --------------------------------------------------------
int __userpurge sub_447490@<eax>(volatile LONG *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5, int a6, int *a7, _DWORD *a8, int *a9, int a10)
{
  int result; // eax
  int v11; // eax
  int v12; // eax
  int v13; // [esp+0h] [ebp-68h]
  int v14; // [esp+4h] [ebp-64h]
  int v15; // [esp+8h] [ebp-60h]
  int v16; // [esp+Ch] [ebp-5Ch]
  int v17; // [esp+10h] [ebp-58h]
  int v18; // [esp+38h] [ebp-30h]
  int v19; // [esp+3Ch] [ebp-2Ch]
  volatile int *v21; // [esp+4Ch] [ebp-1Ch]
  volatile int *v22; // [esp+50h] [ebp-18h]
  int v23; // [esp+54h] [ebp-14h]
  int v24; // [esp+60h] [ebp-8h]

  if ( CChar::IsMState(a1, 0x4000000i64) )
  {
    *a9 = 0;
    *a7 = 0;
    result = 0;
  }
  else
  {
    if ( a10 )
      v19 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 52))(a10);
    else
      v19 = 1;
    if ( a10 )
      v18 = (*(int (__thiscall **)(int))(*(_DWORD *)a10 + 28))(a10);
    else
      v18 = 0;
    v24 = sub_437890(a1, a5, a6, v19);
    if ( v24 > 0 )
    {
      if ( CChar::IsMState(a1, 512i64) )
        sub_40A990((int)a1, a2, a3, a4, 8);
      if ( CChar::IsMState(a1, 0x10000000i64) )
        sub_40A990((int)a1, a2, a3, a4, 26);
      if ( CChar::IsMState(a1, 0x8000i64) && (*(int (__thiscall **)(volatile int *))(*a5 + 156))(a5) == 1 )
      {
        sub_40A990((int)a1, a2, a3, a4, 14);
        *a9 = 0;
        *a7 = 0;
        result = 0;
      }
      else if ( sub_408E10(a1, 0x10000) && RandomBetween(1, 100) <= 10 )
      {
        sub_40A830((int)a1, a2, a3, a4, 58);
        *a9 = 0;
        *a7 = 0;
        result = 0;
      }
      else
      {
        sub_411FF0((int)a1, a2, a3, a4);
        if ( CChar::IsNormal(a1) )
        {
          *((_DWORD *)a1 + 336) = GetTickCount();
          if ( (*(int (__thiscall **)(volatile int *))(*a5 + 60))(a5) && sub_40A660(a5, 256) && *((int *)a5 + 132) < 3 )
            *((_DWORD *)a5 + 132) = 3;
          if ( CChar::IsMState(a1, 0x1000000i64) )
          {
            *a7 = a6;
          }
          else
          {
            if ( a10 && v19 )
              v11 = CChar::GetFatalDamage((int)a5, v24 >> 1, a8, v18);
            else
              v11 = CChar::GetFatalDamage((int)a5, v24, a8, v18);
            *a7 = v24 + v11;
            if ( (*(int (__thiscall **)(volatile int *))(*a5 + 60))(a5) && !*((_DWORD *)a5 + 113) )
            {
              *a7 += 30 * *a7 / 100;
              v23 = *((_DWORD *)a5 + 15) - *((_DWORD *)a1 + 15);
              if ( v23 < 0 )
              {
                if ( *((_DWORD *)a1 + 15) - *((_DWORD *)a5 + 15) <= 10 )
                  v15 = *((_DWORD *)a1 + 15) - *((_DWORD *)a5 + 15);
                else
                  v15 = 10;
                v16 = -dword_4B0F84[v15];
              }
              else
              {
                if ( v23 <= 10 )
                  v17 = *((_DWORD *)a5 + 15) - *((_DWORD *)a1 + 15);
                else
                  v17 = 10;
                v16 = dword_4B0F84[v17];
              }
              *a7 += v16 * *a7 / 100;
            }
          }
          if ( (*(int (__thiscall **)(volatile int *))(*a5 + 64))(a5) && sub_408E10(a1, 1024) )
            *a7 -= *a7 / 10;
          if ( *a7 >= *((_DWORD *)a1 + 68) )
            v14 = *((_DWORD *)a1 + 68);
          else
            v14 = *a7;
          *a7 = v14;
          *((_DWORD *)a1 + 68) -= *a7;
          if ( *a9 )
          {
            if ( *((int *)a1 + 68) <= 0 )
            {
              *a9 = 0;
            }
            else
            {
              if ( *a9 >= *((_DWORD *)a1 + 68) )
                v13 = *((_DWORD *)a1 + 68);
              else
                v13 = *a9;
              *a9 = v13;
              *((_DWORD *)a1 + 68) -= *a9;
            }
          }
          if ( *((int *)a1 + 68) > 0 )
          {
            sub_412010((int)a1, a2, a3, a4);
            sub_458470(a1, a2, a3, a4, 0);
          }
          else
          {
            *((_DWORD *)a1 + 68) = 0;
            if ( sub_40A660(a1, 0x8000) )
              sub_448C90(a2, a3, a4, (int)a1, 36, "b", 89);
            CChar::SubGState(a1, 32772);
            CChar::SubMState(a1, 1, 0);
            CChar::AddGState(a1, 2);
            if ( sub_40A660(a1, 1835008) )
              sub_40A990((int)a1, a2, a3, a4, 103);
            if ( sub_40A660(a1, 128) )
            {
              v21 = (volatile int *)*((_DWORD *)a1 + 349);
              if ( !v21 )
                EBREAK(a2, a3, a4);
              if ( (*(int (__thiscall **)(volatile int *))(*a5 + 60))(a5) && a5 == v21 )
              {
                sub_409160(a1, 16);
              }
              else if ( !sub_408E10(a1, 256) )
              {
                ++*((_DWORD *)a1 + 136);
              }
              sub_454DF0((int)a1, a2, a3, a4, v21, 3, 2, 6);
            }
            else if ( (*(int (__thiscall **)(volatile int *))(*a5 + 64))(a5) && !sub_408E10(a1, 256) )
            {
              ++*((_DWORD *)a1 + 136);
            }
            if ( sub_40A660(a1, 1024) )
            {
              (*(void (__thiscall **)(volatile LONG *, int))(*a1 + 112))(a1, 1024);
              sub_412010((int)a1, a2, a3, a4);
              v12 = sub_45DE70((int)a1, a2, a3, a4);
              CCastle::UnfurlStandardCancel(a2, a3, a4, v12);
              sub_411FF0((int)a1, a2, a3, a4);
            }
            v22 = (volatile int *)*((_DWORD *)a1 + 253);
            if ( v22 )
            {
              sub_4010D0(v22, a2, a3, a4);
              sub_412010((int)a1, a2, a3, a4);
              CBase::Delete(v22);
              sub_401C50(v22, a2, a3, a4);
            }
            else
            {
              sub_412010((int)a1, a2, a3, a4);
            }
            if ( sub_408E10(a1, 128) )
              sub_409160(a1, 128);
            sub_40AB60((int)a1, a2, a3, a4, -161);
            (*(void (__thiscall **)(volatile int *, volatile LONG *))(*a5 + 160))(a5, a1);
            if ( sub_40A660(a1, 16) )
              sub_4539F0((int)a1, a2, a3, a4, 0);
            if ( sub_40A660(a1, 512) )
              sub_45EE40((int)a1, a2, a3, a4);
            sub_45EEA0((int)a1, a2, a3, a4);
            sub_40ACD0(a2, a3, a4, (int)a1, 30, "db", *((_DWORD *)a1 + 7), 9);
            *((_DWORD *)a1 + 333) = GetTickCount() + 600000;
            (*(void (__thiscall **)(volatile int *, volatile LONG *))(*a5 + 132))(a5, a1);
          }
          sub_454360(a1, a2, a3, a4, 7);
          result = 1;
        }
        else
        {
          sub_412010((int)a1, a2, a3, a4);
          *a9 = 0;
          *a7 = 0;
          result = 1;
        }
      }
    }
    else
    {
      *a9 = 0;
      *a7 = 0;
      result = 0;
    }
  }
  return result;
}

//----- (00447B50) --------------------------------------------------------
void __userpurge sub_447B50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  sub_448C90(a2, a3, a4, a1, 33, "db", a5, a6);
}

//----- (00447B80) --------------------------------------------------------
int __thiscall sub_447B80(_DWORD *this)
{
  int result; // eax
  int v3; // [esp+8h] [ebp-4h]

  CChar::ReviseProperty(this);
  v3 = this[19];
  this[21] += 2 * this[17] * this[17] / dword_4AE970[this[113]] + 115;
  result = this[22] + v3 + 2 * v3 * v3 / dword_4AE97C[this[113]];
  this[22] = result;
  return result;
}

//----- (00447C00) --------------------------------------------------------
void __userpurge sub_447C00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  CChar::AddMState(a1, a5, a6);
  sub_40ACD0(a2, a3, a4, (int)a1, 48, &unk_49C16C, a1[7], a1[72], a1[73]);
}

//----- (00447C50) --------------------------------------------------------
void __userpurge sub_447C50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CChar::AddMStateEx((volatile LONG *)a1, a5);
  sub_448C90(a2, a3, a4, a1, 91, "d", *(_DWORD *)(a1 + 296));
}

//----- (00447C90) --------------------------------------------------------
void __userpurge sub_447C90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  InterlockedExchange((volatile LONG *)(a1 + 300), a5 | *(_DWORD *)(a1 + 300));
  sub_448C90(a2, a3, a4, a1, 37, "bdd", 74, a5, a6);
}

//----- (00447CE0) --------------------------------------------------------
void __userpurge sub_447CE0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CChar::SubMStateEx((volatile LONG *)a1, a5);
  sub_448C90(a2, a3, a4, a1, 91, "d", *(_DWORD *)(a1 + 296));
}

//----- (00447D20) --------------------------------------------------------
void __userpurge sub_447D20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  InterlockedExchange((volatile LONG *)(a1 + 300), *(_DWORD *)(a1 + 300) & ~a5);
  sub_448C90(a2, a3, a4, a1, 37, "bd", 75, a5);
}

//----- (00447D70) --------------------------------------------------------
int __thiscall sub_447D70(_DWORD *this, int a2)
{
  int v2; // eax
  int result; // eax
  int v5; // [esp+Ch] [ebp-4h]

  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
  {
    v2 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 156))(a2);
    result = CChar::GetDefense(this, v2);
  }
  else
  {
    v5 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 156))(a2);
    result = CChar::GetDefense(this, v5) + this[15] / dword_4B0F60[3 * v5 + this[113]];
  }
  return result;
}

//----- (00447DF0) --------------------------------------------------------
int __thiscall CPlayer::GetFinalAbsorb(_DWORD *this, int a2)
{
  int result; // eax

  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    result = CChar::GetAbsorb(this);
  else
    result = CChar::GetAbsorb(this) + 15;
  return result;
}

//----- (00447E30) --------------------------------------------------------
int __thiscall sub_447E30(_DWORD *this, int a2, int a3)
{
  int result; // eax

  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    result = sub_436490(this, a3) / 10;
  else
    result = sub_436490(this, a3) / 10 + this[15] / dword_4B0F78[this[113]] + 25;
  return result;
}

//----- (00447EA0) --------------------------------------------------------
int __thiscall CPlayer::GetMSpeed(int this, int a2)
{
  int v3; // [esp+0h] [ebp-18h]
  int v4; // [esp+4h] [ebp-14h]

  if ( CChar::IsMState((_QWORD *)this, 1i64) )
    v4 = 533;
  else
    v4 = 800;
  if ( !*(_DWORD *)(this + 260) )
    return v4;
  if ( *(int *)(this + 260) <= 0 )
    v3 = v4 * (abs(*(_DWORD *)(this + 260)) + 100) / 100;
  else
    v3 = 100 * v4 / (*(_DWORD *)(this + 260) + 100);
  return v3;
}

//----- (00447F40) --------------------------------------------------------
BOOL __thiscall sub_447F40(_DWORD *this)
{
  return this[113] == 2;
}

//----- (00447F60) --------------------------------------------------------
BOOL __thiscall sub_447F60(_DWORD *this, int *a2)
{
  int v3; // esi
  int v4; // esi
  int v5; // esi
  int v6; // [esp+4h] [ebp-14h]
  BOOL v8; // [esp+Ch] [ebp-Ch]
  int v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h]

  v9 = this[66];
  if ( !v9 || this[113] == 1 )
    return 0;
  v10 = sub_445CF0(a2[15], this[15]);
  if ( this[113] )
  {
    if ( this[113] == 2 )
    {
      if ( (*(int (__thiscall **)(int *))(*a2 + 64))(a2) )
      {
        v5 = dword_4B1028[v10] + v9;
        return v5 >= RandomBetween(1, 100);
      }
      if ( (*(int (__thiscall **)(int *))(*a2 + 60))(a2) )
        return v9 >= RandomBetween(1, 100);
    }
    return 0;
  }
  if ( !sub_426320(this, 1) )
  {
    if ( (this[114] & 4) == 0 )
      return 0;
    if ( !sub_426320(this, 12) || !sub_448140(this + 154, 20) )
      return 0;
  }
  if ( !(*(int (__thiscall **)(int *))(*a2 + 64))(a2) )
  {
    if ( (*(int (__thiscall **)(int *))(*a2 + 60))(a2) )
    {
      v4 = v9 + this[15] / 3;
      return v4 > RandomBetween(1, 100);
    }
    return 0;
  }
  v8 = sub_426320(this, 12) != 0;
  if ( (*(int (__thiscall **)(int *))(*a2 + 156))(a2) == 1 )
  {
    if ( v8 )
      v6 = (v9 + 3) / 3;
    else
      v6 = v9 + 3;
    v9 = v6;
  }
  v3 = dword_4B0FF0[7 * v8 + v10] + v9;
  return v3 >= RandomBetween(1, 100);
}

//----- (00448140) --------------------------------------------------------
int __thiscall sub_448140(_DWORD *this, int a2)
{
  return this[a2 + 2];
}

//----- (00448160) --------------------------------------------------------
void __userpurge sub_448160(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  if ( *(_DWORD *)(a1 + 1020) )
    sub_42CB90(*(_DWORD **)(a1 + 1020), a2, a3, a4, (_DWORD *)a1, a5);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
}

//----- (004481B0) --------------------------------------------------------
int __usercall sub_4481B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::pair<int const ,CSocket *> *v4; // eax
  int result; // eax
  char *v6; // eax
  const std::pair<int const ,CSocket *> *v7; // eax
  const std::pair<char const * const,CItem *> *v8; // eax
  char *v9; // [esp-Ch] [ebp-60h]
  int v10; // [esp-8h] [ebp-5Ch]
  int v11; // [esp-4h] [ebp-58h]
  char v13[8]; // [esp+4h] [ebp-50h] BYREF
  const char *v14; // [esp+Ch] [ebp-48h] BYREF
  CItem *v15; // [esp+10h] [ebp-44h] BYREF
  char v16[8]; // [esp+14h] [ebp-40h] BYREF
  char v17[8]; // [esp+1Ch] [ebp-38h] BYREF
  const char *v18; // [esp+24h] [ebp-30h] BYREF
  CItem *v19; // [esp+28h] [ebp-2Ch] BYREF
  char v20[8]; // [esp+2Ch] [ebp-28h] BYREF
  CItem *v21; // [esp+34h] [ebp-20h] BYREF
  char v22[8]; // [esp+38h] [ebp-1Ch] BYREF
  struct in_addr v23; // [esp+40h] [ebp-14h]
  CIOObject *v24; // [esp+44h] [ebp-10h]
  struct in_addr in; // [esp+48h] [ebp-Ch]
  int v26; // [esp+4Ch] [ebp-8h] BYREF
  char v27; // [esp+50h] [ebp-4h]

  sub_4010D0((volatile int *)a1, a2, a3, a4);
  CRWLock::WriteLock((CRWLock *)&unk_4B95EC);
  v21 = (CItem *)a1;
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v22,
    (const char *const *)(a1 + 444),
    &v21);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B9628,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)&v26,
    v4);
  if ( v27 )
  {
    v19 = (CItem *)a1;
    v18 = *(const char **)(a1 + 28);
    std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
      (std::pair<char const * const,CItem *> *)v20,
      &v18,
      &v19);
    std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B95E0,
      (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v17,
      v7);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B95EC, a2, a3, a4);
    CRWLock::WriteLock((CRWLock *)&unk_4B9610);
    v15 = (CItem *)a1;
    v14 = (const char *)(a1 + 32);
    std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
      (std::pair<char const * const,CItem *> *)v16,
      &v14,
      &v15);
    sub_4605E0(
      dword_4B9604,
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v13,
      v8);
    CRWLock::WriteUnlock((CRWLock *)&unk_4B9610, a2, a3, a4);
    CIOObject::AddRef((CIOObject *)a1, a2, a3, a4, (volatile int *)(a1 + 8));
    InterlockedIncrement(&dword_4B95C8);
    CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a2, a3, a4);
    CLink::Insert((CLink *)(a1 + 420), (CLink *)dword_4B95D4);
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a2, a3, a4);
    result = 1;
  }
  else
  {
    sub_401C50((volatile int *)a1, a2, a3, a4);
    v24 = *(CIOObject **)(sub_43E1A0(&v26) + 4);
    if ( (CIOObject *)a1 == v24 )
    {
      EBREAK(a2, a3, a4);
      sub_4010D0((volatile int *)a1, a2, a3, a4);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B95EC, a2, a3, a4);
    }
    else
    {
      v23 = *(struct in_addr *)(*(_DWORD *)(a1 + 1404) + 136);
      in = *(struct in_addr *)(*((_DWORD *)v24 + 351) + 136);
      v11 = *(_DWORD *)(*((_DWORD *)v24 + 351) + 132);
      v10 = *(_DWORD *)(*(_DWORD *)(a1 + 1404) + 132);
      v9 = inet_ntoa(in);
      v6 = inet_ntoa(v23);
      LOG_NORMAL("Same player on game : name(%s) addr(%s, %s) port(%d, %d)", (const char *)(a1 + 32), v6, v9, v10, v11);
      sub_448C90(a2, a3, a4, a1, 36, "b", 5);
      CIOObject::AddRef(v24, a2, a3, a4, (volatile int *)v24 + 86);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B95EC, a2, a3, a4);
      sub_448C90(a2, a3, a4, (int)v24, 8, "b", 2);
      sub_483E60(*((_DWORD *)v24 + 351), a2, a3, a4, 2);
      CIOObject::Release(v24, a2, a3, a4, (volatile int *)v24 + 86);
    }
    result = 0;
  }
  return result;
}
// 4481F1: variable 'v4' is possibly undefined
// 448344: variable 'v7' is possibly undefined
// 448386: variable 'v8' is possibly undefined

//----- (004483E0) --------------------------------------------------------
LONG __usercall sub_4483E0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const char *v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B95EC);
  v7 = *(_DWORD *)(a1 + 28);
  sub_4604F0(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B95E0,
    &v7);
  sub_4604F0(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B9628,
    (const int *)(a1 + 444));
  CRWLock::WriteUnlock((CRWLock *)&unk_4B95EC, a2, a3, a4);
  CRWLock::WriteLock((CRWLock *)&unk_4B9610);
  v6 = (const char *)(a1 + 32);
  sub_4607A0(dword_4B9604, &v6);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B9610, a2, a3, a4);
  sub_401C50((volatile int *)a1, a2, a3, a4);
  return InterlockedDecrement(&dword_4B95C8);
}

//----- (00448470) --------------------------------------------------------
void __usercall sub_448470(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v5; // eax
  volatile signed __int32 *v6; // eax
  _DWORD *v7; // [esp+0h] [ebp-34h]
  int v8; // [esp+8h] [ebp-2Ch]
  int v9; // [esp+Ch] [ebp-28h]
  volatile signed __int32 *v11; // [esp+14h] [ebp-20h]
  volatile int *v12; // [esp+18h] [ebp-1Ch]
  int v13; // [esp+1Ch] [ebp-18h]
  int v14; // [esp+20h] [ebp-14h]
  volatile signed __int32 *v15; // [esp+28h] [ebp-Ch]
  int v16; // [esp+2Ch] [ebp-8h]
  DWORD v17; // [esp+30h] [ebp-4h]

  if ( sub_40A640((_DWORD *)a1) )
  {
    CLink::Remove((CLink *)(a1 + 420));
    CIOObject::Release((CIOObject *)a1, a2, a3, a4, (volatile int *)(a1 + 8));
  }
  else
  {
    sub_40A8E0(a1, a2, a3, a4);
    sub_45EEF0(a1, a2, a3, a4);
    v17 = GetTickCount();
    sub_411FF0(a1, a2, a3, a4);
    if ( ++*(_DWORD *)(a1 + 1324) >= 0x258u )
      sub_44CEA0(a1, a2, a3, a4, 0);
    if ( sub_40A660((_DWORD *)a1, 0x2000) && v17 >= *(_DWORD *)(a1 + 1332) )
    {
      CChar::SubGState((volatile LONG *)a1, 0x2000);
      *(_DWORD *)(a1 + 1332) = v17;
    }
    if ( sub_40A660((_DWORD *)a1, 2) )
    {
      if ( v17 >= *(_DWORD *)(a1 + 1332) )
        sub_4586F0((volatile LONG *)a1, a2, a3, a4);
    }
    else
    {
      if ( v17 >= *(_DWORD *)(a1 + 1352) )
      {
        if ( *(_DWORD *)(a1 + 272) < CChar::GetMaxHP((_DWORD *)a1) )
        {
          if ( CChar::GetMaxHP((_DWORD *)a1) / 100 >= 40 )
          {
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 7, 1, 40);
          }
          else
          {
            v9 = CChar::GetMaxHP((_DWORD *)a1) / 100;
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 7, 1, v9);
          }
        }
        *(_DWORD *)(a1 + 1352) = v17 + 6000;
      }
      if ( v17 >= *(_DWORD *)(a1 + 1356) )
      {
        if ( *(_DWORD *)(a1 + 276) < CChar::GetMaxMP(v7) )
        {
          if ( CChar::GetMaxMP(v7) / 100 >= 20 )
          {
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 8, 1, 20);
          }
          else
          {
            v8 = CChar::GetMaxMP(v7) / 100;
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 8, 1, v8);
          }
        }
        *(_DWORD *)(a1 + 1356) = v17 + 12000;
      }
    }
    if ( sub_40A660((_DWORD *)a1, 4) && v17 >= *(_DWORD *)(a1 + 1328) )
    {
      if ( *(_DWORD *)(a1 + 272) < CChar::GetMaxHP((_DWORD *)a1) )
      {
        v4 = sub_448A40((_DWORD *)a1);
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 7, 1, v4);
      }
      if ( *(_DWORD *)(a1 + 276) < CChar::GetMaxMP(v7) )
      {
        v5 = sub_448A80((_DWORD *)a1);
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 8, 1, v5);
      }
      *(_DWORD *)(a1 + 1328) = v17 + 4000;
    }
    if ( CChar::IsMState((_QWORD *)a1, 1i64) )
    {
      if ( *(int *)(a1 + 276) < 6 )
        (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 1, 0);
      else
        (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, 6);
    }
    if ( sub_40A660((_DWORD *)a1, 32) && v17 >= *(_DWORD *)(a1 + 1348) )
    {
      v16 = RandomBetween(1, 1000);
      if ( v16 > 5 )
      {
        if ( v16 > 15 )
        {
          if ( v16 > 40 )
          {
            if ( v16 > 360 )
              v6 = CItem::CreateItem(237, 0, 1, -1);
            else
              v6 = CItem::CreateItem(239, 0, 1, -1);
          }
          else
          {
            v6 = CItem::CreateItem(240, 0, 1, -1);
          }
        }
        else
        {
          v6 = CItem::CreateItem(444, 0, 1, -1);
        }
      }
      else
      {
        v6 = CItem::CreateItem(241, 0, 1, -1);
      }
      v15 = v6;
      if ( v6 && sub_4522B0(a1, a2, a3, a4, 2, v6) != 1 )
        CBase::Delete(v15);
      v14 = 600000;
      if ( sub_408E10((_DWORD *)a1, 8) )
      {
        v14 = 300000;
      }
      else if ( sub_408E10((_DWORD *)a1, 1) )
      {
        v14 = 300000;
      }
      *(_DWORD *)(a1 + 1348) = v14 + v17;
      sub_448C90(a2, a3, a4, a1, 36, "b", 44);
    }
    if ( sub_40A660((_DWORD *)a1, 64) && v17 >= *(_DWORD *)(a1 + 1348) )
    {
      if ( !sub_45DC20(
              a1,
              a2,
              a3,
              a4,
              (*(_DWORD *)(a1 + 1180) & 0xFFFF0000) >> 16,
              (unsigned __int16)*(_DWORD *)(a1 + 1180)) )
        sub_448C90(a2, a3, a4, a1, 36, "b", 51);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a1 + 112))(a1, 64);
    }
    if ( sub_40A660((_DWORD *)a1, 128) )
      sub_454C20(a1, a2, a3, a4);
    if ( sub_40A660((_DWORD *)a1, 512) && v17 >= *(_DWORD *)(a1 + 1360) )
    {
      if ( *(int *)(a1 + 572) <= 0 )
      {
        sub_45EE40(a1, a2, a3, a4);
      }
      else
      {
        v13 = *(_DWORD *)(a1 + 1024) & 0xF;
        if ( v13 )
          (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 35, 0, dword_4AE60C[v13]);
        *(_DWORD *)(a1 + 1360) = v17 + (*(_DWORD *)(a1 + 572) <= 0 ? 60000 : 5000);
      }
    }
    if ( sub_40A660((_DWORD *)a1, 1024) && v17 >= *(_DWORD *)(a1 + 1348) )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a1 + 112))(a1, 1024);
      sub_412010(a1, a2, a3, a4);
      v12 = sub_45DDB0(a1, a2, a3, a4);
      if ( v12 )
      {
        sub_416B80((int)v12, a2, a3, a4, a1, *(_DWORD *)(a1 + 1180));
        CIOObject::Release((CIOObject *)v12, a2, a3, a4, v12 + 10);
      }
      sub_411FF0(a1, a2, a3, a4);
    }
    if ( (dword_4B8C34 & 2) != 0 && v17 >= *(_DWORD *)(a1 + 1364) )
    {
      *(_DWORD *)(a1 + 1364) = v17 + 1800000;
      v11 = CItem::CreateItem(649, 0, 1, -1);
      if ( v11 )
      {
        if ( sub_4522B0(a1, a2, a3, a4, 16, v11) != 1 )
          CBase::Delete(v11);
      }
    }
    sub_412010(a1, a2, a3, a4);
    (*(void (__thiscall **)(int, int))(*(_DWORD *)a1 + 184))(a1, 1);
    sub_45B200(a1, a2, a3, a4, 0);
  }
}
// 4485E2: variable 'v7' is possibly undefined
// 4B8C34: using guessed type int dword_4B8C34;

//----- (00448A40) --------------------------------------------------------
int __thiscall sub_448A40(_DWORD *this)
{
  int v1; // esi

  v1 = 7 * this[142];
  return v1 + RandomBetween(0, 2 * this[142]) + 25;
}

//----- (00448A80) --------------------------------------------------------
int __thiscall sub_448A80(_DWORD *this)
{
  int v1; // esi

  v1 = 6 * this[142];
  return v1 + RandomBetween(0, 2 * this[142]) + 20;
}

//----- (00448AC0) --------------------------------------------------------
void __usercall sub_448AC0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  int *v5; // [esp+0h] [ebp-18h]
  int v6[2]; // [esp+4h] [ebp-14h] BYREF
  volatile LONG *v7; // [esp+Ch] [ebp-Ch]
  int *i; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
  CLink::MoveTo(dword_4B95D4, (int)&dword_4B95CC);
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
  for ( i = (int *)dword_4B95CC; i != &dword_4B95CC; i = (int *)*i )
  {
    v7 = i - 105;
    if ( !i[14]
      || *((_DWORD *)v7 + 118) != a5
      && (!*(_DWORD *)(*((_DWORD *)v7 + 119) + 392) || *(_DWORD *)(*((_DWORD *)v7 + 119) + 392) != a5) )
    {
      v9 = CCastle::WarPortal(a4, *((_DWORD *)v7 + 77), *((_DWORD *)v7 + 81), *((_DWORD *)v7 + 82));
      if ( v9 >= 0 )
      {
        v5 = (int *)((char *)&unk_4AF728 + 28 * v9);
        v6[0] = RandomBetween(v5[1] - 32, v5[1] + 32);
        v6[1] = RandomBetween(v5[2] - 32, v5[2] + 32);
        if ( sub_40A660(v7, 2) )
          CChar::AddGState(v7, 8);
        sub_451260(v7, a1, a2, a3, *v5, v6, v5[3], 0);
      }
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
}
// 4B95CC: using guessed type int dword_4B95CC;

//----- (00448C30) --------------------------------------------------------
void __userpurge sub_448C30(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src)
{
  CMemory **v6; // [esp+4h] [ebp-4h]

  v6 = CIOBuffer::Alloc();
  memcpy(v6, Src, *((_DWORD *)Src + 2000));
  v6[2000] = (CMemory *)*((_DWORD *)Src + 2000);
  sub_483370(*(_DWORD *)(a1 + 1404), a2, a3, a4, v6);
}

//----- (00448C90) --------------------------------------------------------
void __usercall sub_448C90(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, ...)
{
  CMemory **v5; // [esp+0h] [ebp-10h]
  va_list va; // [esp+20h] [ebp+10h] BYREF

  va_start(va, a5);
  v5 = CIOBuffer::Alloc();
  *((_BYTE *)v5 + 2) = a5;
  *(_WORD *)v5 = (unsigned __int16)WritePacket(a1, a2, a3, (char *)v5 + 3, (int)va) - (_WORD)v5;
  v5[2000] = (CMemory *)*(unsigned __int16 *)v5;
  sub_483370(*(_DWORD *)(a4 + 1404), a1, a2, a3, v5);
}

//----- (00448D00) --------------------------------------------------------
void __userpurge sub_448D00(unsigned int a1@<ecx>, DWORD a2@<ebx>, char *a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  char *v7; // eax
  int v8; // eax
  _DWORD *v9; // eax
  char *v10; // eax
  int v11; // [esp-8h] [ebp-248h]
  int v12; // [esp+0h] [ebp-240h]
  int v13; // [esp+4h] [ebp-23Ch]
  int v14; // [esp+8h] [ebp-238h]
  unsigned __int8 v16; // [esp+1Fh] [ebp-221h] BYREF
  char *v17; // [esp+20h] [ebp-220h] BYREF
  char *Str; // [esp+24h] [ebp-21Ch] BYREF
  char v19[4]; // [esp+28h] [ebp-218h] BYREF
  int v20; // [esp+2Ch] [ebp-214h] BYREF
  CIOObject *v21; // [esp+30h] [ebp-210h]
  char v22[4]; // [esp+34h] [ebp-20Ch] BYREF
  int v23; // [esp+38h] [ebp-208h] BYREF
  CIOObject *v24; // [esp+3Ch] [ebp-204h]
  unsigned __int8 v25; // [esp+40h] [ebp-200h] BYREF
  unsigned __int8 v26; // [esp+41h] [ebp-1FFh] BYREF
  unsigned __int8 v27; // [esp+42h] [ebp-1FEh] BYREF
  unsigned __int8 v28; // [esp+43h] [ebp-1FDh] BYREF
  char v29; // [esp+44h] [ebp-1FCh] BYREF
  unsigned __int8 v30; // [esp+45h] [ebp-1FBh] BYREF
  unsigned __int8 v31; // [esp+46h] [ebp-1FAh] BYREF
  unsigned __int8 v32; // [esp+47h] [ebp-1F9h] BYREF
  CIOObject *v33; // [esp+48h] [ebp-1F8h]
  int v34; // [esp+4Ch] [ebp-1F4h] BYREF
  CIOObject *v35; // [esp+50h] [ebp-1F0h]
  int v36; // [esp+54h] [ebp-1ECh] BYREF
  volatile int *v37; // [esp+58h] [ebp-1E8h]
  int v38; // [esp+5Ch] [ebp-1E4h] BYREF
  CIOObject *v39; // [esp+60h] [ebp-1E0h]
  unsigned __int8 v40; // [esp+67h] [ebp-1D9h] BYREF
  int v41; // [esp+68h] [ebp-1D8h] BYREF
  volatile int *v42; // [esp+6Ch] [ebp-1D4h]
  volatile int *v43; // [esp+70h] [ebp-1D0h]
  int v44; // [esp+74h] [ebp-1CCh] BYREF
  CIOObject *v45; // [esp+78h] [ebp-1C8h]
  volatile int *v46; // [esp+7Ch] [ebp-1C4h]
  int v47; // [esp+80h] [ebp-1C0h] BYREF
  CIOObject *v48; // [esp+84h] [ebp-1BCh]
  unsigned __int8 v49; // [esp+8Bh] [ebp-1B5h] BYREF
  volatile int *v50; // [esp+8Ch] [ebp-1B4h]
  int v51; // [esp+90h] [ebp-1B0h] BYREF
  CIOObject *v52; // [esp+94h] [ebp-1ACh]
  volatile int *v53; // [esp+98h] [ebp-1A8h]
  int v54; // [esp+9Ch] [ebp-1A4h] BYREF
  CIOObject *v55; // [esp+A0h] [ebp-1A0h]
  int v56; // [esp+A4h] [ebp-19Ch] BYREF
  volatile int *v57; // [esp+A8h] [ebp-198h]
  volatile int *v58; // [esp+ACh] [ebp-194h]
  int v59; // [esp+B0h] [ebp-190h] BYREF
  int *v60; // [esp+B4h] [ebp-18Ch]
  int v61; // [esp+B8h] [ebp-188h] BYREF
  CIOObject *v62; // [esp+BCh] [ebp-184h]
  int v63; // [esp+C0h] [ebp-180h] BYREF
  unsigned __int8 v64; // [esp+C7h] [ebp-179h] BYREF
  volatile int *v65; // [esp+C8h] [ebp-178h]
  int v66; // [esp+CCh] [ebp-174h] BYREF
  int v67; // [esp+D0h] [ebp-170h] BYREF
  unsigned __int8 v68; // [esp+D7h] [ebp-169h] BYREF
  int v69; // [esp+D8h] [ebp-168h] BYREF
  volatile int *v70; // [esp+DCh] [ebp-164h]
  int v71; // [esp+E0h] [ebp-160h] BYREF
  int v72; // [esp+E4h] [ebp-15Ch] BYREF
  int v73; // [esp+E8h] [ebp-158h] BYREF
  int v74; // [esp+ECh] [ebp-154h] BYREF
  int *v75; // [esp+F0h] [ebp-150h]
  unsigned __int8 v76; // [esp+F7h] [ebp-149h] BYREF
  char *Source; // [esp+F8h] [ebp-148h] BYREF
  CIOObject *v78; // [esp+FCh] [ebp-144h]
  int *v79; // [esp+100h] [ebp-140h]
  volatile int *v80; // [esp+104h] [ebp-13Ch]
  volatile int *v81; // [esp+108h] [ebp-138h]
  CIOObject *v82; // [esp+10Ch] [ebp-134h]
  char *Str1; // [esp+110h] [ebp-130h] BYREF
  CIOObject *v84; // [esp+114h] [ebp-12Ch]
  unsigned __int8 v85; // [esp+11Bh] [ebp-125h] BYREF
  int v86; // [esp+11Ch] [ebp-124h]
  char v87; // [esp+123h] [ebp-11Dh] BYREF
  int v88; // [esp+124h] [ebp-11Ch] BYREF
  unsigned __int8 v89; // [esp+12Bh] [ebp-115h] BYREF
  int v90; // [esp+12Ch] [ebp-114h] BYREF
  unsigned __int8 v91; // [esp+133h] [ebp-10Dh] BYREF
  int v92; // [esp+134h] [ebp-10Ch]
  unsigned int v93; // [esp+138h] [ebp-108h]
  char v94; // [esp+13Eh] [ebp-102h] BYREF
  unsigned __int8 v95; // [esp+13Fh] [ebp-101h] BYREF
  char v96[7]; // [esp+140h] [ebp-100h] BYREF
  unsigned __int8 v97; // [esp+147h] [ebp-F9h] BYREF
  int v98; // [esp+148h] [ebp-F8h] BYREF
  int v99; // [esp+14Ch] [ebp-F4h] BYREF
  unsigned __int8 v100; // [esp+153h] [ebp-EDh] BYREF
  int v101; // [esp+154h] [ebp-ECh] BYREF
  int v102; // [esp+158h] [ebp-E8h] BYREF
  unsigned __int8 v103; // [esp+15Eh] [ebp-E2h] BYREF
  unsigned __int8 v104; // [esp+15Fh] [ebp-E1h] BYREF
  int v105; // [esp+160h] [ebp-E0h]
  unsigned __int8 v106; // [esp+166h] [ebp-DAh] BYREF
  unsigned __int8 v107; // [esp+167h] [ebp-D9h] BYREF
  int v108; // [esp+168h] [ebp-D8h] BYREF
  unsigned __int8 v109; // [esp+16Fh] [ebp-D1h] BYREF
  int v110; // [esp+170h] [ebp-D0h] BYREF
  CIOObject *v111; // [esp+174h] [ebp-CCh]
  unsigned __int8 v112; // [esp+17Bh] [ebp-C5h] BYREF
  CIOObject *v113; // [esp+17Ch] [ebp-C4h]
  int v114; // [esp+180h] [ebp-C0h] BYREF
  unsigned __int8 v115; // [esp+185h] [ebp-BBh] BYREF
  unsigned __int8 v116; // [esp+186h] [ebp-BAh] BYREF
  unsigned __int8 v117; // [esp+187h] [ebp-B9h] BYREF
  int v118; // [esp+188h] [ebp-B8h] BYREF
  unsigned __int8 v119; // [esp+18Fh] [ebp-B1h] BYREF
  int v120; // [esp+190h] [ebp-B0h] BYREF
  unsigned __int8 v121; // [esp+197h] [ebp-A9h] BYREF
  int v122; // [esp+198h] [ebp-A8h] BYREF
  unsigned __int8 v123; // [esp+19Fh] [ebp-A1h] BYREF
  int v124; // [esp+1A0h] [ebp-A0h] BYREF
  unsigned __int8 v125; // [esp+1A7h] [ebp-99h] BYREF
  int v126; // [esp+1A8h] [ebp-98h] BYREF
  int v127; // [esp+1ACh] [ebp-94h] BYREF
  int v128; // [esp+1B0h] [ebp-90h] BYREF
  int v129; // [esp+1B4h] [ebp-8Ch] BYREF
  int v130; // [esp+1B8h] [ebp-88h] BYREF
  int v131; // [esp+1BCh] [ebp-84h] BYREF
  int v132; // [esp+1C0h] [ebp-80h] BYREF
  int v133; // [esp+1C4h] [ebp-7Ch] BYREF
  int v134; // [esp+1C8h] [ebp-78h] BYREF
  char v135[4]; // [esp+1CCh] [ebp-74h] BYREF
  int v136; // [esp+1D0h] [ebp-70h] BYREF
  int v137; // [esp+1D4h] [ebp-6Ch] BYREF
  unsigned __int8 v138; // [esp+1DBh] [ebp-65h] BYREF
  int v139; // [esp+1DCh] [ebp-64h] BYREF
  unsigned __int8 v140; // [esp+1E3h] [ebp-5Dh] BYREF
  int v141; // [esp+1E4h] [ebp-5Ch] BYREF
  unsigned __int8 v142; // [esp+1EBh] [ebp-55h] BYREF
  int v143; // [esp+1ECh] [ebp-54h]
  int v144; // [esp+1F0h] [ebp-50h]
  int v145; // [esp+1F4h] [ebp-4Ch] BYREF
  volatile int *v146; // [esp+1F8h] [ebp-48h]
  int v147; // [esp+1FCh] [ebp-44h] BYREF
  unsigned __int8 v148; // [esp+203h] [ebp-3Dh] BYREF
  int v149; // [esp+204h] [ebp-3Ch] BYREF
  unsigned __int8 v150; // [esp+20Ah] [ebp-36h] BYREF
  unsigned __int8 v151; // [esp+20Bh] [ebp-35h] BYREF
  int v152; // [esp+20Ch] [ebp-34h] BYREF
  int v153; // [esp+210h] [ebp-30h] BYREF
  unsigned __int8 v154; // [esp+217h] [ebp-29h] BYREF
  char *v155; // [esp+218h] [ebp-28h] BYREF
  unsigned __int8 v156; // [esp+21Dh] [ebp-23h] BYREF
  unsigned __int8 v157; // [esp+21Eh] [ebp-22h] BYREF
  unsigned __int8 v158; // [esp+21Fh] [ebp-21h] BYREF
  unsigned __int8 v159; // [esp+220h] [ebp-20h] BYREF
  unsigned __int8 v160; // [esp+221h] [ebp-1Fh] BYREF
  unsigned __int8 v161; // [esp+222h] [ebp-1Eh] BYREF
  unsigned __int8 v162; // [esp+223h] [ebp-1Dh] BYREF
  int v163; // [esp+224h] [ebp-1Ch] BYREF
  unsigned __int8 v164; // [esp+22Bh] [ebp-15h] BYREF
  int v165; // [esp+22Ch] [ebp-14h] BYREF
  unsigned __int8 v166; // [esp+233h] [ebp-Dh] BYREF
  char v167; // [esp+234h] [ebp-Ch] BYREF
  char v168; // [esp+235h] [ebp-Bh] BYREF
  char v169; // [esp+236h] [ebp-Ah] BYREF
  char v170; // [esp+237h] [ebp-9h] BYREF
  char v171; // [esp+238h] [ebp-8h] BYREF
  char v172; // [esp+239h] [ebp-7h] BYREF
  char v173; // [esp+23Ah] [ebp-6h] BYREF
  char v174; // [esp+23Bh] [ebp-5h] BYREF
  int v175; // [esp+23Ch] [ebp-4h] BYREF
  char *Srca; // [esp+24Ch] [ebp+Ch]
  char *Srcg; // [esp+24Ch] [ebp+Ch]
  char *Srch; // [esp+24Ch] [ebp+Ch]
  char *Srci; // [esp+24Ch] [ebp+Ch]
  char *Srcj; // [esp+24Ch] [ebp+Ch]
  char *Srck; // [esp+24Ch] [ebp+Ch]
  char *Srcl; // [esp+24Ch] [ebp+Ch]
  char *Srcm; // [esp+24Ch] [ebp+Ch]
  char *Srcb; // [esp+24Ch] [ebp+Ch]
  char *Srcn; // [esp+24Ch] [ebp+Ch]
  char *Srcc; // [esp+24Ch] [ebp+Ch]
  char *Srcd; // [esp+24Ch] [ebp+Ch]
  char *Srco; // [esp+24Ch] [ebp+Ch]
  char *Srcp; // [esp+24Ch] [ebp+Ch]
  char *Srcq; // [esp+24Ch] [ebp+Ch]
  char *Srce; // [esp+24Ch] [ebp+Ch]
  char *Srcf; // [esp+24Ch] [ebp+Ch]

  switch ( a5 )
  {
    case 11:
      if ( (*(_DWORD *)(a1 + 20) & 0xB) == 2 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v174, &v175);
        if ( v174 == 1 )
        {
          if ( !*(_DWORD *)(a1 + 332) )
            *(_DWORD *)(a1 + 332) = v175;
          sub_44CA70(a1, a2, (DWORD)a3, a4);
        }
        else
        {
          sub_448C90(a2, (DWORD)a3, a4, a1, 8, "b", 0);
          sub_483E60(*(_DWORD *)(a1 + 1404), a2, (DWORD)a3, a4, 0);
        }
      }
      else
      {
        v11 = *(_DWORD *)(*(_DWORD *)(a1 + 1404) + 132);
        v10 = inet_ntoa(*(struct in_addr *)(*(_DWORD *)(a1 + 1404) + 136));
        LOG_NORMAL(
          "Invalid state at CPlayer::Process() Type(%d) UID(%d) Bit(%x) Addr(%s) Port(%d) Player(%p)",
          a5,
          *(_DWORD *)(a1 + 440),
          *(_DWORD *)(a1 + 20),
          v10,
          v11,
          (const void *)a1);
      }
      return;
    case 12:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v173);
        if ( v173 )
        {
          if ( GetTickCount() - *(_DWORD *)(a1 + 1344) < 0x2710 || CChar::IsMState((_QWORD *)a1, 32i64) )
            sub_448C90(a2, (DWORD)a3, a4, a1, 6, "b", 0);
          else
            sub_448C90(a2, (DWORD)a3, a4, a1, 6, "b", 1);
        }
        else
        {
          sub_44CDB0(a1, a2, (DWORD)a3, a4);
        }
      }
      return;
    case 13:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bbb", &v170, &v172, &v171);
        sub_411FF0(a1, a2, (DWORD)a3, a4);
        if ( sub_45FF40(a1, a2, (DWORD)a3, a4) )
          sub_4802B0(
            *(char **)(a1 + 312),
            a2,
            (DWORD)a3,
            a4,
            (Concurrency::details::_CancellationTokenRegistration *)a1,
            v170,
            v172,
            v171,
            0,
            0);
        sub_412010(a1, a2, (DWORD)a3, a4);
      }
      return;
    case 14:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bbb", &v167, &v169, &v168);
        sub_411FF0(a1, a2, (DWORD)a3, a4);
        if ( sub_45FF40(a1, a2, (DWORD)a3, a4) )
          sub_4802B0(
            *(char **)(a1 + 312),
            a2,
            (DWORD)a3,
            a4,
            (Concurrency::details::_CancellationTokenRegistration *)a1,
            v167,
            v169,
            v168,
            1,
            0);
        sub_412010(a1, a2, (DWORD)a3, a4);
      }
      return;
    case 15:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v166, &v165);
        if ( sub_40A660((_DWORD *)a1, 0x2000) )
        {
          CChar::SubGState((volatile LONG *)a1, 0x2000);
          *(_DWORD *)(a1 + 1332) = GetTickCount();
        }
        sub_450F40((_DWORD *)a1, a2, (DWORD)a3, a4, v166, v165);
      }
      return;
    case 16:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srca = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v162);
        if ( sub_40A660((_DWORD *)a1, 0x2000) )
        {
          CChar::SubGState((volatile LONG *)a1, 0x2000);
          *(_DWORD *)(a1 + 1332) = GetTickCount();
        }
        sub_470A90((_DWORD *)(a1 + 616), v162, (int)Srca, a7);
      }
      return;
    case 17:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "s", &v155, 129);
        sub_454F00(a1, a2, (DWORD)a3, a4, v155);
      }
      return;
    case 18:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v154, &v153);
        sub_4513F0(a1, a2, (DWORD)a3, a4, v154, v153);
      }
      return;
    case 19:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v149);
        sub_440DF0(a2, (DWORD)a3, a4, v149, a1);
      }
      return;
    case 20:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v145);
        v146 = CNPC::FindNPC(a2, (DWORD)a3, a4, v145);
        if ( v146 )
        {
          v143 = 100;
          v144 = CCastle::GetCastle(*((_DWORD *)v146 + 113));
          if ( v144 )
            v143 = CCastle::GetTaxRate(v144, a2, (DWORD)a3, a4);
          sub_401C50(v146, a2, (DWORD)a3, a4);
          sub_448C90(a2, (DWORD)a3, a4, a1, 53, "b", (unsigned __int8)v143);
        }
      }
      return;
    case 21:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srci = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "dbb", &v141, &v142, &v140);
        sub_451880(a1, a2, (DWORD)a3, a4, v141, v142, v140, Srci, a7);
      }
      return;
    case 22:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcj = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "db", &v139, &v138);
        sub_451B20(a1, a2, (DWORD)a3, a4, v139, v138, Srcj, a7);
      }
      return;
    case 23:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "dd", &v137, &v136);
        sub_451CD0(a1, a2, (DWORD)a3, a4, v137, v136);
      }
      return;
    case 24:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        v7 = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v121);
        sub_452930(a1, a2, (DWORD)a3, a4, v121, v7, a7);
      }
      return;
    case 25:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
        sub_452BF0((_DWORD *)a1, a2, (DWORD)a3, a4);
      return;
    case 26:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v132);
        sub_451EB0(a1, a2, (DWORD)a3, a4, v132);
      }
      return;
    case 27:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v131);
        sub_452030(a1, a2, (DWORD)a3, a4, v131);
      }
      return;
    case 28:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v130);
        sub_452140(a1, a2, (DWORD)a3, a4, v130);
      }
      return;
    case 29:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v107);
        sub_40ACD0(a2, (DWORD)a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), v107);
      }
      return;
    case 30:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v106);
        if ( v106 <= 4u )
        {
          v105 = sub_44BB00((_DWORD *)a1, v106);
          if ( v105 <= 0 || *(_DWORD *)(a1 + 536) < v105 )
          {
            sub_448C90(a2, (DWORD)a3, a4, a1, 37, "bb", 26, v105);
          }
          else
          {
            (*(void (__cdecl **)(unsigned int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 23, 0, v105);
            (*(void (__cdecl **)(unsigned int, _DWORD, int, int))(*(_DWORD *)a1 + 88))(a1, v106, 1, 1);
            CDBSocket::Write(
              a2,
              (DWORD)a3,
              a4,
              16,
              "dbwbb",
              *(_DWORD *)(a1 + 444),
              23,
              *(_DWORD *)(a1 + 536),
              v106,
              *(_DWORD *)(a1 + 4 * v106 + 64));
          }
        }
      }
      return;
    case 31:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v104);
        sub_458470((volatile LONG *)a1, a2, (DWORD)a3, a4, v104);
      }
      return;
    case 32:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "ddd", &v133, &v134, v135);
        sub_482650(*(_DWORD **)(a1 + 312), a2, (DWORD)a3, a4, a1, v133, &v134);
      }
      return;
    case 33:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v129);
        sub_4521F0(a1, a2, (DWORD)a3, a4, v129);
      }
      return;
    case 34:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v124);
        sub_452640((_DWORD *)a1, a2, (DWORD)a3, a4, v124);
      }
      return;
    case 35:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v123, &v122);
        sub_4527C0((_DWORD *)a1, a2, (DWORD)a3, a4, v123, v122);
      }
      return;
    case 36:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
        sub_452880(a1, a2, (DWORD)a3, a4);
      return;
    case 37:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        sub_411FF0(a1, a2, (DWORD)a3, a4);
        sub_4586F0((volatile LONG *)a1, a2, (DWORD)a3, a4);
        *(_DWORD *)(a1 + 1332) = GetTickCount();
        sub_412010(a1, a2, (DWORD)a3, a4);
      }
      return;
    case 38:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v160);
        if ( *(int *)(a1 + 540) > 0 )
          sub_4706D0((int *)(a1 + 616), a2, (DWORD)a3, a4, v160);
      }
      return;
    case 39:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v159);
        if ( *(int *)(a1 + 540) > 0 )
          sub_4708A0((int *)(a1 + 616), a2, (DWORD)a3, a4, v159);
      }
      return;
    case 40:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v164, &v163);
        if ( sub_40A660((_DWORD *)a1, 0x2000) )
        {
          CChar::SubGState((volatile LONG *)a1, 0x2000);
          *(_DWORD *)(a1 + 1332) = GetTickCount();
        }
        if ( v164 < 0x49u && sub_471270((_DWORD *)(a1 + 616), v164, v163) )
          sub_40ACD0(a2, (DWORD)a3, a4, a1, 30, "dbbd", *(_DWORD *)(a1 + 28), 5, v164, v163);
      }
      return;
    case 41:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v101);
        sub_453F40((_DWORD *)a1, a2, (DWORD)a3, a4, v101);
      }
      return;
    case 42:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v100, &v99);
        sub_454110((_DWORD *)a1, a2, (DWORD)a3, a4, v100, v99);
      }
      return;
    case 43:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
        sub_454220(a1, a2, (DWORD)a3, a4);
      return;
    case 44:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v98);
        sub_454270(a1, a2, (DWORD)a3, a4, v98);
      }
      return;
    case 45:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srck = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "db", &v120, &v119);
        sub_453160(a1, a2, (DWORD)a3, a4, v120, v119, Srck, a7);
      }
      return;
    case 46:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcl = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "db", &v118, &v117);
        sub_453380(a1, a2, (DWORD)a3, a4, v118, v117, Srcl, a7);
      }
      return;
    case 47:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v152);
        if ( sub_40A660((_DWORD *)a1, 256) && v152 && v152 == 393281539 )
          sub_448C90(a2, (DWORD)a3, a4, a1, 77, "b", 9);
        else
          sub_46D610(a2, (DWORD)a3, a4, v152, a1);
      }
      return;
    case 48:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
        sub_453050(a1, a2, (DWORD)a3, a4);
      return;
    case 49:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v97, v96);
        sub_458BF0(a1, a2, (DWORD)a3, a4, v97, 0);
      }
      return;
    case 50:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "dd", &v127, &v128);
        sub_452460(a1, a2, (DWORD)a3, a4, v127, v128);
      }
      return;
    case 51:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcm = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v116);
        sub_453500(a1, a2, (DWORD)a3, a4, v116, Srcm, a7);
      }
      return;
    case 52:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v112);
        sub_4539F0(a1, a2, (DWORD)a3, a4, v112);
      }
      return;
    case 53:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcn = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v95);
        sub_458CE0((char *)a1, a2, (DWORD)a3, a4, v95, Srcn, a7);
      }
      return;
    case 54:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
        (*(void (__thiscall **)(unsigned int, int))(*(_DWORD *)a1 + 112))(a1, 96);
      return;
    case 55:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v115, &v114);
        if ( *(_DWORD *)(a1 + 28) == v114 )
        {
          sub_453850(a1, a2, (DWORD)a3, a4, v115, a1);
        }
        else
        {
          v113 = sub_446740(a2, (DWORD)a3, a4, v114);
          if ( v113 )
          {
            sub_453850((int)v113, a2, (DWORD)a3, a4, v115, a1);
            CIOObject::Release(v113, a2, (DWORD)a3, a4, (volatile int *)v113 + 86);
          }
        }
      }
      return;
    case 56:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcb = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "ddb", &v108, &v110, &v109);
        v111 = sub_446740(a2, (DWORD)a3, a4, v108);
        if ( v111 )
        {
          if ( v109 )
            sub_453B10((unsigned int)v111, a2, (DWORD)a3, a4, a1, v110, v109, Srcb, a7);
          CIOObject::Release(v111, a2, (DWORD)a3, a4, (volatile int *)v111 + 86);
        }
      }
      return;
    case 57:
      if ( (*(_DWORD *)(a1 + 20) & 9) != 8 || (dword_4B8C34 & 4) == 0 )
        return;
      Srcc = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v94);
      if ( v94 == 3 )
      {
        if ( *(int *)(a1 + 60) >= 5 )
        {
          if ( sub_4597A0((_DWORD *)a1) )
            sub_448C90(a2, (DWORD)a3, a4, a1, 74, "b", 5);
          else
            sub_448C90(a2, (DWORD)a3, a4, a1, 74, "b", 6);
        }
        else
        {
          sub_448C90(a2, (DWORD)a3, a4, a1, 74, "b", 8);
        }
        return;
      }
      if ( v94 == 4 && sub_4597A0((_DWORD *)a1) )
      {
        ScanPacket(a2, (DWORD)a3, a4, Srcc, (char *)a7, "b", &v91);
        v92 = RandomBetween(0, 2);
        v93 = 0;
        if ( v91 )
        {
          if ( v91 == 1 )
          {
            if ( v92 )
            {
              if ( v92 == 2 )
                v93 = sub_459850(a1, a2, (DWORD)a3, a4, 3);
              goto LABEL_189;
            }
          }
          else
          {
            if ( v91 != 2 )
            {
              v93 = sub_459850(a1, a2, (DWORD)a3, a4, 2);
              goto LABEL_189;
            }
            if ( v92 != 1 )
            {
              if ( !v92 )
                v93 = sub_459850(a1, a2, (DWORD)a3, a4, 3);
              goto LABEL_189;
            }
          }
        }
        else if ( v92 != 2 )
        {
          if ( v92 == 1 )
            v93 = sub_459850(a1, a2, (DWORD)a3, a4, 3);
          goto LABEL_189;
        }
        v93 = sub_459850(a1, a2, (DWORD)a3, a4, 1);
LABEL_189:
        sub_448C90(a2, (DWORD)a3, a4, a1, 74, "bbbb", 7, v91, v92, v93);
      }
      return;
    case 58:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bb", &v150, &v151);
        if ( sub_40A660((_DWORD *)a1, 64) || !sub_45DB70(a1, a2, (DWORD)a3, a4, v150, v151) )
        {
          sub_448C90(a2, (DWORD)a3, a4, a1, 36, "b", 51);
        }
        else
        {
          *(_DWORD *)(a1 + 1180) = v150 << 16;
          *(_DWORD *)(a1 + 1180) += v151;
          *(_DWORD *)(a1 + 1348) = GetTickCount() + 10000;
          (*(void (__thiscall **)(unsigned int, int))(*(_DWORD *)a1 + 100))(a1, 64);
          sub_448C90(a2, (DWORD)a3, a4, a1, 36, "b", 49);
        }
      }
      return;
    case 59:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v103, &v102);
        sub_4588F0((_DWORD *)a1, a2, (DWORD)a3, a4, v103, v102);
      }
      return;
    case 60:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        if ( GetTickCount() - *(_DWORD *)(a1 + 1344) < 0x2710 || CChar::IsMState((_QWORD *)a1, 32i64) )
          sub_448C90(a2, (DWORD)a3, a4, a1, 75, "b", 0);
        else
          sub_448C90(a2, (DWORD)a3, a4, a1, 75, "b", 1);
      }
      return;
    case 61:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 && dword_4BAAA0 != 1 )
      {
        Srcd = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v87);
        v86 = 0;
        switch ( v87 )
        {
          case 1:
            v86 = sub_411B80(a2, (DWORD)a3, a4, a1);
            break;
          case 3:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "b", &v85);
            v84 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v84 )
            {
              v86 = sub_412160((int)v84, a2, (DWORD)a3, a4, a1, v85);
              CIOObject::Release(v84, a2, (DWORD)a3, a4, (volatile int *)v84 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 5:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "s", &Str1, 15);
            v82 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v82 )
            {
              v86 = sub_412450(a2, (DWORD)a3, a4, a1, Str1);
              CIOObject::Release(v82, a2, (DWORD)a3, a4, (volatile int *)v82 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 7:
            v81 = sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v81 )
            {
              v86 = sub_4142B0(v81, a2, (DWORD)a3, a4, a1);
              CIOObject::Release((CIOObject *)v81, a2, (DWORD)a3, a4, v81 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 8:
            v80 = sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v80 )
            {
              v86 = sub_414340(v80, a2, (DWORD)a3, a4, a1);
              CIOObject::Release((CIOObject *)v80, a2, (DWORD)a3, a4, v80 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 10:
            v79 = (int *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v79 )
            {
              v86 = sub_412F70(v79, a2, (DWORD)a3, a4, a1);
              CIOObject::Release((CIOObject *)v79, a2, (DWORD)a3, a4, v79 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 11:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "s", &Source, 181);
            v78 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v78 )
            {
              v86 = sub_413ED0((int)v78, a2, (DWORD)a3, a4, a1, Source);
              CIOObject::Release(v78, a2, (DWORD)a3, a4, (volatile int *)v78 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 12:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "b", &v76);
            v75 = (int *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v75 )
            {
              v86 = sub_414740(v75, a2, (DWORD)a3, a4, a1, v76);
              CIOObject::Release((CIOObject *)v75, a2, (DWORD)a3, a4, v75 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 13:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "ddddd", &v72, &v73, &v74, &v69, &v71);
            v70 = sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v70 )
            {
              v86 = sub_4143A0(v70, a2, (DWORD)a3, a4, a1, v72, v73, v74, v69, v71);
              CIOObject::Release((CIOObject *)v70, a2, (DWORD)a3, a4, v70 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 15:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "ddb", &v66, &v67, &v68);
            v86 = sub_412B90(a2, (DWORD)a3, a4, a1, v66, v67, v68);
            break;
          case 16:
            v65 = sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v65 )
            {
              v86 = sub_4139D0(v65, a2, (DWORD)a3, a4, a1);
              CIOObject::Release((CIOObject *)v65, a2, (DWORD)a3, a4, v65 + 10);
            }
            else
            {
              v86 = 1;
            }
            break;
          case 18:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "ddb", &v61, &v63, &v64);
            v62 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v62 )
            {
              v86 = sub_416120((int)v62, a2, (DWORD)a3, a4, a1, v61, v63, v64);
              CIOObject::Release(v62, a2, (DWORD)a3, a4, (volatile int *)v62 + 10);
            }
            break;
          case 19:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "d", &v59);
            v60 = (int *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v60 )
            {
              v58 = CNPC::FindNPC(a2, (DWORD)a3, a4, v59);
              if ( v58 )
              {
                v86 = sub_416640(v60, a2, (DWORD)a3, a4, a1, *((_DWORD *)v58 + 113));
                sub_401C50(v58, a2, (DWORD)a3, a4);
              }
              CIOObject::Release((CIOObject *)v60, a2, (DWORD)a3, a4, v60 + 10);
            }
            else
            {
              v86 = 22;
            }
            break;
          case 20:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "d", &v56);
            v57 = CNPC::FindNPC(a2, (DWORD)a3, a4, v56);
            if ( v57 )
            {
              CGuild::WarDelcareList(a2, (DWORD)a3, a4, a1, *((_DWORD *)v57 + 113));
              sub_401C50(v57, a2, (DWORD)a3, a4);
            }
            break;
          case 21:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "d", &v54);
            v55 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v55 )
            {
              v53 = CNPC::FindNPC(a2, (DWORD)a3, a4, v54);
              if ( v53 )
              {
                if ( *((_DWORD *)v53 + 110) == 16 && sub_440790((_DWORD *)(a1 + 324), (_DWORD *)v53 + 81) <= 64 )
                  v86 = sub_4169C0((int)v55, a2, (DWORD)a3, a4, (_DWORD *)a1, *((_DWORD *)v53 + 113));
                sub_401C50(v53, a2, (DWORD)a3, a4);
              }
              CIOObject::Release(v55, a2, (DWORD)a3, a4, (volatile int *)v55 + 10);
            }
            break;
          case 22:
            if ( sub_40A660((_DWORD *)a1, 1024) )
            {
              (*(void (__thiscall **)(unsigned int, int))(*(_DWORD *)a1 + 112))(a1, 1024);
              v8 = sub_45DE70(a1, a2, (DWORD)a3, a4);
              CCastle::UnfurlStandardCancel(a2, (DWORD)a3, a4, v8);
            }
            break;
          case 23:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "d", &v51);
            v52 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v52 )
            {
              v50 = CNPC::FindNPC(a2, (DWORD)a3, a4, v51);
              if ( v50 )
              {
                v86 = sub_416E60(a2, (DWORD)a3, a4, a1, *((_DWORD *)v50 + 113));
                sub_401C50(v50, a2, (DWORD)a3, a4);
              }
              CIOObject::Release(v52, a2, (DWORD)a3, a4, (volatile int *)v52 + 10);
            }
            break;
          case 24:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "db", &v47, &v49);
            v48 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v48 )
            {
              v46 = CNPC::FindNPC(a2, (DWORD)a3, a4, v47);
              if ( v46 )
              {
                v86 = sub_416F20(a2, (DWORD)a3, a4, a1, *((_DWORD *)v46 + 113), v49);
                sub_401C50(v46, a2, (DWORD)a3, a4);
              }
              CIOObject::Release(v48, a2, (DWORD)a3, a4, (volatile int *)v48 + 10);
            }
            break;
          case 25:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "d", &v41);
            v42 = CNPC::FindNPC(a2, (DWORD)a3, a4, v41);
            if ( v42 )
            {
              v86 = CGuild::CastleGateNPC(
                      a2,
                      (DWORD)a3,
                      a4,
                      (_DWORD *)a1,
                      *((_DWORD *)v42 + 113),
                      *((_DWORD *)v42 + 109));
              sub_401C50(v42, a2, (DWORD)a3, a4);
            }
            break;
          case 26:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "db", &v38, &v40);
            v39 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v39 )
            {
              v37 = CNPC::FindNPC(a2, (DWORD)a3, a4, v38);
              if ( v37 )
              {
                v86 = sub_4171A0(a2, (DWORD)a3, a4, a1, *((_DWORD *)v37 + 113), v40);
                sub_401C50(v37, a2, (DWORD)a3, a4);
              }
              CIOObject::Release(v39, a2, (DWORD)a3, a4, (volatile int *)v39 + 10);
            }
            break;
          case 27:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "d", &v44);
            v45 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v45 )
            {
              v43 = CNPC::FindNPC(a2, (DWORD)a3, a4, v44);
              if ( v43 )
              {
                v86 = sub_417000((int)v45, a2, (DWORD)a3, a4, a1, *((_DWORD *)v43 + 113));
                sub_401C50(v43, a2, (DWORD)a3, a4);
              }
              CIOObject::Release(v45, a2, (DWORD)a3, a4, (volatile int *)v45 + 10);
            }
            break;
          case 28:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "d", &v36);
            v35 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
            if ( v35 )
            {
              v86 = sub_414480((int)v35, a2, (DWORD)a3, a4, a1, v36);
              CIOObject::Release(v35, a2, (DWORD)a3, a4, (volatile int *)v35 + 10);
            }
            break;
          case 29:
            ScanPacket(a2, (DWORD)a3, a4, Srcd, (char *)a7, "d", &v34);
            CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, (DWORD)a3, a4);
            if ( *(_DWORD *)(a1 + 1008) && *(int *)(*(_DWORD *)(a1 + 1008) + 52) >= 500000 )
            {
              CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, (DWORD)a3, a4);
              v33 = (CIOObject *)sub_45DDB0(a1, a2, (DWORD)a3, a4);
              if ( v33 )
              {
                v86 = sub_414530((int)v33, a2, (DWORD)a3, a4, a1, v34);
                CIOObject::Release(v33, a2, (DWORD)a3, a4, (volatile int *)v33 + 10);
              }
            }
            else
            {
              CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, (DWORD)a3, a4);
            }
            break;
          default:
            break;
        }
        if ( v86 )
          sub_448C90(a2, (DWORD)a3, a4, a1, 76, "bb", 0, (unsigned __int8)v86);
      }
      return;
    case 62:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v158);
        sub_471120((int *)(a1 + 616), a2, (DWORD)a3, a4, v158);
      }
      return;
    case 63:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
        sub_4593C0((_DWORD *)a1, a2, (DWORD)a3, a4);
      return;
    case 64:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 && (dword_4B8C30[0] & 1) != 0 )
        sub_45E6D0(a1, a2, a3, a4);
      return;
    case 65:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v90);
        sub_4547B0((_DWORD *)a1, a2, (DWORD)a3, a4, v90);
      }
      return;
    case 66:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v89, &v88);
        sub_454970(a1, a2, (DWORD)a3, a4, v89, v88);
      }
      return;
    case 67:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bb", &v31, &v32);
        sub_45ECE0(a1, a2, (DWORD)a3, a4, v31, v32);
      }
      return;
    case 68:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bb", &v157, &v156);
        sub_45F070(a1, a2, (DWORD)a3, a4, v157, v156);
      }
      return;
    case 69:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcg = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v161);
        sub_470B70((_DWORD *)(a1 + 616), v161, (int)Srcg, a7);
      }
      return;
    case 70:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srco = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v30);
        sub_459B60(a1, a2, (DWORD)a3, a4, v30, Srco, a7);
      }
      return;
    case 73:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v29);
        if ( v29 )
        {
          if ( !sub_40A660((_DWORD *)a1, 2048) )
            (*(void (__thiscall **)(unsigned int, int))(*(_DWORD *)a1 + 100))(a1, 2048);
        }
        else if ( sub_40A660((_DWORD *)a1, 2048) )
        {
          (*(void (__thiscall **)(unsigned int, int))(*(_DWORD *)a1 + 112))(a1, 2048);
        }
      }
      return;
    case 74:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcp = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v28);
        sub_45F310(a1, a2, (DWORD)a3, a4, v28, Srcp, a7);
      }
      return;
    case 75:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcq = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v27);
        sub_45F590(a1, a2, (DWORD)a3, a4, v27, Srcq, a7);
      }
      return;
    case 76:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bd", &v125, &v126);
        sub_452570(a1, a2, (DWORD)a3, a4, v125, v126);
      }
      return;
    case 77:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srce = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v26);
        if ( (dword_4B8C30[0] & 0x40) != 0 )
          sub_45B730(a1, a2, (DWORD)a3, a4, v26, Srce, a7);
      }
      return;
    case 78:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        Srcf = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v25);
        if ( (*(_WORD *)dword_4B8C30 & 0x400) != 0 )
          sub_45C870(a1, a2, (int *)a3, a4, v25, Srcf, a7);
      }
      return;
    case 79:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v23);
        v24 = sub_436ED0(a2, (DWORD)a3, a4, v23);
        if ( v24 )
        {
          (*(void (__thiscall **)(CIOObject *, unsigned int, _DWORD, char *, char *, char *, _DWORD))(*(_DWORD *)v24 + 72))(
            v24,
            a1,
            0,
            v22,
            v22,
            v22,
            0);
          CIOObject::Release(v24, a2, (DWORD)a3, a4, (volatile int *)v24 + 86);
        }
      }
      return;
    case 80:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v20);
        v21 = sub_436ED0(a2, (DWORD)a3, a4, v20);
        if ( v21 )
        {
          (*(void (__thiscall **)(CIOObject *, unsigned int, int, char *, char *, char *, _DWORD))(*(_DWORD *)v21 + 72))(
            v21,
            a1,
            1,
            v19,
            v19,
            v19,
            0);
          CIOObject::Release(v21, a2, (DWORD)a3, a4, (volatile int *)v21 + 86);
        }
      }
      return;
    case 81:
      Srch = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "db", &v147, &v148);
      sub_45FFF0(a1, a2, (DWORD)a3, a4, v147, v148, (int)Srch, a7);
      return;
    case 82:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "s", &Str, 15);
        sub_460070(a1, a2, (DWORD)a3, a4, Str);
      }
      return;
    case 83:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "s", &v17, 15);
        sub_4602C0(a1, a2, (DWORD)a3, a4, v17);
      }
      return;
    case 84:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        v9 = sub_4024B0(103, v12, v13, v14);
        (*(void (__thiscall **)(unsigned int, _DWORD *))(*(_DWORD *)a1 + 180))(a1, v9);
      }
      return;
    case 85:
      if ( (*(_DWORD *)(a1 + 20) & 9) == 8 )
      {
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v16);
        if ( *(int *)(a1 + 60) >= 50
          && *(_DWORD *)(a1 + 456) >= 7u
          && sub_451720(a1, a2, (DWORD)a3, a4, 657, 1)
          && (*(_DWORD *)(a1 + 452) || v16 <= 1u)
          && (*(_DWORD *)(a1 + 452) != 1 || v16 >= 4u)
          && (*(_DWORD *)(a1 + 452) != 2 || v16 == 2 || v16 == 3) )
        {
          sub_411FF0(a1, a2, (DWORD)a3, a4);
          if ( sub_451F80(a1, a2, (DWORD)a3, a4, 9, 657, 1) )
          {
            v16 &= 1u;
            if ( v16 )
              *(_DWORD *)(a1 + 456) = 11;
            else
              *(_DWORD *)(a1 + 456) = 7;
            sub_4712C0((int *)(a1 + 616), a2, (DWORD)a3, a4);
            sub_448C90(a2, (DWORD)a3, a4, a1, 37, "bb", 38, *(_DWORD *)(a1 + 456));
            CDBSocket::Write(a2, (DWORD)a3, a4, 15, "db", *(_DWORD *)(a1 + 444), 1 << (v16 + 3));
            sub_448C90(a2, (DWORD)a3, a4, a1, 37, "b", 106, 0);
            sub_40ACD0(a2, (DWORD)a3, a4, a1, 50, "db", *(_DWORD *)(a1 + 28), 28);
          }
          else
          {
            sub_448C90(a2, (DWORD)a3, a4, a1, 37, "b", 106, 1);
          }
          sub_412010(a1, a2, (DWORD)a3, a4);
        }
        else
        {
          sub_448C90(a2, (DWORD)a3, a4, a1, 37, "b", 106, 1);
        }
      }
      return;
    default:
      LOG_ERR(
        "Invalid packet type at CPlayer::Process() Type(%d) UID(%d) bit(%x)",
        a5,
        *(_DWORD *)(a1 + 440),
        *(_DWORD *)(a1 + 20));
      return;
  }
}
// 44B692: variable 'v12' is possibly undefined
// 44B692: variable 'v13' is possibly undefined
// 44B692: variable 'v14' is possibly undefined
// 4B8C34: using guessed type int dword_4B8C34;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0044BB00) --------------------------------------------------------
int __thiscall sub_44BB00(_DWORD *this, int a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = this[a2 + 16];
  if ( v3 >= 250 )
    return 0;
  if ( !this[113] && !a2 || this[113] == 1 && a2 == 2 || this[113] == 2 && a2 == 4 )
    return dword_4AFCA8[v3];
  return dword_4AF8C0[v3];
}

//----- (0044BB80) --------------------------------------------------------
int __userpurge sub_44BB80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _BYTE *a5)
{
  int result; // eax
  char *v6; // eax
  _BYTE *v7; // eax
  _BYTE *v8; // eax
  _WORD *v9; // eax
  _WORD *v10; // eax
  _DWORD *v11; // eax
  _BYTE *v12; // eax
  _BYTE *v13; // eax
  _BYTE *v14; // eax
  _BYTE *v15; // eax
  _BYTE *v16; // eax
  _BYTE *v17; // eax
  _WORD *v18; // eax
  _WORD *v19; // eax
  _WORD *v20; // eax
  _WORD *v21; // eax
  _WORD *v22; // eax
  _BYTE *v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  int v26; // eax
  char *v27; // [esp+0h] [ebp-A8h]
  _DWORD *v28; // [esp+4h] [ebp-A4h]
  CMemory **v30; // [esp+Ch] [ebp-9Ch]
  CMemory **v31; // [esp+10h] [ebp-98h]
  int v32[3]; // [esp+14h] [ebp-94h] BYREF
  char v33[8]; // [esp+20h] [ebp-88h] BYREF
  int v34[7]; // [esp+28h] [ebp-80h] BYREF
  int v35; // [esp+44h] [ebp-64h] BYREF
  int v36; // [esp+48h] [ebp-60h] BYREF
  int ii; // [esp+4Ch] [ebp-5Ch]
  char *v38; // [esp+50h] [ebp-58h]
  int n; // [esp+54h] [ebp-54h]
  _DWORD *v40; // [esp+58h] [ebp-50h]
  int m; // [esp+5Ch] [ebp-4Ch]
  char v42[8]; // [esp+60h] [ebp-48h] BYREF
  int v43; // [esp+68h] [ebp-40h] BYREF
  int v44; // [esp+6Ch] [ebp-3Ch] BYREF
  int v45; // [esp+70h] [ebp-38h] BYREF
  int l; // [esp+74h] [ebp-34h]
  char *v47; // [esp+78h] [ebp-30h]
  int k; // [esp+7Ch] [ebp-2Ch]
  volatile signed __int32 *v49; // [esp+80h] [ebp-28h]
  int j; // [esp+84h] [ebp-24h]
  int i; // [esp+88h] [ebp-20h]
  unsigned __int8 v52; // [esp+8Eh] [ebp-1Ah] BYREF
  unsigned __int8 v53; // [esp+8Fh] [ebp-19h] BYREF
  int v54; // [esp+90h] [ebp-18h] BYREF
  int v55; // [esp+94h] [ebp-14h] BYREF
  char *v56; // [esp+98h] [ebp-10h] BYREF
  char *v57; // [esp+9Ch] [ebp-Ch]
  int v58; // [esp+A0h] [ebp-8h] BYREF
  int v59; // [esp+A4h] [ebp-4h] BYREF

  sub_411FF0(a1, a2, a3, a4);
  if ( sub_447240((_DWORD *)a1, 4) )
  {
    sub_412010(a1, a2, a3, a4);
    result = 0;
  }
  else
  {
    v56 = sub_417B10(a5, (_BYTE *)(a1 + 448));
    if ( *(_DWORD *)(a1 + 448) == 1 )
    {
      sub_448C90(a2, a3, a4, a1, 36, "b", 6);
      sub_412010(a1, a2, a3, a4);
      result = 0;
    }
    else
    {
      v6 = GetString(v56, (char *)(a1 + 32));
      v7 = sub_417B10(v6, (_BYTE *)(a1 + 452));
      v8 = sub_417B10(v7, (_BYTE *)(a1 + 456));
      v9 = sub_417B10(v8, (_BYTE *)(a1 + 60));
      v10 = sub_42D5D0(v9, (_WORD *)(a1 + 460));
      v11 = sub_46AB30(v10, (_DWORD *)(a1 + 464));
      v12 = sub_417AF0(v11, (_DWORD *)(a1 + 472));
      v13 = sub_417B10(v12, (_BYTE *)(a1 + 528));
      v14 = sub_417B10(v13, (_BYTE *)(a1 + 64));
      v15 = sub_417B10(v14, (_BYTE *)(a1 + 68));
      v16 = sub_417B10(v15, (_BYTE *)(a1 + 72));
      v17 = sub_417B10(v16, (_BYTE *)(a1 + 76));
      v18 = sub_417B10(v17, (_BYTE *)(a1 + 80));
      v19 = sub_42D5D0(v18, (_WORD *)(a1 + 272));
      v20 = sub_42D5D0(v19, (_WORD *)(a1 + 276));
      v21 = sub_42D5D0(v20, (_WORD *)(a1 + 536));
      v22 = sub_42D5D0(v21, (_WORD *)(a1 + 540));
      v23 = sub_417B10(v22, (_BYTE *)(a1 + 544));
      v56 = sub_417B10(v23, (_BYTE *)(a1 + 308));
      v56 = (char *)sub_417AF0(v56, &v54);
      v56 = (char *)sub_417AF0(v56, &v55);
      v56 = (char *)sub_417AF0(v56, (_DWORD *)(a1 + 332));
      v56 = sub_417B10(v56, (_BYTE *)(a1 + 548));
      v56 = sub_417B10(v56, (_BYTE *)(a1 + 552));
      v56 = sub_417B10(v56, (_BYTE *)(a1 + 564));
      v56 = (char *)sub_417AF0(v56, (_DWORD *)(a1 + 572));
      sub_40A460((_DWORD *)a1, &v54);
      (*(void (__thiscall **)(int))(*(_DWORD *)a1 + 84))(a1);
      sub_4705B0((_DWORD *)(a1 + 616), a1);
      v58 = 0;
      v57 = v56;
      v56 = sub_417B10(v56, &v58);
      if ( v58 )
      {
        for ( i = 0; i < v58; ++i )
        {
          v56 = sub_417B10(v56, &v53);
          v56 = sub_417B10(v56, &v52);
          sub_4705E0((_DWORD *)(a1 + 616), v53, v52);
        }
        sub_470AE0((_DWORD *)(a1 + 616));
        sub_448C90(a2, a3, a4, a1, 47, "m", v57, v56 - v57);
      }
      v56 = sub_417B10(v56, &v58);
      if ( v58 )
      {
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
        for ( j = 0; j < v58; ++j )
        {
          v49 = sub_424AB0(*(_DWORD *)(a1 + 444), (_WORD **)&v56);
          if ( v49 )
          {
            if ( sub_451660(a1, a2, a3, a4, (int)v49) )
            {
              if ( (*(int (__thiscall **)(volatile signed __int32 *))(*v49 + 164))(v49) )
              {
                *(_DWORD *)(a1 + 1008) = v49;
              }
              else if ( (*(int (__thiscall **)(volatile signed __int32 *))(*v49 + 196))(v49) )
              {
                ++*(_DWORD *)(a1 + 1016);
              }
            }
            else
            {
              LOG_ERR("CPlayer::OnLoadPlayer() Item insert error. (IID:%d)", *((_DWORD *)v49 + 9));
              CBase::Delete(v49);
            }
          }
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      }
      v56 = sub_417B10(v56, &v58);
      if ( v58 )
      {
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
        for ( k = 0; k < v58; ++k )
        {
          v47 = v56;
          v24 = sub_4622F0(v34, v56 + 2, v56);
          sub_460A20(
            (int *)(a1 + 1040),
            (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v33,
            v24);
          v56 += 23;
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      }
      v57 = v56;
      v56 = sub_417B10(v56, &v58);
      if ( v58 )
      {
        for ( l = 0; l < v58; ++l )
        {
          v43 = 0;
          v44 = 0;
          v45 = 0;
          v56 = (char *)sub_42D5D0(v56, &v43);
          v56 = sub_417B10(v56, &v44);
          v56 = sub_417B10(v56, &v45);
          v25 = sub_462360(v32, &v43, &v44);
          sub_460FD0(
            (int *)(a1 + 1168),
            (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v42,
            v25);
          if ( !v42[4] )
            LOG_ERR("CPlayer::OnLoadPlayer() Duplicate Quest. (PID:%d, Quest:%d)", *(_DWORD *)(a1 + 444), v43);
        }
        sub_448C90(a2, a3, a4, a1, 64, "m", v57, v56 - v57);
      }
      if ( (dword_4B8C34 & 4) != 0 )
      {
        v56 = sub_417B10(v56, &v58);
        if ( v58 )
        {
          for ( m = 0; m < v58; ++m )
          {
            v31 = sub_401000(0x10u);
            if ( v31 )
              v28 = sub_44C630(v31);
            else
              v28 = 0;
            v40 = v28;
            v56 = sub_417B10(v56, (_BYTE *)v28 + 4);
            v56 = (char *)sub_417AF0(v56, v40 + 2);
            sub_459720((_DWORD *)a1, (int)v40);
          }
        }
      }
      v56 = sub_417B10(v56, &v58);
      if ( v58 )
      {
        for ( n = 0; n < v58; ++n )
        {
          v30 = sub_401000(0x30u);
          if ( v30 )
            v27 = (char *)sub_44C660(v30);
          else
            v27 = 0;
          v38 = v27;
          v56 = sub_417B10(v56, v27);
          v56 = GetString(v56, v38 + 8);
          v56 = (char *)sub_417AF0(v56, (_DWORD *)v38 + 1);
          v56 = (char *)sub_417AF0(v56, (_DWORD *)v38 + 10);
          v56 = sub_417B10(v56, v38 + 28);
          v56 = sub_417B10(v56, v38 + 32);
          sub_45AD20(a1, a2, a3, a4, v38);
        }
      }
      v56 = sub_417B10(v56, &v58);
      if ( v58 )
      {
        for ( ii = 0; ii < v58; ++ii )
        {
          v36 = 0;
          v35 = 0;
          v56 = sub_417B10(v56, &v36);
          v56 = (char *)sub_417AF0(v56, &v35);
          sub_40A680(a1, a2, a3, a4, v36, v35);
        }
      }
      if ( sub_45F2E0((_DWORD *)a1) )
        *(_DWORD *)(a1 + 300) |= 1u;
      v56 = (char *)sub_417AF0(v56, &v59);
      if ( v59 )
      {
        sub_412010(a1, a2, a3, a4);
        sub_410DB0(a2, a3, a4, v59, v56, 0);
        sub_411FF0(a1, a2, a3, a4);
        if ( sub_447240((_DWORD *)a1, 4) )
          goto LABEL_66;
      }
      if ( *(_DWORD *)(a1 + 472) )
      {
        sub_412010(a1, a2, a3, a4);
        sub_411340(a2, a3, a4, a1);
        sub_411FF0(a1, a2, a3, a4);
        if ( sub_447240((_DWORD *)a1, 4) )
          goto LABEL_66;
      }
      if ( sub_416590()
        && (sub_412010(a1, a2, a3, a4),
            v26 = sub_45DE70(a1, a2, a3, a4),
            CGuild::LoginCastle(a2, a3, a4, (_DWORD *)a1, v26),
            sub_411FF0(a1, a2, a3, a4),
            sub_447240((_DWORD *)a1, 4))
        || (sub_484FE0((volatile signed __int32 *)(a1 + 20), 1u), !sub_44C6D0(a1, a2, a3, a4)) )
      {
LABEL_66:
        sub_412010(a1, a2, a3, a4);
        result = 0;
      }
      else
      {
        sub_412010(a1, a2, a3, a4);
        result = 1;
      }
    }
  }
  return result;
}
// 4B8C34: using guessed type int dword_4B8C34;

//----- (0044C630) --------------------------------------------------------
_DWORD *__thiscall sub_44C630(_DWORD *this)
{
  this[1] = 0;
  *this = 0;
  this[3] = 0;
  return this;
}

//----- (0044C660) --------------------------------------------------------
_DWORD *__thiscall sub_44C660(_DWORD *this)
{
  this[10] = 0;
  this[9] = 0;
  this[8] = 0;
  this[7] = 0;
  this[1] = 0;
  *this = 0;
  memset(this + 2, 0, 0x11u);
  this[11] = 0;
  return this;
}

//----- (0044C6D0) --------------------------------------------------------
int __usercall sub_44C6D0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int *v5; // eax
  int v6; // eax
  _DWORD *v7; // eax
  int v8; // eax
  unsigned __int16 v9; // ax
  int v10; // eax
  int v12; // [esp-68h] [ebp-88h]
  int v13; // [esp-64h] [ebp-84h]
  int v14; // [esp-60h] [ebp-80h]
  int v15; // [esp-5Ch] [ebp-7Ch]
  int v16; // [esp-58h] [ebp-78h]
  int v17; // [esp-54h] [ebp-74h]
  int v18; // [esp-50h] [ebp-70h]
  int v19; // [esp-4Ch] [ebp-6Ch]
  int v20; // [esp-8h] [ebp-28h]
  int v21; // [esp-4h] [ebp-24h]
  int v23; // [esp+4h] [ebp-1Ch] BYREF
  char v24[4]; // [esp+8h] [ebp-18h] BYREF
  volatile int *v25; // [esp+Ch] [ebp-14h]
  int v26; // [esp+10h] [ebp-10h] BYREF
  char *v27; // [esp+14h] [ebp-Ch]
  unsigned __int16 *v28; // [esp+18h] [ebp-8h] BYREF
  void *Src; // [esp+1Ch] [ebp-4h]

  *(_DWORD *)(a1 + 312) = sub_47FED0(*(_DWORD *)(a1 + 308));
  if ( !*(_DWORD *)(a1 + 312) )
  {
    LOG_ERR("CPlayer::_Create() Invalid Map or Tile. (map:%d)", *(_DWORD *)(a1 + 308));
LABEL_10:
    sub_484FF0((volatile signed __int32 *)(a1 + 20), 1u);
    return 0;
  }
  if ( !sub_4481B0(a1, a2, a3, a4) )
    goto LABEL_10;
  Src = CIOBuffer::Alloc();
  v27 = (char *)Src;
  *((_BYTE *)Src + 2) = 40;
  v28 = (unsigned __int16 *)(v27 + 4);
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 980),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v26);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v24);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v26,
            v4) )
      break;
    v5 = sub_46FA50(&v26, &v23, 0);
    v25 = *(volatile int **)(sub_43E1A0(v5) + 4);
    sub_4010D0(v25, a2, a3, a4);
    (*(void (__thiscall **)(volatile int *, int))(*v25 + 84))(v25, a1);
    if ( !sub_40A640(v25) )
      (*(void (__thiscall **)(volatile int *, unsigned __int16 **, _DWORD))(*v25 + 72))(v25, &v28, 0);
    sub_401C50(v25, a2, a3, a4);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  v6 = unknown_libname_24(a1 + 980);
  WritePacket(a2, a3, a4, v27 + 3, "b", v6);
  *(_WORD *)v27 = (_WORD)v28 - (_WORD)v27;
  *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v27;
  sub_483370(*(_DWORD *)(a1 + 1404), a2, a3, a4, Src);
  sub_436490((_DWORD *)a1, 4);
  sub_436490((_DWORD *)a1, 3);
  sub_436490((_DWORD *)a1, 2);
  sub_436490((_DWORD *)a1, 1);
  sub_436490((_DWORD *)a1, 0);
  CChar::GetMaxMagic((_DWORD *)a1);
  CChar::GetMinMagic((_DWORD *)a1);
  CChar::GetMaxAttack((_DWORD *)a1);
  CChar::GetMinAttack((_DWORD *)a1);
  CChar::GetAbsorb((_DWORD *)a1);
  CChar::GetDefense((_DWORD *)a1, 0);
  CChar::GetDodge((_DWORD *)a1);
  v7 = (_DWORD *)CChar::GetHit((_DWORD *)a1);
  v19 = CChar::GetMaxMP(v7);
  v18 = *(_DWORD *)(a1 + 276);
  v17 = CChar::GetMaxHP((_DWORD *)a1);
  v16 = *(_DWORD *)(a1 + 272);
  v15 = Char::GetDex((_DWORD *)a1);
  v14 = CChar::GetWis((_DWORD *)a1);
  v13 = CChar::GetInt((_DWORD *)a1);
  v12 = CChar::GetHth((_DWORD *)a1);
  v8 = CChar::GetStr((_DWORD *)a1);
  sub_448C90(
    a2,
    a3,
    a4,
    a1,
    35,
    "bsbwbbbbbwwwwwwwbIwwwwwwbbbbbd",
    *(_DWORD *)(a1 + 456),
    &::Src,
    *(_DWORD *)(a1 + 528),
    *(_DWORD *)(a1 + 460),
    v8,
    v12,
    v13,
    v14,
    v15,
    v16,
    v17,
    v18,
    v19);
  sub_484FE0((volatile signed __int32 *)(a1 + 20), 2u);
  v21 = *(_DWORD *)(a1 + 328);
  v20 = *(_DWORD *)(a1 + 324);
  v9 = sub_409A80();
  sub_448C90(a2, a3, a4, a1, 4, "wdd", v9, v20, v21);
  v10 = sub_482A80((int)&unk_4B9C40 + 60 * *(_DWORD *)(a1 + 308), a2, a3, a4);
  sub_448C90(a2, a3, a4, a1, 92, "bb", v10, 0);
  return 1;
}

//----- (0044CA10) --------------------------------------------------------
int __thiscall CChar::GetMinMagic(_DWORD *this)
{
  return this[34] + this[58] * this[34] / 100;
}

//----- (0044CA40) --------------------------------------------------------
int __thiscall CChar::GetMaxMagic(_DWORD *this)
{
  return this[35] + this[59] * this[35] / 100;
}

//----- (0044CA70) --------------------------------------------------------
void __usercall sub_44CA70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int *v4; // eax
  int *v5; // eax
  int v6; // eax
  __time32_t v7; // eax
  _DWORD *v8; // eax
  int *v9; // [esp-10h] [ebp-18h]
  int *v10; // [esp-10h] [ebp-18h]
  int v11; // [esp-Ch] [ebp-14h]
  int v12; // [esp-Ch] [ebp-14h]
  int v13; // [esp-8h] [ebp-10h]
  int v14; // [esp-8h] [ebp-10h]
  int v15; // [esp-4h] [ebp-Ch]
  int v16; // [esp-4h] [ebp-Ch]
  CMemory **v18; // [esp+4h] [ebp-4h]

  sub_411FF0(a1, a2, a3, a4);
  sub_4801B0(*(_DWORD **)(a1 + 312), a2, a3, a4, a1, (int *)(a1 + 316));
  v15 = *(_DWORD *)(a1 + 504);
  v13 = *(_DWORD *)(a1 + 1024);
  v11 = *(_DWORD *)(a1 + 472);
  v9 = sub_45DFB0((int *)a1);
  v4 = sub_45E050((int *)a1);
  sub_448C90(
    a2,
    a3,
    a4,
    a1,
    19,
    "dsbdddwdmbbIssdbd",
    *(_DWORD *)(a1 + 28),
    a1 + 32,
    *(_DWORD *)(a1 + 452) + 128,
    *(_DWORD *)(a1 + 324),
    *(_DWORD *)(a1 + 328),
    *(_DWORD *)(a1 + 332),
    *(_DWORD *)(a1 + 340),
    *(_DWORD *)(a1 + 280),
    a1 + 964,
    14,
    *(_DWORD *)(a1 + 548),
    *(_DWORD *)(a1 + 552),
    *(_DWORD *)(a1 + 288),
    *(_DWORD *)(a1 + 292),
    v4,
    v9,
    v11,
    v13,
    v15);
  v16 = *(_DWORD *)(a1 + 504);
  v14 = *(_DWORD *)(a1 + 1024);
  v12 = *(_DWORD *)(a1 + 472);
  v10 = sub_45DFB0((int *)a1);
  v5 = sub_45E050((int *)a1);
  v18 = sub_445C90(
          a2,
          a3,
          a4,
          19,
          "dsbdddwdmbbIssdbd",
          *(_DWORD *)(a1 + 28),
          a1 + 32,
          *(_DWORD *)(a1 + 452),
          *(_DWORD *)(a1 + 324),
          *(_DWORD *)(a1 + 328),
          *(_DWORD *)(a1 + 332),
          *(_DWORD *)(a1 + 340),
          *(_DWORD *)(a1 + 280),
          a1 + 964,
          14,
          *(_DWORD *)(a1 + 548),
          *(_DWORD *)(a1 + 552),
          *(_DWORD *)(a1 + 288),
          *(_DWORD *)(a1 + 292),
          v5,
          v10,
          v12,
          v14,
          v16);
  sub_482140(*(char **)(a1 + 312), a2, a3, a4, a1, (_DWORD *)(a1 + 316), (int)v18);
  CIOBuffer::Release((CIOBuffer *)v18);
  sub_484FE0((volatile signed __int32 *)(a1 + 20), 3u);
  v6 = sub_45F2E0((_DWORD *)a1);
  sub_448C90(a2, a3, a4, a1, 5, "b", v6 != 0);
  sub_412010(a1, a2, a3, a4);
  if ( !sub_40A660((_DWORD *)a1, 2) )
  {
    CChar::AddGState((volatile LONG *)a1, 0x2000);
    *(_DWORD *)(a1 + 1332) = GetTickCount() + 10000;
  }
  if ( (dword_4B8C34 & 0x40) != 0 && dword_4B95BC > time(0) )
  {
    v7 = time(0);
    v8 = sub_4024B0(dword_4B95C0, dword_4B95BC - v7, 0, a1);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a1 + 180))(a1, v8);
  }
  CDBSocket::Write(a2, a3, a4, 70, "dd", *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 444));
  if ( (dword_4B8C30[0] & 0x40) != 0 )
    CDBSocket::Write(a2, a3, a4, 29, "db", *(_DWORD *)(a1 + 444), 3);
  if ( (*(_WORD *)dword_4B8C30 & 0x400) != 0 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, a3, a4);
    sub_461670((int *)(a1 + 1312));
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, a3, a4);
    CDBSocket::Write(a2, a3, a4, 30, "dbd", *(_DWORD *)(a1 + 444), 2, *(_DWORD *)(a1 + 444));
  }
}
// 44CCF2: variable 'a1' is possibly undefined
// 4B8C34: using guessed type int dword_4B8C34;
// 4B95BC: using guessed type int dword_4B95BC;
// 4B95C0: using guessed type int dword_4B95C0;

//----- (0044CDB0) --------------------------------------------------------
void __usercall sub_44CDB0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v5; // [esp-4h] [ebp-8h]

  CBase::Delete((volatile signed __int32 *)a1);
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(*(_DWORD *)(a1 + 1404));
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 1404) + 120) != a1 )
    EBREAK(a2, a3, a4);
  *(_DWORD *)(*(_DWORD *)(a1 + 1404) + 120) = 0;
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(*(_DWORD *)(a1 + 1404));
  sub_484FF0((volatile signed __int32 *)(*(_DWORD *)(a1 + 1404) + 108), 4u);
  sub_484FF0((volatile signed __int32 *)(*(_DWORD *)(a1 + 1404) + 108), 3u);
  v5 = *(_DWORD *)(*(_DWORD *)(a1 + 1404) + 148);
  v4 = Concurrency::details::SchedulingRing::Id(*(Concurrency::details::SchedulingRing **)(a1 + 1404));
  CDBSocket::Write(a2, a3, a4, 33, "dd", v4, v5);
  CIOObject::Release((CIOObject *)a1, a2, a3, a4, (volatile int *)(a1 + 432));
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (0044CEA0) --------------------------------------------------------
void __userpurge sub_44CEA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+4h] [ebp-4h]

  *(_DWORD *)(a1 + 1324) = 0;
  CDBSocket::Write(
    a2,
    a3,
    a4,
    2,
    "dbbwIbbbbbbwwwwbbddddb",
    *(_DWORD *)(a1 + 444),
    *(_DWORD *)(a1 + 60),
    *(_DWORD *)(a1 + 456),
    *(_DWORD *)(a1 + 460),
    *(_DWORD *)(a1 + 464),
    *(_DWORD *)(a1 + 468),
    *(_DWORD *)(a1 + 528),
    *(_DWORD *)(a1 + 64),
    *(_DWORD *)(a1 + 68),
    *(_DWORD *)(a1 + 72),
    *(_DWORD *)(a1 + 76),
    *(_DWORD *)(a1 + 80),
    *(_DWORD *)(a1 + 272),
    *(_DWORD *)(a1 + 276),
    *(_DWORD *)(a1 + 536),
    *(_DWORD *)(a1 + 540),
    *(_DWORD *)(a1 + 544),
    *(_DWORD *)(a1 + 308),
    *(_DWORD *)(a1 + 324),
    *(_DWORD *)(a1 + 328),
    *(_DWORD *)(a1 + 332),
    *(_DWORD *)(a1 + 572),
    a5);
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  if ( !a5 && *(_DWORD *)(a1 + 1020) )
    CItemTransform::SaveInfo(*(_DWORD **)(a1 + 1020), a2, a3, a4, 0);
  v6 = *(_DWORD *)(a1 + 1228);
  *(_DWORD *)(a1 + 1228) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  if ( v6 )
    sub_45B580(a1, a2, a3, a4, v6);
}

//----- (0044D000) --------------------------------------------------------
void __usercall sub_44D000(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5, int a6, __int64 a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  _DWORD *v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // ecx
  int v19; // ecx
  int v20; // eax
  int v21; // ecx
  int v22; // edx
  int v23; // [esp-10h] [ebp-A8h]
  int v24; // [esp-Ch] [ebp-A4h]
  int v25; // [esp-Ch] [ebp-A4h]
  int v26; // [esp-8h] [ebp-A0h]
  int v27; // [esp-8h] [ebp-A0h]
  int v28; // [esp-8h] [ebp-A0h]
  int v29; // [esp-4h] [ebp-9Ch]
  int v30; // [esp-4h] [ebp-9Ch]
  int v31; // [esp-4h] [ebp-9Ch]
  int v32; // [esp-4h] [ebp-9Ch]
  int v33; // [esp-4h] [ebp-9Ch]
  _DWORD *v34; // [esp+0h] [ebp-98h]
  _DWORD *v35; // [esp+0h] [ebp-98h]
  int v36; // [esp+0h] [ebp-98h]
  int v37; // [esp+4h] [ebp-94h]
  int v38; // [esp+14h] [ebp-84h]
  int v39; // [esp+18h] [ebp-80h]
  int v40; // [esp+1Ch] [ebp-7Ch]
  int v41; // [esp+20h] [ebp-78h]
  volatile int *v42; // [esp+30h] [ebp-68h]
  volatile int *v43; // [esp+38h] [ebp-60h]
  __int64 v44; // [esp+40h] [ebp-58h]
  int v45; // [esp+5Ch] [ebp-3Ch]
  int v46; // [esp+64h] [ebp-34h]
  int v47; // [esp+68h] [ebp-30h]
  int v48; // [esp+70h] [ebp-28h]
  int v49; // [esp+7Ch] [ebp-1Ch]
  int v50; // [esp+80h] [ebp-18h]
  int v51; // [esp+84h] [ebp-14h]
  int v52; // [esp+8Ch] [ebp-Ch]

  switch ( a5 )
  {
    case 0:
      if ( a6 )
      {
        v7 = CChar::GetStr((_DWORD *)a4);
        *(_DWORD *)(a4 + 120) -= 15 * v7 / 54;
        *(_DWORD *)(a4 + 128) -= (11 * v7 - 80) / 30;
        *(_DWORD *)(a4 + 132) -= (8 * v7 - 25) / 15;
        *(_DWORD *)(a4 + 64) += a7;
        v52 = CChar::GetStr((_DWORD *)a4);
        *(_DWORD *)(a4 + 120) += 15 * v52 / 54;
        *(_DWORD *)(a4 + 128) += (11 * v52 - 80) / 30;
        *(_DWORD *)(a4 + 132) += (8 * v52 - 25) / 15;
        v29 = CChar::GetMaxAttack((_DWORD *)a4);
        v26 = CChar::GetMinAttack((_DWORD *)a4);
        v8 = CChar::GetHit((_DWORD *)a4);
        sub_448C90(a1, a2, a3, a4, 38, "bbwww", 0, v52, v8, v26, v29);
      }
      break;
    case 1:
      if ( a6 )
      {
        v49 = dword_4AE970[*(_DWORD *)(a4 + 452)];
        v9 = CChar::GetHth((_DWORD *)a4);
        *(_DWORD *)(a4 + 84) -= 2 * v9 * v9 / v49;
        *(_DWORD *)(a4 + 176) -= v9 / 9;
        v51 = *(_DWORD *)(a4 + 68);
        *(_DWORD *)(a4 + 68) = a7 + v51;
        v50 = CChar::GetHth((_DWORD *)a4);
        *(_DWORD *)(a4 + 84) += 2 * v50 * v50 / v49;
        *(_DWORD *)(a4 + 176) += v50 / 9;
        sub_470B30((_DWORD *)(a4 + 616), 30, 2 * v51 * v51 / v49, 2 * *(_DWORD *)(a4 + 68) * *(_DWORD *)(a4 + 68) / v49);
        v30 = sub_436490((_DWORD *)a4, 4);
        v10 = CChar::GetMaxHP((_DWORD *)a4);
        sub_448C90(a1, a2, a3, a4, 38, "bbwww", 1, v50, *(_DWORD *)(a4 + 272), v10, v30);
        sub_454360((_DWORD *)a4, a1, a2, a3, 7);
      }
      break;
    case 2:
      if ( a6 )
      {
        v11 = CChar::GetInt((_DWORD *)a4);
        *(_DWORD *)(a4 + 136) -= (7 * v11 - 20) / 12;
        *(_DWORD *)(a4 + 140) -= 7 * v11 / 12;
        *(_DWORD *)(a4 + 160) -= v11 / 9;
        *(_DWORD *)(a4 + 164) -= v11 / 9;
        *(_DWORD *)(a4 + 168) -= v11 / 9;
        *(_DWORD *)(a4 + 72) += a7;
        v48 = CChar::GetInt((_DWORD *)a4);
        *(_DWORD *)(a4 + 136) += (7 * v48 - 20) / 12;
        *(_DWORD *)(a4 + 140) += 7 * v48 / 12;
        *(_DWORD *)(a4 + 160) += v48 / 9;
        *(_DWORD *)(a4 + 164) += v48 / 9;
        *(_DWORD *)(a4 + 168) += v48 / 9;
        v31 = sub_436490((_DWORD *)a4, 2);
        v27 = sub_436490((_DWORD *)a4, 1);
        v24 = sub_436490((_DWORD *)a4, 0);
        v23 = CChar::GetMaxMagic((_DWORD *)a4);
        v12 = CChar::GetMinMagic((_DWORD *)a4);
        sub_448C90(a1, a2, a3, a4, 38, "bbwwwww", 2, v48, v12, v23, v24, v27, v31);
      }
      break;
    case 3:
      if ( a6 )
      {
        v46 = dword_4AE97C[*(_DWORD *)(a4 + 452)];
        v13 = CChar::GetWis((_DWORD *)a4);
        *(_DWORD *)(a4 + 88) -= v13 + 2 * v13 * v13 / v46;
        *(_DWORD *)(a4 + 136) -= v13 / 7;
        *(_DWORD *)(a4 + 140) -= 14 * v13 / 45;
        *(_DWORD *)(a4 + 172) -= v13 / 9;
        *(_DWORD *)(a4 + 76) += a7;
        v47 = CChar::GetWis((_DWORD *)a4);
        *(_DWORD *)(a4 + 88) += v47 + 2 * v47 * v47 / v46;
        *(_DWORD *)(a4 + 136) += v47 / 7;
        *(_DWORD *)(a4 + 140) += 14 * v47 / 45;
        *(_DWORD *)(a4 + 172) += v47 / 9;
        v14 = (_DWORD *)sub_436490((_DWORD *)a4, 3);
        v15 = CChar::GetMaxMP(v14);
        sub_448C90(a1, a2, a3, a4, 38, "bbwww", 3, v47, *(_DWORD *)(a4 + 276), v15);
      }
      break;
    case 4:
      if ( a6 )
      {
        v16 = Char::GetDex((_DWORD *)a4);
        *(_DWORD *)(a4 + 120) -= v16 / 8;
        *(_DWORD *)(a4 + 124) -= v16 / 3;
        *(_DWORD *)(a4 + 128) -= (v16 - 5) / 11;
        *(_DWORD *)(a4 + 132) -= 18 * v16 / 77;
        *(_DWORD *)(a4 + 80) += a7;
        v45 = Char::GetDex((_DWORD *)a4);
        *(_DWORD *)(a4 + 120) += v45 / 8;
        *(_DWORD *)(a4 + 124) += v45 / 3;
        *(_DWORD *)(a4 + 128) += (v45 - 5) / 11;
        *(_DWORD *)(a4 + 132) += 18 * v45 / 77;
        v32 = CChar::GetMaxAttack((_DWORD *)a4);
        v28 = CChar::GetMinAttack((_DWORD *)a4);
        v25 = CChar::GetDodge((_DWORD *)a4);
        v17 = CChar::GetHit((_DWORD *)a4);
        sub_448C90(a1, a2, a3, a4, 38, "bbwwww", 4, v45, v17, v25, v28, v32);
      }
      break;
    case 7:
      if ( a6 )
      {
        *(_DWORD *)(a4 + 272) += a7;
        if ( CChar::GetMaxHP((_DWORD *)a4) >= *(_DWORD *)(a4 + 272) )
          v41 = *(_DWORD *)(a4 + 272);
        else
          v41 = CChar::GetMaxHP((_DWORD *)a4);
        *(_DWORD *)(a4 + 272) = v41;
      }
      else
      {
        *(_DWORD *)(a4 + 272) -= a7;
        if ( *(int *)(a4 + 272) >= 0 )
          v40 = *(_DWORD *)(a4 + 272);
        else
          v40 = 0;
        *(_DWORD *)(a4 + 272) = v40;
      }
      sub_448C90(a1, a2, a3, a4, 38, "bw", 7, *(_DWORD *)(a4 + 272));
      sub_454360((_DWORD *)a4, a1, a2, a3, 7);
      break;
    case 8:
      if ( a6 )
      {
        *(_DWORD *)(a4 + 276) += a7;
        if ( CChar::GetMaxMP(v34) >= *(_DWORD *)(a4 + 276) )
          v39 = *(_DWORD *)(a4 + 276);
        else
          v39 = CChar::GetMaxMP(v35);
        *(_DWORD *)(a4 + 276) = v39;
      }
      else
      {
        *(_DWORD *)(a4 + 276) -= a7;
        if ( *(int *)(a4 + 276) >= 0 )
          v38 = *(_DWORD *)(a4 + 276);
        else
          v38 = 0;
        *(_DWORD *)(a4 + 276) = v38;
      }
      sub_448C90(a1, a2, a3, a4, 38, "bw", 8, *(_DWORD *)(a4 + 276));
      break;
    case 23:
      if ( a6 )
        v18 = a7 + *(_DWORD *)(a4 + 536);
      else
        v18 = *(_DWORD *)(a4 + 536) - a7;
      *(_DWORD *)(a4 + 536) = v18;
      sub_448C90(a1, a2, a3, a4, 38, "bw", 23, *(_DWORD *)(a4 + 536));
      break;
    case 24:
      if ( a6 )
        v19 = a7 + *(_DWORD *)(a4 + 540);
      else
        v19 = *(_DWORD *)(a4 + 540) - a7;
      *(_DWORD *)(a4 + 540) = v19;
      sub_448C90(a1, a2, a3, a4, 38, "bw", 24, *(_DWORD *)(a4 + 540));
      break;
    case 25:
      v44 = a7;
      if ( a6 )
      {
        if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
          v44 = 2 * a7;
        *(_QWORD *)(a4 + 464) += v44;
        while ( *(_QWORD *)(a4 + 464) >= __SPAIR64__(
                                           dword_4AE654[2 * *(_DWORD *)(a4 + 60)],
                                           dword_4AE650[2 * *(_DWORD *)(a4 + 60)]) )
        {
          *(_QWORD *)(a4 + 464) -= __PAIR64__(
                                     dword_4AE654[2 * *(_DWORD *)(a4 + 60)],
                                     dword_4AE650[2 * *(_DWORD *)(a4 + 60)]);
          sub_4511D0((int *)a4, a1, a2, a3);
        }
        sub_448C90(a1, a2, a3, a4, 38, &off_49D440, 25, *(_DWORD *)(a4 + 464), *(_DWORD *)(a4 + 468), v44);
      }
      else
      {
        if ( *(_QWORD *)(a4 + 464) >= a7 )
        {
          *(_QWORD *)(a4 + 464) -= a7;
        }
        else
        {
          v44 = *(_QWORD *)(a4 + 464);
          *(_QWORD *)(a4 + 464) = 0i64;
        }
        sub_448C90(a1, a2, a3, a4, 38, &off_49D440, 25, *(_DWORD *)(a4 + 464), *(_DWORD *)(a4 + 468), -v44);
      }
      break;
    case 26:
      if ( a6 )
      {
        *(_DWORD *)(a4 + 84) -= 52 * *(_DWORD *)(a4 + 60) / 3;
        *(_DWORD *)(a4 + 88) -= 8 * *(_DWORD *)(a4 + 60) + 140;
        *(_DWORD *)(a4 + 128) -= 7 * *(_DWORD *)(a4 + 60) / 10;
        *(_DWORD *)(a4 + 132) -= *(_DWORD *)(a4 + 60);
        *(_DWORD *)(a4 + 60) += a7;
        *(_DWORD *)(a4 + 84) += 52 * *(_DWORD *)(a4 + 60) / 3;
        *(_DWORD *)(a4 + 88) += 8 * *(_DWORD *)(a4 + 60) + 140;
        *(_DWORD *)(a4 + 128) += 7 * *(_DWORD *)(a4 + 60) / 10;
        *(_DWORD *)(a4 + 132) += *(_DWORD *)(a4 + 60);
        *(_DWORD *)(a4 + 272) = CChar::GetMaxHP((_DWORD *)a4);
        *(_DWORD *)(a4 + 276) = CChar::GetMaxMP(v34);
        sub_448C90(a1, a2, a3, a4, 38, "bb", 26, *(_DWORD *)(a4 + 60));
        sub_448C90(a1, a2, a3, a4, 38, "bww", 5, *(_DWORD *)(a4 + 272), *(_DWORD *)(a4 + 272));
        sub_448C90(a1, a2, a3, a4, 38, "bww", 6, *(_DWORD *)(a4 + 276), *(_DWORD *)(a4 + 276));
        v33 = CChar::GetMaxAttack((_DWORD *)a4);
        v20 = CChar::GetMinAttack((_DWORD *)a4);
        sub_448C90(a1, a2, a3, a4, 38, "bww", 27, v20, v33);
        sub_40ACD0(a1, a2, a3, a4, 50, "db", *(_DWORD *)(a4 + 28), 3);
        sub_454360((_DWORD *)a4, a1, a2, a3, 7);
        sub_454360((_DWORD *)a4, a1, a2, a3, 26);
        v43 = sub_45DDB0(a4, a1, a2, a3);
        if ( v43 )
        {
          sub_414CA0((int)v43, a1, a2, a3, a4 + 32, *(_DWORD *)(a4 + 60));
          CIOObject::Release((CIOObject *)v43, a1, a2, a3, v43 + 10);
        }
      }
      break;
    case 30:
      if ( a6 )
        v21 = a7 + *(_DWORD *)(a4 + 460);
      else
        v21 = *(_DWORD *)(a4 + 460) - a7;
      *(_DWORD *)(a4 + 460) = v21;
      sub_448C90(a1, a2, a3, a4, 38, "bw", 30, *(_DWORD *)(a4 + 460));
      v42 = sub_45DDB0(a4, a1, a2, a3);
      if ( v42 )
      {
        sub_415B10((int *)v42, a1, a2, a3, a4, a7, a6);
        CIOObject::Release((CIOObject *)v42, a1, a2, a3, v42 + 10);
      }
      break;
    case 35:
      if ( a6 )
      {
        *(_DWORD *)(a4 + 572) += a7;
        if ( *(_DWORD *)(a4 + 572) >= dword_4AE60C[0] )
          v37 = dword_4AE60C[0];
        else
          v37 = *(_DWORD *)(a4 + 572);
        *(_DWORD *)(a4 + 572) = v37;
      }
      else
      {
        *(_DWORD *)(a4 + 572) -= a7;
        if ( *(int *)(a4 + 572) <= 0 )
          v36 = 0;
        else
          v36 = *(_DWORD *)(a4 + 572);
        *(_DWORD *)(a4 + 572) = v36;
      }
      sub_448C90(a1, a2, a3, a4, 38, "bd", 35, *(_DWORD *)(a4 + 572));
      break;
    case 38:
      if ( a6 )
        v22 = a7 + *(_DWORD *)(a4 + 304);
      else
        v22 = *(_DWORD *)(a4 + 304) - a7;
      *(_DWORD *)(a4 + 304) = v22;
      break;
    default:
      return;
  }
}
// 44D882: variable 'v34' is possibly undefined
// 44D895: variable 'v35' is possibly undefined
// 49D440: using guessed type void *off_49D440;
// 4AE650: using guessed type int dword_4AE650[];

//----- (0044E040) --------------------------------------------------------
void __usercall sub_44E040(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7, int a8)
{
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // ecx
  int v16; // eax
  int v17; // edx
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // ecx
  int v22; // eax
  int v23; // edx
  int v24; // eax
  int v25; // eax
  int v26; // eax
  int v27; // ecx
  int v28; // eax
  int v29; // edx
  int v30; // eax
  int v31; // eax
  int v32; // eax
  int v33; // ecx
  int v34; // eax
  int v35; // edx
  int v36; // eax
  int v37; // eax
  int v38; // eax
  int v39; // ecx
  int v40; // eax
  int v41; // edx
  int v42; // eax
  int v43; // eax
  int v44; // eax
  int v45; // ecx
  int v46; // eax
  int v47; // edx
  int v48; // edx
  int v49; // [esp-10h] [ebp-D0h]
  int v50; // [esp-10h] [ebp-D0h]
  int v51; // [esp-Ch] [ebp-CCh]
  int v52; // [esp-Ch] [ebp-CCh]
  int v53; // [esp-Ch] [ebp-CCh]
  int v54; // [esp-8h] [ebp-C8h]
  int v55; // [esp-8h] [ebp-C8h]
  int v56; // [esp-8h] [ebp-C8h]
  int v57; // [esp-8h] [ebp-C8h]
  int v58; // [esp-4h] [ebp-C4h]
  int v59; // [esp-4h] [ebp-C4h]
  int v60; // [esp-4h] [ebp-C4h]
  int v61; // [esp-4h] [ebp-C4h]
  int v62; // [esp-4h] [ebp-C4h]
  int v63; // [esp-4h] [ebp-C4h]
  _DWORD *v64; // [esp+0h] [ebp-C0h]
  int v65; // [esp+0h] [ebp-C0h]
  int v66; // [esp+4h] [ebp-BCh]
  int v67; // [esp+8h] [ebp-B8h]
  int v68; // [esp+Ch] [ebp-B4h]
  int v69; // [esp+10h] [ebp-B0h]
  int v70; // [esp+14h] [ebp-ACh]
  int v71; // [esp+74h] [ebp-4Ch]
  int v72; // [esp+74h] [ebp-4Ch]
  int v73; // [esp+7Ch] [ebp-44h]
  int v74; // [esp+7Ch] [ebp-44h]
  int v75; // [esp+84h] [ebp-3Ch]
  int v76; // [esp+84h] [ebp-3Ch]
  int v77; // [esp+8Ch] [ebp-34h]
  int v78; // [esp+90h] [ebp-30h]
  int v79; // [esp+98h] [ebp-28h]
  int v80; // [esp+98h] [ebp-28h]
  int v81; // [esp+9Ch] [ebp-24h]
  int v82; // [esp+9Ch] [ebp-24h]
  int v83; // [esp+A4h] [ebp-1Ch]
  int v84; // [esp+A8h] [ebp-18h]
  int v85; // [esp+ACh] [ebp-14h]
  int v86; // [esp+ACh] [ebp-14h]
  int v87; // [esp+B4h] [ebp-Ch]
  int v88; // [esp+B4h] [ebp-Ch]

  switch ( a5 )
  {
    case 0:
      v87 = CChar::GetStr(a4);
      a4[30] -= 15 * v87 / 54;
      a4[32] -= (11 * v87 - 80) / 30;
      a4[33] -= (8 * v87 - 25) / 15;
      if ( a6 )
        a4[23] += a7;
      else
        a4[23] -= a7;
      v88 = CChar::GetStr(a4);
      a4[30] += 15 * v88 / 54;
      a4[32] += (11 * v88 - 80) / 30;
      a4[33] += (8 * v88 - 25) / 15;
      v58 = CChar::GetMaxAttack(a4);
      v54 = CChar::GetMinAttack(a4);
      v8 = CChar::GetHit(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwww", 0, v88, v8, v54, v58);
      break;
    case 1:
      v85 = CChar::GetHth(a4);
      v84 = dword_4AE970[a4[113]];
      if ( a6 )
      {
        a4[21] -= 2 * v85 * v85 / v84;
        a4[44] -= v85 / 9;
        a4[24] += a7;
        v86 = CChar::GetHth(a4);
        a4[21] += 2 * v86 * v86 / v84;
        a4[44] += v86 / 9;
        v83 = CChar::GetMaxHP(a4);
        if ( a7 < 0 )
        {
          if ( a4[68] >= v83 )
            v70 = v83;
          else
            v70 = a4[68];
          a4[68] = v70;
        }
      }
      else
      {
        a4[21] -= 2 * v85 * v85 / v84;
        a4[44] -= v85 / 9;
        a4[24] -= a7;
        v86 = CChar::GetHth(a4);
        a4[21] += 2 * v86 * v86 / v84;
        a4[44] += v86 / 9;
        v83 = CChar::GetMaxHP(a4);
        if ( a7 > 0 )
        {
          if ( a4[68] >= v83 )
            v69 = v83;
          else
            v69 = a4[68];
          a4[68] = v69;
        }
      }
      v9 = sub_436490(a4, 4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwww", 1, v86, a4[68], v83, v9);
      sub_454360(a4, a1, a2, a3, 7);
      break;
    case 2:
      v81 = CChar::GetInt(a4);
      a4[34] -= (7 * v81 - 20) / 12;
      a4[35] -= 7 * v81 / 12;
      a4[40] -= v81 / 9;
      a4[41] -= v81 / 9;
      a4[42] -= v81 / 9;
      if ( a6 )
        a4[25] += a7;
      else
        a4[25] -= a7;
      v82 = CChar::GetInt(a4);
      a4[34] += (7 * v82 - 20) / 12;
      a4[35] += 7 * v82 / 12;
      a4[40] += v82 / 9;
      a4[41] += v82 / 9;
      a4[42] += v82 / 9;
      v59 = sub_436490(a4, 2);
      v55 = sub_436490(a4, 1);
      v51 = sub_436490(a4, 0);
      v49 = CChar::GetMaxMagic(a4);
      v10 = CChar::GetMinMagic(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwwwww", 2, v82, v10, v49, v51, v55, v59);
      break;
    case 3:
      v79 = CChar::GetWis(a4);
      v77 = dword_4AE97C[a4[113]];
      if ( a6 )
      {
        a4[22] -= v79 + 2 * v79 * v79 / v77;
        a4[34] -= v79 / 7;
        a4[35] -= 14 * v79 / 45;
        a4[43] -= v79 / 9;
        a4[26] += a7;
        v80 = CChar::GetWis(a4);
        a4[22] += v80 + 2 * v80 * v80 / v77;
        a4[34] += v80 / 7;
        a4[35] += 14 * v80 / 45;
        a4[43] += v80 / 9;
        v78 = CChar::GetMaxMP(v64);
        if ( a7 < 0 )
        {
          if ( a4[69] >= v78 )
            v68 = v78;
          else
            v68 = a4[69];
          a4[69] = v68;
        }
      }
      else
      {
        a4[22] -= v79 + 2 * v79 * v79 / v77;
        a4[34] -= v79 / 7;
        a4[35] -= 14 * v79 / 45;
        a4[43] -= v79 / 9;
        a4[26] -= a7;
        v80 = CChar::GetWis(a4);
        a4[22] += v80 + 2 * v80 * v80 / v77;
        a4[34] += v80 / 7;
        a4[35] += 14 * v80 / 45;
        a4[43] += v80 / 9;
        v78 = CChar::GetMaxMP(v64);
        if ( a7 > 0 )
        {
          if ( a4[69] >= v78 )
            v67 = v78;
          else
            v67 = a4[69];
          a4[69] = v67;
        }
      }
      v11 = sub_436490(a4, 3);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwww", 3, v80, a4[69], v78, v11);
      break;
    case 4:
      v75 = Char::GetDex(a4);
      a4[30] -= v75 / 8;
      a4[31] -= v75 / 3;
      a4[32] -= (v75 - 5) / 11;
      a4[33] -= 18 * v75 / 77;
      if ( a6 )
        a4[27] += a7;
      else
        a4[27] -= a7;
      v76 = Char::GetDex(a4);
      a4[30] += v76 / 8;
      a4[31] += v76 / 3;
      a4[32] += (v76 - 5) / 11;
      a4[33] += 18 * v76 / 77;
      v60 = CChar::GetMaxAttack(a4);
      v56 = CChar::GetMinAttack(a4);
      v52 = CChar::GetDodge(a4);
      v12 = CChar::GetHit(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwwww", 4, v76, v12, v52, v56, v60);
      break;
    case 5:
      if ( a6 )
      {
        a4[28] += a7;
        v73 = CChar::GetMaxHP(a4);
        sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 5, a4[68], v73);
      }
      else
      {
        a4[28] -= a7;
        v74 = CChar::GetMaxHP(a4);
        if ( a4[68] >= v74 )
          v66 = v74;
        else
          v66 = a4[68];
        a4[68] = v66;
        sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 5, a4[68], v74);
      }
      sub_454360(a4, a1, a2, a3, 7);
      break;
    case 6:
      if ( a6 )
      {
        a4[29] += a7;
        v71 = CChar::GetMaxMP(v64);
        sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 6, a4[69], v71);
      }
      else
      {
        a4[29] -= a7;
        v72 = CChar::GetMaxMP(v64);
        if ( a4[69] >= v72 )
          v65 = v72;
        else
          v65 = a4[69];
        a4[69] = v65;
        sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 6, a4[69], v72);
      }
      break;
    case 9:
      if ( a6 )
        v13 = a7 + a4[30];
      else
        v13 = a4[30] - a7;
      a4[30] = v13;
      v14 = CChar::GetHit(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 9, v14);
      break;
    case 10:
      if ( a6 )
        v15 = a7 + a4[31];
      else
        v15 = a4[31] - a7;
      a4[31] = v15;
      v16 = CChar::GetDodge(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 10, v16);
      break;
    case 11:
      if ( a6 )
        v17 = a7 + a4[32];
      else
        v17 = a4[32] - a7;
      a4[32] = v17;
      v18 = CChar::GetMinAttack(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 11, v18);
      break;
    case 12:
      if ( a6 )
        v19 = a7 + a4[33];
      else
        v19 = a4[33] - a7;
      a4[33] = v19;
      v20 = CChar::GetMaxAttack(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 12, v20);
      break;
    case 13:
      if ( a6 )
        v23 = a7 + a4[34];
      else
        v23 = a4[34] - a7;
      a4[34] = v23;
      v24 = CChar::GetMinMagic(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 13, v24);
      break;
    case 14:
      if ( a6 )
        v25 = a7 + a4[35];
      else
        v25 = a4[35] - a7;
      a4[35] = v25;
      v26 = CChar::GetMinMagic(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 13, v26);
      break;
    case 15:
      if ( a6 )
      {
        a4[36] += a7;
        v29 = a8 + a4[37];
      }
      else
      {
        a4[36] -= a7;
        v29 = a4[37] - a8;
      }
      a4[37] = v29;
      v30 = CChar::GetDefense(a4, 0);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 15, v30);
      break;
    case 16:
      if ( a6 )
        v31 = a7 + a4[38];
      else
        v31 = a4[38] - a7;
      a4[38] = v31;
      v32 = CChar::GetAbsorb(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 16, v32);
      break;
    case 17:
      if ( a6 )
        v33 = a7 + a4[39];
      else
        v33 = a4[39] - a7;
      a4[39] = v33;
      v34 = CChar::GetASpeed(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 17, v34);
      break;
    case 18:
      if ( a6 )
        v35 = a7 + a4[40];
      else
        v35 = a4[40] - a7;
      a4[40] = v35;
      v36 = sub_436490(a4, 0);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 18, v36);
      break;
    case 19:
      if ( a6 )
        v37 = a7 + a4[41];
      else
        v37 = a4[41] - a7;
      a4[41] = v37;
      v38 = sub_436490(a4, 1);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 19, v38);
      break;
    case 20:
      if ( a6 )
        v39 = a7 + a4[42];
      else
        v39 = a4[42] - a7;
      a4[42] = v39;
      v40 = sub_436490(a4, 2);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 20, v40);
      break;
    case 21:
      if ( a6 )
        v41 = a7 + a4[43];
      else
        v41 = a4[43] - a7;
      a4[43] = v41;
      v42 = sub_436490(a4, 3);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 21, v42);
      break;
    case 22:
      if ( a6 )
        v43 = a7 + a4[44];
      else
        v43 = a4[44] - a7;
      a4[44] = v43;
      v44 = sub_436490(a4, 4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 22, v44);
      break;
    case 27:
      if ( a6 )
      {
        a4[32] += a7;
        v21 = a8 + a4[33];
      }
      else
      {
        a4[32] -= a7;
        v21 = a4[33] - a8;
      }
      a4[33] = v21;
      v61 = CChar::GetMaxAttack(a4);
      v22 = CChar::GetMinAttack(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 27, v22, v61);
      break;
    case 28:
      if ( a6 )
      {
        a4[34] += a7;
        v27 = a8 + a4[35];
      }
      else
      {
        a4[34] -= a7;
        v27 = a4[35] - a8;
      }
      a4[35] = v27;
      v62 = CChar::GetMaxMagic(a4);
      v28 = CChar::GetMinMagic(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 28, v28, v62);
      break;
    case 29:
      if ( a6 )
      {
        a4[40] += a7;
        a4[41] += a7;
        a4[42] += a7;
        a4[43] += a7;
        v45 = a7 + a4[44];
      }
      else
      {
        a4[40] -= a7;
        a4[41] -= a7;
        a4[42] -= a7;
        a4[43] -= a7;
        v45 = a4[44] - a7;
      }
      a4[44] = v45;
      v63 = sub_436490(a4, 4);
      v57 = sub_436490(a4, 3);
      v53 = sub_436490(a4, 2);
      v50 = sub_436490(a4, 1);
      v46 = sub_436490(a4, 0);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bwwwww", 29, v46, v50, v53, v57, v63);
      break;
    case 31:
      if ( a6 )
        v47 = a7 + a4[45];
      else
        v47 = a4[45] - a7;
      a4[45] = v47;
      break;
    case 36:
      if ( a6 )
        v48 = a7 + a4[46];
      else
        v48 = a4[46] - a7;
      a4[46] = v48;
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 36, a4[46]);
      break;
    default:
      return;
  }
}
// 44E937: variable 'v64' is possibly undefined

//----- (0044F900) --------------------------------------------------------
void __usercall sub_44F900(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _DWORD *a4, int a5, int a6, int a7, int a8)
{
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // ecx
  int v16; // eax
  int v17; // edx
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // ecx
  int v22; // eax
  int v23; // edx
  int v24; // eax
  int v25; // eax
  int v26; // eax
  int v27; // ecx
  int v28; // eax
  int v29; // edx
  int v30; // eax
  int v31; // eax
  int v32; // eax
  int v33; // ecx
  int v34; // ecx
  int v35; // ecx
  int v36; // eax
  int v37; // eax
  int v38; // [esp-10h] [ebp-C0h]
  int v39; // [esp-Ch] [ebp-BCh]
  int v40; // [esp-Ch] [ebp-BCh]
  int v41; // [esp-8h] [ebp-B8h]
  int v42; // [esp-8h] [ebp-B8h]
  int v43; // [esp-8h] [ebp-B8h]
  int v44; // [esp-4h] [ebp-B4h]
  int v45; // [esp-4h] [ebp-B4h]
  int v46; // [esp-4h] [ebp-B4h]
  int v47; // [esp-4h] [ebp-B4h]
  int v48; // [esp-4h] [ebp-B4h]
  _DWORD *v49; // [esp+0h] [ebp-B0h]
  int v50; // [esp+0h] [ebp-B0h]
  int v51; // [esp+4h] [ebp-ACh]
  int v52; // [esp+8h] [ebp-A8h]
  int v53; // [esp+Ch] [ebp-A4h]
  int v54; // [esp+10h] [ebp-A0h]
  int v55; // [esp+14h] [ebp-9Ch]
  int v56; // [esp+64h] [ebp-4Ch]
  int v57; // [esp+64h] [ebp-4Ch]
  int v58; // [esp+6Ch] [ebp-44h]
  int v59; // [esp+6Ch] [ebp-44h]
  int v60; // [esp+74h] [ebp-3Ch]
  int v61; // [esp+74h] [ebp-3Ch]
  int v62; // [esp+7Ch] [ebp-34h]
  int v63; // [esp+80h] [ebp-30h]
  int v64; // [esp+88h] [ebp-28h]
  int v65; // [esp+88h] [ebp-28h]
  int v66; // [esp+8Ch] [ebp-24h]
  int v67; // [esp+8Ch] [ebp-24h]
  int v68; // [esp+94h] [ebp-1Ch]
  int v69; // [esp+98h] [ebp-18h]
  int v70; // [esp+9Ch] [ebp-14h]
  int v71; // [esp+9Ch] [ebp-14h]
  int v72; // [esp+A4h] [ebp-Ch]
  int v73; // [esp+A4h] [ebp-Ch]

  switch ( a5 )
  {
    case 0:
      v72 = CChar::GetStr(a4);
      a4[30] -= 15 * v72 / 54;
      a4[32] -= (11 * v72 - 80) / 30;
      a4[33] -= (8 * v72 - 25) / 15;
      if ( a6 )
        a4[47] += a7;
      else
        a4[47] -= a7;
      v73 = CChar::GetStr(a4);
      a4[30] += 15 * v73 / 54;
      a4[32] += (11 * v73 - 80) / 30;
      a4[33] += (8 * v73 - 25) / 15;
      v44 = CChar::GetMaxAttack(a4);
      v41 = CChar::GetMinAttack(a4);
      v8 = CChar::GetHit(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwww", 0, v73, v8, v41, v44);
      break;
    case 1:
      v70 = CChar::GetHth(a4);
      v69 = dword_4AE970[a4[113]];
      if ( a6 )
      {
        a4[21] -= 2 * v70 * v70 / v69;
        a4[44] -= v70 / 9;
        a4[48] += a7;
        v71 = CChar::GetHth(a4);
        a4[21] += 2 * v71 * v71 / v69;
        a4[44] += v71 / 9;
        v68 = CChar::GetMaxHP(a4);
        if ( a7 < 0 )
        {
          if ( a4[68] >= v68 )
            v55 = v68;
          else
            v55 = a4[68];
          a4[68] = v55;
        }
      }
      else
      {
        a4[21] -= 2 * v70 * v70 / v69;
        a4[44] -= v70 / 9;
        a4[48] -= a7;
        v71 = CChar::GetHth(a4);
        a4[21] += 2 * v71 * v71 / v69;
        a4[44] += v71 / 9;
        v68 = CChar::GetMaxHP(a4);
        if ( a7 > 0 )
        {
          if ( a4[68] >= v68 )
            v54 = v68;
          else
            v54 = a4[68];
          a4[68] = v54;
        }
      }
      v9 = sub_436490(a4, 4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwww", 1, v71, a4[68], v68, v9);
      sub_454360(a4, a1, a2, a3, 7);
      break;
    case 2:
      v66 = CChar::GetInt(a4);
      a4[34] -= (7 * v66 - 20) / 12;
      a4[35] -= 7 * v66 / 12;
      a4[40] -= v66 / 9;
      a4[41] -= v66 / 9;
      a4[42] -= v66 / 9;
      if ( a6 )
        a4[49] += a7;
      else
        a4[49] -= a7;
      v67 = CChar::GetInt(a4);
      a4[34] += (7 * v67 - 20) / 12;
      a4[35] += 7 * v67 / 12;
      a4[40] += v67 / 9;
      a4[41] += v67 / 9;
      a4[42] += v67 / 9;
      v45 = sub_436490(a4, 2);
      v42 = sub_436490(a4, 1);
      v39 = sub_436490(a4, 0);
      v38 = CChar::GetMaxMagic(a4);
      v10 = CChar::GetMinMagic(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwwwww", 2, v67, v10, v38, v39, v42, v45);
      break;
    case 3:
      v64 = CChar::GetWis(a4);
      v62 = dword_4AE97C[a4[113]];
      if ( a6 )
      {
        a4[22] -= v64 + 2 * v64 * v64 / v62;
        a4[34] -= v64 / 7;
        a4[35] -= 14 * v64 / 45;
        a4[43] -= v64 / 9;
        a4[50] += a7;
        v65 = CChar::GetWis(a4);
        a4[22] += v65 + 2 * v65 * v65 / v62;
        a4[34] += v65 / 7;
        a4[35] += 14 * v65 / 45;
        a4[43] += v65 / 9;
        v63 = CChar::GetMaxMP(v49);
        if ( a7 < 0 )
        {
          if ( a4[69] >= v63 )
            v53 = v63;
          else
            v53 = a4[69];
          a4[69] = v53;
        }
      }
      else
      {
        a4[22] -= v64 + 2 * v64 * v64 / v62;
        a4[34] -= v64 / 7;
        a4[35] -= 14 * v64 / 45;
        a4[43] -= v64 / 9;
        a4[50] -= a7;
        v65 = CChar::GetWis(a4);
        a4[22] += v65 + 2 * v65 * v65 / v62;
        a4[34] += v65 / 7;
        a4[35] += 14 * v65 / 45;
        a4[43] += v65 / 9;
        v63 = CChar::GetMaxMP(v49);
        if ( a7 > 0 )
        {
          if ( a4[69] >= v63 )
            v52 = v63;
          else
            v52 = a4[69];
          a4[69] = v52;
        }
      }
      v11 = sub_436490(a4, 3);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwww", 3, v65, a4[69], v63, v11);
      break;
    case 4:
      v60 = Char::GetDex(a4);
      a4[30] -= v60 / 8;
      a4[31] -= v60 / 3;
      a4[32] -= (v60 - 5) / 11;
      a4[33] -= 18 * v60 / 77;
      if ( a6 )
        a4[51] += a7;
      else
        a4[51] -= a7;
      v61 = Char::GetDex(a4);
      a4[30] += v61 / 8;
      a4[31] += v61 / 3;
      a4[32] += (v61 - 5) / 11;
      a4[33] += 18 * v61 / 77;
      v46 = CChar::GetMaxAttack(a4);
      v43 = CChar::GetMinAttack(a4);
      v40 = CChar::GetDodge(a4);
      v12 = CChar::GetHit(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bbwwww", 4, v61, v12, v40, v43, v46);
      break;
    case 5:
      if ( a6 )
      {
        a4[52] += a7;
        v58 = CChar::GetMaxHP(a4);
        sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 5, a4[68], v58);
      }
      else
      {
        a4[52] -= a7;
        v59 = CChar::GetMaxHP(a4);
        if ( a4[68] >= v59 )
          v51 = v59;
        else
          v51 = a4[68];
        a4[68] = v51;
        sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 5, a4[68], v59);
      }
      sub_454360(a4, a1, a2, a3, 7);
      break;
    case 6:
      if ( a6 )
      {
        a4[53] += a7;
        v56 = CChar::GetMaxMP(v49);
        sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 6, a4[69], v56);
      }
      else
      {
        a4[53] -= a7;
        v57 = CChar::GetMaxMP(v49);
        if ( a4[69] >= v57 )
          v50 = v57;
        else
          v50 = a4[69];
        a4[69] = v50;
        sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 6, a4[69], v57);
      }
      sub_454360(a4, a1, a2, a3, 8);
      break;
    case 9:
      if ( a6 )
        v13 = a7 + a4[54];
      else
        v13 = a4[54] - a7;
      a4[54] = v13;
      v14 = CChar::GetHit(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 9, v14);
      break;
    case 10:
      if ( a6 )
        v15 = a7 + a4[55];
      else
        v15 = a4[55] - a7;
      a4[55] = v15;
      v16 = CChar::GetDodge(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 10, v16);
      break;
    case 11:
      if ( a6 )
        v17 = a7 + a4[56];
      else
        v17 = a4[56] - a7;
      a4[56] = v17;
      v18 = CChar::GetMinAttack(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 11, v18);
      break;
    case 12:
      if ( a6 )
        v19 = a7 + a4[57];
      else
        v19 = a4[57] - a7;
      a4[57] = v19;
      v20 = CChar::GetMaxAttack(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 12, v20);
      break;
    case 13:
      if ( a6 )
        v23 = a7 + a4[58];
      else
        v23 = a4[58] - a7;
      a4[58] = v23;
      v24 = CChar::GetMinMagic(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 13, v24);
      break;
    case 14:
      if ( a6 )
        v25 = a7 + a4[59];
      else
        v25 = a4[59] - a7;
      a4[59] = v25;
      v26 = CChar::GetMaxMagic(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 14, v26);
      break;
    case 15:
      if ( a6 )
      {
        a4[60] += a7;
        v29 = a8 + a4[61];
      }
      else
      {
        a4[60] -= a7;
        v29 = a4[61] - a8;
      }
      a4[61] = v29;
      v30 = CChar::GetDefense(a4, 0);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 15, v30);
      break;
    case 16:
      if ( a6 )
        v31 = a7 + a4[62];
      else
        v31 = a4[62] - a7;
      a4[62] = v31;
      v32 = CChar::GetAbsorb(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 16, v32);
      break;
    case 17:
      if ( a6 )
        v33 = a7 + a4[63];
      else
        v33 = a4[63] - a7;
      a4[63] = v33;
      sub_448C90(a1, a2, a3, (int)a4, 38, "bw", 17, a4[63]);
      break;
    case 27:
      if ( a6 )
      {
        a4[56] += a7;
        v21 = a8 + a4[57];
      }
      else
      {
        a4[56] -= a7;
        v21 = a4[57] - a8;
      }
      a4[57] = v21;
      v47 = CChar::GetMaxAttack(a4);
      v22 = CChar::GetMinAttack(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 27, v22, v47);
      break;
    case 28:
      if ( a6 )
      {
        a4[58] += a7;
        v27 = a8 + a4[59];
      }
      else
      {
        a4[58] -= a7;
        v27 = a4[59] - a8;
      }
      a4[59] = v27;
      v48 = CChar::GetMaxMagic(a4);
      v28 = CChar::GetMinMagic(a4);
      sub_448C90(a1, a2, a3, (int)a4, 38, "bww", 28, v28, v48);
      break;
    case 31:
      if ( a6 )
        v34 = a7 + a4[64];
      else
        v34 = a4[64] - a7;
      a4[64] = v34;
      break;
    case 32:
      if ( a6 )
        v35 = a7 + a4[65];
      else
        v35 = a4[65] - a7;
      a4[65] = v35;
      sub_40ACD0(a1, a2, a3, (int)a4, 49, "dbw", a4[7], 32, a4[65]);
      break;
    case 33:
      if ( a6 )
        v36 = a7 + a4[66];
      else
        v36 = a4[66] - a7;
      a4[66] = v36;
      break;
    case 37:
      if ( a6 )
        v37 = a7 + a4[67];
      else
        v37 = a4[67] - a7;
      a4[67] = v37;
      break;
    default:
      return;
  }
}
// 450228: variable 'v49' is possibly undefined

//----- (00450F40) --------------------------------------------------------
void __userpurge sub_450F40(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-3Ch]
  int v9; // [esp-8h] [ebp-38h]
  int v10; // [esp-4h] [ebp-34h]
  unsigned int v11; // [esp+0h] [ebp-30h]
  int v13; // [esp+Ch] [ebp-24h] BYREF
  int v14; // [esp+10h] [ebp-20h] BYREF
  int v15; // [esp+14h] [ebp-1Ch] BYREF
  int v16; // [esp+18h] [ebp-18h]
  int v17; // [esp+1Ch] [ebp-14h]
  unsigned int v18; // [esp+20h] [ebp-10h]
  DWORD v19; // [esp+24h] [ebp-Ch]
  volatile int *v20; // [esp+28h] [ebp-8h]
  unsigned int v21; // [esp+2Ch] [ebp-4h]

  if ( CChar::IsNormal(a1) && !sub_40A660(a1, 4) && sub_426320(a1, 0) )
  {
    v20 = 0;
    if ( a5 )
    {
      if ( a5 == 1 )
        v20 = (volatile int *)sub_436ED0(a2, a3, a4, a6);
    }
    else
    {
      v20 = (volatile int *)sub_446740(a2, a3, a4, a6);
    }
    if ( v20 )
    {
      if ( (*(int (__thiscall **)(_DWORD *, volatile int *, _DWORD))(*a1 + 176))(a1, v20, 0) )
      {
        v18 = CChar::GetASpeed(a1);
        v21 = v18;
        v19 = GetTickCount();
        if ( v19 < a1[333] )
          v21 -= a1[333] - v19;
        if ( a1[77] == *((_DWORD *)v20 + 77) && CChar::IsNormal(v20) )
        {
          a1[333] = v18 + v19;
          sub_40A4D0(a1, *((_DWORD *)v20 + 81) - a1[81], *((_DWORD *)v20 + 82) - a1[82]);
          v15 = 0;
          v14 = 0;
          v13 = 0;
          v17 = 0;
          v16 = 0;
          v16 = (*(int (__thiscall **)(volatile int *, _DWORD *))(*v20 + 148))(v20, a1);
          if ( !v16 )
          {
            if ( sub_43A510((int)a1, v20, 0) )
            {
              if ( a1[113] == 1 )
                v11 = 0;
              else
                v11 = v21 * (*(int (__thiscall **)(_DWORD *, volatile int *))(*a1 + 168))(a1, v20) / v18;
              v14 = v11;
              v6 = CChar::GetAttack(a1);
              v17 = (*(int (__thiscall **)(volatile int *, _DWORD *, unsigned int, int *, int *, int *, _DWORD))(*v20 + 72))(
                      v20,
                      a1,
                      v21 * v6 / v18,
                      &v15,
                      &v13,
                      &v14,
                      0);
              if ( !v17 )
                (*(void (__thiscall **)(volatile int *, _DWORD *))(*v20 + 80))(v20, a1);
            }
            else
            {
              (*(void (__thiscall **)(volatile int *, _DWORD *))(*v20 + 80))(v20, a1);
            }
          }
          v10 = v17 | (2 * v13) | (4 * v16);
          v9 = v14;
          v8 = v15;
          v7 = unknown_libname_4(v20);
          sub_40ACD0(a2, a3, a4, (int)a1, 31, "ddwwb", a1[7], v7, v8, v9, v10);
        }
        CIOObject::Release((CIOObject *)v20, a2, a3, a4, v20 + 86);
      }
      else
      {
        CIOObject::Release((CIOObject *)v20, a2, a3, a4, v20 + 86);
      }
    }
  }
}

//----- (004511D0) --------------------------------------------------------
void __usercall sub_4511D0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  (*(void (__cdecl **)(int *, int, int, int))(*a1 + 88))(a1, 26, 1, 1);
  (*(void (__cdecl **)(int *, int, int, int))(*a1 + 88))(a1, 23, 1, 5);
  (*(void (__cdecl **)(int *, int, int, int))(*a1 + 88))(a1, 24, 1, 1);
  a1[136] = 0;
  sub_44CEA0((int)a1, a2, a3, a4, 1);
  sub_470DE0(a1 + 154, a2, a3, a4, 0);
  sub_45B200((int)a1, a2, a3, a4, 2);
  sub_45B650((int)a1, a2, a3, a4);
}

//----- (00451260) --------------------------------------------------------
void __userpurge sub_451260(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int *a6, int a7, int a8)
{
  int v8; // eax
  int v9; // eax
  _DWORD *v11; // [esp+4h] [ebp-4h]

  v11 = (_DWORD *)sub_47FED0(a5);
  if ( v11 )
  {
    if ( CSMap::IsOnTile(v11, a6, 0) )
    {
      CChar::SubMState(a1, 1, 0);
      a1[342] = a5;
      v8 = a6[1];
      a1[343] = *a6;
      a1[344] = v8;
      sub_448C90(a2, a3, a4, (int)a1, 39, "bdddb", a5, *a6, a6[1], a7, a8);
      v9 = sub_482A80((int)&unk_4B9C40 + 60 * a5, a2, a3, a4);
      sub_448C90(a2, a3, a4, (int)a1, 92, "bb", v9, 0);
    }
  }
}

//----- (00451320) --------------------------------------------------------
int __thiscall CSMap::IsOnTile(_DWORD *this, int *a2, int a3)
{
  _DWORD *v4; // eax
  int v5; // [esp+4h] [ebp-8h] BYREF
  int v6; // [esp+8h] [ebp-4h]

  v5 = *a2 >> 5;
  v6 = a2[1] >> 5;
  if ( v5 < 0 || v5 >> 8 >= 64 || v6 < 0 || v6 >> 8 >= 64 )
    return 0;
  v4 = (_DWORD *)sub_435780(this, &v5);
  return CCellMap::IsOnTile(v4, &v5, a3);
}

//----- (00451390) --------------------------------------------------------
int __thiscall CCellMap::IsOnTile(_DWORD *this, _DWORD *a2, int a3)
{
  int v4[2]; // [esp+4h] [ebp-8h] BYREF

  if ( !this )
    return 0;
  if ( !a3 )
    return 1;
  v4[0] = (unsigned __int8)*a2;
  v4[1] = (unsigned __int8)a2[1];
  return a3 & *(_DWORD *)(CCellMap::GetTile(this, v4) + 4);
}

//----- (004513F0) --------------------------------------------------------
void __userpurge sub_4513F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int *v6; // eax
  int *v7; // [esp-10h] [ebp-1Ch]
  int v8; // [esp-Ch] [ebp-18h]
  int v9; // [esp-8h] [ebp-14h]
  int v10; // [esp-4h] [ebp-10h]
  int v12; // [esp+4h] [ebp-8h]
  CMemory **v13; // [esp+8h] [ebp-4h]

  if ( a5 )
  {
    sub_411FF0(a1, a2, a3, a4);
    v12 = sub_47FED0(*(_DWORD *)(a1 + 1368));
    if ( v12 )
    {
      if ( sub_480230(
             *(_DWORD **)(a1 + 312),
             a2,
             a3,
             a4,
             (Concurrency::details::_CancellationTokenRegistration *)a1,
             a1 + 316) )
      {
        sub_40ACD0(a2, a3, a4, a1, 24, "d", *(_DWORD *)(a1 + 28));
        if ( sub_40A660((_DWORD *)a1, 8) )
        {
          CChar::SubGState((volatile LONG *)a1, 10);
          sub_448C90(a2, a3, a4, a1, 9, "dd", *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 280));
          sub_447260((_DWORD *)a1, 8);
        }
        if ( sub_40A660((_DWORD *)a1, 4096) )
          CChar::SubGState((volatile LONG *)a1, 4096);
        *(_DWORD *)(a1 + 308) = *(_DWORD *)(a1 + 1368);
        *(_DWORD *)(a1 + 312) = v12;
        sub_40A460((_DWORD *)a1, (_DWORD *)(a1 + 1372));
        *(_DWORD *)(a1 + 332) = a6;
        sub_4801B0(*(_DWORD **)(a1 + 312), a2, a3, a4, a1, (int *)(a1 + 316));
        v10 = *(_DWORD *)(a1 + 504);
        v9 = *(_DWORD *)(a1 + 1024);
        v8 = *(_DWORD *)(a1 + 472);
        v7 = sub_45DFB0((int *)a1);
        v6 = sub_45E050((int *)a1);
        v13 = sub_445C90(
                a2,
                a3,
                a4,
                19,
                "dsbdddwdmbbIssdbd",
                *(_DWORD *)(a1 + 28),
                a1 + 32,
                *(_DWORD *)(a1 + 452),
                *(_DWORD *)(a1 + 324),
                *(_DWORD *)(a1 + 328),
                *(_DWORD *)(a1 + 332),
                *(_DWORD *)(a1 + 340),
                *(_DWORD *)(a1 + 280),
                a1 + 964,
                14,
                *(_DWORD *)(a1 + 548),
                *(_DWORD *)(a1 + 552),
                *(_DWORD *)(a1 + 288),
                *(_DWORD *)(a1 + 292),
                v6,
                v7,
                v8,
                v9,
                v10);
        sub_482140(*(char **)(a1 + 312), a2, a3, a4, a1, (_DWORD *)(a1 + 316), (int)v13);
        CIOBuffer::Release((CIOBuffer *)v13);
        sub_412010(a1, a2, a3, a4);
      }
      else
      {
        sub_412010(a1, a2, a3, a4);
        LOG_ERR(
          "CPlayer::OnTeleport() Can't remove player pointer. (%d, %d, %d)",
          *(_DWORD *)(a1 + 308),
          *(_DWORD *)(a1 + 316),
          *(_DWORD *)(a1 + 320));
      }
    }
    else
    {
      sub_412010(a1, a2, a3, a4);
    }
  }
}

//----- (00451660) --------------------------------------------------------
int __userpurge sub_451660@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::pair<int const ,CSocket *> *v5; // eax
  char v8[8]; // [esp+4h] [ebp-10h] BYREF
  char v9[8]; // [esp+Ch] [ebp-8h] BYREF

  CIOObject::AddRef((CIOObject *)a5, a2, a3, a4, (volatile int *)(a5 + 88));
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v8,
    (const char *const *)(a5 + 36),
    (CItem *const *)&a5);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 980),
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v9,
    v5);
  if ( v9[4] )
    return 1;
  CIOObject::Release((CIOObject *)a5, a2, a3, a4, (volatile int *)(a5 + 88));
  return 0;
}
// 451699: variable 'v5' is possibly undefined

//----- (004516D0) --------------------------------------------------------
void __userpurge sub_4516D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( sub_4608E0(
         (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 980),
         (const int *)(a5 + 36)) )
  {
    CIOObject::Release((CIOObject *)a5, a2, a3, a4, (volatile int *)(a5 + 88));
  }
  else
  {
    ELOG("CPlayer()::_OutofInven() Not in ItemMap. (IID:%d)", *(_DWORD *)(a5 + 36));
  }
}

//----- (00451720) --------------------------------------------------------
int __userpurge sub_451720@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v8; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  v8 = sub_451770(a1, a5, a6);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  return v8;
}

//----- (00451770) --------------------------------------------------------
int __thiscall sub_451770(int this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v6[4]; // [esp+4h] [ebp-10h] BYREF
  int v7; // [esp+8h] [ebp-Ch] BYREF
  int v8; // [esp+Ch] [ebp-8h] BYREF
  int v9; // [esp+10h] [ebp-4h]

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 980),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 980), v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
            v3) )
      break;
    v9 = *(_DWORD *)(sub_43E1A0(&v8) + 4);
    if ( a2 == *(_DWORD *)(*(_DWORD *)(v9 + 40) + 64) && *(_DWORD *)(v9 + 52) >= a3 )
      return v9;
    sub_46FA50(&v8, &v7, 0);
  }
  return 0;
}

//----- (00451800) --------------------------------------------------------
int __thiscall sub_451800(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int v6; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h]

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 980),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 980), v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v2) )
      break;
    v8 = *(_DWORD *)(sub_43E1A0(&v7) + 4);
    if ( (*(int (__thiscall **)(int, int))(*(_DWORD *)v8 + 148))(v8, a2) )
      return v8;
    sub_46FA50(&v7, &v6, 0);
  }
  return 0;
}

//----- (00451880) --------------------------------------------------------
void __userpurge sub_451880(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, void *Src, int a9)
{
  int v10; // [esp+4h] [ebp-3Ch]
  int v11; // [esp+8h] [ebp-38h]
  int v12; // [esp+Ch] [ebp-34h]
  volatile signed __int32 *v13; // [esp+10h] [ebp-30h]
  int i; // [esp+14h] [ebp-2Ch]
  int v15; // [esp+18h] [ebp-28h]
  unsigned __int16 v16; // [esp+20h] [ebp-20h] BYREF
  BOOL v17; // [esp+24h] [ebp-1Ch]
  int v18; // [esp+28h] [ebp-18h]
  int v19; // [esp+2Ch] [ebp-14h]
  int v20; // [esp+30h] [ebp-10h]
  int v21; // [esp+34h] [ebp-Ch]
  volatile int *v22; // [esp+38h] [ebp-8h]
  unsigned __int16 v23; // [esp+3Ch] [ebp-4h] BYREF

  sub_411FF0(a1, a2, a3, a4);
  v21 = *(_DWORD *)(a1 + 1012);
  sub_412010(a1, a2, a3, a4);
  if ( !v21 )
  {
    v22 = CNPC::FindNPC(a2, a3, a4, a5);
    if ( v22 )
    {
      if ( !(*(int (__thiscall **)(volatile int *, int))(*v22 + 184))(v22, a1 + 324) )
      {
        sub_401C50(v22, a2, a3, a4);
        return;
      }
      v17 = 0;
      v15 = 100;
      v20 = CCastle::GetCastle(*((_DWORD *)v22 + 113));
      sub_401C50(v22, a2, a3, a4);
      if ( v20 )
      {
        v15 = CCastle::GetTaxRate(v20, a2, a3, a4);
        if ( a6 != v15 )
        {
          sub_448C90(a2, a3, a4, a1, 37, "bb", 69, (unsigned __int8)v15);
          return;
        }
        v17 = CCastle::IsPayment(v20, a2, a3, a4);
      }
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      for ( i = 0; *(_DWORD *)(a1 + 1008) && i < a7; ++i )
      {
        Src = ScanPacket(a2, a3, a4, (char *)Src, (char *)a9, "ww", &v16, &v23);
        v19 = v23;
        if ( v23 )
        {
          v13 = CItem::CreateItem(v16, 0, v19, -1);
          if ( v13 )
          {
            v12 = v19 * (v15 * *(_DWORD *)(*((_DWORD *)v13 + 10) + 108) / 100);
            if ( v12 <= 0 )
            {
              CBase::Delete(v13);
            }
            else
            {
              if ( *(_DWORD *)(a1 + 1008) && *(_DWORD *)(*(_DWORD *)(a1 + 1008) + 52) < v12 )
              {
                CBase::Delete(v13);
                break;
              }
              sub_4010D0(v13, a2, a3, a4);
              v11 = sub_452300((char *)a1, a2, a3, a4, 7, v13);
              if ( v11 == 1 )
              {
                v10 = *(_DWORD *)(a1 + 1008);
                if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v10 + 120))(v10, a1, 7, -v12) )
                  sub_4516D0(a1, a2, a3, a4, v10);
                if ( v17 )
                {
                  v18 = 3 * (v12 - v19 * (85 * *(_DWORD *)(*((_DWORD *)v13 + 10) + 108) / 100)) / 10;
                  CCastle::AddTax(v20, a2, a3, a4, v18);
                }
              }
              else
              {
                CBase::Delete(v13);
              }
              sub_401C50(v13, a2, a3, a4);
              if ( v11 == 2 )
                break;
            }
          }
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
  }
}

//----- (00451B20) --------------------------------------------------------
void __userpurge sub_451B20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, void *Src, int a8)
{
  void *v8; // eax
  char v10[4]; // [esp+4h] [ebp-28h] BYREF
  volatile signed __int32 *v11; // [esp+8h] [ebp-24h]
  char v12[4]; // [esp+Ch] [ebp-20h]
  int v13; // [esp+10h] [ebp-1Ch]
  int v14; // [esp+14h] [ebp-18h] BYREF
  int i; // [esp+18h] [ebp-14h]
  int v16; // [esp+1Ch] [ebp-10h]
  int v17; // [esp+20h] [ebp-Ch]
  unsigned __int16 v18; // [esp+24h] [ebp-8h] BYREF
  int v19; // [esp+28h] [ebp-4h] BYREF

  sub_411FF0(a1, a2, a3, a4);
  v17 = *(_DWORD *)(a1 + 1012);
  sub_412010(a1, a2, a3, a4);
  if ( !v17 && sub_440D60(a2, a3, a4, a5, a1 + 324) )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    for ( i = 0; i < a6; ++i )
    {
      Src = ScanPacket(a2, a3, a4, (char *)Src, (char *)a8, "dw", &v19, &v18);
      v16 = v18;
      if ( v18 )
      {
        sub_460550((int *)(a1 + 980), &v14, &v19);
        v8 = sub_482CA0((int *)(a1 + 980), v10);
        if ( !(unsigned __int8)unknown_libname_25(v8) )
        {
          v13 = *(_DWORD *)(sub_43E1A0(&v14) + 4);
          if ( (*(int (__thiscall **)(int, int))(*(_DWORD *)v13 + 136))(v13, v16) )
          {
            *(_DWORD *)v12 = (*(int (__thiscall **)(int, int))(*(_DWORD *)v13 + 200))(v13, v16);
            if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v13 + 120))(v13, a1, 8, -v16) )
              sub_4516D0(a1, a2, a3, a4, v13);
            v11 = CItem::CreateItem(31, 0, *(int *)v12, -1);
            if ( v11 )
            {
              if ( !sub_452300((char *)a1, a2, a3, a4, 8, v11) )
              {
                LOG_ERR("CPlayer::SellItem() Fail to insert money(%d).", *(_DWORD *)v12);
                CBase::Delete(v11);
              }
            }
          }
        }
      }
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00451CD0) --------------------------------------------------------
void __userpurge sub_451CD0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  char v8[4]; // [esp+10h] [ebp-24h] BYREF
  _DWORD *v9; // [esp+14h] [ebp-20h]
  int v10[2]; // [esp+18h] [ebp-1Ch] BYREF
  int v11[2]; // [esp+20h] [ebp-14h] BYREF
  _DWORD *v12; // [esp+28h] [ebp-Ch]
  int v13; // [esp+2Ch] [ebp-8h]
  int v14; // [esp+30h] [ebp-4h] BYREF

  sub_411FF0(a1, a2, a3, a4);
  v13 = *(_DWORD *)(a1 + 1012);
  sub_412010(a1, a2, a3, a4);
  if ( !v13 && a6 > 0 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    sub_460550((int *)(a1 + 980), &v14, &a5);
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v8);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v14,
           v6) )
    {
      v12 = *(_DWORD **)(sub_43E1A0(&v14) + 4);
      if ( (*(int (__thiscall **)(_DWORD *, int, int))(*v12 + 144))(v12, a6, a1) )
      {
        sub_40A3B0((_DWORD *)a1, v10);
        v11[0] = v10[0] >> 5;
        v11[1] = v10[1] >> 5;
        if ( v12[13] <= a6 )
        {
          if ( sub_4801B0(*(_DWORD **)(a1 + 312), a2, a3, a4, (int)v12, v11) )
          {
            (*(void (__thiscall **)(_DWORD *, int, int *, int *, int, _DWORD, _DWORD))(*v12 + 124))(
              v12,
              a1,
              v10,
              v11,
              1,
              0,
              0);
            sub_4516D0(a1, a2, a3, a4, (int)v12);
          }
        }
        else
        {
          v9 = CItem::CreateItem(*(_DWORD *)(v12[10] + 64), 0, a6, v12[21]);
          if ( v9 )
          {
            if ( sub_4801B0(*(_DWORD **)(a1 + 312), a2, a3, a4, (int)v9, v11) )
            {
              (*(void (__thiscall **)(_DWORD *, int, int *, int *, _DWORD, _DWORD, _DWORD))(*v9 + 124))(
                v9,
                a1,
                v10,
                v11,
                0,
                0,
                0);
              (*(void (__thiscall **)(_DWORD *, int, int, int))(*v12 + 120))(v12, a1, 11, -a6);
            }
            else if ( v9 )
            {
              (*(void (__thiscall **)(_DWORD *, int))*v9)(v9, 1);
            }
          }
        }
      }
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  }
}

//----- (00451EB0) --------------------------------------------------------
void __userpurge sub_451EB0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v7[4]; // [esp+4h] [ebp-10h] BYREF
  _DWORD *v8; // [esp+8h] [ebp-Ch]
  int v9; // [esp+Ch] [ebp-8h]
  int v10; // [esp+10h] [ebp-4h] BYREF

  sub_411FF0(a1, a2, a3, a4);
  v9 = *(_DWORD *)(a1 + 1012);
  sub_412010(a1, a2, a3, a4);
  if ( !v9 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    sub_460550((int *)(a1 + 980), &v10, &a5);
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v7);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
           v5) )
    {
      v8 = *(_DWORD **)(sub_43E1A0(&v10) + 4);
      if ( !*(_DWORD *)(v8[10] + 156) )
      {
        if ( (*(int (__thiscall **)(_DWORD *, int, int))(*v8 + 88))(v8, a1, 4) )
          sub_4516D0(a1, a2, a3, a4, (int)v8);
      }
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  }
}

//----- (00451F80) --------------------------------------------------------
int __userpurge sub_451F80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int result; // eax
  int v9; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  v9 = sub_451770(a1, a6, a7);
  if ( v9 )
  {
    if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v9 + 120))(v9, a1, a5, -a7) )
    {
      if ( (*(int (__thiscall **)(int))(*(_DWORD *)v9 + 196))(v9) )
        --*(_DWORD *)(a1 + 1016);
      sub_4516D0(a1, a2, a3, a4, v9);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    result = 1;
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    result = 0;
  }
  return result;
}

//----- (00452030) --------------------------------------------------------
void __userpurge sub_452030(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // [esp-4h] [ebp-20h]
  char v10[4]; // [esp+8h] [ebp-14h] BYREF
  char v11[4]; // [esp+Ch] [ebp-10h] BYREF
  int v12; // [esp+10h] [ebp-Ch] BYREF
  int v13; // [esp+14h] [ebp-8h]
  int v14; // [esp+18h] [ebp-4h] BYREF

  sub_411FF0(a1, a2, a3, a4);
  v13 = *(_DWORD *)(a1 + 1012);
  sub_412010(a1, a2, a3, a4);
  if ( !v13 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1052), v11);
    v5 = (std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_461380(
                                                               (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1052),
                                                               &v12,
                                                               &a5);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           v5,
           v8) )
    {
      sub_448C90(a2, a3, a4, a1, 36, "b", 52);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
    else
    {
      sub_460550((int *)(a1 + 980), &v14, &a5);
      v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v10);
      if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
             (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v14,
             v6) )
      {
        v7 = sub_43E1A0(&v14);
        (*(void (__thiscall **)(_DWORD, int))(**(_DWORD **)(v7 + 4) + 96))(*(_DWORD *)(v7 + 4), a1);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
  }
}

//----- (00452140) --------------------------------------------------------
void __userpurge sub_452140(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  char v8[4]; // [esp+8h] [ebp-Ch] BYREF
  int v9; // [esp+Ch] [ebp-8h]
  int v10; // [esp+10h] [ebp-4h] BYREF

  sub_411FF0(a1, a2, a3, a4);
  v9 = *(_DWORD *)(a1 + 1012);
  sub_412010(a1, a2, a3, a4);
  if ( !v9 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    sub_460550((int *)(a1 + 980), &v10, &a5);
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v8);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
           v5) )
    {
      v6 = sub_43E1A0(&v10);
      (*(void (__thiscall **)(_DWORD, int))(**(_DWORD **)(v6 + 4) + 100))(*(_DWORD *)(v6 + 4), a1);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  }
}

//----- (004521F0) --------------------------------------------------------
void __userpurge sub_4521F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v7[4]; // [esp+4h] [ebp-10h] BYREF
  int v8; // [esp+8h] [ebp-Ch]
  int v9; // [esp+Ch] [ebp-8h]
  int v10; // [esp+10h] [ebp-4h] BYREF

  sub_411FF0(a1, a2, a3, a4);
  v9 = *(_DWORD *)(a1 + 1012);
  sub_412010(a1, a2, a3, a4);
  if ( !v9 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    sub_460550((int *)(a1 + 980), &v10, &a5);
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v7);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
           v5) )
    {
      v8 = *(_DWORD *)(sub_43E1A0(&v10) + 4);
      if ( !(*(int (__thiscall **)(int, int))(*(_DWORD *)v8 + 128))(v8, a1) )
        sub_4516D0(a1, a2, a3, a4, v8);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  }
}

//----- (004522B0) --------------------------------------------------------
int __userpurge sub_4522B0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6)
{
  int v8; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  v8 = sub_452300((char *)a1, a2, a3, a4, a5, a6);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  return v8;
}

//----- (00452300) --------------------------------------------------------
int __userpurge sub_452300@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6)
{
  int v8; // [esp+4h] [ebp-8h]
  int v9; // [esp+8h] [ebp-4h]

  if ( *(_DWORD *)(a6[10] + 92) && (v9 = sub_451800((int)a1, (int)a6)) != 0 )
  {
    (*(void (__thiscall **)(int, char *, int, _DWORD))(*(_DWORD *)v9 + 120))(v9, a1, a5, a6[13]);
    (*(void (__thiscall **)(_DWORD *, char *))(*a6 + 204))(a6, a1);
    (*(void (__thiscall **)(_DWORD *, int))(*a6 + 92))(a6, a5);
  }
  else
  {
    if ( sub_452430(a1) >= 60
      && a5 != 10
      && a5 != 8
      && a5 != 25
      && a5 != 16
      && a5 != 24
      && a5 != 2
      && a5 != 45
      && a5 != 21
      && a5 != 27 )
    {
      sub_448C90(a2, a3, a4, (int)a1, 36, "b", 40);
      return 2;
    }
    v8 = a6[9];
    if ( !v8 )
      a6[9] = CItem::NewIID();
    if ( !sub_451660((int)a1, a2, a3, a4, (int)a6) )
      return 0;
    (*(void (__thiscall **)(_DWORD *, char *, int, int))(*a6 + 112))(a6, a1, a5, v8);
    a6[20] = 0;
  }
  return 1;
}

//----- (00452430) --------------------------------------------------------
int __thiscall sub_452430(char *this)
{
  int v1; // eax
  int v3; // [esp+0h] [ebp-4h]

  v1 = unknown_libname_24(this + 980, this);
  return v1 - *(_DWORD *)(v3 + 1016);
}
// 452448: variable 'v3' is possibly undefined
// 460A00: using guessed type int __thiscall unknown_libname_24(_DWORD, _DWORD);

//----- (00452460) --------------------------------------------------------
void __userpurge sub_452460(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  char v9[4]; // [esp+4h] [ebp-18h] BYREF
  char v10[4]; // [esp+8h] [ebp-14h] BYREF
  int v11; // [esp+Ch] [ebp-10h]
  int v12; // [esp+10h] [ebp-Ch]
  int v13; // [esp+14h] [ebp-8h] BYREF
  int v14; // [esp+18h] [ebp-4h] BYREF

  if ( a5 != a6 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    sub_460550((int *)(a1 + 980), &v14, &a5);
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v10);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v14,
           v6) )
    {
      v12 = *(_DWORD *)(sub_43E1A0(&v14) + 4);
      sub_460550((int *)(a1 + 980), &v13, &a6);
      v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v9);
      if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
             (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v13,
             v7) )
      {
        v11 = *(_DWORD *)(sub_43E1A0(&v13) + 4);
        if ( !(*(int (__thiscall **)(int, int, int))(*(_DWORD *)v12 + 172))(v12, a1, v11) )
          sub_4516D0(a1, a2, a3, a4, v12);
        if ( (*(int (__thiscall **)(int))(*(_DWORD *)v11 + 168))(v11) )
          sub_4516D0(a1, a2, a3, a4, v11);
      }
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  }
}

//----- (00452570) --------------------------------------------------------
void __userpurge sub_452570(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  char v8[4]; // [esp+8h] [ebp-Ch] BYREF
  int v9; // [esp+Ch] [ebp-8h]
  int v10; // [esp+10h] [ebp-4h] BYREF

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  sub_460550((int *)(a1 + 980), &v10, &a6);
  v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v8);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
         v6) )
  {
    v9 = *(_DWORD *)(sub_43E1A0(&v10) + 4);
    if ( a5 )
    {
      if ( a5 == 1 )
      {
        (*(void (__thiscall **)(int, int))(*(_DWORD *)v9 + 212))(v9, a1);
      }
      else if ( a5 == 2 )
      {
        (*(void (__thiscall **)(int, int))(*(_DWORD *)v9 + 216))(v9, a1);
      }
    }
    else
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)v9 + 208))(v9, a1);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
}

//----- (00452640) --------------------------------------------------------
void __userpurge sub_452640(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CIOObject *v6; // [esp+4h] [ebp-4h]

  if ( a1[7] != a5 )
  {
    if ( sub_40A660(a1, 256) )
    {
      sub_448C90(a2, a3, a4, (int)a1, 77, "b", 7);
    }
    else
    {
      v6 = sub_446740(a2, a3, a4, a5);
      if ( v6 )
      {
        if ( sub_40A660(v6, 256) )
        {
          sub_448C90(a2, a3, a4, (int)a1, 77, "b", 8);
        }
        else if ( !sub_40A640(a1)
               && !sub_40A660(a1, 176)
               && !sub_40A640(v6)
               && !sub_40A660(v6, 176)
               && sub_440790(a1 + 81, (_DWORD *)v6 + 81) <= 64 )
        {
          sub_411FF0((int)v6, a2, a3, a4);
          if ( *((_DWORD *)v6 + 253) || sub_447290(v6, 1) )
          {
            sub_448C90(a2, a3, a4, (int)a1, 36, "b", 19);
          }
          else
          {
            sub_409160(v6, 1);
            sub_448C90(a2, a3, a4, (int)v6, 52, "d", a1[7]);
          }
          sub_412010((int)v6, a2, a3, a4);
        }
        CIOObject::Release(v6, a2, a3, a4, (volatile int *)v6 + 86);
      }
    }
  }
}

//----- (004527C0) --------------------------------------------------------
int __userpurge sub_4527C0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  CIOObject *v8; // [esp+4h] [ebp-4h]

  result = (int)a1;
  if ( a1[7] != a6 )
  {
    if ( !sub_40A660(a1, 176) )
    {
      v8 = sub_446740(a2, a3, a4, a6);
      if ( v8 )
      {
        if ( sub_40A660(v8, 176) )
        {
          sub_448C90(a2, a3, a4, (int)a1, 36, "b", 60);
        }
        else if ( a5 )
        {
          sub_484A10(a2, a3, a4, (unsigned int)v8, (unsigned int)a1);
        }
        else
        {
          sub_448C90(a2, a3, a4, (int)v8, 54, "bd", 0, a1[7]);
        }
        CIOObject::Release(v8, a2, a3, a4, (volatile int *)v8 + 86);
      }
    }
    result = sub_447260(a1, 1);
  }
  return result;
}

//----- (00452880) --------------------------------------------------------
void __usercall sub_452880(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  volatile int *v5; // [esp+4h] [ebp-4h]

  sub_411FF0(a1, a2, a3, a4);
  v5 = *(volatile int **)(a1 + 1012);
  if ( v5 )
  {
    sub_4010D0(v5, a2, a3, a4);
    sub_412010(a1, a2, a3, a4);
    sub_484C00((int)v5, a2, a3, a4, a1);
    sub_401C50(v5, a2, a3, a4);
  }
  else
  {
    sub_412010(a1, a2, a3, a4);
  }
}

//----- (004528E0) --------------------------------------------------------
int __userpurge sub_4528E0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_448C90(a2, a3, a4, a1, 55, "b", a5);
  sub_43DE30((std::vector<IPAddrMask> *)(a1 + 992));
  *(_DWORD *)(a1 + 1012) = 0;
  return sub_447260((_DWORD *)a1, 6);
}

//----- (00452930) --------------------------------------------------------
void __userpurge sub_452930(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  void *v7; // eax
  char v9[4]; // [esp+4h] [ebp-28h] BYREF
  int v10; // [esp+8h] [ebp-24h]
  int v11; // [esp+Ch] [ebp-20h] BYREF
  int i; // [esp+10h] [ebp-1Ch]
  char *v13; // [esp+14h] [ebp-18h]
  unsigned __int16 *v14; // [esp+18h] [ebp-14h] BYREF
  char *v15; // [esp+1Ch] [ebp-10h]
  int v16; // [esp+20h] [ebp-Ch] BYREF
  int v17; // [esp+24h] [ebp-8h] BYREF
  void *v18; // [esp+28h] [ebp-4h]

  if ( a5 > 0 )
  {
    sub_411FF0(a1, a2, a3, a4);
    if ( *(_DWORD *)(a1 + 1012) && !sub_452B90(*(_DWORD **)(a1 + 1012)) && !sub_447290((_DWORD *)a1, 6) )
    {
      v15 = (char *)CTrade::GetOther(*(_DWORD **)(a1 + 1012), a1);
      if ( a5 + sub_452430(v15) > 60 )
      {
        sub_448C90(a2, a3, a4, a1, 36, "b", 20);
        sub_412010(a1, a2, a3, a4);
        return;
      }
      v18 = CIOBuffer::Alloc();
      v13 = (char *)v18;
      *((_BYTE *)v18 + 2) = 56;
      v14 = (unsigned __int16 *)(v13 + 4);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      for ( i = 0; ; ++i )
      {
        if ( i >= a5 )
        {
          CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
          WritePacket(a2, a3, a4, v13 + 3, "b", a5);
          *(_WORD *)v13 = (_WORD)v14 - (_WORD)v13;
          *((_DWORD *)v18 + 2000) = *(unsigned __int16 *)v13;
          sub_483370(*((_DWORD *)v15 + 351), a2, a3, a4, v18);
          sub_412010(a1, a2, a3, a4);
          return;
        }
        Src = ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "dd", &v16, &v17);
        if ( !v16 )
          break;
        if ( v17 <= 0 )
          break;
        sub_460550((int *)(a1 + 980), &v11, &v16);
        v7 = sub_482CA0((int *)(a1 + 980), v9);
        if ( (unsigned __int8)unknown_libname_25(v7) )
          break;
        v10 = *(_DWORD *)(sub_43E1A0(&v11) + 4);
        if ( !(*(int (__thiscall **)(int, int, int, char *))(*(_DWORD *)v10 + 140))(v10, v17, a1, v15) )
          break;
        (*(void (__thiscall **)(int, unsigned __int16 **, int))(*(_DWORD *)v10 + 72))(v10, &v14, v17);
        sub_460940(a1 + 992, &v16);
      }
      sub_43DE30((std::vector<IPAddrMask> *)(a1 + 992));
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      sub_448C90(a2, a3, a4, a1, 36, "b", 21);
      CIOBuffer::Release((CIOBuffer *)v18);
    }
    sub_412010(a1, a2, a3, a4);
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00452B90) --------------------------------------------------------
int __thiscall sub_452B90(_DWORD *this)
{
  return this[5] & 0x10;
}

//----- (00452BB0) --------------------------------------------------------
int __thiscall CTrade::GetOther(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-8h]

  if ( a2 == this[8] )
    v3 = this[9];
  else
    v3 = this[8];
  return v3;
}

//----- (00452BF0) --------------------------------------------------------
void __usercall sub_452BF0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  volatile int *v5; // [esp+4h] [ebp-4h]

  sub_411FF0((int)a1, a2, a3, a4);
  v5 = (volatile int *)a1[253];
  if ( v5 )
  {
    sub_4010D0(v5, a2, a3, a4);
    sub_412010((int)a1, a2, a3, a4);
    sub_484CA0((int)v5, a2, a3, a4, a1);
    sub_401C50(v5, a2, a3, a4);
  }
  else
  {
    sub_412010((int)a1, a2, a3, a4);
  }
}

//----- (00452C50) --------------------------------------------------------
int __thiscall sub_452C50(int *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int *v3; // eax
  int v4; // edx
  void *v5; // eax
  int v6; // eax
  char v8[4]; // [esp+4h] [ebp-1Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-18h] BYREF
  int v10; // [esp+Ch] [ebp-14h] BYREF
  int v11; // [esp+10h] [ebp-10h] BYREF
  int v12; // [esp+14h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-8h] BYREF
  int v14; // [esp+1Ch] [ebp-4h] BYREF

  if ( !this[253] || sub_40A640((_DWORD *)this[253]) )
    return 0;
  sub_482CA0(this + 248, &v14);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(this + 248, v9);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v14,
            v2) )
      break;
    v3 = (int *)sub_43E1F0(&v14);
    v4 = v3[1];
    v11 = *v3;
    v12 = v4;
    sub_460550(this + 245, &v13, &v11);
    v5 = sub_482CA0(this + 245, v8);
    if ( (unsigned __int8)unknown_libname_25(v5) )
      return 0;
    v6 = sub_43E1A0(&v13);
    if ( *(_DWORD *)(*(_DWORD *)(v6 + 4) + 52) < v12 )
      return 0;
    sub_42EAE0(&v14, &v10, 0);
  }
  return 1;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00452D40) --------------------------------------------------------
BOOL __userpurge sub_452D40@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  BOOL result; // eax
  int *v7; // eax
  int v8; // edx
  void *v9; // eax
  int v10; // [esp+0h] [ebp-30h]
  char v12[4]; // [esp+8h] [ebp-28h] BYREF
  char v13[4]; // [esp+Ch] [ebp-24h] BYREF
  _DWORD v14[2]; // [esp+10h] [ebp-20h] BYREF
  int v15; // [esp+18h] [ebp-18h] BYREF
  int v16; // [esp+1Ch] [ebp-14h]
  volatile int *v17; // [esp+20h] [ebp-10h]
  volatile int *v18; // [esp+24h] [ebp-Ch]
  int v19; // [esp+28h] [ebp-8h] BYREF
  int v20; // [esp+2Ch] [ebp-4h] BYREF

  sub_482CA0((int *)(a1 + 992), &v20);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 992), v13);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v20,
               v5);
    if ( !result )
      break;
    v7 = (int *)sub_43E1F0(&v20);
    v8 = v7[1];
    v15 = *v7;
    v16 = v8;
    v17 = 0;
    sub_460550((int *)(a1 + 980), &v19, &v15);
    v9 = sub_482CA0((int *)(a1 + 980), v12);
    if ( !(unsigned __int8)unknown_libname_25(v9) )
    {
      v18 = *(volatile int **)(sub_43E1A0(&v19) + 4);
      v17 = (volatile int *)(*(int (__thiscall **)(volatile int *, int, int, int))(*v18 + 132))(v18, a1, 10, v16);
      if ( v17 == v18 )
        sub_4516D0(a1, a2, a3, a4, (int)v18);
      if ( v17 )
      {
        sub_4010D0(v17, a2, a3, a4);
        if ( sub_452300(a5, a2, a3, a4, 10, v17) != 1 )
        {
          if ( *((_DWORD *)v17 + 11) )
            v10 = *(_DWORD *)(*((_DWORD *)v17 + 11) + 32);
          else
            v10 = 0;
          v14[1] = v10;
          LOG_ERR(
            "Fail to insert trade item.(iid:%d, index:%d, prefix:%d, num:%d)",
            *((_DWORD *)v17 + 9),
            *(_DWORD *)(*((_DWORD *)v17 + 10) + 64),
            v10,
            *((_DWORD *)v17 + 13));
          CBase::Delete(v17);
        }
        sub_401C50(v17, a2, a3, a4);
      }
    }
    sub_42EAE0(&v20, v14, 0);
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00452EB0) --------------------------------------------------------
void __userpurge sub_452EB0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  void *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // [esp+0h] [ebp-34h]
  char v11[8]; // [esp+8h] [ebp-2Ch] BYREF
  int v12[7]; // [esp+10h] [ebp-24h] BYREF
  char v13[4]; // [esp+2Ch] [ebp-8h] BYREF
  int v14; // [esp+30h] [ebp-4h] BYREF

  sub_460C30((int *)(a1 + 1040), &v14, (_DWORD *)((char *)a5 + 2));
  v7 = sub_482CA0((int *)(a1 + 1040), v13);
  if ( (unsigned __int8)unknown_libname_25(v7) )
  {
    v8 = sub_4622F0(v12, (_DWORD *)((char *)a5 + 2), a5);
    sub_460A20(
      (int *)(a1 + 1040),
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v11,
      v8);
  }
  else
  {
    v9 = (_DWORD *)(sub_43E1A0(&v14) + 12);
    *v9 += a5[2];
  }
  sub_448C90(a2, a3, a4, a1, 45, "ddb", a6, a7, 15);
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00452F60) --------------------------------------------------------
int __thiscall sub_452F60(int *this, int a2, int a3)
{
  int result; // eax

  if ( !a3 )
    result = sub_460BD0(this + 260, &a2);
  return result;
}

//----- (00452F90) --------------------------------------------------------
int __thiscall sub_452F90(int this, int a2, _DWORD *a3, int a4, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v8[4]; // [esp+Ch] [ebp-24h] BYREF
  int v9; // [esp+10h] [ebp-20h] BYREF
  __int16 v10[12]; // [esp+14h] [ebp-1Ch] BYREF
  int v11; // [esp+2Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 1040),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v11);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 1040), v8);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v11,
            v5) )
      break;
    qmemcpy(v10, (const void *)(sub_43E1A0(&v11) + 4), 0x17u);
    if ( a2 == (unsigned __int16)v10[0] && a4 == (HIBYTE(v10[3]) & 0x88) && (dword_4BAAA0 != 2 || a5 == LOBYTE(v10[7])) )
    {
      *a3 = *(_DWORD *)&v10[1];
      return 1;
    }
    sub_462330(&v11, &v9, 0);
  }
  return 0;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00453050) --------------------------------------------------------
void __usercall sub_453050(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  _WORD *v6; // edi
  char v8[4]; // [esp+Ch] [ebp-1Ch] BYREF
  int v9; // [esp+10h] [ebp-18h] BYREF
  int v10; // [esp+14h] [ebp-14h] BYREF
  char *v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+1Ch] [ebp-Ch]
  char *v13; // [esp+20h] [ebp-8h]
  void *Src; // [esp+24h] [ebp-4h]

  Src = CIOBuffer::Alloc();
  v11 = (char *)Src;
  *((_BYTE *)Src + 2) = 65;
  v13 = v11 + 4;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  v12 = unknown_libname_24(a1 + 1040);
  if ( v12 > 0 )
  {
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 1040),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1040), v8);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
              v4) )
        break;
      v5 = sub_43E1A0(&v10) + 4;
      v6 = v13;
      qmemcpy(v13, (const void *)v5, 0x14u);
      v6 += 10;
      *v6++ = *(_WORD *)(v5 + 20);
      *(_BYTE *)v6 = *(_BYTE *)(v5 + 22);
      a4 = v5 + 23;
      a3 = (DWORD)v6 + 1;
      v13 += 23;
      sub_462330(&v10, &v9, 0);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  WritePacket(a2, a3, a4, v11 + 3, "b", v12);
  *(_WORD *)v11 = (_WORD)v13 - (_WORD)v11;
  *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v11;
  sub_483370(*(_DWORD *)(a1 + 1404), a2, a3, a4, Src);
}

//----- (00453160) --------------------------------------------------------
void __userpurge sub_453160(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, void *Src, int a8)
{
  void *v8; // eax
  char v10[4]; // [esp+4h] [ebp-24h] BYREF
  int v11; // [esp+8h] [ebp-20h]
  int v12; // [esp+Ch] [ebp-1Ch] BYREF
  int i; // [esp+10h] [ebp-18h]
  int v14; // [esp+14h] [ebp-14h]
  int v15; // [esp+18h] [ebp-10h] BYREF
  _DWORD *v16; // [esp+1Ch] [ebp-Ch]
  char *v17; // [esp+20h] [ebp-8h]
  int v18; // [esp+24h] [ebp-4h] BYREF
  char *Srca; // [esp+38h] [ebp+10h]

  if ( a6 > 0 && sub_440D60(a2, a3, a4, a5, a1 + 324) )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    if ( (unsigned int)(a6 + unknown_libname_24(a1 + 1040)) <= 0x64 )
    {
      v16 = *(_DWORD **)(a1 + 1008);
      if ( v16 )
      {
        v17 = (char *)Src;
        Srca = ScanPacket(a2, a3, a4, (char *)Src, (char *)a8, "dd", &v18, &v15);
        v14 = 0;
        if ( v18 )
        {
          if ( v15 > 0 && v16[9] == v18 )
          {
            v14 += v15;
            Srca = v17;
          }
          else
          {
            --a6;
          }
        }
        v14 += 60 * a6;
        if ( v16[13] >= v14 )
        {
          v14 = 0;
          for ( i = 0; i < a6; ++i )
          {
            Srca = ScanPacket(a2, a3, a4, Srca, (char *)a8, "dd", &v18, &v15);
            if ( v15 > 0 )
            {
              sub_460550((int *)(a1 + 980), &v12, &v18);
              v8 = sub_482CA0((int *)(a1 + 980), v10);
              if ( !(unsigned __int8)unknown_libname_25(v8) )
              {
                v11 = *(_DWORD *)(sub_43E1A0(&v12) + 4);
                if ( (*(int (__thiscall **)(int, int, int))(*(_DWORD *)v11 + 152))(v11, a1, v15) )
                  sub_4516D0(a1, a2, a3, a4, v11);
                v14 += 60;
              }
            }
          }
          if ( !sub_40A640(v16) && !(*(int (__thiscall **)(_DWORD *, int, int, int))(*v16 + 120))(v16, a1, 15, -v14) )
            sub_4516D0(a1, a2, a3, a4, (int)v16);
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      sub_448C90(a2, a3, a4, a1, 36, "b", 39);
    }
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00453380) --------------------------------------------------------
void __userpurge sub_453380(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, void *Src, int a8)
{
  void *v8; // eax
  char v10[4]; // [esp+4h] [ebp-20h] BYREF
  _WORD *v11; // [esp+8h] [ebp-1Ch]
  _DWORD *v12; // [esp+Ch] [ebp-18h]
  _WORD *v13; // [esp+10h] [ebp-14h] BYREF
  int v14; // [esp+14h] [ebp-10h] BYREF
  int i; // [esp+18h] [ebp-Ch]
  int v16; // [esp+1Ch] [ebp-8h] BYREF
  int v17; // [esp+20h] [ebp-4h] BYREF

  if ( a6 > 0 && sub_440D60(a2, a3, a4, a5, a1 + 324) )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    if ( a6 + sub_452430((char *)a1) <= 60 )
    {
      for ( i = 0; i < a6; ++i )
      {
        Src = ScanPacket(a2, a3, a4, (char *)Src, (char *)a8, "dd", &v17, &v16);
        if ( v16 > 0 )
        {
          sub_460C30((int *)(a1 + 1040), &v14, &v17);
          v8 = sub_482CA0((int *)(a1 + 1040), v10);
          if ( !(unsigned __int8)unknown_libname_25(v8) )
          {
            v11 = (_WORD *)(sub_43E1A0(&v14) + 4);
            v13 = v11;
            v12 = sub_424AB0(*(_DWORD *)(a1 + 444), &v13);
            if ( v12 )
            {
              if ( (*(int (__thiscall **)(_DWORD *, int, int, _DWORD, _WORD *))(*v12 + 156))(
                     v12,
                     a1,
                     v16,
                     (unsigned __int16)*v11,
                     v11 + 4) )
              {
                sub_451660(a1, a2, a3, a4, (int)v12);
              }
            }
          }
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      sub_448C90(a2, a3, a4, a1, 36, "b", 40);
    }
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00453500) --------------------------------------------------------
void __userpurge sub_453500(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  _DWORD *v8; // eax
  char v10[8]; // [esp+8h] [ebp-68h] BYREF
  int v11[8]; // [esp+10h] [ebp-60h] BYREF
  char v12[4]; // [esp+30h] [ebp-40h] BYREF
  char *Source; // [esp+34h] [ebp-3Ch] BYREF
  int v14; // [esp+38h] [ebp-38h] BYREF
  char *v15; // [esp+3Ch] [ebp-34h] BYREF
  int v16; // [esp+40h] [ebp-30h]
  char v17[28]; // [esp+44h] [ebp-2Ch] BYREF
  int v18; // [esp+60h] [ebp-10h] BYREF
  int v19; // [esp+64h] [ebp-Ch] BYREF
  int v20; // [esp+68h] [ebp-8h] BYREF
  int v21; // [esp+6Ch] [ebp-4h] BYREF

  if ( sub_40A660((_DWORD *)a1, 256) )
  {
    sub_448C90(a2, a3, a4, a1, 77, "b", 10);
    return;
  }
  if ( CSMap::IsOnTile(*(_DWORD **)(a1 + 312), (int *)(a1 + 324), 0x100000) )
  {
    sub_448C90(a2, a3, a4, a1, 36, "b", 84);
    return;
  }
  if ( a5 )
  {
    if ( a5 == 1 )
    {
      ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "d", &v14);
      if ( sub_40A660((_DWORD *)a1, 16) )
        InterlockedIncrement((volatile LONG *)(a1 + 1132));
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      sub_460EC0((int *)(a1 + 1052), &v14);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
    else if ( a5 == 2 )
    {
      ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "s", &Source, 65);
      strcpy((char *)(a1 + 1064), Source);
      if ( sub_40A660((_DWORD *)a1, 16) )
        sub_40ACD0(a2, a3, a4, a1, 73, "bds", 1, *(_DWORD *)(a1 + 28), a1 + 1064);
    }
  }
  else
  {
    ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "ddd", &v21, &v19, &v20);
    if ( v19 > 0 && v20 > 0 )
    {
      if ( sub_40A660((_DWORD *)a1, 16) )
        InterlockedIncrement((volatile LONG *)(a1 + 1132));
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      if ( (unsigned int)unknown_libname_24(a1 + 1052) < 0x10 )
      {
        sub_460550((int *)(a1 + 980), &v18, &v21);
        v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v12);
        if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v18,
               v7) )
        {
          v16 = *(_DWORD *)(sub_43E1A0(&v18) + 4);
          if ( !(*(int (__thiscall **)(int, int, int, _DWORD))(*(_DWORD *)v16 + 140))(v16, v19, a1, 0) )
          {
            CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
            sub_453850(a1, a2, a3, a4, 0, a1);
            return;
          }
          sub_4537C0(v17, v20);
          v15 = v17;
          (*(void (__thiscall **)(int, char **, int))(*(_DWORD *)v16 + 72))(v16, &v15, v19);
          v8 = sub_462390(v11, &v21, v17);
          sub_460D10(
            (int *)(a1 + 1052),
            (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v10,
            v8);
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
  }
}

//----- (004537C0) --------------------------------------------------------
char *__thiscall sub_4537C0(char *this, int a2)
{
  this[22] = 0;
  this[21] = 0;
  this[20] = 0;
  this[19] = 0;
  this[18] = 0;
  this[17] = 0;
  this[16] = 0;
  this[15] = 0;
  this[14] = 0;
  this[13] = 0;
  this[12] = 0;
  *((_DWORD *)this + 2) = 0;
  this[7] = 0;
  this[6] = 0;
  *((_WORD *)this + 2) = 0;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 23) = a2;
  return this;
}

//----- (00453850) --------------------------------------------------------
void __userpurge sub_453850(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // eax
  _WORD *v8; // edi
  char v10[4]; // [esp+10h] [ebp-1Ch] BYREF
  int v11; // [esp+14h] [ebp-18h] BYREF
  int v12; // [esp+18h] [ebp-14h] BYREF
  char *v13; // [esp+1Ch] [ebp-10h]
  int v14; // [esp+20h] [ebp-Ch]
  char *v15; // [esp+24h] [ebp-8h]
  void *Src; // [esp+28h] [ebp-4h]

  if ( sub_40A660((_DWORD *)a1, 256) )
  {
    sub_448C90(a2, a3, a4, a1, 77, "b", 10);
  }
  else if ( a5 )
  {
    if ( a5 == 1 )
      sub_448C90(a2, a3, a4, a6, 73, "bds", 1, *(_DWORD *)(a1 + 28), a1 + 1064);
  }
  else
  {
    Src = CIOBuffer::Alloc();
    v13 = (char *)Src;
    *((_BYTE *)Src + 2) = 73;
    v15 = v13 + 13;
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    v14 = unknown_libname_24(a1 + 1052);
    if ( v14 > 0 )
    {
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 1052),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v12);
      while ( 1 )
      {
        v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1052), v10);
        if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
                v6) )
          break;
        v7 = sub_43E1A0(&v12) + 4;
        v8 = v15;
        qmemcpy(v15, (const void *)v7, 0x18u);
        v8 += 12;
        *v8++ = *(_WORD *)(v7 + 24);
        *(_BYTE *)v8 = *(_BYTE *)(v7 + 26);
        a4 = v7 + 27;
        a3 = (DWORD)v8 + 1;
        v15 += 27;
        sub_431F10(&v12, &v11, 0);
      }
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    WritePacket(a2, a3, a4, v13 + 3, "bddb", 0, *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 1132), v14);
    *(_WORD *)v13 = (_WORD)v15 - (_WORD)v13;
    *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v13;
    sub_448C30(a6, a2, a3, a4, Src);
    CIOBuffer::Release((CIOBuffer *)Src);
  }
}

//----- (004539F0) --------------------------------------------------------
void __userpurge sub_4539F0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const char *v5; // [esp+0h] [ebp-Ch]
  int v7; // [esp+8h] [ebp-4h]

  if ( a5 )
  {
    sub_411FF0(a1, a2, a3, a4);
    v7 = *(_DWORD *)(a1 + 1012);
    sub_412010(a1, a2, a3, a4);
    if ( sub_453AF0((_DWORD *)a1, 1843200) || *(_DWORD *)(a1 + 928) || v7 || sub_447290((_DWORD *)a1, 7) )
      return;
    CChar::AddGState((volatile LONG *)a1, 20);
  }
  else
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    sub_460F20((int *)(a1 + 1052));
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    if ( !sub_40A660((_DWORD *)a1, 16) )
      return;
    CChar::SubGState((volatile LONG *)a1, 20);
  }
  if ( a5 )
    v5 = (const char *)(a1 + 1064);
  else
    v5 = &Src;
  sub_40ACD0(a2, a3, a4, a1, 30, "dbbs", *(_DWORD *)(a1 + 28), 11, a5, v5);
}

//----- (00453AF0) --------------------------------------------------------
int __thiscall sub_453AF0(_DWORD *this, int a2)
{
  return this[70] & ~a2;
}

//----- (00453B10) --------------------------------------------------------
void __userpurge sub_453B10(unsigned int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4@<esi>, int a5, int a6, int a7, void *Src, int a9)
{
  void *v9; // eax
  int v10; // eax
  void *v11; // eax
  int v13; // [esp+8h] [ebp-3Ch] BYREF
  int v14; // [esp+Ch] [ebp-38h] BYREF
  char v15[4]; // [esp+10h] [ebp-34h] BYREF
  char v16[4]; // [esp+14h] [ebp-30h] BYREF
  int v17; // [esp+18h] [ebp-2Ch]
  int v18; // [esp+1Ch] [ebp-28h]
  volatile signed __int32 *v19; // [esp+20h] [ebp-24h]
  volatile signed __int32 *v20; // [esp+24h] [ebp-20h]
  int v21; // [esp+28h] [ebp-1Ch] BYREF
  volatile signed __int32 *v22; // [esp+2Ch] [ebp-18h]
  int v23; // [esp+30h] [ebp-14h] BYREF
  int v24; // [esp+34h] [ebp-10h] BYREF
  int v25; // [esp+38h] [ebp-Ch] BYREF
  volatile signed __int32 *v26; // [esp+3Ch] [ebp-8h]
  int i; // [esp+40h] [ebp-4h]

  if ( sub_40A660((_DWORD *)a1, 16) )
  {
    if ( *(_DWORD *)(a1 + 1132) == a6 )
    {
      if ( a7 + sub_452430((char *)a5) <= 60 )
      {
        sub_453EC0(a2, a3, a4, a1, a5);
        for ( i = 0; i < a7; ++i )
        {
          Src = ScanPacket(a2, a3, a4, (char *)Src, (char *)a9, "dd", &v25, &v21);
          if ( v21 > 0 )
          {
            sub_461380(
              (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1052),
              &v24,
              &v25);
            v9 = sub_482CA0((int *)(a1 + 1052), v16);
            if ( (unsigned __int8)unknown_libname_25(v9) )
            {
              sub_448C90(a2, a3, a4, a5, 37, "bd", 45, v25);
            }
            else
            {
              v18 = sub_43E1A0(&v24) + 4;
              v10 = sub_453E50(v18);
              if ( v21 <= v10 )
              {
                sub_460550((int *)(a1 + 980), &v23, &v25);
                v11 = sub_482CA0((int *)(a1 + 980), v15);
                if ( (unsigned __int8)unknown_libname_25(v11)
                  || (a4 = sub_453E50(v18), a4 > *(_DWORD *)(*(_DWORD *)(sub_43E1A0(&v23) + 4) + 52)) )
                {
                  sub_448C90(a2, a3, a4, a5, 36, "b", 47);
                  sub_467720((int *)(a1 + 1052), &v14, v24);
                }
                else
                {
                  v17 = *(_DWORD *)(v18 + 23) * v21;
                  if ( v17 <= 0 )
                    break;
                  v20 = *(volatile signed __int32 **)(a5 + 1008);
                  if ( !v20 || v17 > *((_DWORD *)v20 + 13) )
                    break;
                  v22 = *(volatile signed __int32 **)(sub_43E1A0(&v23) + 4);
                  v19 = (volatile signed __int32 *)(*(int (__thiscall **)(volatile signed __int32 *, unsigned int, int, int))(*v22 + 132))(
                                                     v22,
                                                     a1,
                                                     26,
                                                     v21);
                  if ( v19 == v22 )
                    sub_4516D0(a1, a2, a3, a4, (int)v22);
                  if ( sub_452300((char *)a5, a2, a3, a4, 26, v19) != 1 )
                    CBase::Delete(v19);
                  v26 = (volatile signed __int32 *)(*(int (__thiscall **)(volatile signed __int32 *, int, int, int))(*v20 + 132))(
                                                     v20,
                                                     a5,
                                                     26,
                                                     v17);
                  if ( v26 == v20 )
                    sub_4516D0(a5, a2, a3, a4, (int)v20);
                  if ( sub_452300((char *)a1, a2, a3, a4, 26, v26) != 1 )
                    CBase::Delete(v26);
                  if ( !sub_453E80(v18, v21) )
                    sub_467720((int *)(a1 + 1052), &v13, v24);
                }
              }
              else
              {
                sub_448C90(a2, a3, a4, a5, 37, "bd", 46, v25);
              }
            }
          }
        }
        sub_453F10(a2, a3, a4, a1, a5);
        sub_453850(a1, a2, a3, a4, 0, a5);
        sub_453850(a1, a2, a3, a4, 0, a1);
      }
      else
      {
        sub_448C90(a2, a3, a4, a5, 36, "b", 40);
      }
    }
    else
    {
      sub_453850(a1, a2, a3, a4, 0, a5);
      sub_448C90(a2, a3, a4, a5, 36, "b", 48);
    }
  }
  else
  {
    sub_448C90(a2, a3, a4, a5, 36, "b", 50);
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00453E50) --------------------------------------------------------
int __thiscall sub_453E50(int this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( (*(_BYTE *)(this + 7) & 0x20) != 0 )
    v2 = 1;
  else
    v2 = *(_DWORD *)(this + 8);
  return v2;
}

//----- (00453E80) --------------------------------------------------------
int __thiscall sub_453E80(int this, int a2)
{
  if ( (*(_BYTE *)(this + 7) & 0x20) != 0 )
    return 0;
  *(_DWORD *)(this + 8) -= a2;
  return *(_DWORD *)(this + 8);
}

//----- (00453EC0) --------------------------------------------------------
void __usercall sub_453EC0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5)
{
  if ( a4 >= a5 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 932), a1, a2, a3);
    CIOCriticalSection::Enter((CIOCriticalSection *)(a4 + 932), a1, a2, a3);
  }
  else
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a4 + 932), a1, a2, a3);
    CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 932), a1, a2, a3);
  }
}

//----- (00453F10) --------------------------------------------------------
void __usercall sub_453F10(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  CIOCriticalSection::Leave((CIOCriticalSection *)(a4 + 932), a1, a2, a3);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a1, a2, a3);
}

//----- (00453F40) --------------------------------------------------------
void __userpurge sub_453F40(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  volatile int *v6; // [esp+4h] [ebp-Ch]
  int v7; // [esp+8h] [ebp-8h]
  CIOObject *v8; // [esp+Ch] [ebp-4h]

  if ( a1[7] != a5 && !sub_40A660(a1, 144) )
  {
    sub_411FF0((int)a1, a2, a3, a4);
    v7 = a1[232];
    if ( v7 )
    {
      v6 = sub_443890(a2, a3, a4, v7);
      if ( v6 )
      {
        if ( !CParty::IsHead((int)v6, a2, a3, a4, (int)a1) )
        {
          sub_412010((int)a1, a2, a3, a4);
          sub_448C90(a2, a3, a4, (int)a1, 36, "b", 27);
          sub_401C50(v6, a2, a3, a4);
          return;
        }
        sub_401C50(v6, a2, a3, a4);
      }
    }
    sub_412010((int)a1, a2, a3, a4);
    if ( sub_40A660(a1, 256) )
    {
      sub_448C90(a2, a3, a4, (int)a1, 77, "b", 12);
    }
    else
    {
      v8 = sub_446740(a2, a3, a4, a5);
      if ( v8 )
      {
        if ( sub_40A660(v8, 256) )
        {
          sub_448C90(a2, a3, a4, (int)a1, 77, "b", 13);
          CIOObject::Release(v8, a2, a3, a4, (volatile int *)v8 + 86);
        }
        else
        {
          if ( !sub_40A660(v8, 144) )
          {
            if ( *((_DWORD *)v8 + 232) )
            {
              sub_448C90(a2, a3, a4, (int)a1, 37, "bs", 31, (char *)v8 + 32);
            }
            else
            {
              sub_448C90(a2, a3, a4, (int)v8, 59, "d", a1[7]);
              sub_448C90(a2, a3, a4, (int)a1, 37, "bs", 28, (char *)v8 + 32);
            }
          }
          CIOObject::Release(v8, a2, a3, a4, (volatile int *)v8 + 86);
        }
      }
      else
      {
        sub_448C90(a2, a3, a4, (int)a1, 36, "b", 37);
      }
    }
  }
}

//----- (00454110) --------------------------------------------------------
void __userpurge sub_454110(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  CIOObject *v7; // [esp+4h] [ebp-4h]

  if ( a1[7] != a6 && !sub_40A660(a1, 144) )
  {
    v7 = sub_446740(a2, a3, a4, a6);
    if ( v7 )
    {
      if ( sub_40A660(v7, 128) )
      {
        sub_448C90(a2, a3, a4, (int)a1, 36, "b", 61);
      }
      else if ( sub_440790((_DWORD *)v7 + 81, a1 + 81) > 320 )
      {
        sub_448C90(a2, a3, a4, (int)a1, 36, "b", 37);
      }
      else if ( a5 )
      {
        sub_443900(a2, a3, a4, (unsigned int)v7, (unsigned int)a1);
      }
      else
      {
        sub_448C90(a2, a3, a4, (int)v7, 37, "bs", 34, a1 + 8);
      }
      CIOObject::Release(v7, a2, a3, a4, (volatile int *)v7 + 86);
    }
    else
    {
      sub_448C90(a2, a3, a4, (int)a1, 36, "b", 37);
    }
  }
}

//----- (00454220) --------------------------------------------------------
void __usercall sub_454220(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  volatile int *v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v6 = *(_DWORD *)(a1 + 928);
  if ( v6 )
  {
    v5 = sub_443890(a2, a3, a4, v6);
    if ( v5 )
    {
      sub_443ED0((int)v5, a2, a3, a4, a1);
      sub_401C50(v5, a2, a3, a4);
    }
  }
}

//----- (00454270) --------------------------------------------------------
void __userpurge sub_454270(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  volatile int *v6; // [esp+4h] [ebp-Ch]
  volatile int *v7; // [esp+8h] [ebp-8h]
  int v8; // [esp+Ch] [ebp-4h]

  if ( *(_DWORD *)(a1 + 28) != a5 )
  {
    v8 = *(_DWORD *)(a1 + 928);
    if ( v8 )
    {
      v7 = sub_443890(a2, a3, a4, v8);
      if ( v7 )
      {
        v6 = (volatile int *)sub_446740(a2, a3, a4, a5);
        if ( v6 )
        {
          sub_444170((int)v7, a2, a3, a4, a1, (int)v6);
          CIOObject::Release((CIOObject *)v6, a2, a3, a4, v6 + 86);
        }
        sub_401C50(v7, a2, a3, a4);
      }
    }
  }
}

//----- (00454300) --------------------------------------------------------
int __usercall sub_454300@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  volatile int *v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  v7 = 0;
  v6 = *(_DWORD *)(a1 + 928);
  if ( v6 )
  {
    v5 = sub_443890(a2, a3, a4, v6);
    if ( v5 )
    {
      v7 = sub_411FD0((int)v5);
      sub_401C50(v5, a2, a3, a4);
    }
  }
  return v7;
}

//----- (00454360) --------------------------------------------------------
void __userpurge sub_454360(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  volatile int *v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  v7 = a1[232];
  if ( v7 )
  {
    v6 = sub_443890(a2, a3, a4, v7);
    if ( v6 )
    {
      if ( a5 == 7 )
      {
        sub_444900((int)v6, a2, a3, a4, a1);
      }
      else if ( a5 == 26 )
      {
        sub_444970((int)v6, a2, a3, a4, (int)a1);
      }
      sub_401C50(v6, a2, a3, a4);
    }
  }
}

//----- (004543D0) --------------------------------------------------------
void __userpurge sub_4543D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // eax
  int v8; // eax
  _DWORD *v9; // eax
  int v11[3]; // [esp+4h] [ebp-2Ch] BYREF
  char v12[4]; // [esp+10h] [ebp-20h] BYREF
  char v13[8]; // [esp+14h] [ebp-1Ch] BYREF
  int v14[2]; // [esp+1Ch] [ebp-14h] BYREF
  int v15; // [esp+24h] [ebp-Ch] BYREF
  int v16; // [esp+28h] [ebp-8h]
  int v17; // [esp+2Ch] [ebp-4h] BYREF

  v15 = a5 >> 16;
  v16 = (unsigned __int16)a5;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
  sub_461240((int *)(a1 + 1168), &v17, &v15);
  v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1168), v12);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v17,
         v6) )
  {
    v7 = sub_43E1A0(&v17);
    if ( v16 <= *(_DWORD *)(v7 + 4) )
    {
      LOG_ERR(
        "CPlayer::SaveQuestFlag() Already saved quest flag. (pid:%d, quest:%d, flag:%d)",
        *(_DWORD *)(a1 + 444),
        v15,
        v16);
    }
    else
    {
      v8 = sub_43E1A0(&v17);
      *(_DWORD *)(v8 + 4) = v16;
      *(_DWORD *)(sub_43E1A0(&v17) + 8) = a6;
      sub_448C90(a2, a3, a4, a1, 63, "wbb", v15, v16, a6);
      CDBSocket::Write(a2, a3, a4, 14, "dwbb", *(_DWORD *)(a1 + 444), v15, v16, a6);
    }
  }
  else
  {
    v14[0] = v16;
    v14[1] = a6;
    v9 = sub_462360(v11, &v15, v14);
    sub_460FD0(
      (int *)(a1 + 1168),
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v13,
      v9);
    if ( !v13[4] )
      LOG_ERR(
        "CPlayer::SaveQuestFlag() Failed to save quest flag. (pid:%d, quest:%d, flag:%d)",
        *(_DWORD *)(a1 + 444),
        v15,
        v16);
    sub_448C90(a2, a3, a4, a1, 63, "wbb", v15, v16, a6);
    CDBSocket::Write(a2, a3, a4, 13, "dwbb", *(_DWORD *)(a1 + 444), v15, v16, a6);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
}

//----- (00454580) --------------------------------------------------------
BOOL __userpurge sub_454580@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  int v7; // edx
  char v10[4]; // [esp+4h] [ebp-18h] BYREF
  int v11; // [esp+8h] [ebp-14h] BYREF
  int v12; // [esp+Ch] [ebp-10h]
  int v13; // [esp+10h] [ebp-Ch]
  int v14; // [esp+14h] [ebp-8h]
  int v15; // [esp+18h] [ebp-4h] BYREF

  v11 = a5 >> 16;
  v14 = (unsigned __int16)a5;
  v12 = 0;
  v13 = 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
  sub_461240((int *)(a1 + 1168), &v15, &v11);
  v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1168), v10);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v15,
         v5) )
  {
    v6 = sub_43E1A0(&v15);
    v7 = *(_DWORD *)(v6 + 8);
    v12 = *(_DWORD *)(v6 + 4);
    v13 = v7;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
  return v12 == v14;
}

//----- (00454630) --------------------------------------------------------
int __userpurge sub_454630@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  int v7; // edx
  char v10[4]; // [esp+4h] [ebp-10h] BYREF
  int v11; // [esp+8h] [ebp-Ch]
  int v12; // [esp+Ch] [ebp-8h]
  int v13; // [esp+10h] [ebp-4h] BYREF

  v11 = 0;
  v12 = 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
  sub_461240((int *)(a1 + 1168), &v13, &a5);
  v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1168), v10);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v13,
         v5) )
  {
    v6 = sub_43E1A0(&v13);
    v7 = *(_DWORD *)(v6 + 8);
    v11 = *(_DWORD *)(v6 + 4);
    v12 = v7;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
  return v12;
}

//----- (004546C0) --------------------------------------------------------
void __userpurge sub_4546C0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  void *v5; // eax
  char v7[4]; // [esp+4h] [ebp-18h] BYREF
  int v8; // [esp+8h] [ebp-14h] BYREF
  int i; // [esp+Ch] [ebp-10h]
  int v10; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h] BYREF
  int v12; // [esp+18h] [ebp-4h]

  v12 = 200046;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
  for ( i = 0; i < dword_4B95B8; ++i )
  {
    v10 = dword_4AE334[3 * i];
    if ( *(_DWORD *)(a1 + 60) < v10 )
    {
      v12 = 200035;
      break;
    }
    v11 = dword_4AE330[3 * i];
    sub_461240((int *)(a1 + 1168), &v8, &v11);
    v5 = sub_482CA0((int *)(a1 + 1168), v7);
    if ( (unsigned __int8)unknown_libname_25(v5) )
    {
      v12 = dword_4AE338[3 * i];
      break;
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
  sub_448C90(a2, a3, a4, a1, 51, "d", v12);
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);
// 4AE330: using guessed type int dword_4AE330[];
// 4AE334: using guessed type int dword_4AE334[];
// 4B95B8: using guessed type int dword_4B95B8;

//----- (004547B0) --------------------------------------------------------
void __userpurge sub_4547B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CIOObject *v6; // [esp+4h] [ebp-4h]

  if ( a1[7] != a5 )
  {
    v6 = sub_446740(a2, a3, a4, a5);
    if ( v6 )
    {
      sub_454940(a2, a3, a4, (unsigned int)a1, (unsigned int)v6);
      if ( !CChar::IsNormal(a1) || sub_447290(a1, 1) || a1[253] || sub_40A660(a1, 144) || a1[349] )
      {
        sub_448C90(a2, a3, a4, (int)a1, 37, "bb", 62, 0);
      }
      else if ( !CChar::IsNormal(v6) || sub_447290(v6, 1) || *((_DWORD *)v6 + 253) || sub_40A660(v6, 144) || a1[349] )
      {
        sub_448C90(a2, a3, a4, (int)a1, 37, "bb", 62, 1);
      }
      else if ( sub_440790(a1 + 81, (_DWORD *)v6 + 81) <= 160 )
      {
        sub_448C90(a2, a3, a4, (int)v6, 78, "d", a1[7]);
      }
      else
      {
        sub_448C90(a2, a3, a4, (int)a1, 36, "b", 63);
      }
      sub_4439D0(a2, a3, a4, (int)a1, (int)v6);
      CIOObject::Release(v6, a2, a3, a4, (volatile int *)v6 + 86);
    }
    else
    {
      sub_448C90(a2, a3, a4, (int)a1, 36, "b", 63);
    }
  }
}

//----- (00454940) --------------------------------------------------------
void __usercall sub_454940(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5)
{
  if ( a4 >= a5 )
  {
    sub_411FF0(a5, a1, a2, a3);
    sub_411FF0(a4, a1, a2, a3);
  }
  else
  {
    sub_411FF0(a4, a1, a2, a3);
    sub_411FF0(a5, a1, a2, a3);
  }
}

//----- (00454970) --------------------------------------------------------
void __userpurge sub_454970(unsigned int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // eax
  int v8; // [esp-4h] [ebp-10h]
  CMemory *i; // [esp+4h] [ebp-8h]
  CIOObject *v11; // [esp+8h] [ebp-4h]

  if ( *(_DWORD *)(a1 + 28) != a6 )
  {
    v11 = sub_446740(a2, a3, a4, a6);
    if ( v11 )
    {
      sub_454940(a2, a3, a4, a1, (unsigned int)v11);
      if ( !CChar::IsNormal((_DWORD *)a1)
        || sub_447290((_DWORD *)a1, 1)
        || *(_DWORD *)(a1 + 1012)
        || sub_40A660((_DWORD *)a1, 144)
        || *(_DWORD *)(a1 + 1396) )
      {
        sub_448C90(a2, a3, a4, a1, 37, "bb", 62, 0);
      }
      else if ( !CChar::IsNormal(v11)
             || sub_447290(v11, 1)
             || *((_DWORD *)v11 + 253)
             || sub_40A660(v11, 144)
             || *(_DWORD *)(a1 + 1396) )
      {
        sub_448C90(a2, a3, a4, a1, 37, "bb", 62, 1);
      }
      else if ( sub_440790((_DWORD *)(a1 + 324), (_DWORD *)v11 + 81) <= 160 )
      {
        if ( a5 )
        {
          sub_4010D0((volatile int *)a1, a2, a3, a4);
          CChar::AddGState((volatile LONG *)a1, 128);
          sub_448C90(a2, a3, a4, a1, 9, "dd", *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 280));
          *(_DWORD *)(a1 + 1396) = v11;
          sub_4010D0((volatile int *)v11, a2, a3, a4);
          CChar::AddGState((volatile LONG *)v11, 128);
          v8 = *((_DWORD *)v11 + 70);
          v6 = unknown_libname_4(v11);
          sub_448C90(a2, a3, a4, (int)v11, 9, "dd", v6, v8);
          *((_DWORD *)v11 + 349) = a1;
          *((_DWORD *)v11 + 348) = InterlockedIncrement(&dword_4B95C4);
          *(_DWORD *)(a1 + 1392) = *((_DWORD *)v11 + 348);
          for ( i = sub_4822A0(*(char **)(a1 + 312), a2, a3, a4, (_DWORD *)(a1 + 316), 5);
                i;
                i = (CMemory *)CBaseList::Pop((int)i, a2, a3, a4) )
          {
            v7 = unknown_libname_10(i);
            sub_448C90(a2, a3, a4, v7, 37, "bbss", 65, 5, (char *)v11 + 32, a1 + 32);
          }
        }
        else
        {
          sub_448C90(a2, a3, a4, (int)v11, 37, "bs", 64, a1 + 32);
        }
      }
      else
      {
        sub_448C90(a2, a3, a4, a1, 36, "b", 63);
      }
      sub_4439D0(a2, a3, a4, a1, (int)v11);
      CIOObject::Release(v11, a2, a3, a4, (volatile int *)v11 + 86);
    }
    else
    {
      sub_448C90(a2, a3, a4, a1, 36, "b", 63);
    }
  }
}

//----- (00454C20) --------------------------------------------------------
void __usercall sub_454C20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v6; // [esp+4h] [ebp-4h]

  v6 = *(_DWORD *)(a1 + 1396);
  if ( !v6 )
    EBREAK(a2, a3, a4);
  if ( CChar::IsNormal((_DWORD *)v6) && *(_DWORD *)(a1 + 1392) == *(_DWORD *)(v6 + 1392) )
  {
    if ( *(_DWORD *)(a1 + 1400) < 4u )
    {
      if ( *(_DWORD *)(a1 + 28) >= unknown_libname_4(v6) )
      {
        if ( ++*(_DWORD *)(a1 + 1400) >= 4u )
        {
          v4 = unknown_libname_4(v6);
          sub_448C90(a2, a3, a4, a1, 37, "bbd", 65, 1, v4);
          sub_448C90(a2, a3, a4, v6, 37, "bbd", 65, 1, *(_DWORD *)(a1 + 28));
        }
        else
        {
          sub_448C90(a2, a3, a4, a1, 37, "bbsb", 65, 0, v6 + 32, 4 - *(_DWORD *)(a1 + 1400));
          sub_448C90(a2, a3, a4, v6, 37, "bbsb", 65, 0, a1 + 32, 4 - *(_DWORD *)(a1 + 1400));
        }
      }
    }
    else if ( ++*(_DWORD *)(a1 + 1400) >= 0x258u )
    {
      sub_454DF0(a1, a2, a3, a4, (volatile int *)v6, 4, 4, 7);
    }
  }
  else
  {
    *(_DWORD *)(a1 + 1392) = 0;
    *(_DWORD *)(a1 + 1396) = 0;
    *(_DWORD *)(a1 + 1400) = 0;
    CChar::SubGState((volatile LONG *)a1, 128);
    sub_448C90(a2, a3, a4, a1, 9, "dd", *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 280));
    sub_401C50((volatile int *)v6, a2, a3, a4);
  }
}

//----- (00454DF0) --------------------------------------------------------
void __userpurge sub_454DF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5, int a6, int a7, int a8)
{
  int v8; // eax
  CMemory *i; // [esp+4h] [ebp-4h]

  sub_448C90(a2, a3, a4, a1, 37, "bbs", 65, a6, a5 + 8);
  sub_448C90(a2, a3, a4, (int)a5, 37, "bbs", 65, a7, a1 + 32);
  for ( i = sub_4822A0(*(char **)(a1 + 312), a2, a3, a4, (_DWORD *)(a1 + 316), 5);
        i;
        i = (CMemory *)CBaseList::Pop((int)i, a2, a3, a4) )
  {
    v8 = unknown_libname_10(i);
    sub_448C90(a2, a3, a4, v8, 37, "bbss", 65, a8, a1 + 32, a5 + 8);
  }
  *(_DWORD *)(a1 + 1392) = 0;
  *(_DWORD *)(a1 + 1396) = 0;
  *(_DWORD *)(a1 + 1400) = 0;
  CChar::SubGState((volatile LONG *)a1, 128);
  sub_448C90(a2, a3, a4, a1, 9, "dd", *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 280));
  sub_401C50(a5, a2, a3, a4);
}

//----- (00454F00) --------------------------------------------------------
void __userpurge sub_454F00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Str1)
{
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  void *v10; // [esp-4h] [ebp-70h]
  void *v11; // [esp-4h] [ebp-70h]
  void *v12; // [esp-4h] [ebp-70h]
  CMemory *j; // [esp+8h] [ebp-64h]
  CMemory **v15; // [esp+Ch] [ebp-60h]
  CMemory *v16; // [esp+10h] [ebp-5Ch] BYREF
  void *v17; // [esp+14h] [ebp-58h]
  CMemory *v18; // [esp+18h] [ebp-54h] BYREF
  void *v19; // [esp+1Ch] [ebp-50h]
  void *v20; // [esp+20h] [ebp-4Ch]
  CIOObject *v21; // [esp+24h] [ebp-48h]
  void *v22; // [esp+28h] [ebp-44h]
  CIOObject *v23; // [esp+2Ch] [ebp-40h]
  void *v24; // [esp+30h] [ebp-3Ch]
  volatile int *v25; // [esp+34h] [ebp-38h]
  int v26; // [esp+38h] [ebp-34h]
  void *Src; // [esp+3Ch] [ebp-30h]
  char v28; // [esp+40h] [ebp-2Ch] BYREF
  int v29; // [esp+41h] [ebp-2Bh]
  int v30; // [esp+45h] [ebp-27h]
  int v31; // [esp+49h] [ebp-23h]
  int v32; // [esp+4Dh] [ebp-1Fh]
  CIOObject *v33; // [esp+58h] [ebp-14h]
  size_t Size; // [esp+5Ch] [ebp-10h]
  CMemory *i; // [esp+60h] [ebp-Ch]
  void *v36; // [esp+64h] [ebp-8h]
  DWORD v37; // [esp+68h] [ebp-4h]

  v37 = GetTickCount();
  if ( *(_DWORD *)(a1 + 1340) <= v37 )
  {
    *(_DWORD *)(a1 + 1340) = v37 + 1000;
    switch ( *Str1 )
    {
      case '#':
        v26 = *(_DWORD *)(a1 + 928);
        if ( v26 )
        {
          v25 = sub_443890(a2, a3, a4, v26);
          if ( v25 )
          {
            v24 = sub_445C90(a2, a3, a4, 29, "ss", a1 + 32, Str1);
            CParty::Broadcast((int)v25, a2, a3, a4, v24, 0);
            sub_401C50(v25, a2, a3, a4);
          }
        }
        break;
      case '$':
        v23 = (CIOObject *)sub_45DDB0(a1, a2, a3, a4);
        if ( v23 )
        {
          v22 = sub_445C90(a2, a3, a4, 29, "ss", a1 + 32, Str1);
          CGuild::BroadcastLock((int)v23, a2, a3, a4, v22, 0);
          CIOBuffer::Release((CIOBuffer *)v22);
          CIOObject::Release(v23, a2, a3, a4, (volatile int *)v23 + 10);
        }
        break;
      case '&':
        sub_448C90(a2, a3, a4, a1, 29, "ss", a1 + 32, Str1);
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        v18 = 0;
        sub_45B100((_DWORD *)a1, a2, a3, a4, &v18, 3);
        v19 = sub_445C90(a2, a3, a4, 29, "ss", a1 + 32, Str1);
        while ( v18 )
        {
          v10 = v19;
          v6 = unknown_libname_10(v18);
          sub_448C30(v6, a2, a3, a4, v10);
          v18 = (CMemory *)CBaseList::Pop((int)v18, a2, a3, a4);
        }
        CIOBuffer::Release((CIOBuffer *)v19);
        sub_45B100((_DWORD *)a1, a2, a3, a4, &v18, 2);
        *Str1 = 42;
        v19 = sub_445C90(a2, a3, a4, 29, "ss", a1 + 32, Str1);
        while ( v18 )
        {
          v11 = v19;
          v7 = unknown_libname_10(v18);
          sub_448C30(v7, a2, a3, a4, v11);
          v18 = (CMemory *)CBaseList::Pop((int)v18, a2, a3, a4);
        }
        CIOBuffer::Release((CIOBuffer *)v19);
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        break;
      case '*':
        sub_448C90(a2, a3, a4, a1, 29, "ss", a1 + 32, Str1);
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        v16 = 0;
        sub_45B100((_DWORD *)a1, a2, a3, a4, &v16, 4);
        *Str1 = 38;
        v17 = sub_445C90(a2, a3, a4, 29, "ss", a1 + 32, Str1);
        while ( v16 )
        {
          v12 = v17;
          v8 = unknown_libname_10(v16);
          sub_448C30(v8, a2, a3, a4, v12);
          v16 = (CMemory *)CBaseList::Pop((int)v16, a2, a3, a4);
        }
        CIOBuffer::Release((CIOBuffer *)v17);
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        break;
      case '/':
        if ( Str1[1] == 121 && Str1[2] == 32 )
        {
          if ( sub_451F80(a1, a2, a3, a4, 9, 513, 1) || sub_451F80(a1, a2, a3, a4, 9, 514, 1) )
          {
            v36 = sub_445C90(a2, a3, a4, 29, "ss", a1 + 32, Str1);
            for ( i = sub_4822A0(*(char **)(a1 + 312), a2, a3, a4, (_DWORD *)(a1 + 316), 50);
                  i;
                  i = (CMemory *)CBaseList::Pop((int)i, a2, a3, a4) )
            {
              v5 = unknown_libname_10(i);
              sub_448C30(v5, a2, a3, a4, v36);
            }
            CIOBuffer::Release((CIOBuffer *)v36);
          }
        }
        else if ( Str1[1] == 115 && Str1[2] == 32 )
        {
          if ( sub_451F80(a1, a2, a3, a4, 9, 515, 1) || sub_451F80(a1, a2, a3, a4, 9, 516, 1) )
            sub_446840(a2, a3, a4, 29, "ss", a1 + 32, Str1);
        }
        else
        {
          sub_455530(a1, a2, a3, a4, Str1);
        }
        break;
      case '@':
        Src = Str1 + 1;
        v28 = 0;
        v29 = 0;
        v30 = 0;
        v31 = 0;
        v32 = 0;
        Size = strcspn(Str1 + 1, " ");
        if ( (int)Size <= 16 )
        {
          memcpy(&v28, Src, Size);
          if ( IsValidAdminName(&v28) )
          {
            v33 = sub_4467C0(a2, a3, a4, (int)&v28);
            if ( v33 )
            {
              if ( v33 != (CIOObject *)a1 )
              {
                sub_448C90(a2, a3, a4, a1, 29, "ss", a1 + 32, Str1);
                sub_448C90(a2, a3, a4, (int)v33, 29, "ss", a1 + 32, Str1);
              }
              CIOObject::Release(v33, a2, a3, a4, (volatile int *)v33 + 86);
            }
            else
            {
              sub_448C90(a2, a3, a4, a1, 36, "b", 25);
            }
          }
        }
        break;
      case '~':
        v21 = (CIOObject *)sub_45DDB0(a1, a2, a3, a4);
        if ( v21 )
        {
          v20 = sub_445C90(a2, a3, a4, 29, "ss", a1 + 32, Str1);
          CGuild::AllianceBroadcast((int)v21, a2, a3, a4, v20);
          CIOBuffer::Release((CIOBuffer *)v20);
          CIOObject::Release(v21, a2, a3, a4, (volatile int *)v21 + 10);
        }
        break;
      default:
        v15 = sub_445C90(a2, a3, a4, 29, "ss", a1 + 32, Str1);
        for ( j = sub_4822A0(*(char **)(a1 + 312), a2, a3, a4, (_DWORD *)(a1 + 316), 25);
              j;
              j = (CMemory *)CBaseList::Pop((int)j, a2, a3, a4) )
        {
          v9 = unknown_libname_10(j);
          sub_448C30(v9, a2, a3, a4, v15);
        }
        CIOBuffer::Release((CIOBuffer *)v15);
        break;
    }
  }
}

//----- (00455530) --------------------------------------------------------
void __userpurge sub_455530(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Str1)
{
  const char *v5; // eax
  const char *v6; // eax
  const char *v7; // eax
  const char *v8; // eax
  const char *v9; // eax
  const char *v10; // eax
  const char *v11; // eax
  const char *v12; // eax
  const char *v13; // eax
  const char *v14; // eax
  const char *v15; // eax
  int v16; // eax
  const char *v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // eax
  int v23; // eax
  int v24; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v25; // eax
  __int64 v26; // rax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v27; // eax
  int v28; // eax
  int v29; // eax
  int v30; // eax
  void *v31; // eax
  _DWORD *v32; // eax
  int v33; // eax
  void *v34; // eax
  _DWORD *v35; // eax
  int v36; // [esp-68h] [ebp-52Ch]
  int v37; // [esp-64h] [ebp-528h]
  int v38; // [esp-60h] [ebp-524h]
  int v39; // [esp-5Ch] [ebp-520h]
  int v40; // [esp-54h] [ebp-518h]
  int v41; // [esp-4Ch] [ebp-510h]
  int v42; // [esp-48h] [ebp-50Ch]
  int v43; // [esp-44h] [ebp-508h]
  int v44; // [esp-40h] [ebp-504h]
  int v45; // [esp-3Ch] [ebp-500h]
  int v46; // [esp-38h] [ebp-4FCh]
  int v47; // [esp-34h] [ebp-4F8h]
  int v48; // [esp-30h] [ebp-4F4h]
  int v49; // [esp-2Ch] [ebp-4F0h]
  int v50; // [esp-28h] [ebp-4ECh]
  int v51; // [esp-24h] [ebp-4E8h]
  int v52; // [esp-20h] [ebp-4E4h]
  int v53; // [esp-1Ch] [ebp-4E0h]
  int v54; // [esp-18h] [ebp-4DCh]
  int v55; // [esp-14h] [ebp-4D8h]
  int v56; // [esp-10h] [ebp-4D4h]
  int v57; // [esp-Ch] [ebp-4D0h]
  int v58; // [esp-8h] [ebp-4CCh]
  int v59; // [esp-4h] [ebp-4C8h]
  int v60; // [esp-4h] [ebp-4C8h]
  int v61; // [esp-4h] [ebp-4C8h]
  _DWORD *v62; // [esp+0h] [ebp-4C4h]
  int v63; // [esp+0h] [ebp-4C4h]
  _DWORD *v64; // [esp+0h] [ebp-4C4h]
  int v65; // [esp+4h] [ebp-4C0h]
  char v66; // [esp+Ch] [ebp-4B8h]
  char v68[8]; // [esp+14h] [ebp-4B0h] BYREF
  int v69[3]; // [esp+1Ch] [ebp-4A8h] BYREF
  char v70[4]; // [esp+28h] [ebp-49Ch] BYREF
  char v71[8]; // [esp+2Ch] [ebp-498h] BYREF
  int v72[3]; // [esp+34h] [ebp-490h] BYREF
  char v73[4]; // [esp+40h] [ebp-484h] BYREF
  char v74[4]; // [esp+44h] [ebp-480h] BYREF
  int v75; // [esp+48h] [ebp-47Ch] BYREF
  char v76[4]; // [esp+4Ch] [ebp-478h] BYREF
  int v77; // [esp+50h] [ebp-474h]
  int v78; // [esp+54h] [ebp-470h]
  int v79; // [esp+58h] [ebp-46Ch]
  int v80; // [esp+5Ch] [ebp-468h]
  int v81; // [esp+60h] [ebp-464h]
  int v82; // [esp+64h] [ebp-460h] BYREF
  int v83; // [esp+68h] [ebp-45Ch] BYREF
  int i; // [esp+6Ch] [ebp-458h] BYREF
  int v85; // [esp+70h] [ebp-454h]
  int v86[2]; // [esp+74h] [ebp-450h] BYREF
  int v87; // [esp+7Ch] [ebp-448h] BYREF
  int v88; // [esp+80h] [ebp-444h] BYREF
  int v89; // [esp+84h] [ebp-440h] BYREF
  int v90; // [esp+88h] [ebp-43Ch] BYREF
  int v91; // [esp+8Ch] [ebp-438h]
  int v92; // [esp+90h] [ebp-434h]
  int v93; // [esp+94h] [ebp-430h]
  int v94; // [esp+98h] [ebp-42Ch]
  int v95; // [esp+9Ch] [ebp-428h]
  _DWORD *v96; // [esp+A0h] [ebp-424h]
  int v97; // [esp+A4h] [ebp-420h] BYREF
  int v98; // [esp+A8h] [ebp-41Ch]
  int v99; // [esp+ACh] [ebp-418h]
  int v100; // [esp+B0h] [ebp-414h]
  __int64 v101; // [esp+B4h] [ebp-410h]
  int v102; // [esp+C0h] [ebp-404h]
  int v103; // [esp+C4h] [ebp-400h]
  int v104; // [esp+C8h] [ebp-3FCh] BYREF
  int v105; // [esp+CCh] [ebp-3F8h] BYREF
  _DWORD *v106; // [esp+D0h] [ebp-3F4h]
  int v107; // [esp+D4h] [ebp-3F0h] BYREF
  int v108; // [esp+D8h] [ebp-3ECh] BYREF
  int v109; // [esp+DCh] [ebp-3E8h] BYREF
  int v110; // [esp+E0h] [ebp-3E4h] BYREF
  int v111; // [esp+E4h] [ebp-3E0h]
  volatile signed __int32 *v112; // [esp+E8h] [ebp-3DCh]
  char *v113; // [esp+ECh] [ebp-3D8h]
  int v114; // [esp+F0h] [ebp-3D4h]
  int v115; // [esp+F4h] [ebp-3D0h]
  int v116; // [esp+F8h] [ebp-3CCh]
  int v117; // [esp+FCh] [ebp-3C8h]
  int v118; // [esp+100h] [ebp-3C4h]
  volatile int *v119; // [esp+104h] [ebp-3C0h]
  int v120; // [esp+108h] [ebp-3BCh]
  int v121; // [esp+10Ch] [ebp-3B8h]
  int v122; // [esp+110h] [ebp-3B4h]
  int v123; // [esp+114h] [ebp-3B0h]
  char v124[4]; // [esp+118h] [ebp-3ACh]
  CIOObject *v125; // [esp+11Ch] [ebp-3A8h]
  int v127[2]; // [esp+124h] [ebp-3A0h] BYREF
  volatile int *v128; // [esp+12Ch] [ebp-398h]
  int v129; // [esp+130h] [ebp-394h]
  CIOObject *v130; // [esp+134h] [ebp-390h]
  int j; // [esp+138h] [ebp-38Ch]
  char v132[132]; // [esp+13Ch] [ebp-388h] BYREF
  int v133; // [esp+1C0h] [ebp-304h] BYREF
  char v134[128]; // [esp+1C4h] [ebp-300h] BYREF
  int v135; // [esp+244h] [ebp-280h] BYREF
  int v136; // [esp+248h] [ebp-27Ch] BYREF
  int v137; // [esp+24Ch] [ebp-278h] BYREF
  int v138; // [esp+250h] [ebp-274h] BYREF
  int v139[3]; // [esp+254h] [ebp-270h] BYREF
  size_t v140; // [esp+260h] [ebp-264h]
  volatile int *v141; // [esp+264h] [ebp-260h]
  int v142; // [esp+268h] [ebp-25Ch]
  char v143[132]; // [esp+26Ch] [ebp-258h] BYREF
  int v144; // [esp+2F0h] [ebp-1D4h]
  int v145; // [esp+2F4h] [ebp-1D0h]
  int v146; // [esp+2F8h] [ebp-1CCh]
  char v147[128]; // [esp+2FCh] [ebp-1C8h] BYREF
  int v148; // [esp+37Ch] [ebp-148h]
  int v149; // [esp+380h] [ebp-144h]
  int v150; // [esp+384h] [ebp-140h]
  int v151; // [esp+388h] [ebp-13Ch]
  int v152; // [esp+38Ch] [ebp-138h]
  char *v153; // [esp+390h] [ebp-134h]
  int v154; // [esp+394h] [ebp-130h]
  int v155; // [esp+398h] [ebp-12Ch]
  int v156[2]; // [esp+39Ch] [ebp-128h] BYREF
  int v157; // [esp+3A4h] [ebp-120h]
  volatile int *v158; // [esp+3A8h] [ebp-11Ch]
  char Buffer[128]; // [esp+3ACh] [ebp-118h] BYREF
  CIOObject *v160; // [esp+430h] [ebp-94h]
  int v161; // [esp+434h] [ebp-90h] BYREF
  int v162; // [esp+438h] [ebp-8Ch] BYREF
  int v163; // [esp+43Ch] [ebp-88h] BYREF
  CIOObject *v164; // [esp+440h] [ebp-84h]
  int *v165; // [esp+444h] [ebp-80h]
  int v166; // [esp+448h] [ebp-7Ch]
  int v167; // [esp+44Ch] [ebp-78h] BYREF
  int v168[3]; // [esp+450h] [ebp-74h] BYREF
  volatile int *v169; // [esp+45Ch] [ebp-68h]
  volatile int *v170; // [esp+460h] [ebp-64h]
  int v171; // [esp+464h] [ebp-60h]
  int *v172; // [esp+468h] [ebp-5Ch]
  int v173; // [esp+46Ch] [ebp-58h]
  char *v174; // [esp+470h] [ebp-54h]
  CIOObject *v175; // [esp+474h] [ebp-50h]
  int v176; // [esp+478h] [ebp-4Ch]
  CIOObject *v177; // [esp+47Ch] [ebp-48h]
  int v178; // [esp+480h] [ebp-44h]
  CIOObject *v179; // [esp+484h] [ebp-40h]
  int v180; // [esp+488h] [ebp-3Ch]
  char *Str; // [esp+48Ch] [ebp-38h]
  CIOObject *v182; // [esp+490h] [ebp-34h]
  char *v183; // [esp+494h] [ebp-30h]
  int v184; // [esp+498h] [ebp-2Ch]
  volatile int *v185; // [esp+49Ch] [ebp-28h]
  int v186; // [esp+4A0h] [ebp-24h]
  volatile int *v187; // [esp+4A4h] [ebp-20h]
  char *v188; // [esp+4A8h] [ebp-1Ch]
  char *v189; // [esp+4ACh] [ebp-18h]
  int v190; // [esp+4B0h] [ebp-14h]
  int *v191; // [esp+4B4h] [ebp-10h]
  int v192; // [esp+4B8h] [ebp-Ch]
  volatile int *v193; // [esp+4BCh] [ebp-8h]
  size_t v194; // [esp+4C0h] [ebp-4h]
  char *Str1a; // [esp+4CCh] [ebp+8h]
  char *Str1b; // [esp+4CCh] [ebp+8h]
  char *Str1c; // [esp+4CCh] [ebp+8h]
  char *Str1d; // [esp+4CCh] [ebp+8h]
  char *Str1e; // [esp+4CCh] [ebp+8h]

  if ( dword_4BAAA0 == 1 && *(int *)(a1 + 448) >= 3 )
    LOG_NORMAL(
      "[GM Command] %s(PID:%d, Admin:%d) : %s",
      (const char *)(a1 + 32),
      *(_DWORD *)(a1 + 444),
      *(_DWORD *)(a1 + 448),
      Str1);
  v194 = strcspn(Str1, " ");
  if ( Str1[v194] )
    Str1[v194++] = 0;
  v5 = GetStr(903);
  if ( !strcmp(Str1, v5) )
  {
    if ( dword_4BAAA0 != 1 )
    {
      v193 = sub_45DDB0(a1, a2, a3, a4);
      if ( v193 )
      {
        v192 = sub_412990(v193, a2, a3, a4, a1, (int)&Str1[v194]);
        CIOObject::Release((CIOObject *)v193, a2, a3, a4, v193 + 10);
        if ( v192 )
          sub_448C90(a2, a3, a4, a1, 76, "bb", 0, (unsigned __int8)v192);
      }
    }
  }
  else
  {
    v6 = GetStr(904);
    if ( !strcmp(Str1, v6) )
    {
      if ( dword_4BAAA0 != 1 )
      {
        v191 = (int *)sub_45DDB0(a1, a2, a3, a4);
        if ( v191 )
        {
          v190 = sub_413170(v191, a2, a3, a4, a1, &Str1[v194]);
          CIOObject::Release((CIOObject *)v191, a2, a3, a4, v191 + 10);
          if ( v190 )
            sub_448C90(a2, a3, a4, a1, 76, "bb", 0, (unsigned __int8)v190);
        }
      }
    }
    else
    {
      v7 = GetStr(905);
      if ( !strcmp(Str1, v7) )
      {
        if ( dword_4BAAA0 != 1 )
        {
          v189 = &Str1[v194];
          v194 = strcspn(&Str1[v194], " ");
          if ( v189[v194] )
            v189[v194++] = 0;
          v188 = &v189[v194];
          v187 = sub_45DDB0(a1, a2, a3, a4);
          if ( v187 )
          {
            v186 = sub_413410(v187, a2, a3, a4, a1, v189, v188);
            CIOObject::Release((CIOObject *)v187, a2, a3, a4, v187 + 10);
            if ( v186 )
              sub_448C90(a2, a3, a4, a1, 76, "bb", 0, (unsigned __int8)v186);
          }
        }
      }
      else
      {
        v8 = GetStr(906);
        if ( !strcmp(Str1, v8) )
        {
          if ( dword_4BAAA0 != 1 )
          {
            v185 = sub_45DDB0(a1, a2, a3, a4);
            if ( v185 )
            {
              v184 = sub_4139D0(v185, a2, a3, a4, a1);
              CIOObject::Release((CIOObject *)v185, a2, a3, a4, v185 + 10);
              if ( v184 )
                sub_448C90(a2, a3, a4, a1, 76, "bb", 0, (unsigned __int8)v184);
            }
          }
        }
        else
        {
          v9 = GetStr(907);
          if ( !strcmp(Str1, v9) )
          {
            if ( dword_4BAAA0 != 1 )
            {
              v183 = &Str1[v194];
              v194 = strcspn(&Str1[v194], " ");
              if ( v183[v194] )
                v183[v194++] = 0;
              Str = &v183[v194];
              if ( strlen(&v183[v194]) <= 0xE && IsValidName(Str) )
              {
                v182 = (CIOObject *)sub_45DDB0(a1, a2, a3, a4);
                if ( v182 )
                {
                  v180 = sub_413C70((int)v182, a2, a3, a4, a1, v183, Str);
                  CIOObject::Release(v182, a2, a3, a4, (volatile int *)v182 + 10);
                  if ( v180 )
                    sub_448C90(a2, a3, a4, a1, 76, "bb", 0, (unsigned __int8)v180);
                }
              }
              else
              {
                sub_448C90(a2, a3, a4, a1, 76, "bb", 0, 45);
              }
            }
          }
          else
          {
            v10 = GetStr(908);
            if ( !strcmp(Str1, v10) )
            {
              if ( dword_4BAAA0 != 1 )
              {
                v179 = (CIOObject *)sub_45DDB0(a1, a2, a3, a4);
                if ( v179 )
                {
                  v178 = sub_414B60((int)v179, a2, a3, a4, a1, 1);
                  CIOObject::Release(v179, a2, a3, a4, (volatile int *)v179 + 10);
                  if ( v178 )
                    sub_448C90(a2, a3, a4, a1, 76, "bb", 0, (unsigned __int8)v178);
                }
              }
            }
            else
            {
              v11 = GetStr(909);
              if ( !strcmp(Str1, v11) )
              {
                if ( dword_4BAAA0 != 1 )
                {
                  v177 = (CIOObject *)sub_45DDB0(a1, a2, a3, a4);
                  if ( v177 )
                  {
                    v176 = sub_414B60((int)v177, a2, a3, a4, a1, 0);
                    CIOObject::Release(v177, a2, a3, a4, (volatile int *)v177 + 10);
                    if ( v176 )
                      sub_448C90(a2, a3, a4, a1, 76, "bb", 0, (unsigned __int8)v176);
                  }
                }
              }
              else
              {
                v12 = GetStr(910);
                if ( !strcmp(Str1, v12) )
                {
                  if ( dword_4BAAA0 != 1 )
                  {
                    v175 = (CIOObject *)sub_45DDB0(a1, a2, a3, a4);
                    if ( v175 )
                    {
                      sub_414030((int)v175, a2, a3, a4, a1);
                      CIOObject::Release(v175, a2, a3, a4, (volatile int *)v175 + 10);
                    }
                  }
                }
                else
                {
                  v13 = GetStr(918);
                  if ( !strcmp(Str1, v13) )
                  {
                    if ( dword_4BAAA0 != 1 )
                    {
                      v174 = &Str1[v194];
                      v194 = strcspn(&Str1[v194], " ");
                      if ( v174[v194] )
                        v174[v194++] = 0;
                      v173 = j__atol(&v174[v194]);
                      v172 = (int *)sub_45DDB0(a1, a2, a3, a4);
                      if ( v172 )
                      {
                        v171 = sub_415F20(v172, a2, a3, a4, a1, v174, v173);
                        CIOObject::Release((CIOObject *)v172, a2, a3, a4, v172 + 10);
                        if ( v171 )
                          sub_448C90(a2, a3, a4, a1, 76, "bb", 0, (unsigned __int8)v171);
                      }
                    }
                  }
                  else
                  {
                    v14 = GetStr(911);
                    if ( !strcmp(Str1, v14) )
                    {
                      sub_411FF0(a1, a2, a3, a4);
                      if ( sub_40A660((_DWORD *)a1, 128) )
                      {
                        v170 = *(volatile int **)(a1 + 1396);
                        if ( !v170 )
                          EBREAK(a2, a3, a4);
                        sub_454DF0(a1, a2, a3, a4, v170, 3, 2, 6);
                      }
                      sub_412010(a1, a2, a3, a4);
                    }
                    else
                    {
                      v15 = GetStr(900);
                      if ( !strcmp(Str1, v15) )
                      {
                        sub_411FF0(a1, a2, a3, a4);
                        *(_DWORD *)(a1 + 272) = 0;
                        if ( sub_40A660((_DWORD *)a1, 0x8000) )
                          sub_448C90(a2, a3, a4, a1, 36, "b", 89);
                        CChar::SubGState((volatile LONG *)a1, 32772);
                        CChar::SubMState((_DWORD *)a1, 1, 0);
                        CChar::AddGState((volatile LONG *)a1, 2);
                        if ( sub_40A660((_DWORD *)a1, 128) )
                        {
                          v169 = *(volatile int **)(a1 + 1396);
                          if ( !v169 )
                            EBREAK(a2, a3, a4);
                          sub_454DF0(a1, a2, a3, a4, v169, 3, 2, 6);
                          sub_409160((_DWORD *)a1, 16);
                        }
                        sub_412010(a1, a2, a3, a4);
                        if ( sub_40A660((_DWORD *)a1, 1024) )
                        {
                          (*(void (__thiscall **)(int, int))(*(_DWORD *)a1 + 112))(a1, 1024);
                          v16 = sub_45DE70(a1, a2, a3, a4);
                          CCastle::UnfurlStandardCancel(a2, a3, a4, v16);
                        }
                        sub_40AB60(a1, a2, a3, a4, -161);
                        if ( sub_40A660((_DWORD *)a1, 16) )
                          sub_4539F0(a1, a2, a3, a4, 0);
                        if ( sub_40A660((_DWORD *)a1, 512) )
                          sub_45EE40(a1, a2, a3, a4);
                        sub_45EEA0(a1, a2, a3, a4);
                        sub_40ACD0(a2, a3, a4, a1, 30, "db", *(_DWORD *)(a1 + 28), 9);
                        *(_DWORD *)(a1 + 1332) = GetTickCount() + 20000;
                        sub_454360((_DWORD *)a1, a2, a3, a4, 7);
                      }
                      else
                      {
                        v17 = GetStr(902);
                        if ( !strcmp(Str1, v17) )
                        {
                          sub_448C90(a2, a3, a4, a1, 37, "bb", 41, *(_DWORD *)(a1 + 564));
                        }
                        else if ( *(int *)(a1 + 448) >= 3 )
                        {
                          if ( !strcmp(Str1, "/goto") || !strcmp(Str1, aAiu) )
                          {
                            if ( !sub_453AF0((_DWORD *)a1, 0x2000) )
                            {
                              Str1a = &Str1[v194];
                              v66 = *Str1a;
                              if ( *Str1a == 35 )
                              {
                                v166 = j__atol(Str1a + 1);
                                if ( v166 >= 0 && v166 < dword_4BAA94 )
                                {
                                  v165 = (int *)((char *)&unk_4AF728 + 28 * v166);
                                  sub_451260((_DWORD *)a1, a2, a3, a4, *v165, v165 + 1, v165[3], 1);
                                }
                              }
                              else if ( v66 == 36 )
                              {
                                v164 = sub_4467C0(a2, a3, a4, (int)(Str1a + 1));
                                if ( v164 )
                                {
                                  sub_451260(
                                    (_DWORD *)a1,
                                    a2,
                                    a3,
                                    a4,
                                    *((_DWORD *)v164 + 77),
                                    (int *)v164 + 81,
                                    *((_DWORD *)v164 + 83),
                                    1);
                                  CIOObject::Release(v164, a2, a3, a4, (volatile int *)v164 + 86);
                                }
                              }
                              else if ( v66 == 64 )
                              {
                                if ( CGoto::FindGoto((int)(Str1a + 1), &v167) )
                                  sub_451260((_DWORD *)a1, a2, a3, a4, v167, v168, v168[2], 1);
                              }
                              else if ( sscanf(Str1a, "%d %d %d", &v163, &v161, &v162) == 3 )
                              {
                                v161 += 32;
                                v162 += 32;
                                sub_451260((_DWORD *)a1, a2, a3, a4, v163, &v161, 0, 1);
                              }
                            }
                          }
                          else if ( !strcmp(Str1, "/who") || !strcmp(Str1, asc_49DA70) )
                          {
                            v160 = sub_4467C0(a2, a3, a4, (int)&Str1[v194]);
                            if ( v160 )
                            {
                              sprintf(
                                Buffer,
                                "[%s] (uid:%d, pid:%d, class:%d, level:%d)",
                                (const char *)v160 + 32,
                                *((_DWORD *)v160 + 110),
                                *((_DWORD *)v160 + 111),
                                *((_DWORD *)v160 + 113),
                                *((_DWORD *)v160 + 15));
                              CIOObject::Release(v160, a2, a3, a4, (volatile int *)v160 + 86);
                            }
                            else
                            {
                              sprintf(Buffer, "[%s] isn't in player list", &Str1[v194]);
                            }
                            sub_448C90(a2, a3, a4, a1, 46, "s", Buffer);
                          }
                          else if ( !strcmp(Str1, "/hunt") || !strcmp(Str1, asc_49DA18) )
                          {
                            v157 = j__atol(&Str1[v194]);
                            v158 = sub_436F50(a2, a3, a4, v157);
                            if ( v158 )
                            {
                              v156[0] = *((_DWORD *)v158 + 81) + 32;
                              v156[1] = *((_DWORD *)v158 + 82) + 32;
                              sub_451260((_DWORD *)a1, a2, a3, a4, *((_DWORD *)v158 + 77), v156, 0, 1);
                              sub_401C50(v158, a2, a3, a4);
                            }
                          }
                          else
                          {
                            if ( dword_4BAAA0 == 1 )
                              goto LABEL_201;
LABEL_122:
                            if ( !strcmp(Str1, "/user") )
                            {
                              v155 = j__atol(&Str1[v194]);
                              if ( v155 )
                              {
                                v19 = Concurrency::details::SchedulingRing::Id(*(Concurrency::details::SchedulingRing **)(a1 + 1404));
                                CAuthSocket::Write(a2, a3, a4, 5, "db", v19, v155);
                              }
                              else
                              {
                                v59 = sub_46F5B0();
                                v18 = sub_46F5A0();
                                sub_448C90(a2, a3, a4, a1, 37, "bbww", 15, dword_4B8C40, v18, v59);
                              }
                            }
                            else if ( !strcmp(Str1, "/userall") )
                            {
                              v20 = Concurrency::details::SchedulingRing::Id(*(Concurrency::details::SchedulingRing **)(a1 + 1404));
                              CAuthSocket::Write(a2, a3, a4, 6, "d", v20);
                            }
                            else if ( !strcmp(Str1, "/money") )
                            {
                              sub_448C90(a2, a3, a4, a1, 37, "bd", 18, dword_4B95DC);
                            }
                            else if ( dword_4BAAA0 == 1 )
                            {
LABEL_224:
                              if ( *(int *)(a1 + 448) >= 5 )
                              {
                                if ( !strcmp(Str1, "/item") || !strcmp(Str1, asc_49D740) )
                                {
                                  Str1c = &Str1[v194];
                                  v120 = 0;
                                  v121 = 0;
                                  v122 = 1;
                                  v123 = -1;
                                  v118 = 0;
                                  while ( *Str1c )
                                  {
                                    v194 = strcspn(Str1c, " ");
                                    if ( Str1c[v194] )
                                      Str1c[v194++] = 0;
                                    *(&v120 + v118) = j__atol(Str1c);
                                    Str1c += v194;
                                    ++v118;
                                  }
                                  if ( (dword_4B8C30[0] & 2) != 0 || v120 != 31 )
                                  {
                                    v119 = CItem::CreateCheatItem(v120, v121, v122, v123);
                                    if ( v119 )
                                    {
                                      sub_4010D0(v119, a2, a3, a4);
                                      if ( sub_4522B0(a1, a2, a3, a4, 3, v119) == 1 )
                                        LOG_NORMAL(
                                          "Create Cheat Item. (%s, %s, %d)",
                                          (const char *)(a1 + 32),
                                          (const char *)(*((_DWORD *)v119 + 10) + 32),
                                          *((_DWORD *)v119 + 13));
                                      else
                                        CBase::Delete(v119);
                                      sub_401C50(v119, a2, a3, a4);
                                    }
                                  }
                                }
                                else if ( !strcmp(Str1, "/itemst") )
                                {
                                  Str1d = &Str1[v194];
                                  v194 = strcspn(Str1d, " ");
                                  if ( Str1d[v194] )
                                    Str1d[v194++] = 0;
                                  v113 = Str1d;
                                  if ( strlen(Str1d) <= 0x10 && IsValidAdminName(v113) )
                                  {
                                    Str1e = &Str1d[v194];
                                    v114 = 0;
                                    v115 = 0;
                                    v116 = 1;
                                    v117 = -1;
                                    v111 = 0;
                                    while ( *Str1e )
                                    {
                                      v194 = strcspn(Str1e, " ");
                                      if ( Str1e[v194] )
                                        Str1e[v194++] = 0;
                                      *(&v114 + v111) = j__atol(Str1e);
                                      Str1e += v194;
                                      ++v111;
                                    }
                                    v112 = CItem::CreateItem(v114, v115, v116, -1);
                                    if ( v112 )
                                    {
                                      (*(void (__thiscall **)(volatile signed __int32 *, int, _DWORD, char *, _DWORD))(*v112 + 160))(
                                        v112,
                                        40,
                                        0,
                                        v113,
                                        0);
                                      CBase::Delete(v112);
                                    }
                                  }
                                }
                                else if ( !strcmp(Str1, "/itemxv") )
                                {
                                  if ( sscanf(&Str1[v194], "%d %d %d", &v108, &v110, &v109) == 3
                                    && v109 >= 0
                                    && v109 <= 19 )
                                  {
                                    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
                                    v106 = 0;
                                    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 980),
                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v107);
                                    while ( 1 )
                                    {
                                      v25 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v76);
                                      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                                              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v107,
                                              v25) )
                                        break;
                                      v106 = *(_DWORD **)(sub_43E1A0(&v107) + 4);
                                      if ( (dword_4B8C30[0] & 2) != 0 )
                                        v65 = 1;
                                      else
                                        v65 = sub_425930(v106, 8);
                                      if ( v65 && sub_425930(v106, 1) && *(_DWORD *)(v106[10] + 72) == v108 )
                                      {
                                        (*(void (__thiscall **)(_DWORD *, int))(*v106 + 100))(v106, a1);
                                        if ( (*(int (__thiscall **)(_DWORD *, int, int, int))(*v106 + 180))(
                                               v106,
                                               a1,
                                               v110,
                                               v109) )
                                        {
                                          LOG_NORMAL(
                                            "Charming Cheat Item. (%s, %s, %d, %d, %d)",
                                            (const char *)(a1 + 32),
                                            (const char *)(v106[10] + 32),
                                            v106[9],
                                            v110,
                                            v109);
                                        }
                                        (*(void (__thiscall **)(_DWORD *, int))(*v106 + 96))(v106, a1);
                                        break;
                                      }
                                      sub_47CBB0(&v107);
                                    }
                                    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
                                  }
                                }
                                else if ( !strcmp(Str1, "/skill") )
                                {
                                  if ( sscanf(&Str1[v194], "%d %d", &v105, &v104) == 2
                                    && (v105 & 0xFFFFFFC0) == 0
                                    && v104 > 0
                                    && v104 <= 20 )
                                  {
                                    sub_470990((int *)(a1 + 616), a2, a3, a4, v105, v104);
                                  }
                                }
                                else if ( !strcmp(Str1, "/skillredis") )
                                {
                                  v103 = j__atol(&Str1[v194]);
                                  if ( v103 == 255 )
                                    sub_4711B0((_DWORD *)(a1 + 616));
                                  else
                                    sub_471120((int *)(a1 + 616), a2, a3, a4, v103);
                                }
                                else if ( !strcmp(Str1, "/pktime") )
                                {
                                  v102 = j__atol(&Str1[v194]);
                                  if ( sub_40A660((_DWORD *)a1, 256) )
                                  {
                                    if ( v102 >= 180 )
                                      v63 = 180;
                                    else
                                      v63 = v102;
                                    *(_DWORD *)(a1 + 528) = v63;
                                  }
                                }
                                else if ( !strcmp(Str1, "/expadd") )
                                {
                                  v26 = j__atol(&Str1[v194]);
                                  v101 = v26;
                                  if ( (int)v26 >> 31 >= 0
                                    && ((int)v26 >> 31 >= 0 && (int)v26 < 0 || (_DWORD)v101)
                                    && v101 < qword_4AE8A8
                                    && *(int *)(a1 + 60) < 99 )
                                  {
                                    (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a1 + 88))(
                                      a1,
                                      25,
                                      1,
                                      v101,
                                      HIDWORD(v101));
                                  }
                                }
                                else if ( !strcmp(Str1, "/snow") )
                                {
                                  if ( (dword_4B8C34 & 0x40) != 0 )
                                  {
                                    v100 = j__atol(&Str1[v194]);
                                    if ( v100 >= 0 && v100 <= 4 )
                                      sub_45EA20(a2, a3, a4, v100);
                                  }
                                }
                                else if ( !strcmp(Str1, "/levelup") )
                                {
                                  if ( *(int *)(a1 + 60) < 100 )
                                  {
                                    sub_448C90(
                                      a2,
                                      a3,
                                      a4,
                                      a1,
                                      38,
                                      &off_49D440,
                                      25,
                                      0,
                                      0,
                                      __PAIR64__(
                                        dword_4AE654[2 * *(_DWORD *)(a1 + 60)],
                                        dword_4AE650[2 * *(_DWORD *)(a1 + 60)])
                                    - *(_QWORD *)(a1 + 464));
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 26, 1, 1);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 23, 1, 5);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 24, 1, 1);
                                    *(_DWORD *)(a1 + 464) = 0;
                                    *(_DWORD *)(a1 + 468) = 0;
                                    *(_DWORD *)(a1 + 544) = 0;
                                    sub_470DE0((int *)(a1 + 616), a2, a3, a4, 0);
                                    sub_45B200(a1, a2, a3, a4, 2);
                                    sub_45B650(a1, a2, a3, a4);
                                  }
                                }
                                else if ( !strcmp(Str1, "/resetlevel") )
                                {
                                  v99 = j__atol(&Str1[v194]);
                                  if ( v99 >= 1 && v99 <= 100 )
                                  {
                                    sub_40AB60(a1, a2, a3, a4, -225);
                                    v98 = v99 - 1;
                                    *(_DWORD *)(a1 + 60) = v99;
                                    *(_DWORD *)(a1 + 464) = 0;
                                    *(_DWORD *)(a1 + 468) = 0;
                                    memset((void *)(a1 + 64), 0, 0x1Cu);
                                    memset((void *)(a1 + 92), 0, 0x60u);
                                    memset((void *)(a1 + 188), 0, 0x54u);
                                    memcpy((void *)(a1 + 64), (char *)&unk_4AE988 + 28 * *(_DWORD *)(a1 + 452), 0x14u);
                                    *(_DWORD *)(a1 + 540) = 0;
                                    *(_DWORD *)(a1 + 536) = 0;
                                    *(_DWORD *)(a1 + 544) = 0;
                                    *(_DWORD *)(a1 + 612) = 0;
                                    *(_DWORD *)(a1 + 608) = 0;
                                    *(_DWORD *)(a1 + 604) = 0;
                                    *(_DWORD *)(a1 + 600) = 0;
                                    *(_DWORD *)(a1 + 596) = 0;
                                    *(_DWORD *)(a1 + 592) = 0;
                                    *(_DWORD *)(a1 + 588) = 0;
                                    sub_40AC10(a1, a2, a3, a4);
                                    sub_470DE0((int *)(a1 + 616), a2, a3, a4, 0);
                                    (*(void (__thiscall **)(int))(*(_DWORD *)a1 + 84))(a1);
                                    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
                                    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 980),
                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v97);
                                    while ( 1 )
                                    {
                                      v27 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v74);
                                      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                                              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v97,
                                              v27) )
                                        break;
                                      v96 = *(_DWORD **)(sub_43E1A0(&v97) + 4);
                                      if ( sub_425930(v96, 1) )
                                        (*(void (__thiscall **)(_DWORD *, int))(*v96 + 104))(v96, a1);
                                      sub_46FA50(&v97, &v75, 0);
                                    }
                                    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
                                    sub_470AE0((_DWORD *)(a1 + 616));
                                    sub_448C90(a2, a3, a4, a1, 38, "bb", 26, *(_DWORD *)(a1 + 60));
                                    sub_40ACD0(a2, a3, a4, a1, 50, "db", *(_DWORD *)(a1 + 28), 3);
                                    sub_454360((_DWORD *)a1, a2, a3, a4, 26);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(
                                      a1,
                                      23,
                                      1,
                                      5 * *(_DWORD *)(a1 + 60));
                                    if ( v98 > 0 )
                                      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 24, 1, v98);
                                    *(_DWORD *)(a1 + 276) = CChar::GetMaxMP(v62);
                                    *(_DWORD *)(a1 + 272) = CChar::GetMaxHP((_DWORD *)a1);
                                    v61 = *(_DWORD *)(a1 + 572);
                                    v58 = sub_436490((_DWORD *)a1, 4);
                                    v57 = sub_436490((_DWORD *)a1, 3);
                                    v56 = sub_436490((_DWORD *)a1, 2);
                                    v55 = sub_436490((_DWORD *)a1, 1);
                                    v54 = sub_436490((_DWORD *)a1, 0);
                                    v53 = *(_DWORD *)(a1 + 540);
                                    v52 = *(_DWORD *)(a1 + 536);
                                    v51 = CChar::GetMaxMagic((_DWORD *)a1);
                                    v50 = CChar::GetMinMagic((_DWORD *)a1);
                                    v49 = CChar::GetMaxAttack((_DWORD *)a1);
                                    v48 = CChar::GetMinAttack((_DWORD *)a1);
                                    v47 = *(_DWORD *)(a1 + 468);
                                    v46 = *(_DWORD *)(a1 + 464);
                                    v45 = CChar::GetAbsorb((_DWORD *)a1);
                                    v44 = CChar::GetDefense((_DWORD *)a1, 0);
                                    v43 = CChar::GetDodge((_DWORD *)a1);
                                    v42 = CChar::GetHit((_DWORD *)a1);
                                    v41 = *(_DWORD *)(a1 + 276);
                                    v40 = *(_DWORD *)(a1 + 272);
                                    v39 = Char::GetDex((_DWORD *)a1);
                                    v38 = CChar::GetWis((_DWORD *)a1);
                                    v37 = CChar::GetInt((_DWORD *)a1);
                                    v36 = CChar::GetHth((_DWORD *)a1);
                                    v28 = CChar::GetStr((_DWORD *)a1);
                                    sub_448C90(
                                      a2,
                                      a3,
                                      a4,
                                      a1,
                                      35,
                                      "bsbwbbbbbwwwwwwwbIwwwwwwbbbbbd",
                                      *(_DWORD *)(a1 + 456),
                                      &Src,
                                      *(_DWORD *)(a1 + 528),
                                      *(_DWORD *)(a1 + 460),
                                      v28,
                                      v36,
                                      v37,
                                      v38,
                                      v39,
                                      v40,
                                      v40,
                                      v41,
                                      v41,
                                      v42,
                                      v43,
                                      v44,
                                      v45,
                                      v46,
                                      v47,
                                      v48,
                                      v49,
                                      v50,
                                      v51,
                                      v52,
                                      v53,
                                      v54,
                                      v55,
                                      v56,
                                      v57,
                                      v58,
                                      v61);
                                  }
                                }
                                else if ( !strcmp(Str1, "/hp") )
                                {
                                  v94 = j__atol(&Str1[v194]);
                                  v95 = v94 + CChar::GetMaxHP((_DWORD *)a1);
                                  if ( v95 >= 0 && v95 <= 0x7FFF )
                                  {
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 92))(a1, 5, 1, v94);
                                    v29 = CChar::GetMaxHP((_DWORD *)a1);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 7, 1, v29);
                                  }
                                }
                                else if ( !strcmp(Str1, "/mp") )
                                {
                                  v92 = j__atol(&Str1[v194]);
                                  v93 = v92 + CChar::GetMaxMP(v62);
                                  if ( v93 >= 0 && v93 <= 0x7FFF )
                                  {
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 92))(a1, 6, 1, v92);
                                    v30 = CChar::GetMaxMP(v64);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 8, 1, v30);
                                  }
                                }
                                else if ( !strcmp(Str1, "/cont") )
                                {
                                  v91 = j__atol(&Str1[v194]);
                                  if ( v91 + *(_DWORD *)(a1 + 460) <= 0x7FFF )
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 30, 1, v91);
                                }
                                else if ( !strcmp(Str1, "/savequest") )
                                {
                                  if ( sscanf(&Str1[v194], "%d %d %d", &v88, &v89, &v90) == 3 )
                                  {
                                    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
                                    sub_461240((int *)(a1 + 1168), &v87, &v88);
                                    v31 = sub_482CA0((int *)(a1 + 1168), v73);
                                    if ( (unsigned __int8)unknown_libname_25(v31) )
                                    {
                                      v32 = sub_462360(v72, &v88, &v89);
                                      sub_460FD0(
                                        (int *)(a1 + 1168),
                                        (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v71,
                                        v32);
                                    }
                                    else
                                    {
                                      v33 = sub_43E1A0(&v87);
                                      *(_DWORD *)(v33 + 4) = v89;
                                      *(_DWORD *)(v33 + 8) = v90;
                                    }
                                    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
                                  }
                                }
                                else if ( !strcmp(Str1, "/clearallquest") )
                                {
                                  v85 = j__atol(&Str1[v194]);
                                  v86[0] = 0;
                                  v86[1] = 1;
                                  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
                                  for ( i = 1; i <= v85; ++i )
                                  {
                                    sub_461240((int *)(a1 + 1168), &v83, &i);
                                    v34 = sub_482CA0((int *)(a1 + 1168), v70);
                                    if ( (unsigned __int8)unknown_libname_25(v34) )
                                    {
                                      v35 = sub_462360(v69, &i, v86);
                                      sub_460FD0(
                                        (int *)(a1 + 1168),
                                        (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v68,
                                        v35);
                                    }
                                    else
                                    {
                                      *(_DWORD *)(sub_43E1A0(&v83) + 8) = 1;
                                    }
                                  }
                                  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
                                }
                                else if ( !strcmp(Str1, "/undoquest") )
                                {
                                  v82 = j__atol(&Str1[v194]);
                                  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
                                  sub_461180((int *)(a1 + 1168), &v82);
                                  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
                                }
                                else if ( !strcmp(Str1, "/undoallquest") )
                                {
                                  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
                                  sub_4611E0((int *)(a1 + 1168));
                                  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1136), a2, a3, a4);
                                }
                                else if ( !strcmp(Str1, "/rage") )
                                {
                                  v81 = j__atol(&Str1[v194]);
                                  (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 35, 1, v81);
                                }
                                else if ( !strcmp(Str1, "/tlevel") )
                                {
                                  v80 = j__atol(&Str1[v194]);
                                  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
                                  if ( *(_DWORD *)(a1 + 1020) )
                                    sub_42CD60(*(_DWORD *)(a1 + 1020), a2, a3, a4, a1, v80);
                                  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
                                }
                                else if ( !strcmp(Str1, "/dmgup") )
                                {
                                  v79 = j__atol(&Str1[v194]);
                                  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a1 + 92))(
                                    a1,
                                    27,
                                    1,
                                    v79,
                                    v79);
                                }
                                else if ( !strcmp(Str1, "/defup") )
                                {
                                  v78 = j__atol(&Str1[v194]);
                                  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a1 + 92))(
                                    a1,
                                    15,
                                    1,
                                    v78,
                                    v78);
                                }
                                else if ( !strcmp(Str1, "/sp") )
                                {
                                  v77 = j__atol(&Str1[v194]);
                                  if ( v77 >= 0 && v77 <= 5 && (*(_DWORD *)(a1 + 456) & (1 << v77)) == 0 )
                                  {
                                    *(_DWORD *)(a1 + 456) |= 1 << v77;
                                    sub_448C90(a2, a3, a4, a1, 37, "bb", 38, *(_DWORD *)(a1 + 456));
                                    CDBSocket::Write(a2, a3, a4, 15, "db", *(_DWORD *)(a1 + 444), 1 << v77);
                                    sub_470FC0((int *)(a1 + 616), a2, a3, a4);
                                  }
                                }
                              }
                            }
                            else
                            {
                              while ( *(int *)(a1 + 448) >= 4 )
                              {
                                if ( !strcmp(Str1, "/guildexp") )
                                {
                                  v153 = &Str1[v194];
                                  v194 = strcspn(&Str1[v194], " ");
                                  if ( v153[v194] )
                                    v153[v194++] = 0;
                                  v154 = j__atol(&v153[v194]);
                                  if ( CGuild::SetExp(a2, a3, a4, v153, v154) )
                                    sub_448C90(a2, a3, a4, a1, 29, "ss", "guildexp", "OK");
                                  else
                                    sub_448C90(a2, a3, a4, a1, 29, "ss", "guildexp", "ERROR");
                                  return;
                                }
                                if ( !strcmp(Str1, "/onsystem") )
                                {
                                  v152 = j__atol(&Str1[v194]);
                                  sub_45F200(a2, a3, a4, v152, 1);
                                  return;
                                }
                                if ( !strcmp(Str1, "/offsystem") )
                                {
                                  v151 = j__atol(&Str1[v194]);
                                  sub_45F200(a2, a3, a4, v151, 0);
                                  return;
                                }
                                if ( !strcmp(Str1, "/onevent") )
                                {
                                  v150 = j__atol(&Str1[v194]);
                                  sub_45F270(a2, a3, a4, v150, 1);
                                  return;
                                }
                                if ( !strcmp(Str1, "/offevent") )
                                {
                                  v149 = j__atol(&Str1[v194]);
                                  sub_45F270(a2, a3, a4, v149, 0);
                                  return;
                                }
                                if ( !strcmp(Str1, "/infosys") )
                                {
                                  v148 = *(_DWORD *)dword_4B8C30;
                                  v194 = sprintf(v147, "system : ");
                                  v146 = 0;
                                  while ( v148 > 0 )
                                  {
                                    if ( (v148 & 1) != 0 )
                                    {
                                      v21 = sprintf(&v147[v194], "%d ", v146);
                                      v194 += v21;
                                    }
                                    v148 >>= 1;
                                    ++v146;
                                  }
                                  sub_448C90(a2, a3, a4, a1, 46, "s", v147);
                                  v148 = dword_4B8C34;
                                  v194 = sprintf(v147, "event : ");
                                  v145 = 0;
                                  while ( v148 > 0 )
                                  {
                                    if ( (v148 & 1) != 0 )
                                    {
                                      v22 = sprintf(&v147[v194], "%d ", v145);
                                      v194 += v22;
                                    }
                                    v148 >>= 1;
                                    ++v145;
                                  }
                                  sub_448C90(a2, a3, a4, a1, 46, "s", v147);
                                  return;
                                }
                                if ( !strcmp(Str1, "/resetmaxuser") )
                                {
                                  v144 = j__atol(&Str1[v194]);
                                  if ( v144 > 1000 && v144 <= 20000 )
                                  {
                                    dword_4B8C44 = v144;
                                    sprintf(v143, "Max User : %d", v144);
                                    sub_448C90(a2, a3, a4, a1, 46, "s", v143);
                                    if ( dword_4BAAA0 != 1 )
                                      LOG_ERR(
                                        "Reset maximum user number. (pid:%d, number:%d)",
                                        *(_DWORD *)(a1 + 444),
                                        v144);
                                  }
                                  return;
                                }
                                if ( !strcmp(Str1, "/shutdown") )
                                {
                                  v142 = j__atol(&Str1[v194]);
                                  dword_4B8E10 = 60000 * v142;
                                  if ( 60000 * v142 <= 0 )
                                  {
                                    KillTimer(hWnd, 2u);
                                    sub_448C90(a2, a3, a4, a1, 36, "b", 3);
                                    LOG_NORMAL("Shutdown Canceled. (PID:%d)", *(_DWORD *)(a1 + 444));
                                  }
                                  else
                                  {
                                    SetTimer(hWnd, 2u, 0x2710u, 0);
                                    sub_448C90(a2, a3, a4, a1, 37, "bb", 0, v142);
                                    LOG_NORMAL("Shutdown Started. (PID:%d, Min:%d)", *(_DWORD *)(a1 + 444), v142);
                                  }
                                  return;
                                }
                                if ( !strcmp(Str1, "/clearlogin") )
                                {
                                  CAuthSocket::Write(a2, a3, a4, 7, &Src);
                                  return;
                                }
                                if ( !strcmp(Str1, "/sendto") || !strcmp(Str1, aAu) )
                                {
                                  Str1b = &Str1[v194];
                                  v140 = strcspn(Str1b, " ");
                                  if ( Str1b[v140] )
                                    Str1b[v140++] = 0;
                                  v141 = (volatile int *)sub_4467C0(a2, a3, a4, (int)Str1b);
                                  if ( v141 )
                                  {
                                    if ( CGoto::FindGoto((int)&Str1b[v140], &v138) )
                                      sub_451260(v141, a2, a3, a4, v138, v139, v139[2], 1);
                                    CIOObject::Release((CIOObject *)v141, a2, a3, a4, v141 + 86);
                                  }
                                  return;
                                }
                                if ( !strcmp(Str1, "/mlmset") )
                                {
                                  if ( sscanf(&Str1[v194], "%d %d %d %d", &v135, &v136, &v133, &v137) == 4
                                    && v135 >= 0
                                    && v135 <= 3
                                    && v136 >= 0
                                    && v133 <= 100
                                    && v137 >= 0
                                    && v137 <= 50 )
                                  {
                                    dword_4AE61C[3 * v135] = v136;
                                    dword_4AE620[3 * v135] = v133;
                                    dword_4AE624[3 * v135] = v137;
                                    if ( v135 >= 3 )
                                      sprintf(
                                        v134,
                                        "Changed~! (%02d ~ ) (gm:%d, m:%d, max:%d)",
                                        10 * v135 + 1,
                                        v136,
                                        v133,
                                        v137);
                                    else
                                      sprintf(
                                        v134,
                                        "Changed~! (%02d ~ %02d) (gm:%d, m:%d, max:%d)",
                                        10 * v135 + 1,
                                        10 * (v135 + 1),
                                        v136,
                                        v133,
                                        v137);
                                    sub_448C90(a2, a3, a4, a1, 46, "s", v134);
                                  }
                                  return;
                                }
                                if ( !strcmp(Str1, "/mlmstatus") )
                                {
                                  for ( j = 0; j < 4; ++j )
                                  {
                                    if ( j >= 3 )
                                      sprintf(
                                        v132,
                                        "(%02d ~ ) (gm:%d, m:%d, max:%d)",
                                        10 * j + 1,
                                        dword_4AE61C[3 * j],
                                        dword_4AE620[3 * j],
                                        dword_4AE624[3 * j]);
                                    else
                                      sprintf(
                                        v132,
                                        "(%02d ~ %02d) (gm:%d, m:%d, max:%d)",
                                        10 * j + 1,
                                        10 * (j + 1),
                                        dword_4AE61C[3 * j],
                                        dword_4AE620[3 * j],
                                        dword_4AE624[3 * j]);
                                    sub_448C90(a2, a3, a4, a1, 46, "s", v132);
                                  }
                                  return;
                                }
                                if ( dword_4BAAA0 == 1 )
                                  goto LABEL_122;
LABEL_201:
                                if ( !strcmp(Str1, "/notice") || !strcmp(Str1, "/") )
                                {
                                  sub_446840(a2, a3, a4, 46, "s", &Str1[v194]);
                                  return;
                                }
                                if ( !strcmp(Str1, "/kickout") )
                                {
                                  v130 = sub_4467C0(a2, a3, a4, (int)&Str1[v194]);
                                  if ( v130 )
                                  {
                                    sub_448C90(a2, a3, a4, (int)v130, 8, "b", 1);
                                    v129 = *((_DWORD *)v130 + 5);
                                    sub_483E60(*((_DWORD *)v130 + 351), a2, a3, a4, 1);
                                    LOG_NORMAL(
                                      "[Kickout] '%s' (PID:%d) %p %p %x %x %x",
                                      (const char *)v130 + 32,
                                      *((_DWORD *)v130 + 111),
                                      v130,
                                      *(const void **)(*((_DWORD *)v130 + 351) + 120),
                                      v129,
                                      *((_DWORD *)v130 + 5),
                                      *(_DWORD *)(*((_DWORD *)v130 + 351) + 108));
                                    CIOObject::Release(v130, a2, a3, a4, (volatile int *)v130 + 86);
                                  }
                                  return;
                                }
                                if ( !strcmp(Str1, "/recall") || !strcmp(Str1, asc_49D7AC) )
                                {
                                  v128 = (volatile int *)sub_4467C0(a2, a3, a4, (int)&Str1[v194]);
                                  if ( v128 )
                                  {
                                    v127[0] = *(_DWORD *)(a1 + 324) + 32;
                                    v127[1] = *(_DWORD *)(a1 + 328) + 32;
                                    sub_451260(v128, a2, a3, a4, *(_DWORD *)(a1 + 308), v127, 0, 1);
                                    CIOObject::Release((CIOObject *)v128, a2, a3, a4, v128 + 86);
                                  }
                                  return;
                                }
                                if ( !strcmp(Str1, "/hide") )
                                {
                                  if ( j__atol(&Str1[v194]) )
                                    (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 0x80000, 0);
                                  else
                                    (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 0x80000, 0);
                                  return;
                                }
                                if ( !strcmp(Str1, "/block") )
                                {
                                  v125 = sub_4467C0(a2, a3, a4, (int)&Str1[v194]);
                                  if ( v125 )
                                  {
                                    v60 = *((_DWORD *)v125 + 110);
                                    v23 = Concurrency::details::SchedulingRing::Id(*(Concurrency::details::SchedulingRing **)(a1 + 1404));
                                    CAuthSocket::Write(a2, a3, a4, 9, "dd", v23, v60);
                                    sub_448C90(a2, a3, a4, (int)v125, 8, "b", 1);
                                    sub_483E60(*((_DWORD *)v125 + 351), a2, a3, a4, 1);
                                    LOG_NORMAL(
                                      "[Account Block] (Name:%s, PID:%d, UID:%d)",
                                      (const char *)v125 + 32,
                                      *((_DWORD *)v125 + 111),
                                      *((_DWORD *)v125 + 110));
                                    CIOObject::Release(v125, a2, a3, a4, (volatile int *)v125 + 86);
                                  }
                                  return;
                                }
                                if ( !strcmp(Str1, "/free") )
                                {
                                  *(_DWORD *)v124 = j__atol(&Str1[v194]);
                                  v24 = Concurrency::details::SchedulingRing::Id(*(Concurrency::details::SchedulingRing **)(a1 + 1404));
                                  CAuthSocket::Write(a2, a3, a4, 10, "dd", v24, *(_DWORD *)v124);
                                  LOG_NORMAL("[Account Free] (UID:%d)", *(_DWORD *)v124);
                                  return;
                                }
                                if ( dword_4BAAA0 != 1 )
                                  goto LABEL_224;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
// 4569AA: conditional instruction was optimized away because of '%var_27C.4>=0'
// 4569B3: conditional instruction was optimized away because of '%var_304.4<65'
// 457BA3: variable 'v62' is possibly undefined
// 457E7E: variable 'v64' is possibly undefined
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);
// 49D440: using guessed type void *off_49D440;
// 4AE61C: using guessed type int dword_4AE61C[];
// 4AE620: using guessed type int dword_4AE620[];
// 4AE650: using guessed type int dword_4AE650[];
// 4AE8A8: using guessed type __int64 qword_4AE8A8;
// 4B8C34: using guessed type int dword_4B8C34;
// 4B8C40: using guessed type int dword_4B8C40;
// 4B8C44: using guessed type int dword_4B8C44;
// 4B8E10: using guessed type int dword_4B8E10;
// 4BAA94: using guessed type int dword_4BAA94;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00458470) --------------------------------------------------------
void __userpurge sub_458470(volatile LONG *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( a5 )
  {
    if ( sub_40A660(a1, 4) )
      return;
    CChar::AddGState(a1, 4);
    (*(void (__thiscall **)(volatile LONG *, int, _DWORD))(*a1 + 124))(a1, 1, 0);
    *((_DWORD *)a1 + 332) = GetTickCount() + 5000;
    goto LABEL_11;
  }
  if ( sub_40A660(a1, 4) && !sub_40A660(a1, 16) )
  {
    CChar::SubGState(a1, 4);
    if ( CChar::IsMState(a1, 0x100000i64) )
      sub_40A990((int)a1, a2, a3, a4, 18);
    if ( CChar::IsMState(a1, 0x200000i64) )
      sub_40A990((int)a1, a2, a3, a4, 19);
LABEL_11:
    sub_40ACD0(a2, a3, a4, (int)a1, 30, "dbb", *((_DWORD *)a1 + 7), 3, a5);
  }
}

//----- (00458560) --------------------------------------------------------
int __thiscall sub_458560(_DWORD *this, int a2)
{
  int result; // eax
  int v3; // ecx
  __int64 v4; // [esp-10h] [ebp-24h]
  int v5; // [esp+4h] [ebp-10h]
  __int64 v7; // [esp+Ch] [ebp-8h]

  result = (int)this;
  if ( (int)this[15] > 5 )
  {
    if ( sub_447290(this, 256) )
    {
      result = sub_447260(this, 256);
    }
    else
    {
      if ( (int)this[136] >= 20 )
        v5 = 20;
      else
        v5 = this[136];
      v3 = this[15];
      HIDWORD(v4) = dword_4AE654[2 * v3];
      LODWORD(v4) = dword_4AE650[2 * v3];
      v7 = v4 * (v5 / 5 + 2) / 100;
      if ( sub_447290(this, 128) )
      {
        v7 >>= 1;
        sub_447260(this, 128);
      }
      if ( sub_447290(this, 32) )
      {
        v7 >>= 1;
        result = sub_447260(this, 32);
      }
      else
      {
        result = sub_447290(this, 64);
        if ( result )
        {
          v7 /= 10i64;
          result = sub_447260(this, 64);
        }
      }
      if ( a2 < 100 )
      {
        if ( a2 > 0 )
          v7 -= v7 * a2 / 100;
        result = (*(int (__cdecl **)(_DWORD *, int, _DWORD, _DWORD, _DWORD))(*this + 88))(this, 25, 0, v7, HIDWORD(v7));
      }
    }
  }
  return result;
}
// 4AE650: using guessed type int dword_4AE650[];

//----- (004586F0) --------------------------------------------------------
void __usercall sub_4586F0(volatile LONG *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v5; // eax
  char *v6; // esi
  DWORD v7; // esi
  char *v8; // esi
  _DWORD *v9; // [esp+0h] [ebp-30h]
  int v11[7]; // [esp+Ch] [ebp-24h] BYREF
  int v12[2]; // [esp+28h] [ebp-8h] BYREF

  if ( sub_447290(a1, 16) )
  {
    (*(void (__thiscall **)(volatile LONG *, int))(*a1 + 112))(a1, 2);
    sub_447260(a1, 16);
    return;
  }
  if ( !sub_40A660(a1, 8) )
  {
    v4 = CChar::GetMaxHP(a1);
    (*(void (__cdecl **)(volatile LONG *, int, int, int))(*a1 + 88))(a1, 7, 1, v4);
    v5 = CChar::GetMaxMP(v9);
    (*(void (__cdecl **)(volatile LONG *, int, int, int))(*a1 + 88))(a1, 8, 1, v5);
    CChar::AddGState(a1, 8);
    sub_458560(a1, 0);
    sub_40AB60((int)a1, a2, a3, a4, 256);
    v6 = (char *)&unk_4AF728 + 28 * *((_DWORD *)a1 + 141);
    qmemcpy(v11, v6, sizeof(v11));
    v7 = (DWORD)(v6 + 28);
    if ( v11[5] )
    {
      if ( sub_416590() )
      {
        if ( CCastle::IsGateAlive(a2, (DWORD)v12, v7, v11[4], v11[5]) )
        {
LABEL_16:
          v12[0] = RandomBetween(v11[1] - 32, v11[1] + 32);
          v12[1] = RandomBetween(v11[2] - 32, v11[2] + 32);
          sub_451260(a1, a2, (DWORD)v12, v7, v11[0], v12, v11[3], 0);
          return;
        }
        sub_412010((int)a1, a2, (DWORD)v12, v7);
        if ( !sub_45E0A0((int)a1, a2, (DWORD)v12, v7, v11[4]) )
        {
LABEL_8:
          sub_411FF0((int)a1, a2, (DWORD)v12, v7);
          goto LABEL_16;
        }
        sub_411FF0((int)a1, a2, (DWORD)v12, v7);
        *((_DWORD *)a1 + 141) = v11[6];
      }
      else
      {
        *((_DWORD *)a1 + 141) = 0;
      }
    }
    else
    {
      if ( !v11[4] )
        goto LABEL_16;
      sub_412010((int)a1, a2, (DWORD)v12, v7);
      if ( sub_45E0A0((int)a1, a2, (DWORD)v12, v7, v11[4]) )
        goto LABEL_8;
      sub_411FF0((int)a1, a2, (DWORD)v12, v7);
      *((_DWORD *)a1 + 141) = 0;
    }
    CDBSocket::Write(a2, (DWORD)v12, v7, 36, "db", *((_DWORD *)a1 + 111), *((_DWORD *)a1 + 141));
    v8 = (char *)&unk_4AF728 + 28 * *((_DWORD *)a1 + 141);
    qmemcpy(v11, v8, sizeof(v11));
    v7 = (DWORD)(v8 + 28);
    goto LABEL_16;
  }
}
// 458757: variable 'v9' is possibly undefined

//----- (004588F0) --------------------------------------------------------
void __userpurge sub_4588F0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  _DWORD *v6; // eax
  int v8; // [esp+0h] [ebp-8h]
  CIOObject *v9; // [esp+4h] [ebp-4h]

  if ( sub_447290(a1, 8) )
  {
    sub_447260(a1, 8);
    if ( sub_447290(a1, 16) )
    {
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 112))(a1, 2);
      sub_447260(a1, 16);
      return;
    }
    if ( !CChar::IsNormal(a1) && !sub_40A660(a1, 8) && a5 )
    {
      v9 = 0;
      if ( !a6 )
        goto LABEL_13;
      v9 = sub_446740(a2, a3, a4, a6);
      if ( !v9 )
      {
        sub_448C90(a2, a3, a4, (int)a1, 36, "b", 71);
        return;
      }
      if ( sub_440790(a1 + 79, (_DWORD *)v9 + 79) > 10 )
      {
        sub_448C90(a2, a3, a4, (int)a1, 36, "b", 71);
        CIOObject::Release(v9, a2, a3, a4, (volatile int *)v9 + 86);
      }
      else
      {
LABEL_13:
        sub_458560(a1, 50);
        sub_40AB60((int)a1, a2, a3, a4, 256);
        a1[69] = 0;
        (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a1 + 88))(a1, 7, 1, a1[145]);
        (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a1 + 88))(a1, 8, 1, a1[146]);
        v6 = sub_4024B0(4, 60, -50, (int)a1);
        (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)v8 + 180))(v8, v6);
        if ( a6 )
        {
          CChar::AddGState((volatile LONG *)v8, 8);
          sub_451260((_DWORD *)v8, a2, a3, a4, *((_DWORD *)v9 + 77), (int *)v9 + 81, *((_DWORD *)v9 + 83), 0);
          CIOObject::Release(v9, a2, a3, a4, (volatile int *)v9 + 86);
        }
        else
        {
          (*(void (__thiscall **)(int, int))(*(_DWORD *)v8 + 112))(v8, 2);
        }
        CChar::AddGState((volatile LONG *)v8, 0x2000);
        *(_DWORD *)(v8 + 1332) = GetTickCount() + 10000;
      }
    }
  }
}
// 458A61: variable 'v8' is possibly undefined

//----- (00458AF0) --------------------------------------------------------
int __userpurge sub_458AF0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // eax
  int v7; // eax
  int v9; // [esp+0h] [ebp-4h]

  if ( CChar::IsNormal(a1) || sub_447290(a1, 16) || sub_40A660(a1, 8) )
    return 0;
  if ( sub_447290(a1, 8) )
    sub_447260(a1, 8);
  sub_458560(a1, a5);
  sub_40AB60((int)a1, a2, a3, a4, 256);
  a1[69] = 0;
  v6 = CChar::GetMaxHP(a1);
  (*(void (__cdecl **)(_DWORD *, int, int, int))(*a1 + 88))(a1, 7, 1, 30 * v6 / 100);
  v7 = CChar::GetMaxMP(a1);
  (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)v9 + 88))(v9, 8, 1, 30 * v7 / 100);
  (*(void (__thiscall **)(int, int))(*(_DWORD *)v9 + 112))(v9, 2);
  CChar::AddGState((volatile LONG *)v9, 0x2000);
  *(_DWORD *)(v9 + 1332) = GetTickCount() + 10000;
  return 1;
}
// 458BA6: variable 'v9' is possibly undefined

//----- (00458BF0) --------------------------------------------------------
void __userpurge sub_458BF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  char *v7; // [esp+4h] [ebp-4h]

  if ( a5 >= 0 && a5 <= dword_4BAA94 )
  {
    v7 = (char *)&unk_4AF728 + 28 * a5;
    if ( *((_DWORD *)v7 + 5) )
    {
      if ( sub_416590()
        && (CCastle::IsGateAlive(a2, a3, a4, *((_DWORD *)v7 + 4), *((_DWORD *)v7 + 5))
         || !sub_45E0A0(a1, a2, a3, a4, *((_DWORD *)v7 + 4))) )
      {
LABEL_15:
        *(_DWORD *)(a1 + 564) = a5;
        sub_448C90(a2, a3, a4, a1, 36, "b", 41);
        CDBSocket::Write(a2, a3, a4, 36, "db", *(_DWORD *)(a1 + 444), a5);
        return;
      }
    }
    else if ( !*((_DWORD *)v7 + 4) || sub_45E0A0(a1, a2, a3, a4, *((_DWORD *)v7 + 4)) )
    {
      goto LABEL_15;
    }
    sub_448C90(a2, a3, a4, a1, 36, "b", 76);
  }
}
// 4BAA94: using guessed type int dword_4BAA94;

//----- (00458CE0) --------------------------------------------------------
void __userpurge sub_458CE0(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  _DWORD *v10; // eax
  int v11; // [esp+0h] [ebp-3Ch]
  int v12; // [esp+4h] [ebp-38h]
  volatile signed __int32 *v14; // [esp+10h] [ebp-2Ch]
  volatile signed __int32 *v15; // [esp+14h] [ebp-28h]
  int v16; // [esp+18h] [ebp-24h]
  unsigned __int8 v17; // [esp+1Eh] [ebp-1Eh] BYREF
  unsigned __int8 v18; // [esp+1Fh] [ebp-1Dh] BYREF
  int v19; // [esp+20h] [ebp-1Ch]
  unsigned __int8 v20; // [esp+26h] [ebp-16h] BYREF
  unsigned __int8 v21; // [esp+27h] [ebp-15h] BYREF
  volatile signed __int32 *v22; // [esp+28h] [ebp-14h]
  int v23; // [esp+2Ch] [ebp-10h]
  int v24; // [esp+30h] [ebp-Ch]
  const char *v25; // [esp+34h] [ebp-8h] BYREF
  CIOObject *v26; // [esp+38h] [ebp-4h]

  switch ( a5 )
  {
    case 1:
      if ( (dword_4B8C34 & 2) != 0 )
      {
        if ( *((int *)a1 + 15) >= 10 )
        {
          ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bb", &v20, &v21);
          if ( v20 <= 3u && v21 <= 0xAu )
          {
            if ( sub_451F80((int)a1, a2, a3, a4, 9, 649, v21) )
            {
              v23 = RandomBetween(1, 6);
              v24 = RandomBetween(1, 6);
              v19 = v24 + v23;
              switch ( v20 )
              {
                case 0u:
                  if ( v19 <= 6 )
                    goto LABEL_34;
                  goto LABEL_33;
                case 1u:
                  if ( v19 <= 6 )
                    goto LABEL_33;
                  goto LABEL_34;
                case 2u:
                  if ( v19 != 7 )
                    goto LABEL_33;
                  goto LABEL_34;
                case 3u:
                  if ( v19 != 2 && v19 != 12 )
                    goto LABEL_33;
LABEL_34:
                  v22 = CItem::CreateItem(31, 0, dword_4AE9E8[v20] * v21, -1);
                  if ( sub_4522B0((int)a1, a2, a3, a4, 24, v22) != 1 )
                    CBase::Delete(v22);
                  sub_448C90(a2, a3, a4, (int)a1, 37, "bbbbb", 43, 26, 1, v23, v24);
                  break;
                default:
LABEL_33:
                  sub_448C90(a2, a3, a4, (int)a1, 37, "bbbbb", 43, 26, 0, v23, v24);
                  break;
              }
            }
            else
            {
              sub_448C90(a2, a3, a4, (int)a1, 37, "bb", 43, 25);
              LOG_ERR("ProcessEvent() RemoveItem Error (%d)", 649);
            }
          }
        }
        else
        {
          sub_448C90(a2, a3, a4, (int)a1, 37, "bb", 43, 24);
        }
      }
      break;
    case 3:
      if ( (dword_4B8C34 & 8) != 0 && *((int *)a1 + 15) >= 5 )
      {
        if ( *((int *)a1 + 110) >= 429879 )
        {
          ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "s", &v25, 17);
          if ( IsValidAdminName(v25) )
          {
            v26 = sub_4467C0(a2, a3, a4, (int)v25);
            if ( v26 )
            {
              if ( a1 == (char *)v26 )
                sub_448C90(a2, a3, a4, (int)a1, 37, "bbb", 43, 8, 0);
              else
                CAuthSocket::Write(
                  a2,
                  a3,
                  a4,
                  11,
                  "bddd",
                  a5,
                  *((_DWORD *)a1 + 7),
                  *((_DWORD *)a1 + 110),
                  *((_DWORD *)v26 + 110));
              CIOObject::Release(v26, a2, a3, a4, (volatile int *)v26 + 86);
            }
            else
            {
              CDBSocket::Write(a2, a3, a4, 38, "dbs", *((_DWORD *)a1 + 7), a5, v25);
            }
          }
          else
          {
            sub_448C90(a2, a3, a4, (int)a1, 37, "bbb", 43, 6, 0);
          }
        }
        else
        {
          sub_448C90(a2, a3, a4, (int)a1, 37, "bbb", 43, 7, 0);
        }
      }
      break;
    case 4:
      if ( dword_4BAAA0 != 1 && (dword_4B8C34 & 0x10) != 0 )
      {
        if ( sub_408E10(a1, 0x10000000) )
        {
          sub_448C90(a2, a3, a4, (int)a1, 36, "b", 102);
        }
        else
        {
          ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bb", &v18, &v17);
          *((_DWORD *)a1 + 137) = v18;
          *((_DWORD *)a1 + 138) = v17;
          v7 = sub_4024B0(102, 1814400, 0, v11);
          (*(void (__thiscall **)(char *, _DWORD *))(*(_DWORD *)a1 + 180))(a1, v7);
          sub_40ACD0(a2, a3, a4, (int)a1, 93, "dbb", *((_DWORD *)a1 + 7), *((_DWORD *)a1 + 137), *((_DWORD *)a1 + 138));
          CDBSocket::Write(a2, a3, a4, 75, "dbb", *((_DWORD *)a1 + 111), *((_DWORD *)a1 + 137), *((_DWORD *)a1 + 138));
        }
      }
      break;
    case 7:
      if ( dword_4BAAA0 == 1 && (dword_4B8C34 & 0x80) != 0 )
      {
        if ( sub_451720((int)a1, a2, a3, a4, 653, 1) )
        {
          v8 = sub_408E10(a1, 256);
          v16 = RandomBetween(1, 3 - (v8 != 0));
          if ( v16 == 3 || sub_452430(a1) < 60 )
          {
            switch ( v16 )
            {
              case 1:
                v9 = RandomBetween(0, 2);
                v15 = CItem::CreateItem(dword_4AE9DC[v9], 0, 1, -1);
                if ( v15 && sub_4522B0((int)a1, a2, a3, a4, 24, v15) != 1 )
                  CBase::Delete(v15);
                break;
              case 2:
                v14 = CItem::CreateItem(31, 0, 500, -1);
                if ( v14 && sub_4522B0((int)a1, a2, a3, a4, 24, v14) != 1 )
                  CBase::Delete(v14);
                break;
              case 3:
                v10 = sub_4024B0(17, 3600, 3, v12);
                (*(void (__thiscall **)(char *, _DWORD *))(*(_DWORD *)a1 + 180))(a1, v10);
                break;
            }
            if ( !sub_451F80((int)a1, a2, a3, a4, 24, 653, 1) )
              LOG_ERR("CPlayer::ProcessEvent() Failed to remove item(%d) on Event(%d)", 653, 7);
          }
          else
          {
            sub_448C90(a2, a3, a4, (int)a1, 36, "b", 17);
          }
        }
        else
        {
          sub_448C90(a2, a3, a4, (int)a1, 37, "bwd", 104, 653, 1);
        }
      }
      break;
    default:
      return;
  }
}
// 459059: variable 'v11' is possibly undefined
// 459218: variable 'v12' is possibly undefined
// 4B8C34: using guessed type int dword_4B8C34;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00459290) --------------------------------------------------------
void __userpurge sub_459290(unsigned int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src)
{
  unsigned __int8 v7; // [esp+Bh] [ebp-9h] BYREF
  int v8; // [esp+Ch] [ebp-8h] BYREF
  char v9; // [esp+12h] [ebp-2h] BYREF
  unsigned __int8 v10; // [esp+13h] [ebp-1h] BYREF
  void *Srca; // [esp+20h] [ebp+Ch]
  void *Srcb; // [esp+20h] [ebp+Ch]

  if ( a5 == 3 )
  {
    Srca = sub_485530(a2, a3, a4, Src, "bb", &v9, &v10);
    if ( v9 )
    {
      sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, v10, 0);
    }
    else
    {
      sub_485530(a2, a3, a4, Srca, "d", &v8);
      if ( v10 == 9 )
      {
        if ( *(_DWORD *)(a1 + 440) == v8 )
          sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, 8, 0);
        else
          CAuthSocket::Write(a2, a3, a4, 11, "bddd", 3, *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 440), v8);
      }
      else
      {
        sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, v10, 0);
      }
    }
  }
  else if ( a5 == 5 )
  {
    Srcb = sub_485530(a2, a3, a4, Src, "b", &v7);
    sub_459B60(a1, a2, a3, a4, v7, Srcb, (int)Srcb);
  }
}

//----- (004593C0) --------------------------------------------------------
void __usercall sub_4593C0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-68h] [ebp-7Ch]
  int v8; // [esp-64h] [ebp-78h]
  int v9; // [esp-60h] [ebp-74h]
  int v10; // [esp-5Ch] [ebp-70h]
  int v11; // [esp-54h] [ebp-68h]
  int v12; // [esp-4Ch] [ebp-60h]
  int v13; // [esp-48h] [ebp-5Ch]
  int v14; // [esp-44h] [ebp-58h]
  int v15; // [esp-40h] [ebp-54h]
  int v16; // [esp-3Ch] [ebp-50h]
  int v17; // [esp-38h] [ebp-4Ch]
  int v18; // [esp-34h] [ebp-48h]
  int v19; // [esp-30h] [ebp-44h]
  int v20; // [esp-2Ch] [ebp-40h]
  int v21; // [esp-28h] [ebp-3Ch]
  int v22; // [esp-24h] [ebp-38h]
  int v23; // [esp-20h] [ebp-34h]
  int v24; // [esp-1Ch] [ebp-30h]
  int v25; // [esp-18h] [ebp-2Ch]
  int v26; // [esp-14h] [ebp-28h]
  int v27; // [esp-10h] [ebp-24h]
  int v28; // [esp-Ch] [ebp-20h]
  int v29; // [esp-8h] [ebp-1Ch]
  int v30; // [esp-4h] [ebp-18h]
  _DWORD *v32; // [esp+0h] [ebp-14h]
  char v33[4]; // [esp+4h] [ebp-10h] BYREF
  int v34; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v35; // [esp+Ch] [ebp-8h]
  int v36; // [esp+10h] [ebp-4h] BYREF

  if ( sub_451F80((int)a1, a2, a3, a4, 16, 361, 1) || sub_451F80((int)a1, a2, a3, a4, 16, 501, 1) )
  {
    sub_40AB60((int)a1, a2, a3, a4, -225);
    memset(a1 + 16, 0, 0x1Cu);
    memset(a1 + 23, 0, 0x60u);
    memset(a1 + 47, 0, 0x54u);
    memcpy(a1 + 16, (char *)&unk_4AE988 + 28 * a1[113], 0x14u);
    a1[134] = 0;
    a1[153] = 0;
    a1[152] = 0;
    a1[151] = 0;
    a1[150] = 0;
    a1[149] = 0;
    a1[148] = 0;
    a1[147] = 0;
    sub_40AC10((int)a1, a2, a3, a4);
    (*(void (__thiscall **)(_DWORD *))(*a1 + 84))(a1);
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 233), a2, a3, a4);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 245),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v36);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(a1 + 245, v33);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v36,
              v4) )
        break;
      v35 = *(_DWORD **)(sub_43E1A0(&v36) + 4);
      if ( sub_425930(v35, 1) )
        (*(void (__thiscall **)(_DWORD *, _DWORD *))(*v35 + 104))(v35, a1);
      sub_46FA50(&v36, &v34, 0);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 233), a2, a3, a4);
    sub_470AE0(a1 + 154);
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a1 + 88))(a1, 23, 1, 5 * a1[15]);
    v5 = CChar::GetMaxMP(a1);
    v32[69] = v5;
    v32[68] = CChar::GetMaxHP(v32);
    v30 = v32[143];
    v29 = sub_436490(v32, 4);
    v28 = sub_436490(v32, 3);
    v27 = sub_436490(v32, 2);
    v26 = sub_436490(v32, 1);
    v25 = sub_436490(v32, 0);
    v24 = v32[135];
    v23 = v32[134];
    v22 = CChar::GetMaxMagic(v32);
    v21 = CChar::GetMinMagic(v32);
    v20 = CChar::GetMaxAttack(v32);
    v19 = CChar::GetMinAttack(v32);
    v18 = v32[117];
    v17 = v32[116];
    v16 = CChar::GetAbsorb(v32);
    v15 = CChar::GetDefense(v32, 0);
    v14 = CChar::GetDodge(v32);
    v13 = CChar::GetHit(v32);
    v12 = v32[69];
    v11 = v32[68];
    v10 = Char::GetDex(v32);
    v9 = CChar::GetWis(v32);
    v8 = CChar::GetInt(v32);
    v7 = CChar::GetHth(v32);
    v6 = CChar::GetStr(v32);
    sub_448C90(
      a2,
      a3,
      a4,
      (int)v32,
      35,
      "bsbwbbbbbwwwwwwwbIwwwwwwbbbbbd",
      v32[114],
      &Src,
      v32[132],
      v32[115],
      v6,
      v7,
      v8,
      v9,
      v10,
      v11,
      v11,
      v12,
      v12,
      v13,
      v14,
      v15,
      v16,
      v17,
      v18,
      v19,
      v20,
      v21,
      v22,
      v23,
      v24,
      v25,
      v26,
      v27,
      v28,
      v29,
      v30);
    sub_448C90(a2, a3, a4, (int)v32, 36, "b", 59);
    sub_44CEA0((int)v32, a2, a3, a4, 0);
  }
}
// 4595A3: variable 'v32' is possibly undefined

//----- (00459720) --------------------------------------------------------
_DWORD *__thiscall sub_459720(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  *(_DWORD *)(a2 + 12) = this[296];
  result = this;
  this[296] = a2;
  return result;
}

//----- (00459750) --------------------------------------------------------
_DWORD *__thiscall sub_459750(_DWORD *this)
{
  _DWORD *result; // eax
  _DWORD *v3; // [esp+8h] [ebp-4h]

  while ( 1 )
  {
    result = this;
    if ( !this[296] )
      break;
    v3 = (_DWORD *)this[296];
    this[296] = v3[3];
    sub_401020(v3);
  }
  return result;
}

//----- (004597A0) --------------------------------------------------------
BOOL __thiscall sub_4597A0(_DWORD *this)
{
  _DWORD *v2; // [esp+0h] [ebp-10h]
  CMemory **v4; // [esp+8h] [ebp-8h]
  _DWORD *i; // [esp+Ch] [ebp-4h]

  for ( i = (_DWORD *)this[296]; i; i = (_DWORD *)i[3] )
  {
    if ( !i[1] )
      return GetTickCount() - i[2] >= 0x36EE80;
  }
  v4 = sub_401000(0x10u);
  if ( v4 )
    v2 = sub_44C630(v4);
  else
    v2 = 0;
  v2[1] = 0;
  v2[2] = GetTickCount() - 3600000;
  sub_459720(this, (int)v2);
  return 1;
}

//----- (00459850) --------------------------------------------------------
unsigned int __userpurge sub_459850@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  volatile signed __int32 *v7; // [esp+8h] [ebp-20h]
  volatile signed __int32 *v8; // [esp+Ch] [ebp-1Ch]
  int v9; // [esp+10h] [ebp-18h]
  int v10; // [esp+14h] [ebp-14h]
  int v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+1Ch] [ebp-Ch]
  unsigned int *i; // [esp+20h] [ebp-8h]
  unsigned int v14; // [esp+24h] [ebp-4h]

  for ( i = *(unsigned int **)(a1 + 1184); ; i = (unsigned int *)i[3] )
  {
    if ( !i )
      return 0;
    if ( !i[1] )
      break;
  }
  v9 = 0;
  v10 = 0;
  v12 = 0;
  v11 = 0;
  *i = a5 | *i & 0xFFFF0000;
  if ( a5 == 1 )
  {
    *i += 0x10000;
    if ( (*i & 0xFFFF0000) >> 16 >= 5 )
    {
      v9 = 5000;
      v12 = 274;
      v10 = 1;
      v11 = 1;
    }
  }
  else if ( a5 == 3 )
  {
    switch ( (*i & 0xFFFF0000) >> 16 )
    {
      case 1u:
        v9 = 200;
        break;
      case 2u:
        v9 = 500;
        break;
      case 3u:
        v9 = 1000;
        break;
      case 4u:
        v9 = 2000;
        v12 = 273;
        v11 = 1;
        break;
      default:
        break;
    }
    v10 = 1;
  }
  v14 = (*i & 0xFFFF0000) >> 16;
  if ( v10 )
  {
    i[2] = GetTickCount();
    *i = 0;
    if ( v9 )
    {
      v8 = CItem::CreateItem(31, 0, v9, -1);
      if ( v8 )
      {
        if ( !sub_452300((char *)a1, a2, a3, a4, 24, v8) )
        {
          LOG_ERR("CPlayer::EventSetMora() Fail to insert money(%d).", v9);
          CBase::Delete(v8);
        }
      }
    }
    if ( v12 )
    {
      v7 = CItem::CreateItem(v12, 0, v11, -1);
      if ( v7 )
      {
        if ( sub_4522B0(a1, a2, a3, a4, 2, v7) != 1 )
          CBase::Delete(v7);
      }
    }
  }
  return v14;
}

//----- (00459A50) --------------------------------------------------------
void __usercall sub_459A50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<esi>)
{
  _BYTE *v3; // eax
  int v5; // [esp+8h] [ebp-1010h]
  char *v6; // [esp+Ch] [ebp-100Ch]
  char v7; // [esp+10h] [ebp-1008h] BYREF
  char v8[4092]; // [esp+11h] [ebp-1007h] BYREF
  __int16 v9; // [esp+100Dh] [ebp-Bh]
  char v10; // [esp+100Fh] [ebp-9h]
  uintptr_t StackCookie; // [esp+1010h] [ebp-8h] BYREF
  int v12; // [esp+1014h] [ebp-4h]

  v7 = 0;
  memset(v8, 0, sizeof(v8));
  v9 = 0;
  v10 = 0;
  v6 = &v7;
  v12 = 0;
  v5 = *(_DWORD *)(a1 + 1184);
  while ( v5 )
  {
    v3 = sub_417B60(v6, *(_BYTE *)(v5 + 4));
    v6 = (char *)sub_4459A0(v3, *(_DWORD *)(v5 + 8));
    v5 = *(_DWORD *)(v5 + 12);
    ++v12;
  }
  if ( v12 )
    CDBSocket::Write(a2, (DWORD)&StackCookie, a3, 37, "dbm", *(_DWORD *)(a1 + 444), v12, &v7, v6 - &v7);
}

//----- (00459B60) --------------------------------------------------------
void __userpurge sub_459B60(unsigned int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  char *v12; // eax
  int v13; // [esp-Ch] [ebp-D8h]
  int v14; // [esp-4h] [ebp-D0h]
  int v15; // [esp-4h] [ebp-D0h]
  int v16; // [esp-4h] [ebp-D0h]
  int v17; // [esp+0h] [ebp-CCh]
  int *v18; // [esp+4h] [ebp-C8h]
  int *v19; // [esp+8h] [ebp-C4h]
  int *v20; // [esp+Ch] [ebp-C0h]
  int *v21; // [esp+10h] [ebp-BCh]
  int *v22; // [esp+14h] [ebp-B8h]
  int *v24; // [esp+20h] [ebp-ACh]
  int *v25; // [esp+24h] [ebp-A8h]
  int *v26; // [esp+28h] [ebp-A4h]
  int *v27; // [esp+2Ch] [ebp-A0h]
  int *v28; // [esp+30h] [ebp-9Ch]
  unsigned __int8 v29; // [esp+37h] [ebp-95h] BYREF
  int v30; // [esp+38h] [ebp-94h] BYREF
  _DWORD *v31; // [esp+3Ch] [ebp-90h]
  unsigned __int8 v32; // [esp+43h] [ebp-89h] BYREF
  int v33; // [esp+44h] [ebp-88h]
  int v34; // [esp+48h] [ebp-84h]
  const char *v35; // [esp+4Ch] [ebp-80h] BYREF
  CIOObject *v36; // [esp+50h] [ebp-7Ch]
  int v37; // [esp+54h] [ebp-78h] BYREF
  char v38; // [esp+5Ah] [ebp-72h] BYREF
  char v39; // [esp+5Bh] [ebp-71h] BYREF
  char *v40; // [esp+5Ch] [ebp-70h]
  char *v41; // [esp+60h] [ebp-6Ch]
  int v42; // [esp+64h] [ebp-68h]
  int v43; // [esp+68h] [ebp-64h]
  void *v44; // [esp+6Ch] [ebp-60h]
  CIOObject *v45; // [esp+70h] [ebp-5Ch]
  _DWORD *v46; // [esp+74h] [ebp-58h]
  CMemory *v47; // [esp+78h] [ebp-54h] BYREF
  int v48; // [esp+7Ch] [ebp-50h]
  CIOObject *v49; // [esp+80h] [ebp-4Ch]
  CMemory *v50; // [esp+84h] [ebp-48h] BYREF
  int v51; // [esp+88h] [ebp-44h] BYREF
  _DWORD *k; // [esp+8Ch] [ebp-40h]
  volatile signed __int32 *v53; // [esp+90h] [ebp-3Ch]
  int j; // [esp+94h] [ebp-38h]
  _DWORD **v55; // [esp+98h] [ebp-34h]
  CIOObject *v56; // [esp+9Ch] [ebp-30h]
  int *v57; // [esp+A0h] [ebp-2Ch]
  _DWORD *i; // [esp+A4h] [ebp-28h]
  CMemory **v59; // [esp+A8h] [ebp-24h]
  int v60; // [esp+ACh] [ebp-20h] BYREF
  char v61; // [esp+B3h] [ebp-19h] BYREF
  CIOObject *v62; // [esp+B4h] [ebp-18h]
  int v63; // [esp+B8h] [ebp-14h] BYREF
  char v64; // [esp+BFh] [ebp-Dh] BYREF
  CIOObject *v65; // [esp+C0h] [ebp-Ch]
  CIOObject *v66; // [esp+C4h] [ebp-8h]
  int v67; // [esp+C8h] [ebp-4h] BYREF

  if ( dword_4BAAA0 != 1 )
  {
    switch ( a5 )
    {
      case 0:
        if ( *(int *)(a1 + 60) <= 15 )
        {
          CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
          if ( sub_45B0A0((_DWORD *)a1, 2, 0) )
          {
            CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
            sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, 13, 0);
          }
          else
          {
            CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
            ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "s", &v67, 17);
            v66 = sub_4467C0(a2, a3, a4, v67);
            if ( v66 )
            {
              if ( *((int *)v66 + 15) < 16 )
              {
                sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, 11, 0);
              }
              else if ( sub_45B190((int)v66, a2, a3, a4) < 20 )
              {
                v7 = unknown_libname_4(v66);
                CAuthSocket::Write(a2, a3, a4, 11, "bddbd", 5, *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 440), 1, v7);
              }
              else
              {
                sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, 12, 0);
              }
              CIOObject::Release(v66, a2, a3, a4, (volatile int *)v66 + 86);
            }
            else
            {
              sub_448C90(a2, a3, a4, a1, 36, "b", 25);
            }
          }
        }
        else
        {
          sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, 10, 0);
        }
        break;
      case 1:
        ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "db", &v63, &v64);
        v65 = sub_446740(a2, a3, a4, v63);
        if ( v65 )
        {
          if ( v64 )
          {
            v14 = *(_DWORD *)(a1 + 28);
            v13 = *((_DWORD *)v65 + 110);
            v8 = unknown_libname_4(v65);
            CAuthSocket::Write(a2, a3, a4, 11, "bddbd", 5, v8, v13, 0, v14);
          }
          else
          {
            sub_448C90(a2, a3, a4, (int)v65, 37, "bbb", 43, 14, 0);
          }
          CIOObject::Release(v65, a2, a3, a4, (volatile int *)v65 + 86);
        }
        break;
      case 2:
        sub_485530(a2, a3, a4, Src, "bd", &v61, &v60);
        v62 = sub_446740(a2, a3, a4, v60);
        if ( v62 )
        {
          if ( v61 )
          {
            sub_45ACA0(a2, a3, a4, a1, (unsigned int)v62);
            if ( sub_45B0A0((_DWORD *)a1, 2, 0) )
            {
              sub_45ACF0(a2, a3, a4, a1, (int)v62);
              CAuthSocket::Write(a2, a3, a4, 11, "bddbd", 5, 0, *(_DWORD *)(a1 + 440), 3, 0);
              return;
            }
            i = sub_45B0A0(v62, 2, 0);
            if ( i )
            {
              v28 = (int *)sub_401000(0x30u);
              if ( v28 )
                v22 = sub_45AC30(v28, 1, i[1], i + 2, i[7], i[8], 0, i[10]);
              else
                v22 = 0;
              v57 = v22;
              sub_45ADF0((_DWORD **)a1, v22);
              CDBSocket::Write(a2, a3, a4, 66, "dbddbsbb", *(_DWORD *)(a1 + 444), 0, i[1], i[10], 1, i + 2, i[7], i[8]);
            }
            v27 = (int *)sub_401000(0x30u);
            if ( v27 )
              v21 = sub_45AC30(
                      v27,
                      2,
                      *((_DWORD *)v62 + 111),
                      (char *)v62 + 32,
                      *((_DWORD *)v62 + 113),
                      *((_DWORD *)v62 + 15),
                      1,
                      *((_DWORD *)v62 + 110));
            else
              v21 = 0;
            v57 = v21;
            sub_45ADF0((_DWORD **)a1, v21);
            CDBSocket::Write(
              a2,
              a3,
              a4,
              66,
              "dbddbsbb",
              *(_DWORD *)(a1 + 444),
              0,
              *((_DWORD *)v62 + 111),
              *((_DWORD *)v62 + 110),
              2,
              (char *)v62 + 32,
              *((_DWORD *)v62 + 113),
              *((_DWORD *)v62 + 15));
            v59 = 0;
            for ( i = sub_45B0A0(v62, 4, 0); i && *i == 4; i = (_DWORD *)i[11] )
            {
              v26 = (int *)sub_401000(0x30u);
              if ( v26 )
                v20 = sub_45AC30(v26, 3, i[1], i + 2, i[7], i[8], i[9], i[10]);
              else
                v20 = 0;
              v57 = v20;
              sub_45ADF0((_DWORD **)a1, v20);
              CDBSocket::Write(a2, a3, a4, 66, "dbddbsbb", *(_DWORD *)(a1 + 444), 0, i[1], i[10], 3, i + 2, i[7], i[8]);
              CDBSocket::Write(
                a2,
                a3,
                a4,
                66,
                "dbddbsbb",
                i[1],
                0,
                *(_DWORD *)(a1 + 444),
                *(_DWORD *)(a1 + 440),
                3,
                a1 + 32,
                *(_DWORD *)(a1 + 452),
                *(_DWORD *)(a1 + 60));
              if ( i[9] )
              {
                v56 = sub_4466C0(a2, a3, a4, i[1]);
                if ( v56 )
                {
                  v59 = CBaseList::Push((CMemory *)v59, a2, a3, a4, (volatile int *)v56);
                  CIOObject::Release(v56, a2, a3, a4, (volatile int *)v56 + 86);
                }
              }
            }
            v25 = (int *)sub_401000(0x30u);
            if ( v25 )
              v19 = sub_45AC30(
                      v25,
                      4,
                      *(_DWORD *)(a1 + 444),
                      (void *)(a1 + 32),
                      *(_DWORD *)(a1 + 452),
                      *(_DWORD *)(a1 + 60),
                      1,
                      *(_DWORD *)(a1 + 440));
            else
              v19 = 0;
            v57 = v19;
            sub_45ADF0((_DWORD **)v62, v19);
            CDBSocket::Write(
              a2,
              a3,
              a4,
              66,
              "dbddbsbb",
              *((_DWORD *)v62 + 111),
              0,
              *(_DWORD *)(a1 + 444),
              *(_DWORD *)(a1 + 440),
              4,
              a1 + 32,
              *(_DWORD *)(a1 + 452),
              *(_DWORD *)(a1 + 60));
            sub_45ACF0(a2, a3, a4, a1, (int)v62);
            while ( v59 )
            {
              v55 = (_DWORD **)unknown_libname_10(v59);
              v24 = (int *)sub_401000(0x30u);
              if ( v24 )
                v18 = sub_45AC30(
                        v24,
                        3,
                        *(_DWORD *)(a1 + 444),
                        (void *)(a1 + 32),
                        *(_DWORD *)(a1 + 452),
                        *(_DWORD *)(a1 + 60),
                        1,
                        *(_DWORD *)(a1 + 440));
              else
                v18 = 0;
              v57 = v18;
              CIOCriticalSection::Enter((CIOCriticalSection *)(v55 + 298), a2, a3, a4);
              sub_45ADF0(v55, v18);
              CIOCriticalSection::Leave((CIOCriticalSection *)(v55 + 298), a2, a3, a4);
              v59 = (CMemory **)CBaseList::Pop((int)v59, a2, a3, a4);
            }
            if ( v61 == 1 )
            {
              for ( j = 0; j < 5; ++j )
              {
                v53 = CItem::CreateItem(dword_4B0FB0[5 * *(_DWORD *)(a1 + 452) + j], 0, 1, -1);
                if ( v53 && sub_4522B0(a1, a2, a3, a4, 41, v53) != 1 )
                  CBase::Delete(v53);
              }
            }
            v9 = sub_45B190((int)v62, a2, a3, a4);
            sub_448C90(a2, a3, a4, (int)v62, 37, "bbbs", 43, 17, v9, a1 + 32);
            sub_448C90(a2, a3, a4, a1, 37, "bbbs", 43, 18, 0, (char *)v62 + 32);
          }
          else
          {
            sub_448C90(a2, a3, a4, (int)v62, 37, "bbb", 43, 15, 0);
            sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, 13, 0);
          }
          CIOObject::Release(v62, a2, a3, a4, (volatile int *)v62 + 86);
        }
        else if ( v61 )
        {
          CAuthSocket::Write(a2, a3, a4, 11, "bddbd", 5, 0, *(_DWORD *)(a1 + 440), 3, 0);
        }
        break;
      case 3:
        ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "d", &v51);
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        for ( k = *(_DWORD **)(a1 + 1188); k && (*k != 2 && *k != 4 || k[1] != v51); k = (_DWORD *)k[11] )
          ;
        if ( k )
        {
          if ( *k == 2 )
          {
            if ( *(int *)(a1 + 60) >= 16 )
            {
              sub_448C90(a2, a3, a4, a1, 37, "bbbs", 43, 21, 0, k + 2);
              v50 = 0;
              sub_45B100((_DWORD *)a1, a2, a3, a4, &v50, 3);
              sub_45AE90((_DWORD **)a1, 1, 0);
              sub_45AE90((_DWORD **)a1, 2, 0);
              sub_45AE90((_DWORD **)a1, 3, 0);
              CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
              while ( v50 )
              {
                v15 = *(_DWORD *)(a1 + 444);
                v10 = unknown_libname_10(v50);
                sub_45AE50(v10, a2, a3, a4, 3, v15);
                v50 = (CMemory *)CBaseList::Pop((int)v50, a2, a3, a4);
              }
              CDBSocket::Write(a2, a3, a4, 66, "db", *(_DWORD *)(a1 + 444), 2);
              v49 = sub_4466C0(a2, a3, a4, v51);
              if ( v49 )
              {
                sub_45AE50((int)v49, a2, a3, a4, 4, *(_DWORD *)(a1 + 444));
                sub_448C90(a2, a3, a4, (int)v49, 37, "bbbs", 43, 21, 0, a1 + 32);
                CIOObject::Release(v49, a2, a3, a4, (volatile int *)v49 + 86);
              }
              CDBSocket::Write(a2, a3, a4, 66, "dbd", v51, 1, *(_DWORD *)(a1 + 444));
              CAuthSocket::Write(a2, a3, a4, 11, "bddbd", 5, 0, *(_DWORD *)(a1 + 440), 4, 0);
            }
            else
            {
              CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
              sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, 16, 0);
            }
          }
          else
          {
            v48 = 0;
            v46 = sub_45B0A0((_DWORD *)a1, 4, v51);
            if ( v46 )
            {
              sub_448C90(a2, a3, a4, a1, 37, "bbbs", 43, 21, 0, v46 + 2);
              v48 = v46[10];
            }
            sub_45AE90((_DWORD **)a1, 4, v51);
            v47 = 0;
            sub_45B100((_DWORD *)a1, a2, a3, a4, &v47, 4);
            CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
            CDBSocket::Write(a2, a3, a4, 66, "dbd", *(_DWORD *)(a1 + 444), 1, v51);
            while ( v47 )
            {
              v16 = v51;
              v11 = unknown_libname_10(v47);
              sub_45AE50(v11, a2, a3, a4, 3, v16);
              v47 = (CMemory *)CBaseList::Pop((int)v47, a2, a3, a4);
            }
            v45 = sub_4466C0(a2, a3, a4, v51);
            if ( v45 )
            {
              sub_45AE50((int)v45, a2, a3, a4, 1, 0);
              sub_45AE50((int)v45, a2, a3, a4, 2, 0);
              sub_45AE50((int)v45, a2, a3, a4, 3, 0);
              sub_448C90(a2, a3, a4, (int)v45, 37, "bbbs", 43, 21, 0, a1 + 32);
              CIOObject::Release(v45, a2, a3, a4, (volatile int *)v45 + 86);
            }
            CDBSocket::Write(a2, a3, a4, 66, "db", v51, 2);
            CAuthSocket::Write(a2, a3, a4, 11, "bddbd", 5, 0, v48, 4, 0);
          }
        }
        else
        {
          CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        }
        break;
      case 4:
        v44 = CIOBuffer::Alloc();
        v40 = (char *)v44;
        *((_BYTE *)v44 + 2) = 82;
        v41 = v40 + 5;
        v43 = 0;
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        v42 = *(_DWORD *)(a1 + 1188);
        while ( v42 )
        {
          v41 = sub_417B60(v41, *(_BYTE *)v42);
          v12 = (char *)sub_4459A0(v41, *(_DWORD *)(v42 + 4));
          v41 = PutString(v12, (const char *)(v42 + 8));
          v41 = sub_417B60(v41, *(_BYTE *)(v42 + 36));
          v41 = sub_417B60(v41, *(_BYTE *)(v42 + 28));
          v41 = sub_417B60(v41, *(_BYTE *)(v42 + 32));
          v42 = *(_DWORD *)(v42 + 44);
          ++v43;
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        WritePacket(a2, a3, a4, v40 + 3, "bb", 1, v43);
        *(_WORD *)v40 = (_WORD)v41 - (_WORD)v40;
        *((_DWORD *)v44 + 2000) = *(unsigned __int16 *)v40;
        sub_483370(*(_DWORD *)(a1 + 1404), a2, a3, a4, v44);
        break;
      case 5:
        sub_485530(a2, a3, a4, Src, "bbd", &v38, &v39, &v37);
        if ( v38 == 1 )
        {
          v36 = sub_446740(a2, a3, a4, v37);
          if ( v36 )
          {
            sub_448C90(a2, a3, a4, (int)v36, 82, "bds", (v39 & 4) != 0 ? 2 : 0, *(_DWORD *)(a1 + 28), a1 + 32);
            CIOObject::Release(v36, a2, a3, a4, (volatile int *)v36 + 86);
          }
          else
          {
            sub_448C90(a2, a3, a4, a1, 36, "b", 25);
          }
        }
        else if ( (v39 & 4) == 0 )
        {
          sub_45B200(a1, a2, a3, a4, 1);
        }
        break;
      case 6:
        ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "s", &v35, 181);
        if ( sub_45B190(a1, a2, a3, a4) > 0 )
        {
          v34 = 22;
          if ( IsValidString(v35) )
          {
            CDBSocket::Write(a2, a3, a4, 66, "dbs", *(_DWORD *)(a1 + 444), 4, v35);
            v34 = 23;
          }
          sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, v34, 0);
        }
        break;
      case 7:
        ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "b", &v32);
        v33 = *(_DWORD *)(a1 + 444);
        if ( v32 )
        {
          CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
          v31 = sub_45B0A0((_DWORD *)a1, 2, 0);
          if ( v31 )
            v17 = v31[1];
          else
            v17 = 0;
          v33 = v17;
          CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        }
        if ( v33 )
          CDBSocket::Write(a2, a3, a4, 66, "dbbd", v33, 5, v32, *(_DWORD *)(a1 + 28));
        break;
      case 8:
        sub_485530(a2, a3, a4, Src, &unk_49D060, &v29, &v30);
        sub_448C90(a2, a3, a4, a1, 82, "bbs", 3, v29, v30);
        break;
      default:
        return;
    }
  }
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0045AC30) --------------------------------------------------------
int *__thiscall sub_45AC30(int *this, int a2, int a3, void *Src, int a5, int a6, int a7, int a8)
{
  *this = a2;
  this[1] = a3;
  memcpy(this + 2, Src, 0x11u);
  this[7] = a5;
  this[8] = a6;
  this[9] = a7;
  this[10] = a8;
  this[11] = 0;
  return this;
}

//----- (0045ACA0) --------------------------------------------------------
void __usercall sub_45ACA0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5)
{
  if ( a4 >= a5 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 1192), a1, a2, a3);
    CIOCriticalSection::Enter((CIOCriticalSection *)(a4 + 1192), a1, a2, a3);
  }
  else
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a4 + 1192), a1, a2, a3);
    CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 1192), a1, a2, a3);
  }
}

//----- (0045ACF0) --------------------------------------------------------
void __usercall sub_45ACF0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  CIOCriticalSection::Leave((CIOCriticalSection *)(a4 + 1192), a1, a2, a3);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 1192), a1, a2, a3);
}

//----- (0045AD20) --------------------------------------------------------
void __userpurge sub_45AD20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  volatile int *v6; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  sub_45ADF0((_DWORD **)a1, a5);
  if ( *a5 == 2 || *a5 == 3 || *a5 == 4 )
  {
    v6 = (volatile int *)sub_4466C0(a2, a3, a4, a5[1]);
    if ( v6 )
    {
      a5[9] = 1;
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
      sub_45AFF0((int)v6, a2, a3, a4, *(_DWORD *)(a1 + 444), 0, 1);
      CIOObject::Release((CIOObject *)v6, a2, a3, a4, v6 + 86);
      return;
    }
  }
  else if ( !*a5 && (int)a5[1] > 20000000 )
  {
    *(_DWORD *)(a1 + 1232) = 1;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
}

//----- (0045ADF0) --------------------------------------------------------
_DWORD *__thiscall sub_45ADF0(_DWORD **this, _DWORD *a2)
{
  _DWORD *result; // eax
  _DWORD **i; // [esp+8h] [ebp-8h]
  _DWORD *v4; // [esp+Ch] [ebp-4h]

  for ( i = this + 297; ; i = (_DWORD **)(v4 + 11) )
  {
    v4 = *i;
    if ( !*i || *v4 >= *a2 )
      break;
  }
  result = a2;
  *i = a2;
  a2[11] = v4;
  return result;
}

//----- (0045AE50) --------------------------------------------------------
void __userpurge sub_45AE50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  sub_45AE90((_DWORD **)a1, a5, a6);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
}

//----- (0045AE90) --------------------------------------------------------
void __thiscall sub_45AE90(_DWORD **this, int a2, int a3)
{
  _DWORD **v3; // [esp+8h] [ebp-8h]
  _DWORD *v4; // [esp+Ch] [ebp-4h]

  if ( a2 )
  {
    v3 = this + 297;
    while ( 1 )
    {
      v4 = *v3;
      if ( !*v3 )
        break;
      if ( *v4 == a2 && (!a3 || v4[1] == a3) )
      {
        *v3 = (_DWORD *)v4[11];
        sub_401020(v4);
        if ( a2 != 3 || a3 )
          return;
      }
      else
      {
        v3 = (_DWORD **)(v4 + 11);
      }
    }
  }
}

//----- (0045AF20) --------------------------------------------------------
void __usercall sub_45AF20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  volatile int *v5; // [esp+8h] [ebp-Ch]
  _DWORD *v6; // [esp+Ch] [ebp-8h]
  void *v7; // [esp+10h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  v6 = *(_DWORD **)(a1 + 1188);
  *(_DWORD *)(a1 + 1188) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  while ( v6 )
  {
    if ( *v6 == 2 || *v6 == 3 || *v6 == 4 )
    {
      v5 = (volatile int *)sub_4466C0(a2, a3, a4, v6[1]);
      if ( v5 )
      {
        sub_45AFF0((int)v5, a2, a3, a4, *(_DWORD *)(a1 + 444), 0, 0);
        CIOObject::Release((CIOObject *)v5, a2, a3, a4, v5 + 86);
      }
    }
    v7 = v6;
    v6 = (_DWORD *)v6[11];
    sub_401020(v7);
  }
}

//----- (0045AFF0) --------------------------------------------------------
void __userpurge sub_45AFF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  for ( i = *(_DWORD **)(a1 + 1188); i && (!*i || i[1] != a5); i = (_DWORD *)i[11] )
    ;
  if ( i )
  {
    if ( a6 )
    {
      if ( a6 == 1 )
        i[8] = a7;
    }
    else
    {
      i[9] = a7;
      if ( a7 )
        sub_448C90(a2, a3, a4, a1, 37, "bbs", 73, *i, i + 2);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
}

//----- (0045B0A0) --------------------------------------------------------
_DWORD *__thiscall sub_45B0A0(_DWORD *this, int a2, int a3)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  for ( i = (_DWORD *)this[297]; i && *i <= a2; i = (_DWORD *)i[11] )
  {
    if ( *i == a2 && (!a3 || i[1] == a3) )
      return i;
  }
  return 0;
}

//----- (0045B100) --------------------------------------------------------
void __userpurge sub_45B100(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, CMemory **a5, int a6)
{
  volatile int *v6; // [esp+4h] [ebp-8h]
  _DWORD *i; // [esp+8h] [ebp-4h]

  for ( i = sub_45B0A0(a1, a6, 0); i && *i == a6; i = (_DWORD *)i[11] )
  {
    if ( i[9] )
    {
      v6 = (volatile int *)sub_4466C0(a2, a3, a4, i[1]);
      if ( v6 )
      {
        *a5 = (CMemory *)CBaseList::Push(*a5, a2, a3, a4, v6);
        CIOObject::Release((CIOObject *)v6, a2, a3, a4, v6 + 86);
      }
    }
  }
}

//----- (0045B190) --------------------------------------------------------
int __usercall sub_45B190@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *i; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v7 = 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  for ( i = *(_DWORD **)(a1 + 1188); i; i = (_DWORD *)i[11] )
  {
    if ( *i == 4 )
      ++v7;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  return v7;
}

//----- (0045B200) --------------------------------------------------------
void __userpurge sub_45B200(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  volatile signed __int32 *v5; // eax
  int v6; // [esp+4h] [ebp-40h]
  volatile signed __int32 *v8; // [esp+Ch] [ebp-38h]
  volatile int *v9; // [esp+10h] [ebp-34h]
  int v10; // [esp+14h] [ebp-30h]
  int v11; // [esp+18h] [ebp-2Ch]
  _DWORD *v12; // [esp+1Ch] [ebp-28h]
  int v13; // [esp+20h] [ebp-24h]
  volatile signed __int32 *v14; // [esp+24h] [ebp-20h]
  CIOObject *v15; // [esp+2Ch] [ebp-18h]
  int j; // [esp+30h] [ebp-14h]
  _DWORD *i; // [esp+34h] [ebp-10h]
  int v18; // [esp+38h] [ebp-Ch]
  int v19[2]; // [esp+3Ch] [ebp-8h]

  if ( a5 )
  {
    if ( a5 == 1 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
      v12 = sub_45B0A0((_DWORD *)a1, 2, 0);
      if ( v12 )
      {
        v10 = v12[1];
        v11 = v12[10];
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
        v8 = CItem::CreateItem(31, 0, *(_DWORD *)(a1 + 60) != 16 ? 50000 : 20000, -1);
        if ( v8 )
        {
          (*(void (__thiscall **)(volatile signed __int32 *, int, _DWORD, _DWORD, _DWORD))(*v8 + 160))(
            v8,
            40,
            *(_DWORD *)(a1 + 440),
            0,
            0);
          (*(void (__thiscall **)(volatile signed __int32 *, int, int, _DWORD, _DWORD))(*v8 + 160))(v8, 40, v11, 0, 0);
          CBase::Delete(v8);
        }
        sub_448C90(a2, a3, a4, a1, 37, "bbb", 43, 19, *(_DWORD *)(a1 + 60));
        v9 = (volatile int *)sub_4466C0(a2, a3, a4, v10);
        if ( v9 )
        {
          sub_448C90(a2, a3, a4, (int)v9, 37, "bbbs", 43, 20, *(_DWORD *)(a1 + 60), a1 + 32);
          CIOObject::Release((CIOObject *)v9, a2, a3, a4, v9 + 86);
        }
      }
      else
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
      }
    }
    else if ( *(_DWORD *)(a1 + 60) == 16 || *(_DWORD *)(a1 + 60) == 30 )
    {
      CAuthSocket::Write(a2, a3, a4, 11, "bddbd", 5, *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 440), 2, 0);
    }
  }
  else
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    if ( *(int *)(a1 + 1224) < 100 )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
    else
    {
      v18 = *(_DWORD *)(a1 + 1224);
      *(_DWORD *)(a1 + 1224) = 0;
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      v19[0] = 0;
      v19[1] = 0;
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
      if ( *(_DWORD *)(a1 + 1188) )
      {
        for ( i = *(_DWORD **)(a1 + 1188); i && (*i == 1 || *i == 2); i = (_DWORD *)i[11] )
          *(&v18 + *i) = i[1];
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
      for ( j = 0; j < 2; ++j )
      {
        if ( v19[j] )
        {
          v15 = sub_4466C0(a2, a3, a4, v19[j]);
          if ( v15 )
          {
            if ( !*((_DWORD *)v15 + 308) )
            {
              if ( (*(_DWORD *)(a1 + 60) - 1) / 10 <= 3 )
                v6 = (*(_DWORD *)(a1 + 60) - 1) / 10;
              else
                v6 = 3;
              v13 = dword_4AE61C[3 * v6 + j] * v18 / 100;
              if ( v13 >= dword_4AE624[3 * v6] )
                v5 = CItem::CreateItem(31, 0, dword_4AE624[3 * v6], -1);
              else
                v5 = CItem::CreateItem(31, 0, v13, -1);
              v14 = v5;
              *((_DWORD *)v5 + 20) = 2;
              if ( sub_4522B0((int)v15, a2, a3, a4, 41, v5) != 1 )
                CBase::Delete(v14);
            }
            CIOObject::Release(v15, a2, a3, a4, (volatile int *)v15 + 86);
          }
        }
      }
    }
  }
}
// 4AE61C: using guessed type int dword_4AE61C[];

//----- (0045B580) --------------------------------------------------------
void __userpurge sub_45B580(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int *v5; // [esp+0h] [ebp-10h]
  int *v7; // [esp+8h] [ebp-8h]
  _DWORD *v8; // [esp+Ch] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  v8 = sub_45B0A0((_DWORD *)a1, 0, 0);
  if ( v8 )
  {
    v8[1] += a5;
    if ( (int)v8[1] > 20000000 )
      *(_DWORD *)(a1 + 1232) = 1;
  }
  else
  {
    v7 = (int *)sub_401000(0x30u);
    if ( v7 )
    {
      v5 = sub_45AC30(v7, 0, a5, (void *)&Src, 0, 0, 0, 0);
      sub_45ADF0((_DWORD **)a1, v5);
    }
    else
    {
      sub_45ADF0((_DWORD **)a1, 0);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  CDBSocket::Write(a2, a3, a4, 66, "dbd", *(_DWORD *)(a1 + 444), 3, a5);
}

//----- (0045B650) --------------------------------------------------------
void __usercall sub_45B650(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v5; // [esp-Ch] [ebp-1Ch]
  int v6; // [esp-4h] [ebp-14h]
  volatile int *v8; // [esp+4h] [ebp-Ch]
  CMemory **v9; // [esp+8h] [ebp-8h]
  _DWORD *i; // [esp+Ch] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  v9 = 0;
  for ( i = *(_DWORD **)(a1 + 1188); i; i = (_DWORD *)i[11] )
  {
    if ( *i == 2 || *i == 3 || *i == 4 )
    {
      v8 = (volatile int *)sub_4466C0(a2, a3, a4, i[1]);
      if ( v8 )
      {
        v9 = CBaseList::Push((CMemory *)v9, a2, a3, a4, v8);
        CIOObject::Release((CIOObject *)v8, a2, a3, a4, v8 + 86);
      }
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1192), a2, a3, a4);
  while ( v9 )
  {
    v6 = *(_DWORD *)(a1 + 60);
    v5 = *(_DWORD *)(a1 + 444);
    v4 = unknown_libname_10(v9);
    sub_45AFF0(v4, a2, a3, a4, v5, 1, v6);
    v9 = (CMemory **)CBaseList::Pop((int)v9, a2, a3, a4);
  }
}

//----- (0045B730) --------------------------------------------------------
void __userpurge sub_45B730(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *a6, int a7)
{
  void *v7; // eax
  _DWORD *v8; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v9; // eax
  void *v10; // eax
  _DWORD *v11; // eax
  char *v12; // eax
  _DWORD *v13; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  char v19[4]; // [esp+Ch] [ebp-54Ch] BYREF
  int v20[8]; // [esp+10h] [ebp-548h] BYREF
  char v21[8]; // [esp+30h] [ebp-528h] BYREF
  int v22[8]; // [esp+38h] [ebp-520h] BYREF
  char v23[4]; // [esp+58h] [ebp-500h] BYREF
  char v24[4]; // [esp+5Ch] [ebp-4FCh] BYREF
  char v25[8]; // [esp+60h] [ebp-4F8h] BYREF
  int v26[8]; // [esp+68h] [ebp-4F0h] BYREF
  char v27[4]; // [esp+88h] [ebp-4D0h] BYREF
  CIOObject *v28; // [esp+8Ch] [ebp-4CCh]
  char *v29; // [esp+90h] [ebp-4C8h]
  _BYTE *v30; // [esp+94h] [ebp-4C4h]
  int v31; // [esp+98h] [ebp-4C0h]
  void *v32; // [esp+9Ch] [ebp-4BCh]
  int v33; // [esp+A0h] [ebp-4B8h] BYREF
  char v34[8]; // [esp+A4h] [ebp-4B4h] BYREF
  char v35[4]; // [esp+ACh] [ebp-4ACh] BYREF
  char v36[24]; // [esp+B0h] [ebp-4A8h] BYREF
  int j; // [esp+C8h] [ebp-490h]
  char *v38; // [esp+CCh] [ebp-48Ch]
  unsigned __int8 v39; // [esp+D3h] [ebp-485h] BYREF
  char *v40; // [esp+D4h] [ebp-484h]
  void *v41; // [esp+D8h] [ebp-480h]
  CIOObject *v42; // [esp+DCh] [ebp-47Ch]
  int v43; // [esp+E0h] [ebp-478h] BYREF
  char v44[20]; // [esp+E4h] [ebp-474h] BYREF
  int v45; // [esp+F8h] [ebp-460h]
  void *Src; // [esp+FCh] [ebp-45Ch] BYREF
  int v47; // [esp+100h] [ebp-458h] BYREF
  int v48; // [esp+104h] [ebp-454h] BYREF
  int v49; // [esp+108h] [ebp-450h] BYREF
  int i; // [esp+10Ch] [ebp-44Ch]
  unsigned __int16 *v51; // [esp+110h] [ebp-448h]
  unsigned __int8 v52; // [esp+117h] [ebp-441h]
  int v53; // [esp+118h] [ebp-440h] BYREF
  unsigned __int8 v54; // [esp+11Fh] [ebp-439h] BYREF
  char v55; // [esp+120h] [ebp-438h] BYREF
  char v56[1020]; // [esp+121h] [ebp-437h] BYREF
  __int16 v57; // [esp+51Dh] [ebp-3Bh]
  char v58; // [esp+51Fh] [ebp-39h]
  _DWORD *v59; // [esp+520h] [ebp-38h] BYREF
  void *v60; // [esp+524h] [ebp-34h]
  char *v61; // [esp+528h] [ebp-30h]
  int v62; // [esp+52Ch] [ebp-2Ch] BYREF
  char v63[20]; // [esp+530h] [ebp-28h] BYREF
  int v64; // [esp+544h] [ebp-14h]
  int v65; // [esp+54Ch] [ebp-Ch] BYREF
  CIOObject *v66; // [esp+550h] [ebp-8h]
  char *Str2; // [esp+554h] [ebp-4h] BYREF
  char *v68; // [esp+564h] [ebp+Ch]
  char *v69; // [esp+564h] [ebp+Ch]

  switch ( a5 )
  {
    case 0:
      ScanPacket(a2, a3, a4, (char *)a6, (char *)a7, "s", &Str2, 17);
      if ( IsValidAdminName(Str2) && strcmp((const char *)(a1 + 32), Str2) )
      {
        v66 = sub_4467C0(a2, a3, a4, (int)Str2);
        if ( v66 )
        {
          CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
          if ( (unsigned int)unknown_libname_24(a1 + 1236) < 0x1E )
          {
            sub_461380(
              (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1236),
              &v65,
              (int *)v66 + 111);
            v7 = sub_482CA0((int *)(a1 + 1236), v27);
            if ( (unsigned __int8)unknown_libname_25(v7) )
            {
              sub_45C220(&v62, *((_DWORD *)v66 + 111), (char *)v66 + 32, 1);
              v8 = sub_4623D0(v26, &v62, &v62);
              sub_460D10(
                (int *)(a1 + 1236),
                (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v25,
                v8);
              CDBSocket::Write(a2, a3, a4, 29, "dbds", *(_DWORD *)(a1 + 444), 0, v62, v63);
              sub_448C90(a2, a3, a4, a1, 88, "bdsb", 0, v62, v63, v64);
            }
            else
            {
              sub_448C90(a2, a3, a4, a1, 37, "bbs", 83, 1, Str2);
            }
            CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
            CIOObject::Release(v66, a2, a3, a4, (volatile int *)v66 + 86);
          }
          else
          {
            CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
            sub_448C90(a2, a3, a4, a1, 37, "bbs", 83, 0, Str2);
            CIOObject::Release(v66, a2, a3, a4, (volatile int *)v66 + 86);
          }
        }
        else
        {
          CDBSocket::Write(a2, a3, a4, 29, "dbs", *(_DWORD *)(a1 + 444), 2, Str2);
        }
      }
      break;
    case 1:
      v68 = ScanPacket(a2, a3, a4, (char *)a6, (char *)a7, "b", &v54);
      if ( v54 && v54 <= 0x1Eu )
      {
        v60 = CIOBuffer::Alloc();
        v51 = (unsigned __int16 *)v60;
        *((_BYTE *)v60 + 2) = 88;
        v59 = (_DWORD *)((char *)v51 + 5);
        v55 = 0;
        memset(v56, 0, sizeof(v56));
        v57 = 0;
        v58 = 0;
        v61 = &v55;
        v52 = 0;
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1248), a2, (DWORD)&v59, a4);
        for ( i = 0; i < v54; ++i )
        {
          v68 = ScanPacket(a2, (DWORD)&v59, a4, v68, (char *)a7, "d", &v53);
          sub_461380(
            (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1236),
            &v49,
            &v53);
          v9 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1236), v24);
          if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                 (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v49,
                 v9) )
          {
            ++v52;
            v59 = sub_4459A0(v59, v53);
            v61 = (char *)sub_4459A0(v61, v53);
            sub_461320((int *)(a1 + 1236), &v53);
          }
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1248), a2, (DWORD)&v59, a4);
        if ( v52 )
        {
          CDBSocket::Write(a2, (DWORD)&v59, a4, 29, "dbbm", *(_DWORD *)(a1 + 444), 1, v52, &v55, v61 - &v55);
          WritePacket(a2, (DWORD)&v59, a4, (char *)v51 + 3, "bb", 1, v52);
          *v51 = (_WORD)v59 - (_WORD)v51;
          *((_DWORD *)v60 + 2000) = *v51;
          sub_483370(*(_DWORD *)(a1 + 1404), a2, (DWORD)&v59, a4, v60);
        }
        else
        {
          CIOBuffer::Release((CIOBuffer *)v60);
        }
      }
      break;
    case 2:
      sub_485530(a2, a3, a4, a6, "ds", &v47, &Src);
      if ( v47 )
      {
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
        if ( (unsigned int)unknown_libname_24(a1 + 1236) < 0x1E )
        {
          sub_461380(
            (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1236),
            &v48,
            &v47);
          v10 = sub_482CA0((int *)(a1 + 1236), v23);
          if ( (unsigned __int8)unknown_libname_25(v10) )
          {
            sub_45C220(&v43, v47, Src, 0);
            v11 = sub_4623D0(v22, &v43, &v43);
            sub_460D10(
              (int *)(a1 + 1236),
              (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v21,
              v11);
            CDBSocket::Write(a2, a3, a4, 29, "dbds", *(_DWORD *)(a1 + 444), 0, v43, v44);
            v42 = sub_4467C0(a2, a3, a4, (int)Src);
            if ( v42 )
            {
              CIOObject::Release(v42, a2, a3, a4, (volatile int *)v42 + 86);
              v45 = 1;
            }
            sub_448C90(a2, a3, a4, a1, 88, "bdsb", 0, v43, v44, v45);
          }
          else
          {
            sub_448C90(a2, a3, a4, a1, 37, "bbs", 83, 1, Src);
          }
          CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
        }
        else
        {
          CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
          sub_448C90(a2, a3, a4, a1, 37, "bbs", 83, 0, Src);
        }
      }
      else
      {
        sub_448C90(a2, a3, a4, a1, 37, "bbs", 83, 2, Src);
      }
      break;
    case 3:
      v69 = (char *)sub_485530(a2, a3, a4, a6, "b", &v39);
      if ( v39 )
      {
        v41 = CIOBuffer::Alloc();
        v38 = (char *)v41;
        *((_BYTE *)v41 + 2) = 88;
        v40 = v38 + 5;
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
        for ( j = 0; j < v39; ++j )
        {
          sub_45C1E0(v35);
          v12 = (char *)sub_417AF0(v69, v35);
          v69 = GetString(v12, v36);
          v40 = (char *)sub_4459A0(v40, *(int *)v35);
          v40 = PutString(v40, v36);
          v13 = sub_4623D0(v20, v35, v35);
          sub_460D10(
            (int *)(a1 + 1236),
            (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v34,
            v13);
          if ( !v34[4] )
            LOG_ERR("CPlayer::FRDProcess() Friend Insert Error. (%d, %s)", *(_DWORD *)v35, v36);
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
        WritePacket(a2, a3, a4, v38 + 3, "bb", 2, v39);
        *(_WORD *)v38 = (_WORD)v40 - (_WORD)v38;
        *((_DWORD *)v41 + 2000) = *(unsigned __int16 *)v38;
        sub_483370(*(_DWORD *)(a1 + 1404), a2, a3, a4, v41);
      }
      break;
    case 4:
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
      if ( unknown_libname_24(a1 + 1236) )
      {
        v32 = CIOBuffer::Alloc();
        v29 = (char *)v32;
        *((_BYTE *)v32 + 2) = 88;
        v30 = v29 + 5;
        v31 = 0;
        std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 1236),
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v33);
        while ( 1 )
        {
          v14 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1236), v19);
          if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v33,
                  v14) )
            break;
          v15 = sub_43E1A0(&v33);
          v28 = sub_4466C0(a2, a3, a4, *(_DWORD *)(v15 + 4));
          *(_DWORD *)(sub_43E1A0(&v33) + 28) = 0;
          if ( v28 )
          {
            *(_DWORD *)(sub_43E1A0(&v33) + 28) = 1;
            CIOObject::Release(v28, a2, a3, a4, (volatile int *)v28 + 86);
          }
          v16 = sub_43E1A0(&v33);
          v30 = sub_4459A0(v30, *(_DWORD *)(v16 + 4));
          v17 = sub_43E1A0(&v33);
          v30 = sub_417B60(v30, *(_BYTE *)(v17 + 28));
          sub_465110(&v33);
          ++v31;
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
        WritePacket(a2, a3, a4, v29 + 3, "bb", 3, v31);
        *(_WORD *)v29 = (_WORD)v30 - (_WORD)v29;
        *((_DWORD *)v32 + 2000) = *(unsigned __int16 *)v29;
        sub_483370(*(_DWORD *)(a1 + 1404), a2, a3, a4, v32);
      }
      else
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1248), a2, a3, a4);
      }
      break;
    default:
      return;
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0045C1E0) --------------------------------------------------------
_DWORD *__thiscall sub_45C1E0(_DWORD *this)
{
  *this = 0;
  memset(this + 1, 0, 0x11u);
  this[6] = 0;
  return this;
}

//----- (0045C220) --------------------------------------------------------
int *__thiscall sub_45C220(int *this, int a2, void *Src, int a4)
{
  *this = a2;
  memcpy(this + 1, Src, 0x11u);
  this[6] = a4;
  return this;
}

//----- (0045C260) --------------------------------------------------------
int __userpurge sub_45C260@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, char *Str2, int a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v15; // eax
  void *v16; // eax
  int v17; // eax
  int v18; // [esp+0h] [ebp-28h]
  char v20[4]; // [esp+10h] [ebp-18h] BYREF
  char v21[4]; // [esp+14h] [ebp-14h] BYREF
  _DWORD *v22; // [esp+18h] [ebp-10h]
  int v23; // [esp+1Ch] [ebp-Ch] BYREF
  int v24; // [esp+20h] [ebp-8h] BYREF
  int v25; // [esp+24h] [ebp-4h]

  if ( !IsValidAdminName(Str2) || !strcmp((const char *)(a1 + 32), Str2) )
    return 0;
  if ( a9 )
  {
    if ( a6 == 1 && a11 == 31 )
      a9 += a13;
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    if ( !*(_DWORD *)(a1 + 1008) || *(_DWORD *)(*(_DWORD *)(a1 + 1008) + 52) < a9 )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      sub_448C90(a2, a3, a4, a1, 37, "bbd", 85, 6, 0);
      return 0;
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  }
  v25 = 0;
  if ( a6 == 1 )
  {
    if ( a13 <= 0 )
      return 0;
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    if ( *(_DWORD *)(a1 + 1036) )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      sub_448C90(a2, a3, a4, a1, 37, "bbd", 85, 3, 0);
      return 0;
    }
    sub_461380(
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1052),
      &v23,
      &a10);
    v15 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1052), v21);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v23,
           v15) )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      sub_448C90(a2, a3, a4, a1, 37, "bbd", 85, 9, 0);
      return 0;
    }
    sub_460550((int *)(a1 + 980), &v24, &a10);
    v16 = sub_482CA0((int *)(a1 + 980), v20);
    if ( (unsigned __int8)unknown_libname_25(v16)
      || ((v22 = *(_DWORD **)(sub_43E1A0(&v24) + 4), a11 != 31) ? (v17 = (*(int (__thiscall **)(_DWORD *, int, int, _DWORD))(*v22 + 140))(
                                                                           v22,
                                                                           a13,
                                                                           a1,
                                                                           0)) : (v17 = (*(int (__thiscall **)(_DWORD *, int, int, _DWORD))(*v22 + 140))(
                                                                                          v22,
                                                                                          a9,
                                                                                          a1,
                                                                                          0)),
          !v17) )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      return 0;
    }
    *(_DWORD *)(a1 + 1036) = 1;
    if ( v22[13] <= a13 )
      v18 = 0;
    else
      v18 = *(_DWORD *)(v22[10] + 64);
    a11 = v18;
    v25 = v22[21];
    if ( v22[11] )
      a12 = *(_DWORD *)(v22[11] + 32);
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  }
  CDBSocket::Write(
    a2,
    a3,
    a4,
    30,
    "dbdbbssdbwbdds",
    *(_DWORD *)(a1 + 444),
    0,
    *(_DWORD *)(a1 + 444),
    a5,
    a6,
    a1 + 32,
    Str2,
    a10,
    v25,
    a11,
    a12,
    a13,
    a14,
    a8);
  return 1;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0045C550) --------------------------------------------------------
void __userpurge sub_45C550(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v15; // eax
  int v16; // eax
  char v18[4]; // [esp+4h] [ebp-14h] BYREF
  CIOObject *v19; // [esp+8h] [ebp-10h]
  _DWORD *v20; // [esp+Ch] [ebp-Ch]
  int v21; // [esp+10h] [ebp-8h] BYREF
  int v22; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  if ( a6 == 1 )
    *(_DWORD *)(a1 + 1036) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  if ( !a7 )
  {
    if ( !a6 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      v22 = *(_DWORD *)(a1 + 1008);
      if ( v22 && (*(int (__thiscall **)(int, int, int, _DWORD))(*(_DWORD *)v22 + 140))(v22, 5, a1, 0) )
      {
        if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v22 + 120))(v22, a1, 49, -5) )
          sub_4516D0(a1, a2, a3, a4, v22);
      }
      else
      {
        a7 = 3;
        LOG_NORMAL("CPlayer::MailSendResult()  not enough money (PID:%d), (SRType:%d)", *(_DWORD *)(a1 + 444), 3);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      goto LABEL_28;
    }
    if ( a6 != 1 )
    {
LABEL_28:
      CDBSocket::Write(a2, a3, a4, 30, "dbddbbddwdd", a5, 1, *(_DWORD *)(a1 + 444), a5, a7, a6, a8, a10, a12, a14, a15);
      goto LABEL_29;
    }
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    sub_460550((int *)(a1 + 980), &v21, &a10);
    v15 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 980), v18);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v21,
           v15) )
    {
      v22 = *(_DWORD *)(a1 + 1008);
      v20 = *(_DWORD **)(sub_43E1A0(&v21) + 4);
      if ( !v22
        || (v16 = (*(int (__thiscall **)(_DWORD *, int, _DWORD))(*v20 + 164))(v20, a1, 0),
            !(*(int (__thiscall **)(int, int))(*(_DWORD *)v22 + 140))(v22, v16 != 0 ? a14 + 100 : 100)) )
      {
        a7 = 3;
        LOG_NORMAL("CPlayer::MailSendResult()  not enough money (PID:%d), (SRType:%d)", *(_DWORD *)(a1 + 444), 3);
LABEL_27:
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
        goto LABEL_28;
      }
      if ( (*(int (__thiscall **)(_DWORD *))(*v20 + 164))(v20)
        || (*(int (__thiscall **)(_DWORD *, int, int, _DWORD))(*v20 + 140))(v20, a14, a1, 0) )
      {
        if ( (*(int (__thiscall **)(_DWORD *, int, int, int))(*v20 + 120))(v20, a1, 50, -a14) )
          a12 = *(_DWORD *)(v20[10] + 64);
        else
          sub_4516D0(a1, a2, a3, a4, (int)v20);
        if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v22 + 120))(v22, a1, 49, -100) )
          sub_4516D0(a1, a2, a3, a4, v22);
        goto LABEL_27;
      }
    }
    LOG_NORMAL("CPlayer::MailSendResult()  not exist item(PID:%d), (index:%d) ", *(_DWORD *)(a1 + 444), a12);
    a7 = 4;
    goto LABEL_27;
  }
LABEL_29:
  sub_448C90(a2, a3, a4, a1, 89, "bbs", 0, a7, a9);
  if ( !a7 )
  {
    v19 = sub_4466C0(a2, a3, a4, a8);
    if ( v19 )
    {
      sub_448C90(a2, a3, a4, (int)v19, 37, "bbs", 85, 0, a1 + 32);
      CIOObject::Release(v19, a2, a3, a4, (volatile int *)v19 + 86);
    }
  }
}

//----- (0045C870) --------------------------------------------------------
void __userpurge sub_45C870(int a1@<ecx>, DWORD a2@<ebx>, int *a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  _DWORD *v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  _DWORD *v9; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v10; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v12; // eax
  const void *v13; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v14; // eax
  const void *v15; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v16; // eax
  const void *v17; // eax
  DWORD v18; // esi
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v19; // eax
  const void *v20; // eax
  DWORD v21; // esi
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v22; // eax
  char v24[4]; // [esp+10h] [ebp-550h] BYREF
  char v25[4]; // [esp+14h] [ebp-54Ch] BYREF
  char v26[4]; // [esp+18h] [ebp-548h] BYREF
  char v27[4]; // [esp+1Ch] [ebp-544h] BYREF
  char v28[4]; // [esp+20h] [ebp-540h] BYREF
  char v29[4]; // [esp+24h] [ebp-53Ch] BYREF
  char v30[4]; // [esp+28h] [ebp-538h] BYREF
  char v31[4]; // [esp+2Ch] [ebp-534h] BYREF
  char v32[8]; // [esp+30h] [ebp-530h] BYREF
  int v33[25]; // [esp+38h] [ebp-528h] BYREF
  int v34; // [esp+9Ch] [ebp-4C4h] BYREF
  int v35; // [esp+A0h] [ebp-4C0h]
  volatile signed __int32 *v36; // [esp+A4h] [ebp-4BCh]
  int v37[24]; // [esp+A8h] [ebp-4B8h] BYREF
  int v38; // [esp+108h] [ebp-458h] BYREF
  int v39; // [esp+10Ch] [ebp-454h] BYREF
  int *v40; // [esp+110h] [ebp-450h]
  int v41; // [esp+114h] [ebp-44Ch]
  int v42; // [esp+118h] [ebp-448h] BYREF
  int v43; // [esp+11Ch] [ebp-444h] BYREF
  int v44[24]; // [esp+120h] [ebp-440h] BYREF
  int v45; // [esp+180h] [ebp-3E0h] BYREF
  int v46; // [esp+184h] [ebp-3DCh] BYREF
  int v47[24]; // [esp+188h] [ebp-3D8h] BYREF
  int v48; // [esp+1E8h] [ebp-378h] BYREF
  int v49; // [esp+1ECh] [ebp-374h] BYREF
  int v50[24]; // [esp+1F0h] [ebp-370h] BYREF
  int v51; // [esp+250h] [ebp-310h] BYREF
  int v52; // [esp+254h] [ebp-30Ch] BYREF
  int v53; // [esp+258h] [ebp-308h] BYREF
  unsigned __int16 v54; // [esp+25Ch] [ebp-304h] BYREF
  int v55; // [esp+260h] [ebp-300h] BYREF
  unsigned __int8 v56; // [esp+267h] [ebp-2F9h] BYREF
  char v57; // [esp+268h] [ebp-2F8h] BYREF
  char v58[512]; // [esp+269h] [ebp-2F7h] BYREF
  _BYTE v59[7]; // [esp+469h] [ebp-F7h] BYREF
  int v60; // [esp+470h] [ebp-F0h] BYREF
  int v61; // [esp+474h] [ebp-ECh] BYREF
  int v62; // [esp+478h] [ebp-E8h] BYREF
  char v63; // [esp+47Fh] [ebp-E1h] BYREF
  int v64[2]; // [esp+480h] [ebp-E0h] BYREF
  int v65; // [esp+488h] [ebp-D8h] BYREF
  int v66; // [esp+48Ch] [ebp-D4h] BYREF
  int v67; // [esp+490h] [ebp-D0h] BYREF
  char v68[4]; // [esp+494h] [ebp-CCh] BYREF
  char v69[4]; // [esp+498h] [ebp-C8h] BYREF
  char v70[4]; // [esp+49Ch] [ebp-C4h] BYREF
  int v71; // [esp+4A0h] [ebp-C0h] BYREF
  char v72[20]; // [esp+4A4h] [ebp-BCh] BYREF
  int v73; // [esp+4B8h] [ebp-A8h] BYREF
  char v74[20]; // [esp+4BCh] [ebp-A4h] BYREF
  int v75; // [esp+4D0h] [ebp-90h] BYREF
  int v76; // [esp+4D4h] [ebp-8Ch] BYREF
  int v77; // [esp+4D8h] [ebp-88h] BYREF
  char v78[4]; // [esp+4DCh] [ebp-84h] BYREF
  __int16 v79; // [esp+4E0h] [ebp-80h] BYREF
  char v80[4]; // [esp+4E4h] [ebp-7Ch] BYREF
  int v81; // [esp+4E8h] [ebp-78h] BYREF
  int v82; // [esp+4ECh] [ebp-74h] BYREF
  int j; // [esp+4F8h] [ebp-68h]
  char *v84; // [esp+4FCh] [ebp-64h]
  unsigned __int8 v85; // [esp+503h] [ebp-5Dh] BYREF
  char *v86; // [esp+504h] [ebp-5Ch]
  void *v87; // [esp+508h] [ebp-58h]
  unsigned __int16 v88; // [esp+50Ch] [ebp-54h] BYREF
  int v89; // [esp+510h] [ebp-50h] BYREF
  unsigned __int8 v90; // [esp+516h] [ebp-4Ah] BYREF
  unsigned __int8 v91; // [esp+517h] [ebp-49h] BYREF
  int v92; // [esp+518h] [ebp-48h] BYREF
  int v93; // [esp+51Ch] [ebp-44h] BYREF
  int v94; // [esp+520h] [ebp-40h] BYREF
  int v95; // [esp+524h] [ebp-3Ch] BYREF
  unsigned __int8 v96; // [esp+52Ah] [ebp-36h] BYREF
  unsigned __int8 v97; // [esp+52Bh] [ebp-35h] BYREF
  int v98; // [esp+52Ch] [ebp-34h] BYREF
  int i; // [esp+530h] [ebp-30h]
  int v100; // [esp+534h] [ebp-2Ch]
  unsigned __int8 v101; // [esp+53Bh] [ebp-25h] BYREF
  unsigned __int16 v102; // [esp+53Ch] [ebp-24h] BYREF
  int v103; // [esp+540h] [ebp-20h] BYREF
  unsigned __int8 v104; // [esp+547h] [ebp-19h] BYREF
  int v105; // [esp+548h] [ebp-18h]
  int v106; // [esp+54Ch] [ebp-14h] BYREF
  char *Str2; // [esp+550h] [ebp-10h] BYREF
  unsigned __int8 v108; // [esp+557h] [ebp-9h] BYREF
  int v109; // [esp+558h] [ebp-8h] BYREF
  int v110; // [esp+55Ch] [ebp-4h] BYREF

  switch ( a5 )
  {
    case 0:
      v105 = 0;
      Src = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "bs", &v108, &v109, 513);
      if ( v108 )
      {
        if ( v108 == 1 )
        {
          Src = ScanPacket(
                  a2,
                  (DWORD)a3,
                  a4,
                  (char *)Src,
                  (char *)a7,
                  "sdwbdd",
                  &Str2,
                  17,
                  &v110,
                  &v102,
                  &v104,
                  &v103,
                  &v106);
          sub_45C260(a1, a2, (DWORD)a3, a4, v105, v108, Str2, v109, 100, v110, v102, v104, v103, v106);
        }
      }
      else
      {
        Src = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "b", &v101);
        v100 = 5 * v101;
        for ( i = 0; i < v101; ++i )
        {
          Src = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "s", &Str2, 17);
          if ( !sub_45C260(a1, a2, (DWORD)a3, a4, v105, v108, Str2, v109, v100, 0, 0, 0, 0, 0) )
            break;
        }
      }
      return;
    case 1:
      Src = sub_485530(
              a2,
              (DWORD)a3,
              a4,
              Src,
              "dbbdsdbwbdd",
              &v92,
              &v97,
              &v90,
              &v94,
              &v93,
              &v98,
              &v96,
              &v88,
              &v91,
              &v89,
              &v95);
      sub_45C550(a1, a2, (DWORD)a3, a4, v92, v97, v90, v94, v93, v98, v96, v88, v91, v89, v95);
      return;
    case 2:
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      sub_461670((int *)(a1 + 1312));
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      CDBSocket::Write(a2, (DWORD)a3, a4, 30, "dbd", *(_DWORD *)(a1 + 444), 2, *(_DWORD *)(a1 + 444));
      return;
    case 3:
      Src = sub_485530(a2, (DWORD)a3, a4, Src, "b", &v85);
      if ( v85 )
      {
        v87 = CIOBuffer::Alloc();
        v84 = (char *)v87;
        *((_BYTE *)v87 + 2) = 89;
        v86 = v84 + 5;
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
        for ( j = 0; j < v85; ++j )
        {
          sub_45DAB0(&v67);
          Src = sub_417AF0(Src, &v67);
          Src = sub_417B10(Src, v68);
          Src = sub_417B10(Src, v69);
          Src = sub_417B10(Src, v70);
          Src = sub_417AF0(Src, &v71);
          Src = GetString((char *)Src, v72);
          Src = sub_417AF0(Src, &v73);
          Src = GetString((char *)Src, v74);
          Src = sub_417AF0(Src, &v75);
          Src = sub_417AF0(Src, &v76);
          Src = sub_417AF0(Src, &v77);
          Src = sub_417B10(Src, v78);
          Src = sub_42D5D0(Src, &v79);
          Src = sub_417B10(Src, v80);
          Src = sub_417AF0(Src, &v81);
          Src = sub_417AF0(Src, &v82);
          v86 = (char *)sub_4459A0(v86, v67);
          v86 = sub_417B60(v86, v68[0]);
          v86 = sub_417B60(v86, v69[0]);
          v86 = sub_417B60(v86, v70[0]);
          v86 = (char *)sub_4459A0(v86, v71);
          v86 = PutString(v86, v72);
          v86 = (char *)sub_4459A0(v86, v73);
          v86 = PutString(v86, v74);
          v86 = (char *)sub_4459A0(v86, v75);
          v86 = (char *)sub_4459A0(v86, v76);
          v86 = (char *)sub_4459A0(v86, v77);
          v86 = (char *)sub_42D5F0(v86, v79);
          v86 = sub_417B60(v86, v80[0]);
          v86 = (char *)sub_4459A0(v86, v81);
          v86 = (char *)sub_4459A0(v86, v82);
          v7 = sub_462400(v33, &v67, &v67);
          sub_461460(
            (int *)(a1 + 1312),
            (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v32,
            v7);
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
        WritePacket(a2, (DWORD)a3, a4, v84 + 3, "bb", 1, v85);
        *(_WORD *)v84 = (_WORD)v86 - (_WORD)v84;
        *((_DWORD *)v87 + 2000) = *(unsigned __int16 *)v84;
        sub_483370(*(_DWORD *)(a1 + 1404), a2, (DWORD)a3, a4, v87);
      }
      return;
    case 5:
      Src = sub_485530(a2, (DWORD)a3, a4, Src, "db", v64, &v63);
      if ( v63 == 1 )
      {
        sub_448C90(a2, (DWORD)a3, a4, a1, 37, "bbd", 85, 4, v64[0]);
      }
      else
      {
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
        sub_4616D0((int *)(a1 + 1312), &v62, v64);
        v10 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1312), v30);
        if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v62,
               v10) )
        {
          sub_461610((int *)(a1 + 1312), v64);
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
        sub_448C90(a2, (DWORD)a3, a4, a1, 37, "bbd", 85, 5, v64[0]);
      }
      return;
    case 6:
      Src = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v65);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      sub_4616D0((int *)(a1 + 1312), &v66, &v65);
      v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1312), v31);
      if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
             (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v66,
             v8) )
      {
        v9 = (_DWORD *)sub_43E1A0(&v66);
        v64[1] = (int)(v9 + 1);
        CDBSocket::Write(a2, (DWORD)a3, a4, 30, "dbddbd", v9[1], 4, *(_DWORD *)(a1 + 444), v9[1], v9[3], v9[19]);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      return;
    case 7:
      v57 = 0;
      memset(v58, 0, sizeof(v58));
      Src = sub_485530(a2, (DWORD)v59, a4, Src, "dbdw", &v55, &v56, &v60, &v54);
      Src = sub_485530(a2, (DWORD)v59, a4, Src, "m", &v57, v54);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)v59, a4);
      sub_4616D0((int *)(a1 + 1312), &v61, &v55);
      v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1312), v29);
      if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
             (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v61,
             v11) )
      {
        if ( v60 )
          sub_448C90(a2, (DWORD)v59, a4, a1, 89, "bdbdwmm", 2, v55, v56, v60, v54, &v57, v54, Src, 19);
        else
          sub_448C90(a2, (DWORD)v59, a4, a1, 89, "bdbdwm", 2, v55, v56, 0, v54, &v57, v54);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)v59, a4);
      return;
    case 8:
      Src = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v52);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      sub_4616D0((int *)(a1 + 1312), &v53, &v52);
      v12 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1312), v28);
      if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
             (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v53,
             v12) )
      {
        v13 = (const void *)(sub_43E1A0(&v53) + 4);
        qmemcpy(v50, v13, sizeof(v50));
        a4 = (DWORD)v13 + 96;
        a3 = &v51;
        if ( v50[2] == 1 )
        {
          CDBSocket::Write(a2, (DWORD)&v51, a4, 30, "dbdd", v50[0], 3, *(_DWORD *)(a1 + 444), v50[0]);
          sub_461610((int *)(a1 + 1312), v50);
          sub_448C90(a2, (DWORD)&v51, a4, a1, 37, "bbd", 85, 1, v50[0]);
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      return;
    case 9:
      Src = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v48);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      sub_4616D0((int *)(a1 + 1312), &v49, &v48);
      v14 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1312), v27);
      if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
             (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v49,
             v14) )
      {
        v15 = (const void *)(sub_43E1A0(&v49) + 4);
        qmemcpy(v47, v15, sizeof(v47));
        a4 = (DWORD)v15 + 96;
        a3 = &v48;
        if ( !v47[2] || v47[2] == 4 )
        {
          sub_461610((int *)(a1 + 1312), v47);
          CDBSocket::Write(a2, (DWORD)&v48, a4, 30, "dbdd", v47[0], 6, *(_DWORD *)(a1 + 444), v47[0]);
          sub_448C90(a2, (DWORD)&v48, a4, a1, 37, "bbd", 85, 2, v47[0]);
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      goto LABEL_40;
    case 10:
LABEL_40:
      Src = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)a7, "d", &v45);
      sub_45DAB0(v44);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      sub_4616D0((int *)(a1 + 1312), &v46, &v45);
      v16 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1312), v26);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v46,
              v16) )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
        return;
      }
      v17 = (const void *)(sub_43E1A0(&v46) + 4);
      qmemcpy(v44, v17, sizeof(v44));
      v18 = (DWORD)v17 + 96;
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)&v45, (DWORD)v17 + 96);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, (DWORD)&v45, v18);
      if ( v44[2] != 1 && v44[2] != 2 && v44[2] != 3 )
        goto LABEL_54;
      if ( v44[2] == 1 && v44[23] && (!*(_DWORD *)(a1 + 1008) || *(_DWORD *)(*(_DWORD *)(a1 + 1008) + 52) < v44[23]) )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, (DWORD)&v45, v18);
        sub_448C90(a2, (DWORD)&v45, v18, a1, 37, "bbd", 85, 6, v44[0]);
      }
      else if ( sub_452430((char *)a1) < 60 )
      {
        CDBSocket::Write(a2, (DWORD)&v45, v18, 30, "dbddd", v44[0], 7, *(_DWORD *)(a1 + 444), v44[0], v44[18]);
LABEL_54:
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, (DWORD)&v45, v18);
      }
      else
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, (DWORD)&v45, v18);
        sub_448C90(a2, (DWORD)&v45, v18, a1, 37, "bbd", 85, 8, v44[0]);
      }
      return;
    case 11:
      Src = sub_485530(a2, (DWORD)a3, a4, Src, "dd", &v39, &v42);
      sub_45DAB0(v37);
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      sub_4616D0((int *)(a1 + 1312), &v43, &v39);
      v19 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1312), v25);
      if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
             (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v43,
             v19) )
      {
        v20 = (const void *)(sub_43E1A0(&v43) + 4);
        qmemcpy(v37, v20, sizeof(v37));
        v21 = (DWORD)v20 + 96;
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)&v38, (DWORD)v20 + 96);
        v38 = 1;
        v41 = 0;
        CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, (DWORD)&v38, v21);
        v40 = *(int **)(a1 + 1008);
        if ( (!v40 || v40[13] < v37[23]) && v37[23] )
        {
          sub_448C90(a2, (DWORD)&v38, v21, a1, 37, "bbd", 85, 6, v37[0]);
        }
        else
        {
          v36 = 0;
          if ( v42 )
            v36 = sub_424AB0(*(_DWORD *)(a1 + 444), (_WORD **)&Src);
          else
            v36 = CItem::CreateItem(v37[20], v37[21], v37[22], v37[19]);
          if ( v36 )
          {
            v35 = sub_452300((char *)a1, a2, (DWORD)&v38, v21, 51, v36);
            if ( v35 == 1 )
            {
              if ( v37[23] && !(*(int (__thiscall **)(int *, int, int, int))(*v40 + 120))(v40, a1, 51, -v37[23]) )
              {
                v41 = v40[9];
                sub_4516D0(a1, a2, (DWORD)&v38, v21, (int)v40);
              }
              v38 = 0;
            }
            else
            {
              CBase::Delete(v36);
              if ( v35 == 2 )
                sub_448C90(a2, (DWORD)&v38, v21, a1, 37, "bbd", 85, 8, v37[0]);
            }
          }
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, (DWORD)&v38, v21);
        if ( !v38 )
        {
          sub_448C90(a2, (DWORD)&v38, v21, a1, 89, "bdbb", 3, v37[0], 0, v37[3]);
          if ( v37[23] > 0 )
            sub_45C260(
              a1,
              a2,
              (DWORD)&v38,
              v21,
              0,
              3,
              (char *)&v37[5],
              (int)&::Src,
              0,
              v41,
              v41 != 0 ? 0 : 0x1F,
              0,
              v37[23],
              0);
          CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)&v38, v21);
          sub_4616D0((int *)(a1 + 1312), &v34, v37);
          v22 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1312), v24);
          if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                 (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v34,
                 v22) )
          {
            *(_DWORD *)(sub_43E1A0(&v34) + 12) = 0;
            *(_DWORD *)(sub_43E1A0(&v34) + 76) = 0;
            *(_DWORD *)(sub_43E1A0(&v34) + 84) = 0;
            *(_DWORD *)(sub_43E1A0(&v34) + 88) = 0;
            *(_DWORD *)(sub_43E1A0(&v34) + 92) = 0;
            *(_DWORD *)(sub_43E1A0(&v34) + 96) = 0;
          }
          CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)&v38, v21);
        }
        CDBSocket::Write(
          a2,
          (DWORD)&v38,
          v21,
          30,
          "dbddbbddwbd",
          v39,
          8,
          *(_DWORD *)(a1 + 444),
          v37[0],
          v38,
          v37[2],
          v37[4],
          v37[18],
          v37[20],
          v37[21],
          v37[22]);
      }
      else
      {
        CDBSocket::Write(a2, (DWORD)a3, a4, 30, "dbddb", v39, 8, *(_DWORD *)(a1 + 444), v39, 1);
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 1280), a2, (DWORD)a3, a4);
      }
      return;
    default:
      return;
  }
}

//----- (0045DAB0) --------------------------------------------------------
_DWORD *__thiscall sub_45DAB0(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  this[2] = 0;
  this[3] = 0;
  this[4] = 0;
  memset(this + 5, 0, 0x11u);
  this[10] = 0;
  memset(this + 11, 0, 0x11u);
  this[16] = 0;
  this[17] = 0;
  this[18] = 0;
  this[19] = 0;
  this[20] = 0;
  this[21] = 0;
  this[22] = 0;
  this[23] = 0;
  return this;
}

//----- (0045DB70) --------------------------------------------------------
int __userpurge sub_45DB70@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax

  if ( a5 < 0 || a5 > 7 || a6 <= 0 )
    return 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  if ( sub_451770(a1, dword_4AE2B0[4 * a5], a6)
    && *(_DWORD *)(a1 + 1008)
    && *(_DWORD *)(*(_DWORD *)(a1 + 1008) + 52) >= a6 * dword_4AE2B4[4 * a5] )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    result = 1;
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    result = 0;
  }
  return result;
}
// 4AE2B0: using guessed type int dword_4AE2B0[];
// 4AE2B4: using guessed type int dword_4AE2B4[];

//----- (0045DC20) --------------------------------------------------------
int __userpurge sub_45DC20@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v8; // [esp+4h] [ebp-8h]
  int v9; // [esp+8h] [ebp-4h]
  volatile signed __int32 *v10; // [esp+8h] [ebp-4h]

  if ( a5 < 0 || a5 > 7 || a6 <= 0 )
    return 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  v9 = sub_451770(a1, dword_4AE2B0[4 * a5], a6);
  if ( v9 && *(_DWORD *)(a1 + 1008) && *(_DWORD *)(*(_DWORD *)(a1 + 1008) + 52) >= a6 * dword_4AE2B4[4 * a5] )
  {
    if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v9 + 120))(v9, a1, 16, -a6) )
      sub_4516D0(a1, a2, a3, a4, v9);
    v8 = *(_DWORD *)(a1 + 1008);
    if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v8 + 120))(v8, a1, 16, -(a6 * dword_4AE2B4[4 * a5])) )
      sub_4516D0(a1, a2, a3, a4, v8);
    v10 = CItem::CreateItem(dword_4AE2B8[4 * a5], 0, a6 * dword_4AE2BC[4 * a5], -1);
    if ( v10 )
    {
      if ( sub_452300((char *)a1, a2, a3, a4, 2, v10) == 1 )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
        return 1;
      }
      CBase::Delete(v10);
      LOG_ERR("CPlayer::Cooking() item insert error (index:%d, num:%d)", dword_4AE2B8[4 * a5], dword_4AE2BC[4 * a5]);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  return 0;
}
// 4AE2B0: using guessed type int dword_4AE2B0[];
// 4AE2B4: using guessed type int dword_4AE2B4[];
// 4AE2B8: using guessed type int dword_4AE2B8[];

//----- (0045DDB0) --------------------------------------------------------
volatile int *__usercall sub_45DDB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  volatile int *v6; // [esp+4h] [ebp-4h]

  sub_411FF0(a1, a2, a3, a4);
  v6 = *(volatile int **)(a1 + 476);
  if ( v6 )
    CIOObject::AddRef((CIOObject *)v6, a2, a3, a4, v6 + 10);
  sub_412010(a1, a2, a3, a4);
  return v6;
}

//----- (0045DE00) --------------------------------------------------------
void __userpurge sub_45DE00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  sub_411FF0(a1, a2, a3, a4);
  if ( *(_DWORD *)(a1 + 476) )
    CIOObject::Release(*(CIOObject **)(a1 + 476), a2, a3, a4, (volatile int *)(*(_DWORD *)(a1 + 476) + 36));
  if ( a5 )
    CIOObject::AddRef((CIOObject *)a5, a2, a3, a4, a5 + 9);
  *(_DWORD *)(a1 + 476) = a5;
  sub_412010(a1, a2, a3, a4);
}

//----- (0045DE70) --------------------------------------------------------
int __usercall sub_45DE70@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v6; // [esp+4h] [ebp-4h]

  sub_411FF0(a1, a2, a3, a4);
  v6 = *(_DWORD *)(a1 + 472);
  sub_412010(a1, a2, a3, a4);
  return v6;
}

//----- (0045DEA0) --------------------------------------------------------
void __userpurge sub_45DEA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_411FF0(a1, a2, a3, a4);
  *(_DWORD *)(a1 + 472) = a5;
  sub_412010(a1, a2, a3, a4);
}

//----- (0045DED0) --------------------------------------------------------
void __userpurge CPlayer::SetGID(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_411FF0(a1, a2, a3, a4);
  *(_DWORD *)(a1 + 480) = a5;
  sub_412010(a1, a2, a3, a4);
}

//----- (0045DF00) --------------------------------------------------------
void __userpurge sub_45DF00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Source)
{
  sub_411FF0(a1, a2, a3, a4);
  strcpy((char *)(a1 + 484), Source);
  sub_412010(a1, a2, a3, a4);
}

//----- (0045DF40) --------------------------------------------------------
void __userpurge sub_45DF40(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_411FF0(a1, a2, a3, a4);
  *(_DWORD *)(a1 + 504) = a5;
  sub_412010(a1, a2, a3, a4);
}

//----- (0045DF70) --------------------------------------------------------
void __userpurge sub_45DF70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source)
{
  sub_411FF0(a1, a2, a3, a4);
  *(_DWORD *)(a1 + 508) = a5;
  strcpy((char *)(a1 + 512), Source);
  sub_412010(a1, a2, a3, a4);
}

//----- (0045DFB0) --------------------------------------------------------
int *__thiscall sub_45DFB0(int *this)
{
  int *v2; // [esp+0h] [ebp-8h]

  if ( this[127] < 6 && (CGuild::GetGuildSkill(this[120]) & 1) != 0 )
    v2 = this + 121;
  else
    v2 = 0;
  return v2;
}

//----- (0045E000) --------------------------------------------------------
int __thiscall sub_45E000(int *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( this[127] < 6 && (CGuild::GetGuildSkill(this[120]) & 2) != 0 )
    v2 = this[126];
  else
    v2 = 0;
  return v2;
}

//----- (0045E050) --------------------------------------------------------
int *__thiscall sub_45E050(int *this)
{
  int *v2; // [esp+0h] [ebp-8h]

  if ( this[127] < 6 && (CGuild::GetGuildSkill(this[120]) & 1) != 0 )
    v2 = this + 128;
  else
    v2 = 0;
  return v2;
}

//----- (0045E0A0) --------------------------------------------------------
int __userpurge sub_45E0A0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int result; // eax
  int v6; // eax
  volatile int *v8; // [esp+4h] [ebp-8h]
  int v9; // [esp+8h] [ebp-4h]

  v8 = (volatile int *)sub_415370(a2, a3, a4, *(_DWORD *)(a1 + 472));
  if ( !v8 )
    return 0;
  v9 = CCastle::GetCastle(a5);
  if ( v9
    && ((v6 = sub_45DE70(a1, a2, a3, a4), CCastle::IsLord(v9, a2, a3, a4, v6))
     || CGuild::IsAlliancePeriod((int)v8, a2, a3, a4, v9)) )
  {
    CIOObject::Release((CIOObject *)v8, a2, a3, a4, v8 + 10);
    result = 1;
  }
  else
  {
    CIOObject::Release((CIOObject *)v8, a2, a3, a4, v8 + 10);
    result = 0;
  }
  return result;
}

//----- (0045E130) --------------------------------------------------------
int __userpurge sub_45E130@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int result; // eax
  DWORD v7; // esi
  int v8; // eax
  volatile int *v9; // eax
  int v10; // eax
  int v11; // eax
  volatile int *v12; // eax
  CIOObject *v13; // [esp-4h] [ebp-28h]
  volatile int *v14; // [esp-4h] [ebp-28h]

  if ( !a6 && CChar::IsMState((_QWORD *)a1, 0x200010000100i64) )
    return 0;
  if ( CChar::IsMState((_QWORD *)a5, 0x80000i64) )
    return 0;
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 64))(a5) )
  {
    if ( CSMap::IsOnTile(*(_DWORD **)(a5 + 312), (int *)(a5 + 324), 0x100000) )
    {
      if ( sub_416590()
        && sub_45DE70(a1, a2, a3, a4)
        && (v7 = (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 216))(a5), v7 != sub_45DE70(a1, a2, a3, v7)) )
      {
        v8 = (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 216))(a5);
        v13 = sub_415370(a2, a3, v7, v8);
        v9 = sub_45DDB0(a1, a2, a3, v7);
        result = CGuild::CanAttack(a2, a3, v7, (int)v9, (int)v13);
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    if ( !(*(int (__thiscall **)(int))(*(_DWORD *)a5 + 60))(a5) )
      goto LABEL_30;
    if ( a1 == a5 )
      return 0;
    if ( sub_40A660((_DWORD *)a1, 128)
      && sub_40A660((_DWORD *)a5, 128)
      && *(_DWORD *)(a1 + 1392) == *(_DWORD *)(a5 + 1392) )
    {
      return 1;
    }
    if ( sub_40A660((_DWORD *)a1, 256) || sub_40A660((_DWORD *)a5, 256) )
    {
      v10 = sub_40A660((_DWORD *)a1, 256);
      if ( !CSMap::IsOnTile(*(_DWORD **)(a1 + 312), (int *)(a1 + 324), v10 != 0 ? 0x20000 : 393216) )
      {
        v11 = sub_40A660((_DWORD *)a5, 256);
        if ( !CSMap::IsOnTile(*(_DWORD **)(a5 + 312), (int *)(a5 + 324), v11 != 0 ? 0x20000 : 393216) )
          return 1;
      }
    }
    if ( sub_416590()
      && CSMap::IsOnTile(*(_DWORD **)(a5 + 312), (int *)(a5 + 324), 0x100000)
      && (v14 = sub_45DDB0(a5, a2, a3, a4),
          v12 = sub_45DDB0(a1, a2, a3, a4),
          CGuild::CanAttack(a2, a3, a4, (int)v12, (int)v14)) )
    {
      result = 1;
    }
    else
    {
LABEL_30:
      result = 0;
    }
  }
  return result;
}

//----- (0045E3A0) --------------------------------------------------------
void __userpurge sub_45E3A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // eax
  _DWORD *v6; // eax
  int v7; // eax
  int v9; // [esp+4h] [ebp-48h] BYREF
  char v10[4]; // [esp+8h] [ebp-44h] BYREF
  int v11; // [esp+Ch] [ebp-40h]
  CIOObject *v12; // [esp+10h] [ebp-3Ch]
  char Destination[17]; // [esp+14h] [ebp-38h] BYREF
  char v14[17]; // [esp+25h] [ebp-27h] BYREF
  char v15[18]; // [esp+36h] [ebp-16h] BYREF

  if ( (dword_4B8C30[0] & 1) != 0 && !sub_447290((_DWORD *)a5, 16) )
  {
    if ( sub_40A660((_DWORD *)a5, 256) )
    {
      sub_409160((_DWORD *)a5, 32);
      sub_45EB40(a5, a2, a3, a4);
      sub_448C90(a2, a3, a4, a5, 77, "b", 2);
      if ( !sub_40A660((_DWORD *)a1, 256) )
      {
        v5 = unknown_libname_4(a5);
        sub_448C90(a2, a3, a4, a1, 77, "bd", 5, v5);
        sub_45E5A0((int)Destination);
        strncpy(Destination, (const char *)(a1 + 484), 0x11u);
        strncpy(v14, (const char *)(a1 + 32), 0x11u);
        strncpy(v15, (const char *)(a5 + 32), 0x11u);
        CRWLock::WriteLock((CRWLock *)&unk_4B969C);
        v6 = std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(
               dword_4B9690,
               v10);
        sub_4622C0(dword_4B9690, &v9, *v6, Destination);
        if ( (unsigned int)unknown_libname_24(dword_4B9690) > 0x14 )
          sub_462290(dword_4B9690);
        CRWLock::WriteUnlock((CRWLock *)&unk_4B969C, a2, a3, a4);
        CDBSocket::Write(a2, a3, a4, 55, "sss", a1 + 484, a1 + 32, a5 + 32);
      }
    }
    else
    {
      v11 = 0;
      v12 = (CIOObject *)sub_45DDB0(a5, a2, a3, a4);
      if ( v12 )
      {
        v11 = CCastle::IsAllCastleWarRelation(a2, a3, a4, (int)v12);
        CIOObject::Release(v12, a2, a3, a4, (volatile int *)v12 + 10);
      }
      if ( v11 )
      {
        sub_409160((_DWORD *)a5, 256);
      }
      else if ( sub_40A660((_DWORD *)a1, 256) )
      {
        sub_409160((_DWORD *)a5, 64);
        v7 = unknown_libname_4(a1);
        sub_448C90(a2, a3, a4, a5, 77, "bd", 3, v7);
      }
    }
  }
}

//----- (0045E5A0) --------------------------------------------------------
int __thiscall sub_45E5A0(int this)
{
  memset((void *)this, 0, 0x11u);
  memset((void *)(this + 17), 0, 0x11u);
  memset((void *)(this + 34), 0, 0x11u);
  return this;
}

//----- (0045E5F0) --------------------------------------------------------
int __thiscall sub_45E5F0(_DWORD *this)
{
  if ( sub_408E10(this, 16) )
    return 3328;
  if ( sub_408E10(this, 32) )
    return 3584;
  if ( sub_408E10(this, 64) )
    return 3072;
  return 0;
}

//----- (0045E640) --------------------------------------------------------
int __userpurge CPlayer::AddBuff@<eax>(_QWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5)
{
  if ( !a5 )
    return 0;
  if ( !CChar::IsMState(a1, 0x80000i64) && (!sub_4089E0(a1, 0x20000) || !sub_408790(a5, 4)) )
    return sub_40A720((int)a1, a2, a3, a4, a5);
  sub_402460(a5, 1);
  return 0;
}
// 45E69F: conditional instruction was optimized away because of '%arg_0.4!=0'

//----- (0045E6D0) --------------------------------------------------------
void __usercall sub_45E6D0(int a1@<ecx>, DWORD a2@<ebx>, char *a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  const void *v5; // eax
  int v6; // eax
  char v7; // [esp-34h] [ebp-54h] BYREF
  int v8; // [esp-30h] [ebp-50h]
  int v9; // [esp-2Ch] [ebp-4Ch]
  int v10; // [esp-28h] [ebp-48h]
  int v11; // [esp-24h] [ebp-44h]
  int v12; // [esp-20h] [ebp-40h]
  int v13; // [esp-1Ch] [ebp-3Ch]
  int v14; // [esp-18h] [ebp-38h]
  int v15; // [esp-14h] [ebp-34h]
  int v16; // [esp-10h] [ebp-30h]
  int v17; // [esp-Ch] [ebp-2Ch]
  int v18; // [esp-8h] [ebp-28h]
  int v19; // [esp-4h] [ebp-24h] BYREF
  int v20; // [esp+8h] [ebp-18h]
  char v21[4]; // [esp+Ch] [ebp-14h] BYREF
  int v22; // [esp+10h] [ebp-10h] BYREF
  char *v23; // [esp+14h] [ebp-Ch]
  unsigned __int16 *v24; // [esp+18h] [ebp-8h]
  void *Src; // [esp+1Ch] [ebp-4h]

  v20 = a1;
  CRWLock::ReadLock((CRWLock *)&unk_4B969C);
  if ( !sub_462240(dword_4B9690) )
  {
    Src = CIOBuffer::Alloc();
    v23 = (char *)Src;
    *((_BYTE *)Src + 2) = 72;
    v24 = (unsigned __int16 *)(v23 + 4);
    std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(dword_4B9690, &v22);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B9690, v21);
      if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v22,
              v4) )
        break;
      v5 = (const void *)sub_46DB60(&v22);
      qmemcpy(&v7, v5, 0x33u);
      a4 = (DWORD)v5 + 51;
      a3 = (char *)&v19 + 3;
      v24 = (unsigned __int16 *)sub_46AB50((int)v24, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19);
      sub_40EA00(&v22);
    }
    v6 = unknown_libname_24(dword_4B9690);
    WritePacket(a2, (DWORD)a3, a4, v23 + 3, "b", v6);
    *(_WORD *)v23 = (_WORD)v24 - (_WORD)v23;
    *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v23;
    sub_483370(*(_DWORD *)(v20 + 1404), a2, (DWORD)a3, a4, Src);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B969C, a2, (DWORD)a3, a4);
}

//----- (0045E7E0) --------------------------------------------------------
void __usercall CPlayer::PKBulletinLoad(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, _BYTE *a4)
{
  char *v4; // eax
  char *v5; // eax
  int i; // [esp+0h] [ebp-44h]
  char *v7; // [esp+4h] [ebp-40h]
  char v8[17]; // [esp+8h] [ebp-3Ch] BYREF
  char v9[17]; // [esp+19h] [ebp-2Bh] BYREF
  char v10[18]; // [esp+2Ah] [ebp-1Ah] BYREF
  int v11; // [esp+40h] [ebp-4h] BYREF

  v11 = 0;
  v7 = sub_417B10(a4, &v11);
  if ( v11 > 0 )
  {
    sub_45E5A0((int)v8);
    CRWLock::WriteLock((CRWLock *)&unk_4B969C);
    for ( i = 0; i < v11; ++i )
    {
      v4 = GetString(v7, v8);
      v5 = GetString(v4, v9);
      v7 = GetString(v5, v10);
      sub_462260(dword_4B9690, v8);
    }
    CRWLock::WriteUnlock((CRWLock *)&unk_4B969C, a1, a2, a3);
  }
}

//----- (0045E8A0) --------------------------------------------------------
void __usercall sub_45E8A0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  int v3; // [esp+0h] [ebp-14h]
  int *v4; // [esp+4h] [ebp-10h]
  CMemory *i; // [esp+8h] [ebp-Ch]
  int *v6; // [esp+Ch] [ebp-8h]
  int *v7; // [esp+10h] [ebp-4h]

  if ( (dword_4B8C30[0] & 1) != 0 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
    CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
    CLink::MoveTo(dword_4B95D4, (int)&dword_4B95CC);
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
    v7 = (int *)dword_4B95CC;
    while ( v7 != &dword_4B95CC )
    {
      v6 = v7 - 105;
      v7 = (int *)*v7;
      if ( sub_40A660(v6, 256) )
      {
        if ( v6[132] > 0 )
        {
          if ( CSMap::IsOnTile((_DWORD *)v6[78], v6 + 81, 393216) )
          {
            --v6[132];
          }
          else
          {
            if ( v6[132] <= 3 )
              v3 = v6[132];
            else
              v3 = 3;
            v6[132] -= v3;
          }
        }
        for ( i = sub_4822A0((char *)v6[78], a1, a2, a3, v6 + 79, 10); i; i = (CMemory *)CBaseList::Pop(
                                                                                           (int)i,
                                                                                           a1,
                                                                                           a2,
                                                                                           a3) )
        {
          v4 = (int *)unknown_libname_10(i);
          if ( !sub_40A660(v4, 48) && v6 != v4 )
            sub_448C90(a1, a2, a3, (int)v4, 77, "b", 14);
        }
      }
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
  }
}
// 4B95CC: using guessed type int dword_4B95CC;

//----- (0045EA20) --------------------------------------------------------
void __usercall sub_45EA20(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  _DWORD *v4; // eax
  int v5; // [esp+0h] [ebp-1Ch]
  int v6; // [esp+0h] [ebp-1Ch]
  int *v7; // [esp+4h] [ebp-18h]
  int v8; // [esp+8h] [ebp-14h]
  __time32_t v9; // [esp+Ch] [ebp-10h]
  int v10[3]; // [esp+10h] [ebp-Ch]

  v10[0] = 33;
  v10[1] = 34;
  v10[2] = 35;
  v9 = time(0);
  if ( a4 != 4 )
  {
    if ( a4 )
      v8 = a4 - 1;
    else
      v8 = RandomBetween(0, 2);
    dword_4B95C0 = v10[v8];
    dword_4B95BC = v9 + ((dword_4B8C30[0] & 2) != 0 ? 300 : 3600);
  }
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
  CIOCriticalSection::Enter((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
  CLink::MoveTo(dword_4B95D4, (int)&dword_4B95CC);
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9658, a1, a2, a3);
  v7 = (int *)dword_4B95CC;
  while ( v7 != &dword_4B95CC )
  {
    v5 = (int)(v7 - 105);
    v7 = (int *)*v7;
    sub_40AB60(v5, a1, a2, a3, 128);
    if ( a4 != 4 )
    {
      v4 = sub_4024B0(dword_4B95C0, dword_4B95BC - v9, 0, v5);
      (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)v6 + 180))(v6, v4);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)&unk_4B9638, a1, a2, a3);
}
// 45EB24: variable 'v6' is possibly undefined
// 4B95BC: using guessed type int dword_4B95BC;
// 4B95C0: using guessed type int dword_4B95C0;
// 4B95CC: using guessed type int dword_4B95CC;

//----- (0045EB40) --------------------------------------------------------
void __usercall sub_45EB40(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // eax
  int v6; // [esp+4h] [ebp-24h] BYREF
  int v7[2]; // [esp+8h] [ebp-20h] BYREF
  int v8[2]; // [esp+10h] [ebp-18h] BYREF
  int v9; // [esp+18h] [ebp-10h]
  int v10; // [esp+1Ch] [ebp-Ch]
  _DWORD *v11; // [esp+20h] [ebp-8h]
  int v12; // [esp+24h] [ebp-4h] BYREF

  if ( RandomBetween(1, 100) <= 5 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    if ( sub_43DF10((void *)(a1 + 980)) )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
    else
    {
      v4 = unknown_libname_24(a1 + 980);
      v10 = RandomBetween(0, v4 - 1);
      std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 980),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v12);
      v9 = 0;
      while ( v9 < v10 )
      {
        ++v9;
        sub_46FA50(&v12, &v6, 0);
      }
      v11 = *(_DWORD **)(sub_43E1A0(&v12) + 4);
      if ( *(_DWORD *)(v11[10] + 72) != 20 || !sub_425930(v11, 1) )
      {
        if ( sub_425930(v11, 1) )
          (*(void (__thiscall **)(_DWORD *, int))(*v11 + 100))(v11, a1);
        if ( (*(int (__thiscall **)(_DWORD *, _DWORD, int))(*v11 + 144))(v11, v11[13], a1) )
        {
          sub_40A3B0((_DWORD *)a1, v7);
          v8[0] = v7[0] >> 5;
          v8[1] = v7[1] >> 5;
          if ( sub_4801B0(*(_DWORD **)(a1 + 312), a2, a3, a4, (int)v11, v8) )
          {
            (*(void (__thiscall **)(_DWORD *, int, int *, int *, int, _DWORD, _DWORD))(*v11 + 124))(
              v11,
              a1,
              v7,
              v8,
              1,
              0,
              0);
            sub_4516D0(a1, a2, a3, a4, (int)v11);
          }
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
  }
}

//----- (0045ECE0) --------------------------------------------------------
void __userpurge sub_45ECE0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  if ( a5 == 2 )
  {
    sub_45EE40(a1, a2, a3, a4);
  }
  else if ( a6 >= 1 && a6 <= 3 && !sub_40A660((_DWORD *)a1, 48) )
  {
    if ( CSMap::IsOnTile(*(_DWORD **)(a1 + 312), (int *)(a1 + 324), 0x20000) )
    {
      sub_448C90(a2, a3, a4, a1, 36, "b", 67);
    }
    else if ( *(_DWORD *)(a1 + 572) >= dword_4AE5FC[a6] )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      if ( !sub_40A660((_DWORD *)a1, 512) )
      {
        if ( a5 == 1 )
        {
          if ( !*(_DWORD *)(a1 + 1028) )
          {
            if ( *(_DWORD *)(a1 + 1020) )
              sub_42CE60(*(_DWORD **)(a1 + 1020), a2, a3, a4, (volatile LONG *)a1, a6);
          }
        }
        else if ( !a5 )
        {
          if ( *(_DWORD *)(a1 + 1028) )
            sub_448C90(a2, a3, a4, a1, 36, "b", 77);
          else
            sub_40ACD0(a2, a3, a4, a1, 30, "dbb", *(_DWORD *)(a1 + 28), 12, a6);
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
    else
    {
      sub_448C90(a2, a3, a4, a1, 36, "b", 66);
    }
  }
}

//----- (0045EE40) --------------------------------------------------------
void __usercall sub_45EE40(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  if ( sub_40A660((_DWORD *)a1, 512) && *(_DWORD *)(a1 + 1020) )
    sub_42CFC0(*(_DWORD **)(a1 + 1020), (_DWORD *)a1);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
}

//----- (0045EEA0) --------------------------------------------------------
void __usercall sub_45EEA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
  if ( *(_DWORD *)(a1 + 1028) )
    sub_429FA0(*(_DWORD **)(a1 + 1028), a2, a3, a4, (_DWORD *)a1, 1);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
}

//----- (0045EEF0) --------------------------------------------------------
void __usercall sub_45EEF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *v4; // eax
  _DWORD *v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int v8; // [esp+Ch] [ebp-Ch]
  CMemory *i; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h]

  if ( sub_45F030((_DWORD *)a1) && sub_416590() && CSMap::IsOnTile(*(_DWORD **)(a1 + 312), (int *)(a1 + 324), 0x100000) )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    v10 = *(_DWORD *)(a1 + 1028);
    if ( v10 )
    {
      v7 = *(_DWORD *)(*(_DWORD *)(v10 + 40) + 160);
      v8 = *(_DWORD *)(*(_DWORD *)(v10 + 40) + 164);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      for ( i = sub_4822A0(*(char **)(a1 + 312), a2, a3, a4, (_DWORD *)(a1 + 316), 10);
            i;
            i = (CMemory *)CBaseList::Pop((int)i, a2, a3, a4) )
      {
        v6 = (_DWORD *)unknown_libname_10(i);
        if ( v6 != (_DWORD *)a1 && CChar::IsNormal(v6) && *(_DWORD *)(a1 + 472) == v6[118] && !sub_45F030(v6) )
        {
          v4 = sub_4024B0(v7, 2, v8, a1);
          (*(void (__thiscall **)(_DWORD *, _DWORD *))(*v6 + 180))(v6, v4);
        }
      }
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
  }
}
// 45EFC4: variable 'a1' is possibly undefined

//----- (0045F030) --------------------------------------------------------
BOOL __thiscall sub_45F030(_DWORD *this)
{
  return (int)this[258] >= 0 && sub_426320(this, 13);
}

//----- (0045F070) --------------------------------------------------------
void __userpurge sub_45F070(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  _DWORD *v6; // eax
  int v8; // [esp+0h] [ebp-Ch]
  int v9; // [esp+4h] [ebp-8h]
  int v10; // [esp+8h] [ebp-4h]

  if ( *(int *)(a1 + 60) >= 6
    && a5 >= 0
    && a5 <= 1
    && a6 >= 1
    && a6 <= 5
    && (a6 & 0x80000001) != 0
    && (a5 || !sub_408E10((_DWORD *)a1, 128))
    && (a5 != 1 || !sub_408E10((_DWORD *)a1, 256)) )
  {
    v9 = a6 * ((a5 != 0 ? 6 : 11) * *(_DWORD *)(a1 + 60) * *(_DWORD *)(a1 + 60) / 2);
    if ( a6 == 3 )
    {
      v9 = 9 * v9 / 10;
    }
    else if ( a6 == 5 )
    {
      v9 = 8 * v9 / 10;
    }
    CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    if ( *(_DWORD *)(a1 + 1008) && *(_DWORD *)(*(_DWORD *)(a1 + 1008) + 52) >= v9 )
    {
      v10 = *(_DWORD *)(a1 + 1008);
      if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v10 + 120))(v10, a1, 39, -v9) )
        sub_4516D0(a1, a2, a3, a4, v10);
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
      v6 = sub_4024B0((a5 != 0) + 16, 3600 * a6, a1, v9);
      (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)v8 + 180))(v8, v6);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 932), a2, a3, a4);
    }
  }
}
// 45F0A3: conditional instruction was optimized away because of '%arg_4.4 in (1..5)'
// 45F1E0: variable 'v8' is possibly undefined

//----- (0045F200) --------------------------------------------------------
void __userpurge sub_45F200(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  if ( a4 >= 0 && a4 < 11 )
  {
    if ( a5 )
      *(_DWORD *)dword_4B8C30 |= 1 << a4;
    else
      *(_DWORD *)dword_4B8C30 &= ~(1 << a4);
    sub_446840(a1, a2, a3, 37, "bdd", 70, *(_DWORD *)dword_4B8C30, dword_4B8C34);
  }
}
// 4B8C34: using guessed type int dword_4B8C34;

//----- (0045F270) --------------------------------------------------------
void __userpurge sub_45F270(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  if ( a4 >= 0 && a4 < 8 )
  {
    if ( a5 )
      dword_4B8C34 |= 1 << a4;
    else
      dword_4B8C34 &= ~(1 << a4);
    sub_446840(a1, a2, a3, 37, "bdd", 70, *(_DWORD *)dword_4B8C30, dword_4B8C34);
  }
}
// 4B8C34: using guessed type int dword_4B8C34;

//----- (0045F2E0) --------------------------------------------------------
int __thiscall sub_45F2E0(_DWORD *this)
{
  int result; // eax

  if ( dword_4BAAA0 )
    result = 0;
  else
    result = *(_DWORD *)(this[351] + 152) & 0x200;
  return result;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (0045F310) --------------------------------------------------------
void __userpurge sub_45F310(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  char v8[40]; // [esp+4h] [ebp-2Ch] BYREF

  if ( a5 )
  {
    if ( ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "m", v8, 40) != Src )
      CDBSocket::Write(a2, a3, a4, 67, "bdm", a5, *(_DWORD *)(a1 + 444), v8, 40);
  }
  else
  {
    CDBSocket::Write(a2, a3, a4, 67, "bdd", 0, *(_DWORD *)(a1 + 444), *(_DWORD *)(a1 + 28));
  }
}

//----- (0045F3A0) --------------------------------------------------------
void __userpurge sub_45F3A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *a6)
{
  char *v6; // eax
  _BYTE *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  char v12[8]; // [esp+4h] [ebp-8Ch] BYREF
  char v13[28]; // [esp+Ch] [ebp-84h] BYREF
  char v14[44]; // [esp+28h] [ebp-68h] BYREF
  int i; // [esp+54h] [ebp-3Ch]
  char *v16; // [esp+58h] [ebp-38h]
  char v17[24]; // [esp+5Ch] [ebp-34h] BYREF
  char *v18; // [esp+78h] [ebp-18h]
  void *Src; // [esp+7Ch] [ebp-14h]
  int v20; // [esp+80h] [ebp-10h] BYREF
  int v21; // [esp+84h] [ebp-Ch] BYREF
  int v22; // [esp+88h] [ebp-8h] BYREF
  int v23; // [esp+8Ch] [ebp-4h] BYREF

  Src = CIOBuffer::Alloc();
  v16 = (char *)Src;
  *((_BYTE *)Src + 2) = 86;
  v18 = v16 + 4;
  sub_411FF0(a1, a2, a3, a4);
  sub_45F530(&v20);
  for ( i = 0; i < a5; ++i )
  {
    v6 = GetString(a6, v17);
    v7 = sub_417B10(v6, &v20);
    v8 = sub_417AF0(v7, &v21);
    v9 = sub_417AF0(v8, &v22);
    a6 = (char *)sub_417AF0(v9, &v23);
    v18 = PutString(v18, v17);
    std::string::string((std::string *)v13, v17);
    v10 = sub_462430((int)v14, (const std::string *)v13, &v20);
    sub_4617B0(
      (int *)(a1 + 1380),
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v12,
      v10);
    sub_45F570((std::string *)v14);
    sub_40E7C0((std::string *)v13);
  }
  sub_412010(a1, a2, a3, a4);
  WritePacket(a2, a3, a4, v16 + 3, "b", a5);
  *(_WORD *)v16 = (_WORD)v18 - (_WORD)v16;
  *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v16;
  sub_483370(*(_DWORD *)(a1 + 1404), a2, a3, a4, Src);
}

//----- (0045F530) --------------------------------------------------------
_DWORD *__thiscall sub_45F530(_DWORD *this)
{
  this[3] = 0;
  this[2] = 0;
  this[1] = 0;
  *this = 0;
  return this;
}

//----- (0045F570) --------------------------------------------------------
void __thiscall sub_45F570(std::string *this)
{
  sub_40E7C0(this);
}

//----- (0045F590) --------------------------------------------------------
void __userpurge sub_45F590(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  int v8; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v9; // eax
  void *v10; // eax
  int v11; // eax
  int v12; // eax
  void *v13; // eax
  int *v14; // eax
  char v16[4]; // [esp+8h] [ebp-170h] BYREF
  char v17[28]; // [esp+Ch] [ebp-16Ch] BYREF
  int v18; // [esp+28h] [ebp-150h] BYREF
  char v19[8]; // [esp+2Ch] [ebp-14Ch] BYREF
  char v20[28]; // [esp+34h] [ebp-144h] BYREF
  char v21[44]; // [esp+50h] [ebp-128h] BYREF
  char v22[4]; // [esp+7Ch] [ebp-FCh] BYREF
  int v23; // [esp+80h] [ebp-F8h] BYREF
  char v24[28]; // [esp+84h] [ebp-F4h] BYREF
  char v25[4]; // [esp+A0h] [ebp-D8h] BYREF
  char v26[28]; // [esp+A4h] [ebp-D4h] BYREF
  char v27[31]; // [esp+C0h] [ebp-B8h] BYREF
  bool v28; // [esp+DFh] [ebp-99h]
  char v29[8]; // [esp+E0h] [ebp-98h] BYREF
  char v30[28]; // [esp+E8h] [ebp-90h] BYREF
  char v31[44]; // [esp+104h] [ebp-74h] BYREF
  char v32[4]; // [esp+130h] [ebp-48h] BYREF
  char v33[28]; // [esp+134h] [ebp-44h] BYREF
  int v34[2]; // [esp+150h] [ebp-28h] BYREF
  const char *v35; // [esp+158h] [ebp-20h] BYREF
  int v36; // [esp+15Ch] [ebp-1Ch] BYREF
  int v37; // [esp+160h] [ebp-18h] BYREF
  _DWORD v38[4]; // [esp+164h] [ebp-14h] BYREF
  const char *v39; // [esp+174h] [ebp-4h] BYREF
  char *Srca; // [esp+184h] [ebp+Ch]

  Srca = ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "s", &v39, 21);
  if ( IsValidName(v39) )
  {
    sub_411FF0(a1, a2, a3, a4);
    switch ( a5 )
    {
      case 0:
        if ( CSMap::IsValidTile(*(_DWORD **)(a1 + 312), (int *)(a1 + 324), 1179648) )
        {
          std::string::string((std::string *)v33, v39);
          sub_462180((int *)(a1 + 1380), &v37, v33);
          sub_40E7C0((std::string *)v33);
          v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1380), v32);
          if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                 (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v37,
                 v7) )
          {
            sub_448C90(a2, a3, a4, a1, 37, "bb", 80, 2);
          }
          else if ( sub_451F80(a1, a2, a3, a4, 9, 509, 1) || sub_451F80(a1, a2, a3, a4, 9, 510, 1) )
          {
            sub_45FB30(v38, *(_DWORD *)(a1 + 308), (_DWORD *)(a1 + 324), *(_DWORD *)(a1 + 332));
            std::string::string((std::string *)v30, v39);
            v8 = sub_462430((int)v31, (const std::string *)v30, v38);
            sub_4617B0(
              (int *)(a1 + 1380),
              (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v29,
              v8);
            sub_45F570((std::string *)v31);
            sub_40E7C0((std::string *)v30);
            CDBSocket::Write(
              a2,
              a3,
              a4,
              71,
              "dbsbddd",
              *(_DWORD *)(a1 + 444),
              a5,
              v39,
              *(_DWORD *)(a1 + 308),
              *(_DWORD *)(a1 + 324),
              *(_DWORD *)(a1 + 328),
              *(_DWORD *)(a1 + 332));
          }
        }
        else
        {
          sub_448C90(a2, a3, a4, a1, 37, "bb", 80, 1);
        }
        break;
      case 1:
        std::string::string((std::string *)v27, v39);
        v28 = sub_462120((int *)(a1 + 1380), v27) == 0;
        sub_40E7C0((std::string *)v27);
        if ( !v28 )
          CDBSocket::Write(a2, a3, a4, 71, "dbs", *(_DWORD *)(a1 + 444), a5, v39);
        break;
      case 2:
        ScanPacket(a2, a3, a4, Srca, (char *)a7, "s", &v35, 21);
        if ( IsValidName(v35) )
        {
          std::string::string((std::string *)v26, v35);
          sub_462180((int *)(a1 + 1380), &v36, v26);
          sub_40E7C0((std::string *)v26);
          v9 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a1 + 1380), v25);
          if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
                 (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v36,
                 v9) )
          {
            sub_448C90(a2, a3, a4, a1, 37, "bb", 80, 2);
          }
          else
          {
            std::string::string((std::string *)v24, v39);
            v36 = *sub_462180((int *)(a1 + 1380), &v23, v24);
            sub_40E7C0((std::string *)v24);
            v10 = sub_482CA0((int *)(a1 + 1380), v22);
            if ( !(unsigned __int8)unknown_libname_25(v10) )
            {
              std::string::string((std::string *)v20, v35);
              v11 = sub_43E1A0(&v36);
              v12 = sub_462430((int)v21, (const std::string *)v20, (_DWORD *)(v11 + 28));
              sub_4617B0(
                (int *)(a1 + 1380),
                (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v19,
                v12);
              sub_45F570((std::string *)v21);
              sub_40E7C0((std::string *)v20);
              sub_461990((int *)(a1 + 1380), &v18, v36);
              CDBSocket::Write(a2, a3, a4, 71, "dbss", *(_DWORD *)(a1 + 444), a5, v39, v35);
            }
          }
        }
        else
        {
          sub_448C90(a2, a3, a4, a1, 37, "bb", 80, 0);
        }
        break;
      case 3:
        if ( !sub_40A660((_DWORD *)a1, 256) )
        {
          std::string::string((std::string *)v17, v39);
          sub_462180((int *)(a1 + 1380), v34, v17);
          sub_40E7C0((std::string *)v17);
          v13 = sub_482CA0((int *)(a1 + 1380), v16);
          if ( !(unsigned __int8)unknown_libname_25(v13)
            && (sub_451F80(a1, a2, a3, a4, 9, 511, 1) || sub_451F80(a1, a2, a3, a4, 9, 512, 1)) )
          {
            v14 = (int *)sub_43E1A0(v34);
            v34[1] = (int)(v14 + 7);
            sub_451260((_DWORD *)a1, a2, a3, a4, v14[7], v14 + 8, v14[10], 0);
          }
        }
        break;
      default:
        break;
    }
    sub_412010(a1, a2, a3, a4);
  }
  else
  {
    sub_448C90(a2, a3, a4, a1, 37, "bb", 80, 0);
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0045FB30) --------------------------------------------------------
_DWORD *__thiscall sub_45FB30(_DWORD *this, int a2, _DWORD *a3, int a4)
{
  int v4; // ecx

  *this = a2;
  v4 = a3[1];
  this[1] = *a3;
  this[2] = v4;
  this[3] = a4;
  return this;
}

//----- (0045FB70) --------------------------------------------------------
void __userpurge sub_45FB70(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src)
{
  const char *v7; // [esp+4h] [ebp-8h] BYREF
  char v8; // [esp+Bh] [ebp-1h] BYREF

  if ( !a5 )
  {
    sub_485530(a2, a3, a4, Src, "bs", &v8, &v7);
    if ( v8 )
    {
      sub_448C90(a2, a3, a4, a1, 87, "bs", 0, v7);
    }
    else
    {
      sub_448C90(a2, a3, a4, a1, 37, "bb", 80, 3);
      LOG_ERR("CPlayer::OnSetMyTelPt() save myteleport point error.(PID:%d, Lod:%s)", *(_DWORD *)(a1 + 444), v7);
    }
  }
}

//----- (0045FC00) --------------------------------------------------------
int __thiscall sub_45FC00(_DWORD *this, _DWORD *a2)
{
  int v3; // [esp+0h] [ebp-34h]
  int v4; // [esp+4h] [ebp-30h]
  int v5; // [esp+8h] [ebp-2Ch]
  int v6; // [esp+Ch] [ebp-28h]
  int v7; // [esp+10h] [ebp-24h]
  int v8; // [esp+14h] [ebp-20h]
  int v10; // [esp+20h] [ebp-14h]
  int Number; // [esp+24h] [ebp-10h]
  int v12; // [esp+28h] [ebp-Ch]
  int v13; // [esp+2Ch] [ebp-8h]

  if ( !this[147] )
    return 0;
  Number = this[15] - a2[15];
  if ( (*(int (__thiscall **)(_DWORD *))(*a2 + 60))(a2) )
  {
    if ( Number < 0 )
    {
      if ( abs(Number) >= 7 )
        v7 = 7;
      else
        v7 = abs(Number);
      v10 = dword_4B10BC[v7] * dword_4B1048[this[147]] / 100;
    }
    else
    {
      if ( Number >= 7 )
        v8 = 7;
      else
        v8 = Number;
      v10 = dword_4B109C[v8] * dword_4B1048[this[147]] / 100;
    }
  }
  else
  {
    if ( Number < 0 )
    {
      if ( abs(Number) >= 30 )
        v5 = 30;
      else
        v5 = abs(Number);
      v10 = dword_4B1100[v5] * dword_4B1048[this[147]] / 100;
    }
    else
    {
      if ( Number >= 7 )
        v6 = 7;
      else
        v6 = Number;
      v10 = dword_4B10DC[v6] * dword_4B1048[this[147]] / 100;
    }
    if ( sub_408E10(a2, 2048) )
    {
      v10 += 3;
    }
    else if ( sub_408E10(a2, 4096) )
    {
      v10 += 5;
    }
  }
  if ( v10 < RandomBetween(1, 100) )
    return 0;
  if ( (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2) )
    v4 = sub_436490(a2, 4) / 10;
  else
    v4 = sub_436490(a2, 4);
  v13 = v4 < 0 ? 0 : v4;
  if ( v13 >= 100 )
    v3 = 0;
  else
    v3 = 100 - v13;
  if ( this[113] == 1 )
    v12 = v3
        * (3 * this[149] + RandomBetween(this[152] + this[147] * this[152] / 20, this[153] + this[147] * this[153] / 10))
        / 100;
  else
    v12 = v3
        * (3 * this[148] + RandomBetween(this[150] + this[147] * this[150] / 20, this[151] + this[147] * this[151] / 10))
        / 100;
  return v12;
}

//----- (0045FF40) --------------------------------------------------------
int __usercall sub_45FF40@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int result; // eax

  if ( sub_40A660((_DWORD *)a1, 38) )
  {
    sub_448C90(
      a2,
      a3,
      a4,
      a1,
      10,
      "ddddw",
      *(_DWORD *)(a1 + 28),
      *(_DWORD *)(a1 + 324),
      *(_DWORD *)(a1 + 328),
      *(_DWORD *)(a1 + 332),
      *(_DWORD *)(a1 + 340));
    result = 0;
  }
  else if ( sub_40A660((_DWORD *)a1, 4096) )
  {
    result = 0;
  }
  else
  {
    if ( sub_40A660((_DWORD *)a1, 0x2000) )
    {
      CChar::SubGState((volatile LONG *)a1, 0x2000);
      *(_DWORD *)(a1 + 1332) = GetTickCount();
    }
    result = 1;
  }
  return result;
}

//----- (0045FFF0) --------------------------------------------------------
void __userpurge sub_45FFF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8)
{
  volatile int *v9; // [esp+8h] [ebp-4h]

  v9 = CNPC::FindNPC(a2, a3, a4, a5);
  if ( v9 )
  {
    if ( (*(int (__thiscall **)(volatile int *, int))(*v9 + 184))(v9, a1 + 324) )
    {
      if ( !a6 )
        (*(void (__thiscall **)(volatile int *, int, int, int))(*v9 + 208))(v9, a1, a7, a8);
    }
    sub_401C50(v9, a2, a3, a4);
  }
}

//----- (00460070) --------------------------------------------------------
void __userpurge sub_460070(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Str)
{
  _DWORD *v5; // eax
  _DWORD *v7; // [esp+0h] [ebp-4h]

  if ( sub_408E10((_DWORD *)a1, 0x800000) )
  {
    sub_448C90(a2, a3, a4, a1, 37, "bb", 100, 9);
  }
  else if ( IsValidName(Str) && strlen(Str) <= 0xE && strcmp((const char *)(a1 + 32), Str) )
  {
    if ( sub_451720(a1, a2, a3, a4, 639, 1) )
    {
      v5 = sub_4024B0(97, 1814400, 0, a1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*v7 + 180))(v7, v5);
      CDBSocket::Write(a2, a3, a4, 72, "ddss", v7[7], v7[111], v7 + 8, Str);
    }
    else
    {
      sub_448C90(a2, a3, a4, a1, 37, "bb", 100, 10);
    }
  }
  else
  {
    sub_448C90(a2, a3, a4, a1, 37, "bbs", 100, 1, Str);
  }
}
// 460137: variable 'v7' is possibly undefined

//----- (00460180) --------------------------------------------------------
void __userpurge sub_460180(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source)
{
  const std::pair<char const * const,CItem *> *v6; // eax
  char v8[8]; // [esp+4h] [ebp-24h] BYREF
  const char *v9; // [esp+Ch] [ebp-1Ch] BYREF
  CItem *v10; // [esp+10h] [ebp-18h] BYREF
  char v11[8]; // [esp+14h] [ebp-14h] BYREF
  const char *v12; // [esp+1Ch] [ebp-Ch] BYREF
  int v13; // [esp+20h] [ebp-8h]
  int v14; // [esp+24h] [ebp-4h]

  if ( a5 )
  {
    sub_411FF0(a1, a2, a3, a4);
    if ( !sub_40A640((_DWORD *)a1) )
    {
      CRWLock::WriteLock((CRWLock *)&unk_4B9610);
      v12 = (const char *)(a1 + 32);
      sub_4607A0(dword_4B9604, &v12);
      strcpy((char *)(a1 + 32), Source);
      v10 = (CItem *)a1;
      v9 = (const char *)(a1 + 32);
      std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
        (std::pair<char const * const,CItem *> *)v11,
        &v9,
        &v10);
      sub_4605E0(
        dword_4B9604,
        (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v8,
        v6);
      CRWLock::WriteUnlock((CRWLock *)&unk_4B9610, a2, a3, a4);
    }
    v13 = *(_DWORD *)(a1 + 472);
    v14 = *(_DWORD *)(a1 + 444);
    sub_412010(a1, a2, a3, a4);
    if ( !sub_451F80(a1, a2, a3, a4, 9, 639, 1) )
      LOG_ERR("OnChangePlayerName() RemoveItem Error (%d)", 639);
    CGuild::ChangePlayerName(a2, a3, a4, v13, v14, Source);
    sub_448C90(a2, a3, a4, a1, 37, "bbs", 100, 3, Source);
  }
  else
  {
    sub_40A990(a1, a2, a3, a4, 97);
    sub_448C90(a2, a3, a4, a1, 37, "bbs", 100, 2, Source);
  }
}
// 46022A: variable 'v6' is possibly undefined

//----- (004602C0) --------------------------------------------------------
void __userpurge sub_4602C0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char *Str)
{
  _DWORD *v5; // eax
  _DWORD *v7; // [esp+0h] [ebp-8h]
  int v8; // [esp+4h] [ebp-4h]

  if ( sub_408E10((_DWORD *)a1, 0x1000000) )
  {
    sub_448C90(a2, a3, a4, a1, 37, "bb", 100, 9);
  }
  else
  {
    v8 = sub_45DE70(a1, a2, a3, a4);
    if ( v8 && *(_DWORD *)(a1 + 444) == v8 )
    {
      if ( IsValidName(Str) && strlen(Str) <= 0xE && strcmp((const char *)(a1 + 484), Str) )
      {
        if ( sub_451720(a1, a2, a3, a4, 640, 1) )
        {
          v5 = sub_4024B0(98, 1814400, 0, a1);
          (*(void (__thiscall **)(_DWORD *, _DWORD *))(*v7 + 180))(v7, v5);
          CDBSocket::Write(a2, a3, a4, 73, "ddss", v7[7], v7[111], v7 + 121, Str);
        }
        else
        {
          sub_448C90(a2, a3, a4, a1, 37, "bb", 100, 11);
        }
      }
      else
      {
        sub_448C90(a2, a3, a4, a1, 37, "bbs", 100, 5, Str);
      }
    }
    else
    {
      sub_448C90(a2, a3, a4, a1, 37, "bb", 100, 4);
    }
  }
}
// 4603C7: variable 'v7' is possibly undefined

//----- (00460410) --------------------------------------------------------
void __userpurge sub_460410(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, char *Source)
{
  int v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  if ( a5 )
  {
    sub_411FF0(a1, a2, a3, a4);
    strcpy((char *)(a1 + 484), Source);
    v7 = *(_DWORD *)(a1 + 472);
    v8 = *(_DWORD *)(a1 + 444);
    sub_412010(a1, a2, a3, a4);
    if ( !sub_451F80(a1, a2, a3, a4, 9, 640, 1) )
      LOG_ERR("OnChangeGuildName() RemoveItem Error (%d)", 640);
    sub_4173D0(a2, a3, a4, v7, v8, Source);
    sub_448C90(a2, a3, a4, a1, 37, "bbs", 100, 7, Source);
  }
  else
  {
    sub_40A990(a1, a2, a3, a4, 98);
    sub_448C90(a2, a3, a4, a1, 37, "bbs", 100, 6, Source);
  }
}

//----- (004604F0) --------------------------------------------------------
int __thiscall sub_4604F0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_462470(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00460550) --------------------------------------------------------
_DWORD *__thiscall sub_460550(int *this, _DWORD *a2, _DWORD *a3)
{
  void *v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_441850(this, v12, a3);
  v3 = sub_482CA0(this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (_DWORD *)sub_463EE0(v4), sub_417820(a3, v5)) )
  {
    v7 = (char *)sub_482CA0(this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004605E0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_4605E0(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const std::pair<char const * const,CItem *> *a3)
{
  const char **v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  const char **v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  const char *v10; // [esp-4h] [ebp-3Ch]
  const char *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA00(this);
  v22 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_46DDD0((int)v21) )
  {
    v22 = v21;
    v10 = *(const char **)sub_463EE0((int)v21);
    v3 = (const char **)unknown_libname_21(a3);
    v23 = StrCmp::operator()((StrCmp *)this, *v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)unknown_libname_21(v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_41BA20((int)v21);
    v21 = v12;
  }
  sub_42D570(&v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_46DDE0((int)this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_47CBD0(&v20);
  }
  v11 = *(const char **)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (const char **)sub_463EE0(v7);
  if ( StrCmp::operator()((StrCmp *)this, *v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_46DDE0((int)this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004607A0) --------------------------------------------------------
int __thiscall sub_4607A0(int *this, const char **a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_4625E0(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_462510(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00460800) --------------------------------------------------------
_DWORD *__thiscall sub_460800(int *this, _DWORD *a2, const char **a3)
{
  void *v3; // eax
  int v4; // eax
  const char **v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_4625B0(this, v12, a3);
  v3 = sub_482CA0(this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (const char **)sub_463EE0(v4), StrCmp::operator()((StrCmp *)this, *a3, *v5)) )
  {
    v7 = (char *)sub_482CA0(this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00460890) --------------------------------------------------------
void *__thiscall sub_460890(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (004608C0) --------------------------------------------------------
int __thiscall sub_4608C0(int *this)
{
  return sub_4626C0(this);
}

//----- (004608E0) --------------------------------------------------------
int __thiscall sub_4608E0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_462620(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00460940) --------------------------------------------------------
IPAddrMask *__thiscall sub_460940(int this, int *a2)
{
  unsigned int v2; // esi
  IPAddrMask *result; // eax
  IPAddrMask **v4; // eax
  int v6; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
  if ( v2 >= std::vector<IPAddrMask>::capacity((std::vector<IPAddrMask> *)this) )
  {
    v4 = (IPAddrMask **)sub_42EA00((int *)this, v7);
    result = (IPAddrMask *)sub_4627F0((int *)this, &v6, *v4, a2);
  }
  else
  {
    result = std::vector<IPAddrMask>::_Ufill(
               (std::vector<IPAddrMask> *)this,
               *(IPAddrMask **)(this + 8),
               1u,
               (const IPAddrMask *)a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (004609B0) --------------------------------------------------------
void *__thiscall sub_4609B0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_4628B0(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (004609E0) --------------------------------------------------------
int __thiscall sub_4609E0(int *this)
{
  return sub_462E40(this);
}

//----- (00460A20) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_460A20(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const void *a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_41BA00(this);
  v22 = this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_4628A0(v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_463EE0(v21);
    v3 = (_DWORD *)unknown_libname_21(a3);
    v23 = sub_417820(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)unknown_libname_21(v21);
    else
      v12 = *(_DWORD *)sub_41BA20(v21);
    v21 = v12;
  }
  sub_42D570(&v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_462A00(this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_4650D0(&v20);
  }
  v11 = (_DWORD *)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (_DWORD *)sub_463EE0(v7);
  if ( sub_417820(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_462A00(this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00460BD0) --------------------------------------------------------
int __thiscall sub_460BD0(int *this, _DWORD *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_4629C0(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  sub_46ABA0(v5, v6, &v7);
  sub_4628F0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00460C30) --------------------------------------------------------
_DWORD *__thiscall sub_460C30(int *this, _DWORD *a2, _DWORD *a3)
{
  void *v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_462990(this, v12, a3);
  v3 = sub_482CA0(this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (_DWORD *)sub_463EE0(v4), sub_417820(a3, v5)) )
  {
    v7 = (char *)sub_482CA0(this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00460CC0) --------------------------------------------------------
void *__thiscall sub_460CC0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_431540(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00460CF0) --------------------------------------------------------
int __thiscall sub_460CF0(int *this)
{
  return sub_4635B0(this);
}

//----- (00460D10) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_460D10(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const void *a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_41BA00(this);
  v22 = this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_463D30(v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_463EE0(v21);
    v3 = (_DWORD *)unknown_libname_21(a3);
    v23 = sub_417820(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)unknown_libname_21(v21);
    else
      v12 = *(_DWORD *)sub_41BA20(v21);
    v21 = v12;
  }
  sub_42D570(&v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_463040(this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_465130(&v20);
  }
  v11 = (_DWORD *)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (_DWORD *)sub_463EE0(v7);
  if ( sub_417820(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_463040(this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00460EC0) --------------------------------------------------------
int __thiscall sub_460EC0(int *this, int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_463DE0(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  sub_46ABD0(v5, v6, &v7);
  sub_462EF0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00460F20) --------------------------------------------------------
_DWORD *__thiscall sub_460F20(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_462FC0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00460F80) --------------------------------------------------------
void *__thiscall sub_460F80(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_463670(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00460FB0) --------------------------------------------------------
int __thiscall sub_460FB0(int *this)
{
  return sub_463C80(this);
}

//----- (00460FD0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_460FD0(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, _DWORD *a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_41BA00(this);
  v22 = this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_463660(v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_463EE0(v21);
    v3 = (_DWORD *)unknown_libname_21(a3);
    v23 = sub_417820(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)unknown_libname_21(v21);
    else
      v12 = *(_DWORD *)sub_41BA20(v21);
    v21 = v12;
  }
  sub_42D570(&v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_463840(this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_4650F0(&v20);
  }
  v11 = (_DWORD *)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (_DWORD *)sub_463EE0(v7);
  if ( sub_417820(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_463840(this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00461180) --------------------------------------------------------
int __thiscall sub_461180(int *this, _DWORD *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_463780(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  sub_46AC00(v5, v6, &v7);
  sub_4636B0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (004611E0) --------------------------------------------------------
_DWORD *__thiscall sub_4611E0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_4637C0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00461240) --------------------------------------------------------
_DWORD *__thiscall sub_461240(int *this, _DWORD *a2, _DWORD *a3)
{
  void *v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_463750(this, v12, a3);
  v3 = sub_482CA0(this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (_DWORD *)sub_463EE0(v4), sub_417820(a3, v5)) )
  {
    v7 = (char *)sub_482CA0(this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004612D0) --------------------------------------------------------
void *__thiscall sub_4612D0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_431540(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00461300) --------------------------------------------------------
int __thiscall sub_461300(int *this)
{
  return sub_463E20(this);
}

//----- (00461320) --------------------------------------------------------
int __thiscall sub_461320(int *this, int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_463DE0(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  sub_46AC30(v5, v6, &v7);
  sub_463D40(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00461380) --------------------------------------------------------
_DWORD *__thiscall sub_461380(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, _DWORD *a2, int *a3)
{
  void *v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_462F90(this, v12, a3);
  v3 = sub_482CA0((int *)this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (_DWORD *)sub_463EE0(v4), sub_417820(a3, v5)) )
  {
    v7 = (char *)sub_482CA0((int *)this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00461410) --------------------------------------------------------
void *__thiscall sub_461410(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_463F00(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00461440) --------------------------------------------------------
int __thiscall sub_461440(int *this)
{
  return sub_464510(this);
}

//----- (00461460) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_461460(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, const void *a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_41BA00(this);
  v22 = this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_463ED0(v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_463EE0(v21);
    v3 = (_DWORD *)unknown_libname_21(a3);
    v23 = sub_417820(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)unknown_libname_21(v21);
    else
      v12 = *(_DWORD *)sub_41BA20(v21);
    v21 = v12;
  }
  sub_42D570(&v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_4640D0(this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_465150(&v20);
  }
  v11 = (_DWORD *)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (_DWORD *)sub_463EE0(v7);
  if ( sub_417820(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_4640D0(this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00461610) --------------------------------------------------------
int __thiscall sub_461610(int *this, _DWORD *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_464010(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  sub_46AC60(v5, v6, &v7);
  sub_463F40(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00461670) --------------------------------------------------------
_DWORD *__thiscall sub_461670(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_464050(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (004616D0) --------------------------------------------------------
_DWORD *__thiscall sub_4616D0(int *this, _DWORD *a2, _DWORD *a3)
{
  void *v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_463FE0(this, v12, a3);
  v3 = sub_482CA0(this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (_DWORD *)sub_463EE0(v4), sub_417820(a3, v5)) )
  {
    v7 = (char *)sub_482CA0(this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00461760) --------------------------------------------------------
void *__thiscall sub_461760(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = unknown_libname_14(&v5);
  sub_4645E0(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00461790) --------------------------------------------------------
int __thiscall sub_461790(int *this)
{
  return sub_464E50(this);
}

//----- (004617B0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall sub_4617B0(int *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *a2, int a3)
{
  void *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v5; // eax
  int v7; // eax
  void *v8; // eax
  const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v9; // eax
  void *v10; // [esp-4h] [ebp-3Ch]
  void *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  char v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  char v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int v20; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  bool v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_41BA00(this);
  v22 = this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_4645D0(v21) )
  {
    v22 = v21;
    v10 = (void *)sub_463EE0(v21);
    v3 = (void *)unknown_libname_21(a3);
    v23 = sub_461960(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)unknown_libname_21(v21);
    else
      v12 = *(_DWORD *)sub_41BA20(v21);
    v21 = v12;
  }
  sub_42D570(&v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_25(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_464730(this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
        a2,
        v5,
        (const bool *)&v18);
      return a2;
    }
    sub_4651B0(&v20);
  }
  v11 = (void *)unknown_libname_21(a3);
  v7 = unknown_libname_10(&v20);
  v8 = (void *)sub_463EE0(v7);
  if ( sub_461960(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)sub_464730(this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      v9,
      (const bool *)&v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v20,
      &v14);
  }
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00461960) --------------------------------------------------------
bool __stdcall sub_461960(void *a1, void *a2)
{
  const char *v2; // eax
  const char *v4; // [esp-4h] [ebp-8h]

  v4 = (const char *)sub_4012C0(a2);
  v2 = (const char *)sub_4012C0(a1);
  return mbstricmp(v2, v4) < 0;
}

//----- (00461990) --------------------------------------------------------
_DWORD *__thiscall sub_461990(int *this, _DWORD *a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  void **v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  _DWORD v52[9]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_10(&a3);
  if ( *(_BYTE *)sub_4645D0(v3) )
  {
    std::string::string((std::string *)v51, "invalid map/set<T> iterator");
    v4 = sub_410270(v52, (const std::string *)v51);
    sub_40E570(v4);
    sub_4102A0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v52);
    sub_40E7C0((std::string *)v51);
  }
  v56 = (void *)unknown_libname_10(&a3);
  sub_465190(&a3);
  v54 = v56;
  v5 = (int *)unknown_libname_21(v56);
  if ( *(_BYTE *)sub_4645D0(*v5) )
  {
    v55 = *(void **)sub_41BA20((int)v54);
  }
  else
  {
    v6 = (int *)sub_41BA20((int)v54);
    if ( *(_BYTE *)sub_4645D0(*v6) )
    {
      v55 = *(void **)unknown_libname_21(v54);
    }
    else
    {
      v54 = (void *)unknown_libname_10(&a3);
      v55 = *(void **)sub_41BA20((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_465290((int)v56);
    if ( !*(_BYTE *)sub_4645D0((int)v55) )
    {
      v7 = (_DWORD *)sub_465290((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_41BA00(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_41BA00(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)unknown_libname_21(v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)unknown_libname_21(v53);
      else
        v11 = (_DWORD *)sub_41BA20((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_4653C0(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_4645D0((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_464CE0((int)v55);
      *(_DWORD *)sub_4653C0(this) = v49;
    }
    v13 = (void **)sub_465270(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_4645D0((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_464CA0((int)v55);
      *(_DWORD *)sub_465270(this) = v48;
    }
  }
  else
  {
    v14 = (int *)unknown_libname_21(v56);
    v15 = (_DWORD *)sub_465290(*v14);
    *v15 = v54;
    v16 = (_DWORD *)unknown_libname_21(v56);
    *(_DWORD *)unknown_libname_21(v54) = *v16;
    v17 = (void **)sub_41BA20((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_465290((int)v54);
      if ( !*(_BYTE *)sub_4645D0((int)v55) )
      {
        v18 = (_DWORD *)sub_465290((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)unknown_libname_21(v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_41BA20((int)v56);
      *(_DWORD *)sub_41BA20((int)v54) = *v20;
      v21 = (int *)sub_41BA20((int)v56);
      v22 = (_DWORD *)sub_465290(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_41BA00(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_41BA00(this);
      *v24 = v54;
    }
    else
    {
      v25 = (_DWORD *)sub_465290((int)v56);
      v26 = (void **)unknown_libname_21(*v25);
      if ( *v26 == v56 )
      {
        v27 = (_DWORD *)sub_465290((int)v56);
        v28 = (_DWORD *)unknown_libname_21(*v27);
      }
      else
      {
        v29 = (int *)sub_465290((int)v56);
        v28 = (_DWORD *)sub_41BA20(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_465290((int)v56);
    *(_DWORD *)sub_465290((int)v54) = *v30;
    v47 = (char *)sub_4645C0((int)v56);
    v31 = (char *)sub_4645C0((int)v54);
    std::swap<char>(v31, v47);
  }
  if ( *(_BYTE *)sub_4645C0((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_41BA00(this);
      if ( v55 == *v32 || *(_BYTE *)sub_4645C0((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_4645C0((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)unknown_libname_21(v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)unknown_libname_21(v53);
      if ( !*(_BYTE *)sub_4645C0((int)v54) )
      {
        *(_BYTE *)sub_4645C0((int)v54) = 1;
        *(_BYTE *)sub_4645C0((int)v53) = 0;
        sub_464D20(this, (int)v53);
        v54 = *(void **)unknown_libname_21(v53);
      }
      if ( !*(_BYTE *)sub_4645D0((int)v54) )
      {
        v40 = (int *)sub_41BA20((int)v54);
        if ( *(_BYTE *)sub_4645C0(*v40) != 1 || (v41 = (int *)unknown_libname_21(v54), *(_BYTE *)sub_4645C0(*v41) != 1) )
        {
          v42 = (int *)unknown_libname_21(v54);
          if ( *(_BYTE *)sub_4645C0(*v42) == 1 )
          {
            v43 = (int *)sub_41BA20((int)v54);
            *(_BYTE *)sub_4645C0(*v43) = 1;
            *(_BYTE *)sub_4645C0((int)v54) = 0;
            sub_464B70(this, (int)v54);
            v54 = *(void **)unknown_libname_21(v53);
          }
          v44 = (_BYTE *)sub_4645C0((int)v53);
          *(_BYTE *)sub_4645C0((int)v54) = *v44;
          *(_BYTE *)sub_4645C0((int)v53) = 1;
          v45 = (int *)unknown_libname_21(v54);
          *(_BYTE *)sub_4645C0(*v45) = 1;
          sub_464D20(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_4645C0((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_465290((int)v55);
    }
    v54 = *(void **)sub_41BA20((int)v53);
    if ( !*(_BYTE *)sub_4645C0((int)v54) )
    {
      *(_BYTE *)sub_4645C0((int)v54) = 1;
      *(_BYTE *)sub_4645C0((int)v53) = 0;
      sub_464B70(this, (int)v53);
      v54 = *(void **)sub_41BA20((int)v53);
    }
    if ( *(_BYTE *)sub_4645D0((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)unknown_libname_21(v54);
    if ( *(_BYTE *)sub_4645C0(*v34) != 1 || (v35 = (int *)sub_41BA20((int)v54), *(_BYTE *)sub_4645C0(*v35) != 1) )
    {
      v36 = (int *)sub_41BA20((int)v54);
      if ( *(_BYTE *)sub_4645C0(*v36) == 1 )
      {
        v37 = (int *)unknown_libname_21(v54);
        *(_BYTE *)sub_4645C0(*v37) = 1;
        *(_BYTE *)sub_4645C0((int)v54) = 0;
        sub_464D20(this, (int)v54);
        v54 = *(void **)sub_41BA20((int)v53);
      }
      v38 = (_BYTE *)sub_4645C0((int)v53);
      *(_BYTE *)sub_4645C0((int)v54) = *v38;
      *(_BYTE *)sub_4645C0((int)v53) = 1;
      v39 = (int *)sub_41BA20((int)v54);
      *(_BYTE *)sub_4645C0(*v39) = 1;
      sub_464B70(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_464F00(v56);
  sub_441930(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00462120) --------------------------------------------------------
int __thiscall sub_462120(int *this, void *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_4646F0(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  sub_46AC90(v5, v6, &v7);
  sub_464620(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00462180) --------------------------------------------------------
_DWORD *__thiscall sub_462180(int *this, _DWORD *a2, void *a3)
{
  void *v3; // eax
  int v4; // eax
  void *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_4646C0(this, v12, a3);
  v3 = sub_482CA0(this, v10);
  if ( (unsigned __int8)unknown_libname_25(v3)
    || (v4 = unknown_libname_10(v12), v5 = (void *)sub_463EE0(v4), sub_461960(a3, v5)) )
  {
    v7 = (char *)sub_482CA0(this, v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00462210) --------------------------------------------------------
void *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(_DWORD *this, void *a2)
{
  int *v2; // eax

  v2 = (int *)unknown_libname_21(this[1]);
  sub_42D570(a2, *v2);
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00462240) --------------------------------------------------------
bool __thiscall sub_462240(_DWORD *this)
{
  return this[2] == 0;
}

//----- (00462260) --------------------------------------------------------
CMemory ***__thiscall sub_462260(int *this, const void *a2)
{
  _DWORD *v2; // eax
  char v5[4]; // [esp+4h] [ebp-4h] BYREF

  v2 = sub_482CA0(this, v5);
  return sub_464F20(this, *v2, a2);
}

//----- (00462290) --------------------------------------------------------
_DWORD *__thiscall sub_462290(int *this)
{
  int *v1; // eax
  int *v2; // eax
  int v5; // [esp+4h] [ebp-8h] BYREF
  char v6[4]; // [esp+8h] [ebp-4h] BYREF

  v1 = (int *)sub_482CA0(this, v6);
  v2 = sub_465170(v1);
  return std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::erase(
           (int)this,
           &v5,
           *v2);
}

//----- (004622C0) --------------------------------------------------------
int *__thiscall sub_4622C0(_DWORD *this, int *a2, char a3, const void *a4)
{
  sub_464F20(this, a3, a4);
  *a2 = *sub_465170((int *)&a3);
  return a2;
}

//----- (004622F0) --------------------------------------------------------
_DWORD *__thiscall sub_4622F0(_DWORD *this, _DWORD *a2, const void *a3)
{
  *this = *a2;
  qmemcpy(this + 1, a3, 0x17u);
  return this;
}

//----- (00462330) --------------------------------------------------------
int *__thiscall sub_462330(int *this, int *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_4650B0(this);
  *a2 = v4;
  return a2;
}

//----- (00462360) --------------------------------------------------------
_DWORD *__thiscall sub_462360(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  int v3; // edx

  *this = *a2;
  v3 = a3[1];
  this[1] = *a3;
  this[2] = v3;
  return this;
}

//----- (00462390) --------------------------------------------------------
_DWORD *__thiscall sub_462390(_DWORD *this, _DWORD *a2, const void *a3)
{
  *this = *a2;
  qmemcpy(this + 1, a3, 0x1Bu);
  return this;
}

//----- (004623D0) --------------------------------------------------------
_DWORD *__thiscall sub_4623D0(_DWORD *this, _DWORD *a2, const void *a3)
{
  *this = *a2;
  qmemcpy(this + 1, a3, 0x1Cu);
  return this;
}

//----- (00462400) --------------------------------------------------------
_DWORD *__thiscall sub_462400(_DWORD *this, _DWORD *a2, const void *a3)
{
  *this = *a2;
  qmemcpy(this + 1, a3, 0x60u);
  return this;
}

//----- (00462430) --------------------------------------------------------
int __thiscall sub_462430(int this, const std::string *a2, _DWORD *a3)
{
  std::string::string((std::string *)this, a2);
  *(_DWORD *)(this + 28) = *a3;
  *(_DWORD *)(this + 32) = a3[1];
  *(_DWORD *)(this + 36) = a3[2];
  *(_DWORD *)(this + 40) = a3[3];
  return this;
}

//----- (00462470) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_462470(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_465210((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00462510) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_462510(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_4652A0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004625B0) --------------------------------------------------------
void *__thiscall sub_4625B0(int *this, void *a2, const char **a3)
{
  int v3; // eax

  v3 = sub_465330(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (004625E0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_4625E0(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, const char **a3)
{
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v3; // eax
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_465300(this, v8, a3);
  v3 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_4625B0(this, v7, a3);
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(
    a2,
    v3,
    v5);
  return a2;
}

//----- (00462620) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_462620(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_465B70((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004626C0) --------------------------------------------------------
int __thiscall sub_4626C0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_462620(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00462770) --------------------------------------------------------
int __thiscall std::vector<IPAddrMask>::capacity(std::vector<IPAddrMask> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 3;
  else
    v2 = 0;
  return v2;
}

//----- (004627B0) --------------------------------------------------------
int __thiscall std::vector<IPAddrMask>::size(std::vector<IPAddrMask> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 2) - *((_DWORD *)this + 1)) >> 3;
  else
    v2 = 0;
  return v2;
}

//----- (004627F0) --------------------------------------------------------
_DWORD *__thiscall sub_4627F0(int *this, _DWORD *a2, IPAddrMask *a3, int *a4)
{
  _DWORD *v4; // eax
  int v6; // [esp-4h] [ebp-18h]
  int v7; // [esp+0h] [ebp-14h]
  char v9[4]; // [esp+8h] [ebp-Ch] BYREF
  char v10[4]; // [esp+Ch] [ebp-8h] BYREF
  int v11; // [esp+10h] [ebp-4h]

  if ( std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
  {
    v4 = sub_482CA0(this, v10);
    v7 = sub_43F2D0((int *)&a3, v4);
  }
  else
  {
    v7 = 0;
  }
  v11 = v7;
  sub_465BD0((int)this, a3, 1u, a4);
  v6 = v11;
  sub_482CA0(this, v9);
  sub_42F810(a2, v6);
  return a2;
}

//----- (00462870) --------------------------------------------------------
IPAddrMask *__thiscall std::vector<IPAddrMask>::_Ufill(std::vector<IPAddrMask> *this, IPAddrMask *_Ptr, unsigned int _Count, const IPAddrMask *_Val)
{
  sub_43F5A0(_Ptr, _Count, (int)_Val);
  return (IPAddrMask *)((char *)_Ptr + 8 * _Count);
}

//----- (004628A0) --------------------------------------------------------
int __cdecl sub_4628A0(int a1)
{
  return a1 + 41;
}

//----- (004628B0) --------------------------------------------------------
void *__thiscall sub_4628B0(void *this, _BYTE *a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  unknown_libname_20(a3);
  std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    a2,
    v4);
  sub_466750((int *)this);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (004628F0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4628F0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_4666C0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_462330(&a3, &v10, 0);
      sub_465F30((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00462990) --------------------------------------------------------
void *__thiscall sub_462990(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_4667C0(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (004629C0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_4629C0(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, _DWORD *a3)
{
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v3; // eax
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_466720(this, v8, a3);
  v3 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_462990(this, v7, a3);
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(
    a2,
    v3,
    v5);
  return a2;
}

//----- (00462A00) --------------------------------------------------------
void *__thiscall sub_462A00(int *this, void *a2, char a3, int a4, const void *a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  _DWORD *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  char v42[28]; // [esp+8h] [ebp-48h] BYREF
  char v43[36]; // [esp+24h] [ebp-2Ch] BYREF
  CMemory **v44; // [esp+48h] [ebp-8h]
  CMemory **v45; // [esp+4Ch] [ebp-4h]
  int v46; // [esp+60h] [ebp+10h]

  if ( sub_465F10((int)this) - 1 <= this[2] )
  {
    std::string::string((std::string *)v42, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)v43, (const std::string *)v42);
    sub_40E570(v5);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v43);
    sub_40E7C0((std::string *)v42);
  }
  v45 = sub_466AB0(this[1], a4, this[1], a5, 0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_41BA00(this);
    *v6 = v45;
    v7 = (CMemory ***)sub_4653C0(this);
    *v7 = v45;
    v8 = (CMemory ***)sub_465270(this);
    *v8 = v45;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)unknown_libname_21(a4);
    *v9 = v45;
    if ( a4 == *(_DWORD *)sub_4653C0(this) )
    {
      v10 = (CMemory ***)sub_4653C0(this);
      *v10 = v45;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_41BA20(a4);
    *v11 = v45;
    if ( a4 == *(_DWORD *)sub_465270(this) )
    {
      v12 = (CMemory ***)sub_465270(this);
      *v12 = v45;
    }
  }
  v44 = v45;
  while ( 1 )
  {
    v13 = (int *)sub_465290((int)v44);
    if ( *(_BYTE *)sub_465F00(*v13) )
      break;
    v14 = (_DWORD *)sub_465290((int)v44);
    v15 = (int *)sub_465290((int)v44);
    v16 = (_DWORD *)sub_465290(*v15);
    if ( *v14 == *(_DWORD *)unknown_libname_21(*v16) )
    {
      v17 = (int *)sub_465290((int)v44);
      v18 = (int *)sub_465290(*v17);
      v46 = *(_DWORD *)sub_41BA20(*v18);
      if ( !*(_BYTE *)sub_465F00(v46) )
        goto LABEL_15;
      v23 = (int *)sub_465290((int)v44);
      v24 = (CMemory ***)sub_41BA20(*v23);
      if ( v44 == *v24 )
      {
        v44 = *(CMemory ***)sub_465290((int)v44);
        sub_466850(this, (int)v44);
      }
      v25 = (int *)sub_465290((int)v44);
      *(_BYTE *)sub_465F00(*v25) = 1;
      v26 = (int *)sub_465290((int)v44);
      v27 = (int *)sub_465290(*v26);
      *(_BYTE *)sub_465F00(*v27) = 0;
      v28 = (int *)sub_465290((int)v44);
      v29 = (int *)sub_465290(*v28);
      sub_466980(this, *v29);
    }
    else
    {
      v30 = (int *)sub_465290((int)v44);
      v31 = (_DWORD *)sub_465290(*v30);
      v46 = *(_DWORD *)unknown_libname_21(*v31);
      if ( *(_BYTE *)sub_465F00(v46) )
      {
        v32 = (_DWORD *)sub_465290((int)v44);
        v33 = (CMemory ***)unknown_libname_21(*v32);
        if ( v44 == *v33 )
        {
          v44 = *(CMemory ***)sub_465290((int)v44);
          sub_466980(this, (int)v44);
        }
        v34 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_465F00(*v34) = 1;
        v35 = (int *)sub_465290((int)v44);
        v36 = (int *)sub_465290(*v35);
        *(_BYTE *)sub_465F00(*v36) = 0;
        v37 = (int *)sub_465290((int)v44);
        v38 = (int *)sub_465290(*v37);
        sub_466850(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_465F00(*v19) = 1;
        *(_BYTE *)sub_465F00(v46) = 1;
        v20 = (int *)sub_465290((int)v44);
        v21 = (int *)sub_465290(*v20);
        *(_BYTE *)sub_465F00(*v21) = 0;
        v22 = (int *)sub_465290((int)v44);
        v44 = *(CMemory ***)sub_465290(*v22);
      }
    }
  }
  v39 = (int *)sub_41BA00(this);
  *(_BYTE *)sub_465F00(*v39) = 1;
  sub_42D570(a2, (int)v45);
  return a2;
}
// 462A38: variable 'v5' is possibly undefined
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00462E40) --------------------------------------------------------
int __thiscall sub_462E40(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4628F0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00462EF0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_462EF0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_460F20((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_431F10(&a3, &v10, 0);
      sub_467720((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00462F90) --------------------------------------------------------
void *__thiscall sub_462F90(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, void *a2, const int *a3)
{
  std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *v3; // eax

  v3 = std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Lbound(
         this,
         a3);
  sub_42D570(a2, (int)v3);
  return a2;
}

//----- (00462FC0) --------------------------------------------------------
int __stdcall sub_462FC0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_463D30((int)a1); ; i = (char *)sub_463D30(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_462FC0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00463040) --------------------------------------------------------
void *__thiscall sub_463040(int *this, void *a2, char a3, int a4, const void *a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  _DWORD *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  char v42[28]; // [esp+8h] [ebp-48h] BYREF
  char v43[36]; // [esp+24h] [ebp-2Ch] BYREF
  CMemory **v44; // [esp+48h] [ebp-8h]
  CMemory **v45; // [esp+4Ch] [ebp-4h]
  int v46; // [esp+60h] [ebp+10h]

  if ( sub_466B30() - 1 <= (unsigned int)this[2] )
  {
    std::string::string((std::string *)v42, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)v43, (const std::string *)v42);
    sub_40E570(v5);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v43);
    sub_40E7C0((std::string *)v42);
  }
  v45 = sub_468070(this[1], a4, this[1], a5, 0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_41BA00(this);
    *v6 = v45;
    v7 = (CMemory ***)sub_4653C0(this);
    *v7 = v45;
    v8 = (CMemory ***)sub_465270(this);
    *v8 = v45;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)unknown_libname_21(a4);
    *v9 = v45;
    if ( a4 == *(_DWORD *)sub_4653C0(this) )
    {
      v10 = (CMemory ***)sub_4653C0(this);
      *v10 = v45;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_41BA20(a4);
    *v11 = v45;
    if ( a4 == *(_DWORD *)sub_465270(this) )
    {
      v12 = (CMemory ***)sub_465270(this);
      *v12 = v45;
    }
  }
  v44 = v45;
  while ( 1 )
  {
    v13 = (int *)sub_465290((int)v44);
    if ( *(_BYTE *)sub_431160(*v13) )
      break;
    v14 = (_DWORD *)sub_465290((int)v44);
    v15 = (int *)sub_465290((int)v44);
    v16 = (_DWORD *)sub_465290(*v15);
    if ( *v14 == *(_DWORD *)unknown_libname_21(*v16) )
    {
      v17 = (int *)sub_465290((int)v44);
      v18 = (int *)sub_465290(*v17);
      v46 = *(_DWORD *)sub_41BA20(*v18);
      if ( !*(_BYTE *)sub_431160(v46) )
        goto LABEL_15;
      v23 = (int *)sub_465290((int)v44);
      v24 = (CMemory ***)sub_41BA20(*v23);
      if ( v44 == *v24 )
      {
        v44 = *(CMemory ***)sub_465290((int)v44);
        sub_463480(this, (int)v44);
      }
      v25 = (int *)sub_465290((int)v44);
      *(_BYTE *)sub_431160(*v25) = 1;
      v26 = (int *)sub_465290((int)v44);
      v27 = (int *)sub_465290(*v26);
      *(_BYTE *)sub_431160(*v27) = 0;
      v28 = (int *)sub_465290((int)v44);
      v29 = (int *)sub_465290(*v28);
      sub_467F40(this, *v29);
    }
    else
    {
      v30 = (int *)sub_465290((int)v44);
      v31 = (_DWORD *)sub_465290(*v30);
      v46 = *(_DWORD *)unknown_libname_21(*v31);
      if ( *(_BYTE *)sub_431160(v46) )
      {
        v32 = (_DWORD *)sub_465290((int)v44);
        v33 = (CMemory ***)unknown_libname_21(*v32);
        if ( v44 == *v33 )
        {
          v44 = *(CMemory ***)sub_465290((int)v44);
          sub_467F40(this, (int)v44);
        }
        v34 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_431160(*v34) = 1;
        v35 = (int *)sub_465290((int)v44);
        v36 = (int *)sub_465290(*v35);
        *(_BYTE *)sub_431160(*v36) = 0;
        v37 = (int *)sub_465290((int)v44);
        v38 = (int *)sub_465290(*v37);
        sub_463480(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_431160(*v19) = 1;
        *(_BYTE *)sub_431160(v46) = 1;
        v20 = (int *)sub_465290((int)v44);
        v21 = (int *)sub_465290(*v20);
        *(_BYTE *)sub_431160(*v21) = 0;
        v22 = (int *)sub_465290((int)v44);
        v44 = *(CMemory ***)sub_465290(*v22);
      }
    }
  }
  v39 = (int *)sub_41BA00(this);
  *(_BYTE *)sub_431160(*v39) = 1;
  sub_42D570(a2, (int)v45);
  return a2;
}
// 463078: variable 'v5' is possibly undefined
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00463480) --------------------------------------------------------
int *__thiscall sub_463480(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_41BA20(a2);
  v2 = (_DWORD *)unknown_libname_21(v11);
  *(_DWORD *)sub_41BA20(a2) = *v2;
  v3 = (int *)unknown_libname_21(v11);
  if ( !*(_BYTE *)sub_463D30(*v3) )
  {
    v4 = (int *)unknown_libname_21(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (_DWORD *)sub_465290(a2);
    if ( a2 == *(_DWORD *)unknown_libname_21(*v6) )
    {
      v7 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v8) = v11;
    }
  }
  *(_DWORD *)unknown_libname_21(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004635B0) --------------------------------------------------------
int __thiscall sub_4635B0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_462EF0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00463660) --------------------------------------------------------
int __cdecl sub_463660(int a1)
{
  return a1 + 25;
}

//----- (00463670) --------------------------------------------------------
void *__thiscall sub_463670(void *this, _BYTE *a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  unknown_libname_20(a3);
  std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    a2,
    v4);
  sub_467340((int *)this);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (004636B0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4636B0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_4611E0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_469030(&a3, &v10, 0);
      sub_466B80((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00463750) --------------------------------------------------------
void *__thiscall sub_463750(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_4673B0(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (00463780) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_463780(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, _DWORD *a3)
{
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v3; // eax
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_467310(this, v8, a3);
  v3 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_463750(this, v7, a3);
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(
    a2,
    v3,
    v5);
  return a2;
}

//----- (004637C0) --------------------------------------------------------
int __stdcall sub_4637C0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_463660((int)a1); ; i = (char *)sub_463660(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_4637C0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00463840) --------------------------------------------------------
void *__thiscall sub_463840(int *this, void *a2, char a3, int a4, _DWORD *a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  _DWORD *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  char v42[28]; // [esp+8h] [ebp-48h] BYREF
  char v43[36]; // [esp+24h] [ebp-2Ch] BYREF
  CMemory **v44; // [esp+48h] [ebp-8h]
  CMemory **v45; // [esp+4Ch] [ebp-4h]
  int v46; // [esp+60h] [ebp+10h]

  if ( sub_466B60((int)this) - 1 <= this[2] )
  {
    std::string::string((std::string *)v42, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)v43, (const std::string *)v42);
    sub_40E570(v5);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v43);
    sub_40E7C0((std::string *)v42);
  }
  v45 = sub_4676A0(this[1], a4, this[1], a5, 0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_41BA00(this);
    *v6 = v45;
    v7 = (CMemory ***)sub_4653C0(this);
    *v7 = v45;
    v8 = (CMemory ***)sub_465270(this);
    *v8 = v45;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)unknown_libname_21(a4);
    *v9 = v45;
    if ( a4 == *(_DWORD *)sub_4653C0(this) )
    {
      v10 = (CMemory ***)sub_4653C0(this);
      *v10 = v45;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_41BA20(a4);
    *v11 = v45;
    if ( a4 == *(_DWORD *)sub_465270(this) )
    {
      v12 = (CMemory ***)sub_465270(this);
      *v12 = v45;
    }
  }
  v44 = v45;
  while ( 1 )
  {
    v13 = (int *)sub_465290((int)v44);
    if ( *(_BYTE *)sub_466B50(*v13) )
      break;
    v14 = (_DWORD *)sub_465290((int)v44);
    v15 = (int *)sub_465290((int)v44);
    v16 = (_DWORD *)sub_465290(*v15);
    if ( *v14 == *(_DWORD *)unknown_libname_21(*v16) )
    {
      v17 = (int *)sub_465290((int)v44);
      v18 = (int *)sub_465290(*v17);
      v46 = *(_DWORD *)sub_41BA20(*v18);
      if ( !*(_BYTE *)sub_466B50(v46) )
        goto LABEL_15;
      v23 = (int *)sub_465290((int)v44);
      v24 = (CMemory ***)sub_41BA20(*v23);
      if ( v44 == *v24 )
      {
        v44 = *(CMemory ***)sub_465290((int)v44);
        sub_467440(this, (int)v44);
      }
      v25 = (int *)sub_465290((int)v44);
      *(_BYTE *)sub_466B50(*v25) = 1;
      v26 = (int *)sub_465290((int)v44);
      v27 = (int *)sub_465290(*v26);
      *(_BYTE *)sub_466B50(*v27) = 0;
      v28 = (int *)sub_465290((int)v44);
      v29 = (int *)sub_465290(*v28);
      sub_467570(this, *v29);
    }
    else
    {
      v30 = (int *)sub_465290((int)v44);
      v31 = (_DWORD *)sub_465290(*v30);
      v46 = *(_DWORD *)unknown_libname_21(*v31);
      if ( *(_BYTE *)sub_466B50(v46) )
      {
        v32 = (_DWORD *)sub_465290((int)v44);
        v33 = (CMemory ***)unknown_libname_21(*v32);
        if ( v44 == *v33 )
        {
          v44 = *(CMemory ***)sub_465290((int)v44);
          sub_467570(this, (int)v44);
        }
        v34 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_466B50(*v34) = 1;
        v35 = (int *)sub_465290((int)v44);
        v36 = (int *)sub_465290(*v35);
        *(_BYTE *)sub_466B50(*v36) = 0;
        v37 = (int *)sub_465290((int)v44);
        v38 = (int *)sub_465290(*v37);
        sub_467440(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_466B50(*v19) = 1;
        *(_BYTE *)sub_466B50(v46) = 1;
        v20 = (int *)sub_465290((int)v44);
        v21 = (int *)sub_465290(*v20);
        *(_BYTE *)sub_466B50(*v21) = 0;
        v22 = (int *)sub_465290((int)v44);
        v44 = *(CMemory ***)sub_465290(*v22);
      }
    }
  }
  v39 = (int *)sub_41BA00(this);
  *(_BYTE *)sub_466B50(*v39) = 1;
  sub_42D570(a2, (int)v45);
  return a2;
}
// 463878: variable 'v5' is possibly undefined
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00463C80) --------------------------------------------------------
int __thiscall sub_463C80(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4636B0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00463D30) --------------------------------------------------------
int __cdecl sub_463D30(int a1)
{
  return a1 + 45;
}

//----- (00463D40) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_463D40(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_467EB0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_431F10(&a3, &v10, 0);
      sub_467720((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00463DE0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_463DE0(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, int *a3)
{
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v3; // eax
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_467F10(this, v8, a3);
  v3 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_462F90((std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)this, v7, a3);
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(
    a2,
    v3,
    v5);
  return a2;
}

//----- (00463E20) --------------------------------------------------------
int __thiscall sub_463E20(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_463D40(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00463ED0) --------------------------------------------------------
int __cdecl sub_463ED0(int a1)
{
  return a1 + 113;
}

//----- (00463EE0) --------------------------------------------------------
int __cdecl sub_463EE0(int a1)
{
  int v1; // eax

  v1 = sub_4651E0(a1);
  return unknown_libname_21(v1);
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00463F00) --------------------------------------------------------
void *__thiscall sub_463F00(void *this, _BYTE *a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  unknown_libname_20(a3);
  std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    a2,
    v4);
  sub_4688E0((int *)this);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (00463F40) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_463F40(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_461670((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_4690C0(&a3, &v10, 0);
      sub_468120((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00463FE0) --------------------------------------------------------
void *__thiscall sub_463FE0(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_468950(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (00464010) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_464010(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, _DWORD *a3)
{
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v3; // eax
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_4688B0(this, v8, a3);
  v3 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_463FE0(this, v7, a3);
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(
    a2,
    v3,
    v5);
  return a2;
}

//----- (00464050) --------------------------------------------------------
int __stdcall sub_464050(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_463ED0((int)a1); ; i = (char *)sub_463ED0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_464050(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004640D0) --------------------------------------------------------
void *__thiscall sub_4640D0(int *this, void *a2, char a3, int a4, const void *a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  _DWORD *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  char v42[28]; // [esp+8h] [ebp-48h] BYREF
  char v43[36]; // [esp+24h] [ebp-2Ch] BYREF
  CMemory **v44; // [esp+48h] [ebp-8h]
  CMemory **v45; // [esp+4Ch] [ebp-4h]
  int v46; // [esp+60h] [ebp+10h]

  if ( sub_468100() - 1 <= (unsigned int)this[2] )
  {
    std::string::string((std::string *)v42, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)v43, (const std::string *)v42);
    sub_40E570(v5);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v43);
    sub_40E7C0((std::string *)v42);
  }
  v45 = sub_468C40(this[1], a4, this[1], a5, 0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_41BA00(this);
    *v6 = v45;
    v7 = (CMemory ***)sub_4653C0(this);
    *v7 = v45;
    v8 = (CMemory ***)sub_465270(this);
    *v8 = v45;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)unknown_libname_21(a4);
    *v9 = v45;
    if ( a4 == *(_DWORD *)sub_4653C0(this) )
    {
      v10 = (CMemory ***)sub_4653C0(this);
      *v10 = v45;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_41BA20(a4);
    *v11 = v45;
    if ( a4 == *(_DWORD *)sub_465270(this) )
    {
      v12 = (CMemory ***)sub_465270(this);
      *v12 = v45;
    }
  }
  v44 = v45;
  while ( 1 )
  {
    v13 = (int *)sub_465290((int)v44);
    if ( *(_BYTE *)sub_4680F0(*v13) )
      break;
    v14 = (_DWORD *)sub_465290((int)v44);
    v15 = (int *)sub_465290((int)v44);
    v16 = (_DWORD *)sub_465290(*v15);
    if ( *v14 == *(_DWORD *)unknown_libname_21(*v16) )
    {
      v17 = (int *)sub_465290((int)v44);
      v18 = (int *)sub_465290(*v17);
      v46 = *(_DWORD *)sub_41BA20(*v18);
      if ( !*(_BYTE *)sub_4680F0(v46) )
        goto LABEL_15;
      v23 = (int *)sub_465290((int)v44);
      v24 = (CMemory ***)sub_41BA20(*v23);
      if ( v44 == *v24 )
      {
        v44 = *(CMemory ***)sub_465290((int)v44);
        sub_4689E0(this, (int)v44);
      }
      v25 = (int *)sub_465290((int)v44);
      *(_BYTE *)sub_4680F0(*v25) = 1;
      v26 = (int *)sub_465290((int)v44);
      v27 = (int *)sub_465290(*v26);
      *(_BYTE *)sub_4680F0(*v27) = 0;
      v28 = (int *)sub_465290((int)v44);
      v29 = (int *)sub_465290(*v28);
      sub_468B10(this, *v29);
    }
    else
    {
      v30 = (int *)sub_465290((int)v44);
      v31 = (_DWORD *)sub_465290(*v30);
      v46 = *(_DWORD *)unknown_libname_21(*v31);
      if ( *(_BYTE *)sub_4680F0(v46) )
      {
        v32 = (_DWORD *)sub_465290((int)v44);
        v33 = (CMemory ***)unknown_libname_21(*v32);
        if ( v44 == *v33 )
        {
          v44 = *(CMemory ***)sub_465290((int)v44);
          sub_468B10(this, (int)v44);
        }
        v34 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_4680F0(*v34) = 1;
        v35 = (int *)sub_465290((int)v44);
        v36 = (int *)sub_465290(*v35);
        *(_BYTE *)sub_4680F0(*v36) = 0;
        v37 = (int *)sub_465290((int)v44);
        v38 = (int *)sub_465290(*v37);
        sub_4689E0(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_4680F0(*v19) = 1;
        *(_BYTE *)sub_4680F0(v46) = 1;
        v20 = (int *)sub_465290((int)v44);
        v21 = (int *)sub_465290(*v20);
        *(_BYTE *)sub_4680F0(*v21) = 0;
        v22 = (int *)sub_465290((int)v44);
        v44 = *(CMemory ***)sub_465290(*v22);
      }
    }
  }
  v39 = (int *)sub_41BA00(this);
  *(_BYTE *)sub_4680F0(*v39) = 1;
  sub_42D570(a2, (int)v45);
  return a2;
}
// 464108: variable 'v5' is possibly undefined
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00464510) --------------------------------------------------------
int __thiscall sub_464510(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_463F40(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004645C0) --------------------------------------------------------
int __cdecl sub_4645C0(int a1)
{
  return a1 + 56;
}

//----- (004645D0) --------------------------------------------------------
int __cdecl sub_4645D0(int a1)
{
  return a1 + 57;
}

//----- (004645E0) --------------------------------------------------------
void *__thiscall sub_4645E0(void *this, _BYTE *a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  unknown_libname_20(a3);
  std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    a2,
    v4);
  sub_468D70((int *)this);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (00464620) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_464620(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_468CE0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_469140(&a3, &v10, 0);
      sub_461990((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004646C0) --------------------------------------------------------
void *__thiscall sub_4646C0(int *this, void *a2, void *a3)
{
  int v3; // eax

  v3 = sub_468DE0(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (004646F0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall sub_4646F0(int *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *a2, void *a3)
{
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v3; // eax
  const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_468D40(this, v8, a3);
  v3 = (const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)sub_4646C0(this, v7, a3);
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(
    a2,
    v3,
    v5);
  return a2;
}

//----- (00464730) --------------------------------------------------------
void *__thiscall sub_464730(int *this, void *a2, char a3, int a4, int a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  _DWORD *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  char v42[28]; // [esp+8h] [ebp-48h] BYREF
  char v43[36]; // [esp+24h] [ebp-2Ch] BYREF
  CMemory **v44; // [esp+48h] [ebp-8h]
  CMemory **v45; // [esp+4Ch] [ebp-4h]
  int v46; // [esp+60h] [ebp+10h]

  if ( sub_468CC0() - 1 <= (unsigned int)this[2] )
  {
    std::string::string((std::string *)v42, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)v43, (const std::string *)v42);
    sub_40E570(v5);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v43);
    sub_40E7C0((std::string *)v42);
  }
  v45 = sub_468E70(this[1], a4, this[1], a5, 0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_41BA00(this);
    *v6 = v45;
    v7 = (CMemory ***)sub_4653C0(this);
    *v7 = v45;
    v8 = (CMemory ***)sub_465270(this);
    *v8 = v45;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)unknown_libname_21(a4);
    *v9 = v45;
    if ( a4 == *(_DWORD *)sub_4653C0(this) )
    {
      v10 = (CMemory ***)sub_4653C0(this);
      *v10 = v45;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_41BA20(a4);
    *v11 = v45;
    if ( a4 == *(_DWORD *)sub_465270(this) )
    {
      v12 = (CMemory ***)sub_465270(this);
      *v12 = v45;
    }
  }
  v44 = v45;
  while ( 1 )
  {
    v13 = (int *)sub_465290((int)v44);
    if ( *(_BYTE *)sub_4645C0(*v13) )
      break;
    v14 = (_DWORD *)sub_465290((int)v44);
    v15 = (int *)sub_465290((int)v44);
    v16 = (_DWORD *)sub_465290(*v15);
    if ( *v14 == *(_DWORD *)unknown_libname_21(*v16) )
    {
      v17 = (int *)sub_465290((int)v44);
      v18 = (int *)sub_465290(*v17);
      v46 = *(_DWORD *)sub_41BA20(*v18);
      if ( !*(_BYTE *)sub_4645C0(v46) )
        goto LABEL_15;
      v23 = (int *)sub_465290((int)v44);
      v24 = (CMemory ***)sub_41BA20(*v23);
      if ( v44 == *v24 )
      {
        v44 = *(CMemory ***)sub_465290((int)v44);
        sub_464B70(this, (int)v44);
      }
      v25 = (int *)sub_465290((int)v44);
      *(_BYTE *)sub_4645C0(*v25) = 1;
      v26 = (int *)sub_465290((int)v44);
      v27 = (int *)sub_465290(*v26);
      *(_BYTE *)sub_4645C0(*v27) = 0;
      v28 = (int *)sub_465290((int)v44);
      v29 = (int *)sub_465290(*v28);
      sub_464D20(this, *v29);
    }
    else
    {
      v30 = (int *)sub_465290((int)v44);
      v31 = (_DWORD *)sub_465290(*v30);
      v46 = *(_DWORD *)unknown_libname_21(*v31);
      if ( *(_BYTE *)sub_4645C0(v46) )
      {
        v32 = (_DWORD *)sub_465290((int)v44);
        v33 = (CMemory ***)unknown_libname_21(*v32);
        if ( v44 == *v33 )
        {
          v44 = *(CMemory ***)sub_465290((int)v44);
          sub_464D20(this, (int)v44);
        }
        v34 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_4645C0(*v34) = 1;
        v35 = (int *)sub_465290((int)v44);
        v36 = (int *)sub_465290(*v35);
        *(_BYTE *)sub_4645C0(*v36) = 0;
        v37 = (int *)sub_465290((int)v44);
        v38 = (int *)sub_465290(*v37);
        sub_464B70(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_465290((int)v44);
        *(_BYTE *)sub_4645C0(*v19) = 1;
        *(_BYTE *)sub_4645C0(v46) = 1;
        v20 = (int *)sub_465290((int)v44);
        v21 = (int *)sub_465290(*v20);
        *(_BYTE *)sub_4645C0(*v21) = 0;
        v22 = (int *)sub_465290((int)v44);
        v44 = *(CMemory ***)sub_465290(*v22);
      }
    }
  }
  v39 = (int *)sub_41BA00(this);
  *(_BYTE *)sub_4645C0(*v39) = 1;
  sub_42D570(a2, (int)v45);
  return a2;
}
// 464768: variable 'v5' is possibly undefined
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00464B70) --------------------------------------------------------
int *__thiscall sub_464B70(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_41BA20(a2);
  v2 = (_DWORD *)unknown_libname_21(v11);
  *(_DWORD *)sub_41BA20(a2) = *v2;
  v3 = (int *)unknown_libname_21(v11);
  if ( !*(_BYTE *)sub_4645D0(*v3) )
  {
    v4 = (int *)unknown_libname_21(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (_DWORD *)sub_465290(a2);
    if ( a2 == *(_DWORD *)unknown_libname_21(*v6) )
    {
      v7 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v8) = v11;
    }
  }
  *(_DWORD *)unknown_libname_21(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00464CA0) --------------------------------------------------------
int __cdecl sub_464CA0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_41BA20(a1);
    if ( *(_BYTE *)sub_4645D0(*v1) )
      break;
    a1 = *(_DWORD *)sub_41BA20(a1);
  }
  return a1;
}

//----- (00464CE0) --------------------------------------------------------
int __cdecl sub_464CE0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)unknown_libname_21(a1);
    if ( *(_BYTE *)sub_4645D0(*v1) )
      break;
    a1 = *(_DWORD *)unknown_libname_21(a1);
  }
  return a1;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00464D20) --------------------------------------------------------
int *__thiscall sub_464D20(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  _DWORD *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)unknown_libname_21(a2);
  v2 = (_DWORD *)sub_41BA20(v11);
  *(_DWORD *)unknown_libname_21(a2) = *v2;
  v3 = (int *)sub_41BA20(v11);
  if ( !*(_BYTE *)sub_4645D0(*v3) )
  {
    v4 = (int *)sub_41BA20(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (int *)sub_465290(a2);
    if ( a2 == *(_DWORD *)sub_41BA20(*v6) )
    {
      v7 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v7) = v11;
    }
    else
    {
      v8 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v8) = v11;
    }
  }
  *(_DWORD *)sub_41BA20(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00464E50) --------------------------------------------------------
int __thiscall sub_464E50(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_464620(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00464F00) --------------------------------------------------------
void __stdcall sub_464F00(void *a1)
{
  __ExceptionPtrDestroy(a1);
}

//----- (00464F20) --------------------------------------------------------
CMemory ***__thiscall sub_464F20(_DWORD *this, char a2, const void *a3)
{
  int *v3; // eax
  _DWORD *v4; // eax
  CMemory ***result; // eax
  const void *v6; // [esp-4h] [ebp-10h]
  int v8; // [esp+4h] [ebp-8h]
  CMemory **v9; // [esp+8h] [ebp-4h]

  v8 = unknown_libname_10(&a2);
  v6 = a3;
  v3 = (int *)sub_465290(v8);
  v9 = sub_468EF0(v8, *v3, v6);
  sub_468F60(this, 1u);
  *(_DWORD *)sub_465290(v8) = v9;
  v4 = (_DWORD *)sub_465290((int)v9);
  result = (CMemory ***)unknown_libname_21(*v4);
  *result = v9;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00464FA0) --------------------------------------------------------
_DWORD *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::erase(int this, _DWORD *a2, int a3)
{
  _DWORD *v3; // eax
  _DWORD *v4; // esi
  _DWORD *v5; // eax
  _DWORD *v6; // esi
  int *v7; // eax
  int v10; // [esp+8h] [ebp-8h] BYREF
  void *v11; // [esp+Ch] [ebp-4h]

  v3 = sub_46DB80(&a3, &v10, 0);
  v11 = (void *)unknown_libname_10(v3);
  if ( v11 != *(void **)(this + 4) )
  {
    v4 = (_DWORD *)unknown_libname_21(v11);
    v5 = (_DWORD *)sub_465290((int)v11);
    *(_DWORD *)unknown_libname_21(*v5) = *v4;
    v6 = (_DWORD *)sub_465290((int)v11);
    v7 = (int *)unknown_libname_21(v11);
    *(_DWORD *)sub_465290(*v7) = *v6;
    sub_441D00((int)v11);
    sub_441930(v11, 1);
    --*(_DWORD *)(this + 8);
  }
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00465080) --------------------------------------------------------
void __thiscall std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::iterator,bool>(std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *this, const std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *_Val1, const bool *_Val2)
{
  *(_DWORD *)this = *(_DWORD *)_Val1;
  *((_BYTE *)this + 4) = *_Val2;
}

//----- (004650B0) --------------------------------------------------------
int *__thiscall sub_4650B0(int *this)
{
  sub_468FF0(this);
  return this;
}

//----- (004650D0) --------------------------------------------------------
int *__thiscall sub_4650D0(int *this)
{
  sub_469010(this);
  return this;
}

//----- (004650F0) --------------------------------------------------------
int *__thiscall sub_4650F0(int *this)
{
  sub_469060(this);
  return this;
}

//----- (00465110) --------------------------------------------------------
int *__thiscall sub_465110(int *this)
{
  sub_469080(this);
  return this;
}

//----- (00465130) --------------------------------------------------------
int *__thiscall sub_465130(int *this)
{
  sub_4690A0(this);
  return this;
}

//----- (00465150) --------------------------------------------------------
int *__thiscall sub_465150(int *this)
{
  sub_4690F0(this);
  return this;
}

//----- (00465170) --------------------------------------------------------
int *__thiscall sub_465170(int *this)
{
  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::const_iterator::operator++(this);
  return this;
}

//----- (00465190) --------------------------------------------------------
int *__thiscall sub_465190(int *this)
{
  sub_469170(this);
  return this;
}

//----- (004651B0) --------------------------------------------------------
int *__thiscall sub_4651B0(int *this)
{
  sub_469190(this);
  return this;
}

//----- (004651E0) --------------------------------------------------------
int __cdecl sub_4651E0(int a1)
{
  return a1 + 12;
}

//----- (004651F0) --------------------------------------------------------
unsigned int __thiscall sub_4651F0(int this)
{
  return std::allocator<std::pair<char const * const,CItem *>>::max_size((std::allocator<std::pair<char const * const,CItem *> > *)(this + 3));
}

//----- (00465210) --------------------------------------------------------
_DWORD *__thiscall sub_465210(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_4691E0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00465270) --------------------------------------------------------
int __thiscall sub_465270(int *this)
{
  return sub_41BA20(this[1]);
}

//----- (00465290) --------------------------------------------------------
int __cdecl sub_465290(int a1)
{
  return a1 + 4;
}

//----- (004652A0) --------------------------------------------------------
_DWORD *__thiscall sub_4652A0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_469260(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00465300) --------------------------------------------------------
void *__thiscall sub_465300(int *this, void *a2, const char **a3)
{
  int v3; // eax

  v3 = sub_4692E0(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (00465330) --------------------------------------------------------
int __thiscall sub_465330(int *this, const char **a2)
{
  const char **v2; // eax
  const char *v4; // [esp-4h] [ebp-10h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v6 = *(_DWORD *)sub_41BA00(this);
  v7 = this[1];
  while ( !*(_BYTE *)sub_46DDD0(v6) )
  {
    v4 = *a2;
    v2 = (const char **)sub_463EE0(v6);
    if ( StrCmp::operator()((StrCmp *)this, *v2, v4) )
    {
      v6 = *(_DWORD *)sub_41BA20(v6);
    }
    else
    {
      v7 = v6;
      v6 = *(_DWORD *)unknown_libname_21(v6);
    }
  }
  return v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004653C0) --------------------------------------------------------
int __thiscall sub_4653C0(_DWORD *this)
{
  return unknown_libname_21(this[1]);
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004653E0) --------------------------------------------------------
_DWORD *__thiscall sub_4653E0(int *this, _DWORD *a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  void **v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  _DWORD *v34; // eax
  _DWORD *v35; // eax
  _DWORD *v36; // eax
  _DWORD *v37; // eax
  _BYTE *v38; // esi
  _DWORD *v39; // eax
  _DWORD *v40; // eax
  _DWORD *v41; // eax
  _DWORD *v42; // eax
  _DWORD *v43; // eax
  _BYTE *v44; // esi
  _DWORD *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  _DWORD v52[9]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_10(&a3);
  if ( *(_BYTE *)sub_46DDD0(v3) )
  {
    std::string::string((std::string *)v51, "invalid map/set<T> iterator");
    v4 = sub_410270(v52, (const std::string *)v51);
    sub_40E570(v4);
    sub_4102A0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v52);
    sub_40E7C0((std::string *)v51);
  }
  v56 = (void *)unknown_libname_10(&a3);
  sub_47CBB0(&a3);
  v54 = v56;
  v5 = (int *)unknown_libname_21(v56);
  if ( *(_BYTE *)sub_46DDD0(*v5) )
  {
    v55 = *(void **)sub_41BA20((int)v54);
  }
  else
  {
    v6 = (int *)sub_41BA20((int)v54);
    if ( *(_BYTE *)sub_46DDD0(*v6) )
    {
      v55 = *(void **)unknown_libname_21(v54);
    }
    else
    {
      v54 = (void *)unknown_libname_10(&a3);
      v55 = *(void **)sub_41BA20((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_465290((int)v56);
    if ( !*(_BYTE *)sub_46DDD0((int)v55) )
    {
      v7 = (_DWORD *)sub_465290((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_41BA00(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_41BA00(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)unknown_libname_21(v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)unknown_libname_21(v53);
      else
        v11 = (_DWORD *)sub_41BA20((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_4653C0(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_46DDD0((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_441C90((int)v55);
      *(_DWORD *)sub_4653C0(this) = v49;
    }
    v13 = (void **)sub_465270(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_46DDD0((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_482E40((int)v55);
      *(_DWORD *)sub_465270(this) = v48;
    }
  }
  else
  {
    v14 = (int *)unknown_libname_21(v56);
    v15 = (_DWORD *)sub_465290(*v14);
    *v15 = v54;
    v16 = (_DWORD *)unknown_libname_21(v56);
    *(_DWORD *)unknown_libname_21(v54) = *v16;
    v17 = (void **)sub_41BA20((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_465290((int)v54);
      if ( !*(_BYTE *)sub_46DDD0((int)v55) )
      {
        v18 = (_DWORD *)sub_465290((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)unknown_libname_21(v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_41BA20((int)v56);
      *(_DWORD *)sub_41BA20((int)v54) = *v20;
      v21 = (int *)sub_41BA20((int)v56);
      v22 = (_DWORD *)sub_465290(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_41BA00(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_41BA00(this);
      *v24 = v54;
    }
    else
    {
      v25 = (_DWORD *)sub_465290((int)v56);
      v26 = (void **)unknown_libname_21(*v25);
      if ( *v26 == v56 )
      {
        v27 = (_DWORD *)sub_465290((int)v56);
        v28 = (_DWORD *)unknown_libname_21(*v27);
      }
      else
      {
        v29 = (int *)sub_465290((int)v56);
        v28 = (_DWORD *)sub_41BA20(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_465290((int)v56);
    *(_DWORD *)sub_465290((int)v54) = *v30;
    v47 = (char *)unknown_libname_26(v56);
    v31 = (char *)unknown_libname_26(v54);
    std::swap<char>(v31, v47);
  }
  if ( *(_BYTE *)unknown_libname_26(v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_41BA00(this);
      if ( v55 == *v32 || *(_BYTE *)unknown_libname_26(v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)unknown_libname_26(v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)unknown_libname_21(v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)unknown_libname_21(v53);
      if ( !*(_BYTE *)unknown_libname_26(v54) )
      {
        *(_BYTE *)unknown_libname_26(v54) = 1;
        *(_BYTE *)unknown_libname_26(v53) = 0;
        sub_441A80(this, (int)v53);
        v54 = *(void **)unknown_libname_21(v53);
      }
      if ( !*(_BYTE *)sub_46DDD0((int)v54) )
      {
        v40 = (_DWORD *)sub_41BA20((int)v54);
        if ( *(_BYTE *)unknown_libname_26(*v40) != 1
          || (v41 = (_DWORD *)unknown_libname_21(v54), *(_BYTE *)unknown_libname_26(*v41) != 1) )
        {
          v42 = (_DWORD *)unknown_libname_21(v54);
          if ( *(_BYTE *)unknown_libname_26(*v42) == 1 )
          {
            v43 = (_DWORD *)sub_41BA20((int)v54);
            *(_BYTE *)unknown_libname_26(*v43) = 1;
            *(_BYTE *)unknown_libname_26(v54) = 0;
            sub_441950(this, (int)v54);
            v54 = *(void **)unknown_libname_21(v53);
          }
          v44 = (_BYTE *)unknown_libname_26(v53);
          *(_BYTE *)unknown_libname_26(v54) = *v44;
          *(_BYTE *)unknown_libname_26(v53) = 1;
          v45 = (_DWORD *)unknown_libname_21(v54);
          *(_BYTE *)unknown_libname_26(*v45) = 1;
          sub_441A80(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)unknown_libname_26(v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_465290((int)v55);
    }
    v54 = *(void **)sub_41BA20((int)v53);
    if ( !*(_BYTE *)unknown_libname_26(v54) )
    {
      *(_BYTE *)unknown_libname_26(v54) = 1;
      *(_BYTE *)unknown_libname_26(v53) = 0;
      sub_441950(this, (int)v53);
      v54 = *(void **)sub_41BA20((int)v53);
    }
    if ( *(_BYTE *)sub_46DDD0((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (_DWORD *)unknown_libname_21(v54);
    if ( *(_BYTE *)unknown_libname_26(*v34) != 1
      || (v35 = (_DWORD *)sub_41BA20((int)v54), *(_BYTE *)unknown_libname_26(*v35) != 1) )
    {
      v36 = (_DWORD *)sub_41BA20((int)v54);
      if ( *(_BYTE *)unknown_libname_26(*v36) == 1 )
      {
        v37 = (_DWORD *)unknown_libname_21(v54);
        *(_BYTE *)unknown_libname_26(*v37) = 1;
        *(_BYTE *)unknown_libname_26(v54) = 0;
        sub_441A80(this, (int)v54);
        v54 = *(void **)sub_41BA20((int)v53);
      }
      v38 = (_BYTE *)unknown_libname_26(v53);
      *(_BYTE *)unknown_libname_26(v54) = *v38;
      *(_BYTE *)unknown_libname_26(v53) = 1;
      v39 = (_DWORD *)sub_41BA20((int)v54);
      *(_BYTE *)unknown_libname_26(*v39) = 1;
      sub_441950(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_441D00((int)v56);
  sub_441930(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 4651D0: using guessed type _DWORD __cdecl unknown_libname_26(_DWORD);

//----- (00465B70) --------------------------------------------------------
_DWORD *__thiscall sub_465B70(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_469370(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00465BD0) --------------------------------------------------------
void __thiscall sub_465BD0(int this, IPAddrMask *a2, unsigned int a3, int *a4)
{
  int v4; // edx
  unsigned int v5; // esi
  IPAddrMask *v6; // eax
  unsigned int v7; // [esp+4h] [ebp-20h]
  _DWORD *v9; // [esp+Ch] [ebp-18h]
  CMemory **v10; // [esp+10h] [ebp-14h]
  IPAddrMask *v11; // [esp+14h] [ebp-10h]
  unsigned int v12; // [esp+18h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-Ch]
  int v14[2]; // [esp+1Ch] [ebp-8h] BYREF
  int v15; // [esp+30h] [ebp+Ch]

  v4 = a4[1];
  v14[0] = *a4;
  v14[1] = v4;
  v12 = std::vector<IPAddrMask>::capacity((std::vector<IPAddrMask> *)this);
  if ( a3 )
  {
    v5 = sub_43EE50((std::allocator<std::pair<char const * const,CItem *> > *)this);
    if ( v5 - std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) >= a3 )
    {
      if ( v12 >= a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 3 >= a3 )
        {
          v9 = *(_DWORD **)(this + 8);
          *(_DWORD *)(this + 8) = sub_46AD10((int)&v9[-2 * a3], (int)v9, v9);
          sub_43F620(a2, &v9[-2 * a3], v9);
          std::fill<IPAddrMask *,IPAddrMask>(a2, (IPAddrMask *)((char *)a2 + 8 * a3), (const IPAddrMask *)v14);
        }
        else
        {
          sub_46AD10((int)a2, *(_DWORD *)(this + 8), (char *)a2 + 8 * a3);
          std::vector<IPAddrMask>::_Ufill(
            (std::vector<IPAddrMask> *)this,
            *(IPAddrMask **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 3),
            (const IPAddrMask *)v14);
          *(_DWORD *)(this + 8) += 8 * a3;
          std::fill<IPAddrMask *,IPAddrMask>(
            a2,
            (IPAddrMask *)(*(_DWORD *)(this + 8) - 8 * a3),
            (const IPAddrMask *)v14);
        }
      }
      else
      {
        if ( sub_43EE50((std::allocator<std::pair<char const * const,CItem *> > *)this) - (v12 >> 1) >= v12 )
          v7 = v12 + (v12 >> 1);
        else
          v7 = 0;
        v13 = v7;
        if ( v7 < a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this) )
          v13 = a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
        v10 = sub_465EE0(v13);
        v6 = (IPAddrMask *)sub_46AD10(*(_DWORD *)(this + 4), (int)a2, v10);
        v11 = std::vector<IPAddrMask>::_Ufill((std::vector<IPAddrMask> *)this, v6, a3, (const IPAddrMask *)v14);
        sub_46AD10((int)a2, *(_DWORD *)(this + 8), v11);
        v15 = a3 + std::vector<IPAddrMask>::size((std::vector<IPAddrMask> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_43EE70(*(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 3);
        }
        *(_DWORD *)(this + 12) = &v10[2 * v13];
        *(_DWORD *)(this + 8) = &v10[2 * v15];
        *(_DWORD *)(this + 4) = v10;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (00465EA0) --------------------------------------------------------
void sub_465EA0()
{
  void *v0; // eax
  char v1[28]; // [esp+4h] [ebp-40h] BYREF
  char v2[36]; // [esp+20h] [ebp-24h] BYREF

  std::string::string((std::string *)v1, "vector<T> too long");
  std::length_error::length_error((std::length_error *)v2, (const std::string *)v1);
  sub_40E570(v0);
  sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v2);
  sub_40E7C0((std::string *)v1);
}
// 465EC4: variable 'v0' is possibly undefined

//----- (00465EE0) --------------------------------------------------------
CMemory **__stdcall sub_465EE0(int a1)
{
  return sub_46AD70(a1);
}

//----- (00465F00) --------------------------------------------------------
int __cdecl sub_465F00(int a1)
{
  return a1 + 40;
}

//----- (00465F10) --------------------------------------------------------
unsigned int __thiscall sub_465F10(int this)
{
  return std::allocator<std::string>::max_size((std::allocator<std::string > *)(this + 3));
}

//----- (00465F30) --------------------------------------------------------
_DWORD *__thiscall sub_465F30(int *this, _DWORD *a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  void **v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  _DWORD v52[9]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_10(&a3);
  if ( *(_BYTE *)sub_4628A0(v3) )
  {
    std::string::string((std::string *)v51, "invalid map/set<T> iterator");
    v4 = sub_410270(v52, (const std::string *)v51);
    sub_40E570(v4);
    sub_4102A0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v52);
    sub_40E7C0((std::string *)v51);
  }
  v56 = (void *)unknown_libname_10(&a3);
  sub_4650B0(&a3);
  v54 = v56;
  v5 = (int *)unknown_libname_21(v56);
  if ( *(_BYTE *)sub_4628A0(*v5) )
  {
    v55 = *(void **)sub_41BA20((int)v54);
  }
  else
  {
    v6 = (int *)sub_41BA20((int)v54);
    if ( *(_BYTE *)sub_4628A0(*v6) )
    {
      v55 = *(void **)unknown_libname_21(v54);
    }
    else
    {
      v54 = (void *)unknown_libname_10(&a3);
      v55 = *(void **)sub_41BA20((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_465290((int)v56);
    if ( !*(_BYTE *)sub_4628A0((int)v55) )
    {
      v7 = (_DWORD *)sub_465290((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_41BA00(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_41BA00(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)unknown_libname_21(v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)unknown_libname_21(v53);
      else
        v11 = (_DWORD *)sub_41BA20((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_4653C0(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_4628A0((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_4694B0((int)v55);
      *(_DWORD *)sub_4653C0(this) = v49;
    }
    v13 = (void **)sub_465270(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_4628A0((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_469470((int)v55);
      *(_DWORD *)sub_465270(this) = v48;
    }
  }
  else
  {
    v14 = (int *)unknown_libname_21(v56);
    v15 = (_DWORD *)sub_465290(*v14);
    *v15 = v54;
    v16 = (_DWORD *)unknown_libname_21(v56);
    *(_DWORD *)unknown_libname_21(v54) = *v16;
    v17 = (void **)sub_41BA20((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_465290((int)v54);
      if ( !*(_BYTE *)sub_4628A0((int)v55) )
      {
        v18 = (_DWORD *)sub_465290((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)unknown_libname_21(v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_41BA20((int)v56);
      *(_DWORD *)sub_41BA20((int)v54) = *v20;
      v21 = (int *)sub_41BA20((int)v56);
      v22 = (_DWORD *)sub_465290(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_41BA00(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_41BA00(this);
      *v24 = v54;
    }
    else
    {
      v25 = (_DWORD *)sub_465290((int)v56);
      v26 = (void **)unknown_libname_21(*v25);
      if ( *v26 == v56 )
      {
        v27 = (_DWORD *)sub_465290((int)v56);
        v28 = (_DWORD *)unknown_libname_21(*v27);
      }
      else
      {
        v29 = (int *)sub_465290((int)v56);
        v28 = (_DWORD *)sub_41BA20(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_465290((int)v56);
    *(_DWORD *)sub_465290((int)v54) = *v30;
    v47 = (char *)sub_465F00((int)v56);
    v31 = (char *)sub_465F00((int)v54);
    std::swap<char>(v31, v47);
  }
  if ( *(_BYTE *)sub_465F00((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_41BA00(this);
      if ( v55 == *v32 || *(_BYTE *)sub_465F00((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_465F00((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)unknown_libname_21(v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)unknown_libname_21(v53);
      if ( !*(_BYTE *)sub_465F00((int)v54) )
      {
        *(_BYTE *)sub_465F00((int)v54) = 1;
        *(_BYTE *)sub_465F00((int)v53) = 0;
        sub_466980(this, (int)v53);
        v54 = *(void **)unknown_libname_21(v53);
      }
      if ( !*(_BYTE *)sub_4628A0((int)v54) )
      {
        v40 = (int *)sub_41BA20((int)v54);
        if ( *(_BYTE *)sub_465F00(*v40) != 1 || (v41 = (int *)unknown_libname_21(v54), *(_BYTE *)sub_465F00(*v41) != 1) )
        {
          v42 = (int *)unknown_libname_21(v54);
          if ( *(_BYTE *)sub_465F00(*v42) == 1 )
          {
            v43 = (int *)sub_41BA20((int)v54);
            *(_BYTE *)sub_465F00(*v43) = 1;
            *(_BYTE *)sub_465F00((int)v54) = 0;
            sub_466850(this, (int)v54);
            v54 = *(void **)unknown_libname_21(v53);
          }
          v44 = (_BYTE *)sub_465F00((int)v53);
          *(_BYTE *)sub_465F00((int)v54) = *v44;
          *(_BYTE *)sub_465F00((int)v53) = 1;
          v45 = (int *)unknown_libname_21(v54);
          *(_BYTE *)sub_465F00(*v45) = 1;
          sub_466980(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_465F00((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_465290((int)v55);
    }
    v54 = *(void **)sub_41BA20((int)v53);
    if ( !*(_BYTE *)sub_465F00((int)v54) )
    {
      *(_BYTE *)sub_465F00((int)v54) = 1;
      *(_BYTE *)sub_465F00((int)v53) = 0;
      sub_466850(this, (int)v53);
      v54 = *(void **)sub_41BA20((int)v53);
    }
    if ( *(_BYTE *)sub_4628A0((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)unknown_libname_21(v54);
    if ( *(_BYTE *)sub_465F00(*v34) != 1 || (v35 = (int *)sub_41BA20((int)v54), *(_BYTE *)sub_465F00(*v35) != 1) )
    {
      v36 = (int *)sub_41BA20((int)v54);
      if ( *(_BYTE *)sub_465F00(*v36) == 1 )
      {
        v37 = (int *)unknown_libname_21(v54);
        *(_BYTE *)sub_465F00(*v37) = 1;
        *(_BYTE *)sub_465F00((int)v54) = 0;
        sub_466980(this, (int)v54);
        v54 = *(void **)sub_41BA20((int)v53);
      }
      v38 = (_BYTE *)sub_465F00((int)v53);
      *(_BYTE *)sub_465F00((int)v54) = *v38;
      *(_BYTE *)sub_465F00((int)v53) = 1;
      v39 = (int *)sub_41BA20((int)v54);
      *(_BYTE *)sub_465F00(*v39) = 1;
      sub_466850(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_441D00((int)v56);
  sub_441930(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004666C0) --------------------------------------------------------
_DWORD *__thiscall sub_4666C0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_4693F0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00466720) --------------------------------------------------------
void *__thiscall sub_466720(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_4694F0(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (00466750) --------------------------------------------------------
int *__thiscall sub_466750(int *this)
{
  int *result; // eax

  this[1] = (int)sub_469580();
  *(_BYTE *)sub_4628A0(this[1]) = 1;
  *(_DWORD *)sub_41BA00(this) = this[1];
  *(_DWORD *)sub_4653C0(this) = this[1];
  *(_DWORD *)sub_465270(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (004667C0) --------------------------------------------------------
int __thiscall sub_4667C0(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_4628A0(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(v2, a2) )
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00466850) --------------------------------------------------------
int *__thiscall sub_466850(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_41BA20(a2);
  v2 = (_DWORD *)unknown_libname_21(v11);
  *(_DWORD *)sub_41BA20(a2) = *v2;
  v3 = (int *)unknown_libname_21(v11);
  if ( !*(_BYTE *)sub_4628A0(*v3) )
  {
    v4 = (int *)unknown_libname_21(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (_DWORD *)sub_465290(a2);
    if ( a2 == *(_DWORD *)unknown_libname_21(*v6) )
    {
      v7 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v8) = v11;
    }
  }
  *(_DWORD *)unknown_libname_21(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00466980) --------------------------------------------------------
int *__thiscall sub_466980(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  _DWORD *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)unknown_libname_21(a2);
  v2 = (_DWORD *)sub_41BA20(v11);
  *(_DWORD *)unknown_libname_21(a2) = *v2;
  v3 = (int *)sub_41BA20(v11);
  if ( !*(_BYTE *)sub_4628A0(*v3) )
  {
    v4 = (int *)sub_41BA20(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (int *)sub_465290(a2);
    if ( a2 == *(_DWORD *)sub_41BA20(*v6) )
    {
      v7 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v7) = v11;
    }
    else
    {
      v8 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v8) = v11;
    }
  }
  *(_DWORD *)sub_41BA20(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00466AB0) --------------------------------------------------------
CMemory **__stdcall sub_466AB0(int a1, int a2, int a3, const void *a4, char a5)
{
  _DWORD *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_40F370(1);
  v6 = operator new(0x2Cu, v7);
  if ( v6 )
    sub_46A720(v6, a1, a2, a3, a4, a5);
  return v7;
}

//----- (00466B30) --------------------------------------------------------
int sub_466B30()
{
  return std::allocator<std::pair<std::string const,void *>>::max_size();
}

//----- (00466B50) --------------------------------------------------------
int __cdecl sub_466B50(int a1)
{
  return a1 + 24;
}

//----- (00466B60) --------------------------------------------------------
unsigned int __thiscall sub_466B60(int this)
{
  return std::allocator<CIOSocket::CIOTimer>::max_size((std::allocator<CIOSocket::CIOTimer> *)(this + 3));
}

//----- (00466B80) --------------------------------------------------------
_DWORD *__thiscall sub_466B80(int *this, _DWORD *a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  void **v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  _DWORD v52[9]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_10(&a3);
  if ( *(_BYTE *)sub_463660(v3) )
  {
    std::string::string((std::string *)v51, "invalid map/set<T> iterator");
    v4 = sub_410270(v52, (const std::string *)v51);
    sub_40E570(v4);
    sub_4102A0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v52);
    sub_40E7C0((std::string *)v51);
  }
  v56 = (void *)unknown_libname_10(&a3);
  sub_46A2A0(&a3);
  v54 = v56;
  v5 = (int *)unknown_libname_21(v56);
  if ( *(_BYTE *)sub_463660(*v5) )
  {
    v55 = *(void **)sub_41BA20((int)v54);
  }
  else
  {
    v6 = (int *)sub_41BA20((int)v54);
    if ( *(_BYTE *)sub_463660(*v6) )
    {
      v55 = *(void **)unknown_libname_21(v54);
    }
    else
    {
      v54 = (void *)unknown_libname_10(&a3);
      v55 = *(void **)sub_41BA20((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_465290((int)v56);
    if ( !*(_BYTE *)sub_463660((int)v55) )
    {
      v7 = (_DWORD *)sub_465290((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_41BA00(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_41BA00(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)unknown_libname_21(v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)unknown_libname_21(v53);
      else
        v11 = (_DWORD *)sub_41BA20((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_4653C0(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_463660((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_469740((int)v55);
      *(_DWORD *)sub_4653C0(this) = v49;
    }
    v13 = (void **)sub_465270(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_463660((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_469700((int)v55);
      *(_DWORD *)sub_465270(this) = v48;
    }
  }
  else
  {
    v14 = (int *)unknown_libname_21(v56);
    v15 = (_DWORD *)sub_465290(*v14);
    *v15 = v54;
    v16 = (_DWORD *)unknown_libname_21(v56);
    *(_DWORD *)unknown_libname_21(v54) = *v16;
    v17 = (void **)sub_41BA20((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_465290((int)v54);
      if ( !*(_BYTE *)sub_463660((int)v55) )
      {
        v18 = (_DWORD *)sub_465290((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)unknown_libname_21(v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_41BA20((int)v56);
      *(_DWORD *)sub_41BA20((int)v54) = *v20;
      v21 = (int *)sub_41BA20((int)v56);
      v22 = (_DWORD *)sub_465290(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_41BA00(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_41BA00(this);
      *v24 = v54;
    }
    else
    {
      v25 = (_DWORD *)sub_465290((int)v56);
      v26 = (void **)unknown_libname_21(*v25);
      if ( *v26 == v56 )
      {
        v27 = (_DWORD *)sub_465290((int)v56);
        v28 = (_DWORD *)unknown_libname_21(*v27);
      }
      else
      {
        v29 = (int *)sub_465290((int)v56);
        v28 = (_DWORD *)sub_41BA20(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_465290((int)v56);
    *(_DWORD *)sub_465290((int)v54) = *v30;
    v47 = (char *)sub_466B50((int)v56);
    v31 = (char *)sub_466B50((int)v54);
    std::swap<char>(v31, v47);
  }
  if ( *(_BYTE *)sub_466B50((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_41BA00(this);
      if ( v55 == *v32 || *(_BYTE *)sub_466B50((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_466B50((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)unknown_libname_21(v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)unknown_libname_21(v53);
      if ( !*(_BYTE *)sub_466B50((int)v54) )
      {
        *(_BYTE *)sub_466B50((int)v54) = 1;
        *(_BYTE *)sub_466B50((int)v53) = 0;
        sub_467570(this, (int)v53);
        v54 = *(void **)unknown_libname_21(v53);
      }
      if ( !*(_BYTE *)sub_463660((int)v54) )
      {
        v40 = (int *)sub_41BA20((int)v54);
        if ( *(_BYTE *)sub_466B50(*v40) != 1 || (v41 = (int *)unknown_libname_21(v54), *(_BYTE *)sub_466B50(*v41) != 1) )
        {
          v42 = (int *)unknown_libname_21(v54);
          if ( *(_BYTE *)sub_466B50(*v42) == 1 )
          {
            v43 = (int *)sub_41BA20((int)v54);
            *(_BYTE *)sub_466B50(*v43) = 1;
            *(_BYTE *)sub_466B50((int)v54) = 0;
            sub_467440(this, (int)v54);
            v54 = *(void **)unknown_libname_21(v53);
          }
          v44 = (_BYTE *)sub_466B50((int)v53);
          *(_BYTE *)sub_466B50((int)v54) = *v44;
          *(_BYTE *)sub_466B50((int)v53) = 1;
          v45 = (int *)unknown_libname_21(v54);
          *(_BYTE *)sub_466B50(*v45) = 1;
          sub_467570(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_466B50((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_465290((int)v55);
    }
    v54 = *(void **)sub_41BA20((int)v53);
    if ( !*(_BYTE *)sub_466B50((int)v54) )
    {
      *(_BYTE *)sub_466B50((int)v54) = 1;
      *(_BYTE *)sub_466B50((int)v53) = 0;
      sub_467440(this, (int)v53);
      v54 = *(void **)sub_41BA20((int)v53);
    }
    if ( *(_BYTE *)sub_463660((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)unknown_libname_21(v54);
    if ( *(_BYTE *)sub_466B50(*v34) != 1 || (v35 = (int *)sub_41BA20((int)v54), *(_BYTE *)sub_466B50(*v35) != 1) )
    {
      v36 = (int *)sub_41BA20((int)v54);
      if ( *(_BYTE *)sub_466B50(*v36) == 1 )
      {
        v37 = (int *)unknown_libname_21(v54);
        *(_BYTE *)sub_466B50(*v37) = 1;
        *(_BYTE *)sub_466B50((int)v54) = 0;
        sub_467570(this, (int)v54);
        v54 = *(void **)sub_41BA20((int)v53);
      }
      v38 = (_BYTE *)sub_466B50((int)v53);
      *(_BYTE *)sub_466B50((int)v54) = *v38;
      *(_BYTE *)sub_466B50((int)v53) = 1;
      v39 = (int *)sub_41BA20((int)v54);
      *(_BYTE *)sub_466B50(*v39) = 1;
      sub_467440(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_441D00((int)v56);
  sub_441930(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00467310) --------------------------------------------------------
void *__thiscall sub_467310(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_469780(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (00467340) --------------------------------------------------------
int *__thiscall sub_467340(int *this)
{
  int *result; // eax

  this[1] = (int)sub_469810();
  *(_BYTE *)sub_463660(this[1]) = 1;
  *(_DWORD *)sub_41BA00(this) = this[1];
  *(_DWORD *)sub_4653C0(this) = this[1];
  *(_DWORD *)sub_465270(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (004673B0) --------------------------------------------------------
int __thiscall sub_4673B0(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_463660(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(v2, a2) )
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00467440) --------------------------------------------------------
int *__thiscall sub_467440(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_41BA20(a2);
  v2 = (_DWORD *)unknown_libname_21(v11);
  *(_DWORD *)sub_41BA20(a2) = *v2;
  v3 = (int *)unknown_libname_21(v11);
  if ( !*(_BYTE *)sub_463660(*v3) )
  {
    v4 = (int *)unknown_libname_21(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (_DWORD *)sub_465290(a2);
    if ( a2 == *(_DWORD *)unknown_libname_21(*v6) )
    {
      v7 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v8) = v11;
    }
  }
  *(_DWORD *)unknown_libname_21(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00467570) --------------------------------------------------------
int *__thiscall sub_467570(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  _DWORD *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)unknown_libname_21(a2);
  v2 = (_DWORD *)sub_41BA20(v11);
  *(_DWORD *)unknown_libname_21(a2) = *v2;
  v3 = (int *)sub_41BA20(v11);
  if ( !*(_BYTE *)sub_463660(*v3) )
  {
    v4 = (int *)sub_41BA20(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (int *)sub_465290(a2);
    if ( a2 == *(_DWORD *)sub_41BA20(*v6) )
    {
      v7 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v7) = v11;
    }
    else
    {
      v8 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v8) = v11;
    }
  }
  *(_DWORD *)sub_41BA20(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004676A0) --------------------------------------------------------
CMemory **__stdcall sub_4676A0(int a1, int a2, int a3, _DWORD *a4, char a5)
{
  _DWORD *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_469930(1);
  v6 = operator new(0x1Cu, v7);
  if ( v6 )
    sub_46A7C0(v6, a1, a2, a3, a4, a5);
  return v7;
}

//----- (00467720) --------------------------------------------------------
_DWORD *__thiscall sub_467720(int *this, _DWORD *a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  void **v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  _DWORD v52[9]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_10(&a3);
  if ( *(_BYTE *)sub_463D30(v3) )
  {
    std::string::string((std::string *)v51, "invalid map/set<T> iterator");
    v4 = sub_410270(v52, (const std::string *)v51);
    sub_40E570(v4);
    sub_4102A0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v52);
    sub_40E7C0((std::string *)v51);
  }
  v56 = (void *)unknown_libname_10(&a3);
  sub_465110(&a3);
  v54 = v56;
  v5 = (int *)unknown_libname_21(v56);
  if ( *(_BYTE *)sub_463D30(*v5) )
  {
    v55 = *(void **)sub_41BA20((int)v54);
  }
  else
  {
    v6 = (int *)sub_41BA20((int)v54);
    if ( *(_BYTE *)sub_463D30(*v6) )
    {
      v55 = *(void **)unknown_libname_21(v54);
    }
    else
    {
      v54 = (void *)unknown_libname_10(&a3);
      v55 = *(void **)sub_41BA20((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_465290((int)v56);
    if ( !*(_BYTE *)sub_463D30((int)v55) )
    {
      v7 = (_DWORD *)sub_465290((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_41BA00(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_41BA00(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)unknown_libname_21(v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)unknown_libname_21(v53);
      else
        v11 = (_DWORD *)sub_41BA20((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_4653C0(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_463D30((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_469A10((int)v55);
      *(_DWORD *)sub_4653C0(this) = v49;
    }
    v13 = (void **)sub_465270(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_463D30((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_4699D0((int)v55);
      *(_DWORD *)sub_465270(this) = v48;
    }
  }
  else
  {
    v14 = (int *)unknown_libname_21(v56);
    v15 = (_DWORD *)sub_465290(*v14);
    *v15 = v54;
    v16 = (_DWORD *)unknown_libname_21(v56);
    *(_DWORD *)unknown_libname_21(v54) = *v16;
    v17 = (void **)sub_41BA20((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_465290((int)v54);
      if ( !*(_BYTE *)sub_463D30((int)v55) )
      {
        v18 = (_DWORD *)sub_465290((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)unknown_libname_21(v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_41BA20((int)v56);
      *(_DWORD *)sub_41BA20((int)v54) = *v20;
      v21 = (int *)sub_41BA20((int)v56);
      v22 = (_DWORD *)sub_465290(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_41BA00(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_41BA00(this);
      *v24 = v54;
    }
    else
    {
      v25 = (_DWORD *)sub_465290((int)v56);
      v26 = (void **)unknown_libname_21(*v25);
      if ( *v26 == v56 )
      {
        v27 = (_DWORD *)sub_465290((int)v56);
        v28 = (_DWORD *)unknown_libname_21(*v27);
      }
      else
      {
        v29 = (int *)sub_465290((int)v56);
        v28 = (_DWORD *)sub_41BA20(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_465290((int)v56);
    *(_DWORD *)sub_465290((int)v54) = *v30;
    v47 = (char *)sub_431160((int)v56);
    v31 = (char *)sub_431160((int)v54);
    std::swap<char>(v31, v47);
  }
  if ( *(_BYTE *)sub_431160((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_41BA00(this);
      if ( v55 == *v32 || *(_BYTE *)sub_431160((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_431160((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)unknown_libname_21(v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)unknown_libname_21(v53);
      if ( !*(_BYTE *)sub_431160((int)v54) )
      {
        *(_BYTE *)sub_431160((int)v54) = 1;
        *(_BYTE *)sub_431160((int)v53) = 0;
        sub_467F40(this, (int)v53);
        v54 = *(void **)unknown_libname_21(v53);
      }
      if ( !*(_BYTE *)sub_463D30((int)v54) )
      {
        v40 = (int *)sub_41BA20((int)v54);
        if ( *(_BYTE *)sub_431160(*v40) != 1 || (v41 = (int *)unknown_libname_21(v54), *(_BYTE *)sub_431160(*v41) != 1) )
        {
          v42 = (int *)unknown_libname_21(v54);
          if ( *(_BYTE *)sub_431160(*v42) == 1 )
          {
            v43 = (int *)sub_41BA20((int)v54);
            *(_BYTE *)sub_431160(*v43) = 1;
            *(_BYTE *)sub_431160((int)v54) = 0;
            sub_463480(this, (int)v54);
            v54 = *(void **)unknown_libname_21(v53);
          }
          v44 = (_BYTE *)sub_431160((int)v53);
          *(_BYTE *)sub_431160((int)v54) = *v44;
          *(_BYTE *)sub_431160((int)v53) = 1;
          v45 = (int *)unknown_libname_21(v54);
          *(_BYTE *)sub_431160(*v45) = 1;
          sub_467F40(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_431160((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_465290((int)v55);
    }
    v54 = *(void **)sub_41BA20((int)v53);
    if ( !*(_BYTE *)sub_431160((int)v54) )
    {
      *(_BYTE *)sub_431160((int)v54) = 1;
      *(_BYTE *)sub_431160((int)v53) = 0;
      sub_463480(this, (int)v53);
      v54 = *(void **)sub_41BA20((int)v53);
    }
    if ( *(_BYTE *)sub_463D30((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)unknown_libname_21(v54);
    if ( *(_BYTE *)sub_431160(*v34) != 1 || (v35 = (int *)sub_41BA20((int)v54), *(_BYTE *)sub_431160(*v35) != 1) )
    {
      v36 = (int *)sub_41BA20((int)v54);
      if ( *(_BYTE *)sub_431160(*v36) == 1 )
      {
        v37 = (int *)unknown_libname_21(v54);
        *(_BYTE *)sub_431160(*v37) = 1;
        *(_BYTE *)sub_431160((int)v54) = 0;
        sub_467F40(this, (int)v54);
        v54 = *(void **)sub_41BA20((int)v53);
      }
      v38 = (_BYTE *)sub_431160((int)v53);
      *(_BYTE *)sub_431160((int)v54) = *v38;
      *(_BYTE *)sub_431160((int)v53) = 1;
      v39 = (int *)sub_41BA20((int)v54);
      *(_BYTE *)sub_431160(*v39) = 1;
      sub_463480(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_441D00((int)v56);
  sub_441930(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00467EB0) --------------------------------------------------------
_DWORD *__thiscall sub_467EB0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_469950(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00467F10) --------------------------------------------------------
void *__thiscall sub_467F10(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_469A50(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (00467F40) --------------------------------------------------------
int *__thiscall sub_467F40(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  _DWORD *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)unknown_libname_21(a2);
  v2 = (_DWORD *)sub_41BA20(v11);
  *(_DWORD *)unknown_libname_21(a2) = *v2;
  v3 = (int *)sub_41BA20(v11);
  if ( !*(_BYTE *)sub_463D30(*v3) )
  {
    v4 = (int *)sub_41BA20(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (int *)sub_465290(a2);
    if ( a2 == *(_DWORD *)sub_41BA20(*v6) )
    {
      v7 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v7) = v11;
    }
    else
    {
      v8 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v8) = v11;
    }
  }
  *(_DWORD *)sub_41BA20(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00468070) --------------------------------------------------------
CMemory **__stdcall sub_468070(int a1, int a2, int a3, const void *a4, char a5)
{
  _DWORD *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_4312C0(1);
  v6 = operator new(0x30u, v7);
  if ( v6 )
    sub_46A770(v6, a1, a2, a3, a4, a5);
  return v7;
}

//----- (004680F0) --------------------------------------------------------
int __cdecl sub_4680F0(int a1)
{
  return a1 + 112;
}

//----- (00468100) --------------------------------------------------------
int sub_468100()
{
  return sub_469E30();
}

//----- (00468120) --------------------------------------------------------
_DWORD *__thiscall sub_468120(int *this, _DWORD *a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  void **v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  _DWORD v52[9]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_10(&a3);
  if ( *(_BYTE *)sub_463ED0(v3) )
  {
    std::string::string((std::string *)v51, "invalid map/set<T> iterator");
    v4 = sub_410270(v52, (const std::string *)v51);
    sub_40E570(v4);
    sub_4102A0((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v52);
    sub_40E7C0((std::string *)v51);
  }
  v56 = (void *)unknown_libname_10(&a3);
  sub_46A480(&a3);
  v54 = v56;
  v5 = (int *)unknown_libname_21(v56);
  if ( *(_BYTE *)sub_463ED0(*v5) )
  {
    v55 = *(void **)sub_41BA20((int)v54);
  }
  else
  {
    v6 = (int *)sub_41BA20((int)v54);
    if ( *(_BYTE *)sub_463ED0(*v6) )
    {
      v55 = *(void **)unknown_libname_21(v54);
    }
    else
    {
      v54 = (void *)unknown_libname_10(&a3);
      v55 = *(void **)sub_41BA20((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_465290((int)v56);
    if ( !*(_BYTE *)sub_463ED0((int)v55) )
    {
      v7 = (_DWORD *)sub_465290((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_41BA00(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_41BA00(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)unknown_libname_21(v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)unknown_libname_21(v53);
      else
        v11 = (_DWORD *)sub_41BA20((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_4653C0(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_463ED0((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_469C40((int)v55);
      *(_DWORD *)sub_4653C0(this) = v49;
    }
    v13 = (void **)sub_465270(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_463ED0((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_469C00((int)v55);
      *(_DWORD *)sub_465270(this) = v48;
    }
  }
  else
  {
    v14 = (int *)unknown_libname_21(v56);
    v15 = (_DWORD *)sub_465290(*v14);
    *v15 = v54;
    v16 = (_DWORD *)unknown_libname_21(v56);
    *(_DWORD *)unknown_libname_21(v54) = *v16;
    v17 = (void **)sub_41BA20((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_465290((int)v54);
      if ( !*(_BYTE *)sub_463ED0((int)v55) )
      {
        v18 = (_DWORD *)sub_465290((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)unknown_libname_21(v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_41BA20((int)v56);
      *(_DWORD *)sub_41BA20((int)v54) = *v20;
      v21 = (int *)sub_41BA20((int)v56);
      v22 = (_DWORD *)sub_465290(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_41BA00(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_41BA00(this);
      *v24 = v54;
    }
    else
    {
      v25 = (_DWORD *)sub_465290((int)v56);
      v26 = (void **)unknown_libname_21(*v25);
      if ( *v26 == v56 )
      {
        v27 = (_DWORD *)sub_465290((int)v56);
        v28 = (_DWORD *)unknown_libname_21(*v27);
      }
      else
      {
        v29 = (int *)sub_465290((int)v56);
        v28 = (_DWORD *)sub_41BA20(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_465290((int)v56);
    *(_DWORD *)sub_465290((int)v54) = *v30;
    v47 = (char *)sub_4680F0((int)v56);
    v31 = (char *)sub_4680F0((int)v54);
    std::swap<char>(v31, v47);
  }
  if ( *(_BYTE *)sub_4680F0((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_41BA00(this);
      if ( v55 == *v32 || *(_BYTE *)sub_4680F0((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_4680F0((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)unknown_libname_21(v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)unknown_libname_21(v53);
      if ( !*(_BYTE *)sub_4680F0((int)v54) )
      {
        *(_BYTE *)sub_4680F0((int)v54) = 1;
        *(_BYTE *)sub_4680F0((int)v53) = 0;
        sub_468B10(this, (int)v53);
        v54 = *(void **)unknown_libname_21(v53);
      }
      if ( !*(_BYTE *)sub_463ED0((int)v54) )
      {
        v40 = (int *)sub_41BA20((int)v54);
        if ( *(_BYTE *)sub_4680F0(*v40) != 1 || (v41 = (int *)unknown_libname_21(v54), *(_BYTE *)sub_4680F0(*v41) != 1) )
        {
          v42 = (int *)unknown_libname_21(v54);
          if ( *(_BYTE *)sub_4680F0(*v42) == 1 )
          {
            v43 = (int *)sub_41BA20((int)v54);
            *(_BYTE *)sub_4680F0(*v43) = 1;
            *(_BYTE *)sub_4680F0((int)v54) = 0;
            sub_4689E0(this, (int)v54);
            v54 = *(void **)unknown_libname_21(v53);
          }
          v44 = (_BYTE *)sub_4680F0((int)v53);
          *(_BYTE *)sub_4680F0((int)v54) = *v44;
          *(_BYTE *)sub_4680F0((int)v53) = 1;
          v45 = (int *)unknown_libname_21(v54);
          *(_BYTE *)sub_4680F0(*v45) = 1;
          sub_468B10(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_4680F0((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_465290((int)v55);
    }
    v54 = *(void **)sub_41BA20((int)v53);
    if ( !*(_BYTE *)sub_4680F0((int)v54) )
    {
      *(_BYTE *)sub_4680F0((int)v54) = 1;
      *(_BYTE *)sub_4680F0((int)v53) = 0;
      sub_4689E0(this, (int)v53);
      v54 = *(void **)sub_41BA20((int)v53);
    }
    if ( *(_BYTE *)sub_463ED0((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)unknown_libname_21(v54);
    if ( *(_BYTE *)sub_4680F0(*v34) != 1 || (v35 = (int *)sub_41BA20((int)v54), *(_BYTE *)sub_4680F0(*v35) != 1) )
    {
      v36 = (int *)sub_41BA20((int)v54);
      if ( *(_BYTE *)sub_4680F0(*v36) == 1 )
      {
        v37 = (int *)unknown_libname_21(v54);
        *(_BYTE *)sub_4680F0(*v37) = 1;
        *(_BYTE *)sub_4680F0((int)v54) = 0;
        sub_468B10(this, (int)v54);
        v54 = *(void **)sub_41BA20((int)v53);
      }
      v38 = (_BYTE *)sub_4680F0((int)v53);
      *(_BYTE *)sub_4680F0((int)v54) = *v38;
      *(_BYTE *)sub_4680F0((int)v53) = 1;
      v39 = (int *)sub_41BA20((int)v54);
      *(_BYTE *)sub_4680F0(*v39) = 1;
      sub_4689E0(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_441D00((int)v56);
  sub_441930(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004688B0) --------------------------------------------------------
void *__thiscall sub_4688B0(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_469C80(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (004688E0) --------------------------------------------------------
int *__thiscall sub_4688E0(int *this)
{
  int *result; // eax

  this[1] = (int)sub_469D10();
  *(_BYTE *)sub_463ED0(this[1]) = 1;
  *(_DWORD *)sub_41BA00(this) = this[1];
  *(_DWORD *)sub_4653C0(this) = this[1];
  *(_DWORD *)sub_465270(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (00468950) --------------------------------------------------------
int __thiscall sub_468950(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_463ED0(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(v2, a2) )
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004689E0) --------------------------------------------------------
int *__thiscall sub_4689E0(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_41BA20(a2);
  v2 = (_DWORD *)unknown_libname_21(v11);
  *(_DWORD *)sub_41BA20(a2) = *v2;
  v3 = (int *)unknown_libname_21(v11);
  if ( !*(_BYTE *)sub_463ED0(*v3) )
  {
    v4 = (int *)unknown_libname_21(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (_DWORD *)sub_465290(a2);
    if ( a2 == *(_DWORD *)unknown_libname_21(*v6) )
    {
      v7 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v8) = v11;
    }
  }
  *(_DWORD *)unknown_libname_21(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00468B10) --------------------------------------------------------
int *__thiscall sub_468B10(int *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  _DWORD *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)unknown_libname_21(a2);
  v2 = (_DWORD *)sub_41BA20(v11);
  *(_DWORD *)unknown_libname_21(a2) = *v2;
  v3 = (int *)sub_41BA20(v11);
  if ( !*(_BYTE *)sub_463ED0(*v3) )
  {
    v4 = (int *)sub_41BA20(v11);
    *(_DWORD *)sub_465290(*v4) = a2;
  }
  v5 = (_DWORD *)sub_465290(a2);
  *(_DWORD *)sub_465290(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_41BA00(this) )
  {
    *(_DWORD *)sub_41BA00(this) = v11;
  }
  else
  {
    v6 = (int *)sub_465290(a2);
    if ( a2 == *(_DWORD *)sub_41BA20(*v6) )
    {
      v7 = (int *)sub_465290(a2);
      *(_DWORD *)sub_41BA20(*v7) = v11;
    }
    else
    {
      v8 = (_DWORD *)sub_465290(a2);
      *(_DWORD *)unknown_libname_21(*v8) = v11;
    }
  }
  *(_DWORD *)sub_41BA20(v11) = a2;
  result = (int *)sub_465290(a2);
  *result = v11;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00468C40) --------------------------------------------------------
CMemory **__stdcall sub_468C40(int a1, int a2, int a3, const void *a4, char a5)
{
  _DWORD *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_469E60(1);
  v6 = operator new(0x74u, v7);
  if ( v6 )
    sub_46A820(v6, a1, a2, a3, a4, a5);
  return v7;
}

//----- (00468CC0) --------------------------------------------------------
int sub_468CC0()
{
  return std::allocator<CryptoPP::ECPPoint>::max_size();
}

//----- (00468CE0) --------------------------------------------------------
_DWORD *__thiscall sub_468CE0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_469E80(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00468D40) --------------------------------------------------------
void *__thiscall sub_468D40(int *this, void *a2, void *a3)
{
  int v3; // eax

  v3 = sub_469F00(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (00468D70) --------------------------------------------------------
int *__thiscall sub_468D70(int *this)
{
  int *result; // eax

  this[1] = (int)sub_469F90();
  *(_BYTE *)sub_4645D0(this[1]) = 1;
  *(_DWORD *)sub_41BA00(this) = this[1];
  *(_DWORD *)sub_4653C0(this) = this[1];
  *(_DWORD *)sub_465270(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (00468DE0) --------------------------------------------------------
int __thiscall sub_468DE0(int *this, void *a2)
{
  void *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_4645D0(v5) )
  {
    v2 = (void *)sub_463EE0(v5);
    if ( sub_461960(v2, a2) )
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00468E70) --------------------------------------------------------
CMemory **__stdcall sub_468E70(int a1, int a2, int a3, int a4, char a5)
{
  _DWORD *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_468FD0(1);
  v6 = operator new(0x3Cu, v7);
  if ( v6 )
    sub_46A870(v6, a1, a2, a3, a4, a5);
  return v7;
}

//----- (00468EF0) --------------------------------------------------------
CMemory **__stdcall sub_468EF0(int a1, int a2, const void *a3)
{
  _DWORD *v4; // [esp+8h] [ebp-8h]
  CMemory **v5; // [esp+Ch] [ebp-4h]

  v5 = sub_468FD0(1);
  v4 = operator new(0x3Cu, v5);
  if ( v4 )
    sub_46A8C0(v4, a1, a2, a3);
  return v5;
}

//----- (00468F60) --------------------------------------------------------
_DWORD *__thiscall sub_468F60(_DWORD *this, unsigned int a2)
{
  void *v2; // eax
  _DWORD *result; // eax
  char v5[28]; // [esp+4h] [ebp-40h] BYREF
  char v6[36]; // [esp+20h] [ebp-24h] BYREF

  if ( sub_46A0E0() - this[2] < a2 )
  {
    std::string::string((std::string *)v5, "list<T> too long");
    std::length_error::length_error((std::length_error *)v6, (const std::string *)v5);
    sub_40E570(v2);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v6);
    sub_40E7C0((std::string *)v5);
  }
  result = this;
  this[2] += a2;
  return result;
}
// 468F97: variable 'v2' is possibly undefined

//----- (00468FD0) --------------------------------------------------------
CMemory **__stdcall sub_468FD0(int a1)
{
  return sub_46AE00(a1);
}

//----- (00468FF0) --------------------------------------------------------
int *__thiscall sub_468FF0(int *this)
{
  sub_46A1E0(this);
  return this;
}

//----- (00469010) --------------------------------------------------------
int *__thiscall sub_469010(int *this)
{
  sub_46A100(this);
  return this;
}

//----- (00469030) --------------------------------------------------------
int *__thiscall sub_469030(int *this, int *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_46A2A0(this);
  *a2 = v4;
  return a2;
}

//----- (00469060) --------------------------------------------------------
int *__thiscall sub_469060(int *this)
{
  sub_46A2C0(this);
  return this;
}

//----- (00469080) --------------------------------------------------------
int *__thiscall sub_469080(int *this)
{
  sub_46A3A0(this);
  return this;
}

//----- (004690A0) --------------------------------------------------------
int *__thiscall sub_4690A0(int *this)
{
  sub_4312E0(this);
  return this;
}

//----- (004690C0) --------------------------------------------------------
int *__thiscall sub_4690C0(int *this, int *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_46A480(this);
  *a2 = v4;
  return a2;
}

//----- (004690F0) --------------------------------------------------------
int *__thiscall sub_4690F0(int *this)
{
  sub_46A4A0(this);
  return this;
}

//----- (00469110) --------------------------------------------------------
int *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::const_iterator::operator++(int *this)
{
  *this = *(_DWORD *)sub_465290(*this);
  return this;
}

//----- (00469140) --------------------------------------------------------
int *__thiscall sub_469140(int *this, int *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_465190(this);
  *a2 = v4;
  return a2;
}

//----- (00469170) --------------------------------------------------------
int *__thiscall sub_469170(int *this)
{
  sub_46A660(this);
  return this;
}

//----- (00469190) --------------------------------------------------------
int *__thiscall sub_469190(int *this)
{
  sub_46A580(this);
  return this;
}

//----- (004691B0) --------------------------------------------------------
void __thiscall std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator>(std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *this, const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *_Val1, const std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *_Val2)
{
  *(_DWORD *)this = *(_DWORD *)_Val1;
  *((_DWORD *)this + 1) = *(_DWORD *)_Val2;
}

//----- (004691E0) --------------------------------------------------------
int __stdcall sub_4691E0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_4691E0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469260) --------------------------------------------------------
int __stdcall sub_469260(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_469260(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004692E0) --------------------------------------------------------
int __thiscall sub_4692E0(int *this, const char **a2)
{
  const char **v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_46DDD0(v5) )
  {
    v2 = (const char **)sub_463EE0(v5);
    if ( StrCmp::operator()((StrCmp *)this, *a2, *v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469370) --------------------------------------------------------
int __stdcall sub_469370(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_469370(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004693F0) --------------------------------------------------------
int __stdcall sub_4693F0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_4628A0((int)a1); ; i = (char *)sub_4628A0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_4693F0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469470) --------------------------------------------------------
int __cdecl sub_469470(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_41BA20(a1);
    if ( *(_BYTE *)sub_4628A0(*v1) )
      break;
    a1 = *(_DWORD *)sub_41BA20(a1);
  }
  return a1;
}

//----- (004694B0) --------------------------------------------------------
int __cdecl sub_4694B0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)unknown_libname_21(a1);
    if ( *(_BYTE *)sub_4628A0(*v1) )
      break;
    a1 = *(_DWORD *)unknown_libname_21(a1);
  }
  return a1;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004694F0) --------------------------------------------------------
int __thiscall sub_4694F0(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_4628A0(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469580) --------------------------------------------------------
CMemory **sub_469580()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_40F370(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)unknown_libname_21(v7);
  sub_46B180(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_465290((int)v7);
  sub_46B180(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_41BA20((int)v7);
  sub_46B180(v2, (int)&v4);
  *(_BYTE *)sub_465F00((int)v7) = 1;
  *(_BYTE *)sub_4628A0((int)v7) = 0;
  return v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004696A0) --------------------------------------------------------
unsigned int __thiscall std::allocator<std::string>::max_size(std::allocator<std::string > *this)
{
  return 153391689;
}

//----- (004696D0) --------------------------------------------------------
int std::allocator<std::pair<std::string const,void *>>::max_size()
{
  return 0x7FFFFFF;
}

//----- (00469700) --------------------------------------------------------
int __cdecl sub_469700(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_41BA20(a1);
    if ( *(_BYTE *)sub_463660(*v1) )
      break;
    a1 = *(_DWORD *)sub_41BA20(a1);
  }
  return a1;
}

//----- (00469740) --------------------------------------------------------
int __cdecl sub_469740(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)unknown_libname_21(a1);
    if ( *(_BYTE *)sub_463660(*v1) )
      break;
    a1 = *(_DWORD *)unknown_libname_21(a1);
  }
  return a1;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469780) --------------------------------------------------------
int __thiscall sub_469780(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_463660(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469810) --------------------------------------------------------
CMemory **sub_469810()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_469930(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)unknown_libname_21(v7);
  sub_46B180(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_465290((int)v7);
  sub_46B180(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_41BA20((int)v7);
  sub_46B180(v2, (int)&v4);
  *(_BYTE *)sub_466B50((int)v7) = 1;
  *(_BYTE *)sub_463660((int)v7) = 0;
  return v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469930) --------------------------------------------------------
CMemory **__stdcall sub_469930(int a1)
{
  return sub_46ADC0(a1);
}

//----- (00469950) --------------------------------------------------------
int __stdcall sub_469950(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_463D30((int)a1); ; i = (char *)sub_463D30(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_469950(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (004699D0) --------------------------------------------------------
int __cdecl sub_4699D0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_41BA20(a1);
    if ( *(_BYTE *)sub_463D30(*v1) )
      break;
    a1 = *(_DWORD *)sub_41BA20(a1);
  }
  return a1;
}

//----- (00469A10) --------------------------------------------------------
int __cdecl sub_469A10(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)unknown_libname_21(a1);
    if ( *(_BYTE *)sub_463D30(*v1) )
      break;
    a1 = *(_DWORD *)unknown_libname_21(a1);
  }
  return a1;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469A50) --------------------------------------------------------
int __thiscall sub_469A50(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_463D30(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469AE0) --------------------------------------------------------
CMemory **sub_469AE0()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_4312C0(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)unknown_libname_21(v7);
  sub_46B180(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_465290((int)v7);
  sub_46B180(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_41BA20((int)v7);
  sub_46B180(v2, (int)&v4);
  *(_BYTE *)sub_431160((int)v7) = 1;
  *(_BYTE *)sub_463D30((int)v7) = 0;
  return v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469C00) --------------------------------------------------------
int __cdecl sub_469C00(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_41BA20(a1);
    if ( *(_BYTE *)sub_463ED0(*v1) )
      break;
    a1 = *(_DWORD *)sub_41BA20(a1);
  }
  return a1;
}

//----- (00469C40) --------------------------------------------------------
int __cdecl sub_469C40(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)unknown_libname_21(a1);
    if ( *(_BYTE *)sub_463ED0(*v1) )
      break;
    a1 = *(_DWORD *)unknown_libname_21(a1);
  }
  return a1;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469C80) --------------------------------------------------------
int __thiscall sub_469C80(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_463ED0(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469D10) --------------------------------------------------------
CMemory **sub_469D10()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_469E60(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)unknown_libname_21(v7);
  sub_46B180(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_465290((int)v7);
  sub_46B180(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_41BA20((int)v7);
  sub_46B180(v2, (int)&v4);
  *(_BYTE *)sub_4680F0((int)v7) = 1;
  *(_BYTE *)sub_463ED0((int)v7) = 0;
  return v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469E30) --------------------------------------------------------
int sub_469E30()
{
  return 42949672;
}

//----- (00469E60) --------------------------------------------------------
CMemory **__stdcall sub_469E60(int a1)
{
  return sub_46ADE0(a1);
}

//----- (00469E80) --------------------------------------------------------
int __stdcall sub_469E80(void *a1)
{
  char *i; // eax
  int result; // eax
  void **v3; // eax
  void *v4; // [esp+4h] [ebp-4h]

  v4 = a1;
  for ( i = (char *)sub_4645D0((int)a1); ; i = (char *)sub_4645D0((int)v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (void **)sub_41BA20((int)v4);
    sub_469E80(*v3);
    v4 = *(void **)unknown_libname_21(v4);
    sub_464F00(a1);
    sub_441930(a1, 1);
    a1 = v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469F00) --------------------------------------------------------
int __thiscall sub_469F00(int *this, void *a2)
{
  void *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_4645D0(v5) )
  {
    v2 = (void *)sub_463EE0(v5);
    if ( sub_461960(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00469F90) --------------------------------------------------------
CMemory **sub_469F90()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_468FD0(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)unknown_libname_21(v7);
  sub_46B180(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_465290((int)v7);
  sub_46B180(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_41BA20((int)v7);
  sub_46B180(v2, (int)&v4);
  *(_BYTE *)sub_4645C0((int)v7) = 1;
  *(_BYTE *)sub_4645D0((int)v7) = 0;
  return v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046A0B0) --------------------------------------------------------
int std::allocator<CryptoPP::ECPPoint>::max_size()
{
  return 97612893;
}

//----- (0046A0E0) --------------------------------------------------------
int sub_46A0E0()
{
  return sub_46A940();
}

//----- (0046A100) --------------------------------------------------------
int __thiscall sub_46A100(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_4628A0(*this) )
  {
    result = *(_DWORD *)sub_41BA20(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)unknown_libname_21(*this);
    if ( *(_BYTE *)sub_4628A0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        if ( *(_BYTE *)sub_4628A0(v5) || *this != *(_DWORD *)unknown_libname_21(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_4628A0(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)unknown_libname_21(*this);
      result = sub_469470(*v3);
      *this = result;
    }
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046A1E0) --------------------------------------------------------
int __thiscall sub_46A1E0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_4628A0(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_41BA20(*this);
    if ( *(_BYTE *)sub_4628A0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        result = *(char *)sub_4628A0(v5);
        if ( result )
          break;
        result = sub_41BA20(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_41BA20(*this);
      result = sub_4694B0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0046A2A0) --------------------------------------------------------
int *__thiscall sub_46A2A0(int *this)
{
  sub_46A970(this);
  return this;
}

//----- (0046A2C0) --------------------------------------------------------
int __thiscall sub_46A2C0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_463660(*this) )
  {
    result = *(_DWORD *)sub_41BA20(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)unknown_libname_21(*this);
    if ( *(_BYTE *)sub_463660(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        if ( *(_BYTE *)sub_463660(v5) || *this != *(_DWORD *)unknown_libname_21(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_463660(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)unknown_libname_21(*this);
      result = sub_469700(*v3);
      *this = result;
    }
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046A3A0) --------------------------------------------------------
int __thiscall sub_46A3A0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_463D30(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_41BA20(*this);
    if ( *(_BYTE *)sub_463D30(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        result = *(char *)sub_463D30(v5);
        if ( result )
          break;
        result = sub_41BA20(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_41BA20(*this);
      result = sub_469A10(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0046A460) --------------------------------------------------------
int __thiscall sub_46A460(_DWORD *this, _DWORD *a2)
{
  return (*this - *a2) >> 3;
}

//----- (0046A480) --------------------------------------------------------
int *__thiscall sub_46A480(int *this)
{
  sub_46A990(this);
  return this;
}

//----- (0046A4A0) --------------------------------------------------------
int __thiscall sub_46A4A0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_463ED0(*this) )
  {
    result = *(_DWORD *)sub_41BA20(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)unknown_libname_21(*this);
    if ( *(_BYTE *)sub_463ED0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        if ( *(_BYTE *)sub_463ED0(v5) || *this != *(_DWORD *)unknown_libname_21(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_463ED0(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)unknown_libname_21(*this);
      result = sub_469C00(*v3);
      *this = result;
    }
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046A580) --------------------------------------------------------
int __thiscall sub_46A580(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_4645D0(*this) )
  {
    result = *(_DWORD *)sub_41BA20(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)unknown_libname_21(*this);
    if ( *(_BYTE *)sub_4645D0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        if ( *(_BYTE *)sub_4645D0(v5) || *this != *(_DWORD *)unknown_libname_21(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_4645D0(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)unknown_libname_21(*this);
      result = sub_464CA0(*v3);
      *this = result;
    }
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046A660) --------------------------------------------------------
int __thiscall sub_46A660(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_4645D0(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_41BA20(*this);
    if ( *(_BYTE *)sub_4645D0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        result = *(char *)sub_4645D0(v5);
        if ( result )
          break;
        result = sub_41BA20(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_41BA20(*this);
      result = sub_464CE0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0046A720) --------------------------------------------------------
_DWORD *__thiscall sub_46A720(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6)
{
  *this = a2;
  this[1] = a3;
  this[2] = a4;
  qmemcpy(this + 3, a5, 0x1Cu);
  *((_BYTE *)this + 40) = a6;
  *((_BYTE *)this + 41) = 0;
  return this;
}

//----- (0046A770) --------------------------------------------------------
_DWORD *__thiscall sub_46A770(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6)
{
  *this = a2;
  this[1] = a3;
  this[2] = a4;
  qmemcpy(this + 3, a5, 0x20u);
  *((_BYTE *)this + 44) = a6;
  *((_BYTE *)this + 45) = 0;
  return this;
}

//----- (0046A7C0) --------------------------------------------------------
_DWORD *__thiscall sub_46A7C0(_DWORD *this, int a2, int a3, int a4, _DWORD *a5, char a6)
{
  _DWORD *v6; // ecx

  *this = a2;
  this[1] = a3;
  this[2] = a4;
  v6 = this + 3;
  *v6 = *a5;
  v6[1] = a5[1];
  v6[2] = a5[2];
  *((_BYTE *)this + 24) = a6;
  *((_BYTE *)this + 25) = 0;
  return this;
}

//----- (0046A820) --------------------------------------------------------
_DWORD *__thiscall sub_46A820(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6)
{
  *this = a2;
  this[1] = a3;
  this[2] = a4;
  qmemcpy(this + 3, a5, 0x64u);
  *((_BYTE *)this + 112) = a6;
  *((_BYTE *)this + 113) = 0;
  return this;
}

//----- (0046A870) --------------------------------------------------------
_DWORD *__thiscall sub_46A870(_DWORD *this, int a2, int a3, int a4, int a5, char a6)
{
  *this = a2;
  this[1] = a3;
  this[2] = a4;
  sub_46A900((int)(this + 3), a5);
  *((_BYTE *)this + 56) = a6;
  *((_BYTE *)this + 57) = 0;
  return this;
}

//----- (0046A8C0) --------------------------------------------------------
_DWORD *__thiscall sub_46A8C0(_DWORD *this, int a2, int a3, const void *a4)
{
  *this = a2;
  this[1] = a3;
  qmemcpy(this + 2, a4, 0x33u);
  return this;
}

//----- (0046A900) --------------------------------------------------------
int __thiscall sub_46A900(int this, int a2)
{
  std::string::string((std::string *)this, (const std::string *)a2);
  *(_DWORD *)(this + 28) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(this + 32) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(this + 36) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 40);
  return this;
}

//----- (0046A940) --------------------------------------------------------
int sub_46A940()
{
  return 84215045;
}

//----- (0046A970) --------------------------------------------------------
int *__thiscall sub_46A970(int *this)
{
  sub_46A9B0(this);
  return this;
}

//----- (0046A990) --------------------------------------------------------
int *__thiscall sub_46A990(int *this)
{
  sub_46AA70(this);
  return this;
}

//----- (0046A9B0) --------------------------------------------------------
int __thiscall sub_46A9B0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_463660(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_41BA20(*this);
    if ( *(_BYTE *)sub_463660(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        result = *(char *)sub_463660(v5);
        if ( result )
          break;
        result = sub_41BA20(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_41BA20(*this);
      result = sub_469740(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0046AA70) --------------------------------------------------------
int __thiscall sub_46AA70(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_463ED0(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_41BA20(*this);
    if ( *(_BYTE *)sub_463ED0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_465290(*this);
        result = *(char *)sub_463ED0(v5);
        if ( result )
          break;
        result = sub_41BA20(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_41BA20(*this);
      result = sub_469C40(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0046AB30) --------------------------------------------------------
_DWORD *__cdecl sub_46AB30(_DWORD *a1, _DWORD *a2)
{
  *a2 = *a1;
  a2[1] = a1[1];
  return a1 + 2;
}

//----- (0046AB50) --------------------------------------------------------
int __cdecl sub_46AB50(int a1, char a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  qmemcpy((void *)a1, &a2, 0x30u);
  *(_WORD *)(a1 + 48) = a14;
  *(_BYTE *)(a1 + 50) = BYTE2(a14);
  return a1 + 51;
}

//----- (0046AB70) --------------------------------------------------------
BOOL __cdecl std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(int a1, char a2, _DWORD *a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_12(&v5);
  return std::_Distance2<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
           a1,
           a2,
           a3);
}
// 46AB73: variable 'v3' is possibly undefined
// 417B80: using guessed type _DWORD __cdecl unknown_libname_12(_DWORD);

//----- (0046ABA0) --------------------------------------------------------
BOOL __cdecl sub_46ABA0(int a1, char a2, _DWORD *a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_12(&v5);
  return sub_46AEB0(a1, a2, a3);
}
// 46ABA3: variable 'v3' is possibly undefined
// 417B80: using guessed type _DWORD __cdecl unknown_libname_12(_DWORD);

//----- (0046ABD0) --------------------------------------------------------
BOOL __cdecl sub_46ABD0(int a1, char a2, _DWORD *a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_12(&v5);
  return sub_46AF30(a1, a2, a3);
}
// 46ABD3: variable 'v3' is possibly undefined
// 417B80: using guessed type _DWORD __cdecl unknown_libname_12(_DWORD);

//----- (0046AC00) --------------------------------------------------------
BOOL __cdecl sub_46AC00(int a1, char a2, _DWORD *a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_12(&v5);
  return sub_46AEF0(a1, a2, a3);
}
// 46AC03: variable 'v3' is possibly undefined
// 417B80: using guessed type _DWORD __cdecl unknown_libname_12(_DWORD);

//----- (0046AC30) --------------------------------------------------------
BOOL __cdecl sub_46AC30(int a1, char a2, _DWORD *a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_12(&v5);
  return sub_46AF30(a1, a2, a3);
}
// 46AC33: variable 'v3' is possibly undefined
// 417B80: using guessed type _DWORD __cdecl unknown_libname_12(_DWORD);

//----- (0046AC60) --------------------------------------------------------
BOOL __cdecl sub_46AC60(int a1, char a2, _DWORD *a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_12(&v5);
  return sub_46AF70(a1, a2, a3);
}
// 46AC63: variable 'v3' is possibly undefined
// 417B80: using guessed type _DWORD __cdecl unknown_libname_12(_DWORD);

//----- (0046AC90) --------------------------------------------------------
BOOL __cdecl sub_46AC90(int a1, char a2, _DWORD *a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_12(&v5);
  return sub_46AFB0(a1, a2, a3);
}
// 46AC93: variable 'v3' is possibly undefined
// 417B80: using guessed type _DWORD __cdecl unknown_libname_12(_DWORD);

//----- (0046ACD0) --------------------------------------------------------
int __cdecl sub_46ACD0(int a1, int a2)
{
  unknown_libname_27(&a1, &a2);
  return std::_Destroy_range<std::allocator<boost::shared_ptr<boost::asio::detail::win_mutex>>>(a1, a2);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0046AD10) --------------------------------------------------------
void *__stdcall sub_46AD10(int a1, int a2, void *a3)
{
  return sub_43F700(a1, a2, a3);
}

//----- (0046AD40) --------------------------------------------------------
void __cdecl std::fill<IPAddrMask *,IPAddrMask>(IPAddrMask *_First, IPAddrMask *_Last, const IPAddrMask *_Val)
{
  int v3; // ecx

  while ( _First != _Last )
  {
    v3 = *((_DWORD *)_Val + 1);
    *(_DWORD *)_First = *(_DWORD *)_Val;
    *((_DWORD *)_First + 1) = v3;
    _First = (IPAddrMask *)((char *)_First + 8);
  }
}

//----- (0046AD70) --------------------------------------------------------
CMemory **__cdecl sub_46AD70(int a1)
{
  return sub_401000(8 * a1);
}

//----- (0046AD90) --------------------------------------------------------
void sub_46AD90()
{
  ;
}

//----- (0046ADA0) --------------------------------------------------------
CMemory **__cdecl sub_46ADA0(int a1)
{
  return sub_401000(44 * a1);
}

//----- (0046ADC0) --------------------------------------------------------
CMemory **__cdecl sub_46ADC0(int a1)
{
  return sub_401000(28 * a1);
}

//----- (0046ADE0) --------------------------------------------------------
CMemory **__cdecl sub_46ADE0(int a1)
{
  return sub_401000(116 * a1);
}

//----- (0046AE00) --------------------------------------------------------
CMemory **__cdecl sub_46AE00(int a1)
{
  return sub_401000(60 * a1);
}

//----- (0046AE20) --------------------------------------------------------
void __cdecl std::_Construct<std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node *,std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node *>(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **_Ptr, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *const *_Val)
{
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **v2; // [esp+4h] [ebp-4h]

  v2 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)operator new(4u, _Ptr);
  if ( v2 )
    *v2 = *_Val;
}

//----- (0046AE60) --------------------------------------------------------
void *__thiscall sub_46AE60(void *this, char a2)
{
  sub_46AE90((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046AE90) --------------------------------------------------------
void __thiscall sub_46AE90(int this)
{
  sub_45F570((std::string *)(this + 12));
}

//----- (0046AEB0) --------------------------------------------------------
BOOL __cdecl sub_46AEB0(int a1, char a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_4650B0(&a1);
  }
  return result;
}

//----- (0046AEF0) --------------------------------------------------------
BOOL __cdecl sub_46AEF0(int a1, char a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_46A2A0(&a1);
  }
  return result;
}

//----- (0046AF30) --------------------------------------------------------
BOOL __cdecl sub_46AF30(int a1, char a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_465110(&a1);
  }
  return result;
}

//----- (0046AF70) --------------------------------------------------------
BOOL __cdecl sub_46AF70(int a1, char a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_46A480(&a1);
  }
  return result;
}

//----- (0046AFB0) --------------------------------------------------------
BOOL __cdecl sub_46AFB0(int a1, char a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_465190(&a1);
  }
  return result;
}

//----- (0046AFF0) --------------------------------------------------------
void *__cdecl sub_46AFF0(void *a1, int a2, int a3)
{
  void *result; // eax

  result = a1;
  while ( a2 )
  {
    sub_46B0C0(a1, a3);
    --a2;
    a1 = (char *)a1 + 8;
  }
  return result;
}

//----- (0046B050) --------------------------------------------------------
int __cdecl std::_Destroy_range<std::allocator<boost::shared_ptr<boost::asio::detail::win_mutex>>>(int a1, int a2)
{
  int result; // eax

  while ( a1 != a2 )
  {
    sub_441D00(a1);
    result = a1 + 8;
    a1 += 8;
  }
  return result;
}

//----- (0046B080) --------------------------------------------------------
_DWORD *__cdecl std::_Copy_backward_opt<IPAddrMask *,IPAddrMask *>(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  int v3; // edx

  while ( a1 != a2 )
  {
    a2 -= 2;
    a3 -= 2;
    v3 = a2[1];
    *a3 = *a2;
    a3[1] = v3;
  }
  return a3;
}

//----- (0046B0C0) --------------------------------------------------------
void __stdcall sub_46B0C0(void *a1, int a2)
{
  std::_Construct<IPAddrMask,IPAddrMask>((IPAddrMask *)a1, (const IPAddrMask *)a2);
}

//----- (0046B0E0) --------------------------------------------------------
void *__cdecl sub_46B0E0(int a1, int a2, void *a3)
{
  while ( a1 != a2 )
  {
    sub_46B0C0(a3, a1);
    a3 = (char *)a3 + 8;
    a1 += 8;
  }
  return a3;
}

//----- (0046B150) --------------------------------------------------------
void *__thiscall sub_46B150(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0046B180) --------------------------------------------------------
void __stdcall sub_46B180(void *a1, int a2)
{
  std::_Construct<std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node *,std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node *>(
    (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)a1,
    (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *const *)a2);
}

//----- (0046B1A0) --------------------------------------------------------
void *__thiscall sub_46B1A0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0046B1D0) --------------------------------------------------------
CMemory **sub_46B1D0()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_443000(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)unknown_libname_21(v7);
  sub_46B180(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_465290((int)v7);
  sub_46B180(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_41BA20((int)v7);
  sub_46B180(v2, (int)&v4);
  *(_BYTE *)unknown_libname_26(v7) = 1;
  *(_BYTE *)sub_46DDD0((int)v7) = 0;
  return v7;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 4651D0: using guessed type _DWORD __cdecl unknown_libname_26(_DWORD);

//----- (0046B2F0) --------------------------------------------------------
void *__thiscall sub_46B2F0(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  void *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  unknown_libname_14(&v2);
  std::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(
    v3,
    (char)v2);
  *((_DWORD *)v3 + 1) = sub_46B330();
  *((_DWORD *)v3 + 2) = 0;
  return v3;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0046B330) --------------------------------------------------------
int sub_46B330()
{
  void *v0; // eax
  void *v1; // eax
  int v3; // [esp+4h] [ebp-8h] BYREF
  int v4; // [esp+8h] [ebp-4h]

  v3 = (int)sub_468FD0(1);
  v4 = 0;
  v0 = (void *)unknown_libname_21(v3);
  sub_46B180(v0, (int)&v3);
  ++v4;
  v1 = (void *)sub_465290(v3);
  sub_46B180(v1, (int)&v3);
  return v3;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046B3D0) --------------------------------------------------------
CIOObject *__thiscall sub_46B3D0(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_49DDB0;
  return this;
}
// 49DDB0: using guessed type int (__stdcall *off_49DDB0)(int);

//----- (0046B3F0) --------------------------------------------------------
_DWORD *__thiscall sub_46B3F0(_DWORD *this)
{
  return sub_422250(this);
}

//----- (0046B410) --------------------------------------------------------
int __thiscall sub_46B410(int *this)
{
  return sub_46B430(this);
}

//----- (0046B430) --------------------------------------------------------
int __thiscall sub_46B430(int *this)
{
  return sub_46B450(this);
}

//----- (0046B450) --------------------------------------------------------
int __thiscall sub_46B450(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_462470(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046B500) --------------------------------------------------------
int __thiscall sub_46B500(int *this)
{
  return sub_46B520(this);
}

//----- (0046B520) --------------------------------------------------------
int __thiscall sub_46B520(int *this)
{
  return sub_46B540(this);
}

//----- (0046B540) --------------------------------------------------------
int __thiscall sub_46B540(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_462510(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046B5F0) --------------------------------------------------------
int *__thiscall sub_46B5F0(int *this)
{
  return std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_Tidy(this);
}

//----- (0046B610) --------------------------------------------------------
void *__thiscall std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::clear(int *this)
{
  void *result; // eax
  void *v3; // [esp+4h] [ebp-8h]
  void *v4; // [esp+8h] [ebp-4h]

  v4 = *(void **)unknown_libname_21(this[1]);
  *(_DWORD *)unknown_libname_21(this[1]) = this[1];
  *(_DWORD *)sub_465290(this[1]) = this[1];
  this[2] = 0;
  while ( 1 )
  {
    result = v4;
    if ( v4 == (void *)this[1] )
      break;
    v3 = *(void **)unknown_libname_21(v4);
    sub_441D00((int)v4);
    sub_441930(v4, 1);
    v4 = v3;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046B6B0) --------------------------------------------------------
BOOL __thiscall sub_46B6B0(_DWORD *this, int a2)
{
  return this[1] == *(_DWORD *)(a2 + 452);
}

//----- (0046B6E0) --------------------------------------------------------
BOOL __thiscall sub_46B6E0(_DWORD *this, int a2)
{
  return *(_DWORD *)(a2 + 60) >= this[1];
}

//----- (0046B700) --------------------------------------------------------
BOOL __thiscall sub_46B700(int *this, int a2)
{
  return *(_DWORD *)(a2 + 452) == this[1] >> 16 && ((unsigned __int16)this[1] & *(_DWORD *)(a2 + 456)) != 0;
}

//----- (0046B760) --------------------------------------------------------
BOOL __thiscall sub_46B760(_DWORD *this, int a2)
{
  return *(_DWORD *)(a2 + 460) >= this[1];
}

//----- (0046B790) --------------------------------------------------------
int __userpurge sub_46B790@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int *v6; // eax
  char v9[4]; // [esp+4h] [ebp-1Ch] BYREF
  int v10; // [esp+8h] [ebp-18h] BYREF
  int v11; // [esp+Ch] [ebp-14h]
  int v12; // [esp+10h] [ebp-10h]
  int v13; // [esp+14h] [ebp-Ch]
  int v14; // [esp+18h] [ebp-8h]
  int v15; // [esp+1Ch] [ebp-4h] BYREF

  CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
  sub_482CA0((int *)(a1 + 8), &v15);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 8), v9);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v15,
            v5) )
      break;
    v6 = (int *)sub_43E1F0(&v15);
    v11 = *v6;
    v12 = v6[1];
    v13 = v6[2];
    v14 = v6[3];
    if ( !sub_451770(a5, v11, v13) )
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
      return 0;
    }
    sub_42EAB0(&v15, &v10, 0);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
  return 1;
}

//----- (0046B850) --------------------------------------------------------
BOOL __userpurge sub_46B850@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  return sub_454300(a5, a2, a3, a4) >= *(_DWORD *)(a1 + 4);
}

//----- (0046B880) --------------------------------------------------------
BOOL __userpurge sub_46B880@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  return sub_454580(a5, a2, a3, a4, *(_DWORD *)(a1 + 4));
}

//----- (0046B8A0) --------------------------------------------------------
int __userpurge sub_46B8A0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  return sub_454630(a5, a2, a3, a4, *(_DWORD *)(a1 + 4));
}

//----- (0046B8C0) --------------------------------------------------------
BOOL __userpurge sub_46B8C0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  return sub_454630(a5, a2, a3, a4, *(_DWORD *)(a1 + 4)) == 0;
}

//----- (0046B8F0) --------------------------------------------------------
int __thiscall sub_46B8F0(_DWORD *this, _DWORD *a2)
{
  int v3; // [esp+0h] [ebp-8h]

  if ( (unsigned __int16)this[1] )
    v3 = sub_40A660(a2, 1 << BYTE2(this[1]));
  else
    v3 = sub_40A660(a2, 1 << BYTE2(this[1])) == 0;
  return v3;
}

//----- (0046B950) --------------------------------------------------------
void __userpurge sub_46B950(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_448C90(a2, a3, a4, a5, 51, "d", *(_DWORD *)(a1 + 4));
}

//----- (0046B980) --------------------------------------------------------
void __thiscall sub_46B980(int **this, int a2)
{
  sub_46D990(this[1], a2);
}

//----- (0046B9A0) --------------------------------------------------------
void __userpurge sub_46B9A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  a5[114] |= *(_DWORD *)(a1 + 4);
  sub_448C90(a2, a3, a4, (int)a5, 37, "bb", 38, a5[114]);
  CDBSocket::Write(a2, a3, a4, 15, "db", a5[111], *(_DWORD *)(a1 + 4));
  sub_470FC0(a5 + 154, a2, a3, a4);
}

//----- (0046BA20) --------------------------------------------------------
int __thiscall sub_46BA20(_DWORD *this, int a2)
{
  return (*(int (__cdecl **)(int, int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 25, 1, this[1], (int)this[1] >> 31);
}

//----- (0046BA50) --------------------------------------------------------
BOOL __userpurge sub_46BA50@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  BOOL result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-20h] BYREF
  int v10; // [esp+8h] [ebp-1Ch] BYREF
  volatile int *v11; // [esp+Ch] [ebp-18h]
  int v12; // [esp+10h] [ebp-14h]
  int v13; // [esp+14h] [ebp-10h]
  int v14; // [esp+18h] [ebp-Ch]
  int v16; // [esp+20h] [ebp-4h] BYREF

  sub_482CA0((int *)(a1 + 8), &v16);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00((int *)(a1 + 8), v9);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v16,
               v5);
    if ( !result )
      break;
    v7 = (int *)sub_43E1F0(&v16);
    v12 = *v7;
    v13 = v7[1];
    v14 = v7[2];
    if ( v7[3] )
    {
      v11 = CItem::CreateItem(v12, v13, v14, -1);
      if ( v11 )
      {
        sub_4010D0(v11, a2, a3, a4);
        if ( sub_4522B0(a5, a2, a3, a4, 16, v11) == 1 )
        {
          if ( (*(int (__thiscall **)(volatile int *))(*v11 + 196))(v11) )
            ++*(_DWORD *)(a5 + 1016);
        }
        else
        {
          CBase::Delete(v11);
        }
        sub_401C50(v11, a2, a3, a4);
      }
    }
    else if ( !sub_451F80(a5, a2, a3, a4, 16, v12, v14) )
    {
      LOG_ERR(
        "CActionItem::Action() Can't remove Quest Item. (pid:%d, index:%d, num:%d)",
        *(_DWORD *)(a5 + 444),
        v12,
        v14);
    }
    sub_42EAB0(&v16, &v10, 0);
  }
  return result;
}

//----- (0046BB80) --------------------------------------------------------
void __userpurge sub_46BB80(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  volatile int *v6; // [esp+4h] [ebp-4h]

  v6 = CItem::CreateQuestItem(a2, a3, a4, *(_DWORD *)(a1 + 4));
  if ( v6 )
  {
    sub_4010D0(v6, a2, a3, a4);
    if ( sub_4522B0(a5, a2, a3, a4, 16, v6) == 1 )
    {
      if ( (*(int (__thiscall **)(volatile int *, int))(*v6 + 196))(v6, a1) )
        ++*(_DWORD *)(a5 + 1016);
    }
    else
    {
      CBase::Delete(v6);
    }
    sub_401C50(v6, a2, a3, a4);
  }
}

//----- (0046BC00) --------------------------------------------------------
void __userpurge sub_46BC00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a5 + 88))(a5, 30, 1, *(_DWORD *)(a1 + 4));
  CDBSocket::Write(a2, a3, a4, 16, "dbw", a5[111], 30, a5[115]);
}

//----- (0046BC50) --------------------------------------------------------
void __userpurge sub_46BC50(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a5 + 88))(a5, 24, 1, *(_DWORD *)(a1 + 4));
  CDBSocket::Write(a2, a3, a4, 16, "dbw", a5[111], 24, a5[135]);
}

//----- (0046BCA0) --------------------------------------------------------
void __userpurge sub_46BCA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_4543D0(a5, a2, a3, a4, *(_DWORD *)(a1 + 4), 0);
}

//----- (0046BCC0) --------------------------------------------------------
void __userpurge sub_46BCC0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_4543D0(a5, a2, a3, a4, *(_DWORD *)(a1 + 4), 1);
}

//----- (0046BCE0) --------------------------------------------------------
int __userpurge sub_46BCE0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v7 = 1 << BYTE2(*(_DWORD *)(a1 + 4));
  if ( !(unsigned __int16)*(_DWORD *)(a1 + 4) )
    return (*(int (__thiscall **)(_DWORD *, int))(*a5 + 112))(a5, v7);
  if ( v7 == 32 )
  {
    v6 = 600000;
    if ( sub_408E10(a5, 8) )
    {
      v6 = 300000;
    }
    else if ( sub_408E10(a5, 1) )
    {
      v6 = 300000;
    }
    a5[337] = v6 + GetTickCount();
    sub_448C90(a2, a3, a4, (int)a5, 36, "b", 44);
  }
  return (*(int (__thiscall **)(_DWORD *, int))(*a5 + 100))(a5, v7);
}

//----- (0046BD90) --------------------------------------------------------
void __userpurge sub_46BD90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_4546C0(a5, a2, a3, a4, *(_DWORD *)(a1 + 4));
}

//----- (0046BDB0) --------------------------------------------------------
void __stdcall sub_46BDB0(int a1)
{
  sub_4711B0((_DWORD *)(a1 + 616));
}

//----- (0046BDD0) --------------------------------------------------------
int *__thiscall sub_46BDD0(int *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  void (__thiscall ***v5)(_DWORD, int); // [esp+10h] [ebp-24h]
  char v6[4]; // [esp+14h] [ebp-20h] BYREF
  int v7; // [esp+18h] [ebp-1Ch] BYREF
  void (__thiscall ***v8)(_DWORD, int); // [esp+1Ch] [ebp-18h]
  void (__thiscall ***v9)(_DWORD, int); // [esp+20h] [ebp-14h]
  char v10[4]; // [esp+24h] [ebp-10h] BYREF
  int v11; // [esp+28h] [ebp-Ch] BYREF
  int v12; // [esp+2Ch] [ebp-8h] BYREF
  int v13; // [esp+30h] [ebp-4h] BYREF

  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(this, &v13);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(this, v10);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v13,
            v1) )
      break;
    v8 = *(void (__thiscall ****)(_DWORD, int))sub_46DB60(&v13);
    v9 = v8;
    if ( v8 )
      (**v9)(v9, 1);
    sub_46DB80(&v13, &v11, 0);
  }
  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(this + 3, &v12);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(this + 3, v6);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
            v2) )
      break;
    v5 = *(void (__thiscall ****)(_DWORD, int))sub_46DB60(&v12);
    if ( v5 )
      (**v5)(v5, 1);
    sub_46DB80(&v12, &v7, 0);
  }
  sub_46B5F0(this + 3);
  return sub_46B5F0(this);
}

//----- (0046BED0) --------------------------------------------------------
int __thiscall CCase::SetCondition(int *this, int a2)
{
  lisp::var *v2; // eax
  lisp::var *v4; // eax
  int v5; // eax
  lisp::var *v6; // eax
  int v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  int v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  int v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  int v19; // eax
  lisp::var *v20; // eax
  int v21; // eax
  lisp::var *v22; // eax
  lisp::var *v23; // eax
  _DWORD *v24; // [esp+0h] [ebp-D4h]
  _DWORD *v25; // [esp+4h] [ebp-D0h]
  _DWORD *v26; // [esp+8h] [ebp-CCh]
  _DWORD *v27; // [esp+Ch] [ebp-C8h]
  _DWORD *v28; // [esp+10h] [ebp-C4h]
  _DWORD *v29; // [esp+14h] [ebp-C0h]
  _DWORD *v30; // [esp+18h] [ebp-BCh]
  _DWORD *v31; // [esp+1Ch] [ebp-B8h]
  _DWORD *v32; // [esp+20h] [ebp-B4h]
  _DWORD *v33; // [esp+24h] [ebp-B0h]
  CMemory **v35; // [esp+30h] [ebp-A4h]
  char v36[4]; // [esp+34h] [ebp-A0h] BYREF
  char v37[4]; // [esp+38h] [ebp-9Ch] BYREF
  char v38[4]; // [esp+3Ch] [ebp-98h] BYREF
  CMemory **v39; // [esp+40h] [ebp-94h]
  char v40[4]; // [esp+44h] [ebp-90h] BYREF
  CMemory **v41; // [esp+48h] [ebp-8Ch]
  CMemory **v42; // [esp+4Ch] [ebp-88h]
  char v43[4]; // [esp+50h] [ebp-84h] BYREF
  char v44[4]; // [esp+54h] [ebp-80h] BYREF
  char v45[4]; // [esp+58h] [ebp-7Ch] BYREF
  CMemory **v46; // [esp+5Ch] [ebp-78h]
  char v47[4]; // [esp+60h] [ebp-74h] BYREF
  char v48[4]; // [esp+64h] [ebp-70h] BYREF
  CMemory **v49; // [esp+68h] [ebp-6Ch]
  char v50[4]; // [esp+6Ch] [ebp-68h] BYREF
  CMemory **v51; // [esp+70h] [ebp-64h]
  CMemory **v52; // [esp+74h] [ebp-60h]
  char v53[4]; // [esp+78h] [ebp-5Ch] BYREF
  char v54[4]; // [esp+7Ch] [ebp-58h] BYREF
  char v55[4]; // [esp+80h] [ebp-54h] BYREF
  CMemory **v56; // [esp+84h] [ebp-50h]
  char v57[4]; // [esp+88h] [ebp-4Ch] BYREF
  CMemory **v58; // [esp+8Ch] [ebp-48h]
  char v59[4]; // [esp+90h] [ebp-44h] BYREF
  int v60; // [esp+94h] [ebp-40h]
  int v61; // [esp+98h] [ebp-3Ch]
  int v62; // [esp+9Ch] [ebp-38h]
  int v63; // [esp+A0h] [ebp-34h]
  int v64[4]; // [esp+A4h] [ebp-30h] BYREF
  char v65[4]; // [esp+B4h] [ebp-20h] BYREF
  _DWORD *v66; // [esp+B8h] [ebp-1Ch]
  int v67; // [esp+BCh] [ebp-18h]
  int v68; // [esp+C0h] [ebp-14h]
  int v69; // [esp+C4h] [ebp-10h] BYREF
  char v70[4]; // [esp+C8h] [ebp-Ch]
  _DWORD *v71; // [esp+CCh] [ebp-8h] BYREF
  char v72[4]; // [esp+D0h] [ebp-4h]

  while ( 2 )
  {
    if ( (unsigned __int8)sub_402200(&a2) )
      return 1;
    lisp::var::pop((lisp::var *)&a2, (lisp::var *)&v69);
    v2 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v59);
    *(_DWORD *)v70 = sub_4021E0(v2);
    *(_DWORD *)v72 = CObjectDB::FindSymbol(*(int *)v70);
    if ( *(_DWORD *)v72 )
    {
      v71 = 0;
      switch ( *(_DWORD *)v72 )
      {
        case 7:
          v56 = sub_401000(8u);
          if ( v56 )
          {
            v6 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v55);
            v7 = sub_40BBE0(v6);
            v32 = sub_46C560(v56, v7);
          }
          else
          {
            v32 = 0;
          }
          v71 = v32;
          goto LABEL_49;
        case 0x26:
          v58 = sub_401000(8u);
          if ( v58 )
          {
            v4 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v57);
            v5 = sub_40BBE0(v4);
            v33 = sub_46C480(v58, v5);
          }
          else
          {
            v33 = 0;
          }
          v71 = v33;
          goto LABEL_49;
        case 0x2A:
          v8 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v54);
          v67 = sub_40BBE0(v8);
          v9 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v53);
          v68 = sub_40BBE0(v9);
          v52 = sub_401000(8u);
          if ( v52 )
            v31 = sub_46C590(v52, (1 << v68) | (v67 << 16));
          else
            v31 = 0;
          v71 = v31;
          goto LABEL_49;
        case 0x32:
          v49 = sub_401000(0x18u);
          if ( v49 )
            v29 = sub_46C5F0(v49, 0);
          else
            v29 = 0;
          v71 = v29;
          v66 = v29;
          while ( !(unsigned __int8)sub_402200(&v69) )
          {
            lisp::var::pop((lisp::var *)&v69, (lisp::var *)v65);
            sub_46C440(v64);
            v12 = lisp::var::pop((lisp::var *)v65, (lisp::var *)v48);
            v64[0] = sub_40BBE0(v12);
            v13 = lisp::var::pop((lisp::var *)v65, (lisp::var *)v47);
            v64[2] = sub_40BBE0(v13);
            sub_46DA80((int)(v66 + 2), v64);
          }
          goto LABEL_49;
        case 0x45:
          v46 = sub_401000(8u);
          if ( v46 )
          {
            v14 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v45);
            v15 = sub_40BBE0(v14);
            v28 = sub_46C670(v46, v15);
          }
          else
          {
            v28 = 0;
          }
          v71 = v28;
          goto LABEL_49;
        case 0x46:
          v16 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v44);
          v62 = sub_40BBE0(v16);
          v17 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v43);
          v63 = sub_40BBE0(v17);
          v42 = sub_401000(8u);
          if ( v42 )
            v27 = sub_46C6A0(v42, v63 | (v62 << 16));
          else
            v27 = 0;
          v71 = v27;
          goto LABEL_49;
        case 0x47:
          v51 = sub_401000(8u);
          if ( v51 )
          {
            v10 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v50);
            v11 = sub_40BBE0(v10);
            v30 = sub_46C5C0(v51, v11);
          }
          else
          {
            v30 = 0;
          }
          v71 = v30;
          goto LABEL_49;
        case 0x4A:
          v41 = sub_401000(8u);
          if ( v41 )
          {
            v18 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v40);
            v19 = sub_40BBE0(v18);
            v26 = sub_46C6D0(v41, v19);
          }
          else
          {
            v26 = 0;
          }
          v71 = v26;
          goto LABEL_49;
        case 0x4B:
          v39 = sub_401000(8u);
          if ( v39 )
          {
            v20 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v38);
            v21 = sub_40BBE0(v20);
            v25 = sub_46C700(v39, v21);
          }
          else
          {
            v25 = 0;
          }
          v71 = v25;
          goto LABEL_49;
        case 0x55:
          v22 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v37);
          v60 = sub_40BBE0(v22);
          v23 = lisp::var::pop((lisp::var *)&v69, (lisp::var *)v36);
          v61 = sub_40BBE0(v23);
          v35 = sub_401000(8u);
          if ( v35 )
            v24 = sub_46C730(v35, v61 | (v60 << 16));
          else
            v24 = 0;
          v71 = v24;
LABEL_49:
          sub_46DB30(this, &v71);
          continue;
        default:
          LOG_ERR("CCase::SetCondition() Invalid Condition. (symbol:%d)", *(_DWORD *)v72);
          return 0;
      }
    }
    break;
  }
  LOG_ERR("CCase::SetCondition() Invalid symbol(%s)", *(const char **)v70);
  return 0;
}

//----- (0046C440) --------------------------------------------------------
_DWORD *__thiscall sub_46C440(_DWORD *this)
{
  this[2] = 0;
  this[1] = 0;
  *this = 0;
  this[3] = 1;
  return this;
}

//----- (0046C480) --------------------------------------------------------
_DWORD *__thiscall sub_46C480(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DE78;
  return this;
}
// 49DE78: using guessed type int (__stdcall *off_49DE78[3])(int);

//----- (0046C4B0) --------------------------------------------------------
_DWORD *__thiscall sub_46C4B0(_DWORD *this, int a2)
{
  *this = &off_49DE80;
  this[1] = a2;
  return this;
}
// 49DE80: using guessed type int (__stdcall *off_49DE80)(int);

//----- (0046C4E0) --------------------------------------------------------
_DWORD *__thiscall sub_46C4E0(_DWORD *this, char a2)
{
  sub_46C510(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046C510) --------------------------------------------------------
_DWORD *__thiscall sub_46C510(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  *this = &off_49DE80;
  return result;
}
// 49DE80: using guessed type int (__stdcall *off_49DE80)(int);

//----- (0046C530) --------------------------------------------------------
_DWORD *__thiscall sub_46C530(_DWORD *this, char a2)
{
  sub_46C760(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046C560) --------------------------------------------------------
_DWORD *__thiscall sub_46C560(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DE88;
  return this;
}
// 49DE88: using guessed type int (__stdcall *off_49DE88[18])(int);

//----- (0046C590) --------------------------------------------------------
_DWORD *__thiscall sub_46C590(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DE90;
  return this;
}
// 49DE90: using guessed type int (__stdcall *off_49DE90[16])(int);

//----- (0046C5C0) --------------------------------------------------------
_DWORD *__thiscall sub_46C5C0(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DE98;
  return this;
}
// 49DE98: using guessed type int (__stdcall *off_49DE98[14])(int);

//----- (0046C5F0) --------------------------------------------------------
_DWORD *__thiscall sub_46C5F0(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DEA0;
  sub_46DA30(this + 2);
  return this;
}
// 49DEA0: using guessed type int (__stdcall *off_49DEA0[12])(int);

//----- (0046C620) --------------------------------------------------------
void *__thiscall sub_46C620(void *this, char a2)
{
  sub_46C650((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046C650) --------------------------------------------------------
_DWORD *__thiscall sub_46C650(int this)
{
  sub_46DA60((std::vector<CSyncPacket::CElement> *)(this + 8));
  return sub_46C510((_DWORD *)this);
}

//----- (0046C670) --------------------------------------------------------
_DWORD *__thiscall sub_46C670(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DEA8;
  return this;
}
// 49DEA8: using guessed type int (__stdcall *off_49DEA8[10])(int);

//----- (0046C6A0) --------------------------------------------------------
_DWORD *__thiscall sub_46C6A0(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DEB0;
  return this;
}
// 49DEB0: using guessed type int (__stdcall *off_49DEB0[8])(int);

//----- (0046C6D0) --------------------------------------------------------
_DWORD *__thiscall sub_46C6D0(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DEB8;
  return this;
}
// 49DEB8: using guessed type int (__stdcall *off_49DEB8[6])(int);

//----- (0046C700) --------------------------------------------------------
_DWORD *__thiscall sub_46C700(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DEC0;
  return this;
}
// 49DEC0: using guessed type int (__stdcall *off_49DEC0[4])(int);

//----- (0046C730) --------------------------------------------------------
_DWORD *__thiscall sub_46C730(_DWORD *this, int a2)
{
  sub_46C4B0(this, a2);
  *this = off_49DEC8;
  return this;
}
// 49DEC8: using guessed type int (__stdcall *off_49DEC8[2])(int);

//----- (0046C760) --------------------------------------------------------
_DWORD *__thiscall sub_46C760(_DWORD *this)
{
  return sub_46C510(this);
}

//----- (0046C780) --------------------------------------------------------
int __userpurge sub_46C780@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4)
{
  lisp::var *v4; // eax
  lisp::var *v6; // eax
  int v7; // eax
  lisp::var *v8; // eax
  int v9; // esi
  lisp::var *v10; // eax
  const std::pair<int const ,CSocket *> *v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  int v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  lisp::var *v20; // eax
  lisp::var *v21; // eax
  int v22; // eax
  lisp::var *v23; // eax
  int v24; // eax
  lisp::var *v25; // eax
  int v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  lisp::var *v30; // eax
  lisp::var *v31; // eax
  lisp::var *v32; // eax
  lisp::var *v33; // eax
  int v34; // eax
  _DWORD *v35; // [esp+4h] [ebp-134h]
  _DWORD *v36; // [esp+8h] [ebp-130h]
  _DWORD *v37; // [esp+Ch] [ebp-12Ch]
  _DWORD *v38; // [esp+10h] [ebp-128h]
  _DWORD *v39; // [esp+14h] [ebp-124h]
  _DWORD *v40; // [esp+18h] [ebp-120h]
  _DWORD *v41; // [esp+1Ch] [ebp-11Ch]
  _DWORD *v42; // [esp+20h] [ebp-118h]
  _DWORD *v43; // [esp+28h] [ebp-110h]
  _DWORD *v44; // [esp+2Ch] [ebp-10Ch]
  _DWORD *v45; // [esp+30h] [ebp-108h]
  _DWORD *v46; // [esp+34h] [ebp-104h]
  CItem *v47; // [esp+38h] [ebp-100h]
  _DWORD *v48; // [esp+3Ch] [ebp-FCh]
  CMemory **v50; // [esp+48h] [ebp-F0h]
  char v51[4]; // [esp+4Ch] [ebp-ECh] BYREF
  CMemory **v52; // [esp+50h] [ebp-E8h]
  CMemory **v53; // [esp+54h] [ebp-E4h]
  char v54[4]; // [esp+58h] [ebp-E0h] BYREF
  char v55[4]; // [esp+5Ch] [ebp-DCh] BYREF
  CMemory **v56; // [esp+60h] [ebp-D8h]
  char v57[4]; // [esp+64h] [ebp-D4h] BYREF
  char v58[4]; // [esp+68h] [ebp-D0h] BYREF
  CMemory **v59; // [esp+6Ch] [ebp-CCh]
  char v60[4]; // [esp+70h] [ebp-C8h] BYREF
  char v61[4]; // [esp+74h] [ebp-C4h] BYREF
  char v62[4]; // [esp+78h] [ebp-C0h] BYREF
  CMemory **v63; // [esp+7Ch] [ebp-BCh]
  char v64[4]; // [esp+80h] [ebp-B8h] BYREF
  CMemory **v65; // [esp+84h] [ebp-B4h]
  char v66[4]; // [esp+88h] [ebp-B0h] BYREF
  CMemory **v67; // [esp+8Ch] [ebp-ACh]
  char v68[4]; // [esp+90h] [ebp-A8h] BYREF
  char v69[4]; // [esp+94h] [ebp-A4h] BYREF
  char v70[4]; // [esp+98h] [ebp-A0h] BYREF
  char v71[4]; // [esp+9Ch] [ebp-9Ch] BYREF
  char v72[4]; // [esp+A0h] [ebp-98h] BYREF
  char v73[4]; // [esp+A4h] [ebp-94h] BYREF
  CMemory **v74; // [esp+A8h] [ebp-90h]
  char v75[4]; // [esp+ACh] [ebp-8Ch] BYREF
  CMemory **v76; // [esp+B0h] [ebp-88h]
  CMemory **v77; // [esp+B4h] [ebp-84h]
  char v78[4]; // [esp+B8h] [ebp-80h] BYREF
  CMemory **v79; // [esp+BCh] [ebp-7Ch]
  char v80[8]; // [esp+C0h] [ebp-78h] BYREF
  const char *v81; // [esp+C8h] [ebp-70h] BYREF
  char v82[8]; // [esp+CCh] [ebp-6Ch] BYREF
  CMemory **v83; // [esp+D4h] [ebp-64h]
  char v84[4]; // [esp+D8h] [ebp-60h] BYREF
  char v85[4]; // [esp+DCh] [ebp-5Ch] BYREF
  char v86[4]; // [esp+E0h] [ebp-58h] BYREF
  CMemory **v87; // [esp+E4h] [ebp-54h]
  char v88[4]; // [esp+E8h] [ebp-50h] BYREF
  int v89; // [esp+ECh] [ebp-4Ch]
  int v90; // [esp+F0h] [ebp-48h]
  int v91; // [esp+F4h] [ebp-44h]
  int v92; // [esp+F8h] [ebp-40h]
  int v93; // [esp+FCh] [ebp-3Ch]
  int v94; // [esp+100h] [ebp-38h]
  int v95[2]; // [esp+104h] [ebp-34h] BYREF
  int v96; // [esp+10Ch] [ebp-2Ch]
  int v97; // [esp+110h] [ebp-28h]
  char v98[4]; // [esp+114h] [ebp-24h] BYREF
  _DWORD *v99; // [esp+118h] [ebp-20h]
  int v100; // [esp+11Ch] [ebp-1Ch]
  CItem *v101; // [esp+120h] [ebp-18h] BYREF
  const char *v102; // [esp+124h] [ebp-14h]
  int v103; // [esp+128h] [ebp-10h] BYREF
  char v104[4]; // [esp+12Ch] [ebp-Ch]
  _DWORD *v105; // [esp+130h] [ebp-8h] BYREF
  char v106[4]; // [esp+134h] [ebp-4h]

  while ( 2 )
  {
    if ( (unsigned __int8)sub_402200(&a4) )
      return 1;
    lisp::var::pop((lisp::var *)&a4, (lisp::var *)&v103);
    v4 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v88);
    *(_DWORD *)v104 = sub_4021E0(v4);
    *(_DWORD *)v106 = CObjectDB::FindSymbol(*(int *)v104);
    if ( *(_DWORD *)v106 )
    {
      v105 = 0;
      switch ( *(_DWORD *)v106 )
      {
        case '$':
          v76 = sub_401000(8u);
          if ( v76 )
          {
            v13 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v75);
            v14 = sub_40BBE0(v13);
            v44 = sub_46D0D0(v76, v14);
          }
          else
          {
            v44 = 0;
          }
          v105 = v44;
          goto LABEL_71;
        case '*':
          v12 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v78);
          v100 = sub_40BBE0(v12);
          v77 = sub_401000(8u);
          if ( v77 )
            v45 = sub_46D080(v77, 1 << v100);
          else
            v45 = 0;
          v105 = v45;
          goto LABEL_71;
        case '2':
          v74 = sub_401000(0x18u);
          if ( v74 )
            v43 = sub_46D100(v74, 0);
          else
            v43 = 0;
          v105 = v43;
          v99 = v43;
          while ( !(unsigned __int8)sub_402200(&v103) )
          {
            lisp::var::pop((lisp::var *)&v103, (lisp::var *)v98);
            v15 = lisp::var::pop((lisp::var *)v98, (lisp::var *)v73);
            *(_DWORD *)v104 = sub_4021E0(v15);
            *(_DWORD *)v106 = CObjectDB::FindSymbol(*(int *)v104);
            sub_46C440(v95);
            if ( *(_DWORD *)v106 == 77 )
            {
              v16 = lisp::var::pop((lisp::var *)v98, (lisp::var *)v72);
              v95[0] = sub_40BBE0(v16);
              v17 = lisp::var::pop((lisp::var *)v98, (lisp::var *)v71);
              v95[1] = sub_40BBE0(v17);
              v18 = lisp::var::pop((lisp::var *)v98, (lisp::var *)v70);
              v96 = sub_40BBE0(v18);
            }
            else if ( *(_DWORD *)v106 == 78 )
            {
              v19 = lisp::var::pop((lisp::var *)v98, (lisp::var *)v69);
              v95[0] = sub_40BBE0(v19);
              v20 = lisp::var::pop((lisp::var *)v98, (lisp::var *)v68);
              v96 = sub_40BBE0(v20);
              v97 = 0;
            }
            else
            {
              LOG_ERR("CCase::SetAction() Invalid symbol for ActionItem. (symbol:%d)", *(_DWORD *)v106);
            }
            sub_46DA80((int)(v99 + 2), v95);
          }
          goto LABEL_71;
        case '6':
          v87 = sub_401000(8u);
          if ( v87 )
          {
            v6 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v86);
            v7 = sub_40BBE0(v6);
            v48 = sub_46CF70(v87, v7);
          }
          else
          {
            v48 = 0;
          }
          v105 = v48;
          goto LABEL_71;
        case 'G':
          v65 = sub_401000(8u);
          if ( v65 )
          {
            v23 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v64);
            v24 = sub_40BBE0(v23);
            v41 = sub_46D1B0(v65, v24);
          }
          else
          {
            v41 = 0;
          }
          v105 = v41;
          goto LABEL_71;
        case 'H':
          v63 = sub_401000(8u);
          if ( v63 )
          {
            v25 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v62);
            v26 = sub_40BBE0(v25);
            v40 = sub_46D1E0(v63, v26);
          }
          else
          {
            v40 = 0;
          }
          v105 = v40;
          goto LABEL_71;
        case 'I':
          v27 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v61);
          v93 = sub_40BBE0(v27);
          v28 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v60);
          v94 = sub_40BBE0(v28);
          v59 = sub_401000(8u);
          if ( v59 )
            v39 = sub_46D210(v59, v94 | (v93 << 16));
          else
            v39 = 0;
          v105 = v39;
          goto LABEL_71;
        case 'J':
          v29 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v58);
          v91 = sub_40BBE0(v29);
          v30 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v57);
          v92 = sub_40BBE0(v30);
          v56 = sub_401000(8u);
          if ( v56 )
            v38 = sub_46D240(v56, v92 | (v91 << 16));
          else
            v38 = 0;
          v105 = v38;
          goto LABEL_71;
        case 'L':
          v8 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v85);
          v9 = sub_40BBE0(v8) << 16;
          v10 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v84);
          v102 = (const char *)(sub_40BBE0(v10) | v9);
          v101 = CServer::FindSocket(a2, a3, (DWORD)v102, (int)v102);
          if ( !v101 )
          {
            v83 = sub_401000(0x38u);
            if ( v83 )
              v47 = (CItem *)sub_46D300(v83, (int)v102);
            else
              v47 = 0;
            v101 = v47;
            v81 = v102;
            std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
              (std::pair<char const * const,CItem *> *)v82,
              &v81,
              &v101);
            std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
              (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B96C4,
              (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v80,
              v11);
          }
          v79 = sub_401000(8u);
          if ( v79 )
            v46 = sub_46CFF0(v79, (int)v101);
          else
            v46 = 0;
          v105 = v46;
          goto LABEL_71;
        case 'U':
          v31 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v55);
          v90 = sub_40BBE0(v31);
          v32 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v54);
          v89 = sub_40BBE0(v32);
          v53 = sub_401000(8u);
          if ( v53 )
            v37 = sub_46D270(v53, v89 | (v90 << 16));
          else
            v37 = 0;
          v105 = v37;
          goto LABEL_71;
        case '\\':
          v67 = sub_401000(8u);
          if ( v67 )
          {
            v21 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v66);
            v22 = sub_40BBE0(v21);
            v42 = sub_46D180(v67, v22);
          }
          else
          {
            v42 = 0;
          }
          v105 = v42;
          goto LABEL_71;
        case ']':
          v52 = sub_401000(8u);
          if ( v52 )
          {
            v33 = lisp::var::pop((lisp::var *)&v103, (lisp::var *)v51);
            v34 = sub_40BBE0(v33);
            v36 = sub_46D2A0(v52, v34);
          }
          else
          {
            v36 = 0;
          }
          v105 = v36;
          goto LABEL_71;
        case '^':
          v50 = sub_401000(8u);
          if ( v50 )
            v35 = sub_46D2D0(v50, 0);
          else
            v35 = 0;
          v105 = v35;
LABEL_71:
          sub_46DB30((int *)(a1 + 12), &v105);
          continue;
        default:
          LOG_ERR("CQuest::SetAction() Invalid Reward. (symbol:%d)", *(_DWORD *)v106);
          return 0;
      }
    }
    break;
  }
  LOG_ERR("CCase::SetAction() Invalid symbol(%s)", *(const char **)v104);
  return 0;
}
// 46C921: variable 'v11' is possibly undefined

//----- (0046CF70) --------------------------------------------------------
_DWORD *__thiscall sub_46CF70(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DF68;
  return this;
}
// 49DF68: using guessed type int (__stdcall *off_49DF68[3])(int);

//----- (0046CFA0) --------------------------------------------------------
_DWORD *__thiscall sub_46CFA0(_DWORD *this, char a2)
{
  sub_46CFD0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046CFD0) --------------------------------------------------------
_DWORD *__thiscall sub_46CFD0(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  *this = &off_49DF70;
  return result;
}
// 49DF70: using guessed type int (__stdcall *off_49DF70)(int);

//----- (0046CFF0) --------------------------------------------------------
_DWORD *__thiscall sub_46CFF0(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DF78;
  return this;
}
// 49DF78: using guessed type int (__stdcall *off_49DF78[24])(int);

//----- (0046D020) --------------------------------------------------------
_DWORD *__thiscall sub_46D020(_DWORD *this, int a2)
{
  *this = &off_49DF70;
  this[1] = a2;
  return this;
}
// 49DF70: using guessed type int (__stdcall *off_49DF70)(int);

//----- (0046D050) --------------------------------------------------------
_DWORD *__thiscall sub_46D050(_DWORD *this, char a2)
{
  sub_46D0B0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046D080) --------------------------------------------------------
_DWORD *__thiscall sub_46D080(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DF80;
  return this;
}
// 49DF80: using guessed type int (__stdcall *off_49DF80[22])(int);

//----- (0046D0B0) --------------------------------------------------------
_DWORD *__thiscall sub_46D0B0(_DWORD *this)
{
  return sub_46CFD0(this);
}

//----- (0046D0D0) --------------------------------------------------------
_DWORD *__thiscall sub_46D0D0(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DF88;
  return this;
}
// 49DF88: using guessed type int (__stdcall *off_49DF88[20])(int);

//----- (0046D100) --------------------------------------------------------
_DWORD *__thiscall sub_46D100(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DF90;
  sub_46DA30(this + 2);
  return this;
}
// 49DF90: using guessed type int (__stdcall *off_49DF90[18])(int);

//----- (0046D130) --------------------------------------------------------
void *__thiscall sub_46D130(void *this, char a2)
{
  sub_46D160((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046D160) --------------------------------------------------------
_DWORD *__thiscall sub_46D160(int this)
{
  sub_46DA60((std::vector<CSyncPacket::CElement> *)(this + 8));
  return sub_46CFD0((_DWORD *)this);
}

//----- (0046D180) --------------------------------------------------------
_DWORD *__thiscall sub_46D180(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DF98;
  return this;
}
// 49DF98: using guessed type int (__stdcall *off_49DF98[16])(int);

//----- (0046D1B0) --------------------------------------------------------
_DWORD *__thiscall sub_46D1B0(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DFA0;
  return this;
}
// 49DFA0: using guessed type int (__stdcall *off_49DFA0[14])(int);

//----- (0046D1E0) --------------------------------------------------------
_DWORD *__thiscall sub_46D1E0(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DFA8;
  return this;
}
// 49DFA8: using guessed type int (__stdcall *off_49DFA8[12])(int);

//----- (0046D210) --------------------------------------------------------
_DWORD *__thiscall sub_46D210(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DFB0;
  return this;
}
// 49DFB0: using guessed type int (__stdcall *off_49DFB0[10])(int);

//----- (0046D240) --------------------------------------------------------
_DWORD *__thiscall sub_46D240(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DFB8;
  return this;
}
// 49DFB8: using guessed type int (__stdcall *off_49DFB8[8])(int);

//----- (0046D270) --------------------------------------------------------
_DWORD *__thiscall sub_46D270(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DFC0;
  return this;
}
// 49DFC0: using guessed type int (__stdcall *off_49DFC0[6])(int);

//----- (0046D2A0) --------------------------------------------------------
_DWORD *__thiscall sub_46D2A0(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DFC8;
  return this;
}
// 49DFC8: using guessed type int (__stdcall *off_49DFC8[4])(int);

//----- (0046D2D0) --------------------------------------------------------
_DWORD *__thiscall sub_46D2D0(_DWORD *this, int a2)
{
  sub_46D020(this, a2);
  *this = off_49DFD0;
  return this;
}
// 49DFD0: using guessed type int (__stdcall *off_49DFD0[2])(int);

//----- (0046D300) --------------------------------------------------------
_DWORD *__thiscall sub_46D300(_DWORD *this, int a2)
{
  CBase::CBase((int)this);
  *this = &off_49D000;
  this[8] = a2;
  this[9] = 0;
  this[10] = 0;
  sub_46DAF0(this + 11);
  return this;
}
// 49D000: using guessed type int (__stdcall *off_49D000)(int);

//----- (0046D350) --------------------------------------------------------
int __thiscall sub_46D350(int *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int v6; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h]
  int v8; // [esp+10h] [ebp-4h] BYREF

  if ( sub_462240(this) )
    return 1;
  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(this, &v8);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(this, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
            v3) )
      break;
    v7 = *(_DWORD *)sub_46DB60(&v8);
    if ( !(*(int (__thiscall **)(int, int))(*(_DWORD *)v7 + 4))(v7, a2) )
      return 0;
    sub_46DB80(&v8, &v6, 0);
  }
  return 1;
}

//----- (0046D3E0) --------------------------------------------------------
BOOL __thiscall sub_46D3E0(int *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  _DWORD *v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h] BYREF

  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(this + 3, &v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(this + 3, v6);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
               v2);
    if ( !result )
      break;
    v4 = (_DWORD *)sub_46DB60(&v8);
    (*(void (__thiscall **)(_DWORD, int))(*(_DWORD *)*v4 + 4))(*v4, a2);
    sub_46DB80(&v8, &v7, 0);
  }
  return result;
}

//----- (0046D450) --------------------------------------------------------
_DWORD *__usercall sub_46D450@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int *v7; // [esp+Ch] [ebp-10h]
  char v8[4]; // [esp+10h] [ebp-Ch] BYREF
  int v9; // [esp+14h] [ebp-8h] BYREF
  int v10; // [esp+18h] [ebp-4h] BYREF

  *a1 = &off_49D000;
  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(a1 + 11, &v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(a1 + 11, v8);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v10,
            v4) )
      break;
    v7 = *(int **)sub_46DB60(&v10);
    if ( v7 )
      sub_46D4F0(v7, 1);
    sub_46DB80(&v10, &v9, 0);
  }
  sub_46B5F0(a1 + 11);
  return CBase::_CBase(a1, a2, a3, a4);
}
// 49D000: using guessed type int (__stdcall *off_49D000)(int);

//----- (0046D4F0) --------------------------------------------------------
int *__thiscall sub_46D4F0(int *this, char a2)
{
  sub_46BDD0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046D520) --------------------------------------------------------
void __usercall sub_46D520(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-Ch] BYREF
  int v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B96D0);
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B96C4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B96C4, v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v3) )
      break;
    v4 = sub_43E1A0(&v7);
    CBase::Delete(*(volatile signed __int32 **)(v4 + 4));
    sub_46FA50(&v7, &v6, 0);
  }
  CRWLock::WriteUnlock((CRWLock *)&unk_4B96D0, a1, a2, a3);
}

//----- (0046D590) --------------------------------------------------------
CSocket *__usercall CServer::FindSocket@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int nId)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-10h] BYREF
  int v7; // [esp+4h] [ebp-Ch] BYREF
  volatile int *v8; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h] BYREF

  v8 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B96D0);
  v7 = nId;
  sub_460550(dword_4B96C4, &v9, &v7);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B96C4, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
         v4) )
  {
    v8 = *(volatile int **)(sub_43E1A0(&v9) + 4);
    sub_4010D0(v8, a1, a2, a3);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B96D0, a1, a2, a3);
  return (CSocket *)v8;
}

//----- (0046D610) --------------------------------------------------------
void __usercall sub_46D610(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  int *v5; // [esp+0h] [ebp-4h]

  v5 = (int *)CServer::FindSocket(a1, a2, a3, a4);
  if ( v5 )
  {
    if ( !v5[10] )
      sub_46D990(v5, a5);
    sub_401C50(v5, a1, a2, a3);
  }
}

//----- (0046D650) --------------------------------------------------------
int __userpurge sub_46D650@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int a4, char a5)
{
  lisp::var *v5; // eax
  int v6; // ecx
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  void *v10; // eax
  int v11; // [esp-4h] [ebp-48h]
  _DWORD *v12; // [esp+0h] [ebp-44h]
  int *v13; // [esp+8h] [ebp-3Ch]
  CMemory **v15; // [esp+18h] [ebp-2Ch]
  char v16[4]; // [esp+1Ch] [ebp-28h] BYREF
  int v17; // [esp+20h] [ebp-24h] BYREF
  char v18[4]; // [esp+24h] [ebp-20h] BYREF
  char v19[12]; // [esp+28h] [ebp-1Ch] BYREF
  CMemory **v20; // [esp+34h] [ebp-10h]
  char v21[4]; // [esp+38h] [ebp-Ch] BYREF
  int v22; // [esp+3Ch] [ebp-8h] BYREF

  if ( !a1[9] )
  {
    if ( a4 == 2 )
    {
      v8 = lisp::var::pop((lisp::var *)&a5, (lisp::var *)v19);
      a1[8] |= sub_40BBE0(v8) << 16;
      v9 = lisp::var::pop((lisp::var *)&a5, (lisp::var *)v18);
      a1[8] |= sub_40BBE0(v9);
      v17 = a1[8];
      sub_460550(dword_4B96C4, &v22, &v17);
      v10 = sub_482CA0(dword_4B96C4, v16);
      if ( (unsigned __int8)unknown_libname_25(v10) )
      {
        v15 = sub_401000(0x38u);
        if ( v15 )
          v12 = sub_46D300(v15, a1[8]);
        else
          v12 = 0;
        a1[9] = (int)v12;
      }
      else
      {
        a1[9] = *(_DWORD *)(sub_43E1A0(&v22) + 4);
      }
      return 1;
    }
LABEL_11:
    std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a5);
    return CBase::Set(a1, a4, a4);
  }
  if ( a4 == 64 )
  {
    v20 = sub_401000(0x18u);
    if ( v20 )
      v13 = (int *)CQuest::_CQuest((int)v20);
    else
      v13 = 0;
    v11 = v6;
    std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a5);
    return CQuest::SetCase(a1[9], a2, a3, v13, v11) != 0;
  }
  if ( a4 != 79 )
    goto LABEL_11;
  v5 = lisp::var::pop((lisp::var *)&a5, (lisp::var *)v21);
  *(_DWORD *)(a1[9] + 40) = sub_40BBE0(v5);
  return 1;
}
// 46D6C5: variable 'v6' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0046D810) --------------------------------------------------------
int __thiscall CQuest::_CQuest(int this)
{
  sub_46DAF0((void *)this);
  sub_46DAF0((void *)(this + 12));
  return this;
}

//----- (0046D840) --------------------------------------------------------
int __userpurge CQuest::SetCase@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, int *a4, int a5)
{
  lisp::var *v5; // eax
  int v6; // ecx
  int v8; // [esp-4h] [ebp-24h]
  int v9; // [esp-4h] [ebp-24h]
  char v11[4]; // [esp+10h] [ebp-10h] BYREF
  char v12[4]; // [esp+14h] [ebp-Ch]
  char v13[4]; // [esp+18h] [ebp-8h] BYREF
  char v14[4]; // [esp+1Ch] [ebp-4h]

  while ( !(unsigned __int8)sub_402200(&a5) )
  {
    lisp::var::pop((lisp::var *)&a5, (lisp::var *)v13);
    v5 = lisp::var::pop((lisp::var *)v13, (lisp::var *)v11);
    *(_DWORD *)v12 = sub_4021E0(v5);
    *(_DWORD *)v14 = CObjectDB::FindSymbol(*(int *)v12);
    switch ( *(_DWORD *)v14 )
    {
      case 0:
        LOG_ERR("CQuest::SetCase() Invalid symbol(%s)", *(const char **)v12);
        return 0;
      case 0x41:
        v8 = v6;
        std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v13);
        if ( !CCase::SetCondition(a4, v8) )
          return 0;
        break;
      case 0x42:
        v9 = v6;
        std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(v13);
        if ( !sub_46C780((int)a4, a2, a3, v9) )
          return 0;
        break;
      default:
        LOG_ERR("CQuest::SetCondition() Invalid Case. (symbol:%d)", *(_DWORD *)v14);
        return 0;
    }
  }
  sub_46DB30((int *)(a1 + 44), &a4);
  return 1;
}
// 46D8BD: variable 'v6' is possibly undefined
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (0046D930) --------------------------------------------------------
int __thiscall sub_46D930(int this)
{
  const std::pair<int const ,CSocket *> *v1; // eax
  const char *v4; // [esp+4h] [ebp-14h] BYREF
  char v5[8]; // [esp+8h] [ebp-10h] BYREF
  char v6[8]; // [esp+10h] [ebp-8h] BYREF

  v4 = *(const char **)(this + 32);
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v5,
    &v4,
    (CItem *const *)(this + 36));
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B96C4,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v1);
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 0;
  return 1;
}
// 46D95F: variable 'v1' is possibly undefined

//----- (0046D990) --------------------------------------------------------
void __thiscall sub_46D990(int *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int *v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  std::list<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::begin(this + 11, &v7);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(this + 11, v4);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v2) )
      break;
    v6 = *(int **)sub_46DB60(&v7);
    if ( sub_46D350(v6, a2) )
    {
      sub_46D3E0(v6, a2);
      return;
    }
    sub_46DB80(&v7, &v5, 0);
  }
  LOG_ERR("CQuest::Proceed() No Meet Condition. (Quest:%x, PID:%d)", this[8], *(_DWORD *)(a2 + 444));
}

//----- (0046DA30) --------------------------------------------------------
void *__thiscall sub_46DA30(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  void *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  unknown_libname_14(&v2);
  sub_42EE90(v3, (char)v2);
  std::vector<CSyncPacket::CElement>::_Buy((std::vector<CSyncPacket::CElement> *)v3, 0);
  return v3;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0046DA60) --------------------------------------------------------
void __thiscall sub_46DA60(std::vector<CSyncPacket::CElement> *this)
{
  std::vector<CSyncPacket::CElement>::_Tidy(this);
}

//----- (0046DA80) --------------------------------------------------------
CSyncPacket::CElement *__thiscall sub_46DA80(int this, int *a2)
{
  unsigned int v2; // esi
  CSyncPacket::CElement *result; // eax
  CIOSocket::CIOTimer **v4; // eax
  int v6; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this);
  if ( v2 >= std::vector<CSyncPacket::CElement>::capacity((std::vector<CSyncPacket::CElement> *)this) )
  {
    v4 = (CIOSocket::CIOTimer **)sub_42EA00((int *)this, v7);
    result = (CSyncPacket::CElement *)sub_46DBB0((int *)this, &v6, *v4, a2);
  }
  else
  {
    result = std::vector<CSyncPacket::CElement>::_Ufill(
               (std::vector<CSyncPacket::CElement> *)this,
               *(CSyncPacket::CElement **)(this + 8),
               1u,
               (const CSyncPacket::CElement *)a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (0046DAF0) --------------------------------------------------------
void *__thiscall sub_46DAF0(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  void *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  unknown_libname_14(&v2);
  std::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_List_val<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(
    v3,
    (char)v2);
  *((_DWORD *)v3 + 1) = sub_4431F0();
  *((_DWORD *)v3 + 2) = 0;
  return v3;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0046DB30) --------------------------------------------------------
CMemory ***__thiscall sub_46DB30(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  char v5[4]; // [esp+4h] [ebp-4h] BYREF

  v2 = sub_482CA0(this, v5);
  return sub_46DD50(this, *v2, a2);
}

//----- (0046DB60) --------------------------------------------------------
int __thiscall sub_46DB60(int *this)
{
  return sub_40EA20(this);
}

//----- (0046DB80) --------------------------------------------------------
_DWORD *__thiscall sub_46DB80(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_40EA00(this);
  *a2 = v4;
  return a2;
}

//----- (0046DBB0) --------------------------------------------------------
_DWORD *__thiscall sub_46DBB0(int *this, _DWORD *a2, CIOSocket::CIOTimer *a3, int *a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this) )
  {
    v4 = sub_482CA0(this, v11);
    v8 = sub_46E670((int *)&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_46E240((int)this, a3, 1u, a4);
  v7 = v12;
  v5 = (int *)sub_482CA0(this, v10);
  sub_46E640(v5, a2, v7);
  return a2;
}

//----- (0046DC30) --------------------------------------------------------
char __thiscall std::vector<CSyncPacket::CElement>::_Buy(std::vector<CSyncPacket::CElement> *this, unsigned int _Capacity)
{
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  if ( !_Capacity )
    return 0;
  if ( sub_46E220(this) >= _Capacity )
  {
    *((_DWORD *)this + 1) = sub_42F220(_Capacity);
    *((_DWORD *)this + 2) = *((_DWORD *)this + 1);
    *((_DWORD *)this + 3) = *((_DWORD *)this + 1) + 16 * _Capacity;
  }
  else
  {
    sub_465EA0();
  }
  return 1;
}

//----- (0046DCB0) --------------------------------------------------------
void __thiscall std::vector<CSyncPacket::CElement>::_Tidy(std::vector<CSyncPacket::CElement> *this)
{
  if ( *((_DWORD *)this + 1) )
  {
    sub_42EF10(*((_DWORD *)this + 1), *((_DWORD *)this + 2));
    sub_441930(*((void **)this + 1), (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 4);
  }
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
}

//----- (0046DD20) --------------------------------------------------------
CSyncPacket::CElement *__thiscall std::vector<CSyncPacket::CElement>::_Ufill(std::vector<CSyncPacket::CElement> *this, CSyncPacket::CElement *_Ptr, unsigned int _Count, const CSyncPacket::CElement *_Val)
{
  sub_42F930(_Ptr, _Count, (int)_Val);
  return (CSyncPacket::CElement *)((char *)_Ptr + 16 * _Count);
}

//----- (0046DD50) --------------------------------------------------------
CMemory ***__thiscall sub_46DD50(_DWORD *this, char a2, _DWORD *a3)
{
  int *v3; // eax
  _DWORD *v4; // eax
  CMemory ***result; // eax
  _DWORD *v6; // [esp-4h] [ebp-10h]
  int v8; // [esp+4h] [ebp-8h]
  CMemory **v9; // [esp+8h] [ebp-4h]

  v8 = unknown_libname_10(&a2);
  v6 = a3;
  v3 = (int *)sub_465290(v8);
  v9 = sub_46E590(v8, *v3, v6);
  sub_46E520(this, 1u);
  *(_DWORD *)sub_465290(v8) = v9;
  v4 = (_DWORD *)sub_465290((int)v9);
  result = (CMemory ***)unknown_libname_21(*v4);
  *result = v9;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046DDD0) --------------------------------------------------------
int __cdecl sub_46DDD0(int a1)
{
  return a1 + 21;
}

//----- (0046DDE0) --------------------------------------------------------
void *__thiscall sub_46DDE0(int this, void *a2, char a3, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *a4, const std::pair<char const * const,CItem *> *a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  _DWORD *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  _DWORD *v16; // eax
  int *v17; // eax
  int *v18; // eax
  _DWORD *v19; // eax
  int *v20; // eax
  _DWORD *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  _DWORD *v25; // eax
  int *v26; // eax
  _DWORD *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  CMemory ***v33; // eax
  _DWORD *v34; // eax
  int *v35; // eax
  _DWORD *v36; // eax
  int *v37; // eax
  int *v38; // eax
  _DWORD *v39; // eax
  char v42[28]; // [esp+8h] [ebp-48h] BYREF
  char v43[36]; // [esp+24h] [ebp-2Ch] BYREF
  CMemory **v44; // [esp+48h] [ebp-8h]
  CMemory **v45; // [esp+4Ch] [ebp-4h]
  int v46; // [esp+60h] [ebp+10h]

  if ( sub_4651F0(this) - 1 <= *(_DWORD *)(this + 8) )
  {
    std::string::string((std::string *)v42, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)v43, (const std::string *)v42);
    sub_40E570(v5);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v43);
    sub_40E7C0((std::string *)v42);
  }
  v45 = sub_47CD20(
          *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)(this + 4),
          a4,
          *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)(this + 4),
          a5,
          0);
  ++*(_DWORD *)(this + 8);
  if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)(this + 4) )
  {
    v6 = (CMemory ***)sub_41BA00((int *)this);
    *v6 = v45;
    v7 = (CMemory ***)sub_4653C0((_DWORD *)this);
    *v7 = v45;
    v8 = (CMemory ***)sub_465270((int *)this);
    *v8 = v45;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)unknown_libname_21(a4);
    *v9 = v45;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_4653C0((_DWORD *)this) )
    {
      v10 = (CMemory ***)sub_4653C0((_DWORD *)this);
      *v10 = v45;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_41BA20((int)a4);
    *v11 = v45;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node **)sub_465270((int *)this) )
    {
      v12 = (CMemory ***)sub_465270((int *)this);
      *v12 = v45;
    }
  }
  v44 = v45;
  while ( 1 )
  {
    v13 = (_DWORD *)sub_465290((int)v44);
    if ( *(_BYTE *)unknown_libname_26(*v13) )
      break;
    v14 = (_DWORD *)sub_465290((int)v44);
    v15 = (int *)sub_465290((int)v44);
    v16 = (_DWORD *)sub_465290(*v15);
    if ( *v14 == *(_DWORD *)unknown_libname_21(*v16) )
    {
      v17 = (int *)sub_465290((int)v44);
      v18 = (int *)sub_465290(*v17);
      v46 = *(_DWORD *)sub_41BA20(*v18);
      if ( !*(_BYTE *)unknown_libname_26(v46) )
        goto LABEL_15;
      v23 = (int *)sub_465290((int)v44);
      v24 = (CMemory ***)sub_41BA20(*v23);
      if ( v44 == *v24 )
      {
        v44 = *(CMemory ***)sub_465290((int)v44);
        sub_441950((int *)this, (int)v44);
      }
      v25 = (_DWORD *)sub_465290((int)v44);
      *(_BYTE *)unknown_libname_26(*v25) = 1;
      v26 = (int *)sub_465290((int)v44);
      v27 = (_DWORD *)sub_465290(*v26);
      *(_BYTE *)unknown_libname_26(*v27) = 0;
      v28 = (int *)sub_465290((int)v44);
      v29 = (int *)sub_465290(*v28);
      sub_441A80((int *)this, *v29);
    }
    else
    {
      v30 = (int *)sub_465290((int)v44);
      v31 = (_DWORD *)sub_465290(*v30);
      v46 = *(_DWORD *)unknown_libname_21(*v31);
      if ( *(_BYTE *)unknown_libname_26(v46) )
      {
        v32 = (_DWORD *)sub_465290((int)v44);
        v33 = (CMemory ***)unknown_libname_21(*v32);
        if ( v44 == *v33 )
        {
          v44 = *(CMemory ***)sub_465290((int)v44);
          sub_441A80((int *)this, (int)v44);
        }
        v34 = (_DWORD *)sub_465290((int)v44);
        *(_BYTE *)unknown_libname_26(*v34) = 1;
        v35 = (int *)sub_465290((int)v44);
        v36 = (_DWORD *)sub_465290(*v35);
        *(_BYTE *)unknown_libname_26(*v36) = 0;
        v37 = (int *)sub_465290((int)v44);
        v38 = (int *)sub_465290(*v37);
        sub_441950((int *)this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (_DWORD *)sub_465290((int)v44);
        *(_BYTE *)unknown_libname_26(*v19) = 1;
        *(_BYTE *)unknown_libname_26(v46) = 1;
        v20 = (int *)sub_465290((int)v44);
        v21 = (_DWORD *)sub_465290(*v20);
        *(_BYTE *)unknown_libname_26(*v21) = 0;
        v22 = (int *)sub_465290((int)v44);
        v44 = *(CMemory ***)sub_465290(*v22);
      }
    }
  }
  v39 = (_DWORD *)sub_41BA00((int *)this);
  *(_BYTE *)unknown_libname_26(*v39) = 1;
  sub_42D570(a2, (int)v45);
  return a2;
}
// 46DE18: variable 'v5' is possibly undefined
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);
// 4651D0: using guessed type _DWORD __cdecl unknown_libname_26(_DWORD);

//----- (0046E220) --------------------------------------------------------
unsigned int __thiscall sub_46E220(std::allocator<std::pair<unsigned __int64 const ,std::list<_tag_ChannelUserInfo *> *> > *this)
{
  return std::allocator<boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime>>::timer_base *>::bucket_type>::max_size(this);
}

//----- (0046E240) --------------------------------------------------------
void __thiscall sub_46E240(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4)
{
  unsigned int v4; // esi
  CSyncPacket::CElement *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-28h]
  char *v8; // [esp+Ch] [ebp-20h]
  CMemory **v9; // [esp+10h] [ebp-1Ch]
  CSyncPacket::CElement *v10; // [esp+14h] [ebp-18h]
  unsigned int v11; // [esp+18h] [ebp-14h]
  int v12; // [esp+18h] [ebp-14h]
  int v13[4]; // [esp+1Ch] [ebp-10h] BYREF
  int v14; // [esp+38h] [ebp+Ch]

  v13[0] = *a4;
  v13[1] = a4[1];
  v13[2] = a4[2];
  v13[3] = a4[3];
  v11 = std::vector<CSyncPacket::CElement>::capacity((std::vector<CSyncPacket::CElement> *)this);
  if ( a3 )
  {
    v4 = sub_46E220((std::allocator<std::pair<unsigned __int64 const ,std::list<_tag_ChannelUserInfo *> *> > *)this);
    if ( v4 - std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 4 >= a3 )
        {
          v8 = *(char **)(this + 8);
          *(_DWORD *)(this + 8) = sub_42F970((int)&v8[-16 * a3], (int)v8, v8);
          std::copy_backward<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(
            a2,
            (CIOSocket::CIOTimer *)&v8[-16 * a3],
            (CIOSocket::CIOTimer *)v8);
          std::_Fill<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>(
            a2,
            (CIOSocket::CIOTimer *)((char *)a2 + 16 * a3),
            (const boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *)v13);
        }
        else
        {
          sub_42F970((int)a2, *(_DWORD *)(this + 8), (char *)a2 + 16 * a3);
          std::vector<CSyncPacket::CElement>::_Ufill(
            (std::vector<CSyncPacket::CElement> *)this,
            *(CSyncPacket::CElement **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 4),
            (const CSyncPacket::CElement *)v13);
          *(_DWORD *)(this + 8) += 16 * a3;
          std::_Fill<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type *,boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>(
            a2,
            (boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *)(*(_DWORD *)(this + 8) - 16 * a3),
            (const boost::asio::detail::hash_map<void *,boost::asio::detail::timer_queue<boost::asio::time_traits<boost::posix_time::ptime> >::timer_base *>::bucket_type *)v13);
        }
      }
      else
      {
        if ( sub_46E220((std::allocator<std::pair<unsigned __int64 const ,std::list<_tag_ChannelUserInfo *> *> > *)this)
           - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this) )
          v12 = a3 + std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this);
        v9 = sub_42F220(v12);
        v5 = (CSyncPacket::CElement *)sub_42F970(*(_DWORD *)(this + 4), (int)a2, v9);
        v10 = std::vector<CSyncPacket::CElement>::_Ufill(
                (std::vector<CSyncPacket::CElement> *)this,
                v5,
                a3,
                (const CSyncPacket::CElement *)v13);
        sub_42F970((int)a2, *(_DWORD *)(this + 8), v10);
        v14 = a3 + std::vector<CSyncPacket::CElement>::size((std::vector<CSyncPacket::CElement> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_42EF10(*(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_441930(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 4);
        }
        *(_DWORD *)(this + 12) = &v9[4 * v12];
        *(_DWORD *)(this + 8) = &v9[4 * v14];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      sub_465EA0();
    }
  }
}

//----- (0046E520) --------------------------------------------------------
_DWORD *__thiscall sub_46E520(_DWORD *this, unsigned int a2)
{
  void *v2; // eax
  _DWORD *result; // eax
  char v5[28]; // [esp+4h] [ebp-40h] BYREF
  char v6[36]; // [esp+20h] [ebp-24h] BYREF

  if ( sub_46E6D0((int)this) - this[2] < a2 )
  {
    std::string::string((std::string *)v5, "list<T> too long");
    std::length_error::length_error((std::length_error *)v6, (const std::string *)v5);
    sub_40E570(v2);
    sub_40E720((std::time_put<unsigned short,std::ostreambuf_iterator<unsigned short> > *)v6);
    sub_40E7C0((std::string *)v5);
  }
  result = this;
  this[2] += a2;
  return result;
}
// 46E557: variable 'v2' is possibly undefined

//----- (0046E590) --------------------------------------------------------
CMemory **__stdcall sub_46E590(int a1, int a2, _DWORD *a3)
{
  _DWORD *v4; // [esp+8h] [ebp-8h]
  CMemory **v5; // [esp+Ch] [ebp-4h]

  v5 = sub_42F7F0(1);
  v4 = operator new(0xCu, v5);
  if ( v4 )
    sub_46E6F0(v4, a1, a2, a3);
  return v5;
}

//----- (0046E600) --------------------------------------------------------
void *__thiscall std::_List_ptr<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>::_List_ptr<std::pair<CryptoPP::BufferedTransformation *,CryptoPP::value_ptr<std::string>>>(void *this, char a2)
{
  char v3; // [esp-4h] [ebp-Ch]

  v3 = (char)this;
  unknown_libname_20(&a2);
  sub_42EE90(this, v3);
  unknown_libname_20(&a2);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (0046E640) --------------------------------------------------------
_DWORD *__thiscall sub_46E640(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *this;
  *a2 = *(_DWORD *)std::vector<CSyncPacket::CElement>::iterator::operator+=(
                     (std::vector<CSyncPacket::CElement>::iterator *)&v4,
                     a3);
  return a2;
}

//----- (0046E670) --------------------------------------------------------
int __thiscall sub_46E670(int *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h] BYREF

  v3 = *this;
  return sub_42F8F0(&v3, a2);
}

//----- (0046E6A0) --------------------------------------------------------
_DWORD *__thiscall sub_46E6A0(_DWORD *this)
{
  *this = *(_DWORD *)unknown_libname_21(*this);
  return this;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046E6D0) --------------------------------------------------------
unsigned int __thiscall sub_46E6D0(int this)
{
  return std::allocator<unsigned long>::max_size((std::allocator<unsigned long> *)(this + 2));
}

//----- (0046E6F0) --------------------------------------------------------
_DWORD *__thiscall sub_46E6F0(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  *this = a2;
  this[1] = a3;
  this[2] = *a4;
  return this;
}

//----- (0046E720) --------------------------------------------------------
int __cdecl sub_46E720(int a1, int a2)
{
  unknown_libname_27(&a1, &a2);
  return std::_Destroy_range<std::allocator<boost::asio::detail::hash_map<unsigned int,boost::asio::detail::reactor_op_queue<unsigned int>::op_base *>::bucket_type>>(
           a1,
           a2);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0046E770) --------------------------------------------------------
void *__cdecl sub_46E770(void *a1, int a2, int a3)
{
  void *result; // eax

  result = a1;
  while ( a2 )
  {
    sub_42FAF0(a1, a3);
    --a2;
    a1 = (char *)a1 + 16;
  }
  return result;
}

//----- (0046E7D0) --------------------------------------------------------
void *__cdecl sub_46E7D0(int a1, int a2, void *a3)
{
  unknown_libname_27(&a1, &a3);
  return sub_46E810(a1, a2, a3);
}
// 46E760: using guessed type int __cdecl unknown_libname_27(_DWORD, _DWORD);

//----- (0046E810) --------------------------------------------------------
void *__cdecl sub_46E810(int a1, int a2, void *a3)
{
  while ( a1 != a2 )
  {
    sub_42FAF0(a3, a1);
    a3 = (char *)a3 + 16;
    a1 += 16;
  }
  return a3;
}

//----- (0046E880) --------------------------------------------------------
void __cdecl std::_Construct<CSyncPacket::CElement,CSyncPacket::CElement>(CSyncPacket::CElement *_Ptr, const CSyncPacket::CElement *_Val)
{
  _DWORD *v2; // [esp+4h] [ebp-4h]

  v2 = operator new(0x10u, _Ptr);
  if ( v2 )
  {
    *v2 = *(_DWORD *)_Val;
    v2[1] = *((_DWORD *)_Val + 1);
    v2[2] = *((_DWORD *)_Val + 2);
    v2[3] = *((_DWORD *)_Val + 3);
  }
}

//----- (0046E8D0) --------------------------------------------------------
void *__thiscall sub_46E8D0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0046E900) --------------------------------------------------------
int *__thiscall sub_46E900(int *this)
{
  int *result; // eax

  this[1] = (int)sub_46B1D0();
  *(_BYTE *)sub_46DDD0(this[1]) = 1;
  *(_DWORD *)sub_41BA00(this) = this[1];
  *(_DWORD *)sub_4653C0(this) = this[1];
  *(_DWORD *)sub_465270(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (0046E970) --------------------------------------------------------
int __thiscall sub_46E970(int *this)
{
  return sub_46E990(this);
}

//----- (0046E990) --------------------------------------------------------
int __thiscall sub_46E990(int *this)
{
  return sub_46E9B0(this);
}

//----- (0046E9B0) --------------------------------------------------------
int __thiscall sub_46E9B0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_46EA60(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046EA60) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_46EA60(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_46EB00((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0046EB00) --------------------------------------------------------
_DWORD *__thiscall sub_46EB00(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_46EB60(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0046EB60) --------------------------------------------------------
int __stdcall sub_46EB60(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_46EB60(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046EBE0) --------------------------------------------------------
void __thiscall CRWLock::CRWLock(CRWLock *this)
{
  *(_DWORD *)this = 0;
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = CreateEventA(0, 0, 0, 0);
  *((_DWORD *)this + 3) = CreateEventA(0, 0, 0, 0);
  *((_DWORD *)this + 5) = 0;
  *((_DWORD *)this + 4) = 0;
}

//----- (0046EC40) --------------------------------------------------------
void __usercall CRWLock::~CRWLock(CRWLock *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  if ( *(_DWORD *)this )
    EBREAK(a2, a3, a4);
  CloseHandle(*((HANDLE *)this + 2));
  CloseHandle(*((HANDLE *)this + 3));
}

//----- (0046EC80) --------------------------------------------------------
LONG __thiscall sub_46EC80(volatile LONG *this)
{
  LONG result; // eax
  int v3; // [esp+4h] [ebp-4h]
  int v4; // [esp+4h] [ebp-4h]

  v3 = 4000;
  while ( --v3 >= 0 )
  {
    result = InterlockedCompareExchange(this + 1, 1, 0);
    if ( !result )
      return result;
    _mm_pause();
  }
  v4 = 4000;
  while ( --v4 >= 0 )
  {
    SwitchToThread();
    result = InterlockedCompareExchange(this + 1, 1, 0);
    if ( !result )
      return result;
  }
  do
  {
    Sleep(0x3E8u);
    result = InterlockedCompareExchange(this + 1, 1, 0);
  }
  while ( result );
  return result;
}

//----- (0046ED10) --------------------------------------------------------
void __thiscall CRWLock::ReadLock(CRWLock *this)
{
  int v2; // [esp+8h] [ebp-8h]
  int v3; // [esp+Ch] [ebp-4h]
  int vars0; // [esp+10h] [ebp+0h]
  void *retaddr; // [esp+14h] [ebp+4h]

  LOWORD(v3) = InterlockedIncrement((volatile LONG *)this);
  if ( (v3 & 0xFF00) != 0 )
  {
    sub_46EED0((volatile LONG *)this);
    v3 = *(_DWORD *)this;
    do
    {
      if ( v3 < 0 )
      {
        if ( (unsigned __int16)InterlockedExchangeAdd((volatile LONG *)this, 0xFFFF) == 1 )
        {
          sub_46EF00((volatile LONG *)this);
          SetEvent(*((HANDLE *)this + 3));
        }
        else
        {
          sub_46EF00((volatile LONG *)this);
        }
        WaitForSingleObject(*((HANDLE *)this + 2), 0xFFFFFFFF);
        sub_46EED0((volatile LONG *)this);
        v3 = InterlockedExchangeAdd((volatile LONG *)this, -65535) - 0xFFFF;
      }
      else
      {
        if ( (unsigned __int16)InterlockedExchangeAdd((volatile LONG *)this, 0x7FFFFFFF) == 1 )
        {
          sub_46EF00((volatile LONG *)this);
          SetEvent(*((HANDLE *)this + 3));
        }
        else
        {
          sub_46EF00((volatile LONG *)this);
        }
        WaitForSingleObject(*((HANDLE *)this + 3), 0xFFFFFFFF);
        sub_46EED0((volatile LONG *)this);
        v3 = InterlockedExchangeAdd((volatile LONG *)this, -2147483647) - 0x7FFFFFFF;
      }
    }
    while ( (v3 & 0xFF00) != 0 );
    sub_46EF00((volatile LONG *)this);
    if ( (v3 & 0xFF0000) != 0 )
      SetEvent(*((HANDLE *)this + 2));
  }
  if ( (char)v3 == 1 )
  {
    v2 = *(_DWORD *)(vars0 + 4);
    *((_DWORD *)this + 4) = retaddr;
    *((_DWORD *)this + 5) = v2;
  }
}
// 46EEAA: variable 'vars0' is possibly undefined

//----- (0046EED0) --------------------------------------------------------
LONG __thiscall sub_46EED0(volatile LONG *this)
{
  LONG result; // eax

  result = InterlockedCompareExchange(this + 1, 1, 0);
  if ( result )
    result = sub_46EC80(this);
  return result;
}

//----- (0046EF00) --------------------------------------------------------
LONG __thiscall sub_46EF00(volatile LONG *this)
{
  return InterlockedExchange(this + 1, 0);
}

//----- (0046EF20) --------------------------------------------------------
void __usercall CRWLock::ReadUnlock(CRWLock *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  LONG v5; // [esp+4h] [ebp-4h]

  v5 = InterlockedDecrement((volatile LONG *)this);
  if ( (v5 & 0x8080) != 0 )
    EBREAK(a2, a3, a4);
  if ( !(_WORD)v5 && (v5 & 0xFF000000) != 0 )
    SetEvent(*((HANDLE *)this + 3));
}

//----- (0046EF70) --------------------------------------------------------
void __thiscall CRWLock::WriteLock(CRWLock *this)
{
  int v2; // [esp+8h] [ebp-8h]
  int vars0; // [esp+10h] [ebp+0h]
  void *retaddr; // [esp+14h] [ebp+4h]

  if ( (unsigned __int16)InterlockedExchangeAdd((volatile LONG *)this, 256) )
  {
    sub_46EED0((volatile LONG *)this);
    do
    {
      if ( (unsigned __int16)InterlockedExchangeAdd((volatile LONG *)this, 16776960) == 256 )
      {
        sub_46EF00((volatile LONG *)this);
        SetEvent(*((HANDLE *)this + 3));
      }
      else
      {
        sub_46EF00((volatile LONG *)this);
      }
      WaitForSingleObject(*((HANDLE *)this + 3), 0xFFFFFFFF);
      sub_46EED0((volatile LONG *)this);
    }
    while ( (unsigned __int16)InterlockedExchangeAdd((volatile LONG *)this, -16776960) );
    sub_46EF00((volatile LONG *)this);
  }
  v2 = *(_DWORD *)(vars0 + 4);
  *((_DWORD *)this + 4) = retaddr;
  *((_DWORD *)this + 5) = v2;
}
// 46F03D: variable 'vars0' is possibly undefined

//----- (0046F060) --------------------------------------------------------
void __usercall CRWLock::WriteUnlock(CRWLock *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  LONG v4; // eax
  int v6; // [esp+4h] [ebp-4h]

  v4 = InterlockedExchangeAdd((volatile LONG *)this, -256);
  v6 = v4 - 256;
  if ( (((_WORD)v4 - 256) & 0x8080) != 0 )
    EBREAK(a2, a3, a4);
  if ( !(_WORD)v6 && (v6 & 0xFF000000) != 0 )
    SetEvent(*((HANDLE *)this + 3));
}

//----- (0046F0C0) --------------------------------------------------------
void __thiscall CScreen::CScreen(CScreen *this)
{
  CIOCriticalSection::CIOCriticalSection((CScreen *)((char *)this + 20));
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 4) = 0;
  *((_DWORD *)this + 3) = 0;
  *(_DWORD *)this = 0;
}

//----- (0046F110) --------------------------------------------------------
void __usercall CScreen::~CScreen(CScreen *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  sub_4883C4(*(_DWORD *)this);
  CIOCriticalSection::~CIOCriticalSection((CScreen *)((char *)this + 20), a2, a3, a4);
}
// 4883C4: using guessed type _DWORD __cdecl sub_4883C4(_DWORD);

//----- (0046F140) --------------------------------------------------------
void __thiscall CScreen::Open(CScreen *this, int nWidth, int nHeight)
{
  *((_DWORD *)this + 1) = nWidth;
  *((_DWORD *)this + 2) = nHeight;
  *((_DWORD *)this + 4) = (nWidth + 8) & 0xFFFFFFFC;
  *((_DWORD *)this + 3) = 0;
  *(_DWORD *)this = sub_4860DD(nHeight * *((_DWORD *)this + 4));
  memset(*(void **)this, 0, nHeight * *((_DWORD *)this + 4));
}

//----- (0046F1C0) --------------------------------------------------------
void CScreen::Add(CScreen *this, unsigned int color, const char *format, ...)
{
  int v3; // [esp+4h] [ebp-8h]
  char *Buffer; // [esp+8h] [ebp-4h]
  va_list va; // [esp+20h] [ebp+14h] BYREF

  va_start(va, format);
  if ( *((_DWORD *)this + 3) == *((_DWORD *)this + 2) )
  {
    v3 = *((_DWORD *)this + 3) - 1;
    memcpy_0(*(void **)this, (const void *)(*((_DWORD *)this + 4) + *(_DWORD *)this), *((_DWORD *)this + 4) * v3);
  }
  else
  {
    v3 = *((_DWORD *)this + 3);
    *((_DWORD *)this + 3) = v3 + 1;
  }
  Buffer = (char *)(*(_DWORD *)this + *((_DWORD *)this + 4) * v3);
  *(_DWORD *)Buffer = color;
  _vsnprintf(Buffer + 4, *((_DWORD *)this + 1), format, va);
}

//----- (0046F270) --------------------------------------------------------
void __thiscall CScreen::AddString(CScreen *this, unsigned int color, const char *string)
{
  int v4; // [esp+4h] [ebp-8h]
  char *Destination; // [esp+8h] [ebp-4h]

  if ( *((_DWORD *)this + 3) == *((_DWORD *)this + 2) )
  {
    v4 = *((_DWORD *)this + 3) - 1;
    memcpy_0(*(void **)this, (const void *)(*((_DWORD *)this + 4) + *(_DWORD *)this), *((_DWORD *)this + 4) * v4);
  }
  else
  {
    v4 = *((_DWORD *)this + 3);
    *((_DWORD *)this + 3) = v4 + 1;
  }
  Destination = (char *)(*(_DWORD *)this + *((_DWORD *)this + 4) * v4);
  *(_DWORD *)Destination = color;
  strncpy(Destination + 4, string, *((_DWORD *)this + 1));
}

//----- (0046F340) --------------------------------------------------------
void __thiscall CScreen::OnPaint(CScreen *this)
{
  int v1; // eax
  int *v3; // [esp+0h] [ebp-A0h]
  HDC hdc; // [esp+4h] [ebp-9Ch]
  struct tagPAINTSTRUCT Paint; // [esp+8h] [ebp-98h] BYREF
  struct tagRECT Rect; // [esp+4Ch] [ebp-54h] BYREF
  int y; // [esp+5Ch] [ebp-44h]
  struct tagTEXTMETRICA tm; // [esp+60h] [ebp-40h] BYREF
  int v9; // [esp+98h] [ebp-8h]
  int v10; // [esp+9Ch] [ebp-4h]

  hdc = BeginPaint(hWnd, &Paint);
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(this, this);
  GetTextMetricsA(hdc, &tm);
  GetClientRect(hWnd, &Rect);
  y = 0;
  v10 = Rect.bottom / tm.tmHeight;
  if ( v3[3] <= Rect.bottom / tm.tmHeight )
  {
    v9 = *v3;
    v10 = v3[3];
  }
  else
  {
    v9 = *v3 + v3[4] * (v3[3] - v10);
  }
  while ( --v10 >= 0 )
  {
    SetTextColor(hdc, *(_DWORD *)v9);
    v1 = strlen((const char *)(v9 + 4));
    TextOutA(hdc, 0, y, (LPCSTR)(v9 + 4), v1);
    v9 += v3[4];
    y += tm.tmHeight;
  }
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(v3);
  EndPaint(hWnd, &Paint);
}
// 46F3B5: variable 'v3' is possibly undefined
// 4302C0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD, _DWORD);
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (0046F490) --------------------------------------------------------
int __usercall sub_46F490@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  time(&Time);
  sub_435F40(&dword_4B96F8);
  return CIOServer::Start((CIOServer *)&unk_4B9710, a1, a2, a3, *(int *)&dword_4B8C2C);
}
// 4B96F8: using guessed type int dword_4B96F8;

//----- (0046F4C0) --------------------------------------------------------
void __usercall sub_46F4C0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, Concurrency::details::SchedulingRing *a4)
{
  const std::pair<int const ,CSocket *> *v4; // eax
  int v5; // [esp+0h] [ebp-18h]
  char v6[8]; // [esp+4h] [ebp-14h] BYREF
  const char *v7; // [esp+Ch] [ebp-Ch] BYREF
  char v8[8]; // [esp+10h] [ebp-8h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B9728);
  CLink::Insert((Concurrency::details::SchedulingRing *)((char *)a4 + 112), (CLink *)&dword_4B96F8);
  v7 = (const char *)Concurrency::details::SchedulingRing::Id(a4);
  std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
    (std::pair<char const * const,CItem *> *)v8,
    &v7,
    &a4);
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B9704,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *)v6,
    v4);
  if ( dword_4B96F0 <= ++dword_4B96F4 )
    v5 = dword_4B96F4;
  else
    v5 = dword_4B96F0;
  dword_4B96F0 = v5;
  CRWLock::WriteUnlock((CRWLock *)&unk_4B9728, a1, a2, a3);
}
// 46F505: variable 'v4' is possibly undefined
// 4B96F0: using guessed type int dword_4B96F0;
// 4B96F4: using guessed type int dword_4B96F4;
// 4B96F8: using guessed type int dword_4B96F8;

//----- (0046F550) --------------------------------------------------------
void __usercall sub_46F550(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, Concurrency::details::SchedulingRing *a4)
{
  int v4; // [esp+0h] [ebp-4h] BYREF

  CRWLock::WriteLock((CRWLock *)&unk_4B9728);
  CLink::Remove((Concurrency::details::SchedulingRing *)((char *)a4 + 112));
  --dword_4B96F4;
  v4 = Concurrency::details::SchedulingRing::Id(a4);
  sub_46F830(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B9704,
    &v4);
  CRWLock::WriteUnlock((CRWLock *)&unk_4B9728, a1, a2, a3);
}
// 4B96F4: using guessed type int dword_4B96F4;

//----- (0046F5A0) --------------------------------------------------------
int sub_46F5A0()
{
  return dword_4B96F4;
}
// 4B96F4: using guessed type int dword_4B96F4;

//----- (0046F5B0) --------------------------------------------------------
int sub_46F5B0()
{
  return dword_4B96F0;
}
// 4B96F0: using guessed type int dword_4B96F0;

//----- (0046F5C0) --------------------------------------------------------
void __usercall sub_46F5C0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  int *i; // [esp+4h] [ebp-4h]

  CIOServer::Stop((CIOServer *)&unk_4B9710);
  CRWLock::ReadLock((CRWLock *)&unk_4B9728);
  for ( i = (int *)dword_4B96F8; i != &dword_4B96F8; i = (int *)*i )
    sub_4832E0(i - 28);
  CRWLock::ReadUnlock((CRWLock *)&unk_4B9728, a1, a2, a3);
}
// 4B96F8: using guessed type int dword_4B96F8;

//----- (0046F620) --------------------------------------------------------
void __usercall sub_46F620(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  int *v3; // [esp+0h] [ebp-8h]
  int *i; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock((CRWLock *)&unk_4B9728);
  for ( i = (int *)dword_4B96F8; i != &dword_4B96F8; i = (int *)*i )
  {
    v3 = i - 28;
    CSocket::Write(a1, a2, a3, (int)(i - 28), 7, &Src);
    if ( InterlockedIncrement(i + 14) >= 5 )
    {
      sub_483E60((int)v3, a1, a2, a3, 0);
      sub_483340(v3);
    }
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B9728, a1, a2, a3);
}
// 4B96F8: using guessed type int dword_4B96F8;

//----- (0046F6A0) --------------------------------------------------------
volatile int *__usercall sub_46F6A0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v6[4]; // [esp+0h] [ebp-10h] BYREF
  int v7; // [esp+4h] [ebp-Ch] BYREF
  volatile int *v8; // [esp+8h] [ebp-8h]
  int v9; // [esp+Ch] [ebp-4h] BYREF

  v8 = 0;
  CRWLock::ReadLock((CRWLock *)&unk_4B9728);
  v7 = a4;
  sub_460550(dword_4B9704, &v9, &v7);
  v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B9704, v6);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
         v4) )
  {
    v8 = *(volatile int **)(sub_43E1A0(&v9) + 4);
    sub_4010D0(v8, a1, a2, a3);
  }
  CRWLock::ReadUnlock((CRWLock *)&unk_4B9728, a1, a2, a3);
  return v8;
}

//----- (0046F720) --------------------------------------------------------
void __usercall sub_46F720(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  int v3; // eax
  int v4; // [esp-14h] [ebp-20h]
  int v5; // [esp-10h] [ebp-1Ch]
  int v6; // [esp-Ch] [ebp-18h]
  int v7; // [esp-8h] [ebp-14h]
  int v8; // [esp-4h] [ebp-10h]
  Concurrency::details::SchedulingRing *v9; // [esp+0h] [ebp-Ch]
  int v10; // [esp+4h] [ebp-8h]
  int *i; // [esp+8h] [ebp-4h]

  if ( dword_4B9720 != -1 )
  {
    CRWLock::ReadLock((CRWLock *)&unk_4B9728);
    for ( i = (int *)dword_4B96F8; i != &dword_4B96F8; i = (int *)*i )
    {
      v9 = (Concurrency::details::SchedulingRing *)(i - 28);
      v10 = i[9];
      if ( v10 )
      {
        v8 = *((_DWORD *)v9 + 39);
        v7 = *((_DWORD *)v9 + 41);
        v6 = *((_DWORD *)v9 + 38);
        v5 = *((_DWORD *)v9 + 33);
        v4 = *((_DWORD *)v9 + 34);
        v3 = Concurrency::details::SchedulingRing::Id(v9);
        CAuthSocket::Write(a1, a2, a3, 3, "dddwbdd", v3, v10, v4, v5, v6, v7, v8);
      }
    }
    CRWLock::ReadUnlock((CRWLock *)&unk_4B9728, a1, a2, a3);
  }
}
// 4B96F8: using guessed type int dword_4B96F8;
// 4B9720: using guessed type int dword_4B9720;

//----- (0046F7E0) --------------------------------------------------------
_DWORD *__userpurge sub_46F7E0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, int a5)
{
  _DWORD *v6; // [esp+0h] [ebp-10h]
  CMemory **v7; // [esp+8h] [ebp-8h]

  v7 = sub_401000(0xBCu);
  if ( v7 )
    v6 = sub_482F10(v7, a1, a2, a3, a4, a5);
  else
    v6 = 0;
  return v6;
}

//----- (0046F830) --------------------------------------------------------
int __thiscall sub_46F830(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(
    this,
    (std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_46F890(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (0046F890) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_46F890(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_46F930((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0046F930) --------------------------------------------------------
_DWORD *__thiscall sub_46F930(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_46FA80(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0046F990) --------------------------------------------------------
void *__thiscall sub_46F990(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_43F410(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (0046F9C0) --------------------------------------------------------
int __thiscall sub_46F9C0(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_46DDD0(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_417820(v2, a2) )
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046FA50) --------------------------------------------------------
int *__thiscall sub_46FA50(int *this, int *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_47CBB0(this);
  *a2 = v4;
  return a2;
}

//----- (0046FA80) --------------------------------------------------------
int __stdcall sub_46FA80(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_46FA80(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046FB00) --------------------------------------------------------
void *__thiscall sub_46FB00(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0046FB30) --------------------------------------------------------
void *__thiscall sub_46FB30(void *this, _BYTE *a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  unknown_libname_20(a3);
  std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    a2,
    v4);
  sub_46E900((int *)this);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (0046FB70) --------------------------------------------------------
void *__thiscall std::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_val<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(void *this, _BYTE *a2, char a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  unknown_libname_20(&a3);
  std::_Tree_ptr<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Tree_ptr<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>(
    this,
    a2,
    v4);
  unknown_libname_20(&a3);
  return this;
}
// 43F7D0: using guessed type _DWORD __stdcall unknown_libname_20(_DWORD);

//----- (0046FBB0) --------------------------------------------------------
CIOServer *__thiscall sub_46FBB0(CIOServer *this)
{
  CIOServer::CIOServer(this);
  *(_DWORD *)this = &off_49E074;
  return this;
}
// 49E074: using guessed type int (__stdcall *off_49E074)(int);

//----- (0046FBD0) --------------------------------------------------------
std::numpunct<char> *__thiscall sub_46FBD0(std::numpunct<char> *this, char a2)
{
  sub_46FC00(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0046FC00) --------------------------------------------------------
void __thiscall sub_46FC00(std::numpunct<char> *this)
{
  std::numpunct<char>::~numpunct<char>(this);
}

//----- (0046FC20) --------------------------------------------------------
int __thiscall sub_46FC20(int *this)
{
  return sub_46FC40(this);
}

//----- (0046FC40) --------------------------------------------------------
int __thiscall sub_46FC40(int *this)
{
  return sub_46FC60(this);
}

//----- (0046FC60) --------------------------------------------------------
int __thiscall sub_46FC60(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_46F890(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0046FD10) --------------------------------------------------------
_DWORD *__thiscall sub_46FD10(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_49E090;
  this[23] = 0;
  this[22] = 0;
  this[21] = 0;
  this[20] = 0;
  this[19] = 0;
  this[18] = 0;
  this[17] = 0;
  this[16] = 0;
  this[15] = 0;
  this[14] = 0;
  this[13] = 0;
  this[12] = 0;
  this[11] = 0;
  this[10] = 0;
  this[9] = 0;
  this[8] = 0;
  return this;
}
// 49E090: using guessed type int (__stdcall *off_49E090)(int);

//----- (0046FDD0) --------------------------------------------------------
_DWORD *__userpurge sub_46FDD0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_46FE00(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0046FE00) --------------------------------------------------------
_DWORD *__usercall sub_46FE00@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  return CBase::_CBase(a1, a2, a3, a4);
}

//----- (0046FE20) --------------------------------------------------------
int __thiscall sub_46FE20(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  int v12; // esi
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  lisp::var *v20; // eax
  int result; // eax
  char v23[4]; // [esp+10h] [ebp-44h] BYREF
  char v24[4]; // [esp+14h] [ebp-40h] BYREF
  char v25[4]; // [esp+18h] [ebp-3Ch] BYREF
  char v26[4]; // [esp+1Ch] [ebp-38h] BYREF
  char v27[4]; // [esp+20h] [ebp-34h] BYREF
  char v28[4]; // [esp+24h] [ebp-30h] BYREF
  char v29[4]; // [esp+28h] [ebp-2Ch] BYREF
  char v30[4]; // [esp+2Ch] [ebp-28h] BYREF
  char v31[4]; // [esp+30h] [ebp-24h] BYREF
  char v32[4]; // [esp+34h] [ebp-20h] BYREF
  char v33[4]; // [esp+38h] [ebp-1Ch] BYREF
  char v34[4]; // [esp+3Ch] [ebp-18h] BYREF
  char v35[4]; // [esp+40h] [ebp-14h] BYREF
  char v36[4]; // [esp+44h] [ebp-10h] BYREF
  char v37[4]; // [esp+48h] [ebp-Ch] BYREF
  char v38[4]; // [esp+4Ch] [ebp-8h] BYREF
  char v39[4]; // [esp+50h] [ebp-4h] BYREF

  switch ( a2 )
  {
    case 2:
      v4 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v38);
      this[9] = sub_40BBE0(v4);
      goto LABEL_17;
    case 15:
      v5 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v37);
      this[17] = sub_40BBE0(v5);
      goto LABEL_17;
    case 38:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v39);
      this[8] = sub_40BBE0(v3);
      goto LABEL_17;
    case 39:
      v14 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v29);
      this[10] = sub_40BBE0(v14);
      v15 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v28);
      this[11] = 1 << sub_40BBE0(v15);
      v16 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v27);
      this[12] = sub_40BBE0(v16);
      v17 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v26);
      this[13] = sub_40BBE0(v17);
      goto LABEL_17;
    case 60:
      v7 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v35);
      this[19] = sub_40BBE0(v7);
      v8 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v34);
      this[20] = this[19] + sub_40BBE0(v8);
      v9 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v33);
      this[21] = sub_40BBE0(v9);
      goto LABEL_17;
    case 61:
      v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v36);
      this[18] = sub_40BBE0(v6);
      goto LABEL_17;
    case 62:
      v10 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v32);
      this[22] = sub_40BBE0(v10);
      goto LABEL_17;
    case 63:
      v11 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v31);
      this[23] = sub_40BBE0(v11);
      while ( !(unsigned __int8)sub_402200(&a3) )
      {
        v12 = this[23] << 8;
        v13 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v30);
        this[23] = (unsigned __int8)sub_40BBE0(v13) | v12;
      }
      goto LABEL_17;
    case 81:
      v18 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v25);
      this[14] = sub_40BBE0(v18);
      goto LABEL_17;
    case 94:
      v19 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v24);
      this[15] = sub_40BBE0(v19);
      goto LABEL_17;
    case 97:
      v20 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v23);
      this[16] = sub_40BBE0(v20);
LABEL_17:
      result = 1;
      break;
    default:
      std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(&a3);
      result = CBase::Set(this, a2, a2 - 2);
      break;
  }
  return result;
}
// 4021C0: using guessed type _DWORD __stdcall std::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>::_Callable_base<bool (__cdecl *)(enum Concurrency::agent_status const &),0>(_DWORD);

//----- (00470110) --------------------------------------------------------
int __thiscall CInitSkill::OnLoad(_DWORD *this)
{
  void *v1; // eax
  int result; // eax
  char v4[4]; // [esp+8h] [ebp-10h] BYREF
  int v5; // [esp+Ch] [ebp-Ch] BYREF
  int v6; // [esp+10h] [ebp-8h] BYREF
  _DWORD *v7; // [esp+14h] [ebp-4h]

  switch ( this[8] )
  {
    case 0xFFFFFFFE:
      if ( this[9] < dword_4B9740 )
      {
        v7 = (_DWORD *)dword_4B9BFC[this[9]];
        goto LABEL_10;
      }
      LOG_ERR("CInitSkill::OnLoad() Invalid Monster Skill Index (%d)", this[9]);
      result = 0;
      break;
    case 0xFFFFFFFF:
      v7 = (_DWORD *)dword_4B9AD8[this[9]];
      goto LABEL_10;
    case 0:
    case 1:
    case 2:
      v5 = this[9] + (this[8] << 16);
      std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B9744,
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)&v6,
        &v5);
      v1 = sub_482CA0(dword_4B9744, v4);
      if ( (unsigned __int8)unknown_libname_25(v1) )
      {
        result = 0;
      }
      else
      {
        v7 = *(_DWORD **)(sub_43E1A0(&v6) + 4);
LABEL_10:
        v7[1] = this[9];
        v7[3] = this[10];
        v7[4] = this[11];
        v7[5] = this[12];
        v7[6] = this[13];
        v7[7] = this[14];
        v7[8] = this[15];
        v7[17] = this[16];
        v7[9] = this[17];
        v7[13] = this[18];
        v7[10] = this[19];
        v7[11] = this[20];
        v7[12] = this[21];
        v7[14] = this[22];
        v7[15] = this[23];
        this[23] = 0;
        this[22] = 0;
        this[21] = 0;
        this[20] = 0;
        this[19] = 0;
        this[18] = 0;
        this[17] = 0;
        this[16] = 0;
        this[15] = 0;
        this[14] = 0;
        this[13] = 0;
        this[12] = 0;
        this[11] = 0;
        this[10] = 0;
        this[9] = 0;
        this[8] = 0;
        result = 1;
      }
      break;
    default:
      LOG_ERR("CInitSkill::OnLoad() Invalid Skill Class (%d)", this[8]);
      result = 0;
      break;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);
// 4B9740: using guessed type int dword_4B9740;
// 4B9AD8: using guessed type int dword_4B9AD8[];
// 4B9BFC: using guessed type int dword_4B9BFC[];

//----- (00470380) --------------------------------------------------------
_DWORD *__thiscall sub_470380(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  memset(this + 2, 0, 0x100u);
  this[66] = 0;
  this[67] = 0;
  this[68] = 0;
  memset(this + 69, 0, 0x24u);
  return this;
}

//----- (00470400) --------------------------------------------------------
LONG __thiscall sub_470400(_DWORD *this)
{
  LONG result; // eax
  int v3; // [esp+4h] [ebp-10h]
  int j; // [esp+8h] [ebp-Ch]
  int v5; // [esp+Ch] [ebp-8h]
  int i; // [esp+10h] [ebp-4h]

  for ( i = 0; i < 64; ++i )
  {
    v5 = this[i + 2];
    if ( v5 )
      sub_47CAA0(v5);
    result = i + 1;
  }
  for ( j = 0; j < 9; ++j )
  {
    result = j;
    v3 = this[j + 69];
    if ( v3 )
      result = sub_47CAA0(v3);
  }
  return result;
}

//----- (00470490) --------------------------------------------------------
int sub_470490()
{
  int result; // eax
  char v1[8]; // [esp+0h] [ebp-10h] BYREF
  int i; // [esp+8h] [ebp-8h]
  int v3; // [esp+Ch] [ebp-4h]

  v3 = 143;
  for ( i = 0; i < v3; ++i )
  {
    sub_43E290(
      dword_4B9744,
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v1,
      (const std::pair<char const * const,CItem *> *)(8 * i + 4953952));
    if ( !v1[4] )
      LOG_ERR("Duplicate key at Skill Map. (%x)", *(_DWORD *)&dword_4B9760[8 * i]);
    result = i + 1;
  }
  return result;
}

//----- (00470500) --------------------------------------------------------
int sub_470500()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int result; // eax
  int v2; // eax
  char v3[4]; // [esp+8h] [ebp-14h] BYREF
  int v4; // [esp+Ch] [ebp-10h] BYREF
  void *v5; // [esp+10h] [ebp-Ch]
  int i; // [esp+14h] [ebp-8h]
  int v7; // [esp+18h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B9744,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B9744, v3);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
               v0);
    if ( !(_BYTE)result )
      break;
    v2 = sub_43E1A0(&v7);
    sub_401020(*(void **)(v2 + 4));
    sub_46FA50(&v7, &v4, 0);
  }
  for ( i = 0; i < 9; ++i )
  {
    v5 = (void *)dword_4B9BD8[i];
    if ( v5 )
      sub_401020(v5);
    result = i + 1;
  }
  return result;
}
// 4B9BD8: using guessed type int dword_4B9BD8[];

//----- (004705B0) --------------------------------------------------------
int __thiscall sub_4705B0(_DWORD *this, int a2)
{
  int result; // eax

  *this = a2;
  result = a2;
  this[1] = *(_DWORD *)(a2 + 452);
  return result;
}

//----- (004705E0) --------------------------------------------------------
void __thiscall sub_4705E0(_DWORD *this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v6[4]; // [esp+4h] [ebp-10h] BYREF
  int v7; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v8; // [esp+Ch] [ebp-8h]
  int v9; // [esp+10h] [ebp-4h] BYREF

  if ( a2 < 64 )
  {
    v7 = a2 + (this[1] << 16);
    std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B9744,
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)&v9,
      &v7);
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0(dword_4B9744, v6);
    if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
           v3) )
    {
      v4 = sub_43E1A0(&v9);
      v8 = sub_470690(*(const void **)(v4 + 4));
      sub_4706B0(v8, a2, a3);
      this[a2 + 2] = v8;
    }
    else
    {
      LOG_ERR("CPlayerSkill::SetSkill() Can't find Skill(Class:%d, Skill:%d)", this[1], a2);
    }
  }
}

//----- (00470690) --------------------------------------------------------
void *__thiscall sub_470690(const void *this)
{
  _DWORD *v1; // eax

  v1 = sub_47CA20();
  return memcpy(v1, this, 0x4Cu);
}

//----- (004706B0) --------------------------------------------------------
int __thiscall sub_4706B0(_DWORD *this, int a2, int a3)
{
  int result; // eax

  this[1] = a2;
  result = a3;
  this[2] = a3;
  return result;
}

//----- (004706D0) --------------------------------------------------------
void __userpurge sub_4706D0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  void *v5; // eax
  char v7[4]; // [esp+4h] [ebp-10h] BYREF
  int v8; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v9; // [esp+Ch] [ebp-8h]
  int v10; // [esp+10h] [ebp-4h] BYREF

  if ( a5 < 64 && !sub_448140(a1, a5) )
  {
    v8 = a5 + (a1[1] << 16);
    std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B9744,
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)&v10,
      &v8);
    v5 = sub_482CA0(dword_4B9744, v7);
    if ( !(unsigned __int8)unknown_libname_25(v5) )
    {
      v9 = *(_DWORD **)(sub_43E1A0(&v10) + 4);
      if ( (*(int (__thiscall **)(_DWORD *, _DWORD, _DWORD))(*v9 + 60))(
             v9,
             *(_DWORD *)(*a1 + 60),
             *(_DWORD *)(*a1 + 456)) )
      {
        if ( sub_470840(a1, v9[5], v9[6]) )
        {
          v9 = sub_470690(v9);
          sub_4706B0(v9, a5, 1);
          (*(void (__thiscall **)(_DWORD *, int, _DWORD, _DWORD))(*v9 + 8))(v9, *a1, 0, 0);
          a1[a5 + 2] = (int)v9;
          if ( sub_470C50(a1, a5) )
            (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)*a1 + 88))(*a1, 24, 0, 1);
          sub_448C90(a2, a3, a4, *a1, 58, "bb", a5, 1);
          CDBSocket::Write(a2, a3, a4, 9, "dbw", *(_DWORD *)(*a1 + 444), a5, *(_DWORD *)(*a1 + 540));
        }
      }
    }
  }
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00470840) --------------------------------------------------------
int __thiscall sub_470840(_DWORD *this, int a2, int a3)
{
  int v5; // [esp+8h] [ebp-4h]

  if ( !a2 )
    return 1;
  v5 = this[a2 + 2];
  if ( !a3 )
    return this[a2 + 2];
  return v5 && *(_DWORD *)(v5 + 8) >= a3;
}

//----- (004708A0) --------------------------------------------------------
void __userpurge sub_4708A0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+4h] [ebp-8h]
  _DWORD *v7; // [esp+8h] [ebp-4h]

  if ( a5 < 64 )
  {
    v7 = (_DWORD *)a1[a5 + 2];
    if ( v7 )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int))(*v7 + 44))(v7, *a1) )
      {
        v6 = v7[2] + 1;
        (*(void (__thiscall **)(_DWORD *, int, int, int))(*v7 + 8))(v7, *a1, v6, 1);
        v7[2] = v6;
        if ( sub_470C50(a1, a5) )
          (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)*a1 + 88))(*a1, 24, 0, 1);
        sub_448C90(a2, a3, a4, *a1, 58, "bb", a5, v6);
        CDBSocket::Write(a2, a3, a4, 10, "dbbw", *(_DWORD *)(*a1 + 444), a5, v6, *(_DWORD *)(*a1 + 540));
      }
    }
  }
}

//----- (00470990) --------------------------------------------------------
void __userpurge sub_470990(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  void *v6; // eax
  int v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  int v11; // [esp+Ch] [ebp-8h] BYREF
  _DWORD *v12; // [esp+10h] [ebp-4h]

  v12 = (_DWORD *)a1[a5 + 2];
  if ( v12 )
  {
    (*(void (__thiscall **)(_DWORD *, int, int, int))(*v12 + 8))(v12, *a1, a6, 1);
    v12[2] = a6;
  }
  else
  {
    v10 = a5 + (a1[1] << 16);
    std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4B9744,
      (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)&v11,
      &v10);
    v6 = sub_482CA0(dword_4B9744, v9);
    if ( (unsigned __int8)unknown_libname_25(v6) )
      return;
    v7 = sub_43E1A0(&v11);
    a1[a5 + 2] = (int)sub_470690(*(const void **)(v7 + 4));
    v12 = (_DWORD *)a1[a5 + 2];
    sub_4706B0(v12, a5, a6);
    (*(void (__thiscall **)(_DWORD *, int, _DWORD, _DWORD))(*v12 + 8))(v12, *a1, 0, 0);
  }
  sub_448C90(a2, a3, a4, *a1, 58, "bb", a5, a6);
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00470A90) --------------------------------------------------------
int __thiscall sub_470A90(_DWORD *this, int a2, int a3, int a4)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( a2 < 64 )
  {
    result = a2;
    v5 = this[a2 + 2];
    if ( v5 )
      result = (*(int (__thiscall **)(int, _DWORD, int, int))(*(_DWORD *)v5 + 4))(v5, *this, a3, a4);
  }
  return result;
}

//----- (00470AE0) --------------------------------------------------------
int __thiscall sub_470AE0(_DWORD *this)
{
  int result; // eax
  int v3; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]

  for ( i = 0; i < 64; ++i )
  {
    v3 = this[i + 2];
    if ( v3 )
      (*(void (__thiscall **)(int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)v3 + 8))(v3, *this, 0, 0);
    result = i + 1;
  }
  return result;
}

//----- (00470B30) --------------------------------------------------------
int sub_470B30(_DWORD *a1, int a2, ...)
{
  int result; // eax
  int v3; // [esp+4h] [ebp-4h]
  va_list va; // [esp+18h] [ebp+10h] BYREF

  va_start(va, a2);
  result = a2;
  v3 = a1[a2 + 2];
  if ( v3 )
    result = (*(int (__thiscall **)(int, _DWORD, char *))(*(_DWORD *)v3 + 12))(v3, *a1, va);
  return result;
}

//----- (00470B70) --------------------------------------------------------
void __thiscall sub_470B70(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *v5; // [esp+4h] [ebp-4h]
  int v6; // [esp+10h] [ebp+8h]

  if ( a2 >= 64 && a2 < 73 && *(_DWORD *)(*this + 1020) && sub_40A660((_DWORD *)*this, 512) )
  {
    v6 = a2 - 64;
    v5 = (_DWORD *)this[v6 + 69];
    if ( !v5 )
    {
      this[v6 + 69] = sub_470690((const void *)dword_4B9BD8[v6]);
      v5 = (_DWORD *)this[v6 + 69];
    }
    if ( v5[14] == *(int *)(*this + 1024) >> 4 && (*(_DWORD *)(*this + 1024) & 0xF) >= v5[3] )
      (*(void (__thiscall **)(_DWORD *, _DWORD, int, int))(*v5 + 4))(v5, *this, a3, a4);
  }
}
// 4B9BD8: using guessed type int dword_4B9BD8[];

//----- (00470C50) --------------------------------------------------------
int __thiscall sub_470C50(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+4h] [ebp-8h]

  if ( a2 == 11 )
    return 0;
  if ( *(_DWORD *)(*this + 456) > 3u )
  {
    if ( a2 == 30 )
      return 0;
    v3 = *(_DWORD *)(*this + 452);
    if ( v3 )
    {
      if ( v3 == 1 && (*(_DWORD *)(*this + 456) & 8) != 0 && a2 == 61 )
        return 0;
    }
    else if ( (*(_DWORD *)(*this + 456) & 8) != 0 && (a2 == 18 || a2 == 14 || a2 == 35) )
    {
      return 0;
    }
  }
  else
  {
    v4 = *(_DWORD *)(*this + 452);
    if ( v4 )
    {
      if ( v4 == 1 )
      {
        if ( a2 == 5 )
          return 0;
        if ( a2 >= 17 && a2 <= 21 )
          return 0;
      }
      else if ( v4 == 2 )
      {
        if ( a2 == 7 )
          return 0;
        if ( a2 == 15 )
          return 0;
      }
    }
    else
    {
      if ( a2 == 14 && this[16] && *(_DWORD *)(this[16] + 8) == 1 )
        return 0;
      if ( a2 == 4 && this[6] && *(_DWORD *)(this[6] + 8) == 1 )
        return 0;
      if ( a2 == 6 && this[8] && *(_DWORD *)(this[8] + 8) == 1 )
        return 0;
      if ( a2 == 15 )
        return 0;
    }
  }
  return 1;
}

//----- (00470DE0) --------------------------------------------------------
void __userpurge sub_470DE0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // [esp+0h] [ebp-Ch]
  int v6; // [esp+4h] [ebp-8h]

  if ( !a5 )
    a5 = *(_DWORD *)(*a1 + 60);
  if ( *(_DWORD *)(*a1 + 456) > 3u )
  {
    if ( a5 == 55 || a5 == 60 || a5 == 65 || a5 == 70 )
      sub_4708A0(a1, a2, a3, a4, 30);
    v5 = *(_DWORD *)(*a1 + 452);
    if ( v5 )
    {
      if ( v5 == 1 && (*(_DWORD *)(*a1 + 456) & 8) != 0 && a5 == 59 )
        sub_4706D0(a1, a2, a3, a4, 61);
    }
    else if ( (*(_DWORD *)(*a1 + 456) & 8) != 0 )
    {
      if ( a5 == 56 || a5 == 62 || a5 == 70 )
        sub_4708A0(a1, a2, a3, a4, 18);
      if ( a5 == 53 || a5 == 62 )
        sub_4708A0(a1, a2, a3, a4, 14);
      if ( a5 == 59 )
        sub_4706D0(a1, a2, a3, a4, 35);
      if ( a5 == 69 )
        sub_4708A0(a1, a2, a3, a4, 35);
    }
  }
  else
  {
    v6 = *(_DWORD *)(*a1 + 452);
    if ( v6 )
    {
      if ( v6 == 1 )
      {
        if ( a5 == 25 )
          sub_4706D0(a1, a2, a3, a4, 5);
        if ( a5 == 35 )
          sub_4706D0(a1, a2, a3, a4, 18);
        if ( a5 == 40 )
          sub_4706D0(a1, a2, a3, a4, 19);
        if ( a5 == 45 )
          sub_4706D0(a1, a2, a3, a4, 20);
        if ( a5 == 50 )
          sub_4706D0(a1, a2, a3, a4, 21);
      }
      else if ( v6 == 2 )
      {
        if ( a5 == 25 )
          sub_4706D0(a1, a2, a3, a4, 15);
        if ( a5 == 35 || a5 == 40 || a5 == 45 || a5 == 50 )
          sub_4708A0(a1, a2, a3, a4, 7);
      }
    }
    else
    {
      if ( a5 == 15 )
        sub_4706D0(a1, a2, a3, a4, 14);
      if ( a5 == 18 )
        sub_4706D0(a1, a2, a3, a4, 4);
      if ( a5 == 25 )
        sub_4706D0(a1, a2, a3, a4, 15);
    }
  }
}

//----- (00470FC0) --------------------------------------------------------
void __usercall sub_470FC0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v4; // [esp+4h] [ebp-10h]
  int j; // [esp+Ch] [ebp-8h]
  int i; // [esp+10h] [ebp-4h]

  if ( *(_DWORD *)(*a1 + 456) == 3 )
  {
    if ( *(int *)(*a1 + 60) < 30 )
    {
LABEL_3:
      LOG_ERR("CPlayerSkill::ChangeOccupationAutoLearnSkill()  not enough Level(%d)", *(_DWORD *)(*a1 + 60));
      return;
    }
    sub_4708A0(a1, a2, a3, a4, 11);
    v4 = *(_DWORD *)(*a1 + 452);
    if ( v4 )
    {
      if ( v4 == 1 )
      {
        sub_4706D0(a1, a2, a3, a4, 17);
      }
      else if ( v4 == 2 )
      {
        sub_4706D0(a1, a2, a3, a4, 7);
      }
    }
    else
    {
      sub_4706D0(a1, a2, a3, a4, 6);
    }
    for ( i = 31; i <= 50; ++i )
      sub_470DE0(a1, a2, a3, a4, i);
  }
  else if ( *(_DWORD *)(*a1 + 456) > 3u )
  {
    if ( *(int *)(*a1 + 60) < 50 )
      goto LABEL_3;
    sub_4706D0(a1, a2, a3, a4, 30);
    if ( !*(_DWORD *)(*a1 + 452) && (*(_DWORD *)(*a1 + 456) & 8) != 0 )
      sub_4706D0(a1, a2, a3, a4, 18);
    for ( j = 51; j <= *(_DWORD *)(*a1 + 60); ++j )
      sub_470DE0(a1, a2, a3, a4, j);
  }
}

//----- (00471120) --------------------------------------------------------
void __userpurge sub_471120(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  _DWORD *v6; // [esp+8h] [ebp-4h]

  if ( a5 < 64 )
  {
    v6 = (_DWORD *)a1[a5 + 2];
    if ( v6 )
    {
      if ( v6[8] && (sub_451F80(*a1, a2, a3, a4, 9, 362, 1) || sub_451F80(*a1, a2, a3, a4, 9, 502, 1)) )
      {
        if ( (*(int (__thiscall **)(_DWORD *, int))(*v6 + 48))(v6, *a1) )
          sub_401020(v6);
      }
    }
  }
}

//----- (004711B0) --------------------------------------------------------
void __thiscall sub_4711B0(_DWORD *this)
{
  _DWORD *v2; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 64; ++i )
  {
    v2 = (_DWORD *)this[i + 2];
    if ( v2 && v2[8] )
    {
      if ( (*(int (__thiscall **)(_DWORD *, _DWORD))(*v2 + 48))(v2, *this) )
        sub_401020(v2);
    }
  }
}

//----- (00471220) --------------------------------------------------------
void __thiscall sub_471220(_DWORD *this, int a2)
{
  void *v2; // [esp+8h] [ebp-4h]

  v2 = (void *)this[a2 + 2];
  if ( v2 )
  {
    if ( (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)v2 + 48))(v2, *this) )
      sub_401020(v2);
  }
}

//----- (00471270) --------------------------------------------------------
int __thiscall sub_471270(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+4h] [ebp-4h]

  if ( a2 >= 64 )
    return 1;
  v4 = this[a2 + 2];
  if ( v4 )
    result = (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)v4 + 64))(v4, *this, a3);
  else
    result = 0;
  return result;
}

//----- (004712C0) --------------------------------------------------------
void __usercall sub_4712C0(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  _DWORD *v5; // [esp+14h] [ebp-14h]
  _DWORD *v6; // [esp+18h] [ebp-10h]
  _DWORD *v7; // [esp+1Ch] [ebp-Ch]
  _DWORD *v8; // [esp+20h] [ebp-8h]
  int i; // [esp+24h] [ebp-4h]

  for ( i = 0; i < 64; ++i )
  {
    v8 = (_DWORD *)a1[i + 2];
    if ( v8 && v8[8] )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int))(*v8 + 48))(v8, *a1) )
        sub_401020(v8);
    }
  }
  if ( *(_DWORD *)(*a1 + 452) )
  {
    if ( *(_DWORD *)(*a1 + 452) == 1 && (*(_DWORD *)(*a1 + 456) & 4) != 0 )
    {
      v5 = (_DWORD *)a1[63];
      if ( v5 )
      {
        if ( sub_471CE0(v5, a2, a3, a4, (_DWORD *)*a1) )
          sub_401020(v5);
      }
    }
  }
  else if ( (*(_DWORD *)(*a1 + 456) & 4) != 0 )
  {
    v6 = (_DWORD *)a1[20];
    if ( v6 && sub_471CE0(v6, a2, a3, a4, (_DWORD *)*a1) )
      sub_401020(v6);
    v7 = (_DWORD *)a1[37];
    if ( v7 && sub_471CE0(v7, a2, a3, a4, (_DWORD *)*a1) )
      sub_401020(v7);
  }
  sub_470FC0(a1, a2, a3, a4);
}

//----- (00471420) --------------------------------------------------------
_DWORD *__thiscall sub_471420(_DWORD *this)
{
  sub_47C9D0(this + 2);
  *this = 0;
  this[1] = 0;
  this[5] = 0;
  return this;
}

//----- (00471460) --------------------------------------------------------
int __thiscall sub_471460(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v5[4]; // [esp+4h] [ebp-Ch] BYREF
  int v6; // [esp+8h] [ebp-8h] BYREF
  int v7; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 8),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(this + 8), v5);
    if ( !std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v1) )
      break;
    v2 = sub_43E1A0(&v7);
    sub_47CAA0(*(_DWORD *)(v2 + 4));
    sub_46FA50(&v7, &v6, 0);
  }
  return sub_4714D0((int *)(this + 8));
}

//----- (004714D0) --------------------------------------------------------
int __thiscall sub_4714D0(int *this)
{
  return sub_47CA00(this);
}

//----- (004714F0) --------------------------------------------------------
void sub_4714F0()
{
  dword_4B9740 = 13;
}
// 4B9740: using guessed type int dword_4B9740;

//----- (00471500) --------------------------------------------------------
int sub_471500()
{
  int result; // eax
  int i; // [esp+4h] [ebp-8h]
  int v2; // [esp+8h] [ebp-4h]

  result = dword_4B9740;
  v2 = dword_4B9740;
  dword_4B9740 = 0;
  for ( i = 0; i < v2; ++i )
    sub_401020((void *)dword_4B9BFC[i]);
  return result;
}
// 4B9740: using guessed type int dword_4B9740;
// 4B9BFC: using guessed type int dword_4B9BFC[];

//----- (00471560) --------------------------------------------------------
int __thiscall sub_471560(int this, int a2)
{
  void *v3; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int v6; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h]
  int v8; // [esp+10h] [ebp-4h] BYREF

  if ( *(_DWORD *)(this + 4) )
    return 0;
  v6 = a2;
  std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(this + 8),
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *)&v8,
    &v6);
  v3 = sub_482CA0((int *)(this + 8), v5);
  if ( (unsigned __int8)unknown_libname_25(v3) )
    return 0;
  v7 = *(_DWORD *)(sub_43E1A0(&v8) + 4);
  if ( GetTickCount() < *(_DWORD *)(v7 + 64) )
    return 0;
  *(_DWORD *)(this + 4) = v7;
  return 1;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (004715F0) --------------------------------------------------------
int __thiscall sub_4715F0(int this)
{
  void *v2; // eax
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h] BYREF

  if ( *(_DWORD *)(this + 4) )
    return 0;
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 8),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  v2 = sub_482CA0((int *)(this + 8), v4);
  if ( (unsigned __int8)unknown_libname_25(v2) )
    return 0;
  v5 = *(_DWORD *)(sub_43E1A0(&v6) + 4);
  if ( GetTickCount() < *(_DWORD *)(v5 + 64) )
    return 0;
  *(_DWORD *)(this + 4) = v5;
  return 1;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00471670) --------------------------------------------------------
BOOL __thiscall sub_471670(int *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int *v4; // eax
  int v5; // edx
  const std::pair<char const * const,CItem *> *v6; // eax
  const char *v8; // [esp+4h] [ebp-30h] BYREF
  char v9[8]; // [esp+8h] [ebp-2Ch] BYREF
  char v10[4]; // [esp+10h] [ebp-24h] BYREF
  int v11; // [esp+14h] [ebp-20h] BYREF
  char v12[8]; // [esp+18h] [ebp-1Ch] BYREF
  CItem *v13; // [esp+20h] [ebp-14h] BYREF
  int v14; // [esp+24h] [ebp-10h]
  int v15; // [esp+28h] [ebp-Ch]
  int v16; // [esp+2Ch] [ebp-8h] BYREF
  int *v17; // [esp+30h] [ebp-4h]

  v17 = (int *)(*(_DWORD *)(a2 + 432) + 252);
  sub_482CA0(v17, &v16);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_42EA00(v17, v10);
    result = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v16,
               v2);
    if ( !result )
      break;
    v4 = (int *)sub_43E1F0(&v16);
    v5 = v4[1];
    v14 = *v4;
    v15 = v5;
    if ( v14 < dword_4B9740 )
    {
      v13 = (CItem *)sub_470690((const void *)dword_4B9BFC[v14]);
      sub_4706B0(v13, v14, v15);
      v8 = (const char *)v14;
      std::pair<char const * const,CItem *>::pair<char const * const,CItem *>(
        (std::pair<char const * const,CItem *> *)v9,
        &v8,
        &v13);
      sub_43E290(
        this + 2,
        (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v12,
        v6);
      if ( !v12[4] )
        sub_47CAA0((int)v13);
    }
    sub_42EAE0(&v16, &v11, 0);
  }
  *this = a2;
  return result;
}
// 47172A: variable 'v6' is possibly undefined
// 4B9740: using guessed type int dword_4B9740;
// 4B9BFC: using guessed type int dword_4B9BFC[];

//----- (00471760) --------------------------------------------------------
int __userpurge sub_471760@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v6; // [esp+0h] [ebp-14h]
  int v8; // [esp+Ch] [ebp-8h]
  DWORD v9; // [esp+10h] [ebp-4h]

  v9 = GetTickCount();
  if ( v9 < *(_DWORD *)(*a1 + 460) )
    return 0;
  if ( a1[5] )
  {
    if ( v9 >= a1[5] )
      return 1;
    (*(void (__thiscall **)(int, int))(*(_DWORD *)a1[1] + 68))(a1[1], *a1);
  }
  else
  {
    v8 = unknown_libname_4(*a1);
    if ( a5 )
      v6 = unknown_libname_4(a5);
    else
      v6 = v8;
    sub_40ACD0(a2, a3, a4, *a1, 30, "dbbd", v8, 5, *(_DWORD *)(a1[1] + 4), v6);
    a1[5] = *(_DWORD *)(a1[1] + 40) + v9;
  }
  return 0;
}

//----- (00471830) --------------------------------------------------------
_DWORD *__userpurge sub_471830@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, volatile int *a5)
{
  if ( a5 )
  {
    CIOObject::AddRef((CIOObject *)a5, a2, a3, a4, a5 + 86);
    (*(void (__thiscall **)(_DWORD, _DWORD, volatile int *))(*(_DWORD *)a1[1] + 72))(a1[1], *a1, a5);
    CIOObject::Release((CIOObject *)a5, a2, a3, a4, a5 + 86);
  }
  else
  {
    (*(void (__thiscall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)a1[1] + 72))(a1[1], *a1, 0);
  }
  return sub_4718B0(a1);
}

//----- (004718B0) --------------------------------------------------------
_DWORD *__thiscall sub_4718B0(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  this[1] = 0;
  this[5] = 0;
  return result;
}

//----- (004718D0) --------------------------------------------------------
_DWORD *__thiscall sub_4718D0(_DWORD *this)
{
  *this = &off_49E1F8;
  this[1] = -1;
  this[2] = 0;
  this[3] = 0;
  this[4] = 0;
  this[5] = 0;
  this[6] = 0;
  this[7] = 0;
  this[8] = 0;
  this[9] = 0;
  this[13] = 0;
  this[10] = 0;
  this[11] = 0;
  this[12] = 0;
  this[14] = 0;
  this[15] = 0;
  this[16] = 0;
  this[17] = 0;
  this[18] = 0;
  return this;
}
// 49E1F8: using guessed type int (__stdcall *off_49E1F8)(int, int);

//----- (004719A0) --------------------------------------------------------
int __thiscall sub_4719A0(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-8h]

  if ( this[11] )
    v3 = this[11];
  else
    v3 = 1;
  return v3;
}

//----- (004719D0) --------------------------------------------------------
BOOL __thiscall sub_4719D0(_DWORD *this, int a2, int a3)
{
  return a2 >= this[3] && (this[4] & a3) != 0;
}

//----- (00471A10) --------------------------------------------------------
BOOL __thiscall sub_471A10(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))(*a2 + 176))(a2, a3, 0);
}

//----- (00471AB0) --------------------------------------------------------
int __thiscall sub_471AB0(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-14h]
  DWORD v5; // [esp+8h] [ebp-Ch]
  int v6; // [esp+Ch] [ebp-8h]
  DWORD v7; // [esp+10h] [ebp-4h]

  v6 = (*(int (__thiscall **)(_DWORD *, int))(*this + 36))(this, a2);
  v7 = GetTickCount();
  v5 = this[16];
  this[16] = v6 + v7;
  if ( v7 >= v5 )
    v3 = v6;
  else
    v3 = v7 + v6 - v5;
  return v3;
}

//----- (00471B10) --------------------------------------------------------
BOOL __stdcall sub_471B10(int a1, int a2)
{
  int Number; // [esp+4h] [ebp-4h]
  int Numbera; // [esp+4h] [ebp-4h]

  Number = *(_DWORD *)(a1 + 60) - *(_DWORD *)(a2 + 60);
  if ( Number <= 0 )
  {
    if ( Number < -9 )
      Number = -9;
    Numbera = abs(Number);
  }
  else
  {
    if ( Number > 3 )
      Number = 3;
    Numbera = Number + 10;
  }
  return dword_4B0C0C[Numbera] >= RandomBetween(1, 100);
}

//----- (00471B90) --------------------------------------------------------
BOOL __thiscall sub_471B90(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( this[2] < this[7] )
    result = *(_DWORD *)(a2 + 60) > this[3] + this[2] - 1;
  else
    result = 0;
  return result;
}

//----- (00471BD0) --------------------------------------------------------
int __thiscall sub_471BD0(void *this, int a2)
{
  int v2; // eax

  v2 = (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
  return (*(int (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v2);
}

//----- (00471C00) --------------------------------------------------------
int __userpurge sub_471C00@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v7; // [esp+4h] [ebp-4h]

  v7 = dword_4B0C60[64 * a5[113] + a1[1]];
  (*(void (__thiscall **)(_DWORD *, _DWORD *, int, int))(*a1 + 8))(a1, a5, v7, 1);
  (*(void (__cdecl **)(_DWORD *, int, int, int))(*a5 + 88))(a5, 24, 1, a1[2] - v7);
  a1[2] = v7;
  sub_448C90(a2, a3, a4, (int)a5, 71, "bb", a1[1], 0);
  CDBSocket::Write(a2, a3, a4, 22, "dbbw", a5[111], a1[1], a1[2], a5[135]);
  if ( v7 )
    return 0;
  a5[a1[1] + 156] = 0;
  return 1;
}
// 4B0C60: using guessed type int dword_4B0C60[];

//----- (00471CE0) --------------------------------------------------------
int __userpurge sub_471CE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v7; // [esp+4h] [ebp-4h]

  v7 = dword_4B0C60[64 * a5[113] + a1[1]];
  (*(void (__thiscall **)(_DWORD *, _DWORD *, int, int))(*a1 + 8))(a1, a5, v7, 1);
  a1[2] = v7;
  sub_448C90(a2, a3, a4, (int)a5, 71, "bb", a1[1], 1);
  CDBSocket::Write(a2, a3, a4, 22, "dbbw", a5[111], a1[1], a1[2], a5[135]);
  if ( v7 )
    return 0;
  a5[a1[1] + 156] = 0;
  return 1;
}
// 4B0C60: using guessed type int dword_4B0C60[];

//----- (00471DA0) --------------------------------------------------------
int __userpurge sub_471DA0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  __int64 v7; // rax
  char v10; // [esp+27h] [ebp-1h] BYREF

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "b", &v10);
  if ( v10 )
  {
    v7 = CChar::IsMState((_QWORD *)a5, 1i64);
    if ( !v7 )
    {
      LODWORD(v7) = a1;
      if ( *(_DWORD *)(a5 + 276) >= *(_DWORD *)(a1 + 36) )
      {
        LODWORD(v7) = sub_45F030((_DWORD *)a5);
        if ( !(_DWORD)v7 )
        {
          if ( CChar::IsMState((_QWORD *)a5, 8i64) )
            sub_40A990(a5, a2, a3, a4, 2);
          if ( CChar::IsMState((_QWORD *)a5, 0x2000i64) )
            sub_40A990(a5, a2, a3, a4, 12);
          (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a5 + 104))(a5, 1, 0);
          sub_458470((volatile LONG *)a5, a2, a3, a4, 0);
          LODWORD(v7) = (*(int (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a5 + 88))(
                          a5,
                          8,
                          0,
                          *(_DWORD *)(a1 + 36));
        }
      }
    }
  }
  else
  {
    v7 = CChar::IsMState((_QWORD *)a5, 1i64);
    if ( v7 )
      LODWORD(v7) = (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a5 + 124))(a5, 1, 0);
  }
  return v7;
}

//----- (00471EC0) --------------------------------------------------------
BOOL __stdcall sub_471EC0(_DWORD *a1, _DWORD *a2)
{
  return CChar::IsNormal(a1)
      && a1[77] == a2[77]
      && sub_426320(a1, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2)
      && sub_40A660(a2, 1);
}

//----- (00471F30) --------------------------------------------------------
void __userpurge sub_471F30(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-1Ch]
  int v12; // [esp-4h] [ebp-14h]
  int v14; // [esp+0h] [ebp-10h]
  int v15; // [esp+4h] [ebp-Ch] BYREF
  char v16; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v17; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v16, &v15);
  v17 = sub_436ED0(a2, a3, a4, v15);
  if ( v17 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v17) )
    {
      v7 = CChar::GetMaxHP((_DWORD *)a5);
      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 88))(a5, 7, 1, v7 / 10);
      v8 = CChar::GetMaxMP(a1);
      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 88))(a5, 8, 1, v8 / 10);
      sub_40A4D0(
        (_DWORD *)a5,
        *((_DWORD *)v17 + 81) - *(_DWORD *)(a5 + 324),
        *((_DWORD *)v17 + 82) - *(_DWORD *)(a5 + 328));
      v12 = *(_DWORD *)(v14 + 8);
      v11 = unknown_libname_4(v17);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", *(_DWORD *)(v14 + 4), v9, v11, 0, v12);
      v10 = unknown_libname_4(v17);
      sub_40ACD0(a2, a3, a4, (int)v17, 30, "db", v10, 10);
      CBase::Delete((volatile signed __int32 *)v17);
    }
    CIOObject::Release(v17, a2, a3, a4, (volatile int *)v17 + 86);
  }
}
// 472003: variable 'v14' is possibly undefined

//----- (00472080) --------------------------------------------------------
int __thiscall sub_472080(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int result; // eax

  if ( a4 )
  {
    a2[30] -= this[2] / 2;
    a2[33] -= this[2] / 2 + 1;
    a2[32] -= this[2] / 2 + 1;
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, a3 / 2);
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 12, 1, a3 / 2 + 1);
    result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 11, 1, a3 / 2 + 1);
  }
  else
  {
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, this[2] / 2);
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 12, 1, this[2] / 2 + 1);
    result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 11, 1, this[2] / 2 + 1);
  }
  return result;
}

//----- (004721C0) --------------------------------------------------------
int __thiscall sub_4721C0(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int result; // eax

  if ( a4 )
  {
    a2[33] -= this[2];
    a2[32] -= this[2] / 2;
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 12, 1, a3);
    result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 11, 1, a3 / 2);
  }
  else
  {
    (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a2 + 92))(a2, 12, 1, this[2]);
    result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 11, 1, this[2] / 2);
  }
  return result;
}

//----- (00472280) --------------------------------------------------------
int __thiscall sub_472280(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  if ( !a4 )
    return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, 2 * this[2]);
  a2[30] -= 2 * this[2];
  return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, 2 * a3);
}

//----- (004722E0) --------------------------------------------------------
void __userpurge sub_4722E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  DWORD v8; // esi
  int v9; // eax
  int v10; // eax
  int v11; // [esp-18h] [ebp-48h]
  int v12; // [esp-10h] [ebp-40h]
  int v13; // [esp-Ch] [ebp-3Ch]
  int v14; // [esp-8h] [ebp-38h]
  int v15; // [esp-4h] [ebp-34h]
  int v17; // [esp+Ch] [ebp-24h] BYREF
  int v18; // [esp+10h] [ebp-20h] BYREF
  int v19; // [esp+14h] [ebp-1Ch] BYREF
  int v20; // [esp+18h] [ebp-18h]
  int v21; // [esp+1Ch] [ebp-14h]
  int v22; // [esp+20h] [ebp-10h]
  int v23; // [esp+24h] [ebp-Ch] BYREF
  char v24; // [esp+2Bh] [ebp-5h] BYREF
  CIOObject *v25; // [esp+2Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v24, &v23);
  v25 = 0;
  if ( v24 )
  {
    if ( v24 == 1 )
      v25 = sub_436ED0(a2, a3, a4, v23);
  }
  else
  {
    v25 = sub_446740(a2, a3, a4, v23);
  }
  if ( v25 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v25) )
    {
      v22 = sub_471AB0(a1, a5);
      v8 = GetTickCount();
      a4 = CChar::GetASpeed((_DWORD *)a5) + v8;
      *(_DWORD *)(a5 + 1332) = a4;
      sub_40A4D0(
        (_DWORD *)a5,
        *((_DWORD *)v25 + 81) - *(_DWORD *)(a5 + 324),
        *((_DWORD *)v25 + 82) - *(_DWORD *)(a5 + 328));
      v19 = 0;
      v18 = 0;
      v17 = 0;
      v21 = 0;
      v20 = 0;
      v20 = (*(int (__thiscall **)(CIOObject *, int))(*(_DWORD *)v25 + 148))(v25, a5);
      if ( !v20 )
      {
        v21 = (*(int (__thiscall **)(_DWORD *, int, CIOObject *, int, int *, int *, int *))(*a1 + 80))(
                a1,
                a5,
                v25,
                v22,
                &v19,
                &v17,
                &v18);
        if ( !v21 )
          (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v25 + 80))(v25, a5);
      }
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 56))(a1, a5);
      v15 = v21 | (2 * v17) | (4 * v20);
      v14 = v18;
      v13 = v19;
      v12 = a1[2];
      v11 = unknown_libname_4(v25);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v9, v11, 1, v12, v13, v14, v15);
    }
    else if ( a1[10] )
    {
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v10, 0);
    }
    CIOObject::Release(v25, a2, a3, a4, (volatile int *)v25 + 86);
  }
  else if ( a1[10] )
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00472500) --------------------------------------------------------
int __stdcall sub_472500(int *a1)
{
  int result; // eax

  result = (int)a1;
  if ( a1[46] < 5 )
    result = (*(int (__cdecl **)(int *, int, int, int))(*a1 + 92))(a1, 36, 1, 1);
  return result;
}

//----- (00472530) --------------------------------------------------------
BOOL __thiscall sub_472530(void *this, _DWORD *a2, _DWORD *a3)
{
  return sub_471A10(this, a2, a3) && sub_426320(a2, 12);
}

//----- (00472580) --------------------------------------------------------
void __userpurge sub_472580(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  DWORD v8; // esi
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // [esp-Ch] [ebp-64h]
  int v14; // [esp-Ch] [ebp-64h]
  int v15; // [esp-8h] [ebp-60h]
  int v16; // [esp-4h] [ebp-5Ch]
  int v17; // [esp-4h] [ebp-5Ch]
  int v18; // [esp+4h] [ebp-54h]
  unsigned int v20; // [esp+10h] [ebp-48h]
  int v21; // [esp+14h] [ebp-44h] BYREF
  int v22; // [esp+18h] [ebp-40h]
  int v23; // [esp+1Ch] [ebp-3Ch]
  int v24; // [esp+20h] [ebp-38h]
  int v25; // [esp+24h] [ebp-34h]
  int v26; // [esp+28h] [ebp-30h] BYREF
  _DWORD *v27; // [esp+2Ch] [ebp-2Ch]
  CMemory *v28; // [esp+30h] [ebp-28h]
  int v29; // [esp+34h] [ebp-24h]
  int v30; // [esp+38h] [ebp-20h] BYREF
  int v31; // [esp+3Ch] [ebp-1Ch]
  int v32; // [esp+40h] [ebp-18h]
  int v33; // [esp+44h] [ebp-14h]
  int v34; // [esp+48h] [ebp-10h]
  int v35; // [esp+4Ch] [ebp-Ch] BYREF
  char v36; // [esp+53h] [ebp-5h] BYREF
  CIOObject *v37; // [esp+54h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v36, &v35);
  v37 = 0;
  if ( v36 )
  {
    if ( v36 == 1 )
      v37 = sub_436ED0(a2, a3, a4, v35);
  }
  else
  {
    v37 = sub_446740(a2, a3, a4, v35);
  }
  if ( v37 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v37) )
    {
      v34 = sub_471AB0(a1, a5);
      v8 = GetTickCount();
      a4 = CChar::GetASpeed((_DWORD *)a5) + v8;
      *(_DWORD *)(a5 + 1332) = a4;
      sub_40A4D0(
        (_DWORD *)a5,
        *((_DWORD *)v37 + 81) - *(_DWORD *)(a5 + 324),
        *((_DWORD *)v37 + 82) - *(_DWORD *)(a5 + 328));
      v32 = 0;
      v31 = 0;
      v25 = *((_DWORD *)v37 + 81) - *(_DWORD *)(a5 + 324);
      v33 = *((_DWORD *)v37 + 82) - *(_DWORD *)(a5 + 328);
      if ( v25 )
      {
        if ( v33 )
        {
          v31 = *(_DWORD *)(a5 + 328) + v25 * *(_DWORD *)(a5 + 324) / v33;
          v32 = v31 - v25 * *((_DWORD *)v37 + 81) / v33 - *((_DWORD *)v37 + 82);
        }
        else
        {
          v32 = *((_DWORD *)v37 + 81) - *(_DWORD *)(a5 + 324);
        }
      }
      else
      {
        v32 = *((_DWORD *)v37 + 82) - *(_DWORD *)(a5 + 328);
      }
      v27 = 0;
      v28 = sub_482350(*(char **)(a5 + 312), a2, a3, a4, (_DWORD *)v37 + 79, 1);
      v30 = 0;
      v26 = 0;
      v29 = 0;
      while ( v28 )
      {
        v27 = (_DWORD *)unknown_libname_10(v28);
        if ( (*(int (__thiscall **)(int, _DWORD *, _DWORD))(*(_DWORD *)a5 + 176))(a5, v27, 0)
          && sub_440790((_DWORD *)(a5 + 324), v27 + 81) <= *(_DWORD *)(a5 + 304) )
        {
          if ( v25 && v33 )
          {
            v24 = v31 - v25 * v27[81] / v33 - v27[82];
          }
          else
          {
            v18 = v25 ? v27[81] - *(_DWORD *)(a5 + 324) : v27[82] - *(_DWORD *)(a5 + 328);
            v24 = v18;
          }
          if ( (v24 ^ v32) >= 0 )
          {
            if ( CChar::IsNormal(v27) )
            {
              if ( *(_DWORD *)(a5 + 308) == v27[77] )
              {
                v21 = 0;
                v23 = 0;
                v22 = 0;
                v22 = (*(int (__thiscall **)(CIOObject *, int))(*(_DWORD *)v37 + 148))(v37, a5);
                if ( !v22 )
                {
                  v9 = CChar::GetAttack((_DWORD *)a5);
                  a4 = v34 * (v9 + a1[2] * 10 * v9 / 100);
                  v20 = a4 / (*(int (__thiscall **)(_DWORD *, int))(*a1 + 36))(a1, a5);
                  v23 = (*(int (__thiscall **)(_DWORD *, int, unsigned int, int *, int *, int *, _DWORD *))(*v27 + 72))(
                          v27,
                          a5,
                          v20,
                          &v30,
                          &v21,
                          &v26,
                          a1);
                  if ( !v23 )
                    (*(void (__thiscall **)(_DWORD *, int))(*v27 + 80))(v27, a5);
                  if ( v30 > 0 )
                  {
                    v29 = 1;
                    v16 = v26;
                    v15 = v30;
                    v13 = unknown_libname_4(v27);
                    v10 = unknown_libname_4(a5);
                    sub_40ACD0(a2, a3, a4, a5, 70, "bbddww", 13, a1[1], v10, v13, v15, v16);
                  }
                }
              }
            }
          }
        }
        v28 = (CMemory *)CBaseList::Pop((int)v28, a2, a3, a4);
      }
      if ( v29 )
        (*(void (__thiscall **)(_DWORD *, int))(*a1 + 88))(a1, a5);
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 56))(a1, a5);
      v17 = a1[2];
      v14 = unknown_libname_4(v37);
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v11, v14, 0, v17);
    }
    else if ( a1[10] )
    {
      v12 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v12, 0);
    }
    CIOObject::Release(v37, a2, a3, a4, (volatile int *)v37 + 86);
  }
  else if ( a1[10] )
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00472A10) --------------------------------------------------------
BOOL __thiscall sub_472A10(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 58;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 66;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 69;
  }
  return 0;
}

//----- (00472AA0) --------------------------------------------------------
int __thiscall sub_472AA0(_DWORD *this, _DWORD *a2)
{
  return this[11] + CChar::GetASpeed(a2);
}

//----- (00472AC0) --------------------------------------------------------
int __userpurge sub_472AC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 7);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00472AF0) --------------------------------------------------------
int __thiscall sub_472AF0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  int v5; // [esp+0h] [ebp-Ch]

  v3 = Char::GetDex(a2);
  if ( 7 * this[2] * v3 / 4 / 2 + 50 >= 70 * this[2] + 200 )
    v5 = 70 * this[2] + 200;
  else
    v5 = 7 * this[2] * v3 / 4 / 2 + 50;
  return v5 + a3;
}

//----- (00472B60) --------------------------------------------------------
int __userpurge sub_472B60@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 9);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00472B90) --------------------------------------------------------
int __thiscall sub_472B90(void *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  unsigned int v9; // esi
  unsigned int v10; // eax
  int v13; // [esp+8h] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v13 = (*(int (__thiscall **)(void *, _DWORD *, int))(*(_DWORD *)this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
  if ( !sub_43A510((int)a2, a3, v8) )
    return 0;
  v9 = a4 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a2 + 168))(a2, a3);
  *a7 = v9 / (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 36))(this, a2);
  v10 = (*(int (__thiscall **)(void *, _DWORD *, int, int, unsigned int *, void *))(*(_DWORD *)this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  return (*(int (__thiscall **)(_DWORD *, _DWORD *, unsigned int))(*a3 + 72))(a3, a2, a4 * v13 / v10);
}

//----- (00472C50) --------------------------------------------------------
int __userpurge sub_472C50@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 14);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00472C80) --------------------------------------------------------
int __thiscall sub_472C80(_DWORD *this, _DWORD *a2)
{
  return this[11] + CChar::GetASpeed(a2) - 100 * ((this[2] + 1) / 2);
}

//----- (00472CC0) --------------------------------------------------------
int __userpurge sub_472CC0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 13);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00472CF0) --------------------------------------------------------
int __thiscall sub_472CF0(int *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  _DWORD *v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // eax
  int v13; // [esp+0h] [ebp-Ch]
  int v15; // [esp+8h] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v15 = (*(int (__thiscall **)(int *, _DWORD *, int))(*this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(int *))(*this + 84))(this);
  if ( !sub_43A510((int)a2, a3, v8) )
    return 0;
  if ( (*(int (__thiscall **)(int *, _DWORD *, _DWORD *))(*this + 40))(this, a2, a3) )
  {
    v9 = sub_4024B0(7, this[2], v13, (int)this);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a3 + 180))(a3, v9);
  }
  v10 = a4 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a2 + 168))(a2, a3);
  *a7 = v10 / (*(int (__thiscall **)(int *, _DWORD *))(*this + 36))(this, a2);
  v11 = (*(int (__thiscall **)(int *, _DWORD *, int, int, unsigned int *, int *))(*this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  return (*(int (__thiscall **)(_DWORD *, _DWORD *, unsigned int))(*a3 + 72))(a3, a2, a4 * v15 / v11);
}
// 472D55: variable 'v13' is possibly undefined
// 472D8B: variable 'this' is possibly undefined

//----- (00472DF0) --------------------------------------------------------
int __thiscall sub_472DF0(void *this, _DWORD *a2, _DWORD *a3, int a4, _DWORD *a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  unsigned int v9; // esi
  unsigned int v10; // eax
  int v13; // [esp+8h] [ebp-8h]
  int v14; // [esp+Ch] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v14 = (*(int (__thiscall **)(void *, _DWORD *, int))(*(_DWORD *)this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
  if ( !sub_43A510((int)a2, a3, v8) )
    return 0;
  v9 = a4 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a2 + 168))(a2, a3);
  *a7 = v9 / (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 36))(this, a2);
  v10 = (*(int (__thiscall **)(void *, _DWORD *, _DWORD *, int, unsigned int *, void *))(*(_DWORD *)this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  v13 = (*(int (__thiscall **)(_DWORD *, _DWORD *, unsigned int))(*a3 + 72))(a3, a2, a4 * v14 / v10);
  if ( *a5 )
    (*(void (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 88))(this, a2);
  return v13;
}

//----- (00472ED0) --------------------------------------------------------
int __thiscall sub_472ED0(_DWORD *this, int a2, int a3)
{
  return a3 + a3 * (10 * this[2] + 100) / 80;
}

//----- (00472F00) --------------------------------------------------------
BOOL __thiscall sub_472F00(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 57;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 63;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 68;
  }
  return 0;
}

//----- (00472F70) --------------------------------------------------------
BOOL __thiscall sub_472F70(void *this, _DWORD *a2, _DWORD *a3)
{
  return sub_471A10(this, a2, a3) && (int)a2[46] > 0;
}

//----- (00472FC0) --------------------------------------------------------
int __thiscall sub_472FC0(_DWORD *this, int a2, int a3)
{
  return this[2] * (5 * *(_DWORD *)(a2 + 184) + 25)
       + a3
       + 5 * *(_DWORD *)(a2 + 184)
       + 45
       + a3 * (20 * *(_DWORD *)(a2 + 184) + 2 * this[2] + 8) / 50;
}

//----- (00473020) --------------------------------------------------------
int __thiscall sub_473020(void *this, _DWORD *a2)
{
  int v2; // eax

  v2 = (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
  (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 88))(a2, 8, 0, v2);
  return (*(int (__cdecl **)(_DWORD *, int, _DWORD, _DWORD))(*a2 + 92))(a2, 36, 0, a2[46]);
}

//----- (00473070) --------------------------------------------------------
BOOL __thiscall sub_473070(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 63;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 67;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 70;
  }
  return 0;
}

//----- (00473100) --------------------------------------------------------
BOOL __thiscall sub_473100(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 1)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))(*a2 + 176))(a2, a3, 0);
}

//----- (004731A0) --------------------------------------------------------
int __thiscall sub_4731A0(_DWORD *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  _DWORD *v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // eax
  int v13; // [esp+0h] [ebp-Ch]
  int v15; // [esp+8h] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v15 = (*(int (__thiscall **)(_DWORD *, _DWORD *, int))(*this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(_DWORD *))(*this + 84))(this);
  if ( !sub_43A510((int)a2, a3, v8) )
    return 0;
  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD *))(*this + 40))(this, a2, a3) )
  {
    v9 = sub_4024B0(7, 3 * this[2], v13, (int)this);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a3 + 180))(a3, v9);
  }
  v10 = a4 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a2 + 168))(a2, a3);
  *a7 = v10 / (*(int (__thiscall **)(_DWORD *, _DWORD *))(*this + 36))(this, a2);
  v11 = (*(int (__thiscall **)(_DWORD *, _DWORD *, int, int, unsigned int *, _DWORD *))(*this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  return (*(int (__thiscall **)(_DWORD *, _DWORD *, unsigned int))(*a3 + 72))(a3, a2, a4 * v15 / v11);
}
// 473208: variable 'v13' is possibly undefined
// 47323E: variable 'this' is possibly undefined

//----- (004732A0) --------------------------------------------------------
int __thiscall sub_4732A0(_DWORD *this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-8h]

  if ( a3 * (10 * this[2] + 60) / 100 >= 200 )
    v4 = 200;
  else
    v4 = a3 * (10 * this[2] + 60) / 100;
  return v4 + a3;
}

//----- (00473300) --------------------------------------------------------
BOOL __thiscall sub_473300(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 59;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 64;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 68;
  }
  return 0;
}

//----- (00473370) --------------------------------------------------------
void __userpurge sub_473370(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-24h]
  int v11; // [esp-4h] [ebp-1Ch]
  CIOObject *v13; // [esp+8h] [ebp-10h]
  int v14; // [esp+Ch] [ebp-Ch] BYREF
  char v15; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v16; // [esp+14h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v15, &v14);
  v16 = 0;
  if ( v15 )
  {
    if ( v15 == 1 )
      v16 = sub_436ED0(a2, a3, a4, v14);
  }
  else
  {
    v16 = sub_446740(a2, a3, a4, v14);
  }
  if ( v16 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v16) )
    {
      sub_411FF0((int)v16, a2, a3, a4);
      v13 = v16;
      v7 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 24))(a1, 0);
      (*(void (__thiscall **)(CIOObject *, int, int))(*(_DWORD *)v13 + 208))(v13, a5, v7);
      sub_412010((int)v16, a2, a3, a4);
      v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      v11 = a1[2];
      v10 = unknown_libname_4(v16);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v10, 0, v11);
    }
    CIOObject::Release(v16, a2, a3, a4, (volatile int *)v16 + 86);
  }
}

//----- (004734A0) --------------------------------------------------------
int __userpurge sub_4734A0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 8);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (004734D0) --------------------------------------------------------
int __thiscall sub_4734D0(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = *(_DWORD *)(a2 + 636);
  if ( v4 )
    result = 12 * this[2] + a3 + (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)v4 + 16))(v4, a2, 0);
  else
    result = 0;
  return result;
}

//----- (00473520) --------------------------------------------------------
int __thiscall sub_473520(_DWORD *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  unsigned int v9; // esi
  unsigned int v10; // eax
  _DWORD *v11; // eax
  int v13; // [esp+0h] [ebp-10h]
  int v15; // [esp+8h] [ebp-8h]
  int v16; // [esp+Ch] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v16 = (*(int (__thiscall **)(_DWORD *, _DWORD *, int))(*this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(_DWORD *))(*this + 84))(this);
  if ( !sub_43A510((int)a2, a3, v8) )
    return 0;
  v9 = a4 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a2 + 168))(a2, a3);
  *a7 = v9 / (*(int (__thiscall **)(_DWORD *, _DWORD *))(*this + 36))(this, a2);
  v10 = (*(int (__thiscall **)(_DWORD *, _DWORD *, int, int, unsigned int *, _DWORD *))(*this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  v15 = (*(int (__thiscall **)(_DWORD *, _DWORD *, unsigned int))(*a3 + 72))(a3, a2, a4 * v16 / v10);
  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD *))(*this + 40))(this, a2, a3) )
  {
    if ( CChar::IsNormal(a3) )
    {
      v11 = sub_4024B0(7, this[2] / 2 + 1, v13, (int)this);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a3 + 180))(a3, v11);
    }
  }
  return v15;
}
// 47360E: variable 'v13' is possibly undefined

//----- (00473640) --------------------------------------------------------
int __thiscall sub_473640(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = *(_DWORD *)(a2 + 648);
  if ( v4 )
    result = 19 * this[2] + a3 + (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)v4 + 16))(v4, a2, 0);
  else
    result = 0;
  return result;
}

//----- (00473690) --------------------------------------------------------
int __thiscall sub_473690(_DWORD *this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-10h]
  DWORD v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  v6 = GetTickCount() - this[10];
  if ( v6 < 0x3E8 )
    return 0;
  if ( v6 >= 0x6A4 )
  {
    if ( v6 >= 0x8FC )
    {
      if ( v6 >= 0xA28 )
      {
        if ( v6 >= 0xB54 )
          this[14] = 5;
        else
          this[14] = 4;
      }
      else
      {
        this[14] = 3;
      }
    }
    else
    {
      this[14] = 2;
    }
  }
  else
  {
    this[14] = 1;
  }
  switch ( this[14] )
  {
    case 1:
      v7 = a3 * (50 * this[14] + 25 * this[2] + 50) / 90;
      break;
    case 2:
      v7 = a3 * (50 * this[14] + 32 * this[2] + 50) / 90;
      break;
    case 3:
      v7 = a3 * (50 * this[14] + 40 * this[2] + 50) / 90;
      break;
    case 4:
      v7 = a3 * (50 * this[14] + 47 * this[2] + 50) / 90;
      break;
    case 5:
      v7 = a3 * (50 * this[14] + 55 * this[2] + 50) / 90;
      break;
    default:
      return 0;
  }
  if ( v7 >= 2000 )
    v4 = 2000;
  else
    v4 = v7;
  return v4 + a3;
}

//----- (00473850) --------------------------------------------------------
int __thiscall sub_473850(_DWORD *this)
{
  return (this[2] + 1) / 2 + 2 * this[14] - 1;
}

//----- (00473880) --------------------------------------------------------
BOOL __thiscall sub_473880(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 60;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 66;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 69;
  }
  return 0;
}

//----- (00473910) --------------------------------------------------------
int __thiscall sub_473910(_DWORD *this, int a2, int a3)
{
  return (this[2] + 2) * (50 * a3 / 100);
}

//----- (00473940) --------------------------------------------------------
int __thiscall sub_473940(void *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  unsigned int v8; // esi
  unsigned int v9; // eax
  _DWORD *v10; // eax
  int v12; // [esp+0h] [ebp-14h]
  int v14; // [esp+8h] [ebp-Ch]
  int v15; // [esp+Ch] [ebp-8h]
  int v16; // [esp+10h] [ebp-4h]

  v15 = CChar::GetAttack(a2);
  v16 = (*(int (__thiscall **)(void *, _DWORD *, int))(*(_DWORD *)this + 16))(this, a2, v15);
  v7 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
  if ( !sub_43A510((int)a2, a3, v7) )
    return 0;
  v8 = a4 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a2 + 168))(a2, a3);
  *a7 = v8 / (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 36))(this, a2);
  v9 = (*(int (__thiscall **)(void *, _DWORD *, int, int, unsigned int *, void *))(*(_DWORD *)this + 36))(
         this,
         a2,
         a5,
         a6,
         a7,
         this);
  v14 = (*(int (__thiscall **)(_DWORD *, _DWORD *, unsigned int))(*a3 + 72))(a3, a2, a4 * v16 / v9);
  if ( (*(int (__thiscall **)(void *, _DWORD *, _DWORD *))(*(_DWORD *)this + 40))(this, a2, a3) )
  {
    v10 = sub_4024B0(39, 5, 50 * v15 / 100 / 5, v12);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a3 + 180))(a3, v10);
  }
  return v14;
}
// 473A32: variable 'v12' is possibly undefined

//----- (00473A60) --------------------------------------------------------
BOOL __thiscall sub_473A60(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 67;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 70;
  return 0;
}

//----- (00473AC0) --------------------------------------------------------
void __userpurge sub_473AC0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  DWORD v8; // esi
  unsigned int v9; // esi
  int v10; // eax
  unsigned int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // [esp-18h] [ebp-4Ch]
  int v15; // [esp-10h] [ebp-44h]
  int v16; // [esp-Ch] [ebp-40h]
  unsigned int v17; // [esp-8h] [ebp-3Ch]
  int v18; // [esp-4h] [ebp-38h]
  int v20; // [esp+Ch] [ebp-28h] BYREF
  unsigned int v21; // [esp+10h] [ebp-24h] BYREF
  int v22; // [esp+14h] [ebp-20h] BYREF
  int v23; // [esp+18h] [ebp-1Ch]
  int v24; // [esp+1Ch] [ebp-18h]
  int v25; // [esp+20h] [ebp-14h]
  int v26; // [esp+24h] [ebp-10h]
  int v27; // [esp+28h] [ebp-Ch] BYREF
  char v28; // [esp+2Fh] [ebp-5h] BYREF
  volatile int *v29; // [esp+30h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v28, &v27);
  v29 = 0;
  if ( v28 )
  {
    if ( v28 == 1 )
      v29 = (volatile int *)sub_436ED0(a2, a3, a4, v27);
  }
  else
  {
    v29 = (volatile int *)sub_446740(a2, a3, a4, v27);
  }
  if ( v29 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, volatile int *))*a1)(a1, a5, v29) )
    {
      v25 = sub_471AB0(a1, a5);
      v8 = GetTickCount();
      *(_DWORD *)(a5 + 1332) = CChar::GetASpeed((_DWORD *)a5) + v8;
      sub_40A4D0(
        (_DWORD *)a5,
        *((_DWORD *)v29 + 81) - *(_DWORD *)(a5 + 324),
        *((_DWORD *)v29 + 82) - *(_DWORD *)(a5 + 328));
      v22 = 0;
      v9 = v25 * (*(int (__thiscall **)(int, volatile int *))(*(_DWORD *)a5 + 168))(a5, v29);
      v21 = v9 / (*(int (__thiscall **)(_DWORD *, int))(*a1 + 36))(a1, a5);
      v26 = sub_473EF0(a1, a5, v29);
      v20 = 0;
      v10 = sub_473D50((_DWORD *)a5);
      v24 = (*(int (__thiscall **)(_DWORD *, int, int))(*a1 + 20))(a1, a5, v10);
      a4 = v25 * (v26 * v24 / 100);
      v11 = (*(int (__thiscall **)(_DWORD *, int, int *, int *, unsigned int *, _DWORD *))(*a1 + 36))(
              a1,
              a5,
              &v22,
              &v20,
              &v21,
              a1);
      v23 = (*(int (__thiscall **)(volatile int *, int, DWORD))(*v29 + 72))(v29, a5, a4 / v11);
      if ( !v23 )
        (*(void (__thiscall **)(volatile int *, int))(*v29 + 80))(v29, a5);
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 56))(a1, a5);
      v18 = v23;
      v17 = v21;
      v16 = v22;
      v15 = a1[2];
      v14 = unknown_libname_4(v29);
      v12 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v12, v14, 1, v15, v16, v17, v18);
      (*(void (__thiscall **)(_DWORD *, int, volatile int *, int, int, int))(*a1 + 84))(a1, a5, v29, v25, v26, v24);
    }
    else if ( a1[10] )
    {
      v13 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v13, 0);
    }
    CIOObject::Release((CIOObject *)v29, a2, a3, a4, v29 + 86);
  }
  else if ( a1[10] )
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00473D50) --------------------------------------------------------
int __thiscall sub_473D50(_DWORD *this)
{
  int v1; // eax
  int v3; // [esp-4h] [ebp-Ch]

  v3 = CChar::GetMaxMagic(this);
  v1 = CChar::GetMinMagic(this);
  return RandomBetween(v1, v3);
}

//----- (00473D80) --------------------------------------------------------
int __thiscall sub_473D80(void *this, int a2)
{
  int v3; // [esp+8h] [ebp-4h]

  v3 = 0;
  if ( (*(int (__thiscall **)(void *))(*(_DWORD *)this + 80))(this) == 2 )
    v3 = 20 * *(_DWORD *)(a2 + 880);
  return v3;
}

//----- (00473DC0) --------------------------------------------------------
int __thiscall sub_473DC0(_DWORD *this, int a2)
{
  int v4; // [esp+8h] [ebp-4h]

  if ( !a2 )
    return this[11];
  v4 = this[11];
  if ( !(*(int (__thiscall **)(_DWORD *))(*this + 80))(this) )
    v4 -= 5 * *(_DWORD *)(a2 + 888) * this[10] / 0x64u;
  return v4;
}

//----- (00473E30) --------------------------------------------------------
int __thiscall sub_473E30(void *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax

  result = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 80))(this);
  if ( result == 1 )
    result = sub_473E80(this, a2, a3, a4, a5, a6);
  return result;
}

//----- (00473E80) --------------------------------------------------------
int __thiscall sub_473E80(void *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  _DWORD *v7; // eax

  result = a2;
  if ( *(_DWORD *)(a2 + 884) )
  {
    result = (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 40))(this, a2, a3);
    if ( result )
    {
      v7 = sub_4024B0(0, *(_DWORD *)(a2 + 884) + 2, -20 * *(_DWORD *)(a2 + 884), (int)this);
      result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v7);
    }
  }
  return result;
}

//----- (00473EF0) --------------------------------------------------------
int __thiscall sub_473EF0(void *this, int a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // esi
  int v5; // eax
  int v7; // [esp+4h] [ebp-10h]
  int Number; // [esp+Ch] [ebp-8h]
  int v9; // [esp+10h] [ebp-4h]

  Number = *(_DWORD *)(a2 + 60) - a3[15];
  v3 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 80))(this);
  v4 = (*(int (__thiscall **)(_DWORD *, int, int))(*a3 + 144))(a3, a2, v3);
  v5 = abs(Number);
  v9 = (v4 - Number * v5 / 6) & ((v4 - Number * v5 / 6 < 0) - 1);
  if ( v9 >= 100 )
    v7 = 0;
  else
    v7 = 100 - v9;
  return v7;
}

//----- (00473F80) --------------------------------------------------------
int __thiscall sub_473F80(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // eax
  int v6; // [esp+4h] [ebp-Ch]

  v3 = 9 * a2[15] / 2;
  v4 = CChar::GetInt(a2);
  if ( (v3 + 5 * this[2] * v4) / 2 >= 200 * this[2] + 600 )
    v6 = 200 * this[2] + 600;
  else
    v6 = (v3 + 5 * this[2] * v4) / 2;
  return v6 + a3;
}

//----- (00474000) --------------------------------------------------------
int __thiscall sub_474000(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v7 = (v3 + 3 * this[2] * CChar::GetInt(a2) / 10) / 2;
  if ( v7 >= 21 * this[2] + 30 )
    v5 = 21 * this[2] + 30;
  else
    v5 = v7;
  return v5 + a3 + 2 * this[2];
}

//----- (00474080) --------------------------------------------------------
int __userpurge sub_474080@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 25);
  sub_471220(a5 + 154, 33);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (004740C0) --------------------------------------------------------
int __thiscall sub_4740C0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v7 = (v3 + 10 * this[2] * CChar::GetInt(a2) / 3) / 2 + 380;
  if ( v7 >= 150 * this[2] + 500 )
    v5 = 150 * this[2] + 500;
  else
    v5 = v7;
  return v5 + a3;
}

//----- (00474150) --------------------------------------------------------
BOOL __thiscall sub_474150(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 59;
  return 0;
}

//----- (00474190) --------------------------------------------------------
int __userpurge sub_474190@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 46);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (004741C0) --------------------------------------------------------
int __thiscall sub_4741C0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v7 = (v3 + 14 * this[2] * CChar::GetInt(a2) / 3) / 2 + 580;
  if ( v7 >= 300 * this[2] + 600 )
    v5 = 300 * this[2] + 600;
  else
    v5 = v7;
  return v5 + a3;
}

//----- (00474250) --------------------------------------------------------
int __thiscall sub_474250(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v7 = (v3 + 3 * this[2] * CChar::GetInt(a2) / 13) / 2;
  if ( v7 >= 16 * this[2] + 30 )
    v5 = 16 * this[2] + 30;
  else
    v5 = v7;
  return v5 + a3;
}

//----- (004742D0) --------------------------------------------------------
int __userpurge sub_4742D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 24);
  sub_471220(a5 + 154, 32);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00474310) --------------------------------------------------------
int __thiscall sub_474310(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // eax
  int v6; // [esp+4h] [ebp-Ch]

  v3 = 3 * a2[15] / 2;
  v4 = CChar::GetInt(a2);
  if ( (v3 + 10 * this[2] * v4 / 4) / 2 + 240 >= 150 * this[2] + 400 )
    v6 = 150 * this[2] + 400;
  else
    v6 = (v3 + 10 * this[2] * v4 / 4) / 2 + 240;
  return v6 + a3;
}

//----- (004743A0) --------------------------------------------------------
BOOL __thiscall sub_4743A0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 58;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 64;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 67;
  }
  return 0;
}

//----- (00474410) --------------------------------------------------------
int __thiscall sub_474410(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-14h]
  int v6; // [esp+8h] [ebp-10h]
  int v8; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v8 = (v3 + 2 * this[2] * CChar::GetInt(a2) / 16) / 2;
  v9 = v8 + sub_473D80(this, (int)a2);
  if ( v8 >= 12 * this[2] + 30 )
    v6 = 12 * this[2] + 30;
  else
    v6 = v8;
  if ( v9 >= 12 * this[2] + 180 )
    v5 = 12 * this[2] + 180;
  else
    v5 = v9;
  return a3 + RandomBetween(v6, v5);
}

//----- (004744E0) --------------------------------------------------------
int __userpurge sub_4744E0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 9);
  sub_471220(a5 + 154, 23);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00474520) --------------------------------------------------------
int __thiscall sub_474520(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v5; // edi
  int v7; // [esp+8h] [ebp-14h]
  int v8; // [esp+Ch] [ebp-10h]
  int v10; // [esp+14h] [ebp-8h]
  int v11; // [esp+18h] [ebp-4h]

  v3 = 5 * a2[15] / 3;
  v10 = (v3 + 6 * this[2] * CChar::GetInt(a2) / 4) / 2 + 50;
  v4 = sub_473D80(this, (int)a2);
  v5 = 5 * a2[15] / 3;
  v11 = v4 + (v5 + 11 * this[2] * CChar::GetInt(a2) / 3) / 2 + 150;
  if ( v10 >= 60 * this[2] + 200 )
    v8 = 60 * this[2] + 200;
  else
    v8 = v10;
  if ( v11 >= 200 * this[2] + 200 )
    v7 = 200 * this[2] + 200;
  else
    v7 = v11;
  return a3 + RandomBetween(v8, v7);
}

//----- (00474640) --------------------------------------------------------
int __thiscall sub_474640(_DWORD *this, _DWORD *a2, int a3)
{
  int v4; // esi
  int v5; // esi
  int v6; // esi
  int v7; // [esp+4h] [ebp-18h]
  int v8; // [esp+8h] [ebp-14h]
  int v10; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h]
  int v12; // [esp+18h] [ebp-4h]
  int v13; // [esp+18h] [ebp-4h]

  v11 = a2[160];
  if ( !v11 )
    return 0;
  v4 = 3 * a2[15] / 2;
  v10 = v4 + 3 * this[2] * CChar::GetInt(a2) / 10 / 2 + 10;
  v5 = 3 * a2[15] / 2;
  v12 = v5 + 5 * this[2] * CChar::GetInt(a2) / 8 / 2 + 30;
  v6 = v12 + sub_473D80(this, (int)a2);
  v13 = (*(int (__thiscall **)(int, _DWORD *, _DWORD))(*(_DWORD *)v11 + 20))(v11, a2, 0) + v6;
  if ( v10 >= 30 * this[2] + 150 )
    v8 = 30 * this[2] + 150;
  else
    v8 = v10;
  if ( v13 >= 40 * this[2] + 200 )
    v7 = 40 * this[2] + 200;
  else
    v7 = v13;
  return a3 + RandomBetween(v8, v7);
}

//----- (00474780) --------------------------------------------------------
int __userpurge sub_474780@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 31);
  sub_471220(a5 + 154, 41);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (004747C0) --------------------------------------------------------
int __thiscall sub_4747C0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h]

  v3 = 3 * a2[15] / 2 + sub_473D80(this, (int)a2);
  v9 = v3 + 2 * this[2] * CChar::GetInt(a2) / 7 / 2 + 320;
  v4 = 3 * a2[15] / 2 + sub_473D80(this, (int)a2);
  v10 = v4 + 10 * this[2] * CChar::GetInt(a2) / 2 / 2 + 320;
  if ( v9 >= this[2] + 450 )
    v7 = this[2] + 450;
  else
    v7 = v9;
  if ( v10 >= 200 * this[2] + 700 )
    v6 = 200 * this[2] + 700;
  else
    v6 = v10;
  return a3 + RandomBetween(v7, v6);
}

//----- (004748E0) --------------------------------------------------------
BOOL __thiscall sub_4748E0(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( this[2] < this[7] )
    result = *(_DWORD *)(a2 + 60) >= 4 * this[2] + 53;
  else
    result = 0;
  return result;
}

//----- (00474920) --------------------------------------------------------
int __userpurge sub_474920@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 42);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00474950) --------------------------------------------------------
int __thiscall sub_474950(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h]

  v3 = 3 * a2[15] / 2 + sub_473D80(this, (int)a2);
  v9 = v3 + 5 * this[2] * (3 * CChar::GetInt(a2) / 2) / 3 / 2 + 360;
  v4 = 3 * a2[15] / 2 + sub_473D80(this, (int)a2);
  v10 = v4 + 10 * this[2] * (3 * CChar::GetInt(a2) / 2) / 2 / 2 + 700;
  if ( v9 >= 154 * this[2] + 456 )
    v7 = 154 * this[2] + 456;
  else
    v7 = v9;
  if ( v10 >= 300 * this[2] + 900 )
    v6 = 300 * this[2] + 900;
  else
    v6 = v10;
  return a3 + RandomBetween(v7, v6);
}

//----- (00474A90) --------------------------------------------------------
BOOL __thiscall sub_474A90(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( this[2] < this[7] )
    result = *(_DWORD *)(a2 + 60) >= 3 * this[2] + 63;
  else
    result = 0;
  return result;
}

//----- (00474AD0) --------------------------------------------------------
void __userpurge sub_474AD0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  DWORD v8; // esi
  int v9; // eax
  int v10; // eax
  int v11; // eax
  unsigned int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // [esp-Ch] [ebp-48h]
  int v18; // [esp-Ch] [ebp-48h]
  int v19; // [esp-8h] [ebp-44h]
  unsigned int v20; // [esp-4h] [ebp-40h]
  int v21; // [esp-4h] [ebp-40h]
  int v23; // [esp+Ch] [ebp-30h] BYREF
  unsigned int v24; // [esp+10h] [ebp-2Ch] BYREF
  int v25; // [esp+14h] [ebp-28h] BYREF
  int v27; // [esp+1Ch] [ebp-20h]
  int v28; // [esp+20h] [ebp-1Ch]
  _DWORD *v29; // [esp+24h] [ebp-18h]
  CMemory *i; // [esp+28h] [ebp-14h]
  int v31; // [esp+2Ch] [ebp-10h]
  int v32; // [esp+30h] [ebp-Ch] BYREF
  char v33; // [esp+37h] [ebp-5h] BYREF
  CIOObject *v34; // [esp+38h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v33, &v32);
  v34 = 0;
  if ( v33 )
  {
    if ( v33 == 1 )
      v34 = sub_436ED0(a2, a3, a4, v32);
  }
  else
  {
    v34 = sub_446740(a2, a3, a4, v32);
  }
  if ( v34 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v34) )
    {
      v31 = sub_471AB0(a1, a5);
      v8 = GetTickCount();
      a4 = CChar::GetASpeed((_DWORD *)a5) + v8;
      *(_DWORD *)(a5 + 1332) = a4;
      sub_40A4D0(
        (_DWORD *)a5,
        *((_DWORD *)v34 + 81) - *(_DWORD *)(a5 + 324),
        *((_DWORD *)v34 + 82) - *(_DWORD *)(a5 + 328));
      v29 = 0;
      v9 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
      for ( i = sub_482350(*(char **)(a5 + 312), a2, a3, a4, (_DWORD *)v34 + 79, v9);
            i;
            i = (CMemory *)CBaseList::Pop((int)i, a2, a3, a4) )
      {
        v29 = (_DWORD *)unknown_libname_10(i);
        if ( (*(int (__thiscall **)(int, _DWORD *, _DWORD))(*(_DWORD *)a5 + 176))(a5, v29, 0)
          && CChar::IsNormal(v29)
          && *(_DWORD *)(a5 + 308) == v29[77] )
        {
          v25 = 0;
          v10 = (*(int (__thiscall **)(int, CIOObject *))(*(_DWORD *)a5 + 168))(a5, v34);
          a4 = v31 * v10;
          v24 = a4 / (*(int (__thiscall **)(_DWORD *, int))(*a1 + 36))(a1, a5);
          v28 = sub_473EF0(a1, a5, v29);
          v23 = 0;
          v11 = sub_473D50((_DWORD *)a5);
          v27 = (*(int (__thiscall **)(_DWORD *, int, int))(*a1 + 20))(a1, a5, v11);
          if ( (*(int (__thiscall **)(_DWORD *))(*a1 + 96))(a1) )
          {
            a4 = v31 * (v28 * v27 / 100);
            v12 = (*(int (__thiscall **)(_DWORD *, int, int *, int *, unsigned int *, _DWORD *))(*a1 + 36))(
                    a1,
                    a5,
                    &v25,
                    &v23,
                    &v24,
                    a1);
            if ( !(*(int (__thiscall **)(_DWORD *, int, DWORD))(*v29 + 72))(v29, a5, a4 / v12) )
              (*(void (__thiscall **)(_DWORD *, int))(*v29 + 80))(v29, a5);
            if ( v25 > 0 )
            {
              v20 = v24;
              v19 = v25;
              v17 = unknown_libname_4(v29);
              v13 = unknown_libname_4(a5);
              v14 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, unsigned int))(*a1 + 92))(
                      a1,
                      a1[1],
                      v13,
                      v17,
                      v19,
                      v20);
              sub_40ACD0(a2, a3, a4, a5, 70, "bbddww", v14);
              (*(void (__thiscall **)(_DWORD *, int, _DWORD *, int, int, int))(*a1 + 84))(a1, a5, v29, v31, v28, v27);
            }
          }
          else
          {
            (*(void (__thiscall **)(_DWORD *, int, _DWORD *, int, int, int))(*a1 + 84))(a1, a5, v29, v31, v28, v27);
            (*(void (__thiscall **)(_DWORD *, int))(*v29 + 80))(v29, a5);
          }
        }
      }
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 56))(a1, a5);
      v21 = a1[2];
      v18 = unknown_libname_4(v34);
      v15 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v15, v18, 0, v21);
    }
    else if ( a1[10] )
    {
      v16 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v16, 0);
    }
    CIOObject::Release(v34, a2, a3, a4, (volatile int *)v34 + 86);
  }
  else if ( a1[10] )
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00474E70) --------------------------------------------------------
void __userpurge sub_474E70(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6)
{
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-34h]
  int v11; // [esp-Ch] [ebp-34h]
  int v12; // [esp-8h] [ebp-30h]
  int v13; // [esp-4h] [ebp-2Ch]
  int v14; // [esp-4h] [ebp-2Ch]
  int v16; // [esp+4h] [ebp-24h] BYREF
  int v17; // [esp+8h] [ebp-20h] BYREF
  int v18; // [esp+Ch] [ebp-1Ch] BYREF
  int v20; // [esp+14h] [ebp-14h]
  int v21; // [esp+18h] [ebp-10h]
  _DWORD *v22; // [esp+1Ch] [ebp-Ch]
  CMemory *v23; // [esp+20h] [ebp-8h]
  DWORD v24; // [esp+24h] [ebp-4h]

  if ( a6 )
  {
    sub_40A4D0((_DWORD *)a5, a6[81] - *(_DWORD *)(a5 + 324), a6[82] - *(_DWORD *)(a5 + 328));
    v22 = 0;
    v6 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
    v23 = sub_4822A0(*(char **)(a5 + 312), a2, a3, a4, a6 + 79, v6);
    v24 = GetTickCount();
    a1[16] = a1[11] + v24 - a1[10];
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a5 + 224))(a5, a1[12] + v24, 1);
    *(_DWORD *)(a5 + 460) = a1[12] + v24;
    sub_412010(a5, a2, a3, a4);
    while ( v23 )
    {
      v22 = (_DWORD *)unknown_libname_10(v23);
      if ( CChar::IsNormal(v22) && *(_DWORD *)(a5 + 308) == v22[77] )
      {
        v18 = 0;
        v17 = 0;
        v21 = sub_473EF0(a1, a5, v22);
        v16 = 0;
        v20 = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 100))(a1, a5);
        if ( (*(int (__thiscall **)(_DWORD *))(*a1 + 96))(a1) )
        {
          if ( !(*(int (__thiscall **)(_DWORD *, int, int, int *, int *, int *, _DWORD *))(*v22 + 72))(
                  v22,
                  a5,
                  v21 * v20 / 100,
                  &v18,
                  &v16,
                  &v17,
                  a1) )
            (*(void (__thiscall **)(_DWORD *, int))(*v22 + 80))(v22, a5);
          if ( v18 > 0 )
          {
            v13 = v17;
            v12 = v18;
            v10 = unknown_libname_4(v22);
            v7 = unknown_libname_4(a5);
            v8 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*a1 + 92))(a1, a1[1], v7, v10, v12, v13);
            sub_40ACD0(a2, a3, a4, a5, 70, "bbddww", v8);
            (*(void (__thiscall **)(_DWORD *, int, _DWORD *))(*a1 + 104))(a1, a5, v22);
          }
        }
        else
        {
          (*(void (__thiscall **)(_DWORD *, int, _DWORD *))(*a1 + 104))(a1, a5, v22);
          (*(void (__thiscall **)(_DWORD *, int))(*v22 + 80))(v22, a5);
        }
      }
      v23 = (CMemory *)CBaseList::Pop((int)v23, a2, a3, a4);
    }
    sub_411FF0(a5, a2, a3, a4);
    v14 = a1[2];
    v11 = unknown_libname_4(a6);
    v9 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v11, 0, v14);
  }
}

//----- (004750E0) --------------------------------------------------------
void __userpurge sub_4750E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v7; // eax
  int v8; // eax
  DWORD v9; // esi
  DWORD v10; // esi
  int v11; // eax
  int v12; // eax
  unsigned int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // [esp-Ch] [ebp-38h]
  int v18; // [esp-Ch] [ebp-38h]
  int v19; // [esp-8h] [ebp-34h]
  unsigned int v20; // [esp-4h] [ebp-30h]
  int v21; // [esp-4h] [ebp-30h]
  int v23; // [esp+8h] [ebp-24h] BYREF
  unsigned int v24; // [esp+Ch] [ebp-20h] BYREF
  int v25; // [esp+10h] [ebp-1Ch] BYREF
  int v27; // [esp+18h] [ebp-14h]
  int v28; // [esp+1Ch] [ebp-10h]
  _DWORD *v29; // [esp+20h] [ebp-Ch]
  CMemory *v30; // [esp+24h] [ebp-8h]
  int v31; // [esp+28h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*a1)(a1, a5, 0) )
  {
    v29 = 0;
    v8 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
    v30 = sub_482350(*(char **)(a5 + 312), a2, a3, a4, (_DWORD *)(a5 + 316), v8);
    v31 = sub_471AB0(a1, a5);
    v9 = GetTickCount();
    v10 = CChar::GetASpeed((_DWORD *)a5) + v9;
    *(_DWORD *)(a5 + 1332) = v10;
    while ( v30 )
    {
      v29 = (_DWORD *)unknown_libname_10(v30);
      if ( (*(int (__thiscall **)(int, _DWORD *, _DWORD))(*(_DWORD *)a5 + 176))(a5, v29, 0)
        && CChar::IsNormal(v29)
        && *(_DWORD *)(a5 + 308) == v29[77] )
      {
        v25 = 0;
        v11 = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 168))(a5, v29);
        v10 = v31 * v11;
        v24 = v10 / (*(int (__thiscall **)(_DWORD *, int))(*a1 + 36))(a1, a5);
        v28 = sub_473EF0(a1, a5, v29);
        v23 = 0;
        v12 = sub_473D50((_DWORD *)a5);
        v27 = (*(int (__thiscall **)(_DWORD *, int, int))(*a1 + 20))(a1, a5, v12);
        if ( (*(int (__thiscall **)(_DWORD *))(*a1 + 96))(a1) )
        {
          v10 = v31 * (v28 * v27 / 100);
          v13 = (*(int (__thiscall **)(_DWORD *, int, int *, int *, unsigned int *, _DWORD *))(*a1 + 36))(
                  a1,
                  a5,
                  &v25,
                  &v23,
                  &v24,
                  a1);
          if ( !(*(int (__thiscall **)(_DWORD *, int, DWORD))(*v29 + 72))(v29, a5, v10 / v13) )
            (*(void (__thiscall **)(_DWORD *, int))(*v29 + 80))(v29, a5);
          if ( v25 > 0 )
          {
            v20 = v24;
            v19 = v25;
            v17 = unknown_libname_4(v29);
            v14 = unknown_libname_4(a5);
            v15 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, unsigned int))(*a1 + 92))(
                    a1,
                    a1[1],
                    v14,
                    v17,
                    v19,
                    v20);
            sub_40ACD0(a2, a3, v10, a5, 70, "bbddww", v15);
            (*(void (__thiscall **)(_DWORD *, int, _DWORD *, int, int, int))(*a1 + 84))(a1, a5, v29, v31, v28, v27);
          }
        }
        else
        {
          (*(void (__thiscall **)(_DWORD *, int, _DWORD *, int, int, int))(*a1 + 84))(a1, a5, v29, v31, v28, v27);
          (*(void (__thiscall **)(_DWORD *, int))(*v29 + 80))(v29, a5);
        }
      }
      v30 = (CMemory *)CBaseList::Pop((int)v30, a2, a3, v10);
    }
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 56))(a1, a5);
    v21 = a1[2];
    v18 = unknown_libname_4(a5);
    v16 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, v10, a5, 32, "bddbb", a1[1], v16, v18, 0, v21);
  }
  else if ( a1[10] )
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (004753B0) --------------------------------------------------------
void __userpurge sub_4753B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-34h]
  int v11; // [esp-Ch] [ebp-34h]
  int v12; // [esp-8h] [ebp-30h]
  int v13; // [esp-4h] [ebp-2Ch]
  int v14; // [esp-4h] [ebp-2Ch]
  int v16; // [esp+4h] [ebp-24h] BYREF
  int v17; // [esp+8h] [ebp-20h] BYREF
  int v18; // [esp+Ch] [ebp-1Ch] BYREF
  int v20; // [esp+14h] [ebp-14h]
  int v21; // [esp+18h] [ebp-10h]
  _DWORD *v22; // [esp+1Ch] [ebp-Ch]
  CMemory *v23; // [esp+20h] [ebp-8h]
  DWORD v24; // [esp+24h] [ebp-4h]

  v22 = 0;
  v6 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
  v23 = sub_4822A0(*(char **)(a5 + 312), a2, a3, a4, (_DWORD *)(a5 + 316), v6);
  v24 = GetTickCount();
  a1[16] = a1[11] + v24 - a1[10];
  (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a5 + 224))(a5, a1[12] + v24, 1);
  *(_DWORD *)(a5 + 460) = a1[12] + v24;
  sub_412010(a5, a2, a3, a4);
  while ( v23 )
  {
    v22 = (_DWORD *)unknown_libname_10(v23);
    if ( CChar::IsNormal(v22) && *(_DWORD *)(a5 + 308) == v22[77] )
    {
      v18 = 0;
      v17 = 0;
      v21 = sub_473EF0(a1, a5, v22);
      v16 = 0;
      v20 = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 100))(a1, a5);
      if ( !(*(int (__thiscall **)(_DWORD *, int, int, int *, int *, int *, _DWORD *))(*v22 + 72))(
              v22,
              a5,
              v21 * v20 / 100,
              &v18,
              &v16,
              &v17,
              a1) )
        (*(void (__thiscall **)(_DWORD *, int))(*v22 + 80))(v22, a5);
      if ( v18 > 0 )
      {
        v13 = v17;
        v12 = v18;
        v10 = unknown_libname_4(v22);
        v7 = unknown_libname_4(a5);
        v8 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*a1 + 92))(a1, a1[1], v7, v10, v12, v13);
        sub_40ACD0(a2, a3, a4, a5, 70, "bbddww", v8);
        (*(void (__thiscall **)(_DWORD *, int, _DWORD *))(*a1 + 104))(a1, a5, v22);
      }
    }
    v23 = (CMemory *)CBaseList::Pop((int)v23, a2, a3, a4);
  }
  sub_411FF0(a5, a2, a3, a4);
  v14 = a1[2];
  v11 = unknown_libname_4(a5);
  v9 = unknown_libname_4(a5);
  sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v11, 0, v14);
}

//----- (004755B0) --------------------------------------------------------
BOOL __thiscall CMeshDefense::CanSkillUp(void *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal(a2)
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
}

//----- (00475620) --------------------------------------------------------
void __userpurge sub_475620(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  DWORD v10; // esi
  DWORD v11; // esi
  int v12; // eax
  unsigned int v13; // esi
  int v14; // eax
  unsigned int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // [esp-Ch] [ebp-44h]
  int v20; // [esp-Ch] [ebp-44h]
  int v21; // [esp-8h] [ebp-40h]
  unsigned int v22; // [esp-4h] [ebp-3Ch]
  int v23; // [esp-4h] [ebp-3Ch]
  int v25; // [esp+8h] [ebp-30h] BYREF
  unsigned int v26; // [esp+Ch] [ebp-2Ch] BYREF
  int v27; // [esp+10h] [ebp-28h] BYREF
  int v29; // [esp+18h] [ebp-20h]
  int v30; // [esp+1Ch] [ebp-1Ch]
  _DWORD *v31; // [esp+20h] [ebp-18h]
  CMemory *v32; // [esp+24h] [ebp-14h]
  _DWORD *v33; // [esp+28h] [ebp-10h]
  int v34; // [esp+2Ch] [ebp-Ch] BYREF
  int v35; // [esp+30h] [ebp-8h] BYREF
  int v36; // [esp+34h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "dd", &v34, &v35);
  v33 = (_DWORD *)sub_47FED0(*(_DWORD *)(a5 + 308));
  if ( CSMap::IsValidTile(v33, &v34, 0) )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*a1)(a1, a5, 0) )
    {
      v34 >>= 5;
      v35 >>= 5;
      v31 = 0;
      v9 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
      v32 = sub_482350(*(char **)(a5 + 312), a2, a3, a4, &v34, v9);
      v36 = sub_471AB0(a1, a5);
      v10 = GetTickCount();
      v11 = CChar::GetASpeed((_DWORD *)a5) + v10;
      *(_DWORD *)(a5 + 1332) = v11;
      while ( v32 )
      {
        v31 = (_DWORD *)unknown_libname_10(v32);
        if ( (*(int (__thiscall **)(int, _DWORD *, _DWORD))(*(_DWORD *)a5 + 176))(a5, v31, 0)
          && CChar::IsNormal(v31)
          && *(_DWORD *)(a5 + 308) == v31[77] )
        {
          v27 = 0;
          v12 = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 168))(a5, v31);
          v13 = v36 * v12;
          v26 = v13 / (*(int (__thiscall **)(_DWORD *, int))(*a1 + 36))(a1, a5);
          v30 = sub_473EF0(a1, a5, v31);
          v25 = 0;
          v14 = sub_473D50((_DWORD *)a5);
          v29 = (*(int (__thiscall **)(_DWORD *, int, int))(*a1 + 20))(a1, a5, v14);
          v11 = v36 * (v30 * v29 / 100);
          v15 = (*(int (__thiscall **)(_DWORD *, int, int *, int *, unsigned int *, _DWORD *))(*a1 + 36))(
                  a1,
                  a5,
                  &v27,
                  &v25,
                  &v26,
                  a1);
          if ( !(*(int (__thiscall **)(_DWORD *, int, DWORD))(*v31 + 72))(v31, a5, v11 / v15) )
            (*(void (__thiscall **)(_DWORD *, int))(*v31 + 80))(v31, a5);
          if ( v27 > 0 )
          {
            v22 = v26;
            v21 = v27;
            v19 = unknown_libname_4(v31);
            v16 = unknown_libname_4(a5);
            v17 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, unsigned int))(*a1 + 92))(
                    a1,
                    a1[1],
                    v16,
                    v19,
                    v21,
                    v22);
            sub_40ACD0(a2, a3, v11, a5, 70, "bbddww", v17);
            (*(void (__thiscall **)(_DWORD *, int, _DWORD *, int, int, int))(*a1 + 84))(a1, a5, v31, v36, v30, v29);
          }
        }
        v32 = (CMemory *)CBaseList::Pop((int)v32, a2, a3, v11);
      }
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 56))(a1, a5);
      v23 = a1[2];
      v20 = unknown_libname_4(a5);
      v18 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, v11, a5, 32, "bddbb", a1[1], v18, v20, 0, v23);
    }
    else if ( a1[10] )
    {
      v8 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v8, 0);
    }
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00475920) --------------------------------------------------------
int __thiscall sub_475920(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 5 * a2[15] / 3;
  v7 = (v3 + 5 * this[2] * CChar::GetInt(a2) / 7) / 2;
  if ( v7 >= 40 * this[2] + 120 )
    v5 = 40 * this[2] + 120;
  else
    v5 = v7;
  return v5 + a3;
}

//----- (004759A0) --------------------------------------------------------
int __userpurge sub_4759A0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 27);
  sub_471220(a5 + 154, 44);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (004759E0) --------------------------------------------------------
int __thiscall CMagicWidePos::Excute(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 5 * a2[15] / 3;
  v7 = (v3 + 6 * this[2] * CChar::GetInt(a2) / 5) / 2;
  if ( v7 >= 70 * this[2] + 150 )
    v5 = 70 * this[2] + 150;
  else
    v5 = v7;
  return v5 + a3 + 8 * this[2];
}

//----- (00475A70) --------------------------------------------------------
int __userpurge sub_475A70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 47);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00475AA0) --------------------------------------------------------
int __thiscall sub_475AA0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+Ch] [ebp-4h]

  v3 = 6 * a2[15] / 2;
  v6 = (v3 + 4 * this[2] * CChar::GetInt(a2) / 5) / 2 + 580;
  if ( v6 >= 900 )
    v5 = 900;
  else
    v5 = v6;
  return v5 + a3;
}

//----- (00475B10) --------------------------------------------------------
int __userpurge sub_475B10@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 48);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00475B40) --------------------------------------------------------
int __thiscall sub_475B40(_DWORD *this, int a2)
{
  int result; // eax

  result = sub_471BD0(this, a2);
  this[18] = 0;
  return result;
}

//----- (00475B70) --------------------------------------------------------
int __thiscall sub_475B70(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  _DWORD *v7; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    if ( (int)this[18] < 8 )
    {
      ++this[18];
      v7 = sub_4024B0(26, 5 * this[2] + 4, 0, (int)this);
      result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v7);
    }
  }
  return result;
}

//----- (00475BE0) --------------------------------------------------------
BOOL __thiscall sub_475BE0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 61;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 67;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 70;
  }
  return 0;
}

//----- (00475C70) --------------------------------------------------------
int __thiscall sub_475C70(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  _DWORD *v7; // eax
  int savedregs; // [esp+4h] [ebp+0h]

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    if ( (int)this[18] < 5 )
    {
      ++this[18];
      v7 = sub_4024B0(8, 2 * this[2] + 6, (int)this, savedregs);
      result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v7);
    }
  }
  return result;
}
// 475CB5: variable 'savedregs' is possibly undefined

//----- (00475CE0) --------------------------------------------------------
BOOL __thiscall CMagicWideIce::GetMagic(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 58;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 63;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 68;
  }
  return 0;
}

//----- (00475D50) --------------------------------------------------------
int __thiscall sub_475D50(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h]

  v3 = 3 * a2[15] / 2 + sub_473D80(this, (int)a2);
  v9 = v3 + 7 * this[2] * CChar::GetInt(a2) / 3 / 2 + 360;
  v4 = 3 * a2[15] / 2 + sub_473D80(this, (int)a2);
  v10 = v4 + 10 * this[2] * CChar::GetInt(a2) / 4 / 2 + 700;
  if ( v9 >= 700 )
    v7 = 700;
  else
    v7 = v9;
  if ( v10 >= 1000 )
    v6 = 1000;
  else
    v6 = v10;
  return a3 + RandomBetween(v7, v6);
}

//----- (00475E40) --------------------------------------------------------
int __userpurge sub_475E40@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 43);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00475E70) --------------------------------------------------------
int __thiscall sub_475E70(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v6 = (v3 + 2 * this[2] * CChar::GetInt(a2) / 6) / 2 + 480;
  if ( v6 >= 500 )
    v5 = 500;
  else
    v5 = v6;
  return v5 + a3;
}

//----- (00475EE0) --------------------------------------------------------
int __userpurge sub_475EE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 45);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00475F10) --------------------------------------------------------
void __userpurge sub_475F10(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-4h] [ebp-14h]
  _DWORD *v12; // [esp+4h] [ebp-Ch]
  int v13; // [esp+8h] [ebp-8h] BYREF
  int v14; // [esp+Ch] [ebp-4h] BYREF

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "dd", &v13, &v14);
  v12 = (_DWORD *)sub_47FED0(*(_DWORD *)(a5 + 308));
  if ( CSMap::IsValidTile(v12, &v13, 0) && (*(int (__thiscall **)(_DWORD *, int, int, int))(*a1 + 92))(a1, a5, v13, v14) )
  {
    v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
    v10 = a1[2];
    v9 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, 0, 0, v10);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00476010) --------------------------------------------------------
_DWORD *__userpurge sub_476010@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, _DWORD *a3, int a4, int a5)
{
  int v5; // esi
  int v6; // edi
  int v7; // esi
  int v8; // edi
  int v9; // eax
  int v12; // [esp+Ch] [ebp-Ch]
  int v13; // [esp+10h] [ebp-8h]

  v5 = sub_473D80(a1, (int)a3);
  v6 = 3 * a3[15] / 2;
  v12 = v5 + (v6 + 5 * a1[2] * (3 * CChar::GetInt(a3) / 2) / 3) / 2 + 360;
  v7 = sub_473D80(a1, (int)a3);
  v8 = 3 * a3[15] / 2;
  v9 = CChar::GetInt(a3);
  v13 = RandomBetween(v12, v7 + (v8 + 10 * a1[2] * (3 * v9 / 2) / 2) / 2 + 700);
  return sub_43D970(a2, v8, v7, 228, a3[77], &a4, 1, (int)a3, v13, 16000);
}

//----- (00476100) --------------------------------------------------------
_DWORD *__userpurge sub_476100@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4, int a5, int a6)
{
  int v6; // esi
  int v7; // eax

  v6 = 3 * a4[15] / 2;
  v7 = CChar::GetInt(a4);
  return sub_43D970(
           a2,
           a3,
           v6,
           229,
           a4[77],
           &a5,
           1,
           (int)a4,
           60 * ((v6 + 10 * *(_DWORD *)(a1 + 8) * v7 / 4) / 2 + 240) / 100,
           16000);
}

//----- (00476180) --------------------------------------------------------
_DWORD *__userpurge sub_476180@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, _DWORD *a4, int a5, int a6)
{
  int v6; // esi
  int v7; // eax

  v6 = 3 * a4[15] / 2;
  v7 = CChar::GetInt(a4);
  return sub_43D970(
           a2,
           a3,
           v6,
           230,
           a4[77],
           &a5,
           1,
           (int)a4,
           60 * ((v6 + 14 * *(_DWORD *)(a1 + 8) * v7 / 3) / 2 + 380) / 100,
           16000);
}

//----- (00476200) --------------------------------------------------------
_DWORD *__userpurge sub_476200@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  int v7; // eax

  v7 = CChar::GetAttack(a5);
  return sub_43D970(a2, a3, a4, 231, a5[77], &a6, 1, (int)a5, (200 * *(_DWORD *)(a1 + 8) + 50) * v7 / 100 / 10, 12000);
}

//----- (00476270) --------------------------------------------------------
BOOL __thiscall sub_476270(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 70;
  return 0;
}

//----- (004762B0) --------------------------------------------------------
void __userpurge sub_4762B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, _DWORD *a3, int a4, int a5)
{
  int v5; // esi
  int v6; // edi
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-24h]
  int v10; // [esp-4h] [ebp-1Ch]
  int v11; // [esp+8h] [ebp-10h]
  int v13; // [esp+10h] [ebp-8h]
  int v14; // [esp+14h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))*a1)(a1, a3, 0) )
  {
    v13 = sub_471AB0(a1, (int)a3);
    v5 = RandomBetween(0, 2 * a1[2]);
    v6 = 15 * a3[15] / 10;
    v14 = v5 + (unsigned int)(v13 * ((v6 + 5 * a1[2] * CChar::GetWis(a3) / 10) / 2)) / a1[11] + 100;
    if ( v14 >= 50 * a1[2] + 50 )
      v11 = 50 * a1[2] + 50;
    else
      v11 = v14;
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a3 + 88))(a3, 7, 1, v11);
    v7 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a3 + 88))(a3, 8, 0, v7);
    v10 = a1[2];
    v9 = unknown_libname_4(a3);
    v8 = unknown_libname_4(a3);
    sub_40ACD0(a2, v6, v5, (int)a3, 32, "bddbb", a1[1], v8, v9, 0, v10);
  }
}

//----- (004763F0) --------------------------------------------------------
int __userpurge sub_4763F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 10);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00476420) --------------------------------------------------------
void __userpurge sub_476420(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-24h]
  int v13; // [esp-4h] [ebp-1Ch]
  int v15; // [esp+4h] [ebp-14h]
  int v16; // [esp+Ch] [ebp-Ch] BYREF
  char v17; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v18; // [esp+14h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v17, &v16);
  v18 = sub_446740(a2, a3, a4, v16);
  if ( v18 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v18) )
    {
      v15 = sub_471AB0(a1, a5);
      v8 = (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 80))(a1, a5, v18);
      (*(void (__cdecl **)(CIOObject *, int, int, unsigned int))(*(_DWORD *)v18 + 88))(
        v18,
        7,
        1,
        (unsigned int)(v15 * v8) / a1[11]);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v18);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v10, v12, 0, v13);
    }
    else if ( a1[10] )
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v18, a2, a3, a4, (volatile int *)v18 + 86);
  }
  else if ( a1[10] )
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00476580) --------------------------------------------------------
int __thiscall sub_476580(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // edi
  int v5; // esi
  int v7; // [esp+8h] [ebp-Ch]
  int v9; // [esp+10h] [ebp-4h]

  v3 = 30 * this[2];
  v4 = 7 * a2[15] / 11;
  v5 = v3 + (v4 + 3 * this[2] * CChar::GetWis(a2) / 11) / 2 + 70;
  v9 = RandomBetween(0, 2 * this[2]) + v5;
  if ( v9 >= 40 * this[2] + 100 )
    v7 = 40 * this[2] + 100;
  else
    v7 = v9;
  return v7;
}

//----- (00476620) --------------------------------------------------------
int __userpurge sub_476620@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 16);
  sub_471220(a5 + 154, 22);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00476660) --------------------------------------------------------
int __thiscall sub_476660(int *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // edi
  int v5; // esi
  int v7; // [esp+8h] [ebp-Ch]
  int v9; // [esp+10h] [ebp-4h]

  v3 = 50 * this[2];
  v4 = 8 * a2[15] / 11;
  v5 = v3 + (v4 + 5 * this[2] * CChar::GetWis(a2) / 9) / 2 + 500;
  v9 = RandomBetween(0, this[2]) + v5;
  if ( v9 >= 50 * this[2] + 650 )
    v7 = 50 * this[2] + 650;
  else
    v7 = v9;
  return v7;
}

//----- (00476700) --------------------------------------------------------
int __userpurge sub_476700@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 28);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00476730) --------------------------------------------------------
int __thiscall sub_476730(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v6; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 100 * this[2];
  v4 = v3 + 11 * CChar::GetWis(a2) / 3 + 750;
  v7 = RandomBetween(0, 100) + v4;
  if ( v7 >= 1600 )
    v6 = 1600;
  else
    v6 = v7;
  return v6;
}

//----- (00476790) --------------------------------------------------------
int __stdcall sub_476790(int a1, _DWORD *a2)
{
  return 25 * CChar::GetMaxHP(a2) / 100;
}

//----- (004767B0) --------------------------------------------------------
int __userpurge sub_4767B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 55);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (004767E0) --------------------------------------------------------
int __thiscall sub_4767E0(_DWORD *this, int a2, _DWORD *a3)
{
  return (20 * this[2] + 15) * CChar::GetMaxHP(a3) / 100;
}

//----- (00476810) --------------------------------------------------------
BOOL __thiscall sub_476810(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 62;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 69;
  return 0;
}

//----- (00476870) --------------------------------------------------------
int __stdcall sub_476870(int a1, _DWORD *a2)
{
  return CChar::GetMaxHP(a2);
}

//----- (00476890) --------------------------------------------------------
_DWORD *__thiscall sub_476890(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[142] -= this[2];
    v4 = a3 + a2[142];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[142];
  }
  a2[142] = v4;
  return result;
}

//----- (004768F0) --------------------------------------------------------
BOOL __thiscall sub_4768F0(_DWORD *this, int a2)
{
  return this[2] == 1 && (*(_DWORD *)(a2 + 456) & 2) != 0 && *(int *)(a2 + 60) >= 30;
}

//----- (00476930) --------------------------------------------------------
int __thiscall sub_476930(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int result; // eax
  int v5; // [esp+8h] [ebp-8h]

  if ( a4 )
  {
    a2[45] -= this[2];
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 31, 1, a3);
    if ( (int)this[2] >= 10 )
      v5 = 10;
    else
      v5 = this[2];
    a2[64] -= v5;
    if ( a3 >= 10 )
      result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 31, 1, 10);
    else
      result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 31, 1, a3);
  }
  else
  {
    (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a2 + 92))(a2, 31, 1, this[2]);
    if ( (int)this[2] >= 10 )
      result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 31, 1, 10);
    else
      result = (*(int (__cdecl **)(_DWORD *, int, int, _DWORD))(*a2 + 96))(a2, 31, 1, this[2]);
  }
  return result;
}

//----- (00476A30) --------------------------------------------------------
BOOL __thiscall sub_476A30(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( (int)this[2] > 0 && (int)this[2] < 5 )
    return *(_DWORD *)(a2 + 60) > this[2] + 9;
  if ( (int)this[2] >= 5 && (int)this[2] < 10 )
    return *(_DWORD *)(a2 + 60) > this[2] + 28;
  if ( (int)this[2] < 10 || (int)this[2] >= 15 )
    return 0;
  return *(_DWORD *)(a2 + 60) > this[2] + 36;
}

//----- (00476AE0) --------------------------------------------------------
int __userpurge sub_476AE0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  if ( !a5[113] && (a5[114] & 4) != 0 )
    sub_471220(a5 + 154, 36);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00476B30) --------------------------------------------------------
int __stdcall sub_476B30(_DWORD *a1, int a2, int a3)
{
  if ( a3 )
    a1[45] -= 80;
  return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a1 + 92))(a1, 31, 1, 80);
}

//----- (00476B90) --------------------------------------------------------
int __stdcall sub_476B90(_DWORD *a1, int a2, int a3)
{
  if ( a3 )
    a1[45] -= 20;
  return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a1 + 92))(a1, 31, 1, 20);
}

//----- (00476BF0) --------------------------------------------------------
BOOL __thiscall sub_476BF0(_DWORD *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal(a2) && !sub_40A660(a2, 512) && sub_426320(a2, 0) && a2[69] >= a2[15] - 9 * this[2];
}

//----- (00476C60) --------------------------------------------------------
void __userpurge sub_476C60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-18h]
  int v10; // [esp-4h] [ebp-10h]
  __int64 v11; // [esp+0h] [ebp-Ch]

  if ( (**(int (__thiscall ***)(int, int, _DWORD))a1)(a1, a5, 0) )
  {
    v11 = CChar::IsMState((_QWORD *)a5, 1i64);
    if ( v11 )
      (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a5 + 124))(a5, 1, 0);
    v7 = sub_4024B0(2, 10 * *(_DWORD *)(a1 + 8) + 720, *(_DWORD *)(a1 + 8), v11);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v7);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(
      a5,
      8,
      0,
      *(_DWORD *)(a5 + 60) - 9 * *(_DWORD *)(a1 + 8));
    v10 = *(_DWORD *)(a1 + 8);
    v9 = unknown_libname_4(a5);
    v8 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", *(_DWORD *)(a1 + 4), v8, v9, 0, v10);
  }
}

//----- (00476D40) --------------------------------------------------------
_DWORD *__thiscall sub_476D40(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[220] -= this[2];
    v4 = a3 + a2[220];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[220];
  }
  a2[220] = v4;
  return result;
}

//----- (00476DA0) --------------------------------------------------------
_DWORD *__thiscall sub_476DA0(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[221] -= this[2];
    v4 = a3 + a2[221];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[221];
  }
  a2[221] = v4;
  return result;
}

//----- (00476E00) --------------------------------------------------------
_DWORD *__thiscall sub_476E00(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[222] -= this[2];
    v4 = a3 + a2[222];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[222];
  }
  a2[222] = v4;
  return result;
}

//----- (00476E60) --------------------------------------------------------
void __userpurge sub_476E60(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-10h]
  int v11; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*a1)(a1, a5, 0) )
  {
    v7 = sub_4024B0(3, 900, 2 * a1[2] + 3, a1[2]);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v7);
    v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
    v11 = a1[2];
    v10 = unknown_libname_4(a5);
    v9 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v10, 0, v11);
  }
}

//----- (00476F10) --------------------------------------------------------
BOOL __thiscall sub_476F10(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 35;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 40;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 45;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 50;
  }
  return 0;
}

//----- (00476FA0) --------------------------------------------------------
BOOL __thiscall sub_476FA0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( (int)this[2] > 0 && (int)this[2] < 3 )
    return *(_DWORD *)(a2 + 60) > this[2] + 29;
  if ( (int)this[2] >= 3 && (int)this[2] < 6 )
    return *(_DWORD *)(a2 + 60) > this[2] + 31;
  if ( (int)this[2] >= 6 && (int)this[2] < 9 )
    return *(_DWORD *)(a2 + 60) > this[2] + 33;
  if ( (int)this[2] >= 9 && (int)this[2] < 12 )
    return *(_DWORD *)(a2 + 60) > this[2] + 35;
  if ( (int)this[2] < 12 || (int)this[2] >= 15 )
    return 0;
  return *(_DWORD *)(a2 + 60) > this[2] + 37;
}

//----- (004770A0) --------------------------------------------------------
_DWORD *__thiscall sub_4770A0(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[66] -= this[2];
    v4 = a3 + a2[66];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[66];
  }
  a2[66] = v4;
  return result;
}

//----- (00477100) --------------------------------------------------------
BOOL __thiscall sub_477100(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && !CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && !sub_447290(a3, 24);
}

//----- (004771B0) --------------------------------------------------------
void __userpurge sub_4771B0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-1Ch]
  int v12; // [esp-4h] [ebp-14h]
  int v14; // [esp+4h] [ebp-Ch] BYREF
  char v15; // [esp+Bh] [ebp-5h] BYREF
  volatile int *v16; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v15, &v14);
  v16 = (volatile int *)sub_446740(a2, a3, a4, v14);
  if ( v16 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, volatile int *))*a1)(a1, a5, v16) )
    {
      sub_409160(v16, 8);
      (*(void (__thiscall **)(_DWORD *, int, volatile int *))(*a1 + 80))(a1, a5, v16);
      sub_448C90(a2, a3, a4, (int)v16, 36, "b", 53);
      v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      v12 = a1[2];
      v11 = unknown_libname_4(v16);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v11, 0, v12);
    }
    else
    {
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v10, 0);
    }
    CIOObject::Release((CIOObject *)v16, a2, a3, a4, v16 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (004772F0) --------------------------------------------------------
int __thiscall sub_4772F0(_DWORD *this, int a2, _DWORD *a3)
{
  int result; // eax

  a3[145] = 13 * CChar::GetMaxHP(a3) / 100;
  result = 11 * CChar::GetMaxMP(this) / 100;
  a3[146] = result;
  return result;
}

//----- (00477340) --------------------------------------------------------
int __userpurge sub_477340@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 29);
  sub_471220(a5 + 154, 34);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00477380) --------------------------------------------------------
int __thiscall sub_477380(_DWORD *this, int a2, _DWORD *a3)
{
  int v3; // eax
  int result; // eax
  _DWORD *v5; // [esp+0h] [ebp-Ch]
  int v7; // [esp+8h] [ebp-4h]

  v3 = CChar::GetMaxHP(a3);
  a3[145] = v3 / 10 + this[2] * v3 / 4;
  v7 = CChar::GetMaxMP(v5);
  result = v7 / 10;
  a3[146] = v7 / 10 + this[2] * v7 / 10;
  return result;
}
// 4773C5: variable 'v5' is possibly undefined

//----- (00477400) --------------------------------------------------------
int __thiscall sub_477400(_DWORD *this, int a2, _DWORD *a3)
{
  int v3; // eax
  int result; // eax
  _DWORD *v5; // [esp+0h] [ebp-Ch]
  int v7; // [esp+8h] [ebp-4h]

  v3 = CChar::GetMaxHP(a3);
  a3[145] = v3 / 10 + v3 * (12 * this[2] - 9) / 100;
  v7 = CChar::GetMaxMP(v5);
  result = v7 / 10;
  a3[146] = v7 / 10 + v7 * (4 * this[2] - 3) / 100;
  return result;
}
// 47744A: variable 'v5' is possibly undefined

//----- (00477490) --------------------------------------------------------
int __thiscall sub_477490(_DWORD *this, int a2, int a3, int a4)
{
  int v4; // edx
  int result; // eax

  if ( a4 )
  {
    *(_DWORD *)(a2 + 264) -= this[2] + 7;
    v4 = a3 + *(_DWORD *)(a2 + 264) + 7;
  }
  else
  {
    v4 = this[2] + *(_DWORD *)(a2 + 264) + 7;
  }
  result = a2;
  *(_DWORD *)(a2 + 264) = v4;
  return result;
}

//----- (00477500) --------------------------------------------------------
int __userpurge sub_477500@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 20);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00477530) --------------------------------------------------------
BOOL __thiscall sub_477530(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 62;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 68;
  return 0;
}

//----- (00477590) --------------------------------------------------------
void __userpurge sub_477590(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-10h]
  int v12; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*a1)(a1, a5, 0) )
  {
    v8 = sub_4024B0(1, 900, a1[14], a1[15]);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v8);
    v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
    v12 = a1[2];
    v11 = unknown_libname_4(a5);
    v10 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v10, v11, 0, v12);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00477660) --------------------------------------------------------
BOOL __thiscall sub_477660(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a3)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && !sub_45F030(a3)
      && CChar::IsNormal(a2)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
}

//----- (00477700) --------------------------------------------------------
void __userpurge sub_477700(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-1Ch]
  int v13; // [esp-4h] [ebp-14h]
  _DWORD *v15; // [esp+0h] [ebp-10h]
  int v16; // [esp+4h] [ebp-Ch] BYREF
  char v17; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v18; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v17, &v16);
  v18 = sub_446740(a2, a3, a4, v16);
  if ( v18 )
  {
    if ( (**(int (__thiscall ***)(int, int, CIOObject *))a1)(a1, a5, v18) )
    {
      v8 = sub_4024B0(12, 600 * *(_DWORD *)(a1 + 8), 15 * *(_DWORD *)(a1 + 8), a1);
      (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v18 + 180))(v18, v8);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v15 + 32))(v15, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = v15[2];
      v12 = unknown_libname_4(v18);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v15[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v18, a2, a3, a4, (volatile int *)v18 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}
// 4777AD: variable 'v15' is possibly undefined

//----- (00477840) --------------------------------------------------------
void __userpurge sub_477840(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-18h] [ebp-30h]
  int v13; // [esp-10h] [ebp-28h]
  int v14; // [esp+0h] [ebp-18h]
  int v16; // [esp+8h] [ebp-10h]
  int v17; // [esp+Ch] [ebp-Ch] BYREF
  char v18; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v19; // [esp+14h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v18, &v17);
  v19 = 0;
  LOBYTE(v14) = v18;
  if ( v18 )
  {
    if ( v18 == 1 )
      v19 = sub_436ED0(a2, a3, a4, v17);
  }
  else
  {
    v19 = sub_446740(a2, a3, a4, v17);
  }
  if ( v19 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v19) )
    {
      v16 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v19) )
      {
        v16 = 1;
        v8 = sub_4024B0(8, 8, v14, (int)a1);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v19 + 180))(v19, v8);
      }
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v19 + 80))(v19, a5);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v19);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v10, v12, 1, v13, 0, 0, v16);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v19, a2, a3, a4, (volatile int *)v19 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}
// 47790D: variable 'v14' is possibly undefined
// 477938: variable 'a1' is possibly undefined

//----- (004779D0) --------------------------------------------------------
int __userpurge sub_4779D0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 37);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00477A00) --------------------------------------------------------
void __userpurge sub_477A00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // [esp-Ch] [ebp-24h]
  int v14; // [esp-Ch] [ebp-24h]
  int v15; // [esp-8h] [ebp-20h]
  int v16; // [esp-4h] [ebp-1Ch]
  int v17; // [esp-4h] [ebp-1Ch]
  int v18; // [esp+0h] [ebp-18h]
  volatile int *v20; // [esp+8h] [ebp-10h]
  int v21; // [esp+10h] [ebp-8h]
  int v22; // [esp+14h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))*a1)(a1, a5, 0) )
  {
    v21 = sub_471AB0(a1, (int)a5);
    v22 = (unsigned int)(v21 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 84))(a1, a5)) / a1[11];
    if ( a5[232] )
    {
      v20 = sub_443890(a2, a3, a4, a5[232]);
      if ( v20 )
      {
        v16 = (*(int (__thiscall **)(_DWORD *))(*a1 + 80))(a1);
        v15 = a1[1];
        v8 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
        sub_445070((int)v20, a2, a3, a4, (int)a5, v8, v22, v15, v16);
        sub_401C50(v20, a2, a3, a4);
      }
    }
    else
    {
      if ( (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1) )
        v18 = v22 * CChar::GetMaxHP(a5) / 100;
      else
        v18 = v22;
      (*(void (__cdecl **)(_DWORD *, int, int, int))(*a5 + 88))(a5, 7, 1, v18);
      v13 = unknown_libname_4(a5);
      v9 = unknown_libname_4(a5);
      v10 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, _DWORD))(*a1 + 80))(a1, a1[1], v9, v13, v18, 0);
      sub_40ACD0(a2, a3, a4, (int)a5, 70, "bbddww", v10);
    }
    v11 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a5 + 88))(a5, 8, 0, v11);
    v17 = a1[2];
    v14 = unknown_libname_4(a5);
    v12 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 32, "bddbb", a1[1], v12, v14, 0, v17);
  }
  else if ( a1[10] )
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 30, "db", v7, 0);
  }
}

//----- (00477BD0) --------------------------------------------------------
int __thiscall sub_477BD0(_DWORD *this, _DWORD *a2)
{
  int v2; // esi
  __int64 v3; // rax
  int v4; // esi
  int v6; // [esp+4h] [ebp-Ch]
  int v8; // [esp+Ch] [ebp-4h]

  v2 = a2[15] / 2;
  v3 = v2 + 8 * this[2] * CChar::GetWis(a2) / 7;
  v4 = 60 * this[2] + (((int)v3 - HIDWORD(v3)) >> 1);
  v8 = v4 + RandomBetween(0, 10 * this[2]) + 100;
  if ( v8 >= 180 * this[2] )
    v6 = 180 * this[2];
  else
    v6 = v8;
  return v6;
}

//----- (00477C70) --------------------------------------------------------
int __userpurge sub_477C70@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 57);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00477CA0) --------------------------------------------------------
int __stdcall sub_477CA0(int a1)
{
  int v1; // esi

  v1 = 8 * *(_DWORD *)(a1 + 60) / 11;
  return v1 + RandomBetween(0, 100) + 550;
}

//----- (00477CE0) --------------------------------------------------------
BOOL __thiscall sub_477CE0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 58;
  return 0;
}

//----- (00477D20) --------------------------------------------------------
int __userpurge sub_477D20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  sub_471220(a5 + 154, 58);
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00477D50) --------------------------------------------------------
int __userpurge sub_477D50@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  return sub_471C00(a1, a2, a3, a4, a5);
}

//----- (00477D70) --------------------------------------------------------
void __userpurge sub_477D70(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-10h]
  int v11; // [esp-4h] [ebp-8h]
  _DWORD *v13; // [esp+0h] [ebp-4h]

  if ( (**a1)(a1, a5, 0) )
  {
    v7 = sub_4024B0(9, 900, 3, (int)a1);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v7);
    v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v13 + 32))(v13, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
    v11 = v13[2];
    v10 = unknown_libname_4(a5);
    v9 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v13[1], v9, v10, 0, v11);
  }
}
// 477DB2: variable 'v13' is possibly undefined

//----- (00477E10) --------------------------------------------------------
void __userpurge sub_477E10(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  int v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // [esp-18h] [ebp-48h]
  int v14; // [esp-10h] [ebp-40h]
  int v15; // [esp-4h] [ebp-34h]
  int v16; // [esp+0h] [ebp-30h]
  char v18[4]; // [esp+8h] [ebp-28h] BYREF
  int v19; // [esp+Ch] [ebp-24h]
  int v20; // [esp+10h] [ebp-20h]
  int v21; // [esp+14h] [ebp-1Ch]
  int v22; // [esp+18h] [ebp-18h] BYREF
  char v23; // [esp+1Fh] [ebp-11h] BYREF
  _DWORD *v24; // [esp+20h] [ebp-10h]
  int v25; // [esp+24h] [ebp-Ch] BYREF
  CIOObject *v26; // [esp+28h] [ebp-8h]
  int v27; // [esp+2Ch] [ebp-4h] BYREF

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bdd", &v23, &v22, &v25);
  CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
  v24 = 0;
  sub_460550((int *)(a5 + 980), &v27, &v25);
  v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_482CA0((int *)(a5 + 980), v18);
  if ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v27,
         v7) )
  {
    v24 = *(_DWORD **)(sub_43E1A0(&v27) + 4);
    if ( *(_DWORD *)(v24[10] + 64) == 360 )
    {
      if ( !(*(int (__thiscall **)(_DWORD *, int, int, int))(*v24 + 120))(v24, a5, 9, -1) )
        sub_4516D0(a5, a2, a3, a4, (int)v24);
    }
    else
    {
      v24 = 0;
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
  if ( !v24 )
    goto LABEL_8;
  v26 = 0;
  LOBYTE(v16) = v23;
  if ( v23 )
  {
    if ( v23 == 1 )
      v26 = sub_436ED0(a2, a3, a4, v22);
  }
  else
  {
    v26 = sub_446740(a2, a3, a4, v22);
  }
  if ( v26 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v26) )
    {
      v21 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v26) )
      {
        v21 = 1;
        v20 = (*(int (__thiscall **)(CIOObject *, int, int))(*(_DWORD *)v26 + 144))(v26, a5, 4);
        v19 = *(_DWORD *)(a5 + 60) + 10 * a1[2];
        v19 -= v20 * v19 / 100;
        v9 = sub_4024B0(11, 10 * a1[2] + 10, v19, v16);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v26 + 180))(v26, v9);
      }
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v26 + 80))(v26, a5);
      v10 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v10);
      v15 = v21;
      v14 = a1[2];
      v13 = unknown_libname_4(v26);
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v11, v13, 1, v14, 0, 0, v15);
    }
    else
    {
      v12 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v12, 0);
    }
    CIOObject::Release(v26, a2, a3, a4, (volatile int *)v26 + 86);
  }
  else
  {
LABEL_8:
    v8 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v8, 0);
  }
}
// 477FFD: variable 'v16' is possibly undefined

//----- (004780C0) --------------------------------------------------------
void __userpurge sub_4780C0(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-10h]
  int v11; // [esp-4h] [ebp-8h]
  _DWORD *v13; // [esp+0h] [ebp-4h]

  if ( (**a1)(a1, a5, 0) )
  {
    v7 = sub_4024B0(10, 900, 5, (int)a1);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v7);
    v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v13 + 32))(v13, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
    v11 = v13[2];
    v10 = unknown_libname_4(a5);
    v9 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v13[1], v9, v10, 0, v11);
  }
}
// 478102: variable 'v13' is possibly undefined

//----- (00478160) --------------------------------------------------------
BOOL __thiscall sub_478160(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && a2[232]
      && a2[232] == a3[232]
      && a2 != a3;
}

//----- (00478230) --------------------------------------------------------
void __userpurge sub_478230(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-1Ch]
  int v11; // [esp-4h] [ebp-14h]
  _DWORD *v13; // [esp+0h] [ebp-10h]
  int v14; // [esp+4h] [ebp-Ch] BYREF
  char v15; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v16; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v15, &v14);
  v16 = sub_446740(a2, a3, a4, v14);
  if ( v16 )
  {
    if ( (**(int (__thiscall ***)(int, int, CIOObject *))a1)(a1, a5, v16) )
    {
      v7 = sub_4024B0(13, 300 * *(_DWORD *)(a1 + 8) + 300, -(10 * *(_DWORD *)(a1 + 8) + 40), a1);
      (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v16 + 180))(v16, v7);
      v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v13 + 32))(v13, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      v11 = v13[2];
      v10 = unknown_libname_4(v16);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v13[1], v9, v10, 0, v11);
    }
    CIOObject::Release(v16, a2, a3, a4, (volatile int *)v16 + 86);
  }
}
// 4782C9: variable 'v13' is possibly undefined

//----- (00478340) --------------------------------------------------------
BOOL __thiscall sub_478340(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 53;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 62;
  return 0;
}

//----- (004783A0) --------------------------------------------------------
BOOL __thiscall sub_4783A0(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 1)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))(*a2 + 176))(a2, a3, 0);
}

//----- (00478450) --------------------------------------------------------
void __userpurge sub_478450(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-1Ch]
  int v11; // [esp-4h] [ebp-14h]
  int v13; // [esp+4h] [ebp-Ch] BYREF
  char v14; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v15; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v14, &v13);
  v15 = sub_446740(a2, a3, a4, v13);
  if ( v15 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v15) )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v15) )
      {
        v7 = sub_4024B0(7, 3, (int)a1, v13);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v15 + 180))(v15, v7);
      }
      v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      v11 = a1[2];
      v10 = unknown_libname_4(v15);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v10, 0, v11);
    }
    CIOObject::Release(v15, a2, a3, a4, (volatile int *)v15 + 86);
  }
}
// 4784E1: variable 'a1' is possibly undefined

//----- (00478550) --------------------------------------------------------
BOOL __thiscall sub_478550(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && a3[113] == 1
      && (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))(*a2 + 176))(a2, a3, 0);
}

//----- (00478610) --------------------------------------------------------
void __userpurge sub_478610(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-1Ch]
  int v13; // [esp-4h] [ebp-14h]
  int v15; // [esp+4h] [ebp-Ch] BYREF
  char v16; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v17; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v16, &v15);
  v17 = sub_446740(a2, a3, a4, v15);
  if ( v17 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v17) )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v17) )
      {
        v8 = sub_4024B0(15, 8, (int)a1, v15);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v17 + 180))(v17, v8);
      }
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v17);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v17, a2, a3, a4, (volatile int *)v17 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}
// 4786BF: variable 'a1' is possibly undefined

//----- (00478750) --------------------------------------------------------
void __userpurge sub_478750(int (__thiscall ***a1)(_DWORD, int, CIOObject *)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-1Ch]
  int v13; // [esp-4h] [ebp-14h]
  _DWORD *v15; // [esp+0h] [ebp-10h]
  int v16; // [esp+4h] [ebp-Ch] BYREF
  char v17; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v18; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v17, &v16);
  v18 = sub_446740(a2, a3, a4, v16);
  if ( v18 )
  {
    if ( (**a1)(a1, a5, v18) )
    {
      v8 = sub_4024B0(14, 300, (int)a1, v16);
      (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v18 + 180))(v18, v8);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v15 + 32))(v15, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = v15[2];
      v12 = unknown_libname_4(v18);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v15[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v18, a2, a3, a4, (volatile int *)v18 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}
// 4787E7: variable 'v15' is possibly undefined

//----- (00478870) --------------------------------------------------------
int __thiscall sub_478870(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v5; // [esp+4h] [ebp-4h]

  v5 = 2 * a2[17] * a2[17] / dword_4AEA18[a2[113]];
  if ( !a4 )
    return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 5, 1, v5 * (10 * this[2] + 14) / 100);
  a2[28] -= v5 * (10 * this[2] + 14) / 100;
  return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 5, 1, v5 * (10 * a3 + 14) / 100);
}

//----- (00478930) --------------------------------------------------------
int __thiscall sub_478930(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+8h] [ebp-4h]
  int *v5; // [esp+18h] [ebp+Ch]

  v5 = (int *)(a3 + 4);
  v4 = *v5;
  *(_DWORD *)(a2 + 112) -= *(v5 - 1) * (10 * this[2] + 14) / 100;
  result = *(_DWORD *)(a2 + 112) + v4 * (10 * this[2] + 14) / 100;
  *(_DWORD *)(a2 + 112) = result;
  return result;
}

//----- (004789C0) --------------------------------------------------------
BOOL __thiscall sub_4789C0(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( this[2] < this[7] )
    result = *(_DWORD *)(a2 + 60) >= 5 * this[2] + 50;
  else
    result = 0;
  return result;
}

//----- (00478A00) --------------------------------------------------------
void __userpurge sub_478A00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-10h]
  int v11; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*a1)(a1, a5, 0) )
  {
    v7 = sub_4024B0(27, 1200, 7 * a1[2] + 14, 3 * a1[2] + 14);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v7);
    v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
    v11 = a1[2];
    v10 = unknown_libname_4(a5);
    v9 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v10, 0, v11);
  }
}

//----- (00478AC0) --------------------------------------------------------
BOOL __thiscall sub_478AC0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 70;
  }
  return 0;
}

//----- (00478B30) --------------------------------------------------------
BOOL __thiscall sub_478B30(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 58;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 67;
  return 0;
}

//----- (00478B90) --------------------------------------------------------
void __userpurge sub_478B90(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-18h] [ebp-38h]
  int v11; // [esp-10h] [ebp-30h]
  int v12; // [esp+0h] [ebp-20h]
  int v14; // [esp+Ch] [ebp-14h]
  int v15; // [esp+10h] [ebp-10h]
  int v16; // [esp+14h] [ebp-Ch] BYREF
  char v17; // [esp+1Bh] [ebp-5h] BYREF
  CIOObject *v18; // [esp+1Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v17, &v16);
  v18 = 0;
  if ( v17 )
  {
    if ( v17 == 1 )
      v18 = sub_436ED0(a2, a3, a4, v16);
  }
  else
  {
    v18 = sub_446740(a2, a3, a4, v16);
  }
  if ( v18 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v18) )
    {
      v15 = 0;
      v14 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v18) )
      {
        v15 = 1;
        v7 = CChar::GetAttack((_DWORD *)a5);
        if ( (40 * a1[2] + 50) * v7 / 50 >= *((_DWORD *)v18 + 68) - 1 )
          v12 = *((_DWORD *)v18 + 68) - 1;
        else
          v12 = (40 * a1[2] + 50) * CChar::GetAttack((_DWORD *)a5) / 50;
        v14 = v12;
        if ( (*(int (__thiscall **)(CIOObject *))(*(_DWORD *)v18 + 64))(v18) )
          *((_DWORD *)v18 + 116) = GetTickCount() + 20000;
        *((_DWORD *)v18 + 68) -= v12;
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 88))(a5, 7, 1, v12 * (10 * a1[2] + 20) / 50);
        v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
        (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      }
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v18 + 80))(v18, a5);
      v11 = a1[2];
      v10 = unknown_libname_4(v18);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v9, v10, 1, v11, v14, 0, v15);
    }
    CIOObject::Release(v18, a2, a3, a4, (volatile int *)v18 + 86);
  }
}

//----- (00478DA0) --------------------------------------------------------
BOOL __thiscall sub_478DA0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 57;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 66;
  return 0;
}

//----- (00478E00) --------------------------------------------------------
void __userpurge sub_478E00(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-18h] [ebp-3Ch]
  int v13; // [esp-10h] [ebp-34h]
  int v14; // [esp+0h] [ebp-24h]
  int v16; // [esp+Ch] [ebp-18h]
  int v17; // [esp+Ch] [ebp-18h]
  int v18; // [esp+10h] [ebp-14h]
  int v19; // [esp+14h] [ebp-10h]
  int v20; // [esp+18h] [ebp-Ch] BYREF
  char v21; // [esp+1Fh] [ebp-5h] BYREF
  CIOObject *v22; // [esp+20h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v21, &v20);
  v22 = 0;
  if ( v21 )
  {
    if ( v21 == 1 )
      v22 = sub_436ED0(a2, a3, a4, v20);
  }
  else
  {
    v22 = sub_446740(a2, a3, a4, v20);
  }
  if ( v22 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v22) )
    {
      v19 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v22) )
      {
        v19 = 1;
        v18 = (*(int (__thiscall **)(CIOObject *, int, int))(*(_DWORD *)v22 + 144))(v22, a5, 3);
        v16 = (150 * a1[2] + 100) * CChar::GetAttack((_DWORD *)a5) / 20;
        v17 = v16 - v18 * v16 / 100;
        if ( v17 >= 4500 )
          v14 = 4500;
        else
          v14 = v17;
        v8 = sub_4024B0(29, 30, v14 / 30, v14);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v22 + 180))(v22, v8);
      }
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v22 + 80))(v22, a5);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v22);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v10, v12, 1, v13, 0, 0, v19);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v22, a2, a3, a4, (volatile int *)v22 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00479010) --------------------------------------------------------
BOOL __thiscall sub_479010(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 68;
  }
  return 0;
}

//----- (00479080) --------------------------------------------------------
void __userpurge sub_479080(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-1Ch]
  int v13; // [esp-4h] [ebp-14h]
  _DWORD *v15; // [esp+0h] [ebp-10h]
  int v16; // [esp+4h] [ebp-Ch] BYREF
  char v17; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v18; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v17, &v16);
  v18 = sub_446740(a2, a3, a4, v16);
  if ( v18 )
  {
    if ( (**(int (__thiscall ***)(int, int, CIOObject *))a1)(a1, a5, v18) )
    {
      v8 = sub_4024B0(36, 900, 8 * *(_DWORD *)(a1 + 8) + 16, a1);
      (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v18 + 180))(v18, v8);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v15 + 32))(v15, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = v15[2];
      v12 = unknown_libname_4(v18);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v15[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v18, a2, a3, a4, (volatile int *)v18 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}
// 479129: variable 'v15' is possibly undefined

//----- (004791C0) --------------------------------------------------------
BOOL __thiscall CSuffering::Excute(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 57;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 66;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 69;
  }
  return 0;
}

//----- (00479250) --------------------------------------------------------
void __userpurge sub_479250(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-1Ch]
  int v13; // [esp-4h] [ebp-14h]
  int v15; // [esp+4h] [ebp-Ch] BYREF
  char v16; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v17; // [esp+Ch] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v16, &v15);
  v17 = sub_446740(a2, a3, a4, v15);
  if ( v17 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v17) )
    {
      v8 = sub_4024B0(37, 600, 30 * a1[2] + 5, 20 * a1[2] + 5);
      (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v17 + 180))(v17, v8);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v17);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v17, a2, a3, a4, (volatile int *)v17 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00479390) --------------------------------------------------------
BOOL __thiscall sub_479390(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 62;
  return 0;
}

//----- (004793D0) --------------------------------------------------------
void __userpurge sub_4793D0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-20h]
  int v13; // [esp-4h] [ebp-18h]
  int v14; // [esp+0h] [ebp-14h]
  int v16; // [esp+8h] [ebp-Ch] BYREF
  char v17; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v18; // [esp+10h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v17, &v16);
  v18 = 0;
  LOBYTE(v14) = v17;
  if ( v17 )
  {
    if ( v17 == 1 )
      v18 = sub_436ED0(a2, a3, a4, v16);
  }
  else
  {
    v18 = sub_446740(a2, a3, a4, v16);
  }
  if ( v18 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v18) )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v18) )
      {
        v8 = sub_4024B0(7, a1[2] + 1, v14, (int)a1);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v18 + 180))(v18, v8);
      }
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v18 + 80))(v18, a5);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v18);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v18, a2, a3, a4, (volatile int *)v18 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}
// 479497: variable 'v14' is possibly undefined
// 4794C2: variable 'a1' is possibly undefined

//----- (00479550) --------------------------------------------------------
void __userpurge sub_479550(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-18h] [ebp-30h]
  int v11; // [esp-10h] [ebp-28h]
  int v12; // [esp+0h] [ebp-18h]
  int v14; // [esp+8h] [ebp-10h]
  int v15; // [esp+Ch] [ebp-Ch] BYREF
  char v16; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v17; // [esp+14h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v16, &v15);
  v17 = 0;
  LOBYTE(v12) = v16;
  if ( v16 )
  {
    if ( v16 == 1 )
      v17 = sub_436ED0(a2, a3, a4, v15);
  }
  else
  {
    v17 = sub_446740(a2, a3, a4, v15);
  }
  if ( v17 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v17) )
    {
      v14 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v17) )
      {
        v14 = 1;
        v7 = sub_4024B0(20, 15, -30 * a1[2], v12);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v17 + 180))(v17, v7);
      }
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v17 + 80))(v17, a5);
      v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      v11 = a1[2];
      v10 = unknown_libname_4(v17);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v9, v10, 1, v11, 0, 0, v14);
    }
    CIOObject::Release(v17, a2, a3, a4, (volatile int *)v17 + 86);
  }
}
// 479609: variable 'v12' is possibly undefined

//----- (004796B0) --------------------------------------------------------
BOOL __thiscall sub_4796B0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 61;
  return 0;
}

//----- (004796F0) --------------------------------------------------------
void __userpurge sub_4796F0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-18h] [ebp-30h]
  int v13; // [esp-10h] [ebp-28h]
  int v14; // [esp+0h] [ebp-18h]
  int v16; // [esp+8h] [ebp-10h]
  int v17; // [esp+Ch] [ebp-Ch] BYREF
  char v18; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v19; // [esp+14h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v18, &v17);
  v19 = 0;
  LOBYTE(v14) = v18;
  if ( v18 )
  {
    if ( v18 == 1 )
      v19 = sub_436ED0(a2, a3, a4, v17);
  }
  else
  {
    v19 = sub_446740(a2, a3, a4, v17);
  }
  if ( v19 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v19) )
    {
      v16 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v19) )
      {
        v16 = 1;
        v8 = sub_4024B0(0, 8 * a1[2], -50, v14);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v19 + 180))(v19, v8);
      }
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v19 + 80))(v19, a5);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v19);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v10, v12, 1, v13, 0, 0, v16);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v19, a2, a3, a4, (volatile int *)v19 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}
// 4797C7: variable 'v14' is possibly undefined

//----- (00479890) --------------------------------------------------------
BOOL __thiscall sub_479890(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 58;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 69;
  return 0;
}

//----- (004798F0) --------------------------------------------------------
BOOL __thiscall sub_4798F0(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3);
}

//----- (00479990) --------------------------------------------------------
void __userpurge sub_479990(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-20h]
  int v12; // [esp-4h] [ebp-18h]
  int v14; // [esp+8h] [ebp-Ch] BYREF
  char v15; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v16; // [esp+10h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v15, &v14);
  v16 = 0;
  if ( v15 )
  {
    if ( v15 == 1 )
      v16 = sub_436ED0(a2, a3, a4, v14);
  }
  else
  {
    v16 = sub_446740(a2, a3, a4, v14);
  }
  if ( v16 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v16) )
    {
      sub_40AB60((int)v16, a2, a3, a4, 4);
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v16 + 80))(v16, a5);
      v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      v12 = a1[2];
      v11 = unknown_libname_4(v16);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v11, 0, v12);
    }
    else
    {
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v10, 0);
    }
    CIOObject::Release(v16, a2, a3, a4, (volatile int *)v16 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00479AE0) --------------------------------------------------------
BOOL __thiscall sub_479AE0(void *this, _DWORD *a2, _DWORD *a3)
{
  return sub_471A10(this, a2, a3) && (*(int (__thiscall **)(_DWORD *))(*a3 + 64))(a3);
}

//----- (00479B30) --------------------------------------------------------
void __userpurge sub_479B30(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-20h]
  int v12; // [esp-4h] [ebp-18h]
  int v14; // [esp+8h] [ebp-Ch] BYREF
  char v15; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v16; // [esp+10h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v15, &v14);
  v16 = 0;
  if ( v15 )
  {
    if ( v15 == 1 )
      v16 = sub_436ED0(a2, a3, a4, v14);
  }
  else
  {
    v16 = sub_446740(a2, a3, a4, v14);
  }
  if ( v16 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v16) )
    {
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v16 + 132))(v16, a5);
      v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      v12 = a1[2];
      v11 = unknown_libname_4(v16);
      v9 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v11, 0, v12);
    }
    else
    {
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v10, 0);
    }
    CIOObject::Release(v16, a2, a3, a4, (volatile int *)v16 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00479C70) --------------------------------------------------------
BOOL __thiscall sub_479C70(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[68] > (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 32))(this, a2)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && a2 != a3;
}

//----- (00479D10) --------------------------------------------------------
int __thiscall sub_479D10(_DWORD *this, _DWORD *a2)
{
  return (5 * this[2] + 5) * CChar::GetMaxHP(a2) / 100;
}

//----- (00479D40) --------------------------------------------------------
void __userpurge sub_479D40(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-20h]
  int v13; // [esp-4h] [ebp-18h]
  int v15; // [esp+8h] [ebp-Ch] BYREF
  char v16; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v17; // [esp+10h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v16, &v15);
  v17 = 0;
  if ( !v16 )
    v17 = sub_446740(a2, a3, a4, v15);
  if ( v17 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v17) )
    {
      v8 = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 32))(a1, a5);
      (*(void (__cdecl **)(CIOObject *, int, int, int))(*(_DWORD *)v17 + 88))(v17, 7, 1, (25 * a1[2] + 50) * v8 / 100);
      v9 = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 32))(a1, a5);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 7, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v17);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v17, a2, a3, a4, (volatile int *)v17 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (00479EA0) --------------------------------------------------------
BOOL __thiscall sub_479EA0(void *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal(a2)
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 32))(this, a2);
}

//----- (00479F10) --------------------------------------------------------
int __thiscall sub_479F10(_DWORD *this, int a2)
{
  return 10 * CChar::GetMaxMP(this) / 100;
}

//----- (00479F30) --------------------------------------------------------
void __userpurge sub_479F30(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-10h]
  int v10; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))*a1)(a1, a5, 0)
    && a5[69] > (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 32))(a1, a5) )
  {
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a5 + 88))(a5, 7, 1, a1[2] * 2 * a5[69]);
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, _DWORD))(*a5 + 88))(a5, 8, 0, a5[69]);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 30, "db", v7, 0);
  }
  v10 = a1[2];
  v9 = unknown_libname_4(a5);
  v8 = unknown_libname_4(a5);
  sub_40ACD0(a2, a3, a4, (int)a5, 32, "bddbb", a1[1], v8, v9, 0, v10);
}

//----- (0047A010) --------------------------------------------------------
void __userpurge sub_47A010(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int *a5, int a6, int a7)
{
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-20h]
  int v12; // [esp-4h] [ebp-18h]
  int v13; // [esp+0h] [ebp-14h]
  CMemory **i; // [esp+8h] [ebp-Ch]
  volatile int *v16; // [esp+Ch] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int *, _DWORD))*a1)(a1, a5, 0) )
  {
    if ( a5[232] )
    {
      v16 = sub_443890(a2, a3, a4, a5[232]);
      if ( v16 )
      {
        for ( i = CParty::GetPlayerList((int)v16, a2, a3, a4); i; i = (CMemory **)CBaseList::Pop((int)i, a2, a3, a4) )
        {
          v13 = unknown_libname_10(i);
          v7 = sub_4024B0(75, 15, 350, 300);
          (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)v13 + 180))(v13, v7);
        }
        sub_401C50(v16, a2, a3, a4);
      }
    }
    else
    {
      v8 = sub_4024B0(75, 15, 350, 300);
      (*(void (__thiscall **)(int *, _DWORD *))(*a5 + 180))(a5, v8);
    }
    v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
    (*(void (__cdecl **)(int *, int, _DWORD, int))(*a5 + 88))(a5, 8, 0, v9);
    v12 = a1[2];
    v11 = unknown_libname_4(a5);
    v10 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 32, "bddbb", a1[1], v10, v11, 0, v12);
  }
}

//----- (0047A140) --------------------------------------------------------
BOOL __thiscall sub_47A140(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[68] > (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 32))(this, a2)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3);
}

//----- (0047A1E0) --------------------------------------------------------
void __userpurge sub_47A1E0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-20h]
  int v13; // [esp-4h] [ebp-18h]
  int v14; // [esp+0h] [ebp-14h]
  int v16; // [esp+8h] [ebp-Ch] BYREF
  char v17; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v18; // [esp+10h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v17, &v16);
  v18 = 0;
  LOBYTE(v14) = v17;
  if ( v17 )
  {
    if ( v17 == 1 )
      v18 = sub_436ED0(a2, a3, a4, v16);
  }
  else
  {
    v18 = sub_446740(a2, a3, a4, v16);
  }
  if ( v18 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v18) )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v18) )
      {
        v8 = sub_4024B0(81, 10, 70 * a1[2] - 20, v14);
        (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v18 + 180))(v18, v8);
      }
      v9 = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 32))(a1, a5);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 7, 0, v9);
      v13 = a1[2];
      v12 = unknown_libname_4(v18);
      v10 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v18, a2, a3, a4, (volatile int *)v18 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}
// 47A2AC: variable 'v14' is possibly undefined

//----- (0047A360) --------------------------------------------------------
BOOL __thiscall sub_47A360(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && !sub_40A660(a2, 512)
      && sub_426320(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
}

//----- (0047A3F0) --------------------------------------------------------
int __userpurge sub_47A3F0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  CIOObject *v8; // [esp+4h] [ebp-8h]
  int v9; // [esp+8h] [ebp-4h]

  v9 = 1;
  if ( !(*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1) )
  {
    v8 = sub_446740(a2, a3, a4, a6);
    if ( !v8 )
      return 0;
    if ( sub_4089E0(v8, a1[14]) )
    {
      sub_448C90(a2, a3, a4, a5, 37, "bb", 101, a1[1]);
      v9 = 0;
    }
    CIOObject::Release(v8, a2, a3, a4, (volatile int *)v8 + 86);
  }
  return v9;
}

//----- (0047A480) --------------------------------------------------------
void __userpurge sub_47A480(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-18h] [ebp-30h]
  int v13; // [esp-10h] [ebp-28h]
  int v14; // [esp-Ch] [ebp-24h]
  int v15; // [esp-4h] [ebp-1Ch]
  int v16; // [esp-4h] [ebp-1Ch]
  int v18; // [esp+8h] [ebp-10h] BYREF
  int v19; // [esp+Ch] [ebp-Ch] BYREF
  char v20; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v21; // [esp+14h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bd", &v20, &v19);
  v21 = 0;
  if ( v20 )
  {
    if ( v20 == 1 )
      v21 = sub_436ED0(a2, a3, a4, v19);
  }
  else
  {
    v21 = sub_446740(a2, a3, a4, v19);
  }
  if ( v21 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v21) )
    {
      v18 = 0;
      (*(void (__thiscall **)(_DWORD *, int, CIOObject *, int *))(*a1 + 80))(a1, a5, v21, &v18);
      (*(void (__thiscall **)(CIOObject *, int))(*(_DWORD *)v21 + 80))(v21, a5);
      v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v8);
      if ( (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1) )
      {
        v15 = v18;
        v13 = a1[2];
        v12 = unknown_libname_4(v21);
        v9 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, a5, 32, "bddbbwwb", a1[1], v9, v12, 1, v13, 0, 0, v15);
      }
      else
      {
        v16 = a1[2];
        v14 = unknown_libname_4(v21);
        v10 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v10, v14, 0, v16);
      }
    }
    else
    {
      v11 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, a5, 30, "db", v11, 0);
    }
    CIOObject::Release(v21, a2, a3, a4, (volatile int *)v21 + 86);
  }
  else
  {
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v7, 0);
  }
}

//----- (0047A630) --------------------------------------------------------
void __userpurge sub_47A630(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  int v6; // eax
  int v7; // [esp-Ch] [ebp-14h]
  int v8; // [esp-4h] [ebp-Ch]
  DWORD v10; // [esp+4h] [ebp-4h]

  v10 = GetTickCount();
  a1[16] = a1[11] + v10 - a1[10];
  (*(void (__thiscall **)(_DWORD *, DWORD, int))(*a5 + 224))(a5, a1[12] + v10, 1);
  a5[115] = a1[12] + v10;
  (*(void (__thiscall **)(_DWORD *, _DWORD *, int))(*a1 + 84))(a1, a5, a6);
  v8 = a1[2];
  v7 = unknown_libname_4(a6);
  v6 = unknown_libname_4(a5);
  sub_40ACD0(a2, a3, a4, (int)a5, 32, "bddbb", a1[1], v6, v7, 0, v8);
}

//----- (0047A6E0) --------------------------------------------------------
int __thiscall sub_47A6E0(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax

  v4 = sub_4024B0(46, 1200, 6 * this[2] + 2, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (0047A720) --------------------------------------------------------
int __thiscall CSkillBuff::CanExcute(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax

  v4 = sub_4024B0(47, 1200, 8 * this[2] + 3, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (0047A760) --------------------------------------------------------
int __thiscall CSkillBuff::PreExcute(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax

  v4 = sub_4024B0(48, 1200, 8 * this[2] + 3, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (0047A7A0) --------------------------------------------------------
int __thiscall sub_47A7A0(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax

  v4 = sub_4024B0(49, 1200, 6 * this[2] + 2, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (0047A7E0) --------------------------------------------------------
BOOL __thiscall sub_47A7E0(void *this, _DWORD *a2, _DWORD *a3)
{
  return sub_47A360(this, a2, a3) && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3);
}

//----- (0047A830) --------------------------------------------------------
int __thiscall sub_47A830(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax

  v4 = sub_4024B0(50, 900, 3 * this[2] + 2, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (0047A870) --------------------------------------------------------
BOOL __thiscall sub_47A870(void *this, _DWORD *a2, _DWORD *a3)
{
  return sub_471A10(this, a2, a3) && (*(int (__thiscall **)(_DWORD *))(*a3 + 156))(a3) == 1;
}

//----- (0047A8C0) --------------------------------------------------------
int __thiscall sub_47A8C0(void *this, int a2, _DWORD *a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(void *, int, _DWORD *))(*(_DWORD *)this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(83, 15, 50 * a3[76] / -100, (int)this);
    result = (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047A920) --------------------------------------------------------
int __thiscall sub_47A920(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(84, 10, (250 * this[2] + 100) / 10, (int)this);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047A980) --------------------------------------------------------
BOOL __thiscall sub_47A980(void *this, _DWORD *a2, _DWORD *a3)
{
  return sub_471A10(this, a2, a3) && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3);
}

//----- (0047A9D0) --------------------------------------------------------
int __thiscall sub_47A9D0(_DWORD *this, int a2, _DWORD *a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, _DWORD *))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(85, 20 * this[2] + 50, a3[64] * (25 * this[2] + 25) / -100, (int)this);
    result = (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047AA50) --------------------------------------------------------
int __thiscall sub_47AA50(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(86, 20 * this[2] + 50, -24 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047AAB0) --------------------------------------------------------
BOOL __thiscall sub_47AAB0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 63;
  return 0;
}

//----- (0047AAF0) --------------------------------------------------------
int __thiscall sub_47AAF0(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(87, 20 * this[2] + 50, -12 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047AB50) --------------------------------------------------------
int __thiscall CStrenUpInt::Apply(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(88, 20 * this[2] + 50, -20 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047ABB0) --------------------------------------------------------
int __thiscall sub_47ABB0(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(89, 20 * this[2] + 50, -24 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047AC10) --------------------------------------------------------
int __thiscall CCloudSight::CanExcute(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(90, 20 * this[2] + 50, -16 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047AC70) --------------------------------------------------------
BOOL __thiscall sub_47AC70(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 66;
  return 0;
}

//----- (0047ACB0) --------------------------------------------------------
int __thiscall sub_47ACB0(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(91, 10 * this[2] + 30, -(8 * this[2] + 4), -(6 * this[2] + 2));
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047AD30) --------------------------------------------------------
BOOL __thiscall sub_47AD30(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 67;
  return 0;
}

//----- (0047AD70) --------------------------------------------------------
int __thiscall sub_47AD70(void *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax

  result = (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(93, 15, -50, (int)this);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0047ADC0) --------------------------------------------------------
int __thiscall sub_47ADC0(void *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  _DWORD *v5; // eax
  int savedregs; // [esp+4h] [ebp+0h]

  result = (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = sub_4024B0(94, 10, (int)this, savedregs);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}
// 47ADEB: variable 'savedregs' is possibly undefined

//----- (0047AE10) --------------------------------------------------------
BOOL __thiscall sub_47AE10(void *this, _DWORD *a2, _DWORD *a3)
{
  return sub_471A10(this, a2, a3);
}

//----- (0047AE30) --------------------------------------------------------
void __userpurge sub_47AE30(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, _DWORD *a7)
{
  if ( (*(int (__thiscall **)(int, int, int))(*(_DWORD *)a1 + 40))(a1, a5, a6) )
  {
    *a7 = 1;
    sub_40AB60(a6, a2, a3, a4, 2);
  }
}

//----- (0047AE70) --------------------------------------------------------
void __userpurge sub_47AE70(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-10h]
  int v11; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*a1)(a1, a5, 0) )
  {
    (*(void (__thiscall **)(_DWORD *, int))(*a1 + 80))(a1, a5);
    v7 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v7);
    v11 = a1[2];
    v10 = unknown_libname_4(a5);
    v8 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v8, v10, 0, v11);
  }
  else
  {
    v9 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 30, "db", v9, 0);
  }
}

//----- (0047AF20) --------------------------------------------------------
int __thiscall sub_47AF20(_DWORD *this, int a2)
{
  _DWORD *v2; // eax

  v2 = sub_4024B0(69, 60, 6 * this[2] + 5, -(2 * this[2] + 3));
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0047AF70) --------------------------------------------------------
BOOL __thiscall sub_47AF70(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 59;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 65;
    case 5:
      return *(_DWORD *)(a2 + 60) >= 70;
  }
  return 0;
}

//----- (0047B010) --------------------------------------------------------
int __thiscall sub_47B010(_DWORD *this, int a2)
{
  _DWORD *v2; // eax

  v2 = sub_4024B0(76, 900, 5 * this[2] + 10, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0047B050) --------------------------------------------------------
int __thiscall sub_47B050(_DWORD *this, int a2)
{
  _DWORD *v2; // eax

  v2 = sub_4024B0(77, 900, 5 * this[2] + 10, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0047B090) --------------------------------------------------------
int __thiscall sub_47B090(_DWORD *this, int a2)
{
  _DWORD *v2; // eax

  v2 = sub_4024B0(78, 900, 5 * this[2] + 10, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0047B0D0) --------------------------------------------------------
BOOL __thiscall sub_47B0D0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 64;
  return 0;
}

//----- (0047B110) --------------------------------------------------------
int __thiscall sub_47B110(_DWORD *this, int a2)
{
  _DWORD *v2; // eax

  v2 = sub_4024B0(79, 900, 5 * this[2] + 10, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0047B150) --------------------------------------------------------
int __thiscall sub_47B150(_DWORD *this, int a2)
{
  _DWORD *v2; // eax

  v2 = sub_4024B0(80, 900, 5 * this[2] + 10, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0047B190) --------------------------------------------------------
BOOL __thiscall sub_47B190(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 65;
  return 0;
}

//----- (0047B1D0) --------------------------------------------------------
void __userpurge sub_47B1D0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v8; // [esp+4h] [ebp-10h]
  CMemory **i; // [esp+8h] [ebp-Ch]
  volatile int *v10; // [esp+Ch] [ebp-8h]
  int v11; // [esp+10h] [ebp-4h]

  v11 = a5[232];
  if ( v11 )
  {
    v10 = sub_443890(a2, a3, a4, v11);
    if ( v10 )
    {
      for ( i = CParty::GetPlayerList((int)v10, a2, a3, a4); i; i = (CMemory **)CBaseList::Pop((int)i, a2, a3, a4) )
      {
        v8 = (_DWORD *)unknown_libname_10(i);
        if ( sub_440790(a5 + 81, v8 + 81) <= 64 )
        {
          v5 = sub_4024B0(82, 38, 200, a1);
          (*(void (__thiscall **)(_DWORD *, _DWORD *))(*v8 + 180))(v8, v5);
          sub_40AB60((int)v8, a2, a3, a4, 4);
        }
      }
      sub_401C50(v10, a2, a3, a4);
    }
  }
  else
  {
    v6 = sub_4024B0(82, 38, 200, a1);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a5 + 180))(a5, v6);
    sub_40AB60((int)a5, a2, a3, a4, 4);
  }
}
// 47B258: variable 'a1' is possibly undefined

//----- (0047B2C0) --------------------------------------------------------
void __userpurge sub_47B2C0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-28h]
  int v10; // [esp-4h] [ebp-20h]
  volatile int *v12; // [esp+10h] [ebp-Ch]
  int *v13; // [esp+18h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))*a1)(a1, a5, 0) )
  {
    v13 = (int *)(*(int (__thiscall **)(_DWORD *, _DWORD *))(*a1 + 80))(a1, a5);
    if ( v13 )
    {
      if ( a5[232] )
      {
        v12 = sub_443890(a2, a3, a4, a5[232]);
        if ( v12 )
        {
          sub_4451F0((int)v12, a2, a3, a4, a5, v13);
          sub_402460(v13, 1);
          sub_401C50(v12, a2, a3, a4);
        }
      }
      else
      {
        if ( a5[144] )
          sub_40A990((int)a5, a2, a3, a4, a5[144]);
        (*(void (__thiscall **)(_DWORD *, int *))(*a5 + 180))(a5, v13);
        a5[144] = v13[1];
      }
      v7 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a5 + 88))(a5, 8, 0, v7);
      v10 = a1[2];
      v9 = unknown_libname_4(a5);
      v8 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, (int)a5, 32, "bddbb", a1[1], v8, v9, 0, v10);
    }
  }
}
// 47B34C: conditional instruction was optimized away because of '%var_4.4!=0'

//----- (0047B410) --------------------------------------------------------
_DWORD *__thiscall sub_47B410(_DWORD *this, int a2)
{
  return sub_4024B0(28, 0, 7 * this[2] + 9, 3 * this[2] + 9);
}

//----- (0047B450) --------------------------------------------------------
BOOL __thiscall sub_47B450(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 57;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 63;
  return 0;
}

//----- (0047B4B0) --------------------------------------------------------
_DWORD *__thiscall sub_47B4B0(_DWORD *this, int a2)
{
  return sub_4024B0(38, 0, 8 * this[2] + 4, (int)this);
}

//----- (0047B4E0) --------------------------------------------------------
BOOL __thiscall sub_47B4E0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 61;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 67;
  return 0;
}

//----- (0047B540) --------------------------------------------------------
_DWORD *__thiscall sub_47B540(_DWORD *this, int a2)
{
  return sub_4024B0(70, 0, 3 * this[2] + 2, (int)this);
}

//----- (0047B570) --------------------------------------------------------
_DWORD *__thiscall sub_47B570(_DWORD *this, int a2)
{
  return sub_4024B0(71, 0, 3 * this[2] + 2, (int)this);
}

//----- (0047B5A0) --------------------------------------------------------
_DWORD *__thiscall sub_47B5A0(_DWORD *this, int a2)
{
  return sub_4024B0(72, 0, 3 * this[2] + 2, (int)this);
}

//----- (0047B5D0) --------------------------------------------------------
BOOL __thiscall sub_47B5D0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 57;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 64;
  return 0;
}

//----- (0047B630) --------------------------------------------------------
_DWORD *__thiscall sub_47B630(_DWORD *this, int a2)
{
  return sub_4024B0(73, 0, 5 * this[2] + 5, (int)this);
}

//----- (0047B660) --------------------------------------------------------
BOOL __thiscall sub_47B660(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 58;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 65;
  return 0;
}

//----- (0047B6C0) --------------------------------------------------------
_DWORD *__thiscall sub_47B6C0(_DWORD *this, int a2)
{
  return sub_4024B0(74, 0, 25 * this[2] + 25, (int)this);
}

//----- (0047B6F0) --------------------------------------------------------
BOOL __thiscall sub_47B6F0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 60;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 66;
  return 0;
}

//----- (0047B750) --------------------------------------------------------
BOOL __thiscall sub_47B750(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal(a2)
      && CChar::IsNormal(a3)
      && a2[77] == a3[77]
      && sub_426320(a2, 0)
      && (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))(*a2 + 176))(a2, a3, 0)
      && a2[143] >= this[17];
}

//----- (0047B7E0) --------------------------------------------------------
int __stdcall sub_47B7E0(int a1, int a2)
{
  return a2 + a2 / 5 + 2 * *(_DWORD *)(a1 + 72);
}

//----- (0047B810) --------------------------------------------------------
int __stdcall sub_47B810(int a1, int a2)
{
  return *(_DWORD *)(a1 + 72) + a2 / 2;
}

//----- (0047B830) --------------------------------------------------------
int __thiscall sub_47B830(void *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  int v10; // [esp+0h] [ebp-4h]

  result = (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 40))(this, a2, a3);
  if ( result )
  {
    v7 = sub_4024B0(0, 8, -50, (int)this);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v7);
    v8 = sub_4024B0(20, 8, -50, v10);
    result = (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v8);
  }
  return result;
}
// 47B873: variable 'v10' is possibly undefined

//----- (0047B890) --------------------------------------------------------
void __userpurge sub_47B890(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-10h]
  int v10; // [esp-4h] [ebp-8h]
  _DWORD *v12; // [esp+0h] [ebp-4h]

  if ( (**a1)(a1, a5, 0) )
  {
    v7 = sub_4024B0(24, 15, 0, (int)a1);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v7);
    (*(void (__thiscall **)(_DWORD *, int))(*v12 + 56))(v12, a5);
    v10 = v12[2];
    v9 = unknown_libname_4(a5);
    v8 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v12[1], v8, v9, 0, v10);
  }
}
// 47B8D1: variable 'v12' is possibly undefined

//----- (0047B920) --------------------------------------------------------
int __stdcall sub_47B920(int a1, int a2)
{
  return a2 + 20 * a2 / 100 + 2 * *(_DWORD *)(a1 + 64);
}

//----- (0047B950) --------------------------------------------------------
int __stdcall sub_47B950(int a1, int a2)
{
  return a2 + 2 * *(_DWORD *)(a1 + 60);
}

//----- (0047B970) --------------------------------------------------------
int __thiscall CChantDefLightning::CreateBuff(void *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  _DWORD *v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // eax
  int v13; // [esp+0h] [ebp-Ch]
  int v15; // [esp+8h] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v15 = (*(int (__thiscall **)(void *, _DWORD *, int))(*(_DWORD *)this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
  if ( !sub_43A510((int)a2, a3, v8) )
    return 0;
  if ( (*(int (__thiscall **)(void *, _DWORD *, _DWORD *))(*(_DWORD *)this + 40))(this, a2, a3) )
  {
    v9 = sub_4024B0(7, 5, v13, (int)this);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*a3 + 180))(a3, v9);
  }
  v10 = a4 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*a2 + 168))(a2, a3);
  *a7 = v10 / (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 36))(this, a2);
  v11 = (*(int (__thiscall **)(void *, _DWORD *, int, int, unsigned int *, void *))(*(_DWORD *)this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  return (*(int (__thiscall **)(_DWORD *, _DWORD *, unsigned int))(*a3 + 72))(a3, a2, a4 * v15 / v11);
}
// 47B9D0: variable 'v13' is possibly undefined
// 47BA06: variable 'this' is possibly undefined

//----- (0047BA70) --------------------------------------------------------
BOOL __thiscall sub_47BA70(_DWORD *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal(a2) && sub_426320(a2, 0) && a2[143] >= this[17];
}

//----- (0047BAC0) --------------------------------------------------------
void __userpurge sub_47BAC0(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-10h]
  int v10; // [esp-4h] [ebp-8h]
  _DWORD *v12; // [esp+0h] [ebp-4h]

  if ( (**a1)(a1, a5, 0) )
  {
    v7 = sub_4024B0(23, 15, 0, (int)a1);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v7);
    (*(void (__thiscall **)(_DWORD *, int))(*v12 + 56))(v12, a5);
    v10 = v12[2];
    v9 = unknown_libname_4(a5);
    v8 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v12[1], v8, v9, 0, v10);
  }
}
// 47BB01: variable 'v12' is possibly undefined

//----- (0047BB50) --------------------------------------------------------
int __stdcall sub_47BB50(int a1, int a2)
{
  return a2 + 20 * a2 / 100 + 2 * *(_DWORD *)(a1 + 80);
}

//----- (0047BB80) --------------------------------------------------------
void __userpurge sub_47BB80(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, void *Src, int a7)
{
  int v7; // eax
  int v8; // eax
  _DWORD *v9; // eax
  _DWORD *v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // [esp-Ch] [ebp-20h]
  int v14; // [esp-4h] [ebp-18h]
  int v15; // [esp+0h] [ebp-14h]
  int v16; // [esp+0h] [ebp-14h]
  int v18; // [esp+8h] [ebp-Ch] BYREF
  char v19; // [esp+Ch] [ebp-8h] BYREF
  char v20; // [esp+Dh] [ebp-7h] BYREF
  char v21; // [esp+Eh] [ebp-6h] BYREF
  char v22; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v23; // [esp+10h] [ebp-4h]

  ScanPacket(a2, a3, a4, (char *)Src, (char *)a7, "bdbbb", &v20, &v18, &v19, &v22, &v21);
  sub_411FF0((int)a5, a2, a3, a4);
  if ( sub_45FF40((int)a5, a2, a3, a4) && sub_4802B0(*((char **)a5 + 78), a2, a3, a4, a5, v19, v22, v21, 1, 1) )
  {
    sub_412010((int)a5, a2, a3, a4);
    v23 = 0;
    LOBYTE(v15) = v20;
    if ( v20 )
    {
      if ( v20 == 1 )
        v23 = sub_436ED0(a2, a3, a4, v18);
    }
    else
    {
      v23 = sub_446740(a2, a3, a4, v18);
    }
    if ( v23 )
    {
      if ( (*(int (__thiscall **)(_DWORD *, Concurrency::details::_CancellationTokenRegistration *, CIOObject *))*a1)(
             a1,
             a5,
             v23) )
      {
        if ( (*(int (__thiscall **)(_DWORD *, Concurrency::details::_CancellationTokenRegistration *, CIOObject *))(*a1 + 40))(
               a1,
               a5,
               v23) )
        {
          v9 = sub_4024B0(21, 10, -50, v15);
          (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v23 + 180))(v23, v9);
          v10 = sub_4024B0(22, 10, 0, v16);
          (*(void (__thiscall **)(CIOObject *, _DWORD *))(*(_DWORD *)v23 + 180))(v23, v10);
        }
        (*(void (__thiscall **)(CIOObject *, Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)v23 + 80))(
          v23,
          a5);
        (*(void (__thiscall **)(_DWORD *, Concurrency::details::_CancellationTokenRegistration *))(*a1 + 56))(a1, a5);
        v14 = a1[2];
        v13 = unknown_libname_4(v23);
        v11 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, (int)a5, 32, "bddbb", a1[1], v11, v13, 0, v14);
      }
      else
      {
        v12 = unknown_libname_4(a5);
        sub_40ACD0(a2, a3, a4, (int)a5, 30, "db", v12, 0);
      }
      CIOObject::Release(v23, a2, a3, a4, (volatile int *)v23 + 86);
    }
    else
    {
      v8 = unknown_libname_4(a5);
      sub_40ACD0(a2, a3, a4, (int)a5, 30, "db", v8, 0);
    }
  }
  else
  {
    sub_412010((int)a5, a2, a3, a4);
    sub_448C90(a2, a3, a4, (int)a5, 36, "b", 68);
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 30, "db", v7, 0);
  }
}
// 47BCD2: variable 'v15' is possibly undefined
// 47BCEF: variable 'v16' is possibly undefined

//----- (0047BD90) --------------------------------------------------------
void __userpurge sub_47BD90(int (__thiscall ***a1)(_DWORD, int, _DWORD)@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-10h]
  int v10; // [esp-4h] [ebp-8h]
  _DWORD *v12; // [esp+0h] [ebp-4h]

  if ( (**a1)(a1, a5, 0) )
  {
    v7 = sub_4024B0(25, 15, 0, (int)a1);
    (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)a5 + 180))(a5, v7);
    (*(void (__thiscall **)(_DWORD *, int))(*v12 + 56))(v12, a5);
    v10 = v12[2];
    v9 = unknown_libname_4(a5);
    v8 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", v12[1], v8, v9, 0, v10);
  }
}
// 47BDD1: variable 'v12' is possibly undefined

//----- (0047BE20) --------------------------------------------------------
int __thiscall sub_47BE20(_DWORD *this, int a2)
{
  return (*(int (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, 35, 0, this[17]);
}

//----- (0047BE50) --------------------------------------------------------
int __stdcall sub_47BE50(_DWORD *a1)
{
  int v1; // esi

  v1 = sub_473D50(a1);
  return 3 * a1[15] + 5 * CChar::GetInt(a1) / 2 + v1;
}

//----- (0047BE90) --------------------------------------------------------
int __stdcall sub_47BE90(_DWORD *a1)
{
  int v1; // esi

  v1 = sub_473D50(a1);
  return 7 * CChar::GetInt(a1) / 2 + v1 + 4 * a1[15];
}

//----- (0047BED0) --------------------------------------------------------
int __stdcall sub_47BED0(_DWORD *a1)
{
  return 6 * CChar::GetStr(a1) / 2 + 5 * a1[15] / 3;
}

//----- (0047BF10) --------------------------------------------------------
int __thiscall sub_47BF10(void *this, int a2, int a3)
{
  _DWORD *v3; // eax
  int savedregs; // [esp+4h] [ebp+0h]

  v3 = sub_4024B0(7, 12, (int)this, savedregs);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v3);
}
// 47BF1B: variable 'savedregs' is possibly undefined

//----- (0047BF40) --------------------------------------------------------
int __thiscall sub_47BF40(_DWORD *this, _DWORD *a2)
{
  int v2; // esi

  if ( this[14] )
    return 6 * a2[15] + 11 * CChar::GetStr(a2);
  v2 = sub_473D50(a2);
  return 5 * CChar::GetInt(a2) / 4 + v2 + 2 * a2[15];
}

//----- (0047BFB0) --------------------------------------------------------
void __userpurge sub_47BFB0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-34h]
  int v9; // [esp-8h] [ebp-30h]
  int v10; // [esp-4h] [ebp-2Ch]
  int v12; // [esp+4h] [ebp-24h] BYREF
  int v13; // [esp+8h] [ebp-20h] BYREF
  int v14; // [esp+Ch] [ebp-1Ch] BYREF
  int v16; // [esp+14h] [ebp-14h]
  int v17; // [esp+18h] [ebp-10h]
  _DWORD *v18; // [esp+1Ch] [ebp-Ch]
  CMemory *v19; // [esp+20h] [ebp-8h]
  DWORD v20; // [esp+24h] [ebp-4h]

  v20 = GetTickCount();
  if ( v20 >= a1[16] )
  {
    if ( (int)++a1[18] <= 13 )
    {
      if ( a1[18] == 1 )
        CChar::AddGState((volatile LONG *)a5, 0x4000);
      a1[16] = v20 + 5000;
      v18 = 0;
      v5 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
      v19 = sub_4822A0(*(char **)(a5 + 312), a2, a3, a4, (_DWORD *)(a5 + 316), v5);
      sub_412010(a5, a2, a3, a4);
      while ( v19 )
      {
        v18 = (_DWORD *)unknown_libname_10(v19);
        if ( CChar::IsNormal(v18) && *(_DWORD *)(a5 + 308) == v18[77] )
        {
          v14 = 0;
          v13 = 0;
          v17 = sub_473EF0(a1, a5, v18);
          v12 = 0;
          v16 = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 100))(a1, a5);
          if ( !(*(int (__thiscall **)(_DWORD *, int, int, int *, int *, int *, _DWORD *))(*v18 + 72))(
                  v18,
                  a5,
                  v17 * v16 / 100,
                  &v14,
                  &v12,
                  &v13,
                  a1) )
            (*(void (__thiscall **)(_DWORD *, int))(*v18 + 80))(v18, a5);
          if ( v14 > 0 )
          {
            v10 = v13;
            v9 = v14;
            v8 = unknown_libname_4(v18);
            v6 = unknown_libname_4(a5);
            v7 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*a1 + 92))(a1, a1[1], v6, v8, v9, v10);
            sub_40ACD0(a2, a3, a4, a5, 70, "bbddww", v7);
          }
        }
        v19 = (CMemory *)CBaseList::Pop((int)v19, a2, a3, a4);
      }
      sub_411FF0(a5, a2, a3, a4);
    }
    else
    {
      a1[14] = 1;
    }
  }
}

//----- (0047C180) --------------------------------------------------------
LONG __userpurge sub_47C180@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v11; // [esp-Ch] [ebp-30h]
  int v12; // [esp-Ch] [ebp-30h]
  int v13; // [esp-8h] [ebp-2Ch]
  int v14; // [esp-4h] [ebp-28h]
  int v15; // [esp-4h] [ebp-28h]
  int v17; // [esp+4h] [ebp-20h] BYREF
  int v18; // [esp+8h] [ebp-1Ch] BYREF
  int v19; // [esp+Ch] [ebp-18h] BYREF
  int v21; // [esp+14h] [ebp-10h]
  int v22; // [esp+18h] [ebp-Ch]
  _DWORD *v23; // [esp+1Ch] [ebp-8h]
  CMemory *v24; // [esp+20h] [ebp-4h]

  v23 = 0;
  v6 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
  v24 = sub_4822A0(*(char **)(a5 + 312), a2, a3, a4, (_DWORD *)(a5 + 316), v6);
  *(_DWORD *)(a5 + 460) = a1[12] + GetTickCount();
  sub_412010(a5, a2, a3, a4);
  while ( v24 )
  {
    v23 = (_DWORD *)unknown_libname_10(v24);
    if ( CChar::IsNormal(v23) && *(_DWORD *)(a5 + 308) == v23[77] )
    {
      v19 = 0;
      v18 = 0;
      v22 = sub_473EF0(a1, a5, v23);
      v17 = 0;
      v21 = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 100))(a1, a5);
      if ( !(*(int (__thiscall **)(_DWORD *, int, int, int *, int *, int *, _DWORD *))(*v23 + 72))(
              v23,
              a5,
              v22 * v21 / 100,
              &v19,
              &v17,
              &v18,
              a1) )
        (*(void (__thiscall **)(_DWORD *, int))(*v23 + 80))(v23, a5);
      if ( v19 > 0 )
      {
        v14 = v18;
        v13 = v19;
        v11 = unknown_libname_4(v23);
        v7 = unknown_libname_4(a5);
        v8 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*a1 + 92))(a1, a1[1], v7, v11, v13, v14);
        sub_40ACD0(a2, a3, a4, a5, 70, "bbddww", v8);
      }
    }
    v24 = (CMemory *)CBaseList::Pop((int)v24, a2, a3, a4);
  }
  sub_411FF0(a5, a2, a3, a4);
  v15 = a1[2];
  v12 = unknown_libname_4(a5);
  v9 = unknown_libname_4(a5);
  sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v9, v12, 0, v15);
  return CChar::AddGState((volatile LONG *)a5, 0x10000);
}

//----- (0047C340) --------------------------------------------------------
int __userpurge sub_47C340@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  int v6; // eax
  int v8; // [esp-Ch] [ebp-14h]
  int v9; // [esp-4h] [ebp-Ch]
  DWORD v11; // [esp+4h] [ebp-4h]

  v11 = GetTickCount();
  a1[16] = a1[11] + v11 - a1[10];
  (*(void (__thiscall **)(_DWORD *, DWORD, int))(*a5 + 224))(a5, a1[12] + v11, 1);
  a5[115] = a1[12] + v11;
  v9 = a1[2];
  v8 = unknown_libname_4(a5);
  v6 = unknown_libname_4(a5);
  sub_40ACD0(a2, a3, a4, (int)a5, 32, "bddbb", a1[1], v6, v8, 0, v9);
  return (*(int (__thiscall **)(_DWORD *, _DWORD, int, _DWORD, _DWORD))(*a5 + 228))(
           a5,
           a1[14],
           (int)a1[15] >> 16,
           (unsigned __int8)BYTE1(a1[15]),
           (unsigned __int8)a1[15]);
}

//----- (0047C410) --------------------------------------------------------
void __userpurge sub_47C410(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // [esp-Ch] [ebp-38h]
  int v8; // [esp-4h] [ebp-30h]
  _DWORD *v10; // [esp+4h] [ebp-28h]
  int v11[2]; // [esp+8h] [ebp-24h] BYREF
  int v12; // [esp+10h] [ebp-1Ch]
  int v13; // [esp+14h] [ebp-18h]
  CMemory *i; // [esp+18h] [ebp-14h]
  DWORD v15; // [esp+1Ch] [ebp-10h]
  int v16; // [esp+20h] [ebp-Ch]
  int v17; // [esp+24h] [ebp-8h]
  int v18; // [esp+28h] [ebp-4h]

  if ( a6 && *(_DWORD *)(a6 + 308) == *(_DWORD *)(a5 + 308) )
  {
    v15 = GetTickCount();
    a1[16] = a1[11] + v15 - a1[10];
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a5 + 224))(a5, a1[12] + v15, 1);
    *(_DWORD *)(a5 + 460) = a1[12] + v15;
    v8 = a1[2];
    v7 = unknown_libname_4(a6);
    v6 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, a5, 32, "bddbb", a1[1], v6, v7, 0, v8);
    v18 = RandomBetween(0, 4);
    v16 = dword_4AE270[2 * v18] - 96;
    v13 = dword_4AE270[2 * v18] + 96;
    v12 = dword_4AE274[2 * v18] - 96;
    v17 = dword_4AE274[2 * v18] + 96;
    for ( i = sub_4822A0(*(char **)(a5 + 312), a2, a3, a4, (_DWORD *)(a6 + 316), 2);
          i;
          i = (CMemory *)CBaseList::Pop((int)i, a2, a3, a4) )
    {
      v11[0] = RandomBetween(v16, v13);
      v11[1] = RandomBetween(v12, v17);
      v10 = (_DWORD *)unknown_libname_10(i);
      if ( CChar::IsNormal(v10) )
        sub_451260(v10, a2, a3, a4, *(_DWORD *)(a5 + 308), v11, 30000, 0);
    }
  }
}
// 4AE270: using guessed type int dword_4AE270[];

//----- (0047C5A0) --------------------------------------------------------
void __userpurge sub_47C5A0(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-1Ch]
  int v9; // [esp-4h] [ebp-14h]
  int v11; // [esp+4h] [ebp-Ch] BYREF
  DWORD v12; // [esp+8h] [ebp-8h]
  CIOObject *v13; // [esp+Ch] [ebp-4h]

  v13 = sub_482520((char *)a5[78], a2, a3, a4, a5 + 79, a1[14], 5);
  if ( v13 )
  {
    v12 = GetTickCount();
    a1[16] = a1[11] + v12 - a1[10];
    (*(void (__thiscall **)(_DWORD *, DWORD, int))(*a5 + 224))(a5, a1[12] + v12, 1);
    a5[115] = a1[12] + v12;
    v6 = CChar::GetMaxHP(a5);
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a5 + 88))(a5, 7, 1, v6 / 50);
    v9 = a1[2];
    v8 = unknown_libname_4(v13);
    v7 = unknown_libname_4(a5);
    sub_40ACD0(a2, a3, a4, (int)a5, 32, "bddbb", a1[1], v7, v8, 0, v9);
    sub_412010((int)a5, a2, a3, a4);
    v11 = 0;
    (*(void (__thiscall **)(CIOObject *, _DWORD *, int, int *, int *, int *, _DWORD))(*(_DWORD *)v13 + 72))(
      v13,
      a5,
      0xFFFF,
      &v11,
      &v11,
      &v11,
      0);
    CIOObject::Release(v13, a2, a3, a4, (volatile int *)v13 + 86);
    sub_411FF0((int)a5, a2, a3, a4);
  }
}

//----- (0047C6D0) --------------------------------------------------------
int __thiscall sub_47C6D0(void *this, int a2, int a3)
{
  _DWORD *v3; // eax

  v3 = sub_4024B0(95, 180, 50, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a2 + 180))(a2, v3);
}

//----- (0047C700) --------------------------------------------------------
int __thiscall sub_47C700(void *this, int a2, int a3)
{
  _DWORD *v3; // eax

  v3 = sub_4024B0(96, 180, 50, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a2 + 180))(a2, v3);
}

//----- (0047C730) --------------------------------------------------------
void __userpurge sub_47C730(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-30h]
  int v10; // [esp-8h] [ebp-2Ch]
  int v11; // [esp-4h] [ebp-28h]
  int v13; // [esp+4h] [ebp-20h] BYREF
  int v14; // [esp+8h] [ebp-1Ch] BYREF
  int v15; // [esp+Ch] [ebp-18h] BYREF
  int v17; // [esp+14h] [ebp-10h]
  int v18; // [esp+18h] [ebp-Ch]
  _DWORD *v19; // [esp+1Ch] [ebp-8h]
  CMemory *v20; // [esp+20h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))(*a1 + 76))(a1, a5, 0) )
  {
    v19 = 0;
    v6 = (*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1);
    v20 = sub_482350(*(char **)(a5 + 312), a2, a3, a4, (_DWORD *)(a5 + 316), v6);
    sub_412010(a5, a2, a3, a4);
    while ( v20 )
    {
      v19 = (_DWORD *)unknown_libname_10(v20);
      if ( CChar::IsNormal(v19)
        && *(_DWORD *)(a5 + 308) == v19[77]
        && (*(int (__thiscall **)(_DWORD, _DWORD *, int))(**(_DWORD **)(a5 + 476) + 176))(*(_DWORD *)(a5 + 476), v19, 1) )
      {
        v15 = 0;
        v14 = 0;
        v18 = sub_473EF0(a1, *(_DWORD *)(a5 + 476), v19);
        v13 = 0;
        v17 = (*(int (__thiscall **)(_DWORD *, int))(*a1 + 100))(a1, a5);
        if ( (*(int (__thiscall **)(_DWORD *))(*a1 + 96))(a1) )
        {
          if ( !(*(int (__thiscall **)(_DWORD *, _DWORD, int, int *, int *, int *, _DWORD *))(*v19 + 72))(
                  v19,
                  *(_DWORD *)(a5 + 476),
                  v18 * v17 / 100,
                  &v15,
                  &v13,
                  &v14,
                  a1) )
            (*(void (__thiscall **)(_DWORD *, _DWORD))(*v19 + 80))(v19, *(_DWORD *)(a5 + 476));
          if ( v15 > 0 )
          {
            v11 = v14;
            v10 = v15;
            v9 = unknown_libname_4(v19);
            v7 = unknown_libname_4(a5);
            v8 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*a1 + 92))(a1, a1[1], v7, v9, v10, v11);
            sub_40ACD0(a2, a3, a4, a5, 70, "bbddww", v8);
            (*(void (__thiscall **)(_DWORD *, int, _DWORD *))(*a1 + 104))(a1, a5, v19);
          }
        }
        else
        {
          (*(void (__thiscall **)(_DWORD *, int, _DWORD *))(*a1 + 104))(a1, a5, v19);
          (*(void (__thiscall **)(_DWORD *, _DWORD))(*v19 + 80))(v19, *(_DWORD *)(a5 + 476));
        }
      }
      v20 = (CMemory *)CBaseList::Pop((int)v20, a2, a3, a4);
    }
    sub_411FF0(a5, a2, a3, a4);
  }
}

//----- (0047C940) --------------------------------------------------------
int __thiscall sub_47C940(void *this, int a2, int a3)
{
  return (*(int (__thiscall **)(void *, _DWORD, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)this + 84))(
           this,
           *(_DWORD *)(a2 + 476),
           a3,
           0,
           0,
           0);
}

//----- (0047C970) --------------------------------------------------------
int __stdcall sub_47C970(_DWORD *a1)
{
  return sub_473D50(a1);
}

//----- (0047C990) --------------------------------------------------------
int __thiscall sub_47C990(void *this, int a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax

  v3 = (*(int (__thiscall **)(void *, int))(*(_DWORD *)this + 100))(this, a2);
  v4 = sub_4024B0(92, 60, v3, (int)this);
  return (*(int (__thiscall **)(int, _DWORD *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (0047C9D0) --------------------------------------------------------
void *__thiscall sub_47C9D0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (0047CA00) --------------------------------------------------------
int __thiscall sub_47CA00(int *this)
{
  return sub_47CB00(this);
}

//----- (0047CA20) --------------------------------------------------------
_DWORD *sub_47CA20()
{
  _DWORD *result; // eax
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2220);
  v3 = dword_4B221C;
  if ( dword_4B221C )
  {
    dword_4B221C = *(_DWORD *)(dword_4B221C + 4);
    sub_401DA0(&dword_4B2220);
    result = (_DWORD *)v3;
  }
  else
  {
    sub_401DA0(&dword_4B2220);
    v2 = sub_401000(0x4Cu);
    if ( v2 )
      v1 = sub_4718D0(v2);
    else
      v1 = 0;
    result = v1;
  }
  return result;
}
// 4B221C: using guessed type int dword_4B221C;

//----- (0047CAA0) --------------------------------------------------------
LONG __cdecl sub_47CAA0(int a1)
{
  CIOSpinLock::Enter((CIOSpinLock *)&dword_4B2220);
  *(_DWORD *)(a1 + 4) = dword_4B221C;
  dword_4B221C = a1;
  return sub_401DA0(&dword_4B2220);
}
// 4B221C: using guessed type int dword_4B221C;

//----- (0047CAD0) --------------------------------------------------------
void *__thiscall sub_47CAD0(int *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_47CC90(this, a3);
  sub_42D570(a2, v3);
  return a2;
}

//----- (0047CB00) --------------------------------------------------------
int __thiscall sub_47CB00(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_47CBF0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0047CBB0) --------------------------------------------------------
int *__thiscall sub_47CBB0(int *this)
{
  sub_442F90(this);
  return this;
}

//----- (0047CBD0) --------------------------------------------------------
int *__thiscall sub_47CBD0(int *this)
{
  sub_442FB0(this);
  return this;
}

//----- (0047CBF0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_47CBF0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_47CDA0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (0047CC90) --------------------------------------------------------
int __thiscall sub_47CC90(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_41BA00(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_46DDD0(v5) )
  {
    v2 = (_DWORD *)sub_463EE0(v5);
    if ( sub_43E8E0(v2, a2) )
    {
      v5 = *(_DWORD *)sub_41BA20(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)unknown_libname_21(v5);
    }
  }
  return v6;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0047CD20) --------------------------------------------------------
CMemory **__stdcall sub_47CD20(std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *a1, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *a2, std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *a3, const std::pair<char const * const,CItem *> *a4, char a5)
{
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_443000(1);
  v6 = (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)operator new(0x18u, v7);
  if ( v6 )
    std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::_Node::_Node(
      v6,
      a1,
      a2,
      a3,
      a4,
      a5);
  return v7;
}

//----- (0047CDA0) --------------------------------------------------------
_DWORD *__thiscall sub_47CDA0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_47CE00(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (0047CE00) --------------------------------------------------------
int __stdcall sub_47CE00(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_47CE00(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (0047CE80) --------------------------------------------------------
_DWORD *__thiscall sub_47CE80(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49E268;
  return this;
}
// 49E268: using guessed type int (__stdcall *off_49E268)(int, int);

//----- (0047CEA0) --------------------------------------------------------
_DWORD *__thiscall sub_47CEA0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49E2B8;
  return this;
}
// 49E2B8: using guessed type int (__stdcall *off_49E2B8)(int, int);

//----- (0047CEC0) --------------------------------------------------------
_DWORD *__thiscall sub_47CEC0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49E308;
  return this;
}
// 49E308: using guessed type int (__stdcall *off_49E308)(int, int);

//----- (0047CEE0) --------------------------------------------------------
_DWORD *__thiscall sub_47CEE0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49E358;
  return this;
}
// 49E358: using guessed type int (__stdcall *off_49E358)(int, int);

//----- (0047CF00) --------------------------------------------------------
_DWORD *__thiscall sub_47CF00(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49E3A8;
  return this;
}
// 49E3A8: using guessed type int (__stdcall *off_49E3A8)(int, int);

//----- (0047CF20) --------------------------------------------------------
_DWORD *__thiscall sub_47CF20(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E3F8;
  return this;
}
// 49E3F8: using guessed type int (__stdcall *off_49E3F8)(int, int);

//----- (0047CF40) --------------------------------------------------------
_DWORD *__thiscall sub_47CF40(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49E458;
  return this;
}
// 49E458: using guessed type int (__stdcall *off_49E458)(int, int);

//----- (0047CF60) --------------------------------------------------------
int __thiscall sub_47CF60(_DWORD *this, int a2)
{
  return this[9] + 9 * this[2];
}

//----- (0047CF90) --------------------------------------------------------
_DWORD *__thiscall sub_47CF90(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E4B8;
  return this;
}
// 49E4B8: using guessed type int (__stdcall *off_49E4B8)(int, int);

//----- (0047CFB0) --------------------------------------------------------
int __thiscall sub_47CFB0(_DWORD *this, int a2, int a3)
{
  return a3 + 8 * this[2];
}

//----- (0047CFD0) --------------------------------------------------------
int __thiscall sub_47CFD0(_DWORD *this)
{
  return this[2] / 2;
}

//----- (0047CFF0) --------------------------------------------------------
_DWORD *__thiscall sub_47CFF0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E518;
  return this;
}
// 49E518: using guessed type int (__stdcall *off_49E518)(int, int);

//----- (0047D010) --------------------------------------------------------
int __thiscall sub_47D010(_DWORD *this)
{
  return 2 * this[2];
}

//----- (0047D030) --------------------------------------------------------
_DWORD *__thiscall sub_47D030(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49E578;
  return this;
}
// 49E578: using guessed type int (__stdcall *off_49E578)(int, int);

//----- (0047D050) --------------------------------------------------------
int __thiscall sub_47D050(_DWORD *this)
{
  return 150 * this[2] + 50;
}

//----- (0047D070) --------------------------------------------------------
_DWORD *__thiscall sub_47D070(_DWORD *this)
{
  sub_47D030(this);
  *this = &off_49E5C8;
  return this;
}
// 49E5C8: using guessed type int (__stdcall *off_49E5C8)(int, int);

//----- (0047D090) --------------------------------------------------------
int __thiscall sub_47D090(_DWORD *this)
{
  return 200 * this[2] + 800;
}

//----- (0047D0B0) --------------------------------------------------------
_DWORD *__thiscall sub_47D0B0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E618;
  return this;
}
// 49E618: using guessed type int (__stdcall *off_49E618)(int, int);

//----- (0047D0D0) --------------------------------------------------------
int __stdcall sub_47D0D0(int a1, int a2)
{
  return a2;
}

//----- (0047D0E0) --------------------------------------------------------
int __thiscall sub_47D0E0(_DWORD *this)
{
  return -6 * this[2];
}

//----- (0047D100) --------------------------------------------------------
int __thiscall sub_47D100(_DWORD *this, int a2)
{
  return 2 * this[2];
}

//----- (0047D120) --------------------------------------------------------
_DWORD *__thiscall sub_47D120(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E678;
  return this;
}
// 49E678: using guessed type int (__stdcall *off_49E678)(int, int);

//----- (0047D140) --------------------------------------------------------
int __thiscall sub_47D140(_DWORD *this, int a2, int a3)
{
  return a3 + 12 * this[2];
}

//----- (0047D160) --------------------------------------------------------
_DWORD *__thiscall sub_47D160(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E6D8;
  return this;
}
// 49E6D8: using guessed type int (__stdcall *off_49E6D8)(int, int);

//----- (0047D180) --------------------------------------------------------
int __thiscall sub_47D180(_DWORD *this, int a2, int a3)
{
  return a3 + 50 * this[2] + 150;
}

//----- (0047D1A0) --------------------------------------------------------
int sub_47D1A0()
{
  return 200;
}

//----- (0047D1B0) --------------------------------------------------------
_DWORD *__thiscall sub_47D1B0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E738;
  return this;
}
// 49E738: using guessed type int (__stdcall *off_49E738)(int, int);

//----- (0047D1D0) --------------------------------------------------------
int __thiscall sub_47D1D0(int *this, int a2, int a3)
{
  int v3; // esi

  v3 = a3 + 20 * this[2] + 60;
  return v3 + RandomBetween(0, this[2]);
}

//----- (0047D210) --------------------------------------------------------
int sub_47D210()
{
  return 50;
}

//----- (0047D220) --------------------------------------------------------
int __thiscall sub_47D220(_DWORD *this)
{
  return this[2] + this[2] / 2;
}

//----- (0047D240) --------------------------------------------------------
_DWORD *__thiscall sub_47D240(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E798;
  return this;
}
// 49E798: using guessed type int (__stdcall *off_49E798)(int, int);

//----- (0047D260) --------------------------------------------------------
int __thiscall sub_47D260(_DWORD *this, int a2, int a3)
{
  return a3 + 10 * this[2] + 50;
}

//----- (0047D280) --------------------------------------------------------
int __thiscall sub_47D280(_DWORD *this)
{
  return this[2] + 9;
}

//----- (0047D2A0) --------------------------------------------------------
_DWORD *__thiscall sub_47D2A0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E7F8;
  return this;
}
// 49E7F8: using guessed type int (__stdcall *off_49E7F8)(int, int);

//----- (0047D2C0) --------------------------------------------------------
int __thiscall sub_47D2C0(int *this, int a2, int a3)
{
  int v3; // esi

  v3 = a3 + 24 * this[2] + 80;
  return v3 + RandomBetween(0, this[2]);
}

//----- (0047D300) --------------------------------------------------------
int __thiscall sub_47D300(_DWORD *this, int a2)
{
  return this[9] + this[2];
}

//----- (0047D320) --------------------------------------------------------
_DWORD *__thiscall sub_47D320(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E858;
  return this;
}
// 49E858: using guessed type int (__stdcall *off_49E858)(int, int);

//----- (0047D340) --------------------------------------------------------
_DWORD *__thiscall sub_47D340(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E8B8;
  return this;
}
// 49E8B8: using guessed type int (__stdcall *off_49E8B8)(int, int);

//----- (0047D360) --------------------------------------------------------
int __thiscall sub_47D360(_DWORD *this, int a2)
{
  return this[9] + 3 * this[2];
}

//----- (0047D380) --------------------------------------------------------
_DWORD *__thiscall sub_47D380(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E918;
  return this;
}
// 49E918: using guessed type int (__stdcall *off_49E918)(int, int);

//----- (0047D3A0) --------------------------------------------------------
int sub_47D3A0()
{
  return 100;
}

//----- (0047D3B0) --------------------------------------------------------
_DWORD *__thiscall sub_47D3B0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E978;
  return this;
}
// 49E978: using guessed type int (__stdcall *off_49E978)(int, int);

//----- (0047D3D0) --------------------------------------------------------
int __thiscall sub_47D3D0(_DWORD *this, int a2)
{
  return this[11] - 100 * this[2];
}

//----- (0047D3F0) --------------------------------------------------------
_DWORD *__thiscall sub_47D3F0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49E9D8;
  return this;
}
// 49E9D8: using guessed type int (__stdcall *off_49E9D8)(int, int);

//----- (0047D410) --------------------------------------------------------
int sub_47D410()
{
  return 75;
}

//----- (0047D420) --------------------------------------------------------
int __thiscall CMock::CMock(_DWORD *this, int a2)
{
  return this[9] + 3 * this[2] / 2;
}

//----- (0047D450) --------------------------------------------------------
_DWORD *__thiscall sub_47D450(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49EA38;
  return this;
}
// 49EA38: using guessed type int (__stdcall *off_49EA38)(int, int);

//----- (0047D470) --------------------------------------------------------
int __thiscall sub_47D470(_DWORD *this, int a2)
{
  return this[9] + 5 * this[2];
}

//----- (0047D490) --------------------------------------------------------
int __thiscall sub_47D490(_DWORD *this)
{
  return this[2] + 5;
}

//----- (0047D4B0) --------------------------------------------------------
int __thiscall sub_47D4B0(_DWORD *this, int a2, int a3)
{
  this[10] = GetTickCount();
  return 1;
}

//----- (0047D4D0) --------------------------------------------------------
_DWORD *__thiscall sub_47D4D0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_49EA98;
  return this;
}
// 49EA98: using guessed type int (__stdcall *off_49EA98)(int, int);

//----- (0047D4F0) --------------------------------------------------------
_DWORD *__thiscall sub_47D4F0(_DWORD *this)
{
  sub_47D510(this);
  *this = &off_49EAF8;
  return this;
}
// 49EAF8: using guessed type int (__stdcall *off_49EAF8)(int, int);

//----- (0047D510) --------------------------------------------------------
_DWORD *__thiscall sub_47D510(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49EB50;
  return this;
}
// 49EB50: using guessed type int (__stdcall *off_49EB50)(int, int);

//----- (0047D530) --------------------------------------------------------
_DWORD *__thiscall sub_47D530(_DWORD *this)
{
  sub_47D510(this);
  *this = &off_49EBA8;
  return this;
}
// 49EBA8: using guessed type int (__stdcall *off_49EBA8)(int, int);

//----- (0047D550) --------------------------------------------------------
int __thiscall CTranscendental::GetAttack(_DWORD *this, int a2)
{
  return this[9] + this[2] / 4;
}

//----- (0047D580) --------------------------------------------------------
_DWORD *__thiscall sub_47D580(_DWORD *this)
{
  sub_47D530(this);
  *this = &off_49EC00;
  return this;
}
// 49EC00: using guessed type int (__stdcall *off_49EC00)(int, int);

//----- (0047D5A0) --------------------------------------------------------
_DWORD *__thiscall sub_47D5A0(_DWORD *this)
{
  sub_47D530(this);
  *this = &off_49EC58;
  return this;
}
// 49EC58: using guessed type int (__stdcall *off_49EC58)(int, int);

//----- (0047D5C0) --------------------------------------------------------
_DWORD *__thiscall sub_47D5C0(_DWORD *this)
{
  sub_47D510(this);
  *this = &off_49ECB0;
  return this;
}
// 49ECB0: using guessed type int (__stdcall *off_49ECB0)(int, int);

//----- (0047D5E0) --------------------------------------------------------
_DWORD *__thiscall sub_47D5E0(_DWORD *this)
{
  sub_47D5C0(this);
  *this = &off_49ED08;
  return this;
}
// 49ED08: using guessed type int (__stdcall *off_49ED08)(int, int);

//----- (0047D600) --------------------------------------------------------
_DWORD *__thiscall sub_47D600(_DWORD *this)
{
  sub_47D510(this);
  *this = &off_49ED60;
  return this;
}
// 49ED60: using guessed type int (__stdcall *off_49ED60)(int, int);

//----- (0047D630) --------------------------------------------------------
int __thiscall sub_47D630(_DWORD *this, int a2)
{
  return this[9] + this[2] / 2;
}

//----- (0047D650) --------------------------------------------------------
_DWORD *__thiscall sub_47D650(_DWORD *this)
{
  sub_47D600(this);
  *this = &off_49EDB8;
  return this;
}
// 49EDB8: using guessed type int (__stdcall *off_49EDB8)(int, int);

//----- (0047D670) --------------------------------------------------------
_DWORD *__thiscall sub_47D670(_DWORD *this)
{
  sub_47D600(this);
  *this = &off_49EE10;
  return this;
}
// 49EE10: using guessed type int (__stdcall *off_49EE10)(int, int);

//----- (0047D690) --------------------------------------------------------
int __thiscall sub_47D690(_DWORD *this, int a2)
{
  return this[2] + this[9];
}

//----- (0047D6B0) --------------------------------------------------------
_DWORD *__thiscall sub_47D6B0(_DWORD *this)
{
  sub_47D600(this);
  *this = &off_49EE68;
  return this;
}
// 49EE68: using guessed type int (__stdcall *off_49EE68)(int, int);

//----- (0047D6D0) --------------------------------------------------------
_DWORD *__thiscall sub_47D6D0(_DWORD *this)
{
  sub_47D600(this);
  *this = &off_49EEC0;
  return this;
}
// 49EEC0: using guessed type int (__stdcall *off_49EEC0)(int, int);

//----- (0047D6F0) --------------------------------------------------------
int __thiscall sub_47D6F0(_DWORD *this, int a2)
{
  return this[9] + 8 * this[2];
}

//----- (0047D710) --------------------------------------------------------
_DWORD *__thiscall sub_47D710(_DWORD *this)
{
  sub_47D730(this);
  *this = &off_49EF18;
  return this;
}
// 49EF18: using guessed type int (__stdcall *off_49EF18)(int, int);

//----- (0047D730) --------------------------------------------------------
_DWORD *__thiscall sub_47D730(_DWORD *this)
{
  sub_47D750(this);
  *this = &off_49EF88;
  return this;
}
// 49EF88: using guessed type int (__stdcall *off_49EF88)(int, int);

//----- (0047D750) --------------------------------------------------------
_DWORD *__thiscall sub_47D750(_DWORD *this)
{
  sub_47D510(this);
  *this = &off_49EFF8;
  return this;
}
// 49EFF8: using guessed type int (__stdcall *off_49EFF8)(int, int);

//----- (0047D770) --------------------------------------------------------
_DWORD *__thiscall sub_47D770(_DWORD *this)
{
  sub_47D750(this);
  *this = &off_49F068;
  return this;
}
// 49F068: using guessed type int (__stdcall *off_49F068)(int, int);

//----- (0047D790) --------------------------------------------------------
_DWORD *__thiscall sub_47D790(_DWORD *this)
{
  sub_47D750(this);
  *this = &off_49F0D8;
  return this;
}
// 49F0D8: using guessed type int (__stdcall *off_49F0D8)(int, int);

//----- (0047D7B0) --------------------------------------------------------
int __thiscall sub_47D7B0(_DWORD *this, int a2)
{
  return this[9] + 4 * this[2];
}

//----- (0047D7D0) --------------------------------------------------------
_DWORD *__thiscall sub_47D7D0(_DWORD *this)
{
  sub_47D750(this);
  *this = &off_49F148;
  return this;
}
// 49F148: using guessed type int (__stdcall *off_49F148)(int, int);

//----- (0047D7F0) --------------------------------------------------------
_DWORD *__thiscall sub_47D7F0(_DWORD *this)
{
  sub_47D750(this);
  *this = &off_49F1B8;
  return this;
}
// 49F1B8: using guessed type int (__stdcall *off_49F1B8)(int, int);

//----- (0047D810) --------------------------------------------------------
_DWORD *__thiscall sub_47D810(_DWORD *this)
{
  sub_47D750(this);
  *this = &off_49F228;
  return this;
}
// 49F228: using guessed type int (__stdcall *off_49F228)(int, int);

//----- (0047D830) --------------------------------------------------------
int __thiscall sub_47D830(_DWORD *this, int a2)
{
  return this[9];
}

//----- (0047D850) --------------------------------------------------------
int sub_47D850()
{
  return 8;
}

//----- (0047D860) --------------------------------------------------------
_DWORD *__thiscall sub_47D860(_DWORD *this)
{
  sub_47D880(this);
  *this = &off_49F298;
  return this;
}
// 49F298: using guessed type int (__stdcall *off_49F298)(int, int);

//----- (0047D880) --------------------------------------------------------
_DWORD *__thiscall sub_47D880(_DWORD *this)
{
  sub_47D750(this);
  *this = &off_49F308;
  return this;
}
// 49F308: using guessed type int (__stdcall *off_49F308)(int, int);

//----- (0047D8A0) --------------------------------------------------------
_DWORD *__thiscall sub_47D8A0(_DWORD *this)
{
  sub_47D8C0(this);
  *this = &off_49F378;
  return this;
}
// 49F378: using guessed type int (__stdcall *off_49F378)(int, int);

//----- (0047D8C0) --------------------------------------------------------
_DWORD *__thiscall sub_47D8C0(_DWORD *this)
{
  sub_47D510(this);
  *this = &off_49F3D8;
  return this;
}
// 49F3D8: using guessed type int (__stdcall *off_49F3D8)(int, int);

//----- (0047D8E0) --------------------------------------------------------
_DWORD *__thiscall sub_47D8E0(_DWORD *this)
{
  sub_47D8C0(this);
  *this = &off_49F438;
  return this;
}
// 49F438: using guessed type int (__stdcall *off_49F438)(int, int);

//----- (0047D900) --------------------------------------------------------
_DWORD *__thiscall sub_47D900(_DWORD *this)
{
  sub_47D8C0(this);
  *this = &off_49F498;
  return this;
}
// 49F498: using guessed type int (__stdcall *off_49F498)(int, int);

//----- (0047D920) --------------------------------------------------------
_DWORD *__thiscall sub_47D920(_DWORD *this)
{
  sub_47D8C0(this);
  *this = &off_49F4F8;
  return this;
}
// 49F4F8: using guessed type int (__stdcall *off_49F4F8)(int, int);

//----- (0047D940) --------------------------------------------------------
_DWORD *__thiscall sub_47D940(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F558;
  return this;
}
// 49F558: using guessed type int (__stdcall *off_49F558)(int, int);

//----- (0047D960) --------------------------------------------------------
int __thiscall sub_47D960(_DWORD *this, int a2)
{
  return this[9] + 6 * this[2];
}

//----- (0047D980) --------------------------------------------------------
_DWORD *__thiscall sub_47D980(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F5A8;
  return this;
}
// 49F5A8: using guessed type int (__stdcall *off_49F5A8)(int, int);

//----- (0047D9A0) --------------------------------------------------------
int __thiscall sub_47D9A0(_DWORD *this, int a2)
{
  return this[9] + 2 * this[2];
}

//----- (0047D9C0) --------------------------------------------------------
_DWORD *__thiscall sub_47D9C0(_DWORD *this)
{
  sub_47D980(this);
  *this = &off_49F600;
  return this;
}
// 49F600: using guessed type int (__stdcall *off_49F600)(int, int);

//----- (0047D9E0) --------------------------------------------------------
int __thiscall sub_47D9E0(_DWORD *this)
{
  return this[9] + 2 * this[2];
}

//----- (0047DA00) --------------------------------------------------------
_DWORD *__thiscall sub_47DA00(_DWORD *this)
{
  sub_47D980(this);
  *this = &off_49F658;
  return this;
}
// 49F658: using guessed type int (__stdcall *off_49F658)(int, int);

//----- (0047DA20) --------------------------------------------------------
int __thiscall sub_47DA20(_DWORD *this)
{
  return this[9] + 4 * this[2];
}

//----- (0047DA40) --------------------------------------------------------
_DWORD *__thiscall sub_47DA40(_DWORD *this)
{
  sub_47D980(this);
  *this = &off_49F6B0;
  return this;
}
// 49F6B0: using guessed type int (__stdcall *off_49F6B0)(int, int);

//----- (0047DA60) --------------------------------------------------------
_DWORD *__thiscall sub_47DA60(_DWORD *this)
{
  sub_47D980(this);
  *this = &off_49F708;
  return this;
}
// 49F708: using guessed type int (__stdcall *off_49F708)(int, int);

//----- (0047DA80) --------------------------------------------------------
int __thiscall sub_47DA80(_DWORD *this, int a2)
{
  return this[9] + 30 * this[2];
}

//----- (0047DAA0) --------------------------------------------------------
_DWORD *__thiscall sub_47DAA0(_DWORD *this)
{
  sub_47D980(this);
  *this = &off_49F760;
  return this;
}
// 49F760: using guessed type int (__stdcall *off_49F760)(int, int);

//----- (0047DAC0) --------------------------------------------------------
_DWORD *__thiscall sub_47DAC0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F7B8;
  return this;
}
// 49F7B8: using guessed type int (__stdcall *off_49F7B8)(int, int);

//----- (0047DAE0) --------------------------------------------------------
_DWORD *__thiscall sub_47DAE0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F808;
  return this;
}
// 49F808: using guessed type int (__stdcall *off_49F808)(int, int);

//----- (0047DB00) --------------------------------------------------------
_DWORD *__thiscall sub_47DB00(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F858;
  return this;
}
// 49F858: using guessed type int (__stdcall *off_49F858)(int, int);

//----- (0047DB20) --------------------------------------------------------
_DWORD *__thiscall sub_47DB20(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F8A8;
  return this;
}
// 49F8A8: using guessed type int (__stdcall *off_49F8A8)(int, int);

//----- (0047DB40) --------------------------------------------------------
_DWORD *__thiscall sub_47DB40(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F8F8;
  return this;
}
// 49F8F8: using guessed type int (__stdcall *off_49F8F8)(int, int);

//----- (0047DB60) --------------------------------------------------------
_DWORD *__thiscall sub_47DB60(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F948;
  return this;
}
// 49F948: using guessed type int (__stdcall *off_49F948)(int, int);

//----- (0047DB80) --------------------------------------------------------
_DWORD *__thiscall sub_47DB80(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F998;
  return this;
}
// 49F998: using guessed type int (__stdcall *off_49F998)(int, int);

//----- (0047DBA0) --------------------------------------------------------
_DWORD *__thiscall sub_47DBA0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49F9E8;
  return this;
}
// 49F9E8: using guessed type int (__stdcall *off_49F9E8)(int, int);

//----- (0047DBC0) --------------------------------------------------------
_DWORD *__thiscall sub_47DBC0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FA38;
  return this;
}
// 49FA38: using guessed type int (__stdcall *off_49FA38)(int, int);

//----- (0047DBE0) --------------------------------------------------------
_DWORD *__thiscall sub_47DBE0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FA88;
  return this;
}
// 49FA88: using guessed type int (__stdcall *off_49FA88)(int, int);

//----- (0047DC00) --------------------------------------------------------
_DWORD *__thiscall sub_47DC00(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49E1F8;
  return this;
}
// 49E1F8: using guessed type int (__stdcall *off_49E1F8)(int, int);

//----- (0047DC20) --------------------------------------------------------
_DWORD *__thiscall sub_47DC20(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FAD8;
  return this;
}
// 49FAD8: using guessed type int (__stdcall *off_49FAD8)(int, int);

//----- (0047DC40) --------------------------------------------------------
_DWORD *__thiscall sub_47DC40(_DWORD *this)
{
  sub_47DC20(this);
  *this = &off_49FB30;
  return this;
}
// 49FB30: using guessed type int (__stdcall *off_49FB30)(int, int);

//----- (0047DC60) --------------------------------------------------------
int __thiscall sub_47DC60(_DWORD *this, int a2)
{
  return this[9] - 30 * this[2];
}

//----- (0047DC80) --------------------------------------------------------
_DWORD *__thiscall sub_47DC80(_DWORD *this)
{
  sub_47DC20(this);
  *this = &off_49FB88;
  return this;
}
// 49FB88: using guessed type int (__stdcall *off_49FB88)(int, int);

//----- (0047DCA0) --------------------------------------------------------
int __thiscall sub_47DCA0(_DWORD *this, int a2)
{
  return this[9] + 80 * this[2];
}

//----- (0047DCC0) --------------------------------------------------------
_DWORD *__thiscall sub_47DCC0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FBE0;
  return this;
}
// 49FBE0: using guessed type int (__stdcall *off_49FBE0)(int, int);

//----- (0047DCE0) --------------------------------------------------------
_DWORD *__thiscall sub_47DCE0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FC30;
  return this;
}
// 49FC30: using guessed type int (__stdcall *off_49FC30)(int, int);

//----- (0047DD00) --------------------------------------------------------
_DWORD *__thiscall sub_47DD00(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FC80;
  return this;
}
// 49FC80: using guessed type int (__stdcall *off_49FC80)(int, int);

//----- (0047DD20) --------------------------------------------------------
_DWORD *__thiscall sub_47DD20(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FCD0;
  return this;
}
// 49FCD0: using guessed type int (__stdcall *off_49FCD0)(int, int);

//----- (0047DD40) --------------------------------------------------------
_DWORD *__thiscall sub_47DD40(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FD20;
  return this;
}
// 49FD20: using guessed type int (__stdcall *off_49FD20)(int, int);

//----- (0047DD60) --------------------------------------------------------
_DWORD *__thiscall sub_47DD60(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FD70;
  return this;
}
// 49FD70: using guessed type int (__stdcall *off_49FD70)(int, int);

//----- (0047DD80) --------------------------------------------------------
int sub_47DD80()
{
  return 4;
}

//----- (0047DD90) --------------------------------------------------------
_DWORD *__thiscall sub_47DD90(_DWORD *this)
{
  sub_47DD60(this);
  *this = &off_49FDD0;
  return this;
}
// 49FDD0: using guessed type int (__stdcall *off_49FDD0)(int, int);

//----- (0047DDB0) --------------------------------------------------------
int sub_47DDB0()
{
  return 10;
}

//----- (0047DDC0) --------------------------------------------------------
_DWORD *__thiscall sub_47DDC0(_DWORD *this)
{
  sub_47DD60(this);
  *this = &off_49FE30;
  return this;
}
// 49FE30: using guessed type int (__stdcall *off_49FE30)(int, int);

//----- (0047DDE0) --------------------------------------------------------
int __thiscall sub_47DDE0(_DWORD *this, int a2)
{
  return this[9] + 40 * this[2];
}

//----- (0047DE00) --------------------------------------------------------
int sub_47DE00()
{
  return 11;
}

//----- (0047DE10) --------------------------------------------------------
_DWORD *__thiscall sub_47DE10(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FE90;
  return this;
}
// 49FE90: using guessed type int (__stdcall *off_49FE90)(int, int);

//----- (0047DE30) --------------------------------------------------------
_DWORD *__thiscall sub_47DE30(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FEE0;
  return this;
}
// 49FEE0: using guessed type int (__stdcall *off_49FEE0)(int, int);

//----- (0047DE50) --------------------------------------------------------
_DWORD *__thiscall sub_47DE50(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FF30;
  return this;
}
// 49FF30: using guessed type int (__stdcall *off_49FF30)(int, int);

//----- (0047DE70) --------------------------------------------------------
_DWORD *__thiscall sub_47DE70(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FF80;
  return this;
}
// 49FF80: using guessed type int (__stdcall *off_49FF80)(int, int);

//----- (0047DE90) --------------------------------------------------------
int __thiscall sub_47DE90(_DWORD *this, int a2)
{
  return this[9] + 25 * this[2];
}

//----- (0047DEB0) --------------------------------------------------------
_DWORD *__thiscall sub_47DEB0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_49FFD0;
  return this;
}
// 49FFD0: using guessed type int (__stdcall *off_49FFD0)(int, int);

//----- (0047DED0) --------------------------------------------------------
_DWORD *__thiscall sub_47DED0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0020;
  return this;
}
// 4A0020: using guessed type int (__stdcall *off_4A0020)(int, int);

//----- (0047DEF0) --------------------------------------------------------
_DWORD *__thiscall sub_47DEF0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0070;
  return this;
}
// 4A0070: using guessed type int (__stdcall *off_4A0070)(int, int);

//----- (0047DF10) --------------------------------------------------------
_DWORD *__thiscall sub_47DF10(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A00C0;
  return this;
}
// 4A00C0: using guessed type int (__stdcall *off_4A00C0)(int, int);

//----- (0047DF30) --------------------------------------------------------
BOOL __thiscall sub_47DF30(_DWORD *this, int a2, unsigned int a3)
{
  return a2 >= this[3] && a3 > 3;
}

//----- (0047DF70) --------------------------------------------------------
_DWORD *__thiscall sub_47DF70(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0110;
  return this;
}
// 4A0110: using guessed type int (__stdcall *off_4A0110)(int, int);

//----- (0047DF90) --------------------------------------------------------
_DWORD *__thiscall sub_47DF90(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0160;
  return this;
}
// 4A0160: using guessed type int (__stdcall *off_4A0160)(int, int);

//----- (0047DFB0) --------------------------------------------------------
_DWORD *__thiscall sub_47DFB0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A01B0;
  return this;
}
// 4A01B0: using guessed type int (__stdcall *off_4A01B0)(int, int);

//----- (0047DFD0) --------------------------------------------------------
_DWORD *__thiscall sub_47DFD0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0200;
  return this;
}
// 4A0200: using guessed type int (__stdcall *off_4A0200)(int, int);

//----- (0047DFF0) --------------------------------------------------------
int __thiscall sub_47DFF0(_DWORD *this, int a2)
{
  return this[9] + 20 * this[2];
}

//----- (0047E010) --------------------------------------------------------
_DWORD *__thiscall sub_47E010(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0250;
  return this;
}
// 4A0250: using guessed type int (__stdcall *off_4A0250)(int, int);

//----- (0047E030) --------------------------------------------------------
int __thiscall sub_47E030(_DWORD *this, int a2)
{
  return this[9] + 12 * this[2];
}

//----- (0047E050) --------------------------------------------------------
_DWORD *__thiscall sub_47E050(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A02A0;
  return this;
}
// 4A02A0: using guessed type int (__stdcall *off_4A02A0)(int, int);

//----- (0047E070) --------------------------------------------------------
int __thiscall sub_47E070(_DWORD *this, int a2)
{
  return this[9] + 31 * this[2];
}

//----- (0047E090) --------------------------------------------------------
_DWORD *__thiscall sub_47E090(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A02F0;
  return this;
}
// 4A02F0: using guessed type int (__stdcall *off_4A02F0)(int, int);

//----- (0047E0B0) --------------------------------------------------------
_DWORD *__thiscall sub_47E0B0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0340;
  return this;
}
// 4A0340: using guessed type int (__stdcall *off_4A0340)(int, int);

//----- (0047E0D0) --------------------------------------------------------
_DWORD *__thiscall sub_47E0D0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0390;
  return this;
}
// 4A0390: using guessed type int (__stdcall *off_4A0390)(int, int);

//----- (0047E0F0) --------------------------------------------------------
_DWORD *__thiscall sub_47E0F0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A03E0;
  return this;
}
// 4A03E0: using guessed type int (__stdcall *off_4A03E0)(int, int);

//----- (0047E110) --------------------------------------------------------
_DWORD *__thiscall sub_47E110(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0430;
  return this;
}
// 4A0430: using guessed type int (__stdcall *off_4A0430)(int, int);

//----- (0047E130) --------------------------------------------------------
_DWORD *__thiscall sub_47E130(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0480;
  return this;
}
// 4A0480: using guessed type int (__stdcall *off_4A0480)(int, int);

//----- (0047E150) --------------------------------------------------------
_DWORD *__thiscall sub_47E150(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A04D0;
  return this;
}
// 4A04D0: using guessed type int (__stdcall *off_4A04D0)(int, int);

//----- (0047E170) --------------------------------------------------------
_DWORD *__thiscall sub_47E170(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0520;
  return this;
}
// 4A0520: using guessed type int (__stdcall *off_4A0520)(int, int);

//----- (0047E190) --------------------------------------------------------
_DWORD *__thiscall sub_47E190(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0570;
  return this;
}
// 4A0570: using guessed type int (__stdcall *off_4A0570)(int, int);

//----- (0047E1B0) --------------------------------------------------------
_DWORD *__thiscall sub_47E1B0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A05C0;
  return this;
}
// 4A05C0: using guessed type int (__stdcall *off_4A05C0)(int, int);

//----- (0047E1D0) --------------------------------------------------------
_DWORD *__thiscall sub_47E1D0(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0610;
  return this;
}
// 4A0610: using guessed type int (__stdcall *off_4A0610)(int, int);

//----- (0047E1F0) --------------------------------------------------------
_DWORD *__thiscall sub_47E1F0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0670;
  return this;
}
// 4A0670: using guessed type int (__stdcall *off_4A0670)(int, int);

//----- (0047E210) --------------------------------------------------------
int __thiscall sub_47E210(_DWORD *this, int a2)
{
  return this[9] + 32 * this[2];
}

//----- (0047E230) --------------------------------------------------------
_DWORD *__thiscall sub_47E230(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A06D0;
  return this;
}
// 4A06D0: using guessed type int (__stdcall *off_4A06D0)(int, int);

//----- (0047E250) --------------------------------------------------------
int __thiscall sub_47E250(_DWORD *this, int a2)
{
  return this[9] + 27 * this[2];
}

//----- (0047E270) --------------------------------------------------------
_DWORD *__thiscall sub_47E270(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0730;
  return this;
}
// 4A0730: using guessed type int (__stdcall *off_4A0730)(int, int);

//----- (0047E290) --------------------------------------------------------
int __thiscall sub_47E290(_DWORD *this, int a2)
{
  return this[9] + 26 * this[2];
}

//----- (0047E2B0) --------------------------------------------------------
_DWORD *__thiscall sub_47E2B0(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0790;
  return this;
}
// 4A0790: using guessed type int (__stdcall *off_4A0790)(int, int);

//----- (0047E2D0) --------------------------------------------------------
int __thiscall sub_47E2D0(_DWORD *this, int a2)
{
  return this[9] + 36 * this[2];
}

//----- (0047E2F0) --------------------------------------------------------
_DWORD *__thiscall sub_47E2F0(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A07F0;
  return this;
}
// 4A07F0: using guessed type int (__stdcall *off_4A07F0)(int, int);

//----- (0047E310) --------------------------------------------------------
int __thiscall sub_47E310(_DWORD *this, int a2)
{
  return this[9] + 38 * this[2];
}

//----- (0047E330) --------------------------------------------------------
_DWORD *__thiscall sub_47E330(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0850;
  return this;
}
// 4A0850: using guessed type int (__stdcall *off_4A0850)(int, int);

//----- (0047E350) --------------------------------------------------------
_DWORD *__thiscall sub_47E350(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A08B0;
  return this;
}
// 4A08B0: using guessed type int (__stdcall *off_4A08B0)(int, int);

//----- (0047E370) --------------------------------------------------------
int __thiscall sub_47E370(_DWORD *this, int a2)
{
  return this[9] + 16 * this[2];
}

//----- (0047E390) --------------------------------------------------------
_DWORD *__thiscall sub_47E390(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0910;
  return this;
}
// 4A0910: using guessed type int (__stdcall *off_4A0910)(int, int);

//----- (0047E3B0) --------------------------------------------------------
_DWORD *__thiscall sub_47E3B0(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0970;
  return this;
}
// 4A0970: using guessed type int (__stdcall *off_4A0970)(int, int);

//----- (0047E3D0) --------------------------------------------------------
_DWORD *__thiscall sub_47E3D0(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A09D0;
  return this;
}
// 4A09D0: using guessed type int (__stdcall *off_4A09D0)(int, int);

//----- (0047E3F0) --------------------------------------------------------
_DWORD *__thiscall sub_47E3F0(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0A30;
  return this;
}
// 4A0A30: using guessed type int (__stdcall *off_4A0A30)(int, int);

//----- (0047E410) --------------------------------------------------------
_DWORD *__thiscall sub_47E410(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0A90;
  return this;
}
// 4A0A90: using guessed type int (__stdcall *off_4A0A90)(int, int);

//----- (0047E430) --------------------------------------------------------
_DWORD *__thiscall sub_47E430(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0AF0;
  return this;
}
// 4A0AF0: using guessed type int (__stdcall *off_4A0AF0)(int, int);

//----- (0047E450) --------------------------------------------------------
_DWORD *__thiscall sub_47E450(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0B50;
  return this;
}
// 4A0B50: using guessed type int (__stdcall *off_4A0B50)(int, int);

//----- (0047E470) --------------------------------------------------------
_DWORD *__thiscall sub_47E470(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0BB0;
  return this;
}
// 4A0BB0: using guessed type int (__stdcall *off_4A0BB0)(int, int);

//----- (0047E490) --------------------------------------------------------
_DWORD *__thiscall sub_47E490(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0C10;
  return this;
}
// 4A0C10: using guessed type int (__stdcall *off_4A0C10)(int, int);

//----- (0047E4B0) --------------------------------------------------------
_DWORD *__thiscall sub_47E4B0(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A0C70;
  return this;
}
// 4A0C70: using guessed type int (__stdcall *off_4A0C70)(int, int);

//----- (0047E4D0) --------------------------------------------------------
_DWORD *__thiscall sub_47E4D0(_DWORD *this)
{
  sub_47E4F0(this);
  *this = &off_4A0CD0;
  return this;
}
// 4A0CD0: using guessed type int (__stdcall *off_4A0CD0)(int, int);

//----- (0047E4F0) --------------------------------------------------------
_DWORD *__thiscall sub_47E4F0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0D28;
  return this;
}
// 4A0D28: using guessed type int (__stdcall *off_4A0D28)(int, int);

//----- (0047E510) --------------------------------------------------------
int __thiscall sub_47E510(_DWORD *this, int a2)
{
  return this[9] + 15 * this[2];
}

//----- (0047E530) --------------------------------------------------------
_DWORD *__thiscall sub_47E530(_DWORD *this)
{
  sub_47E4F0(this);
  *this = &off_4A0D80;
  return this;
}
// 4A0D80: using guessed type int (__stdcall *off_4A0D80)(int, int);

//----- (0047E550) --------------------------------------------------------
int __thiscall sub_47E550(_DWORD *this, int a2)
{
  return this[9] + 11 * this[2];
}

//----- (0047E570) --------------------------------------------------------
_DWORD *__thiscall sub_47E570(_DWORD *this)
{
  sub_47E4F0(this);
  *this = &off_4A0DD8;
  return this;
}
// 4A0DD8: using guessed type int (__stdcall *off_4A0DD8)(int, int);

//----- (0047E590) --------------------------------------------------------
_DWORD *__thiscall sub_47E590(_DWORD *this)
{
  sub_47E4F0(this);
  *this = &off_4A0E30;
  return this;
}
// 4A0E30: using guessed type int (__stdcall *off_4A0E30)(int, int);

//----- (0047E5B0) --------------------------------------------------------
_DWORD *__thiscall sub_47E5B0(_DWORD *this)
{
  sub_47E4F0(this);
  *this = &off_4A0E88;
  return this;
}
// 4A0E88: using guessed type int (__stdcall *off_4A0E88)(int, int);

//----- (0047E5D0) --------------------------------------------------------
int __thiscall sub_47E5D0(_DWORD *this, int a2)
{
  return this[9] + 14 * this[2];
}

//----- (0047E5F0) --------------------------------------------------------
_DWORD *__thiscall sub_47E5F0(_DWORD *this)
{
  sub_47E4F0(this);
  *this = &off_4A0EE0;
  return this;
}
// 4A0EE0: using guessed type int (__stdcall *off_4A0EE0)(int, int);

//----- (0047E610) --------------------------------------------------------
_DWORD *__thiscall sub_47E610(_DWORD *this)
{
  sub_47E4F0(this);
  *this = &off_4A0F38;
  return this;
}
// 4A0F38: using guessed type int (__stdcall *off_4A0F38)(int, int);

//----- (0047E630) --------------------------------------------------------
_DWORD *__thiscall sub_47E630(_DWORD *this)
{
  sub_47E650(this);
  *this = &off_4A0F90;
  return this;
}
// 4A0F90: using guessed type int (__stdcall *off_4A0F90)(int, int);

//----- (0047E650) --------------------------------------------------------
_DWORD *__thiscall sub_47E650(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A0FE8;
  return this;
}
// 4A0FE8: using guessed type int (__stdcall *off_4A0FE8)(int, int);

//----- (0047E670) --------------------------------------------------------
_DWORD *__thiscall sub_47E670(_DWORD *this)
{
  sub_47E650(this);
  *this = &off_4A1040;
  return this;
}
// 4A1040: using guessed type int (__stdcall *off_4A1040)(int, int);

//----- (0047E690) --------------------------------------------------------
_DWORD *__thiscall sub_47E690(_DWORD *this)
{
  sub_47E650(this);
  *this = &off_4A1098;
  return this;
}
// 4A1098: using guessed type int (__stdcall *off_4A1098)(int, int);

//----- (0047E6B0) --------------------------------------------------------
_DWORD *__thiscall sub_47E6B0(_DWORD *this)
{
  sub_47E650(this);
  *this = &off_4A10F0;
  return this;
}
// 4A10F0: using guessed type int (__stdcall *off_4A10F0)(int, int);

//----- (0047E6D0) --------------------------------------------------------
_DWORD *__thiscall sub_47E6D0(_DWORD *this)
{
  sub_47E650(this);
  *this = &off_4A1148;
  return this;
}
// 4A1148: using guessed type int (__stdcall *off_4A1148)(int, int);

//----- (0047E6F0) --------------------------------------------------------
_DWORD *__thiscall sub_47E6F0(_DWORD *this)
{
  sub_47E650(this);
  *this = &off_4A11A0;
  return this;
}
// 4A11A0: using guessed type int (__stdcall *off_4A11A0)(int, int);

//----- (0047E710) --------------------------------------------------------
_DWORD *__thiscall sub_47E710(_DWORD *this)
{
  sub_47E650(this);
  *this = &off_4A11F8;
  return this;
}
// 4A11F8: using guessed type int (__stdcall *off_4A11F8)(int, int);

//----- (0047E730) --------------------------------------------------------
_DWORD *__thiscall sub_47E730(_DWORD *this)
{
  sub_47D510(this);
  *this = &off_4A1250;
  return this;
}
// 4A1250: using guessed type int (__stdcall *off_4A1250)(int, int);

//----- (0047E750) --------------------------------------------------------
_DWORD *__thiscall sub_47E750(_DWORD *this)
{
  sub_47D880(this);
  *this = &off_4A12A8;
  return this;
}
// 4A12A8: using guessed type int (__stdcall *off_4A12A8)(int, int);

//----- (0047E770) --------------------------------------------------------
_DWORD *__thiscall sub_47E770(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A1318;
  return this;
}
// 4A1318: using guessed type int (__stdcall *off_4A1318)(int, int);

//----- (0047E790) --------------------------------------------------------
_DWORD *__thiscall sub_47E790(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_4A1368;
  return this;
}
// 4A1368: using guessed type int (__stdcall *off_4A1368)(int, int);

//----- (0047E7B0) --------------------------------------------------------
_DWORD *__thiscall sub_47E7B0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_4A13C8;
  return this;
}
// 4A13C8: using guessed type int (__stdcall *off_4A13C8)(int, int);

//----- (0047E7D0) --------------------------------------------------------
_DWORD *__thiscall sub_47E7D0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A1428;
  return this;
}
// 4A1428: using guessed type int (__stdcall *off_4A1428)(int, int);

//----- (0047E7F0) --------------------------------------------------------
_DWORD *__thiscall sub_47E7F0(_DWORD *this)
{
  sub_47CF40(this);
  *this = &off_4A1478;
  return this;
}
// 4A1478: using guessed type int (__stdcall *off_4A1478)(int, int);

//----- (0047E810) --------------------------------------------------------
_DWORD *__thiscall sub_47E810(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A14D8;
  return this;
}
// 4A14D8: using guessed type int (__stdcall *off_4A14D8)(int, int);

//----- (0047E830) --------------------------------------------------------
_DWORD *__thiscall sub_47E830(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A1528;
  return this;
}
// 4A1528: using guessed type int (__stdcall *off_4A1528)(int, int);

//----- (0047E850) --------------------------------------------------------
_DWORD *__thiscall sub_47E850(_DWORD *this)
{
  sub_47D880(this);
  *this = &off_4A1578;
  return this;
}
// 4A1578: using guessed type int (__stdcall *off_4A1578)(int, int);

//----- (0047E870) --------------------------------------------------------
int sub_47E870()
{
  return 7;
}

//----- (0047E880) --------------------------------------------------------
int sub_47E880()
{
  return 14;
}

//----- (0047E890) --------------------------------------------------------
_DWORD *__thiscall sub_47E890(_DWORD *this)
{
  sub_47D880(this);
  *this = &off_4A15E8;
  return this;
}
// 4A15E8: using guessed type int (__stdcall *off_4A15E8)(int, int);

//----- (0047E8B0) --------------------------------------------------------
int sub_47E8B0()
{
  return 9;
}

//----- (0047E8C0) --------------------------------------------------------
int sub_47E8C0()
{
  return 15;
}

//----- (0047E8D0) --------------------------------------------------------
_DWORD *__thiscall sub_47E8D0(_DWORD *this)
{
  sub_47D880(this);
  *this = &off_4A1658;
  return this;
}
// 4A1658: using guessed type int (__stdcall *off_4A1658)(int, int);

//----- (0047E8F0) --------------------------------------------------------
int sub_47E8F0()
{
  return 13;
}

//----- (0047E900) --------------------------------------------------------
_DWORD *__thiscall sub_47E900(_DWORD *this)
{
  sub_47D880(this);
  *this = &off_4A16C8;
  return this;
}
// 4A16C8: using guessed type int (__stdcall *off_4A16C8)(int, int);

//----- (0047E920) --------------------------------------------------------
int __thiscall sub_47E920(_DWORD *this)
{
  return this[14] != 0 ? 40 : 10;
}

//----- (0047E940) --------------------------------------------------------
int __thiscall sub_47E940(_DWORD *this)
{
  return this[14] != 0 ? 4 : 0;
}

//----- (0047E960) --------------------------------------------------------
int __thiscall sub_47E960(_DWORD *this)
{
  return (this[14] != 0) + 17;
}

//----- (0047E980) --------------------------------------------------------
_DWORD *__thiscall sub_47E980(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A1738;
  return this;
}
// 4A1738: using guessed type int (__stdcall *off_4A1738)(int, int);

//----- (0047E9A0) --------------------------------------------------------
_DWORD *__thiscall sub_47E9A0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A1788;
  return this;
}
// 4A1788: using guessed type int (__stdcall *off_4A1788)(int, int);

//----- (0047E9C0) --------------------------------------------------------
_DWORD *__thiscall sub_47E9C0(_DWORD *this)
{
  sub_4718D0(this);
  *this = &off_4A17D8;
  return this;
}
// 4A17D8: using guessed type int (__stdcall *off_4A17D8)(int, int);

//----- (0047E9E0) --------------------------------------------------------
_DWORD *__thiscall sub_47E9E0(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A1828;
  return this;
}
// 4A1828: using guessed type int (__stdcall *off_4A1828)(int, int);

//----- (0047EA00) --------------------------------------------------------
_DWORD *__thiscall sub_47EA00(_DWORD *this)
{
  sub_47E1F0(this);
  *this = &off_4A1888;
  return this;
}
// 4A1888: using guessed type int (__stdcall *off_4A1888)(int, int);

//----- (0047EA20) --------------------------------------------------------
_DWORD *__thiscall sub_47EA20(_DWORD *this)
{
  sub_47EA40(this);
  *this = &off_4A18E8;
  return this;
}
// 4A18E8: using guessed type int (__stdcall *off_4A18E8)(int, int);

//----- (0047EA40) --------------------------------------------------------
_DWORD *__thiscall sub_47EA40(_DWORD *this)
{
  sub_47D880(this);
  *this = &off_4A1958;
  return this;
}
// 4A1958: using guessed type int (__stdcall *off_4A1958)(int, int);

//----- (0047EA60) --------------------------------------------------------
BOOL __thiscall sub_47EA60(_DWORD *this, int a2, int a3)
{
  unsigned int v3; // edx

  v3 = this[16] % 2u;
  ++this[16];
  return v3 == 0;
}

//----- (0047EAB0) --------------------------------------------------------
int sub_47EAB0()
{
  return 19;
}

//----- (0047EAC0) --------------------------------------------------------
_DWORD *__thiscall sub_47EAC0(_DWORD *this)
{
  sub_47EA40(this);
  *this = &off_4A19C8;
  return this;
}
// 4A19C8: using guessed type int (__stdcall *off_4A19C8)(int, int);

//----- (0047EAE0) --------------------------------------------------------
int sub_47EAE0()
{
  return 20;
}

//----- (0047EAF0) --------------------------------------------------------
_DWORD *__thiscall sub_47EAF0(_DWORD *this)
{
  sub_47EA40(this);
  *this = &off_4A1A38;
  return this;
}
// 4A1A38: using guessed type int (__stdcall *off_4A1A38)(int, int);

//----- (0047EB10) --------------------------------------------------------
int sub_47EB10()
{
  return 21;
}

//----- (0047EB20) --------------------------------------------------------
_DWORD *__thiscall sub_47EB20(_DWORD *this)
{
  sub_47EA40(this);
  *this = &off_4A1AA8;
  return this;
}
// 4A1AA8: using guessed type int (__stdcall *off_4A1AA8)(int, int);

//----- (0047EB70) --------------------------------------------------------
_DWORD *__thiscall sub_47EB70(_DWORD *this, int a2, int a3)
{
  *this = a2;
  this[1] = a3;
  this[2] = 0;
  this[3] = 0;
  return this;
}

//----- (0047EBB0) --------------------------------------------------------
void *__usercall sub_47EBB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  void *result; // eax

  result = (void *)a1;
  if ( *(_DWORD *)(a1 + 8) )
  {
    result = *(void **)(a1 + 8);
    if ( result )
      result = sub_47EC30(*(int **)(a1 + 8), 3);
  }
  if ( *(_DWORD *)(a1 + 12) )
  {
    result = *(void **)(a1 + 12);
    if ( result )
      result = CCompleteFire::CCompleteFire(*(CCompleteFire **)(a1 + 12), a2, a3, a4, 3u);
  }
  return result;
}

//----- (0047EC30) --------------------------------------------------------
int *__thiscall sub_47EC30(int *this, char a2)
{
  int *result; // eax

  if ( (a2 & 2) != 0 )
  {
    sub_434810((int)this, 8, *(this - 1), (int (__thiscall *)(int))sub_4847F0);
    if ( (a2 & 1) != 0 )
      sub_4883C4(this - 1);
    result = this - 1;
  }
  else
  {
    sub_4847F0(this);
    if ( (a2 & 1) != 0 )
      sub_401020(this);
    result = this;
  }
  return result;
}
// 4883C4: using guessed type _DWORD __cdecl sub_4883C4(_DWORD);

//----- (0047ECA0) --------------------------------------------------------
CCompleteFire *__userpurge CCompleteFire::CCompleteFire@<eax>(CCompleteFire *this@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, unsigned int a5)
{
  CCompleteFire *result; // eax

  if ( (a5 & 2) != 0 )
  {
    sub_434810((int)this, 24, *((_DWORD *)this - 1), (int (__thiscall *)(int))CRWLock::~CRWLock);
    if ( (a5 & 1) != 0 )
      sub_4883C4((char *)this - 4);
    result = (CCompleteFire *)((char *)this - 4);
  }
  else
  {
    CRWLock::~CRWLock(this, a2, a3, a4);
    if ( (a5 & 1) != 0 )
      sub_401020(this);
    result = this;
  }
  return result;
}
// 4883C4: using guessed type _DWORD __cdecl sub_4883C4(_DWORD);

//----- (0047ED10) --------------------------------------------------------
int __thiscall CCellMap::AllocTile(_DWORD *this)
{
  int result; // eax
  _DWORD *v2; // [esp+0h] [ebp-14h]
  _DWORD *v3; // [esp+4h] [ebp-10h]
  _DWORD *v5; // [esp+Ch] [ebp-8h]
  _DWORD *v6; // [esp+10h] [ebp-4h]

  if ( this[2] || this[3] )
  {
    LOG_ERR("CCellMap::AllocTile() Can't allocate Tile. CellMap(%d,%d)", *this, this[1]);
    result = 0;
  }
  else
  {
    v6 = (_DWORD *)sub_4860DD(0x80004u);
    if ( v6 )
    {
      *v6 = 0x10000;
      `vector constructor iterator'(v6 + 1, 8u, 0x10000, unknown_libname_31);
      v3 = v6 + 1;
    }
    else
    {
      v3 = 0;
    }
    this[2] = v3;
    v5 = (_DWORD *)sub_4860DD(0x1804u);
    if ( v5 )
    {
      *v5 = 256;
      `vector constructor iterator'(v5 + 1, 0x18u, 256, (void *(__thiscall *)(void *))CRWLock::CRWLock);
      v2 = v5 + 1;
    }
    else
    {
      v2 = 0;
    }
    this[3] = v2;
    result = 1;
  }
  return result;
}

//----- (0047EE00) --------------------------------------------------------
int __thiscall CMFireFlowerExplosion::CMFireFlowerExplosion(_DWORD *this, FILE *Stream)
{
  int j; // [esp+4h] [ebp-10h]
  int i; // [esp+8h] [ebp-Ch]
  int v6; // [esp+Ch] [ebp-8h]
  int Buffer; // [esp+10h] [ebp-4h] BYREF

  if ( !sub_4884B2(&Buffer, 4u, 1u, Stream) )
    return 0;
  if ( Buffer == 1 )
  {
    v6 = this[2];
    for ( i = 0; i < 256; ++i )
    {
      for ( j = 0; j < 256; ++j )
      {
        if ( !sub_4884B2((void *)(v6 + 4), 4u, 1u, Stream) )
        {
          LOG_ERR("CCellMap::ReadTileAttr() Invalid Tile Attr. (Tile:%d,%d)", j, i);
          return 0;
        }
        v6 += 8;
      }
    }
  }
  return 1;
}

//----- (0047EEC0) --------------------------------------------------------
int __thiscall sub_47EEC0(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int j; // [esp+4h] [ebp-20h]
  int i; // [esp+8h] [ebp-1Ch]
  CRWLock *v6; // [esp+Ch] [ebp-18h]
  int v7[2]; // [esp+10h] [ebp-14h] BYREF
  int v8; // [esp+18h] [ebp-Ch]
  int v9; // [esp+1Ch] [ebp-8h]
  int v10; // [esp+20h] [ebp-4h]

  if ( this )
  {
    CCellMap::_CCellMap(this, a2, v7);
    v6 = (CRWLock *)(this[3] + 24 * (v7[0] + 16 * v9));
    v10 = 16 - (v8 - v7[0]);
    result = v9;
    for ( i = v9; i < v7[1]; ++i )
    {
      result = v7[0];
      for ( j = v7[0]; j < v8; ++j )
      {
        CRWLock::ReadLock(v6);
        result = (int)v6 + 24;
        v6 = (CRWLock *)((char *)v6 + 24);
      }
      v6 = (CRWLock *)((char *)v6 + 24 * v10);
    }
  }
  return result;
}

//----- (0047EF70) --------------------------------------------------------
int __thiscall CCellMap::_CCellMap(_DWORD *this, _DWORD *a2, int *a3)
{
  int result; // eax
  int v4; // [esp+0h] [ebp-30h]
  int v5; // [esp+4h] [ebp-2Ch]
  int v6; // [esp+8h] [ebp-28h]
  int v7; // [esp+Ch] [ebp-24h]
  int v8; // [esp+14h] [ebp-1Ch]
  int v9; // [esp+18h] [ebp-18h]
  int v10; // [esp+1Ch] [ebp-14h]
  int v11; // [esp+28h] [ebp-8h]
  int v12; // [esp+2Ch] [ebp-4h]

  v11 = a2[3];
  v10 = a2[2];
  v8 = a2[1];
  v12 = *this << 8;
  v9 = this[1] << 8;
  if ( *a2 <= v12 )
    v7 = 0;
  else
    v7 = (int)(unsigned __int8)*a2 >> 4;
  *a3 = v7;
  if ( v11 <= v9 )
    v6 = 0;
  else
    v6 = (int)(unsigned __int8)v11 >> 4;
  a3[3] = v6;
  if ( v10 >= v12 + 256 )
    v5 = 16;
  else
    v5 = (((unsigned __int8)v10 - 1) >> 4) + 1;
  a3[2] = v5;
  if ( v8 >= v9 + 256 )
    v4 = 16;
  else
    v4 = (((unsigned __int8)v8 - 1) >> 4) + 1;
  result = v4;
  a3[1] = v4;
  return result;
}

//----- (0047F070) --------------------------------------------------------
int __userpurge sub_47F070@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int result; // eax
  int j; // [esp+4h] [ebp-20h]
  int i; // [esp+8h] [ebp-1Ch]
  CRWLock *v9; // [esp+Ch] [ebp-18h]
  int v10[2]; // [esp+10h] [ebp-14h] BYREF
  int v11; // [esp+18h] [ebp-Ch]
  int v12; // [esp+1Ch] [ebp-8h]
  int v13; // [esp+20h] [ebp-4h]

  if ( a1 )
  {
    CCellMap::_CCellMap(a1, a5, v10);
    v9 = (CRWLock *)(a1[3] + 24 * (v10[0] + 16 * v12));
    v13 = 16 - (v11 - v10[0]);
    result = v12;
    for ( i = v12; i < v10[1]; ++i )
    {
      result = v10[0];
      for ( j = v10[0]; j < v11; ++j )
      {
        CRWLock::ReadUnlock(v9, a2, a3, a4);
        result = (int)v9 + 24;
        v9 = (CRWLock *)((char *)v9 + 24);
      }
      v9 = (CRWLock *)((char *)v9 + 24 * v13);
    }
  }
  return result;
}

//----- (0047F120) --------------------------------------------------------
CRWLock *__thiscall CCellMap::ReadUnlock(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  CRWLock *result; // eax
  int l; // [esp+4h] [ebp-38h]
  int k; // [esp+8h] [ebp-34h]
  int j; // [esp+Ch] [ebp-30h]
  int i; // [esp+10h] [ebp-2Ch]
  CRWLock *v9; // [esp+14h] [ebp-28h]
  int v10[4]; // [esp+18h] [ebp-24h] BYREF
  int v11; // [esp+28h] [ebp-14h]
  int v12[2]; // [esp+2Ch] [ebp-10h] BYREF
  int v13; // [esp+34h] [ebp-8h]
  int v14; // [esp+38h] [ebp-4h]

  if ( this )
  {
    sub_47F2C0(this, a2, v12);
    sub_47F2C0(this, a3, v10);
    v9 = (CRWLock *)(this[3] + 24 * (v12[0] + 16 * v14));
    v11 = 16 - (v13 - v12[0]);
    for ( i = v14; i < v10[3]; ++i )
    {
      for ( j = v12[0]; j < v13; ++j )
      {
        CRWLock::ReadLock(v9);
        v9 = (CRWLock *)((char *)v9 + 24);
      }
      v9 = (CRWLock *)((char *)v9 + 24 * v11);
    }
    while ( 1 )
    {
      result = (CRWLock *)i;
      if ( i >= v10[1] )
        break;
      for ( k = v12[0]; k < v10[0]; ++k )
      {
        CRWLock::ReadLock(v9);
        v9 = (CRWLock *)((char *)v9 + 24);
      }
      while ( k < v10[2] )
      {
        CRWLock::WriteLock(v9);
        ++k;
        v9 = (CRWLock *)((char *)v9 + 24);
      }
      while ( k < v13 )
      {
        CRWLock::ReadLock(v9);
        ++k;
        v9 = (CRWLock *)((char *)v9 + 24);
      }
      ++i;
      v9 = (CRWLock *)((char *)v9 + 24 * v11);
    }
    while ( i < v12[1] )
    {
      for ( l = v12[0]; l < v13; ++l )
      {
        CRWLock::ReadLock(v9);
        v9 = (CRWLock *)((char *)v9 + 24);
      }
      ++i;
      result = (CRWLock *)((char *)v9 + 24 * v11);
      v9 = result;
    }
  }
  return result;
}

//----- (0047F2C0) --------------------------------------------------------
int __thiscall sub_47F2C0(_DWORD *this, _DWORD *a2, int *a3)
{
  int result; // eax
  int v4; // [esp+0h] [ebp-40h]
  int v5; // [esp+4h] [ebp-3Ch]
  int v6; // [esp+8h] [ebp-38h]
  int v7; // [esp+Ch] [ebp-34h]
  int v8; // [esp+10h] [ebp-30h]
  int v9; // [esp+14h] [ebp-2Ch]
  int v10; // [esp+18h] [ebp-28h]
  int v11; // [esp+1Ch] [ebp-24h]
  int v12; // [esp+24h] [ebp-1Ch]
  int v13; // [esp+28h] [ebp-18h]
  int v14; // [esp+2Ch] [ebp-14h]
  int v15; // [esp+38h] [ebp-8h]
  int v16; // [esp+3Ch] [ebp-4h]

  v15 = a2[3];
  v14 = a2[2];
  v12 = a2[1];
  v16 = *this << 8;
  v13 = this[1] << 8;
  if ( *a2 < v16 + 256 )
  {
    if ( *a2 <= v16 )
      v10 = 0;
    else
      v10 = (int)(unsigned __int8)*a2 >> 4;
    v11 = v10;
  }
  else
  {
    v11 = 16;
  }
  *a3 = v11;
  if ( v15 < v13 + 256 )
  {
    if ( v15 <= v13 )
      v8 = 0;
    else
      v8 = (int)(unsigned __int8)v15 >> 4;
    v9 = v8;
  }
  else
  {
    v9 = 16;
  }
  a3[3] = v9;
  if ( v14 > v16 )
  {
    if ( v14 >= v16 + 256 )
      v6 = 16;
    else
      v6 = (((unsigned __int8)v14 - 1) >> 4) + 1;
    v7 = v6;
  }
  else
  {
    v7 = 0;
  }
  a3[2] = v7;
  result = v12;
  if ( v12 > v13 )
  {
    if ( v12 >= v13 + 256 )
      v4 = 16;
    else
      v4 = (((unsigned __int8)v12 - 1) >> 4) + 1;
    result = v4;
    v5 = v4;
  }
  else
  {
    v5 = 0;
  }
  a3[1] = v5;
  return result;
}

//----- (0047F430) --------------------------------------------------------
CRWLock *__userpurge sub_47F430@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, _DWORD *a6)
{
  CRWLock *result; // eax
  int l; // [esp+4h] [ebp-38h]
  int k; // [esp+8h] [ebp-34h]
  int j; // [esp+Ch] [ebp-30h]
  int i; // [esp+10h] [ebp-2Ch]
  CRWLock *v12; // [esp+14h] [ebp-28h]
  int v13[4]; // [esp+18h] [ebp-24h] BYREF
  int v14; // [esp+28h] [ebp-14h]
  int v15[2]; // [esp+2Ch] [ebp-10h] BYREF
  int v16; // [esp+34h] [ebp-8h]
  int v17; // [esp+38h] [ebp-4h]

  if ( a1 )
  {
    sub_47F2C0(a1, a5, v15);
    sub_47F2C0(a1, a6, v13);
    v12 = (CRWLock *)(a1[3] + 24 * (v15[0] + 16 * v17));
    v14 = 16 - (v16 - v15[0]);
    for ( i = v17; i < v13[3]; ++i )
    {
      for ( j = v15[0]; j < v16; ++j )
      {
        CRWLock::ReadUnlock(v12, a2, a3, a4);
        v12 = (CRWLock *)((char *)v12 + 24);
      }
      v12 = (CRWLock *)((char *)v12 + 24 * v14);
    }
    while ( 1 )
    {
      result = (CRWLock *)i;
      if ( i >= v13[1] )
        break;
      for ( k = v15[0]; k < v13[0]; ++k )
      {
        CRWLock::ReadUnlock(v12, a2, a3, a4);
        v12 = (CRWLock *)((char *)v12 + 24);
      }
      while ( k < v13[2] )
      {
        CRWLock::WriteUnlock(v12, a2, a3, a4);
        ++k;
        v12 = (CRWLock *)((char *)v12 + 24);
      }
      while ( k < v16 )
      {
        CRWLock::ReadUnlock(v12, a2, a3, a4);
        ++k;
        v12 = (CRWLock *)((char *)v12 + 24);
      }
      ++i;
      v12 = (CRWLock *)((char *)v12 + 24 * v14);
    }
    while ( i < v15[1] )
    {
      for ( l = v15[0]; l < v16; ++l )
      {
        CRWLock::ReadUnlock(v12, a2, a3, a4);
        v12 = (CRWLock *)((char *)v12 + 24);
      }
      ++i;
      result = (CRWLock *)((char *)v12 + 24 * v14);
      v12 = result;
    }
  }
  return result;
}

//----- (0047F5D0) --------------------------------------------------------
void __userpurge CSellMap::SendDelete(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, int a7)
{
  int v7[2]; // [esp+4h] [ebp-10h] BYREF
  Concurrency::details::_CancellationTokenRegistration **v8; // [esp+Ch] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    v7[0] = (unsigned __int8)*a6;
    v7[1] = (unsigned __int8)a6[1];
    v8 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(a1, v7);
    for ( i = *v8; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
    {
      if ( *((_DWORD *)i + 4) == -6 )
      {
        *v8 = 0;
        ELOG("CSellMap::SendDelete %p %p\n", i, *(const void **)i);
        EBREAK(a2, a3, a4);
        return;
      }
      (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, int, int))(*(_DWORD *)i + 44))(
        i,
        a5,
        a7);
    }
  }
}

//----- (0047F680) --------------------------------------------------------
void __userpurge CCellMap::GetRWLockRect(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, int a7)
{
  int v7[2]; // [esp+4h] [ebp-10h] BYREF
  Concurrency::details::_CancellationTokenRegistration **v8; // [esp+Ch] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    v7[0] = (unsigned __int8)*a6;
    v7[1] = (unsigned __int8)a6[1];
    v8 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(a1, v7);
    for ( i = *v8; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
    {
      if ( *((_DWORD *)i + 4) == -6 )
      {
        *v8 = 0;
        ELOG("CSellMap::SendMove %p %p\n", i, *(const void **)i);
        EBREAK(a2, a3, a4);
        return;
      }
      (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, int, int))(*(_DWORD *)i + 48))(
        i,
        a5,
        a7);
    }
  }
}

//----- (0047F730) --------------------------------------------------------
void __userpurge CSellMap::SendCreate(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, int a7)
{
  int v7[2]; // [esp+4h] [ebp-10h] BYREF
  Concurrency::details::_CancellationTokenRegistration **v8; // [esp+Ch] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    v7[0] = (unsigned __int8)*a6;
    v7[1] = (unsigned __int8)a6[1];
    v8 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(a1, v7);
    for ( i = *v8; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
    {
      if ( *((_DWORD *)i + 4) == -6 )
      {
        *v8 = 0;
        ELOG("CSellMap::SendCreate %p %p\n", i, *(const void **)i);
        EBREAK(a2, a3, a4);
        return;
      }
      (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, int, int))(*(_DWORD *)i + 52))(
        i,
        a5,
        a7);
    }
  }
}

//----- (0047F7E0) --------------------------------------------------------
void __userpurge CSellMap::SendPacket(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  int v6[2]; // [esp+4h] [ebp-10h] BYREF
  Concurrency::details::_CancellationTokenRegistration **v7; // [esp+Ch] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    v6[0] = (unsigned __int8)*a5;
    v6[1] = (unsigned __int8)a5[1];
    v7 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(a1, v6);
    for ( i = *v7; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
    {
      if ( *((_DWORD *)i + 4) == -6 )
      {
        *v7 = 0;
        ELOG("CSellMap::SendPacket %p %p\n", i, *(const void **)i);
        EBREAK(a2, a3, a4);
        return;
      }
      (*(void (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, int))(*(_DWORD *)i + 40))(i, a6);
    }
  }
}

//----- (0047F890) --------------------------------------------------------
void __userpurge CSellMap::GetPlayerList(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, CMemory **a6)
{
  int v6[2]; // [esp+4h] [ebp-10h] BYREF
  Concurrency::details::_CancellationTokenRegistration **v7; // [esp+Ch] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    v6[0] = (unsigned __int8)*a5;
    v6[1] = (unsigned __int8)a5[1];
    v7 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(a1, v6);
    for ( i = *v7; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
    {
      if ( *((_DWORD *)i + 4) == -6 )
      {
        *v7 = 0;
        ELOG("CSellMap::GetPlayerList %p %p\n", i, *(const void **)i);
        EBREAK(a2, a3, a4);
        return;
      }
      if ( (*(int (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)i + 60))(i) )
        *a6 = (CMemory *)CBaseList::Push(*a6, a2, a3, a4, (volatile int *)i);
    }
  }
}

//----- (0047F950) --------------------------------------------------------
void __userpurge CSellMap::GetPlayerMonsterList(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, CMemory **a6)
{
  int v6[2]; // [esp+4h] [ebp-10h] BYREF
  Concurrency::details::_CancellationTokenRegistration **v7; // [esp+Ch] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    v6[0] = (unsigned __int8)*a5;
    v6[1] = (unsigned __int8)a5[1];
    v7 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(a1, v6);
    for ( i = *v7; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
    {
      if ( *((_DWORD *)i + 4) == -6 )
      {
        *v7 = 0;
        ELOG("CSellMap::GetPlayerMonsterList %p %p\n", i, *(const void **)i);
        EBREAK(a2, a3, a4);
        return;
      }
      if ( (*(int (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)i + 60))(i)
        || (*(int (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)i + 64))(i) )
      {
        *a6 = (CMemory *)CBaseList::Push(*a6, a2, a3, a4, (volatile int *)i);
      }
    }
  }
}

//----- (0047FA20) --------------------------------------------------------
int __userpurge sub_47FA20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, Concurrency::details::_CancellationTokenRegistration **a6)
{
  Concurrency::details::_CancellationTokenRegistration *v7; // [esp+4h] [ebp-14h]
  int v8[2]; // [esp+8h] [ebp-10h] BYREF
  Concurrency::details::_CancellationTokenRegistration **v9; // [esp+10h] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+14h] [ebp-4h]

  if ( !a1 )
    return 0;
  v8[0] = (unsigned __int8)*a5;
  v8[1] = (unsigned __int8)a5[1];
  v9 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(a1, v8);
  for ( i = *v9; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
  {
    if ( *((_DWORD *)i + 4) == -6 )
    {
      *v9 = 0;
      ELOG("CSellMap::GetClosestPlayer %p %p\n", i, *(const void **)i);
      EBREAK(a2, a3, a4);
      return 0;
    }
    if ( (*(int (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)i + 60))(i) )
    {
      v7 = i;
      if ( CChar::IsNormal(i) )
      {
        if ( !sub_40A660(v7, 0x2000) && *((_DWORD *)v7 + 112) != 4 )
        {
          CIOObject::AddRef(v7, a2, a3, a4, (volatile int *)v7 + 87);
          *a6 = v7;
          return 1;
        }
      }
    }
  }
  return 0;
}

//----- (0047FB20) --------------------------------------------------------
int __userpurge sub_47FB20@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, Concurrency::details::_CancellationTokenRegistration **a7)
{
  Concurrency::details::_CancellationTokenRegistration *v8; // [esp+4h] [ebp-14h]
  int v9[2]; // [esp+8h] [ebp-10h] BYREF
  Concurrency::details::_CancellationTokenRegistration **v10; // [esp+10h] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+14h] [ebp-4h]

  if ( !a1 )
    return 0;
  v9[0] = (unsigned __int8)*a5;
  v9[1] = (unsigned __int8)a5[1];
  v10 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(a1, v9);
  for ( i = *v10; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
  {
    if ( *((_DWORD *)i + 4) == -6 )
    {
      *v10 = 0;
      ELOG("CSellMap::GetMonster %p %p\n", i, *(const void **)i);
      EBREAK(a2, a3, a4);
      return 0;
    }
    if ( (*(int (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)i + 64))(i) )
    {
      v8 = i;
      if ( CChar::IsNormal(i) )
      {
        if ( a6 == *(_DWORD *)(*((_DWORD *)v8 + 108) + 60) )
        {
          CIOObject::AddRef(v8, a2, a3, a4, (volatile int *)v8 + 86);
          *a7 = v8;
          return 1;
        }
      }
    }
  }
  return 0;
}

//----- (0047FC10) --------------------------------------------------------
_DWORD *__thiscall sub_47FC10(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  memset(this + 2, 0, 0x4000u);
  return this;
}

//----- (0047FC50) --------------------------------------------------------
void __usercall CCellMap::GetPlayerList(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int i; // [esp+10h] [ebp-8h]

  for ( i = 0; i < 4096; ++i )
  {
    if ( *(_DWORD *)(a1 + 4 * i + 8) )
      sub_47FCC0(*(void **)(a1 + 4 * i + 8), a2, a3, a4, 1);
  }
}

//----- (0047FCC0) --------------------------------------------------------
void *__userpurge sub_47FCC0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_47EBB0((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0047FCF0) --------------------------------------------------------
int __usercall CSMap::LoadMap@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4)
{
  int result; // eax
  _DWORD *v5; // [esp+4h] [ebp-24h]
  _DWORD *v6; // [esp+8h] [ebp-20h]
  CMemory **v7; // [esp+14h] [ebp-14h]
  CMemory **v8; // [esp+18h] [ebp-10h]
  _DWORD *v9; // [esp+1Ch] [ebp-Ch]
  FILE *Stream; // [esp+20h] [ebp-8h]

  Stream = fopen((const char *)(a4 + 48), "rb");
  if ( Stream )
  {
    v9 = (_DWORD *)sub_47FED0(*(_DWORD *)(a4 + 32));
    if ( !v9 )
    {
      v8 = sub_401000(0x4008u);
      if ( v8 )
        v6 = sub_47FC10(v8);
      else
        v6 = 0;
      dword_4B9C30 = (int)v6;
      v9 = v6;
    }
    v7 = sub_401000(0x10u);
    if ( v7 )
      v5 = sub_47EB70(v7, *(_DWORD *)(a4 + 40), *(_DWORD *)(a4 + 44));
    else
      v5 = 0;
    v9[64 * *(_DWORD *)(a4 + 44) + 2 + *(_DWORD *)(a4 + 40)] = v5;
    if ( CCellMap::AllocTile(v5) && CMFireFlowerExplosion::CMFireFlowerExplosion(v5, Stream) )
    {
      fclose(Stream);
      result = 1;
    }
    else
    {
      LOG_ERR("Map loading is failed. (%s)", (const char *)(a4 + 48));
      fclose(Stream);
      if ( v9 )
        sub_47FE60(v9, a1, a2, a3, 1);
      result = 0;
    }
  }
  else
  {
    LOG_ERR("CSMap::LoadMap() Can't read map(%s).", (const char *)(a4 + 48));
    result = 0;
  }
  return result;
}
// 4B9C30: using guessed type int dword_4B9C30;

//----- (0047FE60) --------------------------------------------------------
void *__userpurge sub_47FE60@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  CCellMap::GetPlayerList((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0047FE90) --------------------------------------------------------
void __usercall sub_47FE90(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  if ( dword_4B9C30 )
    sub_47FE60((void *)dword_4B9C30, a1, a2, a3, 1);
}
// 4B9C30: using guessed type int dword_4B9C30;

//----- (0047FED0) --------------------------------------------------------
int __cdecl sub_47FED0(int a1)
{
  int result; // eax

  if ( a1 < 32 )
    result = dword_4B9C30;
  else
    result = 0;
  return result;
}
// 4B9C30: using guessed type int dword_4B9C30;

//----- (0047FEF0) --------------------------------------------------------
int __thiscall sub_47FEF0(char *this, _DWORD *a2, int *a3)
{
  int result; // eax
  _DWORD *v4; // [esp+0h] [ebp-18h]
  int j; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  char *v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = &this[256 * a3[3] + 8 + 4 * *a3];
  result = 64 - (a3[2] - *a3);
  v8 = result;
  for ( i = a3[3]; i < a3[1]; ++i )
  {
    for ( j = *a3; j < a3[2]; ++j )
    {
      v4 = *(_DWORD **)v7;
      v7 += 4;
      sub_47EEC0(v4, a2);
    }
    v7 += 4 * v8;
    result = i + 1;
  }
  return result;
}

//----- (0047FFA0) --------------------------------------------------------
int __userpurge sub_47FFA0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int *a6)
{
  int result; // eax
  _DWORD *v7; // [esp+0h] [ebp-18h]
  int j; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  _DWORD **v10; // [esp+10h] [ebp-8h]
  int v11; // [esp+14h] [ebp-4h]

  v10 = (_DWORD **)(a1 + 4 * ((a6[3] << 6) + *a6) + 8);
  result = 64 - (a6[2] - *a6);
  v11 = result;
  for ( i = a6[3]; i < a6[1]; ++i )
  {
    for ( j = *a6; j < a6[2]; ++j )
    {
      v7 = *v10++;
      sub_47F070(v7, a2, a3, a4, a5);
    }
    v10 += v11;
    result = i + 1;
  }
  return result;
}

//----- (00480050) --------------------------------------------------------
int __thiscall sub_480050(char *this, _DWORD *a2, _DWORD *a3, int *a4)
{
  int result; // eax
  _DWORD *v5; // [esp+0h] [ebp-18h]
  int j; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  char *v8; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h]

  v8 = &this[256 * a4[3] + 8 + 4 * *a4];
  result = 64 - (a4[2] - *a4);
  v9 = result;
  for ( i = a4[3]; i < a4[1]; ++i )
  {
    for ( j = *a4; j < a4[2]; ++j )
    {
      v5 = *(_DWORD **)v8;
      v8 += 4;
      CCellMap::ReadUnlock(v5, a2, a3);
    }
    v8 += 4 * v9;
    result = i + 1;
  }
  return result;
}

//----- (00480100) --------------------------------------------------------
int __userpurge sub_480100@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, _DWORD *a6, int *a7)
{
  int result; // eax
  _DWORD *v8; // [esp+0h] [ebp-18h]
  int j; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  _DWORD **v11; // [esp+10h] [ebp-8h]
  int v12; // [esp+14h] [ebp-4h]

  v11 = (_DWORD **)(a1 + 4 * ((a7[3] << 6) + *a7) + 8);
  result = 64 - (a7[2] - *a7);
  v12 = result;
  for ( i = a7[3]; i < a7[1]; ++i )
  {
    for ( j = *a7; j < a7[2]; ++j )
    {
      v8 = *v11++;
      sub_47F430(v8, a2, a3, a4, a5, a6);
    }
    v11 += v12;
    result = i + 1;
  }
  return result;
}

//----- (004801B0) --------------------------------------------------------
int __userpurge sub_4801B0@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int *a6)
{
  int *v7; // eax
  CRWLock *v8; // [esp+4h] [ebp-10h]
  int v9[2]; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v10; // [esp+10h] [ebp-4h]

  v10 = (_DWORD *)sub_435780(a1, a6);
  if ( !v10 )
    return 0;
  v9[0] = (unsigned __int8)*a6;
  v9[1] = (unsigned __int8)a6[1];
  v8 = (CRWLock *)CCellMap::GetLock(v10, v9);
  CRWLock::WriteLock(v8);
  v7 = (int *)CCellMap::GetTile(v10, v9);
  sub_484830(v7, a2, a3, a4, a5);
  CRWLock::WriteUnlock(v8, a2, a3, a4);
  return 1;
}

//----- (00480230) --------------------------------------------------------
int __userpurge sub_480230@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, int a6)
{
  Concurrency::details::_CancellationTokenRegistration **v7; // eax
  CRWLock *v8; // [esp+4h] [ebp-10h]
  int v9[2]; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v10; // [esp+10h] [ebp-4h]

  v10 = (_DWORD *)sub_435780(a1, (int *)a6);
  if ( !v10 )
    return 0;
  v9[0] = (unsigned __int8)*(_DWORD *)a6;
  v9[1] = (unsigned __int8)*(_DWORD *)(a6 + 4);
  v8 = (CRWLock *)CCellMap::GetLock(v10, v9);
  CRWLock::WriteLock(v8);
  v7 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(v10, v9);
  sub_484860(v7, a5);
  CRWLock::WriteUnlock(v8, a2, a3, a4);
  return 1;
}

//----- (004802B0) --------------------------------------------------------
int __userpurge sub_4802B0@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, int Number, int a7, int a8, int a9, int a10)
{
  int v10; // edx
  int result; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  Concurrency::details::_CancellationTokenRegistration **v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // eax
  _DWORD *v21; // eax
  _DWORD *v22; // eax
  _DWORD *v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  _DWORD *v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  _DWORD *v29; // eax
  _DWORD *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  _DWORD *v33; // eax
  _DWORD *v34; // eax
  _DWORD *v35; // eax
  _DWORD *v36; // eax
  _DWORD *v37; // eax
  _DWORD *v38; // eax
  _DWORD *v39; // eax
  _DWORD *v40; // eax
  _DWORD *v41; // eax
  _DWORD *v42; // eax
  _DWORD *v43; // eax
  _DWORD *v44; // eax
  _DWORD *v45; // eax
  _DWORD *v46; // eax
  _DWORD *v47; // eax
  _DWORD *v48; // eax
  _DWORD *v49; // eax
  _DWORD *v50; // eax
  _DWORD *v51; // eax
  int v52; // [esp-44h] [ebp-E4h]
  int v53; // [esp-40h] [ebp-E0h]
  int v54; // [esp-3Ch] [ebp-DCh]
  int v55; // [esp-38h] [ebp-D8h]
  int v56; // [esp-34h] [ebp-D4h]
  int v57; // [esp-30h] [ebp-D0h]
  int v58; // [esp-24h] [ebp-C4h]
  int v59; // [esp-20h] [ebp-C0h]
  int v60; // [esp-1Ch] [ebp-BCh]
  int v61; // [esp-18h] [ebp-B8h]
  int *v62; // [esp-14h] [ebp-B4h]
  int v63; // [esp-10h] [ebp-B0h]
  int *v64; // [esp-10h] [ebp-B0h]
  int v65; // [esp-Ch] [ebp-ACh]
  int v66; // [esp-Ch] [ebp-ACh]
  int v67; // [esp-8h] [ebp-A8h]
  int v68; // [esp-8h] [ebp-A8h]
  int v69; // [esp-4h] [ebp-A4h]
  int v70; // [esp-4h] [ebp-A4h]
  void *v71; // [esp-4h] [ebp-A4h]
  CIOBuffer *v72; // [esp-4h] [ebp-A4h]
  void *v73; // [esp-4h] [ebp-A4h]
  CIOBuffer *v74; // [esp-4h] [ebp-A4h]
  CIOBuffer *v75; // [esp-4h] [ebp-A4h]
  void *v76; // [esp-4h] [ebp-A4h]
  CIOBuffer *v77; // [esp-4h] [ebp-A4h]
  CIOBuffer *v78; // [esp-4h] [ebp-A4h]
  void *v79; // [esp-4h] [ebp-A4h]
  CIOBuffer *v80; // [esp-4h] [ebp-A4h]
  CIOBuffer *v81; // [esp-4h] [ebp-A4h]
  CIOBuffer *v82; // [esp-4h] [ebp-A4h]
  void *v83; // [esp-4h] [ebp-A4h]
  CIOBuffer *v84; // [esp-4h] [ebp-A4h]
  CIOBuffer *v85; // [esp-4h] [ebp-A4h]
  CIOBuffer *v86; // [esp-4h] [ebp-A4h]
  CIOBuffer *v87; // [esp-4h] [ebp-A4h]
  void *v88; // [esp-4h] [ebp-A4h]
  CIOBuffer *v89; // [esp-4h] [ebp-A4h]
  CIOBuffer *v90; // [esp-4h] [ebp-A4h]
  CIOBuffer *v91; // [esp-4h] [ebp-A4h]
  void *v92; // [esp-4h] [ebp-A4h]
  CIOBuffer *v93; // [esp-4h] [ebp-A4h]
  CIOBuffer *v94; // [esp-4h] [ebp-A4h]
  CIOBuffer *v95; // [esp-4h] [ebp-A4h]
  void *v96; // [esp-4h] [ebp-A4h]
  CIOBuffer *v97; // [esp-4h] [ebp-A4h]
  CIOBuffer *v98; // [esp-4h] [ebp-A4h]
  CIOBuffer *v99; // [esp-4h] [ebp-A4h]
  CIOBuffer *v100; // [esp-4h] [ebp-A4h]
  void *v101; // [esp-4h] [ebp-A4h]
  CIOBuffer *v102; // [esp-4h] [ebp-A4h]
  CIOBuffer *v103; // [esp-4h] [ebp-A4h]
  int v105; // [esp+4h] [ebp-9Ch] BYREF
  int v106; // [esp+8h] [ebp-98h]
  int v107; // [esp+Ch] [ebp-94h]
  int v108; // [esp+10h] [ebp-90h]
  int *v109; // [esp+14h] [ebp-8Ch]
  int v110[2]; // [esp+18h] [ebp-88h] BYREF
  int v111[2]; // [esp+20h] [ebp-80h] BYREF
  CMemory **v112; // [esp+28h] [ebp-78h]
  int v113; // [esp+2Ch] [ebp-74h] BYREF
  int v114; // [esp+30h] [ebp-70h]
  int v115; // [esp+34h] [ebp-6Ch]
  int v116; // [esp+38h] [ebp-68h]
  int v117; // [esp+3Ch] [ebp-64h] BYREF
  int v118; // [esp+40h] [ebp-60h]
  int v119; // [esp+44h] [ebp-5Ch] BYREF
  int v120; // [esp+48h] [ebp-58h]
  int v121; // [esp+4Ch] [ebp-54h]
  int v122; // [esp+50h] [ebp-50h] BYREF
  int v123; // [esp+54h] [ebp-4Ch]
  int v124; // [esp+58h] [ebp-48h]
  int v125; // [esp+5Ch] [ebp-44h]
  int v126[4]; // [esp+60h] [ebp-40h] BYREF
  CMemory **v127; // [esp+70h] [ebp-30h]
  int v128; // [esp+74h] [ebp-2Ch] BYREF
  int v129; // [esp+78h] [ebp-28h]
  int v130; // [esp+7Ch] [ebp-24h] BYREF
  int v131; // [esp+80h] [ebp-20h]
  int v132; // [esp+84h] [ebp-1Ch]
  int v133; // [esp+88h] [ebp-18h]
  void *Src; // [esp+8Ch] [ebp-14h]
  _DWORD *v135; // [esp+90h] [ebp-10h]
  int j; // [esp+94h] [ebp-Ch] BYREF
  int i; // [esp+98h] [ebp-8h]
  _DWORD *v138; // [esp+9Ch] [ebp-4h]
  int Numbera; // [esp+ACh] [ebp+Ch]
  int v140; // [esp+B0h] [ebp+10h]

  v10 = *((_DWORD *)a5 + 80);
  v117 = *((_DWORD *)a5 + 79);
  v118 = v10;
  v119 = Number + *((_DWORD *)a5 + 81);
  v120 = a7 + *((_DWORD *)a5 + 82);
  v128 = v119 >> 5;
  v129 = v120 >> 5;
  v135 = (_DWORD *)sub_481340(a1, &v117);
  if ( !v135 )
    return 0;
  v138 = (_DWORD *)sub_481340(a1, &v128);
  if ( !v138 )
    return 0;
  v121 = a10 != 0 ? 100 : 64;
  v12 = abs(Number);
  if ( v12 <= v121 && (v13 = abs(a7), v13 <= v121) )
  {
    sub_481210(&v117, &v122, 25);
    sub_481210(&v128, &v105, 25);
    if ( Number <= 0 )
    {
      v130 = v128;
      v132 = v117 + 1;
      v113 = v105;
      v115 = v124;
    }
    else
    {
      v130 = v117;
      v132 = v128 + 1;
      v113 = v122;
      v115 = v107;
    }
    if ( a7 <= 0 )
    {
      v131 = v118 + 1;
      v133 = v129;
      v114 = v123;
      v116 = v108;
    }
    else
    {
      v131 = v129 + 1;
      v133 = v118;
      v114 = v106;
      v116 = v125;
    }
    v110[0] = (unsigned __int8)v117;
    v110[1] = (unsigned __int8)v118;
    sub_4812E0(&v113, v126);
    sub_480050(a1, &v113, &v130, v126);
    v15 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(v135, v110);
    if ( sub_484860(v15, a5) )
    {
      sub_40A460(a5, &v119);
      *((_DWORD *)a5 + 83) += a8;
      sub_40A4D0(a5, Number, a7);
      v111[0] = (unsigned __int8)v128;
      v111[1] = (unsigned __int8)v129;
      v109 = (int *)CCellMap::GetTile(v138, v111);
      sub_484830(v109, a2, a3, a4, (int)a5);
      v16 = unknown_libname_4(a5);
      v127 = sub_445C90(a2, a3, a4, 24, "d", v16);
      v17 = unknown_libname_4(a5);
      if ( a10 )
      {
        Src = sub_445C90(a2, a3, a4, (a9 != 0) + 83, "dbbb", v17, Number, a7, a8);
        sub_448C30((int)a5, a2, a3, a4, Src);
      }
      else
      {
        Src = sub_445C90(a2, a3, a4, (a9 != 0) + 11, "dbbb", v17, Number, a7, a8);
      }
      v70 = *((_DWORD *)a5 + 126);
      v68 = *((_DWORD *)a5 + 256);
      v66 = *((_DWORD *)a5 + 118);
      v64 = sub_45DFB0((int *)a5);
      v62 = sub_45E050((int *)a5);
      v61 = *((_DWORD *)a5 + 73);
      v60 = *((_DWORD *)a5 + 72);
      v59 = *((_DWORD *)a5 + 138);
      v58 = *((_DWORD *)a5 + 137);
      v57 = *((_DWORD *)a5 + 70);
      v56 = *((_DWORD *)a5 + 85);
      v55 = *((_DWORD *)a5 + 83);
      v54 = *((_DWORD *)a5 + 82);
      v53 = *((_DWORD *)a5 + 81);
      v52 = *((_DWORD *)a5 + 113);
      v18 = unknown_libname_4(a5);
      v112 = sub_445C90(
               a2,
               a3,
               a4,
               19,
               "dsbdddwdmbbIssdbd",
               v18,
               (char *)a5 + 32,
               v52,
               v53,
               v54,
               v55,
               v56,
               v57,
               (char *)a5 + 964,
               14,
               v58,
               v59,
               v60,
               v61,
               v62,
               v64,
               v66,
               v68,
               v70);
      Numbera = v128 - v117;
      v140 = v129 - v118;
      if ( v128 == v117 )
      {
        if ( v140 )
        {
          if ( v140 <= 0 )
          {
            for ( i = v108; i < v125; ++i )
            {
              for ( j = v105; j < v107; ++j )
              {
                v75 = (CIOBuffer *)v112;
                v23 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendCreate(v23, a2, a3, a4, (int)a5, &j, (int)v75);
              }
            }
            while ( i < v106 )
            {
              for ( j = v105; j < v107; ++j )
              {
                v76 = Src;
                v24 = (_DWORD *)sub_435780(a1, &j);
                CCellMap::GetRWLockRect(v24, a2, a3, a4, (int)a5, &j, (int)v76);
              }
              ++i;
            }
            while ( i < v123 )
            {
              for ( j = v105; j < v107; ++j )
              {
                v77 = (CIOBuffer *)v127;
                v25 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendDelete(v25, a2, a3, a4, (int)a5, &j, (int)v77);
              }
              ++i;
            }
          }
          else
          {
            for ( i = v125; i < v108; ++i )
            {
              for ( j = v122; j < v124; ++j )
              {
                v72 = (CIOBuffer *)v127;
                v20 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendDelete(v20, a2, a3, a4, (int)a5, &j, (int)v72);
              }
            }
            while ( i < v123 )
            {
              for ( j = v122; j < v124; ++j )
              {
                v73 = Src;
                v21 = (_DWORD *)sub_435780(a1, &j);
                CCellMap::GetRWLockRect(v21, a2, a3, a4, (int)a5, &j, (int)v73);
              }
              ++i;
            }
            while ( i < v106 )
            {
              for ( j = v122; j < v124; ++j )
              {
                v74 = (CIOBuffer *)v112;
                v22 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendCreate(v22, a2, a3, a4, (int)a5, &j, (int)v74);
              }
              ++i;
            }
          }
        }
        else
        {
          for ( i = v125; i < v123; ++i )
          {
            for ( j = v122; j < v124; ++j )
            {
              v71 = Src;
              v19 = (_DWORD *)sub_435780(a1, &j);
              CCellMap::GetRWLockRect(v19, a2, a3, a4, (int)a5, &j, (int)v71);
            }
          }
        }
      }
      else if ( Numbera <= 0 )
      {
        if ( Numbera < 0 )
        {
          if ( v140 )
          {
            if ( v140 <= 0 )
            {
              for ( i = v108; i < v125; ++i )
              {
                for ( j = v105; j < v107; ++j )
                {
                  v99 = (CIOBuffer *)v112;
                  v47 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendCreate(v47, a2, a3, a4, (int)a5, &j, (int)v99);
                }
              }
              while ( i < v106 )
              {
                for ( j = v105; j < v122; ++j )
                {
                  v100 = (CIOBuffer *)v112;
                  v48 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendCreate(v48, a2, a3, a4, (int)a5, &j, (int)v100);
                }
                while ( j < v107 )
                {
                  v101 = Src;
                  v49 = (_DWORD *)sub_435780(a1, &j);
                  CCellMap::GetRWLockRect(v49, a2, a3, a4, (int)a5, &j, (int)v101);
                  ++j;
                }
                while ( j < v124 )
                {
                  v102 = (CIOBuffer *)v127;
                  v50 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendDelete(v50, a2, a3, a4, (int)a5, &j, (int)v102);
                  ++j;
                }
                ++i;
              }
              while ( i < v123 )
              {
                for ( j = v122; j < v124; ++j )
                {
                  v103 = (CIOBuffer *)v127;
                  v51 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendDelete(v51, a2, a3, a4, (int)a5, &j, (int)v103);
                }
                ++i;
              }
            }
            else
            {
              for ( i = v125; i < v108; ++i )
              {
                for ( j = v122; j < v124; ++j )
                {
                  v94 = (CIOBuffer *)v127;
                  v42 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendDelete(v42, a2, a3, a4, (int)a5, &j, (int)v94);
                }
              }
              while ( i < v123 )
              {
                for ( j = v105; j < v122; ++j )
                {
                  v95 = (CIOBuffer *)v112;
                  v43 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendCreate(v43, a2, a3, a4, (int)a5, &j, (int)v95);
                }
                while ( j < v107 )
                {
                  v96 = Src;
                  v44 = (_DWORD *)sub_435780(a1, &j);
                  CCellMap::GetRWLockRect(v44, a2, a3, a4, (int)a5, &j, (int)v96);
                  ++j;
                }
                while ( j < v124 )
                {
                  v97 = (CIOBuffer *)v127;
                  v45 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendDelete(v45, a2, a3, a4, (int)a5, &j, (int)v97);
                  ++j;
                }
                ++i;
              }
              while ( i < v106 )
              {
                for ( j = v105; j < v107; ++j )
                {
                  v98 = (CIOBuffer *)v112;
                  v46 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendCreate(v46, a2, a3, a4, (int)a5, &j, (int)v98);
                }
                ++i;
              }
            }
          }
          else
          {
            for ( i = v108; i < v106; ++i )
            {
              for ( j = v105; j < v122; ++j )
              {
                v91 = (CIOBuffer *)v112;
                v39 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendCreate(v39, a2, a3, a4, (int)a5, &j, (int)v91);
              }
              while ( j < v107 )
              {
                v92 = Src;
                v40 = (_DWORD *)sub_435780(a1, &j);
                CCellMap::GetRWLockRect(v40, a2, a3, a4, (int)a5, &j, (int)v92);
                ++j;
              }
              while ( j < v124 )
              {
                v93 = (CIOBuffer *)v127;
                v41 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendDelete(v41, a2, a3, a4, (int)a5, &j, (int)v93);
                ++j;
              }
            }
          }
        }
      }
      else if ( v140 )
      {
        if ( v140 <= 0 )
        {
          for ( i = v108; i < v125; ++i )
          {
            for ( j = v105; j < v107; ++j )
            {
              v86 = (CIOBuffer *)v112;
              v34 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendCreate(v34, a2, a3, a4, (int)a5, &j, (int)v86);
            }
          }
          while ( i < v106 )
          {
            for ( j = v122; j < v105; ++j )
            {
              v87 = (CIOBuffer *)v127;
              v35 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendDelete(v35, a2, a3, a4, (int)a5, &j, (int)v87);
            }
            while ( j < v124 )
            {
              v88 = Src;
              v36 = (_DWORD *)sub_435780(a1, &j);
              CCellMap::GetRWLockRect(v36, a2, a3, a4, (int)a5, &j, (int)v88);
              ++j;
            }
            while ( j < v107 )
            {
              v89 = (CIOBuffer *)v112;
              v37 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendCreate(v37, a2, a3, a4, (int)a5, &j, (int)v89);
              ++j;
            }
            ++i;
          }
          while ( i < v123 )
          {
            for ( j = v122; j < v124; ++j )
            {
              v90 = (CIOBuffer *)v127;
              v38 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendDelete(v38, a2, a3, a4, (int)a5, &j, (int)v90);
            }
            ++i;
          }
        }
        else
        {
          for ( i = v125; i < v108; ++i )
          {
            for ( j = v122; j < v124; ++j )
            {
              v81 = (CIOBuffer *)v127;
              v29 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendDelete(v29, a2, a3, a4, (int)a5, &j, (int)v81);
            }
          }
          while ( i < v123 )
          {
            for ( j = v122; j < v105; ++j )
            {
              v82 = (CIOBuffer *)v127;
              v30 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendDelete(v30, a2, a3, a4, (int)a5, &j, (int)v82);
            }
            while ( j < v124 )
            {
              v83 = Src;
              v31 = (_DWORD *)sub_435780(a1, &j);
              CCellMap::GetRWLockRect(v31, a2, a3, a4, (int)a5, &j, (int)v83);
              ++j;
            }
            while ( j < v107 )
            {
              v84 = (CIOBuffer *)v112;
              v32 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendCreate(v32, a2, a3, a4, (int)a5, &j, (int)v84);
              ++j;
            }
            ++i;
          }
          while ( i < v106 )
          {
            for ( j = v105; j < v107; ++j )
            {
              v85 = (CIOBuffer *)v112;
              v33 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendCreate(v33, a2, a3, a4, (int)a5, &j, (int)v85);
            }
            ++i;
          }
        }
      }
      else
      {
        for ( i = v125; i < v123; ++i )
        {
          for ( j = v122; j < v105; ++j )
          {
            v78 = (CIOBuffer *)v127;
            v26 = (_DWORD *)sub_435780(a1, &j);
            CSellMap::SendDelete(v26, a2, a3, a4, (int)a5, &j, (int)v78);
          }
          while ( j < v124 )
          {
            v79 = Src;
            v27 = (_DWORD *)sub_435780(a1, &j);
            CCellMap::GetRWLockRect(v27, a2, a3, a4, (int)a5, &j, (int)v79);
            ++j;
          }
          while ( j < v107 )
          {
            v80 = (CIOBuffer *)v112;
            v28 = (_DWORD *)sub_435780(a1, &j);
            CSellMap::SendCreate(v28, a2, a3, a4, (int)a5, &j, (int)v80);
            ++j;
          }
        }
      }
      if ( (v109[1] & 0x10000) != 0 )
        sub_40DD50(a2, a3, a4, (int)a5);
      sub_480100((int)a1, a2, a3, a4, &v113, &v130, v126);
      CIOBuffer::Release((CIOBuffer *)v127);
      CIOBuffer::Release((CIOBuffer *)v112);
      CIOBuffer::Release((CIOBuffer *)Src);
      result = 1;
    }
    else
    {
      sub_480100((int)a1, a2, a3, a4, &v113, &v130, v126);
      result = 0;
    }
  }
  else
  {
    LOG_NORMAL("move hack PID(%d) Delta(%d,%d)", *((_DWORD *)a5 + 111), Number, a7);
    v69 = *((_DWORD *)a5 + 85);
    v67 = *((_DWORD *)a5 + 83);
    v65 = *((_DWORD *)a5 + 82);
    v63 = *((_DWORD *)a5 + 81);
    v14 = unknown_libname_4(a5);
    sub_448C90(a2, a3, a4, (int)a5, 10, "ddddw", v14, v63, v65, v67, v69);
    result = 0;
  }
  return result;
}
// 48085E: conditional instruction was optimized away because of '%arg_8.4<0'
// 480BFF: conditional instruction was optimized away because of '%arg_8.4<0'
// 481015: conditional instruction was optimized away because of '%arg_8.4<0'

//----- (00481210) --------------------------------------------------------
_DWORD *__stdcall sub_481210(_DWORD *a1, _DWORD *a2, int a3)
{
  _DWORD *result; // eax
  int v4; // [esp+0h] [ebp-14h]
  int v5; // [esp+4h] [ebp-10h]
  int v6; // [esp+8h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-8h]

  if ( *a1 - a3 >= 0 )
    v7 = *a1 - a3;
  else
    v7 = 0;
  *a2 = v7;
  if ( a1[1] - a3 >= 0 )
    v6 = a1[1] - a3;
  else
    v6 = 0;
  a2[3] = v6;
  if ( *a1 + a3 + 1 <= 0x4000 )
    v5 = *a1 + a3 + 1;
  else
    v5 = 0x4000;
  a2[2] = v5;
  if ( a1[1] + a3 + 1 <= 0x4000 )
    v4 = a1[1] + a3 + 1;
  else
    v4 = 0x4000;
  result = a2;
  a2[1] = v4;
  return result;
}

//----- (004812E0) --------------------------------------------------------
int *__stdcall sub_4812E0(int *a1, int *a2)
{
  int *result; // eax

  *a2 = *a1 >> 8;
  a2[3] = a1[3] >> 8;
  a2[2] = ((a1[2] - 1) >> 8) + 1;
  result = a1;
  a2[1] = ((a1[1] - 1) >> 8) + 1;
  return result;
}

//----- (00481340) --------------------------------------------------------
int __thiscall sub_481340(_DWORD *this, int *a2)
{
  int result; // eax

  if ( *a2 >= 0 && *a2 >> 8 < 64 && a2[1] >= 0 && a2[1] >> 8 < 64 )
    result = sub_435780(this, a2);
  else
    result = 0;
  return result;
}

//----- (00481390) --------------------------------------------------------
int __userpurge sub_481390@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, Concurrency::details::_CancellationTokenRegistration *a5, int Number, int a7, int a8, int a9)
{
  int v9; // edx
  int result; // eax
  int v11; // eax
  Concurrency::details::_CancellationTokenRegistration **v12; // eax
  int *v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  _DWORD *v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // eax
  _DWORD *v21; // eax
  _DWORD *v22; // eax
  _DWORD *v23; // eax
  _DWORD *v24; // eax
  _DWORD *v25; // eax
  _DWORD *v26; // eax
  _DWORD *v27; // eax
  _DWORD *v28; // eax
  _DWORD *v29; // eax
  _DWORD *v30; // eax
  _DWORD *v31; // eax
  _DWORD *v32; // eax
  _DWORD *v33; // eax
  _DWORD *v34; // eax
  _DWORD *v35; // eax
  _DWORD *v36; // eax
  _DWORD *v37; // eax
  _DWORD *v38; // eax
  _DWORD *v39; // eax
  _DWORD *v40; // eax
  _DWORD *v41; // eax
  _DWORD *v42; // eax
  _DWORD *v43; // eax
  _DWORD *v44; // eax
  _DWORD *v45; // eax
  _DWORD *v46; // eax
  _DWORD *v47; // eax
  _DWORD *v48; // eax
  _DWORD *v49; // eax
  int v50; // [esp-28h] [ebp-C0h]
  int v51; // [esp-24h] [ebp-BCh]
  int v52; // [esp-20h] [ebp-B8h]
  int v53; // [esp-1Ch] [ebp-B4h]
  int v54; // [esp-18h] [ebp-B0h]
  int v55; // [esp-14h] [ebp-ACh]
  int v56; // [esp-10h] [ebp-A8h]
  int v57; // [esp-Ch] [ebp-A4h]
  int v58; // [esp-8h] [ebp-A0h]
  CIOBuffer *v59; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v60; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v61; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v62; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v63; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v64; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v65; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v66; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v67; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v68; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v69; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v70; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v71; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v72; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v73; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v74; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v75; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v76; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v77; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v78; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v79; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v80; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v81; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v82; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v83; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v84; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v85; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v86; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v87; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v88; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v89; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v90; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v91; // [esp-4h] [ebp-9Ch]
  int v93; // [esp+4h] [ebp-94h] BYREF
  int v94; // [esp+8h] [ebp-90h]
  int v95; // [esp+Ch] [ebp-8Ch]
  int v96; // [esp+10h] [ebp-88h]
  int v97[2]; // [esp+14h] [ebp-84h] BYREF
  int v98[2]; // [esp+1Ch] [ebp-7Ch] BYREF
  CMemory **v99; // [esp+24h] [ebp-74h]
  int v100; // [esp+28h] [ebp-70h] BYREF
  int v101; // [esp+2Ch] [ebp-6Ch]
  int v102; // [esp+30h] [ebp-68h]
  int v103; // [esp+34h] [ebp-64h]
  int v104; // [esp+38h] [ebp-60h] BYREF
  int v105; // [esp+3Ch] [ebp-5Ch]
  int v106; // [esp+40h] [ebp-58h] BYREF
  int v107; // [esp+44h] [ebp-54h]
  int v108; // [esp+48h] [ebp-50h] BYREF
  int v109; // [esp+4Ch] [ebp-4Ch]
  int v110; // [esp+50h] [ebp-48h]
  int v111; // [esp+54h] [ebp-44h]
  int v112[4]; // [esp+58h] [ebp-40h] BYREF
  CMemory **v113; // [esp+68h] [ebp-30h]
  int v114; // [esp+6Ch] [ebp-2Ch] BYREF
  int v115; // [esp+70h] [ebp-28h]
  int v116; // [esp+74h] [ebp-24h] BYREF
  int v117; // [esp+78h] [ebp-20h]
  int v118; // [esp+7Ch] [ebp-1Ch]
  int v119; // [esp+80h] [ebp-18h]
  CMemory **v120; // [esp+84h] [ebp-14h]
  _DWORD *v121; // [esp+88h] [ebp-10h]
  int j; // [esp+8Ch] [ebp-Ch] BYREF
  int i; // [esp+90h] [ebp-8h]
  _DWORD *v124; // [esp+94h] [ebp-4h]
  int Numbera; // [esp+A4h] [ebp+Ch]
  int v126; // [esp+A8h] [ebp+10h]

  v9 = *((_DWORD *)a5 + 80);
  v104 = *((_DWORD *)a5 + 79);
  v105 = v9;
  v106 = Number + *((_DWORD *)a5 + 81);
  v107 = a7 + *((_DWORD *)a5 + 82);
  v114 = v106 >> 5;
  v115 = v107 >> 5;
  v121 = (_DWORD *)sub_481340(a1, &v104);
  if ( !v121 )
    return 0;
  v124 = (_DWORD *)sub_481340(a1, &v114);
  if ( !v124 )
    return 0;
  if ( Number <= 127 && Number >= -128 && a7 <= 127 && a7 >= -128 )
  {
    sub_481210(&v104, &v108, 25);
    sub_481210(&v114, &v93, 25);
    if ( Number <= 0 )
    {
      v116 = v114;
      v118 = v104 + 1;
      v100 = v93;
      v102 = v110;
    }
    else
    {
      v116 = v104;
      v118 = v114 + 1;
      v100 = v108;
      v102 = v95;
    }
    if ( a7 <= 0 )
    {
      v117 = v105 + 1;
      v119 = v115;
      v101 = v109;
      v103 = v96;
    }
    else
    {
      v117 = v115 + 1;
      v119 = v105;
      v101 = v94;
      v103 = v111;
    }
    v97[0] = (unsigned __int8)v104;
    v97[1] = (unsigned __int8)v105;
    sub_4812E0(&v100, v112);
    sub_480050(a1, &v100, &v116, v112);
    v12 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(v121, v97);
    if ( sub_484860(v12, a5) )
    {
      sub_40A460(a5, &v106);
      sub_40A4D0(a5, Number, a7);
      v98[0] = (unsigned __int8)v114;
      v98[1] = (unsigned __int8)v115;
      v13 = (int *)CCellMap::GetTile(v124, v98);
      sub_484830(v13, a2, a3, a4, (int)a5);
      v14 = unknown_libname_4(a5);
      v113 = sub_445C90(a2, a3, a4, 25, "d", v14);
      v15 = unknown_libname_4(a5);
      v120 = sub_445C90(a2, a3, a4, (a8 != 0) + 13, "dbbb", v15, Number, a7, a9);
      v58 = (*(int (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *, _DWORD))(*(_DWORD *)a5 + 220))(
              a5,
              *(_DWORD *)(*((_DWORD *)a5 + 108) + 64));
      v57 = *((_DWORD *)a5 + 73);
      v56 = *((_DWORD *)a5 + 72);
      v55 = *((_DWORD *)a5 + 70);
      v54 = CChar::GetMaxHP(a5);
      v53 = *((_DWORD *)a5 + 68);
      v52 = *((_DWORD *)a5 + 85);
      v51 = *((_DWORD *)a5 + 82);
      v50 = *((_DWORD *)a5 + 81);
      v16 = unknown_libname_4(a5);
      v99 = sub_445C90(
              a2,
              a3,
              a4,
              20,
              "wdddwdddIsb",
              *(_DWORD *)(*((_DWORD *)a5 + 108) + 60),
              v16,
              v50,
              v51,
              v52,
              v53,
              v54,
              v55,
              v56,
              v57,
              v58);
      Numbera = v114 - v104;
      v126 = v115 - v105;
      if ( v114 == v104 )
      {
        if ( v126 )
        {
          if ( v126 <= 0 )
          {
            for ( i = v96; i < v111; ++i )
            {
              for ( j = v93; j < v95; ++j )
              {
                v63 = (CIOBuffer *)v99;
                v21 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v21, a2, a3, a4, &j, (int)v63);
              }
            }
            while ( i < v94 )
            {
              for ( j = v93; j < v95; ++j )
              {
                v64 = (CIOBuffer *)v120;
                v22 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v22, a2, a3, a4, &j, (int)v64);
              }
              ++i;
            }
            while ( i < v109 )
            {
              for ( j = v93; j < v95; ++j )
              {
                v65 = (CIOBuffer *)v113;
                v23 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v23, a2, a3, a4, &j, (int)v65);
              }
              ++i;
            }
          }
          else
          {
            for ( i = v111; i < v96; ++i )
            {
              for ( j = v108; j < v110; ++j )
              {
                v60 = (CIOBuffer *)v113;
                v18 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v18, a2, a3, a4, &j, (int)v60);
              }
            }
            while ( i < v109 )
            {
              for ( j = v108; j < v110; ++j )
              {
                v61 = (CIOBuffer *)v120;
                v19 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v19, a2, a3, a4, &j, (int)v61);
              }
              ++i;
            }
            while ( i < v94 )
            {
              for ( j = v108; j < v110; ++j )
              {
                v62 = (CIOBuffer *)v99;
                v20 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v20, a2, a3, a4, &j, (int)v62);
              }
              ++i;
            }
          }
        }
        else
        {
          for ( i = v111; i < v109; ++i )
          {
            for ( j = v108; j < v110; ++j )
            {
              v59 = (CIOBuffer *)v120;
              v17 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v17, a2, a3, a4, &j, (int)v59);
            }
          }
        }
      }
      else if ( Numbera <= 0 )
      {
        if ( Numbera < 0 )
        {
          if ( v126 )
          {
            if ( v126 <= 0 )
            {
              for ( i = v96; i < v111; ++i )
              {
                for ( j = v93; j < v95; ++j )
                {
                  v87 = (CIOBuffer *)v99;
                  v45 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v45, a2, a3, a4, &j, (int)v87);
                }
              }
              while ( i < v94 )
              {
                for ( j = v93; j < v108; ++j )
                {
                  v88 = (CIOBuffer *)v99;
                  v46 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v46, a2, a3, a4, &j, (int)v88);
                }
                while ( j < v95 )
                {
                  v89 = (CIOBuffer *)v120;
                  v47 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v47, a2, a3, a4, &j, (int)v89);
                  ++j;
                }
                while ( j < v110 )
                {
                  v90 = (CIOBuffer *)v113;
                  v48 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v48, a2, a3, a4, &j, (int)v90);
                  ++j;
                }
                ++i;
              }
              while ( i < v109 )
              {
                for ( j = v108; j < v110; ++j )
                {
                  v91 = (CIOBuffer *)v113;
                  v49 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v49, a2, a3, a4, &j, (int)v91);
                }
                ++i;
              }
            }
            else
            {
              for ( i = v111; i < v96; ++i )
              {
                for ( j = v108; j < v110; ++j )
                {
                  v82 = (CIOBuffer *)v113;
                  v40 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v40, a2, a3, a4, &j, (int)v82);
                }
              }
              while ( i < v109 )
              {
                for ( j = v93; j < v108; ++j )
                {
                  v83 = (CIOBuffer *)v99;
                  v41 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v41, a2, a3, a4, &j, (int)v83);
                }
                while ( j < v95 )
                {
                  v84 = (CIOBuffer *)v120;
                  v42 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v42, a2, a3, a4, &j, (int)v84);
                  ++j;
                }
                while ( j < v110 )
                {
                  v85 = (CIOBuffer *)v113;
                  v43 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v43, a2, a3, a4, &j, (int)v85);
                  ++j;
                }
                ++i;
              }
              while ( i < v94 )
              {
                for ( j = v93; j < v95; ++j )
                {
                  v86 = (CIOBuffer *)v99;
                  v44 = (_DWORD *)sub_435780(a1, &j);
                  CSellMap::SendPacket(v44, a2, a3, a4, &j, (int)v86);
                }
                ++i;
              }
            }
          }
          else
          {
            for ( i = v96; i < v94; ++i )
            {
              for ( j = v93; j < v108; ++j )
              {
                v79 = (CIOBuffer *)v99;
                v37 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v37, a2, a3, a4, &j, (int)v79);
              }
              while ( j < v95 )
              {
                v80 = (CIOBuffer *)v120;
                v38 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v38, a2, a3, a4, &j, (int)v80);
                ++j;
              }
              while ( j < v110 )
              {
                v81 = (CIOBuffer *)v113;
                v39 = (_DWORD *)sub_435780(a1, &j);
                CSellMap::SendPacket(v39, a2, a3, a4, &j, (int)v81);
                ++j;
              }
            }
          }
        }
      }
      else if ( v126 )
      {
        if ( v126 <= 0 )
        {
          for ( i = v96; i < v111; ++i )
          {
            for ( j = v93; j < v95; ++j )
            {
              v74 = (CIOBuffer *)v99;
              v32 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v32, a2, a3, a4, &j, (int)v74);
            }
          }
          while ( i < v94 )
          {
            for ( j = v108; j < v93; ++j )
            {
              v75 = (CIOBuffer *)v113;
              v33 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v33, a2, a3, a4, &j, (int)v75);
            }
            while ( j < v110 )
            {
              v76 = (CIOBuffer *)v120;
              v34 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v34, a2, a3, a4, &j, (int)v76);
              ++j;
            }
            while ( j < v95 )
            {
              v77 = (CIOBuffer *)v99;
              v35 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v35, a2, a3, a4, &j, (int)v77);
              ++j;
            }
            ++i;
          }
          while ( i < v109 )
          {
            for ( j = v108; j < v110; ++j )
            {
              v78 = (CIOBuffer *)v113;
              v36 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v36, a2, a3, a4, &j, (int)v78);
            }
            ++i;
          }
        }
        else
        {
          for ( i = v111; i < v96; ++i )
          {
            for ( j = v108; j < v110; ++j )
            {
              v69 = (CIOBuffer *)v113;
              v27 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v27, a2, a3, a4, &j, (int)v69);
            }
          }
          while ( i < v109 )
          {
            for ( j = v108; j < v93; ++j )
            {
              v70 = (CIOBuffer *)v113;
              v28 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v28, a2, a3, a4, &j, (int)v70);
            }
            while ( j < v110 )
            {
              v71 = (CIOBuffer *)v120;
              v29 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v29, a2, a3, a4, &j, (int)v71);
              ++j;
            }
            while ( j < v95 )
            {
              v72 = (CIOBuffer *)v99;
              v30 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v30, a2, a3, a4, &j, (int)v72);
              ++j;
            }
            ++i;
          }
          while ( i < v94 )
          {
            for ( j = v93; j < v95; ++j )
            {
              v73 = (CIOBuffer *)v99;
              v31 = (_DWORD *)sub_435780(a1, &j);
              CSellMap::SendPacket(v31, a2, a3, a4, &j, (int)v73);
            }
            ++i;
          }
        }
      }
      else
      {
        for ( i = v111; i < v109; ++i )
        {
          for ( j = v108; j < v93; ++j )
          {
            v66 = (CIOBuffer *)v113;
            v24 = (_DWORD *)sub_435780(a1, &j);
            CSellMap::SendPacket(v24, a2, a3, a4, &j, (int)v66);
          }
          while ( j < v110 )
          {
            v67 = (CIOBuffer *)v120;
            v25 = (_DWORD *)sub_435780(a1, &j);
            CSellMap::SendPacket(v25, a2, a3, a4, &j, (int)v67);
            ++j;
          }
          while ( j < v95 )
          {
            v68 = (CIOBuffer *)v99;
            v26 = (_DWORD *)sub_435780(a1, &j);
            CSellMap::SendPacket(v26, a2, a3, a4, &j, (int)v68);
            ++j;
          }
        }
      }
      sub_480100((int)a1, a2, a3, a4, &v100, &v116, v112);
      CIOBuffer::Release((CIOBuffer *)v113);
      CIOBuffer::Release((CIOBuffer *)v99);
      CIOBuffer::Release((CIOBuffer *)v120);
      result = 1;
    }
    else
    {
      sub_480100((int)a1, a2, a3, a4, &v100, &v116, v112);
      result = 0;
    }
  }
  else
  {
    v11 = unknown_libname_4(a5);
    LOG_NORMAL("invalid monster move(%d : %d, %d)", v11, Number, a7);
    result = 0;
  }
  return result;
}
// 481838: conditional instruction was optimized away because of '%arg_8.4<0'
// 481BAD: conditional instruction was optimized away because of '%arg_8.4<0'
// 481F8F: conditional instruction was optimized away because of '%arg_8.4<0'

//----- (00482140) --------------------------------------------------------
int __userpurge sub_482140@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _DWORD *a6, int a7)
{
  _DWORD *v7; // eax
  int v10[4]; // [esp+4h] [ebp-28h] BYREF
  int v11[4]; // [esp+14h] [ebp-18h] BYREF
  int j; // [esp+24h] [ebp-8h] BYREF
  int i; // [esp+28h] [ebp-4h]

  sub_481210(a6, v10, 25);
  sub_4812E0(v10, v11);
  sub_47FEF0(a1, v10, v11);
  for ( i = v10[3]; i < v10[1]; ++i )
  {
    for ( j = v10[0]; j < v10[2]; ++j )
    {
      v7 = (_DWORD *)sub_435780(a1, &j);
      CSellMap::SendCreate(v7, a2, a3, a4, a5, &j, a7);
    }
  }
  return sub_47FFA0((int)a1, a2, a3, a4, v10, v11);
}

//----- (004821F0) --------------------------------------------------------
int __userpurge sub_4821F0@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int v10[4]; // [esp+4h] [ebp-28h] BYREF
  int v11[4]; // [esp+14h] [ebp-18h] BYREF
  int j; // [esp+24h] [ebp-8h] BYREF
  int i; // [esp+28h] [ebp-4h]

  sub_481210(a5, v10, a7);
  sub_4812E0(v10, v11);
  sub_47FEF0(a1, v10, v11);
  for ( i = v10[3]; i < v10[1]; ++i )
  {
    for ( j = v10[0]; j < v10[2]; ++j )
    {
      v7 = (_DWORD *)sub_435780(a1, &j);
      CSellMap::SendPacket(v7, a2, a3, a4, &j, a6);
    }
  }
  return sub_47FFA0((int)a1, a2, a3, a4, v10, v11);
}

//----- (004822A0) --------------------------------------------------------
CMemory *__userpurge sub_4822A0@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  _DWORD *v6; // eax
  int v9[4]; // [esp+4h] [ebp-2Ch] BYREF
  CMemory *v10; // [esp+14h] [ebp-1Ch] BYREF
  int v11[4]; // [esp+18h] [ebp-18h] BYREF
  int j; // [esp+28h] [ebp-8h] BYREF
  int i; // [esp+2Ch] [ebp-4h]

  v10 = 0;
  sub_481210(a5, v9, a6);
  sub_4812E0(v9, v11);
  sub_47FEF0(a1, v9, v11);
  for ( i = v9[3]; i < v9[1]; ++i )
  {
    for ( j = v9[0]; j < v9[2]; ++j )
    {
      v6 = (_DWORD *)sub_435780(a1, &j);
      CSellMap::GetPlayerList(v6, a2, a3, a4, &j, &v10);
    }
  }
  sub_47FFA0((int)a1, a2, a3, a4, v9, v11);
  return v10;
}

//----- (00482350) --------------------------------------------------------
CMemory *__userpurge sub_482350@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  _DWORD *v6; // eax
  int v9[4]; // [esp+4h] [ebp-2Ch] BYREF
  CMemory *v10; // [esp+14h] [ebp-1Ch] BYREF
  int v11[4]; // [esp+18h] [ebp-18h] BYREF
  int j; // [esp+28h] [ebp-8h] BYREF
  int i; // [esp+2Ch] [ebp-4h]

  v10 = 0;
  sub_481210(a5, v9, a6);
  sub_4812E0(v9, v11);
  sub_47FEF0(a1, v9, v11);
  for ( i = v9[3]; i < v9[1]; ++i )
  {
    for ( j = v9[0]; j < v9[2]; ++j )
    {
      v6 = (_DWORD *)sub_435780(a1, &j);
      CSellMap::GetPlayerMonsterList(v6, a2, a3, a4, &j, &v10);
    }
  }
  sub_47FFA0((int)a1, a2, a3, a4, v9, v11);
  return v10;
}

//----- (00482400) --------------------------------------------------------
Concurrency::details::_CancellationTokenRegistration *__userpurge sub_482400@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6)
{
  _DWORD *v6; // eax
  int i; // [esp+8h] [ebp-30h]
  int v10[4]; // [esp+Ch] [ebp-2Ch] BYREF
  Concurrency::details::_CancellationTokenRegistration *v11; // [esp+1Ch] [ebp-1Ch] BYREF
  int v12[4]; // [esp+20h] [ebp-18h] BYREF
  int k; // [esp+30h] [ebp-8h] BYREF
  int j; // [esp+34h] [ebp-4h]

  v11 = 0;
  sub_481210(a5, v10, a6);
  sub_4812E0(v10, v12);
  sub_47FEF0(a1, v10, v12);
  for ( i = 1; i <= a6; ++i )
  {
    for ( j = a5[1] - i; j <= i + a5[1]; ++j )
    {
      for ( k = *a5 - i; k <= i + *a5; ++k )
      {
        v6 = (_DWORD *)sub_435780(a1, &k);
        if ( sub_47FA20(v6, a2, a3, a4, &k, &v11) )
          goto LABEL_14;
        if ( j != a5[1] - i && j != i + a5[1] )
          k += 2 * i - 1;
      }
    }
  }
LABEL_14:
  sub_47FFA0((int)a1, a2, a3, a4, v10, v12);
  return v11;
}

//----- (00482520) --------------------------------------------------------
Concurrency::details::_CancellationTokenRegistration *__userpurge sub_482520@<eax>(char *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5, int a6, int a7)
{
  _DWORD *v7; // eax
  int i; // [esp+8h] [ebp-30h]
  int v11[4]; // [esp+Ch] [ebp-2Ch] BYREF
  int v12[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int k; // [esp+2Ch] [ebp-Ch] BYREF
  int j; // [esp+30h] [ebp-8h]
  Concurrency::details::_CancellationTokenRegistration *v15; // [esp+34h] [ebp-4h] BYREF

  v15 = 0;
  sub_481210(a5, v11, a7);
  sub_4812E0(v11, v12);
  sub_47FEF0(a1, v11, v12);
  for ( i = 1; i <= a7; ++i )
  {
    for ( j = a5[1] - i; j <= i + a5[1]; ++j )
    {
      for ( k = *a5 - i; k <= i + *a5; ++k )
      {
        v7 = (_DWORD *)sub_435780(a1, &k);
        if ( sub_47FB20(v7, a2, a3, a4, &k, a6, &v15) )
          goto LABEL_14;
        if ( j != a5[1] - i && j != i + a5[1] )
          k += 2 * i - 1;
      }
    }
  }
LABEL_14:
  sub_47FFA0((int)a1, a2, a3, a4, v11, v12);
  return v15;
}

//----- (00482650) --------------------------------------------------------
void __userpurge sub_482650(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int *a7)
{
  int v7; // eax
  CMemory **v8; // [esp+4h] [ebp-24h]
  CRWLock *v9; // [esp+8h] [ebp-20h]
  int v10[2]; // [esp+Ch] [ebp-1Ch] BYREF
  Concurrency::details::_CancellationTokenRegistration *v11; // [esp+14h] [ebp-14h]
  Concurrency::details::_CancellationTokenRegistration **v12; // [esp+18h] [ebp-10h]
  int v13; // [esp+1Ch] [ebp-Ch]
  _DWORD *v14; // [esp+20h] [ebp-8h]
  volatile int *v15; // [esp+24h] [ebp-4h]

  v14 = (_DWORD *)sub_481340(a1, a7);
  if ( !v14 )
    return;
  v11 = 0;
  v10[0] = (unsigned __int8)*a7;
  v10[1] = (unsigned __int8)a7[1];
  v9 = (CRWLock *)CCellMap::GetLock(v14, v10);
  CIOCriticalSection::Enter((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
  CRWLock::WriteLock(v9);
  v12 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(v14, v10);
  v13 = 0;
  v15 = 0;
  v11 = CTile::GetItem(v12, a2, a3, a4, a6);
  if ( v11 && !sub_40A640(v11) && sub_440790((_DWORD *)(a5 + 324), (_DWORD *)v11 + 15) <= 64 )
  {
    if ( *((_DWORD *)v11 + 19) && (*((_DWORD *)v11 + 18) || (v7 = unknown_libname_4(a5), *((_DWORD *)v11 + 19) != v7)) )
    {
      if ( *((_DWORD *)v11 + 18) && *((_DWORD *)v11 + 19) == *(_DWORD *)(a5 + 928) )
      {
        v15 = sub_443890(a2, a3, a4, *((_DWORD *)v11 + 19));
        if ( v15 )
        {
          sub_484860(v12, v11);
          CRWLock::WriteUnlock(v9, a2, a3, a4);
          CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
          CParty::StoreItem((int)v15, a2, a3, a4, (int)v11);
          v13 = 1;
          goto LABEL_18;
        }
      }
      else
      {
        sub_448C90(a2, a3, a4, a5, 36, "b", 23);
      }
    }
    else
    {
      sub_4010D0((volatile int *)v11, a2, a3, a4);
      if ( sub_452300((char *)a5, a2, a3, a4, 12, v11) == 1 )
      {
        sub_484860(v12, v11);
        *((_DWORD *)v11 + 18) = 0;
        *((_DWORD *)v11 + 19) = 0;
        *((_DWORD *)v11 + 17) = 0;
        *((_DWORD *)v11 + 14) = 0;
        v13 = 1;
      }
      sub_401C50((volatile int *)v11, a2, a3, a4);
    }
  }
  CRWLock::WriteUnlock(v9, a2, a3, a4);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a5 + 932), a2, a3, a4);
LABEL_18:
  if ( v13 )
  {
    if ( v15 )
    {
      sub_444C90((int)v15, a2, a3, a4, (_DWORD *)(a5 + 324));
      sub_401C50(v15, a2, a3, a4);
    }
    v8 = sub_445C90(a2, a3, a4, 28, "d", a6);
    sub_4821F0(*(char **)(a5 + 312), a2, a3, a4, a7, (int)v8, 25);
    CIOBuffer::Release((CIOBuffer *)v8);
  }
}

//----- (004828A0) --------------------------------------------------------
void __userpurge sub_4828A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 28), a2, a3, a4);
  *(_DWORD *)(a1 + 20) = *(_DWORD *)(a1 + 24);
  switch ( *(_DWORD *)(a1 + 20) )
  {
    case 0:
      break;
    case 1:
      *(_DWORD *)(a1 + 24) = 2;
      sub_446920(a2, a3, a4, *(_DWORD *)(a1 + 16), 92, "bb", *(_DWORD *)(a1 + 20), 95);
      CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, 0x186A0u, 0);
      break;
    case 2:
      *(_DWORD *)(a1 + 24) = 3;
      CNPCScenario::MirrorGState(a2, a3, a4, 1, 2);
      CNPCScenario::ThroneGState(a2, a3, a4, 1, 4);
      sub_446920(a2, a3, a4, *(_DWORD *)(a1 + 16), 92, "bb", *(_DWORD *)(a1 + 20), 96);
      CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, 0x222E0u, 0);
      break;
    case 3:
      *(_DWORD *)(a1 + 24) = 4;
      CNPCScenario::ThroneGState(a2, a3, a4, 1, 8);
      sub_446920(a2, a3, a4, *(_DWORD *)(a1 + 16), 92, "bb", *(_DWORD *)(a1 + 20), 97);
      CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, 0x7530u, 0);
      break;
    case 4:
      *(_DWORD *)(a1 + 24) = 5;
      sub_446920(a2, a3, a4, *(_DWORD *)(a1 + 16), 92, "bb", *(_DWORD *)(a1 + 20), 98);
      CIOObject::AddTimer((CIOObject *)a1, a2, a3, a4, 0x7530u, 0);
      break;
    case 5:
      *(_DWORD *)(a1 + 24) = 0;
      *(_DWORD *)(a1 + 20) = 0;
      sub_43BE20(a2, a3, a4);
      break;
    default:
      *(_DWORD *)(a1 + 24) = 0;
      *(_DWORD *)(a1 + 20) = 0;
      break;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 28), a2, a3, a4);
}

//----- (00482A50) --------------------------------------------------------
int __thiscall sub_482A50(_DWORD *this, int a2, int a3)
{
  this[4] = a2;
  this[6] = a3;
  return (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 8))(this, 0);
}

//----- (00482A80) --------------------------------------------------------
int __usercall sub_482A80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  int v6; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)(a1 + 28), a2, a3, a4);
  v6 = *(_DWORD *)(a1 + 20);
  CIOCriticalSection::Leave((CIOCriticalSection *)(a1 + 28), a2, a3, a4);
  return v6;
}

//----- (00482AB0) --------------------------------------------------------
void *__thiscall sub_482AB0(void *this)
{
  int v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = unknown_libname_14(&v5);
  sub_46FB30(this, &v4, v1);
  return this;
}
// 42FB90: using guessed type int __thiscall unknown_libname_14(_DWORD);

//----- (00482AE0) --------------------------------------------------------
CMemory **__cdecl sub_482AE0(int a1)
{
  return sub_401000(24 * a1);
}

//----- (00482B00) --------------------------------------------------------
int __thiscall sub_482B00(int this)
{
  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_4A1D14;
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(this + 28));
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 16) = 0;
  return this;
}
// 4A1D14: using guessed type int (__stdcall *off_4A1D14)(int);

//----- (00482B50) --------------------------------------------------------
void *__userpurge sub_482B50@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_482B80((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00482B80) --------------------------------------------------------
_DWORD *__usercall sub_482B80@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *(_DWORD *)a1 = &off_4A1D14;
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 28), a2, a3, a4);
  return sub_422250((_DWORD *)a1);
}
// 4A1D14: using guessed type int (__stdcall *off_4A1D14)(int);

//----- (00482BB0) --------------------------------------------------------
int __thiscall sub_482BB0(int *this)
{
  return sub_482BD0(this);
}

//----- (00482BD0) --------------------------------------------------------
int __thiscall sub_482BD0(int *this)
{
  return sub_482BF0(this);
}

//----- (00482BF0) --------------------------------------------------------
int __thiscall sub_482BF0(int *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_482CA0(this, v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_482CC0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = unknown_libname_21(this[1]);
  sub_441D00(v2);
  v3 = sub_465290(this[1]);
  sub_441D00(v3);
  v4 = sub_41BA20(this[1]);
  sub_441D00(v4);
  sub_441930((void *)this[1], 1);
  this[1] = 0;
  this[2] = 0;
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00482CA0) --------------------------------------------------------
void *__thiscall sub_482CA0(int *this, void *a2)
{
  sub_42D570(a2, this[1]);
  return a2;
}

//----- (00482CC0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_482CC0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  void *v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_25(v4)
    && (v5 = sub_482CA0((int *)this, v11), (unsigned __int8)unknown_libname_25(v5)) )
  {
    sub_482D60((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_46FA50(&a3, &v10, 0);
      sub_4653E0((int *)this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 465060: using guessed type _DWORD __stdcall unknown_libname_25(_DWORD);

//----- (00482D60) --------------------------------------------------------
_DWORD *__thiscall sub_482D60(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_41BA00(this);
  sub_482DC0(*v1);
  *(_DWORD *)sub_41BA00(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_4653C0(this) = this[1];
  result = (_DWORD *)sub_465270(this);
  *result = this[1];
  return result;
}

//----- (00482DC0) --------------------------------------------------------
int __stdcall sub_482DC0(void *a1)
{
  char *i; // eax
  int result; // eax
  _DWORD *v3; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = (int)a1;
  for ( i = (char *)sub_46DDD0((int)a1); ; i = (char *)sub_46DDD0(v4) )
  {
    result = *i;
    if ( result )
      break;
    v3 = (_DWORD *)sub_41BA20(v4);
    sub_482DC0(*v3);
    v4 = *(_DWORD *)unknown_libname_21(v4);
    sub_441D00((int)a1);
    sub_441930(a1, 1);
    a1 = (void *)v4;
  }
  return result;
}
// 441920: using guessed type _DWORD __cdecl unknown_libname_21(_DWORD);

//----- (00482E40) --------------------------------------------------------
int __cdecl sub_482E40(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_41BA20(a1);
    if ( *(_BYTE *)sub_46DDD0(*v1) )
      break;
    a1 = *(_DWORD *)sub_41BA20(a1);
  }
  return a1;
}

//----- (00482E80) --------------------------------------------------------
int __stdcall sub_482E80(_BYTE *a1)
{
  unsigned __int8 *v2; // [esp+8h] [ebp+8h]

  if ( !*a1 )
    return 0;
  do
  {
    if ( (unsigned __int8)*a1 >= 0x80u )
    {
      v2 = a1 + 1;
      if ( *v2 < 0x80u )
        return 0;
      a1 = v2 + 1;
    }
    else
    {
      if ( (unsigned __int8)*a1 <= 0x20u || strchr("',\"", (char)*a1) )
        return 0;
      ++a1;
    }
  }
  while ( *a1 );
  return 1;
}

//----- (00482F10) --------------------------------------------------------
_DWORD *__userpurge sub_482F10@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  CIOSocket::CIOSocket((int)a1, a2, a3, a4, a5);
  *a1 = &off_4A1D30;
  a1[27] = 0;
  a1[46] = InterlockedIncrement(&dword_4BA3C0);
  a1[31] = 0;
  a1[32] = 0;
  a1[34] = *(_DWORD *)(a6 + 4);
  a1[33] = *(unsigned __int16 *)(a6 + 2);
  a1[30] = 0;
  a1[35] = 0;
  a1[37] = 0;
  a1[42] = 0;
  a1[39] = 0;
  a1[40] = 0;
  a1[41] = 0;
  memset(a1 + 43, 0, 0xBu);
  return a1;
}
// 4A1D30: using guessed type int (__stdcall *off_4A1D30)(int);

//----- (00483000) --------------------------------------------------------
_DWORD *__userpurge sub_483000@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  sub_483030(a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (00483030) --------------------------------------------------------
_DWORD *__usercall sub_483030@<eax>(_DWORD *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *a1 = &off_4A1D30;
  return CIOSocket::_CIOSocket((int)a1, a2, a3, a4);
}
// 4A1D30: using guessed type int (__stdcall *off_4A1D30)(int);

//----- (00483050) --------------------------------------------------------
void __usercall sub_483050(struct in_addr *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  char *v4; // eax
  ULONG v5; // [esp-8h] [ebp-Ch]
  Concurrency::details::SchedulingRing *v7; // [esp+0h] [ebp-4h]

  v7 = (Concurrency::details::SchedulingRing *)a1;
  v5 = a1[33].S_un.S_addr;
  v4 = inet_ntoa(a1[34]);
  LOG_INFO("new connection in_addr(%s) port(%d) socket(%p)", v4, v5, a1);
  sub_46F4C0(a2, a3, a4, v7);
  sub_422CC0(v7, a2, a3, a4);
  if ( dword_4B8C44 < sub_46F5A0() && *((_DWORD *)v7 + 34) != inet_addr("211.108.45.218") )
  {
    CSocket::Write(a2, a3, a4, (int)v7, 8, "b", 6);
    sub_483E60((int)v7, a2, a3, a4, 6);
    CIOSocket::GracefulClose(v7, a2, a3, a4);
  }
}
// 4B8C44: using guessed type int dword_4B8C44;

//----- (004830F0) --------------------------------------------------------
void __usercall sub_4830F0(int a1@<ecx>, DWORD a2@<ebx>, char *a3@<edi>, DWORD a4@<esi>)
{
  char *v4; // eax
  char *v5; // eax
  int v6; // [esp-8h] [ebp-24h]
  int v7; // [esp-4h] [ebp-20h]
  int v8; // [esp-4h] [ebp-20h]
  char v9; // [esp+3h] [ebp-19h]
  int v11; // [esp+Ch] [ebp-10h]
  unsigned int v12; // [esp+10h] [ebp-Ch]
  unsigned __int8 *i; // [esp+14h] [ebp-8h]
  unsigned int Size; // [esp+18h] [ebp-4h]

  if ( *(int *)(a1 + 104) <= 0xFFFF )
  {
    Size = *(_DWORD *)(*(_DWORD *)(a1 + 92) + 8000);
    for ( i = *(unsigned __int8 **)(a1 + 92); ; i += v12 )
    {
      if ( Size < 3 )
        goto LABEL_5;
      v11 = i[2];
      v12 = *(unsigned __int16 *)i;
      if ( Size < v12 )
        break;
      if ( *(unsigned __int16 *)i < 3u )
      {
        LOG_ERR("invalid buffer size. (type:%d, size:%d, bit:%X)", v11, v12, *(_DWORD *)(a1 + 108));
        CIOSocket::Close((CIOSocket *)a1, a2, (DWORD)a3, a4);
        return;
      }
      v9 = (*(_DWORD *)(a1 + 128))++ & 0x3F;
      Decode(a2, (DWORD)a3, a4, v9, i + 3, v12 - 3);
      sub_483420((struct in_addr *)a1, a2, a3, a4, (unsigned __int16 *)i);
      Size -= v12;
    }
    if ( *(unsigned __int16 *)i <= 0x1F40u )
    {
LABEL_5:
      CIOSocket::Read((CIOSocket *)a1, a2, (DWORD)a3, a4, Size);
      return;
    }
    v8 = Concurrency::details::SchedulingRing::Id((Concurrency::details::SchedulingRing *)a1);
    v5 = inet_ntoa(*(struct in_addr *)(a1 + 136));
    LOG_NORMAL(
      "exceed buffer size. (type %d) (size %d) (bit %X) (addr %s) (SID %x) ",
      v11,
      v12,
      *(_DWORD *)(a1 + 108),
      v5,
      v8);
    CIOSocket::Close((CIOSocket *)a1, a2, (DWORD)a3, a4);
  }
  else
  {
    v7 = Concurrency::details::SchedulingRing::Id((Concurrency::details::SchedulingRing *)a1);
    v6 = *(_DWORD *)(a1 + 104);
    v4 = inet_ntoa(*(struct in_addr *)(a1 + 136));
    LOG_NORMAL("close pending socket (addr %s) (bytes %d) (id %x)", v4, v6, v7);
    CIOSocket::Close((CIOSocket *)a1, a2, (DWORD)a3, a4);
  }
}

//----- (00483280) --------------------------------------------------------
void __usercall sub_483280(Concurrency::details::SchedulingRing *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  volatile int *v5; // [esp+4h] [ebp-4h]

  sub_46F550(a2, a3, a4, a1);
  sub_483E60((int)a1, a2, a3, a4, 0);
  v5 = (volatile int *)*((_DWORD *)a1 + 30);
  if ( v5 )
  {
    Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    *((_DWORD *)a1 + 30) = 0;
    Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    CIOObject::Release((CIOObject *)v5, a2, a3, a4, v5 + 108);
  }
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (004832E0) --------------------------------------------------------
int __thiscall sub_4832E0(void *this)
{
  int v2; // [esp+0h] [ebp-Ch]
  char optval[2]; // [esp+4h] [ebp-8h] BYREF
  __int16 v4; // [esp+6h] [ebp-6h]
  SOCKET s; // [esp+8h] [ebp-4h]

  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(this, this);
  s = InterlockedExchange((volatile LONG *)(v2 + 16), 0);
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(v2);
  *(_WORD *)optval = 1;
  v4 = 0;
  setsockopt(s, 0xFFFF, 128, optval, 4);
  return closesocket(s);
}
// 4832F9: variable 'v2' is possibly undefined
// 4302C0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD, _DWORD);
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00483340) --------------------------------------------------------
int __thiscall sub_483340(void *this)
{
  int v2; // [esp+0h] [ebp-4h]

  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(this, this);
  shutdown(*(_DWORD *)(v2 + 16), 2);
  return Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(v2);
}
// 483354: variable 'v2' is possibly undefined
// 4302C0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD, _DWORD);
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00483370) --------------------------------------------------------
void __userpurge sub_483370(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, void *Src)
{
  Encode(a2, a3, a4, *(_BYTE *)(a1 + 124), (unsigned __int8 *)Src + 3, *((_DWORD *)Src + 2000) - 3);
  CIOSocket::Write((CIOSocket *)a1, a2, a3, a4, (CIOBuffer *)Src);
}

//----- (004833B0) --------------------------------------------------------
void __usercall CSocket::Write(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, int a4, char a5, ...)
{
  CMemory **v5; // [esp+0h] [ebp-10h]
  va_list va; // [esp+20h] [ebp+10h] BYREF

  va_start(va, a5);
  v5 = CIOBuffer::Alloc();
  *((_BYTE *)v5 + 2) = a5;
  *(_WORD *)v5 = (unsigned __int16)WritePacket(a1, a2, a3, (char *)v5 + 3, (int)va) - (_WORD)v5;
  v5[2000] = (CMemory *)*(unsigned __int16 *)v5;
  sub_483370(a4, a1, a2, a3, v5);
}

//----- (00483420) --------------------------------------------------------
void __userpurge sub_483420(struct in_addr *a1@<ecx>, DWORD a2@<ebx>, char *a3@<edi>, DWORD a4@<esi>, unsigned __int16 *a5)
{
  int v5; // eax
  int v6; // eax
  char *v7; // eax
  ULONG v8; // [esp-Ch] [ebp-60h]
  const void *v9; // [esp-8h] [ebp-5Ch]
  int v10; // [esp-4h] [ebp-58h]
  int v12; // [esp+8h] [ebp-4Ch] BYREF
  int v13; // [esp+Ch] [ebp-48h] BYREF
  unsigned __int8 v14; // [esp+13h] [ebp-41h] BYREF
  const char *v15; // [esp+14h] [ebp-40h] BYREF
  const char *v16; // [esp+18h] [ebp-3Ch] BYREF
  int v17; // [esp+1Ch] [ebp-38h] BYREF
  unsigned __int8 v18; // [esp+23h] [ebp-31h] BYREF
  unsigned __int8 v19; // [esp+24h] [ebp-30h] BYREF
  unsigned __int8 v20; // [esp+25h] [ebp-2Fh] BYREF
  unsigned __int8 v21; // [esp+26h] [ebp-2Eh] BYREF
  unsigned __int8 v22; // [esp+27h] [ebp-2Dh] BYREF
  const char *v23; // [esp+28h] [ebp-2Ch] BYREF
  unsigned __int8 v24; // [esp+2Dh] [ebp-27h] BYREF
  unsigned __int8 v25; // [esp+2Eh] [ebp-26h] BYREF
  unsigned __int8 v26; // [esp+2Fh] [ebp-25h] BYREF
  _BYTE *v27; // [esp+30h] [ebp-24h] BYREF
  char *v28; // [esp+34h] [ebp-20h] BYREF
  int v29; // [esp+38h] [ebp-1Ch]
  int v30; // [esp+3Ch] [ebp-18h] BYREF
  int v31; // [esp+40h] [ebp-14h] BYREF
  int v32; // [esp+44h] [ebp-10h]
  void *Src; // [esp+48h] [ebp-Ch]
  int v34; // [esp+4Ch] [ebp-8h]
  char v35[4]; // [esp+50h] [ebp-4h]

  Src = (char *)a5 + 3;
  v34 = (int)a5 + *a5;
  *(_DWORD *)v35 = *((unsigned __int8 *)a5 + 2);
  if ( *(int *)v35 >= 11 )
  {
    if ( a1[30].S_un.S_addr )
    {
      sub_448D00(a1[30].S_un.S_addr, a2, a3, a4, *(int *)v35, Src, v34);
    }
    else
    {
LABEL_46:
      if ( !sub_483A90(a1, 6) )
      {
        v10 = Concurrency::details::SchedulingRing::Id((Concurrency::details::SchedulingRing *)a1);
        v9 = (const void *)a1[30].S_un.S_addr;
        v8 = a1[33].S_un.S_addr;
        v7 = inet_ntoa(a1[34]);
        LOG_NORMAL(
          "Invalid state at CSocket::Process() Type(%d) UID(%d) Bit(%x) Addr(%s) Port(%d) Player(%p) SID(%x)",
          *(_DWORD *)v35,
          a1[37].S_un.S_addr,
          a1[27].S_un.S_addr,
          v7,
          v8,
          v9,
          v10);
      }
    }
  }
  else
  {
    switch ( *(_DWORD *)v35 )
    {
      case 0:
        if ( (a1[27].S_un.S_addr & 0x43) != 0 )
          goto LABEL_46;
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)v34, "d", &v30);
        a1[35].S_un.S_addr = v30 - GetTickCount();
        v29 = RandomBetween(0, 63);
        CSocket::Write(
          a2,
          (DWORD)a3,
          a4,
          (int)a1,
          0,
          "bbddddbbb",
          8,
          v29,
          dword_4B8C38,
          Time,
          *(_DWORD *)dword_4B8C30,
          dword_4B8C34,
          dword_4B8C40,
          dword_4B8C3C,
          dword_4BAAA0);
        a1[32].S_un.S_addr = v29;
        a1[31].S_un.S_addr = v29;
        return;
      case 1:
        if ( (a1[27].S_un.S_addr & 0x43) != 0 )
          goto LABEL_46;
        if ( !*(_BYTE *)Src )
          CIOSocket::Close((CIOSocket *)a1, a2, (DWORD)a3, a4);
        return;
      case 2:
        if ( (a1[27].S_un.S_addr & 0x43) != 0 )
          goto LABEL_46;
        if ( (dword_4B8C30[0] & 8) != 0 )
        {
          ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)v34, "ss", &v28, 17, &v27, 9);
          if ( !sub_482E80(v28) )
          {
LABEL_21:
            CSocket::Write(a2, (DWORD)a3, a4, (int)a1, 1, "b", 2);
            return;
          }
          if ( !*v27 )
          {
            CSocket::Write(a2, (DWORD)a3, a4, (int)a1, 1, "b", 3);
            return;
          }
        }
        else
        {
          ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)v34, "ss", &v28, 17, &v27, 17);
          if ( !IsValidAdminName(v28) )
            goto LABEL_21;
        }
        CAuthSocket::Write(
          a2,
          (DWORD)a3,
          a4,
          1,
          "dssdw",
          a1[46].S_un.S_addr,
          v28,
          v27,
          a1[34].S_un.S_addr,
          a1[33].S_un.S_addr);
        sub_484FE0((volatile signed __int32 *)&a1[27], 0);
        break;
      case 3:
        if ( (a1[27].S_un.S_addr & 0x4E) != 2 )
          goto LABEL_46;
        Src = ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)v34, "s", &v23, 15);
        if ( IsValidName(v23) )
        {
          ScanPacket(
            a2,
            (DWORD)a3,
            a4,
            (char *)Src,
            (char *)v34,
            "bbbbbbbb",
            &v19,
            &v26,
            &v24,
            &v22,
            &v18,
            &v20,
            &v25,
            &v21);
          CDBSocket::Write(
            a2,
            (DWORD)a3,
            a4,
            34,
            "dsdbbbbbbbb",
            a1[46].S_un.S_addr,
            v23,
            a1[37].S_un.S_addr,
            v19,
            v26,
            v24,
            v22,
            v18,
            v20,
            v25,
            v21);
        }
        else
        {
          CSocket::Write(a2, (DWORD)a3, a4, (int)a1, 36, "b", 4);
        }
        return;
      case 4:
        if ( (a1[27].S_un.S_addr & 0x4E) != 2 )
          goto LABEL_46;
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)v34, "d", &v17);
        if ( v17 )
          CDBSocket::Write(a2, (DWORD)a3, a4, 0, "ddd", v17, a1[37].S_un.S_addr, a1[46].S_un.S_addr);
        return;
      case 5:
        if ( (a1[27].S_un.S_addr & 0x4E) != 2 )
          goto LABEL_46;
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)v34, "dd", &v13, &v12);
        sub_484070((int)a1, a2, (DWORD)a3, a4, v13, v12);
        return;
      case 6:
        InterlockedDecrement((volatile LONG *)&a1[42]);
        ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)v34, "d", &v31);
        v32 = v31 - GetTickCount() - a1[35].S_un.S_addr;
        if ( v32 <= 10000 )
        {
          if ( v32 < -10000 )
          {
            if ( v32 < -30000 )
            {
              v6 = Concurrency::details::SchedulingRing::Id((Concurrency::details::SchedulingRing *)a1);
              LOG_NORMAL("[SpeedHack] UID(%d) Diff(%d) SID(%x)", a1[37].S_un.S_addr, v32, v6);
            }
            a1[35].S_un.S_addr += v32 + 10000;
          }
        }
        else if ( v32 <= 30000 )
        {
          a1[35].S_un.S_addr += 1000;
        }
        else
        {
          v5 = Concurrency::details::SchedulingRing::Id((Concurrency::details::SchedulingRing *)a1);
          LOG_NORMAL("[SpeedHack] UID(%d) Diff(%d) SID(%x)", a1[37].S_un.S_addr, v32, v5);
          CSocket::Write(a2, (DWORD)a3, a4, (int)a1, 8, "b", 4);
          sub_483E60((int)a1, a2, (DWORD)a3, a4, 4);
        }
        return;
      case 7:
        if ( (a1[27].S_un.S_addr & 0x4E) != 2 )
          goto LABEL_46;
        if ( (*(_WORD *)dword_4B8C30 & 0x100) != 0 )
        {
          ScanPacket(a2, (DWORD)a3, a4, (char *)Src, (char *)v34, "bss", &v14, &v16, 17, &v15, 15);
          if ( IsValidAdminName(v16) && IsValidName(v15) )
          {
            sub_484FE0((volatile signed __int32 *)&a1[27], 2u);
            CDBSocket::Write(a2, (DWORD)a3, a4, 52, "dbdss", a1[46].S_un.S_addr, v14, a1[37].S_un.S_addr, v16, v15);
          }
          else
          {
            CSocket::Write(a2, (DWORD)a3, a4, (int)a1, 36, "b", 4);
          }
        }
        return;
      default:
        goto LABEL_46;
    }
  }
}
// 4B8C34: using guessed type int dword_4B8C34;
// 4B8C38: using guessed type int dword_4B8C38;
// 4B8C3C: using guessed type int dword_4B8C3C;
// 4B8C40: using guessed type int dword_4B8C40;
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00483A90) --------------------------------------------------------
int __thiscall sub_483A90(_DWORD *this, char a2)
{
  return this[27] & (1 << a2);
}

//----- (00483AB0) --------------------------------------------------------
int __userpurge sub_483AB0@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8, int a9, void *Src)
{
  int v10; // eax
  int result; // eax
  int v12; // [esp-1Ch] [ebp-24h]
  int v13; // [esp-18h] [ebp-20h]

  if ( a5 == 1 )
  {
    Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    if ( sub_483A90((_DWORD *)a1, 6) )
    {
      v13 = *(_DWORD *)(a1 + 132);
      v12 = *(_DWORD *)(a1 + 136);
      v10 = Concurrency::details::SchedulingRing::Id((Concurrency::details::SchedulingRing *)a1);
      CAuthSocket::Write(a2, a3, a4, 2, "dddwbdddb", v10, a6, v12, v13, a7, 0, 0, 0, 7);
    }
    else
    {
      if ( *(_DWORD *)(a1 + 148) )
        EBREAK(a2, a3, a4);
      *(_DWORD *)(a1 + 148) = a6;
      *(_DWORD *)(a1 + 152) = a7 | (a9 != 0 ? 512 : 256);
      *(_DWORD *)(a1 + 156) = a8;
      time((__time32_t *const)(a1 + 144));
      *(_DWORD *)(a1 + 160) = *(_DWORD *)(a1 + 144);
      memcpy((void *)(a1 + 172), Src, 0xAu);
      CDBSocket::Write(a2, a3, a4, 33, "dd", *(_DWORD *)(a1 + 184), a6);
    }
    result = Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
  }
  else if ( a5 > 1 && a5 <= 9 )
  {
    CSocket::Write(a2, a3, a4, a1, 1, "b", a5);
    result = sub_484FF0((volatile signed __int32 *)(a1 + 108), 0);
  }
  else
  {
    CSocket::Write(a2, a3, a4, a1, 1, "b", 0);
    result = sub_484FF0((volatile signed __int32 *)(a1 + 108), 0);
  }
  return result;
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00483C30) --------------------------------------------------------
void __userpurge sub_483C30(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  sub_484FE0((volatile signed __int32 *)(a1 + 108), 1u);
  if ( dword_4BAAA0 == 1 && (dword_4B8C30[0] & 4) != 0 )
    CSocket::Write(a2, a3, a4, a1, 80, "bd", *(_DWORD *)(a1 + 152) & 0x30, *(_DWORD *)(a1 + 156));
  CSocket::Write(a2, a3, a4, a1, 3, "bdbm", *(_DWORD *)(a1 + 152), *(_DWORD *)(a1 + 156), a6, a5, a7);
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00483CC0) --------------------------------------------------------
void __userpurge sub_483CC0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  CSocket::Write(a2, a3, a4, a1, 37, "bbww", 15, a5, a6, a7);
}

//----- (00483CF0) --------------------------------------------------------
void __userpurge sub_483CF0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7)
{
  CSocket::Write(a2, a3, a4, a1, 37, "bwwd", 16, a5, a6, a7);
}

//----- (00483D20) --------------------------------------------------------
void __userpurge sub_483D20(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src)
{
  LONG v6; // eax
  _DWORD *v8; // [esp+4h] [ebp-Ch]
  unsigned __int8 v9; // [esp+Bh] [ebp-5h] BYREF
  int v10; // [esp+Ch] [ebp-4h] BYREF

  if ( a5 == 1 )
  {
    sub_485530(a2, a3, a4, Src, "db", &v10, &v9);
    if ( v10 )
    {
      v8 = CItem::CreateItem(dword_4AEA24[v9], 0, 1, -1);
      if ( v8 )
      {
        v6 = CItem::NewIID();
        (*(void (__thiscall **)(_DWORD *, int, LONG))(*v8 + 116))(v8, v10, v6);
      }
    }
    CDBSocket::Write(a2, a3, a4, 33, "dd", *(_DWORD *)(a1 + 184), *(_DWORD *)(a1 + 148));
  }
  else
  {
    CSocket::Write(a2, a3, a4, a1, 2, "b", a5);
  }
}

//----- (00483DD0) --------------------------------------------------------
void __userpurge sub_483DD0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  switch ( a5 )
  {
    case 1:
      goto LABEL_6;
    case 2:
      CAuthSocket::Write(a2, a3, a4, 11, "bddbd", 5, 0, *(_DWORD *)(a1 + 148), 4, 0);
LABEL_6:
      CDBSocket::Write(a2, a3, a4, 33, "dd", *(_DWORD *)(a1 + 184), *(_DWORD *)(a1 + 148));
      return;
    case 3:
      CSocket::Write(a2, a3, a4, a1, 36, "b", 103);
      break;
  }
}

//----- (00483E60) --------------------------------------------------------
void __userpurge sub_483E60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  __time32_t v5; // eax
  volatile int *v7; // [esp+4h] [ebp-4h]

  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
  if ( *(_DWORD *)(a1 + 148) )
  {
    v5 = time(0);
    CAuthSocket::Write(
      a2,
      a3,
      a4,
      2,
      "dddwbdddb",
      *(_DWORD *)(a1 + 184),
      *(_DWORD *)(a1 + 148),
      *(_DWORD *)(a1 + 136),
      *(_DWORD *)(a1 + 132),
      *(_DWORD *)(a1 + 152),
      *(_DWORD *)(a1 + 164),
      *(_DWORD *)(a1 + 144),
      v5,
      a5);
    *(_DWORD *)(a1 + 148) = 0;
  }
  sub_484FE0((volatile signed __int32 *)(a1 + 108), 6u);
  v7 = *(volatile int **)(a1 + 120);
  if ( v7 )
  {
    CIOObject::AddRef((CIOObject *)v7, a2, a3, a4, v7 + 86);
    Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    CBase::Delete(v7);
    CIOObject::Release((CIOObject *)v7, a2, a3, a4, v7 + 86);
  }
  else
  {
    Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
  }
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00483F60) --------------------------------------------------------
void __usercall sub_483F60(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  CSocket::Write(a2, a3, a4, a1, 8, "b", 3);
  sub_483E60(a1, a2, a3, a4, 3);
}

//----- (00483F90) --------------------------------------------------------
void __userpurge sub_483F90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7)
{
  char Buffer[132]; // [esp+4h] [ebp-88h] BYREF

  if ( a5 == 1 )
  {
    sprintf(Buffer, "[Account Block] ID(%s), UID(%d)", a7, a6);
    CSocket::Write(a2, a3, a4, a1, 46, "s", Buffer);
  }
}

//----- (00484000) --------------------------------------------------------
void __userpurge sub_484000(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, const char *a7)
{
  char Buffer[132]; // [esp+4h] [ebp-88h] BYREF

  if ( a5 == 1 )
  {
    sprintf(Buffer, "[Account Free] ID(%s), UID(%d)", a7, a6);
    CSocket::Write(a2, a3, a4, a1, 46, "s", Buffer);
  }
}

//----- (00484070) --------------------------------------------------------
void __userpurge sub_484070(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6)
{
  int v6; // [esp+0h] [ebp-14h]
  CMemory **v8; // [esp+8h] [ebp-Ch]
  bool v9; // [esp+Ch] [ebp-8h]
  volatile signed __int32 *v10; // [esp+10h] [ebp-4h]

  v10 = *(volatile signed __int32 **)(a1 + 120);
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
  v8 = sub_401000(0x580u);
  if ( v8 )
    v6 = sub_445ED0((int)v8, a2, a3, a4, (volatile int *)a1, *(_DWORD *)(a1 + 148), a5);
  else
    v6 = 0;
  *(_DWORD *)(a1 + 120) = v6;
  CIOObject::AddRef(*(CIOObject **)(a1 + 120), a2, a3, a4, (volatile int *)(*(_DWORD *)(a1 + 120) + 432));
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
  if ( v10 )
  {
    CBase::Delete(v10);
    CIOObject::Release((CIOObject *)v10, a2, a3, a4, v10 + 108);
  }
  sub_484FE0((volatile signed __int32 *)(a1 + 108), 3u);
  v9 = 0;
  if ( a6 )
  {
    if ( CGuild::IsLoad(a2, a3, a4, a6) )
      a6 = 0;
    else
      v9 = CAlliance::IsLoad(a2, a3, a4, a6) == 0;
  }
  CDBSocket::Write(a2, a3, a4, 1, "ddddb", a5, a6, *(_DWORD *)(a1 + 148), *(_DWORD *)(a1 + 184), v9);
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00484190) --------------------------------------------------------
void __userpurge sub_484190(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, _BYTE *a6)
{
  volatile int *v7; // [esp+4h] [ebp-4h]

  if ( a5 == 1 )
  {
    Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    v7 = *(volatile int **)(a1 + 120);
    if ( v7 )
    {
      CIOObject::AddRef((CIOObject *)v7, a2, a3, a4, v7 + 86);
      Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
      if ( sub_44BB80((int)v7, a2, a3, a4, a6) )
      {
        sub_484FE0((volatile signed __int32 *)(a1 + 108), 4u);
      }
      else
      {
        sub_484FF0((volatile signed __int32 *)(a1 + 108), 3u);
        CSocket::Write(a2, a3, a4, a1, 36, "b", 7);
      }
      CIOObject::Release((CIOObject *)v7, a2, a3, a4, v7 + 86);
    }
    else
    {
      Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    }
  }
  else
  {
    sub_484FF0((volatile signed __int32 *)(a1 + 108), 3u);
    if ( a5 == 2 )
      CSocket::Write(a2, a3, a4, a1, 36, "b", 7);
    else
      CSocket::Write(a2, a3, a4, a1, 36, "b", 8);
  }
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (004842A0) --------------------------------------------------------
void __userpurge sub_4842A0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, int a6, int a7, int a8)
{
  int v9; // [esp+4h] [ebp-4h]

  if ( a5 == 2 )
  {
    Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    if ( sub_483A90((_DWORD *)a1, 6) )
    {
      Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    }
    else
    {
      v9 = *(_DWORD *)(a1 + 148);
      Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
      CAuthSocket::Write(a2, a3, a4, 12, "dbdss", *(_DWORD *)(a1 + 184), a6, v9, a7, a8);
    }
  }
  else
  {
    sub_484FF0((volatile signed __int32 *)(a1 + 108), 2u);
    CSocket::Write(a2, a3, a4, a1, 79, "b", a5);
  }
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00484340) --------------------------------------------------------
void __userpurge sub_484340(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5, void *Src, int a7)
{
  int v7; // eax
  int i; // [esp+4h] [ebp-14h]
  _DWORD *v10; // [esp+8h] [ebp-10h]
  unsigned __int8 v11; // [esp+12h] [ebp-6h] BYREF
  unsigned __int8 v12; // [esp+13h] [ebp-5h] BYREF
  int v13; // [esp+14h] [ebp-4h]
  char *Srca; // [esp+24h] [ebp+Ch]

  if ( a5 == 1 )
  {
    Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    if ( sub_483A90((_DWORD *)a1, 6) )
    {
      Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
    }
    else
    {
      v13 = *(_DWORD *)(a1 + 148);
      Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(a1);
      Srca = (char *)sub_485530(a2, a3, a4, Src, "b", &v11);
      v10 = sub_485530(a2, a3, a4, &Srca[v11], "b", &v12);
      for ( i = 0; i < v12; ++i )
      {
        v7 = CItem::NewIID();
        sub_4459A0(v10, v7);
        v10 = (_DWORD *)((char *)v10 + 23);
      }
      CDBSocket::Write(a2, a3, a4, 54, "ddm", *(_DWORD *)(a1 + 184), v13, Srca, a7 - (_DWORD)Srca);
    }
  }
  else
  {
    sub_484FF0((volatile signed __int32 *)(a1 + 108), 2u);
    CSocket::Write(a2, a3, a4, a1, 79, "b", a5);
  }
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00484460) --------------------------------------------------------
void __userpurge sub_484460(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  if ( a5 == 1 )
  {
    CSocket::Write(a2, a3, a4, a1, 8, "b", 8);
    sub_483E60(a1, a2, a3, a4, 8);
  }
  else
  {
    sub_484FF0((volatile signed __int32 *)(a1 + 108), 2u);
    CSocket::Write(a2, a3, a4, a1, 79, "b", a5);
  }
}

//----- (004844C0) --------------------------------------------------------
BOOL CStatus::Update()
{
  struct Concurrency::details::UMSThreadProxy *v0; // eax
  struct Concurrency::details::UMSThreadProxy *v1; // eax
  int v2; // eax
  int v3; // eax
  LONG v4; // eax
  LONG v5; // eax

  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(&unk_4BA3C4);
  Concurrency::details::WorkSearchContext::ResetLRCBias((Concurrency::details::WorkSearchContext *)&unk_4BA3C4);
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " Running Thread : %d", dword_4B8A9C);
  v0 = Concurrency::details::UMSFreeVirtualProcessorRoot::GetExecutingProxy((Concurrency::details::UMSFreeVirtualProcessorRoot *)&unk_4B2278);
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " Pending DB Output : %d", v0);
  v1 = Concurrency::details::UMSFreeVirtualProcessorRoot::GetExecutingProxy((Concurrency::details::UMSFreeVirtualProcessorRoot *)dword_4B21B0);
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " Pending Auth Output : %d", v1);
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " ====================");
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " Change of Currency : %d", dword_4B95DC);
  v2 = sub_46F5B0();
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " Max. Connection : %d", v2);
  v3 = sub_46F5A0();
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " Cur. Connection : %d", v3);
  v4 = sub_4366C0();
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " Monster : %d", v4);
  v5 = sub_440C50();
  CScreen::Add((CScreen *)&unk_4BA3C4, 0, " NPC : %d", v5);
  Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(&unk_4BA3C4);
  return InvalidateRect(hWnd, 0, 1);
}
// 4302E0: using guessed type int __thiscall Concurrency::details::_CancellationTokenCallback<_lambda_bd6029e2426d7ec37458070853043c08_>::_Exec(_DWORD);

//----- (00484610) --------------------------------------------------------
void *__thiscall sub_484610(void *this)
{
  int v2; // [esp+4h] [ebp-18h]
  int l; // [esp+8h] [ebp-14h]
  int k; // [esp+Ch] [ebp-10h]
  int v5; // [esp+10h] [ebp-Ch]
  int j; // [esp+14h] [ebp-8h]
  int i; // [esp+18h] [ebp-4h]

  dword_4BAA98 = 6;
  dword_4BAA94 = 11;
  dword_4BAA90 = 6;
  for ( i = 0; i < 10; ++i )
  {
    for ( j = 0; j < 21; ++j )
    {
      v5 = dword_4B0488[21 * i + j];
      switch ( v5 )
      {
        case 100:
          dword_4BA748[21 * i + j] = 6;
          break;
        case 50:
          dword_4BA748[21 * i + j] = 5;
          break;
        case 25:
          dword_4BA748[21 * i + j] = 4;
          break;
        default:
          dword_4BA748[21 * i + j] = 3;
          break;
      }
    }
  }
  for ( k = 0; k < 10; ++k )
  {
    for ( l = 0; l < 21; ++l )
    {
      v2 = dword_4B07D0[21 * k + l];
      switch ( v2 )
      {
        case 100:
          dword_4BA400[21 * k + l] = 0;
          break;
        case 50:
          dword_4BA400[21 * k + l] = 1;
          break;
        case 25:
          dword_4BA400[21 * k + l] = 2;
          break;
        default:
          dword_4BA400[21 * k + l] = 3;
          break;
      }
    }
  }
  return this;
}
// 4BAA90: using guessed type int dword_4BAA90;
// 4BAA94: using guessed type int dword_4BAA94;
// 4BAA98: using guessed type int dword_4BAA98;

//----- (004847F0) --------------------------------------------------------
int __thiscall sub_4847F0(int *this)
{
  int result; // eax
  int v2; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]

  result = (int)this;
  for ( i = *this; i; i = v2 )
  {
    v2 = *(_DWORD *)(i + 16);
    *(_DWORD *)(i + 16) = -6;
    result = CBase::Delete((volatile signed __int32 *)i);
  }
  return result;
}

//----- (00484830) --------------------------------------------------------
int __userpurge sub_484830@<eax>(int *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  int result; // eax

  if ( *(_DWORD *)(a5 + 16) != -6 )
    EBREAK(a2, a3, a4);
  result = *a1;
  *(_DWORD *)(a5 + 16) = *a1;
  *a1 = a5;
  return result;
}

//----- (00484860) --------------------------------------------------------
int __thiscall sub_484860(Concurrency::details::_CancellationTokenRegistration **this, Concurrency::details::_CancellationTokenRegistration *a2)
{
  Concurrency::details::_CancellationTokenRegistration *v4; // [esp+8h] [ebp-4h]

  while ( 1 )
  {
    v4 = *this;
    if ( *this == a2 )
    {
      *this = Concurrency::details::_CancellationTokenRegistration::_GetToken(a2);
      *((_DWORD *)a2 + 4) = -6;
      return 1;
    }
    if ( !v4 )
      break;
    this = (Concurrency::details::_CancellationTokenRegistration **)((char *)v4 + 16);
  }
  return 0;
}

//----- (004848C0) --------------------------------------------------------
Concurrency::details::_CancellationTokenRegistration *__userpurge CTile::GetItem@<eax>(Concurrency::details::_CancellationTokenRegistration **a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  Concurrency::details::_CancellationTokenRegistration *i; // [esp+8h] [ebp-4h]

  for ( i = *a1; i; i = Concurrency::details::_CancellationTokenRegistration::_GetToken(i) )
  {
    if ( *((_DWORD *)i + 4) == -6 )
    {
      *a1 = 0;
      ELOG("CTile::GetItem %p %p\n", i, *(const void **)i);
      EBREAK(a2, a3, a4);
      return 0;
    }
    if ( (*(int (__thiscall **)(Concurrency::details::_CancellationTokenRegistration *))(*(_DWORD *)i + 68))(i)
      && a5 == unknown_libname_4(i) )
    {
      return i;
    }
  }
  return 0;
}

//----- (00484950) --------------------------------------------------------
volatile signed __int32 *__thiscall sub_484950(volatile signed __int32 *this, int a2, int a3)
{
  CBase::CBase((int)this);
  *this = (volatile signed __int32)&off_4A2048;
  sub_484FE0(this + 5, 1u);
  *((_DWORD *)this + 8) = a2;
  *((_DWORD *)this + 9) = a3;
  return this;
}
// 4A2048: using guessed type int (__stdcall *off_4A2048)(int);

//----- (004849A0) --------------------------------------------------------
void *__userpurge sub_4849A0@<eax>(void *a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, char a5)
{
  CTables::CTables((int)a1, a2, a3, a4);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (004849D0) --------------------------------------------------------
_DWORD *__usercall CTables::CTables@<eax>(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  *(_DWORD *)a1 = &off_4A2048;
  sub_401C50(*(volatile int **)(a1 + 32), a2, a3, a4);
  sub_401C50(*(volatile int **)(a1 + 36), a2, a3, a4);
  return CBase::_CBase((_DWORD *)a1, a2, a3, a4);
}
// 4A2048: using guessed type int (__stdcall *off_4A2048)(int);

//----- (00484A10) --------------------------------------------------------
void __usercall sub_484A10(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, unsigned int a4, unsigned int a5)
{
  int v5; // eax
  int v6; // eax
  volatile signed __int32 *v7; // [esp+0h] [ebp-Ch]
  CMemory **v8; // [esp+4h] [ebp-8h]

  sub_454940(a1, a2, a3, a4, a5);
  if ( !sub_40A640((_DWORD *)a4) && !sub_40A640((_DWORD *)a5) )
  {
    if ( sub_440790((_DWORD *)(a4 + 324), (_DWORD *)(a5 + 324)) <= 64 )
    {
      if ( *(_DWORD *)(a4 + 1012) )
      {
        sub_448C90(a1, a2, a3, a5, 36, "b", 19);
      }
      else if ( *(_DWORD *)(a5 + 1012) )
      {
        sub_448C90(a1, a2, a3, a4, 36, "b", 19);
      }
      else
      {
        sub_4010D0((volatile int *)a4, a1, a2, a3);
        sub_4010D0((volatile int *)a5, a1, a2, a3);
        v8 = sub_401000(0x28u);
        if ( v8 )
          v7 = sub_484950((volatile signed __int32 *)v8, a4, a5);
        else
          v7 = 0;
        *(_DWORD *)(a5 + 1012) = v7;
        *(_DWORD *)(a4 + 1012) = v7;
        v5 = unknown_libname_4(a5);
        sub_448C90(a1, a2, a3, a4, 54, "bd", 1, v5);
        v6 = unknown_libname_4(a4);
        sub_448C90(a1, a2, a3, a5, 54, "bd", 1, v6);
      }
    }
    else
    {
      sub_448C90(a1, a2, a3, a4, 36, "b", 24);
      sub_448C90(a1, a2, a3, a5, 36, "b", 24);
    }
  }
  sub_4439D0(a1, a2, a3, a4, a5);
}

//----- (00484B90) --------------------------------------------------------
void __usercall sub_484B90(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>)
{
  sub_454940(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
  if ( !sub_484FE0((volatile signed __int32 *)(a1 + 20), 4u) )
  {
    sub_4528E0(*(_DWORD *)(a1 + 32), a2, a3, a4, 2);
    sub_4528E0(*(_DWORD *)(a1 + 36), a2, a3, a4, 2);
  }
  sub_4439D0(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
  sub_402020((volatile int *)a1, a2, a3, a4);
}

//----- (00484C00) --------------------------------------------------------
void __userpurge sub_484C00(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, int a5)
{
  sub_454940(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
  if ( sub_484FE0((volatile signed __int32 *)(a1 + 20), 2u) )
  {
    sub_4439D0(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
  }
  else
  {
    if ( !sub_484FE0((volatile signed __int32 *)(a1 + 20), 4u) )
    {
      sub_4528E0(*(_DWORD *)(a1 + 32), a2, a3, a4, 3);
      sub_4528E0(*(_DWORD *)(a1 + 36), a2, a3, a4, 3);
    }
    sub_4439D0(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
    CBase::Delete((volatile signed __int32 *)a1);
  }
}

//----- (00484CA0) --------------------------------------------------------
void __userpurge sub_484CA0(int a1@<ecx>, DWORD a2@<ebx>, DWORD a3@<edi>, DWORD a4@<esi>, _DWORD *a5)
{
  int v5; // eax

  sub_454940(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
  sub_409160(a5, 4);
  v5 = CTrade::GetOther((_DWORD *)a1, (int)a5);
  sub_448C90(a2, a3, a4, v5, 36, "b", 22);
  if ( sub_447290(*(_DWORD **)(a1 + 32), 4) && sub_447290(*(_DWORD **)(a1 + 36), 4) )
  {
    if ( sub_440790((_DWORD *)(*(_DWORD *)(a1 + 32) + 324), (_DWORD *)(*(_DWORD *)(a1 + 36) + 324)) <= 64
      && !sub_484FE0((volatile signed __int32 *)(a1 + 20), 4u) )
    {
      sub_453EC0(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
      if ( sub_452C50(*(int **)(a1 + 32)) && sub_452C50(*(int **)(a1 + 36)) )
      {
        sub_452D40(*(_DWORD *)(a1 + 32), a2, a3, a4, *(char **)(a1 + 36));
        sub_452D40(*(_DWORD *)(a1 + 36), a2, a3, a4, *(char **)(a1 + 32));
        sub_4528E0(*(_DWORD *)(a1 + 32), a2, a3, a4, 1);
        sub_4528E0(*(_DWORD *)(a1 + 36), a2, a3, a4, 1);
      }
      else
      {
        sub_4528E0(*(_DWORD *)(a1 + 32), a2, a3, a4, 2);
        sub_4528E0(*(_DWORD *)(a1 + 36), a2, a3, a4, 2);
      }
      sub_453F10(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
    }
    sub_4439D0(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
    CBase::Delete((volatile signed __int32 *)a1);
  }
  else
  {
    sub_4439D0(a2, a3, a4, *(_DWORD *)(a1 + 32), *(_DWORD *)(a1 + 36));
  }
}

//----- (00484E40) --------------------------------------------------------
void __userpurge Encode(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char chCodeNum, unsigned __int8 *ptr, int len)
{
  unsigned __int8 *v6; // [esp+0h] [ebp-4h]

  if ( chCodeNum < 0 || chCodeNum >= 64 )
    EBREAK(a1, a2, a3);
  v6 = &ptr[len];
  while ( ptr != v6 )
  {
    *ptr = byte_4A2090[256 * chCodeNum + *ptr];
    ++ptr;
  }
}

//----- (00484EA0) --------------------------------------------------------
void __userpurge Decode(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char chCodeNum, unsigned __int8 *ptr, int len)
{
  unsigned __int8 *v6; // [esp+0h] [ebp-4h]

  if ( chCodeNum >= 64 )
    EBREAK(a1, a2, a3);
  v6 = &ptr[len];
  while ( ptr != v6 )
  {
    *ptr = byte_4A6090[256 * chCodeNum + *ptr];
    ++ptr;
  }
}

//----- (00484EF0) --------------------------------------------------------
void __cdecl InitRandom()
{
  unsigned int v0; // eax
  int i; // [esp+0h] [ebp-4h]
  int j; // [esp+0h] [ebp-4h]

  v0 = time(0);
  srand(v0);
  dword_4BABB0[0] = time(0);
  for ( i = 1; i < 32; ++i )
    dword_4BABB0[i] = 1103515245 * dword_4BABAC[i] + 12345;
  dword_4BABA8 = 2;
  for ( j = 0; j < 310; ++j )
    sub_484F80();
}
// 4BABAC: using guessed type int dword_4BABAC[];

//----- (00484F80) --------------------------------------------------------
unsigned int sub_484F80()
{
  return (unsigned int)_Random() >> 1;
}

//----- (00484F90) --------------------------------------------------------
int __cdecl _Random()
{
  char v0; // al

  v0 = InterlockedIncrement(&dword_4BABA8);
  dword_4BABB0[v0 & 0x1F] += dword_4BABB0[(v0 - 3) & 0x1F];
  return dword_4BABB0[v0 & 0x1F];
}

//----- (00484FE0) --------------------------------------------------------
int __fastcall sub_484FE0(volatile signed __int32 *a1, unsigned int a2)
{
  int result; // eax

  if ( _interlockedbittestandset(a1, a2) )
    result = 1;
  else
    result = 0;
  return result;
}

//----- (00484FF0) --------------------------------------------------------
int __fastcall sub_484FF0(volatile signed __int32 *a1, unsigned int a2)
{
  int result; // eax

  if ( _interlockedbittestandreset(a1, a2) )
    result = 1;
  else
    result = 0;
  return result;
}

//----- (00485000) --------------------------------------------------------
void *__userpurge WritePacket@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *a4, int a5)
{
  int v5; // ecx
  int v7; // [esp+4h] [ebp-14h]
  size_t Size; // [esp+8h] [ebp-10h]
  void *Src; // [esp+Ch] [ebp-Ch]
  _BYTE *v10; // [esp+10h] [ebp-8h]
  char *v11; // [esp+14h] [ebp-4h]
  int v12; // [esp+24h] [ebp+Ch]
  int v13; // [esp+24h] [ebp+Ch]

  v12 = a5 + 4;
  v11 = *(char **)(v12 - 4);
  while ( 1 )
  {
    v7 = *v11++;
    switch ( v7 )
    {
      case 0:
        return a4;
      case 66:
      case 98:
        v12 += 4;
        *(_BYTE *)a4 = *(_BYTE *)(v12 - 4);
        a4 = (char *)a4 + 1;
        break;
      case 73:
        v12 += 8;
        *(_DWORD *)a4 = *(_DWORD *)(v12 - 8);
        *((_DWORD *)a4 + 1) = *(_DWORD *)(v12 - 4);
        a4 = (char *)a4 + 8;
        break;
      case 77:
      case 109:
        v13 = v12 + 4;
        Src = *(void **)(v13 - 4);
        v12 = v13 + 4;
        Size = *(_DWORD *)(v12 - 4);
        memcpy(a4, Src, Size);
        a4 = (char *)a4 + Size;
        break;
      case 83:
      case 115:
        v12 += 4;
        v10 = *(_BYTE **)(v12 - 4);
        if ( v10 )
        {
          do
          {
            *(_BYTE *)a4 = *v10;
            v5 = *(char *)a4;
            a4 = (char *)a4 + 1;
            ++v10;
          }
          while ( v5 );
        }
        else
        {
          *(_BYTE *)a4 = 0;
          a4 = (char *)a4 + 1;
        }
        break;
      case 87:
      case 119:
        v12 += 4;
        *(_WORD *)a4 = *(_WORD *)(v12 - 4);
        a4 = (char *)a4 + 2;
        break;
      case 100:
        v12 += 4;
        *(_DWORD *)a4 = *(_DWORD *)(v12 - 4);
        a4 = (char *)a4 + 4;
        break;
      default:
        EBREAK(a1, a2, a3);
        break;
    }
  }
}

//----- (00485220) --------------------------------------------------------
char *__usercall WritePacket@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char *packet, const char *__formal, ...)
{
  return (char *)WritePacket(a1, a2, a3, packet, (int)&__formal);
}

//----- (00485250) --------------------------------------------------------
void *__userpurge ReadPacketV@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *Src, int a5)
{
  _DWORD *v5; // edx
  int v6; // ecx
  int v7; // ecx
  int v9; // [esp+4h] [ebp-1Ch]
  int v10; // [esp+8h] [ebp-18h]
  void **v11; // [esp+Ch] [ebp-14h]
  size_t Size; // [esp+10h] [ebp-10h]
  void *v13; // [esp+14h] [ebp-Ch]
  _BYTE *v14; // [esp+18h] [ebp-8h]
  char *v15; // [esp+1Ch] [ebp-4h]
  int v16; // [esp+2Ch] [ebp+Ch]
  int v17; // [esp+2Ch] [ebp+Ch]
  int v18; // [esp+2Ch] [ebp+Ch]

  v16 = a5 + 4;
  v15 = *(char **)(v16 - 4);
  while ( 1 )
  {
    v9 = *v15++;
    switch ( v9 )
    {
      case 0:
        return Src;
      case 66:
        v16 += 4;
        **(_DWORD **)(v16 - 4) = *(char *)Src;
        Src = (char *)Src + 1;
        break;
      case 73:
        v16 += 4;
        v5 = *(_DWORD **)(v16 - 4);
        *v5 = *(_DWORD *)Src;
        v5[1] = *((_DWORD *)Src + 1);
        Src = (char *)Src + 8;
        break;
      case 77:
        v18 = v16 + 4;
        v11 = *(void ***)(v18 - 4);
        v16 = v18 + 4;
        v10 = *(_DWORD *)(v16 - 4);
        *v11 = Src;
        Src = (char *)Src + v10;
        break;
      case 83:
        v16 += 4;
        v14 = *(_BYTE **)(v16 - 4);
        do
        {
          *v14 = *(_BYTE *)Src;
          v7 = (char)*v14++;
          Src = (char *)Src + 1;
        }
        while ( v7 );
        break;
      case 87:
        v16 += 4;
        **(_DWORD **)(v16 - 4) = *(unsigned __int16 *)Src;
        Src = (char *)Src + 2;
        break;
      case 98:
        v16 += 4;
        **(_BYTE **)(v16 - 4) = *(_BYTE *)Src;
        Src = (char *)Src + 1;
        break;
      case 100:
        v16 += 4;
        **(_DWORD **)(v16 - 4) = *(_DWORD *)Src;
        Src = (char *)Src + 4;
        break;
      case 109:
        v17 = v16 + 4;
        v13 = *(void **)(v17 - 4);
        v16 = v17 + 4;
        Size = *(_DWORD *)(v16 - 4);
        memcpy(v13, Src, Size);
        Src = (char *)Src + Size;
        break;
      case 115:
        v16 += 4;
        **(_DWORD **)(v16 - 4) = Src;
        do
        {
          v6 = *(char *)Src;
          Src = (char *)Src + 1;
        }
        while ( v6 );
        break;
      case 119:
        v16 += 4;
        **(_WORD **)(v16 - 4) = *(_WORD *)Src;
        Src = (char *)Src + 2;
        break;
      default:
        EBREAK(a1, a2, a3);
        break;
    }
  }
}

//----- (00485530) --------------------------------------------------------
void *__usercall sub_485530@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *Src, ...)
{
  va_list va; // [esp+10h] [ebp+Ch] BYREF

  va_start(va, Src);
  return ReadPacketV(a1, a2, a3, Src, (int)va);
}

//----- (00485560) --------------------------------------------------------
void *__userpurge ScanPacketV@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, void *Src, int a5, int a6)
{
  _DWORD *v6; // edx
  int v7; // edx
  int v8; // edx
  char *v10; // [esp+0h] [ebp-34h]
  char *v11; // [esp+4h] [ebp-30h]
  int v12; // [esp+Ch] [ebp-28h]
  size_t Size; // [esp+10h] [ebp-24h]
  void *v14; // [esp+14h] [ebp-20h]
  _BYTE *v15; // [esp+18h] [ebp-1Ch]
  int v16; // [esp+1Ch] [ebp-18h]
  int v17; // [esp+24h] [ebp-10h]
  void **v18; // [esp+28h] [ebp-Ch]
  char *v19; // [esp+30h] [ebp-4h]
  int v20; // [esp+44h] [ebp+10h]
  int v21; // [esp+44h] [ebp+10h]
  int v22; // [esp+44h] [ebp+10h]
  int v23; // [esp+44h] [ebp+10h]

  v20 = a6 + 4;
  v19 = *(char **)(v20 - 4);
  while ( 1 )
  {
LABEL_2:
    v12 = *v19++;
    switch ( v12 )
    {
      case 0:
        return Src;
      case 66:
        if ( (unsigned int)Src < a5 )
        {
          v20 += 4;
          **(_DWORD **)(v20 - 4) = *(char *)Src;
          Src = (char *)Src + 1;
        }
        continue;
      case 73:
        if ( (unsigned int)Src + 8 <= a5 )
        {
          v20 += 4;
          v6 = *(_DWORD **)(v20 - 4);
          *v6 = *(_DWORD *)Src;
          v6[1] = *((_DWORD *)Src + 1);
          Src = (char *)Src + 8;
        }
        continue;
      case 83:
        v22 = v20 + 4;
        v15 = *(_BYTE **)(v22 - 4);
        v20 = v22 + 4;
        v16 = *(_DWORD *)(v20 - 4);
        if ( v16 <= 0 )
          EBREAK(a1, a2, a3);
        if ( Src == (void *)a5 )
        {
          *v15 = 0;
          continue;
        }
        if ( (unsigned int)Src + v16 >= a5 )
          v10 = (char *)a5;
        else
          v10 = (char *)Src + v16;
        while ( 1 )
        {
          *v15 = *(_BYTE *)Src;
          v8 = (char)*v15++;
          Src = (char *)Src + 1;
          if ( !v8 )
            goto LABEL_2;
          if ( Src == v10 )
          {
            *(v15 - 1) = 0;
            goto LABEL_2;
          }
        }
      case 87:
        if ( (unsigned int)Src + 2 <= a5 )
        {
          v20 += 4;
          **(_DWORD **)(v20 - 4) = *(unsigned __int16 *)Src;
          Src = (char *)Src + 2;
        }
        continue;
      case 98:
        if ( (unsigned int)Src < a5 )
        {
          v20 += 4;
          **(_BYTE **)(v20 - 4) = *(_BYTE *)Src;
          Src = (char *)Src + 1;
        }
        continue;
      case 100:
        if ( (unsigned int)Src + 4 <= a5 )
        {
          v20 += 4;
          **(_DWORD **)(v20 - 4) = *(_DWORD *)Src;
          Src = (char *)Src + 4;
        }
        continue;
      case 109:
        v23 = v20 + 4;
        v14 = *(void **)(v23 - 4);
        v20 = v23 + 4;
        Size = *(_DWORD *)(v20 - 4);
        if ( (unsigned int)Src + Size <= a5 )
        {
          memcpy(v14, Src, Size);
          Src = (char *)Src + Size;
        }
        continue;
      case 115:
        v21 = v20 + 4;
        v18 = *(void ***)(v21 - 4);
        v20 = v21 + 4;
        v17 = *(_DWORD *)(v20 - 4);
        *v18 = Src;
        if ( (unsigned int)Src + v17 >= a5 )
          v11 = (char *)a5;
        else
          v11 = (char *)Src + v17;
        break;
      case 119:
        if ( (unsigned int)Src + 2 <= a5 )
        {
          v20 += 4;
          **(_WORD **)(v20 - 4) = *(_WORD *)Src;
          Src = (char *)Src + 2;
        }
        continue;
      default:
        EBREAK(a1, a2, a3);
        continue;
    }
    while ( Src != v11 )
    {
      v7 = *(char *)Src;
      Src = (char *)Src + 1;
      if ( !v7 )
        goto LABEL_2;
    }
    *v18 = (void *)&::Src;
  }
}

//----- (00485900) --------------------------------------------------------
char *__usercall ScanPacket@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>, char *packet, char *end, const char *__formal, ...)
{
  return (char *)ScanPacketV(a1, a2, a3, packet, (int)end, (int)&__formal);
}

//----- (00485930) --------------------------------------------------------
char *__stdcall GetString(char *packet, char *str)
{
  int v2; // ecx

  do
  {
    *str = *packet;
    v2 = *str++;
    ++packet;
  }
  while ( v2 );
  return packet;
}

//----- (00485970) --------------------------------------------------------
char *__stdcall PutString(char *packet, const char *str)
{
  int v2; // ecx

  do
  {
    *packet = *str;
    v2 = *packet++;
    ++str;
  }
  while ( v2 );
  return packet;
}

//----- (004859B0) --------------------------------------------------------
void __cdecl init_codepage()
{
  int v0; // [esp+0h] [ebp-8h]
  int C; // [esp+4h] [ebp-4h]

  for ( C = 0; C < 256; ++C )
  {
    if ( IsDBCSLeadByte(C) )
      LOBYTE(v0) = -1;
    else
      v0 = tolower(C) & 0x7F;
    byte_4BAAA8[C] = v0;
  }
}

//----- (00485A10) --------------------------------------------------------
int __stdcall mbstricmp(const char *s1, const char *s2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+0h] [ebp-Ch]
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+4h] [ebp-8h]

  while ( 1 )
  {
    while ( 1 )
    {
      v5 = *(unsigned __int8 *)s1++;
      v3 = *(unsigned __int8 *)s2++;
      if ( byte_4BAAA8[v5] >= 0 )
        break;
      v6 = v5 - v3;
      if ( !v6 )
      {
        v7 = *(unsigned __int8 *)s1++;
        v4 = *(unsigned __int8 *)s2++;
        v6 = v7 - v4;
        if ( !v6 )
          continue;
      }
      return v6;
    }
    if ( byte_4BAAA8[v5] != byte_4BAAA8[v3] )
      break;
    if ( !v5 )
      return 0;
  }
  return byte_4BAAA8[v5] - byte_4BAAA8[v3];
}

//----- (00485AC0) --------------------------------------------------------
int __stdcall IsValidString(const char *str)
{
  int result; // eax
  int v2; // eax
  const char *v3; // [esp+Ch] [ebp+8h]
  const char *v4; // [esp+Ch] [ebp+8h]

  if ( !*str )
    return 0;
  if ( dword_4BAAA0 )
  {
    if ( dword_4BAAA0 == 1 )
    {
      while ( 1 )
      {
        if ( isalnum(*(unsigned __int8 *)str) || strchr(" \n", *(unsigned __int8 *)str) )
        {
          ++str;
        }
        else
        {
          if ( *(unsigned __int8 *)str < 0xB0u || *(unsigned __int8 *)str > 0xF7u )
            return 0;
          v2 = *(unsigned __int8 *)str;
          v4 = str + 1;
          if ( v2 == 215 )
          {
            if ( *(unsigned __int8 *)v4 < 0xA1u || *(unsigned __int8 *)v4 > 0xF9u )
              return 0;
          }
          else if ( *(unsigned __int8 *)v4 < 0xA1u || *(unsigned __int8 *)v4 == 255 )
          {
            return 0;
          }
          str = v4 + 1;
        }
        if ( !*str )
          goto LABEL_41;
      }
    }
    if ( dword_4BAAA0 == 2 )
    {
      while ( isalnum(*(unsigned __int8 *)str) || strchr(" \n", *(unsigned __int8 *)str) )
      {
        if ( !*++str )
          goto LABEL_41;
      }
      result = 0;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    do
    {
      if ( isalnum(*(unsigned __int8 *)str) || strchr(" \n", *(unsigned __int8 *)str) )
      {
        ++str;
      }
      else
      {
        if ( *(unsigned __int8 *)str < 0xB0u || *(unsigned __int8 *)str > 0xC8u )
          return 0;
        v3 = str + 1;
        if ( *(unsigned __int8 *)v3 < 0xA1u || *(unsigned __int8 *)v3 == 255 )
          return 0;
        str = v3 + 1;
      }
    }
    while ( *str );
LABEL_41:
    result = 1;
  }
  return result;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00485CD0) --------------------------------------------------------
int __stdcall IsValidName(const char *name)
{
  int result; // eax
  int v2; // edx
  const char *v3; // [esp+Ch] [ebp+8h]
  const char *v4; // [esp+Ch] [ebp+8h]

  if ( !*name )
    return 0;
  if ( dword_4BAAA0 )
  {
    if ( dword_4BAAA0 == 1 )
    {
      while ( 1 )
      {
        if ( isalnum(*(unsigned __int8 *)name) )
        {
          ++name;
        }
        else
        {
          if ( *(unsigned __int8 *)name < 0xB0u || *(unsigned __int8 *)name > 0xF7u )
            return 0;
          v2 = *(unsigned __int8 *)name;
          v4 = name + 1;
          if ( v2 == 215 )
          {
            if ( *(unsigned __int8 *)v4 < 0xA1u || *(unsigned __int8 *)v4 > 0xF9u )
              return 0;
          }
          else if ( *(unsigned __int8 *)v4 < 0xA1u || *(unsigned __int8 *)v4 == 255 )
          {
            return 0;
          }
          name = v4 + 1;
        }
        if ( !*name )
          goto LABEL_38;
      }
    }
    if ( dword_4BAAA0 == 2 )
    {
      while ( isalnum(*(unsigned __int8 *)name) )
      {
        if ( !*++name )
          goto LABEL_38;
      }
      result = 0;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    do
    {
      if ( isalnum(*(unsigned __int8 *)name) )
      {
        ++name;
      }
      else
      {
        if ( *(unsigned __int8 *)name < 0xB0u || *(unsigned __int8 *)name > 0xC8u )
          return 0;
        v3 = name + 1;
        if ( *(unsigned __int8 *)v3 < 0xA1u || *(unsigned __int8 *)v3 == 255 )
          return 0;
        name = v3 + 1;
      }
    }
    while ( *name );
LABEL_38:
    result = 1;
  }
  return result;
}
// 4BAAA0: using guessed type int dword_4BAAA0;

//----- (00485E90) --------------------------------------------------------
int __stdcall IsValidAdminName(const char *name)
{
  const char *v2; // [esp+8h] [ebp+8h]

  if ( !*name )
    return 0;
  do
  {
    if ( byte_4BAAA8[*(unsigned __int8 *)name] >= 0 )
    {
      if ( !isalnum(*(unsigned __int8 *)name) && !strchr("_<>", *(unsigned __int8 *)name) )
        return 0;
      ++name;
    }
    else
    {
      v2 = name + 1;
      if ( !*v2 )
        return 0;
      name = v2 + 1;
    }
  }
  while ( *name );
  return 1;
}

//----- (00485F30) --------------------------------------------------------
std::string *__cdecl sub_485F30(std::string *a1)
{
  CHAR *i; // [esp+0h] [ebp-114h]
  CHAR Filename[268]; // [esp+4h] [ebp-110h] BYREF

  GetModuleFileNameA(0, Filename, 0x104u);
  for ( i = Filename; *i; ++i )
  {
    if ( *i == 92 )
      *i = 47;
  }
  std::string::string(a1, Filename);
  return a1;
}

//----- (00485FC0) --------------------------------------------------------
void __thiscall InitCodePage::InitCodePage(InitCodePage *this)
{
  init_codepage();
  dword_4BAC30 = GetACP();
}
// 4BAC30: using guessed type int dword_4BAC30;

//----- (0048602A) --------------------------------------------------------
void __thiscall std::runtime_error::runtime_error(std::runtime_error *this, const std::runtime_error *__that)
{
  exception::exception(this, __that);
  *(_DWORD *)this = &std::logic_error::`vftable';
  std::string::string((std::runtime_error *)((char *)this + 12), (const std::runtime_error *)((char *)__that + 12));
}
// 4AA09C: using guessed type void *std::logic_error::`vftable';

//----- (0048606D) --------------------------------------------------------
std::runtime_error *__thiscall sub_48606D(std::runtime_error *this, struct exception *a2)
{
  std::runtime_error::runtime_error(this, a2);
  *(_DWORD *)this = &std::out_of_range::`vftable';
  return this;
}
// 4AA0B4: using guessed type void *std::out_of_range::`vftable';

//----- (004860C5) --------------------------------------------------------
std::runtime_error *__thiscall sub_4860C5(std::runtime_error *this, struct exception *a2)
{
  std::runtime_error::runtime_error(this, a2);
  *(_DWORD *)this = &std::length_error::`vftable';
  return this;
}
// 4AA0A8: using guessed type void *std::length_error::`vftable';

//----- (00487447) --------------------------------------------------------
int __cdecl sub_487447(int a1)
{
  int result; // eax

  result = dword_4BAC38;
  dword_4BAC38 = a1;
  return result;
}
// 4BAC38: using guessed type int dword_4BAC38;

//----- (00487DE3) --------------------------------------------------------
unsigned int __cdecl fread_0(void *buffer, unsigned int size, unsigned int count, _iobuf *stream)
{
  unsigned int v5; // [esp+Ch] [ebp-1Ch]

  _lock_file(stream);
  v5 = fwrite(buffer, size, count, stream);
  _unlock_file(stream);
  return v5;
}

//----- (00488036) --------------------------------------------------------
int sub_488036()
{
  return flsall(1);
}
// 487F11: using guessed type _DWORD __cdecl flsall(_DWORD);

//----- (004884B2) --------------------------------------------------------
size_t __cdecl sub_4884B2(void *Buffer, size_t ElementSize, size_t ElementCount, FILE *Stream)
{
  size_t v5; // [esp+Ch] [ebp-1Ch]

  _lock_file(Stream);
  v5 = fread(Buffer, ElementSize, ElementCount, Stream);
  _unlock_file(Stream);
  return v5;
}

//----- (00488E49) --------------------------------------------------------
void __thiscall sub_488E49(void *this)
{
  bool v1; // zf

  v1 = *((_DWORD *)this + 2) == 0;
  *(_DWORD *)this = &exception::`vftable';
  if ( !v1 )
    free(*((void **)this + 1));
}
// 4AA400: using guessed type void *exception::`vftable';

//----- (00488E6C) --------------------------------------------------------
void *__thiscall sub_488E6C(void *this, char a2)
{
  sub_488E49(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0048E13F) --------------------------------------------------------
void __cdecl _RTC_Terminate()
{
  void (**i)(void); // [esp+Ch] [ebp-1Ch]

  for ( i = dword_4AB5EC; i < dword_4AB5EC; ++i )
  {
    if ( *i )
      (*i)();
  }
}

//----- (0048E183) --------------------------------------------------------
void __cdecl sub_48E183()
{
  void (**i)(void); // [esp+Ch] [ebp-1Ch]

  for ( i = &dword_4AB5F4; i < &dword_4AB5F4; ++i )
  {
    if ( *i )
      (*i)();
  }
}

//----- (0048EAA6) --------------------------------------------------------
void __cdecl __noreturn _inconsistency()
{
  if ( off_4B1F60 )
    off_4B1F60();
  terminate();
}
// 4B1F60: using guessed type int (*off_4B1F60)(void);

//----- (00497770) --------------------------------------------------------
_DWORD *__usercall sub_497770@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  return sub_401160(dword_4B21B0, a1, a2, a3);
}

//----- (00497780) --------------------------------------------------------
LONG sub_497780()
{
  return sub_401ED0();
}

//----- (00497790) --------------------------------------------------------
void sub_497790()
{
  sub_401F50(&dword_4B221C);
}
// 4B221C: using guessed type int dword_4B221C;

//----- (004977A0) --------------------------------------------------------
LONG sub_4977A0()
{
  return sub_402390();
}

//----- (004977B0) --------------------------------------------------------
_DWORD *sub_4977B0()
{
  return sub_4099C0(dword_4B2258);
}

//----- (004977C0) --------------------------------------------------------
_DWORD *__usercall sub_4977C0@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  return sub_40BDF0(dword_4B2278, a1, a2, a3);
}

//----- (004977D0) --------------------------------------------------------
LONG sub_4977D0()
{
  return sub_40CEF0();
}

//----- (004977E0) --------------------------------------------------------
void sub_4977E0()
{
  sub_40D850(&dword_4B83C0);
}
// 4B83C0: using guessed type int dword_4B83C0;

//----- (004977F0) --------------------------------------------------------
void sub_4977F0()
{
  sub_40F950((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4B840C);
}

//----- (00497800) --------------------------------------------------------
int *sub_497800()
{
  return sub_46B5F0(dword_4B8418);
}

//----- (00497810) --------------------------------------------------------
int sub_497810()
{
  return sub_417BC0(dword_4B8428);
}

//----- (00497820) --------------------------------------------------------
int sub_497820()
{
  return sub_417BC0(dword_4B8434);
}

//----- (00497830) --------------------------------------------------------
void __usercall sub_497830(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B8440, a1, a2, a3);
}

//----- (00497840) --------------------------------------------------------
int sub_497840()
{
  return sub_41C020(dword_4B8464);
}

//----- (00497850) --------------------------------------------------------
void __usercall sub_497850(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B8470, a1, a2, a3);
}

//----- (00497860) --------------------------------------------------------
int sub_497860()
{
  return sub_41C1B0(dword_4B8488);
}

//----- (00497870) --------------------------------------------------------
void __usercall sub_497870(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B8494, a1, a2, a3);
}

//----- (00497880) --------------------------------------------------------
int sub_497880()
{
  return sub_41F2B0(dword_4B84B0);
}

//----- (00497890) --------------------------------------------------------
void sub_497890()
{
  CIOException::CInit::~CInit((CIOException::CInit *)&unk_4B8874);
}

//----- (004978A0) --------------------------------------------------------
void __usercall sub_4978A0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)&unk_4B8AA8, a1, a2, a3);
}

//----- (004978B0) --------------------------------------------------------
void sub_4978B0()
{
  sub_422000();
}

//----- (004978C0) --------------------------------------------------------
void sub_4978C0()
{
  sub_424320((std::vector<CIOSocket::CIOTimer> *)&unk_4B8ACC);
}

//----- (004978D0) --------------------------------------------------------
_DWORD *sub_4978D0()
{
  return sub_46B3F0(dword_4B8AE0);
}

//----- (004978E0) --------------------------------------------------------
int sub_4978E0()
{
  return sub_42D6E0(dword_4B8B74);
}

//----- (004978F0) --------------------------------------------------------
int sub_4978F0()
{
  return sub_42D870(dword_4B8B80);
}

//----- (00497900) --------------------------------------------------------
int sub_497900()
{
  return sub_42DA00(dword_4B8B8C);
}

//----- (00497910) --------------------------------------------------------
void __usercall sub_497910(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B8B98, a1, a2, a3);
}

//----- (00497920) --------------------------------------------------------
int sub_497920()
{
  return sub_42FBD0(dword_4B8BB0);
}

//----- (00497930) --------------------------------------------------------
int sub_497930()
{
  return sub_42FD60(dword_4B8BBC);
}

//----- (00497940) --------------------------------------------------------
void __usercall sub_497940(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CScreen::~CScreen((CScreen *)&unk_4B8BE8, a1, a2, a3);
}

//----- (00497950) --------------------------------------------------------
void sub_497950()
{
  CLog::CInit::~CInit((CLog::CInit *)&unk_4B8C1C);
}

//----- (00497960) --------------------------------------------------------
void sub_497960()
{
  sub_40E7C0((std::string *)&unk_4B8C4C);
}

//----- (00497970) --------------------------------------------------------
void sub_497970()
{
  sub_40E7C0((std::string *)&unk_4B8C68);
}

//----- (00497980) --------------------------------------------------------
void sub_497980()
{
  sub_40E7C0((std::string *)&unk_4B8C84);
}

//----- (00497990) --------------------------------------------------------
void sub_497990()
{
  sub_40E7C0((std::string *)&unk_4B8CA0);
}

//----- (004979A0) --------------------------------------------------------
void sub_4979A0()
{
  sub_40E7C0((std::string *)&unk_4B8CBC);
}

//----- (004979B0) --------------------------------------------------------
void sub_4979B0()
{
  sub_40E7C0((std::string *)&unk_4B8CD8);
}

//----- (004979C0) --------------------------------------------------------
void sub_4979C0()
{
  sub_40E7C0((std::string *)&unk_4B8CF4);
}

//----- (004979D0) --------------------------------------------------------
int sub_4979D0()
{
  return sub_4315F0(dword_4B8D10);
}

//----- (004979E0) --------------------------------------------------------
void sub_4979E0()
{
  sub_40E7C0((std::string *)&unk_4B8D1C);
}

//----- (004979F0) --------------------------------------------------------
int sub_4979F0()
{
  return sub_43F840(dword_4B8E70);
}

//----- (00497A00) --------------------------------------------------------
void __usercall sub_497A00(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)&unk_4B8E7C, a1, a2, a3);
}

//----- (00497A10) --------------------------------------------------------
int sub_497A10()
{
  return sub_43F9D0(dword_4B8E9C);
}

//----- (00497A20) --------------------------------------------------------
void __usercall sub_497A20(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B8EA8, a1, a2, a3);
}

//----- (00497A30) --------------------------------------------------------
int sub_497A30()
{
  return sub_43FAC0(dword_4B8EC0);
}

//----- (00497A40) --------------------------------------------------------
void __usercall sub_497A40(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B8ECC, a1, a2, a3);
}

//----- (00497A50) --------------------------------------------------------
_DWORD *__usercall sub_497A50@<eax>(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  return sub_435880(dword_4B8EE8, a1, a2, a3);
}

//----- (00497A60) --------------------------------------------------------
int sub_497A60()
{
  return sub_434810((int)&unk_4B8F40, 32, 2, (int (__thiscall *)(int))CIOCriticalSection::~CIOCriticalSection);
}

//----- (00497A80) --------------------------------------------------------
void sub_497A80()
{
  CNPCObject::_CNPCObject(&unk_4B8F80);
}

//----- (00497A90) --------------------------------------------------------
void sub_497A90()
{
  CNPCObject::_CNPCObject(&unk_4B8FE0);
}

//----- (00497AA0) --------------------------------------------------------
void sub_497AA0()
{
  CNPCObject::_CNPCObject(&unk_4B9040);
}

//----- (00497AB0) --------------------------------------------------------
int sub_497AB0()
{
  return sub_441D80(dword_4B90CC);
}

//----- (00497AC0) --------------------------------------------------------
int sub_497AC0()
{
  return sub_441FF0(dword_4B90D8);
}

//----- (00497AD0) --------------------------------------------------------
int sub_497AD0()
{
  return sub_442260(dword_4B90E4);
}

//----- (00497AE0) --------------------------------------------------------
void __usercall sub_497AE0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B90F0, a1, a2, a3);
}

//----- (00497AF0) --------------------------------------------------------
void sub_497AF0()
{
  CNPCObject::_CNPCObject(&unk_4B9108);
}

//----- (00497B00) --------------------------------------------------------
void __usercall sub_497B00(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)&unk_4B9168, a1, a2, a3);
}

//----- (00497B10) --------------------------------------------------------
int sub_497B10()
{
  return sub_443290(dword_4B918C);
}

//----- (00497B20) --------------------------------------------------------
int sub_497B20()
{
  return sub_443500(dword_4B9508);
}

//----- (00497B30) --------------------------------------------------------
int sub_497B30()
{
  return sub_445BA0(dword_4B958C);
}

//----- (00497B40) --------------------------------------------------------
void __usercall sub_497B40(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)&unk_4B9598, a1, a2, a3);
}

//----- (00497B50) --------------------------------------------------------
int sub_497B50()
{
  return sub_46B410(dword_4B95E0);
}

//----- (00497B60) --------------------------------------------------------
void __usercall sub_497B60(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B95EC, a1, a2, a3);
}

//----- (00497B70) --------------------------------------------------------
int sub_497B70()
{
  return sub_46B500(dword_4B9604);
}

//----- (00497B80) --------------------------------------------------------
void __usercall sub_497B80(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B9610, a1, a2, a3);
}

//----- (00497B90) --------------------------------------------------------
int sub_497B90()
{
  return sub_46B410(dword_4B9628);
}

//----- (00497BA0) --------------------------------------------------------
int sub_497BA0()
{
  return sub_434810((int)&unk_4B9638, 32, 2, (int (__thiscall *)(int))CIOCriticalSection::~CIOCriticalSection);
}

//----- (00497BC0) --------------------------------------------------------
void __usercall sub_497BC0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B9678, a1, a2, a3);
}

//----- (00497BD0) --------------------------------------------------------
int *sub_497BD0()
{
  return sub_46B5F0(dword_4B9690);
}

//----- (00497BE0) --------------------------------------------------------
void __usercall sub_497BE0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B969C, a1, a2, a3);
}

//----- (00497BF0) --------------------------------------------------------
_DWORD *sub_497BF0()
{
  return sub_46B3F0(dword_4B96B4);
}

//----- (00497C00) --------------------------------------------------------
int sub_497C00()
{
  return sub_46E970(dword_4B96C4);
}

//----- (00497C10) --------------------------------------------------------
void __usercall sub_497C10(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B96D0, a1, a2, a3);
}

//----- (00497C20) --------------------------------------------------------
int sub_497C20()
{
  return sub_46FC20(dword_4B9704);
}

//----- (00497C30) --------------------------------------------------------
void sub_497C30()
{
  sub_46FC00((std::numpunct<char> *)&unk_4B9710);
}

//----- (00497C40) --------------------------------------------------------
void __usercall sub_497C40(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CRWLock::~CRWLock((CRWLock *)&unk_4B9728, a1, a2, a3);
}

//----- (00497C50) --------------------------------------------------------
int sub_497C50()
{
  return sub_4714D0(dword_4B9744);
}

//----- (00497C60) --------------------------------------------------------
int sub_497C60()
{
  return sub_4714D0(dword_4B9750);
}

//----- (00497C70) --------------------------------------------------------
int sub_497C70()
{
  return sub_482BB0(dword_4B9C34);
}

//----- (00497C80) --------------------------------------------------------
int sub_497C80()
{
  return sub_434810((int)dword_4B9C40, 60, 32, (int (__thiscall *)(int))sub_482B80);
}

//----- (00497CA0) --------------------------------------------------------
void __usercall sub_497CA0(DWORD a1@<ebx>, DWORD a2@<edi>, DWORD a3@<esi>)
{
  CScreen::~CScreen((CScreen *)&unk_4BA3C4, a1, a2, a3);
}

//----- (00497CB0) --------------------------------------------------------
int sub_497CB0()
{
  return unknown_libname_18(&unk_4BAA9C);
}
// 436380: using guessed type int __thiscall unknown_libname_18(_DWORD);

// nfuncs=3380 queued=3056 decompiled=3056 lumina nreq=0 worse=0 better=0
// ALL OK, 3056 function(s) have been successfully decompiled

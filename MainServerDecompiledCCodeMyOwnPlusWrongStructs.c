/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

CMemory **__cdecl sub_401000(size_t a1);
void __cdecl sub_401020(void *a1);
void __thiscall CBillingPacket::OnIOCallback(CBillingPacket *this, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
void __thiscall CIOBuffer::Release(CIOBuffer *this);
_DWORD *__thiscall CDBSocket::CDBSocket(_DWORD *this);
LONG __thiscall sub_4010D0(int this);
CIOObject *__thiscall CIOObject::OnFree(CIOObject *this);
// void __thiscall std::_Init_locks::~_Init_locks(std::_Init_locks *__hidden this); weak
MRegion *__thiscall DeathMatch_Wait::`vector deleting destructor'(MRegion *this, unsigned int a2);
void __thiscall sub_401170(_DWORD *this);
int __cdecl CAuthSocket::Start();
int __thiscall sub_4012D0(void *this);
// int __thiscall unknown_libname_1(_DWORD, _DWORD); weak
BOOL __cdecl CAuthSocket::Stop();
void __thiscall CAuthSocket::Initialize(CIOSocket *a1, LONG Value);
void __thiscall CNMSocket::OnTimer(CNMSocket *this, int nId);
void __thiscall CAuthSocket::OnClose(int nAuthSocket); // idb
void __thiscall CAuthSocket::OnRead(CIOSocket *this);
LONG __thiscall sub_401570(volatile LONG *this);
BOOL __thiscall CIOObject::PostObject(CIOObject *this, int nId);
void __cdecl CAuthSocket::Process(unsigned __int16 *a1);
void __thiscall sub_401DE0(int *this);
void CAuthSocket::Write(char a1, ...);
int __cdecl MemoryPool_CAuthPacket::_Alloc();
LONG __thiscall CIOSpinLock::Enter(CIOSpinLock *this);
LONG __thiscall sub_401F30(volatile LONG *this);
LONG __cdecl CMemoryPool<CBillingPacket>::Free(CBillingPacket *pT);
CIOObject *__thiscall sub_401F80(CIOObject *this);
CIOObject *__thiscall CIOObject::CIOObject(CIOObject *this);
std::locale::facet *__thiscall sub_401FE0(std::locale::facet *this, char a2);
void __thiscall sub_402010(std::locale::facet *this);
LONG __thiscall sub_402030(void *this);
LONG CMemoryPool<CBillingPacket>::FreeAll();
void __thiscall sub_4020B0(void *this);
void __cdecl CMemoryPool_CSkill::_FreeAll(void *a1);
int __thiscall CBase::CBase(int this);
void __thiscall sub_402180(int this);
// void __stdcall unknown_libname_2(int a1);
void __stdcall sub_4021B0(int a1, int a2);
void *__thiscall sub_4021C0(void *this, char a2);
void __thiscall CBase::_CBase(std::locale::facet *this);
int __thiscall CBase::OnFree(int this);
int __thiscall CBase::Set(void *this, int a2, char a3);
_DWORD *__thiscall sub_402340(_DWORD *this, _DWORD *a2);
int __thiscall sub_402360(_DWORD *this);
int __thiscall sub_402380(_DWORD *this);
lisp::var *__thiscall lisp::var::pop(lisp::var *this, lisp::var *result);
CMemory **__thiscall CBaseList::Push(CMemory *this, CMemory *a2);
int __thiscall CBaseList::Pop(CIOObject *this);
void *__cdecl CMemoryPool_CBaseList::_Alloc();
LONG __cdecl CMemoryPool_CBaseList::_Free(int a1);
LONG __thiscall sub_4024F0(void *this);
LONG sub_402500();
_DWORD *__thiscall sub_402550(_DWORD *this);
int __stdcall CBuff::UpdateBuff(std::locale::facet *a1, int a2);
// std::locale::facet *__thiscall std::locale::facet::`scalar deleting destructor'(std::locale::facet *this, char a2);
_DWORD *__thiscall std::locale::facet::~facet(_DWORD *this);
CBuffMoveSpeed *__cdecl CBuff::CreateBuff(int a1, __int32 a2, int a3, int a4); // idb
CBuffMoveSpeed *__thiscall CBuffMoveSpeed::CBuffMoveSpeed(CBuffMoveSpeed *this, int a2, int a3, int a4); // idb
CBuff *__thiscall CBuff::CBuff(CBuff *this, int a2, int a3, int a4, int a5); // idb
CBuffStone *__thiscall CBuffStone::CBuffStone(CBuffStone *this, int a2, int a3, int a4, int a5); // idb
void __stdcall CBuffMeditation::CBuffMeditation(int a1, int a2, int a3);
int __thiscall sub_405D70(int this, int a2, int a3, int a4, int a5);
CBuffRevivalSequela *__thiscall CBuffRevivalSequela::CBuffRevivalSequela(CBuffRevivalSequela *this, int a2, int a3, int a4);
int __thiscall sub_405DE0(int this, int a2, int a3, int a4);
int __thiscall sub_405E20(int this, int a2, int a3, int a4);
int __thiscall CBuffPoison::CBuffPoison(int this, int a2, int a3, int a4);
int __thiscall sub_405EB0(int this, int a2, int a3, int a4);
CBuffHaste *__thiscall CBuffHaste::CBuffHaste(CBuffHaste *this, int a2, int a3, int a4);
CBuff *__thiscall sub_405F30(CBuff *this, int a2, int a3, int a4);
CBuff *__thiscall sub_405F60(CBuff *this, int a2, int a3, int a4);
int __thiscall sub_405F90(int this, int a2, int a3, int a4);
int __thiscall CBuffCTDefensePer::CBuffCTDefensePer_0(int nBuff_1, int nIndex, int nRemain, int nStat, int nObject); // idb
int __thiscall CBuffCTDefensePer::Copy(void *this);
_DWORD *__thiscall CBuffCTDefensePer::CBuffCTDefensePer(_DWORD *this, void *Src);
int __thiscall CBuffCTHealing::CBuffCTHealing_0(int nBuff_1, int nIndex, int nRemain, int nStat); // idb
_DWORD *__thiscall sub_4060D0(void *this);
_DWORD *__thiscall sub_406110(_DWORD *this, void *a2);
int __thiscall CBuffCTPrtyPtEx::CBuffCTPrtyPtEx_0(int nBuff_1, int nIndex, int nRemain, int nStat, int nKind, int nType, int nState, int nKind_); // idb
int __thiscall CBuffCTPrtyPtEx::Copy(void *this);
_DWORD *__thiscall CBuffCTPrtyPtEx::CBuffCTPrtyPtEx(_DWORD *this, void *Src);
int __thiscall sub_406220(int this, int a2, int a3, int a4);
CBuff *__thiscall sub_406260(CBuff *this, int a2, int a3, int a4);
int __thiscall sub_406290(int this, int a2, int a3, int a4);
int __thiscall CBuffFlagPrty::CBuffFlagPrty(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
CBuff *__thiscall sub_406330(CBuff *this, int a2, int a3, int a4);
int __thiscall sub_406360(int this, int a2, int a3, int a4, int a5);
int __thiscall sub_4063A0(int this, int a2, int a3, int a4);
int __thiscall sub_4063E0(int this, int a2, int a3, int a4);
int __thiscall CBuffPrty::CBuffPrty(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
int __thiscall CBuffPrtyEx::CBuffPrtyEx(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
CBuffExpire *__thiscall CBuffExpire::CBuffExpire(CBuffExpire *this, int a2, int a3, int a4, int a5, int a6, int a7);
CBuffExpireEvent *__thiscall CBuffExpireEvent::CBuffExpireEvent(CBuffExpireEvent *this, int a2, int a3, int a4, int a5, int a6);
CBuffExpireLuckyStone2 *__thiscall CBuffExpireLuckyStone2::CBuffExpireLuckyStone2(CBuffExpireLuckyStone2 *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall sub_4065D0(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7);
_DWORD *__thiscall CBuffRemainEx::CBuffRemainEx(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall sub_406680(_DWORD *this);
_DWORD *__thiscall sub_4066A0(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall CBuffRemainDeadEx::CBuffRemainDeadEx(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_406730(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
CBuffRemainPrty *__thiscall CBuffRemainPrty::CBuffRemainPrty(CBuffRemainPrty *this, int a2, int a3, int a4, int a5, int a6, int a7);
_DWORD *__thiscall sub_4067B0(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
CBuffRemainLuckyStone1 *__thiscall CBuffRemainLuckyStone1::CBuffRemainLuckyStone1(CBuffRemainLuckyStone1 *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall CBuffRemainPet::CBuffRemainPet(_DWORD *this, int a2, int a3);
int __stdcall sub_406890(int a1);
int __thiscall CBuffHydrochloricAcid::CBuffHydrochloricAcid(int this, int a2, int a3, int a4);
CBuffMixDamage *__thiscall CBuffMixDamage::CBuffMixDamage(CBuffMixDamage *this, int a2, int a3, int a4, int a5);
int __stdcall sub_406970(int a1, int a2);
BOOL __thiscall CBuff::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffMoveSpeed::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffMoveSpeed::FreeBuff(_DWORD *this, int a2);
int __thiscall CBuffMoveSpeed::UpdateBuff(_DWORD *this, std::locale::facet *a2, _DWORD *a3);
__int64 __thiscall CChar::IsMState(_QWORD *this, __int64 a2);
int __thiscall CBuffMoveSpeed::IsExpired(_DWORD *this, _QWORD *a2);
int __thiscall CBuffStone::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffStone::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffMeditation::ApplyBuff(int a1);
int __stdcall sub_406D10(int a1);
BOOL __thiscall CBuffMeditation::IsExpired(_DWORD *this, CPlayer *a2);
int __cdecl RandomBetween(int nMin, int nMax);
int __thiscall BuffFatalChance::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffFatalChance::FreeBuff(_DWORD *this, int a2);
int __thiscall CBuffRevivalSequela::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffRevivalSequela::FreeBuff(_DWORD *this, int a2);
int __thiscall CBuffRevivalSequela::UpdateBuff(_DWORD *this, std::locale::facet *a2, int a3);
int __thiscall CBuffStun::ApplyBuff(_DWORD *this, _DWORD *a2);
int __stdcall sub_407080(int a1);
int __thiscall CBuffStun::UpdateBuff(_DWORD *this, std::locale::facet *a2, int a3);
int __thiscall CBuffStun::IsExpired(_DWORD *this, _QWORD *a2);
int __thiscall CBuffMoveStop::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffMoveStop::FreeBuff(void *this, int a2);
int __thiscall CBuffMoveStop::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall CBuffMoveStop::IsExpired(_DWORD *this, _QWORD *a2);
int __stdcall CBuffPoison::ApplyBuff(int a1);
int __stdcall sub_4074D0(int a1);
int __thiscall CBuffPoison::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall CBuffPoison::IsExpired(_DWORD *this, int a2);
// int __thiscall std::_Mpunct<wchar_t>::do_frac_digits(_DWORD *this);
int __stdcall CBuffPoisonCloud::ApplyBuff(int a1);
int __stdcall sub_4077B0(int a1);
int __thiscall CBuffPoisonCloud::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall CBuffPoisonCloud::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffHaste::ApplyBuff(_DWORD *this, _QWORD *a2);
int __thiscall CBuffHaste::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffHP::ApplyBuff(_QWORD *a1);
int __stdcall sub_407B60(int a1);
int __stdcall CBuffMP::ApplyBuff(_QWORD *a1);
int __stdcall sub_407BE0(int a1);
BOOL __thiscall CBuffMP::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffSleep::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffSleep::FreeBuff(void *this, int a2);
int __thiscall CBuffSleep::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall CBuffSleep::IsExpired(_DWORD *this, _QWORD *a2);
int __thiscall CBuffCTDefensePer::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffCTDefensePer::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffCTHealing::ApplyBuff(int a1);
int __stdcall sub_407F40(int a1);
int __thiscall CBuffCTHealing::IsExpired(_DWORD *this, CPlayer *a2);
int __thiscall CBuffCTPrtyPtEx::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffCTPrtyPtEx::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffSuffering::ApplyBuff(int a1);
int __stdcall sub_4080B0(int a1);
int __thiscall CBuffSuffering::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall CBuffSuffering::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffInchantWeapon::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffInchantWeapon::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffSpiritDmg::ApplyBuff(int a1);
int __stdcall sub_408410(int a1);
int __thiscall CBuffSpiritDmg::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall CBuffSpiritDmg::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffFlagPrty::ApplyBuff(_DWORD *this, int a2);
_DWORD *__thiscall CBuffFlagPrty::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffFlagHP::ApplyBuff(int a1);
int __stdcall sub_408830(int a1);
int __thiscall CBuffFlagHP::UpdateBuff(_DWORD *this, std::locale::facet *a2, int a3);
BOOL __thiscall CBuffHP::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffBerserk::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffBerserk::FreeBuff(_DWORD *this, int a2);
int __stdcall CBuffSilenceShot::ApplyBuff(int a1);
int __stdcall sub_4089F0(int a1);
int __thiscall CBuffSilenceShot::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall CBuffSilenceShot::IsExpired(_DWORD *this, _QWORD *a2);
int __stdcall CBuffManaBurn::ApplyBuff(int a1);
int __stdcall sub_408BE0(int a1);
int __thiscall CBuffManaBurn::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall CBuffManaBurn::IsExpired(_DWORD *this, _QWORD *a2);
int __thiscall CBuffPrty::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffPrty::FreeBuff(int this, _QWORD *a2);
int __thiscall CBuffPrty::UpdateBuff(void *this, std::locale::facet *a2, _QWORD *a3);
int __thiscall sub_4090C0(_DWORD *this, int a2);
BOOL __thiscall CBuffPrty::IsExpired(int this, _QWORD *a2);
int __thiscall CBuffPrtyEx::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffPrtyEx::FreeBuff(_DWORD *this, int a2);
int __thiscall sub_409310(_DWORD *this, int a2);
int __thiscall CBuffPrtyEx::UpdateBuff(_DWORD *this, std::locale::facet *a2, _DWORD *a3);
BOOL __thiscall CBuffPrtyEx::IsExpired(_DWORD *this, _DWORD *a2);
int __thiscall CBuffExpire::SetBuff(_DWORD *this, _DWORD *a2);
int __thiscall CBuffExpire::ApplyBuff(_DWORD *this, _DWORD *a2);
BOOL __thiscall CBuffExpire::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffExpireEvent::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffExpireEvent::FreeBuff(_DWORD *this, int a2);
int __thiscall CBuffExpireLuckyStone2::ApplyBuff(_DWORD *this, _DWORD *a2);
__int64 __thiscall CChar::IsBState(_QWORD *this, __int64 a2);
int __thiscall CBuffRemain::SetBuff(_DWORD *this, int a2);
int __thiscall CBuffRemain::ApplyBuff(_DWORD *this, _DWORD *a2);
void __thiscall CBuffExpire::FreeBuff(_DWORD *this, _DWORD *a2);
int __thiscall CBuffRemain::IsExpired(_DWORD *this, int a2);
void __thiscall CBuffRemain::SaveRemain(_DWORD *this, int a2);
int __thiscall CBuffRemainEx::SetBuff(_DWORD *this, int a2);
LONG __thiscall CChar::AddGState(volatile LONG *this, int a2);
int __thiscall CBuffRemainEx::ApplyBuff(_DWORD *this, _DWORD *a2);
void __thiscall CBuffRemainEx::FreeBuff(_DWORD *this, _DWORD *a2);
int __thiscall CBuffRemainDead::SetBuff(_DWORD *this, int a2);
int __thiscall BuffRemainDead::ApplyBuff(_DWORD *this, int a2);
void __thiscall CBuffRemainDead::FreeBuff(_DWORD *this, int a2);
int __thiscall sub_409AC0(_DWORD *this, int a2);
_DWORD *__thiscall CPlayer::AddEState(_DWORD *this, int a2);
int __thiscall CBuffRemainXBlow::ApplyBuff(_DWORD *this, _DWORD *a2);
int __thiscall CBuffRemainPrty::SetBuff(_DWORD *this, int a2);
int __thiscall sub_409BF0(_DWORD *this, _DWORD *a2);
int __thiscall CBuffRemainPrty::FreeBuff(_DWORD *this, _DWORD *a2);
int __thiscall CBuffRemainCount::UpdateBuff(std::locale::facet *this, std::locale::facet *a2, int a3);
int __thiscall CBuffRemainLuckyStone1::ApplyBuff(_DWORD *this, _DWORD *a2);
int __thiscall CBuffRemainPet::ApplyBuff(_DWORD *this, int a2);
void __thiscall CBuffRemainPet::FreeBuff(_DWORD *this, int a2);
int __thiscall CBuffRemainPet::IsExpired(_DWORD *this, int a2);
int __thiscall CBuffHydrochloricAcid::ApplyBuff(_DWORD *this, int a2);
int __stdcall sub_40A370(int a1);
int __thiscall CBuffHydrochloricAcid::IsExpired(_DWORD *this, int *a2);
int __thiscall CBuffMixDamage::ApplyBuff(_DWORD *this, int a2);
int __thiscall CBuffMixDamage::IsExpired(_DWORD *this, int *a2);
CIOObject *__thiscall sub_40A620(CIOObject *this);
void *__thiscall sub_40A640(void *this, char a2);
void __thiscall sub_40A670(std::locale::facet *this);
void __cdecl CCalendar::Start();
// void __setargv();
int sub_40A730();
void __thiscall sub_40A750(void *this, int a2);
void __thiscall CCalendar::ElapseTime(CIOObject *this);
int CCalendar::IsIntercalary();
CChar *__thiscall CChar::CChar(CChar *this);
BOOL __thiscall sub_40ABB0(_DWORD *this, int a2);
int __stdcall sub_40ABD0(int a1, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall CChar::AddMState(_DWORD *this, int a2, int a3);
LONG __thiscall CChar::SubGState(volatile LONG *this, int a2);
LONG __thiscall CChar::AddMStateEx(volatile LONG *this, int a2);
LONG __thiscall CChar::SubMStateEx(volatile LONG *this, int a2);
int __thiscall CChar::SubMState(_DWORD *this, int a2, int a3);
int __thiscall CChar::GetFinalDefense(_DWORD *this, int a1);
int __thiscall sub_40AD20(CPlayer *this, int a2);
int __stdcall CChar::GetFinalResist(int a1, int a2);
int __stdcall sub_40AD70(int a1);
void __thiscall sub_40AD90(void *this, int a2);
void *__thiscall sub_40ADB0(void *this, char a2);
void __thiscall CChar::_CChar(void *this);
int __thiscall CChar::ReviseProperty(_DWORD *this);
int __thiscall CChar::GetDropPt(_DWORD *this, int *a2);
_DWORD *__thiscall CChar::SetXY(_DWORD *this, _DWORD *a2);
void __thiscall CChar::SetDirection(_DWORD *this, int Number, int a3);
int __thiscall CChar::SetReverseDirection(_DWORD *this, __int16 a2);
BOOL __thiscall CChar::IsNormal(int this);
int __thiscall sub_40B2F0(_DWORD *this);
int __thiscall sub_40B310(_DWORD *this, int a2);
void __thiscall CChar::SetBuff(_DWORD *this, int a2, int a3);
int __thiscall CChar::AddBuff(_DWORD *this, std::locale::facet *a2);
int __thiscall CChar::_FindBuff(_DWORD *this, int a2);
int __thiscall CChar::GetBuffRemain(CIOCriticalSection *this, int a2);
void __thiscall CChar::UpdateBuff(_DWORD *this, int a2);
void __thiscall CChar::RefreshBuff(std::locale::facet **this);
void __thiscall CChar::CancelBuff(_DWORD *this, int a2);
void __thiscall CChar::CancelAllBuff(std::locale::facet **this);
void __thiscall CChar::DeleteAllBuff(std::locale::facet **this);
void __thiscall CChar::CancelBuffPrty(_DWORD *this, int a2);
void __thiscall CChar::ResetAllBuff(CIOCriticalSection *this);
void __thiscall CChar::SaveAllBuff(CIOCriticalSection *this);
void CChar::WriteInSight(int a1, char a2, char *a3, ...);
void CChar::WriteInRect(int a1, char a2, int a3, char *a4, ...);
void __thiscall CConfig::CConfig(CConfig *this);
// std::ios_base *__thiscall std::ios_base::ios_base(std::ios_base *this);
void __thiscall sub_40BB50(CConfig *this);
void __thiscall CConfig::Close(CConfig *this);
void __cdecl free_var(int (__thiscall ***a1)(_DWORD));
int __thiscall sub_40BCA0(_DWORD *this);
int __thiscall sub_40BCC0(_DWORD *this);
int __thiscall sub_40BCE0(_DWORD *this);
int __thiscall sub_40BD00(_DWORD *this);
int __thiscall sub_40BD20(_DWORD *this);
int __thiscall CConfig::GetToken(char *this);
lisp::var *__thiscall CConfig::Find(CConfig *this, lisp::var *result, const char *key);
_DWORD *__thiscall CConfig::GetValue(int this, _DWORD *a2);
lisp::_string *__thiscall lisp::_string::_string(lisp::_string *this, const char *str);
_DWORD *sub_40C330();
// std::ios_base *__thiscall std::ios_base::ios_base(std::ios_base *this);
char *sub_40C360();
// char unknown_libname_3();
char *__cdecl Strdup(const char *str);
_DWORD *__thiscall CConfig::GetList(_DWORD *this, _DWORD *a2);
std::ios_base *__thiscall sub_40C4E0(std::ios_base *this, int a2);
std::ios_base *__thiscall lisp::_cons::_cons(std::ios_base *this, int a2, int a3);
char *__thiscall sub_40C550(char *this);
// char *__thiscall type_info::raw_name(type_info *this);
int __thiscall CConfig::Open(_DWORD *this, char *FileName);
int __thiscall sub_40C8D0(_DWORD *this);
const char *__thiscall CConfig::Get(CConfig *this, const char *key);
const char *__thiscall CConfig::Get(CConfig *this, const char *key, const char *defaultValue);
int __thiscall sub_40C970(CConfig *this, char *a2);
int __thiscall sub_40C9A0(CConfig *this, char *a2, int a3);
int __cdecl CConfig::GetTimeStamp(); // idb
LONG __thiscall sub_40CA50(CIOBuffer **this, int a2, int a3, int a4);
volatile int *__thiscall sub_40CA80(void *this);
void *__thiscall sub_40CAB0(void *this, char a2);
void __thiscall sub_40CAE0(void *this);
int __cdecl CDBSocket::Start();
void __cdecl CDBSocket::Stop();
BOOL __cdecl CDBSocket::OnClose();
void __thiscall sub_40CD00(int this);
void __cdecl CDBSocket::Process(unsigned __int16 *a1);
int __thiscall sub_40DC60(_DWORD *this, char a2);
void CDBSocket::Write(char a1, char *a2, ...);
CIOObject *sub_40DCF0();
LONG __cdecl sub_40DD70(int a1);
CIOObject *__thiscall sub_40DDA0(CIOObject *this);
std::locale::facet *__thiscall sub_40DDC0(std::locale::facet *this, char a2);
LONG __thiscall sub_40DDF0(void *this);
LONG sub_40DE00();
CFindPath *__thiscall CFindPath::CFindPath(CFindPath *this);
_DWORD *__thiscall sub_40DEF0(void *this);
int __thiscall CFindPath::FindPath(void *this, int a2, int a3);
int __cdecl sub_40E130(_DWORD *a1, _DWORD *a2);
unsigned int __thiscall CFindPath::CalcH(_DWORD *this, _DWORD *a2);
int __thiscall CFindPath::GetBestNode(_DWORD *this);
_DWORD *__thiscall CFindPath::FreeNode(_DWORD *this);
_DWORD *__thiscall sub_40E270(int *this, int a1);
_DWORD *__thiscall CFindPath::LinkChild(int *this, int a2, int Number, int a4);
_DWORD *__thiscall CFindPath::CheckList(_DWORD *this, _DWORD *a2, unsigned int a3);
_DWORD *__stdcall CFindPath::Propagation(_DWORD *a1);
_DWORD *__thiscall CFindPath::Insert(int *this, _DWORD *a2);
struct localeinfo_struct *__cdecl CMemoryPool_CFindPath::NODE::_Alloc();
LONG __cdecl CMemoryPool_CFindPath::NODE::_Free(_DWORD *a1);
_DWORD *__thiscall CFindPath::NODE::NODE(_DWORD *this, int a2, int a3);
int __thiscall sub_40E750(int this);
void __thiscall sub_40E770(void *this);
void __cdecl CMemoryPool_CFindPath::NODE::_FreeAll(void *a1);
CGoto *__thiscall CGoto::CGoto(CGoto *this);
void *__thiscall sub_40E810(void *this, char a2);
void __thiscall sub_40E840(std::locale::facet *this);
int __cdecl CGoto::FindGoto(int a1, _DWORD *a2);
int __thiscall CGoto::Set(_DWORD *this, int a2, char a3);
int __thiscall CGoto::OnLoad(int this);
CPortal *__thiscall CPortal::CPortal(CPortal *this);
void *__thiscall sub_40EA40(void *this, char a2);
void __thiscall sub_40EA70(std::locale::facet *this);
int __thiscall CPortal::Set(_DWORD *this, int a2, int a3);
int __thiscall CPortal::OnLoad(int this);
int __cdecl CPortal::OpenPortal(int a1);
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::insert(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *result, const std::pair<char const * const,CItem *> *_Val); // idb
bool __thiscall iless::operator()(iless *this, const char *a, const char *b); // idb
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::find(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result, const char *const *_Keyval); // idb
std::list<tagPARTICLES *>::iterator *__thiscall std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(std::list<tagPARTICLES *> *this, std::list<tagPARTICLES *>::iterator *result); // idb
CMemory ***__thiscall std::list<tagSUBPARTICLES *>::push_back(std::list<tagPARTICLES *> *this, tagPARTICLES *const *_Val);
std::pair<int,CPng::Region> *__thiscall std::pair<int,CPng::Region>::pair<int,CPng::Region>(std::pair<int,CPng::Region> *this, const int *_Val1, const CPng::Region *_Val2);
int __thiscall sub_40F040(void *this);
int __cdecl sub_40F060(int a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result); // idb
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::lower_bound(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result, const char *const *_Keyval); // idb
std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::_Insert(std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::iterator *result, bool _Addleft, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Wherenode, const std::pair<unsigned long const ,std::string > *_Val); // idb
int __thiscall std::exception::_Raise(void *this);
void __thiscall std::length_error::length_error(std::length_error *this, const std::length_error *that);
std::logic_error *__thiscall std::logic_error::logic_error(std::logic_error *this, const std::string *_Message);
// _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int); weak
// int __thiscall sub_40F5F0(_DWORD); weak
std::locale::facet *__thiscall sub_40F610(std::locale::facet *this, char a2);
int __thiscall std::locale::facet::~facet(_DWORD *this);
int __thiscall sub_40F660(int this);
std::logic_error *__thiscall sub_40F680(std::logic_error *this, char a2);
void __thiscall std::logic_error::~logic_error(std::logic_error *this);
void __thiscall sub_40F6E0(std::logic_error *this);
std::logic_error *__thiscall sub_40F700(std::logic_error *this, char a2);
std::string *__thiscall std::string::string(std::string *this, const std::string *_Right);
void __thiscall sub_40F780(void *this);
std::string *__thiscall std::string::assign(std::string *this, const std::string *_Right, unsigned int _Roff, unsigned int _Count); // idb
// int __cdecl std::char_traits<char>::copy(void *, void *, size_t); idb
// int __thiscall unknown_libname_4(_DWORD); weak
void __thiscall std::string::_Tidy(int this, char a2, size_t Size);
std::string *__thiscall std::string::erase(std::string *this, unsigned int _Off, unsigned int _Count); // idb
void *__cdecl sub_40F9B0(void *a1, void *a2, size_t a3);
int __thiscall std::string::_Eos(std::string *this, unsigned int _Newsize);
// _DWORD __cdecl std::char_traits<char>::assign(_DWORD, _DWORD); weak
BOOL __thiscall std::string::_Grow(std::string *this, unsigned int _Newsize, bool _Trim);
// int __thiscall unknown_libname_25(_DWORD); weak
int __thiscall std::string::_Copy(std::string *this, unsigned int _Newsize, unsigned int _Oldlen);
CMemory **__stdcall sub_40FC00(size_t a1);
CMemory **__cdecl sub_40FC50(size_t a1);
CMemory ***__thiscall std::list<tagSUBPARTICLES *>::_Insert(std::list<tagPARTICLES *> *this, int a2, int a3);
void *__thiscall sub_40FCF0(void *this);
std::vector<IPAddrMask> *__thiscall std::string::string(std::vector<IPAddrMask> *this, char *Str);
std::string *__thiscall std::vector<IPAddrMask>::capacity(std::vector<IPAddrMask> *this, char *a2);
// int __cdecl std::char_traits<char>::length(char *); idb
std::string *__thiscall std::string::assign(std::string *this, void *Src, size_t Size);
bool __thiscall std::string::_Inside(std::string *this, const char *_Ptr); // idb
// int __cdecl _tolower(int);
unsigned int __thiscall sub_40FE70(int this);
std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::_Lbound(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, const char *const *_Keyval); // idb
int *__thiscall std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Rrotate(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *_Wherenode);
int *__thiscall sub_410050(void *this, int a2);
CMemory **__thiscall std::_Tree<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const,KMacro::CStore>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node *_Rarg, const std::pair<int const ,KMacro::CStore> *_Val, char _Carg);
// void *__cdecl operator new(unsigned int, void *); idb
CMemory **__stdcall sub_410210(int a1, int a2, int a3);
std::list<tagPARTICLES *> *__thiscall std::list<tagSUBPARTICLES *>::_Incsize(std::list<tagPARTICLES *> *this, unsigned int _Count);
CMemory **__stdcall sub_4102F0(int a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_410310(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this);
unsigned int __thiscall std::allocator<KMiniMapSystem::CMinimapTile>::max_size(std::allocator<OVERLAY_CONTAINER> *this); // idb
CMemory **__stdcall sub_410360(int a1);
unsigned int __thiscall sub_410380(int this);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::const_iterator::_Dec(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this);
std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<int,KMacro::CodeInfo,std::less<int>,std::allocator<std::pair<int const,KMacro::CodeInfo>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *_Rarg, const std::pair<int const ,CPng::Region> *_Val, char _Carg);
std::allocator<PORTAL> *__thiscall std::allocator<std::pair<int const,STALLITEMINFO>>::max_size(std::allocator<PORTAL> *this, int a2, int a3, const void *a4);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::iterator *__cdecl std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::iterator::operator++(int a1);
CMemory **__cdecl sub_410560(int a1);
CMemory **__cdecl sub_410580(int a1);
std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> > > *__thiscall std::map<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>>::map<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>>(std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> > > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, const iless *_Parg, const std::allocator<std::pair<char const * const,CItem *> > *_Al);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Init(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<std::string,KMacro::CSkill *,std::less<std::string>,std::allocator<std::pair<std::string const,KMacro::CSkill *>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> > *this); // idb
std::list<tagPARTICLES *> *__thiscall std::list<tagSUBPARTICLES *>::list<tagSUBPARTICLES *>(std::list<tagPARTICLES *> *this);
std::_List_nod<tagPARTICLES *>::_Node *__thiscall std::list<tagPARTICLES *>::_Buynode(std::list<tagPARTICLES *> *this); // idb
int __thiscall sub_410880(void *this);
int __thiscall sub_4108A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tidy(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::erase(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, std::vector<CIOSocket::CIOTimer>::const_iterator a4);
_DWORD *__thiscall std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::erase(_DWORD *this, _DWORD *a2, int a3);
std::logic_error *__thiscall sub_4111A0(std::logic_error *this, const std::string *a2);
void __thiscall sub_4111D0(std::logic_error *this);
std::logic_error *__thiscall sub_4111F0(std::logic_error *this, char a2);
_DWORD *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::clear(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::vector<std::string>::iterator *__thiscall std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::iterator::operator++(std::vector<std::string>::iterator *this, std::vector<std::string>::iterator *result, int __formal); // idb
unsigned int __thiscall std::vector<IPAddrMask>::max_size(std::vector<IPAddrMask> *this, int a2);
int __cdecl sub_411330(int a1);
void *__thiscall sub_411370(void *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_411390(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this);
int __thiscall std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this);
char __cdecl std::swap<unsigned char>(char *_Left, char *_Right);
CGuild *__thiscall CGuild::CGuild(CGuild *this);
void *__thiscall sub_411680(void *this, char a2);
void __thiscall CGuild::_CGuild(std::locale::facet *this);
int __thiscall sub_4116E0(void *this);
void __cdecl CGuild::Stop();
int __thiscall CBase::Delete(CItem *item);
void __cdecl CGuild::SecondProcess();
void __cdecl CGuild::MinuteProcess(unsigned int a1);
void __thiscall CGuild::OnDelete(int this);
int __cdecl CGuild::IsLoad(int a1);
void __cdecl CGuild::Load(int a1, char *a2, int a3);
void __cdecl CGuild::Login(int a1);
LONG __cdecl CGuild::LoginCastle(int a1, int a2);
void __thiscall CGuild::Logout(int this, int a2);
void __cdecl CGuild::DelPlayer(int a1, int a2);
int __cdecl CGuild::CreateTrial(int a1);
void __thiscall sub_412E90(CIOCriticalSection *this);
void __thiscall sub_412EB0(CIOCriticalSection *this);
int __thiscall sub_412ED0(int this);
int __thiscall CGuild::CreateTrialSecedeAnswer(CItem *this, int a2, int a3, int a4);
int __thiscall CGuild::CreateConsent(CItem *this, int a2, int a3);
int __thiscall CGuild::IsAllConsent(int this);
int __stdcall CGuild::CreateGuildName(int a1, char *Str1);
int __thiscall CGuild::CreateGuildNameAnswer(int this, int a2, int a3, char *Source);
int __thiscall CGuild::IsSkillAble(_DWORD *this, int a2, char a3);
int __thiscall CGuild::Conflux(_DWORD *this, int a2, int a3);
int __cdecl CGuild::ConfluxAnswer(int a1, int a2, char a3, int a4);
int __cdecl CGuild::ConfluxSecedeAnswer(int a1, int a2, int a3);
BOOL __thiscall CGuild::IsTempMemberFUll(int this);
int __thiscall CGuild::Secession(_DWORD *this, int a2);
int __thiscall CGuild::Banish(_DWORD *this, int a2, char *Str1);
int __thiscall CGuild::Appointment(_DWORD *this, int a2, char *Str1, char *a4);
int __thiscall CGuild::Dissolution(int this, int a2);
int __thiscall CGuild::TitleChange(int this, int a2, char *Str1, char *Source);
int __thiscall CGuild::SetTodayMessage(int this, int a2, char *Source);
void __thiscall CGuild::GetTodayMessage(char *this, int a2);
void __thiscall CGuild::SendMemberInfo(int this, int a2, int a3);
int __thiscall CGuild::AdminInfo(_DWORD *this, int a2);
int __thiscall CGuild::BasicInfo(_DWORD *this, int a2);
int __thiscall CGuild::SetSkillAble(void *this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall CGuild::CheckStandard(int *this, int a2, int a3);
int __thiscall CGuild::SetStandard(int *this, int a2, int a3);
int __thiscall CGuild::OnSetStandard(int this, int a2, int a3, int a4, int a5);
int __thiscall CGuild::SetExpADD(int *this, int a2, int a3);
int __cdecl CGuild::SetExp(char *Str, int a2);
_DWORD __stdcall CGuild::SetConnectTell(_DWORD, _DWORD);
void __stdcall CGuild::SetMemberLelvelUp(int a1, char a2);
int __thiscall CGuild::GetTitle2Class(const char *this, char *Str1);
char *__thiscall CGuild::GetClass2Title(char *this, int a2);
char *__thiscall CGuild::SetClassTitle(char *this, int a2, char *Source);
BOOL __thiscall CGuild::IsMemberFull(int this);
int __thiscall CGuild::IsAppointmentFull(int this, int a2);
int __thiscall CGuild::GetAppointmentLimitTime(int this, int a2);
int __stdcall CGuild::IsSameName(char *Str1);
CIOObject *__cdecl sub_416230(int a1);
int __cdecl CGuild::FindGuild(char *Str1);
int __thiscall CGuild::FindLeaderPlayer(int this);
char *__thiscall CGuild::GetLeaderName(int this);
int __thiscall CGuild::FindMember(int this, int a2, char *Str1);
char *__cdecl CGuild::Create(char a1);
int __thiscall CGuild::MemberADD(int this, int a2, int a3, int a4);
int __thiscall CGuild::MemberDEL(_DWORD *this, int a2);
bool __thiscall CGuild::SetLevel(int this, int a2);
int __cdecl CGuild::GetGuildSkill(int a1);
void __thiscall CGuild::SetPointADD(void *this, int a2, int a3, int a4);
int __thiscall CGuild::CalPenaltyLevel(int *this);
int __thiscall CGuild::CalPenaltyTLevel(int *this);
void __stdcall CGuild::BroadcastLock(void *a1, int a2);
void __thiscall CGuild::Broadcast(int this, void *a2, int a3);
void __cdecl CGuild::SendPlayerSight(int a1, void *a2, int a3);
int __thiscall CGuild::AllianceOffer(int *this, int a2, char *Str1, int a4);
int __thiscall CGuild::AllianceOfferAnswer(int this, int a2, int a3, int a4, int a5);
volatile int *__thiscall CGuild::SetAlliance(int this, int a2, volatile int *a3);
void __thiscall CGuild::AllianceBroadcast(void *this, int a2);
BOOL sub_4173F0();
BOOL sub_417410();
BOOL sub_417430();
BOOL sub_417450();
time_t __cdecl CGuild::GetWarEndTime();
int __thiscall CGuild::WarDeclare(int this, int a2, int a3);
void __cdecl CGuild::WarDelcareList(int a1, char a2);
int __thiscall CGuild::TrialUnfurlStandard(_DWORD *this, int a2, unsigned int a3);
void __thiscall CGuild::UnfurlStandard(int this, int a2, unsigned int a3);
void __cdecl CGuild::BrokenStandard(int a1);
void __cdecl CGuild::BrokenGate(int a1, int a2);
int __cdecl CGuild::CanAttack(int a1, int a2);
int __thiscall CGuild::CastleInfo(void *this, int a2, unsigned int a3);
int __stdcall CGuild::TaxRateControl(int a1, unsigned int a2, int a3);
int __thiscall CGuild::TaxLevy(_DWORD *this, int a2, unsigned int a3);
int __cdecl CGuild::CastleGateNPC(int a1, unsigned int a2, int a3);
_DWORD __stdcall CGuild::CastleSetGateLmit(_DWORD, _DWORD, _DWORD);
BOOL __thiscall CGuild::IsAlliancePeriod(void *this, int a2);
void __cdecl CGuild::ChangePlayerName(int a1, int a2, char *Source);
void __cdecl CGuild::ChangeGuildName(int a1, int a2, char *Source);
unsigned int __thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval);
_DWORD *__thiscall sub_418480(_DWORD *this);
std::map<unsigned long,std::list<_tagGameRoomInfo *> *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::list<_tagGameRoomInfo *> *> > > *__thiscall std::map<int,CSocket *>::map<int,CSocket *>(std::map<unsigned long,std::list<_tagGameRoomInfo *> *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::list<_tagGameRoomInfo *> *> > > *this);
int __thiscall sub_418510(void *this);
_DWORD *__thiscall sub_418530(_DWORD *this);
int __thiscall std::vector<CControl *>::size(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4185D0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4);
int __stdcall sub_418670(int a1);
BOOL __stdcall sub_4186F0(_DWORD *a1, _DWORD *a2);
int __stdcall sub_418710(int a1);
int __thiscall sub_418790(_DWORD *this);
int __thiscall sub_4187B0(int this);
void *__thiscall sub_418860(void *this);
void *__thiscall sub_418880(void *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4188A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4);
CAtlTraceSettings *__cdecl sub_418940(CAtlTraceSettings *a1);
_BYTE *__cdecl GetNumeric<unsigned char>(_BYTE *a1, _BYTE *a2);
_WORD *__cdecl GetNumeric<short>(_WORD *a1, _WORD *a2);
_BYTE *__cdecl PutNumeric<unsigned char>(_BYTE *a1, char a2);
BOOL __cdecl std::_Distance2<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(int a1, int a2, _DWORD *a3);
void *__thiscall sub_418A00(void *this);
int __thiscall sub_418A30(void *this);
int __thiscall sub_418A50(void *this);
int __thiscall sub_418A70(int this);
CAlliance *__thiscall CAlliance::CAlliance(CAlliance *this);
void *__thiscall sub_418B90(void *this, char a2);
void __thiscall sub_418BC0(std::locale::facet *this);
void __cdecl sub_418BE0();
void __thiscall CAlliance::Clear(int this);
void __thiscall CAlliance::OnDelete(int this);
int __cdecl CAlliance::IsLoad(int a1);
void __cdecl CAlliance::Load(_BYTE *a1);
void __cdecl CAlliance::LoadSetGuild(int a1, int a2, int a3);
void __thiscall CAlliance::DeleteSetGuild(void *this, int a2);
int __cdecl CAlliance::Join(int a1, char *Source, int a3, int a4, char *a5, int a6, int a7);
void __cdecl CAlliance::PostponeExpire();
void __thiscall CAlliance::Postpone(_DWORD *this, int a2, unsigned int a3);
void __cdecl CAlliance::Expire(unsigned int a1);
void __thiscall CAlliance::AllianceInfo(const char *this, int a2);
_DWORD *__thiscall CAlliance::Add(_DWORD *this, int a2);
int __thiscall CAlliance::GetSize(void *this);
volatile int *__thiscall CWar::SetGuild(volatile int **this, volatile int *a2);
void __thiscall CAlliance::BroadcastLock(_DWORD *this, void *a2);
void __thiscall CAlliance::Broadcast(_DWORD *this, void *a2);
void __cdecl CAlliance::ChangeLeaderName(int a1, int a2, char *Source);
void __cdecl CAlliance::ChangeGuildName(int a1, int a2, char *Source);
CCastle *__thiscall CCastle::CCastle(CCastle *this);
void *__thiscall sub_419A00(void *this, char a2);
void __thiscall CCastle::_CCastle(std::locale::facet *this);
void __cdecl CCastle::Start();
void __cdecl sub_419AB0();
void __cdecl CCastle::Load(int a1, int a2);
void __cdecl CCastle::SetWarGuild(volatile int *a1, volatile int *a2);
void __cdecl CCastle::WarBegin(int a1);
int __cdecl CCastle::WarPortal(int a1, int a2, int a3, int a4);
void __thiscall CCastle::_WarMsg(int *this, void *a2);
void __stdcall CCastle::WarMsg(_DWORD);
void __cdecl CCastle::WarList(_DWORD, _DWORD);
void __thiscall CCastle::OnDelete(int this);
void __thiscall CCastle::SetGuild(volatile int **this, volatile int *a2);
XBaseModel *__cdecl CCastle::GetCastle(unsigned int nXModelID); // idb
int __cdecl CCastle::GetMonsterTile2CID(int a1, int a2, int a3);
_DWORD __stdcall CCastle::SubGateState(_DWORD, _DWORD);
BOOL __thiscall CCastle::IsLord(_DWORD *this, int a2);
BOOL __thiscall CCastle::IsAlliance(_DWORD *this, int a2);
int __thiscall CCastle::IsAlreadyDeclare(_DWORD *this, int a2);
int __cdecl CCastle::IsAllCastleWarRelation(int a1);
void __cdecl CCastle::Login(_DWORD *a1, int a2);
void __thiscall CCastle::WarAllianceADD(_DWORD *this, int a2, int a3, int a4, char *a5);
void __thiscall CCastle::WarADD(_DWORD *this, int a2, int a3, char *Source, int a5);
int __thiscall CCastle::GetWarSize(_DWORD *this);
void __thiscall CCastle::WarDelcareList(_DWORD *this, int a2);
BOOL __thiscall CCastle::IsStandardAlive(_DWORD *this);
int __thiscall CCastle::GetStandardUnfurl(_DWORD *this);
void __thiscall CCastle::SetStandardUnfurl(_DWORD *this, int a2);
void __thiscall CCastle::SetCurStandardGuild(int this, int a2, volatile int *a3);
void __cdecl CCastle::UnfurlStandardCancel(int a1);
void __thiscall CCastle::BrokenStandard(int *this, int a2);
int __cdecl CCastle::CreateStandard(int, int, char *Source, int); // idb
void __thiscall CCastle::CreateGate(int this, int a2, int a3, char *Source);
void __stdcall CCastle::CreateNoExistGate(int a1, int a2, char *Source);
int __cdecl CCastle::IsGateAlive(char a1, unsigned int a2);
int __thiscall CCastle::GetTaxRate(_DWORD *this);
void __thiscall CCastle::SetTaxRate(_DWORD *this, int a2, int a3);
BOOL __thiscall CCastle::IsPayment(_DWORD *this);
int __thiscall CCastle::GetTax(_DWORD *this);
void __thiscall CCastle::AddTax(_DWORD *this, int a2);
int __thiscall CCastle::ResetTax(_DWORD *this, int a2);
void __cdecl CCastle::TaxSave();
int __thiscall CCastle::IsGateUse(_DWORD *this, int a2);
int __thiscall CCastle::IsGateUseWarring(_DWORD *this, int a2);
void __cdecl CCastle::GateGoto(int a1, int a2);
int __thiscall CCastle::SetGateLimit(void *this, signed int a2, int a3);
void __cdecl CCastle::SetWarRemainSecondTime(int a1);
void __cdecl CCastle::ChangeLeaderName(int a1, char *Source);
void __cdecl CCastle::ChangeGuildName(int a1, char *Source);
void __thiscall CCastle::SetLordDeclare(_DWORD *this, int a2);
void __cdecl CCastle::SecondProcess();
void __thiscall CCastle::WarEnd(int this);
int __thiscall CCastle::IsWarEnd(int *this);
void __thiscall CCastle::ChangeLord(int this);
int CCastle::IsWarDeclared();
CWar *__thiscall CWar::CWar(CWar *this);
void *__thiscall sub_41C3F0(void *this, char a2);
void __thiscall sub_41C420(std::locale::facet *this);
void __cdecl CWar::Start();
void __cdecl CWar::Load(int a1, char *a2);
void __thiscall sub_41C650(volatile int **this);
_DWORD *__thiscall CWar::ADD(_DWORD *this, int a2);
void __thiscall CWar::Clear(int this);
void __thiscall sub_41C710(_DWORD *this);
void __thiscall sub_41C770(_DWORD *this);
std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *__thiscall std::vector<IPAddrMask>::vector<IPAddrMask>(std::vector<CIOSocket::CIOTimer> *this);
CItemInfo *__thiscall std::vector<Event::Section>::operator[](std::vector<CItemInfo> *this, unsigned int _Pos); // idb
CIOSocket::CIOTimer *__thiscall std::vector<IPAddrMask>::push_back(std::vector<CIOSocket::CIOTimer> *this, const CIOSocket::CIOTimer *_Val);
// std::_String_base *__thiscall std::_String_base::_String_base(std::_String_base *this);
int __stdcall sub_41C8D0(int a1);
int __stdcall sub_41C950(int a1);
const std::length_error *__thiscall std::length_error::length_error(std::length_error *this, const std::length_error *that, void *a3, int a4);
unsigned int *__thiscall std::vector<char const *>::_Ufill(std::vector<unsigned int> *this, unsigned int *_Ptr, unsigned int _Count, const unsigned int *_Val); // idb
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *this, const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *_Val1, const bool *_Val2);
std::list<std::pair<std::string const ,int>>::const_iterator *__thiscall sub_41CAB0(std::list<std::pair<std::string const ,int>>::const_iterator *this);
std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Lbound(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval); // idb
unsigned int __thiscall sub_41CB60(std::allocator<tagPARTICLES *> *this);
void __thiscall std::vector<std::list<std::pair<std::string const,int>>::iterator,std::allocator<std::list<std::pair<std::string const,int>>::iterator>>::_Insert_n(int this, char *a2, unsigned int a3, unsigned int *a4);
CMemory **__stdcall sub_41CE40(int a1);
std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> >::iterator *__thiscall std::vector<TriggerSystem::CTrigger *>::iterator::operator+=(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> >::iterator *this, int _Off); // idb
int __thiscall std::vector<IPAddrMask>::iterator::operator-(std::vector<CIOSocket::CIOTimer>::iterator *this, const std::vector<CIOSocket::CIOTimer>::const_iterator *_Right); // idb
std::list<std::pair<std::string const ,int>>::const_iterator *__thiscall std::list<std::pair<std::string const,int>>::const_iterator::operator--(std::list<std::pair<std::string const ,int>>::const_iterator *this); // idb
int __thiscall sub_41CEE0(_DWORD *this, _DWORD *a2);
std::pair<int const ,IDirect3DTexture9 *> *__thiscall std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>(std::pair<int const ,IDirect3DTexture9 *> *this, const std::pair<int,IDirect3DTexture9 *> *_Right);
char *__thiscall std::vector<CGameScreenOverlay>::_Ucopy<std::vector<CGameScreenOverlay>::const_iterator>(std::allocator<unsigned int> *this, void *Src, int a3, void *a4);
unsigned int __cdecl sub_41CF60(unsigned int *a1, unsigned int a2, const unsigned int *a3);
void *__cdecl std::_Copy_backward_opt<CControl * *,CControl * *>(void *a1, int a2, int a3);
char *__cdecl std::_Uninit_copy<Patch *,Patch *>(void *a1, int a2, void *a3);
void *__thiscall sub_41D000(void *this);
void *__thiscall sub_41D030(void *this);
int __thiscall sub_41D060(void *this);
int __thiscall sub_41D080(void *this);
int __thiscall sub_41D0A0(int this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41D150(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4);
int __thiscall sub_41D1F0(void *this);
int __thiscall sub_41D210(void *this);
int __thiscall sub_41D230(int this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41D2E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4);
CInitItem *__thiscall CInitItem::CInitItem(CInitItem *this);
void *__thiscall sub_41D500(void *this, char a2);
void __thiscall CInitItem::_CInitItem(int this);
int __thiscall sub_41D5C0(void *this);
void __cdecl CInitItem::Open();
int __cdecl CInitItem::FindKey(int a1);
_DWORD *__cdecl CInitItem::Copy();
int __thiscall CInitItem::Set(char *this, int a2, int a3);
int __thiscall CInitItem::OnLoad(_DWORD *this);
int __stdcall CInitItem::SetSpec(int a1);
std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> > *__thiscall std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> >::_Node *_Rootnode, CPlayer *pPlayer);
CInitItem *__thiscall CInitItem::FreeSpec(CInitItem *this, CPlayer *pPlayer);
CSpecPrty *__thiscall CSpecPrty::CSpecPrty(CSpecPrty *this, int a2, int a3, int a4);
int __thiscall CSpec::CSpec(int this, int a2, int a3);
CInitItem *__thiscall sub_41EB90(CInitItem *this, CPlayer *a2);
CSpecTeleport *__thiscall CSpecTeleport::CSpecTeleport(CSpecTeleport *this, const char *a2, int a3);
_DWORD *__thiscall sub_41EBF0(_DWORD *this, int a2, int a3);
CInitItem *__thiscall sub_41EC20(CInitItem *this, CPlayer *a2);
CInitItem *__thiscall sub_41EC50(CInitItem *this, CPlayer *a2);
CSpecChangePrefix *__thiscall CSpecChangePrefix::CSpecChangePrefix(CSpecChangePrefix *this, CPlayer *a2, int a3, int a4, int a5, int a6);
CSpecProtect *__thiscall CSpecProtect::CSpecProtect(CSpecProtect *this);
CSpecBuff *__thiscall CSpecBuff::CSpecBuff(CSpecBuff *this, CPlayer *a2, int a3, int a4);
CInitItem *__thiscall sub_41ED40(CInitItem *this, CPlayer *a2);
BOOL __thiscall CInitItem::ApplySpec(int this, int a2);
BOOL __thiscall CInitItem::FreeSpec(int this, int a2);
int __thiscall CInitItem::Use(int this, int a2);
int __thiscall CInitItem::Enchant(int this, int a2, int a3);
int __cdecl CInitItem::GetSpecValue(int a1, int a2, char a3);
CPrefix *__thiscall CPrefix::CPrefix(CPrefix *this);
void *__thiscall sub_41F120(void *this, char a2);
void __thiscall CPrefix::_CPrefix(int this);
_DWORD *__cdecl CPrefix::Copy();
int __thiscall CPrefix::Set(_DWORD *this, int a2, int a3);
int __thiscall sub_41FA40(void *this);
BOOL __thiscall CPrefix::ApplySpec(int this, int a2);
BOOL __thiscall CPrefix::FreeSpec(int this, int a2);
int __thiscall CSpecPrty::ApplySpec(_DWORD *this, int a2);
int __thiscall CSpecPrty::FreeSpec(_DWORD *this, int a2);
LONG __thiscall sub_41FC20(int *this, volatile LONG *a2);
LONG __thiscall sub_41FC40(int *this, volatile LONG *a2);
int __thiscall CSpecTeleport::Use(_DWORD *this, _DWORD *a2);
int __thiscall CParty::ExistOnPK(CIOCriticalSection *this);
int __thiscall CSpecRefresh::Use(_DWORD *this, int a2);
int __thiscall CSpecCharming::Enchant(_DWORD *this, int a2, int a3);
int __stdcall sub_41FEC0(int a1, int a2);
int __thiscall CSpecChangePrefix::Enchant(_DWORD *this, int a2, int a3);
int __stdcall sub_41FF20(int a1, int a2);
int __thiscall CSpecBuff::Use(int *this, int a2);
int __thiscall sub_41FFA0(_DWORD *this, int a2);
void *__thiscall sub_41FFC0(void *this);
int __thiscall sub_41FFF0(void *this);
int __thiscall sub_420010(void *this);
_DWORD *__thiscall sub_420030(int *this, _DWORD *a2, int a3);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_420060(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3);
bool __thiscall iless::operator()(iless *this, const char *a, const char *b); // idb
int __thiscall sub_420250(void *this);
int __thiscall sub_420270(int this, int a2, char a3, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *a4, const std::pair<int const ,CGame_Character::TargetInfo> *a5);
int __thiscall sub_4206B0(int this);
_DWORD *__thiscall sub_420760(_DWORD *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_420780(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_420820(_DWORD *this);
int __stdcall sub_420880(int a1);
CMemory **__cdecl sub_420900(int a1);
void *__thiscall sub_420920(void *this);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall std::_Tree_ptr<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tree_ptr<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, char a3);
void __thiscall std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>(CAtlTraceSettings *this);
int __thiscall sub_4209C0(void *this);
int __thiscall sub_4209E0(void *this);
int __thiscall sub_420A00(int this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_420AB0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_420B50(_DWORD *this);
int __stdcall sub_420BB0(int a1);
CInitMap *__thiscall CInitMap::CInitMap(CInitMap *this);
void *__thiscall sub_420C90(void *this, char a2);
void __thiscall sub_420CC0(std::locale::facet *this);
int __thiscall CInitMap::Set(void *this, int a2, int a3);
int __thiscall sub_420E10(void *this);
DWORD __cdecl SnapCurrentProcessMiniDump(LPCONTEXT lpContext);
void __thiscall CIOException::CInit::CInit(CIOException::CInit *this);
char *__cdecl GetFilePart(char *source);
void __cdecl __noreturn SecurityHandler();
void sub_421120();
void sub_421130();
BOOL __cdecl sendMail();
int __cdecl sendMail_0(const char *host, const char *from, const char *to, const char *body);
int __cdecl sendFile(unsigned int sock, const char *name);
void __cdecl static GenerateExceptionReport(PEXCEPTION_POINTERS data);
BOOL hprintf(void *LogFile, char *Format, ...);
void __cdecl CreateMiniDump(_EXCEPTION_POINTERS *pException);
int __cdecl RecordModuleList(void *LogFile);
// int __cdecl _getdrive();
// int __cdecl sub_422180(HANDLE hFile); idb
const char *__cdecl GetExceptionDescription(unsigned int ExceptionCode); // idb
int __cdecl PrintStack(void *LogFile, unsigned int begin, unsigned int end);
BOOL __cdecl ImageHelpStackWalk(void *LogFile, _CONTEXT *ptrContext);
unsigned int __cdecl IntelStackWalk(int a1, int a2);
LONG __stdcall RecordExceptionInfo(struct _EXCEPTION_POINTERS *ExceptionInfo);
void __thiscall CIOException::CInit::~CInit(CIOException::CInit *this);
void __cdecl ELOG(char *Format, char a2);
void __stdcall __spoils<edx,ecx> EBREAK();
int __cdecl EBreak();
int __cdecl CIOException::Filter(_EXCEPTION_POINTERS *pExp);
HANDLE __cdecl CIOException::Open(const char *szMailServer, const char *szMailFrom, const char *szMailTo);
BOOL sub_422EC0();
LONG sub_422EE0();
LONG sub_422F00();
void sub_422F10();
LONG sub_422F30();
void __cdecl CIOException::DumpStack(int nThread, void **hThread, unsigned int *nThreadId);
DWORD __cdecl ImageHelpStackWalk(HANDLE hFile, HANDLE hThread);
LONG __thiscall CIOSocket::AddIOThread(volatile LONG *this);
CIOCriticalSection *__thiscall CIOCriticalSection::CIOCriticalSection(CIOCriticalSection *this);
void __thiscall CIOCriticalSection::~CIOCriticalSection(CIOCriticalSection *this);
// void __usercall CIOCriticalSection::Enter(CIOCriticalSection *this);
// void __usercall CIOCriticalSection::Leave(CIOCriticalSection *this);
int sub_423710();
int __cdecl CIOObject::RegisterWait(int nThread);
unsigned int __thiscall CIOSocket::AddIOThread(void *this);
int __cdecl CIOSocket::CloseIOThread();
void __stdcall CIOSocket::FreeIOThread();
// void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this); weak
LONG __thiscall CIOObject::AddRef(CIOObject *this, volatile int *pRef);
void __thiscall CIOObject::Release(CIOObject *this, volatile int *pRef);
int __thiscall CIOObject::RegisterWait(CIOObject *this, void *handle);
void __thiscall CIOObject::AddTimer(CIOObject *this, unsigned int dwTime, int nId);
CIOSocket::CIOTimer *__thiscall CIOSocket::CIOTimer::CIOTimer(CIOSocket::CIOTimer *this, CIOObject *pObject, unsigned int dwTime, int nId);
void __thiscall CIOBuffer::Alloc(CIOObject *this, int nId);
void __thiscall CIOObject::OnIOCallback(CIOObject *this, int bSucess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
void __thiscall CIOSocket::CIOTimerInstance::OnTimerCallback(CIOSocket::CIOTimerInstance *this, int nId);
void __thiscall CIOSocket::CIOTimerInstance::OnIOCallback(CIOSocket::CIOTimerInstance *this, int bSucess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
unsigned int __stdcall CIOBuffer::FreeAll(void *formal);
void __stdcall __noreturn CIOSocket::IOThread(void *arglist);
int __stdcall CIOSocket::DumpStack();
int __stdcall `vector constructor iterator'(void *__t, unsigned int __s, int __n, void *(__thiscall *__f)(void *));
CIOBuffer *__cdecl CIOBuffer::Alloc();
LONG __thiscall CIOBuffer::Free(CIOBuffer *this);
int __cdecl CIOBuffer::FreeAll();
_DWORD *__thiscall CIOSocket::CIOSocket(_DWORD *this, int a2);
void __thiscall sub_4241C0(void *this, char a2);
void __thiscall CIOSocket::_CIOSocket(CIOBuffer **a1);
void __thiscall CIOSocket::WriteCallback(CIOSocket *this);
void __thiscall CIOSocket::GracefulClose(CIOSocket *this);
void __thiscall CIOSocket::OnIOCallback(CIOSocket *this, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
void __thiscall sub_4243D0(CIOSocket *this);
void __thiscall CIOSocket::ReadCallback(CIOSocket *this, unsigned int dwTransferred);
void __thiscall CIOSocket::Read(CIOSocket *this, unsigned int dwLeft);
void __thiscall CIOSocket::WriteCallback(CIOSocket *this, unsigned int dwTransferred);
void __thiscall CIOSocket::Write(CIOSocket *this, CIOBuffer *pBuffer);
void __thiscall CIOServer::CIOServer(CIOServer *this);
CWin32FileIO *__thiscall sub_424990(CWin32FileIO *this, char a2);
void __thiscall CAnger::~CAnger(CWin32FileIO *this);
CIOServer *__thiscall CIOServer::Close(CIOServer *this);
int __thiscall CIOObject::Release(CIOServer *this, int nPort);
BOOL __thiscall CIOServer::OnWaitCallback(CIOServer *this);
int __thiscall CIOServer::Stop(CIOServer *this);
void __thiscall std::priority_queue<CIOSocket::CIOTimer>::top(CIOServer *this, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped);
void __thiscall CIOSocket::Initialize(CIOSocket *this);
BOOL __thiscall sub_424D30(void *this);
CIOSocket::CIOTimer *__thiscall sub_424D50(std::vector<CIOSocket::CIOTimer> *this);
int *__thiscall std::priority_queue<CIOSocket::CIOTimer>::push(std::priority_queue<CIOSocket::CIOTimer> *this, const CIOSocket::CIOTimer *_Pred);
int __thiscall std::priority_queue<CIOSocket::CIOTimer>::pop(std::priority_queue<CIOSocket::CIOTimer> *this);
CIOSocket::CIOTimer *__thiscall std::vector<CIOSocket::CIOTimer>::front(std::vector<CIOSocket::CIOTimer> *this); // idb
char *__thiscall sub_424E30(int this, int a2);
int __thiscall std::vector<CIOSocket::CIOTimer>::pop_back(std::vector<CIOSocket::CIOTimer> *this);
int __thiscall sub_424EF0(std::vector<CIOSocket::CIOTimer> *this, int a2, int a3, int a4);
int __thiscall std::vector<IPAddrMask>::_Destroy(std::vector<CIOSocket::CIOTimer> *this, CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last);
void __thiscall sub_424FA0(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4);
int __thiscall sub_425280(_DWORD *this, _DWORD *a2);
int *__cdecl std::push_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(int a1, int a2);
int __cdecl std::pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(int a1, int a2);
void *__cdecl std::_Uninitialized_fill_n<IPAddrMask *,unsigned int,IPAddrMask,std::allocator<IPAddrMask>>(void *a1, int a2, int a3);
char *__cdecl std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, const CIOSocket::CIOTimer *_Val);
_DWORD *__thiscall sub_4253A0(_DWORD *this);
int sub_4253C0();
int *__cdecl std::_Push_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2);
int *__cdecl std::_Pop_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2);
// int __cdecl unknown_libname_6(_DWORD, _DWORD); weak
_DWORD *__cdecl std::_Copy_backward_opt<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(_DWORD *a1, _DWORD *a2, _DWORD *a3);
std::vector<CIOSocket::CIOTimer>::iterator *__thiscall std::vector<IPAddrMask>::iterator::operator+(std::vector<CIOSocket::CIOTimer>::iterator *this, std::vector<CIOSocket::CIOTimer>::iterator *result, int _Off); // idb
_DWORD *__thiscall sub_425550(_DWORD *this, int a1);
int *__cdecl std::_Push_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6);
int *__cdecl std::_Pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6);
BOOL __stdcall sub_4256A0(int a1, int a2);
BOOL __thiscall sub_4256C0(_DWORD *this, _DWORD *a2);
int *__cdecl std::_Adjust_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6);
void *__thiscall sub_425830(void *this);
std::vector<CIOSocket::CIOTimer> *__thiscall sub_425850(std::vector<CIOSocket::CIOTimer> *this);
CIOObject *__thiscall sub_425880(CIOObject *this);
Concurrency::details::_Condition_variable *__thiscall CIOBuffer::CSlot::CSlot(Concurrency::details::_Condition_variable *this);
std::vector<CIOSocket::CIOTimer> *__thiscall sub_4258D0(void *this);
CItem *__thiscall CItem::CItem(CItem *this);
int __thiscall sub_4259B0(_DWORD *this, int a2);
int __thiscall sub_4259D0(_DWORD *this, int a2, int a3);
int __stdcall sub_4259F0(int a1, int a2, int a3, int a4);
void *__thiscall sub_425A00(void *this, char a2);
void __thiscall sub_425A30(std::locale::facet *this);
int __cdecl CItem::InsertInitItem(int a1);
int __cdecl CItem::InsertPrefix(int a1);
int __cdecl sub_425B10(int a1);
void __cdecl CItem::ReloadItemGroup();
CConfig *__thiscall sub_425C20(CConfig *this);
void __thiscall sub_425C40(CConfig *this);
int __cdecl sub_425C60(int a1);
int __cdecl sub_425CB0(int a1);
int __cdecl CItem::NewItem(_DWORD *a1);
_DWORD *__thiscall sub_425F80(_DWORD *this, int a2);
BOOL __thiscall sub_425FB0(_DWORD *this);
void *__thiscall sub_425FD0(void *this, char a2);
int __thiscall CItemStandard::CItemStandard(_DWORD *this, int a2);
void __thiscall sub_426040(void *this);
int __cdecl sub_426060(int a1, _WORD **a2);
int __cdecl CItem::CreateItem(char a1, int a2, int a3, int a4);
int __cdecl CItem::CreateCheatItem(char a1, int a2, int a3, int a4);
_DWORD *__thiscall sub_4261F0(_DWORD *this, int a2);
_DWORD *__cdecl CItem::CreateOwnItem(char a1, int a2, int a3, int a4);
int __cdecl CItem::CreateDropItem(char a1, int a2);
int __cdecl CItem::CreateQuestItem(char a1);
int __cdecl CItem::Close();
_DWORD *CItem::ClearItemGroup();
void __thiscall CItem::OnTimer(CIOObject *this, int a2);
_DWORD *__thiscall CItem::PutInfo(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_426810(int this, int a2, _DWORD *a3);
_DWORD *__thiscall CItem::Init(_DWORD *this, int a2, int a3, int a4);
void __thiscall CItem::SendDelete(_DWORD *this, int a2, int a3);
void __thiscall CItem::SendCreate(_DWORD *this, int a2, int a3);
int __thiscall CItem::Trash(int this, int a2, int a3);
int __thiscall CItem::Erase(int this, int a2);
void __thiscall CItem::IsState(CItem *this, unsigned int dwState, int a3);
void __thiscall CItem::Insert(_DWORD *this, int a2, int a3, int a4);
int __thiscall CItem::UpdateNum(CItem *this, int a2, int a3, int a4);
void __thiscall CItem::Drop(CIOObject *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, int a7);
int __thiscall CItem::Trade(int this, int a2, int a3, int a4);
BOOL __thiscall CItem::CanSell(_DWORD *this, int a2);
int __thiscall sub_427130(_DWORD *this, int a2);
BOOL __thiscall CItem::CanTrade(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall CItem::CanDrop(_DWORD *this, int a2, int a3);
int __thiscall CItem::StorageOut(_DWORD *this, int a2, int a3, int a4, int a5);
void __thiscall CItem::ForcedStorageIn(_DWORD *this, int a2, int a3, char *a4, int a5);
LONG CItem::NewIID();
int __thiscall sub_4273E0(_DWORD *this, int a2);
int __thiscall CItem::SetEtc(_DWORD *this, int a2);
void __thiscall CItem::SendItemInfo(void *this, int a2, char a3);
void __stdcall CItem::InsertItem(int a1, int a2, int a3, int a4, int a5, int a6);
CItemWeapon *__thiscall CItemWeapon::CItemWeapon(CItemWeapon *this, int a2);
void __thiscall sub_4275C0(std::locale::facet *this);
_BYTE *__thiscall CItemWeapon::PutInfo(int this, _DWORD *a2, int a3);
int __thiscall CItemWeapon::Init2(int this, int a2, _DWORD *a3);
int __thiscall CItemWeapon::Init(_DWORD *this, char a2, int a3, int a4);
void __thiscall CItemWeapon::SetWearState(_DWORD *this, int a2);
int __thiscall sub_427B90(_DWORD *this, int a2);
int __thiscall CPlayer::AddWState(_DWORD *this, char a2);
int __thiscall CPlayer::IsWState(_DWORD *this, char a2);
int __thiscall CItemWeapon::Trash(CItem *this, int a2, int a3);
int __thiscall CItemWeapon::Erase(CItem *this, int a2);
int *__thiscall CItemWeapon::ApplySpec(int *this, _DWORD *a2);
int *__thiscall CItemWeapon::FreeSpec(int *this, _DWORD *a2);
void __thiscall CItemWeapon::PutOn(_DWORD *this, int a2);
void __thiscall CItemWeapon::PutOff(_DWORD *this, _DWORD *a2);
int __thiscall CPlayer::SubWState(_DWORD *this, char a2);
void __thiscall CItem::NewItemDB(int nItem, int nPID, int nIID); // idb
int __thiscall CItemWeapon::UpdateNum(CItem *this, int a2, int a3, int a4);
BOOL __thiscall CItemDefense::CanSell(_DWORD *this, int a2);
int __thiscall CItemWeapon::StorageIn(int this, int a2, int a3);
void __thiscall CItemWeapon::ForcedStorageIn(_DWORD *this, int a2, int a3, char *a4, int a5);
signed int __thiscall CItemWeapon::Charming(_DWORD *this, int a2, int a3);
int __thiscall CItem::GetLevel(_DWORD *this);
int __thiscall CItemWeapon::CharmingCheat(_DWORD *this, int a2, int a3, int a4);
int __thiscall CItemDefense::Repair(_DWORD *this, int a2);
int __thiscall CItemWeapon::ChangePrefix(_DWORD *this, int a2, int a3, int a4, int a5);
int __thiscall CItemWeapon::Protect(_DWORD *this, int a2);
int __thiscall CItemWeapon::GetSellMoney(_DWORD *this, int a2);
void __thiscall CItemWeapon::UpgradeDestroy(CPlayer *this, int a2);
void __thiscall CItemWeapon::UpgradeRateUp(_DWORD *this, int a2);
void __thiscall CItemWeapon::UpgradeLevel(int this, int a2);
CItemDefense *__thiscall CItemDefense::CItemDefense(CItemDefense *this, int a2);
std::locale::facet *__thiscall sub_42A390(std::locale::facet *this, char a2);
void **__thiscall CItemDefense::PutInfo(int this, void **a2, int a3);
int __thiscall CItemDefense::Init2(int this, int a2, _DWORD *a3);
void __thiscall CItemDefense::SetWearState(_DWORD *this, _DWORD *a2);
int __thiscall CItemDefense::Trash(CItem *this, int a2, int a3);
int __thiscall CItemDefense::Erase(CItem *this, int a2);
int __thiscall CItemDefense::ApplySpec(int *this, int a2);
int __thiscall CItemDefense::FreeSpec(int *this, int a2);
void __thiscall CItemDefense::PutOn(_DWORD *this, _DWORD *a2);
void __thiscall CItemDefense::PutOff(_DWORD *this, _DWORD *a2);
void __thiscall sub_42AE20(_DWORD *this, int a2, int a3);
void __thiscall CItemDefense::Insert(_DWORD *this, int a2, int a3, int a4);
int __thiscall CItemDefense::UpdateNum(CItem *this, int a2, int a3, int a4);
int __thiscall CItemDefense::StorageIn(int this, int a2, int a3);
int __thiscall CItemDefense::Charming(_DWORD *this, int a2, int a3);
int __thiscall CItemDefense::CharmingCheat(_DWORD *this, int a2, int a3, int a4);
int __thiscall CItemDefense::ChangePrefix(_DWORD *this, int a2, int a3, int a4, int a5);
int __thiscall CItemDefense::Protect(_DWORD *this, int a2);
int __thiscall CItemDefense::GetSellMoney(_DWORD *this, int a2);
void __thiscall CItemDefense::UpgradeDestroy(CPlayer *this, int a2);
void __thiscall CItemMask::SetWearState(_DWORD *this, int a2);
void __stdcall CItemMask::PutOn(int a1);
_DWORD *__thiscall CItemMask::Init(_DWORD *this, int a2, int a3, int a4);
void __thiscall CItemStandard::SetWearState(_DWORD *this, int a2);
int *__thiscall CItemStandard::ApplySpec(int *this, int a2);
int *__thiscall CItemStandard::FreeSpec(int *this, int a2);
void __thiscall CItemStandard::PutOn(_DWORD *this, _DWORD *a2);
void __thiscall CItemStandard::PutOff(_DWORD *this, _DWORD *a2);
int __stdcall CItemStandard::CanDrop(int a1, int a2);
BOOL __thiscall CItemStandard::CanTrade(_DWORD *this, int a2, int a3, int a4);
int __thiscall CItemStandard::Broken(CPlayer *this, _DWORD *a2, int a3);
CItemOrnament *__thiscall CItemOrnament::CItemOrnament(CItemOrnament *this, int a2);
int __thiscall CItemOrnament::Init(_DWORD *this, char a2, int a3, int a4);
void __thiscall CItemOrnament::SetWearState(_DWORD *this, _DWORD *a2);
int __thiscall CItemOrnament::Trash(CItem *this, int a2, int a3);
int __thiscall CItemOrnament::Erase(CItem *this, int a2);
BOOL __thiscall CItemOrnament::ApplySpec(int *this, int a2);
BOOL __thiscall sub_42C720(int *this, int a2);
void __thiscall CItemOrnament::PutOn(_DWORD *this, _DWORD *a2);
void __thiscall CItemOrnament::PutOff(_DWORD *this, _DWORD *a2);
void __thiscall CItemOrnament::Insert(_DWORD *this, int a2, int a3, int a4);
int __thiscall CItemOrnament::UpdateNum(int this, int a2, int a3, int a4);
BOOL __thiscall CItemTransform::CanDrop(_DWORD *this, int a2, int a3);
int __thiscall CItemOrnament::StorageIn(int this, int a2, int a3);
void __thiscall CItemOrnament::ForcedStorageIn(_DWORD *this, int a2, int a3, char *a4, int a5);
int __thiscall CItemOrnament::ChangePrefix(_DWORD *this, int a2, int a3, int a4, int a5);
int __thiscall CItemOrnament::GetSellMoney(_DWORD *this, int a2);
void __thiscall CItemOrnament::UpgradeDestroy(int this, int a2);
_DWORD *__thiscall sub_42CF10(_DWORD *this, int a2);
int __thiscall CItem::Sum(_DWORD *this, int a2);
int __thiscall CItemGeneral::Use(int *this, int a2);
int __thiscall CItemGeneral::Trade(int this, int a2, int a3, int a4);
int __thiscall CItemGeneral::StorageIn(int this, int a2, int a3);
int __thiscall CItemGeneral::StorageOut(CItem *this, int a2, int a3, int a4, _DWORD *a5);
int __thiscall CItemGeneral::Enchant(int *this, int a2, int a3);
_DWORD *__thiscall sub_42D6B0(_DWORD *this, int a2);
int __thiscall CItemGeneral::UpdateNum(CItem *this, int a2, int a3, int a4);
BOOL __thiscall CItemQuest::CanMerge(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_42D8D0(_DWORD *this, int a2);
BOOL __thiscall sub_42D900(_DWORD *this, int a2);
int __thiscall CItemMoney::Trash(CItem *this, int a2, int a3);
void __thiscall CItemMoney::Insert(_DWORD *this, _DWORD *a2, int a3, int a4);
int __thiscall CItemMoney::UpdateNum(CItem *this, int a2, int a3, LONG Value);
void __thiscall CItemMoney::Drop(int this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall CItemMoney::Trade(int this, int a2, int a3, int a4);
int __thiscall CItemMoney::StorageIn(CItem *this, int a2, int a3);
int __thiscall CItemMoney::StorageOut(CItem *this, int a2, int a3, int a4, _DWORD *a5);
int __thiscall CItemMoney::SetEtc(_DWORD *this, int a2);
CItemTransform *__thiscall CItemTransform::CItemTransform(CItemTransform *this, int a2);
void **__thiscall CItemTransform::PutInfo(int this, void **a2, int a3);
int __thiscall sub_42E710(int this, int a2, _DWORD *a3);
_DWORD *__thiscall CItemTransform::Init(_DWORD *this, int a2, int a3, int a4);
void __thiscall CItemTransform::SetWearState(_DWORD *this, _DWORD *a2);
int __thiscall CItemTransform::Trash(CItem *this, int a2, int a3);
int __thiscall CItemTransform::Erase(CItem *this, int a2);
int __thiscall CItemTransform::ApplySpec(_DWORD *this, int a2);
int __thiscall CItemTransform::FreeSpec(_DWORD *this, int a2);
void __thiscall CItemTransform::PutOn(_DWORD *this, _DWORD *a2);
int __thiscall CItemTransform::PutOff(_DWORD *this, _DWORD *a2);
void __thiscall CItemTransform::Insert(_DWORD *this, int a2, int a3, int a4);
int __thiscall CItemTransform::UpdateNum(CItem *this, int a2, int a3, int a4);
BOOL __thiscall CItemTransform::CanTrade(_DWORD *this, int a2, int a3, int a4);
int __thiscall CItemTransform::StorageIn(int this, int a2, int a3);
void __thiscall CItemTransform::ForcedStorageIn(_DWORD *this, int a2, int a3, char *a4, int a5);
void __thiscall CItemTransform::UpdateExp(_DWORD *this, _DWORD *a2, int a3);
void __thiscall CItemTransform::CheatLevelUp(_DWORD *this, int a2, int a3);
void __thiscall CItemTransform::SaveInfo(_DWORD *this, int a2);
void __thiscall CItemTransform::ApplyTransform(_DWORD *this, volatile LONG *a2, int a3);
int __thiscall CItemTransform::FreeTransform(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_42F590(_DWORD *this);
_DWORD *__thiscall sub_42F5F0(_DWORD *this);
_DWORD *__thiscall sub_42F650(_DWORD *this);
int __stdcall sub_42F6B0(int a1);
int __stdcall sub_42F730(int a1);
int __stdcall sub_42F7B0(int a1);
// int __thiscall unknown_libname_7(_DWORD); weak
int __thiscall sub_42F840(_DWORD *this);
int __cdecl sub_42F920(int a1);
_WORD *__cdecl PutNumeric<short>(_WORD *a1, __int16 a2);
void *__thiscall sub_42F980(void *this);
std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *__stdcall sub_42F9B0(void *a1, int a2);
void *__thiscall sub_42F9D0(void *this);
// int __cdecl _initp_misc_winxfltr();
void *__thiscall sub_42FA10(void *this);
int __thiscall sub_42FA40(void *this);
int __thiscall sub_42FA60(void *this);
int __thiscall sub_42FA80(int this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FB30(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_42FBD0(void *this);
int __thiscall sub_42FBF0(void *this);
int __thiscall sub_42FC10(int this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FCC0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_42FD60(void *this);
int __thiscall sub_42FD80(void *this);
int __thiscall sub_42FDA0(int this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FE50(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __cdecl CGroup::Copy();
CGroup *__thiscall CGroup::CGroup(CGroup *this);
void *__thiscall sub_42FF60(void *this, char a2);
void __thiscall sub_42FF90(std::locale::facet *this);
int __thiscall CGroup::Set(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_430160(_DWORD *this);
_DWORD *__thiscall sub_4301A0(_DWORD *this, int a2);
int __thiscall sub_4301E0(void *this);
void __thiscall CGroup::GetItemInfo(void *this, _DWORD *a2, _DWORD *a3, _DWORD *a4);
int __cdecl sub_4302B0(int a1);
_DWORD *CItemGroup::ClearGroup();
_DWORD *sub_4303A0();
_DWORD *__thiscall sub_4303E0(_DWORD *this);
void *__thiscall sub_430410(void *this, char a2);
void __thiscall sub_430440(std::locale::facet *this);
int __thiscall CItemGroup::Set(_DWORD *this, int a2, int a3);
int __thiscall sub_430520(void *this);
int __stdcall CItemGroup::FindGroup(int a1);
void __thiscall CItemGroup::GetItemInfo(void *this, int a2, _DWORD *a3, _DWORD *a4);
int __thiscall CItemGroup::GetFirstGroup(void *this);
void __cdecl CGoods::ForcedStorageIn(int a1, int a2, void *Src);
_DWORD *sub_4308F0();
CGoods *sub_430980();
CGoods *__thiscall CGoods::CGoods(CGoods *this);
void *__thiscall sub_430A00(void *this, char a2);
void __thiscall sub_430A30(char *this);
int __thiscall CGoods::Set(_DWORD *this, int a2, int a3);
int __thiscall CGoods::OnLoad(_DWORD *this);
std::vector<tagRECT> *__thiscall sub_430B90(std::vector<tagRECT> *this);
tagRECT *__thiscall sub_430BB0(int this, const tagRECT *a2);
int __thiscall sub_430C20(_DWORD *this, int a2);
_DWORD *__thiscall sub_430C40(_DWORD *this);
XMessageQueue::XTimerElement *__thiscall sub_430CA0(int this, const XMessageQueue::XTimerElement *a2);
_DWORD *__thiscall sub_430D10(_DWORD *this);
char *__thiscall sub_430D70(int this, int a2);
int __thiscall sub_430DE0(void *this);
_DWORD *__thiscall sub_430E00(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_430E30(int *this, _DWORD *a2, int a3);
int __thiscall std::vector<tagRECT>::size(std::vector<tagRECT> *this);
int __thiscall sub_430EA0(std::vector<tagRECT> *this, int a2, int a3, int a4);
std::vector<tagRECT> *__thiscall std::vector<tagRECT>::_Tidy(std::vector<tagRECT> *this);
int __cdecl sub_430F90(int a1);
int __stdcall sub_430FA0(int a1);
int __thiscall sub_431020(std::vector<IPAddrMask> *this, int a2, int a3, int a4);
std::vector<IPAddrMask> *__thiscall std::vector<IPAddrMask>::_Tidy(std::vector<IPAddrMask> *this);
int __cdecl sub_431110(int a1);
int __stdcall sub_431120(int a1);
int __thiscall std::vector<CIOSocket::CIOTimer>::size(std::vector<CIOSocket::CIOTimer> *this);
int __thiscall sub_4311E0(std::vector<CIOSocket::CIOTimer> *this, int a2, int a3, int a4);
char __thiscall std::vector<CIOSocket::CIOTimer>::_Buy(std::vector<CIOSocket::CIOTimer> *this, unsigned int _Capacity);
std::vector<CIOSocket::CIOTimer> *__thiscall std::vector<CSyncPacket::CElement>::_Tidy(std::vector<CIOSocket::CIOTimer> *this);
_DWORD *__thiscall sub_431350(_DWORD *this);
// _DWORD __stdcall unknown_libname_8(_DWORD); weak
_DWORD *__thiscall sub_431390(_DWORD *this);
int __thiscall sub_4313B0(void *this, int a2, int a3);
void __thiscall std::vector<tagRECT>::_Insert_n(int this, tagRECT *a2, unsigned int a3, LONG *a4);
int __thiscall sub_4316C0(void *this, int a2, int a3);
void __thiscall std::vector<XMessageQueue::XElement>::_Insert_n(int this, XMessageQueue::XTimerElement *a2, unsigned int a3, int *a4);
CMemory **__thiscall std::_Tree<std::_Tmap_traits<int,int,std::less<int>,std::allocator<std::pair<int const,int>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Rarg, const std::pair<int const ,CGame_Character::TargetInfo> *_Val, char _Carg);
void __thiscall sub_431A40(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4);
_DWORD *__thiscall sub_431D20(int *this, _DWORD *a2, int a3);
int __thiscall sub_431D50(int *this, _DWORD *a2);
unsigned int __thiscall std::allocator<tagRECT>::max_size(std::allocator<tagRECT> *this); // idb
int __thiscall sub_431DB0(_DWORD *this, _DWORD *a2);
int __thiscall sub_431DD0(_DWORD *this, _DWORD *a2);
char *__cdecl sub_431DF0(void *a1, int a2, int a3);
char *__thiscall sub_431E30(void *this, int a2, int a3, void *a4);
char *__thiscall sub_431E60(void *this, int a2, int a3, void *a4);
void *__cdecl sub_431E90(void *a1, int a2, int a3);
_DWORD *__cdecl std::_Copy_backward_opt<tagRECT *,tagRECT *>(_DWORD *a1, _DWORD *a2, _DWORD *a3);
_DWORD *__cdecl std::_Copy_backward_opt<XMessageQueue::XTimerElement *,XMessageQueue::XTimerElement *>(_DWORD *a1, _DWORD *a2, _DWORD *a3);
int __cdecl std::_Destroy_range<CSyncPacket::CElement>(int a1, int a2);
char *__cdecl std::allocator<IPAddrMask>::construct(IPAddrMask *_Ptr, const IPAddrMask *_Val, void *a3);
LONG *__cdecl std::_Construct<tagRECT,tagRECT>(tagRECT *_Ptr, const tagRECT *_Val);
void *__thiscall sub_432030(void *this);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, char a3);
void *__thiscall sub_4320A0(void *this);
int __thiscall sub_4320D0(void *this);
int __thiscall sub_4320F0(void *this);
int __thiscall sub_432110(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4321C0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_432260(void *this);
int __thiscall sub_432280(void *this);
int __thiscall sub_4322A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_432350(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall lisp::var::operator=(_DWORD *this, int a2);
__int32 __thiscall sub_432410(const char **this);
unsigned __int32 __thiscall sub_432430(const char **this);
int __thiscall lisp::_cons::length(lisp::_cons *this);
std::ios_base *__thiscall sub_4324B0(std::ios_base *this);
unsigned int __thiscall CLog::CInit::~CInit(CLog::CInit *this);
void __cdecl CLog::AddV(int nType, char *format, char *va);
void __thiscall sub_4327C0(CIOCriticalSection *this);
void __thiscall sub_4327E0(CIOCriticalSection *this);
void __stdcall CLog::Flush();
void LOG_INFO(char *format, ...); // idb
void LOG_NORMAL(char *format, ...); // idb
void LOG_ERR(char *format, ...); // idb
int __cdecl CMainConfig::Open();
void __thiscall sub_432EC0(int this);
_DWORD *sub_432EE0();
char *__cdecl GetStr(int nIndex);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *result, const std::pair<int const ,CSocket *> *_Val); // idb
_DWORD *__thiscall sub_433110(_DWORD *this);
std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *result, const int *_Keyval); // idb
_lambda_9ab38a79c03e1e04423ad6818173354b_ *__thiscall _lambda_9ab38a79c03e1e04423ad6818173354b_::_lambda_9ab38a79c03e1e04423ad6818173354b_(_lambda_9ab38a79c03e1e04423ad6818173354b_ *this, _DWORD *a2, const std::string *a3);
int __cdecl sub_433230(int a1);
int __thiscall sub_433240(_DWORD *this, int a1, int a2);
int __stdcall sub_433270(int a1);
int __thiscall sub_4332F0(int this, int a2, char a3, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *a4, const std::pair<unsigned long const ,std::string > *a5);
int __cdecl sub_433730(int a1);
int *__thiscall sub_433740(void *this, int a2);
void __stdcall sub_4338F0(void *a1, int a2);
void *__stdcall sub_433910(int a1);
int __thiscall sub_433930(_DWORD *this);
int __thiscall sub_433950(int *this);
std::pair<unsigned long const ,tagSibmanRankInfo> *__thiscall std::pair<unsigned long const,tagSibmanRankInfo>::pair<unsigned long const,tagSibmanRankInfo>(std::pair<unsigned long const ,tagSibmanRankInfo> *this, const std::pair<unsigned long,tagSibmanRankInfo> *_Right);
int __cdecl sub_433AB0(int a1);
void *__cdecl sub_433AF0(void *a1);
CMemory **__cdecl sub_433B00(int a1);
void *__thiscall sub_433B20(void *this, char a2);
// int __thiscall sub_433B50(_DWORD); weak
std::string *__thiscall sub_433B70(std::vector<IPAddrMask> *this, char *a2);
std::string *__thiscall std::string::string(std::string *this);
void *__thiscall sub_433BC0(void *this);
int __thiscall sub_433BF0(void *this);
int __thiscall sub_433C10(void *this);
int __thiscall sub_433C30(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_433CE0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_433D80(_DWORD *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_434510(int *this, _DWORD *a2, int a3);
int __thiscall sub_434540(int *this);
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd);
ATOM __cdecl MyRegisterClass(HINSTANCE__ *hInstance);
int __cdecl sub_434790(HINSTANCE hInstance, int nCmdShow); // idb
int sub_434840();
LRESULT __stdcall WndProc(HWND hWndParent, UINT Msg, WPARAM wParam, LPARAM lParam);
int __stdcall About(HWND__ *hDlg, unsigned int message, unsigned int wParam, int lParam); // idb
BOOL __stdcall sub_434ED0(HWND, UINT, WPARAM, LPARAM); // idb
BOOL __stdcall DialogFunc(HWND, UINT, WPARAM, LPARAM); // idb
int __stdcall RunServer(int a4);
int __stdcall sub_435500(int a1);
std::string *__thiscall sub_4355E0(std::string *this, const std::string *a2);
std::string *__thiscall std::string::append(std::string *this, const std::string *_Right, unsigned int _Roff, unsigned int _Count); // idb
void *__thiscall CMemory::CInit::CInit(void *this);
void __thiscall CMemory::CMemory(CMemory *this);
int __thiscall CMemory::_heap_init(CMemory *this);
int __thiscall CMemory::__sbh_heap_init(CMemory *this, unsigned int threshold); // idb
CMemory **__cdecl CMemory::_malloc(unsigned int size);
void *__thiscall CMemory::_heap_alloc_base(CMemory *this, unsigned int size);
CMemory::tagEntry **__thiscall CMemory::__sbh_alloc_block(CMemory *this, int intSize);
CMemory::tagHeader *__thiscall CMemory::__sbh_alloc_new_region(CMemory *this); // idb
int __thiscall CMemory::__sbh_alloc_new_group(CMemory *this, CMemory::tagHeader *pHeader); // idb
void __cdecl CMemory::_free(void *pBlock);
void __thiscall CMemory::_free_base(CMemory *this, void *pBlock);
CMemory::tagHeader *__thiscall CMemory::__sbh_find_block(CMemory *this, void *pvAlloc); // idb
char *__thiscall CMemory::__sbh_free_block(CMemory *this, CMemory::tagHeader *pHeader, void *pvAlloc);
CMemory **__cdecl CMemory::_realloc(void *pBlock, unsigned int newsize);
void *__thiscall CMemory::_realloc_base(CMemory *this, void *pBlock, unsigned int newsize);
int __thiscall CMemory::__sbh_resize_block(CMemory *this, CMemory::tagHeader *pHeader, void *pvAlloc, int intNew); // idb
void *__cdecl sub_437080(size_t a1);
void __thiscall sub_4370A0(int this);
void __thiscall sub_4370C0(int this);
char *__stdcall `vector destructor iterator'(void *a1, unsigned int a2, int a3, void (__thiscall *a4)(void *));
CInitMonster *__thiscall CInitMonster::CInitMonster(CInitMonster *this);
void *__thiscall sub_437260(void *this, char a2);
void __thiscall CInitMonster::_CInitMonster(_DWORD *this);
char *__cdecl CInitMonster::Copy();
int __thiscall CInitMonster::Set(char *this, int a2, int a3);
int __thiscall CInitMonster::OnLoad(_DWORD *this);
void __stdcall CInitMonster::DropItemEx(_DWORD *a1, int a2, char a3, int a4, int a5, int *a6, int a7);
void __thiscall CInitMonster::DropItem(void *this, int a2, int a3, int a4, int a5, int a6);
BOOL __thiscall CSMap::IsValidTile(_DWORD *this, int *a1, int a2);
BOOL __thiscall CCellMap::IsValidTile(CCellMap *this, _DWORD *a2, int a3, char a4);
int __thiscall CCellMap::GetTile(CCellMap *this, _DWORD *a2); // idb
int __thiscall CSMap::_GetCellMap(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_4382D0(_DWORD *this);
void *__thiscall sub_438370(void *this, char a2);
void __thiscall sub_4383A0(std::locale::facet *this);
CGenMonster *__thiscall CGenMonster::CGenMonster(CGenMonster *this, _DWORD *a2, int a3, int a4, int a5); // idb
_DWORD *__cdecl CGenMonster::Copy();
int __thiscall CGenMonster::Set(_DWORD *this, int a2, int a3);
int __thiscall CGenMonster::OnLoad(_DWORD *this);
void __thiscall CGenMonster::OnTimer(CIOObject *this, int a2);
int *__thiscall CGenMonster::GetGenTile(_DWORD *this, int *a2, int a3);
void __cdecl CGenMonster::Stop();
int __thiscall CMonsterObject::CMonsterObject(int this);
_DWORD *__thiscall sub_438A60(_DWORD *this);
void *__thiscall sub_438A80(void *this, char a2);
void __thiscall CMonsterObject::OnTimer(int this, CIOCriticalSection *a2);
void __thiscall CLink::MoveTo(CLink *this, CLink *pTo);
void __thiscall CMonsterObject::Insert(CIOCriticalSection *this, CLink *a2);
CLink *__thiscall CLink::Insert(CLink *this, CLink *pLink);
int __thiscall CMonsterObject::Stop(CIOCriticalSection *this);
int __thiscall sub_438DB0(int this);
int __thiscall sub_438E90(_DWORD *this);
char *sub_438EB0();
void __stdcall sub_438EC0(int a1, int a2, int a3, int a4);
void *__thiscall sub_438ED0(void *this, char a2);
void __thiscall CMonster::_CMonster(_DWORD *this);
int __thiscall CChar::GetDefense(_DWORD *this, int a2);
int __thiscall CChar::GetAbsorb(CPlayer *this); // idb
int __thiscall sub_438FA0(_DWORD *this, int a2);
CMonster *__thiscall CMonster::CMonster(CMonster *this, _DWORD *a2);
void CMonster::Start();
void __cdecl CMonster::Stop();
LONG sub_4391F0();
int __cdecl CMonster::NewMonster(int a1, int a2);
_DWORD *__thiscall sub_439830(_DWORD *this, int a2);
int __thiscall sub_439860(_DWORD *this);
int __thiscall CMonsterReal::ResetNextMove(_DWORD *this, int a2, int a3);
void __thiscall CMonsterReal::_CMonsterReal(void *this);
int __thiscall sub_4398F0(void *this);
_DWORD *__thiscall sub_439910(_DWORD *this, int a2);
void *__thiscall sub_439940(void *this, char a2);
void __thiscall sub_439970(void *this);
_DWORD *__thiscall CMonsterMaguniWithSkill::CMonsterMaguniWithSkill(_DWORD *this, int a2);
_DWORD *__thiscall sub_4399D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_439A00(_DWORD *this, _DWORD *a2);
void *__thiscall sub_439A30(void *this, char a2);
void __thiscall sub_439A60(_DWORD *this);
void *__thiscall sub_439A80(void *this, char a2);
void __thiscall sub_439AB0(_DWORD *this);
_DWORD *__thiscall sub_439AD0(_DWORD *this);
_DWORD *__thiscall sub_439AF0(_DWORD *this);
int __thiscall sub_439B10(_DWORD *this);
char *__thiscall sub_439B30(char *this);
_DWORD *__thiscall sub_439B50(_DWORD *this, _DWORD *a2);
void *__thiscall sub_439B80(void *this, char a2);
void __thiscall sub_439BB0(_DWORD *this);
_DWORD *__thiscall sub_439BD0(_DWORD *this, _DWORD *a2);
CMonsterBlackBug *__thiscall CMonsterBlackBug::CMonsterBlackBug(CMonsterBlackBug *this, int a2);
_DWORD *__thiscall CMonsterEgg::CMonsterEgg(_DWORD *this, int a2);
CMonsterCocoon *__thiscall CMonsterCocoon::CMonsterCocoon(CMonsterCocoon *this, int a2);
_DWORD *__thiscall sub_439D20(_DWORD *this, int a2);
_DWORD *__thiscall CMonsterFireFlower::CMonsterFireFlower(_DWORD *this, int a2);
_DWORD *__thiscall sub_439DE0(_DWORD *this);
char *__thiscall sub_439E80(char *this);
_DWORD *__thiscall sub_439EA0(_DWORD *this);
void *__thiscall sub_439EC0(void *this, char a2);
_DWORD *__thiscall sub_439EF0(_DWORD *this);
_DWORD *__thiscall sub_439F10(_DWORD *this, int a2);
CMonsterInvaderBoss *__thiscall CMonsterInvaderBoss::CMonsterInvaderBoss(CMonsterInvaderBoss *this, int a2);
int __cdecl CMonster::Create(_DWORD *a1, int a2);
int __thiscall CChar::GetMaxHP(CPlayer *this); // idb
CIOObject *__cdecl CMonster::FindMonster(DWORD a1);
void __cdecl CMonster::GetMonsterList(int a1, int a2);
volatile int *__cdecl CMonster::ScanMonster(int a1);
void __thiscall CMonster::OnDelete(CIOCriticalSection *this);
void __thiscall CMonster::SendDelete(_DWORD *this, int a2, int a3);
void __thiscall CMonster::SendCreate(CPlayer *this, int a2, int a3);
void __thiscall CMonster::SetTarget(int a1, int a5);
int __thiscall CMonster::SetProperty(int this, int a2);
int __thiscall sub_43A620(void *this);
void __thiscall CMonster::Add(int this, int a2);
void __thiscall CMonster::Remove(_DWORD *this);
CLink *__thiscall CLink::Remove(CLink *this);
CIOObject *__thiscall CMonster::GetOperatorName(int a1);
BOOL __thiscall CMonster::CanAttack(_QWORD *this, _QWORD *a2, int a3);
_DWORD *__thiscall sub_43A7D0(_DWORD *this);
_DWORD *__thiscall sub_43A8C0(_DWORD *a1, char a5);
CMonsterReal *__thiscall CMonsterReal::CMonsterReal(CMonsterReal *this, _DWORD *a2);
void __thiscall CMonsterReal::OnDelete(CIOCriticalSection *this);
void __thiscall CMonsterReal::SendCreate(CPlayer *this, int a2, int a3);
int __thiscall CMonsterReal::Damage(int *this, int a2, int a3, _DWORD *a4, _DWORD *a5, _DWORD *a6, int a7);
int __thiscall CChar::GetFinalDamage(_DWORD *this, _DWORD *a2, int a3, int a4);
void __thiscall CMonsterReal::Defense(CIOCriticalSection *a1, volatile int *a2);
int __thiscall CMonsterReal::ReviseProperty(CPlayer *this);
int __thiscall CChar::GetMaxMP(CPlayer *a1);
void __thiscall CMonsterReal::SetTarget(void *this, int a2);
void __cdecl CMonsterReal::UpdateProperty(int a1, int a2, int a3, int a4);
void __cdecl CMonsterReal::UpdatePrtyPt(int a1, int a2, int a3, int a4, int a5);
int __thiscall CChar::GetStr(_DWORD *this);
int __thiscall CChar::GetHth(_DWORD *this);
int __thiscall CChar::GetInt(_DWORD *this);
int __thiscall CChar::GetWis(_DWORD *this);
int __thiscall Char::GetDex(_DWORD *this);
void __cdecl CMonsterReal::UpdatePrtyPer(CPlayer *a1, int a2, int a3, int a4, int a5);
void __thiscall CPlayer::AddMState(_DWORD *this, int a2, int a3);
void __thiscall sub_43CE50(_DWORD *this, int a2, int a3);
void __thiscall CMonsterReal::SetProperty(CPlayer *pChar, int *a2);
int __thiscall CFindPath::Init(_DWORD *this, int a2, int a3, int a4);
void __thiscall CMonsterReal::Add(_DWORD *this, volatile int *a2);
void __thiscall CMonsterReal::Remove(_DWORD *this);
void __thiscall CMonsterReal::AI(int *this);
void __thiscall CMonsterReal::Tick(int this);
void __thiscall CMonsterReal::AddHostility(void *this, int a2, int a3, signed int a4);
void __thiscall CMonsterReal::RemoveHostility(CIOCriticalSection *this, volatile int *a2);
int __thiscall CMonsterReal::GetMSpeed(int *this, int a2);
void __fastcall CMonsterReal::Attack(int a1, int a2);
__int64 __cdecl sub_43D870(_DWORD *a1, _DWORD *a2);
int __thiscall CChar::GetASpeed(CPlayer *this); // idb
int __thiscall CChar::GetAttack(CPlayer *this); // idb
int __thiscall CChar::GetMinAttack(_DWORD *this);
int __thiscall CChar::GetMaxAttack(_DWORD *this);
BOOL __thiscall CChar::CheckHit(int this, _DWORD *a2, int a3);
int __thiscall CChar::GetHit(_DWORD *this);
int __thiscall CChar::GetDodge(_DWORD *this);
signed int __thiscall CMonsterReal::Move(signed int this);
int __thiscall CMonsterReal::GetRandomPt(void *this, int *a2);
int __thiscall CSMap::IsMoveTile(_DWORD *this, int a2, int a3, int Number, int a5, int a6);
int __thiscall CellMap::IsMoveTile(CCellMap *a1, int a2, int a3, int a4, int a5);
// int __thiscall unknown_libname_9(_DWORD); weak
int __thiscall CCellMap::GetLock(_DWORD *this, int *a2);
int __thiscall CMonsterReal::GetChasePt(int this, int *a2, unsigned int *a3);
BOOL __thiscall sub_43E840(_DWORD *this);
int __thiscall sub_43E860(_DWORD *this);
int __thiscall CFindPath::SetNextPath(_DWORD *this);
int __thiscall CMonsterReal::ScanSight(int *this);
void __thiscall CMonsterReal::ManageBuff(_DWORD *this);
int __thiscall CMonsterReal::ApplyDamage(int this, int a2, int a3, int a4, int *a5, int a6, int *a7, int a8);
int __thiscall CChar::GetFatalDamage(int this, int a2, _DWORD *a3, int a4);
int __thiscall CMonsterReal::AfterDamage(_DWORD *this, _DWORD *a2, int a3, int a4);
void __thiscall CMonsterReal::AllotTransformExp(void *this, int a2, int a3);
int __thiscall CMonsterReal::AllotExp(int this, _DWORD *a2, int *a3, int *a4);
int __thiscall sub_43F1A0(void *this);
void __thiscall CMonsterReal::ResetHostility(CIOCriticalSection *this);
int __thiscall CMonsterMaguni::Damage(CIOCriticalSection *this, int a2, int a3, int a4, int a5, int a6, int a7);
void __thiscall CMonsterMaguni::Die(int a1, int a5, int a6, int *a7, int *a8);
void __thiscall CMonsterMaguniWithSkillOnly::SetTarget(int a1, int a5);
void __thiscall CMonsterMaguniWithSkillOnly::AI(CIOCriticalSection *this);
void __thiscall CMonsterMaguniWithSkillOnly::Tick(int this);
void __thiscall CMonsterMaguniWithSkill::AI(CIOCriticalSection *this);
void __thiscall CMonsterMaguniWithSkill::Tick(int this);
void __fastcall CMonsterMaguniWithSkill::Attack(int a1, int a2);
_DWORD *__thiscall sub_440070(_DWORD *this);
int __thiscall sub_4400D0(_DWORD *this);
CMonsterTowerBoss *__thiscall CMonsterTowerBoss::CMonsterTowerBoss(CMonsterTowerBoss *this, int a2, int a3);
int __cdecl CMonsterTowerBoss::Create();
void __thiscall CMonsterTowerBoss::OnDelete(int *this);
void __thiscall CMonsterTowerBoss::Defense(CIOCriticalSection *a1, volatile int *a5);
void __thiscall CMonsterMaguniMaster::AI(int *this);
void __thiscall CMonsterTowerBoss::Tick(int this);
void __fastcall CMonsterTowerBoss::Attack(int a1, int a2);
void __thiscall CMonsterTowerBoss::UpdateChild(CIOCriticalSection *this, int a2);
CGenMonster *__thiscall CMonsterTowerBoss::Summon(_DWORD *this, int a2, int a3, int a4, int a5);
int __thiscall CMonsterTowerBoss::Reaction(_DWORD *this, int a2, int a3);
_DWORD *__thiscall CMonsterTowerBoss::OnSummon(_DWORD *this);
int __stdcall CMonsterNotReal::AddBuff(std::locale::facet *a1);
int __thiscall CMonsterInactive::Damage(CIOCriticalSection *this, _DWORD *a2, int a3, int *a4, _DWORD *a5, _DWORD *a6, int a7);
int __thiscall CMonsterInactive::SetProperty(int this, int a2);
void __thiscall CMonsterInactive::Add(_DWORD *this, volatile int *a2);
int __thiscall CMonsterGuildWar::CMonsterGuildWar(int this, int a2, int a3, int a4, int a5, char *Source);
CIOCriticalSection *__cdecl CMonsterGuildWar::Create(char a1, int a2, int a3, int a4, int a5, char *Source, int a7);
BOOL __thiscall sub_441570(_DWORD *this, int a2);
int __thiscall CMonsterGuildWar::Damage(int this, _DWORD *a2, int a3, int *a4, _DWORD *a5, _DWORD *a6, int a7);
int __thiscall CMonsterGuildWar::SetProperty(char *this, int a2);
void __thiscall CMonsterGuildWar::Tick(CIOCriticalSection *this);
void __thiscall CMonsterGuildWar::SetGuild(int this, int a2, char *Source);
void __thiscall CPlayer::SubGState(int this, int a2);
int __thiscall CMonsterItem::Damage(void *this, int a2, char a3, int a4, int a5, int a6, int a7);
void __thiscall CMonsterItem::Tick(void *this);
void __thiscall sub_441C70(int this, int a2);
void __thiscall CMonsterItem::Remove(_DWORD *this);
_DWORD *__thiscall CMonsterMagic::CMonsterMagic(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
CIOCriticalSection *__cdecl CMonsterMagic::Create(char a1, int a2, int *a3, int a4, int a5, int a6, int a7);
void __thiscall CMonsterMagic::Tick(int this);
void __thiscall CMonsterMagic::SetProperty(CPlayer *pChar, int a2);
void __thiscall CMonsterMagic::Add(int this, volatile int *a2);
void __thiscall CMonsterBlackBug::Tick(int this);
void __thiscall CMonsterReal::Die(int a1, int a5, int a6, int *a7, int *a8);
int __thiscall CMonsterBlackBug::Damage(CIOCriticalSection *this, int a2, int a3, int a4, int a5, int a6, int a7);
void __thiscall CMonsterBlackBug::UpdateChild(CIOCriticalSection *this, int a2);
CGenMonster *__thiscall CMonsterBlackBug::Summon(_DWORD *this, int a2, int a3, int a4, int a5);
void __thiscall CMonsterSiegeGunRuins::AI(int *this);
void __thiscall CMonsterEgg::Tick(void *this);
int __thiscall CMonsterEgg::Summon(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall CMonsterEgg::OnSummon(_DWORD *this);
void __thiscall CMonsterCocoon::Tick(int this);
void __cdecl CMonsterMaguniMaster::Create(int a1, int a2);
_DWORD *__thiscall sub_442DF0(_DWORD *this);
void __thiscall CMonsterMaguniMaster::Tick(int this);
CMonsterBigBirdMother *__thiscall CMonsterBigBirdMother::CMonsterBigBirdMother(CMonsterBigBirdMother *this);
void __cdecl CMonsterBigBirdMother::Create();
void __thiscall CMonsterBigBirdMother::Tick(int this);
CGenMonster *__thiscall CMonsterBigBirdMother::Summon(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall CMonsterBigBirdMother::OnSummon(_DWORD *this);
int __thiscall CMonsterBigBirdMother::Move(int this);
int __thiscall CMonsterBigBirdMother::Damage(CIOCriticalSection *this, _DWORD *a2, int a3, int *a4, _DWORD *a5, int *a6, int a7);
void __fastcall CMonsterBigBirdMother::Attack(int a1, int a2);
void __thiscall CMonsterFireFlower::Tick(CIOCriticalSection *this);
void __cdecl CMonsterBigBirdMaster::Create(int a1);
_DWORD *__thiscall sub_444290(_DWORD *this);
void __thiscall sub_4442B0(void *this);
void __thiscall CMonsterBigBirdMaster::Tick(int this);
void __thiscall CMonsterMaguniMaster::Die(int a1, int a5, int a6, int *a7, int *a8);
int __thiscall CMonsterSiegeGun::CMonsterSiegeGun(int this, int a2, int a3, int a4, char *Source, int a6);
CIOCriticalSection *__cdecl CMonsterSiegeGun::Create(int a1, int a2, int a3, int a4, int a5, char *Source, int a7);
void __thiscall CMonsterSiegeGun::AI(int *this);
void __thiscall CMonsterSiegeGun::Tick(CIOCriticalSection *this);
void __thiscall CMonsterSiegeGun::Die(int this, int a2, int a3, int a4, int a5);
void __thiscall CMonsterSiegeGun::SetFire(CIOCriticalSection *this, _DWORD *a2);
void __thiscall CMonsterSiegeGun::Summon(int this, char a2, int a3, int a4, int a5);
void __thiscall CMonsterSiegeGun::SetOperator(CIOCriticalSection *this, int a2);
int __thiscall CMonsterSiegeGun::Damage(CIOCriticalSection *this, _DWORD *a2, int a3, int *a4, _DWORD *a5, int *a6, int a7);
std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > *__thiscall std::_Tree<std::_Tmap_traits<int,CAlliance *,std::less<int>,std::allocator<std::pair<int const,CAlliance *>>,0>>::find(std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > *this, std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::iterator *result, const int *_Keyval, int a4, int a5);
void __cdecl CMonsterSiegeGunBall::Create(char a1, char a2, int a3, int a4);
void __thiscall CMonsterSiegeGunBall::Tick(CIOCriticalSection *this);
void __thiscall CMonsterSiegeGunBall::AI(int *this);
void __thiscall CMonsterSiegeGunRuins::Tick(CIOCriticalSection *this);
void __thiscall CMonsterWithSkillOnly::Tick(int this);
void __thiscall CMonsterWithSkillOnly::Attack(_DWORD *this);
void __thiscall CMonsterInvaderBoss::AI(int *this);
void __thiscall CMonsterInvaderBoss::Tick(int this);
std::vector<CIOSocket::CIOTimer> *__thiscall sub_445B20(std::vector<CIOSocket::CIOTimer> *this);
int __thiscall sub_445B40(_DWORD *this, int a2);
BOOL __thiscall sub_445B60(std::vector<CIOSocket::CIOTimer> *this);
char *__thiscall sub_445B80(int this, int a2);
std::vector<IPAddrMask> *__thiscall sub_445BF0(std::vector<IPAddrMask> *this);
XMessageQueue::XTimerElement *__thiscall sub_445C10(int this, const XMessageQueue::XTimerElement *a2);
void *__thiscall sub_445C80(void *this);
int __thiscall sub_445CB0(void *this);
unsigned int __thiscall sub_445CD0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2);
_DWORD *__thiscall sub_445D30(_DWORD *this);
_DWORD *__thiscall sub_445D90(_DWORD *this);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_445DF0(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, const std::pair<int const ,CGame_Character::TargetInfo> *a3);
int __thiscall sub_445FA0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1);
_DWORD *__thiscall sub_446000(_DWORD *this);
_DWORD *__thiscall sub_446060(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_446090(int *this, _DWORD *a2, int a3);
void *__thiscall sub_4460C0(void *this);
int __thiscall sub_4460F0(void *this);
BOOL __thiscall sub_446110(void *this);
_DWORD *__thiscall sub_446130(_DWORD *this, _DWORD *a2, int a3);
int __thiscall std::vector<CIOSocket::CIOTimer>::capacity(std::vector<CIOSocket::CIOTimer> *this);
int __thiscall sub_446200(std::vector<CIOSocket::CIOTimer> *this, int a2, int a3, int a4);
char *__thiscall std::vector<CIOSocket::CIOTimer>::_Xlen(std::vector<CIOSocket::CIOTimer> *this, char *a2, int a3, int a4);
int __thiscall sub_4462B0(std::vector<IPAddrMask> *this, int a2, int a3, int a4);
// int __thiscall unknown_libname_10(_DWORD, _DWORD);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_446350(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *result, const int *_Keyval); // idb
int __stdcall sub_446430(void *a1);
int __thiscall sub_4464B0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __stdcall sub_446560(void *a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4465E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __stdcall sub_446680(void *a1);
void *__thiscall sub_446700(void *this, int a2);
void *__thiscall sub_446720(_DWORD *this, void *a1, int a2);
int __thiscall sub_446750(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
unsigned int __thiscall sub_446800(std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *this);
void __thiscall sub_446820(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4);
void __thiscall std::vector<tagShowdownPaticipateInfo>::_Xran(std::vector<tagShowdownPaticipateInfo> *this);
CMemory **__stdcall sub_446B40(int a1);
unsigned int __thiscall sub_446B60(std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *this);
void __thiscall sub_446B80(int this, XMessageQueue::XTimerElement *a2, unsigned int a3, int *a4);
CMemory **__stdcall sub_446E50(int a1);
void *__thiscall sub_446E70(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, void *a2, const int *a3);
int __thiscall sub_446EA0(_DWORD *this, int a2);
_DWORD *__thiscall sub_446F30(_DWORD *this);
int __cdecl sub_446F90(int a1);
_DWORD *__thiscall sub_446FA0(int *this, _DWORD *a1, int a2);
// _DWORD __stdcall sub_446FD0(_DWORD); weak
int __cdecl sub_446FF0(int a1);
int __cdecl sub_447000(int a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_447010(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_4470B0(int *this, _DWORD *a2);
int __cdecl sub_4470E0(int a1);
std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Ubound(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval); // idb
CMemory **sub_4471B0();
int __stdcall sub_4472D0(void *a1);
_DWORD *__thiscall std::_Destroy_range<CIOSocket::CIOTimer>(_DWORD *this, int a2);
_DWORD *__thiscall sub_447370(_DWORD *this);
std::vector<XMessageQueue::XTimerElement>::iterator *__thiscall std::vector<XMessageQueue::XElement>::iterator::operator+=(std::vector<XMessageQueue::XTimerElement>::iterator *this, int _Off); // idb
int __stdcall sub_4473F0(void *a1);
int __cdecl std::_Destroy_range<IPAddrMask>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last);
char *__stdcall sub_4474B0(int a1, int a2, void *a3);
CIOSocket::CIOTimer *__cdecl std::copy_backward<IPAddrMask *,IPAddrMask *>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, CIOSocket::CIOTimer *_Dest); // idb
char *__cdecl std::fill<XMessageQueue::XElement *,XMessageQueue::XElement>(XMessageQueue::XTimerElement *_First, XMessageQueue::XTimerElement *_Last, const XMessageQueue::XTimerElement *_Val);
// _DWORD __stdcall std::_Init_locks::operator=(_DWORD); weak
// _DWORD __cdecl unknown_libname_11(_DWORD); weak
char *__cdecl std::_Uninit_fill_n<XMessageQueue::XTimerElement *,unsigned int,XMessageQueue::XTimerElement,std::allocator<XMessageQueue::XTimerElement>>(char *a1, int a2, int a3);
_DWORD *__stdcall sub_4475D0(void *a1, int a2);
char *__cdecl CGenNPC::~CGenNPC(int a1, int a2, char *a3);
char *__cdecl std::_Uninit_copy<XMessageQueue::XTimerElement *,XMessageQueue::XTimerElement *,std::allocator<XMessageQueue::XTimerElement>>(int a1, int a2, char *a3);
_DWORD *__cdecl std::_Construct<CIOSocket::CIOTimer,CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_Ptr, const CIOSocket::CIOTimer *_Val);
_DWORD *__cdecl std::map<int,std::string>::map<int,std::string>(void *a1, _DWORD *a2);
void *__thiscall sub_447760(void *this);
void *__thiscall sub_447790(void *this);
void *__thiscall sub_4477C0(void *this);
int __thiscall sub_4477F0(void *this);
int __thiscall sub_447810(void *this);
int __thiscall sub_447830(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4478E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_447980(void *this);
int __thiscall sub_4479A0(void *this);
int __thiscall sub_4479C0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __thiscall sub_447A70(void *this);
int __thiscall sub_447A90(void *this);
int __thiscall sub_447AB0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_447B60(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
CInitNPC *__thiscall CInitNPC::CInitNPC(CInitNPC *this);
void *__thiscall sub_447C40(void *this, char a2);
void __thiscall sub_447C70(std::locale::facet *this);
BOOL __cdecl DeleteSocketMsg();
_DWORD *__cdecl CInitNPC::Copy();
int __thiscall CInitNPC::Set(_DWORD *this, int a2, int a3);
int __thiscall sub_447DD0(_DWORD *this);
CGenNPC *__thiscall CGenNPC::CGenNPC(CGenNPC *this);
void *__thiscall sub_447F60(void *this, char a2);
void __thiscall sub_447F90(std::locale::facet *this);
BOOL sub_447FB0();
_DWORD *__cdecl CGenNPC::Copy();
int __thiscall CGenNPC::Set(_DWORD *this, int a2, int a3);
int __thiscall sub_4484D0(_DWORD *this);
int __thiscall sub_448530(int this);
void __thiscall CNPCObject::_CNPCObject(void *this);
void __thiscall CNPCObject::OnTimer(int this, CIOCriticalSection *a2);
void __thiscall CNPCObject::Insert(CIOCriticalSection *this, CLink *a2);
CNPC *__thiscall CNPC::CNPC(CNPC *this, _DWORD *a2);
BOOL __thiscall sub_448820(int *this, int a2);
int __cdecl sub_448870(_DWORD *a1, _DWORD *a2);
void __stdcall sub_4488D0(int a1, int a2, int a3);
void __thiscall sub_4488E0(void *this, char a2);
void __thiscall sub_448910(_DWORD *this);
void __cdecl CNPC::Create(_DWORD *a1);
CNPCTeleport *__thiscall CNPCTeleport::CNPCTeleport(CNPCTeleport *this, _DWORD *a2);
void __thiscall sub_448CE0(_DWORD *this);
_DWORD *__thiscall sub_448D00(_DWORD *this, _DWORD *a2);
void __thiscall sub_448D30(_DWORD *this, char a2);
_DWORD *__thiscall sub_448D60(_DWORD *this, _DWORD *a2);
BOOL __thiscall CNPCQuest::CanReply(_DWORD *this, _DWORD *a2);
CNPCScenario *__thiscall CNPCScenario::CNPCScenario(CNPCScenario *this, _DWORD *a2);
CNPCDoor *__thiscall CNPCDoor::CNPCDoor(CNPCDoor *this, _DWORD *a2);
CNPCSiegeGunStone *__thiscall CNPCSiegeGunStone::CNPCSiegeGunStone(CNPCSiegeGunStone *this, _DWORD *a2);
LONG sub_448F00();
void CNPC::Start();
int sub_448F80();
volatile int *__cdecl CNPC::FindNPC(char a1);
int __cdecl CNPC::CanReply(int a1, int a2);
void __cdecl sub_4490A0(int a1, int a2);
void __thiscall CNPC::OnDelete(CIOCriticalSection *this);
void __thiscall CNPC::SendDelete(_DWORD *this, int a2, int a3);
void __thiscall CNPC::SendCreate(_DWORD *this, int a2, int a3);
void __thiscall sub_449220(int this, int a2);
void __thiscall CNPC::Reply(_DWORD *this, int a2);
void __cdecl CNPC::WarRelationShow(int a1, int a2);
void __thiscall CNPC::Add(int this);
void __thiscall CNPC::Remove(_DWORD *this);
int __thiscall CMonster::IsRemoved(volatile int *this);
void __thiscall CNPC::SetProperty(_DWORD *this, int a2, _DWORD *a3);
void __thiscall CNPC::Show(CIOCriticalSection *this, int a2);
void __cdecl CNPC::GetNPCList(int a1, int a2, int a3);
void __thiscall CNPCQuest::Reply(int this, int a2);
void __cdecl CNPCScenario::MirrorGState(int a1, int a2);
void __cdecl CNPCScenario::ThroneGState(int a1, int a2);
void __cdecl CNPCScenario::ResetBossTower(int a1);
void __thiscall CNPCScenario::Tick(CIOCriticalSection *this);
void __thiscall CNPCScenario::InitScenario(CIOCriticalSection *this);
void __thiscall CNPCScenario::Process(CIOCriticalSection *this, int a2, void *Src, int a4);
int __thiscall CNPCTeleport::Process(_DWORD *this, int a2, void *Src, int a4);
void __thiscall CNPCDoor::Tick(CIOCriticalSection *this);
void __thiscall CNPCDoor::Process(CIOCriticalSection *this, int a2, void *Src, int a4);
void __thiscall CNPCSiegeGunStone::Reply(_DWORD *this, int a2);
void __thiscall CNPCSiegeGunStone::Tick(void *this);
int __thiscall CPlayer::SubEState(_DWORD *this, int a2);
int __thiscall sub_44A510(_DWORD *this, int a2);
void __thiscall CNPCSiegeGunStone::SiegeGunSet(_DWORD *this, int a2, int a3, CIOCriticalSection *a4);
int __thiscall sub_44A940(_DWORD *this, int a2);
void __thiscall CNPCSiegeGunStone::SiegeGunUnSet(void *this, int a2, int a3);
void __thiscall CNPCSiegeGunStone::Show(CIOCriticalSection *this, int a2);
void __thiscall CNPCSiegeGunStone::SendCreate(_DWORD *this, int a2, int a3);
void __thiscall CNPCSiegeGunStone::SetOperator(CIOCriticalSection *this, int a2);
void __thiscall CNPCSiegeGunStone::SetSiegeGun(CIOCriticalSection *this, int a2);
int __thiscall sub_44ADC0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1);
_DWORD *__thiscall sub_44AE20(_DWORD *this, _DWORD *a2, _DWORD *a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44AEB0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_44AF50(_DWORD *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_44B6E0(_DWORD *this);
void *__thiscall sub_44B740(void *this);
_DWORD *__thiscall sub_44B760(_DWORD *this);
int __stdcall sub_44B780(void *a1);
unsigned int __thiscall sub_44B800(int this);
std::_List_nod<tagPARTICLES *>::_Node *__thiscall std::_List_nod<tagPARTICLES *>::_Node::_Node(std::_List_nod<tagPARTICLES *>::_Node *this, std::_List_nod<tagPARTICLES *>::_Node *_Nextarg, std::_List_nod<tagPARTICLES *>::_Node *_Prevarg, tagPARTICLES *const *_Myvalarg);
unsigned int __thiscall std::allocator<XSoundPtr>::max_size(std::allocator<tagPARTICLES *> *this); // idb
void *__thiscall sub_44B880(void *this);
void *__thiscall sub_44B8B0(void *this);
void *__thiscall sub_44B8E0(void *this);
// struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this); weak
int __thiscall sub_44B920(void *this);
int __thiscall sub_44B940(void *this);
int __thiscall sub_44B960(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44BA10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_44BAB0(_DWORD *this);
int __stdcall sub_44BB10(void *a1);
int __thiscall sub_44BB90(void *this);
int __thiscall sub_44BBB0(void *this);
int __thiscall sub_44BBD0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44BC80(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_44BD20(_DWORD *this);
int __stdcall sub_44BD80(void *a1);
int __thiscall sub_44BE00(void *this);
int __thiscall sub_44BE20(void *this);
int __thiscall sub_44BE40(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int sub_44BEF0();
int __thiscall CObjectDB::Open(int this, char *FileName);
int __cdecl CObjectDB::FindSymbol(int a1);
int __thiscall CObjectDB::Load(void *this, int a2);
struct lisp::var *__stdcall lisp::find_nil(lisp *__hidden this, struct lisp::var *, int); // idb
void __cdecl CObjectDB::Close();
LONG sub_44C960();
_DWORD *__thiscall sub_44C970(iless *this, _DWORD *a2, const char **a3);
void *__thiscall sub_44CA00(void *this, void *a1, int a2);
int __thiscall sub_44CA30(int this, const char **a2);
int *__thiscall sub_44CAC0(void *this, int a2);
int *__thiscall sub_44CBF0(void *this, int a2);
CMemory **__stdcall sub_44CD20(int a1);
void *__thiscall sub_44CD40(void *this);
int __stdcall sub_44CD70(int a1);
void *__thiscall sub_44CD90(void *this);
std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *__cdecl std::_Construct<std::_Tree_nod<std::_Tmap_traits<int,std::pair<std::string,std::string>,std::less<int>,std::allocator<std::pair<int const,std::pair<std::string,std::string>>>,1>>::_Node *,std::_Tree_nod<std::_Tmap_traits<int,std::pair<std::string,std::string>,std::less<int>,std::allocator<std::pair<int const,std::pair<std::string,std::string>>>,1>>::_Node *>(std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node **_Ptr, std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *const *_Val);
CQuest *__thiscall CQuest::CQuest(CQuest *this);
void *__thiscall sub_44CE50(void *this, char a2);
void *__thiscall std::_List_ptr<evQuake_s *>::_List_ptr<evQuake_s *>(void *this, char a2);
CMemory **__cdecl sub_44CEC0(int a1);
int __thiscall sub_44CEE0(void *this);
int __thiscall sub_44CF00(void *this);
int __thiscall sub_44CF20(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44CFD0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_44D070(_DWORD *this);
int __stdcall sub_44D0D0(void *a1);
int __thiscall sub_44D150(void *this);
int __thiscall sub_44D170(void *this);
int __thiscall sub_44D190(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44D240(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_44D2E0(_DWORD *this);
int __stdcall sub_44D340(void *a1);
CParty *__thiscall CParty::CParty(void *this, int a2);
void *__thiscall sub_44D470(void *this, char a2);
void __thiscall Party::_CParty(void *this);
volatile int *__cdecl sub_44D4E0(int a1);
void __cdecl CParty::Accept(int a1, int a2);
void __cdecl sub_44D620(CIOCriticalSection *a1, CIOCriticalSection *a2);
void __thiscall CParty::OnFree(CIOObject *this);
void __thiscall CParty::OnTimer(CIOCriticalSection *this, int a2);
void __thiscall CParty::Add(volatile int *this);
void __thiscall CParty::Remove(CIOCriticalSection *this);
int __thiscall CParty::IsHead(CIOCriticalSection *this, int a2);
int __thiscall CParty::IsMember(_DWORD *this, int a2);
int __thiscall CParty::FindTopLevel(_DWORD *this);
void __thiscall CParty::Join(CIOCriticalSection *this, int a2, int a3);
void __thiscall CParty::Leave(void *this, int a2);
void __thiscall sub_44DDA0(int this);
void __thiscall CParty::Exile(void *a1, int a2, int a3);
void __thiscall CParty::AllotExp(int a1, int *a2, int a3, _DWORD *a4);
void __thiscall CParty::SendPartyInfo(_DWORD *this, int a2);
void __thiscall CParty::UpdateMemberHP(CIOCriticalSection *this, CPlayer *a2);
void __thiscall CParty::UpdateMemberLevel(CIOCriticalSection *this, int a2);
void __thiscall CParty::Broadcast(CIOCriticalSection *this, void *a2, int a3);
void __thiscall CParty::_Broadcast(_DWORD *this, void *a2, int a3);
volatile int *__thiscall CParty::GetRandomPlayer(CIOCriticalSection *a1);
int __thiscall CParty::Teleport(CIOCriticalSection *this, int a2, int a3);
CMemory *__thiscall CParty::StoreItem(CIOCriticalSection *this, CMemory *a2);
void __thiscall CParty::DistributeItem(CIOCriticalSection *a1, _DWORD *a2);
void __thiscall CParty::AllotTransformExp(_DWORD *this, int a2, _DWORD *a3);
void __thiscall CParty::Healing(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
_DWORD *__thiscall CParty::Chant(void *this, _DWORD *a2, int *a3);
CMemory *__thiscall CParty::GetPlayerList(CIOCriticalSection *this);
CMemory *__thiscall CParty::_GetPlayerList(_DWORD *this);
int __thiscall CParty::GetLuckySize(_DWORD *this, int a2);
std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *__thiscall sub_44F580(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this);
char **__thiscall std::vector<CControl *>::erase(char **this, char **a2, char *a3);
int __thiscall sub_44F600(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1);
int __thiscall std::vector<TSmartPointer<TriggerSystem::CEvent>>::capacity(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this);
char __thiscall std::vector<TSmartPointer<TriggerSystem::CEvent>>::_Buy(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this, unsigned int _Capacity);
int __thiscall sub_44F720(std::allocator<int> *this, int *a2, int *a3);
std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *__thiscall std::vector<std::list<std::pair<int const,CSocketMsg *>>::iterator,std::allocator<std::list<std::pair<int const,CSocketMsg *>>::iterator>>::_Tidy(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this);
void *__thiscall sub_44F7C0(void *this, char a2);
_DWORD *__thiscall sub_44F7E0(int *this, _DWORD *a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44F810(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_44F8B0(_DWORD *this);
_DWORD *__thiscall sub_44F8D0(_DWORD *this);
int __stdcall sub_44F930(void *a1);
_DWORD *__cdecl PutNumeric<int>(_DWORD *a1, int a2);
char *__cdecl std::copy<char *,char *>(char *_First, char *_Last, char *_Dest); // idb
int __cdecl std::_Destroy_range<int>(int *_First, int *_Last);
unsigned int __cdecl std::_Uninitialized_fill_n<char *,unsigned int,char,std::allocator<char>>(char *_First, unsigned int _Count, const char *_Val);
unsigned int *__cdecl std::fill<HyperElement::CElement * *,HyperElement::CElement *>(unsigned int *_First, unsigned int *_Last, const unsigned int *_Val);
void *__cdecl sub_44FAC0(void *a1, int a2, int a3);
CMemory **__cdecl sub_44FB00(int a1);
char *__cdecl std::_Uninitialized_copy<Patch * *,Patch * *,std::allocator<Patch *>>(unsigned int *_First, unsigned int *_Last, unsigned int *_Dest);
unsigned int __cdecl std::fill_n<TriggerSystem::CTrigger * *,unsigned int,TriggerSystem::CTrigger *>(unsigned int *_First, unsigned int _Count, const unsigned int *_Val);
void *__thiscall sub_44FB90(void *this);
void *__thiscall std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Tidy(void *this, int a2, char a3);
int __thiscall sub_44FBF0(void *this);
int __thiscall sub_44FC10(void *this);
int __thiscall sub_44FC30(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
char *WritePacket_(BYTE byType, const char *format, ...);
int __cdecl sub_44FD40(int a1, int a2);
void __thiscall CPlayerObject::OnTimer(CIOObject *this, CIOCriticalSection *a2);
CPlayer *__thiscall CPlayer::CPlayer(CPlayer *this, int a2, int a3, int a4);
void __stdcall sub_450460(void *a1);
void __thiscall CPlayer::SendMove(void *this, void *a2, void *Src);
_DWORD *__thiscall CPlayer::InitGambleInfo(_DWORD *this);
void *__thiscall sub_450500(void *this, char a2);
void __thiscall CPlayer::_CPlayer(int a1);
int __thiscall sub_450650(void *this);
int __thiscall sub_450670(void *this);
int __thiscall sub_450690(void *this);
int __thiscall sub_4506B0(void *this);
int __thiscall sub_4506D0(void *this);
int __thiscall sub_4506F0(void *this);
int __thiscall sub_450710(void *this);
void __cdecl CPlayer::Start();
CIOObject *__cdecl sub_450790(int a1);
CIOObject *__cdecl CPlayer::FindPlayer_(int a1);
CIOObject *__cdecl sub_450890(char *a1);
void CPlayer::WriteAll(char a1, ...);
void CPlayer::WriteInMap(int a1, char a2, ...);
void __cdecl CPlayer::LogPlayerStatistic();
void (__thiscall ***__thiscall sub_450E40(void (__thiscall ***this)(void *, int)))(void *, int);
void __thiscall CPlayer::OnDelete(int a1);
int __thiscall sub_451330(_DWORD *this, char a2);
void __thiscall CPlayer::SendDelete(_DWORD *this, int a2, void *Src);
void __thiscall CPlayer::SendCreate(_DWORD *this, _DWORD *a2, void *Src);
void __thiscall CPlayer::AI(void *a1);
int __thiscall CPlayer::Damage(CIOCriticalSection *a1, int a2, int a3, int a4, int a5, int a6, int a7);
void __thiscall CPlayer::InfoDie(void *this, int a2, int a3);
int __thiscall CPlayer::ReviseProperty(_DWORD *this);
void __thiscall CPlayer::AddMStateEx(int this, int a2);
void __thiscall CPlayer::AddBState(int this, int a2, int a3, int a4);
void __thiscall sub_451E70(int this, int a2);
void __thiscall CPlayer::SubBState(int this, int a2, int a3);
int __thiscall CPlayer::GetFinalDefense(_DWORD *this, int a2);
int __thiscall CPlayer::GetFinalAbsorb(CPlayer *this, int a2);
int __thiscall CPlayer::GetFinalResist(_DWORD *this, int a2, int a3);
int __thiscall CPlayer::GetMSpeed(int this, int a2);
BOOL __thiscall sub_452110(_DWORD *this);
BOOL __thiscall CPlayer::CheckBlock(_DWORD *this, int *a2);
void __thiscall CPlayer::UpdateTransformExp(CIOCriticalSection *this, int a2);
int __thiscall CPlayer::Add(int this);
LONG __thiscall CPlayer::Remove(int this);
void __thiscall CPlayer::Tick(int this);
int __thiscall CPlayer::GetAutoRefreshHP(_DWORD *this);
int __thiscall CPlayer::GetAutoRefreshMP(_DWORD *this);
void __cdecl CPlayer::WarPortalAll(int a1, int a2);
void __stdcall CPlayer::Send(void *Src);
void CPlayer::Write(int a1, char a2, ...);
void __thiscall CPlayer::Process(CPlayer *a1, int a2, void *Src, int end);
int __thiscall CPlayer::GetInvenSize(char *this);
void __stdcall CPlayer::ExchangeBoddariToItem(int a1, int a2);
void __thiscall CPlayer::ExchahgeItem(CIOCriticalSection *this, CPlayer *a2, int a3, int a4, int a5, int a6);
int __thiscall CPlayer::GetNeedPoint(_DWORD *this, int a2);
int __thiscall CPlayer::OnLoadPlayer(void *this, _BYTE *a2);
_DWORD *__thiscall sub_457E30(_DWORD *this);
_DWORD *__thiscall sub_457E60(_DWORD *this);
int __thiscall CPlayer::_Create(CIOCriticalSection *a1);
int __thiscall CChar::GetMinMagic(_DWORD *this);
int __thiscall CChar::GetMaxMagic(_DWORD *this);
void __thiscall CPlayer::GameStart(void *this);
void __thiscall CPlayer::GameRestart(void *this);
int __thiscall sub_458680(_DWORD *this);
void __thiscall CPlayer::SaveAllProperty(int this, int a2);
void CPlayer::UpdateProperty(int a1, int a2, int a3, signed __int64 a4);
void __cdecl CPlayer::UpdatePrtyPt(int a1, int a2, int a3, int a4, int a5);
void __cdecl CPlayer::UpdatePrtyPer(CPlayer *a1, int a2, int a3, int a4, int a5);
void __thiscall CPlayer::Attack(CPlayer *a1, int a2, int a3);
void __thiscall CPlayer::LevelUp(_DWORD *this);
void __thiscall CPlayer::Teleport(_DWORD *this, int a2, _DWORD *a3, int a4, int a5);
int __thiscall CSMap::IsOnTile(_DWORD *this, int *a2, int a3);
int __thiscall CCellMap::IsOnTile(CCellMap *this, _DWORD *a2, int a3);
void __thiscall CPlayer::OnTeleport(CIOCriticalSection *this, int a2, int a3);
int __stdcall CPlayer::_IntoInven(volatile int *a1);
// void __userpurge CPlayer::_OutofInven(CPlayer *player, CItem *Item);
int __thiscall CPlayer::FindItem(CIOCriticalSection *this, int a2, int a3);
int __thiscall CPlayer::_FindItem(int this, int a2, int a3);
int __thiscall CPlayer::_FindMergeItem(int this, int a2);
void __thiscall CPlayer::BuyItemEx(CIOCriticalSection *this, int a2, int a3, int a4, void *Src, int a6);
void __thiscall CPlayer::SellItem(CIOCriticalSection *this, int a2, int a3, void *Src, int a5);
void __thiscall CPlayer::DropItem(CIOCriticalSection *this, int a2, int a3);
void __thiscall CPlayer::TrashItem(CIOCriticalSection *this, int a2);
int __thiscall CPlayer::RemoveItem(CPlayer *this, int a2, int a3, int a4);
void __thiscall CPlayer::PutOnItem(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::PutOffItem(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::UseItem(CIOCriticalSection *this, int a2);
int __thiscall sub_45DDC0(CIOCriticalSection *this, int a2, int a3);
int __thiscall CPlayer::_InsertItem(int this, int a2, volatile int *a3);
void __thiscall CPlayer::EnchantItem(CIOCriticalSection *this, int a2, int a3);
void __thiscall CPlayer::UpgradeItem(_DWORD *this, CIOCriticalSection *a2, int a3);
void __thiscall CPlayer::AskTrade(__int32 this, int a2);
void __thiscall CPlayer::OnAskTrade(int this, int a2, int a3);
void __thiscall CPlayer::CancelTrade(CIOCriticalSection *this);
int __thiscall CPlayer::_EndTrade(int this, int a2);
void __thiscall CPlayer::ShowOffItem(void *this, int a2, int Src, int a4);
int __thiscall sub_45E6C0(_DWORD *this);
int __thiscall CTrade::GetOther(_DWORD *this, int a2);
void __thiscall sub_45E720(CIOCriticalSection *this);
int __thiscall CPlayer::_CheckTrade(_DWORD *this);
void __thiscall CPlayer::_TradeItem(void *this, void *a2);
void __thiscall CPlayer::_StorageIn(int this, int a2, int a3, int a4);
int __thiscall CPlayer::_StorageOut(int *this, int a1, int a2);
int __thiscall CPlayer::AskParty(CPlayer *this, int nId, _DWORD *a3, int a4, int a5);
void __thiscall CPlayer::StorageInfo(int this);
void __thiscall CPlayer::PutInStorage(CIOCriticalSection *this, int a2, int a3, void *Src, int a5);
void __thiscall CPlayer::PutOutStorage(CIOCriticalSection *this, char a2, int a3, int a4, int a5);
void __thiscall CPlayer::SetStallInfo(int this, int a2, void *Src, int a4);
char *__thiscall sub_45F300(char *this, int a2);
void __thiscall CPlayer::GetStallInfo(int this, int a2, int a3);
void __thiscall CPlayer::SwitchStall(char *this, int a2);
int __thiscall sub_45F640(_DWORD *this, int a2);
void __thiscall CPlayer::BuyItemAtStall(_DWORD *a1, int a2, int a3, int a4, void *Src, int a5);
int __thiscall sub_45F9A0(int this);
int __thiscall sub_45F9D0(int this, int a2);
void sub_45FA10();
void sub_45FA60();
void __thiscall CPlayer::AskParty(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::OnAskParty(__int32 this, int a2, int a3);
void __thiscall CPlayer::LeaveParty(_DWORD);
void __thiscall CPlayer::ExileParty(int a1, int a2);
unsigned int __thiscall CPlayer::GetPartySize(_DWORD *this);
void __thiscall CPlayer::UpdatePartyMember(CPlayer *this, int a2);
void __thiscall CPlayer::SaveQuestFlag(CIOCriticalSection *this, int a2, int a3);
BOOL __thiscall CPlayer::CheckQuestFlag(CIOCriticalSection *this, int a2);
int __thiscall CPlayer::CheckQuestClear(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::QuestGuide(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::AskPvP(CIOCriticalSection *a1, int a2);
void __cdecl sub_460490(CIOCriticalSection *a1, CIOCriticalSection *a2);
void __thiscall CPlayer::OnAskPvP(CIOCriticalSection *a1, int a2, int a3);
void __thiscall CPlayer::OnPvP(int a1);
void __thiscall CPlayer::EndPvP(int this, volatile int *a2, int a3, int a4, int a5);
void __thiscall CPlayer::ProcessMsg(CIOObject *a1, char *a2);
void __thiscall CPlayer::ChatCommand(int a1, char *Str1);
void __thiscall CPlayer::Rest(void *this, int a2);
int __thiscall CPlayer::CutdownExp(int this, int a2);
void __thiscall CPlayer::Revival(CPlayer *this);
void __thiscall CPlayer::RevivalSkill(_DWORD *a1, int a2, int a3);
int __thiscall CPlayer::RevivalItem(CPlayer *this, int a2);
void __thiscall CPlayer::SaveRevivalPt(_DWORD *this, int a2, int a3);
void __thiscall CPlayer::ProcessEvent(CIOCriticalSection *a1, int a2, void *Src, int a4);
void __thiscall CPlayer::OnProcessEvent(_DWORD *this, int a2, void *Src);
void __thiscall CPlayer::InitStat(void *this);
_DWORD *__thiscall CPlayer::EventInsert(_DWORD *this, int a2);
_DWORD *__thiscall CPlayer::EventRemoveAll(_DWORD *this);
BOOL __thiscall CPlayer::EventIsMoraTime(_DWORD *this);
unsigned int __thiscall CPlayer::EventSetMora(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::EventSaveDB(_DWORD *this);
void __thiscall CPlayer::MLMProcess(_DWORD *a1, int a2, void *Src, int a4);
int *__thiscall sub_466AB0(int *this, int a2, int a3, void *a4, int a5, int a6, int a7, int a8);
void sub_466B20();
void __cdecl sub_466B70(int a1, int a2);
void __thiscall CPlayer::MLMLoad(CIOCriticalSection *a1, _DWORD *a2);
_DWORD *__thiscall CPlayer::_MLMInsert(_DWORD **this, _DWORD *a2);
void __thiscall CPlayer::MLMDelete(CIOCriticalSection *this, int a2, int a3);
void __thiscall CPlayer::_MLMDelete(_DWORD **this, int a2, int a3);
void __thiscall CPlayer::MLMDeleteAll(CIOCriticalSection *a1);
void __thiscall CPlayer::MLMUpdate(CIOCriticalSection *this, int a2, int a3, int a4);
int *__thiscall CPlayer::_MLMFind(_DWORD *this, int a2, int a3);
void __stdcall CPlayer::_MLMGet(CMemory **a5, int a6);
int __thiscall CPlayer::MLMPupilNum(CIOCriticalSection *this);
void __thiscall CPlayer::MLMPayMoney(_DWORD *a1, int a2);
void __thiscall CPlayer::MLMAccumFee(_DWORD *this, int a2);
void __thiscall CPlayer::MLMLevelUp(CIOCriticalSection *a1);
void __thiscall CPlayer::FRDProcess(int a1, int a2, void *a3, int a4);
_DWORD *__thiscall sub_468200(_DWORD *this);
int *__thiscall sub_468240(int *this, int a2, void *a3, int a4);
int __thiscall CPlayer::MailSend(int this, int a2, int a3, char *Str2, int a5, int a6, int a7, int a8, int a9, int a10, int a11);
void __thiscall CPlayer::MailSendResult(CIOCriticalSection *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12);
void __thiscall CPlayer::MAILProcess(void *this, int a2, void *Src, int a4);
_DWORD *__thiscall sub_469C80(_DWORD *this);
int __thiscall CPlayer::IsCooking(CIOCriticalSection *this, int a2);
int __thiscall CPlayer::Cooking(CIOCriticalSection *this, int a2);
volatile int *__thiscall CPlayer::GetGuild(CIOCriticalSection *a1);
void __thiscall CPlayer::SetGuild(CIOObject **this, int a2);
int __thiscall CPlayer::GetGID(CIOCriticalSection *this);
void __thiscall CPlayer::SetGID(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::SetGuildLevel(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::SetGuildName(char *this, char *Source);
void __thiscall CPlayer::SetGuildStandard(CIOCriticalSection *this, int a2);
void __thiscall CPlayer::SetGuildClass(int this, int a2, char *Source);
int *__thiscall CPlayer::GetGuildName(int *this);
int __thiscall CPlayer::GetGuildStandard(int *this);
int *__thiscall CPlayer::GetGuildClassTitle(int *this);
int __thiscall CPlayer::IsDefenseSide(CIOCriticalSection *a1, unsigned int a5);
int __thiscall CPlayer::CanAttack(void *this, void *a2, int a3);
void __thiscall CPlayer::PKKill(void *this, int a2);
int __thiscall sub_46B2C0(int this);
int __thiscall CPlayer::GetDropItemMask(_QWORD *this);
int __thiscall CPlayer::AddBuff(_DWORD *this, std::locale::facet *a2);
void __thiscall CPlayer::PKBulletinInfoSend(void *this);
void __cdecl CPlayer::PKBulletinLoad(_BYTE *a1);
void __cdecl CPlayer::ScanONPKPlayer();
void __cdecl CPlayer::EventBuff(int a1);
void __thiscall CPlayer::DropItemONPKDie(CIOCriticalSection *this);
void __thiscall CPlayer::Transform(int this, int a2, int a3);
void __thiscall CPlayer::FreeTransform(CIOCriticalSection *this);
void __thiscall CPlayer::BreakStandard(CIOCriticalSection *this);
void __thiscall CPlayer::RefreshStandardBuff(int this);
BOOL __thiscall CPlayer::IsWearBuffStandard(_DWORD *this);
void __thiscall CPlayer::Bless(_DWORD *this, int a2, int a3);
void __stdcall CPlayer::SetSystemCode(int a1, int a2);
void __stdcall CPlayer::SetEventCode(int a1, int a2);
int __thiscall CPlayer::IsPCBang(_DWORD *this);
void __thiscall CPlayer::Shortcut(_DWORD *this, int a2, void *Src, int a4);
void __thiscall CPlayer::OnGetMyTelPt(void *this, int a2, int a3);
_DWORD *__thiscall sub_46C290(_DWORD *this);
void __thiscall sub_46C2D0(void *this);
void __thiscall CPlayer::SetMyTelPt(int *this, int a2, void *Src, int a4);
_DWORD *__thiscall sub_46C920(_DWORD *this, int a2, _DWORD *a3, int a4);
void __thiscall CPlayer::OnSetMyTelPt(_DWORD *this, int a2, void *Src);
int __thiscall CPlayer::GetPalsyDamage(_DWORD *this, int a2);
int __thiscall CPlayer::CanMove(int this);
void __thiscall CPlayer::NPCProcess(void *this, char a2, int a3, int a4, int a5);
void __thiscall CPlayer::ChangePlayerName(char *this, char *Str);
void __thiscall CPlayer::OnChangePlayerName(int this, int a2, char *Source);
void __thiscall CPlayer::ChangeGuildName(int this, char *Str);
void __thiscall CPlayer::OnChangeGuildName(int this, int a2, char *Source);
void __thiscall CPlayer::EventProcessNPC(_DWORD *this, int a2, int a3, int a4);
int __stdcall sub_46D490(int *a1, int a2);
int __stdcall sub_46D4B0(int a1, int a2);
int __thiscall CPlayer::InsertOwnItem(CIOCriticalSection *this, int a2, int a3);
void __thiscall CPlayer::ExchangeDanjiToItem(CIOCriticalSection *this, int a2, CPlayer *a3);
void __thiscall CPlayer::SiegeGunProcess(CIOCriticalSection *this, int a2, int a3, int a4, int a5);
void __thiscall CPlayer::SiegeGunControl(CIOCriticalSection *this, int a2, void *src, int a4);
void __thiscall CPlayer::SiegeGunUnset(CIOCriticalSection *this, int a2);
int __thiscall CPlayer::ReturnToPoint(_DWORD *this, int a2);
int __cdecl CPlayer::CountWarrelationPlayer();
void __thiscall CPlayer::EnforceItem(int this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_46EF70(_DWORD *this);
signed int __stdcall CItem::ChkWeaponUpgrade(int nItem_1, int nItem, int nItem_2); // idb
BOOL __stdcall CItem::CheckSubClass(int a1);
// void __userpurge CItem::RemoveItem(CPlayer *Player, CItem *Item);
void __thiscall CPlayer::MixItem(void *this, int a2, int a3, int a4, int a5, int a6);
int __thiscall sub_4703E0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_470440(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, const std::pair<int const ,CGame_Character::TargetInfo> *a3);
int __thiscall sub_470600(int *this, int a1);
_DWORD *__thiscall sub_470660(iless *this, _DWORD *a2, const char **a3);
void *__thiscall sub_4706F0(void *this);
int __thiscall sub_470720(void *this);
int __thiscall sub_470740(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1);
std::vector<IPAddrMask> *__thiscall sub_4707A0(void *this);
XMessageQueue::XTimerElement *__thiscall sub_4707D0(int this, const XMessageQueue::XTimerElement *a2);
void *__thiscall sub_470840(void *this);
int __thiscall sub_470870(void *this);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_470890(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3);
int __thiscall sub_470A40(int *this, int a1);
void *__thiscall sub_470AA0(void *this);
int __thiscall sub_470AD0(void *this);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_470AF0(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3);
_DWORD *__thiscall sub_470CA0(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_471430(int *this, int a1);
_DWORD *__thiscall sub_471490(_DWORD *this);
_DWORD *__thiscall sub_4714F0(_DWORD *this, _DWORD *a2, _DWORD *a3);
void *__thiscall sub_471580(void *this);
int __thiscall sub_4715B0(void *this);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_4715D0(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3);
int __thiscall sub_471780(int *this, int a1);
_DWORD *__thiscall sub_4717E0(_DWORD *this);
_DWORD *__thiscall sub_471840(_DWORD *this, _DWORD *a2, _DWORD *a3);
void *__thiscall sub_4718D0(void *this);
int __thiscall sub_471900(void *this);
int __thiscall sub_471920(int *this, int a1);
void *__thiscall sub_471980(void *this);
int __thiscall sub_4719B0(void *this);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_4719D0(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3);
int __thiscall sub_471B80(int *this, int a1);
_DWORD *__thiscall sub_471BE0(_DWORD *this);
_DWORD *__thiscall sub_471C40(_DWORD *this, _DWORD *a2, _DWORD *a3);
void *__thiscall sub_471CD0(void *this);
int __thiscall sub_471D00(void *this);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_471D20(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3);
bool __stdcall sub_471ED0(void *a1, void *a2);
_DWORD *__thiscall sub_471F00(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_472690(int *this, int a1);
_DWORD *__thiscall sub_4726F0(_DWORD *this, _DWORD *a2, void *a3);
bool __thiscall sub_472780(_DWORD *this);
CMemory ***__thiscall sub_4727A0(_DWORD *this, int a2);
_DWORD *__thiscall sub_4727D0(_DWORD *this);
_DWORD *__thiscall std::list<std::pair<std::string const,int>>::insert(_DWORD *this, _DWORD *a1, int a2, int a3);
_DWORD *__thiscall sub_472830(_DWORD *this, _DWORD *a2, const void *a3);
std::pair<int,CScriptToCookBoard::tBaseTable> *__thiscall std::pair<int,CScriptToCookBoard::tBaseTable>::pair<int,CScriptToCookBoard::tBaseTable>(std::pair<int,CScriptToCookBoard::tBaseTable> *this, const int *_Val1, const CScriptToCookBoard::tBaseTable *_Val2);
_DWORD *__thiscall sub_472890(int *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_4728C0(_DWORD *this, _DWORD *a2, const void *a3);
_DWORD *__thiscall sub_4728F0(_DWORD *this, _DWORD *a2, const void *a3);
_DWORD *__thiscall sub_472920(_DWORD *this, _DWORD *a2, const void *a3);
int __thiscall sub_472950(int this, const std::string *a2, _DWORD *a3);
std::list<std::pair<std::string const ,int>> *__thiscall sub_472990(std::list<std::pair<std::string const ,int>> *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4729B0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_472A50(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, void *a2, const int *a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_472A80(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_472B20(void *this, void *a1, int a2);
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_472B50(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_472B90(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_472C30(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a2, const int *a3);
int __thiscall sub_472C70(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __thiscall std::vector<XMessageQueue::XElement>::capacity(std::vector<XMessageQueue::XTimerElement> *this);
int __thiscall std::vector<XMessageQueue::XElement>::size(std::vector<IPAddrMask> *this);
int __thiscall sub_472DA0(std::vector<IPAddrMask> *this, int a2, int a3, int a4);
char __thiscall std::vector<IPAddrMask>::_Buy(std::vector<IPAddrMask> *this, unsigned int _Capacity);
XMessageQueue::XTimerElement *__thiscall std::vector<XMessageQueue::XElement>::_Ufill(std::vector<XMessageQueue::XTimerElement> *this, XMessageQueue::XTimerElement *_Ptr, unsigned int _Count, const XMessageQueue::XTimerElement *_Val); // idb
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_472ED0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_472F10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_472FB0(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2);
void *__thiscall sub_472FF0(_DWORD *this, void *a2, char a3, int a4, int a5);
int __thiscall sub_473430(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __cdecl sub_4734E0(int a1);
int __cdecl sub_4734F0(int a1);
int __cdecl sub_473500(int a1);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_473520(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_473560(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_473600(_DWORD *this, void *a1, int a2);
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_473630(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2);
int __stdcall sub_473670(void *a1);
void *__thiscall sub_4736F0(int this, void *a2, char a3, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *a4, const std::pair<int const ,KMacro::CShinsu_Ability> *a5);
int *__thiscall sub_473B30(void *this, int a2);
int __cdecl sub_473C60(int a1);
int __cdecl sub_473CA0(int a1);
int *__thiscall sub_473CE0(void *this, int a2);
int __thiscall sub_473E10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __cdecl sub_473EC0(int a1);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_473ED0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_473F10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_473FB0(_DWORD *this, void *a1, int a2);
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_473FE0(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2);
int __stdcall sub_474020(void *a1);
void *__thiscall sub_4740A0(int this, void *a2, char a3, std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *a4, const std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> *a5);
int __thiscall sub_4744E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __cdecl sub_474590(int a1);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4745A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
int __thiscall sub_474640(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __cdecl sub_4746F0(int a1);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_474700(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_474740(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_4747E0(_DWORD *this, void *a1, int a2);
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_474810(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2);
int __stdcall sub_474850(void *a1);
void *__thiscall sub_4748D0(_DWORD *this, void *a2, char a3, int a4, int a5);
int __thiscall sub_474D10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __cdecl sub_474DC0(int a1);
int __cdecl sub_474DD0(int a1);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_474DE0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_474E20(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
void *__thiscall sub_474EC0(_DWORD *this, void *a1, int a2);
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_474EF0(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2);
void *__thiscall sub_474F30(_DWORD *this, void *a2, char a3, int a4, int a5);
int *__thiscall sub_475370(void *this, int a2);
int __cdecl sub_4754A0(int a1);
int __cdecl sub_4754E0(int a1);
int *__thiscall sub_475520(void *this, int a2);
int __thiscall sub_475650(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
void *__stdcall sub_475700(int a1);
CMemory ***__thiscall sub_475720(_DWORD *this, int a1, int a2);
_DWORD *__thiscall std::list<std::pair<std::string const,int>>::erase(int this, _DWORD *a2, int a3);
// _DWORD __thiscall std::_Container_base::_Container_base(std::_Container_base *__hidden this); weak
void *__thiscall sub_475880(void *this);
void *__thiscall sub_4758A0(void *this);
void *__thiscall sub_4758C0(void *this);
void *__thiscall sub_4758E0(void *this);
void *__thiscall sub_475900(void *this);
void *__thiscall sub_475920(void *this);
void *__thiscall sub_475940(void *this);
int __thiscall sub_475960(int *this);
void *__thiscall sub_475980(void *this);
void *__thiscall sub_4759A0(void *this);
_DWORD *__thiscall sub_4759C0(_DWORD *this);
_DWORD *__thiscall sub_475A20(_DWORD *this);
void *__thiscall sub_475A80(int *this, void *a1, int a2);
int __thiscall sub_475AB0(int this, const char **a2);
_DWORD *__thiscall sub_475B40(_DWORD *this);
void __thiscall sub_475BA0(int this, XMessageQueue::XTimerElement *a2, unsigned int a3, int *a4);
_DWORD *__thiscall sub_475E70(_DWORD *this, _DWORD *a2, int a3);
_DWORD *__thiscall sub_476600(_DWORD *this);
int __thiscall sub_476660(_DWORD *this, _DWORD *a2);
int *__thiscall sub_4766F0(void *this, int a2);
CMemory **__stdcall sub_476820(int a1, int a2, int a3, int a4, char a5);
unsigned int __thiscall sub_4768A0(int this);
void *__thiscall sub_4768C0(int *this, void *a1, int a2);
_DWORD *__thiscall sub_4768F0(_DWORD *this);
int __thiscall sub_476960(_DWORD *this, _DWORD *a2);
CMemory **__thiscall std::_Tree<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const,KMacro::CShinsu_Ability>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *_Rarg, const std::pair<int const ,KMacro::CShinsu_Ability> *_Val, char _Carg);
int __cdecl sub_476A70(int a1);
unsigned int __thiscall sub_476A80(int this);
_DWORD *__thiscall sub_476AA0(_DWORD *this, _DWORD *a2, int a3);
void *__thiscall sub_477230(int *this, void *a1, int a2);
_DWORD *__thiscall sub_477260(_DWORD *this);
int __thiscall sub_4772D0(_DWORD *this, _DWORD *a2);
int *__thiscall sub_477360(void *this, int a2);
int *__thiscall sub_477490(void *this, int a2);
CMemory **__thiscall std::_Tree<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const,TriggerSystem::CTrigger::ACTION_INFO>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *_Rarg, const std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> *_Val, char _Carg);
unsigned int __thiscall sub_477640(int this);
_DWORD *__thiscall sub_477660(_DWORD *this);
void *__thiscall sub_4776C0(int *this, void *a1, int a2);
_DWORD *__thiscall sub_4776F0(_DWORD *this);
int __cdecl sub_477760(int a1);
unsigned int __thiscall sub_477770(int this);
_DWORD *__thiscall sub_477790(_DWORD *this, _DWORD *a2, int a3);
void *__thiscall sub_477F20(int *this, void *a1, int a2);
_DWORD *__thiscall sub_477F50(_DWORD *this);
int __thiscall sub_477FC0(_DWORD *this, _DWORD *a2);
int *__thiscall sub_478050(void *this, int a2);
int *__thiscall sub_478180(void *this, int a2);
CMemory **__stdcall sub_4782B0(std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *a1, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *a2, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *a3, const std::pair<int const ,KMacro::BoneInfo> *a4, char a5);
unsigned int __thiscall sub_478330(int this);
_DWORD *__thiscall sub_478350(_DWORD *this);
void *__thiscall sub_4783B0(int *this, void *a1, int a2);
_DWORD *__thiscall sub_4783E0(_DWORD *this);
int __thiscall sub_478450(_DWORD *this, void *a2);
CMemory **__stdcall sub_4784E0(int a1, int a2, int a3, int a4, char a5);
CMemory **__stdcall sub_478560(int a1, int a2, int a3);
_DWORD *__thiscall sub_4785D0(_DWORD *this, unsigned int a2);
CMemory **__stdcall sub_478640(int a1);
int *__thiscall sub_478660(int *this);
_DWORD *__thiscall sub_478680(int *this, _DWORD *a2, int a3);
void *__thiscall sub_4786B0(void *this);
void *__thiscall sub_4786D0(void *this);
void *__thiscall sub_4786F0(void *this);
_DWORD *__thiscall sub_478710(int *this, _DWORD *a2, int a3);
int *__thiscall sub_478740(int *this);
_DWORD *__thiscall sub_478760(int *this, _DWORD *a2, int a3);
void *__thiscall sub_478790(void *this);
int *__thiscall sub_4787B0(int *this);
_DWORD *__thiscall sub_4787E0(int *this, _DWORD *a2, int a3);
void *__thiscall sub_478810(void *this);
void *__thiscall sub_478830(void *this);
void *__thiscall std::list<std::pair<std::string const,int>>::clear(std::list<std::pair<std::string const ,int>> *this);
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *this, const std::vector<KMailSystem::CMailinfo>::iterator *_Val1, const std::vector<KMailSystem::CMailinfo>::iterator *_Val2);
int __stdcall sub_478920(void *a1);
int __thiscall sub_4789A0(_DWORD *this, _DWORD *a2);
int __stdcall sub_478A30(void *a1);
int __thiscall sub_478AB0(int *this);
int __thiscall sub_478AD0(int *this, const char **a2);
int __stdcall sub_478B60(void *a1);
unsigned int __thiscall std::allocator<std::pair<char const * const,int>>::max_size(std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *this); // idb
int __stdcall sub_478C10(void *a1);
int __thiscall sub_478C90(int *this, _DWORD *a2);
CMemory **sub_478D20();
unsigned int __thiscall std::allocator<LayerInfo>::max_size(std::allocator<KGuildSystem::CGuildMember> *this); // idb
CMemory **__stdcall sub_478E70(int a1);
int __cdecl sub_478E90(int a1);
int __cdecl sub_478ED0(int a1);
int __thiscall sub_478F10(int *this, _DWORD *a2);
CMemory **sub_478FA0();
unsigned int __thiscall std::allocator<std::pair<unsigned int const,TriggerSystem::CTrigger::ACTION_INFO>>::max_size(std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *this); // idb
CMemory **__stdcall sub_4790F0(int a1);
int __stdcall sub_479110(void *a1);
int __cdecl sub_479190(int a1);
int __thiscall sub_4791D0(int *this, _DWORD *a2);
CMemory **sub_479260();
unsigned int __thiscall std::allocator<View_ARMY_ADD_RAIDER_TEAM::RAIDERS_MASTER_INFO>::max_size(std::allocator<std::pair<unsigned long const ,std::string > > *this); // idb
CMemory **__stdcall sub_4793B0(int a1);
int __cdecl sub_4793D0(int a1);
int __cdecl sub_479410(int a1);
int __thiscall sub_479450(int *this, _DWORD *a2);
CMemory **sub_4794E0();
unsigned int __thiscall std::allocator<KMailSystem::CMailinfo>::max_size(std::allocator<KMailSystem::CMailinfo> *this); // idb
CMemory **__stdcall sub_479630(int a1);
int __stdcall sub_479650(void *a1);
int __thiscall sub_4796D0(int *this, void *a2);
CMemory **sub_479760();
unsigned int __thiscall std::allocator<MixingForItemList>::max_size(std::allocator<MixingForItemList> *this); // idb
int __thiscall sub_4798B0(char *this);
void *__thiscall sub_4798D0(void *this);
int __thiscall sub_4798F0(int *this);
int __thiscall sub_4799D0(int *this);
int __thiscall sub_479AB0(int *this);
void *__thiscall sub_479B70(void *this);
int __thiscall sub_479B90(int *this);
int __thiscall sub_479C70(int *this);
int __thiscall sub_479D50(int *this);
_DWORD *__thiscall sub_479E10(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6);
_DWORD *__thiscall sub_479E60(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6);
std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const,CScriptToCookBoard::tBaseTable>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *_Rarg, const std::pair<int const ,CScriptToCookBoard::tBaseTable> *_Val, char _Carg);
std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const,KMacro::BoneInfo>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *_Rarg, const std::pair<int const ,KMacro::BoneInfo> *_Val, char _Carg);
char *__thiscall sub_479F60(char *this, int a2, int a3, int a4, int a5, char a6);
_DWORD *__thiscall sub_479FB0(_DWORD *this, int a2, int a3, const void *a4);
CQuest *__thiscall CQuest::~CQuest(CQuest *this, int a2);
int sub_47A030();
void *__thiscall sub_47A060(void *this);
void *__thiscall sub_47A080(void *this);
int __thiscall sub_47A0A0(int *this);
int __thiscall sub_47A160(int *this);
_DWORD *__cdecl sub_47A220(_DWORD *a1, _DWORD *a2);
_DWORD *__cdecl GetNumeric<int>(_DWORD *a1, _DWORD *a2);
int __cdecl sub_47A260(int a1, char a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14);
BOOL __cdecl std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(int a1, int a2, _DWORD *a3);
BOOL __cdecl sub_47A2B0(int a1, int a2, int a3);
BOOL __cdecl sub_47A2E0(int a1, int a2, int a3);
BOOL __cdecl sub_47A310(int a1, int a2, int a3);
BOOL __cdecl sub_47A340(int a1, int a2, int a3);
BOOL __cdecl sub_47A370(int a1, int a2, int a3);
void *__cdecl sub_47A3A0(void *a1);
int __cdecl sub_47A3B0(int a1, int a2);
_DWORD *__cdecl sub_47A3F0(_DWORD *a1, _DWORD *a2, _DWORD *a3);
CMemory **__cdecl sub_47A430(int a1);
CMemory **__cdecl sub_47A450(int a1);
CMemory **__cdecl sub_47A470(int a1);
CMemory **__cdecl sub_47A490(int a1);
CMemory **__cdecl sub_47A4B0(int a1);
void *__thiscall sub_47A4D0(void *this, char a2);
// int __thiscall sub_47A500(_DWORD); weak
BOOL __cdecl sub_47A520(int a1, int a2, _DWORD *a3);
BOOL __cdecl sub_47A560(int a1, int a2, _DWORD *a3);
BOOL __cdecl sub_47A5A0(int a1, int a2, _DWORD *a3);
BOOL __cdecl sub_47A5E0(int a1, int a2, _DWORD *a3);
BOOL __cdecl sub_47A620(int a1, int a2, _DWORD *a3);
int __cdecl std::_Destroy_range<IPAddrMask>(int a1, int a2);
char *__cdecl sub_47A690(int a1, int a2, void *a3);
_DWORD *__stdcall sub_47A6D0(void *a1, int a2);
void *__thiscall sub_47A6F0(void *this);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_47A720(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_47A760(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this);
_DWORD *__thiscall sub_47A790(_DWORD *this);
int sub_47A7D0();
void *__thiscall std::_List_val<std::pair<int const,IDirect3DTexture9 *>>::_List_val<std::pair<int const,IDirect3DTexture9 *>>(void *this, char a2);
CIOObject *__thiscall sub_47A8B0(CIOObject *this);
int __thiscall sub_47A8D0(void *this);
int __thiscall sub_47A8F0(void *this);
int __thiscall sub_47A910(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
int __thiscall sub_47A9C0(void *this);
int __thiscall sub_47A9E0(void *this);
int __thiscall sub_47AA00(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
BOOL __thiscall sub_47AAB0(_DWORD *this, int a2);
BOOL __thiscall sub_47AAE0(_DWORD *this, int a2);
BOOL __thiscall sub_47AB00(int *this, int a2);
BOOL __thiscall sub_47AB60(_DWORD *this, int a2);
int __thiscall CCondItem::IsMeet(CIOCriticalSection *this, int a2);
BOOL __thiscall CCondParty::IsMeet(int nCondParty, int nPlayer); // idb
BOOL __thiscall sub_47AC80(int *this, CIOCriticalSection *a2);
int __thiscall sub_47ACA0(_DWORD *this, CIOCriticalSection *a2);
BOOL __thiscall CCondNotClear::IsMeet(_DWORD *this, CIOCriticalSection *a2);
int __thiscall CCondGState::IsMeet(_DWORD *this, _DWORD *a2);
void __thiscall CCondHtml::Action(int nCondHtml, int nPlayer); // idb
void __thiscall sub_47AD80(int *this, int a1);
void __thiscall CActionSpecialty::Action(int nQuestSpec, int nPlayer); // idb
int __thiscall std::_Tree<std::_Tmap_traits<CPlayer *,int,std::less<CPlayer *>,std::allocator<std::pair<CPlayer * const,int>>,0>>::_Rrotate(std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::_Node *_Wherenode);
void __thiscall CActionItem::Action(int nQuestSpec, int nPlayer);
void __thiscall std::vector<QUESTITEM>::iterator::operator-(std::vector<ITEMDROPINFO>::iterator *this, const std::vector<ITEMDROPINFO>::const_iterator *_Right);
void __thiscall CActionCon::Action(int nQuestSpec, int nPlayer); // idb
void __thiscall CActionSUpoint::Action(int nQuestSpec, int nPlayer); // idb
void __thiscall sub_47B0A0(int *this, CIOCriticalSection *a2);
void __thiscall sub_47B0C0(int *this, CIOCriticalSection *a2);
int __thiscall std::_Allocate<std::_List_nod<CCondition *>::_Node>(int this, int a2);
void __thiscall sub_47B1B0(int *this, CIOCriticalSection *a2);
void __stdcall sub_47B1D0(int a1);
void __thiscall CActionTeleport::Action(int nQuestSpec, int nPlayer); // idb
void __thiscall CCase::_CCase(int nObject);
int __stdcall CCase::SetCondition(int a1);
_DWORD *__thiscall sub_47B8A0(_DWORD *this);
std::locale::facet *__thiscall sub_47B8E0(std::locale::facet *this, unsigned int a2);
// _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int); weak
std::locale::facet *__thiscall sub_47B940(std::locale::facet *this, char a2);
// void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this); weak
void __thiscall sub_47B990(std::locale::facet *this);
std::locale::facet *__thiscall sub_47B9B0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47B9E0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47BA10(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall CActionItem::CActionItem(std::locale::facet *this, unsigned int a2);
void *__thiscall sub_47BA70(void *this, char a2);
void __thiscall sub_47BAA0(int this);
std::locale::facet *__thiscall sub_47BAC0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47BAF0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47BB20(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47BB50(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47BB80(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47BBB0(std::locale::facet *this, char a2);
int __stdcall CQuest::SetAction(int a1);
std::locale::facet *__thiscall sub_47C470(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C4A0(std::locale::facet *this, char a2);
// void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this); weak
void __thiscall sub_47C4F0(std::locale::facet *this);
std::locale::facet *__thiscall sub_47C510(std::locale::facet *this, unsigned int a2);
// _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int); weak
std::locale::facet *__thiscall sub_47C570(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C5A0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C5D0(std::locale::facet *this, char a2);
std::locale::facet *__thiscall sub_47C600(std::locale::facet *this, unsigned int a2);
void *__thiscall sub_47C630(void *this, char a2);
void __thiscall sub_47C660(int this);
std::locale::facet *__thiscall sub_47C680(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C6B0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C6E0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C710(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C740(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C770(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C7A0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C7D0(std::locale::facet *this, unsigned int a2);
std::locale::facet *__thiscall sub_47C800(std::locale::facet *this, unsigned int a2);
_DWORD *__thiscall sub_47C830(_DWORD *this, int a2);
int __thiscall sub_47C880(std::list<tagPARTICLES *> *this, int a2);
BOOL __thiscall sub_47C910(int this, int a2);
void __thiscall CQuest::_CQuest(int this);
void *__thiscall sub_47CA20(void *this, char a2);
void __cdecl CQuest::Close();
CSocket *__cdecl CServer::FindSocket(int nId);
void __cdecl CQuest::ProcessPacket(_DWORD, _DWORD);
BOOL __thiscall CQuest::Set(int nQuest, int attribute, char param);
CTraceSnapshot *__thiscall CTraceSnapshot::CTraceSnapshot(CTraceSnapshot *this);
int __thiscall CQuest::SetCase(void *this, int a2, int a3);
int __thiscall CQuest::OnLoad(_DWORD *this);
void __thiscall CQuest::Proceed(int this, int a2);
std::vector<tagRECT> *__thiscall sub_47CF60(void *this);
tagRECT *__thiscall sub_47CF90(int this, const tagRECT *a2);
CMemory ***__thiscall sub_47D000(_DWORD *this, int a2);
void *__thiscall sub_47D030(void *this);
BOOL __thiscall std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(std::vector<CIOSocket::CIOTimer>::const_iterator *this, const std::vector<CIOSocket::CIOTimer>::const_iterator *_Right);
_DWORD *__thiscall sub_47D0A0(std::list<std::pair<std::string const ,int>>::const_iterator *this, _DWORD *a2, int a3);
int __thiscall std::vector<tagRECT>::capacity(std::vector<tagRECT> *this);
_DWORD *__thiscall sub_47D110(std::vector<tagRECT> *this, _DWORD *a2, int a3, int a4);
char __thiscall std::vector<tagRECT>::_Buy(std::vector<tagRECT> *this, unsigned int _Capacity);
tagRECT *__thiscall std::vector<tagRECT>::_Ufill(std::vector<tagRECT> *this, tagRECT *_Ptr, unsigned int _Count, const tagRECT *_Val); // idb
CMemory ***__thiscall sub_47D240(std::list<tagPARTICLES *> *this, int a2, tagPARTICLES *const *a3);
int sub_47D2C0();
std::list<std::pair<std::string const ,int>> *__thiscall std::list<std::pair<std::string const,int>>::_Tidy(std::list<std::pair<std::string const ,int>> *this);
unsigned int __thiscall sub_47D3D0(std::allocator<tagRECT> *this);
void __thiscall sub_47D3F0(int this, tagRECT *a2, unsigned int a3, LONG *a4);
CMemory **__stdcall sub_47D6D0(int a1);
CMemory **__thiscall std::list<tagSUBPARTICLES *>::_Buynode(std::list<tagPARTICLES *> *this, std::_List_nod<tagPARTICLES *>::_Node *_Next, std::_List_nod<tagPARTICLES *>::_Node *_Prev, tagPARTICLES *const *_Val);
_DWORD *__thiscall sub_47D760(_DWORD *this, unsigned int a2);
int __thiscall sub_47D7D0(int *this, _DWORD *a2);
std::vector<tagRECT>::iterator *__thiscall std::vector<tagRECT>::iterator::operator+=(std::vector<tagRECT>::iterator *this, int _Off); // idb
char *__cdecl sub_47D820(void *a1, int a2, int a3);
int __cdecl sub_47D860(int a1, int a2);
tagRECT *__cdecl std::fill<tagRECT *,tagRECT>(tagRECT *_First, tagRECT *_Last, const tagRECT *_Val);
_DWORD *__cdecl sub_47D8E0(_DWORD *a1, _DWORD *a2, _DWORD *a3);
CMemory **__cdecl sub_47D920(int a1);
char *__cdecl std::_Uninit_fill_n<tagRECT *,unsigned int,tagRECT,std::allocator<tagRECT>>(char *a1, int a2, int a3);
int __cdecl std::_Destroy_range<tagRECT>(int a1, int a2);
char *__cdecl sub_47D9D0(int a1, int a2, void *a3);
LONG *__stdcall sub_47DA10(void *a1, int a2);
char *__cdecl std::_Uninit_copy<tagRECT *,tagRECT *,std::allocator<tagRECT>>(int a1, int a2, char *a3);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_47DAA0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this);
int __thiscall sub_47DAD0(void *this);
int __thiscall sub_47DAF0(void *this);
int __thiscall sub_47DB10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_47DBC0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_47DC60(int *this);
int __stdcall sub_47DCC0(void *a1);
void __thiscall CRWLock::CRWLock(CRWLock *this);
void __thiscall CRWLock::~CRWLock(CRWLock *this);
void __thiscall CRWLock::Wait(CRWLock *this);
void __thiscall CRWLock::ReadLock(CRWLock *this);
void __thiscall CServer::CreateSocket(CServer *this);
LONG __thiscall sub_47E060(volatile LONG *this);
LONG __thiscall CRWLock::ReadUnlock(CRWLock *this);
void __thiscall CRWLock::WriteLock(CRWLock *this);
int __fastcall CRWLock::WriteUnlock(CRWLock *this);
void __thiscall CScreen::CScreen(CScreen *this);
void __thiscall CScreen::~CScreen(CScreen *this);
void __thiscall CScreen::Open(CScreen *this, int nWidth, int nHeight);
int CScreen::Add(CScreen *this, unsigned int color, const char *format, ...);
char *__thiscall CLink::Insert(CLink *this, CLink *pLink, char *a3);
_DWORD *__thiscall sub_47E480(_DWORD *this);
BOOL __thiscall CScreen::OnPaint(CScreen *this);
void __cdecl CServer::Start();
void __cdecl sub_47E620(_DWORD *a4);
void __cdecl CSkill::ReviseTick(CPlayer *pOwner);
int sub_47E700();
int sub_47E710();
void __cdecl sub_47E720();
void __cdecl CServer::SendAlive();
volatile int *__cdecl sub_47E800(DWORD a1);
void CServer::Relogin();
_DWORD *__stdcall CServer::CreateSocket(int a1, int a2);
int __thiscall sub_47E990(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_47E9F0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
unsigned int __thiscall sub_47EA90(int this);
_DWORD *__thiscall sub_47EAB0(int *this);
void *__thiscall sub_47EB10(_DWORD *this, void *a2, _DWORD *a3);
int __thiscall sub_47EB40(int *this);
int __stdcall sub_47EB60(void *a1);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_47EBE0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this);
int *__thiscall sub_47EC10(int *this);
CIOServer *__thiscall sub_47EC80(CIOServer *this);
void *__thiscall sub_47ECA0(void *this, char a2);
void __thiscall sub_47ECD0(CWin32FileIO *this);
int __thiscall sub_47ECF0(void *this);
int __thiscall sub_47ED10(void *this);
int __thiscall sub_47ED30(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
_DWORD *__thiscall sub_47EDE0(_DWORD *this);
void *__thiscall sub_47EEA0(void *this, char a2);
void __thiscall sub_47EED0(std::locale::facet *this);
int __thiscall sub_47EEF0(_DWORD *this, int a2, int a3);
int __thiscall CInitSkill::OnLoad(_DWORD *this);
_DWORD *__thiscall sub_47F450(_DWORD *this);
LONG __thiscall CPlayerSkill::_CPlayerSkill(_DWORD *this);
int sub_47F560();
int CPlayerSkill::Close();
int __thiscall sub_47F680(_DWORD *this, int a2);
void __thiscall CPlayerSkill::SetSkill(_DWORD *this, int a2, int a3);
void *__thiscall sub_47F760(const void *this);
int __thiscall sub_47F780(_DWORD *this, int a2, int a3);
void __thiscall sub_47F7A0(int *this, int a2);
int __thiscall sub_47F910(_DWORD *this, int a2, int a3);
void __thiscall CPlayerSkill::SkillUp(int this, signed int a2);
void __thiscall CPlayerSkill::CheatSkill(int *this, int a2, int a3);
int __thiscall CPlayerSkill::ExcuteSkill(_DWORD *this, int a2, int a3, int a4);
int __thiscall sub_47FC00(_DWORD *this);
int sub_47FC50(_DWORD *a1, int a2, ...);
void __thiscall sub_47FC90(_DWORD *this, int a2, int a3, int a4);
int __thiscall CPlayerSkill::IsSpendSUPointSkill(_DWORD *this, int a2);
void __thiscall CShieldAttack::CanSkillUp(CShieldAttack *this, CPlayer *pOwner);
void __thiscall CPlayerSkill::ChangeOccupationAutoLearnSkill(int *this);
void __thiscall StoneOfChance(void *pSkill, unsigned int SkillId);
void __thiscall CPlayerSkill::RedistributeAll(int this);
void __thiscall sub_480340(_DWORD *this, int a2);
int __thiscall sub_480390(_DWORD *this, int a2, int a3);
void __thiscall CPlayerSkill::Redis2ndJobSkill(int *this);
void __thiscall CMysticArrow::Apply(CMysticArrow *this);
CMonsterSkill *__thiscall CMonsterSkill::CMonsterSkill(CMonsterSkill *this);
int __thiscall sub_480870(int this);
int __thiscall sub_4808E0(void *this);
void sub_480900();
int CMonsterSkill::Close();
int __thiscall CMonsterSkill::SetCurSkill(_DWORD *this, int a2);
void __thiscall CMonsterSkill::SetCurSkillDefault(int this);
void __thiscall CMagic::ApplyPrtyIce(CMagic *this, CPlayer *pOwner, CChar *pChar, unsigned int dwReviseTick, int nResist, int nMagic);
int __thiscall CMonsterSkill::PreSkill(int *this, int a2);
void __thiscall CMonsterSkill::ExcuteSkill(_DWORD *a1, volatile int *a5);
_DWORD *__thiscall sub_480CD0(_DWORD *this);
void __thiscall CMonsterSkill::ExcuteSkillWithoutResetSkill(int a1, volatile int *a5);
_DWORD *__thiscall sub_480D40(_DWORD *this);
int __thiscall CSkill::GetDelay(_DWORD *this, int a2);
BOOL __thiscall sub_480E40(_DWORD *this, int a2, int a3);
BOOL __thiscall CSkill::CanExcute(void *this, _DWORD *a2, int a3);
int __thiscall sub_480F20(_DWORD *this, int a2);
BOOL __stdcall sub_480F80(int a1, int a2);
BOOL __thiscall CSkill::CanSkillUp(_DWORD *this, int a2);
int __thiscall sub_481040(void *this, int a2);
int __thiscall sub_481070(_DWORD *this, _DWORD *a2);
int __thiscall sub_481150(_DWORD *this, _DWORD *a2);
void __thiscall CBoost::Excute(_DWORD *this, int a2, void *a3, int a4);
BOOL __stdcall CBehead::CanExcute(_DWORD *a1, _DWORD *a2);
void __thiscall sub_4813A0(int a1, int a5, void *a6, int a7);
int __thiscall CUpWeapon::ExcutePassive(_DWORD *this, _DWORD *a2, int a3, int a4);
int __thiscall CCallLitning::Redistribute(CCallLitning *this, CPlayer *pOwner, int a3, int a4);
int __thiscall sub_4816F0(_DWORD *this, _DWORD *a2, int a3, int a4);
void __thiscall sub_481750(_DWORD *a1, int a5, void *a6, int a7);
int *__stdcall sub_481970(int *a1);
BOOL __thiscall sub_4819A0(void *this, _DWORD *a2, int a3);
void __thiscall CUpBow::ExcutePassive(void *this, int a2, void *a3, int a4);
BOOL __thiscall CPullSwing::CanSkillUp(_DWORD *this, int a2);
int __thiscall sub_481F10(_DWORD *this, CPlayer *a2);
int __thiscall CThunder::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall sub_481F60(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CTranscendental::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall CBlow::Apply(void *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
int __stdcall CMagicWideSelf::ExcuteM(CMagicWideSelf *this, CMonster *pOwner, CChar *pChar);
int __thiscall CEdge::GetDelay(_DWORD *this, CPlayer *a2);
int __thiscall sub_482130(_DWORD *this, _DWORD *a2);
int __thiscall CEdge::Apply(int *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
int __thiscall sub_482260(void *this, CPlayer *a2, _DWORD *a3, int a4, _DWORD *a5, int a6, unsigned int *a7);
int __thiscall CUpperSmash::GetAttack(_DWORD *this, int a2, int a3);
BOOL __thiscall CUpperSmash::CanSkillUp(_DWORD *this, int a2);
BOOL __thiscall CInfernal::CanExcute(void *this, _DWORD *a2, int a3);
int __thiscall CInfernal::GetAttack(_DWORD *this, int a2, int a3);
int __thiscall sub_482490(void *this, _DWORD *a2);
BOOL __thiscall sub_4824E0(_DWORD *this, int a2);
BOOL __thiscall CShieldAttack::CanExcute(void *this, _DWORD *a2, int a3);
int __thiscall CShieldAttack::Apply(_DWORD *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
int __thiscall CShieldAttack::GetAttack(_DWORD *this, int a2, int a3);
BOOL __thiscall sub_482770(_DWORD *this, int a2);
BOOL __thiscall CMock::CanExcute(void *this, _DWORD *a2, int a3);
void __thiscall CMock::Excute(_DWORD *this, int a1, void *Src, int a4);
int __thiscall sub_482960(_DWORD *this, _DWORD *a2);
int __thiscall sub_482990(_DWORD *this, _DWORD *a2);
int __thiscall CStunArrow::GetAttack(_DWORD *this, int a2, int a3);
int __thiscall CStunArrow::Apply(_DWORD *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
int __thiscall CExplosion::GetAttack(_DWORD *this, int a2, int a3);
int __thiscall sub_482B70(_DWORD *this, int a2, int a3);
int __thiscall CGetherShot::GetHit(_DWORD *this);
BOOL __thiscall CGetherShot::CanSkillUp(_DWORD *this, int a2);
int __thiscall sub_482DF0(_DWORD *this, int a2, int a3);
int __thiscall sub_482E20(void *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
BOOL __thiscall CMysticArrow::CanSkillUp(_DWORD *this, int a2);
void __thiscall CMagic::Excute_0(_DWORD *this, int a2, void *Src, int a4);
int __thiscall sub_483230(_DWORD *this);
int __thiscall sub_483260(void *this, int a2);
int __thiscall sub_4832A0(_DWORD *this, int a2);
int __thiscall sub_483310(void *this, int a2, int a3, int a4, int a5, int a6);
int __thiscall CMagic::Excute(void *this, int a2, int a3, int a4, int a5, int a6);
int __thiscall CMagic::GetResist(void *this, int a2, _DWORD *a3);
int __thiscall sub_483460(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall CMeshStr::CanSkillUp(_DWORD *this, int a2);
int __thiscall CFire::GetMagic(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CFire::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall CHealingAnyQuick::Redistribute(CHealingAnyQuick *this, CPlayer *pOwner, int a3);
BOOL __thiscall CFireExplosion::CanSkillUp(_DWORD *this, int a2);
int __thiscall CFireExplosion::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall sub_4836E0(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_483770(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_4837F0(_DWORD *this, _DWORD *a2);
int __thiscall CIceLance::GetMagic(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall CIceLance::CanSkillUp(_DWORD *this, int a2);
int __thiscall CLitning::GetMagic(_DWORD *this, _DWORD *a2, int a3);
int __stdcall sub_483A00(_DWORD *a1);
int __thiscall CShock::GetMagic(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CSpark::GetMagic(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CSpark::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall CCallLitning::GetMagic(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall sub_483F10(_DWORD *this, int a2);
int __thiscall sub_483F50(_DWORD *this, _DWORD *a2);
int __thiscall sub_483F80(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall sub_4840C0(_DWORD *this, int a2);
void __thiscall CMagicWide::Excute(int pSkill, int pPlayer, char *p, char *end); // idb
void __thiscall CMagicWide::ExcuteM(_DWORD *this, CIOCriticalSection *a2, int a3);
void __thiscall CMagicWideSelf::Excute(_DWORD *this, CPlayer *a2, int a3, int a4);
void __thiscall sub_4849E0(_DWORD *this, CIOCriticalSection *a2, int a3);
void __thiscall CMagicWidePos::Excute_0(_DWORD *this, int arg0, void *Src, int a4);
int __thiscall CMagicWideIce::GetMagic_0(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_484F60(_DWORD *this, _DWORD *a2);
int __thiscall CMagicWidePos::Excute(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_485030(_DWORD *this, _DWORD *a2);
char *__thiscall CProtect::Excute(CProtect *this, CPlayer *pOwner, char *packet, char *end);
int __thiscall CExplosiveBurst::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall CMesmerization::Apply(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
BOOL __thiscall CProtect::CanSkillUp(CProtect *this, CPlayer *pOwner);
int __thiscall CMesmerization::SpendMPRage(_DWORD *this, int a2);
int __thiscall CSnowField::Apply(_DWORD *this, int a2, int a3, int a4, int a5, int a6);
BOOL __thiscall CMagicWideIce::GetMagic(_DWORD *this, int a2);
int __thiscall CChainLitning::GetMagic_0(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CChainLitning::Redistribute_0(_DWORD *this, _DWORD *a2);
int __thiscall sub_485430(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CIceRequiem::Redistribute(_DWORD *this, _DWORD *a2);
void __thiscall sub_4854D0(_DWORD *this, int a2, void *a3, int a4);
int __thiscall sub_4855D0(void *this, int a2, int a3);
void __thiscall sub_485610(_DWORD *this, int a2, int a3, int a4);
CIOCriticalSection *__thiscall CChainLitning::GetMagic(_DWORD *this, _DWORD *a2, int a3, int a4);
CIOCriticalSection *__thiscall CChainLitning::Redistribute(_DWORD *this, _DWORD *a2, int a3, int a4);
CIOCriticalSection *__thiscall CFireRain::AddMagicMonster(_DWORD *this, _DWORD *a2, int a3, int a4);
CIOCriticalSection *__thiscall sub_4858C0(_DWORD *this, int *a2, int a3, int a4);
BOOL __thiscall sub_485930(_DWORD *this, int a2);
void __thiscall CHealing::Excute(_DWORD *this, _DWORD *a2, int a3, int a4);
int __thiscall sub_485AB0(_DWORD *this, _DWORD *a2);
BOOL __thiscall CAuraDefense::CanExcute(void *this, _DWORD *a2, _DWORD *a3);
void __thiscall sub_485B80(_DWORD *a1, int a5, void *a6, int a7);
int __thiscall sub_485CE0(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CHealingAny::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall sub_485DC0(int *this, _DWORD *a2, int a3);
int __thiscall CHealingAnyPlus::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall CRestoration::GetIncHP(_DWORD *this, _DWORD *a2, int a3);
BOOL __thiscall CChantBattle::CanSkillUp(_DWORD *this, int a2);
int __stdcall sub_485F50(int a1, CPlayer *a2);
int __thiscall CHealingAnyQuick::Redistribute(_DWORD *this, _DWORD *a2);
int __thiscall CHealingInstance::GetIncHP(_DWORD *this, int a2, CPlayer *a3);
BOOL __thiscall sub_485FD0(_DWORD *this, int a2);
int __stdcall sub_486030(int a1, CPlayer *a2);
_DWORD *__thiscall CRest::ExcutePassive(_DWORD *this, _DWORD *a2, int a3, int a4);
BOOL __thiscall CRest::CanSkillUp(_DWORD *this, int a2);
int __thiscall CUpFatal::ExcutePassive(_DWORD *this, _DWORD *a2, int a3, int a4);
BOOL __thiscall sub_4861F0(_DWORD *this, int a2);
int __stdcall CDash::Excute(CDash *this, CPlayer *pOwner, char *packet, char *end);
int __stdcall CUpFatal2::ExcutePassive(_DWORD *a1, int a2, int a3);
int __stdcall CUpFatal3::ExcutePassive(_DWORD *a1, int a2, int a3);
BOOL __thiscall CMeditation::CanExcute(_DWORD *this, _DWORD *a2, int a3);
void __thiscall CMeshSpeed::Excute(CMeshSpeed *this, CPlayer *pOwner, char *packet, char *end);
_DWORD *__thiscall sub_486500(_DWORD *this, _DWORD *a2, int a3, int a4);
_DWORD *__thiscall sub_486560(_DWORD *this, _DWORD *a2, int a3, int a4);
CPlayer *__thiscall CDarknessVision::Excute(CDarknessVision *this, CPlayer *pOwner, char *packet, char *end);
void __thiscall CFatalChance::Excute(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall CFatalChance::CanSkillUp(_DWORD *this, int a2);
BOOL __thiscall CDarknessVision::CanSkillUp(CDarknessVision *this, CPlayer *pOwner);
BOOL __thiscall CRevival::CanExcute(void *this, _DWORD *a2, _DWORD *a3);
void __thiscall CAmnesia::CanExcute(CAmnesia *this, CPlayer *pOwner, CChar *pTarget, char *a7);
int __stdcall CRevival::Apply(int a1, CPlayer *a2);
int __stdcall CSacrifice::CanExcute(CSacrifice *this, CPlayer *pOwner, CChar *pTarget);
int __thiscall CResurrection::Apply(_DWORD *this, int a2, CPlayer *a3);
int __thiscall CReincarnate::Apply(_DWORD *this, int a2, CPlayer *a3);
int __thiscall CUpEvade::ExcutePassive(_DWORD *this, int a2, int a3, int a4);
int __thiscall sub_486C60(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall CUpRFEvade::ExcutePassive(_DWORD *this, _DWORD *a2, int a3, int a4);
BOOL __thiscall sub_486CF0(_DWORD *this, int a2);
void __thiscall sub_486D50(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall CHaste::CanExcute(void *this, _DWORD *a2, _DWORD *a3);
void __thiscall sub_486EC0(int a1, int a5, void *a6, int a7);
void __thiscall CFrostBlast::Excute(_DWORD *this, int a1, void *Src, int a4);
int __thiscall CFrostBlast::Redistribute(_DWORD *this, _DWORD *a2);
void __thiscall CHealingParty::Excute(_DWORD *this, int *a2, int a3, int a4);
int __thiscall sub_487390(_DWORD *this, _DWORD *a2);
int __thiscall sub_487430(_DWORD *this, _DWORD *a2);
int __thiscall sub_487460(_DWORD *this, _DWORD *a2);
int __stdcall CHealingPartyIns::GetIncHP(int a1);
BOOL __thiscall CHealingPartyIns::CanSkillUp(_DWORD *this, int a2);
void __thiscall sub_487510(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3, int a4);
void __thiscall sub_4875B0(_DWORD *a1, int a5, void *a6, int a7);
void __thiscall sub_487860(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3, int a4);
BOOL __thiscall CMeshStr::Apply(CMeshStr *this, CPlayer *pOwner, CChar *pTarget, int *bSuccess);
void __thiscall sub_4879D0(int a1, int a5, void *a6, int a7);
BOOL __thiscall CMeshDefense::Apply(CMeshDefense *this, CPlayer *pOwner, CChar *pTarget, int *bSuccess);
BOOL __thiscall sub_487B40(void *this, _DWORD *a2, _DWORD *a3);
void __thiscall CDestroySight::Apply(CDestroySight *this, CPlayer *pOwner, CChar *pTarget, int *bSuccess);
BOOL __thiscall CSilenceArrow::CanExcute(void *this, _DWORD *a2, _DWORD *a3);
void __thiscall CSilenceArrow::Excute(_DWORD *this, int a1, void *Src, int a4);
void __thiscall CProtectRange::Excute(int (__thiscall ***this)(void *, int, CIOObject *), int a1, void *Src, int a4);
int __thiscall sub_488010(_DWORD *this, _DWORD *a2, int a3, int a4);
int __thiscall CUpReinforceVitality::ExcutePassiveV(_DWORD *this, int a2, int a3);
BOOL __thiscall sub_488160(_DWORD *this, int a2);
void __thiscall CRainforceDefense::Excute(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall sub_488260(_DWORD *this, int a2);
BOOL __thiscall sub_4882D0(_DWORD *this, int a2);
void __thiscall CVitalityDrain::Excute(_DWORD *this, int a2, void *Src, int a4);
BOOL __thiscall CVitalityDrain::CanSkillUp(_DWORD *this, int a2);
void __thiscall CSuffering::Excute_0(_DWORD *this, int a2, void *Src, int a4);
BOOL __thiscall sub_4887B0(_DWORD *this, int a2);
void __thiscall CInchantWeapon::Excute(int (__thiscall ***this)(void *, int, CIOObject *), int a1, void *Src, int a4);
BOOL __thiscall CSuffering::Excute(_DWORD *this, int a2);
void __thiscall CAuraDefense::Excute(_DWORD *this, int a1, void *Src, int a4);
BOOL __thiscall CDash::CanSkillUp(_DWORD *this, int a2);
void __thiscall sub_488B70(_DWORD *a1, int a5, void *a6, int a7);
void __thiscall sub_488CF0(_DWORD *a1, int a5, void *a6, int a7);
BOOL __thiscall CSacrifice::CanSkillUp(_DWORD *this, int a2);
void __thiscall sub_488E90(_DWORD *a1, int a5, void *a6, int a7);
BOOL __thiscall CDarknessVision::CanSkillUp_0(_DWORD *this, int a2);
void __thiscall CPurge::Excute(_DWORD *this, int a1, void *Src, int a4);
void __thiscall CDoTele::ExcuteM(CDoTele *this, CMonster *pOwner, CChar *pChar, char *a7);
BOOL __thiscall sub_489320(void *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_4893C0(_DWORD *this, CPlayer *a2);
void __thiscall CDarknessVision::CanSkillUp(_DWORD *this, int a5, void *Src, int a7);
BOOL __thiscall sub_489550(void *this, _DWORD *a2, int a3);
int __stdcall CChangeVitality::GetSpendMP(CPlayer *a1);
void __thiscall sub_4895E0(_DWORD *this, _DWORD *a2, int a3, int a4);
void __thiscall sub_4896C0(_DWORD *this, int *a2, int a3, int a4);
BOOL __thiscall sub_4897F0(void *this, _DWORD *a2, _DWORD *a3);
void __thiscall CSilenceShot::Excute(_DWORD *this, int a1, void *Src, int a4);
BOOL __thiscall CSkillBuff::CanExcute_0(void *this, _DWORD *a2, int a3);
int __thiscall CSkillBuff::PreExcute_0(_DWORD *a1, int a5, int a6);
void __thiscall CSkillBuff::Excute(_DWORD *this, int a1, void *Src, int a4);
void __thiscall sub_489CE0(_DWORD *this, _DWORD *a2, int a3);
int __thiscall CStrenUpStr::Apply(_DWORD *this, int a2, int a3, int a4);
int __thiscall CSkillBuff::CanExcute(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall CStrenUpFatal::CanExcute(void *this, _DWORD *a2, int a3);
int __thiscall CSkillBuff::PreExcute(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall sub_489EA0(_DWORD *this, int a2);
int __thiscall CStrenUpInt::Apply_0(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall CResistPalsy::CanSkillUp(_DWORD *this, int a2);
int __thiscall sub_489F60(_DWORD *this, int a2, int a3, int a4);
BOOL __thiscall CCloudSight::CanExcute_0(void *this, _DWORD *a2, int a3);
int __thiscall CMShock::ExcuteM(CMShock *this, CMonster *pOwner, CChar *pChar, _DWORD *a4);
BOOL __thiscall sub_48A050(void *this, _DWORD *a2, int a3);
int __thiscall sub_48A070(_DWORD *this, int a2, int a3, _DWORD *a4);
BOOL __thiscall sub_48A0D0(void *this, _DWORD *a2, int a3);
int __thiscall CMeshChance::Apply(_DWORD *this, int a2, _DWORD *a3, _DWORD *a4);
BOOL __thiscall CMeshDefense::CanSkillUp_0(_DWORD *this, int a2);
int __thiscall sub_48A1E0(_DWORD *this, int a2, int a3, _DWORD *a4);
int __thiscall CMeshHth::Apply(_DWORD *this, int a2, int a3, _DWORD *a4);
int __thiscall CStrenUpInt::Apply(_DWORD *this, int a2, int a3, _DWORD *a4);
int __thiscall sub_48A300(_DWORD *this, int a2, int a3, _DWORD *a4);
int __thiscall CCloudSight::CanExcute(_DWORD *this, int a2, int a3, _DWORD *a4);
BOOL __thiscall CMeshWis::CanSkillUp(_DWORD *this, int a2);
int __thiscall CMeshDefense::Apply(_DWORD *this, int a2, int a3, _DWORD *a4);
int __thiscall CVanishConfi::Apply(void *this, int a2, int a3, _DWORD *a4);
int __thiscall CDestroySight::Apply(void *this, int a2, int a3, _DWORD *a4);
void __thiscall CBenefitAblation::Apply(void *this, int a2, _DWORD *a3, _DWORD *a4);
BOOL __thiscall CMeshDefense::CanSkillUp(void *this, _DWORD *a2, int a3);
void __thiscall CSkillSelfBuff::Excute(_DWORD *this, int a2, int a3, int a4);
int __thiscall sub_48A680(_DWORD *this, int a2);
BOOL __thiscall CShootingFire::GetMagicM(CShootingFire *this, CMonster *pOwner);
int __thiscall sub_48A770(_DWORD *this, int a2);
int __thiscall CResistIce::Apply(_DWORD *this, int a2);
int __thiscall CMSiegeGunBallExplosion::GetMagicM(CMSiegeGunBallExplosion *this, CMonster *pOwner); // idb
int __thiscall CMSiegeGunBallExplosion::ExcuteM(CMSiegeGunBallExplosion *this, CMonster *pOwner, CChar *pChar);
int __thiscall CResistPalsy::Apply(_DWORD *this, int a2);
void __thiscall CEmergencyEscape::Apply(void *this, _DWORD *a2);
void __thiscall CChant::Excute(_DWORD *this, _DWORD *a2, int a3, int a4);
CBuffMoveSpeed *__thiscall CChantProtect::CreateBuff(_DWORD *this, int a2);
bool __thiscall std::_Tree<std::_Tmap_traits<CParty *,int,std::less<CParty *>,std::allocator<std::pair<CParty * const,int>>,0>>::find(int this, int a2);
CBuffMoveSpeed *__thiscall CChantHealing::CreateBuff(_DWORD *this, int a2);
CSkill *__thiscall CMemoryPool<CSkill>::Alloc(_DWORD *this, int a2);
CBuffMoveSpeed *__thiscall CChantDefLightning::CreateBuff_0(_DWORD *this, int a2);
BOOL __thiscall CChantDefFire::CanSkillUp(_DWORD *this, int a2);
int __thiscall std::_Tree<std::_Tmap_traits<CPlayer *,int,std::less<CPlayer *>,std::allocator<std::pair<CPlayer * const,int>>,0>>::lower_bound(int this, int a2);
CBuffMoveSpeed *__thiscall std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,CSkill *>>,0>>::_Tidy(std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CSkill *> >,0> > *this, int a2);
CBuffMoveSpeed *__thiscall sub_48AD10(_DWORD *this, int a2);
BOOL __thiscall CChantAccuracy::CanSkillUp(_DWORD *this, int a2);
CBuffMoveSpeed *__thiscall sub_48ADA0(_DWORD *this, int a2);
int __stdcall CTLitningBlast::GetMagic(int a1, int a2);
BOOL __thiscall std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,CSkill *>>,0>>::erase(_DWORD *this, _DWORD *a2, int a3);
int __stdcall sub_48AE50(int a1, int a2);
int __thiscall sub_48AE70(void *this, int a2, int a3, int a4, int a5, int a6);
void __thiscall sub_48AED0(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3, int a4);
int __stdcall sub_48AF60(int a1, int a2);
int __thiscall CTPhoenix::SpendMPRage(_DWORD *this, int a2);
int __stdcall sub_48AFC0(int a1, int a2);
int __thiscall CChantDefLightning::CreateBuff(void *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7);
void __thiscall CThunder::GetAttack(CThunder *this, CPlayer *pOwner, int nBaseAttack, int a4);
int __thiscall CHealingPartyPlus::GetSkillAddValue(CShootingFire *this, int a2, int a3);
BOOL __thiscall CMock::GetHostility(CMock *this, _DWORD *a2, int a3);
void __thiscall CTShadowFang::Excute(_DWORD *this, int a2, void *Src, int a4);
void __thiscall CTDiamondClow::Excute_0(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3, int a4);
CInfernal *__thiscall CInfernal::CInfernal(CInfernal *this, _DWORD *a2);
int __thiscall CShieldAttack::GetSpendMP(CManaBurn *this, CPlayer *pOwner); // idb
int __thiscall CShot::GetDelay(CStunArrow *this, CPlayer *pOwner);
CExplosion *__thiscall CExplosion::CExplosion(CExplosion *this, int a2, int a3);
int __thiscall CExplosion::GetSpendMP(CExplosion *this, CPlayer *pOwner); // idb
void __thiscall CGetherShot::GetFatalRate(CGetherShot *this, int a2);
LONG __thiscall CTDiamondClow::Excute(_DWORD *this, CIOCriticalSection *a2, int a3);
void __thiscall CDoTele::ExcuteM(_DWORD *this, int *a2, int a3);
void __thiscall CEdge::GetSpendMP(CHealingAnyPlus *this, CPlayer *a5, int a6);
int __thiscall sub_48BC80(void *this, int a2, int a3);
CMeditation *__thiscall CMeditation::CMeditation(CMeditation *this, int a2, int a3);
int __stdcall sub_48BCE0(int a1);
void __thiscall CSkill_MonsterMagic::ExcuteM(_DWORD *this, CIOCriticalSection *a2, int a3);
int __stdcall sub_48BF10(_DWORD *a1);
CHealingPartyIns *__thiscall CHealingPartyIns::CHealingPartyIns(CHealingPartyIns *this, int a2, int a3);
int __thiscall CMPoisonCloud::ApplyM(void *this, int a2, int a3);
CPoisonArrow *__thiscall CPoisonArrow::CPoisonArrow(CPoisonArrow *this, _DWORD *a2);
CSilenceArrow *__thiscall CSilenceArrow::CSilenceArrow(CSilenceArrow *this, _DWORD *a2);
void __thiscall CMSpark::ExcuteM_0(_DWORD *this, int a2, CPlayer *a3);
int __stdcall CMFireRain::GetMagicM(_DWORD *a1);
void __thiscall CDestructionFlame::ExcuteM(_DWORD *this, int a2, CPlayer *a3);
int __stdcall CMSpark::ExcuteM(_DWORD *a1);
void __thiscall CVanishConfi::CVanishConfi(CVanishConfi *this, int a2, CPlayer *a3);
CChantHealing *__thiscall CChantHealing::CChantHealing(CChantHealing *this, _DWORD *a2);
int __thiscall sub_48C880(_DWORD *this, _DWORD *a2, int a3);
void __thiscall CTGroundSplinter::CTGroundSplinter(CTGroundSplinter *this, CIOCriticalSection *a2, _DWORD *a3);
CMShock *__thiscall CMShock::CMShock(CMShock *this, _DWORD *a2);
int __thiscall CDoAscension::GetAddValueType(CDoAscension *this, int a2, int a3);
void __thiscall sub_48CAD0(void *this, int a2, int a3);
void __thiscall sub_48CB10(_DWORD *this, CIOCriticalSection *a2, CPlayer *a3);
int __stdcall sub_48CDA0(int a1);
int __stdcall sub_48CDC0(int a1);
CIOCriticalSection *__stdcall CPurgatorialFlame::AddMagicMonster_0(int a1, int a2, int a3);
int __stdcall sub_48CE20(int a1);
void __stdcall CDemonBeastSummon::ExcuteM(int a1, int pChar);
int __stdcall sub_48CEB0(_DWORD *a1);
int __stdcall sub_48CEE0(int a1);
void __thiscall CMSiegeGunBallExplosion::CMSiegeGunBallExplosion(CMSiegeGunBallExplosion *this, CIOCriticalSection *a2, int nY);
BOOL __stdcall sub_48D100(_QWORD *a1, int a2);
int __thiscall CReturn::Excute(int *this, _DWORD *a2, int a3, int a4);
BOOL __thiscall CPurgatorialFlame::AddMagicMonster(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3);
void __thiscall sub_48D1D0(_DWORD *this, int a2, CPlayer *a3);
CIOCriticalSection *__stdcall CMFujiExplosion::AddMagicMonsterM(_DWORD *a1, int a2, int a3);
int __stdcall CMMagicFuJiExplosion::GetMagicM(int a1);
void __thiscall CMMagicFuJiExplosion::ExcuteM(_DWORD *this, CIOCriticalSection *a2, int a3);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_48D680(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this);
int __thiscall sub_48D6B0(void *this);
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_48D6D0(int *this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, const std::pair<int const ,CGame_Character::TargetInfo> *a3);
_DWORD *CMemoryPool_CSkill::_Alloc();
LONG __cdecl sub_48D900(int a1);
int __thiscall sub_48D930(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
BOOL __stdcall sub_48D9E0(_DWORD *a1, _DWORD *a2);
_DWORD *__thiscall sub_48DA00(_DWORD *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_48DA20(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4);
_DWORD *__thiscall sub_48DAC0(int *this);
int __thiscall sub_48DB20(int *this);
std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<char const *,int,iless,std::allocator<std::pair<char const * const,int>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Rarg, const std::pair<int const ,CGame_Character::TargetInfo> *_Val, char _Carg);
int __stdcall sub_48DC30(void *a1);
_DWORD *__thiscall sub_48DCB0(_DWORD *this);
_DWORD *__thiscall sub_48DCD0(_DWORD *this);
_DWORD *__thiscall sub_48DCF0(_DWORD *this);
_DWORD *__thiscall sub_48DD10(_DWORD *this);
_DWORD *__thiscall sub_48DD30(_DWORD *this);
_DWORD *__thiscall sub_48DD50(_DWORD *this);
_DWORD *__thiscall sub_48DD70(_DWORD *this);
_DWORD *__thiscall sub_48DD90(_DWORD *this);
int __thiscall sub_48DDB0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48DDD0(_DWORD *this);
int __thiscall sub_48DDF0(_DWORD *this, int a2, int a3);
int __thiscall sub_48DE10(_DWORD *this);
_DWORD *__thiscall sub_48DE30(_DWORD *this);
int sub_48DE50();
int __thiscall sub_48DE60(_DWORD *this, int a2);
int __thiscall sub_48DE80(_DWORD *this, int a2);
int __thiscall sub_48DEA0(_DWORD *this);
_DWORD *__thiscall sub_48DEC0(_DWORD *this);
int __thiscall sub_48DEE0(_DWORD *this);
int __thiscall sub_48DF00(_DWORD *this, int a2);
_DWORD *__thiscall sub_48DF20(_DWORD *this);
int __thiscall sub_48DF40(_DWORD *this);
int __thiscall sub_48DF60(_DWORD *this, int a2);
_DWORD *__thiscall sub_48DF80(_DWORD *this);
int __stdcall sub_48DFA0(int a1, int a2);
int __thiscall sub_48DFB0(_DWORD *this);
int __thiscall sub_48DFD0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48DFF0(_DWORD *this);
int __thiscall sub_48E010(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_48E030(_DWORD *this);
int __thiscall CTranscendental::GetAttack_0(_DWORD *this, int a2, int a3);
int sub_48E070();
_DWORD *__thiscall sub_48E080(_DWORD *this);
int __thiscall CCellMap::`scalar deleting destructor'(CCellMap *this, unsigned int a2, int a3);
int sub_48E0E0();
int __thiscall sub_48E0F0(_DWORD *this);
_DWORD *__thiscall sub_48E110(_DWORD *this);
int __thiscall sub_48E130(_DWORD *this, int a2, int a3);
int __thiscall sub_48E150(_DWORD *this);
_DWORD *__thiscall sub_48E170(_DWORD *this);
int __thiscall CFatalWound::GetAttack(int *this, int a2, int a3);
_DWORD *__thiscall sub_48E1D0(_DWORD *this);
_DWORD *__thiscall sub_48E1F0(_DWORD *this);
_DWORD *__thiscall sub_48E210(_DWORD *this);
_DWORD *__thiscall sub_48E230(_DWORD *this);
_DWORD *__thiscall sub_48E250(_DWORD *this);
int sub_48E270();
CMock *__thiscall CMock::CMock(CMock *this, int a2);
_DWORD *__thiscall sub_48E2B0(_DWORD *this);
int __thiscall sub_48E2D0(_DWORD *this, int a2);
int __thiscall sub_48E2F0(_DWORD *this);
int __thiscall sub_48E310(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_48E330(_DWORD *this);
_DWORD *__thiscall sub_48E350(_DWORD *this);
_DWORD *__thiscall sub_48E370(_DWORD *this);
_DWORD *__thiscall sub_48E390(_DWORD *this);
_DWORD *__thiscall sub_48E3B0(_DWORD *this);
_DWORD *__thiscall sub_48E3D0(_DWORD *this);
_DWORD *__thiscall sub_48E3F0(_DWORD *this);
int __thiscall CTranscendental::GetAttack(_DWORD *this, int a2);
_DWORD *__thiscall sub_48E440(_DWORD *this);
_DWORD *__thiscall sub_48E460(_DWORD *this);
int __thiscall sub_48E480(_DWORD *this, int a2);
_DWORD *__thiscall sub_48E4A0(_DWORD *this);
_DWORD *__thiscall sub_48E4C0(_DWORD *this);
int __thiscall sub_48E4E0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48E500(_DWORD *this);
_DWORD *__thiscall sub_48E520(_DWORD *this);
_DWORD *__thiscall sub_48E540(_DWORD *this);
_DWORD *__thiscall sub_48E560(_DWORD *this);
_DWORD *__thiscall sub_48E580(_DWORD *this);
int sub_48E5B0();
_DWORD *__thiscall sub_48E5C0(_DWORD *this);
_DWORD *__thiscall sub_48E5E0(_DWORD *this);
_DWORD *__thiscall sub_48E600(_DWORD *this);
_DWORD *__thiscall sub_48E620(_DWORD *this);
int sub_48E640();
_DWORD *__thiscall sub_48E650(_DWORD *this);
int sub_48E670();
_DWORD *__thiscall sub_48E680(_DWORD *this);
_DWORD *__thiscall sub_48E6A0(_DWORD *this);
_DWORD *__thiscall sub_48E6C0(_DWORD *this);
_DWORD *__thiscall sub_48E6E0(_DWORD *this);
int __stdcall sub_48E700(int a1, int a2, int a3);
_DWORD *__thiscall sub_48E710(_DWORD *this);
_DWORD *__thiscall sub_48E730(_DWORD *this);
_DWORD *__thiscall sub_48E750(_DWORD *this);
int __thiscall sub_48E770(_DWORD *this, int a2);
_DWORD *__thiscall sub_48E790(_DWORD *this);
int __thiscall sub_48E7B0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48E7D0(_DWORD *this);
int __thiscall sub_48E7F0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48E810(_DWORD *this);
int __thiscall sub_48E830(_DWORD *this);
_DWORD *__thiscall sub_48E850(_DWORD *this);
int __thiscall sub_48E870(_DWORD *this);
_DWORD *__thiscall sub_48E890(_DWORD *this);
_DWORD *__thiscall sub_48E8B0(_DWORD *this);
int __thiscall sub_48E8D0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48E8F0(_DWORD *this);
_DWORD *__thiscall sub_48E910(_DWORD *this);
_DWORD *__thiscall sub_48E930(_DWORD *this);
_DWORD *__thiscall sub_48E950(_DWORD *this);
_DWORD *__thiscall sub_48E970(_DWORD *this);
_DWORD *__thiscall sub_48E990(_DWORD *this);
_DWORD *__thiscall sub_48E9B0(_DWORD *this);
_DWORD *__thiscall sub_48E9D0(_DWORD *this);
_DWORD *__thiscall sub_48E9F0(_DWORD *this);
_DWORD *__thiscall sub_48EA10(_DWORD *this);
_DWORD *__thiscall sub_48EA30(_DWORD *this);
_DWORD *__thiscall sub_48EA50(_DWORD *this);
_DWORD *__thiscall sub_48EA70(_DWORD *this);
_DWORD *__thiscall sub_48EA90(_DWORD *this);
int __thiscall sub_48EAB0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48EAD0(_DWORD *this);
int __thiscall sub_48EAF0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48EB10(_DWORD *this);
_DWORD *__thiscall sub_48EB30(_DWORD *this);
_DWORD *__thiscall sub_48EB50(_DWORD *this);
_DWORD *__thiscall sub_48EB70(_DWORD *this);
_DWORD *__thiscall sub_48EB90(_DWORD *this);
_DWORD *__thiscall sub_48EBB0(_DWORD *this);
int sub_48EBD0();
_DWORD *__thiscall sub_48EBE0(_DWORD *this);
_DWORD *__thiscall sub_48EC00(_DWORD *this);
int __thiscall sub_48EC20(_DWORD *this, int a2);
int sub_48EC40();
_DWORD *__thiscall sub_48EC50(_DWORD *this);
_DWORD *__thiscall sub_48EC70(_DWORD *this);
_DWORD *__thiscall sub_48EC90(_DWORD *this);
_DWORD *__thiscall sub_48ECB0(_DWORD *this);
int __thiscall sub_48ECD0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48ECF0(_DWORD *this);
_DWORD *__thiscall sub_48ED10(_DWORD *this);
_DWORD *__thiscall sub_48ED30(_DWORD *this);
_DWORD *__thiscall sub_48ED50(_DWORD *this);
BOOL __thiscall CUpReinforceVitality::CanLearn(_DWORD *this, int a2, unsigned int a3);
_DWORD *__thiscall sub_48EDB0(_DWORD *this);
_DWORD *__thiscall sub_48EDD0(_DWORD *this);
_DWORD *__thiscall sub_48EDF0(_DWORD *this);
int __thiscall sub_48EE10(_DWORD *this, int a2);
_DWORD *__thiscall sub_48EE30(_DWORD *this);
_DWORD *__thiscall sub_48EE50(_DWORD *this);
int __thiscall sub_48EE70(_DWORD *this, int a2);
_DWORD *__thiscall sub_48EE90(_DWORD *this);
int __thiscall sub_48EEB0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48EED0(_DWORD *this);
_DWORD *__thiscall sub_48EEF0(_DWORD *this);
_DWORD *__thiscall sub_48EF10(_DWORD *this);
int __thiscall sub_48EF30(_DWORD *this, int a2);
_DWORD *__thiscall sub_48EF50(_DWORD *this);
_DWORD *__thiscall sub_48EF70(_DWORD *this);
_DWORD *__thiscall sub_48EF90(_DWORD *this);
int __thiscall sub_48EFB0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48EFD0(_DWORD *this);
_DWORD *__thiscall sub_48EFF0(_DWORD *this);
_DWORD *__thiscall sub_48F010(_DWORD *this);
_DWORD *__thiscall sub_48F030(_DWORD *this);
int __thiscall sub_48F050(_DWORD *this, int a2);
_DWORD *__thiscall sub_48F070(_DWORD *this);
_DWORD *__thiscall sub_48F090(_DWORD *this);
int __thiscall sub_48F0B0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48F0D0(_DWORD *this);
int __thiscall sub_48F0F0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48F110(_DWORD *this);
int __thiscall sub_48F130(_DWORD *this, int a2);
_DWORD *__thiscall sub_48F150(_DWORD *this);
int __thiscall sub_48F170(_DWORD *this, int a2);
_DWORD *__thiscall sub_48F190(_DWORD *this);
int __thiscall sub_48F1B0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48F1D0(_DWORD *this);
int __stdcall sub_48F1F0(int a1);
_DWORD *__thiscall sub_48F200(_DWORD *this);
_DWORD *__thiscall sub_48F220(_DWORD *this);
_DWORD *__thiscall sub_48F240(_DWORD *this);
_DWORD *__thiscall sub_48F260(_DWORD *this);
_DWORD *__thiscall sub_48F280(_DWORD *this);
_DWORD *__thiscall sub_48F2A0(_DWORD *this);
_DWORD *__thiscall sub_48F2C0(_DWORD *this);
_DWORD *__thiscall sub_48F2E0(_DWORD *this);
_DWORD *__thiscall sub_48F300(_DWORD *this);
_DWORD *__thiscall sub_48F320(_DWORD *this);
_DWORD *__thiscall sub_48F340(_DWORD *this);
_DWORD *__thiscall sub_48F360(_DWORD *this);
_DWORD *__thiscall sub_48F380(_DWORD *this);
int __thiscall sub_48F3A0(_DWORD *this, int a2);
_DWORD *__thiscall sub_48F3C0(_DWORD *this);
_DWORD *__thiscall sub_48F3E0(_DWORD *this);
_DWORD *__thiscall sub_48F400(_DWORD *this);
_DWORD *__thiscall sub_48F420(_DWORD *this);
int __thiscall sub_48F440(_DWORD *this, int a2);
_DWORD *__thiscall sub_48F460(_DWORD *this);
_DWORD *__thiscall sub_48F480(_DWORD *this);
_DWORD *__thiscall sub_48F4A0(_DWORD *this);
_DWORD *__thiscall sub_48F4C0(_DWORD *this);
_DWORD *__thiscall sub_48F4E0(_DWORD *this);
_DWORD *__thiscall sub_48F500(_DWORD *this);
_DWORD *__thiscall sub_48F520(_DWORD *this);
_DWORD *__thiscall sub_48F540(_DWORD *this);
_DWORD *__thiscall sub_48F560(_DWORD *this);
_DWORD *__thiscall sub_48F580(_DWORD *this);
_DWORD *__thiscall sub_48F5A0(_DWORD *this);
_DWORD *__thiscall sub_48F5C0(_DWORD *this);
_DWORD *__thiscall sub_48F5E0(_DWORD *this);
_DWORD *__thiscall sub_48F600(_DWORD *this);
_DWORD *__thiscall sub_48F620(_DWORD *this);
_DWORD *__thiscall sub_48F640(_DWORD *this);
_DWORD *__thiscall sub_48F660(_DWORD *this);
_DWORD *__thiscall sub_48F680(_DWORD *this);
_DWORD *__thiscall sub_48F6A0(_DWORD *this);
_DWORD *__thiscall sub_48F6C0(_DWORD *this);
int sub_48F6E0();
_DWORD *__thiscall sub_48F6F0(_DWORD *this);
int sub_48F710();
_DWORD *__thiscall sub_48F720(_DWORD *this);
_DWORD *__thiscall sub_48F740(_DWORD *this);
int __thiscall sub_48F760(_DWORD *this);
int __thiscall sub_48F780(_DWORD *this);
int __thiscall sub_48F7A0(_DWORD *this);
_DWORD *__thiscall sub_48F7C0(_DWORD *this);
_DWORD *__thiscall sub_48F7E0(_DWORD *this);
_DWORD *__thiscall sub_48F800(_DWORD *this);
_DWORD *__thiscall sub_48F820(_DWORD *this);
_DWORD *__thiscall sub_48F840(_DWORD *this);
int sub_48F860();
_DWORD *__thiscall sub_48F870(_DWORD *this);
_DWORD *__thiscall sub_48F890(_DWORD *this);
BOOL __thiscall CSkill_MonsterMagic::CanExcuteM(_DWORD *this, int a2, int a3);
int sub_48F900();
_DWORD *__thiscall sub_48F910(_DWORD *this);
int sub_48F930();
_DWORD *__thiscall sub_48F940(_DWORD *this);
int sub_48F960();
_DWORD *__thiscall sub_48F970(_DWORD *this);
_DWORD *__thiscall sub_48F990(_DWORD *this);
_DWORD *__thiscall sub_48F9B0(_DWORD *this);
_DWORD *__thiscall sub_48F9D0(_DWORD *this);
int sub_48F9F0();
_DWORD *__thiscall sub_48FA00(_DWORD *this);
int sub_48FA20();
_DWORD *__thiscall sub_48FA30(_DWORD *this);
int sub_48FA50();
int sub_48FA60();
_DWORD *__thiscall sub_48FA70(_DWORD *this);
_DWORD *__thiscall sub_48FA90(_DWORD *this);
_DWORD *__thiscall sub_48FAB0(_DWORD *this);
int sub_48FAD0();
_DWORD *__thiscall sub_48FAF0(_DWORD *this);
_DWORD *__thiscall sub_48FB10(_DWORD *this);
_DWORD *__thiscall sub_48FB30(_DWORD *this);
_DWORD *__thiscall sub_48FB50(_DWORD *this);
_DWORD *__thiscall sub_48FB70(_DWORD *this);
_DWORD *__thiscall sub_48FB90(_DWORD *this);
_DWORD *__thiscall sub_48FBB0(_DWORD *this);
_DWORD *__thiscall sub_48FBD0(_DWORD *this);
_DWORD *__thiscall sub_48FBF0(_DWORD *this);
_DWORD *__thiscall sub_48FC20(_DWORD *this);
int sub_48FC40();
int sub_48FC50();
_DWORD *__thiscall sub_48FC60(_DWORD *this);
_DWORD *__thiscall sub_48FC90(_DWORD *this);
_DWORD *__thiscall sub_48FCB0(_DWORD *this);
int sub_48FCD0();
CMMagicFuJiExplosion *__thiscall CMMagicFuJiExplosion::CMMagicFuJiExplosion(CMMagicFuJiExplosion *this);
int sub_48FD10();
_DWORD *__thiscall sub_48FD20(_DWORD *this, int a2, int a3);
std::codecvt_base *__thiscall CCellMap::_CCellMap_0(std::codecvt_base **this);
std::codecvt_base *__thiscall std::codecvt_base::`vector deleting destructor'(std::codecvt_base *this, unsigned int a2);
CCompleteFire *__thiscall CCompleteFire::CCompleteFire(CCompleteFire *this, char a2);
int __thiscall CCellMap::AllocTile(_DWORD *this);
int __thiscall CMFireFlowerExplosion::CMFireFlowerExplosion(_DWORD *this, FILE *Stream);
CRWLock *__thiscall CCellMap::ReadLock(_DWORD *this, int a2);
int __thiscall CCellMap::_CCellMap(_DWORD *this, _DWORD *a2, int *a3);
int __thiscall sub_490220(_DWORD *a1, _DWORD *a2);
CRWLock *__thiscall CCellMap::ReadUnlock_0(_DWORD *this, int a2, int a3);
int __thiscall CCellMap::GetRWLockRect_0(_DWORD *this, _DWORD *a2, int *a3);
CRWLock *__thiscall sub_4905E0(_DWORD *a1, _DWORD *a2, _DWORD *a3);
void __thiscall CSellMap::SendDelete(CCellMap *a1, int a2, _DWORD *a3, int a4);
void __thiscall CCellMap::GetRWLockRect(CCellMap *a1, int a2, _DWORD *a3, int a4);
void __thiscall CSellMap::SendCreate(CCellMap *a1, int a2, _DWORD *a3, int a4);
void __thiscall CSellMap::SendPacket(CCellMap *this, _DWORD *src, int a3);
void __thiscall CSellMap::GetPlayerList(CCellMap *a1, _DWORD *a2, CMemory **a3);
void __thiscall CSellMap::GetPlayerMonsterList(CCellMap *a1, _DWORD *a2, CMemory **a3);
int __thiscall CSellMap::GetClosestPlayer(CCellMap *a1, _DWORD *a2, _DWORD *a3);
int __thiscall CSellMap::GetMonster(CCellMap *a1, _DWORD *a2, int a3, _DWORD *a4);
_DWORD *__thiscall sub_490DC0(_DWORD *this);
void __thiscall CCellMap::GetPlayerList(_DWORD *this);
std::codecvt_base **__thiscall sub_490E70(std::codecvt_base **this, char a2);
int __cdecl CSMap::LoadMap(int a1);
_DWORD *__thiscall sub_491010(_DWORD *this, char a2);
void __cdecl CSMap::FreeSMap();
int __cdecl sub_491080(int a1);
int __thiscall CSMap::ReadLock_0(char *this, int a2, int *a3);
int __thiscall sub_491150(int a1, _DWORD *a5, int *a6);
int __thiscall CSMap::ReadWriteLock(char *this, int a2, int a3, int *a4);
int __thiscall sub_4912B0(int a1, _DWORD *a5, _DWORD *a6, int *a7);
int __stdcall CSMap::GetCellMap(_DWORD *a1, int a2);
int __stdcall sub_4913E0(int a1, int a2);
int __stdcall CSMap::ReadLock(int a1, int a2, int a3, int a4, int a5, int a6);
_DWORD *__stdcall sub_492440(_DWORD *a1, _DWORD *a2, int a3);
int *__stdcall CSMap::GetCellMapRect(int *a1, int *a2);
int __thiscall sub_492570(_DWORD *this, int *a2);
int __thiscall sub_4925C0(char *a1, CPlayer *a5, int a6, int a7, int a8, int a9);
int __thiscall sub_493390(void *this, int a2, int a3, int a4);
int __thiscall CSMap::SendPacketInRect(void *this, int a2, int a3, int a4);
CMemory *__stdcall CSMap::GetPlayerListInRect(_DWORD *a1, int a2);
CMemory *__thiscall sub_4935A0(void *this, int a2, int a3);
int __thiscall sub_493650(void *this, int a2, signed int a3);
int __thiscall sub_493770(char *a1, _DWORD *a5, int a6, int a7);
void __stdcall CPlayerTile::PickUpItem(_DWORD, _DWORD, _DWORD);
void __thiscall CMapObject::OnTimer(int *this, int a2);
int __fastcall BitSet(unsigned int *pBit, int nOffset, unsigned int a3, unsigned int a4);
unsigned int __thiscall CMapObject::GetState(CIOCriticalSection *this);
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_493EE0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this);
void *__thiscall _f(void *); // idb
void *__thiscall sub_493F60(void *this, char a2);
int __thiscall sub_493F90(void *this);
int __thiscall sub_493FC0(void *this);
int __thiscall sub_493FE0(void *this);
int __thiscall sub_494000(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this);
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4940B0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4);
_DWORD *__thiscall sub_494150(int *this);
int __stdcall sub_4941B0(void *a1);
int __stdcall sub_494230(_BYTE *a1);
_DWORD *__thiscall sub_4942C0(_DWORD *this, int a2, int a3);
void *__thiscall sub_494400(void *this, char a2);
void __thiscall sub_494430(CIOBuffer **a1);
void __thiscall sub_494450(struct in_addr *a1);
void __thiscall CIOSocket::Recv(struct in_addr *this);
void __thiscall CSocket::OnClose(CPlayer *a1);
int __thiscall CSocket::CloseSocket(volatile LONG *this);
void __thiscall sub_4947C0(SOCKET *this);
void __thiscall CSocket::_CSocket(int this, void *a2);
void CSocket::Write(int a1, char a2, ...);
void __thiscall CSocket::Process(int a1, char *packet);
void __thiscall sub_495770(void *this, signed int a2, int a3, int a4, int a5, int a6, const void *a7);
void __thiscall CSocket::OnLogin(int nSocket_1, int p, int nCount, int size); // idb
void __thiscall sub_495980(void *this, int a2, int a3, int a4);
void __thiscall CSocket::OnUserAllCount(void *this, int a2, int a3, int a4);
void __thiscall CSocket::OnNewPlayer(_DWORD *this, int a2, void *a3);
void __thiscall CSocket::OnDelPlayer_0(_DWORD *this, int a2);
void __thiscall CSocket::OnKick(CIOCriticalSection *a1, int a2);
void __thiscall CSocket::OnKickOut(CIOCriticalSection *a1);
void __thiscall CSocket::OnFreeAccount(void *this, int a2, int a3, const char *a4);
void __thiscall sub_495CC0(void *this, int a2, int a3, const char *a4);
void __thiscall CSocket::LoadPlayer(int this, int a2, int a3);
void __thiscall CSocket::OnDelPlayer(void *this, int a2, int a3);
void __thiscall CSocket::OnCheckCopy(CIOCriticalSection *this, int a2, int a3, int a4, int a5);
void __thiscall CSocket::OnRequestCopy(int this, int a2, void *a3, int a4);
void __thiscall CSocket::OnCopyPlayer(CIOCriticalSection *a1, int a2);
BOOL __cdecl CStatus::Update();
int __thiscall sub_4962E0(_DWORD *this);
void *__thiscall CTables::CTables_0(void *this);
// void *__thiscall std::_Iterator_base::_Iterator_base(void *); idb
void *__thiscall CTile::_CTile(void *this);
int __thiscall sub_496520(int *a1, int a5);
int __thiscall CTile::RemoveBase(Concurrency::details::_CancellationTokenRegistration **this, Concurrency::details::_CancellationTokenRegistration *a2);
int __thiscall CTile::GetItem(void **this, int a2);
CTrade *__thiscall CTrade::CTrade(CTrade *this, int a2, int a3);
void *__thiscall sub_496690(void *this, char a2);
void __thiscall CTables::CTables(volatile int **this);
void __cdecl CTrade::CreateTrade(CIOCriticalSection *a1, CIOCriticalSection *a2);
void __thiscall CTrade::OnDelete(int this);
void __thiscall CTrade::Cancel(CIOCriticalSection **this, int a2);
void __thiscall CTrade::TradeAgreed(int a1, _DWORD *a5);
void __stdcall Encode(char chCodeNum, unsigned __int8 *ptr, int len);
void __stdcall Decode(char chCodeNum, unsigned __int8 *ptr, int len);
time_t __cdecl InitRandom();
unsigned int sub_496C70();
int __cdecl _Random();
int __fastcall sub_496CD0(volatile signed __int32 *a1, unsigned int a2);
int __fastcall sub_496CE0(volatile signed __int32 *a1, unsigned int a2);
char *__cdecl WritePacket(char *a1, int a2);
char *WritePacket(char *packet, const char *formal, ...);
char *__stdcall ReadPacketV(char *a1, int a2);
void *ReadPacket(char *a1, char *a2, ...);
char *__stdcall ScanPacketV(char *a1, unsigned int a2, int a3);
char *ScanPacket(char *Src, char *a5, const char *a6, ...);
char *__stdcall GetString(char *packet, char *str);
char *__stdcall PutString(char *, const char *); // idb
void __cdecl init_codepage();
int __stdcall mbstricmp(const char *s1, const char *s2); // idb
int __stdcall IsValidString(const char *str); // idb
int __stdcall IsValidName(const char *name); // idb
int __stdcall IsValidAdminName(const char *name); // idb
std::string *__cdecl GetUniqueName(std::string *result); // idb
void __thiscall InitCodePage::InitCodePage(InitCodePage *this);
BOOL __stdcall j_MiniDumpWriteDump(HANDLE hProcess, DWORD ProcessId, HANDLE hFile, MINIDUMP_TYPE DumpType, PMINIDUMP_EXCEPTION_INFORMATION ExceptionParam, PMINIDUMP_USER_STREAM_INFORMATION UserStreamParam, PMINIDUMP_CALLBACK_INFORMATION CallbackParam);
int __stdcall _HsCrypt_InitCrypt(int a1);
int __stdcall _HsCrypt_GetEncMsg(void *Src, int a2, int a3, void *a4, int a5);
int __stdcall _HsCrypt_GetDecMsg(void *Src, int a2, int a3, void *a4, int a5);
int __stdcall _HsCrypt_FSeek(FILE *Stream, int a2);
unsigned int __stdcall _HsCrypt_EncFfile(FILE *Stream, void *a2, size_t ElementCount, unsigned int *a4, unsigned __int8 *a5);
unsigned int __stdcall _HsCrypt_FileFEnc(char *FileName, void *Src, void *a3);
unsigned int __cdecl convert_key(int a1);
__int16 __cdecl aes_set_key(int *a1, int a2, char a3, int a4);
__int16 __cdecl aes_encrypt(_DWORD *a1, int *a2, int a3);
__int16 __cdecl aes_decrypt(_DWORD *a1, int *a2, int a3);
__int16 __cdecl sub_49EFED(int a1, int *a2, int a3);
__int16 __cdecl sub_49F008(int a1, int *a2, int a3);
void *__cdecl AES_ECB_Encrypt(int a1, void *a2, void *Src, int a4, int a5);
void *__cdecl sub_49F10F(int a1, void *a2, void *a3, int a4, int a5);
void __thiscall __noreturn std::_String_base::_Xran(std::_String_base *this);
std::logic_error *__thiscall std::logic_error::logic_error(std::logic_error *this, const std::logic_error *__that);
std::logic_error *__thiscall sub_49F271(std::logic_error *this, const std::logic_error *a2);
void __noreturn sub_49F289();
std::logic_error *__thiscall sub_49F2C9(std::logic_error *this, const std::logic_error *a2);
int __cdecl sub_49F2E1(size_t); // idb
// void *__cdecl memcpy(void *, const void *, size_t);
// int report_failure(void); weak
void __thiscall sub_49F65E(void *this);
// void *__cdecl memset(void *, int, size_t);
// int __cdecl atexit(void (__cdecl *)());
// time_t __cdecl time(time_t *);
// struct tm *__cdecl localtime(const time_t *);
// int __cdecl abs(int);
// int __cdecl fclose(FILE *);
// int __cdecl isalnum(int);
// int __cdecl ungetc_0(int, FILE *);
// int __cdecl fgetc(FILE *);
// size_t __cdecl strlen(const char *);
// FILE *__cdecl fopen(const char *, const char *);
// int __cdecl strcmp(const char *, const char *);
// void *__cdecl memcpy_0(void *, const void *, size_t);
// char *__cdecl strcpy(char *, const char *);
// time_t __cdecl mktime(struct tm *);
// int sprintf(char *, const char *, ...);
int __cdecl sub_4A0647(int a1);
// char *__cdecl strrchr(const char *, int);
// size_t __cdecl strcspn(const char *, const char *);
// size_t __cdecl strspn(const char *, const char *);
// _DWORD __cdecl _local_unwind2(_DWORD, _DWORD); weak
// int __cdecl _except_handler3(int, PVOID TargetFrame, int); idb
// struct tm *__cdecl gmtime(const time_t *);
// void *__cdecl memchr(const void *, int, size_t);
// int __cdecl _vsnprintf(char *, size_t, const char *, va_list);
// int _snprintf(char *, size_t, const char *, ...);
// int __cdecl _beginthreadex(LPSECURITY_ATTRIBUTES lpThreadAttributes, SIZE_T dwStackSize, int, int, DWORD dwCreationFlags, LPDWORD lpThreadId); idb
// __int32 __cdecl strtol(const char *, char **, int);
// unsigned __int32 __cdecl strtoul(const char *, char **, int);
// size_t __cdecl fwrite(const void *, size_t, size_t, FILE *);
unsigned int __cdecl fread_0(void *buffer, unsigned int size, unsigned int count, _iobuf *stream);
// int __cdecl vsprintf(char *, const char *, va_list);
// _DWORD __cdecl flsall(_DWORD); weak
// int __cdecl fflush(FILE *);
int sub_4A1236();
// int fscanf(FILE *, const char *, ...);
__int32 __cdecl j__atol(const char *);
// void *__cdecl malloc(size_t);
void nullsub_1();
// int __fastcall unknown_libname_15(_DWORD, _DWORD); weak
// int sscanf(const char *, const char *, ...);
// char *__cdecl strncpy(char *, const char *, size_t);
_DWORD __cdecl sub_4A16B4(_DWORD); // weak
// size_t __cdecl fread(void *, size_t, size_t, FILE *);
size_t __cdecl sub_4A17A2(void *a1, size_t a2, size_t a3, FILE *a4);
// char *__cdecl strchr(const char *, int);
// void __cdecl srand(unsigned int);
// int __cdecl tolower(int);
// int __cdecl fseek(FILE *, __int32, int);
// __int32 __cdecl _filelength(int);
// void __stdcall __noreturn _CxxThrowException(void *pExceptionObject, _ThrowInfo *pThrowInfo);
// exception *__thiscall exception::exception(exception *__hidden this, const struct exception *); weak
void __thiscall sub_4A2489(void *this);
void *__thiscall sub_4A24AC(void *this, char a2);
// void __cdecl free(void *);
// void __cdecl _lock_file(FILE *Stream);
// void __cdecl _unlock_file(FILE *Stream);
void __cdecl _RTC_Initialize();
void __cdecl sub_4A7C3D(); // idb
// void __cdecl terminate(); idb
void __cdecl __noreturn _inconsistency();
// _DWORD __cdecl _ld12cvt(_DWORD, _DWORD, _DWORD); weak
int __cdecl sub_4AA18E(int a1, int a2);
int __cdecl sub_4AA1A4(int a1, int a2);
int __cdecl _atodbl(_CRT_DOUBLE *Result, char *String);
int __cdecl sub_4AA1F7(int a1, int a2);
// int __cdecl _stricmp(const char *, const char *);
// _DWORD __cdecl __strgtold12(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl _fileno(FILE *);
int sub_4ABF90();
int sub_4ABFB0();
int sub_4ABFD0();
int sub_4ABFF0();
int sub_4AC010();
int sub_4AC030();
int sub_4AC050();
_DWORD *sub_4AC070();
int sub_4AC090();
int sub_4AC0B0();
int sub_4AC0D0();
int sub_4AC0F0();
int sub_4AC110();
int sub_4AC130();
int sub_4AC150();
int sub_4AC170();
int sub_4AC190();
int sub_4AC1B0();
int sub_4AC1D0();
void sub_4AC1F0();
int sub_4AC930();
int sub_4AC950();
int sub_4AC970();
int sub_4AC990();
int sub_4AC9B0();
int sub_4AC9D0();
int sub_4AC9F0();
int sub_4ACA10();
int sub_4ACA30();
int sub_4ACA50();
int sub_4ACA70();
int sub_4ACA90();
std::ios_base *sub_4ACAB0();
std::ios_base *sub_4ACAC0();
int sub_4ACAD0();
int sub_4ACAF0();
int sub_4ACB10();
int sub_4ACB30();
int sub_4ACB50();
int sub_4ACB70();
int sub_4ACB90();
int sub_4ACBB0();
int sub_4ACBD0();
int sub_4ACBF0();
int sub_4ACC10();
void *sub_4ACC30();
DWORD sub_4ACC40();
int sub_4ACC50();
int sub_4ACC70();
int sub_4ACC90();
int sub_4ACCB0();
int sub_4ACCD0();
int sub_4ACCF0();
int sub_4ACD10();
int sub_4ACD30();
int sub_4ACD60();
int sub_4ACD80();
int sub_4ACDA0();
int sub_4ACDC0();
int sub_4ACDE0();
int sub_4ACE00();
int sub_4ACE20();
int sub_4ACE40();
int sub_4ACE60();
int sub_4ACE80();
int sub_4ACEA0();
int sub_4ACEC0();
void sub_4ACEE0();
int sub_4AE1D0();
void sub_4AE1F0();
DWORD sub_4AE6A0();
int sub_4AE6B0();
int sub_4AE6D0();
DWORD sub_4AE6F0();
int sub_4AE700();
int sub_4AE720();
int sub_4AE740();
int sub_4AE760();
int sub_4AE780();
int sub_4AE7A0();
int sub_4AE7D0();
int sub_4AE7F0();
int sub_4AE810();
int sub_4AE830();
int sub_4AE850();
int sub_4AE870();
int sub_4AE890();
int sub_4AE8B0();
int sub_4AE8D0();
int sub_4AE8F0();
int sub_4AE910();
void sub_4AE930();
_DWORD *sub_4B23C0();
CMMagicFuJiExplosion *sub_4B2580();
DWORD sub_4B2F00();
int sub_4B2F10();
DWORD sub_4B2F30();
int sub_4B2F40();
int sub_4B2F70();
int sub_4B2F90();
void sub_4B2FB0();
void __cdecl sub_4B2FC0();
LONG __cdecl sub_4B2FD0();
void __cdecl sub_4B2FE0(); // idb
LONG __cdecl sub_4B2FF0();
void __cdecl sub_4B3000(); // idb
void __cdecl sub_4B3010(); // idb
LONG __cdecl sub_4B3020();
void __cdecl sub_4B3030(); // idb
int __cdecl sub_4B3040();
std::list<std::pair<std::string const ,int>> *__cdecl sub_4B3050();
int __cdecl sub_4B3060();
int __cdecl sub_4B3070();
void __cdecl sub_4B3080();
int __cdecl sub_4B3090();
void __cdecl sub_4B30A0();
int __cdecl sub_4B30B0();
void __cdecl sub_4B30C0();
int __cdecl sub_4B30D0();
void __cdecl sub_4B30E0(); // idb
void __cdecl sub_4B30F0(); // idb
int __cdecl sub_4B3100();
std::vector<CIOSocket::CIOTimer> *__cdecl sub_4B3110();
void __cdecl sub_4B3120(); // idb
int __cdecl sub_4B3130();
int __cdecl sub_4B3140();
int __cdecl sub_4B3150();
void __cdecl sub_4B3160();
int __cdecl sub_4B3170();
int __cdecl sub_4B3180();
void __cdecl sub_4B3190(); // idb
unsigned int __cdecl sub_4B31A0();
void __cdecl sub_4B31B0(); // idb
void __cdecl sub_4B31C0(); // idb
void __cdecl sub_4B31D0(); // idb
void __cdecl sub_4B31E0(); // idb
void __cdecl sub_4B31F0(); // idb
void __cdecl sub_4B3200(); // idb
void __cdecl sub_4B3210(); // idb
int __cdecl sub_4B3220();
void __cdecl sub_4B3230(); // idb
int __cdecl sub_4B3240();
void __cdecl sub_4B3250(); // idb
int __cdecl sub_4B3260();
void __cdecl sub_4B3270(); // idb
int __cdecl sub_4B3280();
void __cdecl sub_4B3290(); // idb
void __cdecl sub_4B32A0(); // idb
char *__cdecl sub_4B32B0();
void __cdecl sub_4B32D0(); // idb
void __cdecl sub_4B32E0(); // idb
void __cdecl sub_4B32F0(); // idb
int __cdecl sub_4B3300();
int __cdecl sub_4B3310();
int __cdecl sub_4B3320();
void __cdecl sub_4B3330(); // idb
void __cdecl sub_4B3340(); // idb
void __cdecl sub_4B3350(); // idb
void __cdecl sub_4B3360(); // idb
void __cdecl sub_4B3370(); // idb
int __cdecl sub_4B3380();
int __cdecl sub_4B3390();
int __cdecl sub_4B33A0();
void __cdecl sub_4B33B0(); // idb
int __cdecl sub_4B33C0();
void __cdecl sub_4B33D0(); // idb
int __cdecl sub_4B33E0();
void __cdecl sub_4B33F0(); // idb
int __cdecl sub_4B3400();
char *__cdecl sub_4B3410();
void __cdecl sub_4B3430(); // idb
std::list<std::pair<std::string const ,int>> *__cdecl sub_4B3440();
void __cdecl sub_4B3450(); // idb
void __cdecl sub_4B3460(); // idb
int __cdecl sub_4B3470();
void __cdecl sub_4B3480(); // idb
int __cdecl sub_4B3490();
void __cdecl sub_4B34A0(); // idb
void __cdecl sub_4B34B0();
int __cdecl sub_4B34C0();
int __cdecl sub_4B34D0();
int __cdecl sub_4B34E0();
char *__cdecl sub_4B34F0();
void __cdecl sub_4B3510(); // idb
void __cdecl sub_4B3520(); // idb
BOOL __stdcall GetTextMetricsA(HDC hdc, LPTEXTMETRICA lptm);
BOOL __stdcall TextOutA(HDC hdc, int x, int y, LPCSTR lpString, int c);
COLORREF __stdcall SetTextColor(HDC hdc, COLORREF color);
LONG __stdcall InterlockedDecrement(volatile LONG *lpAddend);
DWORD __stdcall WaitForSingleObject(HANDLE hHandle, DWORD dwMilliseconds);
HANDLE __stdcall CreateEventA(LPSECURITY_ATTRIBUTES lpEventAttributes, BOOL bManualReset, BOOL bInitialState, LPCSTR lpName);
BOOL __stdcall CloseHandle(HANDLE hObject);
BOOL __stdcall ResetEvent(HANDLE hEvent);
LONG __stdcall InterlockedExchange(volatile LONG *Target, LONG Value);
BOOL __stdcall SetEvent(HANDLE hEvent);
LONG __stdcall InterlockedIncrement(volatile LONG *lpAddend);
BOOL __stdcall PostQueuedCompletionStatus(HANDLE CompletionPort, DWORD dwNumberOfBytesTransferred, ULONG_PTR dwCompletionKey, LPOVERLAPPED lpOverlapped);
LONG __stdcall InterlockedCompareExchange(volatile LONG *Destination, LONG Exchange, LONG Comperand);
DWORD __stdcall GetTickCount();
HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
BOOL __stdcall GetThreadContext(HANDLE hThread, LPCONTEXT lpContext);
HANDLE __stdcall GetCurrentThread();
LPTOP_LEVEL_EXCEPTION_FILTER __stdcall SetUnhandledExceptionFilter(LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter);
LPSTR __stdcall lstrcpyA(LPSTR lpString1, LPCSTR lpString2);
DWORD __stdcall GetModuleFileNameA(HMODULE hModule, LPSTR lpFilename, DWORD nSize);
void __stdcall InitializeCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
void __stdcall ExitProcess(UINT uExitCode);
void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
BOOL __stdcall DeleteFileA(LPCSTR lpFileName);
BOOL __stdcall MoveFileExA(LPCSTR lpExistingFileName, LPCSTR lpNewFileName, DWORD dwFlags);
BOOL __stdcall ReadFile(HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped);
HANDLE __stdcall CreateFileA(LPCSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
HANDLE __stdcall GetCurrentProcess();
SIZE_T __stdcall VirtualQuery(LPCVOID lpAddress, PMEMORY_BASIC_INFORMATION lpBuffer, SIZE_T dwLength);
DWORD __stdcall GetCurrentThreadId();
void __stdcall GetLocalTime(LPSYSTEMTIME lpSystemTime);
DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
void __stdcall OutputDebugStringA(LPCSTR lpOutputString);
BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
DWORD __stdcall GetCurrentProcessId();
BOOL __stdcall SetThreadPriority(HANDLE hThread, int nPriority);
void __stdcall GetSystemInfo(LPSYSTEM_INFO lpSystemInfo);
BOOL __stdcall IsBadWritePtr(LPVOID lp, UINT_PTR ucb);
void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
DWORD __stdcall ResumeThread(HANDLE hThread);
DWORD __stdcall SuspendThread(HANDLE hThread);
void __stdcall Sleep(DWORD dwMilliseconds);
BOOL __stdcall SwitchToThread();
BOOL __stdcall TryEnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
HANDLE __stdcall CreateIoCompletionPort(HANDLE FileHandle, HANDLE ExistingCompletionPort, ULONG_PTR CompletionKey, DWORD NumberOfConcurrentThreads);
BOOL __stdcall SetProcessPriorityBoost(HANDLE hProcess, BOOL bDisablePriorityBoost);
DWORD __stdcall WaitForMultipleObjects(DWORD nCount, const HANDLE *lpHandles, BOOL bWaitAll, DWORD dwMilliseconds);
BOOL __stdcall GetQueuedCompletionStatus(HANDLE CompletionPort, LPDWORD lpNumberOfBytesTransferred, PULONG_PTR lpCompletionKey, LPOVERLAPPED *lpOverlapped, DWORD dwMilliseconds);
DWORD __stdcall SetThreadIdealProcessor(HANDLE hThread, DWORD dwIdealProcessor);
DWORD __stdcall GetLastError();
LONG __stdcall InterlockedExchangeAdd(volatile LONG *Addend, LONG Value);
HANDLE __stdcall CreateMutexA(LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCSTR lpName);
BOOL __stdcall HeapDestroy(HANDLE hHeap);
HANDLE __stdcall HeapCreate(DWORD flOptions, SIZE_T dwInitialSize, SIZE_T dwMaximumSize);
BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
BOOL __stdcall VirtualFree(LPVOID lpAddress, SIZE_T dwSize, DWORD dwFreeType);
LPVOID __stdcall HeapAlloc(HANDLE hHeap, DWORD dwFlags, SIZE_T dwBytes);
LPVOID __stdcall VirtualAlloc(LPVOID lpAddress, SIZE_T dwSize, DWORD flAllocationType, DWORD flProtect);
LPVOID __stdcall HeapReAlloc(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem, SIZE_T dwBytes);
SIZE_T __stdcall HeapSize(HANDLE hHeap, DWORD dwFlags, LPCVOID lpMem);
BOOL __stdcall IsDBCSLeadByte(BYTE TestChar);
UINT __stdcall GetACP();
BOOL __stdcall CopyFileA(LPCSTR lpExistingFileName, LPCSTR lpNewFileName, BOOL bFailIfExists);
int __stdcall lstrlenA(LPCSTR lpString);
HDC __stdcall BeginPaint(HWND hWnd, LPPAINTSTRUCT lpPaint);
BOOL __stdcall GetClientRect(HWND hWnd, LPRECT lpRect);
BOOL __stdcall EndPaint(HWND hWnd, const PAINTSTRUCT *lpPaint);
BOOL __stdcall SetDlgItemInt(HWND hDlg, int nIDDlgItem, UINT uValue, BOOL bSigned);
UINT __stdcall GetDlgItemTextA(HWND hDlg, int nIDDlgItem, LPSTR lpString, int cchMax);
UINT __stdcall IsDlgButtonChecked(HWND hDlg, int nIDButton);
UINT __stdcall GetDlgItemInt(HWND hDlg, int nIDDlgItem, BOOL *lpTranslated, BOOL bSigned);
HWND __stdcall GetDlgItem(HWND hDlg, int nIDDlgItem);
BOOL __stdcall EnableWindow(HWND hWnd, BOOL bEnable);
BOOL __stdcall EndDialog(HWND hDlg, INT_PTR nResult);
INT_PTR __stdcall DialogBoxParamA(HINSTANCE hInstance, LPCSTR lpTemplateName, HWND hWndParent, DLGPROC lpDialogFunc, LPARAM dwInitParam);
LRESULT __stdcall DefWindowProcA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
int __stdcall MessageBoxA(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType);
BOOL __stdcall DestroyWindow(HWND hWnd);
void __stdcall PostQuitMessage(int nExitCode);
HWND __stdcall CreateWindowExA(DWORD dwExStyle, LPCSTR lpClassName, LPCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, LPVOID lpParam);
HMENU __stdcall GetMenu(HWND hWnd);
BOOL __stdcall EnableMenuItem(HMENU hMenu, UINT uIDEnableItem, UINT uEnable);
BOOL __stdcall ShowWindow(HWND hWnd, int nCmdShow);
BOOL __stdcall UpdateWindow(HWND hWnd);
HICON __stdcall LoadIconA(HINSTANCE hInstance, LPCSTR lpIconName);
HCURSOR __stdcall LoadCursorA(HINSTANCE hInstance, LPCSTR lpCursorName);
ATOM __stdcall RegisterClassExA(const WNDCLASSEXA *);
int __stdcall LoadStringA(HINSTANCE hInstance, UINT uID, LPSTR lpBuffer, int cchBufferMax);
HACCEL __stdcall LoadAcceleratorsA(HINSTANCE hInstance, LPCSTR lpTableName);
BOOL __stdcall GetMessageA(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax);
int __stdcall TranslateAcceleratorA(HWND hWnd, HACCEL hAccTable, LPMSG lpMsg);
BOOL __stdcall TranslateMessage(const MSG *lpMsg);
LRESULT __stdcall DispatchMessageA(const MSG *lpMsg);
BOOL __stdcall SetWindowTextA(HWND hWnd, LPCSTR lpString);
BOOL __stdcall InvalidateRect(HWND hWnd, const RECT *lpRect, BOOL bErase);
int __stdcall wvsprintfA(LPSTR, LPCSTR, va_list arglist);
BOOL __stdcall PtInRect(const RECT *lprc, POINT pt);
BOOL __stdcall PostMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
BOOL __stdcall KillTimer(HWND hWnd, UINT_PTR uIDEvent);
UINT_PTR __stdcall SetTimer(HWND hWnd, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc);
int __stdcall shutdown(SOCKET s, int how);
char *__stdcall inet_ntoa(struct in_addr in);
SOCKET __stdcall accept(SOCKET s, struct sockaddr *addr, int *addrlen);
BOOL __stdcall WSAResetEvent(HANDLE hEvent);
int __stdcall WSAGetLastError();
u_long __stdcall htonl(u_long hostlong);
int __stdcall listen(SOCKET s, int backlog);
HANDLE __stdcall WSACreateEvent();
int __stdcall WSAEventSelect(SOCKET s, HANDLE hEventObject, __int32 lNetworkEvents);
BOOL __stdcall WSACloseEvent(HANDLE hEvent);
int __stdcall WSASend(SOCKET s, LPWSABUF lpBuffers, DWORD dwBufferCount, LPDWORD lpNumberOfBytesSent, DWORD dwFlags, LPWSAOVERLAPPED lpOverlapped, LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine);
int __stdcall WSARecv(SOCKET s, LPWSABUF lpBuffers, DWORD dwBufferCount, LPDWORD lpNumberOfBytesRecvd, LPDWORD lpFlags, LPWSAOVERLAPPED lpOverlapped, LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine);
int __stdcall WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
int __stdcall WSACleanup();
int __stdcall setsockopt(SOCKET s, int level, int optname, const char *optval, int optlen);
int __stdcall recv(SOCKET s, char *buf, int len, int flags);
int __stdcall send(SOCKET s, const char *buf, int len, int flags);
int __stdcall getsockname(SOCKET s, struct sockaddr *name, int *namelen);
SOCKET __stdcall socket(int af, int type, int protocol);
int __stdcall bind(SOCKET s, const struct sockaddr *name, int namelen);
unsigned __int32 __stdcall inet_addr(const char *cp);
struct hostent *__stdcall gethostbyname(const char *name);
u_short __stdcall htons(u_short hostshort);
int __stdcall connect(SOCKET s, const struct sockaddr *name, int namelen);
int __stdcall closesocket(SOCKET s);
BOOL __stdcall StackWalk(DWORD MachineType, HANDLE hProcess, HANDLE hThread, LPSTACKFRAME StackFrame, PVOID ContextRecord, PREAD_PROCESS_MEMORY_ROUTINE ReadMemoryRoutine, PFUNCTION_TABLE_ACCESS_ROUTINE FunctionTableAccessRoutine, PGET_MODULE_BASE_ROUTINE GetModuleBaseRoutine, PTRANSLATE_ADDRESS_ROUTINE TranslateAddress);
BOOL __stdcall SymFromAddr(HANDLE hProcess, DWORD64 Address, PDWORD64 Displacement, PSYMBOL_INFO Symbol);
DWORD __stdcall UnDecorateSymbolName(PCSTR name, PSTR outputString, DWORD maxStringLength, DWORD flags);
BOOL __stdcall SymGetLineFromAddr64(HANDLE hProcess, DWORD64 qwAddr, PDWORD pdwDisplacement, PIMAGEHLP_LINE64 Line64);
BOOL __stdcall SymInitialize(HANDLE hProcess, PCSTR UserSearchPath, BOOL fInvadeProcess);
DWORD __stdcall SymGetOptions();
DWORD __stdcall SymSetOptions(DWORD SymOptions);
BOOL __stdcall SymCleanup(HANDLE hProcess);

//-------------------------------------------------------------------------
// Data declarations

int (__stdcall *AntiCpSvr_MakeGuidReqMsg)(_DWORD, _DWORD); // weak
int (__stdcall *AntiCpSvr_MakeReqMsg)(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int (*AntiCpSvr_Finalize)(void); // weak
int (__stdcall *AntiCpSvr_Initialize)(_DWORD); // weak
int (__stdcall *AntiCpSvr_AnalyzeAckMsg)(_DWORD, _DWORD, _DWORD); // weak
int (__stdcall *AntiCpSvr_AnalyzeGuidAckMsg)(_DWORD, _DWORD, _DWORD); // weak
int (*wsprintfA)(_DWORD, const char *, ...); // weak
PGET_MODULE_BASE_ROUTINE SymGetModuleBase;
PFUNCTION_TABLE_ACCESS_ROUTINE SymFunctionTableAccess;
void *(__thiscall *off_4B433C)(DeathMatch_Wait *__hidden this, unsigned int) = &DeathMatch_Wait::`vector deleting destructor'; // weak
char Source = '\0'; // idb
int (__stdcall *off_4B4564)(int) = &sub_40DDC0; // weak
int (__stdcall *off_4B457C)(int) = &sub_401FE0; // weak
int (__stdcall *off_4B4598)(int) = &sub_4021C0; // weak
int (__stdcall *off_4B4630[3])(int) = { &sub_48F1F0, &sub_48F1F0, &unknown_libname_2 }; // weak
int (__stdcall *off_4B467C[3])(int) = { &sub_48F1F0, &CBuffMoveSpeed::ApplyBuff, &CBuffMoveSpeed::FreeBuff }; // weak
int (__stdcall *off_4B4698[3])(int) = { &sub_48F1F0, &CBuffStone::ApplyBuff, &CBuffStone::FreeBuff }; // weak
int (__stdcall *off_4B46B4[3])(int) = { &sub_48F1F0, &CBuffMeditation::ApplyBuff, &sub_406D10 }; // weak
int (__stdcall *off_4B46D0[3])(int) = { &sub_48F1F0, &BuffFatalChance::ApplyBuff, &CBuffFatalChance::FreeBuff }; // weak
int (__stdcall *off_4B46EC[3])(int) = { &sub_48F1F0, &CBuffRevivalSequela::ApplyBuff, &CBuffRevivalSequela::FreeBuff }; // weak
int (__stdcall *off_4B4708[3])(int) = { &sub_48F1F0, &CBuffStun::ApplyBuff, &sub_407080 }; // weak
int (__stdcall *off_4B4724[3])(int) = { &sub_48F1F0, &CBuffMoveStop::ApplyBuff, &CBuffMoveStop::FreeBuff }; // weak
int (__stdcall *off_4B4740[3])(int) = { &sub_48F1F0, &CBuffPoison::ApplyBuff, &sub_4074D0 }; // weak
int (__stdcall *off_4B475C[3])(int) = { &sub_48F1F0, &CBuffPoisonCloud::ApplyBuff, &sub_4077B0 }; // weak
int (__stdcall *off_4B4778[3])(int) = { &sub_48F1F0, &CBuffHaste::ApplyBuff, &CBuffHaste::FreeBuff }; // weak
int (__stdcall *off_4B4794[3])(int) = { &sub_48F1F0, &CBuffHP::ApplyBuff, &sub_407B60 }; // weak
int (__stdcall *off_4B47B0[3])(int) = { &sub_48F1F0, &CBuffMP::ApplyBuff, &sub_407BE0 }; // weak
int (__stdcall *off_4B47CC[3])(int) = { &sub_48F1F0, &CBuffSleep::ApplyBuff, &CBuffSleep::FreeBuff }; // weak
int (__stdcall *off_4B47E8[3])(int) = { &sub_48F1F0, &CBuffCTDefensePer::ApplyBuff, &CBuffCTDefensePer::FreeBuff }; // weak
int (__stdcall *off_4B4804[3])(int) = { &sub_48F1F0, &CBuffCTHealing::ApplyBuff, &sub_407F40 }; // weak
int (__stdcall *off_4B4820[3])(int) = { &sub_48F1F0, &CBuffCTPrtyPtEx::ApplyBuff, &CBuffCTPrtyPtEx::FreeBuff }; // weak
int (__stdcall *off_4B483C[3])(int) = { &sub_48F1F0, &CBuffSuffering::ApplyBuff, &sub_4080B0 }; // weak
int (__stdcall *off_4B4858[3])(int) = { &sub_48F1F0, &CBuffInchantWeapon::ApplyBuff, &CBuffInchantWeapon::FreeBuff }; // weak
int (__stdcall *off_4B4874[3])(int) = { &sub_48F1F0, &CBuffSpiritDmg::ApplyBuff, &sub_408410 }; // weak
int (__stdcall *off_4B4890[3])(int) = { &sub_48F1F0, &CBuffFlagPrty::ApplyBuff, &CBuffFlagPrty::FreeBuff }; // weak
int (__stdcall *off_4B48AC[3])(int) = { &sub_48F1F0, &CBuffFlagHP::ApplyBuff, &sub_408830 }; // weak
int (__stdcall *off_4B48C8[3])(int) = { &sub_48F1F0, &CBuffBerserk::ApplyBuff, &CBuffBerserk::FreeBuff }; // weak
int (__stdcall *off_4B48E4[3])(int) = { &sub_48F1F0, &CBuffSilenceShot::ApplyBuff, &sub_4089F0 }; // weak
int (__stdcall *off_4B4900[3])(int) = { &sub_48F1F0, &CBuffManaBurn::ApplyBuff, &sub_408BE0 }; // weak
int (__stdcall *off_4B491C[3])(int) = { &sub_48F1F0, &CBuffPrty::ApplyBuff, &CBuffPrty::FreeBuff }; // weak
int (__stdcall *off_4B4938[3])(int) = { &sub_48F1F0, &CBuffPrtyEx::ApplyBuff, &CBuffPrtyEx::FreeBuff }; // weak
int (__stdcall *off_4B4954[3])(int) = { &CBuffExpire::SetBuff, &CBuffExpire::ApplyBuff, &CBuffExpire::FreeBuff }; // weak
int (__stdcall *off_4B4970[3])(int) = { &sub_48F1F0, &CBuffExpireEvent::ApplyBuff, &CBuffExpireEvent::FreeBuff }; // weak
int (__stdcall *off_4B498C[3])(int) =
{
  &CBuffExpire::SetBuff,
  &CBuffExpireLuckyStone2::ApplyBuff,
  &CBuffExpire::FreeBuff
}; // weak
int (__stdcall *off_4B49A8[3])(int) = { &CBuffRemain::SetBuff, &CBuffRemain::ApplyBuff, &CBuffExpire::FreeBuff }; // weak
int (__stdcall *off_4B49C4[3])(int) = { &CBuffRemainEx::SetBuff, &CBuffRemainEx::ApplyBuff, &CBuffRemainEx::FreeBuff }; // weak
int (__stdcall *off_4B49E0[3])(int) =
{
  &CBuffRemainDead::SetBuff,
  &BuffRemainDead::ApplyBuff,
  &CBuffRemainDead::FreeBuff
}; // weak
int (__stdcall *off_4B49FC[3])(int) = { &sub_409AC0, &BuffRemainDead::ApplyBuff, &CBuffRemainDead::FreeBuff }; // weak
int (__stdcall *off_4B4A18[3])(int) = { &CBuffRemain::SetBuff, &CBuffRemainXBlow::ApplyBuff, &CBuffExpire::FreeBuff }; // weak
int (__stdcall *off_4B4A34[3])(int) = { &CBuffRemainPrty::SetBuff, &sub_409BF0, &CBuffRemainPrty::FreeBuff }; // weak
int (__stdcall *off_4B4A50[3])(int) = { &CBuffRemain::SetBuff, &CBuffRemain::ApplyBuff, &CBuffExpire::FreeBuff }; // weak
int (__stdcall *off_4B4A6C[3])(int) =
{
  &CBuffRemain::SetBuff,
  &CBuffRemainLuckyStone1::ApplyBuff,
  &CBuffExpire::FreeBuff
}; // weak
int (__stdcall *off_4B4A88[3])(int) = { &sub_406890, &CBuffRemainPet::ApplyBuff, &CBuffRemainPet::FreeBuff }; // weak
int (__stdcall *off_4B4AA4[3])(int) = { &sub_48F1F0, &CBuffHydrochloricAcid::ApplyBuff, &sub_40A370 }; // weak
int (__stdcall *off_4B4AC0[3])(int) = { &sub_48F1F0, &CBuffMixDamage::ApplyBuff, &unknown_libname_2 }; // weak
int (__stdcall *off_4B4AF8)(int) = &sub_40A640; // weak
int (__stdcall *off_4B4B10)(int) = &sub_40ADB0; // weak
int (*off_4B4BCC[7])() =
{
  &sub_40F5F0,
  &sub_432410,
  &sub_432430,
  &sub_40C330,
  &sub_40C330,
  &unknown_libname_3,
  &unknown_libname_3
}; // weak
int (*off_4B4C1C[8])() =
{
  &sub_40C360,
  &sub_40F5F0,
  &sub_40F5F0,
  &sub_40C330,
  &sub_40C330,
  &unknown_libname_3,
  &unknown_libname_3,
  &unknown_libname_3
}; // weak
int (*off_4B4C44[4])() = { &sub_40C360, &sub_48E5A0, &sub_48E5A0, &sub_40C550 }; // weak
int (__stdcall *off_4B4CEC)(int) = &sub_40CAB0; // weak
int (__stdcall *off_4B4EE8)(int) = &sub_40DDC0; // weak
int (__stdcall *off_4B4F00)(int) = &sub_40E810; // weak
int (__stdcall *off_4B4F48)(int) = &sub_40EA40; // weak
int (__stdcall *off_4B4FAC)(int) = &sub_40F610; // weak
unsigned int Count = 4294967295u; // idb
int (__stdcall *off_4B4FF0)(int) = &sub_411680; // weak
int (__stdcall *off_4B56A0)(int) = &sub_418B90; // weak
int (__stdcall *off_4B5798)(int) = &sub_419A00; // weak
int (__stdcall *off_4B58F0)(int) = &sub_41C3F0; // weak
int (__stdcall *off_4B5978)(int) = &sub_41D500; // weak
int (__stdcall *off_4B5AA8[3])(int) = { &CSpecPrty::ApplySpec, &CSpecPrty::FreeSpec, &sub_48F1F0 }; // weak
int (__stdcall *off_4B5AB8[3])(int) = { &unknown_libname_2, &unknown_libname_2, &sub_48F1F0 }; // weak
int (__stdcall *off_4B5AC8[3])(int) = { &sub_41FC20, &sub_41FC40, &sub_48F1F0 }; // weak
int (__stdcall *off_4B5AD8[3])(int) = { &unknown_libname_2, &unknown_libname_2, &CSpecTeleport::Use }; // weak
int (__stdcall *off_4B5AE8[3])(int) = { &unknown_libname_2, &unknown_libname_2, &CSpecRefresh::Use }; // weak
int (__stdcall *off_4B5AF8[3])(int) = { &unknown_libname_2, &unknown_libname_2, &sub_48F1F0 }; // weak
int (__stdcall *off_4B5B08[3])(int) = { &unknown_libname_2, &unknown_libname_2, &sub_48F1F0 }; // weak
int (__stdcall *off_4B5B18[3])(int) = { &unknown_libname_2, &unknown_libname_2, &sub_48F1F0 }; // weak
int (__stdcall *off_4B5B28[3])(int) = { &unknown_libname_2, &unknown_libname_2, &sub_48F1F0 }; // weak
int (__stdcall *off_4B5B38[3])(int) = { &unknown_libname_2, &unknown_libname_2, &CSpecBuff::Use }; // weak
int (__stdcall *off_4B5B48[3])(int) = { &unknown_libname_2, &unknown_libname_2, &sub_41FFA0 }; // weak
int (__stdcall *off_4B5B58)(int) = &sub_41F120; // weak
int (__stdcall *off_4B5D58)(int) = &sub_420C90; // weak
int (__stdcall *off_4B6624)(int) = &sub_4241C0; // weak
int (__stdcall *off_4B66D8)(int) = &sub_424990; // weak
int (__stdcall *off_4B677C)(int) = &sub_40DDC0; // weak
int (__stdcall *off_4B6798)(int) = &sub_425A00; // weak
int (__stdcall *off_4B69E0)(int) = &sub_425FD0; // weak
int (__stdcall *off_4B6AC0)(int) = &sub_425FD0; // weak
int (__stdcall *off_4B6C50)(int) = &sub_42A390; // weak
int (__stdcall *off_4B6E58)(int) = &sub_42A390; // weak
int (__stdcall *off_4B7038)(int) = &sub_42A390; // weak
int (__stdcall *off_4B7118)(int) = &sub_42A390; // weak
int (__stdcall *off_4B7248)(int) = &sub_42A390; // weak
int (__stdcall *off_4B7328)(int) = &sub_42A390; // weak
int (__stdcall *off_4B7470)(int) = &sub_42A390; // weak
int (__stdcall *off_4B7558)(int) = &sub_42FF60; // weak
int (__stdcall *off_4B75D8)(int) = &sub_430410; // weak
int (__stdcall *off_4B7678)(int) = &sub_430A00; // weak
int (*off_4B76F0[6])() =
{
  &sub_40C360,
  &sub_48E5A0,
  &sub_48E5A0,
  &sub_40C330,
  &sub_40C330,
  &unknown_libname_3
}; // weak
char off_4B7858[] = { 'K', 'A', 'L', '\0' }; // idb
int (__stdcall *off_4B7CE0)(int) = &sub_437260; // weak
int (__stdcall *off_4B7DC8)(int) = &sub_438370; // weak
int (__stdcall *off_4B7E78)(int) = &sub_438A80; // weak
int (__stdcall *off_4B7E90)(int) = &sub_438ED0; // weak
int (__stdcall *off_4B7F88)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8090)(int) = &sub_439940; // weak
int (__stdcall *off_4B8198)(int) = &sub_439940; // weak
int (__stdcall *off_4B82A0)(int) = &sub_439A80; // weak
int (__stdcall *off_4B8398)(int) = &sub_439A30; // weak
int (__stdcall *off_4B8490)(int) = &sub_439A80; // weak
int (__stdcall *off_4B8588)(int) = &sub_439B80; // weak
int (__stdcall *off_4B8680)(int) = &sub_439A80; // weak
int (__stdcall *off_4B8778)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8880)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8988)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8A90)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8B98)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8CA0)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8DA8)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8EB0)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B8FB8)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B90C0)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B91D8)(int) = &sub_43A8C0; // weak
int (__stdcall *off_4B9308)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B9470)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B9578)(int) = &sub_439EC0; // weak
int (__stdcall *off_4B9680)(int) = &sub_447C40; // weak
int (__stdcall *off_4B96F8)(int) = &sub_447F60; // weak
int (__stdcall *off_4B97A0)(int) = &sub_438A80; // weak
int (__stdcall *off_4B97B8)(int) = &sub_4488E0; // weak
int (__stdcall *off_4B98F0)(int) = &sub_448D30; // weak
int (__stdcall *off_4B99D0)(int) = &sub_448D30; // weak
int (__stdcall *off_4B9AB0)(int) = &sub_448D30; // weak
int (__stdcall *off_4B9B90)(int) = &sub_448D30; // weak
int (__stdcall *off_4B9C70)(int) = &sub_448D30; // weak
int (__stdcall *off_4B9D50)(int) = &sub_448D30; // weak
int (__stdcall *off_4BA5A0)(int) = &sub_44CE50; // weak
int (__stdcall *off_4BA5E8)(int) = &sub_44D470; // weak
int (__stdcall *off_4BA660)(int) = &sub_450500; // weak
char aOX[12] = " "; // idb
char asc_4BBD80[1] = ""; // idb
char aEnforceItem_0[14] = "Enforce item "; // idb
char aEnforceItem[16] = "Enforce item "; // idb
int (__stdcall *off_4BBF54)(int) = &sub_40DDC0; // weak
int (__stdcall *off_4BC020[3])(int) = { &sub_47BBB0, &sub_47AAB0, &sub_47B940 }; // weak
int (__stdcall *off_4BC030[18])(int) =
{
  &sub_47BBB0,
  &sub_47AAE0,
  &sub_47BBB0,
  &sub_47AB00,
  &sub_47BBB0,
  &sub_47AB60,
  &sub_47BA70,
  &CCondItem::IsMeet,
  &sub_47BBB0,
  &CCondParty::IsMeet,
  &sub_47BBB0,
  &sub_47AC80,
  &sub_47BBB0,
  &sub_47ACA0,
  &sub_47BBB0,
  &CCondNotClear::IsMeet,
  &sub_47BBB0,
  &CCondGState::IsMeet
}; // weak
int (__stdcall *off_4BC038[16])(int) =
{
  &sub_47BBB0,
  &sub_47AB00,
  &sub_47BBB0,
  &sub_47AB60,
  &sub_47BA70,
  &CCondItem::IsMeet,
  &sub_47BBB0,
  &CCondParty::IsMeet,
  &sub_47BBB0,
  &sub_47AC80,
  &sub_47BBB0,
  &sub_47ACA0,
  &sub_47BBB0,
  &CCondNotClear::IsMeet,
  &sub_47BBB0,
  &CCondGState::IsMeet
}; // weak
int (__stdcall *off_4BC040[14])(int) =
{
  &sub_47BBB0,
  &sub_47AB60,
  &sub_47BA70,
  &CCondItem::IsMeet,
  &sub_47BBB0,
  &CCondParty::IsMeet,
  &sub_47BBB0,
  &sub_47AC80,
  &sub_47BBB0,
  &sub_47ACA0,
  &sub_47BBB0,
  &CCondNotClear::IsMeet,
  &sub_47BBB0,
  &CCondGState::IsMeet
}; // weak
int (__stdcall *off_4BC048[12])(int) =
{
  &sub_47BA70,
  &CCondItem::IsMeet,
  &sub_47BBB0,
  &CCondParty::IsMeet,
  &sub_47BBB0,
  &sub_47AC80,
  &sub_47BBB0,
  &sub_47ACA0,
  &sub_47BBB0,
  &CCondNotClear::IsMeet,
  &sub_47BBB0,
  &CCondGState::IsMeet
}; // weak
int (__stdcall *off_4BC050[10])(int) =
{
  &sub_47BBB0,
  &CCondParty::IsMeet,
  &sub_47BBB0,
  &sub_47AC80,
  &sub_47BBB0,
  &sub_47ACA0,
  &sub_47BBB0,
  &CCondNotClear::IsMeet,
  &sub_47BBB0,
  &CCondGState::IsMeet
}; // weak
int (__stdcall *off_4BC058[8])(int) =
{
  &sub_47BBB0,
  &sub_47AC80,
  &sub_47BBB0,
  &sub_47ACA0,
  &sub_47BBB0,
  &CCondNotClear::IsMeet,
  &sub_47BBB0,
  &CCondGState::IsMeet
}; // weak
int (__stdcall *off_4BC060[6])(int) =
{
  &sub_47BBB0,
  &sub_47ACA0,
  &sub_47BBB0,
  &CCondNotClear::IsMeet,
  &sub_47BBB0,
  &CCondGState::IsMeet
}; // weak
int (__stdcall *off_4BC068[4])(int) = { &sub_47BBB0, &CCondNotClear::IsMeet, &sub_47BBB0, &CCondGState::IsMeet }; // weak
int (__stdcall *off_4BC070[2])(int) = { &sub_47BBB0, &CCondGState::IsMeet }; // weak
int (__stdcall *off_4BC110[3])(int) = { &sub_47C5D0, &CCondHtml::Action, &sub_47C4A0 }; // weak
int (__stdcall *off_4BC120[26])(int) =
{
  &sub_47C5D0,
  &sub_47AD80,
  &sub_47C5D0,
  &CActionSpecialty::Action,
  &sub_47C5D0,
  &std::_Tree<std::_Tmap_traits<CPlayer *,int,std::less<CPlayer *>,std::allocator<std::pair<CPlayer * const,int>>,0>>::_Rrotate,
  &sub_47C630,
  &CActionItem::Action,
  &sub_47C5D0,
  &std::vector<QUESTITEM>::iterator::operator-,
  &sub_47C5D0,
  &CActionCon::Action,
  &sub_47C5D0,
  &CActionSUpoint::Action,
  &sub_47C5D0,
  &sub_47B0A0,
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC128[24])(int) =
{
  &sub_47C5D0,
  &CActionSpecialty::Action,
  &sub_47C5D0,
  &std::_Tree<std::_Tmap_traits<CPlayer *,int,std::less<CPlayer *>,std::allocator<std::pair<CPlayer * const,int>>,0>>::_Rrotate,
  &sub_47C630,
  &CActionItem::Action,
  &sub_47C5D0,
  &std::vector<QUESTITEM>::iterator::operator-,
  &sub_47C5D0,
  &CActionCon::Action,
  &sub_47C5D0,
  &CActionSUpoint::Action,
  &sub_47C5D0,
  &sub_47B0A0,
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC130[22])(int) =
{
  &sub_47C5D0,
  &std::_Tree<std::_Tmap_traits<CPlayer *,int,std::less<CPlayer *>,std::allocator<std::pair<CPlayer * const,int>>,0>>::_Rrotate,
  &sub_47C630,
  &CActionItem::Action,
  &sub_47C5D0,
  &std::vector<QUESTITEM>::iterator::operator-,
  &sub_47C5D0,
  &CActionCon::Action,
  &sub_47C5D0,
  &CActionSUpoint::Action,
  &sub_47C5D0,
  &sub_47B0A0,
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC138[20])(int) =
{
  &sub_47C630,
  &CActionItem::Action,
  &sub_47C5D0,
  &std::vector<QUESTITEM>::iterator::operator-,
  &sub_47C5D0,
  &CActionCon::Action,
  &sub_47C5D0,
  &CActionSUpoint::Action,
  &sub_47C5D0,
  &sub_47B0A0,
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC140[18])(int) =
{
  &sub_47C5D0,
  &std::vector<QUESTITEM>::iterator::operator-,
  &sub_47C5D0,
  &CActionCon::Action,
  &sub_47C5D0,
  &CActionSUpoint::Action,
  &sub_47C5D0,
  &sub_47B0A0,
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC148[16])(int) =
{
  &sub_47C5D0,
  &CActionCon::Action,
  &sub_47C5D0,
  &CActionSUpoint::Action,
  &sub_47C5D0,
  &sub_47B0A0,
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC150[14])(int) =
{
  &sub_47C5D0,
  &CActionSUpoint::Action,
  &sub_47C5D0,
  &sub_47B0A0,
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC158[12])(int) =
{
  &sub_47C5D0,
  &sub_47B0A0,
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC160[10])(int) =
{
  &sub_47C5D0,
  &sub_47B0C0,
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC168[8])(int) =
{
  &sub_47C5D0,
  &std::_Allocate<std::_List_nod<CCondition *>::_Node>,
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC170[6])(int) =
{
  &sub_47C5D0,
  &sub_47B1B0,
  &sub_47C5D0,
  &sub_47B1D0,
  &sub_47C5D0,
  &CActionTeleport::Action
}; // weak
int (__stdcall *off_4BC178[4])(int) = { &sub_47C5D0, &sub_47B1D0, &sub_47C5D0, &CActionTeleport::Action }; // weak
int (__stdcall *off_4BC180[2])(int) = { &sub_47C5D0, &CActionTeleport::Action }; // weak
int (__stdcall *off_4BC224)(int) = &sub_47ECA0; // weak
int (__stdcall *off_4BC240)(int) = &sub_47EEA0; // weak
int (__stdcall *off_4BC3F0)(int, int) = &sub_48D100; // weak
int (__stdcall *off_4BC440)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC490)(int, int) = &CBehead::CanExcute; // weak
int (__stdcall *off_4BC4E0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC530)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC580)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC5D0)(int, int) = &sub_4819A0; // weak
int (__stdcall *off_4BC630)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC690)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC6F0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC750)(int, int) = &CMock::CanExcute; // weak
int (__stdcall *off_4BC7A0)(int, int) = &CMock::CanExcute; // weak
int (__stdcall *off_4BC7F0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC850)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC8B0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC910)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC970)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BC9D0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCA30)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCA90)(int, int) = &CInfernal::CanExcute; // weak
int (__stdcall *off_4BCAF0)(int, int) = &CShieldAttack::CanExcute; // weak
int (__stdcall *off_4BCB50)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCBB0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCC10)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCC70)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCCD0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCD30)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCD90)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCDF0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCE50)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCEB0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCF10)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCF70)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BCFD0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD030)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD090)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD0F0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD150)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BD1C0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BD230)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD2A0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD310)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD380)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD3F0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD460)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD4D0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BD540)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BD5B0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD620)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD690)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD700)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD770)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BD7E0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BD830)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BD888)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BD8E0)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BD938)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BD990)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BD9E8)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BDA40)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDA90)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDAE0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDB30)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDB80)(int, int) = &CMeditation::CanExcute; // weak
int (__stdcall *off_4BDBD0)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDC20)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDC70)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDCC0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BDD10)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDD60)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDDB0)(int, int) = &CRevival::CanExcute; // weak
int (__stdcall *off_4BDE08)(int, int) = &CRevival::CanExcute; // weak
int (__stdcall *off_4BDE60)(int, int) = &CRevival::CanExcute; // weak
int (__stdcall *off_4BDEB8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDF08)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BDF58)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BDFA8)(int, int) = &CHaste::CanExcute; // weak
int (__stdcall *off_4BDFF8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE048)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BE0A8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BE108)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BE168)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BE1B8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE208)(int, int) = &CMeshDefense::CanSkillUp; // weak
void (__thiscall *off_4BE258)(CMeshStr *__hidden this, struct CPlayer *, struct CChar *, int *) = &CMeshStr::Apply; // weak
int (__stdcall *off_4BE2A8)(int, int) = &sub_487B40; // weak
int (__stdcall *off_4BE2F8)(int, int) = &CSilenceArrow::CanExcute; // weak
int (__stdcall *off_4BE348)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BE398)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE3E8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE438)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE488)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE4D8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BE528)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BE578)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BE5C8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE618)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE668)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE6B8)(int, int) = &CAuraDefense::CanExcute; // weak
int (__stdcall *off_4BE708)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BE758)(int, int) = &CMock::CanExcute; // weak
int (__stdcall *off_4BE7A8)(int, int) = &sub_489320; // weak
int (__stdcall *off_4BE7F8)(int, int) = &sub_489550; // weak
int (__stdcall *off_4BE848)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BE898)(int, int) = &sub_4897F0; // weak
int (__stdcall *off_4BE8E8)(int, int) = &CStrenUpFatal::CanExcute; // weak
int (__stdcall *off_4BE948)(int, int) = &CSkillBuff::CanExcute_0; // weak
int (__stdcall *off_4BE9A8)(int, int) = &CStrenUpFatal::CanExcute; // weak
int (__stdcall *off_4BEA08)(int, int) = &CStrenUpFatal::CanExcute; // weak
int (__stdcall *off_4BEA68)(int, int) = &CStrenUpFatal::CanExcute; // weak
int (__stdcall *off_4BEAC8)(int, int) = &CStrenUpFatal::CanExcute; // weak
int (__stdcall *off_4BEB28)(int, int) = &CCloudSight::CanExcute_0; // weak
int (__stdcall *off_4BEB88)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BEBE8)(int, int) = &sub_48A0D0; // weak
int (__stdcall *off_4BEC48)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BECA8)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BED08)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BED68)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BEDC8)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BEE28)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BEE88)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BEEE8)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BEF48)(int, int) = &sub_48A050; // weak
int (__stdcall *off_4BEFA8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF000)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF058)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF0B0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF108)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF160)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF1B8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF210)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF268)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF2C0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF318)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF370)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF3C8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF420)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF478)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF4D0)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__thiscall *off_4BF528)(CMock *__hidden this) = &CMock::GetHostility; // weak
void *off_4BF588 = &std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,CSkill *>>,0>>::erase; // weak
void *off_4BF5F8 = &std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,CSkill *>>,0>>::erase; // weak
int (__thiscall *off_4BF648)(CMock *__hidden this) = &CMock::GetHostility; // weak
int (__thiscall *off_4BF6A8)(CMock *__hidden this) = &CMock::GetHostility; // weak
void *off_4BF708 = &std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,CSkill *>>,0>>::erase; // weak
int (__thiscall *off_4BF758)(CMock *__hidden this) = &CMock::GetHostility; // weak
int (__thiscall *off_4BF7B8)(CMock *__hidden this) = &CMock::GetHostility; // weak
void *off_4BF808 = &std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,CSkill *>>,0>>::erase; // weak
int (__stdcall *off_4BF858)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF8C8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF938)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BF9A8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BFA18)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BFA68)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BFAB8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BFB08)(int, int) = &CSkillBuff::CanExcute_0; // weak
int (__stdcall *off_4BFB68)(int, int) = &CSkillBuff::CanExcute_0; // weak
int (__stdcall *off_4BFBC8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BFC38)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BFCA8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BFD18)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BFD88)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BFDF8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BFE68)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4BFEB8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BFF28)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4BFF98)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4C0008)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0068)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C00D8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0148)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C01B8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0218)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0268)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C02C8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0328)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0388)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C03E8)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0458)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4C04C8)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4C0538)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0598)(int, int) = &CSkill::CanExcute; // weak
int (__stdcall *off_4C0608)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4C0678)(int, int) = &CMeshDefense::CanSkillUp; // weak
int (__stdcall *off_4C0934)(int) = &sub_493F60; // weak
int (__stdcall *off_4C0950)(int) = &sub_494400; // weak
int (__stdcall *off_4C0E08)(int) = &sub_496690; // weak
char g_chEncodeCode[13051] =
{
  ')',
  ',',
  '',
  'c',
  '',
  '\x8D',
  '',
  '',
  '',
  '',
  '',
  'J',
  '`',
  '',
  '',
  'I',
  '',
  '?',
  '',
  'f',
  'W',
  'T',
  '\v',
  '\x9D',
  'Q',
  '',
  '',
  'M',
  'S',
  'k',
  '',
  '',
  '',
  '\n',
  'u',
  '',
  '$',
  '',
  '',
  '&',
  '6',
  't',
  '\x16',
  'j',
  '',
  '',
  '',
  '\x1A',
  'b',
  'H',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '',
  '',
  ';',
  '0',
  'X',
  '',
  '',
  '',
  'F',
  '\x0F',
  'N',
  '',
  '',
  '=',
  '',
  'e',
  'K',
  '\x1F',
  '',
  '\x05',
  'C',
  'A',
  '/',
  'g',
  '}',
  '',
  'Y',
  '',
  'o',
  '',
  '\r',
  '\"',
  '^',
  '',
  'm',
  '\x0E',
  'q',
  '',
  '',
  '4',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '!',
  '',
  '-',
  'V',
  '',
  'p',
  'O',
  '\x7F',
  'G',
  '*',
  '7',
  '5',
  '\x03',
  '',
  '{',
  '%',
  '\x01',
  '',
  '',
  '\x15',
  '\x11',
  'U',
  'h',
  '',
  '',
  '',
  '',
  '',
  'D',
  's',
  'w',
  '\'',
  '',
  '|',
  '',
  '',
  ']',
  '',
  '',
  '',
  '\x1C',
  '',
  'B',
  'z',
  '\x13',
  '',
  'P',
  '',
  '\x06',
  '\t',
  'L',
  '',
  '\x18',
  '\x1E',
  '',
  '\x90',
  '.',
  '',
  '#',
  'a',
  '',
  '',
  'y',
  '>',
  '',
  '\xFF',
  'l',
  'Z',
  '',
  '',
  '',
  '\x02',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '',
  '(',
  'i',
  '',
  '\x8F',
  '~',
  '\a',
  '\x04',
  '',
  '',
  'n',
  '',
  'v',
  '8',
  '9',
  '\x19',
  '',
  '\x14',
  '',
  '',
  '',
  '\f',
  '3',
  '',
  '',
  '',
  '',
  '',
  '',
  'x',
  '',
  '',
  '_',
  ' ',
  '\0',
  '',
  '<',
  '',
  '',
  'R',
  'E',
  '\x81',
  '',
  '\x10',
  '',
  '',
  '@',
  '',
  '\\',
  '',
  '',
  '',
  '[',
  '+',
  '',
  '',
  'd',
  '',
  'r',
  '1',
  '',
  '2',
  '',
  '',
  '\x12',
  '\x1D',
  '',
  ':',
  '',
  '',
  '',
  '',
  '',
  '$',
  '>',
  '{',
  '',
  '',
  'j',
  '\x19',
  '',
  '/',
  'e',
  '(',
  '',
  'T',
  '',
  '',
  '',
  '',
  '4',
  'C',
  'l',
  'x',
  '|',
  '\x1F',
  '',
  '',
  '',
  '',
  'N',
  '\0',
  '',
  '\x17',
  '@',
  '\x0E',
  '=',
  '',
  'Q',
  '',
  '',
  'f',
  '',
  '',
  'q',
  '',
  '',
  '\x0F',
  '',
  '^',
  '',
  '\"',
  'O',
  '',
  '\x03',
  '',
  '',
  '2',
  'm',
  '',
  '\x12',
  '',
  '\x8F',
  '',
  'c',
  '',
  ':',
  '',
  '\v',
  '\f',
  '',
  '\x01',
  's',
  '',
  '',
  '',
  '\x10',
  '',
  'i',
  '~',
  '',
  '',
  '',
  '',
  ']',
  'v',
  '',
  '',
  '',
  '}',
  'A',
  '',
  '\x1E',
  'y',
  '',
  '',
  '',
  'Y',
  '',
  '1',
  '',
  '',
  '',
  'p',
  '',
  '',
  'H',
  '',
  '',
  'b',
  '9',
  '',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x7F',
  '\x13',
  '',
  '',
  '',
  '',
  'h',
  '&',
  '',
  ' ',
  'D',
  ';',
  'U',
  '',
  'k',
  '',
  '',
  '\x81',
  '\x05',
  '',
  '#',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  '<',
  '5',
  '',
  '',
  'J',
  '',
  'o',
  'R',
  '',
  'M',
  '',
  '\x04',
  '\x11',
  '!',
  '[',
  '',
  '_',
  ')',
  '',
  '',
  'n',
  '\x18',
  '8',
  'V',
  ',',
  '-',
  '',
  '',
  'X',
  '',
  '',
  '',
  '\n',
  '3',
  '',
  '',
  '',
  'd',
  'r',
  '',
  '6',
  'G',
  '+',
  'S',
  '',
  'F',
  '7',
  '',
  '\\',
  '\x16',
  'P',
  '\x1D',
  '',
  'W',
  '0',
  '\x06',
  '',
  'K',
  '\r',
  '',
  'I',
  '\'',
  '',
  '',
  '',
  '?',
  'w',
  'g',
  '\x1A',
  '',
  '\xFF',
  'u',
  '',
  '',
  '%',
  '',
  '`',
  't',
  'a',
  '\x1B',
  'L',
  '\x15',
  '\x90',
  'z',
  '',
  '\x8D',
  '',
  '',
  'B',
  '',
  '\t',
  'E',
  '\x14',
  '',
  '',
  '\a',
  '*',
  '\b',
  '',
  '',
  '',
  '',
  '\x02',
  '.',
  'Z',
  '',
  'i',
  'U',
  'R',
  '',
  '',
  '\f',
  '',
  '',
  '\x18',
  '',
  '',
  '~',
  '',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  '(',
  '\x11',
  '',
  '',
  '',
  '',
  '\x17',
  '*',
  '',
  '',
  '',
  '',
  '&',
  'm',
  '\x02',
  '',
  '',
  '',
  '',
  '6',
  '',
  'y',
  '\x05',
  '9',
  'x',
  '',
  '',
  'O',
  'v',
  '',
  'N',
  'F',
  '',
  'z',
  'n',
  'Z',
  '',
  '',
  '0',
  '',
  'Y',
  '',
  '\b',
  'P',
  '',
  'd',
  '',
  '>',
  '',
  '\x14',
  'J',
  '',
  '%',
  '',
  '',
  '\n',
  '-',
  '',
  'I',
  '',
  '',
  '',
  'c',
  '',
  '}',
  '',
  '',
  'M',
  '{',
  ']',
  '@',
  '\'',
  '\x8D',
  '',
  '',
  '',
  '\x0E',
  '\x7F',
  '\x0F',
  '_',
  '',
  '7',
  '',
  '',
  'h',
  '',
  '.',
  '\\',
  'V',
  '',
  '',
  '',
  '',
  'e',
  '2',
  '\x16',
  'C',
  '',
  '<',
  '\x1E',
  '\x1D',
  '',
  '',
  '',
  '',
  's',
  'T',
  '\x03',
  '',
  '',
  '',
  '^',
  '',
  '\0',
  '',
  'g',
  '3',
  '',
  'p',
  '',
  '',
  '\a',
  'G',
  '',
  '',
  '',
  '',
  'W',
  '1',
  '\x1C',
  '',
  '\x15',
  '8',
  '',
  ':',
  '\x1A',
  ')',
  'r',
  't',
  '\t',
  '',
  '',
  '',
  'E',
  '',
  '[',
  '',
  '\x01',
  'l',
  '',
  'b',
  '',
  '',
  '',
  '?',
  '\x90',
  '',
  '\x1F',
  '\x04',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x06',
  'A',
  'o',
  '',
  '',
  '',
  'L',
  '',
  '',
  'w',
  '',
  '',
  'K',
  ';',
  '!',
  '',
  '',
  '#',
  '\x81',
  '+',
  ' ',
  '',
  '',
  '5',
  '\"',
  'a',
  '',
  '',
  ',',
  'k',
  'B',
  'H',
  '\x12',
  '',
  '',
  '',
  '\x10',
  '',
  '\x9D',
  '`',
  '\r',
  '',
  '',
  'X',
  'Q',
  '',
  '4',
  'u',
  'q',
  '',
  '',
  '',
  '',
  '$',
  '\v',
  '\x8F',
  'S',
  'D',
  'j',
  '=',
  '',
  '\xFF',
  '',
  '\x13',
  '',
  '/',
  '',
  '\x1B',
  'f',
  '|',
  'D',
  '',
  '',
  '5',
  '=',
  '\0',
  '\x04',
  'g',
  '',
  '',
  ';',
  '',
  '',
  '\t',
  '\x1F',
  '',
  '',
  '%',
  '',
  '',
  'X',
  '\x1E',
  '\x16',
  '',
  'e',
  '',
  '',
  'S',
  'c',
  'd',
  '@',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  '*',
  'z',
  'J',
  'U',
  '',
  '`',
  'W',
  '~',
  '2',
  'j',
  '',
  '',
  ',',
  '\a',
  ':',
  '',
  'P',
  '',
  '',
  '',
  '\x02',
  '3',
  '\x10',
  '',
  '\x17',
  '\x7F',
  '!',
  '\x13',
  '',
  '',
  '',
  '',
  '\v',
  '\x81',
  '\x1D',
  'v',
  '',
  '>',
  '\x03',
  'm',
  'F',
  '\x90',
  '\x11',
  '',
  '8',
  'a',
  '1',
  '',
  '',
  '',
  '\x1C',
  '\x1A',
  '\x1B',
  '',
  '[',
  '6',
  '#',
  '',
  'n',
  '(',
  '',
  '',
  '',
  '',
  '',
  ']',
  '',
  '',
  '',
  '?',
  '\x0F',
  '',
  '',
  'q',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '}',
  '&',
  '',
  '<',
  '',
  '',
  '',
  'N',
  '',
  '\x19',
  '\\',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  'Y',
  '',
  '\x8F',
  '',
  'y',
  '',
  'H',
  '',
  '',
  '',
  'K',
  'b',
  '\"',
  '',
  'w',
  '\x15',
  's',
  '',
  'f',
  '',
  '\xFF',
  ')',
  '\x8D',
  '',
  '',
  'p',
  '',
  '',
  '',
  '$',
  'L',
  '\n',
  '{',
  '',
  '',
  '^',
  '-',
  '',
  '',
  '',
  'O',
  '',
  '\b',
  '4',
  ' ',
  '',
  '',
  'B',
  '',
  '\x01',
  'Q',
  'E',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  'l',
  '',
  '',
  '',
  '',
  'C',
  'V',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '\f',
  '',
  '',
  'Z',
  '_',
  '',
  '|',
  '',
  '.',
  '',
  'I',
  'o',
  '',
  '7',
  'M',
  '\r',
  '',
  '',
  '/',
  'x',
  'k',
  '',
  '\x06',
  '',
  '',
  '\x14',
  'R',
  '',
  '',
  '',
  'G',
  '',
  '0',
  '\'',
  'r',
  '',
  '',
  'h',
  '\x05',
  '+',
  '9',
  'i',
  'u',
  'A',
  '',
  '\x1F',
  '>',
  't',
  'D',
  ';',
  '',
  '',
  '',
  'Y',
  'C',
  'G',
  'm',
  'L',
  '',
  '\x14',
  '',
  '`',
  'R',
  '7',
  '',
  '#',
  '',
  '\x13',
  '',
  ' ',
  '\x19',
  '',
  '',
  '',
  '',
  '5',
  '',
  '&',
  '',
  '',
  '\v',
  '',
  '\x17',
  'f',
  '@',
  '',
  '\x03',
  '{',
  '\x0F',
  'H',
  '',
  '\x15',
  '',
  '',
  '',
  '\x10',
  '',
  '',
  '',
  '9',
  'a',
  '',
  '',
  '-',
  'V',
  '',
  '\x06',
  'b',
  '',
  '^',
  '',
  '2',
  '',
  'z',
  '',
  'U',
  '\x1A',
  '',
  '',
  '*',
  'T',
  '\'',
  '<',
  '',
  'e',
  'A',
  '',
  '',
  '',
  'I',
  '|',
  '',
  '\x11',
  'l',
  '',
  '\x81',
  '',
  '',
  '',
  'p',
  'r',
  '?',
  '\x8F',
  '',
  '',
  'd',
  '\x1E',
  'h',
  '\x1B',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  '$',
  '\x0E',
  '',
  ']',
  '\x02',
  '',
  '',
  'F',
  '',
  '',
  '4',
  '',
  'P',
  'Z',
  '',
  '\x1C',
  'g',
  '6',
  'q',
  'j',
  'N',
  '',
  'S',
  '',
  '',
  'u',
  '',
  'x',
  '\x1D',
  '',
  '\x90',
  'k',
  'v',
  ')',
  '',
  '',
  '}',
  '',
  '',
  'E',
  '',
  '',
  '\b',
  '',
  '',
  '',
  '',
  '\x9D',
  '\n',
  '',
  '',
  '',
  '',
  's',
  '',
  '',
  '',
  'J',
  '',
  '',
  'c',
  '',
  '',
  '',
  '',
  '\x04',
  '8',
  '',
  '\a',
  'X',
  '',
  '',
  '',
  '1',
  '.',
  '\"',
  '',
  '\x7F',
  '[',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  '\t',
  '',
  '+',
  '\f',
  'W',
  '!',
  'y',
  '%',
  '',
  '',
  '~',
  '',
  '',
  '',
  '\x05',
  '\x01',
  '',
  'O',
  '',
  'w',
  ',',
  '',
  '',
  '',
  '',
  '',
  '',
  'B',
  '',
  '',
  '',
  'Q',
  '\x16',
  'n',
  '',
  ':',
  '\x8D',
  '\x18',
  '0',
  'M',
  'o',
  '(',
  '',
  '',
  '',
  '',
  '',
  '_',
  '\\',
  '',
  '=',
  '\0',
  '',
  '',
  '\r',
  'K',
  'i',
  '/',
  '',
  '',
  '3',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  'v',
  '9',
  'Q',
  '\x04',
  '',
  '\x14',
  '',
  '*',
  'P',
  '',
  '\x1D',
  '',
  '',
  '\x16',
  '.',
  '>',
  '',
  '',
  '',
  '',
  '\x1C',
  'O',
  'o',
  '',
  '',
  '',
  '\x19',
  'l',
  '',
  '',
  '',
  '\x1A',
  'Y',
  '\t',
  '',
  '\v',
  '\x17',
  '\x03',
  '',
  'j',
  '',
  '',
  'w',
  'y',
  '',
  '\x0E',
  ';',
  '0',
  'e',
  'E',
  '\x02',
  '',
  'G',
  '8',
  '',
  '\x12',
  '',
  '6',
  '',
  '',
  'T',
  '',
  'X',
  '{',
  '',
  '',
  '',
  'u',
  'N',
  '',
  '\x1B',
  '\x11',
  '',
  '\x01',
  '',
  '',
  '',
  'c',
  '5',
  'g',
  'M',
  '',
  '~',
  'B',
  '+',
  '',
  '4',
  '',
  '',
  'n',
  '',
  '\x81',
  '7',
  '',
  '\"',
  '',
  '',
  '',
  'q',
  '}',
  '\f',
  'r',
  '',
  's',
  'S',
  '|',
  '<',
  '',
  'h',
  '_',
  '',
  '',
  'U',
  '',
  '%',
  'R',
  '\x7F',
  '',
  '',
  '',
  'd',
  'f',
  '\'',
  't',
  ']',
  '\n',
  '\a',
  '#',
  '',
  '',
  '&',
  '',
  '\x10',
  '',
  '',
  '\x1F',
  'L',
  '',
  '\x90',
  '',
  '',
  '',
  '\x06',
  '',
  '?',
  'K',
  'W',
  '',
  'z',
  '',
  'm',
  '',
  '\x0F',
  ')',
  '$',
  '',
  '@',
  '\b',
  'i',
  'I',
  '',
  '',
  '',
  ',',
  '\xFF',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x8D',
  '',
  '\\',
  '',
  '',
  ':',
  'x',
  '\x15',
  '',
  '',
  '(',
  '',
  '`',
  'Z',
  'a',
  '',
  '',
  '',
  '[',
  '\x13',
  '',
  '',
  '',
  'b',
  '',
  'C',
  '',
  '',
  '',
  '',
  '',
  '/',
  '2',
  'k',
  '',
  '',
  '\x18',
  ' ',
  '\x05',
  '\x1E',
  '=',
  '',
  '3',
  '',
  'H',
  '',
  '\x8F',
  '',
  'V',
  'D',
  '',
  '',
  '-',
  '\0',
  '',
  '',
  '',
  '',
  '\r',
  '^',
  '',
  '',
  'F',
  'p',
  'A',
  '',
  '',
  '',
  '',
  'J',
  '1',
  '!',
  '',
  '',
  '',
  '~',
  'J',
  '#',
  '',
  'A',
  'Y',
  '[',
  'e',
  'S',
  'g',
  '',
  '\x90',
  '\x1E',
  '',
  '0',
  '',
  '',
  '',
  '',
  'c',
  '\x12',
  '',
  '=',
  '',
  't',
  '',
  '',
  '\x8D',
  '<',
  'u',
  '\x13',
  'I',
  '',
  '',
  '',
  '{',
  '\x1A',
  '',
  '',
  '}',
  '+',
  '',
  ' ',
  '%',
  'Q',
  '\x0F',
  '',
  '',
  '\x15',
  '',
  '',
  'N',
  '\b',
  'x',
  '',
  '\x05',
  '\x81',
  '',
  'a',
  '',
  '`',
  'K',
  '\x0E',
  'H',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'j',
  'U',
  '',
  'p',
  '',
  '',
  '_',
  '',
  '',
  '$',
  '\"',
  '',
  'm',
  '',
  '\x19',
  '\n',
  'y',
  '(',
  '9',
  '',
  '',
  '\'',
  '',
  '',
  '\x06',
  '',
  '.',
  '',
  'V',
  '5',
  'L',
  'O',
  '',
  '-',
  'v',
  '',
  'T',
  '',
  '',
  'W',
  'd',
  '',
  'B',
  '',
  '^',
  '',
  '',
  '',
  ':',
  '',
  '\x1C',
  '4',
  '',
  '1',
  '',
  '',
  '',
  '',
  ')',
  ';',
  '',
  '',
  '\a',
  '',
  'Z',
  '\t',
  '',
  '\\',
  '',
  'f',
  '',
  '',
  '',
  '',
  '',
  '\r',
  '6',
  '',
  '',
  '',
  '',
  '',
  'o',
  'h',
  'P',
  '',
  'X',
  '',
  'z',
  'D',
  'w',
  '',
  '',
  'C',
  '?',
  '',
  '>',
  '',
  '\x1D',
  '',
  '',
  '',
  '\x10',
  '*',
  '',
  '\x11',
  '',
  '',
  'M',
  '\x14',
  '',
  '\v',
  '',
  '!',
  '2',
  '',
  'k',
  '',
  '',
  '\x18',
  '',
  ',',
  'b',
  '',
  'n',
  '\x7F',
  '',
  '|',
  '\x04',
  '',
  '',
  '',
  'E',
  '\xFF',
  '7',
  '',
  '',
  '',
  ']',
  '\x8F',
  '',
  '\f',
  'F',
  '',
  '8',
  's',
  'G',
  '@',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '\x01',
  '\0',
  '',
  '\x16',
  '',
  '/',
  'l',
  'r',
  '',
  '\x03',
  '3',
  '\x17',
  'R',
  '',
  '\x1B',
  '',
  '',
  '',
  'q',
  '',
  '\x1F',
  '',
  'i',
  '\x9D',
  '&',
  '',
  '',
  '',
  '8',
  '\x03',
  '',
  'u',
  '\x0E',
  '',
  '',
  '',
  'z',
  'K',
  '',
  'C',
  '\x19',
  '',
  '\x81',
  '',
  '',
  ':',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  'D',
  '',
  '~',
  '',
  'R',
  '6',
  '',
  '',
  'F',
  '\x13',
  '',
  'y',
  'w',
  '',
  '',
  '',
  'm',
  '',
  '',
  '0',
  '',
  '',
  'x',
  'l',
  '\'',
  '{',
  'W',
  '\x1E',
  '',
  '',
  'X',
  '',
  '\x04',
  '',
  'V',
  'I',
  '',
  '\x02',
  '.',
  '',
  'B',
  '',
  '',
  '\r',
  '',
  '',
  'H',
  '',
  '',
  '?',
  '',
  'O',
  ')',
  '&',
  '',
  '',
  '\"',
  '',
  '5',
  '',
  '',
  '',
  '',
  '\x90',
  '',
  '',
  '\x11',
  '|',
  'd',
  's',
  '',
  '\\',
  'a',
  '',
  'e',
  'L',
  ';',
  '\x7F',
  'i',
  '}',
  '',
  '',
  '=',
  '',
  '',
  '',
  '7',
  '',
  '',
  '\x1C',
  'g',
  '',
  '',
  '',
  '',
  'v',
  '\x15',
  'J',
  '',
  'b',
  'G',
  '#',
  'N',
  '',
  '',
  'Q',
  'r',
  '\x18',
  ']',
  '-',
  '',
  'n',
  'E',
  '',
  'U',
  '3',
  '',
  '(',
  'h',
  '',
  '*',
  '',
  '9',
  '\x0F',
  '_',
  'S',
  '',
  '',
  '',
  '',
  '\b',
  '\x14',
  '%',
  '\x05',
  '',
  '\t',
  '',
  '',
  '',
  '',
  '\x06',
  '\x1D',
  't',
  '\x9D',
  '\x8F',
  '\f',
  '',
  '',
  '\x10',
  '',
  '^',
  '',
  '',
  '+',
  '',
  '',
  '',
  '',
  '',
  '',
  'A',
  '',
  'M',
  '<',
  '',
  '',
  '$',
  'Z',
  '',
  '\x1B',
  '',
  '',
  '@',
  '\n',
  'c',
  ' ',
  '1',
  '\x8D',
  '',
  'j',
  '!',
  '',
  '',
  '',
  'P',
  '4',
  ',',
  '\x17',
  '>',
  '',
  '',
  'p',
  '2',
  '',
  '\xFF',
  'T',
  '',
  '',
  '',
  '',
  'q',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  '\a',
  '',
  'Y',
  '`',
  '',
  '',
  '\x16',
  'o',
  '\x1F',
  '',
  '\v',
  '',
  '',
  '',
  '[',
  'k',
  '',
  '/',
  'f',
  '',
  '\0',
  '\x1A',
  '',
  '',
  ';',
  '',
  '\\',
  '',
  '',
  'v',
  '',
  'c',
  '',
  '\v',
  '',
  '',
  '*',
  'B',
  '\x06',
  '\x1E',
  '',
  's',
  'R',
  ')',
  '\b',
  '',
  '<',
  'P',
  't',
  '\xFF',
  '%',
  '@',
  'G',
  '',
  '',
  '',
  '',
  '',
  '\"',
  'K',
  'g',
  '\x05',
  '',
  'a',
  '\x1B',
  '8',
  '\x1C',
  'I',
  '',
  '',
  '',
  'p',
  'X',
  '',
  '\x81',
  '5',
  '',
  'Z',
  '',
  '4',
  'k',
  'e',
  '\x1F',
  '',
  '',
  '\x1D',
  'z',
  'E',
  'T',
  'N',
  '\x18',
  '\x14',
  '',
  '9',
  'H',
  'd',
  ':',
  'w',
  '\x8F',
  '#',
  '',
  'o',
  '',
  '/',
  '',
  '',
  '\x02',
  'l',
  'U',
  '',
  ']',
  '',
  '|',
  '',
  '',
  '\x17',
  'D',
  'x',
  '$',
  '',
  '',
  '',
  'A',
  '',
  '',
  '',
  '',
  '\f',
  '',
  '\x01',
  '{',
  '6',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  '',
  '+',
  '',
  '!',
  '',
  '\x10',
  '',
  '?',
  '',
  '\x0F',
  '',
  '\x7F',
  ' ',
  '\x16',
  'M',
  '',
  '(',
  '~',
  '',
  '^',
  '',
  'i',
  '',
  'u',
  '',
  '',
  'S',
  '',
  '\x03',
  '',
  '',
  '\x13',
  '7',
  'b',
  'r',
  '',
  '',
  '',
  '',
  '\0',
  '',
  '\x8D',
  '&',
  '',
  '3',
  '}',
  'f',
  'W',
  '',
  '\x04',
  '',
  'm',
  '_',
  'C',
  '\x11',
  '',
  '',
  '',
  '',
  '2',
  '\'',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'q',
  '',
  '>',
  '',
  '\t',
  '\x19',
  '',
  '',
  '\x1A',
  '',
  '',
  '',
  'F',
  'O',
  '`',
  '',
  '[',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '\r',
  '',
  '',
  '1',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'y',
  '\x12',
  '',
  'V',
  '-',
  '',
  '',
  '.',
  'Y',
  '',
  'L',
  'j',
  ',',
  '',
  '',
  '\x15',
  'J',
  '\a',
  '',
  '',
  '\n',
  'n',
  '',
  'h',
  '0',
  '\x90',
  'Q',
  '=',
  '',
  '',
  '',
  '2',
  ')',
  'N',
  '\x1B',
  '>',
  '',
  '',
  '8',
  'x',
  '',
  ' ',
  'T',
  '',
  '',
  '',
  '\x1A',
  '3',
  '\x8F',
  '',
  '',
  '',
  '',
  'U',
  '',
  '',
  '',
  '',
  '',
  '0',
  '',
  'J',
  '',
  '',
  '',
  'F',
  '',
  'i',
  '',
  '',
  'H',
  '\x9D',
  '\x81',
  '',
  '',
  '',
  'g',
  '\x13',
  '&',
  't',
  '',
  '',
  'y',
  '',
  '',
  '}',
  '+',
  '',
  '\x14',
  'r',
  '',
  'A',
  'I',
  'B',
  '_',
  '',
  'O',
  '',
  '\'',
  '?',
  '',
  '',
  'S',
  '',
  'G',
  '',
  'u',
  '{',
  ',',
  '',
  '',
  'Z',
  '',
  '\x15',
  '',
  '\x03',
  '~',
  '=',
  '',
  ';',
  'w',
  '',
  '5',
  '1',
  'D',
  '',
  'L',
  '\x10',
  '',
  '',
  'p',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '7',
  'k',
  '',
  '',
  '',
  '',
  '\x05',
  '',
  '\x16',
  'n',
  '',
  '\x18',
  '',
  'M',
  'E',
  '',
  '',
  '\a',
  '',
  '#',
  '',
  '|',
  '',
  '4',
  '',
  '\x1D',
  '',
  'h',
  'Q',
  '',
  '\x0E',
  '\n',
  '\v',
  'b',
  '',
  '6',
  'f',
  'c',
  '',
  '',
  '',
  '',
  'a',
  '',
  '',
  '.',
  '\x04',
  '',
  '',
  'o',
  '',
  '-',
  '',
  'm',
  '\x01',
  's',
  '',
  '',
  'X',
  '\x8D',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '^',
  '',
  '[',
  '$',
  ':',
  '',
  '',
  '\0',
  '!',
  'P',
  'W',
  'd',
  '\x1C',
  '',
  '\\',
  '9',
  'l',
  '`',
  '',
  'C',
  '\r',
  '',
  '\"',
  '',
  '',
  '',
  '*',
  '<',
  '',
  '/',
  '',
  '',
  '',
  'q',
  'V',
  '\x19',
  '\x1F',
  '\x7F',
  '\f',
  '',
  '\x17',
  '',
  'j',
  '',
  '',
  'v',
  '\x90',
  '',
  'R',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  '\x12',
  '\x1E',
  '\t',
  '',
  '',
  'K',
  'Y',
  '%',
  'e',
  '',
  '(',
  '\x02',
  'z',
  '',
  '',
  ']',
  '',
  '\b',
  '',
  '',
  '\x06',
  '',
  '',
  '\x0F',
  '@',
  'l',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  '\x1D',
  '',
  '\x04',
  ' ',
  '\x8F',
  '',
  '&',
  '\x05',
  ']',
  '',
  '',
  '',
  'y',
  '',
  '',
  '\x19',
  'H',
  '',
  'o',
  'p',
  '',
  '',
  '',
  '3',
  'c',
  '',
  '',
  '',
  '',
  '',
  'm',
  '~',
  'R',
  '',
  'T',
  '/',
  '\'',
  '',
  '\x12',
  '\x01',
  '',
  '',
  '\x7F',
  '',
  '\f',
  '\x81',
  '',
  '`',
  '5',
  '',
  'z',
  '\x90',
  '',
  '',
  't',
  '\t',
  '',
  'P',
  '',
  '',
  '',
  '',
  '(',
  '\r',
  '',
  '',
  '',
  '',
  'h',
  '\\',
  '',
  '0',
  '2',
  '4',
  '',
  '',
  '|',
  'C',
  '>',
  '\x06',
  '\x1F',
  'W',
  'U',
  'k',
  '[',
  '',
  '',
  'w',
  'i',
  '',
  '',
  '6',
  '',
  'd',
  '',
  '',
  's',
  '\xFF',
  '',
  '',
  '7',
  'x',
  '',
  '*',
  '',
  '?',
  '',
  '',
  ';',
  '\x1C',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  'j',
  '',
  'F',
  'L',
  '',
  '\x1E',
  '',
  '',
  'I',
  '',
  '\a',
  '',
  'v',
  '',
  '%',
  '\x13',
  '',
  'A',
  '_',
  'N',
  '\x16',
  '',
  '',
  '\x0F',
  '+',
  ')',
  '',
  '',
  '',
  ',',
  'f',
  '',
  'Y',
  '!',
  '',
  '',
  '<',
  '',
  '',
  'b',
  '',
  '',
  '',
  'O',
  '',
  '',
  'q',
  '',
  'Z',
  '',
  '=',
  '',
  '',
  '',
  '',
  '\x1A',
  '',
  '',
  '\x8D',
  '',
  '',
  'e',
  '',
  '',
  '',
  '.',
  '',
  '',
  'B',
  '',
  'G',
  'D',
  'J',
  '^',
  'n',
  '',
  '',
  '\v',
  '}',
  'a',
  '\x9D',
  '',
  'K',
  '',
  '',
  '',
  '-',
  '\x14',
  '\x0E',
  '{',
  '',
  'g',
  '',
  '',
  '\x18',
  '',
  'V',
  '',
  'u',
  '',
  '\0',
  '',
  '\x11',
  '',
  '1',
  'r',
  '',
  '$',
  '\x10',
  '',
  '',
  '@',
  'E',
  'M',
  '\x03',
  '\b',
  '\x15',
  '9',
  '\"',
  '',
  '',
  '\n',
  '#',
  ':',
  '\x17',
  '8',
  'Q',
  'S',
  'X',
  '',
  '',
  'a',
  '',
  '4',
  '2',
  '6',
  '\x04',
  'g',
  '0',
  '\x12',
  'G',
  'l',
  '~',
  '>',
  '',
  '',
  '\f',
  '/',
  '',
  'r',
  '',
  '',
  '7',
  '!',
  '',
  '',
  '\x0F',
  '@',
  '',
  '.',
  '9',
  '\x10',
  '',
  'I',
  '',
  '\x1C',
  '',
  'U',
  '',
  '',
  '\b',
  '',
  '',
  'H',
  ':',
  'C',
  'b',
  '',
  '^',
  '',
  'P',
  '',
  '',
  '',
  'E',
  '[',
  ']',
  'm',
  '',
  '\x02',
  '8',
  '',
  '',
  '',
  '\x8F',
  '',
  '5',
  '*',
  '',
  '}',
  '',
  'L',
  ',',
  '',
  '',
  'X',
  '',
  'i',
  '',
  '',
  '\x14',
  't',
  '',
  '',
  '\x01',
  '',
  '\x1F',
  '',
  '',
  '',
  '\x16',
  'h',
  '\x81',
  '',
  '',
  'V',
  '$',
  '',
  '\r',
  'F',
  '&',
  '\x0E',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '',
  '\x18',
  '\x8D',
  '',
  '',
  '',
  '',
  '',
  '',
  'x',
  '\a',
  'u',
  'f',
  '',
  'j',
  '\"',
  ' ',
  '',
  '\x1E',
  '',
  'v',
  '',
  '',
  '',
  ';',
  '',
  '\0',
  '',
  'z',
  '',
  '',
  's',
  '',
  'Y',
  '',
  '\x17',
  '',
  '<',
  '',
  '',
  'q',
  '|',
  '1',
  '\x1B',
  '',
  'B',
  '',
  '\x05',
  '',
  '',
  '\x19',
  'O',
  '\'',
  '',
  '(',
  '\x7F',
  '',
  '{',
  '\v',
  '=',
  '',
  '\x15',
  '',
  '\x03',
  '',
  '',
  '\x1A',
  '\x9D',
  'W',
  'k',
  '\x13',
  'w',
  '',
  'N',
  '',
  '',
  '',
  '_',
  ')',
  '',
  '`',
  'A',
  'S',
  '\xFF',
  'd',
  '+',
  'o',
  '',
  '',
  '',
  '',
  'M',
  '',
  '',
  'K',
  '',
  '',
  'R',
  '\x90',
  '',
  '',
  '',
  '\x06',
  '#',
  '',
  '',
  '',
  'p',
  '',
  '',
  'n',
  '',
  '',
  '',
  '\t',
  '\n',
  '',
  'e',
  '\\',
  'Z',
  '',
  '',
  '\x1D',
  '',
  '?',
  '',
  'T',
  '',
  '',
  'c',
  'J',
  '',
  '',
  '',
  'Q',
  '',
  '',
  '',
  'y',
  '3',
  '%',
  '-',
  'D',
  '',
  '',
  '\x90',
  '\x1C',
  '9',
  ' ',
  'P',
  '',
  '',
  '\x1D',
  '',
  '',
  'g',
  '\x17',
  'l',
  '',
  '',
  '&',
  '',
  '',
  '4',
  ']',
  '`',
  'Z',
  '',
  '=',
  '',
  '<',
  '\x7F',
  '',
  'G',
  '\x0F',
  'z',
  'W',
  'n',
  '',
  'J',
  '',
  '',
  '\v',
  'p',
  '',
  'E',
  '\x03',
  '',
  '',
  'U',
  '\f',
  'e',
  '/',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '',
  '',
  '',
  ';',
  'b',
  '',
  '\x18',
  '\x01',
  '.',
  '1',
  '',
  '',
  '\x1B',
  '',
  '~',
  '',
  '',
  '-',
  '\x1F',
  'u',
  '2',
  '\x12',
  'f',
  '',
  'o',
  ':',
  '\xFF',
  '\x06',
  'M',
  'k',
  'X',
  '',
  '',
  'v',
  '',
  'K',
  'y',
  '$',
  '',
  '',
  '',
  '',
  '',
  '',
  '%',
  '',
  '\x8D',
  '?',
  'C',
  'q',
  '',
  '|',
  '',
  '>',
  '@',
  '',
  '',
  '',
  '\b',
  '',
  ')',
  '\t',
  '',
  's',
  '',
  '',
  '',
  '',
  '',
  'Q',
  '0',
  '',
  '\\',
  '(',
  '\x14',
  '',
  'F',
  '\x0E',
  '',
  '',
  '}',
  'S',
  '',
  '',
  '',
  'm',
  '\x05',
  '*',
  '',
  '',
  '',
  '',
  '',
  'O',
  '\x9D',
  '\x19',
  '',
  '',
  '',
  'h',
  '\n',
  'T',
  '\'',
  '',
  'r',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\r',
  '\x13',
  '',
  'V',
  'I',
  '',
  '{',
  '',
  '\x1A',
  '7',
  'w',
  '\x04',
  '',
  '!',
  '\x8F',
  '',
  'i',
  '5',
  'L',
  '',
  '',
  '',
  '+',
  'B',
  '6',
  '',
  '',
  '',
  '_',
  'R',
  ',',
  '#',
  '',
  '',
  '',
  'c',
  '',
  '',
  'j',
  '',
  '8',
  'D',
  '\x11',
  't',
  '[',
  'd',
  '\0',
  'N',
  '',
  '',
  '\x10',
  '\x16',
  '^',
  '',
  '',
  '\x15',
  '\x81',
  '',
  '',
  '',
  '\"',
  'a',
  '\a',
  '',
  '',
  '',
  '',
  'H',
  'A',
  '',
  '',
  '',
  '',
  '',
  '3',
  'x',
  '\x02',
  '',
  '',
  '',
  '',
  '',
  'o',
  '',
  '\\',
  '\x11',
  '',
  '',
  '',
  '',
  '',
  '|',
  '+',
  '',
  '',
  '',
  '',
  '',
  'J',
  '\n',
  '\x19',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '\x02',
  '',
  '',
  '5',
  '\x1F',
  '\x04',
  '',
  'Z',
  '#',
  '',
  '\x12',
  'X',
  '\t',
  '',
  '\x10',
  '',
  '\x1C',
  '\xFF',
  'k',
  ';',
  '\b',
  'W',
  '',
  '1',
  '',
  'i',
  '',
  'S',
  '-',
  '',
  '',
  '',
  '',
  'Q',
  '`',
  '}',
  '',
  '',
  '',
  '\x1D',
  'c',
  '_',
  'a',
  'L',
  '',
  '',
  '[',
  '*',
  'x',
  'A',
  'u',
  '',
  '',
  'b',
  'R',
  '',
  '\x15',
  '',
  '',
  'g',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  '',
  'F',
  '',
  'D',
  '\v',
  '',
  '',
  '\0',
  'q',
  'z',
  '',
  '',
  '',
  'U',
  '0',
  '',
  'P',
  'w',
  'l',
  '',
  '{',
  '(',
  '',
  '\x81',
  '?',
  ',',
  '\x06',
  '\x8F',
  '',
  '',
  'G',
  '',
  '',
  '.',
  '\x1E',
  '',
  '\x13',
  '',
  '',
  '',
  '\x18',
  'd',
  'r',
  '',
  '',
  '',
  '\x01',
  'j',
  '',
  '@',
  '',
  '',
  '',
  '=',
  '\x9D',
  '6',
  'y',
  'v',
  'Y',
  '',
  'M',
  '',
  '',
  '\f',
  '',
  '',
  '',
  'N',
  '',
  '\x7F',
  '',
  '\x8D',
  '',
  'f',
  'V',
  '',
  '',
  '',
  '&',
  '',
  '',
  '',
  '',
  'B',
  '',
  '',
  '/',
  ']',
  '3',
  '',
  '\x90',
  '',
  ' ',
  '9',
  '',
  '',
  '$',
  '\x03',
  '',
  '\"',
  '\x1A',
  '',
  '\r',
  '',
  '',
  '',
  '',
  't',
  '^',
  '',
  '\x0F',
  ':',
  '',
  'e',
  '',
  '7',
  '',
  '\x05',
  '~',
  'C',
  '\'',
  '',
  'I',
  '',
  '',
  '8',
  '',
  '',
  'm',
  '>',
  '',
  '',
  '',
  'T',
  '',
  '',
  '!',
  '\a',
  'p',
  'n',
  '%',
  '',
  '',
  '',
  'H',
  '\x16',
  '\x14',
  '',
  'K',
  '',
  '4',
  '',
  '',
  '<',
  's',
  'O',
  '',
  'h',
  'E',
  '2',
  '',
  ')',
  '',
  '',
  'k',
  '',
  '',
  '',
  '',
  '',
  '\x01',
  '\x1C',
  '\x1E',
  '',
  '',
  '',
  'j',
  '5',
  '',
  '\0',
  '',
  '',
  '2',
  '',
  '',
  '',
  '',
  'y',
  ';',
  '\x1D',
  '$',
  '<',
  '',
  '',
  'F',
  '\x04',
  '',
  ')',
  'l',
  '',
  '',
  '',
  '',
  '',
  '',
  '~',
  '\a',
  '{',
  '',
  '\x12',
  '',
  '\n',
  '',
  '',
  't',
  '\x18',
  'a',
  '',
  'u',
  '&',
  '\"',
  'Q',
  '',
  '',
  '',
  '',
  '',
  'g',
  '\x15',
  '\r',
  '',
  'Y',
  '',
  '',
  '',
  '.',
  'i',
  '',
  '',
  '',
  '',
  '',
  'v',
  '\x8D',
  '\x9D',
  'V',
  '',
  'n',
  '-',
  '\x1A',
  '(',
  '\x02',
  'z',
  'A',
  '8',
  '',
  '\t',
  '',
  '3',
  '',
  '',
  '\x03',
  '',
  'H',
  '',
  '\x0F',
  'm',
  '>',
  '}',
  '',
  '`',
  'K',
  'W',
  '@',
  'G',
  'Z',
  '\xFF',
  '\x17',
  '',
  '\v',
  'E',
  'T',
  '\x05',
  'B',
  '\x8F',
  '',
  '\x16',
  '',
  'e',
  '',
  'r',
  '',
  '*',
  'S',
  'b',
  '\x7F',
  '#',
  'I',
  '',
  '',
  '',
  '',
  'J',
  '',
  '',
  '\x11',
  '',
  '',
  '\f',
  '\x10',
  '\x19',
  '',
  ':',
  '',
  '',
  '',
  'd',
  'o',
  '',
  '',
  '',
  '',
  '%',
  '',
  '',
  '?',
  '',
  '',
  '6',
  ']',
  '',
  'D',
  'L',
  '',
  '0',
  '^',
  '+',
  '',
  '',
  '',
  '',
  '\x1F',
  'X',
  '',
  '',
  '\x14',
  '\x1B',
  '',
  '7',
  '|',
  '',
  '',
  '',
  '\b',
  'R',
  '',
  'U',
  '',
  '\x06',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'O',
  '',
  '',
  '\'',
  '',
  '\\',
  'P',
  '\x81',
  'c',
  '',
  '',
  'N',
  '\x90',
  '',
  '',
  '',
  'f',
  '_',
  '',
  '/',
  '9',
  '\x13',
  '',
  '=',
  'C',
  ',',
  '',
  '',
  '4',
  '1',
  '',
  '',
  '',
  '!',
  'p',
  '',
  '\x0E',
  '',
  's',
  '',
  'w',
  '',
  'h',
  '',
  'M',
  'x',
  'q',
  '',
  '[',
  ' ',
  '',
  '',
  '',
  '',
  ';',
  '',
  '^',
  '',
  '',
  '',
  '',
  '',
  '[',
  '\x10',
  'y',
  '',
  '\x11',
  '',
  'j',
  '',
  'U',
  '8',
  '',
  '',
  '',
  '\x01',
  '\0',
  '',
  '\x1B',
  '\x1F',
  '\x1A',
  '&',
  'n',
  '>',
  '\v',
  '\x90',
  'k',
  '',
  '',
  '',
  '#',
  '@',
  'S',
  '',
  '',
  '',
  '',
  'L',
  '',
  'b',
  '',
  '\x0F',
  '\x8D',
  '!',
  '<',
  '',
  '\x02',
  '',
  'l',
  '',
  '',
  'X',
  'a',
  '\x7F',
  '',
  '',
  '',
  'E',
  '3',
  '',
  '',
  'e',
  '(',
  '',
  '',
  '',
  'u',
  '',
  '\x1D',
  '',
  '',
  'Z',
  '_',
  '',
  'V',
  'x',
  '\x15',
  '',
  '',
  'Q',
  's',
  'R',
  '',
  '',
  '',
  '}',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  '',
  '\x03',
  '',
  '',
  '\n',
  '6',
  'H',
  '',
  '',
  'i',
  '',
  '',
  '',
  '\x04',
  '',
  'W',
  'c',
  't',
  '',
  '-',
  '',
  '',
  '\x14',
  '',
  '\xFF',
  'F',
  'w',
  '\x13',
  '',
  '',
  '',
  '\x16',
  '',
  '\x12',
  'D',
  '7',
  '.',
  '',
  '',
  'Y',
  '',
  '\x1E',
  'I',
  '',
  '',
  '',
  '\"',
  '~',
  'p',
  '',
  '0',
  '1',
  '',
  '',
  '\b',
  '',
  'N',
  '\x05',
  '',
  '`',
  '',
  '\a',
  '',
  '$',
  ']',
  '',
  '%',
  '',
  '+',
  '',
  '',
  '\x81',
  '',
  '*',
  '',
  'f',
  '/',
  '9',
  'P',
  '',
  '',
  '\\',
  ' ',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'A',
  'd',
  'K',
  'm',
  ')',
  '\t',
  '{',
  'C',
  '',
  'v',
  '\x1C',
  '',
  '',
  '',
  'z',
  '',
  '',
  '',
  'o',
  '\x18',
  '2',
  '',
  'B',
  'O',
  '5',
  '',
  '\x9D',
  'g',
  'G',
  'q',
  '\f',
  '\x19',
  '',
  '',
  '\x8F',
  '',
  '',
  '=',
  '\'',
  'r',
  '',
  '',
  '\r',
  '',
  '\x06',
  'h',
  '',
  '?',
  '',
  '',
  '|',
  'J',
  '',
  '\x17',
  'T',
  '',
  ',',
  '',
  ':',
  '',
  '',
  'M',
  '4',
  '',
  '',
  '*',
  '',
  'd',
  '',
  'J',
  '',
  '\x17',
  'o',
  '4',
  'I',
  '',
  '',
  '',
  'g',
  '',
  '',
  '',
  '',
  '',
  ':',
  '',
  '\x90',
  '',
  '',
  '',
  '\x10',
  '\x81',
  '',
  'L',
  '^',
  '',
  '\x1A',
  'y',
  '\x13',
  '<',
  '',
  '',
  '',
  '\a',
  ' ',
  '',
  '',
  '',
  'u',
  '',
  '\x0F',
  '',
  '\'',
  '>',
  '',
  'C',
  'R',
  ';',
  '_',
  '',
  '\x05',
  '\x02',
  '\\',
  '\xFF',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'T',
  '',
  '',
  '\x8D',
  '',
  '',
  '\f',
  'S',
  '`',
  '$',
  '=',
  'F',
  'N',
  'D',
  ',',
  '',
  '',
  '+',
  '6',
  '',
  'j',
  '',
  '@',
  '',
  '',
  '',
  '',
  '(',
  'A',
  '#',
  '-',
  '',
  '',
  'Y',
  '\0',
  'Z',
  '',
  '',
  '',
  'a',
  '}',
  '',
  '',
  'b',
  'E',
  'U',
  '\x03',
  '',
  'i',
  '!',
  'O',
  '',
  '',
  '',
  '',
  '',
  'W',
  'G',
  '1',
  's',
  '',
  'p',
  '',
  '\x15',
  'c',
  '',
  'H',
  '',
  '',
  '',
  'P',
  '&',
  '',
  '\"',
  '',
  '0',
  '',
  '',
  '2',
  '\x8F',
  'X',
  '',
  '',
  '',
  'f',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x06',
  ')',
  'x',
  '',
  '',
  '\x1D',
  '\x18',
  '{',
  '\n',
  '\t',
  'm',
  '\x1F',
  '',
  '7',
  '',
  '|',
  '',
  '\x1C',
  '',
  '',
  'n',
  '\x14',
  '',
  'k',
  '\x1B',
  '',
  'V',
  '',
  'v',
  '',
  '',
  '\x11',
  'q',
  '9',
  '',
  '',
  'e',
  '',
  '',
  'h',
  '\x04',
  '\v',
  '',
  '',
  ']',
  '?',
  '',
  '.',
  '',
  '\b',
  '',
  '',
  '',
  'r',
  'Q',
  '8',
  'M',
  '',
  '\x0E',
  '%',
  't',
  '3',
  '5',
  '\x1E',
  'z',
  '',
  '',
  '',
  '\x9D',
  '',
  'w',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  'l',
  '',
  '/',
  '~',
  '',
  '',
  '\x16',
  '\x01',
  'K',
  '\x7F',
  'B',
  '',
  '',
  '',
  '\r',
  '[',
  '',
  '',
  '',
  'W',
  '',
  'd',
  '\xFF',
  '',
  '\t',
  '',
  '',
  '\x1E',
  'P',
  '8',
  '',
  '',
  ')',
  'o',
  'i',
  '[',
  '#',
  '',
  '7',
  '',
  '',
  '',
  '',
  'r',
  '\x01',
  '',
  '',
  '',
  '\x1D',
  'u',
  '',
  '/',
  'z',
  '',
  '',
  '',
  '\x7F',
  '~',
  '\\',
  'h',
  '',
  '',
  '\x02',
  '',
  '',
  'c',
  '$',
  '',
  '',
  '',
  '',
  '\x1C',
  '*',
  'q',
  'Q',
  'J',
  '`',
  '<',
  '\x1A',
  '\x04',
  'L',
  '',
  '',
  '',
  '',
  '',
  'n',
  '',
  '',
  '',
  '',
  '',
  'H',
  '\x13',
  'm',
  'N',
  '',
  'E',
  '',
  '',
  '',
  '',
  '\x12',
  '|',
  '',
  'b',
  '',
  '',
  '!',
  '',
  '',
  '',
  '\x14',
  'U',
  ']',
  'e',
  '\x05',
  '\f',
  '',
  '',
  '',
  '\x17',
  '',
  '',
  '\0',
  '',
  '',
  '\r',
  '',
  '',
  'y',
  'A',
  'M',
  '@',
  'Z',
  '',
  '',
  '',
  '',
  '',
  '',
  '^',
  'F',
  '',
  '}',
  '',
  '0',
  '',
  '',
  '',
  'x',
  'C',
  '',
  '\x16',
  'g',
  'v',
  '?',
  'k',
  'G',
  'l',
  '',
  '\x0E',
  '',
  '\x8F',
  ':',
  '5',
  '',
  '\x10',
  'R',
  '',
  '\x81',
  '',
  '',
  '\x9D',
  '',
  '',
  'w',
  '',
  'p',
  '',
  '',
  'j',
  '\"',
  '',
  'B',
  '\x90',
  '{',
  '',
  'a',
  '&',
  '',
  '',
  '',
  '',
  's',
  'K',
  '(',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  'X',
  '\x03',
  '',
  ' ',
  '\b',
  '+',
  '\x18',
  '',
  '\'',
  '9',
  '',
  '=',
  '.',
  '',
  '',
  '-',
  'D',
  '',
  '\n',
  '',
  '_',
  '%',
  '',
  '',
  '\x06',
  '\x11',
  '',
  '\x1B',
  '\x19',
  '2',
  '>',
  '',
  '1',
  '',
  '6',
  '',
  'O',
  '',
  '',
  '',
  'S',
  '',
  '',
  '\a',
  '\x15',
  '3',
  '',
  't',
  'Y',
  '',
  '',
  '',
  'T',
  '\x8D',
  '',
  '',
  '',
  'f',
  '',
  ',',
  '\x1F',
  '',
  'V',
  '',
  '',
  '',
  '4',
  '\x0F',
  '',
  ';',
  'I',
  'X',
  '',
  '\x1E',
  '',
  '*',
  '',
  '',
  '',
  '',
  '',
  '\a',
  '',
  '\x05',
  '',
  '',
  '9',
  '',
  '',
  '\0',
  '',
  '\t',
  '',
  '/',
  '',
  '-',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  '%',
  '\x10',
  '',
  '\r',
  'e',
  '5',
  'D',
  ':',
  '',
  '+',
  '\n',
  '',
  '\x1F',
  '\x81',
  '\x13',
  '',
  't',
  'G',
  'O',
  '',
  'v',
  'U',
  ',',
  'N',
  '',
  '',
  'm',
  '',
  '',
  '',
  '\x04',
  '',
  '',
  '',
  '_',
  'P',
  'Y',
  '\x0F',
  'p',
  '',
  '',
  'Q',
  '',
  '|',
  '',
  '&',
  '\x14',
  '\x1A',
  '',
  '',
  '',
  '',
  '\f',
  '',
  '',
  '\x1C',
  '',
  'a',
  'r',
  '',
  'n',
  '',
  ']',
  'C',
  '7',
  '',
  'E',
  'Z',
  '\x02',
  '',
  '',
  '',
  '',
  '',
  '{',
  '\x16',
  'A',
  'I',
  '6',
  '',
  'i',
  '',
  '',
  '\x12',
  '#',
  '',
  '8',
  '\x1D',
  '\\',
  '\x18',
  '',
  '\"',
  'q',
  '',
  '\x8F',
  'x',
  '',
  '',
  'o',
  '',
  '<',
  '4',
  '',
  '',
  'y',
  '\x9D',
  'l',
  '',
  '$',
  '',
  '',
  '',
  '',
  '',
  '',
  '[',
  '=',
  '',
  'B',
  '\v',
  'h',
  'k',
  '',
  '\x03',
  '',
  '\x15',
  '',
  '',
  '',
  '^',
  '',
  '\x7F',
  '',
  '.',
  '',
  '',
  '\x8D',
  '',
  'w',
  ')',
  '3',
  '',
  'W',
  '',
  '',
  'F',
  '(',
  'S',
  '\x0E',
  '!',
  '0',
  '',
  '',
  '',
  '',
  '',
  '}',
  '\x06',
  '',
  'z',
  '',
  '',
  '',
  '\x01',
  '',
  '?',
  'c',
  '',
  '',
  '',
  '2',
  '',
  '~',
  '',
  'b',
  'M',
  '',
  '`',
  'K',
  'j',
  '',
  '',
  'f',
  '',
  'd',
  '\x1B',
  '\'',
  '',
  'R',
  '',
  '',
  '>',
  '',
  '',
  '',
  '1',
  '\xFF',
  '',
  ' ',
  '',
  '\x17',
  'u',
  '@',
  's',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  'g',
  'J',
  '',
  '',
  'L',
  '',
  'H',
  '',
  '\x90',
  'V',
  ';',
  '',
  '\b',
  '\x19',
  'Q',
  '\x9D',
  'T',
  '\n',
  'P',
  '',
  '*',
  'B',
  '',
  'M',
  '',
  '',
  '',
  '',
  '0',
  '5',
  '',
  '\t',
  '\x03',
  '',
  ',',
  '\x1B',
  '',
  '?',
  '\x8F',
  '',
  '',
  '\x18',
  '',
  '',
  '\x13',
  '',
  '',
  '\\',
  '=',
  '\'',
  '.',
  '',
  'O',
  '',
  'e',
  '',
  '\x1D',
  '',
  '',
  '',
  '\x1F',
  '',
  '',
  '\x8D',
  '',
  '\x11',
  '',
  '&',
  '~',
  '',
  '<',
  '',
  '',
  '',
  'H',
  '',
  '',
  '9',
  '\x15',
  '',
  '',
  '[',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '-',
  '',
  '',
  '',
  '',
  '>',
  'r',
  '',
  '',
  'G',
  '',
  '',
  '',
  '',
  '\x81',
  '',
  'w',
  '!',
  '',
  'g',
  '',
  '',
  '+',
  ')',
  '',
  '\x16',
  '',
  'p',
  '^',
  '',
  '\x90',
  '',
  '\x02',
  '6',
  '{',
  '',
  'V',
  'i',
  '$',
  '\b',
  '',
  'l',
  '',
  '(',
  '',
  '',
  '',
  '',
  '|',
  '',
  '',
  'I',
  '',
  '\x17',
  '}',
  'A',
  '',
  '',
  'U',
  '\xFF',
  '',
  '_',
  '\x1A',
  '',
  'o',
  '',
  '',
  '/',
  'C',
  '',
  'b',
  '\v',
  '',
  '',
  'W',
  'E',
  'v',
  'x',
  '\a',
  '\x0E',
  'J',
  '\x1C',
  '',
  'R',
  'D',
  '',
  '',
  '\x05',
  '',
  '\x06',
  '',
  '',
  '\x04',
  '\x12',
  '',
  'Y',
  '',
  '\x01',
  'n',
  '',
  '',
  'L',
  '',
  ']',
  '4',
  '\x10',
  '8',
  '',
  '@',
  'y',
  '',
  '',
  '',
  '1',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  'X',
  '\"',
  '\x1E',
  'u',
  '',
  '',
  '',
  '',
  ';',
  'd',
  '',
  '',
  't',
  '',
  '',
  '7',
  '\f',
  'f',
  '',
  'q',
  'a',
  '',
  '',
  'K',
  '',
  '`',
  '',
  '',
  '3',
  '',
  '%',
  'Z',
  '',
  'z',
  'm',
  '',
  ':',
  'k',
  '\0',
  '#',
  '',
  'h',
  '',
  '\x7F',
  'F',
  'N',
  '',
  'j',
  'S',
  ' ',
  '2',
  '',
  '\r',
  'c',
  '\x14',
  '',
  's',
  '',
  '\x0F',
  '',
  '',
  '1',
  '',
  '\x90',
  '',
  '',
  '\x1A',
  '',
  'm',
  '',
  '\xFF',
  'Y',
  '\x8D',
  '{',
  '\x14',
  '\x15',
  '\x1D',
  '',
  'N',
  'g',
  '`',
  '',
  '',
  '',
  '\x19',
  '',
  'I',
  '9',
  '',
  '',
  '+',
  '&',
  'j',
  '',
  '',
  '',
  '',
  'p',
  '\x7F',
  '',
  '',
  '#',
  '',
  '\x16',
  '\x06',
  '|',
  '\x13',
  '',
  'H',
  '',
  '',
  '\r',
  'w',
  '',
  '',
  '',
  's',
  ',',
  'G',
  '',
  '\x17',
  '',
  '?',
  '',
  ';',
  'O',
  '',
  '',
  '',
  'T',
  '',
  '',
  '\x1E',
  'D',
  '\b',
  '',
  '>',
  '',
  '',
  '\f',
  'd',
  '\x81',
  '',
  ' ',
  'e',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '',
  'y',
  '(',
  '',
  '',
  '',
  '\x01',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  ')',
  '0',
  '}',
  'h',
  '$',
  'M',
  '',
  '[',
  'K',
  '',
  '\\',
  '',
  'n',
  '',
  '',
  '',
  '2',
  '',
  'u',
  'c',
  'q',
  '',
  'C',
  '',
  '7',
  '',
  'i',
  '',
  '=',
  '\x0E',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '3',
  '@',
  'f',
  '6',
  'Z',
  '*',
  '',
  'z',
  '',
  '\x0F',
  ':',
  '',
  '\x05',
  '\x10',
  'x',
  '\n',
  '',
  '',
  '%',
  '',
  '\0',
  '',
  'k',
  '',
  '',
  'V',
  'v',
  'J',
  '.',
  '',
  '8',
  '\"',
  '\x03',
  'a',
  '',
  '',
  '',
  'U',
  'W',
  '',
  'l',
  '',
  '\x12',
  '',
  '!',
  '',
  '',
  '\x04',
  '5',
  'R',
  '',
  'r',
  '',
  '',
  'P',
  '',
  '',
  '\v',
  'F',
  '',
  '',
  '~',
  '',
  ']',
  '4',
  '',
  '',
  '/',
  '',
  '\t',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  'L',
  '',
  '\x11',
  '',
  'o',
  '',
  '',
  '',
  '',
  'Q',
  '\x18',
  'S',
  '',
  'B',
  '\x02',
  '',
  '^',
  'b',
  '\'',
  '-',
  '<',
  '\a',
  'X',
  '_',
  'E',
  '',
  '\x8F',
  '',
  '',
  'A',
  '',
  '5',
  '\x1C',
  '',
  'q',
  '',
  '\x0E',
  '',
  '',
  '(',
  '\xFF',
  'M',
  '',
  '?',
  'N',
  '\x81',
  ')',
  '',
  '!',
  '\x90',
  '',
  '<',
  ']',
  '\x9D',
  '',
  '',
  '',
  '8',
  '3',
  '\"',
  '4',
  '',
  '\x03',
  '',
  '',
  '9',
  '/',
  'E',
  '',
  '',
  '',
  'e',
  'K',
  '',
  '',
  '',
  'G',
  'o',
  '>',
  '',
  '',
  '\t',
  'i',
  '\x05',
  '',
  '',
  '',
  '&',
  '#',
  '',
  '',
  '',
  '',
  'H',
  '@',
  '',
  '_',
  '.',
  '',
  '',
  '=',
  'v',
  '',
  '\x06',
  'a',
  'W',
  'O',
  '\x04',
  'z',
  '\x10',
  '',
  '',
  '',
  'F',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'u',
  'I',
  '\b',
  '',
  '',
  '\0',
  'p',
  't',
  '\x8F',
  '',
  '',
  'x',
  '2',
  'T',
  '',
  'h',
  'D',
  'y',
  '',
  '',
  'C',
  '',
  ',',
  '',
  '*',
  '',
  '',
  'r',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  '^',
  'n',
  '',
  ';',
  '',
  'Z',
  '',
  '\x8D',
  '',
  'U',
  'P',
  'S',
  '',
  '',
  '',
  '\x14',
  '\a',
  'w',
  '',
  '\f',
  '',
  '',
  '',
  '',
  'Q',
  '',
  '',
  '1',
  '',
  '',
  '+',
  '',
  '\x01',
  '',
  'V',
  '',
  '\\',
  '|',
  '-',
  '\r',
  '\x16',
  '',
  'c',
  'L',
  'd',
  '6',
  'b',
  '',
  '\x15',
  '\x12',
  '\x02',
  '',
  '',
  '\n',
  '\x18',
  'j',
  '\'',
  '',
  '\v',
  '',
  'R',
  '',
  '',
  '',
  ':',
  '',
  'l',
  '',
  'm',
  '\x1D',
  '\x17',
  '',
  '\x1B',
  '',
  '',
  '\x19',
  '\x1E',
  'B',
  '\x7F',
  'g',
  '',
  '`',
  '7',
  '',
  '%',
  '',
  '0',
  '~',
  '$',
  's',
  '{',
  '}',
  '',
  '',
  '',
  'k',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  '',
  '',
  '[',
  ' ',
  'Y',
  'A',
  '',
  '',
  'f',
  'J',
  '',
  '',
  '\x0F',
  'X',
  '',
  '',
  '\x13',
  '',
  '',
  '\x1A',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  '',
  '',
  'X',
  '',
  '\x1F',
  '}',
  '\x81',
  '',
  '=',
  '?',
  'j',
  '<',
  'S',
  '\x16',
  '',
  '',
  'G',
  'A',
  '\x04',
  '0',
  '',
  'i',
  '',
  '',
  'D',
  '',
  '',
  'H',
  '',
  '\x1B',
  '5',
  '',
  '',
  '',
  '',
  '',
  'p',
  's',
  '',
  '',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x19',
  '\n',
  ',',
  ';',
  '',
  'C',
  '',
  'w',
  '(',
  'E',
  '\x0E',
  '',
  '',
  '',
  'I',
  '4',
  'K',
  '',
  'J',
  '\"',
  'T',
  '\x14',
  '8',
  '\x8F',
  '\x01',
  ' ',
  '',
  '\x1A',
  'k',
  '',
  '',
  'u',
  '\x17',
  '',
  '',
  '7',
  '',
  'V',
  '',
  'F',
  '',
  '',
  '>',
  '',
  '',
  'l',
  'P',
  '',
  '\a',
  '',
  '',
  '',
  '',
  'a',
  '~',
  '\x0F',
  '/',
  '',
  '',
  '',
  '',
  'L',
  'h',
  'g',
  '\xFF',
  '^',
  '',
  '%',
  'c',
  '{',
  '\x06',
  '\x13',
  'o',
  'W',
  '',
  '-',
  '',
  '1',
  '',
  '\x8D',
  '',
  '',
  '',
  '\x1D',
  'r',
  '',
  '',
  'z',
  '\'',
  'd',
  '+',
  'm',
  '\v',
  '',
  '',
  'Z',
  '',
  '\x12',
  '',
  ':',
  '\x1C',
  '\x03',
  '',
  '3',
  'B',
  '',
  '',
  'e',
  '',
  '',
  '',
  '\x10',
  '',
  '\x7F',
  'x',
  '',
  '',
  '',
  '',
  '',
  '\\',
  '',
  '',
  '',
  'v',
  '\x9D',
  '\f',
  '2',
  '',
  '|',
  '\0',
  '',
  '[',
  'O',
  '',
  '',
  '.',
  '',
  '',
  '',
  '',
  '$',
  '',
  'q',
  '',
  '',
  '\t',
  '',
  '*',
  'U',
  '6',
  '_',
  '\x18',
  '',
  '',
  'n',
  '\b',
  'R',
  '',
  '',
  '',
  'M',
  '',
  '',
  '\x02',
  '\x15',
  '',
  'Y',
  '',
  'N',
  '',
  '',
  '',
  ']',
  '',
  '',
  '',
  'y',
  '',
  '',
  '',
  'Q',
  '\x90',
  '@',
  'f',
  '',
  '',
  '',
  'b',
  '',
  '&',
  '',
  '',
  '',
  '',
  '\x11',
  '\r',
  '',
  '`',
  ')',
  '#',
  '!',
  '9',
  '\x05',
  '',
  '2',
  'R',
  '',
  '/',
  '',
  '',
  '',
  '',
  'f',
  '',
  'm',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '1',
  '',
  '',
  '',
  '',
  '',
  'M',
  '',
  '9',
  '\"',
  '',
  '*',
  '',
  '#',
  'D',
  '',
  '8',
  '\x8F',
  '>',
  '',
  '\x1B',
  '\xFF',
  'Z',
  'F',
  '\v',
  '',
  '',
  '',
  '',
  '',
  'P',
  '\x16',
  '\x04',
  '',
  '',
  '@',
  '',
  '$',
  '\x12',
  '',
  '',
  ':',
  '',
  '%',
  '',
  'w',
  '?',
  'u',
  '\x81',
  'c',
  '',
  '\x18',
  '',
  '(',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\\',
  '',
  '',
  'E',
  '\x9D',
  '',
  ' ',
  '=',
  '',
  '',
  '!',
  '\x90',
  ',',
  '',
  '',
  'z',
  'Y',
  '}',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'Q',
  'h',
  '\x02',
  'o',
  '',
  'B',
  '+',
  '',
  '',
  '6',
  '_',
  '\x1D',
  '',
  '',
  '',
  '`',
  '\x1F',
  '',
  'l',
  'O',
  ';',
  'v',
  '4',
  '\x03',
  '',
  '',
  'q',
  '\x10',
  'S',
  '',
  'V',
  'G',
  'd',
  'n',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '3',
  't',
  '',
  '\x8D',
  'i',
  '',
  '',
  'a',
  'U',
  '',
  'T',
  '-',
  '\x17',
  '\x01',
  '\f',
  '',
  '',
  'L',
  '',
  '',
  '~',
  '',
  '',
  '',
  'C',
  '\0',
  '.',
  '',
  'K',
  'x',
  '|',
  ']',
  'b',
  'W',
  '\x1E',
  '',
  '',
  '7',
  '',
  'N',
  '\x0F',
  '\x7F',
  '',
  '',
  '{',
  '',
  'H',
  '',
  '\r',
  '',
  '',
  '',
  '\x15',
  '\n',
  '',
  '&',
  '[',
  '5',
  '\x05',
  '',
  '',
  '\b',
  ')',
  '',
  'X',
  's',
  '<',
  '',
  '\x06',
  '\'',
  '',
  '\x11',
  '',
  'r',
  'j',
  '',
  '',
  'k',
  '',
  '',
  '\t',
  '\x19',
  '',
  '',
  '\x1C',
  'J',
  '',
  '',
  '',
  'I',
  'y',
  '\x13',
  'A',
  '\x14',
  'g',
  '\x1A',
  '\a',
  '',
  '',
  'e',
  '',
  '',
  '0',
  '',
  '^',
  '',
  'p',
  '',
  '',
  '',
  '',
  'E',
  '',
  '\x16',
  '',
  '\x8F',
  '\x03',
  'l',
  'x',
  '',
  '\x1F',
  'M',
  '\x1A',
  'e',
  'g',
  '\x14',
  'v',
  '',
  'C',
  '',
  '',
  '',
  'I',
  'q',
  '\x1B',
  '\\',
  '',
  '',
  '',
  '',
  '\x1D',
  '\x13',
  'a',
  '=',
  ']',
  '',
  'o',
  '',
  '',
  '',
  '',
  '',
  '\n',
  'U',
  '',
  '',
  '3',
  '',
  '',
  '',
  '',
  'u',
  '\a',
  '',
  '\t',
  '',
  '\x9D',
  '',
  '@',
  'A',
  '\xFF',
  '',
  '\"',
  '',
  '\x06',
  '',
  'W',
  '',
  '',
  't',
  '\r',
  '',
  '',
  '',
  '',
  '!',
  '',
  '[',
  '5',
  '\f',
  '&',
  '~',
  'i',
  '>',
  '',
  '',
  '',
  '',
  '',
  'T',
  'Q',
  '\x81',
  '',
  '\x8D',
  '\x7F',
  '',
  'k',
  '\b',
  '',
  'O',
  '',
  '{',
  '',
  '',
  '',
  '_',
  '}',
  '\x11',
  'K',
  'L',
  '',
  '',
  'r',
  '\x1C',
  '',
  '',
  '\x18',
  '',
  '\x10',
  '',
  '',
  'S',
  '\x1E',
  '',
  '`',
  '+',
  '',
  '',
  'G',
  'y',
  '^',
  ',',
  '',
  '',
  'D',
  '\x0F',
  'V',
  '%',
  '',
  '',
  '#',
  '7',
  '',
  '',
  '',
  '',
  '6',
  ';',
  '',
  '',
  '<',
  '',
  's',
  '',
  'Z',
  'B',
  '(',
  'P',
  'N',
  '8',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '',
  '',
  '',
  ')',
  '',
  'X',
  '',
  '',
  'd',
  '',
  '',
  'm',
  '\x02',
  '',
  '',
  '',
  '',
  'f',
  '',
  '',
  '',
  '\x15',
  '\'',
  '',
  '',
  ' ',
  '',
  '',
  'n',
  'Y',
  '?',
  '',
  '$',
  'z',
  '',
  '-',
  '\x04',
  '',
  '',
  '4',
  '',
  '',
  '',
  'J',
  'F',
  'p',
  'h',
  '\x17',
  'R',
  '\x01',
  'H',
  '\x90',
  '',
  '',
  '',
  '|',
  '',
  '9',
  '\x0E',
  '',
  '0',
  'w',
  '\x12',
  '.',
  '',
  '\x19',
  '',
  '1',
  '',
  '',
  '',
  '',
  '2',
  '',
  '',
  'j',
  ':',
  '',
  '',
  '/',
  '\0',
  '\x05',
  'c',
  '*',
  'b',
  '',
  '',
  '',
  ',',
  '\x13',
  '\t',
  'X',
  '5',
  '',
  '',
  '0',
  '',
  'q',
  '',
  '>',
  '\xFF',
  '',
  '',
  ';',
  '`',
  '*',
  '',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  ')',
  '',
  '',
  '\v',
  'O',
  '',
  '\r',
  '',
  '+',
  '',
  '}',
  '',
  'E',
  '\x1C',
  '',
  '=',
  '\x14',
  '\n',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '[',
  '',
  '/',
  '\'',
  '',
  '',
  '',
  '',
  '',
  '#',
  'r',
  '',
  '_',
  '',
  '',
  'B',
  '',
  '',
  '',
  '\\',
  '',
  'M',
  'f',
  'd',
  '4',
  '',
  '',
  '(',
  '',
  'W',
  '',
  '\x1A',
  '\x1B',
  'j',
  'L',
  'P',
  '\x12',
  'N',
  '',
  '',
  '',
  '?',
  '',
  '\a',
  '^',
  'c',
  '9',
  '',
  '',
  '|',
  '',
  '\x90',
  '',
  'y',
  's',
  '\x03',
  '',
  '',
  '',
  '',
  '~',
  '',
  'z',
  '',
  '\x01',
  '\f',
  '\x10',
  '',
  'Y',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '8',
  'K',
  '@',
  'o',
  'm',
  '\x02',
  '',
  '\x7F',
  ']',
  '<',
  '',
  'a',
  'g',
  '',
  'G',
  '3',
  '\0',
  '',
  '\x81',
  '7',
  '1',
  '',
  ' ',
  'b',
  '',
  '',
  'A',
  '\x16',
  '\x04',
  '',
  'R',
  '',
  '',
  'p',
  '',
  '\x05',
  '',
  '',
  'V',
  '',
  'Z',
  '\x18',
  '\x1E',
  'h',
  '',
  'J',
  'D',
  '',
  '\x0E',
  '\b',
  '',
  '\x8D',
  '',
  'i',
  '',
  '6',
  '',
  '',
  '',
  '',
  '',
  'Q',
  '\x0F',
  'x',
  '',
  '',
  '\x19',
  '\x11',
  '',
  '\x9D',
  '',
  '',
  'C',
  '\x17',
  '',
  '',
  'I',
  'T',
  '\x8F',
  '',
  'H',
  't',
  '',
  '',
  '%',
  'l',
  '',
  '',
  '',
  '&',
  'U',
  'n',
  '',
  '',
  '',
  '$',
  '',
  '',
  ':',
  '{',
  '',
  'u',
  'S',
  'w',
  '',
  'k',
  '-',
  '',
  '',
  'e',
  '',
  '',
  '',
  '',
  '.',
  '!',
  '',
  '',
  '',
  '',
  '2',
  'v',
  '',
  '\x06',
  '\"',
  'F',
  '\xFF',
  '\x04',
  ')',
  '',
  '',
  '',
  '',
  '\x1A',
  '2',
  '>',
  '',
  '\x8F',
  'i',
  '',
  'm',
  '\x90',
  '',
  '',
  'N',
  ':',
  'I',
  '+',
  '',
  '',
  '',
  '',
  '(',
  'o',
  '',
  'Z',
  '\r',
  '\n',
  '',
  '~',
  '\f',
  '',
  'a',
  '',
  '',
  '',
  '',
  '[',
  '',
  '',
  '/',
  'G',
  '\"',
  '^',
  '',
  '1',
  'J',
  '',
  '#',
  '',
  'y',
  '',
  '@',
  '\x0E',
  'f',
  '',
  '',
  '?',
  '!',
  'X',
  '',
  ']',
  '',
  '',
  '',
  '',
  '',
  '',
  '$',
  'F',
  '',
  '_',
  '',
  'V',
  'R',
  'n',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'g',
  '',
  'Q',
  '|',
  '8',
  '',
  '',
  '9',
  '',
  '',
  '\x81',
  '\x9D',
  '',
  '',
  '',
  '\\',
  'W',
  '%',
  '\x12',
  '',
  '.',
  '',
  'S',
  '\x15',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '\x11',
  'w',
  'x',
  '',
  '',
  '\x05',
  '',
  '',
  '4',
  '\x17',
  '\x1D',
  '',
  '\t',
  '',
  '5',
  '',
  '',
  '\x19',
  '',
  '&',
  '',
  '\x01',
  '',
  '3',
  '',
  '',
  'u',
  '',
  '',
  'M',
  'h',
  '\x16',
  '\x0F',
  '',
  '',
  '',
  'z',
  'Y',
  'K',
  '',
  '0',
  '',
  '',
  '\x13',
  '',
  '6',
  '',
  '\x03',
  '\a',
  '',
  '-',
  '',
  '\'',
  '',
  'k',
  'H',
  'U',
  'P',
  '',
  '\x1B',
  '\x1E',
  '`',
  '',
  '}',
  'D',
  'r',
  'T',
  '\x02',
  'B',
  'b',
  '\0',
  '',
  '',
  '',
  'e',
  '',
  '',
  '',
  '',
  ',',
  '',
  '',
  '',
  '',
  '\x10',
  '',
  'L',
  't',
  'O',
  '',
  '',
  '',
  '',
  '',
  '',
  'C',
  '\x8D',
  '',
  '\x18',
  'd',
  '\b',
  'p',
  '',
  '\x14',
  '{',
  'A',
  '\x1C',
  'E',
  ';',
  'l',
  'c',
  '',
  '',
  's',
  '',
  '',
  'v',
  '7',
  '\x7F',
  '',
  '',
  '<',
  '=',
  '',
  '',
  '\x06',
  '',
  ' ',
  'j',
  'q',
  '',
  '\v',
  '',
  '',
  '',
  '*',
  '',
  '',
  '',
  '\x03',
  '',
  'W',
  '\x1F',
  '\x1B',
  '',
  '.',
  ']',
  '\x7F',
  'S',
  'X',
  '',
  '',
  '',
  ')',
  '&',
  '',
  '',
  '',
  '',
  '9',
  'h',
  '1',
  'M',
  'a',
  '',
  '',
  '',
  '(',
  '{',
  '',
  '',
  '\'',
  '',
  'C',
  '',
  '',
  'v',
  'w',
  '',
  '',
  '',
  '[',
  'u',
  '',
  '',
  '%',
  '',
  '<',
  'O',
  '',
  'l',
  '',
  'P',
  '',
  '',
  'i',
  '',
  '=',
  '\x1D',
  ',',
  '\x90',
  '',
  '',
  '',
  '?',
  '',
  '',
  '`',
  '_',
  '\x1E',
  '6',
  '',
  '',
  '\x05',
  'g',
  'r',
  '',
  '4',
  '',
  '',
  '',
  '',
  'D',
  '',
  't',
  '5',
  'L',
  '',
  'R',
  '',
  '',
  '',
  'p',
  '',
  '',
  '8',
  '',
  '',
  'z',
  '',
  '\x12',
  '\x06',
  '\r',
  '\0',
  's',
  '',
  '',
  '',
  'm',
  '',
  '',
  'T',
  '',
  '',
  '^',
  '\x1C',
  '\x17',
  '',
  ':',
  '*',
  '',
  '\"',
  '',
  '',
  '',
  '\x19',
  ' ',
  '\t',
  '\x8F',
  '',
  '',
  'y',
  '',
  '',
  '',
  '\f',
  '',
  '',
  'Z',
  '',
  'B',
  '/',
  '\x9D',
  '',
  '>',
  'G',
  '\x81',
  '',
  '\x01',
  '7',
  '',
  '',
  '',
  '~',
  '\n',
  'I',
  '\x0F',
  'e',
  'q',
  '\x18',
  '',
  '\x16',
  '',
  '',
  'f',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  'A',
  '2',
  '',
  '',
  '',
  '',
  '\x15',
  '',
  '@',
  '',
  '\x13',
  '',
  '\xFF',
  'U',
  '',
  'K',
  'd',
  '\a',
  '',
  'j',
  '',
  'b',
  'V',
  '',
  '',
  '',
  '+',
  '',
  '$',
  '',
  '',
  '\x8D',
  '\\',
  'k',
  '\x11',
  '!',
  '\x10',
  'E',
  '',
  'c',
  'J',
  'Q',
  '',
  '',
  '',
  'Y',
  '\x1A',
  '\b',
  '',
  '',
  '}',
  '',
  '',
  '',
  '\v',
  '0',
  ';',
  '\x04',
  'N',
  '\x14',
  '',
  'F',
  'n',
  '',
  'x',
  '-',
  '',
  '',
  '',
  'o',
  '\x0E',
  '',
  '#',
  '',
  '|',
  '',
  '',
  'H',
  '',
  '3',
  '',
  '',
  '',
  '',
  'v',
  '#',
  '\x81',
  '',
  '',
  '',
  '',
  '&',
  'x',
  '',
  'b',
  '\f',
  '',
  '',
  '',
  '\x15',
  'p',
  'h',
  '',
  '\x16',
  'i',
  '',
  '',
  '',
  'z',
  'U',
  '',
  'd',
  '%',
  '',
  'C',
  '.',
  'N',
  'D',
  '',
  'V',
  '',
  '{',
  '\x1B',
  '3',
  'n',
  '',
  '!',
  '\\',
  '',
  '',
  '',
  '',
  '',
  '4',
  '',
  '^',
  '',
  ',',
  '2',
  '',
  '\x04',
  '',
  '',
  'Y',
  '@',
  '\x06',
  '\r',
  '_',
  '',
  '\x1E',
  '',
  '',
  '\x8D',
  'q',
  '\x19',
  '',
  '',
  '|',
  '',
  'T',
  '\x12',
  '',
  'Q',
  '',
  '\"',
  '',
  '',
  '\x1C',
  '>',
  '',
  'W',
  '',
  '',
  '',
  '\x17',
  '',
  '7',
  '',
  '',
  '\x13',
  '\n',
  'S',
  '',
  '\x90',
  'r',
  '\t',
  '',
  '',
  '\x14',
  'f',
  '',
  '\x18',
  '',
  'j',
  '\x11',
  '5',
  'M',
  '\0',
  '$',
  'B',
  '',
  '',
  '\x7F',
  '',
  '',
  ']',
  '',
  'P',
  '\xFF',
  'o',
  '',
  '',
  'k',
  '',
  '',
  '',
  '',
  '\v',
  '\x05',
  '',
  '',
  '',
  'a',
  ' ',
  '~',
  'F',
  '',
  '',
  '',
  '+',
  '',
  '\x9D',
  'R',
  '*',
  '',
  '',
  '\x0E',
  'G',
  'A',
  '',
  '',
  '}',
  'm',
  'O',
  'E',
  '',
  '',
  '-',
  '',
  '',
  '',
  'y',
  'L',
  '/',
  '8',
  '9',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'l',
  'X',
  '\x1A',
  'I',
  '',
  '[',
  '',
  '',
  '0',
  'H',
  '\x1D',
  'w',
  ';',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'K',
  '',
  't',
  ':',
  '',
  'g',
  '',
  '(',
  '',
  '\x03',
  '<',
  '',
  '',
  '',
  '',
  '\'',
  'c',
  '\x10',
  'J',
  'Z',
  '\a',
  'u',
  '1',
  '6',
  ')',
  '',
  '\x1F',
  '',
  '?',
  '',
  '\x8F',
  '',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  '',
  '',
  '',
  '\x0F',
  '\b',
  'e',
  '\x02',
  's',
  '',
  '',
  '',
  '',
  '',
  '=',
  '`',
  ')',
  '',
  '9',
  'u',
  '\\',
  '~',
  ' ',
  '\x81',
  '\x0E',
  '',
  'I',
  '\x1E',
  '',
  '',
  '',
  '\x19',
  '',
  '',
  '\x17',
  ';',
  '@',
  '',
  '\xFF',
  '_',
  '',
  '',
  '\x16',
  'y',
  '',
  'b',
  '2',
  '',
  '',
  '8',
  'S',
  '',
  '',
  '',
  '',
  'B',
  '',
  '',
  '',
  ':',
  '',
  '\a',
  '',
  '',
  'N',
  '',
  '\x13',
  '',
  'D',
  '',
  '',
  'c',
  '[',
  '',
  '3',
  '',
  '#',
  'J',
  '',
  '',
  'i',
  '',
  'd',
  '+',
  '',
  '',
  '',
  'j',
  '',
  '\t',
  '.',
  '',
  '',
  '\x1A',
  '\x7F',
  '\'',
  '',
  '<',
  '',
  '',
  '',
  '',
  'w',
  '=',
  '',
  '',
  '\x8F',
  '^',
  'K',
  '',
  '\x0F',
  '\x02',
  '',
  'C',
  '',
  'E',
  '',
  ']',
  '?',
  '\0',
  'l',
  '\x11',
  '\x1F',
  'P',
  '\x9D',
  'F',
  '',
  'M',
  '\x15',
  'o',
  'H',
  '1',
  '',
  '',
  's',
  '\x10',
  '',
  'f',
  '',
  '',
  'x',
  '',
  'v',
  '',
  '\x01',
  '',
  'U',
  '{',
  '',
  '\n',
  '\"',
  '',
  'V',
  '',
  '\x12',
  '*',
  'm',
  '',
  'h',
  '',
  '',
  '',
  '',
  '',
  '}',
  '!',
  '|',
  '',
  '',
  'q',
  '\x06',
  '',
  'O',
  'n',
  '',
  '',
  '',
  '',
  '\x04',
  '',
  '',
  ',',
  '',
  '\x8D',
  '\x1C',
  '-',
  't',
  '7',
  '',
  '',
  '',
  'R',
  '&',
  '',
  '',
  'T',
  '',
  '\x1D',
  '%',
  '',
  'z',
  '',
  '',
  '>',
  'A',
  '',
  '',
  '',
  '',
  'X',
  'W',
  '(',
  '',
  '',
  'Q',
  '',
  '',
  '\v',
  '',
  'L',
  '',
  '\x1B',
  '\x05',
  '\x18',
  '',
  'G',
  '',
  'r',
  '',
  '',
  'Z',
  '',
  '5',
  '',
  '\b',
  '',
  'g',
  'Y',
  'k',
  '',
  '0',
  '',
  '6',
  '\x14',
  'p',
  '`',
  '',
  '',
  'e',
  '$',
  '',
  '',
  '',
  '',
  '\r',
  '',
  '',
  '4',
  '',
  'a',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x03',
  '',
  '',
  '/',
  '\f',
  '\x90',
  '',
  '\x06',
  ')',
  '',
  '_',
  '',
  '<',
  '',
  '',
  'V',
  '',
  '',
  '`',
  'F',
  'd',
  '',
  '',
  '',
  '\x8F',
  '\x18',
  '',
  '',
  '',
  '',
  '',
  'j',
  'r',
  '',
  'D',
  '',
  'E',
  '',
  'I',
  '',
  '$',
  '\x9D',
  '',
  '',
  '\x12',
  'C',
  'T',
  '\x15',
  'f',
  '',
  '\v',
  '',
  '',
  '',
  '\x17',
  '#',
  'q',
  ',',
  '',
  '',
  '',
  '\f',
  '7',
  '',
  '',
  '+',
  'c',
  '2',
  '',
  '',
  'n',
  '',
  '/',
  '',
  'Q',
  '',
  '\x1A',
  '\x1F',
  'G',
  ';',
  '',
  '\x10',
  '',
  '&',
  '',
  '',
  'z',
  'o',
  '\x7F',
  'O',
  '',
  '',
  '\xFF',
  '{',
  '',
  'J',
  'A',
  ':',
  '9',
  '?',
  '\x1E',
  'u',
  '',
  '',
  '',
  'a',
  '',
  '',
  '=',
  '\x1D',
  '',
  '\x01',
  '',
  '|',
  '',
  '',
  '',
  '\'',
  '',
  '',
  '',
  'x',
  '',
  '',
  'm',
  't',
  '',
  '',
  '',
  'w',
  '',
  '',
  ' ',
  '',
  '^',
  '',
  '*',
  '',
  '\x81',
  '>',
  'h',
  '',
  'H',
  'P',
  '',
  '',
  '}',
  '',
  '',
  '',
  'y',
  '',
  '',
  '6',
  '\a',
  '\b',
  '',
  '',
  'U',
  '',
  '\x13',
  '\n',
  '',
  '',
  'Z',
  '\x02',
  '',
  ']',
  'R',
  '\x19',
  'X',
  'g',
  '',
  '',
  '\\',
  '\"',
  's',
  '\x05',
  '',
  '\x11',
  '',
  '\x03',
  '',
  '',
  '',
  '',
  '.',
  '',
  '',
  '',
  '\x16',
  'K',
  '',
  'b',
  '\x14',
  '',
  '',
  'e',
  'N',
  '',
  '%',
  '',
  '',
  '\x8D',
  '\t',
  '5',
  '\x04',
  '',
  '',
  '(',
  '',
  'l',
  '',
  '\r',
  'i',
  '@',
  '',
  'M',
  '!',
  '',
  '0',
  'p',
  'L',
  '',
  '',
  '',
  '',
  '',
  'B',
  'Y',
  '',
  '',
  '\x1B',
  '1',
  '',
  'k',
  '\x90',
  '',
  '-',
  '',
  '',
  'v',
  '',
  '~',
  '3',
  '8',
  '4',
  '\x0E',
  '',
  '',
  'W',
  '\x1C',
  '\0',
  '',
  '',
  '',
  '',
  '',
  '[',
  '',
  'S',
  '\x0F',
  '*',
  '',
  'b',
  '4',
  '\x7F',
  'Y',
  '\v',
  '1',
  'n',
  '',
  '',
  '8',
  '',
  'w',
  '',
  '',
  '',
  '',
  '',
  '',
  'H',
  '',
  '',
  '',
  '',
  '\x1B',
  '\f',
  'g',
  '\x17',
  '',
  '7',
  ',',
  '',
  '\x8D',
  '',
  '',
  'y',
  '',
  '',
  'M',
  '',
  '',
  '',
  '',
  '[',
  'F',
  'B',
  'I',
  '\x15',
  '\"',
  'U',
  '',
  '',
  '',
  '',
  'A',
  '=',
  '\x06',
  '\x04',
  '',
  'e',
  'J',
  'd',
  '',
  '<',
  '',
  '\n',
  '%',
  'Z',
  '!',
  '',
  'r',
  '9',
  '',
  '',
  '',
  'j',
  '',
  '',
  '\'',
  '',
  '',
  't',
  '',
  '3',
  '',
  '',
  '',
  '',
  '-',
  'p',
  '(',
  '\x16',
  '',
  '',
  '',
  '',
  '\x9D',
  '\x1F',
  'v',
  '',
  '\x1D',
  '{',
  '',
  '',
  '\x81',
  '#',
  '',
  '|',
  ' ',
  ']',
  '',
  '',
  '',
  'R',
  '\x05',
  ':',
  '',
  '\x01',
  '\x8F',
  '\x03',
  '',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  '.',
  '',
  '',
  '',
  '',
  '\x10',
  'V',
  'k',
  '',
  '',
  '',
  'z',
  '',
  'f',
  'a',
  'q',
  '\x11',
  '',
  '\x14',
  'L',
  '\x19',
  '',
  '',
  's',
  '',
  '\x1A',
  '',
  'u',
  '',
  'D',
  '^',
  'G',
  '/',
  '',
  'h',
  'C',
  'N',
  '',
  'S',
  '_',
  '\a',
  '',
  '',
  '',
  'T',
  'x',
  '',
  '\t',
  '',
  '',
  '~',
  '',
  'E',
  '5',
  'i',
  '0',
  '',
  '6',
  '\x0E',
  ';',
  '',
  '',
  '',
  '\x13',
  '@',
  '',
  '',
  '',
  '>',
  '\r',
  '\x0F',
  'm',
  '',
  '\x02',
  '',
  '',
  'W',
  '',
  '\x90',
  '`',
  '\xFF',
  'O',
  'Q',
  'l',
  '',
  '',
  '',
  '',
  'c',
  '',
  '',
  'X',
  '',
  '+',
  '',
  '',
  '',
  '\x12',
  '',
  '2',
  '',
  '',
  '',
  '$',
  '',
  '\x1E',
  '?',
  '',
  '',
  '',
  '',
  'K',
  '\x1C',
  '',
  '',
  ')',
  '',
  'P',
  'o',
  '',
  '&',
  '',
  '\b',
  '\\',
  '}',
  '',
  '\0',
  '',
  '',
  '',
  'I',
  '',
  '\n',
  '',
  'T',
  '\x0E',
  '',
  '',
  '\r',
  '{',
  '%',
  '',
  '',
  '',
  'E',
  '*',
  '',
  '',
  '',
  '',
  'o',
  's',
  '\x9D',
  '',
  '#',
  '',
  '~',
  '',
  'f',
  '',
  '',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '',
  ';',
  'r',
  'C',
  '',
  '',
  '',
  '',
  'V',
  '',
  '',
  '',
  'M',
  '',
  'Q',
  '',
  'c',
  '',
  'F',
  '',
  'S',
  '\xFF',
  '\x14',
  't',
  '@',
  '&',
  'O',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  '',
  '\f',
  '',
  'a',
  '',
  '',
  '\x18',
  '',
  '',
  'k',
  '',
  '=',
  '',
  '',
  '\x7F',
  '\x06',
  '\t',
  '',
  'u',
  '',
  'j',
  '0',
  '\x04',
  '\x1E',
  'R',
  '_',
  '',
  ',',
  '\x0F',
  '',
  '\x11',
  '',
  '',
  'b',
  '',
  '',
  '2',
  '\x19',
  '',
  '\x05',
  'y',
  ')',
  'z',
  '',
  '',
  '>',
  '\x1F',
  '[',
  'N',
  '<',
  'U',
  '',
  'e',
  '',
  '',
  '',
  '\x16',
  '\x02',
  '\x12',
  '',
  '.',
  '',
  'm',
  '',
  '',
  '',
  '',
  '\x90',
  '\b',
  '',
  '',
  'l',
  '',
  '',
  'Z',
  '/',
  'q',
  '',
  '?',
  '+',
  '',
  '',
  '3',
  '4',
  '',
  'h',
  '',
  '',
  '',
  '',
  ':',
  '',
  '',
  '\'',
  '',
  '\x03',
  '\x1A',
  '',
  '\x15',
  '',
  '\x17',
  '',
  '7',
  '',
  '',
  'L',
  '\x1B',
  '',
  'n',
  '9',
  'p',
  '8',
  '',
  '\"',
  'B',
  '',
  '',
  '',
  '\x1D',
  ' ',
  '\a',
  'K',
  '',
  '',
  '',
  'i',
  '',
  '\0',
  '\x8F',
  '',
  '\x01',
  '',
  '|',
  '',
  '',
  '',
  '',
  '',
  'x',
  '',
  '',
  '',
  'g',
  '',
  ']',
  '',
  '',
  'v',
  '\v',
  '^',
  'd',
  '!',
  '$',
  'w',
  '',
  '`',
  '5',
  '',
  '',
  'D',
  '',
  '}',
  'H',
  '',
  'Y',
  '',
  '\x13',
  '',
  '(',
  '1',
  'J',
  'P',
  '\x81',
  '6',
  'W',
  '',
  'A',
  '',
  '\x10',
  'G',
  '',
  '\x8D',
  'X',
  '-',
  '\x8D',
  '\x0E',
  '',
  '>',
  '\r',
  '',
  '\x16',
  'P',
  '\x06',
  '&',
  '',
  '',
  'B',
  '%',
  '4',
  '',
  '\x1F',
  '_',
  '8',
  '',
  '\x1D',
  'h',
  '\xFF',
  '',
  '',
  '.',
  'j',
  '',
  '\x1B',
  'b',
  '',
  '',
  '',
  '\x9D',
  '6',
  '',
  'y',
  ']',
  '',
  'q',
  'i',
  '',
  '9',
  'J',
  '',
  '\x03',
  '',
  '\b',
  'L',
  '\t',
  '',
  '',
  '\f',
  '\x17',
  '\x13',
  'V',
  'G',
  '',
  '\x18',
  '',
  '\a',
  '',
  '',
  '/',
  '\x0F',
  '',
  '',
  '',
  '5',
  'f',
  '',
  'N',
  'l',
  '',
  'S',
  '',
  '',
  '',
  '\x1A',
  '',
  '+',
  'K',
  '',
  '',
  '',
  '',
  '',
  'x',
  'Z',
  '',
  '',
  '\x1C',
  '\x19',
  ':',
  '',
  '',
  '',
  '',
  '\'',
  'E',
  '',
  '',
  '',
  '\x81',
  '',
  '\x7F',
  '\v',
  'u',
  '',
  '',
  '<',
  '\x90',
  '\x10',
  'n',
  'T',
  'H',
  '',
  '*',
  '~',
  '',
  '',
  '',
  'C',
  'z',
  '3',
  '',
  'a',
  '',
  '',
  ',',
  '',
  ';',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x05',
  '\x04',
  'w',
  'W',
  '',
  'r',
  ')',
  'd',
  'M',
  '=',
  '',
  's',
  'o',
  '(',
  '',
  'v',
  '',
  '',
  '',
  '\x15',
  'O',
  '\0',
  'R',
  '',
  '',
  'A',
  '',
  '2',
  '',
  '',
  '\x11',
  'e',
  '',
  '\x8F',
  '1',
  'k',
  '@',
  '7',
  '',
  '\x01',
  'Q',
  '',
  '`',
  '\x02',
  '',
  'U',
  '',
  '{',
  'X',
  'p',
  'c',
  ' ',
  '}',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '$',
  '0',
  '',
  '',
  '',
  'g',
  '\x14',
  '',
  '',
  'D',
  '\n',
  '',
  '',
  '',
  'Y',
  't',
  '\x1E',
  '',
  '^',
  '',
  '\"',
  '',
  '',
  '',
  '-',
  '',
  '#',
  '\\',
  'm',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '[',
  '',
  'I',
  '?',
  '!',
  '',
  '',
  '',
  '',
  '',
  'F',
  '|',
  '',
  '\x12',
  '',
  '9',
  '%',
  '',
  '6',
  '',
  '',
  '',
  '',
  '',
  '\x81',
  '',
  'k',
  '5',
  '',
  'm',
  '',
  '(',
  '',
  '{',
  '/',
  '',
  '.',
  'E',
  '\x0F',
  '\x19',
  '',
  '\\',
  '\x17',
  '\v',
  '\x9D',
  '!',
  '&',
  'V',
  '',
  '',
  '\x10',
  'Z',
  '',
  ';',
  'b',
  '',
  '$',
  '0',
  '',
  'G',
  '',
  'I',
  '\x1C',
  '\x18',
  '',
  'X',
  '',
  '',
  'p',
  '|',
  '\n',
  'h',
  ']',
  '',
  '',
  'O',
  '',
  '',
  '\f',
  'g',
  '\x8D',
  '[',
  '2',
  '\x05',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '\r',
  'f',
  'J',
  '',
  ' ',
  '',
  '\x16',
  '',
  'u',
  '',
  '',
  'i',
  '\x1E',
  'y',
  'e',
  '\x14',
  '8',
  '\x03',
  'z',
  '',
  '*',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  'Y',
  '?',
  '\x1B',
  '',
  'R',
  '',
  '',
  '',
  '',
  '',
  '\x04',
  '',
  '_',
  '',
  '',
  'W',
  '',
  '~',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '\x12',
  '',
  'x',
  '',
  '',
  '#',
  '',
  '',
  't',
  '',
  'j',
  '',
  '',
  '\x8F',
  '7',
  '\x1A',
  ',',
  '',
  'B',
  'o',
  '',
  'U',
  'P',
  '>',
  '\0',
  '1',
  '',
  '\x02',
  '',
  'N',
  '',
  '',
  '',
  '',
  '\xFF',
  ')',
  '',
  '',
  '',
  '<',
  '`',
  'D',
  'F',
  'l',
  '',
  '',
  '3',
  'w',
  '',
  '',
  'T',
  '',
  '',
  '+',
  '',
  '',
  '',
  '\t',
  '',
  'H',
  '\'',
  '',
  '',
  'L',
  '\b',
  '\"',
  '\x06',
  '\a',
  'v',
  '\x13',
  'S',
  'c',
  'r',
  '@',
  ':',
  'K',
  '',
  '',
  'n',
  '\x7F',
  '',
  '',
  '',
  '',
  'Q',
  '',
  '',
  '',
  '',
  '}',
  'd',
  '',
  'M',
  '',
  '',
  '',
  '^',
  '',
  '',
  '',
  '',
  '',
  '=',
  'A',
  '-',
  '\x0E',
  '',
  '\x90',
  '',
  'C',
  's',
  'a',
  '',
  '',
  '4',
  '',
  '',
  'q',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '',
  'G',
  'l',
  '',
  'Z',
  'F',
  '',
  '',
  'S',
  '',
  '',
  '\x11',
  '{',
  '',
  '\x0F',
  '',
  '',
  '',
  'y',
  '',
  'i',
  '',
  '',
  '',
  '7',
  '',
  '<',
  '\x13',
  '',
  '',
  '\x03',
  '%',
  '?',
  '',
  '\\',
  'N',
  '',
  '',
  'j',
  '',
  '\a',
  '',
  'X',
  'C',
  'A',
  '',
  'o',
  '',
  '',
  '',
  '',
  '\x7F',
  's',
  '\x01',
  ':',
  '.',
  '',
  '',
  '',
  '',
  ']',
  'x',
  '',
  'b',
  '$',
  '',
  'c',
  '',
  '',
  'I',
  '',
  '',
  '9',
  '',
  ')',
  '',
  'r',
  'u',
  '8',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'R',
  '5',
  'n',
  '',
  '~',
  '',
  '',
  '\v',
  '\x06',
  '_',
  '',
  '\x17',
  '',
  '',
  '',
  '>',
  'K',
  't',
  '',
  'w',
  'Y',
  'U',
  '=',
  '\x81',
  '\0',
  '',
  '',
  '}',
  '\x8D',
  'g',
  '\x16',
  'z',
  '[',
  '',
  '#',
  'H',
  '',
  '',
  '',
  '',
  '\x05',
  'v',
  '',
  '\x0E',
  '\b',
  'Q',
  '',
  '\t',
  '\x10',
  '',
  'V',
  '!',
  '\x12',
  '',
  '\x1C',
  '',
  '-',
  '\"',
  '\x1B',
  '',
  '',
  '',
  'W',
  '',
  '',
  ',',
  '^',
  '',
  '',
  'O',
  '',
  '\xFF',
  '',
  '|',
  '\'',
  '\x1A',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '\x90',
  'J',
  '\n',
  '',
  '\x14',
  '',
  '',
  '',
  '(',
  '0',
  '`',
  '',
  '+',
  '',
  '\x1E',
  '',
  '',
  '',
  '\x8F',
  '3',
  '',
  '',
  'k',
  'h',
  '',
  'B',
  '\x19',
  '\x1F',
  '',
  'T',
  '\x02',
  '',
  'q',
  'a',
  ';',
  '',
  '',
  'E',
  '@',
  '',
  '',
  '',
  '1',
  '\f',
  '',
  '',
  'P',
  'D',
  'e',
  'f',
  '',
  ' ',
  'M',
  '\x04',
  '\x15',
  '4',
  'L',
  '&',
  '',
  '',
  '',
  'p',
  '',
  '/',
  '2',
  'd',
  '',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '\r',
  'm',
  '6',
  '',
  '*',
  'E',
  'x',
  '!',
  'C',
  '\x10',
  '\x04',
  '',
  '',
  '',
  'h',
  '<',
  '$',
  'g',
  '=',
  '',
  '',
  '',
  'd',
  '',
  '?',
  '\f',
  '0',
  'v',
  '\x15',
  '',
  '*',
  '',
  '',
  'c',
  '',
  'R',
  '',
  '',
  '',
  '\x9D',
  'L',
  '',
  '>',
  '',
  '',
  '\x7F',
  '\x18',
  'p',
  '',
  '',
  '',
  'w',
  '',
  ',',
  ':',
  'J',
  '',
  ']',
  'z',
  ')',
  '',
  'n',
  '',
  '@',
  '\x17',
  '.',
  '',
  'r',
  '',
  '',
  '\xFF',
  '',
  '',
  '',
  'P',
  'Q',
  'm',
  '',
  '',
  '',
  '',
  '',
  '\x14',
  '8',
  '',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '{',
  '',
  '',
  'q',
  '',
  '',
  '',
  'S',
  '(',
  'D',
  '3',
  'H',
  '',
  '',
  '\t',
  '\x1F',
  '',
  '\x12',
  's',
  '7',
  '',
  '\x81',
  '9',
  '',
  '\x8D',
  '}',
  '\b',
  'O',
  '',
  '',
  'y',
  '\v',
  '',
  '#',
  '|',
  'K',
  '',
  '\x06',
  'Z',
  '',
  'b',
  '-',
  'T',
  '',
  '',
  '',
  '',
  '',
  'a',
  '\x11',
  '',
  '',
  '',
  '',
  '%',
  '\x05',
  '',
  '\a',
  '',
  '',
  '',
  '',
  'B',
  '',
  'M',
  '',
  '',
  '',
  '',
  '\x1E',
  '',
  'N',
  '\x1D',
  '',
  '',
  '',
  '',
  '~',
  '',
  '\'',
  '_',
  'I',
  '',
  '\x8F',
  '\x0E',
  'e',
  'X',
  '',
  '',
  '\r',
  '',
  ' ',
  '',
  '',
  '',
  '5',
  '\x02',
  '',
  '/',
  '',
  '\x16',
  '\x1B',
  '',
  '1',
  '',
  '',
  '',
  '&',
  '',
  '',
  '\x0F',
  '',
  '',
  'f',
  '\0',
  '',
  '',
  't',
  '',
  '`',
  '',
  '[',
  '',
  '4',
  '6',
  '\x90',
  '',
  '\x1A',
  'o',
  'k',
  '',
  '',
  'G',
  'l',
  'A',
  '',
  '',
  '+',
  '',
  '',
  '\"',
  '',
  '^',
  'U',
  '',
  '\x03',
  'i',
  '',
  '',
  '',
  '',
  'Y',
  '',
  'F',
  'W',
  '',
  '\n',
  '',
  '\x1C',
  'u',
  'j',
  'V',
  '2',
  ';',
  '',
  '',
  '',
  '\x13',
  '\x19',
  '\x01',
  'L',
  '',
  '\x90',
  '2',
  '',
  't',
  '\x10',
  '',
  '',
  'n',
  '\x1D',
  '',
  ']',
  '\x0F',
  '%',
  'l',
  '',
  '',
  'j',
  '',
  '',
  ':',
  '',
  '',
  'A',
  '1',
  '}',
  '',
  'b',
  '',
  '\f',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  'g',
  '',
  'E',
  '\x17',
  '',
  '^',
  '',
  '',
  '\0',
  '',
  '',
  '',
  '',
  '',
  '\"',
  '',
  '3',
  '8',
  '\x9D',
  ')',
  '',
  'f',
  '',
  '/',
  '',
  'h',
  'P',
  'd',
  '',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  'k',
  'm',
  '(',
  '*',
  '',
  'S',
  '',
  '\x19',
  '?',
  '4',
  '\x1E',
  '',
  '',
  '',
  '',
  '',
  '',
  'B',
  'c',
  '\x14',
  '6',
  '',
  '',
  '\x1F',
  'q',
  '|',
  '',
  'D',
  '',
  '9',
  'z',
  '',
  '',
  '',
  'X',
  '!',
  '\x18',
  '',
  '0',
  '\x8F',
  '',
  '',
  'p',
  'v',
  'V',
  '7',
  '',
  '\x1B',
  'U',
  '',
  '',
  '\x04',
  'e',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  'w',
  '',
  '',
  '',
  '',
  '',
  'R',
  '',
  '+',
  '\x1C',
  'N',
  '\x03',
  'C',
  '',
  '-',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '<',
  'G',
  'o',
  '',
  '\b',
  '',
  '\x06',
  '\'',
  '\x1A',
  '\r',
  '\x11',
  'O',
  'Y',
  '\v',
  '>',
  '',
  '\x16',
  ';',
  '',
  '',
  'F',
  '',
  'K',
  '',
  ' ',
  '5',
  '',
  '',
  '\x13',
  'H',
  '',
  'u',
  '\\',
  '`',
  '',
  'y',
  'J',
  '',
  '',
  '',
  ',',
  '\a',
  '#',
  '',
  '',
  '',
  '',
  '',
  '$',
  '',
  '',
  '\x0E',
  'r',
  '',
  's',
  '@',
  '',
  '',
  '{',
  'W',
  '',
  '',
  'x',
  '_',
  'T',
  '',
  '',
  '',
  '',
  'I',
  '',
  '\x01',
  '\x12',
  '[',
  '',
  'Z',
  '',
  '',
  '',
  '',
  '.',
  '',
  '\x7F',
  '\t',
  '&',
  '=',
  '',
  '',
  'Q',
  'i',
  '',
  '',
  '',
  '~',
  '\x8D',
  '',
  '',
  'a',
  '',
  '\x81',
  '',
  '\x05',
  '',
  'M',
  '',
  '\t',
  '',
  '(',
  '',
  'G',
  '',
  '\x1C',
  '$',
  'z',
  ')',
  '',
  '!',
  '',
  'B',
  '',
  '',
  '',
  'M',
  '',
  'Q',
  '>',
  ' ',
  '',
  '',
  '\x0F',
  '_',
  'f',
  '',
  '',
  '',
  '',
  '\x10',
  '',
  '',
  '',
  '',
  'x',
  '',
  '',
  '',
  'W',
  '',
  '',
  '',
  'X',
  'C',
  '\x17',
  '\x8D',
  '',
  '-',
  '\x03',
  '',
  'j',
  '\x1D',
  't',
  ',',
  '',
  '.',
  '2',
  '',
  '',
  '',
  '\x01',
  '|',
  '',
  '\x1E',
  'K',
  '',
  '\x11',
  'r',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '\x06',
  '',
  'S',
  '',
  '',
  '',
  'D',
  '',
  '?',
  '',
  '',
  '<',
  '',
  'q',
  '[',
  '',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  'k',
  'O',
  '1',
  'a',
  '',
  '',
  '',
  '0',
  '\x16',
  '`',
  '/',
  '',
  'V',
  '\0',
  '\\',
  '+',
  '@',
  'E',
  '',
  '',
  '',
  ';',
  '',
  'Y',
  '',
  '',
  '',
  '',
  '9',
  ':',
  '',
  'g',
  'p',
  '~',
  'F',
  '\x1B',
  '',
  '',
  '',
  'H',
  '',
  '',
  '',
  '',
  '^',
  'h',
  '',
  'e',
  '',
  '8',
  '',
  '\x12',
  '',
  '',
  'i',
  '\a',
  'n',
  '\x1F',
  '',
  '',
  '\x02',
  'l',
  '\x15',
  '',
  '',
  'u',
  '\n',
  '',
  'm',
  'c',
  'o',
  '',
  '',
  '',
  '',
  'b',
  '',
  '',
  '',
  '\x90',
  '',
  '5',
  'T',
  '%',
  '7',
  '',
  '\x8F',
  '\x04',
  '',
  'J',
  'L',
  '',
  '3',
  '',
  '',
  '\x9D',
  '',
  'w',
  '',
  '',
  '',
  '6',
  '',
  '',
  '\x1A',
  '',
  '4',
  '=',
  'R',
  'v',
  '&',
  '\r',
  '\v',
  'I',
  '',
  '\x7F',
  '\x18',
  '#',
  '',
  ']',
  'P',
  '\'',
  '\x14',
  '',
  '{',
  '',
  '',
  '',
  '',
  'y',
  'U',
  'A',
  '\x19',
  '*',
  '',
  's',
  '',
  '',
  '\x13',
  '}',
  '\x05',
  '',
  '',
  'd',
  '',
  '',
  '\x81',
  'N',
  '',
  '\f',
  '',
  '',
  'Z',
  '\x0E',
  '\"',
  '',
  '',
  '>',
  '',
  '',
  '',
  '',
  '\x1A',
  '/',
  '',
  '\t',
  '',
  '',
  '$',
  ';',
  ',',
  '',
  '',
  '',
  '',
  '',
  'F',
  '\r',
  '+',
  '',
  'x',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '',
  '\f',
  'C',
  '',
  '',
  'H',
  '',
  '',
  '}',
  '',
  'W',
  '',
  '\x13',
  '',
  '',
  '4',
  'm',
  '\x0F',
  '(',
  '',
  '',
  '|',
  '\x1C',
  '\v',
  's',
  '',
  '\0',
  '',
  '',
  '',
  '\x04',
  '',
  '',
  '~',
  '\x90',
  '',
  'B',
  '@',
  '.',
  '',
  '\x17',
  '',
  '',
  '',
  '\b',
  'v',
  '5',
  ']',
  '',
  '',
  '',
  '',
  'z',
  'l',
  '',
  '\x0E',
  'V',
  '\x8F',
  '',
  '\\',
  '=',
  '',
  '',
  '',
  '',
  '',
  '?',
  '',
  '',
  'j',
  '',
  'S',
  'a',
  'J',
  '',
  '7',
  '\x7F',
  '',
  'g',
  '',
  '\x9D',
  '',
  '',
  ':',
  '',
  '',
  'y',
  '',
  '',
  'Q',
  '-',
  'L',
  '\x14',
  '\x18',
  'M',
  'f',
  '3',
  '',
  'X',
  '',
  '',
  '',
  '',
  '',
  '\x03',
  '\x06',
  '\n',
  '\x11',
  '',
  '',
  'P',
  '^',
  ')',
  '\x1D',
  'b',
  'E',
  '',
  'G',
  '',
  '\x81',
  '',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '1',
  '',
  '\x1F',
  'U',
  '\x19',
  'r',
  '',
  '\x8D',
  '0',
  '{',
  'K',
  '!',
  '',
  '',
  '\x05',
  'O',
  'R',
  '',
  '',
  '',
  '',
  '',
  'Z',
  '',
  '\x16',
  '',
  '',
  '%',
  '',
  '',
  '',
  '[',
  '',
  '',
  '',
  'n',
  'A',
  '\x02',
  'h',
  '',
  '',
  '\x10',
  '',
  '',
  't',
  '\'',
  'w',
  '',
  '\xFF',
  '9',
  '6',
  '<',
  '8',
  'k',
  '',
  '',
  ' ',
  'i',
  '',
  '',
  '',
  '',
  '\a',
  '',
  'N',
  'I',
  'D',
  '',
  '',
  '',
  '#',
  '',
  '2',
  '_',
  '*',
  'q',
  'p',
  '\x01',
  '',
  'd',
  '',
  'T',
  'e',
  '\x1B',
  '\x12',
  '',
  '',
  '',
  'u',
  'o',
  '\"',
  '`',
  '',
  'Y',
  '',
  'c',
  '&',
  'k',
  '\\',
  '',
  '\n',
  'x',
  '',
  'm',
  '',
  '',
  '\x13',
  ')',
  '',
  '\x04',
  '\x03',
  '=',
  '$',
  '',
  '',
  '#',
  '',
  '\xFF',
  '\x16',
  '',
  'H',
  '/',
  'Y',
  '',
  '',
  '',
  '',
  '',
  '>',
  'b',
  '`',
  'L',
  '',
  '',
  'I',
  'X',
  '',
  '',
  '',
  '',
  '7',
  ' ',
  'N',
  '',
  '{',
  '\t',
  '2',
  '\f',
  '',
  '',
  'z',
  '',
  '\x8D',
  '\b',
  '<',
  '',
  'A',
  '\x06',
  '\x1F',
  '.',
  'o',
  '8',
  '',
  '',
  '\0',
  '',
  '\x17',
  '',
  '',
  '',
  '',
  '~',
  '\r',
  '',
  '&',
  '',
  ']',
  'W',
  '',
  '\x18',
  '',
  '*',
  'D',
  '\x7F',
  '\x10',
  '',
  'p',
  '',
  '5',
  '3',
  '',
  '\x12',
  '',
  '',
  '_',
  '',
  '',
  '',
  'E',
  'c',
  '',
  '',
  '%',
  '\x8F',
  '6',
  'Z',
  '',
  '',
  '',
  '',
  'S',
  '',
  '\x90',
  'O',
  '\x19',
  'j',
  'f',
  '',
  'v',
  '',
  '\x1A',
  '',
  '',
  ',',
  '',
  '',
  '\x81',
  '-',
  '',
  'R',
  '',
  '0',
  'T',
  '',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '',
  'V',
  'y',
  '',
  '',
  '|',
  '\x15',
  '',
  '',
  '\x02',
  '',
  '',
  '1',
  'K',
  'r',
  '',
  '\x0E',
  '',
  '',
  '\x1B',
  '',
  'i',
  '',
  '',
  '',
  '',
  '\v',
  '\x05',
  '',
  '(',
  '',
  't',
  'q',
  '',
  '',
  'J',
  '\'',
  'G',
  '',
  'F',
  '',
  '',
  '\x14',
  '',
  '\"',
  '',
  '\x01',
  'B',
  '\x11',
  'U',
  '',
  '',
  ':',
  'l',
  '',
  'g',
  '',
  '!',
  '',
  'n',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '',
  'e',
  '',
  '4',
  'M',
  '',
  '',
  '+',
  ';',
  '}',
  'a',
  '',
  '',
  '',
  '9',
  '',
  '@',
  '',
  '',
  'h',
  'P',
  '',
  '',
  '[',
  '',
  '',
  '',
  'Q',
  '\x1D',
  '',
  'w',
  's',
  '',
  '\x0F',
  'u',
  'd',
  'C',
  '?',
  '\a',
  '^',
  '',
  '',
  '\x15',
  'v',
  'e',
  '',
  '',
  'H',
  '',
  'Q',
  '^',
  '',
  '',
  '',
  '\r',
  '',
  'i',
  '',
  '\v',
  '',
  '\x01',
  '$',
  'X',
  '',
  '',
  '=',
  '\x9D',
  'w',
  '\x05',
  '\x16',
  '<',
  's',
  '',
  '',
  'V',
  '',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  'r',
  '',
  '',
  '',
  '\x06',
  '',
  'N',
  'z',
  'a',
  'n',
  '[',
  '%',
  '',
  '2',
  'j',
  '~',
  '\x0F',
  '',
  ')',
  '',
  '\x17',
  '',
  '\x14',
  '@',
  '\t',
  '',
  '',
  '',
  '',
  '',
  '6',
  '',
  'B',
  'q',
  '',
  'T',
  '\x81',
  '\0',
  '',
  '',
  'f',
  '',
  '',
  '',
  '\x7F',
  '',
  '8',
  '',
  '',
  '\x18',
  '(',
  '',
  '',
  '',
  'C',
  '',
  '',
  '',
  '\\',
  'c',
  '',
  '',
  'o',
  '',
  '\x12',
  '\xFF',
  '',
  '',
  '',
  ' ',
  '4',
  '',
  '',
  'S',
  '',
  'L',
  '*',
  '',
  '\x13',
  '',
  '',
  '\x1A',
  '_',
  'P',
  '',
  '',
  '\f',
  '',
  ':',
  '-',
  'y',
  '',
  'Y',
  'x',
  'm',
  '',
  '',
  '',
  '',
  '',
  'W',
  '\x1D',
  'G',
  'u',
  '',
  ';',
  'U',
  '',
  '\x11',
  '\x02',
  '!',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  'K',
  'E',
  '',
  '\a',
  ']',
  '',
  '\x1E',
  'k',
  '',
  'd',
  '\x19',
  '',
  '',
  '>',
  '',
  '',
  '',
  '#',
  '',
  '',
  'F',
  'O',
  '',
  'Z',
  '',
  'I',
  '&',
  '',
  '',
  '|',
  '{',
  '\x10',
  '\x1B',
  '9',
  'g',
  '',
  '',
  '',
  '\x8F',
  '',
  '',
  '',
  '',
  '3',
  '/',
  '\"',
  '\'',
  '',
  '7',
  'R',
  '',
  't',
  '',
  '\x03',
  'p',
  '',
  '',
  '5',
  'b',
  '',
  '',
  '\b',
  '\x90',
  '',
  '`',
  ',',
  '0',
  '?',
  '',
  '',
  'l',
  'J',
  '',
  '',
  '',
  '',
  '\x8D',
  'D',
  '\n',
  '',
  '1',
  '',
  '',
  '.',
  '',
  '\x1F',
  '',
  '',
  '\x04',
  '',
  '}',
  '+',
  '',
  'M',
  'A',
  'h',
  '\x17',
  '',
  '',
  'F',
  '\x14',
  '',
  'o',
  '',
  '',
  '',
  '',
  '',
  '',
  '@',
  '',
  '\x13',
  '\x18',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  'n',
  '',
  '',
  '',
  '',
  'I',
  '\xFF',
  '',
  '\a',
  '\x90',
  '[',
  ' ',
  '-',
  '',
  'q',
  '\\',
  '\x7F',
  '',
  'J',
  '',
  '%',
  'i',
  '0',
  '',
  '',
  'y',
  '',
  '',
  '',
  '|',
  'u',
  '6',
  '\x15',
  '\x0E',
  '',
  '',
  'B',
  'K',
  '\b',
  'l',
  '',
  '',
  '',
  '',
  ':',
  '$',
  '&',
  '',
  '!',
  '/',
  'D',
  '=',
  '(',
  '',
  '+',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  'X',
  '#',
  '',
  '\n',
  'T',
  'S',
  '',
  '',
  '',
  '_',
  'V',
  'H',
  '',
  '~',
  '',
  'm',
  'r',
  '\x04',
  'G',
  '\x05',
  'x',
  'N',
  '',
  '',
  '',
  '',
  '',
  '7',
  '{',
  '',
  '',
  ';',
  '',
  '5',
  '\x1F',
  'w',
  'P',
  '\v',
  '',
  '\x8D',
  '',
  '',
  'U',
  '',
  '',
  '',
  '\'',
  '',
  '',
  '\x1B',
  '',
  'O',
  '',
  'R',
  '',
  '',
  '\x11',
  '',
  '',
  '3',
  '',
  '',
  '',
  'p',
  'a',
  '',
  'f',
  '',
  '8',
  'M',
  '\x19',
  '',
  'A',
  ']',
  '',
  'z',
  '',
  '\x81',
  '',
  '',
  '',
  '',
  '2',
  'g',
  '\x1C',
  '\x03',
  '',
  'E',
  'e',
  'Q',
  '\f',
  '\"',
  '\0',
  'd',
  '',
  '',
  '',
  'Y',
  '',
  ')',
  '',
  '\x06',
  '',
  's',
  't',
  '',
  '\x9D',
  '',
  '',
  '9',
  '}',
  '',
  '\x1A',
  '',
  '',
  '^',
  '',
  '',
  '*',
  '',
  'h',
  '',
  '',
  '',
  '\r',
  '',
  '',
  '',
  '1',
  'Z',
  '\x1D',
  ',',
  '',
  '',
  'k',
  'c',
  '\x16',
  '',
  '4',
  'C',
  '',
  '',
  '',
  '',
  '\x8F',
  '',
  '',
  'v',
  '`',
  '',
  '\x0F',
  '',
  '',
  '',
  '',
  'j',
  '',
  '>',
  'b',
  '',
  'L',
  '?',
  '',
  '.',
  '\x10',
  '<',
  '\t',
  '\x02',
  'W',
  '',
  '',
  '\x1E',
  '',
  '\x9D',
  '\x12',
  '\x7F',
  'G',
  '\t',
  'y',
  '',
  '',
  'w',
  '',
  '',
  '',
  '\x1C',
  'r',
  '',
  '',
  'l',
  '',
  '',
  '',
  '',
  '>',
  '',
  '',
  '',
  'Q',
  '',
  '\x03',
  '8',
  '+',
  '',
  '7',
  '',
  'm',
  '!',
  '9',
  '',
  '',
  'Y',
  '<',
  '',
  'S',
  '',
  '`',
  'W',
  '',
  'T',
  '',
  '',
  '\x0E',
  'Z',
  '',
  'B',
  'R',
  'V',
  '',
  ']',
  'A',
  '\x1F',
  '',
  '',
  'n',
  '',
  ' ',
  '',
  '',
  '{',
  '?',
  '',
  '',
  'f',
  '\"',
  '',
  '',
  '@',
  '',
  '\n',
  '\\',
  '',
  '',
  '5',
  '\x02',
  '',
  '',
  '[',
  'K',
  '',
  '\x90',
  '\f',
  '#',
  '\x0F',
  'z',
  '',
  '',
  '',
  'i',
  '',
  '',
  '',
  'P',
  '',
  '',
  'o',
  'L',
  '',
  '\x81',
  'J',
  'g',
  '0',
  '\'',
  '6',
  'H',
  '3',
  'b',
  '',
  '\x11',
  '\x18',
  'E',
  '\x17',
  '',
  '\x05',
  '',
  '_',
  '\x1B',
  '',
  '',
  '',
  'q',
  '',
  '',
  'v',
  '\x1A',
  '\x16',
  '',
  '',
  '',
  '',
  '',
  '',
  ';',
  '',
  '*',
  'X',
  '',
  '',
  '',
  '',
  '',
  ')',
  '\x8F',
  '',
  'U',
  '',
  '',
  '',
  'k',
  '$',
  '',
  's',
  '',
  '',
  '',
  '4',
  '',
  '\0',
  '}',
  '',
  'a',
  '~',
  '',
  'D',
  '\x1D',
  'I',
  '-',
  '\x15',
  ':',
  '\a',
  '\x13',
  '',
  '',
  '',
  'p',
  '\x8D',
  '',
  '',
  '',
  '',
  '',
  '',
  'e',
  '',
  'j',
  '',
  '',
  'O',
  '\v',
  '(',
  '',
  'u',
  '',
  'h',
  'N',
  '',
  '\x1E',
  '',
  '',
  '',
  '2',
  '',
  '.',
  '\x10',
  '',
  'M',
  '',
  '\b',
  '^',
  '',
  '',
  '',
  '',
  '|',
  '\r',
  '\xFF',
  '\x19',
  '&',
  '',
  '',
  '',
  '',
  't',
  '%',
  '',
  '',
  '',
  '=',
  '',
  'C',
  '\x01',
  '/',
  '',
  '',
  'c',
  '',
  'F',
  '',
  'd',
  'x',
  '',
  '\x04',
  '',
  ',',
  '\x14',
  '1',
  '\x06',
  '',
  '',
  'c',
  '',
  'I',
  '',
  '',
  '',
  '@',
  'B',
  '',
  ']',
  '`',
  '',
  '<',
  '[',
  '',
  '',
  'n',
  '\xFF',
  '',
  'L',
  '',
  '',
  '\t',
  '\r',
  '',
  'b',
  'l',
  'q',
  '',
  'F',
  '(',
  '',
  'R',
  'G',
  '',
  '\x1C',
  '',
  'Z',
  '',
  '',
  '',
  'h',
  '',
  '',
  '\f',
  '\x1E',
  '',
  '',
  '\n',
  'O',
  '',
  'P',
  '',
  '',
  '',
  '1',
  'e',
  '%',
  'W',
  '?',
  '',
  '\x8D',
  'm',
  '',
  '',
  '',
  '',
  '\x10',
  '',
  '',
  '.',
  'y',
  '\0',
  '&',
  '',
  '',
  '*',
  '',
  '\"',
  '',
  '',
  'M',
  '3',
  '',
  '\x14',
  'k',
  '\x1F',
  '',
  '',
  '-',
  '',
  '',
  '\x90',
  '',
  '',
  '',
  '',
  '8',
  '7',
  '',
  's',
  '',
  ':',
  '0',
  'D',
  'g',
  '',
  'H',
  '>',
  '\'',
  'i',
  'w',
  ' ',
  'p',
  '',
  '',
  '\x1D',
  'x',
  '',
  '2',
  '',
  '',
  '\x03',
  '|',
  '',
  '',
  '\x06',
  '~',
  '',
  'K',
  't',
  '6',
  '/',
  '\x13',
  '',
  '',
  '\x01',
  'U',
  '',
  '',
  '\x05',
  '',
  'S',
  '',
  '',
  '\x15',
  'j',
  '',
  '',
  '',
  '$',
  '',
  '',
  '',
  '\x8F',
  '\b',
  'o',
  '\x18',
  'E',
  '\x0E',
  'd',
  '_',
  '\x12',
  '',
  '\x19',
  '',
  '',
  '',
  '\x17',
  '',
  'V',
  '',
  '#',
  ',',
  '',
  '',
  '',
  '\v',
  '',
  '',
  ';',
  '',
  '',
  '',
  '\x02',
  'Q',
  'T',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '}',
  '',
  '',
  '',
  '',
  '',
  '',
  'C',
  'a',
  '\x1B',
  '',
  '',
  'z',
  '',
  '',
  '^',
  '9',
  '',
  'A',
  '\x04',
  '',
  '',
  'f',
  '\x81',
  'v',
  '',
  '',
  '',
  '\x0F',
  '5',
  '\x11',
  '',
  '',
  '!',
  'Y',
  '+',
  '\\',
  '\x16',
  'r',
  '{',
  '',
  '',
  '=',
  '',
  '',
  '\a',
  '',
  '',
  '',
  'N',
  '',
  '',
  '\x7F',
  '',
  ')',
  'J',
  '\x1A',
  '',
  '4',
  'X',
  'u',
  '',
  '',
  '\x19',
  'h',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  'K',
  '\r',
  '',
  'W',
  '',
  'U',
  '',
  '\x0F',
  'C',
  'R',
  '\x10',
  '',
  '',
  '',
  '',
  '\f',
  '',
  '',
  '',
  'J',
  '\x06',
  'v',
  'i',
  'e',
  '',
  '',
  '{',
  '',
  '\x15',
  'f',
  '',
  ')',
  '',
  '\x01',
  'T',
  '',
  '',
  'B',
  '',
  '',
  '\x17',
  'X',
  '',
  '2',
  'j',
  'Y',
  '',
  '+',
  '[',
  '',
  '',
  '',
  '',
  '.',
  'L',
  '\x05',
  'u',
  '',
  ';',
  '\x1A',
  '\a',
  '',
  '*',
  '',
  '-',
  '',
  '',
  '',
  '^',
  '',
  '',
  'k',
  ' ',
  '',
  '',
  '',
  '\x11',
  '_',
  '',
  '',
  'd',
  '',
  'l',
  '',
  '',
  'q',
  '',
  'E',
  '',
  '9',
  '\x12',
  'n',
  '',
  '',
  '',
  'y',
  'z',
  '',
  'O',
  'r',
  'Q',
  '',
  '',
  'x',
  'V',
  '',
  'D',
  't',
  '',
  '',
  '',
  '',
  '\x1B',
  '\x1F',
  'o',
  '\x90',
  'P',
  '',
  '',
  'm',
  '',
  '\x03',
  '',
  '1',
  '\\',
  '',
  '',
  '',
  '}',
  '',
  ',',
  '?',
  '',
  '',
  '',
  ']',
  '0',
  '',
  '',
  'A',
  '',
  '\x1C',
  '/',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '\x8D',
  '%',
  '\x04',
  'p',
  '|',
  '\"',
  '',
  'I',
  '\x16',
  '',
  'F',
  '\x7F',
  '',
  '\x8F',
  '\x13',
  '`',
  '',
  '=',
  '\x81',
  '<',
  '',
  '',
  '',
  '5',
  '\x0E',
  ':',
  '',
  'S',
  'a',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '(',
  '',
  '\n',
  '\b',
  '!',
  '',
  '',
  'Z',
  'N',
  'c',
  '\x18',
  '\0',
  '\t',
  '~',
  '>',
  '',
  '',
  '',
  '4',
  '\x02',
  '',
  '',
  '',
  'M',
  'G',
  '',
  's',
  '',
  '',
  '\x1E',
  '',
  '\x9D',
  '#',
  '',
  '',
  '',
  '',
  'w',
  '',
  '',
  '',
  '',
  '&',
  '8',
  '\'',
  'b',
  '',
  '',
  '',
  '@',
  '6',
  '\x1D',
  '',
  '',
  '',
  '$',
  '3',
  '7',
  'H',
  '',
  'g',
  'l',
  '',
  '',
  '',
  'm',
  '\a',
  '\x0F',
  '.',
  '7',
  '',
  '',
  '',
  'e',
  '\x7F',
  '',
  '',
  'o',
  '',
  'g',
  '',
  '[',
  '',
  '4',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '/',
  '\x1A',
  '',
  'P',
  'r',
  '',
  '\x17',
  '',
  '',
  'R',
  '',
  '',
  '\x0E',
  'N',
  'V',
  '_',
  '',
  '>',
  'K',
  '0',
  '',
  '8',
  '',
  'z',
  '',
  'H',
  '',
  '\v',
  '2',
  '\x04',
  '\x1F',
  '\x01',
  'w',
  'd',
  'c',
  '',
  'J',
  '',
  '',
  '',
  '`',
  '',
  'h',
  '\x19',
  '',
  '',
  '\x13',
  'C',
  '',
  '',
  'A',
  '',
  'y',
  'v',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '',
  '',
  '',
  '',
  ';',
  's',
  'G',
  '',
  '',
  'Q',
  'u',
  'k',
  '',
  '6',
  '',
  '',
  '\n',
  'q',
  '',
  '',
  'M',
  '',
  'T',
  '',
  '',
  ',',
  'W',
  '\x11',
  '\x1D',
  '',
  '\x18',
  '\x81',
  '',
  'D',
  'f',
  '',
  'j',
  '',
  'O',
  '\x1E',
  '\x9D',
  '',
  '',
  '',
  '\t',
  '',
  '',
  't',
  '',
  '+',
  '',
  '\"',
  '',
  '<',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'F',
  '\x8D',
  '&',
  '',
  '\x15',
  '',
  'U',
  'n',
  '',
  '1',
  ')',
  '5',
  '',
  '\x05',
  '',
  '$',
  '',
  '\x10',
  '',
  'b',
  '\x12',
  '',
  '',
  '',
  '',
  'i',
  '\r',
  '\x06',
  '',
  '',
  'E',
  '',
  'L',
  '',
  '',
  'p',
  '',
  '\x1B',
  '',
  '',
  '',
  'a',
  '@',
  '',
  '',
  '}',
  '\x90',
  ':',
  '^',
  '',
  'x',
  '\0',
  '',
  '~',
  '\x14',
  '9',
  '\x02',
  '-',
  '',
  '\x03',
  '(',
  '',
  '',
  '\x16',
  '\x8F',
  '',
  '*',
  '',
  '',
  '',
  '',
  '#',
  '3',
  'I',
  '\\',
  '?',
  '{',
  '',
  '%',
  'S',
  '',
  '\f',
  ' ',
  '',
  'B',
  '',
  '',
  '',
  '!',
  '\'',
  '',
  'X',
  'Y',
  '|',
  'Z',
  '',
  ']',
  '\xFF',
  '=',
  '',
  '',
  '\x1C',
  '',
  '\xFF',
  '}',
  '',
  '\x1C',
  '',
  '\x17',
  '\x90',
  '(',
  '\x1E',
  '\v',
  '+',
  '',
  '\\',
  'e',
  'X',
  '',
  '',
  'E',
  '3',
  '',
  'v',
  '',
  '8',
  '4',
  'g',
  '',
  '',
  'm',
  '\x01',
  '',
  '',
  ')',
  '\x8D',
  '',
  '',
  '',
  'R',
  '',
  '',
  'B',
  '',
  '',
  '!',
  '',
  '',
  ' ',
  '',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  ']',
  '\x02',
  '\x7F',
  '',
  'z',
  '',
  '\x18',
  'u',
  '',
  '9',
  '\n',
  '|',
  '',
  '',
  '',
  '',
  '`',
  '%',
  '',
  '',
  '',
  '\x15',
  '-',
  '',
  '[',
  '',
  '',
  '\0',
  '{',
  '',
  '',
  'h',
  '\x81',
  '',
  '2',
  '.',
  'Q',
  't',
  '',
  '>',
  '',
  '',
  '',
  ':',
  '\f',
  '',
  '',
  'a',
  'q',
  'S',
  ',',
  '',
  '',
  'w',
  '',
  '\x05',
  'd',
  '',
  '',
  'p',
  'W',
  '\x06',
  '',
  'i',
  '\x12',
  '\"',
  '',
  '',
  '',
  '=',
  '\x10',
  '\x9D',
  'c',
  'l',
  '',
  '',
  '',
  '0',
  'k',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1A',
  '~',
  '',
  '*',
  '',
  '',
  'I',
  '',
  'f',
  '\x0E',
  '',
  '',
  '',
  ';',
  '',
  'C',
  'J',
  '',
  'D',
  '\'',
  '\a',
  '\x03',
  '\x19',
  '',
  '',
  '',
  '',
  'L',
  'F',
  '\x16',
  '\x04',
  '\x0F',
  '',
  '1',
  '',
  '',
  '#',
  'U',
  'V',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '^',
  '',
  'x',
  '7',
  '?',
  'Y',
  '5',
  '',
  '\t',
  '@',
  '',
  'P',
  'o',
  '',
  '_',
  '',
  '\x1F',
  '',
  '',
  '',
  '<',
  '',
  'n',
  '\b',
  '',
  'H',
  '',
  '\x8F',
  '',
  '',
  '\x11',
  '&',
  'G',
  '',
  '$',
  '',
  'O',
  'A',
  '',
  '',
  '6',
  'Z',
  '',
  '',
  '',
  '\r',
  'j',
  '',
  'r',
  'M',
  '',
  '',
  '\x1D',
  'K',
  '\x1B',
  '\x13',
  'b',
  '',
  'y',
  '/',
  '',
  '',
  's',
  '',
  'N',
  '',
  '',
  '',
  ':',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '_',
  '',
  '',
  '',
  'I',
  'w',
  '',
  '~',
  '?',
  '',
  '\t',
  '\x11',
  '0',
  '[',
  'U',
  '',
  ')',
  '5',
  '',
  '',
  '',
  '*',
  'M',
  '',
  '',
  'O',
  '',
  '',
  '',
  '',
  'i',
  '',
  '',
  '\f',
  '',
  '(',
  '',
  '',
  '#',
  '',
  '',
  '-',
  'm',
  '\x1C',
  '',
  '',
  '',
  'k',
  'X',
  '!',
  '\x81',
  'l',
  '',
  '',
  '',
  '',
  '',
  '\\',
  '\x16',
  '4',
  '\x06',
  't',
  '\"',
  '9',
  '',
  '',
  'd',
  '',
  '',
  '\x8F',
  '\x02',
  '',
  'q',
  '',
  'x',
  '/',
  '>',
  '\xFF',
  '',
  'a',
  'N',
  '',
  '',
  '',
  '',
  '',
  '}',
  'e',
  'u',
  '',
  '',
  '',
  '',
  '.',
  '',
  '',
  '',
  'o',
  '\x1B',
  '',
  '',
  'R',
  '',
  'y',
  '',
  '\x12',
  '\x19',
  '',
  '',
  '',
  'D',
  '',
  '',
  'P',
  '',
  'B',
  '',
  '=',
  '',
  'A',
  '\x0E',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '8',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1E',
  '@',
  '',
  '\a',
  '1',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  '\v',
  '',
  '',
  'H',
  '|',
  'b',
  'G',
  'L',
  '',
  '^',
  '\x01',
  '\x14',
  '\x05',
  '\x17',
  '',
  '\x13',
  'Y',
  '\x90',
  '',
  '&',
  ';',
  '\r',
  '',
  '',
  'z',
  '',
  '',
  '',
  'c',
  '\x18',
  '\x8D',
  'Z',
  '\x1D',
  '\b',
  'V',
  '\x0F',
  '',
  'C',
  '\0',
  '',
  '\x04',
  '',
  'r',
  '{',
  '\x7F',
  '6',
  '<',
  'h',
  'n',
  '',
  '`',
  '',
  '',
  '\x03',
  'p',
  '%',
  '',
  'j',
  ',',
  '',
  'f',
  '',
  'v',
  '\x1A',
  'W',
  '2',
  '',
  '3',
  '\'',
  '\n',
  'K',
  '\x10',
  '',
  '',
  ']',
  '',
  '',
  'g',
  'Q',
  's',
  '',
  'T',
  '7',
  'S',
  '$',
  '',
  '',
  '+',
  'E',
  '',
  ' ',
  '',
  'J',
  '',
  '',
  '',
  '\x1F',
  'F',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  't',
  'g',
  '',
  '',
  '',
  '',
  'w',
  'Q',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '^',
  'f',
  '.',
  ',',
  ' ',
  'R',
  '',
  'E',
  '',
  '',
  '\f',
  '\x8F',
  '',
  '',
  '\x8D',
  '',
  '|',
  '\b',
  '',
  '\x15',
  '\x01',
  '',
  '5',
  'Z',
  '',
  'V',
  '#',
  'K',
  '\x1F',
  '',
  '',
  '',
  'S',
  '`',
  '',
  '\x0F',
  '\n',
  '',
  '',
  '',
  '',
  '\x81',
  '%',
  '',
  '<',
  ';',
  '',
  '',
  'Y',
  'e',
  '',
  '',
  '\x12',
  '',
  '',
  '4',
  '',
  '',
  '\x14',
  'C',
  '',
  '6',
  '',
  'G',
  '~',
  'O',
  '8',
  '\x06',
  'H',
  '',
  '',
  'L',
  '',
  '',
  '',
  '',
  '7',
  '',
  'x',
  '',
  '\x1D',
  '3',
  '?',
  '',
  '',
  ':',
  '\t',
  '',
  '&',
  '',
  '',
  '',
  '9',
  '',
  '\v',
  'y',
  '',
  'u',
  '',
  '',
  '',
  's',
  'r',
  '\\',
  '',
  '',
  'o',
  '',
  '',
  '/',
  '',
  '}',
  '',
  '',
  '\x19',
  'I',
  '!',
  '\x1C',
  '+',
  '\x16',
  '',
  '\x9D',
  '',
  '*',
  '\xFF',
  '\0',
  'p',
  'q',
  '\'',
  '\x7F',
  'm',
  'P',
  ']',
  '-',
  'i',
  '2',
  '\x11',
  '@',
  '{',
  'U',
  '\x17',
  '0',
  '\x05',
  '>',
  '',
  'z',
  '',
  '\x18',
  '',
  'v',
  '',
  '',
  'F',
  '',
  '',
  '',
  '',
  'A',
  'B',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  'c',
  '',
  '',
  '',
  'W',
  '',
  'M',
  '',
  '',
  '',
  'l',
  '1',
  '',
  '\r',
  '',
  'T',
  ')',
  '\x10',
  '',
  '',
  '',
  'n',
  '',
  '$',
  'b',
  '',
  'X',
  '',
  '\x03',
  '',
  '',
  '',
  '',
  'a',
  '',
  '\x13',
  '',
  '',
  'J',
  '',
  '[',
  'k',
  '(',
  '',
  '',
  '',
  '\x1B',
  'N',
  '',
  '_',
  '\x04',
  'h',
  '',
  'd',
  'j',
  '',
  '',
  '',
  '=',
  '',
  '\x1E',
  'D',
  '\x90',
  '\a',
  '',
  '',
  '\"',
  '\x1A',
  '',
  '',
  '3',
  '',
  '',
  '',
  '+',
  'l',
  '',
  'b',
  'D',
  '',
  '',
  ']',
  'n',
  '',
  'a',
  '',
  '',
  '',
  '\x04',
  'S',
  '\v',
  'C',
  '',
  'J',
  '',
  '',
  '',
  '\x7F',
  '',
  '^',
  '\x15',
  '',
  'Z',
  'F',
  '',
  '',
  '\b',
  'q',
  '5',
  '',
  '',
  'j',
  '\t',
  '',
  '',
  '(',
  '',
  '\x16',
  '\x06',
  '\x1A',
  'Q',
  '\a',
  '',
  'i',
  '%',
  'O',
  '',
  '',
  '',
  'M',
  '',
  '',
  '#',
  '',
  'y',
  'K',
  '',
  'Y',
  'A',
  '',
  'h',
  '',
  '\x8F',
  '\"',
  '!',
  '2',
  '',
  '',
  '',
  '4',
  '0',
  'V',
  '',
  '',
  '',
  'e',
  '\x0F',
  'w',
  '',
  '\x05',
  'P',
  '',
  '\x14',
  '',
  't',
  '`',
  'd',
  '\x18',
  '/',
  '\\',
  '\x12',
  'g',
  '\x11',
  '}',
  '$',
  '',
  '\x1C',
  '',
  'u',
  'T',
  '',
  '',
  '\x1F',
  '',
  ' ',
  '7',
  '\0',
  '',
  '',
  '',
  '',
  '.',
  'N',
  '',
  '',
  '',
  'z',
  '',
  '_',
  'p',
  '|',
  'c',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  'X',
  '\x0E',
  'x',
  '',
  '-',
  'f',
  'E',
  '',
  '',
  'k',
  '',
  '',
  'o',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '\x90',
  '',
  '',
  '6',
  '\r',
  '\x1D',
  '',
  '',
  '\'',
  '',
  '',
  'L',
  '',
  '>',
  '~',
  '<',
  '',
  '',
  '',
  '=',
  '{',
  '',
  '',
  '\x03',
  'G',
  '?',
  '\x1E',
  '',
  '',
  '\x81',
  '',
  '\x17',
  'v',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'U',
  '\x13',
  '',
  'r',
  'I',
  '1',
  ':',
  '',
  'B',
  '',
  '',
  '',
  '\f',
  '\x19',
  '&',
  '\xFF',
  '@',
  '',
  '',
  '\n',
  '',
  '',
  '',
  '9',
  '',
  'W',
  'H',
  '',
  '',
  'm',
  '\x8D',
  '',
  '',
  '',
  's',
  '',
  ';',
  '',
  '',
  ')',
  '*',
  '\x01',
  '',
  '',
  ',',
  '',
  '\x10',
  '\x1B'
}; // idb
char g_chDecodeCode[25600] =
{
  '',
  'y',
  '',
  'u',
  '',
  'M',
  '',
  '',
  'f',
  '',
  '!',
  '\x16',
  '',
  'X',
  ']',
  'C',
  '',
  '}',
  '',
  '',
  '',
  '|',
  '*',
  '',
  '\x9D',
  '',
  '/',
  '5',
  '',
  '',
  '',
  'K',
  '',
  'i',
  'Y',
  '',
  '$',
  'x',
  '\'',
  '',
  '',
  '\0',
  'r',
  '',
  '\x01',
  'k',
  '',
  'P',
  '=',
  '',
  '',
  '',
  'a',
  't',
  '(',
  's',
  '',
  '',
  '',
  '<',
  '',
  'G',
  '',
  '\x11',
  '',
  'O',
  '',
  'N',
  '',
  '',
  'B',
  'q',
  '1',
  '\x0F',
  '\v',
  'J',
  '',
  '\x1B',
  'D',
  'o',
  '',
  '\x18',
  '',
  '\x1C',
  '\x15',
  '~',
  'l',
  '\x14',
  '>',
  'T',
  '',
  '',
  '',
  '\x8D',
  'Z',
  '',
  '\f',
  '',
  '0',
  '\x03',
  '',
  'I',
  '\x13',
  'Q',
  '\x7F',
  '',
  '+',
  '\x1D',
  '',
  '\\',
  '',
  'V',
  'n',
  '^',
  '',
  '',
  ')',
  '\"',
  '',
  '',
  '',
  '',
  '',
  'w',
  '',
  'R',
  '',
  'p',
  'm',
  '',
  '',
  '',
  '',
  '3',
  '',
  '',
  '?',
  '',
  '',
  '',
  '',
  '\x05',
  'L',
  '',
  '',
  '.',
  'H',
  '[',
  '',
  '',
  '\x1F',
  'U',
  ',',
  '\x02',
  '',
  '',
  '',
  '\x17',
  '\n',
  '\x04',
  ';',
  '',
  '',
  '\b',
  '',
  '',
  '\x1A',
  '',
  '_',
  '\x1E',
  '\t',
  '\x19',
  '',
  '',
  'b',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'c',
  '',
  '\x90',
  '',
  '',
  '#',
  '9',
  'F',
  'g',
  '',
  '',
  '8',
  '',
  '',
  '',
  'E',
  '\x8F',
  '',
  '',
  '',
  '',
  '',
  '@',
  ' ',
  '',
  '7',
  '',
  'v',
  '',
  '{',
  '-',
  '\x10',
  '`',
  '\x06',
  'W',
  '6',
  '&',
  '',
  'z',
  'A',
  '',
  'e',
  '',
  '',
  'h',
  '',
  '\x81',
  '',
  ':',
  'd',
  '',
  '',
  '',
  '',
  'j',
  '',
  '',
  '4',
  '\r',
  '',
  '%',
  '',
  '\xFF',
  '\x12',
  'S',
  '',
  '2',
  '\a',
  '',
  '\x1C',
  'D',
  '',
  '3',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'A',
  'B',
  '',
  ' ',
  ',',
  'I',
  '',
  '9',
  '}',
  '',
  '',
  '',
  '\x1E',
  '',
  '\x06',
  '',
  '',
  '',
  '',
  'Y',
  '\x16',
  '',
  '',
  '0',
  '\x90',
  '\0',
  '',
  '',
  '',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '`',
  '6',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  'k',
  '?',
  '',
  '',
  '!',
  '\x01',
  '',
  '\x1F',
  'W',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  'g',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  '1',
  '',
  '#',
  '',
  '',
  '\f',
  '',
  '',
  '',
  '',
  '^',
  '\xFF',
  '',
  '',
  'Q',
  '.',
  '',
  '',
  '',
  'j',
  '=',
  '',
  '\t',
  '&',
  '',
  '',
  'K',
  '\x05',
  '',
  '\x13',
  '7',
  '',
  '\x9D',
  'd',
  ')',
  '',
  'E',
  '',
  '',
  'R',
  '',
  '\x14',
  'Z',
  '',
  '\x02',
  '\x15',
  'V',
  'L',
  '|',
  'c',
  '\x8D',
  '',
  '\x0E',
  ']',
  '',
  'M',
  'y',
  '\v',
  '\x1D',
  'S',
  '',
  '\\',
  '',
  '',
  ';',
  '',
  '+',
  '\x0F',
  '<',
  '%',
  '',
  '\x17',
  '',
  'T',
  '',
  '',
  '',
  '\r',
  'n',
  '\a',
  '',
  '4',
  '\x04',
  '8',
  'b',
  'u',
  'z',
  '',
  '',
  'G',
  't',
  '',
  '',
  '',
  'l',
  '\x10',
  '',
  '',
  '',
  '',
  'm',
  '$',
  '/',
  'r',
  '@',
  'U',
  '5',
  '',
  '\x1A',
  '',
  '',
  ':',
  '',
  'w',
  '',
  '-',
  '',
  'P',
  '',
  'F',
  'h',
  '*',
  '>',
  'p',
  '[',
  'e',
  'O',
  '',
  'a',
  '',
  '',
  '\x8F',
  '',
  'q',
  '',
  'f',
  '',
  '2',
  '',
  '',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  'J',
  '\'',
  '',
  '',
  '~',
  'C',
  '\x18',
  '',
  '',
  'X',
  '',
  '\"',
  'o',
  '',
  '',
  'v',
  '(',
  '\x19',
  '\x81',
  's',
  '',
  '\x03',
  '',
  'x',
  '{',
  'N',
  'H',
  '_',
  'i',
  '',
  '',
  '',
  '',
  '\"',
  '\x7F',
  '',
  '*',
  '',
  '\x8D',
  '>',
  '',
  'K',
  '',
  '\x06',
  '',
  '`',
  'b',
  '',
  '\x15',
  '',
  '',
  'E',
  '',
  's',
  '\x1A',
  '\t',
  '\x12',
  '',
  '',
  '',
  'x',
  'w',
  '',
  '',
  '',
  '',
  '',
  '',
  'H',
  ' ',
  '[',
  '\x14',
  '',
  '\x1B',
  '',
  '',
  'L',
  'j',
  '',
  ':',
  '',
  'r',
  '',
  '',
  '',
  '\'',
  'e',
  '',
  '+',
  '',
  '',
  'v',
  '',
  'C',
  '',
  'Z',
  '',
  '',
  't',
  '',
  '',
  '3',
  '',
  '',
  'N',
  'F',
  '',
  '',
  'W',
  '2',
  '/',
  '?',
  '',
  '\x03',
  '',
  '~',
  '\x02',
  'l',
  '',
  '',
  '<',
  '7',
  '',
  'k',
  'Y',
  '',
  'c',
  '',
  '',
  '',
  'R',
  'A',
  'q',
  '',
  '',
  'h',
  '\x01',
  '',
  '',
  '',
  '!',
  '6',
  '',
  '',
  '',
  '\x9D',
  '}',
  '',
  '',
  '0',
  '',
  ',',
  ')',
  '5',
  'X',
  '\xFF',
  'T',
  '\f',
  'a',
  '',
  '',
  '',
  ']',
  '',
  'Q',
  '',
  '%',
  '\x13',
  '',
  '',
  'm',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  'D',
  'y',
  'B',
  '',
  '-',
  '#',
  '\x16',
  '',
  '',
  '',
  '',
  '',
  'i',
  '',
  '',
  '',
  '|',
  '',
  '\x0E',
  '',
  '\b',
  '',
  '\n',
  'n',
  '',
  'U',
  'g',
  'M',
  '(',
  '4',
  '',
  '',
  'J',
  '',
  '\x8F',
  '',
  'd',
  'O',
  '\a',
  '\x90',
  '',
  '',
  '',
  ';',
  '',
  '\x0F',
  '\x04',
  'V',
  '',
  '',
  '',
  '',
  '9',
  '',
  '=',
  '',
  '\x1E',
  '',
  'o',
  '1',
  '',
  '_',
  '^',
  '',
  '\x05',
  '',
  '\x10',
  'z',
  '',
  'f',
  'G',
  '@',
  '',
  '\r',
  '\x81',
  '{',
  '',
  '',
  '\x17',
  'u',
  '\v',
  '\x1F',
  '',
  '\x1D',
  '\0',
  '',
  '',
  '\x11',
  '',
  '',
  'P',
  '.',
  '$',
  'I',
  '',
  '8',
  '&',
  '',
  '',
  '',
  '',
  '\x1C',
  'p',
  '',
  '\x18',
  '',
  'S',
  '',
  '\x05',
  '',
  ':',
  'L',
  '\x06',
  '',
  '',
  '3',
  '',
  '\r',
  '',
  'F',
  '',
  '',
  '',
  'l',
  '<',
  'P',
  '',
  'A',
  '',
  '',
  '\x16',
  '>',
  'r',
  '\x7F',
  'Y',
  'Z',
  'X',
  'H',
  '\x15',
  '\x0E',
  '',
  '@',
  '',
  '^',
  '',
  '\x11',
  'w',
  '',
  'a',
  '\x9D',
  '&',
  '',
  '2',
  '',
  '',
  '',
  '',
  'T',
  '.',
  ';',
  '',
  '\x03',
  ']',
  '',
  'R',
  '',
  '4',
  '\n',
  'y',
  '\x04',
  'K',
  'k',
  '\x1E',
  '',
  '',
  '',
  '\0',
  '',
  'N',
  '',
  '',
  '',
  '(',
  '',
  '',
  '',
  '}',
  '',
  '6',
  '',
  '',
  '\x1B',
  ' ',
  ')',
  '',
  ',',
  '\x14',
  '',
  '',
  '\\',
  '',
  'g',
  '',
  '',
  '+',
  'S',
  '',
  '\x1C',
  '\x1D',
  '\x18',
  '',
  '\a',
  '',
  '',
  '/',
  '',
  '',
  'M',
  '`',
  '',
  '',
  'o',
  '',
  '',
  '',
  '',
  'I',
  '',
  '',
  '',
  '\'',
  '',
  '',
  'v',
  '-',
  '?',
  '',
  'G',
  '%',
  '\f',
  '',
  '',
  'p',
  '',
  '9',
  '',
  'B',
  '',
  'Q',
  '',
  '',
  '',
  'O',
  '',
  '\x10',
  '\x1F',
  '~',
  '',
  '',
  '\x1A',
  '\x81',
  '\x02',
  '',
  'f',
  '',
  '',
  '',
  '',
  '\x01',
  '$',
  '*',
  'q',
  '',
  '',
  '8',
  '',
  '{',
  '0',
  '',
  '',
  '\x0F',
  '',
  '\x8D',
  '',
  'b',
  '',
  '\x13',
  '',
  '1',
  '',
  '',
  '7',
  '\v',
  '\"',
  'u',
  '\x17',
  '',
  '',
  'V',
  'i',
  '',
  '\xFF',
  'x',
  '',
  't',
  '',
  '\x12',
  'm',
  '',
  'e',
  '',
  '\t',
  '',
  'D',
  '',
  '#',
  '',
  '',
  'd',
  '',
  '',
  'h',
  '',
  '',
  '',
  '',
  'U',
  'c',
  'n',
  '',
  '5',
  'E',
  'W',
  '\b',
  '[',
  '\x19',
  '',
  'C',
  '',
  'z',
  '',
  '',
  '',
  '',
  '|',
  'j',
  '',
  'J',
  '',
  '_',
  '',
  '',
  '',
  's',
  '\x8F',
  '',
  '',
  '',
  '!',
  '',
  '\x90',
  '',
  '=',
  '',
  '',
  '',
  'r',
  ')',
  '',
  '',
  '=',
  '',
  '',
  '',
  '',
  '#',
  '',
  '',
  'o',
  '+',
  '2',
  'W',
  'k',
  '\x16',
  '\x0E',
  '.',
  '',
  '%',
  '',
  '\x19',
  'G',
  'g',
  '}',
  '',
  'e',
  '\0',
  '\x18',
  '',
  '',
  '\x14',
  'n',
  '',
  ' ',
  'L',
  '',
  '\x8F',
  'J',
  '',
  '',
  ':',
  '',
  '',
  '',
  '',
  'B',
  '\xFF',
  'x',
  '\x1E',
  '\x7F',
  '\x12',
  '',
  '6',
  '',
  '\x04',
  'M',
  '',
  '\x01',
  '`',
  '\'',
  'P',
  '',
  '\t',
  '\x03',
  '',
  'u',
  '\n',
  ',',
  'T',
  '',
  '',
  '\f',
  '',
  '',
  '',
  'z',
  '',
  '\x11',
  '',
  'K',
  'F',
  ';',
  '',
  '',
  '\b',
  '{',
  '',
  '',
  'q',
  '@',
  '',
  '\x10',
  '7',
  '>',
  '',
  'd',
  'O',
  '&',
  '~',
  'f',
  '',
  '\x81',
  '\x8D',
  'X',
  '\v',
  '',
  '',
  '^',
  '',
  '_',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '',
  'D',
  '*',
  'U',
  '',
  '',
  '',
  '\x06',
  'Z',
  '[',
  '',
  '',
  '',
  'I',
  'l',
  '',
  '$',
  '\x0F',
  'E',
  '',
  '',
  '',
  'a',
  '',
  '',
  '',
  '',
  '\x05',
  '\\',
  '\x90',
  'N',
  '3',
  'v',
  '\x1A',
  'S',
  '\x1D',
  '\x9D',
  '',
  'p',
  '\x1F',
  '',
  '',
  '\x1C',
  '-',
  ']',
  '',
  'Y',
  '8',
  '0',
  'Q',
  '',
  '',
  '',
  '|',
  '\x15',
  '',
  '',
  '',
  '',
  'm',
  '\x17',
  '1',
  'A',
  's',
  'w',
  '4',
  '(',
  '',
  'b',
  'y',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  'h',
  '',
  '',
  '',
  '',
  'R',
  '',
  '',
  '/',
  '',
  'H',
  '?',
  '',
  '\a',
  '\x13',
  '',
  '',
  'i',
  '',
  '',
  'V',
  'C',
  '<',
  '',
  '\r',
  '',
  '',
  '',
  '',
  '!',
  '\"',
  '',
  '',
  'j',
  '',
  '',
  'c',
  '',
  '5',
  '9',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  'O',
  '8',
  '+',
  '\t',
  '',
  '',
  '',
  '',
  '\'',
  '',
  ')',
  'j',
  '',
  '3',
  '',
  '',
  'M',
  '=',
  '',
  '\v',
  '',
  '\x13',
  '*',
  '',
  ' ',
  '%',
  'L',
  '\x1A',
  '\x10',
  '',
  '\x8D',
  '',
  '',
  'd',
  '',
  '',
  'x',
  '',
  '',
  '',
  '',
  '\r',
  'Z',
  '',
  '',
  '\x14',
  '',
  '5',
  '',
  '',
  '',
  '\\',
  'T',
  '?',
  'b',
  ';',
  '\a',
  '',
  '4',
  'p',
  '',
  '\x15',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '7',
  '',
  ':',
  '',
  '',
  '',
  '',
  '',
  'V',
  'J',
  '\x1B',
  '\x0E',
  '\b',
  'y',
  'n',
  'B',
  'v',
  '',
  '',
  'D',
  '&',
  '',
  '',
  '',
  '',
  '',
  's',
  '',
  '',
  '',
  'S',
  '~',
  '6',
  '\x7F',
  'U',
  'r',
  '',
  '-',
  '',
  '!',
  '',
  '_',
  '\x1C',
  '',
  'h',
  'k',
  'm',
  '\x81',
  'I',
  '\x06',
  '0',
  '',
  '1',
  '',
  'E',
  'o',
  'i',
  'X',
  'z',
  'K',
  'a',
  'u',
  '',
  ']',
  '[',
  '$',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x90',
  '',
  '|',
  '',
  '\x9D',
  '\f',
  '',
  'f',
  '',
  '\0',
  '{',
  '\x11',
  '',
  '\x04',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '9',
  '',
  '\x8F',
  '',
  '',
  '',
  '',
  '',
  '',
  '\"',
  'g',
  'H',
  'W',
  '#',
  '\n',
  '\x03',
  '',
  'c',
  '\x17',
  '',
  'G',
  '',
  '\x1D',
  '',
  '',
  'F',
  '',
  'P',
  '',
  ',',
  '\x1F',
  '',
  'w',
  't',
  '\x16',
  '@',
  '',
  '',
  'R',
  '',
  'l',
  '',
  '}',
  '',
  '',
  '`',
  '',
  '<',
  '2',
  '',
  '\x19',
  '/',
  '\x1E',
  '(',
  '',
  '',
  '',
  '\xFF',
  '',
  'Q',
  '\x05',
  '\x02',
  '',
  '>',
  'N',
  'A',
  '',
  'q',
  '',
  '',
  '',
  '',
  'C',
  '',
  '\x0F',
  '',
  '^',
  'e',
  '\x12',
  '\x18',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  '',
  '',
  '.',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '7',
  '`',
  '',
  '4',
  '',
  'W',
  '',
  '',
  '',
  '>',
  '-',
  '',
  '',
  '\x14',
  '\x1E',
  '',
  '0',
  '',
  '',
  '',
  'V',
  '$',
  '',
  'z',
  '',
  '\f',
  '',
  '*',
  '',
  'R',
  '\x02',
  'Q',
  '+',
  '',
  ']',
  'Y',
  '',
  '',
  '(',
  '',
  'i',
  'b',
  '',
  '\x0E',
  '}',
  '',
  '',
  '{',
  'e',
  '',
  '',
  '',
  'Z',
  'x',
  '',
  '\x1C',
  '\x16',
  '',
  '',
  '',
  '\x04',
  'r',
  '',
  '',
  '',
  '',
  '',
  '?',
  '\x1F',
  '\x01',
  '=',
  'f',
  '',
  '3',
  'g',
  '',
  ',',
  '',
  '\b',
  'l',
  'I',
  'd',
  'o',
  '',
  '\x05',
  '',
  '\x06',
  '',
  '',
  't',
  'N',
  '<',
  ':',
  '',
  '\x13',
  'p',
  '\a',
  '\x8D',
  '\t',
  '',
  '',
  'H',
  '',
  '',
  'T',
  '',
  '',
  'K',
  '',
  '',
  '',
  '\x18',
  '\x1D',
  'j',
  '',
  '5',
  'X',
  '',
  '#',
  '',
  '\'',
  '\0',
  '',
  '\x12',
  '8',
  'S',
  '',
  'M',
  '\"',
  'O',
  'h',
  '\x81',
  'E',
  '',
  ';',
  '6',
  '\x1B',
  '',
  '',
  '\v',
  '\r',
  '|',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x10',
  '',
  '~',
  '\x19',
  'A',
  'F',
  '\x9D',
  '',
  '',
  'q',
  ' ',
  'a',
  '^',
  '',
  'D',
  '',
  'w',
  '',
  '\n',
  '_',
  '\x15',
  '',
  '\x7F',
  '',
  '',
  'C',
  '',
  '\x0F',
  '',
  'G',
  '',
  'n',
  '\\',
  '\x90',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '@',
  'c',
  '\x1A',
  '1',
  '',
  '',
  '',
  '\x03',
  '\xFF',
  '',
  '&',
  '',
  '\x11',
  '[',
  '',
  '',
  '',
  '',
  '',
  'P',
  'm',
  'v',
  '',
  's',
  'B',
  '\x17',
  'u',
  'L',
  '',
  '',
  '9',
  '',
  'U',
  '',
  '',
  '!',
  '',
  '',
  '.',
  '',
  '',
  '/',
  '',
  '',
  'y',
  ')',
  '',
  '',
  '',
  '',
  'J',
  'k',
  '',
  '2',
  '%',
  '',
  '\x8F',
  '',
  '',
  '',
  '?',
  '\x01',
  ':',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'E',
  '\x04',
  '',
  '',
  '\\',
  '\x14',
  '#',
  '\x9D',
  'z',
  '',
  '',
  '',
  '\f',
  '',
  '',
  's',
  '',
  '5',
  '',
  '',
  '',
  'R',
  '\x7F',
  '',
  '',
  'O',
  '2',
  '\x8F',
  'N',
  '',
  '',
  '',
  '',
  '@',
  '',
  '-',
  '',
  '',
  '\x8D',
  '',
  'T',
  '\x1F',
  'p',
  '\0',
  '',
  '\x11',
  'f',
  '',
  'l',
  '',
  'K',
  '',
  '',
  'B',
  '\v',
  '\x1A',
  '',
  '\"',
  '~',
  'H',
  '=',
  '{',
  '\t',
  'e',
  '',
  '',
  'M',
  '',
  '',
  '\x1E',
  '',
  '',
  '',
  '<',
  '4',
  '8',
  '',
  '',
  '',
  'a',
  '',
  '',
  '',
  '',
  'b',
  '}',
  '',
  '^',
  'd',
  '',
  't',
  '\x90',
  'h',
  '',
  '',
  '1',
  '*',
  '',
  '',
  '',
  '',
  '',
  '_',
  '',
  '\x03',
  'y',
  '&',
  '0',
  '%',
  '\b',
  '3',
  ']',
  'i',
  '\x1C',
  'g',
  '',
  '\x0E',
  '',
  'D',
  'J',
  '9',
  '',
  'G',
  '7',
  'w',
  'X',
  '',
  '\x16',
  '',
  '',
  '',
  'Y',
  ',',
  '',
  '',
  '\a',
  '.',
  'S',
  '\x17',
  '|',
  '\x18',
  '>',
  '',
  '',
  '',
  '',
  '',
  '',
  'P',
  'o',
  'U',
  '',
  'k',
  ';',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  'j',
  '',
  '',
  'x',
  '',
  '',
  '\x13',
  '',
  '`',
  '\x1D',
  '',
  '',
  'q',
  '\n',
  '',
  '',
  '',
  '\x0F',
  'm',
  '',
  '',
  '\x02',
  '',
  '',
  '\x05',
  '(',
  '\x10',
  '',
  'r',
  ')',
  '',
  '',
  '',
  '',
  'Q',
  '',
  '',
  '',
  '!',
  '\x81',
  ' ',
  '',
  '',
  'I',
  'V',
  '\r',
  '\x15',
  '6',
  '$',
  '',
  'C',
  '[',
  '\x1B',
  '',
  '',
  'L',
  'c',
  '+',
  '\'',
  'W',
  'Z',
  '',
  '',
  'A',
  '',
  '\x06',
  'F',
  '',
  '',
  '/',
  '',
  '',
  'v',
  '',
  'n',
  '\x19',
  'u',
  '',
  '',
  '',
  '',
  '\x9D',
  'j',
  'S',
  '',
  '',
  '&',
  '\x0F',
  '',
  '\x15',
  '',
  '',
  '\n',
  'h',
  '',
  'q',
  '\x7F',
  '{',
  '',
  '',
  '',
  'D',
  '',
  '',
  '\\',
  'C',
  '',
  '',
  ')',
  '+',
  '>',
  '\x10',
  ';',
  '',
  'y',
  '#',
  'L',
  '_',
  '\x1B',
  '',
  '',
  '',
  '\x14',
  '\r',
  'w',
  '',
  '',
  '',
  'P',
  '',
  '',
  '',
  '',
  '8',
  '4',
  'l',
  '',
  '*',
  'F',
  'I',
  '\x01',
  '\x17',
  '',
  '',
  '}',
  '\x1C',
  'c',
  '\x0E',
  '',
  ']',
  '@',
  '',
  '\x1D',
  'G',
  ',',
  '',
  '$',
  '',
  '',
  'B',
  '',
  '\x18',
  '',
  '\x13',
  '\x90',
  'A',
  'U',
  '',
  '',
  '1',
  '',
  '6',
  '',
  '\x03',
  'W',
  '',
  '',
  '',
  '(',
  '',
  '\b',
  'H',
  ':',
  '',
  '%',
  '',
  '',
  '',
  '9',
  'T',
  '',
  '',
  'N',
  '0',
  '',
  '',
  '\x12',
  '\x19',
  '\x8D',
  '\x06',
  'J',
  '^',
  '',
  '?',
  'k',
  'Y',
  '',
  '',
  '\x81',
  '',
  '3',
  '',
  'R',
  '=',
  'o',
  '',
  '',
  '',
  '',
  '',
  '\"',
  '\x04',
  '',
  'm',
  'K',
  '',
  '|',
  '[',
  '',
  '\'',
  ' ',
  'u',
  '',
  '/',
  '',
  'f',
  '',
  '~',
  '',
  '',
  'Q',
  '',
  '\xFF',
  '',
  '',
  '',
  '\x16',
  '\f',
  '',
  'a',
  '',
  '',
  '',
  '',
  'x',
  'M',
  '',
  '\t',
  '',
  '',
  '',
  '',
  'r',
  '\v',
  '',
  '',
  '\a',
  '',
  'v',
  '5',
  '',
  '',
  '',
  'E',
  '\x1E',
  '',
  '',
  '',
  '',
  'V',
  '',
  '',
  '',
  '',
  '',
  'e',
  '',
  's',
  'Z',
  '',
  '\0',
  '',
  '7',
  '',
  'O',
  '2',
  '\x05',
  '\x02',
  '!',
  '',
  '-',
  'n',
  '.',
  '',
  '',
  '`',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  'b',
  'd',
  '\x8F',
  '',
  '',
  '',
  't',
  '',
  '',
  'g',
  'p',
  '',
  '<',
  '',
  '',
  '',
  '',
  '',
  '',
  'i',
  '\x11',
  'X',
  'z',
  '\x1A',
  '',
  '',
  '',
  'T',
  '',
  'q',
  '',
  '|',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '`',
  '',
  '',
  '.',
  '9',
  'R',
  's',
  '',
  'v',
  '',
  '\x0F',
  '\x03',
  '',
  '',
  '',
  '',
  '\n',
  '',
  '',
  '~',
  '',
  '',
  '/',
  'C',
  '',
  '\x01',
  '',
  '7',
  'M',
  '',
  '',
  '',
  '\x1C',
  '\\',
  '\0',
  '\x10',
  '',
  '[',
  '',
  'k',
  '\a',
  '',
  '',
  'X',
  '',
  'V',
  '\x04',
  'D',
  '\xFF',
  '<',
  '>',
  '',
  ']',
  'y',
  '\"',
  'I',
  '\'',
  '=',
  '\x1E',
  '',
  '_',
  'x',
  '\x02',
  'A',
  '',
  '',
  '',
  'G',
  '\v',
  '\x16',
  '',
  '',
  '',
  '',
  'P',
  '',
  '',
  '',
  '',
  '?',
  '',
  '',
  '',
  '\x90',
  '',
  '',
  '\x8F',
  '-',
  '',
  '$',
  '',
  'l',
  '',
  '',
  't',
  '',
  'c',
  '',
  ':',
  '',
  '0',
  'K',
  '',
  'Y',
  '\b',
  '3',
  '',
  'L',
  '',
  '6',
  'U',
  '',
  '',
  ')',
  '',
  'H',
  '{',
  '\x1D',
  '',
  '',
  '%',
  '!',
  '\x81',
  '',
  '',
  '',
  '\r',
  '\x11',
  '',
  '',
  '+',
  '\x05',
  'W',
  '1',
  '',
  '\x17',
  'i',
  '',
  'N',
  'r',
  '',
  '(',
  '',
  '',
  '',
  '\x14',
  'Z',
  'n',
  '',
  'd',
  '',
  'S',
  '',
  ',',
  'f',
  'E',
  ' ',
  'h',
  '\x8D',
  '',
  'B',
  '@',
  'J',
  '',
  '',
  '',
  '\x7F',
  '',
  '#',
  '',
  'O',
  '',
  '',
  '',
  '\x06',
  'e',
  '\x1F',
  '',
  '',
  '\x1A',
  '',
  'j',
  'b',
  'o',
  '\x9D',
  '',
  '',
  'z',
  'F',
  ';',
  '',
  '',
  '2',
  '\t',
  '',
  '',
  '',
  '',
  '',
  '',
  '}',
  '',
  '^',
  '',
  '5',
  '',
  '\x12',
  '',
  '\f',
  '\x18',
  '&',
  '',
  '\x0E',
  '',
  'w',
  '',
  '',
  '\x13',
  '4',
  'u',
  'a',
  'g',
  '\x15',
  '',
  '*',
  '',
  '',
  'm',
  'p',
  '',
  '8',
  'Q',
  '\x1B',
  '',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  '',
  '.',
  'z',
  '',
  '\t',
  '\x0E',
  'V',
  '',
  '',
  '>',
  '',
  '',
  '3',
  'F',
  '',
  '',
  '',
  '',
  '-',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x16',
  '',
  '\x06',
  't',
  '\a',
  '',
  'W',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '\r',
  '+',
  'E',
  '',
  'n',
  '',
  '',
  '',
  '',
  '*',
  'N',
  '',
  'O',
  '\x1E',
  'P',
  '7',
  'b',
  'k',
  '',
  '',
  '',
  's',
  '',
  '',
  'U',
  'p',
  '',
  '',
  '',
  'T',
  '',
  '',
  '\x7F',
  '',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '\x90',
  '',
  '@',
  '',
  '\'',
  '',
  ')',
  'Y',
  '',
  'X',
  '',
  '\x9D',
  '',
  '[',
  'L',
  '\x0F',
  '',
  '\x8F',
  '6',
  '',
  '',
  '\x1F',
  'd',
  '',
  '',
  '',
  'K',
  '_',
  '}',
  'Z',
  '\0',
  '%',
  '',
  '\x19',
  '\x1A',
  '',
  '',
  'g',
  '=',
  '',
  '',
  '^',
  'l',
  '\x13',
  '9',
  '',
  'S',
  '',
  '&',
  '1',
  '5',
  '4',
  '',
  'u',
  '',
  'c',
  '',
  '',
  'f',
  '',
  '',
  '',
  '',
  '',
  '/',
  '\v',
  ':',
  '',
  'G',
  'B',
  '8',
  '',
  '',
  '',
  '\f',
  'a',
  'v',
  '',
  '',
  '',
  'q',
  '',
  'M',
  '\x01',
  '\x10',
  '',
  '<',
  ';',
  'I',
  '',
  'e',
  '',
  '',
  '',
  'w',
  '',
  '2',
  '',
  '',
  '\xFF',
  '',
  'i',
  '!',
  'Q',
  '$',
  '',
  '',
  '\x1C',
  '',
  '',
  '\b',
  '\x04',
  '',
  '\"',
  '\x05',
  '',
  '#',
  '',
  '',
  'R',
  '',
  '',
  '',
  '',
  '(',
  '\x15',
  '',
  'x',
  '',
  'H',
  'o',
  '',
  '\x14',
  '\x18',
  '',
  '\x1D',
  '',
  'r',
  'C',
  '',
  'y',
  ']',
  'j',
  'J',
  '',
  '',
  '',
  '',
  '\x1B',
  '\x81',
  '0',
  '',
  '\x02',
  'A',
  '',
  '\x11',
  '',
  '',
  '',
  '`',
  '{',
  '',
  '\x12',
  ',',
  '|',
  'm',
  '',
  '\x8D',
  '',
  'D',
  '?',
  '',
  ' ',
  '\\',
  '\x03',
  '',
  '~',
  'h',
  '',
  'S',
  ':',
  '',
  '\x05',
  '',
  '',
  '{',
  '\'',
  '',
  '',
  '',
  '\x0F',
  'a',
  'd',
  '\x19',
  '\x1E',
  'o',
  '\b',
  '',
  'O',
  '',
  'Y',
  '',
  'r',
  '',
  '',
  '',
  '\"',
  '',
  '',
  'U',
  '\x81',
  '\x16',
  '',
  '',
  '_',
  '',
  'c',
  '',
  '',
  '',
  'B',
  '',
  'G',
  '',
  '\x1C',
  '\x10',
  '\a',
  '',
  '\x03',
  '',
  '\x02',
  'A',
  '\x04',
  '\x15',
  ';',
  '\x1D',
  '+',
  '',
  '',
  '',
  '\f',
  '',
  '\x1A',
  '',
  '',
  ',',
  '\xFF',
  '5',
  'b',
  '\t',
  '*',
  ' ',
  '',
  '',
  'F',
  '',
  '',
  '',
  '1',
  '',
  '',
  '',
  '',
  '$',
  '^',
  '',
  'J',
  '',
  '',
  '6',
  '',
  '7',
  '/',
  '',
  '',
  '\0',
  '-',
  '',
  '',
  '',
  '}',
  '\x06',
  'Z',
  'L',
  '\x7F',
  '',
  '\n',
  '8',
  '',
  '',
  '',
  '',
  '\x12',
  '\x90',
  'P',
  '|',
  '',
  '',
  'z',
  '',
  '\x8D',
  '',
  '',
  'D',
  '\v',
  '',
  '!',
  '[',
  '',
  'N',
  '<',
  '',
  '',
  'v',
  '',
  '#',
  'f',
  '',
  '',
  's',
  'x',
  '?',
  '',
  '=',
  '',
  '',
  '~',
  '',
  'u',
  '',
  '',
  '',
  '',
  'k',
  'q',
  '',
  '',
  '',
  '',
  'i',
  'T',
  '',
  '2',
  '',
  '\x0E',
  '\x01',
  '',
  '4',
  '\x11',
  '(',
  '\x17',
  '',
  '',
  '',
  'l',
  '\r',
  '',
  '',
  '',
  'm',
  'Q',
  'w',
  '',
  'C',
  '',
  '',
  '',
  't',
  'y',
  '.',
  ')',
  '',
  '',
  '',
  'h',
  '',
  '\x13',
  'X',
  'e',
  '@',
  'R',
  '%',
  '\\',
  '',
  'E',
  '`',
  '',
  'n',
  '',
  '',
  '9',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  '',
  '\x9D',
  '\x1F',
  '',
  'K',
  '0',
  '',
  '',
  '',
  '&',
  '',
  'W',
  '',
  '',
  '>',
  'j',
  'M',
  '',
  '\x8F',
  '\x1B',
  '',
  '',
  '',
  'H',
  '',
  ']',
  '',
  'p',
  '\x18',
  '',
  '',
  '',
  'g',
  'V',
  'I',
  '3',
  '',
  '',
  'C',
  '',
  '+',
  '',
  '',
  'W',
  '',
  'v',
  'y',
  '',
  '\'',
  '/',
  '',
  '',
  '\x1F',
  '',
  '',
  'Q',
  '',
  '',
  '',
  '',
  '\r',
  'B',
  '',
  '',
  'H',
  '\x03',
  '\t',
  '3',
  'N',
  '\x05',
  '',
  '',
  '',
  'a',
  'h',
  '\x11',
  '',
  '',
  'x',
  '',
  '',
  '',
  'M',
  'D',
  '1',
  '',
  'E',
  'P',
  '',
  '\x14',
  '',
  '',
  '',
  '',
  '\x04',
  'U',
  '?',
  '\x1B',
  '\x19',
  'q',
  'k',
  'r',
  '',
  '',
  'l',
  '',
  '*',
  '',
  '\x1E',
  '',
  '',
  '$',
  '_',
  '',
  'X',
  '',
  '',
  '\x06',
  '\x81',
  '',
  '\x8D',
  '',
  '.',
  '',
  '!',
  'Z',
  '9',
  '\x17',
  '',
  '',
  '\x15',
  '',
  '',
  '\x16',
  '',
  '@',
  '',
  '',
  '0',
  'R',
  '\f',
  '',
  '',
  '',
  'Y',
  '\x0E',
  '',
  '\"',
  'T',
  '(',
  'm',
  '',
  '{',
  '',
  'O',
  ']',
  '',
  '',
  '`',
  ' ',
  '',
  'o',
  '',
  'J',
  '\x1C',
  '\x13',
  '',
  '',
  '',
  '',
  'L',
  '\x90',
  'd',
  '\x1D',
  '|',
  '',
  '2',
  '\xFF',
  'j',
  'w',
  '',
  '\x02',
  '',
  '',
  ',',
  'i',
  '%',
  '\x1A',
  '>',
  '',
  '}',
  'G',
  '[',
  'p',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  '6',
  '',
  '',
  '&',
  '\\',
  '',
  'b',
  '^',
  'u',
  '',
  '\x01',
  '8',
  '',
  'K',
  '-',
  '=',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'f',
  '7',
  '',
  '',
  '\x0F',
  '',
  'A',
  '',
  '',
  ')',
  '',
  '~',
  '\x12',
  's',
  '',
  '',
  'g',
  'S',
  '',
  '\v',
  'F',
  'I',
  '',
  '',
  '',
  '<',
  '',
  '',
  '',
  '',
  '',
  '',
  '\0',
  '',
  '',
  '',
  'c',
  '',
  '',
  ';',
  '\a',
  '',
  '5',
  '\b',
  '\x8F',
  '',
  ':',
  '',
  '\x7F',
  '',
  '#',
  '',
  '',
  '',
  '',
  'n',
  '',
  '4',
  '',
  '',
  '\x9D',
  '',
  '',
  '\n',
  '\x10',
  'e',
  't',
  'z',
  '',
  'V',
  'c',
  '',
  '\x19',
  '',
  '\x1E',
  '',
  'v',
  '',
  '-',
  '%',
  '\x11',
  '`',
  '',
  '',
  '\x18',
  '',
  '\'',
  '\x03',
  '#',
  '',
  '',
  'Q',
  '',
  'U',
  '',
  '\x12',
  '',
  '[',
  ')',
  '@',
  '~',
  '\x1D',
  '',
  '',
  '',
  '!',
  '',
  '',
  '',
  '',
  'q',
  '',
  'H',
  '\n',
  'u',
  '5',
  '}',
  '',
  'j',
  '0',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  '',
  '',
  '',
  ',',
  '',
  '',
  '',
  't',
  '\x8D',
  'J',
  '',
  '',
  '_',
  '',
  ']',
  'z',
  '',
  '',
  '\x10',
  '',
  'D',
  '',
  '',
  '',
  'l',
  ':',
  'O',
  '4',
  '',
  'i',
  '',
  '.',
  '$',
  '',
  ' ',
  'G',
  '\x02',
  '',
  '',
  'B',
  ';',
  'C',
  'N',
  'A',
  '',
  '',
  '',
  'T',
  '',
  '2',
  '',
  '+',
  'n',
  '',
  '',
  '\0',
  '',
  'd',
  '',
  '',
  '',
  'K',
  '',
  'm',
  'I',
  '',
  'e',
  'p',
  '\t',
  '<',
  '',
  '',
  'x',
  's',
  'b',
  '',
  '?',
  '=',
  '1',
  '',
  '',
  '\x16',
  'o',
  '',
  '',
  '',
  '',
  'w',
  '',
  '\x17',
  'h',
  '',
  '',
  '',
  '',
  'S',
  '\x8F',
  '',
  '\\',
  '\x1A',
  '',
  '',
  '>',
  '\x9D',
  '',
  '\r',
  '\x1F',
  'Z',
  '\x06',
  'r',
  '\x15',
  '\x14',
  '',
  'R',
  '|',
  '\x7F',
  '',
  '',
  'V',
  '',
  '',
  '\x05',
  '',
  '\x13',
  '8',
  '\xFF',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '\x04',
  '\x1B',
  '\x81',
  'M',
  '',
  '',
  'k',
  '',
  '',
  '7',
  '',
  '\v',
  '',
  'Y',
  '',
  '',
  '',
  '',
  '9',
  '',
  '',
  '\x0F',
  '&',
  'a',
  '3',
  '(',
  '',
  'P',
  '',
  '',
  '',
  '',
  '',
  'X',
  'f',
  '\f',
  '',
  '\x0E',
  '\a',
  '',
  '6',
  '',
  '',
  'L',
  '',
  '',
  '/',
  '',
  'F',
  '',
  '^',
  '',
  'E',
  '\x01',
  '',
  '\x90',
  '{',
  '',
  '',
  'W',
  'g',
  'y',
  '',
  '',
  '',
  '\"',
  '',
  '*',
  '\x0F',
  '\x06',
  'W',
  'a',
  '\x1F',
  'v',
  '',
  '*',
  '',
  '\\',
  '/',
  's',
  '\x90',
  'A',
  '',
  'e',
  '',
  '\x8D',
  '-',
  '',
  '',
  '@',
  'z',
  'q',
  '3',
  '',
  'U',
  '',
  '\a',
  '\x19',
  '\b',
  '',
  '',
  '',
  '8',
  '',
  '\x1A',
  '',
  '7',
  '',
  'V',
  '!',
  '',
  '',
  '',
  'T',
  'G',
  '',
  '',
  '',
  '\x12',
  '^',
  '',
  '\r',
  '',
  '',
  'Z',
  '',
  '',
  '\x18',
  '\x1B',
  '',
  'g',
  '',
  'm',
  'Y',
  'w',
  '',
  '',
  't',
  '\x1E',
  'n',
  'c',
  '',
  '',
  'k',
  '',
  '',
  '',
  '',
  '',
  '9',
  '',
  '\x81',
  'u',
  '',
  'Q',
  'l',
  '',
  'C',
  'o',
  '',
  '',
  '',
  '',
  '',
  'j',
  '4',
  '',
  '',
  '',
  '|',
  '',
  '?',
  '',
  'H',
  '\f',
  '\0',
  '\"',
  'f',
  'S',
  '',
  '',
  '',
  '~',
  '',
  '2',
  '6',
  'N',
  '',
  '',
  '\x17',
  'X',
  '+',
  '',
  'h',
  ')',
  '',
  'y',
  '',
  '',
  '\n',
  '',
  '',
  '#',
  'i',
  ';',
  'F',
  '',
  '',
  '\x04',
  'O',
  'E',
  'x',
  '',
  '',
  '(',
  '',
  '',
  '',
  'R',
  'I',
  'b',
  '',
  '',
  '5',
  '\x16',
  'P',
  '',
  '[',
  '',
  '=',
  '',
  '\x01',
  '',
  '\xFF',
  '\x11',
  '>',
  '0',
  '\x05',
  '}',
  ' ',
  '\t',
  '\x8F',
  '\x1D',
  '&',
  '',
  '',
  'J',
  '',
  'd',
  '',
  '',
  '',
  '%',
  '',
  'M',
  '',
  '',
  '\x9D',
  '\x14',
  '',
  '',
  '',
  'L',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '.',
  '',
  '',
  '',
  ':',
  '',
  'K',
  '',
  '\x10',
  '',
  '',
  '\x02',
  '\x7F',
  '',
  '',
  '\v',
  '',
  '',
  '',
  'D',
  ']',
  '\x03',
  '`',
  'r',
  '',
  '_',
  '',
  '$',
  '\x1C',
  '',
  '',
  '',
  '\'',
  'B',
  ',',
  '',
  '',
  '\x0E',
  '{',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x13',
  '<',
  '',
  '1',
  '\x15',
  '',
  '',
  '',
  'p',
  '\x16',
  '\x15',
  '4',
  'f',
  'r',
  '',
  '',
  '',
  '',
  '',
  'i',
  '\x1E',
  '',
  '',
  '`',
  '/',
  '\t',
  '\f',
  '',
  '',
  '{',
  'R',
  '',
  '',
  '',
  '',
  '\x1A',
  '\x18',
  '',
  'J',
  '',
  '\x19',
  '',
  '1',
  '',
  '$',
  '',
  '',
  '\x1B',
  '',
  'D',
  '',
  '',
  '',
  '',
  'x',
  '',
  '',
  '',
  '',
  '',
  '@',
  '',
  '',
  'j',
  '',
  '\x11',
  '',
  '',
  '\0',
  '2',
  '',
  '\x1D',
  '',
  '%',
  '',
  '',
  '',
  '',
  '?',
  '~',
  '',
  'k',
  '\x8F',
  '',
  '',
  '+',
  '',
  '\x9D',
  '',
  '',
  'U',
  'W',
  '&',
  '',
  '\x10',
  'P',
  't',
  '9',
  '',
  'M',
  '\b',
  '',
  '',
  '\x02',
  'N',
  '',
  ':',
  '-',
  'u',
  '',
  'C',
  '',
  '',
  '',
  'n',
  '\x0E',
  ' ',
  '6',
  '',
  '\x1C',
  '',
  '',
  '',
  '',
  'V',
  'v',
  'H',
  '',
  '\x7F',
  'Q',
  '\n',
  '',
  '',
  '',
  '[',
  '',
  ';',
  'K',
  '',
  '',
  '',
  '\x05',
  '',
  'y',
  'o',
  '(',
  '',
  '',
  '',
  '\"',
  '0',
  '',
  '',
  '\x1F',
  '',
  '\x04',
  '',
  '',
  '',
  '',
  'q',
  'L',
  '\x81',
  '>',
  'Y',
  '',
  '',
  'd',
  '',
  '',
  '',
  ',',
  '',
  '',
  'S',
  'O',
  '',
  '',
  '\x14',
  '',
  '\x90',
  ')',
  '',
  'e',
  '.',
  '7',
  'T',
  '',
  'A',
  'X',
  '',
  'B',
  '',
  '\xFF',
  '',
  '#',
  '',
  '',
  '\x03',
  '',
  'I',
  '\x06',
  '',
  '',
  '\x0F',
  '',
  '',
  '',
  'h',
  ']',
  '',
  's',
  'z',
  '',
  '5',
  'p',
  '',
  '',
  'm',
  'G',
  'Z',
  'c',
  'b',
  'a',
  '',
  '^',
  '!',
  '',
  '\x8D',
  '\a',
  '',
  '\x17',
  '',
  '*',
  '',
  '3',
  'w',
  '=',
  'l',
  '',
  '',
  '\'',
  '\x12',
  '_',
  '\v',
  '',
  '',
  '\x01',
  '',
  'F',
  'E',
  '\x13',
  '',
  '',
  '8',
  '\\',
  '',
  '<',
  '',
  'g',
  '',
  '|',
  '',
  '\r',
  '}',
  'd',
  '',
  '8',
  'p',
  '',
  '7',
  '',
  '&',
  '',
  '',
  '',
  '',
  'H',
  '',
  '',
  '-',
  '\x19',
  '',
  '',
  '!',
  '',
  '\x81',
  '',
  '\x06',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  '\'',
  's',
  '',
  '_',
  'K',
  '',
  '',
  '/',
  ']',
  '',
  '\0',
  'S',
  'P',
  '`',
  '',
  '',
  '\x8D',
  '|',
  '\x90',
  '',
  '\b',
  '',
  'T',
  '',
  '',
  '',
  '\x13',
  '4',
  '\"',
  'L',
  '0',
  '',
  'X',
  '^',
  '',
  '2',
  'O',
  'n',
  'M',
  '{',
  '',
  '\t',
  '\x04',
  '',
  '\x1C',
  '',
  'N',
  't',
  '',
  '',
  '3',
  'I',
  'B',
  'o',
  '',
  'z',
  '',
  'c',
  'e',
  '',
  '9',
  '',
  '\x1D',
  '5',
  'J',
  'i',
  'm',
  '',
  '\x02',
  '',
  '',
  '\r',
  '',
  'r',
  'V',
  '',
  '',
  '',
  '',
  '\a',
  '\x7F',
  '',
  '',
  '}',
  '',
  '+',
  '',
  '',
  '',
  ' ',
  '',
  '',
  '',
  'j',
  '',
  '',
  '',
  '\x1A',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x0F',
  '',
  '\x9D',
  '',
  'E',
  'D',
  '',
  '\x15',
  'C',
  '',
  '',
  '6',
  '\x17',
  'G',
  '',
  'u',
  '\x12',
  '',
  '',
  '<',
  '',
  '',
  '\x10',
  '>',
  '',
  'f',
  '\x8F',
  '',
  '\x1E',
  ')',
  '\x11',
  '',
  'A',
  '',
  'U',
  '\x18',
  '',
  '@',
  '\x03',
  'x',
  '',
  '1',
  '',
  'Q',
  '',
  '',
  '',
  '\v',
  '=',
  ',',
  '\xFF',
  '',
  '\f',
  '\x14',
  '\x0E',
  '',
  '',
  ';',
  '',
  '',
  'q',
  '.',
  '\x16',
  'b',
  'a',
  '\x05',
  '',
  '',
  '*',
  '',
  '',
  '',
  '',
  'Z',
  'h',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  'g',
  '?',
  'y',
  'F',
  '$',
  'R',
  '',
  '[',
  '',
  '#',
  '\\',
  'l',
  '\x01',
  '(',
  '%',
  '',
  '',
  '',
  '',
  '',
  '',
  'w',
  '',
  '',
  '\n',
  '',
  '',
  'Y',
  'v',
  'W',
  '',
  '',
  '',
  'k',
  '',
  '~',
  '',
  ':',
  'i',
  '\x19',
  '+',
  '',
  '<',
  'a',
  '',
  '',
  '',
  '\x05',
  '',
  '',
  'b',
  'l',
  '',
  '',
  '',
  '',
  'S',
  'J',
  ']',
  '',
  '',
  'f',
  '',
  '',
  ';',
  '',
  '4',
  '\x1D',
  '\b',
  '',
  '',
  'Y',
  '',
  '\x11',
  '/',
  '',
  '',
  '',
  '',
  '\r',
  '5',
  '',
  '',
  '',
  '',
  ' ',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x13',
  '\n',
  '',
  '',
  '',
  ':',
  '',
  '',
  '',
  'r',
  'p',
  '',
  '',
  '',
  'N',
  '{',
  '',
  'I',
  '\xFF',
  '8',
  '',
  '=',
  'q',
  'L',
  '',
  '\t',
  '7',
  '',
  '',
  '',
  '^',
  '',
  '\0',
  '',
  '',
  's',
  '\x10',
  '\'',
  '_',
  'z',
  '',
  '9',
  '',
  'V',
  '.',
  '\x02',
  '`',
  '',
  '',
  '(',
  '\x0F',
  '',
  '',
  '',
  'K',
  'C',
  '\x0E',
  '',
  '6',
  '\x18',
  '',
  '',
  '\x1E',
  '',
  '\x9D',
  '',
  'o',
  '!',
  '',
  'T',
  '}',
  '&',
  '%',
  '',
  '',
  '',
  '',
  '0',
  'd',
  'U',
  'P',
  '\a',
  '?',
  'e',
  't',
  '',
  '',
  '',
  '\x90',
  '',
  'W',
  '',
  'v',
  '',
  ',',
  '',
  '#',
  'M',
  '',
  '\v',
  '\x81',
  '',
  '',
  '\x12',
  '\"',
  'Z',
  '',
  '3',
  '',
  'k',
  '\x04',
  '\x15',
  '',
  '',
  '',
  'D',
  '',
  '\x1A',
  '',
  '[',
  '',
  '',
  '',
  'h',
  'Q',
  '',
  '\x17',
  '\\',
  '',
  '1',
  'F',
  '',
  '\f',
  '',
  '|',
  '*',
  'G',
  '',
  '',
  '\x8D',
  '\x1B',
  '',
  '',
  'w',
  '',
  '',
  '',
  '\x06',
  '',
  'j',
  '',
  'X',
  '2',
  'g',
  '',
  'H',
  ')',
  '$',
  '',
  '',
  'n',
  'y',
  '',
  '\x01',
  'E',
  '~',
  '>',
  'B',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  'O',
  '\x8F',
  '',
  'R',
  '',
  'u',
  '',
  '',
  '',
  '',
  '',
  '\x14',
  '',
  'x',
  '\x1C',
  '',
  '\x16',
  '@',
  'A',
  '',
  'm',
  '-',
  '',
  'c',
  '',
  '',
  '\x03',
  '\x12',
  '',
  'd',
  '',
  '>',
  '\f',
  '',
  '\n',
  '',
  '\x14',
  '*',
  '',
  'T',
  '#',
  '',
  'E',
  '!',
  '',
  's',
  '.',
  'N',
  '\x9D',
  'k',
  '',
  'y',
  '\xFF',
  'O',
  '',
  'W',
  'w',
  '\x02',
  ',',
  '',
  '',
  '{',
  't',
  '',
  ' ',
  'M',
  '',
  '',
  '',
  '\x04',
  ')',
  '6',
  '\x18',
  '',
  '\x16',
  '',
  '',
  '',
  '',
  '',
  '%',
  'n',
  '`',
  'v',
  '\x0F',
  '\'',
  '',
  '',
  '',
  '',
  '',
  '',
  'l',
  '',
  '_',
  '&',
  'b',
  '',
  '1',
  '',
  'm',
  '',
  '',
  '',
  '',
  '7',
  '2',
  'C',
  'I',
  '',
  '',
  '\x1A',
  '5',
  '',
  '',
  '\0',
  'D',
  'c',
  '',
  'x',
  '^',
  '',
  'B',
  '',
  'Y',
  '',
  '',
  '',
  '$',
  '',
  '',
  '',
  'p',
  '',
  '',
  '',
  ':',
  '\\',
  '',
  'F',
  '|',
  'Z',
  '',
  '0',
  '',
  '4',
  '',
  '\x7F',
  '',
  '',
  'j',
  'K',
  '',
  '',
  '',
  '',
  '-',
  '',
  '\b',
  '\x06',
  '\x11',
  '',
  'G',
  '',
  '',
  '9',
  '',
  'u',
  '',
  '',
  '~',
  '',
  '',
  '',
  'V',
  '+',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1E',
  'g',
  '',
  '',
  '',
  '=',
  '',
  '',
  'o',
  '\x03',
  'r',
  '',
  'f',
  '\r',
  '',
  '',
  '\x17',
  '\x90',
  '/',
  'h',
  '',
  '',
  '\x0E',
  '',
  '',
  'R',
  '\x19',
  '',
  '\x15',
  '\v',
  'U',
  '',
  'i',
  '',
  '\x8F',
  'z',
  '',
  '',
  '[',
  '',
  ']',
  '',
  '',
  '\a',
  '',
  '\"',
  '',
  '\x13',
  'X',
  '',
  '\x81',
  '',
  '',
  '',
  '',
  '',
  '',
  'H',
  '\x1B',
  '',
  '',
  '',
  'a',
  '',
  '\x1F',
  '\x1D',
  'P',
  '',
  '',
  '(',
  '',
  '',
  '\t',
  '\x05',
  '3',
  '',
  '@',
  '',
  'Q',
  '',
  '\x1C',
  'S',
  '?',
  '',
  'A',
  '\x8D',
  '\x10',
  'L',
  ';',
  '<',
  'e',
  '8',
  'q',
  'J',
  '\x01',
  '}',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'k',
  '\x12',
  '',
  '',
  '',
  '',
  'r',
  '\x11',
  '\x03',
  '',
  '',
  '',
  '',
  '',
  '',
  '3',
  '',
  '\x1E',
  '',
  '@',
  'd',
  '',
  '\x1B',
  '',
  '',
  '\x15',
  '',
  '*',
  '',
  '.',
  '',
  '\\',
  '',
  '',
  'q',
  '',
  '5',
  '#',
  'v',
  'b',
  '\x06',
  'a',
  '\x14',
  'K',
  '$',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  '\x0F',
  'l',
  '',
  '',
  '?',
  '',
  '',
  '8',
  '\"',
  'P',
  '\x17',
  '',
  '',
  '\a',
  '\x8F',
  '',
  '',
  '',
  'T',
  '<',
  '~',
  '',
  '',
  '',
  '\t',
  '',
  '&',
  '\x04',
  '\0',
  '',
  '',
  '\x02',
  '',
  'o',
  '',
  '',
  '',
  '',
  'C',
  '!',
  '',
  'g',
  '',
  '',
  '',
  '',
  '',
  '',
  '(',
  '',
  '^',
  '',
  'p',
  '',
  '',
  't',
  '',
  '',
  '',
  'f',
  '',
  'Q',
  '',
  '',
  '',
  '',
  '[',
  '',
  '',
  '',
  'm',
  '{',
  '\x81',
  '6',
  '',
  '4',
  'Y',
  '\x19',
  '',
  '\x1C',
  '',
  'u',
  'j',
  'E',
  '',
  '',
  'c',
  'O',
  '1',
  'n',
  '\x18',
  'i',
  'e',
  '',
  '',
  'J',
  '',
  '0',
  '-',
  '',
  '',
  '',
  '',
  '',
  '\x01',
  'I',
  '',
  ',',
  '',
  'R',
  '',
  'L',
  '=',
  '',
  '\x1F',
  'H',
  'F',
  '',
  '',
  ':',
  '',
  '\x90',
  'S',
  'y',
  '',
  '',
  '',
  '\n',
  '\x9D',
  '',
  '',
  '\v',
  '',
  '',
  '+',
  '\x8D',
  '',
  'w',
  '',
  '',
  '\b',
  'D',
  'h',
  '',
  '_',
  '\x13',
  '',
  'X',
  '',
  '\f',
  ']',
  ';',
  '/',
  '',
  '\r',
  '\x7F',
  'z',
  '',
  '\x16',
  '|',
  '7',
  's',
  '\x1A',
  '9',
  'U',
  '',
  '',
  ')',
  '\x05',
  '',
  '',
  '',
  'G',
  '',
  '',
  '',
  '',
  '\xFF',
  '2',
  'N',
  '}',
  '\x1D',
  'V',
  'M',
  '',
  '',
  '\x10',
  '\'',
  '',
  '',
  '',
  '%',
  '',
  '>',
  ' ',
  'x',
  '`',
  '',
  'W',
  'B',
  'Z',
  'A',
  '',
  '',
  '`',
  '',
  '',
  '',
  '',
  '+',
  '',
  'I',
  '',
  '',
  '',
  'N',
  '2',
  '',
  '',
  '\x9D',
  '',
  '',
  '-',
  '\r',
  '\x0E',
  '*',
  ';',
  '',
  '\x17',
  '\x05',
  'U',
  'g',
  '\x0F',
  'G',
  'b',
  'R',
  '',
  '',
  '(',
  'm',
  '',
  '\x1E',
  '',
  '\\',
  'i',
  '',
  '\x1D',
  '8',
  '',
  '',
  '',
  'j',
  '\0',
  'y',
  '\x90',
  '',
  '',
  '',
  '\x81',
  '',
  '\x1A',
  '',
  '?',
  '',
  '',
  'K',
  '=',
  '',
  '\xFF',
  '',
  '\x7F',
  'H',
  '',
  '',
  '9',
  '/',
  '\x19',
  '',
  'q',
  '',
  'n',
  '\x11',
  '@',
  '',
  '',
  '',
  '',
  'D',
  '',
  '',
  '',
  '',
  '\n',
  '',
  'p',
  's',
  '',
  '',
  '',
  '\x13',
  '',
  '',
  '|',
  'O',
  'S',
  '',
  '\x12',
  'l',
  '',
  '\x1F',
  '',
  '',
  '\a',
  'u',
  '',
  '$',
  '}',
  '',
  '7',
  '',
  '{',
  '',
  '3',
  '',
  '[',
  '',
  '\f',
  ',',
  'k',
  '',
  '%',
  '1',
  'P',
  '^',
  'w',
  '',
  ' ',
  '',
  '',
  '',
  '&',
  '\x01',
  'F',
  '',
  '\v',
  'X',
  '',
  '\x02',
  'M',
  '',
  '',
  'E',
  'A',
  '#',
  '',
  'r',
  '',
  '',
  '_',
  '',
  '',
  '',
  '6',
  '\x14',
  't',
  '',
  '\"',
  '',
  'f',
  '\x8F',
  'T',
  '\b',
  '',
  'Z',
  ':',
  '',
  '',
  '',
  '\x15',
  'c',
  '',
  '',
  '',
  'Q',
  '<',
  '',
  '',
  '',
  '!',
  'Y',
  '\x18',
  '',
  ')',
  '',
  '',
  '',
  '',
  '5',
  '',
  '',
  '',
  '',
  '\x8D',
  '',
  '0',
  '',
  '',
  'B',
  '\'',
  'x',
  '~',
  '4',
  'e',
  'W',
  '.',
  '>',
  '',
  '',
  '',
  '',
  '',
  '',
  'C',
  'z',
  'v',
  '\x1B',
  '\x1C',
  '',
  '',
  '',
  '\x16',
  '',
  'o',
  '',
  '\x03',
  'L',
  'V',
  'd',
  '',
  'h',
  '',
  '',
  '',
  '',
  '',
  'a',
  '',
  '',
  '',
  '\x04',
  '\x06',
  '',
  'J',
  '',
  ']',
  '',
  '\x10',
  '',
  '\t',
  '`',
  '',
  '',
  ' ',
  'M',
  '5',
  'I',
  '\x8F',
  ']',
  '3',
  '',
  '',
  '',
  '',
  '\x06',
  '',
  'O',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  'y',
  '',
  '\x12',
  '\x1D',
  ':',
  '',
  '',
  '9',
  '',
  '\t',
  '\x10',
  's',
  '\x9D',
  'q',
  '',
  'C',
  '$',
  '',
  '',
  'g',
  '\x1C',
  '\x1E',
  '\x01',
  '',
  '',
  '\x1B',
  '#',
  '',
  '',
  '\x15',
  'F',
  '0',
  '\r',
  '@',
  '',
  '',
  'o',
  'k',
  '%',
  'S',
  '.',
  '?',
  '\\',
  '',
  '*',
  '',
  '\v',
  '\x0E',
  'L',
  '',
  '',
  '',
  '',
  'h',
  '',
  '',
  'K',
  '',
  '',
  '',
  '',
  '',
  '\x16',
  '\x7F',
  'B',
  '',
  'J',
  '',
  '',
  '',
  ')',
  '',
  '',
  'j',
  '4',
  '',
  '',
  '',
  '',
  '',
  '/',
  'a',
  '\x04',
  'v',
  '',
  'b',
  '[',
  'G',
  '\x90',
  'f',
  'l',
  'N',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x0F',
  'w',
  '6',
  '',
  '|',
  '\x81',
  'R',
  'r',
  'x',
  '',
  '!',
  '',
  '',
  '\x11',
  'c',
  '\x13',
  '',
  '',
  'U',
  'u',
  '',
  '',
  '-',
  '\b',
  '2',
  '',
  '',
  '',
  '\x17',
  'W',
  '',
  '7',
  'i',
  '+',
  '',
  '',
  '',
  '<',
  '',
  '',
  '',
  'Q',
  'A',
  'd',
  'Y',
  'n',
  '\x19',
  '',
  '',
  'D',
  '\x14',
  '{',
  '',
  '',
  '',
  'P',
  'H',
  '\0',
  '',
  '',
  '',
  '1',
  't',
  '=',
  '}',
  '',
  '',
  '',
  '',
  '',
  '',
  'm',
  'T',
  'Z',
  '(',
  '',
  '',
  '\f',
  'e',
  '',
  '>',
  '',
  '~',
  '\x05',
  '\xFF',
  ';',
  '',
  '',
  '',
  '',
  '\x8D',
  '',
  '\"',
  ',',
  '',
  '\x1F',
  '8',
  '',
  '',
  '&',
  '',
  '',
  '\'',
  'E',
  '',
  'V',
  '',
  '',
  '',
  '\x03',
  '',
  'z',
  '',
  '^',
  '\a',
  '',
  '\x1A',
  '',
  '_',
  'p',
  '\x18',
  '',
  '',
  'X',
  '',
  '',
  '\n',
  '',
  'K',
  '',
  '',
  '\x15',
  '',
  'y',
  'c',
  '',
  '',
  '4',
  '\x8F',
  '',
  '',
  '=',
  'j',
  '',
  '',
  '',
  'z',
  'H',
  '',
  '\x10',
  'S',
  '',
  '3',
  'N',
  ' ',
  '',
  '',
  ',',
  '\a',
  'L',
  '',
  'F',
  '',
  '',
  'v',
  '',
  '',
  ';',
  '',
  '',
  '\x8D',
  '5',
  '~',
  '',
  'k',
  '\x16',
  '',
  '',
  '',
  'B',
  '!',
  '',
  'V',
  'I',
  '',
  '',
  '6',
  '\x0E',
  '\v',
  ']',
  '\f',
  '',
  '\x14',
  '',
  '8',
  '\x1B',
  '<',
  'Z',
  '\x13',
  '\x1E',
  'A',
  'E',
  'C',
  'p',
  '',
  '',
  '',
  'a',
  '',
  '',
  '\x0F',
  'G',
  '',
  'X',
  '|',
  '\x05',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  '',
  'h',
  '',
  'w',
  '',
  '',
  '',
  'r',
  'q',
  '\x18',
  '\r',
  'O',
  '`',
  '',
  '',
  '{',
  '\'',
  '',
  '',
  '(',
  '\x01',
  'R',
  '',
  ':',
  '',
  '',
  '',
  'x',
  '',
  '\b',
  'i',
  '',
  '-',
  '\t',
  '\x03',
  '',
  'd',
  '\x1C',
  '',
  '',
  '_',
  '\0',
  '\x19',
  '.',
  '',
  '',
  '',
  'J',
  '',
  '?',
  '\n',
  '1',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '0',
  '',
  '',
  '',
  '',
  '7',
  '',
  '',
  '\x06',
  '',
  '\x90',
  '',
  'D',
  'n',
  '',
  '',
  '',
  '',
  '',
  '9',
  ')',
  '\x1F',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  '',
  '*',
  '',
  '\x02',
  '\x9D',
  '',
  '',
  '%',
  '\"',
  '',
  'o',
  '$',
  'g',
  '',
  'm',
  '',
  '^',
  '',
  'u',
  '>',
  '',
  '',
  '',
  '',
  '#',
  'Y',
  '',
  '',
  'l',
  '2',
  'T',
  '/',
  '',
  '',
  '',
  '',
  '&',
  '',
  '\x1A',
  '\x12',
  '}',
  'W',
  '',
  '',
  'M',
  '',
  '\x81',
  'e',
  '@',
  '\xFF',
  '',
  '',
  'f',
  '\x04',
  'U',
  '',
  '',
  'Q',
  'P',
  '',
  '[',
  '\x11',
  '\x17',
  '+',
  'b',
  '',
  '',
  '',
  '\\',
  '',
  '',
  '',
  '',
  's',
  '',
  '',
  'm',
  '',
  '4',
  '',
  '',
  '',
  '',
  '',
  '',
  ',',
  '',
  '',
  '\x90',
  '',
  '',
  '',
  ':',
  '',
  '',
  '',
  '3',
  '',
  'G',
  '',
  '',
  '(',
  '',
  'v',
  '',
  '{',
  'W',
  '[',
  '\x1D',
  '!',
  '9',
  '?',
  '',
  '',
  'I',
  '',
  '\x1F',
  'q',
  ']',
  '',
  '',
  '\x03',
  '',
  '\x14',
  '\0',
  '',
  '\x81',
  '',
  't',
  '',
  '$',
  '\x1C',
  '=',
  '\x7F',
  '',
  'X',
  '&',
  'B',
  '7',
  '',
  'p',
  '',
  '\"',
  'T',
  '+',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1A',
  '',
  '~',
  '2',
  'k',
  '\x01',
  '',
  '',
  '',
  '',
  '',
  '',
  'a',
  '*',
  '',
  'Q',
  '',
  '',
  'u',
  'z',
  '',
  '',
  'E',
  '',
  '',
  '\b',
  '',
  'l',
  '',
  '',
  '',
  '}',
  '\n',
  '',
  'n',
  '',
  '',
  '',
  '',
  '',
  'C',
  '',
  'A',
  '',
  '',
  '`',
  '',
  '',
  'b',
  '',
  '',
  'J',
  'D',
  '\x9D',
  '',
  '-',
  '',
  '',
  '',
  '',
  '\t',
  'd',
  's',
  'w',
  '',
  'Z',
  '%',
  '\\',
  'V',
  '#',
  '_',
  'g',
  '',
  '',
  'R',
  'P',
  '\a',
  'L',
  'r',
  '',
  'U',
  '\v',
  '',
  '',
  '|',
  '',
  'N',
  '',
  '',
  '\x06',
  '\f',
  '>',
  '',
  'O',
  '',
  '',
  '.',
  'j',
  '\x17',
  'x',
  '\x19',
  'y',
  '@',
  '',
  'h',
  '\x0E',
  '\x11',
  '\x1B',
  '\x16',
  '',
  'H',
  '',
  '',
  'i',
  '',
  '\x10',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x12',
  'Y',
  '0',
  '',
  '',
  '\x1E',
  '8',
  'c',
  '^',
  '',
  '',
  'K',
  '/',
  '\x8F',
  '',
  'S',
  '',
  '\r',
  '\x05',
  '\x04',
  '',
  '',
  '\x02',
  '5',
  '',
  '1',
  '',
  '',
  '6',
  ';',
  '',
  '',
  'M',
  'F',
  '',
  '\x18',
  ' ',
  '\x13',
  '',
  '<',
  '',
  '',
  '\x15',
  '',
  'e',
  'o',
  'f',
  '\x0F',
  '\'',
  '',
  '',
  '\xFF',
  '',
  '',
  '\x8D',
  '',
  ')',
  '',
  '',
  '',
  '\b',
  '',
  '',
  'B',
  '6',
  'c',
  '8',
  ',',
  '',
  'Q',
  'H',
  '',
  '',
  'x',
  'm',
  '',
  '!',
  '\x11',
  '',
  '\x05',
  '',
  'v',
  '',
  '\x0E',
  '\x1A',
  's',
  ' ',
  '|',
  '\f',
  '',
  'M',
  '@',
  '',
  '',
  '',
  'R',
  '',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '0',
  '',
  'P',
  '',
  '\x8F',
  '',
  '',
  '',
  '',
  '',
  '#',
  'U',
  '',
  '<',
  '=',
  '\x9D',
  '\x14',
  '',
  '\x03',
  '',
  '',
  '',
  '\x18',
  '',
  'n',
  'o',
  '\r',
  '',
  'e',
  '',
  '\\',
  '',
  '{',
  '[',
  '-',
  '',
  'D',
  '',
  '',
  '',
  'O',
  '\x1B',
  '$',
  '',
  'k',
  '~',
  '\"',
  '',
  '',
  '',
  '\x0F',
  '',
  '\x10',
  '',
  'T',
  '',
  'b',
  '\t',
  '',
  '',
  '&',
  '',
  '\x19',
  'r',
  '',
  'G',
  '5',
  '\x12',
  '',
  '\n',
  '',
  '',
  'g',
  '',
  'l',
  'S',
  '`',
  '',
  ']',
  'p',
  '',
  'I',
  '?',
  '',
  '',
  '9',
  '',
  'L',
  '',
  'V',
  '_',
  '\x8D',
  '\a',
  '',
  '*',
  'N',
  '',
  '',
  '\x1C',
  '2',
  '\x06',
  '',
  '',
  '',
  '',
  '',
  ':',
  '/',
  '',
  '',
  '.',
  '\v',
  'Y',
  '',
  '',
  '',
  't',
  'u',
  '',
  '',
  'i',
  '',
  '\x01',
  '\x15',
  '',
  '',
  '',
  'A',
  '\x17',
  '\x04',
  'f',
  '',
  '\x13',
  '',
  '\x90',
  '4',
  '',
  'y',
  '\0',
  '',
  '',
  'h',
  '\x81',
  '',
  '',
  '',
  'X',
  '7',
  'C',
  'E',
  'F',
  '',
  '+',
  'q',
  '\x1D',
  '1',
  '',
  '',
  '',
  ';',
  'j',
  '%',
  '',
  '3',
  'W',
  'z',
  '',
  '',
  '\'',
  '\x1E',
  '',
  'w',
  ')',
  '',
  '',
  'd',
  '\x1F',
  '',
  '^',
  '',
  '\x16',
  '(',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '}',
  '',
  '',
  'J',
  '',
  '\xFF',
  'Z',
  '',
  '',
  '',
  'K',
  'a',
  '>',
  '',
  'w',
  '',
  'n',
  '',
  '',
  '',
  'b',
  '',
  '\x03',
  '-',
  '\x1F',
  'x',
  '\"',
  '',
  '',
  'y',
  '',
  '[',
  '\x02',
  ',',
  '|',
  '\x9D',
  '',
  '',
  '',
  'V',
  'W',
  ')',
  '1',
  '',
  '\x18',
  '',
  '',
  '',
  '@',
  '',
  '',
  '',
  ':',
  'R',
  '\x1C',
  '\x12',
  '$',
  '\x01',
  '',
  '',
  '9',
  '\b',
  '',
  '',
  '',
  'O',
  '\x05',
  '',
  '',
  '',
  'e',
  '',
  '\x10',
  '',
  '+',
  '\f',
  '`',
  '',
  '',
  'F',
  '',
  '',
  '(',
  '\xFF',
  '\x90',
  '',
  '',
  '',
  '',
  'Y',
  'L',
  '\\',
  ' ',
  'Z',
  '',
  '',
  '',
  '',
  '',
  '',
  'T',
  '\x04',
  '{',
  '',
  '7',
  'J',
  '',
  'c',
  'C',
  '\x11',
  '\x8D',
  '',
  'd',
  'N',
  '',
  'M',
  '',
  '',
  '',
  'X',
  '',
  '',
  '',
  '',
  '',
  '',
  '\n',
  'A',
  'm',
  '',
  '',
  '',
  '',
  '',
  'l',
  'u',
  '',
  'h',
  '&',
  's',
  '',
  '',
  '',
  '',
  '',
  '',
  'K',
  '\x0F',
  '',
  '',
  '',
  '',
  'k',
  '',
  '',
  ';',
  '',
  'j',
  '<',
  '#',
  '3',
  '\x8F',
  'I',
  '',
  '\x15',
  '',
  '',
  '',
  '*',
  '',
  '',
  '',
  '\a',
  'G',
  'z',
  'v',
  '',
  '',
  't',
  '\x1D',
  '%',
  '}',
  '\t',
  '',
  '',
  '_',
  '',
  '\x0E',
  '',
  '/',
  'P',
  '',
  ']',
  '',
  'p',
  'E',
  '\x16',
  '',
  '',
  '',
  'H',
  'g',
  'i',
  '',
  'r',
  '',
  'a',
  '',
  '',
  '',
  'q',
  '',
  '',
  '\x13',
  '',
  '',
  '',
  'S',
  '',
  '',
  '',
  '!',
  '',
  '\x7F',
  '',
  '',
  '>',
  '',
  '\x14',
  '\x1B',
  '',
  '',
  '8',
  '\x06',
  '\x19',
  '',
  '6',
  '\x1A',
  '5',
  '0',
  'U',
  '\x1E',
  '\x81',
  'o',
  '^',
  '',
  '',
  '=',
  'f',
  'Q',
  '',
  'B',
  '\'',
  '.',
  '',
  '',
  '?',
  '',
  '4',
  '',
  '\x17',
  '\v',
  '',
  '~',
  '\0',
  '2',
  'D',
  '',
  '\r',
  '',
  '',
  '',
  '',
  '\x01',
  '{',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '\"',
  '\x1E',
  '9',
  '',
  '',
  'v',
  'j',
  '',
  '',
  'o',
  '',
  '\x7F',
  '',
  '',
  '\a',
  '',
  '',
  '',
  '',
  'q',
  '',
  '>',
  '.',
  '4',
  'H',
  'i',
  '',
  '',
  '\x1A',
  '\x02',
  '',
  '\x15',
  '',
  '',
  'l',
  ',',
  '',
  '1',
  '\b',
  '\x8D',
  '~',
  '',
  '',
  '',
  '\\',
  '_',
  '\x13',
  '',
  '',
  '',
  '\t',
  '=',
  '8',
  '',
  '',
  '',
  '',
  '',
  'I',
  '-',
  '',
  '\x14',
  '2',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  'Z',
  'N',
  'n',
  '',
  '',
  'M',
  'h',
  '?',
  '',
  '\x1D',
  ')',
  'g',
  'A',
  '/',
  'K',
  '',
  '$',
  '',
  '',
  '',
  '',
  ':',
  'X',
  '',
  '\f',
  '',
  '',
  '',
  '\x0E',
  'O',
  '\x1B',
  '',
  '',
  '',
  '',
  '',
  '\x90',
  '',
  'w',
  'x',
  '6',
  '',
  '',
  '[',
  '',
  '!',
  '',
  '',
  'b',
  '',
  '',
  '',
  '\x18',
  '|',
  '\x1C',
  'P',
  '',
  '',
  '&',
  '',
  '',
  '',
  '\v',
  '\x0F',
  'B',
  '\x11',
  '',
  's',
  '',
  '',
  '\x19',
  'e',
  '\x9D',
  ';',
  '',
  'y',
  'c',
  '',
  '',
  '',
  '',
  '',
  '',
  'k',
  'G',
  '\xFF',
  '+',
  '\x03',
  '',
  '',
  '',
  'T',
  '',
  'a',
  '^',
  '*',
  '',
  '',
  '<',
  'J',
  '',
  '%',
  '',
  '\x81',
  '',
  'U',
  '\n',
  '\x06',
  '3',
  ']',
  '',
  'm',
  '`',
  '\x05',
  '',
  '',
  '',
  '',
  'C',
  '',
  'u',
  'E',
  '',
  '',
  '\'',
  '0',
  'r',
  't',
  '',
  '7',
  '\x10',
  '',
  'R',
  '',
  'Y',
  '\x04',
  'p',
  '',
  '',
  '\r',
  '',
  'z',
  'S',
  'F',
  'f',
  '',
  '(',
  '@',
  '\x16',
  '',
  '',
  '#',
  'W',
  '5',
  '}',
  '',
  'Q',
  'd',
  '',
  '',
  ' ',
  '',
  '',
  '',
  '\x8F',
  '',
  'D',
  '\x17',
  '',
  '',
  '',
  '',
  'L',
  'V',
  '\0',
  'i',
  '',
  '',
  '\x01',
  '',
  'K',
  'g',
  '',
  '',
  '\x81',
  '',
  '',
  '',
  'h',
  '',
  '',
  '',
  '',
  'f',
  '',
  '',
  '',
  '',
  'v',
  '',
  '\x7F',
  '',
  '\x05',
  'u',
  '<',
  'G',
  '\x04',
  '',
  '',
  '{',
  '',
  '',
  '/',
  '\x10',
  '!',
  '\x1D',
  '\x0F',
  'y',
  '',
  '=',
  '',
  '\a',
  '\x8F',
  '',
  '\x17',
  '',
  '',
  'O',
  'W',
  'H',
  '',
  'a',
  '\x15',
  'x',
  '',
  '1',
  ';',
  '',
  'B',
  '',
  '',
  '',
  '#',
  'T',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '',
  'X',
  '\x18',
  '',
  '2',
  '6',
  '',
  'Z',
  '\n',
  'q',
  '',
  '',
  '\x03',
  '\v',
  '',
  '',
  '+',
  '',
  '\b',
  't',
  'F',
  'E',
  '\x19',
  '',
  '',
  '',
  '',
  '',
  'L',
  '\x16',
  '9',
  '',
  '',
  '4',
  'n',
  '',
  '',
  '^',
  '',
  'M',
  'j',
  'V',
  ',',
  '&',
  '\'',
  '',
  '',
  'd',
  '\x1E',
  '',
  '',
  '',
  '\t',
  '',
  '',
  'k',
  'I',
  '',
  '',
  'N',
  '',
  '',
  's',
  'p',
  'Y',
  '',
  '',
  'w',
  '',
  '>',
  'e',
  '0',
  ':',
  '*',
  '\x1A',
  '\x14',
  'm',
  '',
  '',
  '',
  'J',
  '\\',
  '\x90',
  '$',
  '8',
  '',
  '',
  'R',
  '',
  '.',
  '@',
  '',
  'Q',
  '',
  '',
  '\"',
  '',
  '',
  '',
  '\r',
  '',
  '',
  '',
  ' ',
  'l',
  '',
  '\x11',
  '-',
  '',
  '',
  '',
  'A',
  '',
  '\x13',
  '',
  '\x1C',
  '',
  '',
  '\f',
  '',
  '',
  ']',
  '',
  '3',
  '_',
  '',
  'S',
  'P',
  '',
  'c',
  '?',
  '',
  '7',
  '}',
  'D',
  '',
  '',
  '',
  '',
  '\x1F',
  '',
  '%',
  'C',
  '',
  '\xFF',
  'o',
  '\x0E',
  '',
  'U',
  '5',
  '[',
  '',
  ')',
  '',
  '',
  '',
  '`',
  '~',
  '',
  '\x06',
  '',
  '',
  '\x8D',
  '\x12',
  '',
  '',
  '|',
  '',
  '\x02',
  'b',
  '',
  '\x1B',
  '\0',
  '',
  '',
  '(',
  'z',
  '',
  'r',
  '',
  '',
  't',
  '',
  '',
  '',
  ';',
  '',
  '@',
  '',
  '',
  'h',
  'c',
  '',
  '\x0E',
  'A',
  '',
  '',
  '',
  'q',
  'O',
  'b',
  'k',
  '\x12',
  '\x16',
  ']',
  'n',
  'I',
  '',
  ')',
  'V',
  '',
  'D',
  '',
  '',
  '-',
  'S',
  '\x04',
  'u',
  '\x1F',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '8',
  '',
  '\"',
  '',
  '',
  '',
  '9',
  '*',
  '4',
  'r',
  '',
  '_',
  '',
  '',
  '',
  '',
  '',
  '',
  'W',
  '',
  '?',
  '\x9D',
  'v',
  '!',
  '$',
  '',
  '\x90',
  '',
  '',
  '',
  '',
  '',
  '',
  's',
  '#',
  '',
  '~',
  'Q',
  '',
  'd',
  'N',
  '\x1C',
  '&',
  'Y',
  '',
  '>',
  '',
  '',
  '.',
  '|',
  '6',
  'B',
  '\xFF',
  '\x8D',
  '\r',
  '',
  '\x1E',
  '',
  'l',
  '',
  '\x14',
  '\x17',
  'p',
  '',
  '',
  '',
  '+',
  '',
  '\x13',
  'H',
  'g',
  '',
  '',
  '',
  '\x03',
  '',
  '\v',
  '',
  '\x1B',
  '(',
  'L',
  '',
  '\x8F',
  'y',
  '\x06',
  '\x05',
  '',
  '',
  '',
  '^',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  'X',
  'G',
  '\x11',
  '',
  'f',
  '',
  '',
  'P',
  '/',
  '',
  '%',
  'w',
  '',
  '0',
  '',
  'R',
  '',
  '',
  '\\',
  'F',
  '',
  '\f',
  'Z',
  '\x0F',
  'U',
  '',
  'j',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '',
  '',
  '',
  ':',
  '\a',
  '',
  '',
  '',
  '',
  '',
  '',
  '}',
  '[',
  '`',
  '{',
  '',
  '',
  ' ',
  '',
  '\x01',
  '\x10',
  '\t',
  'M',
  '',
  'e',
  ',',
  '',
  'm',
  '\x18',
  '\x1A',
  '2',
  '',
  '7',
  '\x19',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '',
  'z',
  '',
  'x',
  'T',
  '',
  '',
  '',
  'o',
  '',
  '5',
  'E',
  '\0',
  '',
  '',
  '\x15',
  '',
  '',
  '\'',
  '1',
  '<',
  '',
  '',
  '',
  'i',
  'K',
  '',
  '\x1D',
  '',
  '3',
  '',
  '\x81',
  'J',
  'C',
  'a',
  '\x7F',
  'g',
  '',
  '_',
  '',
  '',
  '',
  '',
  '-',
  '',
  'I',
  '',
  '',
  '',
  '',
  '\b',
  '^',
  'w',
  'i',
  '',
  '2',
  '',
  'p',
  '\x1A',
  '\x12',
  '',
  '\x0F',
  'M',
  '',
  '',
  '',
  '\v',
  'j',
  '\x06',
  '',
  '',
  '<',
  '',
  '',
  '',
  'O',
  '',
  '\0',
  '',
  'C',
  '',
  '',
  'J',
  '',
  '',
  's',
  '\x1E',
  ':',
  '',
  '',
  '',
  '',
  '!',
  '\x02',
  '+',
  '\x13',
  'Q',
  'W',
  '',
  'f',
  '\x14',
  '',
  '\'',
  'a',
  '4',
  'c',
  'm',
  '',
  'r',
  '\n',
  '=',
  '\\',
  '',
  'o',
  '0',
  '',
  'k',
  '',
  '',
  '\"',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '8',
  '\x04',
  'e',
  '[',
  '\x17',
  '',
  '',
  '\x1D',
  '7',
  'B',
  '',
  'y',
  '',
  '',
  '@',
  'G',
  '',
  'h',
  '',
  '\x9D',
  'q',
  '',
  '',
  '',
  'v',
  '',
  '\x03',
  '~',
  'V',
  '|',
  '\x1B',
  '',
  '',
  '',
  '',
  '\x05',
  'N',
  '',
  '\a',
  '',
  '3',
  '',
  '\x1C',
  '',
  '',
  '',
  't',
  '',
  '\x19',
  'Y',
  '',
  '',
  'Z',
  '\xFF',
  '9',
  '%',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '&',
  '',
  'l',
  '',
  'H',
  '/',
  '.',
  '?',
  'n',
  'u',
  ' ',
  '',
  'K',
  '',
  '',
  '',
  '\f',
  'd',
  '5',
  '\x10',
  '\x01',
  '(',
  '',
  '',
  '\x18',
  ')',
  '1',
  '',
  '',
  '',
  '',
  '`',
  'F',
  '',
  'T',
  'S',
  '',
  'z',
  ';',
  '',
  '$',
  '',
  '',
  '',
  '\x1F',
  '\x8D',
  '',
  '',
  '',
  '\x7F',
  'x',
  'U',
  'L',
  '',
  '\x90',
  '',
  '',
  '{',
  '',
  'A',
  '',
  '',
  'E',
  '',
  '',
  '',
  '\x11',
  '',
  '6',
  'R',
  '>',
  '',
  '',
  '',
  '}',
  '',
  '\r',
  '',
  '',
  '#',
  ',',
  'D',
  '',
  'b',
  '\x81',
  '',
  ']',
  '',
  '',
  '',
  '*',
  '\x8F',
  '',
  '\x0E',
  '\t',
  'X',
  'P',
  '',
  '',
  '',
  '\x16',
  '',
  'i',
  '',
  '',
  '',
  '',
  '\x01',
  '',
  '',
  '',
  '',
  ',',
  '7',
  '',
  '',
  '\xFF',
  'K',
  '',
  '&',
  '',
  '',
  ')',
  '',
  '0',
  '\x13',
  '',
  'F',
  '',
  '',
  'g',
  '^',
  'G',
  '~',
  '',
  '',
  '1',
  '\"',
  '',
  'M',
  'o',
  '',
  '\x02',
  '',
  ';',
  '3',
  '',
  '',
  'B',
  '',
  '',
  '=',
  '',
  '',
  '',
  '',
  '8',
  '',
  '\\',
  '[',
  'I',
  '\x06',
  'f',
  '',
  ']',
  '',
  'Z',
  '',
  '\'',
  '\x1C',
  '\x1E',
  '\r',
  'H',
  '',
  ' ',
  'Y',
  '',
  '',
  '',
  '',
  'S',
  '',
  'D',
  '',
  '',
  '(',
  '',
  '\t',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x04',
  '\f',
  'c',
  '',
  '<',
  '\x0E',
  '',
  '*',
  '',
  '',
  '',
  '\x19',
  '',
  '',
  'v',
  '@',
  'Q',
  '',
  '2',
  '\x1A',
  '',
  'w',
  '_',
  '',
  '{',
  's',
  '\x90',
  'P',
  'W',
  'k',
  '',
  '',
  'R',
  'a',
  '',
  'l',
  '',
  '\x10',
  '',
  '\x9D',
  '\x8D',
  '$',
  '!',
  'e',
  '+',
  'E',
  '',
  't',
  '\x12',
  '',
  '6',
  '',
  'u',
  '.',
  '?',
  '%',
  '',
  '',
  '\x1B',
  '\x14',
  '',
  'x',
  '#',
  '',
  'h',
  '',
  '',
  '',
  'N',
  '9',
  '\0',
  '\b',
  '',
  '',
  '}',
  '',
  '',
  'm',
  '',
  'C',
  '',
  'r',
  '\n',
  '',
  '5',
  '',
  '',
  '',
  '',
  'T',
  'y',
  'X',
  '\x18',
  '',
  '/',
  'O',
  '',
  '|',
  '\x16',
  '\x1F',
  '\x7F',
  '',
  '\x05',
  '\x1D',
  '',
  'L',
  '',
  '',
  '',
  'A',
  'd',
  '',
  '',
  'q',
  'J',
  'z',
  '\x17',
  '',
  '',
  '\v',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  '',
  'b',
  '',
  'n',
  '\x81',
  '\a',
  '',
  '\x8F',
  'p',
  '\x0F',
  '',
  '',
  '\x11',
  '',
  'j',
  '',
  '-',
  '',
  ':',
  '`',
  '',
  '4',
  '',
  '',
  '',
  '',
  'U',
  '>',
  '',
  '',
  '\x03',
  '',
  '',
  '',
  'V',
  '',
  'v',
  '',
  'x',
  ':',
  's',
  '9',
  '',
  '',
  '',
  'B',
  '\x06',
  '\x1A',
  '',
  '',
  '',
  '',
  '\x90',
  '',
  '',
  '',
  '0',
  '\\',
  '\x1C',
  '}',
  '',
  '',
  '\x19',
  '',
  'e',
  '',
  'b',
  'm',
  'E',
  '1',
  'j',
  '',
  'C',
  '',
  'O',
  '[',
  '',
  '\0',
  '',
  '\x1F',
  'Y',
  '',
  '',
  '',
  '\a',
  '',
  'T',
  '\x03',
  '',
  '',
  '\x1E',
  '\v',
  'H',
  't',
  '',
  '@',
  '8',
  '',
  '',
  '',
  '7',
  '.',
  '',
  '\x9D',
  '',
  '-',
  '',
  '\x14',
  '/',
  '=',
  '',
  '',
  '\'',
  '',
  '',
  '',
  '',
  'r',
  '',
  '',
  '2',
  '',
  '',
  '',
  '\x05',
  'D',
  ',',
  '',
  'n',
  '',
  '',
  '',
  '',
  '\x02',
  '',
  '>',
  '<',
  '\x8D',
  '\x1B',
  '',
  '',
  'L',
  '',
  '',
  '',
  '\b',
  '',
  'Z',
  '\x8F',
  'G',
  '',
  'R',
  '',
  'c',
  '\r',
  '',
  '$',
  '',
  'f',
  'l',
  '',
  '',
  '\x04',
  '',
  'i',
  '|',
  '',
  '',
  '',
  '',
  '\x10',
  '%',
  '',
  '',
  'M',
  'J',
  '!',
  'U',
  'w',
  '',
  '\xFF',
  '\x0F',
  '',
  '',
  '',
  'F',
  '\x11',
  '',
  'V',
  '',
  '',
  'o',
  'a',
  'u',
  '',
  'P',
  '\x1D',
  'I',
  '',
  '`',
  '',
  '_',
  '\x0E',
  'k',
  '',
  '',
  'd',
  '4',
  '&',
  '#',
  '(',
  'q',
  '',
  'A',
  '',
  '\x01',
  'K',
  '',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  '5',
  '3',
  '',
  ';',
  '',
  '',
  '',
  '',
  'W',
  '\x17',
  '',
  '',
  '',
  '',
  'S',
  '',
  ' ',
  '',
  '\x12',
  ')',
  '\x13',
  '{',
  '*',
  '\x18',
  '',
  '',
  '',
  'z',
  '6',
  '',
  '',
  '\x16',
  '',
  '',
  'N',
  '',
  '',
  '\x15',
  '',
  ']',
  'h',
  '',
  'p',
  '',
  '',
  'y',
  '',
  '^',
  '',
  '?',
  'Q',
  '\f',
  '',
  '\t',
  '',
  '',
  '',
  '~',
  '\x81',
  'g',
  '\"',
  '',
  'X',
  '+',
  '\n',
  '',
  '',
  '',
  '',
  '\x81',
  '',
  '^',
  'o',
  'W',
  '',
  '',
  'X',
  '\x04',
  '',
  'I',
  '\n',
  '\a',
  'd',
  '',
  'f',
  '',
  '',
  '=',
  '',
  '',
  '',
  'N',
  'm',
  '',
  '',
  'E',
  '',
  '_',
  'v',
  '',
  '',
  '',
  '\x1A',
  '',
  '\f',
  '@',
  '',
  '',
  'q',
  '\x11',
  '',
  'c',
  '\xFF',
  '',
  '',
  ']',
  '',
  'l',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '(',
  'y',
  'S',
  'u',
  '',
  '?',
  '',
  '',
  '*',
  '',
  '\x10',
  '9',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  '3',
  'x',
  'A',
  '',
  '5',
  '`',
  ';',
  '\x06',
  'z',
  '/',
  '',
  '',
  '',
  '',
  'w',
  '\"',
  '',
  '',
  'a',
  '',
  'K',
  'i',
  '7',
  '',
  '|',
  '\x1E',
  '',
  '\x9D',
  '',
  '\\',
  'Q',
  '\x8F',
  '',
  '',
  '\x16',
  '',
  '',
  ')',
  '\x17',
  '>',
  'Z',
  '',
  '',
  '',
  'p',
  'r',
  '\v',
  '',
  '',
  '\x1C',
  'V',
  '\x12',
  '',
  '0',
  '1',
  'k',
  's',
  '',
  'Y',
  '',
  '',
  '',
  '',
  '\r',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  'H',
  '',
  '',
  '',
  '',
  '\x19',
  '4',
  'M',
  '',
  '\x18',
  '\b',
  't',
  '}',
  '',
  '\x90',
  '',
  '',
  'h',
  '6',
  '\x8D',
  'G',
  '',
  '8',
  '\x15',
  '\0',
  '',
  '&',
  '',
  '+',
  'U',
  '#',
  '',
  '\x01',
  'T',
  'P',
  '\'',
  'e',
  '',
  'B',
  '',
  'j',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x05',
  '%',
  'J',
  'g',
  '',
  '',
  '',
  '',
  '.',
  ':',
  '',
  'F',
  'R',
  'n',
  '',
  '',
  'L',
  '2',
  '',
  '',
  'O',
  '',
  '-',
  '\x7F',
  '',
  '',
  ',',
  '\x13',
  '!',
  '[',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '\t',
  '',
  '',
  '\x14',
  '',
  '{',
  '',
  '\x03',
  'D',
  '$',
  '~',
  'b',
  '\x0F',
  'C',
  '',
  '\x1B',
  ' ',
  '\x1D',
  '<',
  '',
  '',
  '',
  '-',
  '',
  '',
  '\b',
  '<',
  '/',
  '1',
  '',
  'j',
  '4',
  '\x04',
  '\x01',
  '@',
  'p',
  '',
  '',
  '6',
  '',
  '',
  '\x06',
  '5',
  ':',
  '\\',
  'N',
  '\x1C',
  '[',
  '\x14',
  '',
  '\x10',
  '',
  '',
  '',
  '',
  '',
  '\r',
  '\t',
  'b',
  '',
  '',
  'u',
  'P',
  '\x81',
  '',
  '\x19',
  '?',
  '',
  '',
  '',
  '|',
  '\x0E',
  'D',
  '\"',
  '',
  '\x12',
  '*',
  ']',
  '',
  'n',
  '',
  '\x03',
  '',
  '',
  '',
  '\f',
  'z',
  '',
  'c',
  '',
  '8',
  's',
  '',
  '+',
  'Q',
  '0',
  '',
  'G',
  '',
  '\a',
  '',
  '',
  'J',
  'r',
  '',
  '7',
  '',
  '',
  '',
  'X',
  '',
  '',
  '%',
  '',
  '\x11',
  '',
  '~',
  '\x1D',
  '',
  '',
  '',
  'E',
  '',
  '\x15',
  '(',
  '\x1A',
  '',
  'H',
  '',
  'q',
  '',
  '',
  '\'',
  '\x90',
  '',
  '',
  'k',
  '',
  '\x8D',
  'W',
  '$',
  '{',
  '',
  '',
  '',
  'v',
  'i',
  '^',
  'g',
  '',
  '',
  'm',
  '',
  'x',
  'd',
  '',
  '.',
  ')',
  '',
  'U',
  '\0',
  '\x17',
  '',
  'o',
  'Y',
  '\x8F',
  '#',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  '\x1E',
  '',
  '!',
  '',
  'K',
  '',
  '',
  '',
  'R',
  '\x0F',
  '',
  '',
  '',
  '\n',
  ' ',
  '',
  '>',
  '`',
  '',
  'M',
  '',
  ',',
  'l',
  'f',
  '2',
  '',
  '',
  '_',
  '',
  '',
  '',
  '',
  '\x9D',
  'V',
  'I',
  '',
  '',
  '',
  '\x1B',
  'w',
  'F',
  ';',
  '',
  'T',
  '',
  '3',
  '',
  '}',
  '\x1F',
  '',
  '\x05',
  '\v',
  '',
  '\x13',
  'a',
  '',
  '',
  't',
  '',
  '\xFF',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'Z',
  '',
  'B',
  '',
  '',
  '',
  '',
  'C',
  '',
  '',
  'e',
  'A',
  '',
  '',
  '9',
  '\x18',
  '',
  'S',
  'y',
  '=',
  '',
  'L',
  '',
  '',
  'O',
  '',
  '&',
  '',
  '',
  '',
  'h',
  '',
  '',
  '\x16',
  '',
  '',
  '',
  '^',
  't',
  'D',
  '',
  '',
  '',
  '',
  '7',
  '\x1C',
  '?',
  'M',
  '',
  '\x17',
  '#',
  'i',
  '',
  '',
  '\\',
  'c',
  'S',
  '\x1B',
  '0',
  '\x18',
  '',
  'l',
  '/',
  '',
  'Y',
  'K',
  'Q',
  '\x1E',
  '',
  '',
  ')',
  '\x01',
  '\x1F',
  '',
  '\x10',
  '',
  'a',
  '',
  '',
  '',
  '\x15',
  '\x13',
  '*',
  '',
  'C',
  '',
  '',
  '\f',
  '\x03',
  '',
  ']',
  '\0',
  '',
  '&',
  '',
  '',
  '',
  'k',
  '',
  '',
  '',
  '',
  '',
  '\x16',
  '',
  ',',
  '',
  '.',
  'O',
  '',
  '',
  '',
  '',
  '<',
  '\x9D',
  '',
  'n',
  '',
  '',
  '',
  ' ',
  'y',
  '2',
  'j',
  '$',
  'B',
  '\x1A',
  '9',
  '',
  'v',
  '',
  '',
  '\'',
  '',
  '',
  '[',
  'N',
  '@',
  '8',
  'X',
  '',
  '\v',
  '',
  '\x0E',
  '',
  '',
  '5',
  '',
  '',
  '',
  '\x8F',
  'U',
  '',
  '',
  '',
  'Z',
  '_',
  '\x12',
  '6',
  '',
  '{',
  '',
  '',
  '\t',
  '',
  '',
  '',
  'R',
  'q',
  '',
  '',
  'f',
  '',
  '',
  'o',
  'A',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  'x',
  '',
  '',
  '`',
  '',
  's',
  'z',
  '',
  '+',
  '\x1D',
  '',
  '\b',
  '',
  'T',
  '',
  '',
  'L',
  '!',
  '}',
  'E',
  'P',
  '',
  '',
  '',
  '',
  'p',
  '\x06',
  'w',
  '',
  '\r',
  '',
  '',
  '\a',
  '',
  '~',
  '',
  '',
  '',
  'u',
  'd',
  'W',
  'e',
  '',
  'H',
  '\x11',
  '\n',
  '',
  '',
  'I',
  '\"',
  'h',
  ':',
  '',
  '',
  '',
  '',
  '\x81',
  '(',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '',
  '\x8D',
  '\x90',
  'V',
  'J',
  '',
  '',
  '>',
  'm',
  '',
  'F',
  '4',
  'G',
  'b',
  '',
  '\xFF',
  '|',
  '',
  '',
  '',
  '%',
  '',
  '',
  '-',
  '3',
  '',
  'g',
  '\x7F',
  '',
  'r',
  '\x0F',
  '',
  '\x02',
  '\x14',
  '',
  ';',
  '',
  '1',
  '',
  '\x04',
  '\x05',
  '',
  'w',
  '<',
  '',
  '%',
  '',
  '',
  'g',
  '/',
  '',
  '',
  '',
  'f',
  '',
  '',
  '',
  '\x15',
  '\x8F',
  '\x12',
  '',
  '\"',
  '',
  '',
  '}',
  'j',
  '\x03',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x81',
  'G',
  '&',
  '',
  '',
  '',
  'Q',
  '\xFF',
  '',
  '',
  '',
  '>',
  '',
  '',
  '',
  '',
  '',
  '',
  '`',
  '',
  '\x1F',
  'U',
  'O',
  '=',
  '',
  '!',
  'u',
  'n',
  '\'',
  '',
  '3',
  '',
  '2',
  '',
  '',
  '\f',
  '\b',
  '',
  'L',
  '',
  'o',
  '',
  '',
  '*',
  '',
  '',
  '',
  '_',
  '\x0F',
  '',
  't',
  '',
  '\x9D',
  '1',
  's',
  '\v',
  '\x7F',
  ')',
  'C',
  '',
  'h',
  '',
  '',
  'F',
  'I',
  '',
  '',
  '',
  '|',
  '',
  '\x1B',
  '-',
  '',
  '\t',
  '',
  'a',
  '5',
  '',
  '',
  'S',
  ';',
  'p',
  'T',
  '',
  'r',
  'D',
  '\x19',
  '~',
  '\x13',
  '',
  'z',
  'c',
  ':',
  'R',
  'v',
  '\x05',
  '',
  '?',
  'i',
  '$',
  '',
  ',',
  '',
  '8',
  '\x16',
  '\x14',
  '{',
  '',
  '',
  '',
  'J',
  '',
  '\x0E',
  '^',
  'V',
  '\x1C',
  '',
  '',
  '',
  '\x1A',
  '',
  '',
  '',
  '[',
  '',
  '',
  '',
  '6',
  'W',
  '',
  '',
  'B',
  '\x8D',
  '(',
  '',
  '',
  'd',
  '\r',
  '',
  'k',
  '',
  'e',
  '',
  '\x06',
  'x',
  '\0',
  'P',
  '',
  'M',
  '7',
  'E',
  '\x90',
  '',
  'Y',
  '\x18',
  '',
  '#',
  '',
  '',
  '',
  ' ',
  '',
  '+',
  '0',
  '',
  '\x1D',
  '',
  'm',
  '',
  '\x10',
  'N',
  ']',
  '',
  '',
  '\x17',
  '',
  'b',
  '',
  '',
  '\\',
  '',
  '',
  '4',
  '',
  '\n',
  '',
  'A',
  'l',
  '',
  'X',
  '9',
  'H',
  '',
  '@',
  '\x11',
  '\x02',
  '',
  '',
  'q',
  '\x01',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\a',
  'y',
  '',
  '\x04',
  'Z',
  '',
  'K',
  '\x1E',
  '',
  '.',
  '',
  '',
  '',
  '',
  '\xFF',
  '',
  '',
  '\x05',
  '\x8D',
  '{',
  '\x8F',
  'p',
  'd',
  '',
  'u',
  '\x14',
  '',
  '',
  '',
  '\x04',
  '',
  'g',
  '',
  'M',
  '\x17',
  '',
  ';',
  ')',
  '',
  '',
  '',
  '',
  '',
  '',
  'e',
  '',
  '\x02',
  '',
  'w',
  '\v',
  '',
  '',
  '',
  '^',
  '6',
  '\x19',
  '',
  '0',
  '\x7F',
  '<',
  '',
  '\x15',
  '',
  '',
  '`',
  '',
  '',
  '',
  'i',
  'N',
  'l',
  '1',
  '',
  '\n',
  '\r',
  '%',
  '\x13',
  ':',
  '',
  '',
  '\x03',
  '_',
  '\0',
  '',
  '',
  'a',
  '',
  '2',
  'y',
  '#',
  '',
  '\x9D',
  'q',
  'E',
  'F',
  '\x1E',
  ']',
  '',
  '',
  '',
  '',
  '',
  '',
  '|',
  '',
  'Q',
  '4',
  '',
  '',
  '',
  '',
  '~',
  '\x1C',
  '\x11',
  '',
  '',
  '\f',
  '\t',
  '',
  '',
  '',
  '',
  'G',
  '8',
  '',
  '*',
  'Y',
  '>',
  'h',
  '',
  '',
  '\x16',
  '.',
  '\x01',
  't',
  '5',
  'V',
  'x',
  'o',
  '',
  '(',
  '',
  'k',
  'j',
  '',
  'K',
  '',
  '',
  '',
  '!',
  'U',
  '/',
  '',
  '',
  'n',
  'z',
  '',
  '',
  '3',
  'P',
  '',
  'f',
  ' ',
  '\x1A',
  '',
  '',
  '',
  'I',
  'D',
  '?',
  '\"',
  '',
  '',
  '',
  '@',
  'W',
  '',
  '',
  '',
  '+',
  '',
  'L',
  '\x18',
  '',
  '',
  '',
  'X',
  '',
  '',
  'r',
  '',
  '',
  'T',
  '',
  '',
  '',
  '',
  'J',
  '',
  '',
  '&',
  '7',
  '',
  '',
  '\\',
  '\'',
  '\x0E',
  'm',
  '\b',
  '\x10',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  '=',
  '}',
  '',
  'O',
  '',
  '',
  '',
  '\x90',
  '\x06',
  '9',
  '[',
  'v',
  '',
  '',
  '',
  '',
  'b',
  '\x0F',
  '',
  '',
  '',
  '',
  '',
  ',',
  'Z',
  '',
  '',
  '',
  '\x1D',
  '',
  'H',
  '',
  '',
  '-',
  '\a',
  'S',
  '',
  '',
  '',
  '$',
  'B',
  '',
  'R',
  '',
  '\x12',
  'C',
  '\x81',
  '',
  '',
  'c',
  '\x1F',
  's',
  'A',
  '-',
  '',
  '!',
  '',
  '{',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1E',
  '',
  '',
  '\r',
  '\x06',
  '',
  '',
  '',
  '[',
  '}',
  '',
  '(',
  'l',
  'O',
  '',
  'w',
  '',
  '\n',
  'R',
  '_',
  '',
  'k',
  '3',
  '',
  '',
  '\x0E',
  '',
  '',
  'J',
  '8',
  'K',
  '',
  '',
  '',
  '',
  '<',
  'n',
  '\x19',
  '\x03',
  '5',
  'Q',
  '',
  '\\',
  'u',
  '6',
  'e',
  '\x15',
  '',
  '',
  '',
  '',
  'P',
  '',
  '\x18',
  'Y',
  '\x8F',
  'c',
  '\'',
  '',
  '',
  '',
  '',
  '',
  '',
  '\0',
  '\xFF',
  '\x8D',
  '',
  '?',
  '',
  '',
  'M',
  '',
  'x',
  't',
  '',
  'j',
  '',
  '',
  '',
  '',
  '\f',
  '*',
  '',
  '',
  '',
  '\x1C',
  'Z',
  '@',
  '|',
  ':',
  '%',
  '>',
  '',
  '\x12',
  'H',
  '\x0F',
  'I',
  '\t',
  '',
  'r',
  '`',
  '',
  '',
  '\x05',
  '',
  's',
  '',
  '',
  '',
  'f',
  '',
  'a',
  '\x1A',
  '',
  '',
  '',
  '',
  '\v',
  '\x9D',
  'T',
  '',
  '',
  '',
  '',
  '',
  'L',
  '',
  '\a',
  '',
  ',',
  'o',
  '\x02',
  '+',
  '\x7F',
  '',
  '',
  '/',
  '9',
  '',
  '',
  'X',
  '~',
  '4',
  '',
  '7',
  '',
  '',
  '\x04',
  'i',
  '',
  ']',
  'p',
  '\x14',
  '',
  '',
  '',
  'F',
  '',
  '',
  '\x17',
  '',
  '',
  '',
  '=',
  'q',
  '',
  'V',
  '',
  '',
  '',
  'd',
  '',
  '',
  'U',
  'b',
  ';',
  '',
  '',
  '\x1B',
  'C',
  '',
  'S',
  '',
  ')',
  '',
  '',
  '',
  '',
  'E',
  '',
  'h',
  '&',
  '0',
  'W',
  '',
  '',
  'g',
  'A',
  '1',
  '\x81',
  '',
  '',
  '#',
  '',
  'z',
  '\"',
  '',
  '\x1F',
  'v',
  '',
  '',
  '\x13',
  '',
  '',
  '',
  '',
  '\x10',
  '.',
  '',
  ' ',
  '',
  '',
  '\x11',
  '',
  '\x16',
  '2',
  'D',
  '\x1D',
  '\x01',
  '',
  '',
  '',
  'm',
  '$',
  'y',
  'B',
  '\b',
  '\x90',
  '',
  'N',
  '',
  '^',
  'G',
  'q',
  '?',
  '',
  '3',
  '',
  '',
  'N',
  '',
  'L',
  '\x01',
  '',
  '',
  '',
  '',
  '',
  '\x19',
  ' ',
  'E',
  '',
  '',
  '',
  '',
  'l',
  '/',
  '',
  '',
  '',
  '',
  '\a',
  '6',
  'B',
  '\x9D',
  '\x16',
  '\f',
  '',
  '',
  '\b',
  '',
  '',
  '',
  '\x03',
  '\n',
  '',
  's',
  '8',
  '2',
  ':',
  'n',
  'k',
  'f',
  ';',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x81',
  'y',
  'Y',
  '',
  '\x15',
  'V',
  't',
  '',
  '\x0E',
  '.',
  'T',
  'u',
  '',
  '\x05',
  '',
  '',
  '',
  'C',
  '',
  '\x12',
  '',
  'e',
  '',
  '\x14',
  '',
  'P',
  '',
  '',
  'p',
  ')',
  '-',
  '{',
  '',
  '\\',
  'r',
  '',
  '\x90',
  '\x1A',
  'm',
  'g',
  '',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  '5',
  'd',
  '',
  '',
  '',
  '',
  '',
  '[',
  'F',
  '',
  '7',
  '',
  '',
  '',
  '%',
  '',
  '\t',
  '',
  '@',
  '',
  '',
  '',
  '',
  '',
  'v',
  '\x02',
  '(',
  '',
  '}',
  '',
  '',
  'x',
  '\0',
  'D',
  '',
  '0',
  '',
  '',
  '',
  '+',
  '',
  'S',
  '',
  'O',
  ',',
  '',
  'a',
  'h',
  '',
  '',
  '',
  '',
  '',
  '\x1D',
  'Q',
  '',
  'U',
  '`',
  '',
  '~',
  '\r',
  '',
  'G',
  '',
  '',
  '9',
  '',
  '',
  '',
  '',
  '$',
  'Z',
  '1',
  '',
  '4',
  '',
  '',
  '!',
  '\x10',
  '\x04',
  ']',
  '*',
  '',
  '',
  '\x0F',
  '\x1F',
  '\xFF',
  '\x8F',
  '#',
  '\x06',
  '',
  '\v',
  'w',
  '',
  '',
  '\x8D',
  '',
  'A',
  '',
  '',
  '',
  'o',
  '\x18',
  '\x17',
  '\"',
  '',
  '',
  'M',
  '',
  '',
  'i',
  '\x13',
  '',
  '',
  'b',
  'J',
  '_',
  '|',
  '\x7F',
  'W',
  '',
  '>',
  '',
  '<',
  'I',
  '',
  'X',
  '',
  '',
  '^',
  '',
  '',
  '',
  '',
  'j',
  '\x11',
  '=',
  '',
  '',
  '\x1E',
  'K',
  '',
  'H',
  '&',
  '\'',
  '',
  'z',
  '\x1C',
  'R',
  'c',
  ':',
  '',
  '',
  '',
  '>',
  '',
  '',
  '',
  'L',
  '\t',
  '',
  '7',
  '!',
  '\x15',
  'W',
  '1',
  '',
  '',
  '',
  ',',
  '|',
  '\x1A',
  '',
  'H',
  '}',
  '',
  '\x06',
  '',
  '6',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\f',
  '',
  '\xFF',
  '',
  '2',
  '\x90',
  '',
  '\x16',
  '\x0E',
  'z',
  'F',
  '\a',
  '',
  '',
  '',
  '',
  '/',
  'N',
  '',
  'k',
  '',
  '',
  's',
  '\r',
  '',
  '\\',
  '\x01',
  'b',
  'E',
  '',
  'D',
  '\"',
  '',
  '',
  '\x14',
  '',
  '%',
  '',
  'i',
  '',
  '{',
  '~',
  '',
  '',
  '',
  'y',
  '',
  'g',
  '',
  '',
  'X',
  '*',
  '',
  '',
  '',
  '',
  '[',
  'O',
  '\x8F',
  '',
  '',
  'h',
  '',
  '',
  '',
  '',
  '\x7F',
  'n',
  '',
  '',
  'e',
  '',
  'U',
  '0',
  '',
  '',
  '',
  '',
  '',
  '8',
  '',
  '',
  'M',
  '',
  '\x18',
  'v',
  'T',
  '',
  '5',
  '(',
  'A',
  'l',
  'x',
  '',
  'Q',
  '3',
  'C',
  '^',
  'o',
  '',
  '',
  'w',
  '',
  '',
  'm',
  '',
  '',
  'Y',
  'B',
  '',
  '',
  'S',
  '\x11',
  '',
  '',
  '',
  '',
  'c',
  '\x10',
  'P',
  'V',
  'p',
  '',
  ' ',
  '',
  '',
  '',
  'J',
  '\x05',
  '\x1D',
  '\x17',
  '',
  '',
  'f',
  't',
  'R',
  '\x8D',
  '',
  '',
  '',
  '\0',
  '',
  '&',
  '',
  '`',
  ')',
  'r',
  '',
  '',
  '',
  '',
  'u',
  '+',
  '',
  '',
  '\'',
  '=',
  '',
  '\x0F',
  '\n',
  '?',
  '\x19',
  '',
  '\v',
  ';',
  'q',
  '\x1C',
  '',
  'd',
  '',
  '.',
  '\x81',
  '',
  '#',
  'j',
  '\x13',
  '\x1F',
  '',
  '<',
  '$',
  '',
  '\b',
  'I',
  '\x1B',
  '',
  '-',
  '',
  '',
  '\x12',
  '4',
  '',
  '',
  '\x03',
  '\x04',
  ']',
  '',
  'G',
  '',
  '9',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '@',
  '',
  'Z',
  'a',
  'K',
  '\x9D',
  '\x02',
  '_',
  '',
  '',
  'C',
  '',
  '',
  '\r',
  '\f',
  '',
  '<',
  '',
  '8',
  '0',
  '\x03',
  '',
  '2',
  'K',
  '',
  '',
  'W',
  '',
  '^',
  '\t',
  '',
  '',
  '\x15',
  'E',
  'R',
  'u',
  '{',
  '',
  '',
  '',
  '',
  '=',
  ',',
  '',
  '',
  '\x12',
  '\x0F',
  'i',
  'M',
  '',
  '',
  '\n',
  'T',
  '',
  '~',
  '',
  '>',
  '\x18',
  '',
  '',
  '1',
  '\\',
  '',
  '[',
  'k',
  '+',
  '@',
  '',
  '',
  '',
  '9',
  '\x0E',
  '\x1F',
  '',
  '',
  ';',
  '',
  '',
  'U',
  'e',
  '',
  '',
  '\x17',
  '%',
  '',
  '',
  '\"',
  '',
  '-',
  't',
  '',
  '',
  '',
  'q',
  '',
  '',
  '\x90',
  'P',
  '&',
  '\x19',
  'l',
  '',
  '\x01',
  'O',
  '',
  'a',
  '!',
  '',
  ' ',
  'f',
  '',
  '',
  'w',
  '',
  '',
  '',
  'v',
  '\0',
  '',
  '\x06',
  '',
  '?',
  'Y',
  '',
  '\x9D',
  '',
  '',
  '',
  'y',
  '',
  '\x04',
  '',
  '5',
  '/',
  '',
  '',
  'J',
  'V',
  '',
  '\x81',
  '',
  '',
  '',
  '',
  '',
  'A',
  'z',
  'I',
  'D',
  '\x1A',
  ']',
  '7',
  'g',
  'j',
  's',
  '',
  '',
  '\x8D',
  'h',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  'N',
  '',
  '',
  'r',
  'x',
  '',
  'm',
  '',
  '\xFF',
  '',
  'H',
  '',
  'p',
  '',
  '\v',
  '',
  '',
  '',
  '3',
  '|',
  '\x05',
  '',
  '',
  '\a',
  '_',
  '\x16',
  '*',
  '\b',
  '',
  '',
  '',
  '',
  'd',
  '',
  '',
  '$',
  '',
  '\'',
  ':',
  '',
  '',
  '',
  'F',
  '',
  'S',
  '#',
  '',
  '',
  '(',
  '',
  '',
  '',
  '',
  '',
  '\x1D',
  '4',
  '',
  '',
  'L',
  '6',
  '',
  '',
  '\x10',
  '',
  '.',
  '',
  ')',
  '',
  'b',
  '\x11',
  'o',
  'n',
  '',
  'c',
  'Q',
  '',
  '',
  '',
  'Z',
  '\x8F',
  '',
  '\x7F',
  '\x1C',
  '\x02',
  '\x13',
  'B',
  '',
  '`',
  '',
  '',
  '',
  '',
  '',
  'G',
  'X',
  '',
  '}',
  '',
  '\x1E',
  '',
  '\x14',
  'O',
  '\x13',
  '',
  '',
  '',
  '\x1B',
  '.',
  '',
  '',
  'B',
  '',
  '\x11',
  '',
  '\r',
  '',
  ':',
  '',
  '',
  'j',
  'x',
  '@',
  '\x01',
  '\x1C',
  '>',
  '[',
  '',
  '{',
  '',
  '\'',
  '\x8F',
  '',
  '',
  'o',
  '',
  '',
  '',
  '\x14',
  '5',
  '',
  '',
  '\\',
  '<',
  'v',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '7',
  '',
  'p',
  '',
  'H',
  '',
  'X',
  '',
  '',
  '',
  '\x1D',
  '\x18',
  '',
  '',
  'A',
  '',
  'J',
  '`',
  '',
  '',
  '',
  '\x90',
  '\x06',
  '',
  '',
  '',
  'u',
  '',
  '0',
  '',
  '}',
  '\b',
  '',
  's',
  'M',
  '',
  '!',
  '',
  '\x15',
  '',
  '',
  '4',
  'd',
  '',
  '\t',
  '|',
  '',
  '2',
  '',
  'e',
  '',
  '\x03',
  'R',
  '',
  '\xFF',
  '\x0F',
  '8',
  '',
  '',
  '',
  '3',
  'h',
  '',
  'K',
  '*',
  '\x1E',
  '',
  '',
  '\x02',
  '\x1A',
  '',
  '',
  '1',
  '',
  '',
  '',
  '9',
  'V',
  'C',
  'N',
  '\x0E',
  'l',
  '/',
  '',
  '',
  '&',
  '\x05',
  '',
  'P',
  '6',
  '\x04',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '',
  'q',
  '',
  'm',
  'F',
  '\0',
  'E',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  '\n',
  'W',
  '\a',
  'i',
  '',
  '',
  'w',
  '?',
  '\x10',
  '~',
  '^',
  '$',
  '',
  'U',
  '\x16',
  '',
  '',
  '#',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  'g',
  '\x7F',
  '',
  'n',
  '',
  '',
  '',
  'f',
  '',
  'Y',
  'r',
  'b',
  ',',
  '\"',
  '',
  '',
  '',
  '',
  '',
  'G',
  'L',
  '(',
  '\x1F',
  '\f',
  '',
  '',
  '',
  '\x8D',
  'y',
  'c',
  '',
  '_',
  '',
  '',
  '\v',
  '-',
  '',
  '',
  'D',
  '',
  'S',
  'I',
  '',
  'T',
  'z',
  '%',
  '',
  '',
  't',
  '',
  '\x9D',
  '',
  '',
  '',
  '\x17',
  'Q',
  ';',
  'a',
  '',
  'Z',
  ')',
  ' ',
  '',
  ']',
  '\x81',
  '',
  '',
  '+',
  '',
  '',
  'k',
  '',
  'R',
  '',
  '',
  'e',
  'g',
  '',
  '\x1F',
  '=',
  '',
  'W',
  'y',
  '',
  '',
  '8',
  '',
  '',
  '',
  '\x11',
  '\x0F',
  '\x04',
  '7',
  '',
  '\0',
  '\x10',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  'v',
  '\"',
  'G',
  '',
  'U',
  'D',
  '+',
  'E',
  '',
  'K',
  '',
  '',
  'M',
  '',
  '#',
  '',
  'H',
  '-',
  '',
  '',
  '\x8F',
  '',
  'u',
  '6',
  'o',
  '',
  '',
  'C',
  's',
  '',
  'J',
  '',
  '',
  '\r',
  '',
  ';',
  '',
  'I',
  '',
  '\x03',
  'f',
  '_',
  '\x1C',
  ')',
  '<',
  '',
  '',
  'i',
  '',
  'x',
  '',
  '',
  'Y',
  'X',
  '~',
  '^',
  '',
  'T',
  '',
  '',
  '!',
  '&',
  '\x9D',
  '',
  ']',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  ',',
  '',
  '',
  '>',
  'c',
  '\x17',
  '\x06',
  '',
  '%',
  'd',
  '',
  '',
  '5',
  '',
  'w',
  'h',
  '0',
  '',
  'p',
  '4',
  '',
  'a',
  '\'',
  '',
  '',
  '\t',
  'P',
  '\x18',
  '',
  '\x15',
  'L',
  '',
  'l',
  'j',
  '',
  '',
  '{',
  '*',
  '',
  ' ',
  'm',
  'q',
  '9',
  '',
  '?',
  '',
  '\x90',
  '',
  '',
  '\x05',
  '',
  '',
  '',
  '',
  'z',
  '',
  '\x81',
  '',
  '',
  '',
  '\x1A',
  '',
  '.',
  '\x19',
  '',
  '',
  '',
  '`',
  '',
  '\x1B',
  '',
  ':',
  '',
  '',
  'V',
  'Z',
  'N',
  '',
  '',
  '\x16',
  '',
  '',
  '2',
  '/',
  '\x0E',
  '\x02',
  '',
  'Q',
  '\x12',
  '@',
  '$',
  '(',
  '',
  '',
  '',
  '\v',
  '',
  'r',
  '',
  '1',
  '',
  '\n',
  '',
  '',
  'n',
  '3',
  '\x8D',
  '',
  '\x01',
  '\b',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1E',
  '|',
  '\x7F',
  '',
  'b',
  '\f',
  'A',
  '\\',
  '',
  '\x14',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '}',
  'O',
  'k',
  '',
  'B',
  't',
  '\x13',
  '',
  'S',
  '',
  '',
  '',
  '\a',
  'F',
  '[',
  '\x1D',
  '',
  '',
  'R',
  '\x1C',
  '',
  'y',
  '',
  '',
  '',
  '\x05',
  'M',
  '',
  'Y',
  '',
  '2',
  '[',
  '',
  't',
  '\x02',
  '',
  '',
  '',
  '',
  'w',
  'u',
  '',
  '',
  '|',
  '\r',
  '',
  '',
  ';',
  '@',
  '#',
  'H',
  'Z',
  '\x9D',
  '',
  '',
  'n',
  '',
  '',
  '',
  '\x1E',
  '',
  '',
  '',
  '',
  'm',
  '',
  '',
  'q',
  '',
  'Q',
  'o',
  ' ',
  '\x1D',
  '$',
  '',
  '',
  '(',
  '',
  '\x16',
  'D',
  'K',
  ':',
  '5',
  '',
  '',
  'v',
  '',
  '\x04',
  'p',
  '',
  'k',
  'V',
  'h',
  '',
  '',
  '',
  'd',
  '\x1A',
  '6',
  '*',
  '/',
  '',
  '7',
  '-',
  '\x8F',
  '\'',
  '3',
  'U',
  'N',
  '9',
  '',
  '{',
  ',',
  '',
  'r',
  '',
  '',
  '',
  'G',
  'l',
  '',
  '`',
  '',
  '',
  '\x11',
  '\"',
  '>',
  'g',
  '',
  '',
  '\x0E',
  '',
  '',
  '',
  '',
  '\t',
  '',
  '\x06',
  '\\',
  'C',
  '',
  '',
  '',
  '\x03',
  'W',
  'j',
  '',
  '',
  'E',
  '',
  '',
  '',
  '',
  '',
  'I',
  '',
  '',
  '',
  'f',
  '',
  'X',
  '',
  '',
  '\x10',
  '\b',
  '^',
  'b',
  '',
  '\x12',
  '\xFF',
  '!',
  'F',
  'B',
  '\x01',
  '',
  '',
  '',
  '',
  '',
  '&',
  '\x14',
  '\0',
  '\x0F',
  '',
  '',
  '',
  '\x13',
  '',
  '\f',
  '\v',
  '',
  '4',
  'e',
  'L',
  '\x18',
  '',
  '\x1F',
  's',
  '',
  '',
  'O',
  '}',
  '+',
  '=',
  '',
  '%',
  ')',
  '',
  '',
  '\x81',
  '',
  '',
  '',
  '',
  '',
  'i',
  '?',
  '0',
  '\x17',
  '',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  '<',
  'a',
  '',
  '',
  '',
  '',
  'S',
  'z',
  '',
  'T',
  'x',
  '',
  '',
  '',
  '',
  'J',
  '',
  '',
  '1',
  '~',
  '\n',
  '',
  'c',
  'A',
  '\x19',
  '',
  '_',
  '\a',
  '\x15',
  '\x8D',
  '8',
  '',
  ']',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  'P',
  '',
  '\x90',
  '.',
  '',
  '',
  'I',
  '',
  '',
  '{',
  '',
  '\x8D',
  '\x7F',
  '',
  '',
  '\x17',
  '1',
  '',
  '-',
  '\x18',
  '',
  '',
  'D',
  '',
  '',
  '',
  'U',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '$',
  'u',
  '.',
  'W',
  'q',
  '',
  'O',
  '',
  '',
  ':',
  'J',
  'n',
  '\x1F',
  '',
  'M',
  '',
  '',
  'Z',
  'G',
  '',
  'h',
  '8',
  'x',
  'S',
  '',
  '',
  '',
  'c',
  'b',
  '',
  'g',
  '',
  '\r',
  '',
  'm',
  '<',
  '\a',
  '',
  '\b',
  '',
  'i',
  '',
  '\x1E',
  '\"',
  'l',
  '\x03',
  '',
  '',
  '\x14',
  'R',
  '',
  '2',
  '4',
  '',
  '!',
  '\x8F',
  '',
  '',
  '',
  ';',
  '',
  '',
  '&',
  '\x0E',
  '',
  '\n',
  '',
  '',
  '\v',
  '',
  '\x1A',
  '\x01',
  '',
  '9',
  '',
  'j',
  '*',
  'o',
  '',
  'V',
  '\x1B',
  '?',
  '\x11',
  '\x9D',
  'r',
  '\x1C',
  '',
  'e',
  '',
  '\xFF',
  '',
  'p',
  'v',
  'H',
  '',
  '',
  '|',
  '',
  '',
  '',
  '',
  '',
  '3',
  '}',
  '',
  '',
  '',
  '',
  'Q',
  'B',
  '',
  'T',
  '',
  '>',
  'd',
  '',
  ']',
  '',
  '',
  '\t',
  '=',
  'w',
  '',
  '',
  '',
  '\f',
  '',
  'L',
  '7',
  '',
  '\x10',
  '',
  'y',
  '\x90',
  '',
  '',
  '',
  '#',
  '',
  '',
  't',
  '\x81',
  '',
  '',
  '',
  '',
  '\x04',
  '',
  '',
  ',',
  '',
  ')',
  'A',
  'F',
  '%',
  '',
  '_',
  '`',
  '',
  '',
  '',
  '~',
  '',
  '\x1D',
  '\x05',
  '',
  '6',
  'C',
  '',
  '',
  'a',
  '',
  '\0',
  '',
  'f',
  '',
  'k',
  '\\',
  '\x16',
  '',
  'P',
  'X',
  '^',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '/',
  '',
  '',
  'K',
  '',
  ' ',
  '\x02',
  's',
  '\x06',
  '\'',
  '',
  '',
  '',
  '',
  'z',
  '',
  '',
  'Y',
  '[',
  '',
  'E',
  '0',
  '',
  '',
  '',
  '@',
  '5',
  '(',
  '\x15',
  'N',
  '\x13',
  '\x19',
  '',
  '+',
  '\x0F',
  '\x12',
  '',
  '+',
  '',
  '',
  '',
  'A',
  '\x1E',
  'F',
  '',
  '',
  '',
  '\x9D',
  '\x19',
  '\v',
  '',
  '\x11',
  '\x14',
  'V',
  'd',
  '',
  '',
  '&',
  '',
  '2',
  '',
  '\x02',
  'E',
  'z',
  '',
  '',
  '',
  '{',
  'R',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  ')',
  'H',
  '9',
  '',
  'J',
  '?',
  '',
  '',
  '',
  '5',
  '',
  '',
  '',
  '',
  '',
  '',
  'c',
  '',
  'D',
  '',
  '',
  '',
  '\x8D',
  '',
  '',
  '/',
  '\x12',
  't',
  'a',
  '',
  '',
  '',
  '',
  '\x1D',
  '\n',
  '@',
  '',
  '',
  'l',
  '~',
  'n',
  '\x13',
  '',
  ',',
  '\x0F',
  'r',
  '\r',
  '3',
  '7',
  '',
  ':',
  '',
  '',
  'N',
  'W',
  '',
  '',
  '',
  '',
  'Z',
  '!',
  '\'',
  '\xFF',
  '\x03',
  ' ',
  '6',
  'Q',
  '\\',
  '\x81',
  'e',
  '|',
  '',
  '_',
  'm',
  '',
  'u',
  'B',
  '\x1F',
  '',
  'q',
  'i',
  'j',
  '$',
  '',
  '',
  '',
  '',
  '\"',
  '',
  'y',
  '',
  '\x0E',
  '4',
  'Y',
  '',
  '',
  '',
  '\x10',
  '',
  '-',
  '',
  '',
  '',
  '}',
  '',
  '',
  '',
  '',
  '',
  'b',
  '\x01',
  '\x7F',
  '',
  'x',
  '',
  '\t',
  '',
  '',
  'w',
  '',
  '%',
  'o',
  'I',
  '',
  '',
  '^',
  '',
  '',
  'G',
  '',
  '\x15',
  '\x16',
  '',
  '',
  'f',
  '\x06',
  '\x18',
  '',
  '\f',
  'v',
  '>',
  '',
  '\b',
  ']',
  '',
  'K',
  'g',
  '#',
  '',
  '.',
  '`',
  '',
  '',
  '',
  '=',
  'h',
  ';',
  '<',
  '\x04',
  'U',
  '*',
  '',
  '',
  '',
  '',
  '8',
  '\x05',
  '[',
  '0',
  'P',
  '',
  'M',
  'C',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  'k',
  '',
  'O',
  '\0',
  '',
  '',
  'X',
  'T',
  '',
  '',
  'p',
  '',
  '',
  'S',
  '1',
  '\x1B',
  '',
  'L',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x17',
  '\x90',
  '\x8F',
  '\x1A',
  '(',
  '',
  '',
  's',
  '',
  '',
  '',
  '\a',
  '',
  '=',
  '',
  '',
  ';',
  '',
  '',
  '\x05',
  'X',
  '',
  'k',
  '9',
  '',
  '',
  '*',
  '\x06',
  '',
  'v',
  '',
  'L',
  '',
  '',
  '',
  '$',
  'y',
  'I',
  '\x1F',
  '',
  '\xFF',
  'w',
  '',
  '<',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  't',
  '',
  '\a',
  '\x1E',
  '1',
  '',
  ':',
  '',
  '\x16',
  '',
  'h',
  '\b',
  '3',
  '',
  '',
  '_',
  '\x90',
  '',
  '/',
  '',
  '',
  'P',
  '',
  'M',
  '|',
  '',
  '',
  'a',
  '7',
  '',
  'B',
  '0',
  '',
  'o',
  '+',
  '\x81',
  '!',
  'd',
  '\'',
  '',
  'q',
  '',
  ',',
  'u',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  '-',
  'F',
  '',
  '',
  '@',
  '?',
  '\f',
  '}',
  '\x12',
  'H',
  '',
  '\x7F',
  'f',
  '\0',
  '\x04',
  '',
  '\x10',
  '',
  'l',
  '\"',
  '`',
  '',
  'e',
  'S',
  '>',
  '',
  'R',
  '5',
  '',
  '',
  '',
  '',
  '\r',
  '\x02',
  'z',
  '\x0E',
  '4',
  '\x0F',
  '6',
  '',
  '2',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x9D',
  '',
  '',
  '\\',
  'D',
  '\x18',
  '',
  'W',
  'r',
  '\x13',
  'U',
  '',
  'O',
  'N',
  '.',
  '',
  '',
  'G',
  'A',
  '\x11',
  ']',
  's',
  '\x17',
  'i',
  '',
  'K',
  ' ',
  '',
  '\n',
  '',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1B',
  'Z',
  '',
  'x',
  '',
  '',
  '',
  'J',
  'E',
  '',
  'b',
  'Q',
  '',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  '',
  '[',
  '~',
  '8',
  '(',
  '',
  '',
  '\x1A',
  '',
  '^',
  '',
  '\x8D',
  '',
  ')',
  '#',
  'C',
  '',
  '\x1C',
  '',
  '',
  '&',
  'j',
  '',
  '\x19',
  '',
  '',
  'c',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '\x01',
  'm',
  'Y',
  '',
  '%',
  '{',
  '\t',
  '',
  '',
  '\x15',
  '',
  '',
  'p',
  'V',
  '',
  'g',
  'n',
  '\x03',
  '',
  '\x8F',
  '',
  'R',
  '\x1D',
  '8',
  '',
  '',
  'n',
  't',
  '',
  '',
  '',
  'A',
  '\n',
  'c',
  '',
  '',
  '',
  '}',
  '',
  'w',
  '',
  '3',
  'L',
  '',
  '\x06',
  '=',
  '',
  '',
  '',
  '\x04',
  '',
  '\t',
  '',
  '.',
  '+',
  'x',
  '',
  '',
  'H',
  '',
  '',
  '\b',
  ' ',
  '\x8F',
  '\v',
  'i',
  'M',
  'Z',
  '',
  '',
  '',
  'Y',
  '\x13',
  '\x18',
  '',
  '',
  '',
  '\x17',
  '@',
  'b',
  '',
  '',
  '|',
  '^',
  '',
  '',
  '',
  '(',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '[',
  '%',
  'h',
  '',
  '',
  '',
  's',
  '\x0F',
  '',
  '',
  'O',
  '\r',
  '7',
  '',
  '',
  'G',
  'f',
  '',
  '\x7F',
  'o',
  '\x0E',
  '',
  '\x19',
  'V',
  'v',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  'r',
  'g',
  '',
  '',
  '\\',
  '>',
  '\x15',
  'l',
  '',
  '',
  ';',
  'S',
  'B',
  '\x02',
  '\x8D',
  '9',
  '',
  'W',
  '\"',
  '',
  'E',
  '',
  '',
  '\x81',
  'd',
  'q',
  '\x9D',
  '',
  '',
  '!',
  '',
  '',
  '\a',
  '\0',
  '',
  '\x14',
  '',
  '',
  '\f',
  'a',
  '',
  ']',
  '\x03',
  '6',
  '\x16',
  '~',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'U',
  'u',
  'D',
  '',
  '',
  '$',
  '&',
  '',
  '',
  '\x1E',
  '',
  ')',
  '',
  'Q',
  'm',
  'k',
  '<',
  '',
  'p',
  '',
  '5',
  'C',
  '\'',
  ',',
  '',
  '',
  '\x1F',
  'j',
  '#',
  '\x1A',
  '{',
  'F',
  'e',
  '',
  '\xFF',
  '',
  '',
  'X',
  '\x1B',
  '',
  '',
  '',
  'K',
  'N',
  '',
  'J',
  '',
  '2',
  '',
  '',
  '\x90',
  '',
  '-',
  'y',
  '0',
  '?',
  '*',
  '`',
  '',
  '',
  '',
  '',
  '',
  '4',
  '',
  'I',
  '',
  '',
  '',
  '_',
  '/',
  '',
  '1',
  '\x05',
  '',
  '',
  '',
  '',
  'z',
  'P',
  '',
  '',
  '',
  '',
  '\x11',
  '\x10',
  ':',
  'T',
  '',
  '\x01',
  '',
  '',
  'M',
  '',
  '',
  '',
  'C',
  '',
  '',
  '\x11',
  '',
  '',
  '(',
  '',
  '\x7F',
  '',
  '',
  '\x12',
  'p',
  '',
  '',
  '',
  'A',
  '',
  '',
  'q',
  '',
  'i',
  '2',
  '',
  '\x8F',
  '',
  '',
  '8',
  'E',
  '-',
  '',
  '',
  '',
  '',
  '*',
  '\x17',
  '\x1C',
  '',
  '',
  '0',
  'd',
  'R',
  '\x13',
  '',
  '',
  '',
  'B',
  '\x18',
  '',
  '',
  '',
  'F',
  '\0',
  '',
  '',
  '|',
  'S',
  '\x0F',
  '\x90',
  '~',
  'z',
  '',
  'u',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '',
  '\x1D',
  'W',
  ' ',
  'x',
  '',
  'l',
  '',
  '',
  '\x15',
  '',
  '',
  '7',
  '',
  '',
  '\x14',
  '@',
  '',
  '',
  '\a',
  '',
  'V',
  '',
  '',
  'I',
  '^',
  '',
  '',
  '',
  '%',
  '',
  '6',
  ':',
  '1',
  '',
  'h',
  '',
  'O',
  '',
  '',
  'D',
  '_',
  '',
  '\f',
  'Q',
  'n',
  '',
  '',
  '',
  ']',
  '\x0E',
  '',
  '\x06',
  '9',
  '',
  '\x1F',
  'f',
  '5',
  '\x1B',
  '\x01',
  '',
  '',
  '',
  '',
  'w',
  '',
  'y',
  'L',
  '',
  '',
  '',
  '.',
  '',
  '\x1E',
  '&',
  'm',
  '',
  '!',
  '',
  'a',
  '',
  '\x05',
  '\r',
  '\"',
  '',
  '\x81',
  's',
  '',
  '\n',
  '',
  '',
  '\x04',
  '',
  ';',
  '\x10',
  '',
  'r',
  'Z',
  '',
  '',
  '\'',
  'g',
  '',
  'G',
  '',
  '',
  'N',
  'o',
  '',
  '\x9D',
  '',
  'v',
  '',
  '\t',
  '<',
  'c',
  '',
  '',
  '$',
  '}',
  '',
  '',
  'b',
  '',
  '#',
  '',
  '',
  'U',
  '[',
  '+',
  '\x03',
  '',
  '?',
  '',
  'J',
  '\x02',
  '\xFF',
  '',
  '',
  ',',
  '\\',
  '\x8D',
  '\b',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  't',
  '>',
  'P',
  '\x19',
  '=',
  '',
  'K',
  '',
  ')',
  'k',
  '\x1A',
  'Y',
  '',
  '`',
  '',
  '',
  '',
  '4',
  '3',
  '',
  '{',
  'X',
  '/',
  'j',
  '',
  'H',
  'e',
  '\x16',
  'T',
  '',
  ')',
  '',
  '',
  '',
  '',
  'X',
  '',
  '&',
  'k',
  '9',
  's',
  '\x1F',
  '',
  '\x04',
  '8',
  '',
  '\x9D',
  'I',
  '',
  'O',
  '(',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'e',
  '',
  '1',
  '\x19',
  '',
  '',
  '/',
  '',
  '?',
  'm',
  '',
  '',
  '',
  '\x90',
  '',
  '\x18',
  '',
  '\x17',
  '',
  '',
  '',
  '',
  'f',
  'L',
  '+',
  'R',
  'a',
  'W',
  'q',
  'j',
  'B',
  'A',
  '',
  '',
  'g',
  '',
  '',
  '',
  'P',
  '',
  '\x1C',
  '',
  'T',
  'Y',
  '',
  '',
  '0',
  '\\',
  '',
  '',
  'V',
  '',
  '\f',
  '\x1A',
  '5',
  '',
  '',
  '.',
  '',
  '',
  'E',
  ',',
  '',
  '|',
  '',
  '\x15',
  '',
  '6',
  '',
  '',
  '',
  '',
  'F',
  '\x16',
  '\x06',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  '{',
  'z',
  '\x05',
  'v',
  '',
  '\v',
  'c',
  't',
  '',
  '',
  '%',
  '',
  'U',
  '',
  '',
  '>',
  '`',
  '',
  'b',
  '',
  '\x14',
  '\x1D',
  '_',
  'p',
  '\t',
  '',
  '',
  '#',
  '\a',
  ' ',
  '',
  '\b',
  '\x0E',
  '',
  'u',
  '\x8F',
  'r',
  '\x12',
  'K',
  '',
  'o',
  '',
  'n',
  '',
  '',
  '\0',
  '\xFF',
  ']',
  'x',
  '',
  '',
  '\x1E',
  '}',
  '',
  '',
  'D',
  '',
  '',
  '',
  '~',
  '\x01',
  '^',
  'h',
  '',
  '\x02',
  '',
  '',
  'C',
  '\x13',
  '',
  '',
  '',
  '\x0F',
  '\n',
  '',
  'N',
  'l',
  '<',
  '\x8D',
  '!',
  '',
  '',
  '',
  '@',
  '',
  '',
  'd',
  ':',
  '',
  'w',
  '',
  '[',
  'i',
  'J',
  '\"',
  '\'',
  '',
  '',
  '\x03',
  'G',
  '\x11',
  '\x1B',
  '',
  '',
  '2',
  '',
  'Q',
  '',
  '7',
  '',
  '',
  ';',
  '',
  '',
  '4',
  '',
  'y',
  '',
  '',
  '',
  'M',
  '',
  '',
  '',
  '',
  '=',
  '',
  '*',
  '\r',
  'S',
  'Z',
  '3',
  '',
  '$',
  'H',
  '\x10',
  '',
  '',
  '\x81',
  '-',
  '',
  '',
  't',
  '',
  '',
  '',
  '\x12',
  'Y',
  '0',
  '3',
  '$',
  '*',
  '',
  '\x14',
  '',
  '',
  '',
  'V',
  '',
  'f',
  'd',
  '',
  '\\',
  '\x1E',
  '/',
  '',
  'a',
  '',
  '1',
  '',
  'j',
  '',
  '',
  'p',
  'r',
  'J',
  'I',
  '>',
  'h',
  '6',
  '',
  '',
  '-',
  '',
  '',
  '\x04',
  '',
  '',
  'y',
  'b',
  'P',
  '',
  'K',
  '\0',
  'O',
  '&',
  '',
  's',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'D',
  '',
  '\x15',
  '\b',
  '\x90',
  '!',
  '',
  '',
  '',
  '\x17',
  'A',
  '',
  ';',
  'z',
  '7',
  'Z',
  '2',
  '\xFF',
  '\x13',
  'm',
  '',
  'Q',
  '',
  '',
  'C',
  ' ',
  '',
  'c',
  '\v',
  '\x1D',
  '',
  '_',
  '\x0E',
  '\a',
  '',
  '`',
  'U',
  '\x8F',
  'e',
  'F',
  '5',
  ')',
  '',
  '\x05',
  '',
  '\f',
  '',
  '\x81',
  '%',
  '',
  '',
  '^',
  'l',
  '',
  'W',
  '',
  '@',
  '~',
  '',
  '',
  'g',
  '',
  '\x1B',
  'i',
  '',
  '',
  '\x18',
  '\x19',
  '',
  '',
  'n',
  'S',
  '\x11',
  '',
  '',
  '\x7F',
  '',
  '+',
  'H',
  '',
  '',
  '{',
  '',
  '',
  '',
  '[',
  '',
  '\x9D',
  'q',
  '',
  '',
  '\x1F',
  '',
  '',
  '|',
  ':',
  '',
  '',
  '',
  '\t',
  '',
  '',
  '\n',
  '',
  '',
  '',
  '?',
  'X',
  '',
  '\x02',
  '',
  '',
  '',
  '.',
  'B',
  '',
  '',
  '=',
  '\x8D',
  '(',
  'R',
  'o',
  '',
  'x',
  '',
  '\x06',
  '',
  '\x16',
  '',
  '',
  'E',
  '',
  '\x1C',
  '4',
  ',',
  '\x10',
  '',
  '',
  '',
  '',
  'G',
  '',
  '\x03',
  '',
  'k',
  '',
  'u',
  'N',
  '9',
  '',
  '\"',
  'T',
  '',
  '#',
  ']',
  '8',
  '',
  '}',
  '',
  '',
  '',
  '',
  'w',
  '',
  'M',
  '\r',
  '',
  'v',
  '\x0F',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\'',
  '<',
  'L',
  '\x1A',
  '',
  '',
  '',
  '\x01',
  '',
  '',
  '\x9D',
  'x',
  ',',
  '1',
  '\b',
  '',
  '\x0F',
  '',
  '',
  '',
  '',
  '7',
  '%',
  '',
  '',
  '',
  'a',
  'y',
  '\x03',
  '',
  '',
  '\\',
  '`',
  '',
  '',
  '',
  '',
  'G',
  '',
  'I',
  'w',
  '',
  '',
  '\x1E',
  '',
  'T',
  '',
  '',
  '',
  '',
  '',
  'L',
  'W',
  '',
  '\"',
  '',
  '\x14',
  'e',
  '',
  '+',
  '',
  '',
  '',
  '{',
  'K',
  '\xFF',
  '\x18',
  'o',
  '5',
  '',
  '',
  '',
  ' ',
  '',
  '',
  'J',
  '',
  '|',
  '',
  't',
  'h',
  '.',
  '',
  ';',
  '/',
  '\x1C',
  'b',
  '\x16',
  '',
  '\x11',
  '\x17',
  '',
  '@',
  'C',
  'E',
  '',
  'i',
  '',
  '\a',
  '',
  'R',
  '\x1A',
  '\x1D',
  '',
  'U',
  'g',
  '',
  '',
  '',
  '&',
  'p',
  '>',
  'u',
  '',
  '',
  '',
  'v',
  '',
  '',
  '',
  '4',
  'S',
  '!',
  '',
  '=',
  '',
  '',
  '\x06',
  '',
  '',
  '',
  '}',
  '',
  '',
  '0',
  '\x02',
  '',
  ':',
  'H',
  '',
  's',
  'F',
  'l',
  '\x7F',
  '(',
  '',
  '',
  '',
  '',
  '[',
  '',
  '',
  '\n',
  '\x1F',
  'q',
  '\x05',
  '^',
  '',
  '',
  '',
  '',
  '\x81',
  '',
  '',
  'r',
  'm',
  'Z',
  '',
  '',
  '',
  '',
  'M',
  '\t',
  '\0',
  '8',
  '<',
  '$',
  '*',
  '',
  'c',
  '',
  'V',
  '\x8D',
  '\r',
  '',
  '3',
  'd',
  '',
  'B',
  '',
  '',
  '?',
  'f',
  '',
  ')',
  '',
  '6',
  '',
  '~',
  '',
  '',
  '',
  'k',
  '',
  ']',
  '',
  '',
  'N',
  '',
  '',
  '',
  '\x13',
  '_',
  '',
  'A',
  '',
  '',
  '\v',
  'j',
  '',
  '9',
  '',
  '',
  '\x12',
  'n',
  '\x04',
  '',
  '',
  '#',
  '',
  'Y',
  '-',
  'Q',
  '',
  '',
  '2',
  '\x1B',
  '\x90',
  'P',
  'X',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  '',
  '\f',
  '\x01',
  '\x8F',
  'D',
  '\x10',
  '',
  '\x19',
  'z',
  '',
  '',
  '',
  '\'',
  '',
  '',
  '',
  '\x0E',
  '',
  '',
  'O',
  '',
  '',
  '}',
  '',
  '',
  '',
  '4',
  '',
  '',
  '\n',
  '',
  '',
  '&',
  '',
  '',
  '',
  '',
  '[',
  'R',
  '',
  'i',
  '',
  '',
  '\x18',
  '\x1D',
  '',
  '',
  '',
  '\x03',
  'G',
  '\x11',
  'P',
  'y',
  'V',
  '',
  ';',
  'A',
  '',
  'B',
  '|',
  '',
  'n',
  '6',
  '\x15',
  's',
  '',
  'E',
  '',
  '9',
  '5',
  'h',
  '',
  '',
  'v',
  '',
  '^',
  '',
  '',
  '',
  '\a',
  '1',
  '',
  '?',
  '\x16',
  '',
  '',
  'T',
  'J',
  '0',
  '\v',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '%',
  '\x81',
  'N',
  '',
  'Z',
  '\x17',
  '',
  'g',
  '',
  '',
  'C',
  'e',
  'l',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  '\x1B',
  '',
  '',
  't',
  '',
  '',
  '\r',
  '',
  '',
  '',
  'D',
  '',
  '+',
  '',
  'k',
  '',
  '',
  'O',
  '',
  '',
  '',
  ',',
  'K',
  'S',
  'd',
  '\x7F',
  '\t',
  '-',
  '',
  'Q',
  '',
  '',
  '',
  'L',
  '',
  '',
  '',
  '\'',
  '\0',
  '3',
  '',
  '',
  '\x02',
  '',
  '\x06',
  '#',
  '',
  'b',
  '',
  '',
  '\b',
  'r',
  '',
  '~',
  '\x90',
  '{',
  '',
  '\x04',
  '',
  'Y',
  'I',
  '',
  '\x1E',
  '',
  'H',
  '',
  '<',
  'a',
  '',
  '\x8F',
  'j',
  'x',
  '/',
  'q',
  'z',
  'W',
  '',
  'p',
  'F',
  '',
  '(',
  ':',
  '',
  '`',
  '',
  '',
  '',
  '$',
  '',
  'c',
  'M',
  '8',
  ' ',
  '',
  '',
  '\x9D',
  '\x19',
  '',
  '@',
  '',
  '\x01',
  '',
  '',
  '*',
  '',
  '.',
  '',
  '\x0E',
  '\x10',
  '',
  '\x1F',
  '\x14',
  ']',
  '',
  '>',
  'm',
  '7',
  '',
  '',
  '\x12',
  '',
  ')',
  '\x1A',
  '',
  '\f',
  'o',
  '',
  '=',
  '_',
  '',
  '',
  'U',
  '\x05',
  '',
  '',
  '\x0F',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '!',
  '',
  '\"',
  'u',
  'f',
  '',
  '\x13',
  'w',
  '\x8D',
  '',
  '',
  '\x1C',
  'X',
  '',
  '',
  '2',
  '',
  '',
  '',
  '',
  '',
  '%',
  '',
  '',
  'J',
  '',
  '\x01',
  'A',
  'b',
  '$',
  '4',
  '',
  '\x16',
  '',
  '',
  'v',
  '',
  '\xFF',
  '\x02',
  'V',
  '',
  '-',
  '\b',
  '',
  '',
  '',
  ',',
  '',
  ' ',
  '?',
  '',
  '0',
  '',
  '',
  'z',
  '',
  'G',
  '',
  ';',
  'c',
  '',
  '<',
  '',
  '',
  '\x06',
  '',
  'U',
  '\x81',
  'W',
  '',
  '\v',
  '9',
  '',
  '\x1C',
  '\x12',
  '.',
  '',
  '',
  '*',
  '/',
  'w',
  '~',
  '',
  'q',
  '',
  '',
  '^',
  '\r',
  '`',
  '',
  '',
  '',
  'R',
  '',
  'K',
  '',
  'u',
  '',
  '',
  '',
  'r',
  '\x18',
  '\x8D',
  '',
  '',
  'L',
  'd',
  '',
  'm',
  '\a',
  '',
  'B',
  '5',
  '',
  '',
  '',
  '',
  'Z',
  ']',
  'E',
  '@',
  '}',
  '\x19',
  'e',
  'H',
  '',
  '',
  '=',
  '',
  '',
  '',
  '',
  '\f',
  'C',
  '',
  '',
  '',
  'f',
  '',
  '',
  '',
  '',
  '\x8F',
  '!',
  '',
  'F',
  'N',
  'j',
  '',
  '\x03',
  '',
  '',
  '2',
  '#',
  'T',
  '',
  '',
  '',
  't',
  '',
  'h',
  '\x1F',
  '',
  'P',
  '\x1A',
  '',
  '',
  '',
  '',
  '',
  'Y',
  'S',
  '&',
  'O',
  '\x11',
  '',
  '\x10',
  '',
  '',
  '',
  '',
  '',
  'a',
  '\x17',
  '\x13',
  '',
  '',
  'x',
  '',
  '',
  '',
  '+',
  '',
  '',
  '\x9D',
  '[',
  '',
  '7',
  '>',
  '\x04',
  '',
  '_',
  '\x1D',
  '',
  'g',
  '',
  '\"',
  'M',
  '',
  '',
  'p',
  '3',
  '',
  '',
  '',
  '',
  'I',
  '8',
  '1',
  '\x0E',
  '',
  '',
  '',
  'n',
  'k',
  '\x1B',
  '\x14',
  'X',
  '\\',
  'D',
  '\x0F',
  'l',
  '(',
  '',
  '',
  '',
  '',
  '\t',
  '{',
  '\x05',
  '',
  '',
  '\n',
  '',
  '\x1E',
  '',
  '',
  's',
  '',
  '',
  '',
  '',
  'y',
  'o',
  '\'',
  '',
  '',
  '\0',
  '',
  '\x15',
  '\x90',
  '',
  '',
  '',
  ':',
  '6',
  '|',
  '',
  '\x7F',
  ')',
  '',
  'Q',
  'i',
  'K',
  'l',
  '',
  '',
  '!',
  '',
  '\x13',
  'd',
  't',
  '\f',
  '',
  'F',
  '',
  '}',
  '',
  '\x18',
  '',
  '',
  '',
  '',
  '',
  '',
  'y',
  '',
  '',
  '',
  ';',
  '&',
  '',
  '^',
  '',
  'H',
  '9',
  '',
  '-',
  '',
  '',
  'P',
  '',
  'L',
  '',
  '\x01',
  '|',
  '',
  's',
  '',
  '\x03',
  'S',
  '',
  '',
  '',
  '\x11',
  'E',
  'g',
  '0',
  '',
  '',
  '',
  '',
  '[',
  'x',
  '\x17',
  'b',
  '\x12',
  '',
  '',
  '',
  '',
  'h',
  '\x81',
  'Z',
  'j',
  'G',
  ',',
  '',
  ']',
  'T',
  'm',
  'X',
  '',
  '',
  '6',
  '\x10',
  'v',
  '',
  '',
  '.',
  'a',
  '\x1A',
  '',
  'M',
  '',
  '?',
  'z',
  '\x1B',
  '\n',
  '\b',
  '',
  '\"',
  '',
  '',
  '',
  '\x1F',
  '\v',
  'U',
  '\x90',
  '2',
  '\x1D',
  '7',
  '',
  '',
  'p',
  '\x19',
  '',
  'D',
  '1',
  '~',
  '',
  '\x7F',
  '5',
  '\x8F',
  '',
  '',
  'u',
  '>',
  'O',
  '',
  '\x16',
  '\x8D',
  '',
  '%',
  '\x04',
  'f',
  '',
  'B',
  '',
  'r',
  '*',
  '\x0F',
  '',
  'N',
  '',
  '=',
  '',
  '',
  '',
  '$',
  '',
  '',
  '',
  'w',
  '\r',
  '',
  '',
  '',
  '8',
  '',
  'o',
  '',
  '',
  'W',
  '',
  ' ',
  '',
  '',
  'q',
  '',
  'I',
  'A',
  '\x0E',
  '',
  'i',
  'C',
  '',
  '`',
  '',
  '',
  '',
  '4',
  '',
  'J',
  '\a',
  '\'',
  '',
  '',
  'c',
  '',
  '',
  '',
  '{',
  '@',
  '\t',
  '',
  '',
  '',
  '',
  'e',
  '_',
  '',
  '\x05',
  'n',
  ')',
  '<',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '',
  '',
  '',
  '',
  'k',
  '',
  '',
  '\x02',
  '/',
  'Q',
  '',
  '\x1C',
  '',
  '',
  '',
  '+',
  '',
  '',
  '',
  '',
  '\x14',
  '',
  'V',
  '',
  '\x1E',
  '',
  '\x9D',
  ':',
  '(',
  '',
  '',
  'R',
  '#',
  '\x15',
  '',
  '\0',
  '',
  '',
  '\\',
  '',
  '',
  '\xFF',
  '',
  '',
  '',
  '\x06',
  '3',
  'v',
  '',
  '',
  'H',
  '<',
  '',
  '',
  '\xFF',
  '',
  '\x02',
  '\x01',
  'i',
  '',
  'J',
  '}',
  '\x06',
  '',
  '',
  'd',
  '0',
  '',
  '\r',
  '',
  'Z',
  '5',
  '',
  '',
  '',
  'M',
  '',
  '',
  '',
  'k',
  '',
  '',
  '',
  'n',
  '',
  'c',
  '\x04',
  '',
  '\a',
  '',
  '\v',
  '~',
  '',
  '\x7F',
  '\x1D',
  '',
  '',
  '`',
  '',
  '',
  'V',
  '',
  '',
  'g',
  'a',
  '4',
  '&',
  'R',
  '',
  'S',
  'o',
  '',
  'b',
  '',
  '\"',
  '/',
  '',
  '',
  '',
  '',
  'Y',
  '\x8D',
  '',
  '\t',
  '',
  '6',
  '\b',
  '',
  '',
  '\x18',
  '\x05',
  'f',
  '2',
  '',
  '',
  'e',
  '',
  '',
  '',
  '7',
  '',
  '\x81',
  'G',
  '',
  '\n',
  'T',
  '',
  '',
  '',
  '#',
  '\x03',
  '\x1B',
  '',
  '{',
  '',
  '',
  '',
  '',
  '*',
  '\x12',
  '',
  '',
  '',
  'h',
  ']',
  '',
  '8',
  '\f',
  '',
  'Q',
  'm',
  ':',
  '-',
  '',
  'q',
  '',
  '',
  'X',
  'U',
  '',
  '\'',
  'L',
  '\x9D',
  '',
  ',',
  'W',
  '\x0F',
  ')',
  '\x10',
  '',
  '\x16',
  ' ',
  '',
  'N',
  '',
  'y',
  '\x0E',
  '\x13',
  '',
  '>',
  '',
  '',
  '',
  '',
  '[',
  'z',
  'P',
  '\x17',
  '=',
  's',
  '',
  '(',
  '',
  '',
  '',
  'I',
  '',
  '',
  'j',
  '',
  '\0',
  '',
  '',
  '',
  '',
  '',
  '?',
  'B',
  '',
  '',
  '',
  'r',
  '3',
  '',
  '',
  '',
  '\x19',
  '\x90',
  '',
  '',
  'x',
  '\\',
  'u',
  '\x1A',
  '',
  '',
  '',
  '$',
  'E',
  'O',
  '',
  '',
  '\x1E',
  '',
  '+',
  '%',
  '|',
  '^',
  '\x15',
  'K',
  't',
  '',
  '',
  '\x1F',
  '_',
  'D',
  '\x14',
  '',
  'F',
  '.',
  '',
  '\x8F',
  '\x11',
  '',
  'C',
  'p',
  '',
  '',
  '!',
  '',
  '',
  'A',
  ';',
  '',
  'w',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1C',
  '1',
  '',
  '',
  '@',
  '9',
  '',
  'l',
  '',
  'x',
  '',
  '',
  '',
  '',
  'P',
  '',
  'N',
  '',
  'Y',
  '\x1A',
  '\x0F',
  'R',
  '',
  '\x1B',
  '\0',
  '',
  '',
  'X',
  '',
  '',
  '',
  '',
  '\x10',
  '[',
  '\x04',
  'l',
  'W',
  '',
  '',
  '\x1C',
  '~',
  '',
  '<',
  '\v',
  '\x05',
  '',
  '',
  '',
  ']',
  '\n',
  '',
  '',
  '',
  '\'',
  '\x13',
  '$',
  '',
  'h',
  '4',
  '',
  '\"',
  '',
  '',
  '',
  '\x02',
  '',
  '',
  '',
  '',
  '',
  '',
  'f',
  '',
  '\x8F',
  '2',
  '',
  '',
  '\x18',
  '\x9D',
  '',
  '\\',
  '-',
  'd',
  'E',
  '3',
  '',
  '',
  '',
  '\x06',
  '',
  '',
  '',
  '',
  '',
  'p',
  '\x14',
  '@',
  '',
  'a',
  '',
  '_',
  'I',
  'u',
  '\f',
  '',
  '',
  '',
  'H',
  '9',
  'T',
  '.',
  '\x19',
  '',
  '',
  't',
  '',
  '',
  '',
  '',
  'r',
  '0',
  '',
  '',
  '\x03',
  '\x90',
  'F',
  '',
  '1',
  '>',
  '',
  'G',
  'e',
  '',
  '',
  'y',
  '\x8D',
  '',
  '',
  'D',
  'j',
  '',
  '',
  '',
  '|',
  'L',
  '',
  '',
  '',
  '?',
  'S',
  '^',
  '',
  '\r',
  '\b',
  ';',
  'J',
  '\xFF',
  '\x16',
  'U',
  'c',
  '\t',
  'Z',
  '',
  '',
  '\x11',
  'g',
  ')',
  '\x0E',
  '',
  '',
  'V',
  '',
  '',
  '\x15',
  '}',
  'w',
  '',
  '\x1E',
  '\x01',
  '',
  '8',
  '#',
  '\x81',
  '',
  '',
  'A',
  '',
  '',
  '5',
  'C',
  '\x7F',
  ' ',
  'i',
  '',
  '',
  '*',
  '',
  '',
  '',
  '\x1D',
  '',
  'O',
  '',
  '\x1F',
  '',
  '',
  '',
  'K',
  '\x12',
  '\x17',
  '',
  'o',
  '',
  '6',
  '',
  '',
  'k',
  '(',
  '%',
  '',
  '',
  'z',
  '/',
  '',
  'm',
  '\a',
  '+',
  '',
  'n',
  '{',
  '&',
  '`',
  'b',
  'Q',
  '7',
  '',
  '!',
  '=',
  '',
  '',
  '',
  '',
  's',
  'B',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'M',
  '',
  'v',
  '',
  ':',
  '',
  '',
  ',',
  '',
  '',
  '',
  'q',
  '',
  '\b',
  '',
  'A',
  '*',
  '\x17',
  '',
  '\x10',
  '\x19',
  '(',
  '',
  '%',
  'l',
  'e',
  '\x0E',
  '',
  'M',
  '[',
  'h',
  'm',
  '',
  '',
  '',
  '\x11',
  '',
  '1',
  '',
  '\x8D',
  '',
  '',
  'z',
  '^',
  '',
  '',
  '',
  '',
  '=',
  'g',
  'Z',
  '',
  '\\',
  '',
  '@',
  '',
  '',
  '',
  'J',
  '',
  '',
  '',
  '',
  'W',
  '\0',
  '',
  '\x13',
  '',
  '',
  '\r',
  '',
  '\x7F',
  '\xFF',
  'j',
  '_',
  '',
  '',
  'K',
  '',
  'U',
  '>',
  '5',
  '',
  '',
  '',
  'r',
  'D',
  'N',
  '\x81',
  '',
  '',
  '\x05',
  '',
  't',
  '$',
  '',
  '',
  '\x15',
  '',
  '\x1A',
  '7',
  '',
  '',
  'f',
  '',
  '',
  '{',
  'i',
  ',',
  '',
  '/',
  '',
  '-',
  '',
  '',
  '',
  '',
  '',
  '\x12',
  'd',
  '',
  '',
  '',
  'y',
  '',
  '',
  'X',
  '',
  '\x04',
  '\t',
  'H',
  '\f',
  '\x02',
  '',
  ']',
  'Y',
  '',
  '',
  '',
  '',
  '\x1E',
  '',
  '~',
  '?',
  '',
  '\x01',
  '+',
  'c',
  'O',
  '',
  '\x1B',
  '',
  '',
  'o',
  'v',
  '',
  '',
  '',
  '\x90',
  'P',
  'Q',
  'I',
  '0',
  '\x06',
  'L',
  '',
  '',
  '',
  '',
  '|',
  '',
  '\x0F',
  '',
  '',
  '\a',
  '\x03',
  'V',
  '\x9D',
  '',
  '',
  'T',
  '',
  '',
  '\"',
  'a',
  '\x1F',
  '\n',
  '',
  '',
  '',
  'b',
  'E',
  '',
  'S',
  '',
  ' ',
  '',
  '',
  '',
  '',
  'x',
  'k',
  '',
  'F',
  '',
  '',
  '',
  ')',
  '\v',
  'n',
  '.',
  '#',
  '\x16',
  '',
  '',
  ';',
  '\x8F',
  '<',
  '',
  '3',
  '',
  '',
  '',
  's',
  '',
  '',
  '2',
  '\x1D',
  '4',
  'p',
  '',
  'C',
  '',
  '`',
  '',
  '',
  '',
  '',
  'R',
  '\x18',
  '!',
  '6',
  '',
  '',
  'u',
  '&',
  'q',
  '',
  '',
  '\'',
  '',
  '',
  ':',
  '}',
  'G',
  '8',
  '',
  '9',
  '',
  'w',
  '',
  '\x1C',
  '',
  'B',
  '',
  '',
  '\x14',
  '',
  '',
  '\x06',
  '',
  '',
  '',
  '',
  'G',
  '',
  '',
  '',
  '',
  '\t',
  '\x12',
  '',
  '\x11',
  'W',
  '',
  'B',
  '~',
  '\x7F',
  '',
  'k',
  '/',
  'D',
  't',
  '=',
  'H',
  '',
  '',
  '',
  '',
  '\0',
  '',
  '',
  '',
  '',
  '>',
  '',
  '<',
  '',
  '',
  '5',
  '',
  '',
  '',
  '',
  'n',
  '}',
  '',
  '',
  '2',
  '',
  '',
  '',
  '_',
  '?',
  '',
  '8',
  'c',
  '',
  'X',
  '',
  '',
  '\x1B',
  '4',
  '\x16',
  '',
  'o',
  'A',
  ':',
  'S',
  '',
  '1',
  '\x01',
  '',
  'N',
  '*',
  'I',
  '',
  'F',
  '\"',
  '',
  '9',
  '',
  '\f',
  '\\',
  'r',
  'Q',
  '-',
  's',
  '\x13',
  '',
  '',
  '',
  '\b',
  '\v',
  '',
  '0',
  'Z',
  '',
  '\a',
  'l',
  'f',
  '#',
  '',
  '$',
  ',',
  '',
  'p',
  '`',
  'x',
  'z',
  'R',
  '\'',
  'j',
  '\x81',
  '',
  '',
  '7',
  'E',
  '',
  '',
  '\x02',
  '\x90',
  '',
  '&',
  '',
  'O',
  '@',
  '',
  'U',
  '',
  'm',
  '',
  'M',
  '+',
  'y',
  '',
  '',
  '\x1A',
  '',
  '',
  'T',
  '',
  '',
  '\x9D',
  'b',
  '',
  'h',
  '',
  '',
  '',
  'Y',
  '',
  '\x8D',
  '',
  '\x0F',
  '',
  'w',
  '!',
  '',
  '',
  '\x17',
  '.',
  '\x8F',
  'i',
  '(',
  '',
  '\x14',
  ']',
  'e',
  '',
  '',
  '^',
  '',
  '',
  'v',
  '',
  '',
  '',
  'u',
  'J',
  '',
  '\x1F',
  'q',
  '',
  '',
  '',
  '',
  ' ',
  'a',
  '|',
  '',
  'd',
  '\x1E',
  '\x15',
  '',
  '',
  'P',
  '',
  '',
  '3',
  'V',
  '\x0E',
  'L',
  '',
  '{',
  '',
  '',
  '',
  '',
  '',
  '\x03',
  '%',
  '\n',
  '',
  '',
  '\x04',
  '\x18',
  '\x1D',
  '',
  '\r',
  'C',
  '',
  '',
  '',
  '6',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x19',
  ';',
  '',
  '',
  '',
  '',
  'K',
  '',
  '\x10',
  '',
  '',
  'g',
  '[',
  '\x1C',
  '',
  ')',
  '',
  '',
  '',
  '\xFF',
  '',
  '\x05',
  '',
  'w',
  '',
  'd',
  '\x1D',
  'M',
  '\x81',
  ')',
  '\x8D',
  '\x0E',
  '',
  '',
  '',
  's',
  '`',
  '\n',
  '\x11',
  '\x10',
  'D',
  '',
  '',
  '\x17',
  'j',
  '',
  '',
  '',
  '',
  '',
  'J',
  '\x1E',
  '2',
  '#',
  '1',
  '',
  'B',
  '+',
  '',
  '',
  '',
  '',
  'e',
  ':',
  '{',
  ']',
  'G',
  'T',
  'C',
  'u',
  '\\',
  '',
  '',
  '',
  '',
  'k',
  '(',
  '\x05',
  '',
  '\x1C',
  '',
  'v',
  'r',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x19',
  '@',
  'X',
  '\x16',
  '',
  '',
  '',
  '\x1B',
  '',
  '',
  '',
  'E',
  '',
  '\x15',
  '?',
  '',
  '\x1F',
  '*',
  '',
  '7',
  '\x06',
  '',
  'Y',
  '',
  '}',
  'N',
  '',
  '',
  '',
  '\x14',
  'S',
  '',
  'p',
  '',
  't',
  '',
  '\a',
  '\x7F',
  '',
  '\0',
  '$',
  '',
  '',
  '0',
  '',
  '\x01',
  'h',
  'g',
  '',
  '',
  '\b',
  '',
  '\xFF',
  '',
  '',
  '',
  '',
  'O',
  '',
  'z',
  'a',
  '',
  '',
  '',
  '\x9D',
  '',
  'i',
  '_',
  '',
  '',
  'c',
  'F',
  '',
  '=',
  'x',
  ';',
  'o',
  '\x0F',
  '',
  '\f',
  '',
  '',
  '\x18',
  '',
  '\x8F',
  '',
  'f',
  ' ',
  '',
  '',
  'Z',
  '^',
  '',
  '',
  '',
  '',
  '',
  ',',
  '',
  '',
  'P',
  '/',
  '',
  '',
  '\x12',
  '',
  '5',
  '\t',
  '',
  '',
  '',
  '>',
  '',
  '~',
  '',
  'K',
  '[',
  '',
  '',
  'm',
  '',
  'n',
  '',
  '\x04',
  '',
  '8',
  '.',
  '',
  '',
  '&',
  'b',
  '',
  'V',
  '',
  '',
  '!',
  '-',
  '',
  '',
  '|',
  '\x90',
  'R',
  'A',
  '',
  '',
  '',
  '',
  '',
  '',
  'U',
  '',
  '',
  'y',
  '',
  '',
  '',
  '\r',
  'L',
  '',
  '9',
  'Q',
  '',
  '6',
  '3',
  '\x02',
  '4',
  '',
  '',
  'l',
  'H',
  '',
  '\'',
  '',
  '\x13',
  '<',
  'I',
  '',
  '',
  '\x1A',
  '',
  '\x03',
  'q',
  '\v',
  '',
  '',
  '\"',
  '%',
  '',
  'W',
  'K',
  'g',
  '',
  '>',
  'X',
  '',
  '{',
  '',
  '0',
  '',
  'a',
  '',
  ' ',
  '/',
  '\x7F',
  '',
  '1',
  '',
  'B',
  '[',
  'w',
  '',
  '',
  '',
  'q',
  'I',
  '\t',
  '_',
  'F',
  '',
  '',
  'f',
  '-',
  '`',
  ']',
  '\x15',
  '',
  '\'',
  'z',
  '',
  '@',
  '',
  '',
  '',
  '',
  'm',
  '',
  '',
  'Y',
  '',
  '',
  '+',
  '',
  '',
  '\x1A',
  '',
  '',
  '',
  '\"',
  '\r',
  '',
  '4',
  '',
  '',
  'x',
  '\x14',
  '',
  'r',
  '',
  '\x05',
  '3',
  '\x1D',
  '\x8D',
  '\x02',
  '',
  '~',
  'k',
  '',
  '',
  'M',
  '}',
  '\x81',
  'j',
  '',
  '',
  'L',
  'c',
  'd',
  '',
  '',
  'y',
  '\\',
  ')',
  'S',
  'U',
  '\x0E',
  '',
  '\x03',
  '#',
  '',
  '\x10',
  'b',
  '\0',
  '\x1B',
  't',
  '\xFF',
  '|',
  '\x18',
  '',
  '',
  '',
  '9',
  '',
  '',
  '\x04',
  '',
  '$',
  '',
  '',
  '',
  '',
  'n',
  '',
  '',
  '',
  '',
  '\n',
  '\b',
  'C',
  '',
  '',
  'R',
  '',
  '\x06',
  '\x17',
  'J',
  'p',
  'D',
  '',
  '!',
  '',
  ':',
  '',
  '',
  '',
  '\x13',
  '^',
  '',
  '',
  '\x1F',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1C',
  '=',
  '',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  '\a',
  'N',
  'G',
  '',
  '',
  '',
  '',
  'v',
  '\f',
  '',
  '',
  '',
  '5',
  '\x12',
  '',
  '',
  '%',
  'E',
  'H',
  '\x0F',
  '',
  'l',
  '',
  'e',
  '\x8F',
  '',
  '8',
  '',
  '',
  '',
  '',
  '',
  '',
  'V',
  '\x90',
  'i',
  '',
  '',
  '7',
  '6',
  '',
  '',
  'u',
  'T',
  '\x01',
  '',
  'o',
  '',
  '',
  '',
  '',
  '<',
  '',
  '',
  '?',
  '',
  '',
  '\x11',
  '',
  '',
  '',
  'Z',
  '',
  '\x9D',
  '',
  '.',
  'O',
  'P',
  '',
  '',
  '&',
  ',',
  '',
  '',
  '',
  'h',
  '',
  'Q',
  '\x1E',
  '*',
  'A',
  '',
  '2',
  '(',
  ';',
  '\x16',
  '',
  '\v',
  'W',
  's',
  '',
  '',
  'O',
  '\x13',
  'r',
  '\x06',
  '%',
  'd',
  '?',
  '',
  '',
  '',
  '',
  '',
  '',
  '3',
  '',
  '',
  '',
  '`',
  '^',
  '',
  '',
  '',
  '',
  '\x12',
  '\x18',
  '\x19',
  '',
  'V',
  '\v',
  '',
  '',
  '',
  '',
  '>',
  '\t',
  '7',
  '',
  '!',
  ']',
  '\x9D',
  '\a',
  '',
  'h',
  '',
  '\x0E',
  '',
  '',
  '',
  '$',
  'b',
  'J',
  '',
  '',
  'R',
  '\x8F',
  '\x16',
  '',
  'Z',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'o',
  '',
  'F',
  '&',
  '',
  '\x02',
  'A',
  'q',
  '\x04',
  '',
  '',
  '\x05',
  '-',
  'Q',
  '',
  '',
  '\x8D',
  'c',
  '',
  '',
  ')',
  '1',
  '',
  'H',
  '9',
  '',
  'm',
  '',
  '\0',
  '',
  '',
  '\x14',
  'W',
  '',
  '',
  ':',
  '2',
  '',
  'M',
  '',
  '',
  '\x1E',
  '\b',
  'k',
  'N',
  '',
  '',
  '\x1C',
  '',
  ',',
  '',
  '',
  '',
  '',
  '',
  'e',
  '\x01',
  '',
  '',
  '',
  '',
  '=',
  '5',
  '',
  '',
  'v',
  '',
  '\x0F',
  '\\',
  '',
  '',
  '\"',
  '',
  '',
  '',
  '6',
  '.',
  'n',
  '',
  '',
  '',
  '',
  'f',
  '0',
  'u',
  'w',
  '\x17',
  ' ',
  't',
  '@',
  '4',
  '|',
  '',
  '',
  '+',
  'B',
  '',
  '',
  '',
  '',
  'g',
  '\x1F',
  '_',
  'L',
  '\x1D',
  'S',
  '\x15',
  'y',
  '\x1B',
  'P',
  '*',
  'X',
  '\r',
  'I',
  '',
  '}',
  '\x7F',
  '',
  '',
  'l',
  'x',
  '',
  'j',
  '',
  'Y',
  '',
  '\x1A',
  '\x10',
  'p',
  '\xFF',
  '\x81',
  '',
  '',
  '',
  '',
  '#',
  '',
  '',
  '/',
  '8',
  'C',
  'i',
  'T',
  '',
  'G',
  '[',
  '\'',
  '',
  '',
  '\f',
  '',
  '',
  '',
  '',
  '',
  '',
  'U',
  '',
  'E',
  'K',
  '',
  'z',
  'a',
  '',
  '',
  '',
  '',
  '<',
  '\x90',
  '\x11',
  '',
  '',
  '',
  '\n',
  '~',
  ';',
  '',
  '(',
  '',
  '',
  '',
  's',
  '',
  '\x03',
  '{',
  '',
  '',
  '',
  '',
  'D',
  '~',
  '',
  '\v',
  '\"',
  'w',
  'W',
  '\f',
  '!',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  'C',
  '',
  '',
  'S',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  'z',
  '',
  'x',
  'n',
  '',
  '4',
  'O',
  '>',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'R',
  '',
  '',
  '',
  '',
  '=',
  '',
  '',
  '',
  '\b',
  '',
  '6',
  'i',
  'N',
  '',
  ')',
  '[',
  '',
  'D',
  '',
  '',
  '\x18',
  'k',
  '',
  '',
  'P',
  't',
  '',
  '',
  '',
  'c',
  '',
  '',
  '',
  'f',
  '{',
  'K',
  '\x1C',
  '',
  ':',
  '',
  '8',
  '\x90',
  '\x1E',
  '%',
  'L',
  '\x0F',
  '$',
  '',
  '',
  '',
  '\x05',
  '',
  '',
  'Z',
  '',
  '',
  ' ',
  '\x8D',
  '',
  '',
  ']',
  '\x10',
  'G',
  '^',
  'p',
  '',
  '',
  '',
  '\x02',
  '',
  '\x81',
  '',
  '\\',
  'j',
  'X',
  '\a',
  '',
  '/',
  '',
  'Y',
  '',
  'h',
  'u',
  '0',
  'F',
  '`',
  '',
  '',
  'V',
  '?',
  'd',
  '',
  '',
  '\x19',
  '',
  '',
  '',
  'r',
  '_',
  '\x01',
  '|',
  '',
  '3',
  '',
  'E',
  '\n',
  'l',
  '\x17',
  '',
  '',
  'b',
  '-',
  '\x03',
  '',
  '',
  '',
  '',
  '\r',
  '+',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'I',
  '\x8F',
  '',
  'Q',
  '#',
  '\x1A',
  '',
  '',
  '',
  '\x11',
  '',
  '\x1D',
  '.',
  '',
  'q',
  'M',
  '\x14',
  '',
  ',',
  '',
  '',
  '9',
  '',
  '\x16',
  'T',
  '',
  '(',
  '',
  '\x04',
  '5',
  '<',
  'v',
  '\x7F',
  '\0',
  '\x1F',
  '',
  'U',
  '@',
  '',
  '\x0E',
  'B',
  '&',
  '*',
  '}',
  '',
  '',
  '',
  'H',
  '',
  '',
  '',
  '',
  'J',
  'e',
  '',
  '',
  '\'',
  '',
  '',
  'a',
  '',
  '',
  '',
  '1',
  '\x06',
  '7',
  ';',
  '\x1B',
  'm',
  'A',
  '\x9D',
  'y',
  '',
  '\xFF',
  '',
  '',
  '\t',
  'g',
  '',
  '',
  'o',
  '',
  '',
  '\x13',
  '',
  's',
  '',
  '2',
  '',
  '',
  'j',
  '6',
  'Z',
  'H',
  '',
  '',
  'J',
  'U',
  '#',
  'W',
  '\x8D',
  'h',
  '\x90',
  '^',
  '',
  '',
  '5',
  '',
  '\0',
  '\r',
  '%',
  '',
  '',
  '@',
  '',
  '',
  '\x05',
  '>',
  '\x1E',
  '1',
  '',
  '',
  '',
  '&',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  'l',
  '',
  '',
  '\x0E',
  'n',
  '',
  'G',
  '',
  '',
  '?',
  '',
  '',
  ';',
  '\x11',
  'O',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '~',
  '',
  '',
  '\x02',
  'B',
  'R',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '+',
  'F',
  '',
  '',
  '',
  '_',
  't',
  '',
  ']',
  '|',
  '*',
  '',
  ' ',
  '\'',
  '',
  '<',
  'A',
  '-',
  '`',
  '',
  '\b',
  '',
  '',
  '\x9D',
  'L',
  'I',
  '',
  '\f',
  '',
  '3',
  '',
  '',
  '0',
  '$',
  'o',
  '4',
  '\x16',
  'i',
  '',
  '',
  'Y',
  '',
  '\x1F',
  '',
  'a',
  '/',
  'b',
  '',
  'g',
  'y',
  '',
  '',
  '',
  'm',
  '\x1B',
  '\x12',
  'X',
  'z',
  '',
  '!',
  '2',
  'T',
  'K',
  '\x0F',
  '',
  'r',
  'q',
  '',
  '9',
  '',
  '',
  '',
  '\t',
  '',
  '\x01',
  '\n',
  'p',
  '',
  'e',
  '',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  '\x81',
  '',
  '\x13',
  '\x10',
  '\x8F',
  '=',
  '',
  '\x1C',
  '',
  '',
  '',
  'P',
  '{',
  '',
  '\x04',
  '',
  '}',
  'v',
  '',
  '',
  '',
  '\a',
  '\x15',
  '',
  '',
  'k',
  '8',
  'c',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '',
  'N',
  'M',
  '\"',
  '\xFF',
  '',
  'x',
  '',
  ')',
  '',
  'Q',
  '',
  'w',
  '',
  '',
  '',
  '\x18',
  '',
  '',
  'S',
  '\x19',
  '',
  'd',
  'E',
  '\x03',
  '',
  ',',
  '',
  '',
  '\x06',
  '\x17',
  '',
  '',
  '',
  '',
  'D',
  'u',
  '(',
  's',
  '.',
  '7',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  '',
  'f',
  '',
  '\x1A',
  'V',
  ':',
  '',
  '',
  '',
  '',
  '[',
  'C',
  '',
  'e',
  'S',
  'V',
  '',
  '',
  '(',
  '\x81',
  '',
  'J',
  '',
  '',
  '=',
  '\xFF',
  'w',
  '',
  '',
  '',
  '\\',
  's',
  '\a',
  '1',
  '',
  '\x1F',
  '6',
  'I',
  '',
  'R',
  '',
  'n',
  '',
  '',
  '',
  '',
  '\x19',
  '',
  '',
  '\x18',
  '\x12',
  '',
  'N',
  'f',
  'K',
  '',
  '\t',
  'A',
  'U',
  '\x8F',
  '_',
  'Q',
  '',
  '',
  '\f',
  '',
  '',
  ')',
  'O',
  '5',
  '!',
  ']',
  '',
  '',
  'u',
  'v',
  '',
  '\x02',
  '\r',
  '',
  '',
  '\x10',
  '',
  '',
  '\v',
  '',
  '',
  '',
  '',
  '^',
  '\x7F',
  'i',
  '',
  '',
  'z',
  'P',
  '',
  '',
  '',
  '',
  '',
  '.',
  '-',
  'b',
  '',
  'x',
  '3',
  '',
  '\x0E',
  '',
  '',
  '\x8D',
  '',
  ' ',
  '',
  '\x04',
  '\x1E',
  '',
  '\x17',
  '\x11',
  '?',
  'o',
  '',
  '',
  '\x01',
  '',
  'C',
  '[',
  '\n',
  '',
  '',
  '\x1B',
  '4',
  'Z',
  ':',
  '',
  '',
  '2',
  '',
  'q',
  '\x90',
  '',
  '',
  '`',
  '<',
  'W',
  '\x14',
  'L',
  '\x15',
  '',
  '',
  'r',
  '',
  '\'',
  '',
  '8',
  'j',
  ';',
  '',
  '',
  '7',
  '',
  '',
  'y',
  '\x16',
  '',
  '\0',
  '/',
  'd',
  '',
  '',
  '',
  'E',
  'k',
  '',
  '+',
  'X',
  '',
  '0',
  '',
  'T',
  '',
  'F',
  '',
  '\x03',
  '',
  '',
  '\"',
  '',
  'B',
  '\x13',
  '',
  't',
  '',
  '',
  '\x1D',
  'p',
  '',
  '',
  '',
  '',
  'H',
  '~',
  'g',
  '',
  '',
  '*',
  '',
  'G',
  '',
  '',
  '\x06',
  '',
  '',
  '\b',
  '',
  'h',
  '',
  '$',
  '&',
  'D',
  '\x05',
  '',
  '',
  '',
  'M',
  '',
  '',
  '',
  'm',
  'l',
  '',
  '',
  'c',
  '@',
  '|',
  '',
  '',
  '#',
  '',
  '\x9D',
  '',
  '>',
  'Y',
  '',
  '',
  '',
  '',
  '\x0F',
  '',
  ',',
  '',
  '',
  '',
  '}',
  '',
  '%',
  '',
  '{',
  '',
  '\x1A',
  '',
  '\x1C',
  '',
  'a',
  '',
  '',
  '9',
  'M',
  '%',
  '',
  '',
  '4',
  '',
  '',
  '',
  '\x16',
  'o',
  '',
  '',
  '',
  '',
  'l',
  '',
  '',
  '[',
  '<',
  '\x90',
  '',
  '\r',
  '',
  '',
  'E',
  '',
  '?',
  'N',
  '',
  '\x1D',
  '\x0F',
  '',
  '',
  '',
  'b',
  '',
  '\x8D',
  'V',
  'R',
  '',
  '',
  '',
  '{',
  'u',
  '',
  'K',
  '1',
  '\x8F',
  '5',
  '/',
  '',
  'S',
  '\'',
  '',
  'z',
  '\t',
  'A',
  '\x1A',
  '~',
  ';',
  '',
  '!',
  '',
  '',
  ']',
  '&',
  '',
  '',
  '',
  'k',
  '',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  '_',
  'q',
  '',
  'x',
  '',
  '',
  '\x10',
  '',
  '',
  '|',
  '\xFF',
  ',',
  '',
  '',
  '',
  'I',
  '0',
  '',
  '',
  'T',
  '+',
  '\n',
  '}',
  '',
  '',
  '',
  '',
  '\x12',
  '8',
  'w',
  '',
  '',
  '3',
  '',
  '\x0E',
  '6',
  '',
  '^',
  'J',
  '',
  '',
  '\\',
  '\x05',
  '',
  't',
  '\x13',
  '\x04',
  '',
  'B',
  '',
  '\x1B',
  '',
  '',
  '',
  '7',
  '',
  'U',
  'f',
  '',
  '',
  'C',
  'c',
  'G',
  '',
  '',
  'y',
  '.',
  's',
  '',
  '\x18',
  '\x7F',
  '\x06',
  'h',
  '',
  '',
  '(',
  '\x17',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '\f',
  '',
  '',
  '',
  '',
  '>',
  'n',
  'j',
  '',
  '\0',
  '\b',
  'e',
  '',
  '#',
  'F',
  '\x9D',
  '-',
  '',
  '*',
  '',
  '',
  '',
  '',
  '',
  '`',
  '',
  '\x81',
  '$',
  '\"',
  'g',
  'Z',
  'm',
  'L',
  '\x1F',
  '\x1C',
  '=',
  '',
  'r',
  'p',
  '',
  '\x03',
  '',
  'v',
  'H',
  '\x1E',
  ')',
  '',
  '',
  '',
  '',
  'O',
  '',
  '2',
  '',
  'W',
  'X',
  '',
  'a',
  '',
  '',
  'D',
  '',
  ':',
  '',
  '',
  '',
  'P',
  '',
  '\x11',
  'Q',
  '',
  '\a',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x01',
  '@',
  '',
  '',
  ' ',
  '',
  '\x02',
  '',
  'i',
  '\x19',
  'd',
  '9',
  '',
  '\x14',
  'Y',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'g',
  '\x1C',
  '',
  '',
  '%',
  '\x9D',
  '\r',
  'd',
  '',
  '',
  '',
  '',
  '(',
  '',
  '',
  ':',
  '\x8D',
  'p',
  'c',
  '&',
  '',
  '`',
  '{',
  'h',
  '',
  '\x1B',
  '',
  '',
  '',
  '\x0F',
  'J',
  '',
  '',
  '-',
  '',
  'U',
  '8',
  '\n',
  '\x1A',
  '',
  '',
  '',
  '',
  '\f',
  'y',
  '',
  'm',
  'O',
  '',
  '',
  '6',
  '',
  'D',
  '',
  '',
  '',
  '#',
  '',
  '\x16',
  '',
  '',
  '',
  '9',
  '\x81',
  '',
  '',
  '',
  '\"',
  'W',
  '',
  '',
  'P',
  '\v',
  '}',
  '+',
  'H',
  '',
  'F',
  '',
  '\x90',
  '',
  'r',
  '\x04',
  'M',
  '',
  '',
  ' ',
  '',
  '',
  '^',
  '',
  '',
  'A',
  '',
  'n',
  'R',
  '',
  '\x13',
  '',
  '',
  'u',
  '',
  '0',
  '',
  'w',
  '',
  'e',
  '\x12',
  '\\',
  '',
  '',
  '1',
  '',
  'L',
  '',
  'S',
  '',
  '@',
  '~',
  '',
  '',
  '',
  '!',
  '',
  ',',
  'E',
  'B',
  'o',
  '\x1E',
  '\a',
  '$',
  'V',
  '',
  '',
  '',
  's',
  '\x02',
  '',
  '',
  '',
  'Y',
  '',
  '',
  '\x14',
  'b',
  '',
  '',
  '\x11',
  '\x15',
  'i',
  '',
  'K',
  '',
  '',
  '<',
  '',
  '',
  '\x18',
  '',
  '',
  '',
  ']',
  'f',
  '',
  '',
  'a',
  '4',
  '',
  '',
  'q',
  '\x06',
  'T',
  '',
  '',
  '',
  '\b',
  '\x0E',
  '',
  '\x05',
  'N',
  '\x8F',
  '>',
  '',
  '',
  ')',
  '',
  ';',
  'l',
  '*',
  '',
  '',
  '\x17',
  '=',
  '',
  'v',
  '\x7F',
  '',
  'X',
  '',
  '',
  'Z',
  '',
  '',
  '_',
  '',
  '|',
  '2',
  'x',
  'j',
  '',
  '/',
  '\0',
  '5',
  '',
  '\x1D',
  'C',
  '',
  '\x10',
  '',
  'z',
  '\x01',
  '',
  '',
  't',
  '\xFF',
  '3',
  '\x1F',
  '',
  '[',
  '',
  '\x19',
  '\'',
  'I',
  'G',
  '',
  'Q',
  'k',
  '',
  '',
  '7',
  '',
  '\x03',
  '',
  '.',
  '',
  '\t',
  '',
  '',
  '?',
  '/',
  'F',
  '>',
  '',
  '#',
  '',
  '\x10',
  '',
  '',
  '\x90',
  '.',
  '\x19',
  'v',
  '',
  '',
  'e',
  '',
  '',
  '',
  '',
  '',
  'J',
  'l',
  'D',
  '',
  'd',
  '',
  '\0',
  '',
  '`',
  'X',
  '|',
  '',
  '',
  '\r',
  '\x06',
  '<',
  '-',
  '',
  '\x13',
  '\xFF',
  '',
  '',
  '',
  '=',
  '',
  '',
  '\a',
  '',
  '',
  '',
  'P',
  '',
  '\x17',
  '',
  '\x1E',
  '',
  '',
  '{',
  '',
  'w',
  '',
  '\"',
  'L',
  's',
  'o',
  '4',
  '',
  '',
  '',
  '\x7F',
  'E',
  'r',
  '',
  '\\',
  '\x1F',
  '',
  '',
  ',',
  'T',
  '\x1D',
  '',
  '9',
  '',
  '',
  '\f',
  '',
  '',
  '+',
  '',
  '0',
  '\x01',
  '\x0E',
  'I',
  '',
  '',
  'K',
  'u',
  '&',
  '',
  '',
  'y',
  'R',
  '',
  ']',
  '',
  'A',
  'O',
  'Q',
  '*',
  'b',
  '',
  '',
  '',
  '\x03',
  '\x05',
  '',
  '',
  '',
  '$',
  'h',
  '',
  '',
  '\b',
  't',
  '\x11',
  'Z',
  'H',
  '\x8F',
  '',
  '',
  '',
  '\x1B',
  'z',
  'M',
  'B',
  '',
  '\x12',
  'G',
  '',
  '',
  '\x1C',
  '',
  'n',
  '@',
  '',
  'p',
  '\x14',
  ';',
  '',
  '',
  '',
  '',
  '1',
  'N',
  '',
  '',
  '',
  '\'',
  '(',
  '?',
  'k',
  '',
  '\x16',
  '',
  '\x1A',
  '',
  '\x81',
  'i',
  '',
  '',
  'f',
  '',
  '',
  'a',
  '',
  '',
  '\x8D',
  '',
  '',
  '',
  '',
  '\t',
  '',
  '[',
  '2',
  '',
  'Y',
  '',
  '',
  '',
  'g',
  'U',
  '',
  '\x9D',
  '',
  '8',
  '~',
  '%',
  '\v',
  '',
  '',
  '',
  '',
  '',
  '7',
  '',
  '',
  '!',
  'C',
  '\x18',
  '',
  '',
  '',
  'q',
  '',
  '',
  '',
  '3',
  ':',
  '5',
  ' ',
  '',
  '',
  '',
  '',
  '}',
  'x',
  '',
  'm',
  '\x02',
  '',
  'W',
  '\n',
  '',
  'S',
  '',
  '',
  '',
  '',
  '',
  'V',
  '\x15',
  'c',
  '',
  '6',
  '^',
  '',
  '',
  ')',
  '\x04',
  '',
  '\x0F',
  '_',
  '',
  'j',
  '',
  '',
  'S',
  '',
  '\x12',
  'o',
  '\v',
  'K',
  '',
  ']',
  't',
  '',
  '',
  '\x03',
  '',
  'l',
  '',
  '',
  '',
  '\r',
  'P',
  '',
  '\x81',
  '',
  '',
  '',
  '',
  'b',
  'h',
  '\x18',
  '1',
  '\x1F',
  '',
  '',
  '',
  '$',
  '\x10',
  '',
  'Z',
  '',
  '',
  '',
  'Y',
  '\"',
  '\x05',
  'y',
  '',
  '',
  'g',
  '',
  ':',
  ' ',
  '',
  '',
  '',
  '',
  '',
  'J',
  'z',
  '-',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '/',
  '\x04',
  '\x8F',
  '%',
  'p',
  'X',
  '',
  '}',
  '\x19',
  '(',
  '\f',
  '5',
  '',
  '2',
  '_',
  '',
  '',
  '',
  ',',
  '',
  'V',
  '',
  'k',
  'r',
  '',
  '7',
  '',
  '',
  '\x0E',
  '\x1A',
  '',
  'L',
  '',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '>',
  '\x1D',
  'u',
  '',
  '\x1B',
  '',
  '',
  'x',
  '',
  '',
  '',
  '\'',
  ')',
  '',
  '\x8D',
  'Q',
  '',
  '',
  '\x9D',
  '',
  '',
  '\x13',
  '',
  'G',
  '?',
  '',
  'U',
  '',
  '',
  '\x16',
  '{',
  '&',
  '9',
  'C',
  'I',
  '',
  '',
  '.',
  '\x15',
  '',
  '',
  '`',
  '',
  '\x1E',
  '',
  '',
  '<',
  'd',
  '',
  'q',
  'B',
  'D',
  'A',
  '\x17',
  '',
  'W',
  '\x11',
  '#',
  '',
  '',
  '',
  '',
  '',
  '+',
  'O',
  '@',
  '',
  'c',
  '',
  'H',
  '',
  '',
  '',
  '6',
  '\x0F',
  '',
  '',
  '',
  '',
  'R',
  '!',
  'v',
  ';',
  '',
  '^',
  '\t',
  '[',
  'e',
  '\0',
  '',
  '',
  '=',
  '',
  'm',
  '',
  '\x06',
  '\\',
  'N',
  'M',
  '',
  's',
  '',
  'j',
  '',
  '',
  '\x90',
  '',
  '',
  '',
  '|',
  '0',
  '',
  'a',
  '',
  '8',
  '',
  '\x7F',
  'F',
  '',
  '*',
  'i',
  '~',
  'E',
  '',
  '\a',
  '',
  '\x14',
  '',
  '',
  '',
  '4',
  '\xFF',
  '',
  'w',
  '\n',
  'n',
  '3',
  'T',
  '',
  '\x1C',
  '',
  '',
  '\x02',
  '',
  '\x01',
  'f',
  '',
  '',
  '',
  'b',
  '',
  '',
  '',
  '5',
  '#',
  '',
  '',
  '<',
  '',
  'a',
  '',
  '',
  '',
  '',
  '',
  'V',
  ',',
  'D',
  '$',
  '?',
  ')',
  'k',
  '',
  'n',
  'L',
  '4',
  '',
  '',
  '',
  '@',
  '',
  'x',
  '',
  '',
  '',
  '',
  ':',
  '',
  '}',
  'y',
  '',
  '',
  'h',
  '',
  'E',
  '\x02',
  '',
  '^',
  'i',
  '',
  '',
  '\r',
  '!',
  '',
  '',
  '',
  '',
  'c',
  '>',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  'S',
  '',
  '',
  '-',
  '',
  '',
  ']',
  '',
  '',
  '',
  '\n',
  '',
  '',
  '\"',
  '~',
  '',
  'H',
  '\x8D',
  '6',
  'd',
  'Y',
  '',
  '',
  '\x06',
  '',
  '',
  '\x7F',
  '',
  '\x1C',
  'B',
  '+',
  '',
  '',
  '\x9D',
  '',
  'X',
  '%',
  'F',
  '',
  '',
  'R',
  'q',
  'K',
  '\x1A',
  '',
  'I',
  '\x8F',
  '',
  '',
  '\'',
  '',
  '\x13',
  '',
  'm',
  '',
  's',
  '*',
  '',
  '',
  '8',
  '3',
  'M',
  'O',
  '\a',
  '',
  '',
  'C',
  '',
  '',
  '',
  '',
  'T',
  '',
  ' ',
  '',
  '0',
  '',
  '',
  '',
  '',
  '\x81',
  'N',
  '',
  '',
  '',
  '\x19',
  'Z',
  '',
  'P',
  '',
  '',
  '',
  'A',
  '7',
  '',
  '\x04',
  '',
  'u',
  '',
  '',
  '',
  'U',
  '',
  'z',
  '',
  '\x01',
  '',
  'o',
  '\0',
  '\x90',
  '',
  '\x0F',
  '\x11',
  '`',
  'g',
  '',
  '\x05',
  '',
  '\x1E',
  '',
  'W',
  'l',
  '',
  '[',
  '',
  't',
  '_',
  'G',
  '',
  '\x12',
  '',
  'r',
  '\x18',
  '\x03',
  '',
  '\x1B',
  '',
  '',
  'Q',
  '\f',
  '|',
  '',
  '',
  '/',
  'f',
  '\xFF',
  '',
  '&',
  'j',
  '\\',
  '',
  '2',
  '',
  '(',
  '',
  '\b',
  'p',
  '\x1F',
  '',
  ';',
  '',
  '',
  '',
  '',
  'v',
  '\v',
  '{',
  'e',
  '9',
  'w',
  '',
  '\x15',
  '',
  '',
  '\t',
  '\x16',
  'J',
  '.',
  '\x1D',
  '',
  '=',
  '\x17',
  '1',
  '',
  '\x10',
  '',
  '',
  '',
  '\x14',
  '',
  '/',
  '',
  '\a',
  '',
  '<',
  'h',
  ':',
  '',
  '',
  '',
  '7',
  '',
  '',
  '\x16',
  'o',
  '\x1A',
  'd',
  'P',
  '!',
  '\"',
  '5',
  'g',
  '}',
  '',
  '\n',
  'i',
  '',
  '',
  'E',
  '',
  '\x11',
  '',
  '',
  ']',
  '\x1B',
  '',
  '8',
  'B',
  '',
  '',
  '',
  '|',
  '',
  '',
  '',
  '.',
  '',
  '[',
  'T',
  '',
  '',
  '',
  '\x05',
  '\b',
  'J',
  'R',
  '',
  '',
  'S',
  'H',
  '',
  '',
  't',
  'I',
  '',
  '',
  'r',
  '',
  '',
  '\x17',
  '',
  '',
  '',
  '6',
  '',
  'k',
  '',
  '',
  '',
  '',
  '\x03',
  'N',
  '`',
  '\t',
  '9',
  '4',
  '',
  '0',
  '\x06',
  '',
  '',
  'C',
  '\x0F',
  '',
  '',
  '',
  '',
  ';',
  '{',
  '',
  '\x13',
  '',
  'w',
  '\x10',
  '',
  '+',
  'z',
  '~',
  '',
  'F',
  '-',
  '',
  'b',
  '',
  '',
  '',
  'q',
  '\v',
  '@',
  'A',
  '\x8F',
  ',',
  '',
  '',
  '',
  'y',
  '3',
  '\x1D',
  'G',
  '\'',
  '\x8D',
  '',
  '',
  '',
  '',
  '=',
  'Z',
  '#',
  '',
  '',
  '',
  'c',
  '\x9D',
  '\x81',
  '\x1F',
  '\x04',
  '\x1C',
  '',
  'Q',
  '',
  '\x1E',
  '',
  '',
  '\x15',
  'K',
  '',
  '',
  '',
  '',
  '',
  '\x90',
  'W',
  '\f',
  '',
  '',
  'l',
  'p',
  '',
  '',
  'v',
  '',
  's',
  '',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  '\r',
  '',
  '',
  '',
  '',
  'X',
  '',
  '&',
  '1',
  '',
  '',
  '',
  '',
  'j',
  '',
  '',
  '2',
  '*',
  '',
  '',
  'D',
  'Y',
  'M',
  'O',
  '',
  '%',
  'x',
  '\x19',
  '?',
  '',
  '',
  '>',
  '(',
  '',
  '',
  '\x14',
  'a',
  '',
  '',
  'L',
  'm',
  '\\',
  ' ',
  '',
  '',
  '',
  '',
  ')',
  '\x7F',
  '\x01',
  'U',
  'f',
  '',
  '\x12',
  '\x0E',
  '_',
  '$',
  '\0',
  '',
  '',
  '',
  '^',
  'e',
  '',
  'u',
  '\x18',
  '',
  '',
  '\x02',
  '',
  'V',
  '',
  'n',
  '',
  '',
  '',
  's',
  '',
  '',
  ')',
  '\x17',
  '\x9D',
  '\a',
  '\x06',
  '',
  '',
  '',
  'u',
  '\v',
  '',
  'E',
  '\f',
  '',
  'S',
  '',
  '',
  '',
  'n',
  'B',
  'K',
  '\x0E',
  '',
  '\x18',
  '',
  '',
  '*',
  '',
  'W',
  '',
  '\x01',
  'F',
  '\x7F',
  '_',
  '{',
  '',
  '',
  ' ',
  'N',
  '\x1E',
  '',
  '',
  'R',
  '>',
  '',
  '',
  '~',
  '',
  '\x15',
  '5',
  '0',
  '',
  '',
  '',
  'q',
  '}',
  '',
  '',
  'y',
  'r',
  '\x03',
  '\x8D',
  ';',
  '',
  '/',
  '\x1C',
  '',
  '',
  '',
  '',
  '',
  'P',
  '4',
  '8',
  '',
  '1',
  '\x11',
  '\x1A',
  '',
  '\x14',
  '',
  '+',
  '',
  '\x04',
  'M',
  '',
  'Z',
  'U',
  '',
  '`',
  '',
  '.',
  '^',
  '',
  '',
  '!',
  '',
  '',
  '',
  '@',
  '',
  '',
  '\x1F',
  '',
  '',
  '$',
  '7',
  ']',
  '',
  '',
  '',
  '\x8F',
  '',
  '\xFF',
  '\x1D',
  '&',
  '\x10',
  '',
  '',
  'b',
  'C',
  '',
  'v',
  '',
  '',
  '',
  '(',
  '',
  '',
  '<',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x0F',
  '=',
  'Y',
  '',
  '\x1B',
  '\x13',
  'X',
  '\x19',
  '\b',
  'g',
  'h',
  '',
  '',
  '',
  'w',
  '',
  'j',
  '|',
  '',
  'o',
  '',
  '',
  '',
  'z',
  '',
  'a',
  'O',
  '',
  '',
  'Q',
  'e',
  '',
  '',
  '',
  '',
  '',
  '',
  'T',
  'd',
  '',
  '',
  '',
  'G',
  '',
  '',
  '-',
  't',
  '',
  '',
  'k',
  '',
  'J',
  '',
  '\\',
  '',
  '',
  '',
  '2',
  '',
  'l',
  '%',
  ',',
  'c',
  '',
  '\t',
  'H',
  '?',
  'A',
  '',
  '\x81',
  '',
  '',
  '',
  '#',
  '',
  '',
  '\x90',
  '',
  '3',
  'f',
  '',
  'L',
  '',
  '\'',
  '\x16',
  'I',
  '\x12',
  '\x02',
  '[',
  '\r',
  'V',
  '',
  'x',
  '',
  '',
  '9',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  ':',
  'i',
  '\0',
  'D',
  'p',
  '',
  'm',
  '',
  '\"',
  '\n',
  '6',
  '\x05',
  '',
  '-',
  '',
  '/',
  '\v',
  '\x1F',
  '!',
  '',
  'Y',
  '',
  '',
  '\x1A',
  'h',
  '',
  '',
  '\b',
  'a',
  '',
  '',
  '',
  '\f',
  '',
  '\x0F',
  'r',
  '',
  '@',
  '',
  'b',
  'A',
  '',
  '.',
  '',
  'B',
  '=',
  '',
  '\x1B',
  '',
  '',
  '',
  'o',
  '',
  'v',
  ']',
  '',
  'H',
  'k',
  '\x10',
  '6',
  '<',
  '',
  '',
  '',
  '',
  'C',
  '>',
  '#',
  'd',
  '',
  'c',
  '5',
  '',
  '\x9D',
  '\x0E',
  'D',
  '',
  '',
  '',
  ';',
  '',
  '',
  'J',
  '',
  '',
  '\r',
  'P',
  '`',
  'E',
  '',
  '\x11',
  '',
  '',
  '',
  '\x1C',
  'N',
  '',
  'R',
  '\x1E',
  '',
  '',
  'Q',
  '',
  'j',
  '|',
  '*',
  '\x14',
  's',
  '',
  '',
  '3',
  '',
  '',
  'y',
  'u',
  '',
  '',
  '',
  '',
  '',
  'M',
  '',
  '',
  '',
  '4',
  '\x16',
  '\x03',
  'U',
  '',
  'I',
  'x',
  '',
  '',
  '',
  '',
  'n',
  '1',
  '',
  '8',
  'G',
  'g',
  '',
  '',
  '2',
  '\x8F',
  '\"',
  '',
  '~',
  '',
  't',
  '',
  '',
  '\x19',
  '',
  '\'',
  '\t',
  '',
  '\x13',
  'Z',
  '',
  '',
  '\x02',
  '+',
  '\a',
  '9',
  '',
  '',
  '',
  '',
  'V',
  'z',
  '\x15',
  '\x18',
  '',
  '',
  '\x1D',
  'i',
  '',
  '',
  '',
  '',
  '',
  '',
  'f',
  '',
  'p',
  '',
  '^',
  '\x7F',
  '\0',
  '}',
  '',
  'S',
  'w',
  '\\',
  ':',
  'K',
  '',
  'T',
  '',
  ',',
  '$',
  '',
  '',
  '',
  '',
  '\x04',
  '?',
  'L',
  'm',
  '',
  '',
  '\x17',
  '',
  '',
  '%',
  '\x01',
  '',
  ')',
  '(',
  '',
  '\xFF',
  'F',
  '',
  '\x06',
  '&',
  '',
  '',
  '',
  '',
  '',
  'l',
  '\x90',
  '',
  '0',
  '',
  '',
  '',
  '\n',
  '_',
  '',
  '',
  '',
  '',
  'q',
  ' ',
  '',
  '\x8D',
  'e',
  '',
  '',
  'X',
  '',
  '',
  '',
  'W',
  '7',
  '',
  '{',
  '',
  'O',
  '\x12',
  '\x05',
  '',
  '',
  '[',
  '',
  '\x81',
  '',
  '9',
  '',
  'W',
  '',
  '',
  '\x13',
  '\x8D',
  'B',
  '\'',
  '\x18',
  'U',
  '',
  '\x1E',
  '2',
  'Q',
  '\x14',
  '',
  '',
  '\x10',
  '',
  '#',
  '',
  '1',
  '',
  '',
  '',
  'D',
  'l',
  '',
  '',
  '',
  'o',
  '',
  'L',
  '',
  'g',
  '',
  '<',
  '',
  '',
  ',',
  '',
  '^',
  '',
  'I',
  'v',
  '\x12',
  '',
  '$',
  '\x1C',
  '',
  '',
  'a',
  'F',
  '',
  ']',
  '',
  '\n',
  '\x1D',
  '',
  '',
  '',
  '\t',
  '',
  '',
  '3',
  '',
  '4',
  '',
  'Y',
  '\v',
  '',
  ' ',
  '-',
  '',
  '',
  'y',
  '',
  '',
  '',
  '',
  '\x7F',
  '(',
  'O',
  '',
  '',
  '',
  'Z',
  '',
  '',
  '',
  'p',
  '',
  '%',
  '',
  '',
  '',
  'A',
  'h',
  '',
  '\x0E',
  '~',
  '',
  'e',
  '+',
  '\x04',
  '{',
  '',
  '',
  '\b',
  '',
  '\\',
  '',
  '`',
  'T',
  '',
  '>',
  '',
  'z',
  '\x1B',
  '',
  '',
  '\x90',
  '',
  '7',
  '\x02',
  'b',
  '',
  '}',
  '\xFF',
  '',
  '',
  '',
  '8',
  '',
  '',
  '',
  'P',
  '\x05',
  'n',
  '*',
  '=',
  '\0',
  'x',
  '\x16',
  '',
  '?',
  '',
  '/',
  '',
  'm',
  'k',
  '',
  '|',
  '6',
  '',
  '',
  '',
  '',
  '\a',
  '',
  '',
  '',
  's',
  '',
  '',
  '',
  '\x11',
  '\x1F',
  '',
  '',
  '',
  'd',
  '',
  '',
  '\x19',
  'H',
  '',
  '',
  '',
  '\x0F',
  'i',
  '',
  '\x1A',
  '',
  '',
  '',
  '',
  'u',
  '\x81',
  '',
  '',
  '',
  'M',
  '',
  '',
  '',
  '',
  'q',
  ')',
  'V',
  '',
  '5',
  '',
  '\r',
  ':',
  '',
  'N',
  '',
  '\x01',
  'G',
  '',
  '\f',
  'C',
  'R',
  'c',
  '',
  '\x15',
  'S',
  '[',
  '\x17',
  '',
  '0',
  '\x9D',
  'J',
  '',
  '&',
  '',
  '',
  'j',
  '\x06',
  '@',
  '.',
  '',
  'K',
  '',
  '_',
  '',
  '',
  '',
  '!',
  '',
  'E',
  'r',
  '\"',
  '',
  'f',
  'X',
  '\x8F',
  '\x03',
  'w',
  '',
  '',
  ';',
  't',
  '',
  ' ',
  '\0',
  '',
  ':',
  '\'',
  '',
  '',
  '\x12',
  '',
  '',
  '=',
  ';',
  '2',
  '',
  '',
  'g',
  '\t',
  'c',
  '',
  '\x15',
  '',
  'W',
  '',
  'i',
  '',
  'd',
  '',
  '',
  '',
  '\a',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'D',
  '}',
  'C',
  '',
  '{',
  '\x1A',
  '',
  'j',
  '\x05',
  '',
  '',
  '',
  '',
  'h',
  'f',
  'v',
  '\\',
  '',
  'm',
  'n',
  '',
  'T',
  '\x1B',
  '',
  '',
  '',
  '',
  '3',
  '\r',
  '\x10',
  '\x01',
  '5',
  's',
  '',
  '`',
  '',
  ',',
  '\x17',
  '',
  '',
  't',
  '',
  '\x90',
  '\x18',
  'S',
  '',
  '\x8F',
  'B',
  '',
  '\x8D',
  ']',
  '!',
  'o',
  '+',
  '',
  'y',
  '',
  '\x16',
  '>',
  '',
  '',
  '',
  'R',
  '',
  'M',
  'x',
  '&',
  '',
  'e',
  '7',
  'P',
  '',
  '\x19',
  '',
  'V',
  '-',
  '\"',
  'H',
  '\n',
  '/',
  '9',
  '\x1E',
  '\x03',
  '',
  '',
  '',
  '\x04',
  '*',
  '',
  '',
  'z',
  '',
  '\f',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'q',
  '',
  'Y',
  '',
  'Z',
  '_',
  '\x13',
  '',
  '\x11',
  'O',
  '',
  'N',
  '',
  '~',
  '',
  'p',
  'w',
  '',
  '',
  '<',
  '',
  '',
  '\x7F',
  '',
  '',
  'I',
  '',
  '|',
  'u',
  'K',
  '',
  '\b',
  '1',
  '[',
  '\x9D',
  '',
  '4',
  'L',
  'l',
  'J',
  '\x1F',
  '',
  '',
  'r',
  '',
  '6',
  '',
  '0',
  'Q',
  '',
  'F',
  '',
  '',
  'a',
  '',
  '',
  '@',
  '',
  '$',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\xFF',
  '\v',
  '',
  '',
  '\x81',
  '',
  '',
  '',
  '',
  '',
  '',
  'k',
  '\x02',
  '',
  '',
  '',
  '%',
  '',
  '\x0E',
  '',
  'U',
  'G',
  '\x14',
  '^',
  '',
  '',
  'A',
  '',
  '',
  '\x1D',
  '\x1C',
  '',
  '',
  '.',
  'X',
  '#',
  '',
  '',
  '?',
  '\x0F',
  ')',
  '',
  '\x06',
  'E',
  'b',
  '',
  '',
  '(',
  '8',
  '',
  ' ',
  'T',
  '>',
  '',
  '\x02',
  '',
  '',
  '<',
  'E',
  'k',
  '',
  '',
  'O',
  'V',
  '-',
  'e',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\0',
  '',
  '',
  'o',
  '0',
  '',
  '',
  '',
  '',
  '[',
  '',
  ':',
  '',
  'G',
  '\x1D',
  '(',
  '4',
  '',
  'P',
  '{',
  '',
  '\x06',
  '',
  '',
  '',
  '',
  'M',
  '7',
  'w',
  '\x0E',
  'J',
  '',
  'U',
  'i',
  '',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '\x0F',
  '6',
  '\'',
  '',
  '',
  '}',
  'v',
  '',
  '\a',
  '',
  '',
  'F',
  '',
  '|',
  '',
  '\x05',
  '',
  '',
  'b',
  'L',
  'X',
  '\x12',
  '',
  '',
  '',
  '^',
  '\x8D',
  '',
  '',
  'r',
  'j',
  '?',
  '',
  '',
  '',
  'n',
  '8',
  '\x1F',
  'A',
  '',
  '/',
  '',
  '.',
  '',
  '\x13',
  '_',
  '2',
  'd',
  '',
  '\x03',
  'W',
  '',
  '',
  '\x1E',
  '',
  '\x19',
  '',
  '',
  '=',
  '',
  '',
  '',
  'u',
  '',
  '~',
  '',
  '',
  '&',
  's',
  '',
  ')',
  'x',
  '',
  '',
  '\x15',
  '',
  '\x16',
  '1',
  'z',
  '\f',
  '',
  'C',
  '\x01',
  '\x9D',
  '\t',
  'p',
  '',
  'S',
  '',
  '',
  '#',
  '\xFF',
  '*',
  '',
  '\x04',
  'Z',
  '',
  '',
  '',
  '',
  '\v',
  'Q',
  ';',
  '3',
  'm',
  '5',
  '',
  '',
  '\x90',
  '@',
  '\x11',
  '!',
  'f',
  '',
  'R',
  '',
  '',
  '\"',
  '$',
  'Y',
  'q',
  'l',
  '',
  '',
  '\x81',
  '+',
  '',
  '',
  '',
  '',
  '\x8F',
  't',
  '',
  'D',
  '',
  'N',
  '',
  '\b',
  '',
  ']',
  '',
  '',
  '',
  '\x7F',
  '',
  '9',
  '',
  '',
  '\x1A',
  'H',
  '',
  '',
  '\x18',
  'B',
  '',
  '',
  '\x14',
  'c',
  '',
  '\r',
  '',
  '',
  'a',
  '',
  '',
  ',',
  '',
  '',
  '',
  '\\',
  'h',
  'y',
  'K',
  '',
  'I',
  '\x1B',
  '%',
  '',
  '\x10',
  'g',
  '',
  '',
  '\x1C',
  '`',
  '\n',
  '',
  '',
  '',
  '&',
  '',
  '-',
  '',
  '',
  'T',
  '',
  '',
  '\x1F',
  '[',
  '\x8F',
  'f',
  '',
  '',
  '_',
  '\"',
  '4',
  '',
  '\x7F',
  '<',
  '',
  '',
  '',
  '',
  'S',
  '',
  '',
  '\x1D',
  '\x13',
  '',
  '',
  'O',
  '',
  '',
  '\x1B',
  'R',
  '',
  'I',
  '',
  '\x0F',
  '',
  'c',
  '',
  ')',
  '',
  '',
  'Q',
  '',
  '',
  'g',
  'U',
  '',
  '',
  'l',
  'C',
  '\x06',
  '',
  'J',
  '7',
  '',
  'q',
  '',
  '\\',
  'x',
  '',
  '',
  '',
  '\x81',
  '$',
  '',
  '\x11',
  'j',
  'F',
  '',
  '}',
  '',
  '\x14',
  '',
  '',
  '~',
  '',
  '',
  '',
  '',
  '',
  'a',
  '\x19',
  '^',
  '',
  'A',
  '',
  '',
  '\x05',
  '/',
  '+',
  ';',
  '',
  '',
  'r',
  '{',
  '',
  '',
  'N',
  'Y',
  '',
  'o',
  '',
  '',
  '',
  'X',
  '`',
  '',
  't',
  '',
  '',
  '5',
  '\x90',
  '',
  '',
  '',
  '',
  '',
  '\t',
  'm',
  '',
  'G',
  'h',
  '\x12',
  '',
  'V',
  'b',
  ':',
  '',
  'P',
  '\x1C',
  '',
  '',
  '\x01',
  'D',
  '|',
  '#',
  'Z',
  '',
  '\x16',
  '\x1A',
  '',
  'B',
  '',
  'n',
  '',
  ' ',
  '',
  's',
  '',
  '',
  'W',
  '',
  '9',
  '',
  '',
  '%',
  '',
  '',
  '\v',
  '',
  '',
  '\b',
  '',
  ']',
  '',
  '',
  'L',
  '\x03',
  '',
  '\x0E',
  '',
  '',
  '6',
  '1',
  '0',
  '@',
  '\x10',
  '\n',
  'w',
  '\0',
  '',
  '',
  '',
  '.',
  '',
  'i',
  '',
  'K',
  '',
  '',
  '',
  '8',
  '',
  '',
  'd',
  'k',
  '\x8D',
  ',',
  '\x1E',
  '',
  '',
  '',
  '',
  '!',
  '',
  '\r',
  '\x18',
  '',
  '\x04',
  '\'',
  '',
  '',
  '2',
  'p',
  '',
  '\f',
  'M',
  '\a',
  'z',
  '',
  '>',
  '',
  'u',
  '',
  'H',
  '\x15',
  'v',
  '',
  '',
  '(',
  '',
  '',
  '\x9D',
  '\xFF',
  '',
  '3',
  'e',
  'E',
  '\x17',
  '*',
  '',
  '\x02',
  '=',
  '',
  '',
  '',
  '?',
  '',
  'y',
  '',
  'y',
  '',
  'f',
  '',
  '\x8D',
  '',
  '',
  'p',
  '',
  '6',
  '`',
  'a',
  '',
  'j',
  '',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  '',
  '\r',
  'd',
  '',
  '',
  '\x05',
  '',
  '\x0E',
  's',
  '',
  '\x06',
  '',
  '',
  '',
  '',
  '\'',
  '2',
  '\x1B',
  '',
  '@',
  '',
  '\x90',
  '',
  '',
  'r',
  'T',
  '',
  'L',
  '',
  '7',
  '\x04',
  '\x16',
  ';',
  '',
  '',
  '',
  'J',
  '',
  'Z',
  '',
  'q',
  '',
  'O',
  'P',
  'l',
  'b',
  '\x10',
  '\n',
  '\xFF',
  '',
  '.',
  '_',
  '',
  'm',
  '',
  '',
  '',
  '0',
  '\x0F',
  '',
  'X',
  '',
  't',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x15',
  'c',
  '>',
  '',
  '!',
  '',
  'g',
  '\x11',
  '\x12',
  'B',
  'u',
  'C',
  '',
  '',
  '',
  '',
  '',
  '\"',
  '[',
  '',
  'K',
  '1',
  '',
  '',
  ':',
  '',
  '\x8F',
  '*',
  'V',
  '|',
  'x',
  '',
  'e',
  '',
  '',
  'E',
  '#',
  '\v',
  '',
  '\x9D',
  'R',
  '',
  '\x17',
  '\x13',
  'n',
  ',',
  '\x01',
  '\a',
  '',
  '\x18',
  'v',
  'H',
  '\\',
  '',
  '\x1A',
  '}',
  '',
  '',
  '{',
  '',
  '$',
  'Q',
  ')',
  'F',
  '4',
  'I',
  '-',
  '',
  ']',
  '',
  '',
  '',
  '',
  'U',
  '',
  '',
  'W',
  'S',
  '',
  '',
  '%',
  '',
  '',
  '\x03',
  '\x1F',
  '',
  '',
  'G',
  '\x1E',
  '',
  'k',
  '',
  '',
  '',
  '',
  '',
  '&',
  '',
  '',
  '3',
  'w',
  '=',
  '',
  'z',
  '\x14',
  'i',
  '8',
  'o',
  '/',
  '(',
  '',
  '\t',
  '',
  'N',
  'h',
  '5',
  '',
  '',
  '',
  '',
  '9',
  '',
  'M',
  '\f',
  '',
  '',
  '',
  '?',
  '',
  '\x81',
  '',
  '',
  '\x02',
  'Y',
  '^',
  '',
  '',
  '',
  '\x1C',
  '',
  '\x19',
  '',
  '+',
  'A',
  '',
  '\0',
  'D',
  '~',
  '',
  ' ',
  '',
  '',
  '',
  '',
  '',
  '<',
  '',
  '\b',
  '',
  '',
  '',
  '\x1D',
  '',
  'r',
  '',
  'Q',
  '\x1C',
  'e',
  '=',
  '',
  'j',
  '',
  'u',
  '',
  '',
  'w',
  '',
  '6',
  '(',
  '',
  '',
  '\x0E',
  'b',
  '',
  '>',
  '',
  '\x18',
  'z',
  '\x14',
  '7',
  'g',
  '',
  '',
  '\x10',
  '8',
  '\x90',
  '',
  '\n',
  '',
  '#',
  '',
  '',
  '',
  '\x9D',
  '',
  'U',
  '.',
  '\'',
  '&',
  '<',
  '/',
  'c',
  '',
  '',
  '',
  '',
  'q',
  ')',
  'v',
  '',
  '',
  '\x8F',
  '',
  'T',
  '\x81',
  '',
  '',
  '\x17',
  '\x7F',
  '',
  '',
  '',
  '',
  'P',
  '',
  '',
  '*',
  '',
  '\t',
  '\xFF',
  '',
  '',
  'Z',
  'x',
  '',
  '\x03',
  '',
  '',
  '',
  '',
  'p',
  'B',
  '',
  '\x1D',
  '',
  '',
  '%',
  '',
  '',
  '|',
  '',
  '',
  '',
  'E',
  '',
  '',
  'm',
  '@',
  '',
  '',
  '',
  'K',
  '',
  '',
  '',
  '',
  'N',
  ',',
  '',
  'S',
  '',
  '',
  '',
  '`',
  '',
  '',
  '!',
  '\x01',
  '',
  '',
  '9',
  'i',
  '',
  '',
  '',
  '',
  '',
  ']',
  '^',
  'C',
  '',
  '',
  '\x0F',
  '',
  'F',
  '',
  '',
  '',
  '',
  ':',
  '',
  '\x04',
  '\v',
  '',
  'G',
  '+',
  '',
  '\"',
  '\b',
  ';',
  '',
  '',
  '',
  'Y',
  '\x02',
  'M',
  'W',
  '\x1B',
  '',
  '',
  'k',
  '~',
  '4',
  'I',
  '}',
  '',
  'n',
  '_',
  '-',
  '',
  '?',
  '\r',
  '\x8D',
  '\x16',
  '',
  '',
  'J',
  '',
  'V',
  '\x05',
  '',
  '[',
  '\x15',
  '\f',
  '{',
  '\x19',
  '\x1E',
  '\x11',
  '',
  '',
  '',
  '1',
  '\0',
  '',
  '',
  '',
  '\x1F',
  '',
  'a',
  '',
  '\a',
  'L',
  'A',
  '',
  '',
  '',
  '\\',
  '',
  'h',
  '\x12',
  '',
  '5',
  '',
  '',
  ' ',
  '',
  '',
  'l',
  'D',
  '\x1A',
  'O',
  '2',
  '3',
  't',
  'R',
  'H',
  'o',
  'f',
  '',
  '',
  '',
  '',
  '',
  '',
  'y',
  '$',
  '',
  '\x13',
  '',
  '',
  '',
  's',
  'X',
  'd',
  '',
  '',
  '0',
  '\x06',
  '',
  ':',
  '(',
  '\x8D',
  '\x06',
  '\x12',
  '7',
  '',
  '',
  'w',
  '',
  '',
  '',
  '\x17',
  '',
  '\x05',
  '&',
  '',
  '[',
  '\x10',
  '%',
  '',
  '#',
  'X',
  '',
  'k',
  '',
  'g',
  'o',
  '\x1C',
  '',
  '>',
  '\x1E',
  '',
  '\"',
  'e',
  '',
  '',
  '\x15',
  '',
  '',
  '',
  'W',
  '',
  'T',
  'h',
  '\x18',
  '',
  '\x8F',
  '{',
  'y',
  '',
  'b',
  's',
  'J',
  'U',
  'r',
  '\x90',
  'C',
  '',
  '',
  '\x19',
  'j',
  '',
  '\\',
  '',
  'M',
  '\x01',
  'B',
  '',
  '',
  '\x16',
  '\0',
  '\x02',
  '@',
  '',
  '',
  '<',
  '3',
  '',
  '',
  'H',
  'O',
  '5',
  '',
  '',
  '\t',
  '~',
  '',
  '',
  '',
  'd',
  '\xFF',
  '',
  '',
  '',
  '',
  'Y',
  '\x11',
  '',
  '\x03',
  '_',
  '',
  'P',
  '',
  '+',
  '',
  '',
  '\x0F',
  'S',
  '',
  '',
  '',
  'v',
  '',
  'V',
  '\f',
  '',
  '',
  'p',
  '',
  '',
  'q',
  'A',
  '',
  '',
  'F',
  ']',
  '',
  '',
  '\x04',
  'l',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1A',
  'L',
  '',
  '',
  '',
  '',
  '',
  'x',
  'Q',
  '\'',
  '',
  '',
  'D',
  '',
  '!',
  '',
  '9',
  '',
  '',
  '',
  '6',
  'i',
  '',
  '\x13',
  '8',
  '',
  'I',
  '',
  'm',
  'c',
  '',
  '',
  '',
  'R',
  '/',
  '',
  '}',
  '\n',
  '^',
  '4',
  '',
  'K',
  'a',
  'f',
  '',
  '',
  '`',
  '',
  '\x0E',
  '',
  '',
  '',
  '0',
  '',
  '',
  '1',
  '',
  '\r',
  'u',
  'G',
  '',
  '',
  '\x1D',
  '',
  '',
  '\b',
  '\x81',
  '\v',
  'n',
  '?',
  't',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '.',
  ' ',
  'Z',
  '\x7F',
  '',
  '|',
  'z',
  '',
  '\x1F',
  '\x9D',
  'E',
  '',
  ';',
  '\x14',
  '',
  '',
  ')',
  '',
  '',
  '\x1B',
  '-',
  '=',
  '',
  '',
  '$',
  '',
  '',
  'N',
  '2',
  '',
  '*',
  ',',
  '',
  '',
  '',
  '',
  '\a',
  '',
  '',
  'G',
  'Y',
  'P',
  '',
  '-',
  'Z',
  'y',
  '',
  'l',
  '',
  '',
  '',
  '\x16',
  '',
  '',
  '',
  'N',
  '',
  'b',
  '\t',
  '\x0F',
  '\x81',
  'L',
  'u',
  '\x8D',
  '\xFF',
  '(',
  '\x1B',
  '*',
  '',
  '',
  '',
  '',
  '@',
  'B',
  '',
  '\x1F',
  '\b',
  '',
  '\x18',
  'O',
  '',
  '\x1C',
  '\x17',
  '',
  '\x04',
  'g',
  '',
  '',
  'p',
  '',
  '',
  '',
  '',
  '',
  '',
  '1',
  's',
  '',
  '',
  'c',
  'D',
  '\x10',
  '/',
  '',
  '\x15',
  '.',
  '\x06',
  '\x01',
  '',
  '',
  '',
  '',
  '',
  '2',
  'I',
  'k',
  '3',
  '\x7F',
  '\"',
  'V',
  'Q',
  '',
  'r',
  '',
  '\x9D',
  '',
  'v',
  '',
  '',
  '+',
  'm',
  '',
  '\x0E',
  '',
  '%',
  'i',
  '',
  '8',
  '',
  '^',
  '',
  '',
  '$',
  '',
  '',
  '\f',
  ']',
  '?',
  '\x05',
  '',
  'j',
  '\'',
  '',
  '',
  '',
  'o',
  '',
  'd',
  '',
  'n',
  '=',
  '\x1A',
  '',
  '#',
  '\r',
  '',
  '',
  'W',
  '\x90',
  '',
  '!',
  '',
  '',
  'e',
  'A',
  '',
  'R',
  '0',
  '\x12',
  't',
  'h',
  '',
  '',
  '',
  '',
  '\n',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '\x02',
  '4',
  '',
  '',
  '',
  '',
  ',',
  'q',
  '',
  '7',
  '',
  '',
  '>',
  '',
  '',
  '',
  '',
  '',
  '\x8F',
  '',
  '',
  '_',
  '}',
  '',
  'x',
  '',
  '\x11',
  '',
  '',
  '',
  '',
  'X',
  '',
  '5',
  'M',
  '',
  '',
  '\x1E',
  'E',
  '',
  '{',
  '\x13',
  '9',
  '<',
  '',
  '',
  '',
  ';',
  '',
  '[',
  '\x14',
  '\\',
  '',
  'T',
  ' ',
  'K',
  '\x03',
  '\0',
  '',
  '\a',
  '',
  '',
  '&',
  '',
  '',
  '',
  '',
  'C',
  '~',
  '',
  '',
  'a',
  ':',
  '',
  '',
  '',
  '\x19',
  'F',
  'J',
  '|',
  '`',
  'f',
  '',
  ')',
  '',
  'H',
  '',
  '',
  'z',
  '',
  'S',
  '',
  '',
  '',
  '',
  '\x1D',
  'w',
  '',
  '',
  'U',
  '',
  '',
  '6',
  '.',
  'x',
  'v',
  '',
  '',
  '',
  '',
  '?',
  '\x1F',
  '\a',
  '(',
  '',
  'J',
  '',
  '\f',
  '\x90',
  'z',
  '',
  'h',
  'Y',
  '',
  '',
  '',
  'K',
  '\\',
  '+',
  ')',
  '',
  '',
  '',
  '',
  '5',
  '',
  '',
  '\x13',
  'e',
  '&',
  '',
  '9',
  '\x04',
  '\x03',
  '!',
  ',',
  '',
  'c',
  '%',
  '',
  '\x16',
  '=',
  '',
  '~',
  '',
  'g',
  'Q',
  '\x7F',
  '',
  '',
  '<',
  '\x18',
  '',
  'y',
  '',
  'o',
  't',
  'W',
  'G',
  '_',
  'F',
  '',
  '',
  'I',
  'T',
  '\r',
  'B',
  '1',
  '',
  'a',
  '',
  '',
  '\x1C',
  '\x14',
  '',
  '\x0E',
  '4',
  '\n',
  '',
  '',
  '',
  'm',
  '7',
  '\x1B',
  'U',
  '',
  '',
  '',
  '',
  '',
  ';',
  'Z',
  '',
  'j',
  '|',
  '',
  'S',
  '/',
  '\x1A',
  ']',
  '\x81',
  '',
  '',
  '\x12',
  'L',
  'w',
  '#',
  '',
  'X',
  'C',
  '',
  '',
  'H',
  '',
  '',
  '2',
  '',
  '*',
  '',
  '',
  'R',
  '',
  '',
  'n',
  '3',
  '\t',
  '',
  '\x10',
  '',
  '',
  '\x05',
  'b',
  'N',
  'l',
  '',
  '',
  '\x01',
  '',
  '8',
  '\0',
  '',
  '',
  '',
  ':',
  '',
  '',
  '',
  'q',
  '',
  '\x9D',
  '',
  '\x8F',
  '\x11',
  '',
  '',
  'r',
  '',
  '',
  '',
  '',
  '',
  '`',
  '[',
  '',
  '\x02',
  'p',
  '',
  '$',
  'f',
  'P',
  '',
  '',
  'u',
  '',
  'd',
  '',
  '-',
  '\x0F',
  '',
  '',
  '',
  '',
  '>',
  'M',
  '}',
  ' ',
  '',
  '',
  'k',
  's',
  '',
  '',
  '',
  'A',
  '',
  '',
  '6',
  '\'',
  '0',
  '',
  '',
  '',
  '\x17',
  '',
  '',
  '\"',
  '',
  '',
  'i',
  '\x8D',
  '',
  '\v',
  '',
  '\x1D',
  '',
  '',
  '',
  '',
  '',
  'E',
  '\xFF',
  '',
  'D',
  '',
  '',
  '{',
  '\x19',
  '',
  '',
  'V',
  '',
  '',
  '@',
  '\b',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x1E',
  '',
  'O',
  '^',
  '\x15',
  '',
  '\x06',
  '',
  '',
  '',
  '',
  ',',
  '',
  '',
  ']',
  '',
  '\x04',
  '',
  '`',
  '\t',
  'v',
  '#',
  '',
  '\x13',
  '',
  ' ',
  '',
  'w',
  '0',
  '',
  '\x05',
  '',
  '\x11',
  'g',
  '\x10',
  '\x06',
  '',
  'Y',
  '',
  'j',
  '[',
  'F',
  '',
  '',
  '',
  '=',
  '\x9D',
  '%',
  '\a',
  '\n',
  'X',
  ';',
  '\x12',
  '.',
  'N',
  '@',
  '',
  '',
  '&',
  'n',
  '\'',
  'u',
  'B',
  'G',
  '\x7F',
  'p',
  '~',
  '',
  '',
  ')',
  '',
  '',
  'Q',
  '',
  '',
  '',
  '',
  '',
  'q',
  '',
  'o',
  '*',
  '',
  '',
  'x',
  '?',
  'D',
  '',
  '\v',
  'I',
  '\x1B',
  '',
  '',
  '\x15',
  '',
  '>',
  'M',
  '',
  '+',
  '',
  '',
  '\x8F',
  '',
  '\x1D',
  'P',
  '\x90',
  '',
  '9',
  '',
  't',
  '',
  '$',
  '',
  '1',
  '\x14',
  '',
  '',
  '(',
  '',
  '',
  '\x1C',
  '\0',
  'i',
  '',
  '',
  '',
  'H',
  '\x18',
  '',
  '',
  '',
  '',
  'a',
  '',
  '',
  '',
  '\x8D',
  '',
  '',
  '',
  '\x1A',
  '',
  'Z',
  '',
  'K',
  '',
  '\x17',
  '',
  '',
  '\x16',
  '\x19',
  ':',
  '',
  '\r',
  '',
  '',
  '8',
  '',
  'O',
  '',
  '',
  'S',
  'k',
  '\x81',
  '',
  '}',
  '',
  '',
  '',
  'V',
  '',
  'c',
  '',
  '2',
  '\x1E',
  '',
  'C',
  '\x02',
  '',
  'U',
  '',
  '',
  '',
  '',
  '\x03',
  '',
  '',
  '\x0F',
  '',
  '<',
  '3',
  '\"',
  '',
  '|',
  'J',
  '_',
  '',
  'm',
  '',
  '\b',
  'T',
  '',
  '',
  '/',
  '',
  '\xFF',
  '',
  's',
  'l',
  '',
  '',
  '',
  '',
  '\x1F',
  '\\',
  'W',
  '',
  'A',
  '',
  '',
  '',
  'R',
  'r',
  '',
  '',
  '',
  '',
  '',
  '',
  '^',
  'b',
  '',
  '',
  'e',
  '',
  '',
  '!',
  'z',
  '',
  'E',
  '{',
  '',
  '',
  'y',
  '',
  '',
  '',
  '4',
  '',
  '\x01',
  '',
  '\f',
  'd',
  '5',
  '',
  '',
  '\x0E',
  '',
  'h',
  '6',
  '-',
  'f',
  '7',
  'L',
  '',
  'B',
  '',
  'k',
  's',
  '',
  '',
  '',
  '',
  '\t',
  '',
  '',
  'd',
  '7',
  '\x01',
  '+',
  '',
  '',
  '',
  ']',
  '',
  '\n',
  '',
  '',
  'b',
  '',
  'u',
  '',
  '',
  '',
  '|',
  '',
  'Y',
  'E',
  '',
  '',
  '\x7F',
  '\0',
  '',
  '',
  'W',
  '\x90',
  '',
  '\x16',
  '',
  'U',
  '',
  't',
  '',
  '',
  '',
  '^',
  '',
  'z',
  'O',
  '',
  '6',
  'g',
  '',
  ' ',
  'r',
  '',
  '',
  'p',
  '~',
  '',
  '3',
  '',
  '',
  'T',
  '#',
  '\x8F',
  'Q',
  'm',
  'e',
  '',
  '',
  '',
  '\x9D',
  '',
  '',
  '',
  '',
  '',
  '',
  'n',
  '\x1A',
  '',
  '\x19',
  '',
  'M',
  '%',
  '',
  '\r',
  'w',
  '',
  '',
  '0',
  '',
  '',
  '\f',
  '',
  '\b',
  '>',
  ':',
  '',
  '\a',
  '/',
  '',
  'X',
  'x',
  '',
  '{',
  'C',
  '1',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  '?',
  '',
  'L',
  '\x14',
  '',
  '',
  '',
  '\x1F',
  '',
  'J',
  '!',
  'Z',
  '',
  '',
  '',
  '',
  'c',
  'V',
  'y',
  'o',
  '\x1D',
  '\x15',
  '',
  '',
  '\v',
  '',
  '',
  '=',
  'S',
  '',
  '\x1E',
  'q',
  '5',
  '9',
  '',
  '',
  '',
  '\x1C',
  '&',
  '',
  '(',
  'G',
  'N',
  '\x18',
  '\"',
  '\x81',
  ';',
  '$',
  '',
  '',
  '',
  '',
  'P',
  '',
  ',',
  '',
  '',
  '',
  '',
  'j',
  '.',
  'I',
  '',
  '',
  'F',
  '',
  '\x0F',
  '\\',
  '\xFF',
  '',
  '\x13',
  'f',
  '2',
  '',
  '',
  '\x06',
  '',
  '\x0E',
  '',
  '\x05',
  '[',
  '\x10',
  '4',
  'h',
  '@',
  '_',
  '',
  '\'',
  '',
  '',
  '`',
  '\x11',
  'H',
  '-',
  '',
  '',
  '',
  '',
  '<',
  '\x17',
  '',
  '',
  'A',
  '',
  '',
  '',
  '',
  'l',
  '',
  '\x02',
  'v',
  '',
  '',
  '',
  '8',
  '',
  '\x03',
  '\x8D',
  '',
  '\x1B',
  '',
  'i',
  '',
  '*',
  ')',
  'K',
  'a',
  '',
  '\x04',
  'R',
  'D',
  '',
  '}',
  '',
  '',
  '',
  'P',
  '\x13',
  '',
  '',
  '',
  '',
  '',
  '}',
  's',
  '_',
  '',
  'k',
  '=',
  '',
  '',
  '',
  '\x04',
  '*',
  '@',
  '\x19',
  '0',
  '5',
  '',
  '\a',
  'n',
  '',
  '>',
  'u',
  '\x9D',
  '',
  '$',
  '',
  '',
  '',
  '',
  '',
  ';',
  '\x02',
  '!',
  '',
  '',
  'd',
  '(',
  '6',
  '',
  '',
  'r',
  'Q',
  '2',
  '\x01',
  'p',
  '',
  '',
  '',
  ')',
  '7',
  '',
  '\x8D',
  '\x0F',
  '{',
  '',
  'V',
  '',
  '',
  '\x1B',
  '\f',
  'E',
  '',
  '',
  '',
  '\x90',
  '',
  '\x16',
  '\x1D',
  '[',
  '',
  '',
  'm',
  'C',
  '\x15',
  '\x11',
  'v',
  '',
  '\v',
  '',
  '',
  '',
  '\x7F',
  '',
  '',
  'M',
  'w',
  '',
  '',
  '+',
  '',
  '',
  'U',
  '',
  '',
  '',
  '|',
  'O',
  '',
  'f',
  '\r',
  'S',
  'l',
  '3',
  'X',
  '',
  '\0',
  'x',
  '',
  '',
  '\x03',
  '\x81',
  '\\',
  '',
  '\n',
  '',
  '\x12',
  'J',
  '',
  '',
  '',
  '4',
  '',
  '\x06',
  '',
  ':',
  '',
  '.',
  '',
  '',
  '',
  '9',
  '',
  '',
  'h',
  '',
  '\"',
  'R',
  '',
  'z',
  '\t',
  ' ',
  '1',
  '\x1C',
  'L',
  'j',
  '',
  '~',
  '<',
  'b',
  '',
  'q',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '/',
  '',
  '',
  '',
  '\x1A',
  '',
  'y',
  '',
  '',
  'A',
  '\x1E',
  '&',
  '%',
  '',
  'K',
  'W',
  'i',
  '',
  ',',
  '',
  '\x0E',
  '',
  '\xFF',
  '',
  '\x1F',
  '',
  '',
  '\x18',
  'a',
  '',
  '',
  '',
  'G',
  'D',
  '\x8F',
  '',
  ']',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'F',
  '',
  '-',
  '',
  'N',
  '',
  '^',
  'c',
  '\x17',
  'B',
  'g',
  '\x10',
  'Z',
  '\'',
  '',
  '',
  '',
  '\x14',
  '',
  't',
  'T',
  '\x05',
  '',
  '?',
  '\b',
  'H',
  '',
  'e',
  '',
  '',
  'Y',
  '',
  '',
  '8',
  'o',
  '',
  '',
  'I',
  '#',
  '',
  '',
  '`',
  '',
  '(',
  '\x05',
  '\f',
  '\x11',
  '',
  '\x1B',
  '',
  '',
  '',
  '',
  'q',
  ')',
  '',
  '',
  '',
  '',
  '',
  '=',
  'i',
  '\x18',
  '',
  '',
  '',
  '',
  't',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '\x8D',
  '',
  '',
  '',
  '',
  '',
  '\x02',
  'f',
  '*',
  '',
  '',
  '',
  'Y',
  '!',
  '',
  '\x1A',
  'y',
  '',
  'k',
  '',
  '',
  'j',
  '\x01',
  '\x9D',
  's',
  '',
  '\a',
  '\n',
  'L',
  '',
  '',
  '[',
  '',
  '',
  ';',
  '\xFF',
  'e',
  '\x90',
  'A',
  '',
  '\x81',
  '8',
  '',
  '+',
  '`',
  '>',
  '',
  '',
  'b',
  ' ',
  '\x1C',
  'E',
  '',
  '',
  '',
  '$',
  'B',
  '',
  '',
  '',
  '',
  '',
  '',
  '-',
  '',
  '\\',
  '7',
  '\x06',
  'M',
  ':',
  '/',
  '',
  '',
  '\x1D',
  '',
  '\v',
  'l',
  '',
  '',
  '',
  'C',
  '',
  '',
  '\x17',
  '',
  '',
  '%',
  '',
  '',
  'p',
  '',
  '\x04',
  'h',
  '3',
  '\"',
  '9',
  'T',
  '?',
  '',
  '<',
  '\x14',
  '@',
  'x',
  'a',
  '\x16',
  '',
  '6',
  '',
  '\x15',
  '0',
  '',
  '|',
  '',
  '',
  '',
  'N',
  '',
  '',
  '#',
  '',
  '',
  ']',
  '',
  '',
  '_',
  '',
  '',
  'K',
  '',
  '',
  'c',
  'g',
  '',
  '',
  '\t',
  'U',
  '',
  'd',
  '\x12',
  '',
  '\x13',
  'F',
  'Q',
  '',
  '',
  '',
  '',
  '',
  '',
  '}',
  '~',
  '',
  'I',
  '',
  'H',
  ',',
  '^',
  '',
  '',
  'z',
  '',
  '\x1F',
  '',
  'w',
  '',
  '\x03',
  '{',
  '\x10',
  'u',
  '',
  'W',
  'G',
  'v',
  '1',
  'D',
  '',
  'R',
  '\x7F',
  '',
  '\b',
  '',
  'P',
  'S',
  '',
  '',
  '2',
  '\0',
  '',
  '',
  '',
  '\x19',
  '5',
  '\x1E',
  'O',
  '\x0F',
  '',
  'o',
  '',
  'V',
  '\x8F',
  '',
  'm',
  '&',
  'X',
  '',
  '',
  '',
  '',
  'n',
  '',
  '',
  '',
  '\'',
  '4',
  '',
  '',
  'Z',
  '',
  '',
  '',
  '.',
  'J',
  'r',
  '\r',
  'R',
  '',
  '\x17',
  '\x1F',
  '\x10',
  '\x11',
  '',
  '\v',
  '',
  '_',
  '3',
  '',
  '\xFF',
  '\x18',
  '',
  '',
  '',
  '|',
  '',
  '^',
  '',
  '',
  'z',
  't',
  '',
  '',
  '=',
  '',
  '6',
  '*',
  'Y',
  '',
  '<',
  'f',
  'd',
  '',
  'l',
  'y',
  ',',
  '',
  '',
  '',
  '',
  '\x13',
  '\x06',
  '\x1D',
  '',
  '',
  'e',
  '',
  'N',
  '\x1C',
  '>',
  '',
  '',
  '@',
  'Q',
  's',
  '',
  '',
  '',
  'b',
  'a',
  '\x8F',
  '',
  '',
  '#',
  '',
  '\x1A',
  '',
  '(',
  'J',
  '2',
  '1',
  '\x14',
  '',
  '0',
  '',
  '\0',
  'h',
  '',
  '',
  '\b',
  '-',
  'E',
  '',
  '\'',
  'x',
  '',
  '',
  '\x03',
  ':',
  '!',
  '',
  '',
  '',
  '\\',
  '',
  '',
  '',
  'g',
  '',
  '4',
  '',
  '\r',
  '',
  '',
  '\"',
  '',
  '',
  '\x05',
  'q',
  '\x16',
  '\x90',
  'u',
  '',
  'B',
  '\x01',
  '\n',
  'I',
  'S',
  '',
  'A',
  '$',
  '',
  '\x81',
  'v',
  '',
  '\t',
  '',
  '',
  'M',
  '',
  ']',
  'X',
  '',
  '',
  'T',
  '',
  '',
  '',
  '',
  '/',
  'V',
  'L',
  '',
  '',
  '',
  'W',
  '',
  '?',
  '%',
  'j',
  '\x9D',
  '',
  '}',
  '',
  'm',
  'n',
  ' ',
  '',
  '\x0E',
  '&',
  '',
  'F',
  '',
  '',
  '',
  'C',
  '',
  '',
  ';',
  '',
  '\x19',
  '',
  '',
  '',
  '',
  'r',
  'P',
  '`',
  '7',
  '',
  '',
  'K',
  '\x1B',
  '',
  '',
  '{',
  '.',
  '\a',
  '',
  'D',
  '',
  '',
  '',
  '8',
  '[',
  '\x0F',
  '5',
  '\x02',
  '',
  '',
  '',
  '+',
  '\x7F',
  'O',
  '',
  '\x15',
  '',
  '',
  '',
  '',
  '',
  'w',
  '',
  'G',
  '',
  '',
  'Z',
  'p',
  '\f',
  '\x1E',
  '',
  'k',
  '',
  '',
  '',
  '',
  '9',
  '',
  'U',
  '',
  'c',
  'H',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  ')',
  'o',
  '',
  '\x04',
  '',
  '',
  'i',
  '',
  '\x8D',
  '~',
  '\x1A',
  ',',
  '',
  '',
  '',
  '',
  '',
  '(',
  'l',
  '',
  '',
  'o',
  'y',
  '7',
  '',
  '\t',
  ' ',
  '*',
  '',
  '',
  '',
  '',
  '0',
  '',
  'Q',
  '\x8F',
  '',
  '',
  '4',
  '\x14',
  '\x1F',
  '',
  '',
  'e',
  '',
  '\x10',
  '',
  '\v',
  '.',
  '>',
  '3',
  '',
  '',
  '',
  '',
  '2',
  '',
  '',
  '\0',
  'O',
  '',
  '',
  '\x15',
  '^',
  '',
  '-',
  '',
  '',
  'K',
  '',
  '',
  '',
  '',
  '5',
  '}',
  '\x1E',
  '\x81',
  'x',
  'b',
  '',
  '',
  '',
  '',
  '\\',
  '',
  'a',
  '',
  '',
  '\"',
  '\x02',
  '[',
  'V',
  '',
  '|',
  '',
  '8',
  '',
  '1',
  'W',
  '',
  '\x7F',
  '<',
  '_',
  '',
  '\x01',
  'g',
  'd',
  'f',
  '/',
  '',
  '',
  'k',
  '',
  '',
  '',
  '',
  '',
  '',
  'M',
  'Z',
  'L',
  'i',
  '\x1C',
  '',
  'm',
  '',
  '&',
  '\x11',
  'n',
  '',
  'D',
  '\x03',
  '',
  'c',
  '',
  '',
  '',
  '@',
  '\x1B',
  '',
  '%',
  '{',
  '',
  '',
  '',
  'T',
  '',
  '',
  '',
  '6',
  'P',
  '',
  '',
  '',
  '',
  '',
  'G',
  '',
  '\x16',
  'S',
  '',
  '',
  '',
  '',
  '\x18',
  '',
  '#',
  '=',
  '\x13',
  '\f',
  '',
  '',
  '$',
  '',
  '',
  'H',
  'w',
  '',
  'z',
  '',
  ']',
  'A',
  '',
  '',
  'E',
  '9',
  '',
  '\n',
  '',
  't',
  '',
  'r',
  '',
  '',
  'C',
  '',
  'N',
  '\x04',
  'X',
  '',
  '\x12',
  '\x05',
  '\x17',
  '`',
  'j',
  ':',
  '',
  '',
  '',
  '\x19',
  '',
  '',
  'R',
  '\x90',
  'h',
  'v',
  '!',
  '\x0F',
  'I',
  'U',
  '',
  '',
  '',
  '\x1D',
  '',
  '',
  '',
  '~',
  'F',
  '',
  '',
  '\b',
  '',
  '\x0E',
  '',
  '\xFF',
  '',
  '',
  '',
  '+',
  '\r',
  'J',
  'B',
  '',
  '\x9D',
  'q',
  '',
  's',
  '',
  '',
  '',
  '',
  '',
  '?',
  '\x8D',
  '',
  'u',
  '\'',
  '\x06',
  ';',
  '\a',
  ')',
  '',
  '',
  'Y',
  'p',
  '\t',
  '',
  '',
  '\x11',
  '',
  '\n',
  '',
  '',
  '\r',
  '\x0E',
  '\x0F',
  '',
  '',
  'j',
  '2',
  'R',
  '',
  '',
  '',
  'd',
  '\x15',
  '',
  'F',
  '',
  '',
  'E',
  ' ',
  '',
  'w',
  'q',
  '',
  '',
  '0',
  '',
  '<',
  '[',
  '',
  'K',
  '\x12',
  '',
  'y',
  '\x1D',
  't',
  'W',
  '',
  '',
  '',
  '\x10',
  '6',
  ',',
  '|',
  '4',
  '%',
  's',
  '',
  '',
  '',
  '',
  '\0',
  '^',
  '@',
  '\x1A',
  '',
  '',
  '3',
  'g',
  '',
  '',
  '\x90',
  '',
  '',
  '',
  'm',
  '',
  'L',
  '+',
  '',
  '*',
  '\x7F',
  'V',
  'z',
  '',
  '~',
  'p',
  'G',
  '',
  '',
  'Q',
  '\a',
  '',
  '',
  'n',
  '',
  '',
  '',
  'f',
  '',
  '',
  '',
  '\x18',
  '\x13',
  'a',
  'h',
  '',
  '\"',
  '\\',
  '',
  '',
  '\x8D',
  'N',
  '',
  '\x1F',
  '\x01',
  ')',
  'r',
  '',
  '',
  '\x14',
  '',
  '',
  '',
  '#',
  '',
  '\x05',
  '',
  '',
  '',
  '',
  '',
  '-',
  '_',
  '/',
  '>',
  '?',
  '',
  '',
  '',
  '\x17',
  '',
  '',
  '\x02',
  '',
  'b',
  'O',
  '',
  'M',
  '\x19',
  '',
  'I',
  '',
  '\x9D',
  'D',
  '7',
  '',
  '',
  '',
  '!',
  'u',
  '=',
  '',
  '',
  '',
  '',
  'J',
  '$',
  '',
  '8',
  '',
  'S',
  'c',
  'x',
  '\x8F',
  '',
  '',
  '&',
  '\x06',
  ']',
  '{',
  'T',
  '',
  '',
  '',
  '',
  '',
  'k',
  '',
  '',
  'B',
  '\x1E',
  '',
  'Y',
  'l',
  '',
  'e',
  '',
  '9',
  '',
  '',
  '',
  '',
  'H',
  '',
  '',
  '\b',
  '\x03',
  '1',
  '\x81',
  '',
  'v',
  '}',
  '',
  '.',
  '',
  'o',
  '\'',
  '',
  ':',
  '',
  '',
  'Z',
  'P',
  '\x16',
  '\v',
  '\x1C',
  '',
  '',
  '',
  '5',
  '\x1B',
  '',
  '',
  '',
  '',
  'U',
  '',
  'i',
  '',
  '',
  '\xFF',
  '',
  '',
  '',
  '',
  'A',
  '',
  '',
  '',
  'C',
  '',
  ';',
  'X',
  '\f',
  '',
  '\x04',
  '`',
  '(',
  '',
  '',
  '',
  '|',
  '?',
  '!',
  'l',
  'e',
  '',
  'o',
  '4',
  '8',
  '#',
  '',
  '\x8D',
  '\x1F',
  '',
  '',
  'S',
  '\x12',
  '',
  '\x11',
  '\x03',
  'Z',
  '\0',
  '\x7F',
  'Y',
  '',
  '\a',
  'I',
  '',
  '3',
  '',
  ')',
  '',
  '',
  '',
  '\v',
  '',
  '',
  '\b',
  '',
  '',
  '',
  '&',
  '',
  '',
  '\x18',
  'T',
  'F',
  'm',
  '7',
  '',
  '2',
  'O',
  '',
  '\f',
  '',
  '',
  '\r',
  '',
  '',
  '$',
  '\x15',
  '',
  'G',
  '\t',
  '',
  '%',
  '',
  'u',
  '',
  '',
  '',
  '1',
  'v',
  'z',
  'j',
  'Q',
  '\x1D',
  'M',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x06',
  '-',
  '',
  '@',
  '',
  'R',
  '',
  '_',
  '',
  '',
  '',
  '',
  '\x02',
  'E',
  '',
  '',
  'X',
  'J',
  '',
  '',
  '',
  'h',
  '\x16',
  '',
  '',
  '\x1A',
  'W',
  'N',
  '',
  '',
  '\n',
  '\x01',
  ',',
  'c',
  '',
  '',
  'C',
  '',
  '',
  '',
  '',
  ':',
  'B',
  'a',
  '',
  '\x0E',
  '',
  '',
  '<',
  '',
  '',
  'y',
  'n',
  '',
  '>',
  '.',
  '',
  'P',
  '\x9D',
  'L',
  '',
  '',
  '',
  '',
  '\x13',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '`',
  '~',
  '\x81',
  '\x8F',
  '+',
  '',
  '',
  'k',
  '',
  '\x10',
  'i',
  '',
  'A',
  '\x0F',
  '',
  '\x14',
  'U',
  '',
  '\x05',
  '',
  '*',
  '[',
  '',
  '(',
  '',
  '\xFF',
  '',
  '',
  '',
  '',
  '',
  '',
  's',
  'K',
  '',
  ';',
  '',
  '',
  '\"',
  'x',
  '',
  'p',
  '',
  '\x19',
  '=',
  '',
  '',
  '',
  '',
  '',
  ' ',
  '}',
  '',
  '',
  '',
  '',
  '0',
  '6',
  '\x1B',
  '\'',
  '9',
  '',
  'r',
  '\x17',
  '',
  't',
  '{',
  'd',
  '',
  '\\',
  'q',
  'g',
  'f',
  'D',
  '^',
  '',
  ']',
  '',
  '',
  '\x90',
  '',
  '/',
  'w',
  '',
  '',
  '',
  'b',
  '\x04',
  'V',
  '\x1E',
  '\x1C',
  '5',
  '',
  'H',
  '',
  '=',
  '',
  'Z',
  '',
  'K',
  '\x17',
  '',
  '\f',
  '',
  '',
  '',
  '@',
  '\x15',
  'M',
  '',
  '',
  '',
  '\x9D',
  ' ',
  '',
  '',
  '8',
  '!',
  'd',
  'R',
  'S',
  '',
  '',
  '\a',
  '',
  ',',
  'u',
  '',
  '\x81',
  '\x1C',
  'b',
  ':',
  '',
  'l',
  '1',
  'v',
  '',
  '\'',
  '',
  '',
  '.',
  '',
  'J',
  '\b',
  '',
  '',
  '',
  '',
  '',
  '',
  '-',
  '',
  'X',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  '',
  '>',
  '\x12',
  '\x90',
  '',
  '',
  'r',
  '',
  '\x1D',
  '',
  '',
  '9',
  '',
  '',
  '\x13',
  '',
  '',
  '',
  '[',
  '?',
  'H',
  '|',
  '',
  '',
  '',
  'j',
  '\x04',
  '5',
  'Y',
  '',
  '',
  '}',
  '',
  '\x19',
  '',
  '~',
  'm',
  '\x0E',
  '\x1B',
  'P',
  '',
  'U',
  ']',
  '',
  ')',
  '',
  '*',
  '\x8D',
  '',
  '',
  '',
  '\x8F',
  'a',
  '',
  'I',
  'q',
  '\x10',
  '\x1F',
  '',
  '\x1A',
  '',
  '',
  'W',
  'B',
  '',
  '',
  '#',
  '',
  '',
  '',
  '7',
  '',
  '\x02',
  '\x14',
  '\n',
  '',
  '\x0F',
  '',
  'x',
  '',
  'L',
  '',
  '',
  '\"',
  '',
  'O',
  '\x1E',
  'h',
  'k',
  '\x18',
  '\x01',
  '%',
  '',
  '',
  '',
  '',
  '\x05',
  'Q',
  'C',
  '^',
  '',
  '_',
  't',
  '\x03',
  '',
  'E',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'p',
  'N',
  'o',
  'g',
  '',
  'D',
  'T',
  '',
  'w',
  '6',
  '<',
  '',
  's',
  '',
  '',
  '4',
  '/',
  '',
  '',
  '',
  '',
  '\v',
  'G',
  '',
  '',
  ';',
  '`',
  '',
  '',
  '',
  '',
  '\t',
  '',
  '',
  '',
  'e',
  '\xFF',
  '\r',
  'c',
  'i',
  '\x16',
  '',
  '',
  '$',
  '',
  'y',
  '',
  '',
  '',
  'n',
  '',
  '',
  '{',
  '(',
  'A',
  'F',
  '\x06',
  '0',
  '',
  '',
  '\0',
  '\\',
  '',
  'z',
  'V',
  '2',
  '',
  '&',
  'f',
  '',
  '3',
  '\x7F',
  '+',
  '',
  '',
  '',
  'q',
  'F',
  '\x15',
  '2',
  '',
  'b',
  '5',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '\\',
  '',
  '\a',
  '',
  '',
  'c',
  '\x9D',
  '<',
  '(',
  '',
  '',
  'v',
  '',
  '$',
  '',
  '',
  'u',
  'f',
  '6',
  'N',
  '!',
  'C',
  '8',
  '',
  '',
  '',
  'H',
  '',
  ' ',
  '',
  '',
  '',
  'G',
  'o',
  '\f',
  '\x17',
  '\"',
  'j',
  '\x8D',
  '',
  'U',
  '~',
  '',
  'E',
  'Z',
  '',
  '',
  'r',
  '?',
  '',
  '\0',
  '',
  '\x1C',
  '{',
  '',
  '',
  '',
  '',
  '',
  '\v',
  '',
  '',
  'p',
  ',',
  '',
  'e',
  '',
  '*',
  '.',
  'J',
  '',
  '\x18',
  '\x06',
  ':',
  '',
  '',
  '3',
  '&',
  '',
  '_',
  'g',
  '\x19',
  '',
  '',
  '=',
  '',
  '',
  '',
  'I',
  '',
  'M',
  '\x02',
  '',
  '\x04',
  '4',
  '',
  '',
  '',
  '',
  'V',
  '',
  '',
  '',
  '',
  ')',
  '',
  '',
  'B',
  'l',
  '#',
  'Y',
  '\x1A',
  '-',
  '',
  '',
  '',
  '>',
  '',
  'T',
  '\x1B',
  '/',
  'D',
  '\x05',
  '',
  '',
  'P',
  'O',
  'k',
  '',
  '',
  '',
  '\x10',
  '',
  'h',
  '\x7F',
  's',
  'K',
  '%',
  'n',
  'z',
  '',
  '',
  '',
  '\r',
  '`',
  '',
  '',
  ';',
  '\x03',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x90',
  '\t',
  '\x1E',
  '',
  '',
  '',
  'Q',
  '',
  'x',
  '',
  '',
  '',
  '',
  'A',
  '',
  '',
  '\x13',
  'w',
  '1',
  '\x11',
  '',
  '@',
  '\x16',
  '',
  '',
  '\x1F',
  '',
  '0',
  '7',
  '',
  '',
  '|',
  '',
  '[',
  '\x01',
  '',
  '',
  '',
  '9',
  '\x0F',
  '',
  'y',
  '',
  ']',
  '',
  '',
  '',
  '',
  '',
  '\x1D',
  'd',
  '',
  '\b',
  'i',
  'm',
  '',
  'W',
  'S',
  '}',
  't',
  '',
  '',
  'R',
  'X',
  '\x8F',
  '',
  '\x0E',
  '\n',
  '^',
  '\'',
  '',
  '\x81',
  '',
  '+',
  '',
  'a',
  '',
  '',
  'L',
  '\x14',
  '',
  '',
  '\xFF',
  '',
  'Z',
  '',
  'n',
  '',
  '',
  'e',
  '',
  'H',
  '2',
  '\x1B',
  '@',
  '',
  '\t',
  '',
  '',
  '',
  '',
  '',
  '/',
  'R',
  'h',
  '\x13',
  '',
  '\x7F',
  'v',
  '',
  '',
  ';',
  'N',
  '',
  '',
  'z',
  ':',
  '6',
  '~',
  '!',
  '5',
  '',
  '',
  ' ',
  '',
  '',
  '{',
  '}',
  's',
  '',
  'c',
  '',
  '',
  '',
  '',
  '\x12',
  '',
  'p',
  '',
  '',
  '',
  'J',
  '',
  'w',
  '\x1F',
  '\0',
  '',
  '',
  '\x17',
  'E',
  '',
  '',
  '',
  '',
  '',
  '\x11',
  'O',
  'U',
  '\x05',
  '^',
  'G',
  '?',
  '',
  '\x18',
  'd',
  '',
  '',
  '',
  '',
  '',
  '',
  '%',
  '',
  '',
  '\'',
  '',
  '\r',
  '\x1C',
  'W',
  '',
  'V',
  '',
  '',
  '',
  '',
  'F',
  '',
  'k',
  '3',
  '',
  '',
  '',
  '9',
  '`',
  'i',
  '+',
  '(',
  '',
  '',
  'A',
  '\x8D',
  ']',
  '\v',
  'S',
  'o',
  '|',
  '',
  '',
  '&',
  '\x03',
  '',
  'a',
  '',
  '',
  '',
  '',
  '',
  'y',
  '',
  '*',
  '',
  '',
  '',
  '\x15',
  '',
  'T',
  'B',
  '\x06',
  '\x1E',
  '',
  '\x19',
  '',
  'x',
  'q',
  '',
  'L',
  '',
  '',
  't',
  '\\',
  'f',
  '',
  '',
  '',
  '#',
  '',
  '',
  '\x10',
  '',
  '',
  'Y',
  'r',
  'P',
  '',
  '',
  '',
  '',
  '',
  '0',
  'u',
  'M',
  '\x1D',
  '',
  '',
  '\n',
  'Q',
  'C',
  'D',
  '',
  '\"',
  '\x14',
  '[',
  '>',
  '',
  '\x01',
  '1',
  'j',
  '\x0E',
  '',
  '',
  '\x16',
  '\f',
  '',
  'm',
  '$',
  '',
  'I',
  '4',
  '',
  '8',
  '\a',
  ')',
  '',
  '',
  '',
  '',
  'g',
  '',
  '',
  'b',
  '',
  '',
  '-',
  '\x81',
  ',',
  '',
  '',
  '',
  '',
  '',
  '',
  '.',
  '\x1A',
  'l',
  '\x04',
  '',
  '7',
  '',
  '',
  'K',
  '=',
  '',
  '',
  '\x8F',
  '',
  '',
  '\x0F',
  '',
  '\x90',
  '',
  'X',
  '<',
  '\xFF',
  '\x9D',
  '',
  '\x02',
  '',
  '\b',
  '_',
  '',
  '',
  '\x12',
  '\\',
  '',
  '.',
  '>',
  '',
  ')',
  '\xFF',
  'K',
  '\x0F',
  '',
  '\x0E',
  '\a',
  'Y',
  '',
  'U',
  '',
  '',
  'I',
  '',
  '',
  '',
  '<',
  '',
  '&',
  '\x81',
  '',
  '#',
  '',
  '!',
  '\x1A',
  '',
  '',
  '',
  '\x18',
  '',
  '\x16',
  '',
  '',
  'm',
  '\x02',
  'T',
  '',
  '2',
  ',',
  '',
  '',
  '[',
  '$',
  '',
  '`',
  '',
  '',
  'i',
  '?',
  '\x1F',
  '',
  '0',
  '\t',
  '',
  '',
  'B',
  '',
  'C',
  '',
  'O',
  '\x1C',
  '6',
  '',
  '',
  '}',
  '{',
  '',
  '',
  '\b',
  '\x19',
  '',
  ' ',
  '',
  '\x1B',
  '7',
  '',
  '\'',
  '',
  '\x9D',
  '8',
  'N',
  '\v',
  '',
  '',
  '\n',
  '',
  '',
  '*',
  'P',
  '',
  '=',
  '',
  'j',
  '',
  'o',
  'V',
  '',
  's',
  '',
  '',
  'v',
  '',
  'A',
  'd',
  'n',
  'c',
  '',
  '\x10',
  '\x15',
  ']',
  'L',
  'S',
  '',
  '',
  'k',
  '',
  '',
  '',
  'p',
  '',
  '',
  '\f',
  '',
  '',
  'f',
  'h',
  'W',
  '',
  '\x1D',
  '\x1E',
  'R',
  '\x7F',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x04',
  '',
  '\r',
  '',
  ';',
  '',
  '',
  'G',
  '',
  '',
  'q',
  '',
  '',
  '',
  '',
  '',
  '-',
  'F',
  'e',
  '',
  '@',
  '\x8D',
  '5',
  '',
  '|',
  '\x01',
  '',
  '',
  'J',
  '4',
  '\x03',
  '\x14',
  '',
  '',
  '\x17',
  'r',
  'x',
  'g',
  '\x06',
  '',
  ':',
  'E',
  '',
  '(',
  '',
  '',
  '3',
  '',
  '1',
  '+',
  '%',
  '',
  '',
  'Z',
  '',
  '~',
  '',
  '',
  '',
  '',
  '',
  'u',
  'w',
  '',
  '',
  '\x90',
  '',
  'b',
  '',
  '',
  '',
  '',
  'z',
  '',
  '',
  'y',
  '',
  '',
  '',
  '\x13',
  'M',
  '\x8F',
  't',
  '_',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '^',
  '',
  'X',
  'H',
  'a',
  '',
  '\x11',
  '\"',
  '',
  'l',
  'D',
  '9',
  '\0',
  '',
  '\x05',
  'Q',
  '',
  '/',
  '',
  '',
  ',',
  '',
  '',
  'B',
  '',
  '~',
  '',
  'u',
  '\x04',
  '',
  '<',
  '\0',
  '>',
  '',
  '2',
  '\x14',
  ']',
  '',
  '',
  '',
  '\x8F',
  '',
  '\x1C',
  '',
  '.',
  '\x16',
  'h',
  '7',
  'V',
  '',
  '',
  '\xFF',
  '\r',
  'w',
  '',
  '!',
  '',
  '',
  '}',
  '',
  'E',
  '\t',
  '\b',
  '',
  '`',
  '\x81',
  'T',
  '\x13',
  '\x10',
  '',
  '',
  '',
  'p',
  '',
  '\"',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  'n',
  '',
  'x',
  '',
  '3',
  'L',
  '',
  '',
  '\x1B',
  '',
  '',
  '4',
  '\x01',
  '*',
  '',
  'j',
  '',
  'G',
  '',
  '',
  '0',
  'g',
  '',
  '|',
  '',
  '',
  'v',
  '\x1A',
  '',
  'm',
  '',
  '',
  '',
  '',
  't',
  '5',
  '',
  'P',
  '\x0F',
  'e',
  'Y',
  '\x12',
  '',
  'I',
  'R',
  '',
  '',
  '',
  '\x15',
  '_',
  '',
  'W',
  '',
  'r',
  '',
  '',
  'U',
  'K',
  '',
  '\x11',
  '',
  'O',
  '',
  '',
  '[',
  '',
  'A',
  '',
  'c',
  '\x9D',
  '',
  'd',
  '',
  'F',
  '',
  '',
  '',
  '',
  '%',
  '',
  '',
  '',
  '',
  '\n',
  '',
  'C',
  '#',
  '\x17',
  ')',
  'y',
  '6',
  '',
  'J',
  '',
  'a',
  '',
  '',
  '\x0E',
  ':',
  '\x03',
  '\a',
  '',
  '',
  '',
  '$',
  'H',
  '\x18',
  '+',
  '(',
  'M',
  '',
  ';',
  'b',
  '',
  'q',
  '\'',
  '',
  '',
  '',
  '',
  '&',
  '',
  '',
  '=',
  '',
  '',
  '',
  '',
  '\x8D',
  '',
  '',
  '8',
  '/',
  '\\',
  '\x1F',
  'i',
  'Z',
  '',
  '',
  '@',
  '',
  '',
  '',
  '',
  'k',
  ' ',
  '',
  'z',
  '',
  '\x02',
  '\x7F',
  '-',
  '',
  '^',
  'l',
  '?',
  'S',
  's',
  '9',
  '',
  'Q',
  '',
  '',
  '\x1E',
  '',
  '',
  '\x19',
  'X',
  '\x90',
  '',
  '',
  '\x05',
  '\v',
  '',
  '',
  'o',
  '',
  '{',
  'D',
  '\x1D',
  '',
  '',
  '\x06',
  '',
  '1',
  'f',
  '',
  '',
  '',
  '',
  '\f',
  'N',
  '',
  'y',
  '',
  '',
  '',
  '\x18',
  '7',
  'D',
  '',
  '_',
  '\x1E',
  '\x9D',
  '',
  ')',
  '\x19',
  '',
  '`',
  '?',
  '',
  '',
  'Z',
  '|',
  '',
  '2',
  '/',
  ']',
  '',
  '5',
  '',
  '\x14',
  '',
  '\a',
  '',
  '',
  'W',
  '',
  ':',
  'X',
  'H',
  'L',
  '',
  'J',
  '',
  '@',
  '-',
  '',
  'P',
  '\x1B',
  'I',
  '\x81',
  '',
  'Q',
  '',
  ',',
  '8',
  '',
  '',
  '',
  'G',
  '#',
  'm',
  '',
  'w',
  '',
  '',
  'v',
  '',
  '\n',
  '',
  '',
  '\x8D',
  'T',
  '',
  '',
  'E',
  '{',
  '',
  '',
  ' ',
  '',
  '\t',
  '',
  '1',
  '',
  'R',
  '^',
  '\x17',
  'M',
  '<',
  '',
  '',
  '\"',
  '%',
  '\x90',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x8F',
  'o',
  '\x05',
  '4',
  'd',
  '',
  '',
  '',
  '~',
  'q',
  '',
  '',
  'u',
  '',
  '',
  '(',
  '9',
  '',
  '',
  '',
  '',
  '',
  '\x10',
  '\x13',
  'O',
  'f',
  '0',
  'U',
  '',
  'Y',
  '',
  '',
  '\\',
  '+',
  '',
  't',
  '',
  '',
  '',
  '',
  '\x1C',
  '',
  '',
  '',
  'j',
  'l',
  '[',
  '\x1A',
  'p',
  'N',
  'S',
  '',
  'r',
  '\x0F',
  '',
  '',
  '\x15',
  '',
  '',
  '*',
  '',
  '',
  'a',
  '3',
  'z',
  '.',
  '',
  'e',
  '',
  '',
  '',
  '6',
  '',
  '',
  'F',
  ';',
  '',
  '\x02',
  '\x01',
  '',
  '',
  '\v',
  '',
  'V',
  '',
  '',
  '$',
  'n',
  '',
  '=',
  '\f',
  '',
  '',
  '\xFF',
  '',
  '}',
  '',
  '\x04',
  '\b',
  'b',
  'B',
  'k',
  '\x16',
  '',
  '',
  'K',
  '\0',
  '\x7F',
  '',
  '',
  'c',
  '>',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  '',
  'i',
  '',
  '!',
  '',
  '',
  '',
  'C',
  '',
  '\x06',
  '',
  '',
  '\x1F',
  '',
  'h',
  '\r',
  '',
  '',
  '\x12',
  '',
  '\'',
  'x',
  '',
  'g',
  '',
  '\x03',
  '',
  '',
  '',
  '',
  '\x1D',
  '&',
  '\x11',
  's',
  '',
  'A',
  '',
  '',
  '\x12',
  '5',
  'B',
  'j',
  '',
  '|',
  '',
  'o',
  '~',
  ']',
  '\x0E',
  '',
  '9',
  'C',
  'P',
  'Y',
  '',
  '',
  '',
  '\x1E',
  '<',
  '',
  '8',
  ',',
  '\r',
  '_',
  '@',
  '/',
  'A',
  'n',
  '',
  '',
  '\x81',
  '\x13',
  '',
  '}',
  'G',
  '\f',
  '?',
  '',
  '%',
  'g',
  '',
  '',
  '+',
  '',
  '(',
  '\x11',
  '-',
  '',
  '',
  'W',
  'R',
  '',
  'p',
  '',
  '',
  'q',
  '',
  '',
  'x',
  '',
  '',
  ')',
  '',
  '',
  '',
  '',
  '\v',
  '!',
  '',
  '',
  'b',
  '',
  '\a',
  '',
  '\x01',
  '',
  '',
  '',
  '',
  '',
  '0',
  '',
  '',
  'T',
  '',
  '',
  '',
  'd',
  '',
  '',
  ':',
  '',
  '',
  '\x16',
  '',
  '&',
  '',
  '',
  '',
  '\x15',
  '\x1D',
  '\x1A',
  '',
  'H',
  '',
  '\x06',
  '',
  '',
  'K',
  '',
  '`',
  '',
  '',
  '\x1F',
  's',
  'S',
  '',
  '',
  '',
  '\x9D',
  '',
  ' ',
  'I',
  '\t',
  '',
  '',
  'O',
  '',
  'V',
  '',
  '',
  't',
  '\x1B',
  'J',
  '\'',
  'v',
  'X',
  '*',
  '',
  '',
  'w',
  '',
  '',
  'Q',
  '',
  '',
  '\x05',
  '',
  '',
  'F',
  '',
  'a',
  'f',
  '>',
  '\x03',
  'm',
  '2',
  'h',
  '',
  '',
  '',
  ';',
  '',
  'E',
  '',
  '',
  '',
  '7',
  '',
  '',
  '\x0F',
  '\x1C',
  '',
  '',
  '{',
  '^',
  '',
  '',
  '\\',
  '',
  '',
  '',
  '',
  '',
  'l',
  'i',
  '',
  '\x90',
  '',
  '.',
  '\xFF',
  '#',
  '\x02',
  '\"',
  'k',
  'y',
  '',
  '=',
  '',
  'N',
  '',
  'z',
  '[',
  '',
  '',
  '\x19',
  'r',
  '\n',
  '\x18',
  'U',
  '',
  'M',
  '',
  '',
  '1',
  'u',
  '',
  '',
  '\x7F',
  '\x14',
  '\x04',
  '',
  'D',
  '3',
  '',
  '',
  '4',
  '\b',
  '\x17',
  '\x8F',
  '',
  '\0',
  '',
  '',
  '\x10',
  '',
  '',
  '',
  'e',
  '',
  '$',
  'Z',
  '',
  '',
  '6',
  '',
  '',
  'c',
  'L',
  '',
  '',
  '',
  '\x8D',
  '',
  '#',
  '',
  '$',
  '',
  'p',
  'a',
  '',
  'k',
  '',
  'v',
  'r',
  '',
  ';',
  '>',
  '\x03',
  'F',
  '\n',
  '\x16',
  '\x1B',
  '',
  ':',
  '',
  'i',
  '\x10',
  'H',
  '\b',
  '',
  'd',
  '\\',
  '}',
  '',
  'D',
  '/',
  '',
  '',
  'C',
  'o',
  '',
  'f',
  '',
  '',
  '',
  '3',
  '',
  '',
  '',
  'g',
  '1',
  '',
  '',
  '',
  '\x0F',
  '\f',
  '',
  '',
  '',
  '',
  'J',
  '',
  '=',
  '',
  '',
  '',
  '2',
  '',
  '\x9D',
  '0',
  '',
  '',
  '',
  '',
  't',
  'S',
  '',
  '?',
  '[',
  '',
  '',
  '',
  'L',
  '',
  '',
  '',
  '\x8D',
  '\x1F',
  'V',
  '\x19',
  '-',
  '',
  'j',
  '',
  '',
  'w',
  '',
  '',
  '',
  '',
  '',
  '\x06',
  '',
  '',
  '',
  'T',
  'e',
  'E',
  '',
  '\x1A',
  ' ',
  '',
  '',
  '',
  '\x02',
  '|',
  '_',
  '',
  '^',
  'O',
  '',
  '',
  '{',
  '\x13',
  '\x8F',
  '@',
  's',
  '!',
  'n',
  '',
  'b',
  'M',
  '*',
  '',
  '',
  '',
  '',
  'W',
  '',
  '',
  '',
  '',
  'R',
  '',
  '',
  '\x1C',
  '',
  '',
  '\x12',
  '',
  '',
  'z',
  '',
  '\r',
  'y',
  '%',
  '.',
  '',
  '',
  'h',
  '',
  '\x1D',
  '',
  '',
  'A',
  '(',
  '',
  '',
  '\x17',
  '5',
  '\x81',
  '',
  '',
  '',
  '',
  '',
  '',
  '\"',
  '&',
  '\x14',
  '7',
  '\a',
  '',
  '\x1E',
  '`',
  ')',
  '4',
  '',
  ']',
  '',
  '\x15',
  '+',
  '8',
  'U',
  '\x01',
  '',
  '~',
  'x',
  '9',
  '',
  '',
  'Z',
  '',
  '',
  'I',
  'c',
  '',
  '',
  'X',
  '',
  'l',
  'Q',
  ',',
  '\t',
  '',
  '',
  '',
  'm',
  '\x18',
  'P',
  '',
  'G',
  '',
  'N',
  '',
  '',
  '',
  '\x90',
  '',
  '\x04',
  '',
  'Y',
  '\x05',
  '\v',
  'B',
  '\xFF',
  '',
  '6',
  '',
  '',
  '\x0E',
  '<',
  'K',
  '',
  'q',
  '',
  '',
  '',
  '',
  '',
  'u',
  '',
  '\0',
  '\x7F',
  '\x11',
  '',
  '',
  '',
  '\'',
  '\x0F',
  ' ',
  '',
  '',
  'P',
  '',
  '',
  'K',
  '',
  'G',
  '',
  ':',
  '',
  '',
  '',
  '',
  '',
  '+',
  '',
  '',
  's',
  '',
  '',
  '',
  'i',
  'g',
  '-',
  '',
  '',
  '',
  '*',
  'F',
  '',
  '',
  '(',
  '',
  '%',
  '',
  '\x7F',
  '',
  'H',
  'y',
  '',
  '<',
  '',
  'f',
  '\\',
  '',
  '',
  '',
  '\r',
  '',
  '',
  'J',
  '6',
  '',
  '',
  'L',
  '>',
  '0',
  'Y',
  '9',
  '',
  'O',
  '',
  'A',
  '',
  '\x14',
  '\x1F',
  '\b',
  '',
  '\x1A',
  '\f',
  'C',
  '?',
  '',
  'I',
  '$',
  'n',
  'q',
  'D',
  '',
  '',
  'u',
  '',
  '\x18',
  '',
  '\x1B',
  '',
  '',
  'r',
  '',
  '|',
  'S',
  '\x05',
  '=',
  '',
  '',
  '',
  '\x8F',
  '',
  '',
  'N',
  'E',
  '',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x04',
  '',
  '',
  '',
  '',
  '_',
  '',
  '\x1E',
  '',
  'Z',
  'w',
  ')',
  ']',
  '',
  '',
  '',
  '.',
  '',
  '',
  'V',
  '&',
  '',
  '\x01',
  '\0',
  '',
  'v',
  'h',
  '\x19',
  '',
  'a',
  '',
  '',
  '',
  '',
  '',
  '\x1D',
  '',
  'U',
  '\'',
  'Q',
  '',
  '\"',
  '}',
  '\x02',
  '',
  't',
  '\xFF',
  '',
  '3',
  '',
  'o',
  '\x13',
  '',
  '',
  '',
  'k',
  'x',
  '',
  '\v',
  '\x15',
  'e',
  '',
  '[',
  '\x8D',
  'l',
  '',
  '',
  '',
  '\x03',
  '1',
  '\x11',
  '/',
  '2',
  '',
  'z',
  '`',
  '',
  '',
  '\x1C',
  'p',
  '\x16',
  '\n',
  '',
  '',
  '',
  '',
  '',
  '~',
  'c',
  '\x06',
  '\t',
  '{',
  '',
  '\x9D',
  'X',
  '',
  '',
  '',
  '',
  '',
  '',
  '\x0E',
  'm',
  '^',
  '!',
  '',
  '7',
  '',
  '\x90',
  '',
  'B',
  '',
  ',',
  '\x10',
  '',
  '',
  'M',
  '8',
  'j',
  '',
  '',
  ';',
  '@',
  '',
  '',
  'W',
  '',
  '\x81',
  '',
  '\a',
  '',
  '',
  '4',
  '',
  '',
  '#',
  'T',
  'R',
  '',
  '\x17',
  '5',
  'b',
  'd',
  '',
  '\x12',
  '',
  '3',
  '\x1F',
  'R',
  '',
  ']',
  '\x1D',
  '\"',
  '6',
  '',
  'W',
  '',
  '\x06',
  '\r',
  'c',
  '',
  '',
  'I',
  'M',
  'O',
  '',
  '`',
  '',
  '\x03',
  '',
  '(',
  '',
  '',
  'r',
  'q',
  '',
  '',
  '\x8D',
  '',
  'C',
  '',
  'G',
  'H',
  '',
  '',
  'z',
  'Q',
  'g',
  '',
  '\0',
  '',
  '',
  '',
  '',
  '',
  'h',
  '{',
  '\x0E',
  '',
  '\x15',
  '',
  'U',
  '$',
  '\\',
  '',
  'l',
  '7',
  '',
  '',
  't',
  '',
  '',
  '[',
  '',
  '\x9D',
  '&',
  '',
  '',
  '\xFF',
  'n',
  '',
  '',
  '\x1B',
  'w',
  '',
  'S',
  '',
  '\x90',
  '>',
  '',
  '',
  '\v',
  '~',
  '\x16',
  '9',
  '',
  '',
  '',
  '',
  '',
  '\b',
  '',
  '',
  '\x12',
  '',
  '',
  '',
  '',
  '',
  '',
  '=',
  '-',
  'y',
  'v',
  '\x11',
  '@',
  '',
  '',
  's',
  '',
  '',
  'V',
  '4',
  'Z',
  '',
  '\x01',
  '',
  '',
  '',
  '',
  'x',
  '',
  'f',
  'K',
  '',
  '?',
  'e',
  '0',
  '.',
  'd',
  '\x02',
  '\x81',
  '',
  '',
  '',
  '\f',
  '',
  '',
  '\x0F',
  '',
  '\x1E',
  'u',
  '',
  '\x10',
  '',
  '',
  '',
  '*',
  '',
  ')',
  '\x7F',
  '',
  '1',
  '\x1A',
  '',
  '',
  'X',
  'F',
  '',
  'P',
  '\x18',
  '',
  '\t',
  '\n',
  '+',
  '\x17',
  '',
  '',
  '',
  '',
  '',
  '|',
  '',
  '',
  '',
  '',
  'b',
  '',
  '',
  '8',
  '',
  '\x05',
  '\a',
  '%',
  '\x13',
  '}',
  '',
  'a',
  'i',
  '',
  '',
  '',
  '',
  '<',
  'j',
  'E',
  '\x19',
  '',
  '',
  '',
  'A',
  '',
  '',
  '',
  '_',
  '',
  '',
  '/',
  'J',
  '\x1C',
  '2',
  '',
  '\x04',
  'N',
  ',',
  '',
  '^',
  '',
  'm',
  '\'',
  '',
  '',
  'L',
  'B',
  'k',
  '',
  '',
  '',
  'D',
  '#',
  '\x14',
  '',
  'T',
  'p',
  '',
  '',
  ':',
  '\x8F',
  '',
  ';',
  '',
  'Y',
  '',
  '!',
  '',
  '',
  '',
  '',
  '5',
  ' ',
  'o'
}; // idb
int dword_4CD708[256] =
{
  -966564955,
  -126059388,
  -294160487,
  -159679603,
  -855539,
  -697603139,
  -563122255,
  -1849309868,
  1613770832,
  33620227,
  -832084055,
  1445669757,
  -402719207,
  -1244145822,
  1303096294,
  -327780710,
  -1882535355,
  528646813,
  -1983264448,
  -92439161,
  -268764651,
  -1302767125,
  -1907931191,
  -68095989,
  1101901292,
  -1277897625,
  1604494077,
  1169141738,
  597466303,
  1403299063,
  -462261610,
  -1681866661,
  1974974402,
  -503448292,
  1033081774,
  1277568618,
  1815492186,
  2118074177,
  -168298750,
  -2083730353,
  1748251740,
  1369810420,
  -773462732,
  -101584632,
  -495881837,
  -1411852173,
  1647391059,
  706024767,
  134480908,
  -1782069422,
  1176707941,
  -1648114850,
  806885416,
  932615841,
  168101135,
  798661301,
  235341577,
  605164086,
  461406363,
  -538779075,
  -840176858,
  1311188841,
  2142417613,
  -361400929,
  302582043,
  495158174,
  1479289972,
  874125870,
  907746093,
  -596742478,
  -1269146898,
  1537253627,
  -1538108682,
  1983593293,
  -1210657183,
  2108928974,
  1378429307,
  -572267714,
  1580150641,
  327451799,
  -1504488459,
  -1177431704,
  0,
  -1041371860,
  1075847264,
  -469959649,
  2041688520,
  -1235526675,
  -731223362,
  -1916023994,
  1740553945,
  1916352843,
  -1807070498,
  -1739830060,
  -1336387352,
  -2049978550,
  -1143943061,
  -974131414,
  1336584933,
  -302253290,
  -2042412091,
  -1706209833,
  1714631509,
  293963156,
  -1975171633,
  -369493744,
  67240454,
  -25198719,
  -1605349136,
  2017213508,
  631218106,
  1269344483,
  -1571728909,
  1571005438,
  -2143272768,
  93294474,
  1066570413,
  563977660,
  1882732616,
  -235539196,
  1673313503,
  2008463041,
  -1344611723,
  1109467491,
  537923632,
  -436207846,
  -34344178,
  -1076702611,
  -2117218996,
  403442708,
  638784309,
  -1007883217,
  -1101045791,
  899127202,
  -2008791860,
  773265209,
  -1815821225,
  1437050866,
  -58818942,
  2050833735,
  -932944724,
  -1168286233,
  840505643,
  -428641387,
  -1067425632,
  427917720,
  -1638969391,
  -1545806721,
  1143087718,
  1412049534,
  999329963,
  193497219,
  -1941551414,
  -940642775,
  1807268051,
  672404540,
  -1478566279,
  -1134666014,
  369822493,
  -1378100362,
  -606019525,
  1681011286,
  1949973070,
  336202270,
  -1840690725,
  201721354,
  1210328172,
  -1201906460,
  -1614626211,
  -1110191250,
  1135389935,
  -1000185178,
  965841320,
  831886756,
  -739974089,
  -226920053,
  -706222286,
  -1949775805,
  1849112409,
  -630362697,
  26054028,
  -1311386268,
  -1672589614,
  1235855840,
  -663982924,
  -1403627782,
  -202050553,
  -806688219,
  -899324497,
  -193299826,
  1202630377,
  268961816,
  1874508501,
  -260540280,
  1243948399,
  1546530418,
  941366308,
  1470539505,
  1941222599,
  -1748580783,
  -873928669,
  -1579295364,
  -395021156,
  1042226977,
  -1773450275,
  1639824860,
  227249030,
  260737669,
  -529502064,
  2084453954,
  1907733956,
  -865704278,
  -1874310952,
  100860677,
  -134810111,
  470683154,
  -1033805405,
  1781871967,
  -1370007559,
  1773779408,
  394692241,
  -1715355304,
  974986535,
  664706745,
  -639508168,
  -336005101,
  731420851,
  571543859,
  -764843589,
  -1445340816,
  126783113,
  865375399,
  765172662,
  1008606754,
  361203602,
  -907417312,
  -2016489911,
  -1437248001,
  1344809080,
  -1512054918,
  59542671,
  1503764984,
  160008576,
  437062935,
  1707065306,
  -672733647,
  -2076032314,
  -798463816,
  -2109652541,
  697932208,
  1512910199,
  504303377,
  2075177163,
  -1470868228,
  1841019862,
  739644986
}; // idb
int dword_4CDB08[256] =
{
  -1513725085,
  -2064089988,
  -1712425097,
  -1913226373,
  234877682,
  -1110021269,
  -1310822545,
  1418839493,
  1348481072,
  50462977,
  -1446090905,
  2102799147,
  434634494,
  1656084439,
  -431117397,
  -1695779210,
  1167051466,
  -1658879358,
  1082771913,
  -2013627011,
  368048890,
  -340633255,
  -913422521,
  201060592,
  -331240019,
  1739838676,
  -44064094,
  -364531793,
  -1088185188,
  -145513308,
  -1763413390,
  1536934080,
  -1032472649,
  484572669,
  -1371696237,
  1783375398,
  1517041206,
  1098792767,
  49674231,
  1334037708,
  1550332980,
  -195975771,
  886171109,
  150598129,
  -1813876367,
  1940642008,
  1398944049,
  1059722517,
  201851908,
  1385547719,
  1699095331,
  1587397571,
  674240536,
  -1590192490,
  252314885,
  -1255171430,
  151914247,
  908333586,
  -1692696448,
  1038082786,
  651029483,
  1766729511,
  -847269198,
  -1612024459,
  454166793,
  -1642232957,
  1951935532,
  775166490,
  758520603,
  -1294176658,
  -290170278,
  -77881184,
  -157003182,
  1299594043,
  1639438038,
  -830622797,
  2068982057,
  1054729187,
  1901997871,
  -1760328572,
  -173649069,
  1757008337,
  0,
  750906861,
  1614815264,
  535035132,
  -931548751,
  -306816165,
  -1093375382,
  1183697867,
  -647512386,
  1265776953,
  -560706998,
  -728216500,
  -391096232,
  1250283471,
  1807470800,
  717615087,
  -447763798,
  384695291,
  -981056701,
  -677753523,
  1432761139,
  -1810791035,
  -813021883,
  283769337,
  100925954,
  -2114027649,
  -257929136,
  1148730428,
  -1171939425,
  -481580888,
  -207466159,
  -27417693,
  -1065336768,
  -1979347057,
  -1388342638,
  -1138647651,
  1215313976,
  82966005,
  -547111748,
  -1049119050,
  1974459098,
  1665278241,
  807407632,
  451280895,
  251524083,
  1841287890,
  1283575245,
  337120268,
  891687699,
  801369324,
  -507617441,
  -1573546089,
  -863484860,
  959321879,
  1469301956,
  -229267545,
  -2097381762,
  1199193405,
  -1396153244,
  -407216803,
  724703513,
  -1780059277,
  -1598005152,
  -1743158911,
  -778154161,
  2141445340,
  1715741218,
  2119445034,
  -1422159728,
  -2096396152,
  -896776634,
  700968686,
  -747915080,
  1009259540,
  2041044702,
  -490971554,
  487983883,
  1991105499,
  1004265696,
  1449407026,
  1316239930,
  504629770,
  -611169975,
  168560134,
  1816667172,
  -457679780,
  1570751170,
  1857934291,
  -280777556,
  -1497079198,
  -1472622191,
  -1540254315,
  936633572,
  -1947043463,
  852879335,
  1133234376,
  1500395319,
  -1210421907,
  -1946055283,
  1689376213,
  -761508274,
  -532043351,
  -1260884884,
  -89369002,
  133428468,
  634383082,
  -1345690267,
  -1896580486,
  -381178194,
  403703816,
  -714097990,
  -1997506440,
  1867130149,
  1918643758,
  607656988,
  -245913946,
  -948718412,
  1368901318,
  600565992,
  2090982877,
  -1662487436,
  557719327,
  -577352885,
  -597574211,
  -2045932661,
  -2062579062,
  -1864339344,
  1115438654,
  -999180875,
  -1429445018,
  -661632952,
  84280067,
  33027830,
  303828494,
  -1547542175,
  1600795957,
  -106014889,
  -798377543,
  -1860729210,
  1486471617,
  658119965,
  -1188585826,
  953803233,
  334231800,
  -1288988520,
  857870609,
  -1143838359,
  1890179545,
  -1995993458,
  -1489791852,
  -1238525029,
  574365214,
  -1844082809,
  550103529,
  1233637070,
  -5614251,
  2018519080,
  2057691103,
  -1895592820,
  -128343647,
  -2146858615,
  387583245,
  -630865985,
  836232934,
  -964410814,
  -1194301336,
  -1014873791,
  -1339450983,
  2002398509,
  287182607,
  -881086288,
  -56077228,
  -697451589,
  975967766
}; // idb
int dword_4CDF08[256] =
{
  1671808611,
  2089089148,
  2006576759,
  2072901243,
  -233963534,
  1807603307,
  1873927791,
  -984313403,
  810573872,
  16974337,
  1739181671,
  729634347,
  -31856642,
  -681396777,
  -1410970197,
  1989864566,
  -901410870,
  -2103631998,
  -918517303,
  2106063485,
  -99225606,
  1508618841,
  1204391495,
  -267650064,
  -1377025619,
  -731401260,
  -1560453214,
  -1343601233,
  -1665195108,
  -1527295068,
  1922491506,
  -1067738176,
  -1211992649,
  -48438787,
  -1817297517,
  644500518,
  911895606,
  1061256767,
  -150800905,
  -867204148,
  878471220,
  -1510714971,
  -449523227,
  -251069967,
  1905517169,
  -663508008,
  827548209,
  356461077,
  67897348,
  -950889017,
  593839651,
  -1017209405,
  405286936,
  -1767819370,
  84871685,
  -1699401830,
  118033927,
  305538066,
  -2137318528,
  -499261470,
  -349778453,
  661212711,
  -1295155278,
  1973414517,
  152769033,
  -2086789757,
  745822252,
  439235610,
  455947803,
  1857215598,
  1525593178,
  -1594139744,
  1391895634,
  994932283,
  -698239018,
  -1278313037,
  695947817,
  -482419229,
  795958831,
  -2070473852,
  1408607827,
  -781665839,
  0,
  -315833875,
  543178784,
  -65018884,
  -1312261711,
  1542305371,
  1790891114,
  -884568629,
  -1093048386,
  961245753,
  1256100938,
  1289001036,
  1491644504,
  -817199665,
  -798245936,
  -282409489,
  -1427812438,
  -82383365,
  1137018435,
  1305975373,
  861234739,
  -2053893755,
  1171229253,
  -116332039,
  33948674,
  2139225727,
  1357946960,
  1011120188,
  -1615190625,
  -1461498968,
  1374921297,
  -1543610973,
  1086357568,
  -1886780017,
  -1834139758,
  -1648615011,
  944271416,
  -184225291,
  -1126210628,
  -1228834890,
  -629821478,
  560153121,
  271589392,
  -15014401,
  -217121293,
  -764559406,
  -850624051,
  202643468,
  322250259,
  -332413972,
  1608629855,
  -1750977129,
  1154254916,
  389623319,
  -1000893500,
  -1477290585,
  2122513534,
  1028094525,
  1689045092,
  1575467613,
  422261273,
  1939203699,
  1621147744,
  -2120738431,
  1339137615,
  -595614756,
  577127458,
  712922154,
  -1867826288,
  -2004677752,
  1187679302,
  -299251730,
  -1194103880,
  339486740,
  -562452514,
  1591917662,
  186455563,
  -612979237,
  -532948000,
  844522546,
  978220090,
  169743370,
  1239126601,
  101321734,
  611076132,
  1558493276,
  -1034051646,
  -747717165,
  -1393605716,
  1655096418,
  -1851246191,
  -1784401515,
  -466103324,
  2039214713,
  -416098841,
  -935097400,
  928607799,
  1840765549,
  -1920204403,
  -714821163,
  1322425422,
  -1444918871,
  1823791212,
  1459268694,
  -200805388,
  -366620694,
  1706019429,
  2056189050,
  -1360443474,
  135794696,
  -1160417350,
  2022240376,
  628050469,
  779246638,
  472135708,
  -1494132826,
  -1261997132,
  -967731258,
  -400307224,
  -579034659,
  1956440180,
  522272287,
  1272813131,
  -1109630531,
  -1954148981,
  -1970991222,
  1888542832,
  1044544574,
  -1245417035,
  1722469478,
  1222152264,
  50660867,
  -167643146,
  236067854,
  1638122081,
  895445557,
  1475980887,
  -1177523783,
  -2037311610,
  -1051158079,
  489110045,
  -1632032866,
  -516367903,
  -132912136,
  -1733088360,
  288563729,
  1773916777,
  -646927911,
  -1903622258,
  -1800981612,
  -1682559589,
  505560094,
  -2020469369,
  -383727127,
  -834041906,
  1442818645,
  678973480,
  -545610273,
  -1936784500,
  -1577559647,
  -1988097655,
  219617805,
  -1076206145,
  -432941082,
  1120306242,
  1756942440,
  1103331905,
  -1716508263,
  762796589,
  252780047,
  -1328841808,
  1425844308,
  -1143575109,
  372911126
}; // idb
int dword_4CE308[256] =
{
  1667474886,
  2088535288,
  2004326894,
  2071694838,
  -219017729,
  1802223062,
  1869591006,
  -976923503,
  808472672,
  16843522,
  1734846926,
  724270422,
  -16901657,
  -673750347,
  -1414797747,
  1987484396,
  -892713585,
  -2105369313,
  -909557623,
  2105378810,
  -84273681,
  1499065266,
  1195886990,
  -252703749,
  -1381110719,
  -724277325,
  -1566376609,
  -1347425723,
  -1667449053,
  -1532692653,
  1920112356,
  -1061135461,
  -1212693899,
  -33743647,
  -1819038147,
  640051788,
  909531756,
  1061110142,
  -134806795,
  -859025533,
  875846760,
  -1515850671,
  -437963567,
  -235861767,
  1903268834,
  -656903253,
  825316194,
  353713962,
  67374088,
  -943238507,
  589522246,
  -1010606435,
  404236336,
  -1768513225,
  84217610,
  -1701137105,
  117901582,
  303183396,
  -2139055333,
  -488489505,
  -336910643,
  656894286,
  -1296904833,
  1970642922,
  151591698,
  -2088526307,
  741110872,
  437923380,
  454765878,
  1852748508,
  1515908788,
  -1600062629,
  1381168804,
  993742198,
  -690593353,
  -1280061827,
  690584402,
  -471646499,
  791638366,
  -2071685357,
  1398011302,
  -774805319,
  0,
  -303223615,
  538992704,
  -50585629,
  -1313748871,
  1532751286,
  1785380564,
  -875870579,
  -1094788761,
  960056178,
  1246420628,
  1280103576,
  1482221744,
  -808498555,
  -791647301,
  -269538619,
  -1431640753,
  -67430675,
  1128514950,
  1296947098,
  859002214,
  -2054843375,
  1162203018,
  -101117719,
  33687044,
  2139062782,
  1347481760,
  1010582648,
  -1616922075,
  -1465326773,
  1364325282,
  -1549533603,
  1077985408,
  -1886418427,
  -1835881153,
  -1650607071,
  943212656,
  -168491791,
  -1128472733,
  -1229536905,
  -623217233,
  555836226,
  269496352,
  -58651,
  -202174723,
  -757961281,
  -842183551,
  202118168,
  320025894,
  -320065597,
  1600119230,
  -1751670219,
  1145359496,
  387397934,
  -993765485,
  -1482165675,
  2122220284,
  1027426170,
  1684319432,
  1566435258,
  421079858,
  1936954854,
  1616945344,
  -2122213351,
  1330631070,
  -589529181,
  572679748,
  707427924,
  -1869567173,
  -2004319477,
  1179044492,
  -286381625,
  -1195846805,
  336870440,
  -555845209,
  1583276732,
  185277718,
  -606374227,
  -522175525,
  842159716,
  976899700,
  168435220,
  1229577106,
  101059084,
  606366792,
  1549591736,
  -1027449441,
  -741118275,
  -1397952701,
  1650632388,
  -1852725191,
  -1785355215,
  -454805549,
  2038008818,
  -404278571,
  -926399605,
  926374254,
  1835907034,
  -1920103423,
  -707435343,
  1313788572,
  -1448484791,
  1819063512,
  1448540844,
  -185333773,
  -353753649,
  1701162954,
  2054852340,
  -1364268729,
  134748176,
  -1162160785,
  2021165296,
  623210314,
  774795868,
  471606328,
  -1499008681,
  -1263220877,
  -960081513,
  -387439669,
  -572687199,
  1953799400,
  522133822,
  1263263126,
  -1111630751,
  -1953790451,
  -1970633457,
  1886425312,
  1044267644,
  -1246378895,
  1718004428,
  1212733584,
  50529542,
  -151649801,
  235803164,
  1633788866,
  892690282,
  1465383342,
  -1179004823,
  -2038001385,
  -1044293479,
  488449850,
  -1633765081,
  -505333543,
  -117959701,
  -1734823125,
  286339874,
  1768537042,
  -640061271,
  -1903261433,
  -1802197197,
  -1684294099,
  505291324,
  -2021158379,
  -370597687,
  -825341561,
  1431699370,
  673740880,
  -539002203,
  -1936945405,
  -1583220647,
  -1987477495,
  218961690,
  -1077945755,
  -421121577,
  1111672452,
  1751693520,
  1094828930,
  -1717981143,
  757954394,
  252645662,
  -1330590853,
  1414855848,
  -1145317779,
  370555436
}; // idb
int dword_4CE708[256] =
{
  1660944384,
  2080374784,
  1996488704,
  2063597568,
  -234881024,
  1795162112,
  1862270976,
  -989855744,
  805306368,
  16777216,
  1728053248,
  721420288,
  -33554432,
  -687865856,
  -1426063360,
  1979711488,
  -905969664,
  -2113929216,
  -922746880,
  2097152000,
  -100663296,
  1493172224,
  1191182336,
  -268435456,
  -1392508928,
  -738197504,
  -1577058304,
  -1358954496,
  -1677721600,
  -1543503872,
  1912602624,
  -1073741824,
  -1224736768,
  -50331648,
  -1828716544,
  637534208,
  905969664,
  1056964608,
  -150994944,
  -872415232,
  872415232,
  -1526726656,
  -452984832,
  -251658240,
  1895825408,
  -671088640,
  822083584,
  352321536,
  67108864,
  -956301312,
  587202560,
  -1023410176,
  402653184,
  -1778384896,
  83886080,
  -1711276032,
  117440512,
  301989888,
  2147483648,
  -503316480,
  -352321536,
  654311424,
  -1308622848,
  1962934272,
  150994944,
  -2097152000,
  738197504,
  436207616,
  452984832,
  1845493760,
  1509949440,
  -1610612736,
  1375731712,
  989855744,
  -704643072,
  -1291845632,
  687865856,
  -486539264,
  788529152,
  -2080374784,
  1392508928,
  -788529152,
  0,
  -318767104,
  536870912,
  -67108864,
  -1325400064,
  1526726656,
  1778384896,
  -889192448,
  -1107296256,
  956301312,
  1241513984,
  1275068416,
  1476395008,
  -822083584,
  -805306368,
  -285212672,
  -1442840576,
  -83886080,
  1124073472,
  1291845632,
  855638016,
  -2063597568,
  1157627904,
  -117440512,
  33554432,
  2130706432,
  1342177280,
  1006632960,
  -1627389952,
  -1476395008,
  1358954496,
  -1560281088,
  1073741824,
  -1895825408,
  -1845493760,
  -1660944384,
  939524096,
  -184549376,
  -1140850688,
  -1241513984,
  -637534208,
  553648128,
  268435456,
  -16777216,
  -218103808,
  -771751936,
  -855638016,
  201326592,
  318767104,
  -335544320,
  1593835520,
  -1761607680,
  1140850688,
  385875968,
  -1006632960,
  -1493172224,
  2113929216,
  1023410176,
  1677721600,
  1560281088,
  419430400,
  1929379840,
  1610612736,
  -2130706432,
  1325400064,
  -603979776,
  570425344,
  704643072,
  -1879048192,
  -2013265920,
  1174405120,
  -301989888,
  -1207959552,
  335544320,
  -570425344,
  1577058304,
  184549376,
  -620756992,
  -536870912,
  838860800,
  973078528,
  167772160,
  1224736768,
  100663296,
  603979776,
  1543503872,
  -1040187392,
  -754974720,
  -1409286144,
  1644167168,
  -1862270976,
  -1795162112,
  -469762048,
  2030043136,
  -419430400,
  -939524096,
  922746880,
  1828716544,
  -1929379840,
  -721420288,
  1308622848,
  -1459617792,
  1811939328,
  1442840576,
  -201326592,
  -369098752,
  1694498816,
  2046820352,
  -1375731712,
  134217728,
  -1174405120,
  2013265920,
  620756992,
  771751936,
  469762048,
  -1509949440,
  -1275068416,
  -973078528,
  -402653184,
  -587202560,
  1946157056,
  520093696,
  1258291200,
  -1124073472,
  -1962934272,
  -1979711488,
  1879048192,
  1040187392,
  -1258291200,
  1711276032,
  1207959552,
  50331648,
  -167772160,
  234881024,
  1627389952,
  889192448,
  1459617792,
  -1191182336,
  -2046820352,
  -1056964608,
  486539264,
  -1644167168,
  -520093696,
  -134217728,
  -1744830464,
  285212672,
  1761607680,
  -654311424,
  -1912602624,
  -1811939328,
  -1694498816,
  503316480,
  -2030043136,
  -385875968,
  -838860800,
  1426063360,
  671088640,
  -553648128,
  -1946157056,
  -1593835520,
  -1996488704,
  218103808,
  -1090519040,
  -436207616,
  1107296256,
  1744830464,
  1090519040,
  -1728053248,
  754974720,
  251658240,
  -1342177280,
  1409286144,
  -1157627904,
  369098752
}; // idb
int dword_4CEB08[256] =
{
  6488064,
  8126464,
  7798784,
  8060928,
  15859712,
  7012352,
  7274496,
  12910592,
  3145728,
  65536,
  6750208,
  2818048,
  16646144,
  14090240,
  11206656,
  7733248,
  13238272,
  8519680,
  13172736,
  8192000,
  16384000,
  5832704,
  4653056,
  15728640,
  11337728,
  13893632,
  10616832,
  11468800,
  10223616,
  10747904,
  7471104,
  12582912,
  11993088,
  16580608,
  9633792,
  2490368,
  3538944,
  4128768,
  16187392,
  13369344,
  3407872,
  10813440,
  15007744,
  15794176,
  7405568,
  14155776,
  3211264,
  1376256,
  262144,
  13041664,
  2293760,
  12779520,
  1572864,
  9830400,
  327680,
  10092544,
  458752,
  1179648,
  8388608,
  14811136,
  15400960,
  2555904,
  11665408,
  7667712,
  589824,
  8585216,
  2883584,
  1703936,
  1769472,
  7208960,
  5898240,
  10485760,
  5373952,
  3866624,
  14024704,
  11730944,
  2686976,
  14876672,
  3080192,
  8650752,
  5439488,
  13697024,
  0,
  15532032,
  2097152,
  16515072,
  11599872,
  5963776,
  6946816,
  13303808,
  12451840,
  3735552,
  4849664,
  4980736,
  5767168,
  13565952,
  13631488,
  15663104,
  11141120,
  16449536,
  4390912,
  5046272,
  3342336,
  8716288,
  4521984,
  16318464,
  131072,
  8323072,
  5242880,
  3932160,
  10420224,
  11010048,
  5308416,
  10682368,
  4194304,
  9371648,
  9568256,
  10289152,
  3670016,
  16056320,
  12320768,
  11927552,
  14286848,
  2162688,
  1048576,
  16711680,
  15925248,
  13762560,
  13434880,
  786432,
  1245184,
  15466496,
  6225920,
  9895936,
  4456448,
  1507328,
  12845056,
  10944512,
  8257536,
  3997696,
  6553600,
  6094848,
  1638400,
  7536640,
  6291456,
  8454144,
  5177344,
  14417920,
  2228224,
  2752512,
  9437184,
  8912896,
  4587520,
  15597568,
  12058624,
  1310720,
  14548992,
  6160384,
  720896,
  14352384,
  14680064,
  3276800,
  3801088,
  655360,
  4784128,
  393216,
  2359296,
  6029312,
  12713984,
  13828096,
  11272192,
  6422528,
  9502720,
  9764864,
  14942208,
  7929856,
  15138816,
  13107200,
  3604480,
  7143424,
  9240576,
  13959168,
  5111808,
  11075584,
  7077888,
  5636096,
  15990784,
  15335424,
  6619136,
  7995392,
  11403264,
  524288,
  12189696,
  7864320,
  2424832,
  3014656,
  1835008,
  10878976,
  11796480,
  12976128,
  15204352,
  14483456,
  7602176,
  2031616,
  4915200,
  12386304,
  9109504,
  9043968,
  7340032,
  4063232,
  11862016,
  6684672,
  4718592,
  196608,
  16121856,
  917504,
  6356992,
  3473408,
  5701632,
  12124160,
  8781824,
  12648448,
  1900544,
  10354688,
  14745600,
  16252928,
  9961472,
  1114112,
  6881280,
  14221312,
  9306112,
  9699328,
  10158080,
  1966080,
  8847360,
  15269888,
  13500416,
  5570560,
  2621440,
  14614528,
  9175040,
  10551296,
  8978432,
  851968,
  12517376,
  15073280,
  4325376,
  6815744,
  4259840,
  10027008,
  2949120,
  983040,
  11534336,
  5505024,
  12255232,
  1441792
}; // idb
int dword_4CEF08[256] =
{
  25344,
  31744,
  30464,
  31488,
  61952,
  27392,
  28416,
  50432,
  12288,
  256,
  26368,
  11008,
  65024,
  55040,
  43776,
  30208,
  51712,
  33280,
  51456,
  32000,
  64000,
  22784,
  18176,
  61440,
  44288,
  54272,
  41472,
  44800,
  39936,
  41984,
  29184,
  49152,
  46848,
  64768,
  37632,
  9728,
  13824,
  16128,
  63232,
  52224,
  13312,
  42240,
  58624,
  61696,
  28928,
  55296,
  12544,
  5376,
  1024,
  50944,
  8960,
  49920,
  6144,
  38400,
  1280,
  39424,
  1792,
  4608,
  32768,
  57856,
  60160,
  9984,
  45568,
  29952,
  2304,
  33536,
  11264,
  6656,
  6912,
  28160,
  23040,
  40960,
  20992,
  15104,
  54784,
  45824,
  10496,
  58112,
  12032,
  33792,
  21248,
  53504,
  0,
  60672,
  8192,
  64512,
  45312,
  23296,
  27136,
  51968,
  48640,
  14592,
  18944,
  19456,
  22528,
  52992,
  53248,
  61184,
  43520,
  64256,
  17152,
  19712,
  13056,
  34048,
  17664,
  63744,
  512,
  32512,
  20480,
  15360,
  40704,
  43008,
  20736,
  41728,
  16384,
  36608,
  37376,
  40192,
  14336,
  62720,
  48128,
  46592,
  55808,
  8448,
  4096,
  65280,
  62208,
  53760,
  52480,
  3072,
  4864,
  60416,
  24320,
  38656,
  17408,
  5888,
  50176,
  42752,
  32256,
  15616,
  25600,
  23808,
  6400,
  29440,
  24576,
  33024,
  20224,
  56320,
  8704,
  10752,
  36864,
  34816,
  17920,
  60928,
  47104,
  5120,
  56832,
  24064,
  2816,
  56064,
  57344,
  12800,
  14848,
  2560,
  18688,
  1536,
  9216,
  23552,
  49664,
  54016,
  44032,
  25088,
  37120,
  38144,
  58368,
  30976,
  59136,
  51200,
  14080,
  27904,
  36096,
  54528,
  19968,
  43264,
  27648,
  22016,
  62464,
  59904,
  25856,
  31232,
  44544,
  2048,
  47616,
  30720,
  9472,
  11776,
  7168,
  42496,
  46080,
  50688,
  59392,
  56576,
  29696,
  7936,
  19200,
  48384,
  35584,
  35328,
  28672,
  15872,
  46336,
  26112,
  18432,
  768,
  62976,
  3584,
  24832,
  13568,
  22272,
  47360,
  34304,
  49408,
  7424,
  40448,
  57600,
  63488,
  38912,
  4352,
  26880,
  55552,
  36352,
  37888,
  39680,
  7680,
  34560,
  59648,
  52736,
  21760,
  10240,
  57088,
  35840,
  41216,
  35072,
  3328,
  48896,
  58880,
  16896,
  26624,
  16640,
  39168,
  11520,
  3840,
  45056,
  21504,
  47872,
  5632
}; // idb
int dword_4CF308[256] =
{
  99,
  124,
  119,
  123,
  242,
  107,
  111,
  197,
  48,
  1,
  103,
  43,
  254,
  215,
  171,
  118,
  202,
  130,
  201,
  125,
  250,
  89,
  71,
  240,
  173,
  212,
  162,
  175,
  156,
  164,
  114,
  192,
  183,
  253,
  147,
  38,
  54,
  63,
  247,
  204,
  52,
  165,
  229,
  241,
  113,
  216,
  49,
  21,
  4,
  199,
  35,
  195,
  24,
  150,
  5,
  154,
  7,
  18,
  128,
  226,
  235,
  39,
  178,
  117,
  9,
  131,
  44,
  26,
  27,
  110,
  90,
  160,
  82,
  59,
  214,
  179,
  41,
  227,
  47,
  132,
  83,
  209,
  0,
  237,
  32,
  252,
  177,
  91,
  106,
  203,
  190,
  57,
  74,
  76,
  88,
  207,
  208,
  239,
  170,
  251,
  67,
  77,
  51,
  133,
  69,
  249,
  2,
  127,
  80,
  60,
  159,
  168,
  81,
  163,
  64,
  143,
  146,
  157,
  56,
  245,
  188,
  182,
  218,
  33,
  16,
  255,
  243,
  210,
  205,
  12,
  19,
  236,
  95,
  151,
  68,
  23,
  196,
  167,
  126,
  61,
  100,
  93,
  25,
  115,
  96,
  129,
  79,
  220,
  34,
  42,
  144,
  136,
  70,
  238,
  184,
  20,
  222,
  94,
  11,
  219,
  224,
  50,
  58,
  10,
  73,
  6,
  36,
  92,
  194,
  211,
  172,
  98,
  145,
  149,
  228,
  121,
  231,
  200,
  55,
  109,
  141,
  213,
  78,
  169,
  108,
  86,
  244,
  234,
  101,
  122,
  174,
  8,
  186,
  120,
  37,
  46,
  28,
  166,
  180,
  198,
  232,
  221,
  116,
  31,
  75,
  189,
  139,
  138,
  112,
  62,
  181,
  102,
  72,
  3,
  246,
  14,
  97,
  53,
  87,
  185,
  134,
  193,
  29,
  158,
  225,
  248,
  152,
  17,
  105,
  217,
  142,
  148,
  155,
  30,
  135,
  233,
  206,
  85,
  40,
  223,
  140,
  161,
  137,
  13,
  191,
  230,
  66,
  104,
  65,
  153,
  45,
  15,
  176,
  84,
  187,
  22
}; // idb
int dword_4CF708[256] =
{
  1374988112,
  2118214995,
  437757123,
  975658646,
  1001089995,
  530400753,
  -1392879445,
  1273168787,
  540080725,
  -1384747530,
  -1999866223,
  -184398811,
  1340463100,
  -987051049,
  641025152,
  -1251826801,
  -558802359,
  632953703,
  1172967064,
  1576976609,
  -1020300030,
  -2125664238,
  -1924753501,
  1809054150,
  59727847,
  361929877,
  -1083344149,
  -1789765158,
  -725712083,
  1484005843,
  1239443753,
  -1899378620,
  1975683434,
  -191989384,
  -1722270101,
  666464733,
  -1092530250,
  -259478249,
  -920605594,
  2110667444,
  1675577880,
  -451268222,
  -1756286112,
  1649639237,
  -1318815776,
  -1150570876,
  -25059300,
  -116905068,
  1883793496,
  -1891238631,
  -1797362553,
  1383856311,
  -1418472669,
  1917518562,
  -484470953,
  1716890410,
  -1293211641,
  800440835,
  -2033878118,
  -751368027,
  807962610,
  599762354,
  33778362,
  -317291940,
  -1966138325,
  -1485196142,
  -217582864,
  1315562145,
  1708848333,
  101039829,
  -785096161,
  -995688822,
  875451293,
  -1561111136,
  92987698,
  -1527321739,
  193195065,
  1080094634,
  1584504582,
  -1116860335,
  1042385657,
  -1763899843,
  -583137874,
  1306967366,
  -1856729675,
  1908694277,
  67556463,
  1615861247,
  429456164,
  -692196969,
  -1992277044,
  1742315127,
  -1326955843,
  126454664,
  -417768648,
  2043211483,
  -1585706425,
  2084704233,
  -125559095,
  0,
  159417987,
  841739592,
  504459436,
  1817866830,
  -49348613,
  260388950,
  1034867998,
  908933415,
  168810852,
  1750902305,
  -1688513327,
  607530554,
  202008497,
  -1822955761,
  -1259432238,
  463180190,
  -2134850225,
  1641816226,
  1517767529,
  470948374,
  -493635062,
  -1063245083,
  1008918595,
  303765277,
  235474187,
  -225720403,
  766945465,
  337553864,
  1475418501,
  -1351284916,
  -291906117,
  -1551933187,
  -150919521,
  1551037884,
  1147550661,
  1543208500,
  -1958532746,
  -886847780,
  -1225917336,
  -1192955549,
  -684598070,
  1113818384,
  328671808,
  -2067394272,
  -2058738563,
  -759480840,
  -1359400431,
  -953573011,
  496906059,
  -592301837,
  226906860,
  2009195472,
  733156972,
  -1452230247,
  294930682,
  1206477858,
  -1459843900,
  -1594867942,
  1451044056,
  573804783,
  -2025238841,
  -650587711,
  -1932877058,
  -1730933962,
  -1493859889,
  -1518674392,
  -625504730,
  1068351396,
  742039012,
  1350078989,
  1784663195,
  1417561698,
  -158526526,
  -1864845080,
  775550814,
  -2101104651,
  -1621262146,
  1775276924,
  1876241833,
  -819653965,
  -928212677,
  270040487,
  -392404114,
  -616842373,
  -853116919,
  1851332852,
  -325404927,
  -2091935064,
  -426414491,
  -1426069890,
  566021896,
  -283776794,
  -1159226407,
  1248802510,
  -358676012,
  699432150,
  832877231,
  708780849,
  -962227152,
  899835584,
  1951317047,
  -58537306,
  -527380304,
  866637845,
  -251357110,
  1106041591,
  2144161806,
  395441711,
  1984812685,
  1139781709,
  -861254316,
  -459930401,
  -1630423581,
  1282050075,
  -1054072904,
  1181045119,
  -1654724092,
  25965917,
  -91786125,
  -83148498,
  -1285087910,
  -1831087534,
  -384805325,
  1842759443,
  -1697160820,
  933301370,
  1509430414,
  -351060855,
  -827774994,
  -1218328267,
  -518199827,
  2051518780,
  -1663901863,
  1441952575,
  404016761,
  1942435775,
  1408749034,
  1610459739,
  -549621996,
  2017778566,
  -894438527,
  -1184316354,
  941896748,
  -1029488545,
  371049330,
  -1126030068,
  675039627,
  -15887039,
  967311729,
  135050206,
  -659233636,
  1683407248,
  2076935265,
  -718096784,
  1215061108,
  -793225406
}; // idb
int dword_4CFB08[256] =
{
  1347548327,
  1400783205,
  -1021700188,
  -1774573730,
  -885281941,
  -249586363,
  -1414727080,
  -1823743229,
  1428173050,
  -156404115,
  -1853305738,
  636813900,
  -61872681,
  -674944309,
  -2144979644,
  -1883938141,
  1239331162,
  1730525723,
  -1740248562,
  -513933632,
  46346101,
  310463728,
  -1551022441,
  -966011911,
  -419197089,
  -1793748324,
  -339776134,
  -627748263,
  768917123,
  -749177823,
  692707433,
  1150208456,
  1786102409,
  2029293177,
  1805211710,
  -584599183,
  -1229004465,
  401639597,
  1724457132,
  -1266823622,
  409198410,
  -2098914767,
  1620529459,
  1164071807,
  -525245321,
  -2068091986,
  486441376,
  -1795618773,
  1483753576,
  428819965,
  -2020286868,
  -1219331080,
  598438867,
  -495826174,
  1474502543,
  711349675,
  129166120,
  53458370,
  -1702443653,
  -1512884472,
  -231724921,
  -1306280027,
  -1174273174,
  1559041666,
  730517276,
  -1834518092,
  -252508174,
  -1588696606,
  -848962828,
  -721025602,
  533804130,
  -1966823682,
  -1657524653,
  -1599933611,
  839224033,
  1973745387,
  957055980,
  -1438621457,
  106852767,
  1371368976,
  -113368694,
  1033297158,
  -1361232379,
  1179510461,
  -1248766835,
  91341917,
  1862534868,
  -10465259,
  605657339,
  -1747534359,
  -863420349,
  2003294622,
  -1112479678,
  -2012771957,
  954669403,
  -612775698,
  1201765386,
  -377732593,
  -906460130,
  0,
  -2096529274,
  1211247597,
  -1407315600,
  1315723890,
  -67301633,
  1443857720,
  507358933,
  657861945,
  1678381017,
  560487590,
  -778347692,
  975451694,
  -1324610969,
  261314535,
  -759894378,
  -1642357871,
  1333838021,
  -1570644960,
  1767536459,
  370938394,
  182621114,
  -440360918,
  1128014560,
  487725847,
  185469197,
  -1376613433,
  -1188186456,
  -938205527,
  -2057834215,
  1286567175,
  -1141990947,
  -39616672,
  -1611202266,
  -1134791947,
  -985373125,
  878443390,
  1988838185,
  -590666810,
  1756818940,
  1673061617,
  -891866660,
  272786309,
  1075025698,
  545572369,
  2105887268,
  -120407235,
  296679730,
  1841768865,
  1260232239,
  -203640272,
  -334657966,
  -797457949,
  1814803222,
  -1716948807,
  -99511224,
  575138148,
  -995558260,
  446754879,
  -665420500,
  -282971248,
  -947435186,
  -1042728751,
  -24327518,
  915985419,
  -811141759,
  681933534,
  651868046,
  -1539330625,
  -466863459,
  223377554,
  -1687527476,
  1649704518,
  -1024029421,
  -393160520,
  1580087799,
  -175979601,
  -1096852096,
  2087309459,
  -1452288723,
  -1278270190,
  1003007129,
  -1492117379,
  1860738147,
  2077965243,
  164439672,
  -194094824,
  32283319,
  -1467789414,
  1709610350,
  2125135846,
  136428751,
  -420538904,
  -642062437,
  -833982666,
  -722821367,
  -701910916,
  -1355701070,
  824852259,
  818324884,
  -1070226842,
  930369212,
  -1493400886,
  -1327460144,
  355706840,
  1257309336,
  -146674470,
  243256656,
  790073846,
  -1921626666,
  1296297904,
  1422699085,
  -538667516,
  -476130891,
  457992840,
  -1195299809,
  2135319889,
  77422314,
  1560382517,
  1945798516,
  788204353,
  1521706781,
  1385356242,
  870912086,
  325965383,
  -1936009375,
  2050466060,
  -1906706412,
  -1981082820,
  -288446169,
  901210569,
  -304014107,
  1014646705,
  1503449823,
  1062597235,
  2031621326,
  -1082931401,
  -363595827,
  1533017514,
  350174575,
  -2038938405,
  -2117423117,
  1052338372,
  741876788,
  1606591296,
  1914052035,
  213705253,
  -1960297399,
  1107234197,
  1899603969,
  -569897805,
  -1663519516,
  -1872472383,
  1635502980,
  1893020342,
  1950903388,
  1120974935
}; // idb
int dword_4CFF08[256] =
{
  -1487908364,
  1699970625,
  -1530717673,
  1586903591,
  1808481195,
  1173430173,
  1487645946,
  59984867,
  -95084496,
  1844882806,
  1989249228,
  1277555970,
  -671330331,
  -875051734,
  1149249077,
  -1550863006,
  1514790577,
  459744698,
  244860394,
  -1058972162,
  1963115311,
  -267222708,
  -1750889146,
  -104436781,
  1608975247,
  -1667951214,
  2062270317,
  1507497298,
  -2094148418,
  567498868,
  1764313568,
  -935031095,
  -1989511742,
  2037970062,
  1047239000,
  1910319033,
  1337376481,
  -1390940024,
  -1402549984,
  984907214,
  1243112415,
  830661914,
  861968209,
  2135253587,
  2011214180,
  -1367032981,
  -1608712575,
  731183368,
  1750626376,
  -48656571,
  1820824798,
  -122203525,
  -752637069,
  48394827,
  -1890065633,
  -1423284651,
  671593195,
  -1039978571,
  2073724613,
  145085239,
  -2014171096,
  -1515052097,
  1790575107,
  -2107839210,
  472615631,
  -1265457287,
  -219090169,
  -492745111,
  -187865638,
  -1093335547,
  1646252340,
  -24460122,
  1402811438,
  1436590835,
  -516815478,
  -344611594,
  -331805821,
  -274055072,
  -1626972559,
  273792366,
  -1963377119,
  104699613,
  95345982,
  -1119466010,
  -1917480620,
  1560637892,
  -730921978,
  369057872,
  -81520232,
  -375925059,
  1137477952,
  -1636341799,
  1119727848,
  -1954019447,
  1530455833,
  -287606328,
  172466556,
  266959938,
  516552836,
  0,
  -2038232704,
  -314035669,
  1890328081,
  1917742170,
  -262898,
  945164165,
  -719438418,
  958871085,
  -647755249,
  -1507760036,
  1423022939,
  775562294,
  1739656202,
  -418409641,
  -1764576018,
  -1851909221,
  -984645440,
  547512796,
  1265195639,
  437656594,
  -1173691757,
  719700128,
  -532464606,
  387781147,
  218828297,
  -944901493,
  -1464259146,
  -1446505442,
  428169201,
  122466165,
  -574886247,
  1627235199,
  648017665,
  -172204942,
  1002783846,
  2117360635,
  695634755,
  -958608605,
  -60246291,
  -245122844,
  -590686415,
  -2062531997,
  574624663,
  287343814,
  612205898,
  1039717051,
  840019705,
  -1586641111,
  793451934,
  821288114,
  1391201670,
  -472877119,
  376187827,
  -1181111952,
  1224348052,
  1679968233,
  -1933268740,
  1058709744,
  752375421,
  -1863376333,
  1321699145,
  -775825096,
  -1560376118,
  188127444,
  -2117097739,
  -567761542,
  -1910056265,
  -1079754835,
  -1645990854,
  -1844621192,
  -862229921,
  1180849278,
  331544205,
  -1192718120,
  -144822727,
  -1342864701,
  -2134991011,
  -1820562992,
  766078933,
  313773861,
  -1724135252,
  2108100632,
  1668212892,
  -1149510853,
  2013908262,
  418672217,
  -1224610662,
  -1700232369,
  1852171925,
  -427906305,
  -821550660,
  -387518699,
  -1680229657,
  919489135,
  164948639,
  2094410160,
  -1297141340,
  590424639,
  -1808742747,
  1723872674,
  -1137216434,
  -895026046,
  -793714544,
  -669699161,
  -1739919100,
  -621329940,
  1343127501,
  -164685935,
  -695372211,
  -1337113617,
  1297403050,
  81781910,
  -1243373871,
  -2011476886,
  532201772,
  1367295589,
  -368796322,
  895287692,
  1953757831,
  1093597963,
  492483431,
  -766340389,
  1446242576,
  1192455638,
  1636604631,
  209336225,
  344873464,
  1015671571,
  669961897,
  -919226527,
  -437395172,
  -1321436601,
  -547775278,
  1933530610,
  -830924780,
  935293895,
  -840281097,
  -1436852227,
  1863638845,
  -611944380,
  -209597777,
  -1002522264,
  875313188,
  1080017571,
  -1015933411,
  621591778,
  1233856572,
  -1790836979,
  24197544,
  -1277294580,
  -459482956,
  -1047501738,
  -2073986101,
  -1234119374,
  1551124588,
  1463996600
}; // idb
int dword_4D0308[256] =
{
  -190361519,
  1097159550,
  396673818,
  660510266,
  -1418998981,
  -1656360673,
  -94852180,
  -486304949,
  821712160,
  1986918061,
  -864644728,
  38544885,
  -438830001,
  718002117,
  893681702,
  1654886325,
  -1319482914,
  -1172609243,
  -368142267,
  -20913827,
  796197571,
  1290801793,
  1184342925,
  -738605461,
  -1889540349,
  -1835231979,
  1836772287,
  1381620373,
  -1098699308,
  1948373848,
  -529979063,
  -909622130,
  -1031181707,
  -1904641804,
  1480485785,
  -1183720153,
  -514869570,
  -2001922064,
  548169417,
  -835013507,
  -548792221,
  439452389,
  1362321559,
  1400849762,
  1685577905,
  1806599355,
  -2120213250,
  137073913,
  1214797936,
  1174215055,
  -563312748,
  2079897426,
  1943217067,
  1258480242,
  529487843,
  1437280870,
  -349698126,
  -1245576401,
  -981755258,
  923313619,
  679998000,
  -1079659997,
  57326082,
  377642221,
  -820237430,
  2041877159,
  133361907,
  1776460110,
  -621490843,
  96392454,
  878845905,
  -1493267772,
  777231668,
  -212492126,
  -1964953083,
  -152341084,
  -2081670901,
  1626319424,
  1906247262,
  1846563261,
  562755902,
  -586793578,
  1040559837,
  -423803315,
  1418573201,
  -1000536719,
  114585348,
  1343618912,
  -1728371687,
  -1108764714,
  1078185097,
  -643926169,
  -398279248,
  -1987344377,
  425408743,
  -923870343,
  2081048481,
  1108339068,
  -2078357000,
  0,
  -2138668279,
  736970802,
  292596766,
  1517440620,
  251657213,
  -2059905521,
  -1361764803,
  758720310,
  265905162,
  1554391400,
  1532285339,
  908999204,
  174567692,
  1474760595,
  -292105548,
  -1684955621,
  -1060810880,
  -601841055,
  2001430874,
  303699484,
  -1816524062,
  -1607801408,
  585122620,
  454499602,
  151849742,
  -1949848078,
  -1230456531,
  514443284,
  -249985705,
  1963412655,
  -1713521682,
  2137062819,
  19308535,
  1928707164,
  1715193156,
  -75615141,
  1126790795,
  600235211,
  -302225226,
  -453942344,
  836553431,
  1669664834,
  -1759363053,
  -971956092,
  1243905413,
  -1153566510,
  -114159186,
  698445255,
  -1641067747,
  -1305414692,
  -2041385971,
  -1042034569,
  -1290376149,
  1891211689,
  -1807156719,
  -379313593,
  -57883480,
  -264299872,
  2100090966,
  865136418,
  1229899655,
  953270745,
  -895287668,
  -737462632,
  -176042074,
  2061379749,
  -1215420710,
  -1379949505,
  983426092,
  2022837584,
  1607244650,
  2118541908,
  -1928084746,
  -658970480,
  972512814,
  -1011878526,
  1568718495,
  -795640727,
  -718427793,
  621982671,
  -1399243832,
  410887952,
  -1671205144,
  1002142683,
  645401037,
  1494807662,
  -1699282452,
  1335535747,
  -1787927066,
  -1671510,
  -1127282655,
  367585007,
  -409216582,
  1865862730,
  -1626745622,
  -1333995991,
  -1531793615,
  1059270954,
  -1517014842,
  -1570324427,
  1320957812,
  -2100648196,
  -1865371424,
  -1479011021,
  77089521,
  -321194175,
  -850391425,
  -1846137065,
  1305906550,
  -273658557,
  -1437772596,
  -1778065436,
  -776608866,
  1787304780,
  740276417,
  1699839814,
  1592394909,
  -1942659839,
  -2022411270,
  188821243,
  1729977011,
  -606973294,
  274084841,
  -699985043,
  -681472870,
  -1593017801,
  -132870567,
  322734571,
  -1457000754,
  1640576439,
  484830689,
  1202797690,
  -757114468,
  -227328171,
  349075736,
  -952647821,
  -137500077,
  -39167137,
  1030690015,
  1155237496,
  -1342996022,
  1757691577,
  607398968,
  -1556062270,
  499347990,
  -500888388,
  1011452712,
  227885567,
  -1476300487,
  213114376,
  -1260086056,
  1455525988,
  -880516741,
  850817237,
  1817998408,
  -1202240816
}; // idb
int dword_4D0708[256] =
{
  1375731712,
  150994944,
  1778384896,
  -721420288,
  805306368,
  905969664,
  -1526726656,
  939524096,
  -1090519040,
  1073741824,
  -1560281088,
  -1644167168,
  -2130706432,
  -218103808,
  -687865856,
  -83886080,
  2080374784,
  -486539264,
  956301312,
  -2113929216,
  -1694498816,
  788529152,
  -16777216,
  -2030043136,
  872415232,
  -1912602624,
  1124073472,
  1140850688,
  -1006632960,
  -570425344,
  -385875968,
  -889192448,
  1409286144,
  2063597568,
  -1811939328,
  838860800,
  -1509949440,
  -1040187392,
  587202560,
  1023410176,
  -301989888,
  1275068416,
  -1795162112,
  184549376,
  1107296256,
  -100663296,
  -1023410176,
  1308622848,
  134217728,
  771751936,
  -1593835520,
  1711276032,
  671088640,
  -654311424,
  603979776,
  -1308622848,
  1979711488,
  1526726656,
  -1577058304,
  1224736768,
  1828716544,
  -1962934272,
  -788529152,
  620756992,
  1912602624,
  -134217728,
  -167772160,
  1677721600,
  -2046820352,
  1744830464,
  -1744830464,
  369098752,
  -738197504,
  -1543503872,
  1543503872,
  -872415232,
  1560281088,
  1694498816,
  -1241513984,
  -1845493760,
  1811939328,
  1879048192,
  1207959552,
  1342177280,
  -50331648,
  -318767104,
  -1191182336,
  -637534208,
  1577058304,
  352321536,
  1174405120,
  1459617792,
  -1493172224,
  -1929379840,
  -1660944384,
  -2080374784,
  -1879048192,
  -671088640,
  -1426063360,
  0,
  -1946157056,
  -1140850688,
  -754974720,
  167772160,
  -150994944,
  -469762048,
  1476395008,
  83886080,
  -1207959552,
  -1291845632,
  1157627904,
  100663296,
  -805306368,
  738197504,
  503316480,
  -1895825408,
  -905969664,
  1056964608,
  251658240,
  33554432,
  -1056964608,
  -1358954496,
  -1124073472,
  50331648,
  16777216,
  318767104,
  -1979711488,
  1795162112,
  973078528,
  -1862270976,
  285212672,
  1090519040,
  1325400064,
  1728053248,
  -603979776,
  -369098752,
  -1761607680,
  -234881024,
  -822083584,
  -838860800,
  -268435456,
  -1275068416,
  -436207616,
  1929379840,
  -1778384896,
  -1409286144,
  1946157056,
  570425344,
  -419430400,
  -1392508928,
  889192448,
  -2063597568,
  -503316480,
  -117440512,
  922746880,
  -402653184,
  469762048,
  1962934272,
  -553648128,
  1845493760,
  1191182336,
  -251658240,
  436207616,
  1895825408,
  486539264,
  687865856,
  -989855744,
  -1996488704,
  1862270976,
  -1224736768,
  1644167168,
  234881024,
  -1442840576,
  402653184,
  -1107296256,
  452984832,
  -67108864,
  1442840576,
  1040187392,
  1258291200,
  -973078528,
  -771751936,
  2030043136,
  536870912,
  -1711276032,
  -620756992,
  -1073741824,
  -33554432,
  2013265920,
  -855638016,
  1509949440,
  -201326592,
  520093696,
  -587202560,
  -1476395008,
  855638016,
  -2013265920,
  117440512,
  -956301312,
  822083584,
  -1325400064,
  301989888,
  268435456,
  1493172224,
  654311424,
  2147483648,
  -335544320,
  1593835520,
  1610612736,
  1358954496,
  2130706432,
  -1459617792,
  419430400,
  -1258291200,
  1241513984,
  218103808,
  754974720,
  -452984832,
  2046820352,
  -1627389952,
  -1828716544,
  -922746880,
  -1677721600,
  -285212672,
  -1610612736,
  -536870912,
  989855744,
  1291845632,
  -1375731712,
  704643072,
  -184549376,
  -1342177280,
  -939524096,
  -352321536,
  -1157627904,
  1006632960,
  -2097152000,
  1392508928,
  -1728053248,
  1627389952,
  385875968,
  721420288,
  67108864,
  2113929216,
  -1174405120,
  1996488704,
  -704643072,
  637534208,
  -520093696,
  1761607680,
  335544320,
  1660944384,
  1426063360,
  553648128,
  201326592,
  2097152000
}; // idb
int dword_4D0B08[256] =
{
  5373952,
  589824,
  6946816,
  13959168,
  3145728,
  3538944,
  10813440,
  3670016,
  12517376,
  4194304,
  10682368,
  10354688,
  8454144,
  15925248,
  14090240,
  16449536,
  8126464,
  14876672,
  3735552,
  8519680,
  10158080,
  3080192,
  16711680,
  8847360,
  3407872,
  9306112,
  4390912,
  4456448,
  12845056,
  14548992,
  15269888,
  13303808,
  5505024,
  8060928,
  9699328,
  3276800,
  10878976,
  12713984,
  2293760,
  3997696,
  15597568,
  4980736,
  9764864,
  720896,
  4325376,
  16384000,
  12779520,
  5111808,
  524288,
  3014656,
  10551296,
  6684672,
  2621440,
  14221312,
  2359296,
  11665408,
  7733248,
  5963776,
  10616832,
  4784128,
  7143424,
  9109504,
  13697024,
  2424832,
  7471104,
  16252928,
  16121856,
  6553600,
  8781824,
  6815744,
  9961472,
  1441792,
  13893632,
  10747904,
  6029312,
  13369344,
  6094848,
  6619136,
  11927552,
  9568256,
  7077888,
  7340032,
  4718592,
  5242880,
  16580608,
  15532032,
  12124160,
  14286848,
  6160384,
  1376256,
  4587520,
  5701632,
  10944512,
  9240576,
  10289152,
  8650752,
  9437184,
  14155776,
  11206656,
  0,
  9175040,
  12320768,
  13828096,
  655360,
  16187392,
  14942208,
  5767168,
  327680,
  12058624,
  11730944,
  4521984,
  393216,
  13631488,
  2883584,
  1966080,
  9371648,
  13238272,
  4128768,
  983040,
  131072,
  12648448,
  11468800,
  12386304,
  196608,
  65536,
  1245184,
  9043968,
  7012352,
  3801088,
  9502720,
  1114112,
  4259840,
  5177344,
  6750208,
  14417920,
  15335424,
  9895936,
  15859712,
  13565952,
  13500416,
  15728640,
  11796480,
  15073280,
  7536640,
  9830400,
  11272192,
  7602176,
  2228224,
  15138816,
  11337728,
  3473408,
  8716288,
  14811136,
  16318464,
  3604480,
  15204352,
  1835008,
  7667712,
  14614528,
  7208960,
  4653056,
  15794176,
  1703936,
  7405568,
  1900544,
  2686976,
  12910592,
  8978432,
  7274496,
  11993088,
  6422528,
  917504,
  11141120,
  1572864,
  12451840,
  1769472,
  16515072,
  5636096,
  4063232,
  4915200,
  12976128,
  13762560,
  7929856,
  2097152,
  10092544,
  14352384,
  12582912,
  16646144,
  7864320,
  13434880,
  5898240,
  15990784,
  2031616,
  14483456,
  11010048,
  3342336,
  8912896,
  458752,
  13041664,
  3211264,
  11599872,
  1179648,
  1048576,
  5832704,
  2555904,
  8388608,
  15466496,
  6225920,
  6291456,
  5308416,
  8323072,
  11075584,
  1638400,
  11862016,
  4849664,
  851968,
  2949120,
  15007744,
  7995392,
  10420224,
  9633792,
  13172736,
  10223616,
  15663104,
  10485760,
  14680064,
  3866624,
  5046272,
  11403264,
  2752512,
  16056320,
  11534336,
  13107200,
  15400960,
  12255232,
  3932160,
  8585216,
  5439488,
  10027008,
  6356992,
  1507328,
  2818048,
  262144,
  8257536,
  12189696,
  7798784,
  14024704,
  2490368,
  14745600,
  6881280,
  1310720,
  6488064,
  5570560,
  2162688,
  786432,
  8192000
}; // idb
int dword_4D0F08[256] =
{
  20992,
  2304,
  27136,
  54528,
  12288,
  13824,
  42240,
  14336,
  48896,
  16384,
  41728,
  40448,
  33024,
  62208,
  55040,
  64256,
  31744,
  58112,
  14592,
  33280,
  39680,
  12032,
  65280,
  34560,
  13312,
  36352,
  17152,
  17408,
  50176,
  56832,
  59648,
  51968,
  21504,
  31488,
  37888,
  12800,
  42496,
  49664,
  8960,
  15616,
  60928,
  19456,
  38144,
  2816,
  16896,
  64000,
  49920,
  19968,
  2048,
  11776,
  41216,
  26112,
  10240,
  55552,
  9216,
  45568,
  30208,
  23296,
  41472,
  18688,
  27904,
  35584,
  53504,
  9472,
  29184,
  63488,
  62976,
  25600,
  34304,
  26624,
  38912,
  5632,
  54272,
  41984,
  23552,
  52224,
  23808,
  25856,
  46592,
  37376,
  27648,
  28672,
  18432,
  20480,
  64768,
  60672,
  47360,
  55808,
  24064,
  5376,
  17920,
  22272,
  42752,
  36096,
  40192,
  33792,
  36864,
  55296,
  43776,
  0,
  35840,
  48128,
  54016,
  2560,
  63232,
  58368,
  22528,
  1280,
  47104,
  45824,
  17664,
  1536,
  53248,
  11264,
  7680,
  36608,
  51712,
  16128,
  3840,
  512,
  49408,
  44800,
  48384,
  768,
  256,
  4864,
  35328,
  27392,
  14848,
  37120,
  4352,
  16640,
  20224,
  26368,
  56320,
  59904,
  38656,
  61952,
  52992,
  52736,
  61440,
  46080,
  58880,
  29440,
  38400,
  44032,
  29696,
  8704,
  59136,
  44288,
  13568,
  34048,
  57856,
  63744,
  14080,
  59392,
  7168,
  29952,
  57088,
  28160,
  18176,
  61696,
  6656,
  28928,
  7424,
  10496,
  50432,
  35072,
  28416,
  46848,
  25088,
  3584,
  43520,
  6144,
  48640,
  6912,
  64512,
  22016,
  15872,
  19200,
  50688,
  53760,
  30976,
  8192,
  39424,
  56064,
  49152,
  65024,
  30720,
  52480,
  23040,
  62464,
  7936,
  56576,
  43008,
  13056,
  34816,
  1792,
  50944,
  12544,
  45312,
  4608,
  4096,
  22784,
  9984,
  32768,
  60416,
  24320,
  24576,
  20736,
  32512,
  43264,
  6400,
  46336,
  18944,
  3328,
  11520,
  58624,
  31232,
  40704,
  37632,
  51456,
  39936,
  61184,
  40960,
  57344,
  15104,
  19712,
  44544,
  10752,
  62720,
  45056,
  51200,
  60160,
  47872,
  15360,
  33536,
  21248,
  39168,
  24832,
  5888,
  11008,
  1024,
  32256,
  47616,
  30464,
  54784,
  9728,
  57600,
  26880,
  5120,
  25344,
  21760,
  8448,
  3072,
  32000
}; // idb
int dword_4D1308[256] =
{
  82,
  9,
  106,
  213,
  48,
  54,
  165,
  56,
  191,
  64,
  163,
  158,
  129,
  243,
  215,
  251,
  124,
  227,
  57,
  130,
  155,
  47,
  255,
  135,
  52,
  142,
  67,
  68,
  196,
  222,
  233,
  203,
  84,
  123,
  148,
  50,
  166,
  194,
  35,
  61,
  238,
  76,
  149,
  11,
  66,
  250,
  195,
  78,
  8,
  46,
  161,
  102,
  40,
  217,
  36,
  178,
  118,
  91,
  162,
  73,
  109,
  139,
  209,
  37,
  114,
  248,
  246,
  100,
  134,
  104,
  152,
  22,
  212,
  164,
  92,
  204,
  93,
  101,
  182,
  146,
  108,
  112,
  72,
  80,
  253,
  237,
  185,
  218,
  94,
  21,
  70,
  87,
  167,
  141,
  157,
  132,
  144,
  216,
  171,
  0,
  140,
  188,
  211,
  10,
  247,
  228,
  88,
  5,
  184,
  179,
  69,
  6,
  208,
  44,
  30,
  143,
  202,
  63,
  15,
  2,
  193,
  175,
  189,
  3,
  1,
  19,
  138,
  107,
  58,
  145,
  17,
  65,
  79,
  103,
  220,
  234,
  151,
  242,
  207,
  206,
  240,
  180,
  230,
  115,
  150,
  172,
  116,
  34,
  231,
  173,
  53,
  133,
  226,
  249,
  55,
  232,
  28,
  117,
  223,
  110,
  71,
  241,
  26,
  113,
  29,
  41,
  197,
  137,
  111,
  183,
  98,
  14,
  170,
  24,
  190,
  27,
  252,
  86,
  62,
  75,
  198,
  210,
  121,
  32,
  154,
  219,
  192,
  254,
  120,
  205,
  90,
  244,
  31,
  221,
  168,
  51,
  136,
  7,
  199,
  49,
  177,
  18,
  16,
  89,
  39,
  128,
  236,
  95,
  96,
  81,
  127,
  169,
  25,
  181,
  74,
  13,
  45,
  229,
  122,
  159,
  147,
  201,
  156,
  239,
  160,
  224,
  59,
  77,
  174,
  42,
  245,
  176,
  200,
  235,
  187,
  60,
  131,
  83,
  153,
  97,
  23,
  43,
  4,
  126,
  186,
  119,
  214,
  38,
  225,
  105,
  20,
  99,
  85,
  33,
  12,
  125
}; // idb
int dword_4D1708[256] =
{
  0,
  235474187,
  470948374,
  303765277,
  941896748,
  908933415,
  607530554,
  708780849,
  1883793496,
  2118214995,
  1817866830,
  1649639237,
  1215061108,
  1181045119,
  1417561698,
  1517767529,
  -527380304,
  -291906117,
  -58537306,
  -225720403,
  -659233636,
  -692196969,
  -995688822,
  -894438527,
  -1864845080,
  -1630423581,
  -1932877058,
  -2101104651,
  -1459843900,
  -1493859889,
  -1259432238,
  -1159226407,
  -616842373,
  -718096784,
  -953573011,
  -920605594,
  -484470953,
  -317291940,
  -15887039,
  -251357110,
  -1418472669,
  -1518674392,
  -1218328267,
  -1184316354,
  -1822955761,
  -1654724092,
  -1891238631,
  -2125664238,
  1001089995,
  899835584,
  666464733,
  699432150,
  59727847,
  226906860,
  530400753,
  294930682,
  1273168787,
  1172967064,
  1475418501,
  1509430414,
  1942435775,
  2110667444,
  1876241833,
  1641816226,
  -1384747530,
  -1551933187,
  -1318815776,
  -1083344149,
  -1789765158,
  -1688513327,
  -1992277044,
  -2025238841,
  -583137874,
  -751368027,
  -1054072904,
  -819653965,
  -451268222,
  -351060855,
  -116905068,
  -150919521,
  1306967366,
  1139781709,
  1374988112,
  1610459739,
  1975683434,
  2076935265,
  1775276924,
  1742315127,
  1034867998,
  866637845,
  566021896,
  800440835,
  92987698,
  193195065,
  429456164,
  395441711,
  1984812685,
  2017778566,
  1784663195,
  1683407248,
  1315562145,
  1080094634,
  1383856311,
  1551037884,
  101039829,
  135050206,
  437757123,
  337553864,
  1042385657,
  807962610,
  573804783,
  742039012,
  -1763899843,
  -1730933962,
  -1966138325,
  -2067394272,
  -1359400431,
  -1594867942,
  -1293211641,
  -1126030068,
  -426414491,
  -392404114,
  -91786125,
  -191989384,
  -558802359,
  -793225406,
  -1029488545,
  -861254316,
  1106041591,
  1340463100,
  1576976609,
  1408749034,
  2043211483,
  2009195472,
  1708848333,
  1809054150,
  832877231,
  1068351396,
  766945465,
  599762354,
  159417987,
  126454664,
  361929877,
  463180190,
  -1585706425,
  -1351284916,
  -1116860335,
  -1285087910,
  -1722270101,
  -1756286112,
  -2058738563,
  -1958532746,
  -785096161,
  -549621996,
  -853116919,
  -1020300030,
  -384805325,
  -417768648,
  -184398811,
  -83148498,
  -1697160820,
  -1797362553,
  -2033878118,
  -1999866223,
  -1561111136,
  -1392879445,
  -1092530250,
  -1326955843,
  -358676012,
  -459930401,
  -158526526,
  -125559095,
  -759480840,
  -592301837,
  -827774994,
  -1063245083,
  2051518780,
  1951317047,
  1716890410,
  1750902305,
  1113818384,
  1282050075,
  1584504582,
  1350078989,
  168810852,
  67556463,
  371049330,
  404016761,
  841739592,
  1008918595,
  775550814,
  540080725,
  -325404927,
  -493635062,
  -259478249,
  -25059300,
  -725712083,
  -625504730,
  -928212677,
  -962227152,
  -1663901863,
  -1831087534,
  -2134850225,
  -1899378620,
  -1527321739,
  -1426069890,
  -1192955549,
  -1225917336,
  202008497,
  33778362,
  270040487,
  504459436,
  875451293,
  975658646,
  675039627,
  641025152,
  2084704233,
  1917518562,
  1615861247,
  1851332852,
  1147550661,
  1248802510,
  1484005843,
  1451044056,
  933301370,
  967311729,
  733156972,
  632953703,
  260388950,
  25965917,
  328671808,
  496906059,
  1206477858,
  1239443753,
  1543208500,
  1441952575,
  2144161806,
  1908694277,
  1675577880,
  1842759443,
  -684598070,
  -650587711,
  -886847780,
  -987051049,
  -283776794,
  -518199827,
  -217582864,
  -49348613,
  -1485196142,
  -1452230247,
  -1150570876,
  -1251826801,
  -1621262146,
  -1856729675,
  -2091935064,
  -1924753501
}; // idb
int dword_4D1B08[256] =
{
  0,
  185469197,
  370938394,
  487725847,
  741876788,
  657861945,
  975451694,
  824852259,
  1483753576,
  1400783205,
  1315723890,
  1164071807,
  1950903388,
  2135319889,
  1649704518,
  1767536459,
  -1327460144,
  -1141990947,
  -1493400886,
  -1376613433,
  -1663519516,
  -1747534359,
  -1966823682,
  -2117423117,
  -393160520,
  -476130891,
  -24327518,
  -175979601,
  -995558260,
  -811141759,
  -759894378,
  -642062437,
  2077965243,
  1893020342,
  1841768865,
  1724457132,
  1474502543,
  1559041666,
  1107234197,
  1257309336,
  598438867,
  681933534,
  901210569,
  1052338372,
  261314535,
  77422314,
  428819965,
  310463728,
  -885281941,
  -1070226842,
  -584599183,
  -701910916,
  -419197089,
  -334657966,
  -249586363,
  -99511224,
  -1823743229,
  -1740248562,
  -2057834215,
  -1906706412,
  -1082931401,
  -1266823622,
  -1452288723,
  -1570644960,
  -156404115,
  -39616672,
  -525245321,
  -339776134,
  -627748263,
  -778347692,
  -863420349,
  -947435186,
  -1361232379,
  -1512884472,
  -1195299809,
  -1278270190,
  -2098914767,
  -1981082820,
  -1795618773,
  -1611202266,
  1179510461,
  1296297904,
  1347548327,
  1533017514,
  1786102409,
  1635502980,
  2087309459,
  2003294622,
  507358933,
  355706840,
  136428751,
  53458370,
  839224033,
  957055980,
  605657339,
  790073846,
  -1921626666,
  -2038938405,
  -1687527476,
  -1872472383,
  -1588696606,
  -1438621457,
  -1219331080,
  -1134791947,
  -721025602,
  -569897805,
  -1021700188,
  -938205527,
  -113368694,
  -231724921,
  -282971248,
  -466863459,
  1033297158,
  915985419,
  730517276,
  545572369,
  296679730,
  446754879,
  129166120,
  213705253,
  1709610350,
  1860738147,
  1945798516,
  2029293177,
  1239331162,
  1120974935,
  1606591296,
  1422699085,
  -146674470,
  -61872681,
  -513933632,
  -363595827,
  -612775698,
  -797457949,
  -848962828,
  -966011911,
  -1355701070,
  -1539330625,
  -1188186456,
  -1306280027,
  -2096529274,
  -2012771957,
  -1793748324,
  -1642357871,
  1201765386,
  1286567175,
  1371368976,
  1521706781,
  1805211710,
  1620529459,
  2105887268,
  1988838185,
  533804130,
  350174575,
  164439672,
  46346101,
  870912086,
  954669403,
  636813900,
  788204353,
  -1936009375,
  -2020286868,
  -1702443653,
  -1853305738,
  -1599933611,
  -1414727080,
  -1229004465,
  -1112479678,
  -722821367,
  -538667516,
  -1024029421,
  -906460130,
  -120407235,
  -203640272,
  -288446169,
  -440360918,
  1014646705,
  930369212,
  711349675,
  560487590,
  272786309,
  457992840,
  106852767,
  223377554,
  1678381017,
  1862534868,
  1914052035,
  2031621326,
  1211247597,
  1128014560,
  1580087799,
  1428173050,
  32283319,
  182621114,
  401639597,
  486441376,
  768917123,
  651868046,
  1003007129,
  818324884,
  1503449823,
  1385356242,
  1333838021,
  1150208456,
  1973745387,
  2125135846,
  1673061617,
  1756818940,
  -1324610969,
  -1174273174,
  -1492117379,
  -1407315600,
  -1657524653,
  -1774573730,
  -1960297399,
  -2144979644,
  -377732593,
  -495826174,
  -10465259,
  -194094824,
  -985373125,
  -833982666,
  -749177823,
  -665420500,
  2050466060,
  1899603969,
  1814803222,
  1730525723,
  1443857720,
  1560382517,
  1075025698,
  1260232239,
  575138148,
  692707433,
  878443390,
  1062597235,
  243256656,
  91341917,
  409198410,
  325965383,
  -891866660,
  -1042728751,
  -590666810,
  -674944309,
  -420538904,
  -304014107,
  -252508174,
  -67301633,
  -1834518092,
  -1716948807,
  -2068091986,
  -1883938141,
  -1096852096,
  -1248766835,
  -1467789414,
  -1551022441
}; // idb
int dword_4D1F08[256] =
{
  0,
  218828297,
  437656594,
  387781147,
  875313188,
  958871085,
  775562294,
  590424639,
  1750626376,
  1699970625,
  1917742170,
  2135253587,
  1551124588,
  1367295589,
  1180849278,
  1265195639,
  -793714544,
  -574886247,
  -895026046,
  -944901493,
  -459482956,
  -375925059,
  -24460122,
  -209597777,
  -1192718120,
  -1243373871,
  -1560376118,
  -1342864701,
  -1933268740,
  -2117097739,
  -1764576018,
  -1680229657,
  -1149510853,
  -1234119374,
  -1586641111,
  -1402549984,
  -1890065633,
  -2107839210,
  -1790836979,
  -1739919100,
  -752637069,
  -567761542,
  -919226527,
  -1002522264,
  -418409641,
  -368796322,
  -48656571,
  -267222708,
  1808481195,
  1723872674,
  1910319033,
  2094410160,
  1608975247,
  1391201670,
  1173430173,
  1224348052,
  59984867,
  244860394,
  428169201,
  344873464,
  935293895,
  984907214,
  766078933,
  547512796,
  1844882806,
  1627235199,
  2011214180,
  2062270317,
  1507497298,
  1423022939,
  1137477952,
  1321699145,
  95345982,
  145085239,
  532201772,
  313773861,
  830661914,
  1015671571,
  731183368,
  648017665,
  -1119466010,
  -1337113617,
  -1487908364,
  -1436852227,
  -1989511742,
  -2073986101,
  -1820562992,
  -1636341799,
  -719438418,
  -669699161,
  -821550660,
  -1039978571,
  -516815478,
  -331805821,
  -81520232,
  -164685935,
  -695372211,
  -611944380,
  -862229921,
  -1047501738,
  -492745111,
  -274055072,
  -122203525,
  -172204942,
  -1093335547,
  -1277294580,
  -1530717673,
  -1446505442,
  -1963377119,
  -2014171096,
  -1863376333,
  -1645990854,
  104699613,
  188127444,
  472615631,
  287343814,
  840019705,
  1058709744,
  671593195,
  621591778,
  1852171925,
  1668212892,
  1953757831,
  2037970062,
  1514790577,
  1463996600,
  1080017571,
  1297403050,
  -621329940,
  -671330331,
  -1058972162,
  -840281097,
  -287606328,
  -472877119,
  -187865638,
  -104436781,
  -1297141340,
  -1079754835,
  -1464259146,
  -1515052097,
  -2038232704,
  -1954019447,
  -1667951214,
  -1851909221,
  172466556,
  122466165,
  273792366,
  492483431,
  1047239000,
  861968209,
  612205898,
  695634755,
  1646252340,
  1863638845,
  2013908262,
  1963115311,
  1446242576,
  1530455833,
  1277555970,
  1093597963,
  1636604631,
  1820824798,
  2073724613,
  1989249228,
  1436590835,
  1487645946,
  1337376481,
  1119727848,
  164948639,
  81781910,
  331544205,
  516552836,
  1039717051,
  821288114,
  669961897,
  719700128,
  -1321436601,
  -1137216434,
  -1423284651,
  -1507760036,
  -2062531997,
  -2011476886,
  -1626972559,
  -1844621192,
  -647755249,
  -730921978,
  -1015933411,
  -830924780,
  -314035669,
  -532464606,
  -144822727,
  -95084496,
  -1224610662,
  -1173691757,
  -1390940024,
  -1608712575,
  -2094148418,
  -1910056265,
  -1724135252,
  -1808742747,
  -547775278,
  -766340389,
  -984645440,
  -935031095,
  -344611594,
  -427906305,
  -245122844,
  -60246291,
  1739656202,
  1790575107,
  2108100632,
  1890328081,
  1402811438,
  1586903591,
  1233856572,
  1149249077,
  266959938,
  48394827,
  369057872,
  418672217,
  1002783846,
  919489135,
  567498868,
  752375421,
  209336225,
  24197544,
  376187827,
  459744698,
  945164165,
  895287692,
  574624663,
  793451934,
  1679968233,
  1764313568,
  2117360635,
  1933530610,
  1343127501,
  1560637892,
  1243112415,
  1192455638,
  -590686415,
  -775825096,
  -958608605,
  -875051734,
  -387518699,
  -437395172,
  -219090169,
  -262898,
  -1265457287,
  -1181111952,
  -1367032981,
  -1550863006,
  -2134991011,
  -1917480620,
  -1700232369,
  -1750889146
}; // idb
int dword_4D2308[257] =
{
  0,
  151849742,
  303699484,
  454499602,
  607398968,
  758720310,
  908999204,
  1059270954,
  1214797936,
  1097159550,
  1517440620,
  1400849762,
  1817998408,
  1699839814,
  2118541908,
  2001430874,
  -1865371424,
  -1713521682,
  -2100648196,
  -1949848078,
  -1260086056,
  -1108764714,
  -1493267772,
  -1342996022,
  -658970480,
  -776608866,
  -895287668,
  -1011878526,
  -57883480,
  -176042074,
  -292105548,
  -409216582,
  1002142683,
  850817237,
  698445255,
  548169417,
  529487843,
  377642221,
  227885567,
  77089521,
  1943217067,
  2061379749,
  1640576439,
  1757691577,
  1474760595,
  1592394909,
  1174215055,
  1290801793,
  -1418998981,
  -1570324427,
  -1183720153,
  -1333995991,
  -1889540349,
  -2041385971,
  -1656360673,
  -1807156719,
  -486304949,
  -368142267,
  -249985705,
  -132870567,
  -952647821,
  -835013507,
  -718427793,
  -601841055,
  1986918061,
  2137062819,
  1685577905,
  1836772287,
  1381620373,
  1532285339,
  1078185097,
  1229899655,
  1040559837,
  923313619,
  740276417,
  621982671,
  439452389,
  322734571,
  137073913,
  19308535,
  -423803315,
  -273658557,
  -190361519,
  -39167137,
  -1031181707,
  -880516741,
  -795640727,
  -643926169,
  -1361764803,
  -1479011021,
  -1127282655,
  -1245576401,
  -1964953083,
  -2081670901,
  -1728371687,
  -1846137065,
  1305906550,
  1155237496,
  1607244650,
  1455525988,
  1776460110,
  1626319424,
  2079897426,
  1928707164,
  96392454,
  213114376,
  396673818,
  514443284,
  562755902,
  679998000,
  865136418,
  983426092,
  -586793578,
  -737462632,
  -820237430,
  -971956092,
  -114159186,
  -264299872,
  -349698126,
  -500888388,
  -1787927066,
  -1671205144,
  -2022411270,
  -1904641804,
  -1319482914,
  -1202240816,
  -1556062270,
  -1437772596,
  -321194175,
  -438830001,
  -20913827,
  -137500077,
  -923870343,
  -1042034569,
  -621490843,
  -738605461,
  -1531793615,
  -1379949505,
  -1230456531,
  -1079659997,
  -2138668279,
  -1987344377,
  -1835231979,
  -1684955621,
  2081048481,
  1963412655,
  1846563261,
  1729977011,
  1480485785,
  1362321559,
  1243905413,
  1126790795,
  878845905,
  1030690015,
  645401037,
  796197571,
  274084841,
  425408743,
  38544885,
  188821243,
  -681472870,
  -563312748,
  -981755258,
  -864644728,
  -212492126,
  -94852180,
  -514869570,
  -398279248,
  -1626745622,
  -1778065436,
  -1928084746,
  -2078357000,
  -1153566510,
  -1305414692,
  -1457000754,
  -1607801408,
  1202797690,
  1320957812,
  1437280870,
  1554391400,
  1669664834,
  1787304780,
  1906247262,
  2022837584,
  265905162,
  114585348,
  499347990,
  349075736,
  736970802,
  585122620,
  972512814,
  821712160,
  -1699282452,
  -1816524062,
  -2001922064,
  -2120213250,
  -1098699308,
  -1215420710,
  -1399243832,
  -1517014842,
  -757114468,
  -606973294,
  -1060810880,
  -909622130,
  -152341084,
  -1671510,
  -453942344,
  -302225226,
  174567692,
  57326082,
  410887952,
  292596766,
  777231668,
  660510266,
  1011452712,
  893681702,
  1108339068,
  1258480242,
  1343618912,
  1494807662,
  1715193156,
  1865862730,
  1948373848,
  2100090966,
  -1593017801,
  -1476300487,
  -1290376149,
  -1172609243,
  -2059905521,
  -1942659839,
  -1759363053,
  -1641067747,
  -379313593,
  -529979063,
  -75615141,
  -227328171,
  -850391425,
  -1000536719,
  -548792221,
  -699985043,
  836553431,
  953270745,
  600235211,
  718002117,
  367585007,
  484830689,
  133361907,
  251657213,
  2041877159,
  1891211689,
  1806599355,
  1654886325,
  1568718495,
  1418573201,
  1335535747,
  1184342925,
  5061488
}; // idb
int (__stdcall *off_4D270C)(int) = &sub_40F680; // weak
int (__stdcall *std::length_error::`vftable')(int) = &sub_40F700; // weak
int (__stdcall *std::out_of_range::`vftable')(int) = &sub_4111F0; // weak
int (__stdcall *exception::`vftable')(char) = &sub_4A24AC; // weak
void (*dword_4D3C90[2])(void) = { NULL, NULL }; // idb
void (*dword_4D3C98)(void) = NULL; // idb
_ThrowInfo _TI3_AVlength_error_std__ = { 0u, &sub_40F6E0, NULL, &_CTA3_AVlength_error_std__ }; // idb
int dword_4D52FC[223] =
{
  0,
  31,
  28,
  31,
  30,
  31,
  30,
  31,
  31,
  30,
  31,
  30,
  31,
  573190714,
  34214426,
  606876732,
  67900444,
  640562750,
  101586462,
  674248768,
  135272480,
  556347705,
  17371417,
  590033723,
  51057435,
  623719741,
  84743453,
  657405759,
  118429471,
  271583272,
  541071416,
  254740263,
  524228407,
  237897254,
  507385398,
  221054245,
  490542389,
  204211236,
  473699380,
  187368227,
  456856371,
  170525218,
  440013362,
  153682209,
  423170353,
  556347705,
  17371417,
  573190714,
  34214426,
  590033723,
  51057435,
  606876732,
  657405759,
  118429471,
  640562750,
  101586462,
  623719741,
  84743453,
  67900444,
  100925953,
  235670024,
  353571087,
  471537943,
  403378446,
  469959937,
  169149967,
  67900183,
  118491162,
  34411547,
  622801961,
  673068847,
  807480627,
  942092588,
  707671330,
  538780722,
  17630222,
  134942466,
  201722371,
  117442821,
  67571456,
  17629710,
  185337354,
  134415625,
  135135492,
  184681997,
  118033423,
  330243,
  34081807,
  117508356,
  235080453,
  218497034,
  235405583,
  67308294,
  218236681,
  168099852,
  117705987,
  235405839,
  167837708,
  84609286,
  185011712,
  17630218,
  101451781,
  251790089,
  17434637,
  33820419,
  201786891,
  151913728,
  235470858,
  84869894,
  118230273,
  134349835,
  150996749,
  168166403,
  235210754,
  17763084,
  151258637,
  200456,
  201457931,
  118360581,
  854529,
  117967110,
  51252996,
  201458955,
  51252487,
  168363520,
  84410881,
  251923467,
  84609037,
  50335494,
  201459460,
  151915009,
  591370,
  218565388,
  235077903,
  67633669,
  100667139,
  135069962,
  184878089,
  235013900,
  17042434,
  101386759,
  251856136,
  151912461,
  201460494,
  17630980,
  168755205,
  101189891,
  184615428,
  134679818,
  84674831,
  234881798,
  118229003,
  218238465,
  150998790,
  50660362,
  252313868,
  134611465,
  67308800,
  184878862,
  33820426,
  84478983,
  235733254,
  134417152,
  84872713,
  51120130,
  168034311,
  101387521,
  201458436,
  168756489,
  117509643,
  218628102,
  235014916,
  218628111,
  118033411,
  17172997,
  118161421,
  167840004,
  201655054,
  101191426,
  218825729,
  235340556,
  134614794,
  34145536,
  135072518,
  118096897,
  251659529,
  201523726,
  67633677,
  17501958,
  235079946,
  118226949,
  135073537,
  67568394,
  184943884,
  34147840,
  17042183,
  34475017,
  218760704,
  134546191,
  118358274,
  218630660,
  592911,
  184943875,
  353634064,
  287050781,
  437718785,
  169808389,
  236455938,
  151198496,
  102632723,
  419695382,
  128,
  64,
  32,
  16,
  8,
  4,
  2,
  1,
  8,
  4,
  2,
  1
}; // idb
int dword_4D5678[] = { 0 }; // weak
int dword_4D567C[199] =
{
  0,
  5,
  0,
  24,
  0,
  60,
  0,
  160,
  0,
  328,
  0,
  542,
  0,
  814,
  0,
  1157,
  0,
  1588,
  0,
  2250,
  0,
  3086,
  0,
  4135,
  0,
  5444,
  0,
  7068,
  0,
  9126,
  0,
  11660,
  0,
  14769,
  0,
  18572,
  0,
  23214,
  0,
  29155,
  0,
  36409,
  0,
  45245,
  0,
  55988,
  0,
  69026,
  0,
  85569,
  0,
  105656,
  0,
  130009,
  0,
  159494,
  0,
  195150,
  0,
  238225,
  0,
  290216,
  0,
  352918,
  0,
  428488,
  0,
  519513,
  0,
  629149,
  0,
  761081,
  0,
  919784,
  0,
  1110624,
  0,
  1340045,
  0,
  1615778,
  0,
  1947099,
  0,
  2345141,
  0,
  2823265,
  0,
  3397501,
  0,
  4087087,
  0,
  4915108,
  0,
  5909267,
  0,
  7102808,
  0,
  8535623,
  0,
  10255633,
  0,
  12320243,
  0,
  14798389,
  0,
  17772795,
  0,
  21342730,
  0,
  25627317,
  0,
  30769501,
  0,
  36940820,
  0,
  44347118,
  0,
  53235407,
  0,
  63902104,
  0,
  76702906,
  0,
  92064653,
  0,
  110499551,
  0,
  132622249,
  0,
  159170373,
  0,
  191028978,
  0,
  229260177,
  0,
  275138508,
  0,
  330193415,
  0,
  396260232,
  0,
  1188853398,
  0,
  1426699190,
  0,
  1712116603,
  0,
  2054620005,
  0,
  -1829340653,
  0,
  -1336130088,
  0,
  -744274761,
  0,
  -34045671,
  0,
  818231987,
  1,
  1840968092,
  1,
  -1226713032,
  1,
  246033263,
  2,
  2013331761,
  2,
  -160874348,
  2,
  -1910925179,
  3,
  1142977669,
  4,
  512696930,
  5,
  615356692,
  6,
  1597545108,
  7,
  -659799336,
  8,
  -1650622408,
  10,
  -1121619783,
  12,
  1231173733,
  15,
  1477549070,
  18,
  55216106,
  22,
  1784393987,
  26,
  -1294549657,
  31,
  164682435,
  38,
  -1520209136,
  45
}; // idb
_DWORD dword_4D5998[8] = { 1, 100, 0, 249185, 259478, 1, -1, 0 }; // idb
int dword_4D59B8[36] =
{
  1,
  101,
  0,
  249575,
  257781,
  1,
  -1,
  1,
  101,
  0,
  250333,
  258664,
  1,
  0,
  1,
  101,
  0,
  248538,
  261538,
  0,
  1,
  1,
  101,
  0,
  248775,
  263384,
  2,
  1,
  1,
  101,
  0,
  252583,
  262508,
  2,
  1,
  0
}; // idb
_DWORD dword_4D5A48[70] =
{
  1,
  217,
  0,
  252436,
  262389,
  0,
  0,
  1,
  218,
  0,
  252631,
  262541,
  0,
  0,
  1,
  223,
  0,
  248643,
  263282,
  0,
  0,
  1,
  224,
  0,
  248797,
  263420,
  0,
  0,
  1,
  225,
  0,
  249578,
  257960,
  0,
  0,
  1,
  226,
  0,
  249578,
  257724,
  0,
  0,
  1,
  227,
  0,
  250135,
  258657,
  0,
  0,
  1,
  228,
  0,
  250372,
  258672,
  0,
  0,
  1,
  229,
  0,
  248544,
  261024,
  0,
  0,
  1,
  230,
  0,
  248532,
  261576,
  0,
  0
}; // idb
int dword_4D5B60[] = { 1 }; // weak
int dword_4D5B64[] = { 0 }; // weak
int dword_4D5B68[] = { 245760 }; // weak
int dword_4D5B6C[] = { 266592 }; // weak
int dword_4D5B70[] = { 254560 }; // weak
int dword_4D5B74[] = { 254144 }; // weak
int dword_4D5B78[] = { 0 }; // weak
volatile LONG g_nEnable = 1; // idb
volatile LONG g_bRaise = 1; // idb
volatile LONG dword_4D5B84 = -1; // idb
int dword_4D5B88[24] =
{
  10000000,
  10000000,
  10000000,
  10000000,
  9200000,
  8200000,
  7000000,
  5600000,
  4000000,
  3200000,
  1200000,
  600000,
  400000,
  100000,
  50000,
  10000,
  1000,
  100,
  10,
  10,
  10,
  10,
  10,
  10
}; // idb
int dword_4D5BE8[24] =
{
  10000000,
  8900000,
  5300000,
  3700000,
  1900000,
  1400000,
  800000,
  300000,
  50000,
  10000,
  1000,
  100,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10
}; // idb
int dword_4D5C48[24] =
{
  10000000,
  6700000,
  3800000,
  1500000,
  900000,
  50000,
  10000,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10,
  10
}; // idb
int dword_4D5CA8[102] =
{
  0,
  7680,
  9120,
  11520,
  14880,
  19200,
  24480,
  30720,
  37920,
  46080,
  55200,
  65280,
  76320,
  88320,
  101280,
  115200,
  130080,
  145920,
  162720,
  180480,
  199200,
  218880,
  239520,
  261120,
  283680,
  307200,
  331680,
  357120,
  383520,
  410880,
  439200,
  468480,
  498720,
  529920,
  562080,
  595200,
  629280,
  664320,
  700320,
  737280,
  775200,
  814080,
  853920,
  894720,
  936480,
  979200,
  1022880,
  1067520,
  1113120,
  1159680,
  1207200,
  1255680,
  1305120,
  1355520,
  1406880,
  1459200,
  1512480,
  1566720,
  1621920,
  1678080,
  1735200,
  1793280,
  1852320,
  1912320,
  1973280,
  2035200,
  2098080,
  2161920,
  2226720,
  2292480,
  2359200,
  2426880,
  2495520,
  2565120,
  2635680,
  2707200,
  2779680,
  2853120,
  2927520,
  3002880,
  3079200,
  3156480,
  3234720,
  3313920,
  3394080,
  3475200,
  3557280,
  3640320,
  3724320,
  3809280,
  3895200,
  3982080,
  4069920,
  4158720,
  4248480,
  4339200,
  4430880,
  4523520,
  4617120,
  4711680,
  4807200,
  0
}; // idb
int dword_4D5E40[20] = { 50, 46, 42, 38, 34, 30, 26, 22, 18, 14, 10, 8, 6, 4, 2, 1, 1, 1, 1, 1 }; // idb
int dword_4D5E90[22] = { 50, 40, 30, 20, 15, 10, 8, 6, 4, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0 }; // idb
int dword_4D5EE8[20] = { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 3, 3, 4, 5, 6 }; // idb
int dword_4D5F38[22] =
{
  5,
  6,
  6,
  7,
  7,
  8,
  8,
  9,
  10,
  11,
  13,
  15,
  18,
  21,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  0
}; // idb
int dword_4D5F90[22] =
{
  0,
  0,
  0,
  1,
  1,
  2,
  2,
  3,
  4,
  5,
  6,
  10,
  18,
  29,
  74,
  100,
  100,
  100,
  100,
  100,
  100,
  0
}; // idb
int dword_4D5FE8[21] = { 0, 0, 0, 0, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4 }; // idb
int dword_4D603C[11] = { 0, 0, 0, 1, 3, 5, 8, 14, 29, 50, 100 }; // idb
int dword_4D6068[10] = { 10, 20, 20, 20, 20, 20, 20, 20, 20, 20 }; // idb
int dword_4D6090[] = { 2 }; // weak
int dword_4D60A4[] = { 30 }; // weak
int dword_4D60A8[] = { 4 }; // weak
int dword_4D60AC[] = { 1 }; // weak
int dword_4D60B0[] = { 36 }; // weak
int dword_4D60B4[] = { 45 }; // weak
int dword_4D60B8[122] =
{
  60,
  3,
  3,
  0,
  0,
  4,
  40,
  4,
  1,
  45,
  45,
  60,
  4,
  2,
  0,
  0,
  6,
  20,
  3,
  1,
  45,
  54,
  80,
  4,
  3,
  0,
  0,
  3,
  30,
  3,
  1,
  54,
  54,
  80,
  4,
  6,
  0,
  0,
  2,
  40,
  4,
  1,
  18,
  36,
  100,
  3,
  4,
  0,
  0,
  3,
  50,
  4,
  1,
  27,
  45,
  100,
  0,
  6,
  2,
  0,
  4,
  20,
  1,
  4,
  27,
  18,
  80,
  0,
  4,
  3,
  0,
  3,
  30,
  1,
  4,
  36,
  27,
  80,
  0,
  4,
  2,
  6,
  0,
  30,
  1,
  3,
  27,
  18,
  100,
  0,
  0,
  3,
  4,
  3,
  40,
  1,
  3,
  36,
  27,
  120,
  4,
  4,
  0,
  6,
  4,
  40,
  4,
  1,
  45,
  45,
  80,
  0,
  4,
  4,
  6,
  4,
  40,
  1,
  4,
  36,
  36,
  100
}; // idb
CLink *pLink = (CLink *)0xFF0000; // idb
char *off_4D62AC = &Source; // weak
int dword_4D62B0[] = { 55364 }; // weak
int dword_4D62B4[9] = { 8354, 55370, 9801, 56642, 11073, 59369, 9802, 59369, 8352 }; // idb
int dword_4D62D8[6] = { 1, 2, 10, 50, 300, 0 }; // idb
int Value[8] = { 761, 762, 763, 764, 765, 766, 767, 768 }; // idb
int dword_4D6310[8] = { 880, 881, 882, 0, 0, 0, 0, 0 }; // idb
int dword_4D6330[40] =
{
  883,
  884,
  885,
  886,
  0,
  0,
  0,
  0,
  239,
  10,
  266,
  5,
  239,
  10,
  267,
  2,
  239,
  10,
  268,
  1,
  240,
  100,
  269,
  1,
  240,
  200,
  270,
  1,
  241,
  1000,
  271,
  1,
  241,
  1000,
  272,
  1,
  446,
  500,
  447,
  1
}; // idb
int dword_4D63D0[] = { 1 }; // weak
int dword_4D63D4[] = { 1 }; // weak
int dword_4D63D8[177] =
{
  200001,
  2,
  1,
  200002,
  3,
  1,
  200003,
  4,
  6,
  200004,
  5,
  8,
  200005,
  6,
  10,
  200006,
  7,
  11,
  200007,
  8,
  12,
  200008,
  9,
  13,
  200009,
  10,
  14,
  200010,
  11,
  15,
  200011,
  37,
  15,
  200066,
  12,
  16,
  200012,
  13,
  17,
  200013,
  14,
  18,
  200014,
  15,
  19,
  200015,
  16,
  20,
  200016,
  17,
  21,
  200017,
  18,
  23,
  200018,
  19,
  25,
  200019,
  20,
  26,
  200020,
  21,
  27,
  200021,
  22,
  28,
  200022,
  23,
  29,
  200023,
  27,
  30,
  200026,
  28,
  31,
  200027,
  29,
  32,
  200028,
  24,
  33,
  200024,
  30,
  34,
  200029,
  31,
  35,
  200030,
  25,
  36,
  200025,
  32,
  37,
  200031,
  33,
  38,
  200032,
  34,
  39,
  200033,
  35,
  40,
  200034,
  36,
  41,
  200047,
  39,
  41,
  200048,
  38,
  42,
  200049,
  40,
  42,
  200050,
  45,
  43,
  200051,
  41,
  43,
  200052,
  46,
  44,
  200053,
  42,
  44,
  200054,
  44,
  45,
  200055,
  43,
  45,
  200056,
  47,
  46,
  200057,
  48,
  47,
  200058,
  49,
  48,
  200059,
  50,
  49,
  200060,
  51,
  50,
  200061,
  52,
  51,
  200062,
  53,
  52,
  200063,
  58,
  53,
  200064,
  59,
  54,
  200065,
  60,
  55,
  200065,
  61,
  56,
  200065,
  62,
  57,
  200065,
  63,
  58,
  200065,
  64,
  59,
  200065,
  65,
  60
}; // idb
int dword_4D669C[4] = { 200065, 34280, 137140, 308571 }; // idb
int dword_4D66AC[4] = { 617142, 357, 761, 857 }; // idb
int dword_4D66BC[] = { 11 }; // weak
int dword_4D66C0[] = { 50 }; // weak
int dword_4D66C4[11] = { 5, 9, 36, 10, 7, 22, 15, 5, 8, 20, 0 }; // idb
int dword_4D66F0[] = { 0 }; // weak
int dword_4D66F4[149] =
{
  0,
  5,
  0,
  24,
  0,
  60,
  0,
  160,
  0,
  328,
  0,
  542,
  0,
  814,
  0,
  1157,
  0,
  1588,
  0,
  2250,
  0,
  3086,
  0,
  4135,
  0,
  5444,
  0,
  7068,
  0,
  9126,
  0,
  11660,
  0,
  14769,
  0,
  18572,
  0,
  23214,
  0,
  29155,
  0,
  36409,
  0,
  45245,
  0,
  55988,
  0,
  69026,
  0,
  85569,
  0,
  105656,
  0,
  130009,
  0,
  159494,
  0,
  195150,
  0,
  238225,
  0,
  290216,
  0,
  352918,
  0,
  428488,
  0,
  519513,
  0,
  629149,
  0,
  761081,
  0,
  919784,
  0,
  1110624,
  0,
  1340045,
  0,
  1615778,
  0,
  1947099,
  0,
  2345141,
  0,
  2823265,
  0,
  3397501,
  0,
  4087087,
  0,
  4915108,
  0,
  5909267,
  0,
  7102808,
  0,
  8535623,
  0,
  10255633,
  0,
  12320243,
  0,
  14798389,
  0,
  17772795,
  0,
  21342730,
  0,
  25627317,
  0,
  30769501,
  0,
  36940820,
  0,
  44347118,
  0,
  53235407,
  0,
  63902104,
  0,
  76702906,
  0,
  92064653,
  0,
  110499551,
  0,
  132622249,
  0,
  159170373,
  0,
  191028978,
  0,
  229260177,
  0,
  275138508,
  0,
  330193415,
  0,
  396260232,
  0,
  1188853398,
  0,
  1426699190,
  0,
  1712116603,
  0,
  2054620005,
  0
}; // idb
__int64 qword_4D6948 = 2465626643i64; // weak
int dword_4D6A10[3] = { 10, 14, 13 }; // idb
int dword_4D6A1C[3] = { 13, 10, 12 }; // idb
_UNKNOWN unk_4D6A28; // weak
int dword_4D6A7C[3] = { 654, 655, 656 }; // idb
int dword_4D6A88[12] = { 500, 500, 3000, 10000, 0, 50, 5, 65, 0, 30, 5, 50 }; // idb
int dword_4D6AB8[3] = { 10, 14, 13 }; // idb
int dword_4D6AC4[231] =
{
  1,
  90,
  22,
  0,
  0,
  5,
  0,
  24,
  0,
  60,
  0,
  160,
  0,
  328,
  0,
  542,
  0,
  814,
  0,
  1157,
  0,
  1588,
  0,
  2250,
  0,
  3086,
  0,
  4135,
  0,
  5444,
  0,
  7068,
  0,
  9126,
  0,
  11660,
  0,
  14769,
  0,
  18572,
  0,
  23214,
  0,
  29155,
  0,
  36409,
  0,
  45245,
  0,
  55988,
  0,
  69026,
  0,
  85569,
  0,
  105656,
  0,
  130009,
  0,
  159494,
  0,
  195150,
  0,
  238225,
  0,
  290216,
  0,
  352918,
  0,
  428488,
  0,
  519513,
  0,
  629149,
  0,
  761081,
  0,
  919784,
  0,
  1110624,
  0,
  1340045,
  0,
  1615778,
  0,
  1947099,
  0,
  2345141,
  0,
  2823265,
  0,
  3397501,
  0,
  4087087,
  0,
  4915108,
  0,
  5909267,
  0,
  7102808,
  0,
  8535623,
  0,
  10255633,
  0,
  12320243,
  0,
  14798389,
  0,
  17772795,
  0,
  21342730,
  0,
  25627317,
  0,
  30769501,
  0,
  36940820,
  0,
  44347118,
  0,
  53235407,
  0,
  63902104,
  0,
  76702906,
  0,
  92064653,
  0,
  110499551,
  0,
  132622249,
  0,
  159170373,
  0,
  191028978,
  0,
  229260177,
  0,
  275138508,
  0,
  330193415,
  0,
  396260232,
  0,
  1188853398,
  0,
  1426699190,
  0,
  1712116603,
  0,
  2054620005,
  0,
  -1829340653,
  0,
  -1336130088,
  0,
  -744274761,
  0,
  -34045671,
  0,
  818231987,
  1,
  1840968092,
  1,
  -1226713032,
  1,
  246033263,
  2,
  2013331761,
  2,
  -160874348,
  2,
  -1910925179,
  3,
  1142977669,
  4,
  512696930,
  5,
  615356692,
  6,
  1597545108,
  7,
  -659799336,
  8,
  -1650622408,
  10,
  -1121619783,
  12,
  1231173733,
  15,
  1477549070,
  18,
  55216106,
  22,
  1784393987,
  26,
  -1294549657,
  31,
  164682435,
  38,
  -1520209136,
  45,
  10,
  14,
  13,
  13,
  10,
  12,
  18,
  16,
  8,
  8,
  10,
  180,
  120,
  8,
  10,
  18,
  16,
  8,
  170,
  140,
  14,
  10,
  8,
  10,
  18,
  160,
  160,
  0
}; // idb
int dword_4D6E60[] = { 32 }; // weak
int dword_4D6E64[601] =
{
  0,
  31,
  1,
  31,
  1,
  31,
  2,
  31,
  3,
  31,
  4,
  31,
  5,
  31,
  6,
  31,
  7,
  30,
  8,
  30,
  9,
  30,
  10,
  29,
  11,
  29,
  12,
  29,
  12,
  28,
  13,
  28,
  14,
  28,
  15,
  27,
  15,
  27,
  16,
  27,
  16,
  26,
  17,
  26,
  18,
  25,
  18,
  25,
  19,
  25,
  19,
  24,
  20,
  24,
  20,
  24,
  21,
  23,
  21,
  23,
  21,
  22,
  22,
  22,
  22,
  0,
  0,
  1,
  0,
  2,
  0,
  3,
  0,
  4,
  0,
  5,
  0,
  6,
  0,
  7,
  0,
  8,
  0,
  9,
  0,
  10,
  0,
  10,
  0,
  11,
  0,
  12,
  0,
  13,
  0,
  13,
  0,
  14,
  0,
  14,
  0,
  15,
  0,
  15,
  0,
  16,
  0,
  16,
  0,
  17,
  0,
  17,
  0,
  18,
  0,
  18,
  0,
  19,
  0,
  19,
  0,
  20,
  0,
  20,
  0,
  21,
  0,
  21,
  0,
  22,
  0,
  22,
  0,
  23,
  0,
  23,
  0,
  24,
  0,
  24,
  0,
  25,
  0,
  25,
  0,
  26,
  0,
  26,
  0,
  27,
  0,
  27,
  0,
  28,
  0,
  28,
  0,
  29,
  0,
  29,
  0,
  30,
  0,
  30,
  0,
  31,
  0,
  31,
  0,
  32,
  0,
  32,
  0,
  33,
  0,
  33,
  0,
  34,
  1,
  34,
  2,
  35,
  3,
  35,
  4,
  36,
  5,
  36,
  6,
  37,
  7,
  37,
  8,
  38,
  9,
  38,
  10,
  39,
  11,
  39,
  12,
  40,
  13,
  40,
  14,
  41,
  15,
  41,
  16,
  42,
  17,
  42,
  18,
  43,
  19,
  43,
  20,
  44,
  21,
  44,
  22,
  45,
  23,
  45,
  24,
  46,
  25,
  46,
  26,
  47,
  27,
  47,
  28,
  48,
  29,
  48,
  30,
  49,
  31,
  49,
  32,
  50,
  33,
  50,
  34,
  51,
  35,
  51,
  36,
  52,
  37,
  52,
  38,
  53,
  39,
  53,
  40,
  54,
  41,
  54,
  42,
  55,
  43,
  55,
  44,
  56,
  45,
  56,
  46,
  57,
  47,
  57,
  48,
  58,
  49,
  58,
  50,
  59,
  41,
  59,
  52,
  60,
  53,
  60,
  54,
  61,
  55,
  61,
  56,
  62,
  57,
  62,
  58,
  63,
  59,
  63,
  60,
  64,
  61,
  64,
  62,
  65,
  63,
  65,
  64,
  66,
  65,
  66,
  66,
  67,
  67,
  67,
  68,
  68,
  69,
  68,
  70,
  69,
  71,
  69,
  72,
  70,
  73,
  70,
  74,
  71,
  75,
  71,
  76,
  72,
  77,
  72,
  78,
  73,
  79,
  73,
  80,
  74,
  81,
  74,
  82,
  75,
  83,
  75,
  84,
  76,
  85,
  76,
  86,
  77,
  87,
  77,
  88,
  78,
  89,
  78,
  90,
  79,
  91,
  79,
  92,
  80,
  93,
  80,
  94,
  81,
  95,
  81,
  96,
  82,
  97,
  82,
  98,
  83,
  99,
  83,
  100,
  84,
  101,
  84,
  102,
  85,
  103,
  85,
  104,
  86,
  105,
  86,
  106,
  87,
  107,
  87,
  108,
  88,
  109,
  88,
  110,
  89,
  111,
  89,
  112,
  90,
  113,
  90,
  114,
  91,
  115,
  91,
  116,
  92,
  117,
  92,
  118,
  93,
  119,
  93,
  120,
  94,
  121,
  94,
  122,
  95,
  123,
  95,
  124,
  96,
  125,
  96,
  126,
  97,
  127,
  97,
  128,
  98,
  129,
  98,
  130,
  99,
  131,
  99,
  132,
  100,
  133,
  100,
  134,
  101,
  135,
  101,
  136,
  102,
  137,
  102,
  138,
  103,
  139,
  103,
  140,
  104,
  141,
  104,
  142,
  105,
  143,
  105,
  144,
  106,
  145,
  106,
  146,
  107,
  147,
  107,
  148,
  108,
  149,
  108,
  150,
  109,
  151,
  109,
  152,
  110,
  153,
  110,
  154,
  111,
  155,
  111,
  156,
  112,
  157,
  112,
  158,
  113,
  159,
  113,
  160,
  114,
  161,
  114,
  162,
  115,
  163,
  115,
  164,
  116,
  165,
  116,
  166,
  117,
  167,
  117,
  168,
  118,
  169,
  118,
  170,
  119,
  171,
  119,
  172,
  120,
  173,
  120,
  174,
  121,
  175,
  121,
  176,
  122,
  177,
  122,
  178,
  123,
  179,
  123,
  180,
  124,
  181,
  124,
  182,
  125,
  183,
  125,
  184,
  126,
  185,
  126,
  186,
  127,
  187,
  127,
  188,
  128,
  189,
  128,
  190,
  129,
  191,
  129,
  192,
  130,
  193,
  130,
  194,
  131,
  195,
  700,
  1000,
  800,
  0,
  0,
  258043,
  259381,
  16049,
  0,
  0,
  265022,
  262538,
  16190,
  0,
  0,
  266040,
  284976,
  22650,
  0,
  0,
  255825,
  288802,
  27050,
  0,
  0,
  267618,
  242946,
  19630,
  0,
  0,
  232954,
  294672,
  45300,
  0
}; // idb
_UNKNOWN unk_4D77C8; // weak
int dword_4D7900[] = { 0 }; // weak
int dword_4D7960[250] =
{
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8
}; // idb
int dword_4D7D48[250] =
{
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  2,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  3,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  4,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  5,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  6,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  7,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8,
  8
}; // idb
int dword_4D8130[102] =
{
  0,
  0,
  0,
  0,
  0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  16,
  17,
  18,
  19,
  20,
  22,
  24,
  26,
  28,
  30,
  32,
  34,
  36,
  38,
  40,
  43,
  46,
  49,
  52,
  55,
  58,
  61,
  64,
  67,
  70,
  74,
  78,
  82,
  86,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  90,
  0
}; // idb
int dword_4D82C8[52] =
{
  50,
  52,
  52,
  54,
  54,
  56,
  56,
  58,
  58,
  60,
  60,
  62,
  62,
  64,
  64,
  66,
  66,
  68,
  68,
  70,
  70,
  72,
  72,
  74,
  74,
  76,
  76,
  78,
  78,
  80,
  80,
  82,
  82,
  84,
  84,
  86,
  86,
  88,
  88,
  90,
  90,
  95,
  95,
  95,
  95,
  95,
  95,
  95,
  95,
  95,
  95,
  0
}; // idb
int dword_4D8398[100] =
{
  0,
  0,
  0,
  1,
  1,
  3,
  3,
  6,
  6,
  9,
  9,
  12,
  12,
  15,
  15,
  18,
  18,
  21,
  21,
  24,
  24,
  27,
  27,
  30,
  30,
  33,
  33,
  36,
  36,
  39,
  39,
  42,
  42,
  45,
  45,
  48,
  48,
  51,
  51,
  54,
  54,
  57,
  57,
  60,
  60,
  63,
  63,
  66,
  66,
  69,
  69,
  72,
  72,
  75,
  75,
  78,
  78,
  81,
  81,
  84,
  84,
  87,
  87,
  90,
  90,
  93,
  93,
  96,
  96,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99,
  99
}; // idb
int dword_4D8528[210] =
{
  0,
  0,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100
}; // idb
int dword_4D8870[210] =
{
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  25,
  25,
  50,
  50,
  50,
  100,
  100,
  100,
  100,
  100,
  100,
  100
}; // idb
int dword_4D8BB8[61] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  10,
  10,
  20,
  20,
  30,
  30,
  40,
  40,
  50,
  50,
  60,
  60,
  70,
  70,
  80,
  80,
  90,
  90,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100
}; // idb
int dword_4D8CAC[14] = { 89, 83, 74, 65, 56, 48, 32, 19, 5, 3, 0, 91, 93, 95 }; // idb
int dword_4D8CE4[7] = { 0, 25, 50, 75, 90, 95, 0 }; // idb
int dword_4D8D00[] = { 0 }; // weak
int dword_4D9180[6] = { 4, 4, 5, 1, 5, 3 }; // idb
int dword_4D9198[3] = { 4, 1, 2 }; // idb
int dword_4D91A4[11] = { 0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20 }; // idb
int dword_4D91D0[16] = { 6, 7, 8, 9, 10, 70, 71, 72, 73, 74, 32, 33, 34, 35, 36, 0 }; // idb
int dword_4D9210[14] = { 30, 21, 15, 12, 9, 5, 1, 30, 21, 15, 12, 9, 5, 1 }; // idb
int dword_4D9248[8] = { 42, 26, 17, 14, 11, 6, 2, 0 }; // idb
int dword_4D9268[21] =
{
  0,
  10,
  11,
  11,
  12,
  12,
  13,
  13,
  14,
  14,
  15,
  15,
  16,
  16,
  17,
  17,
  18,
  18,
  19,
  19,
  20
}; // idb
int dword_4D92BC[8] = { 100, 115, 130, 145, 160, 175, 190, 200 }; // idb
int dword_4D92DC[8] = { 100, 85, 70, 55, 40, 25, 10, 0 }; // idb
int dword_4D92FC[9] = { 100, 115, 130, 145, 160, 175, 190, 200, 0 }; // idb
int dword_4D9320[288] =
{
  100,
  100,
  100,
  100,
  100,
  100,
  85,
  85,
  85,
  85,
  85,
  85,
  85,
  85,
  85,
  85,
  70,
  70,
  70,
  70,
  70,
  55,
  55,
  55,
  40,
  40,
  40,
  25,
  25,
  25,
  10,
  0,
  0,
  1996959894,
  -301047508,
  -1727442502,
  124634137,
  1886057615,
  -379345611,
  -1637575261,
  249268274,
  2044508324,
  -522852066,
  -1747789432,
  162941995,
  2125561021,
  -407360249,
  -1866523247,
  498536548,
  1789927666,
  -205950648,
  -2067906082,
  450548861,
  1843258603,
  -187386543,
  -2083289657,
  325883990,
  1684777152,
  -43845254,
  -1973040660,
  335633487,
  1661365465,
  -99664541,
  -1928851979,
  997073096,
  1281953886,
  -715111964,
  -1570279054,
  1006888145,
  1258607687,
  -770865667,
  -1526024853,
  901097722,
  1119000684,
  -608450090,
  -1396901568,
  853044451,
  1172266101,
  -589951537,
  -1412350631,
  651767980,
  1373503546,
  -925412992,
  -1076862698,
  565507253,
  1454621731,
  -809855591,
  -1195530993,
  671266974,
  1594198024,
  -972236366,
  -1324619484,
  795835527,
  1483230225,
  -1050600021,
  -1234817731,
  1994146192,
  31158534,
  -1731059524,
  -271249366,
  1907459465,
  112637215,
  -1614814043,
  -390540237,
  2013776290,
  251722036,
  -1777751922,
  -519137256,
  2137656763,
  141376813,
  -1855689577,
  -429695999,
  1802195444,
  476864866,
  -2056965928,
  -228458418,
  1812370925,
  453092731,
  -2113342271,
  -183516073,
  1706088902,
  314042704,
  -1950435094,
  -54949764,
  1658658271,
  366619977,
  -1932296973,
  -69972891,
  1303535960,
  984961486,
  -1547960204,
  -725929758,
  1256170817,
  1037604311,
  -1529756563,
  -740887301,
  1131014506,
  879679996,
  -1385723834,
  -631195440,
  1141124467,
  855842277,
  -1442165665,
  -586318647,
  1342533948,
  654459306,
  -1106571248,
  -921952122,
  1466479909,
  544179635,
  -1184443383,
  -832445281,
  1591671054,
  702138776,
  -1328506846,
  -942167884,
  1504918807,
  783551873,
  -1212326853,
  -1061524307,
  -306674912,
  -1698712650,
  62317068,
  1957810842,
  -355121351,
  -1647151185,
  81470997,
  1943803523,
  -480048366,
  -1805370492,
  225274430,
  2053790376,
  -468791541,
  -1828061283,
  167816743,
  2097651377,
  -267414716,
  -2029476910,
  503444072,
  1762050814,
  -144550051,
  -2140837941,
  426522225,
  1852507879,
  -19653770,
  -1982649376,
  282753626,
  1742555852,
  -105259153,
  -1900089351,
  397917763,
  1622183637,
  -690576408,
  -1580100738,
  953729732,
  1340076626,
  -776247311,
  -1497606297,
  1068828381,
  1219638859,
  -670225446,
  -1358292148,
  906185462,
  1090812512,
  -547295293,
  -1469587627,
  829329135,
  1181335161,
  -882789492,
  -1134132454,
  628085408,
  1382605366,
  -871598187,
  -1156888829,
  570562233,
  1426400815,
  -977650754,
  -1296233688,
  733239954,
  1555261956,
  -1026031705,
  -1244606671,
  752459403,
  1541320221,
  -1687895376,
  -328994266,
  1969922972,
  40735498,
  -1677130071,
  -351390145,
  1913087877,
  83908371,
  -1782625662,
  -491226604,
  2075208622,
  213261112,
  -1831694693,
  -438977011,
  2094854071,
  198958881,
  -2032938284,
  -237706686,
  1759359992,
  534414190,
  -2118248755,
  -155638181,
  1873836001,
  414664567,
  -2012718362,
  -15766928,
  1711684554,
  285281116,
  -1889165569,
  -127750551,
  1634467795,
  376229701,
  -1609899400,
  -686959890,
  1308918612,
  956543938,
  -1486412191,
  -799009033,
  1231636301,
  1047427035,
  -1362007478,
  -640263460,
  1088359270,
  936918000,
  -1447252397,
  -558129467,
  1202900863,
  817233897,
  -1111625188,
  -893730166,
  1404277552,
  615818150,
  -1160759803,
  -841546093,
  1423857449,
  601450431,
  -1285129682,
  -1000256840,
  1567103746,
  711928724,
  -1274298825,
  -1022587231,
  1510334235,
  755167117
}; // idb
int dword_4D9830 = -1153374642; // weak
int (*off_4DA1C8)(void) = &terminate; // weak
HANDLE hEvent = NULL; // idb
int dword_4DA6E4 = 0; // weak
int dword_4DA6E8 = 0; // weak
_UNKNOWN unk_4DA6EC; // weak
int dword_4DA6F0[4] = { 0, 0, 0, 0 }; // weak
volatile LONG Target = 0; // idb
int dword_4DA75C = 0; // weak
LONG dword_4DA760 = 0; // idb
int dword_4DA764 = 0; // weak
LONG dword_4DA768 = 0; // idb
volatile LONG Addend = 0; // idb
int dword_4DA770 = 0; // weak
LONG dword_4DA774 = 0; // idb
int dword_4DA778 = 0; // weak
int dword_4DA77C = 0; // weak
int dword_4DA780 = 0; // weak
int dword_4DA784 = 0; // weak
int dword_4DA788 = 0; // weak
int dword_4DA78C = 0; // weak
int dword_4DA790 = 0; // weak
int dword_4DA794 = 0; // weak
CIOObject unk_4DA798 = { NULL, 0, 0, 0 }; // idb
HANDLE hObject = NULL; // idb
int dword_4DA7AC = 0; // weak
_UNKNOWN unk_4DA7B0; // weak
int dword_4DA7B8[4] = { 0, 0, 0, 0 }; // weak
int dword_4DA7C8 = 0; // weak
int dword_4DA824 = 0; // weak
int dword_4DA828[6198] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  
}; // weak
int dword_4E0900; // weak
LONG dword_4E0904; // idb
_DWORD dword_4E0908[17]; // idb
int dword_4E094C[3]; // weak
int dword_4E0958[3]; // weak
int dword_4E0964; // weak
int dword_4E0968[3]; // weak
int dword_4E0974[3]; // weak
CRWLock unk_4E0980; // idb
HANDLE hHandle; // idb
int dword_4E099C; // weak
int dword_4E09A0; // weak
int dword_4E09A4[3]; // weak
CRWLock unk_4E09B0; // idb
int dword_4E09C8[3]; // weak
CRWLock unk_4E09D4; // idb
_DWORD dword_4E09F0[4]; // idb
int dword_4E0B70; // weak
char begin[]; // idb
LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter; // idb
char byte_4E0B80[]; // idb
char ExistingFileName[]; // idb
time_t dword_4E0D8C; // idb
struct _RTL_CRITICAL_SECTION CriticalSection; // idb
char *host; // idb
char *from; // idb
char *to; // idb
CIOException::CInit unk_4E0DB4; // idb
int dword_4E0DB8; // weak
int nThread; // idb
void *nThreadId; // idb
void **hThread; // idb
DWORD nCount; // idb
int dword_4E0DD0[64]; // idb
HANDLE Handles[64]; // idb
int dword_4E0FD0; // weak
HANDLE handle; // idb
volatile LONG dword_4E0FD8; // idb
volatile LONG dword_4E0FDC; // idb
HANDLE ExistingCompletionPort; // idb
volatile LONG dword_4E0FE4; // idb
CIOCriticalSection unk_4E0FE8; // idb
std::priority_queue<CIOSocket::CIOTimer> unk_4E100C; // idb
CIOSocket::CIOTimerInstance unk_4E1020; // idb
LONG pRef[2]; // idb
_DWORD _t[32]; // idb
volatile LONG dword_4E10B0; // idb
int dword_4E10B4[3]; // weak
int dword_4E10C0[3]; // weak
int dword_4E10CC[3]; // weak
CRWLock unk_4E10D8; // idb
int dword_4E10F0[3]; // weak
int dword_4E10FC[3]; // weak
_DWORD dword_4E1108; // idb
int dword_4E1110[3]; // idb
FILE *stream; // idb
CLink unk_4E1128; // idb
CLog::CInit unk_4E115C; // idb
char dword_4E1160[]; // idb
int dword_4E1164; // weak
u_short hostshort; // idb
u_short dword_4E116C; // idb
u_short nPort; // idb
char dword_4E1174[]; // idb
int dword_4E1178; // weak
int dword_4E117C; // weak
int dword_4E1180; // weak
int dword_4E1184; // weak
int dword_4E1188; // weak
int dword_4E118C; // weak
char dword_4E1190[]; // idb
std::string stru_4E1194; // idb
std::string stru_4E11B0; // idb
std::string stru_4E11CC; // idb
std::string stru_4E11E8; // idb
std::string stru_4E1204; // idb
std::string stru_4E1220; // idb
std::string stru_4E123C; // idb
int dword_4E1258[3]; // weak
std::string stru_4E1264; // idb
HANDLE dword_4E1280; // idb
char ClassName[]; // idb
char WindowName[]; // idb
HINSTANCE hInstance; // idb
_UNKNOWN unk_4E1358; // weak
_UNKNOWN unk_4E1368; // weak
_UNKNOWN unk_4E158E; // weak
UINT uValue; // idb
int dword_4E17B8; // weak
volatile LONG dword_4E17C0; // idb
int dword_4E17C8[16]; // idb
volatile LONG dword_4E1810; // idb
int dword_4E1814; // weak
int dword_4E181C; // weak
int dword_4E1820[3]; // weak
CIOCriticalSection unk_4E182C; // idb
int dword_4E184C[3]; // weak
CRWLock unk_4E1858; // idb
int dword_4E1870[3]; // weak
CRWLock unk_4E187C; // idb
CIOObject unk_4E1898; // idb
CIOObject unk_4E1930; // idb
CIOObject unk_4E1998; // idb
CIOObject unk_4E1A00; // idb
int dword_4E1A64; // weak
int dword_4E1A68; // weak
int dword_4E1A70[8]; // idb
int dword_4E1A90; // weak
int dword_4E1A94; // weak
volatile LONG dword_4E1A98; // idb
int dword_4E1A9C[3]; // weak
int dword_4E1AA8[3]; // weak
int dword_4E1AB4[3]; // weak
CRWLock unk_4E1AC0; // idb
CIOObject unk_4E1AD8; // idb
CIOCriticalSection unk_4E1B38; // idb
CIOCriticalSection unk_4E1B58; // idb
CIOCriticalSection unk_4E1B78; // idb
volatile LONG dword_4E1B98; // idb
_DWORD dword_4E1B9C[3]; // idb
_UNKNOWN unk_4E1BA8; // weak
_UNKNOWN unk_4E1BB0; // weak
_UNKNOWN unk_4E1BB8; // weak
_UNKNOWN unk_4E1BC0; // weak
_UNKNOWN unk_4E1BC8; // weak
_UNKNOWN unk_4E1BD0; // weak
_UNKNOWN unk_4E1BD8; // weak
_UNKNOWN unk_4E1BE0; // weak
_UNKNOWN unk_4E1BE8; // weak
_UNKNOWN unk_4E1BF0; // weak
_UNKNOWN unk_4E1BF8; // weak
_UNKNOWN unk_4E1C00; // weak
_UNKNOWN unk_4E1C08; // weak
_UNKNOWN unk_4E1C10; // weak
_UNKNOWN unk_4E1C18; // weak
_UNKNOWN unk_4E1C20; // weak
_UNKNOWN unk_4E1C28; // weak
_UNKNOWN unk_4E1C30; // weak
_UNKNOWN unk_4E1C38; // weak
_UNKNOWN unk_4E1C40; // weak
_UNKNOWN unk_4E1C48; // weak
_UNKNOWN unk_4E1C50; // weak
_UNKNOWN unk_4E1C58; // weak
_UNKNOWN unk_4E1C60; // weak
_UNKNOWN unk_4E1C68; // weak
_UNKNOWN unk_4E1C70; // weak
_UNKNOWN unk_4E1C78; // weak
_UNKNOWN unk_4E1C80; // weak
_UNKNOWN unk_4E1C88; // weak
_UNKNOWN unk_4E1C90; // weak
_UNKNOWN unk_4E1C98; // weak
_UNKNOWN unk_4E1CA0; // weak
_UNKNOWN unk_4E1CA8; // weak
_UNKNOWN unk_4E1CB0; // weak
_UNKNOWN unk_4E1CB8; // weak
_UNKNOWN unk_4E1CC0; // weak
_UNKNOWN unk_4E1CC8; // weak
_UNKNOWN unk_4E1CD0; // weak
_UNKNOWN unk_4E1CD8; // weak
_UNKNOWN unk_4E1CE0; // weak
_UNKNOWN unk_4E1CE8; // weak
_UNKNOWN unk_4E1CF0; // weak
_UNKNOWN unk_4E1CF8; // weak
_UNKNOWN unk_4E1D00; // weak
_UNKNOWN unk_4E1D08; // weak
_UNKNOWN unk_4E1D10; // weak
_UNKNOWN unk_4E1D18; // weak
_UNKNOWN unk_4E1D20; // weak
_UNKNOWN unk_4E1D28; // weak
_UNKNOWN unk_4E1D30; // weak
_UNKNOWN unk_4E1D38; // weak
_UNKNOWN unk_4E1D40; // weak
_UNKNOWN unk_4E1D48; // weak
_UNKNOWN unk_4E1D50; // weak
_UNKNOWN unk_4E1D58; // weak
_UNKNOWN unk_4E1D60; // weak
_UNKNOWN unk_4E1D68; // weak
_UNKNOWN unk_4E1D70; // weak
_UNKNOWN unk_4E1D78; // weak
_UNKNOWN unk_4E1D80; // weak
_UNKNOWN unk_4E1D88; // weak
_UNKNOWN unk_4E1D90; // weak
_UNKNOWN unk_4E1D98; // weak
_UNKNOWN unk_4E1DA0; // weak
_UNKNOWN unk_4E1DA8; // weak
_UNKNOWN unk_4E1DB0; // weak
_UNKNOWN unk_4E1DB8; // weak
_UNKNOWN unk_4E1DC0; // weak
_UNKNOWN unk_4E1DC8; // weak
_UNKNOWN unk_4E1DD0; // weak
_UNKNOWN unk_4E1DD8; // weak
_UNKNOWN unk_4E1DE0; // weak
_UNKNOWN unk_4E1DE8; // weak
_UNKNOWN unk_4E1DF0; // weak
_UNKNOWN unk_4E1DF8; // weak
_UNKNOWN unk_4E1E00; // weak
_UNKNOWN unk_4E1E08; // weak
_UNKNOWN unk_4E1E10; // weak
_UNKNOWN unk_4E1E18; // weak
_UNKNOWN unk_4E1E20; // weak
_UNKNOWN unk_4E1E28; // weak
_UNKNOWN unk_4E1E30; // weak
_UNKNOWN unk_4E1E38; // weak
_UNKNOWN unk_4E1E40; // weak
_UNKNOWN unk_4E1E48; // weak
_UNKNOWN unk_4E1E50; // weak
_UNKNOWN unk_4E1E58; // weak
_UNKNOWN unk_4E1E60; // weak
_UNKNOWN unk_4E1E68; // weak
_UNKNOWN unk_4E1E70; // weak
_UNKNOWN unk_4E1E78; // weak
_UNKNOWN unk_4E1E80; // weak
_UNKNOWN unk_4E1E88; // weak
_UNKNOWN unk_4E1E90; // weak
_UNKNOWN unk_4E1E98; // weak
_UNKNOWN unk_4E1EA0; // weak
_UNKNOWN unk_4E1EA8; // weak
_UNKNOWN unk_4E1EB0; // weak
_UNKNOWN unk_4E1EB8; // weak
_UNKNOWN unk_4E1EC0; // weak
_UNKNOWN unk_4E1EC8; // weak
_UNKNOWN unk_4E1ED0; // weak
_UNKNOWN unk_4E1ED8; // weak
_UNKNOWN unk_4E1EE0; // weak
_UNKNOWN unk_4E1EE8; // weak
_UNKNOWN unk_4E1EF0; // weak
_UNKNOWN unk_4E1EF8; // weak
_UNKNOWN unk_4E1F00; // weak
_UNKNOWN unk_4E1F08; // weak
_UNKNOWN unk_4E1F10; // weak
_UNKNOWN unk_4E1F18; // weak
_UNKNOWN unk_4E1F20; // weak
_UNKNOWN unk_4E1F28; // weak
_UNKNOWN unk_4E1F30; // weak
int dword_4E1F38[4]; // weak
_UNKNOWN unk_4E1F48; // weak
_UNKNOWN unk_4E1F50; // weak
_UNKNOWN unk_4E1F58; // weak
_UNKNOWN unk_4E1F60; // weak
_UNKNOWN unk_4E1F68; // weak
_UNKNOWN unk_4E1F70; // weak
_UNKNOWN unk_4E1F78; // weak
_UNKNOWN unk_4E1F80; // weak
_UNKNOWN unk_4E1F88; // weak
_UNKNOWN unk_4E1F90; // weak
_UNKNOWN unk_4E1F98; // weak
_UNKNOWN unk_4E1FA0; // weak
_UNKNOWN unk_4E1FA8; // weak
_UNKNOWN unk_4E1FB0; // weak
volatile LONG dword_4E1FB8; // idb
int dword_4E1FC0; // weak
_DWORD dword_4E1FC4[3]; // idb
CIOCriticalSection unk_4E1FD0; // idb
int dword_4E1FF0; // weak
int dword_4E1FF4; // weak
int dword_4E1FF8; // idb
volatile LONG dword_4E1FFC; // idb
volatile LONG dword_4E2000; // idb
CLink pTo; // idb
CLink unk_4E200C; // idb
volatile LONG dword_4E2014; // idb
int dword_4E201C; // weak
_DWORD dword_4E2020[3]; // idb
CRWLock unk_4E202C; // idb
_DWORD dword_4E2044[3]; // idb
CRWLock unk_4E2050; // idb
_DWORD dword_4E2068[4]; // idb
CRWLock unk_4E20B8; // idb
int dword_4E20D0[3]; // weak
CRWLock unk_4E20DC; // idb
CIOObject unk_4E20F4; // idb
int dword_4E2104; // weak
int dword_4E2108; // weak
int dword_4E210C[3]; // weak
CRWLock unk_4E2118; // idb
CScreen *dword_4E2130; // idb
HWND hWnd; // idb
int dword_4E2138; // weak
int dword_4E213C; // weak
CLink dword_4E2140; // idb
time_t dword_4E2148; // idb
_DWORD dword_4E214C[3]; // idb
CIOServer unk_4E2158; // idb
int dword_4E2168; // weak
CRWLock unk_4E2170; // idb
int dword_4E2188; // weak
int dword_4E218C[3]; // weak
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > stru_4E2198; // idb
int dword_4E21A8; // weak
_UNKNOWN unk_4E21B0; // weak
_UNKNOWN unk_4E21B8; // weak
_UNKNOWN unk_4E21C0; // weak
_UNKNOWN unk_4E21C8; // weak
_UNKNOWN unk_4E21D0; // weak
_UNKNOWN unk_4E21D8; // weak
_UNKNOWN unk_4E21E0; // weak
_UNKNOWN unk_4E21E8; // weak
_UNKNOWN unk_4E21F0; // weak
_UNKNOWN unk_4E21F8; // weak
_UNKNOWN unk_4E2200; // weak
_UNKNOWN unk_4E2208; // weak
_UNKNOWN unk_4E2210; // weak
_UNKNOWN unk_4E2218; // weak
_UNKNOWN unk_4E2220; // weak
_UNKNOWN unk_4E2228; // weak
_UNKNOWN unk_4E2230; // weak
_UNKNOWN unk_4E2238; // weak
_UNKNOWN unk_4E2240; // weak
_UNKNOWN unk_4E2248; // weak
_UNKNOWN unk_4E2250; // weak
_UNKNOWN unk_4E2258; // weak
_UNKNOWN unk_4E2260; // weak
_UNKNOWN unk_4E2268; // weak
_UNKNOWN unk_4E2270; // weak
_UNKNOWN unk_4E2278; // weak
_UNKNOWN unk_4E2280; // weak
_UNKNOWN unk_4E2288; // weak
_UNKNOWN unk_4E2290; // weak
_UNKNOWN unk_4E2298; // weak
_UNKNOWN unk_4E22A0; // weak
_UNKNOWN unk_4E22A8; // weak
_UNKNOWN unk_4E22B0; // weak
_UNKNOWN unk_4E22B8; // weak
_UNKNOWN unk_4E22C0; // weak
_UNKNOWN unk_4E22C8; // weak
_UNKNOWN unk_4E22D0; // weak
_UNKNOWN unk_4E22D8; // weak
_UNKNOWN unk_4E22E0; // weak
_UNKNOWN unk_4E22E8; // weak
_UNKNOWN unk_4E22F0; // weak
_UNKNOWN unk_4E22F8; // weak
_UNKNOWN unk_4E2300; // weak
_UNKNOWN unk_4E2308; // weak
_UNKNOWN unk_4E2310; // weak
_UNKNOWN unk_4E2318; // weak
_UNKNOWN unk_4E2320; // weak
_UNKNOWN unk_4E2328; // weak
_UNKNOWN unk_4E2330; // weak
_UNKNOWN unk_4E2338; // weak
_UNKNOWN unk_4E2340; // weak
_UNKNOWN unk_4E2348; // weak
_UNKNOWN unk_4E2350; // weak
_UNKNOWN unk_4E2358; // weak
_UNKNOWN unk_4E2360; // weak
_UNKNOWN unk_4E2368; // weak
_UNKNOWN unk_4E2370; // weak
_UNKNOWN unk_4E2378; // weak
_UNKNOWN unk_4E2380; // weak
_UNKNOWN unk_4E2388; // weak
_UNKNOWN unk_4E2390; // weak
_UNKNOWN unk_4E2398; // weak
_UNKNOWN unk_4E23A0; // weak
_UNKNOWN unk_4E23A8; // weak
_UNKNOWN unk_4E23B0; // weak
_UNKNOWN unk_4E23B8; // weak
_UNKNOWN unk_4E23C0; // weak
_UNKNOWN unk_4E23C8; // weak
_UNKNOWN unk_4E23D0; // weak
_UNKNOWN unk_4E23D8; // weak
_UNKNOWN unk_4E23E0; // weak
_UNKNOWN unk_4E23E8; // weak
_UNKNOWN unk_4E23F0; // weak
_UNKNOWN unk_4E23F8; // weak
_UNKNOWN unk_4E2400; // weak
_UNKNOWN unk_4E2408; // weak
_UNKNOWN unk_4E2410; // weak
_UNKNOWN unk_4E2418; // weak
_UNKNOWN unk_4E2420; // weak
_UNKNOWN unk_4E2428; // weak
_UNKNOWN unk_4E2430; // weak
_UNKNOWN unk_4E2438; // weak
_UNKNOWN unk_4E2440; // weak
_UNKNOWN unk_4E2448; // weak
_UNKNOWN unk_4E2450; // weak
_UNKNOWN unk_4E2458; // weak
_UNKNOWN unk_4E2460; // weak
_UNKNOWN unk_4E2468; // weak
_UNKNOWN unk_4E2470; // weak
_UNKNOWN unk_4E2478; // weak
_UNKNOWN unk_4E2480; // weak
_UNKNOWN unk_4E2488; // weak
_UNKNOWN unk_4E2490; // weak
_UNKNOWN unk_4E2498; // weak
_UNKNOWN unk_4E24A0; // weak
_UNKNOWN unk_4E24A8; // weak
_UNKNOWN unk_4E24B0; // weak
_UNKNOWN unk_4E24B8; // weak
_UNKNOWN unk_4E24C0; // weak
_UNKNOWN unk_4E24C8; // weak
_UNKNOWN unk_4E24D0; // weak
_UNKNOWN unk_4E24D8; // weak
_UNKNOWN unk_4E24E0; // weak
_UNKNOWN unk_4E24E8; // weak
_UNKNOWN unk_4E24F0; // weak
_UNKNOWN unk_4E24F8; // weak
_UNKNOWN unk_4E2500; // weak
_UNKNOWN unk_4E2508; // weak
_UNKNOWN unk_4E2510; // weak
_UNKNOWN unk_4E2518; // weak
_UNKNOWN unk_4E2520; // weak
_UNKNOWN unk_4E2528; // weak
_UNKNOWN unk_4E2530; // weak
_UNKNOWN unk_4E2538; // weak
_UNKNOWN unk_4E2540; // weak
_UNKNOWN unk_4E2548; // weak
_UNKNOWN unk_4E2550; // weak
_UNKNOWN unk_4E2558; // weak
_UNKNOWN unk_4E2560; // weak
int dword_4E2568; // weak
_UNKNOWN unk_4E2570; // weak
_UNKNOWN unk_4E2578; // weak
_UNKNOWN unk_4E2580; // weak
_UNKNOWN unk_4E2588; // weak
_UNKNOWN unk_4E2590; // weak
_UNKNOWN unk_4E2598; // weak
_UNKNOWN unk_4E25A0; // weak
_UNKNOWN unk_4E25A8; // weak
_UNKNOWN unk_4E25B0; // weak
_UNKNOWN unk_4E25B8; // weak
_UNKNOWN unk_4E25C0; // weak
_UNKNOWN unk_4E25C8; // weak
_UNKNOWN unk_4E25D0; // weak
_UNKNOWN unk_4E25D8; // weak
_UNKNOWN unk_4E25E0; // weak
_UNKNOWN unk_4E25E8; // weak
_UNKNOWN unk_4E25F0; // weak
_UNKNOWN unk_4E25F8; // weak
_UNKNOWN unk_4E2600; // weak
_UNKNOWN unk_4E2608; // weak
_UNKNOWN unk_4E2610; // weak
_UNKNOWN unk_4E2618; // weak
_UNKNOWN unk_4E2620; // weak
_UNKNOWN unk_4E2628; // weak
_UNKNOWN unk_4E2630; // weak
_UNKNOWN unk_4E2638; // weak
_UNKNOWN unk_4E2640; // weak
_UNKNOWN unk_4E2648; // weak
_UNKNOWN unk_4E2650; // weak
_UNKNOWN unk_4E2658; // weak
_UNKNOWN unk_4E2660; // weak
int dword_4E2668[]; // weak
int dword_4E266C; // weak
int dword_4E2670; // weak
int dword_4E2674; // weak
int dword_4E2678; // weak
int dword_4E267C; // weak
int dword_4E2680; // weak
int dword_4E2684; // weak
int dword_4E2688; // weak
int dword_4E2690[]; // weak
int dword_4E2694; // weak
int dword_4E2698; // weak
int dword_4E269C; // weak
int dword_4E26A0; // weak
int dword_4E26A4; // weak
int dword_4E26A8; // weak
int dword_4E26AC; // weak
int dword_4E26B0; // weak
int dword_4E26B4; // weak
int dword_4E26B8; // weak
int dword_4E26BC; // weak
int dword_4E26C0; // weak
int dword_4E26C4; // weak
int dword_4E26C8; // weak
int dword_4E26CC; // weak
int dword_4E26D0; // weak
int dword_4E26D4; // weak
int dword_4E26D8; // weak
int dword_4E26DC; // weak
int dword_4E26E0; // weak
int dword_4E26E4; // weak
int dword_4E26E8; // weak
int dword_4E26EC; // weak
int dword_4E26F0; // weak
int dword_4E26F4; // weak
int dword_4E26F8; // weak
int dword_4E26FC; // weak
int dword_4E2700; // weak
int dword_4E2704; // weak
int dword_4E2708; // weak
int dword_4E270C; // weak
int dword_4E2710; // weak
int dword_4E2714; // weak
int dword_4E2718; // weak
int dword_4E271C; // weak
int dword_4E2720; // weak
int dword_4E2724; // weak
int dword_4E2728; // weak
int dword_4E272C; // weak
int dword_4E2730; // weak
int dword_4E2738; // weak
int dword_4E2740; // weak
int dword_4E2744; // weak
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > stru_4E2748; // idb
int dword_4E2754; // weak
unsigned int dword_4E2758[480]; // idb
volatile LONG dword_4E2ED8; // idb
int dword_4E2EDC[13]; // weak
int (__cdecl *dword_4E2F10)(_DWORD); // weak
int dword_4E2F18[210]; // idb
int dword_4E3260[210]; // idb
int dword_4E35A8; // weak
int dword_4E35AC; // weak
int dword_4E35B0; // weak
_UNKNOWN unk_4E35B4; // weak
int dword_4E35B8; // weak
char byte_4E35C0[256]; // idb
volatile LONG dword_4E36C0; // idb
int dword_4E36C4[]; // weak
int dword_4E36C8[32]; // idb
int dword_4E3748; // weak
InitCodePage unk_4E374C; // idb
int dword_4E3750; // weak


//----- (00401000) --------------------------------------------------------
CMemory **__cdecl sub_401000(size_t a1)
{
  return CMemory::_malloc(a1);
}

//----- (00401020) --------------------------------------------------------
void __cdecl sub_401020(void *a1)
{
  CMemory::_free(a1);
}

//----- (00401040) --------------------------------------------------------
void __thiscall CBillingPacket::OnIOCallback(CBillingPacket *this, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  CAuthSocket::Process((unsigned __int16 *)dwTransferred);
  CIOBuffer::Release(*((CIOBuffer **)this + 4));
  CMemoryPool<CBillingPacket>::Free(this);
}

//----- (00401070) --------------------------------------------------------
void __thiscall CIOBuffer::Release(CIOBuffer *this)
{
  if ( !InterlockedDecrement((volatile LONG *)this + 2001) )
    CIOBuffer::Free(this);
}

//----- (004010A0) --------------------------------------------------------
_DWORD *__thiscall CDBSocket::CDBSocket(_DWORD *this)
{
  CIOSocket::CIOSocket(this, 0);
  *this = &off_4B433C;
  sub_4010D0((int)this);
  return this;
}
// 4B433C: using guessed type void *(__thiscall *off_4B433C)(DeathMatch_Wait *__hidden this, unsigned int);

//----- (004010D0) --------------------------------------------------------
LONG __thiscall sub_4010D0(int this)
{
  return CIOObject::AddRef((CIOObject *)this, (volatile int *)(this + 12));
}

//----- (004010F0) --------------------------------------------------------
CIOObject *__thiscall CIOObject::OnFree(CIOObject *this)
{
  CIOObject *result; // eax

  result = this;
  if ( this )
    result = (CIOObject *)(**(int (__thiscall ***)(CIOObject *, int))this)(this, 1);
  return result;
}

//----- (00401140) --------------------------------------------------------
MRegion *__thiscall DeathMatch_Wait::`vector deleting destructor'(MRegion *this, unsigned int a2)
{
  sub_401170(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00401170) --------------------------------------------------------
void __thiscall sub_401170(_DWORD *this)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi

  *this = &off_4B433C;
  CIOSocket::_CIOSocket((CIOBuffer **)this, v1, v2, v3);
}
// 401183: variable 'v1' is possibly undefined
// 401183: variable 'v2' is possibly undefined
// 401183: variable 'v3' is possibly undefined
// 4B433C: using guessed type void *(__thiscall *off_4B433C)(DeathMatch_Wait *__hidden this, unsigned int);

//----- (00401190) --------------------------------------------------------
int __cdecl CAuthSocket::Start()
{
  const char *v0; // eax
  const char *v1; // eax
  struct hostent *v3; // [esp+0h] [ebp-1Ch]
  struct sockaddr name; // [esp+4h] [ebp-18h] BYREF
  int v5; // [esp+14h] [ebp-8h]
  SOCKET Value; // [esp+18h] [ebp-4h]

  v5 = dword_4D9830;
  Value = socket(2, 1, 0);
  name.sa_family = 2;
  *(_DWORD *)&name.sa_data[2] = 0;
  *(_WORD *)name.sa_data = 0;
  bind(Value, &name, 16);
  name.sa_family = 2;
  v0 = (const char *)sub_4012D0(&stru_4E11CC);
  *(_DWORD *)&name.sa_data[2] = inet_addr(v0);
  if ( *(_DWORD *)&name.sa_data[2] == -1 )
  {
    v1 = (const char *)sub_4012D0(&stru_4E11CC);
    v3 = gethostbyname(v1);
    if ( !v3 )
    {
LABEL_11:
      closesocket(Value);
      return 0;
    }
    memcpy(&name.sa_data[2], *(const void **)v3->h_addr_list, v3->h_length);
  }
  *(_WORD *)name.sa_data = htons(hostshort);
  if ( connect(Value, &name, 16) == -1 )
  {
    LOG_ERR("Can't connect to Auth Server");
    goto LABEL_11;
  }
  if ( !dword_4DA6E8 )
    hEvent = CreateEventA(0, 1, 0, 0);
  CAuthSocket::Initialize((CIOSocket *)dword_4DA6F0, Value);
  if ( !dword_4DA6E8 )
    WaitForSingleObject(hEvent, 0xFFFFFFFF);
  return dword_4DA6E8;
}
// 4D9830: using guessed type int dword_4D9830;
// 4DA6E8: using guessed type int dword_4DA6E8;
// 4DA6F0: using guessed type int dword_4DA6F0[4];

//----- (004012D0) --------------------------------------------------------
int __thiscall sub_4012D0(void *this)
{
  return unknown_libname_1(this, this);
}
// 4012F0: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);

//----- (00401320) --------------------------------------------------------
BOOL __cdecl CAuthSocket::Stop()
{
  BOOL result; // eax

  dword_4DA6E4 = 1;
  result = ResetEvent(hEvent);
  if ( Target != -1 )
  {
    CAuthSocket::Write(4, &Source);
    WaitForSingleObject(hEvent, 0xFFFFFFFF);
    result = CloseHandle(hEvent);
    hEvent = 0;
  }
  return result;
}
// 4DA6E4: using guessed type int dword_4DA6E4;

//----- (00401380) --------------------------------------------------------
void __thiscall CAuthSocket::Initialize(CIOSocket *a1, LONG Value)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-Ch]
  CIOSocket *v3; // [esp+0h] [ebp-Ch]
  CIOBuffer *v4; // [esp+4h] [ebp-8h]

  CIOCriticalSection::Enter((CIOCriticalSection *)a1);
  if ( InterlockedExchange(&Target, Value) == -1 )
    sub_4010D0((int)dword_4DA6F0);
  memset(&v2[1].m_critical_section.SpinCount, 0, 0x14u);
  memset(&v2[2].m_critical_section.RecursionCount, 0, 0x14u);
  *(_DWORD *)(v2[2].m_dwEIP[1] + 8000) = 0;
  v2[3].m_critical_section.RecursionCount = 0;
  while ( v2[3].m_critical_section.DebugInfo )
  {
    v4 = (CIOBuffer *)v2[3].m_critical_section.DebugInfo;
    v2[3].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)v4->m_pNext;
    CIOBuffer::Free(v4);
  }
  v2[3].m_critical_section.LockCount = 0;
  v2[3].m_critical_section.DebugInfo = 0;
  CIOCriticalSection::Leave(v2);
  CIOSocket::Initialize(v3);
}
// 4013C0: variable 'v2' is possibly undefined
// 401446: variable 'v3' is possibly undefined
// 4DA6F0: using guessed type int dword_4DA6F0[4];

//----- (00401460) --------------------------------------------------------
void __thiscall CNMSocket::OnTimer(CNMSocket *this, int nId)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi

  if ( !dword_4DA6E4 && !CAuthSocket::Start(v2, v3, v4) )
    CIOObject::AddTimer(this, 0x2710u, 0);
}
// 401470: variable 'v2' is possibly undefined
// 401470: variable 'v3' is possibly undefined
// 401470: variable 'v4' is possibly undefined
// 4DA6E4: using guessed type int dword_4DA6E4;

//----- (00401490) --------------------------------------------------------
void __thiscall CAuthSocket::OnClose(int nAuthSocket)
{
  if ( !dword_4DA6E8 || dword_4DA6E4 )
  {
    SetEvent(hEvent);
  }
  else
  {
    LOG_ERR("Connection closed from Auth Server");
    CIOObject::AddTimer((CIOObject *)nAuthSocket, 0x2710u, 0);
  }
}
// 4DA6E4: using guessed type int dword_4DA6E4;
// 4DA6E8: using guessed type int dword_4DA6E8;

//----- (004014E0) --------------------------------------------------------
void __thiscall CAuthSocket::OnRead(CIOSocket *this)
{
  int dwNumberOfBytesTransferred; // [esp+4h] [ebp-14h]
  CIOObject *v3; // [esp+8h] [ebp-10h]
  size_t v4; // [esp+Ch] [ebp-Ch]
  CIOBuffer *v5; // [esp+10h] [ebp-8h]
  size_t dwLeft; // [esp+14h] [ebp-4h]

  dwLeft = this->m_pReadBuf->m_dwSize;
  v5 = this->m_pReadBuf;
  while ( 1 )
  {
    dwNumberOfBytesTransferred = (int)v5;
    if ( dwLeft < 2 )
      break;
    v4 = *(unsigned __int16 *)v5->m_buffer;
    if ( dwLeft < v4 )
      break;
    dwLeft -= v4;
    v5 = (CIOBuffer *)((char *)v5 + v4);
    v3 = (CIOObject *)MemoryPool_CAuthPacket::_Alloc();
    v3[1].__vftable = (CIOObject_vtbl *)this->m_pReadBuf;
    sub_401570((volatile LONG *)this->m_pReadBuf->m_buffer);
    CIOObject::PostObject(v3, dwNumberOfBytesTransferred);
  }
  CIOSocket::Read(this, dwLeft);
}

//----- (00401570) --------------------------------------------------------
LONG __thiscall sub_401570(volatile LONG *this)
{
  return InterlockedIncrement(this + 2001);
}

//----- (00401590) --------------------------------------------------------
BOOL __thiscall CIOObject::PostObject(CIOObject *this, int nId)
{
  return PostQueuedCompletionStatus(ExistingCompletionPort, nId, (ULONG_PTR)this, 0);
}

//----- (004015C0) --------------------------------------------------------
void __cdecl CAuthSocket::Process(unsigned __int16 *a1)
{
  DWORD v1; // [esp+4h] [ebp-E0h] BYREF
  int *v2; // [esp+8h] [ebp-DCh]
  int v3; // [esp+Ch] [ebp-D8h] BYREF
  int v4; // [esp+10h] [ebp-D4h] BYREF
  CIOObject *v5; // [esp+14h] [ebp-D0h]
  int a3; // [esp+18h] [ebp-CCh] BYREF
  int a2; // [esp+1Ch] [ebp-C8h] BYREF
  int v8; // [esp+20h] [ebp-C4h] BYREF
  char v9[4]; // [esp+24h] [ebp-C0h] BYREF
  char v10[4]; // [esp+28h] [ebp-BCh] BYREF
  char v11[4]; // [esp+2Ch] [ebp-B8h] BYREF
  char v12[4]; // [esp+30h] [ebp-B4h] BYREF
  unsigned __int16 v13; // [esp+34h] [ebp-B0h] BYREF
  int v14; // [esp+38h] [ebp-ACh] BYREF
  DWORD v15; // [esp+3Ch] [ebp-A8h] BYREF
  int *v16; // [esp+40h] [ebp-A4h]
  int v17; // [esp+44h] [ebp-A0h] BYREF
  int v18; // [esp+48h] [ebp-9Ch] BYREF
  DWORD v19; // [esp+4Ch] [ebp-98h] BYREF
  int *v20; // [esp+50h] [ebp-94h]
  unsigned __int8 v21; // [esp+57h] [ebp-8Dh] BYREF
  int v22; // [esp+58h] [ebp-8Ch] BYREF
  unsigned __int8 v23; // [esp+5Fh] [ebp-85h] BYREF
  CIOObject *v24; // [esp+60h] [ebp-84h]
  DWORD v25; // [esp+64h] [ebp-80h] BYREF
  int *v26; // [esp+68h] [ebp-7Ch]
  unsigned __int8 v27; // [esp+6Fh] [ebp-75h] BYREF
  int v28; // [esp+70h] [ebp-74h] BYREF
  const char *v29; // [esp+74h] [ebp-70h] BYREF
  DWORD v30; // [esp+78h] [ebp-6Ch] BYREF
  int *v31; // [esp+7Ch] [ebp-68h]
  unsigned __int8 v32; // [esp+83h] [ebp-61h] BYREF
  int v33; // [esp+84h] [ebp-60h] BYREF
  const char *v34; // [esp+88h] [ebp-5Ch] BYREF
  DWORD v35; // [esp+8Ch] [ebp-58h] BYREF
  CIOCriticalSection *v36; // [esp+90h] [ebp-54h]
  DWORD v37; // [esp+94h] [ebp-50h] BYREF
  int *v38; // [esp+98h] [ebp-4Ch]
  unsigned __int16 v39; // [esp+9Ch] [ebp-48h] BYREF
  int v40; // [esp+A0h] [ebp-44h] BYREF
  unsigned __int16 v41; // [esp+A4h] [ebp-40h] BYREF
  DWORD v42; // [esp+A8h] [ebp-3Ch] BYREF
  int *v43; // [esp+ACh] [ebp-38h]
  unsigned __int8 v44; // [esp+B3h] [ebp-31h] BYREF
  unsigned __int16 v45; // [esp+B4h] [ebp-30h] BYREF
  unsigned __int16 v46; // [esp+B8h] [ebp-2Ch] BYREF
  DWORD v47; // [esp+BCh] [ebp-28h] BYREF
  void *a7; // [esp+C0h] [ebp-24h] BYREF
  void *v49; // [esp+C4h] [ebp-20h]
  unsigned __int8 v50; // [esp+CAh] [ebp-1Ah] BYREF
  unsigned __int8 v51; // [esp+CBh] [ebp-19h] BYREF
  int a6; // [esp+CCh] [ebp-18h] BYREF
  int v53; // [esp+D0h] [ebp-14h] BYREF
  int a5; // [esp+D4h] [ebp-10h] BYREF
  unsigned __int8 v55; // [esp+DAh] [ebp-Ah] BYREF
  unsigned __int8 v56; // [esp+DBh] [ebp-9h] BYREF
  void *Src; // [esp+DCh] [ebp-8h]
  char v58[4]; // [esp+E0h] [ebp-4h]

  Src = (char *)a1 + 3;
  *(_DWORD *)v58 = *((unsigned __int8 *)a1 + 2);
  switch ( *(_DWORD *)v58 )
  {
    case 0:
      ReadPacket((char *)Src, "bdb", &v56, &unk_4DA6EC, &v55);
      if ( v56 <= 2u )
      {
        if ( v55 == dword_4E35B8 )
        {
          dword_4DA6E8 = 1;
          SetEvent(hEvent);
          CAuthSocket::Write(8, "wb", dword_4E1188, dword_4E1184);
          LOG_NORMAL("Auth server version (Version:%d)", v56);
          CServer::Relogin();
        }
        else
        {
          LOG_ERR("Country Code is different (AuthSvr:%d, MainSvr:%d)", v55, dword_4E35B8);
          CIOSocket::WriteCallback((CIOSocket *)dword_4DA6F0);
        }
      }
      else
      {
        LOG_ERR("Auth version is different (AuthSvr:%d, MainSvr:%d)", v56, 2);
        CIOSocket::WriteCallback((CIOSocket *)dword_4DA6F0);
      }
      break;
    case 1:
      ReadPacket((char *)Src, "ddbbdds", &v47, &v53, &v50, &v51, &a5, &a6, &a7);
      v49 = (void *)sub_47E800(v47);
      if ( v49 )
      {
        sub_495770(v49, v50, v53, v51, a5, a6, a7);
        sub_401DE0((int *)v49);
      }
      else if ( v50 == 1 )
      {
        CAuthSocket::Write(2, "dddwbdddb", v47, v53, 0, 0, v51, a6, 0, 0, 7);
      }
      break;
    case 2:
      ReadPacket((char *)Src, "dbww", &v42, &v44, &v45, &v46);
      v43 = (int *)sub_47E800(v42);
      if ( v43 )
      {
        sub_495980(v43, v44, v45, v46);
        sub_401DE0(v43);
      }
      break;
    case 3:
      ReadPacket((char *)Src, "dwwd", &v37, &v39, &v41, &v40);
      v38 = (int *)sub_47E800(v37);
      if ( v38 )
      {
        CSocket::OnUserAllCount(v38, v39, v41, v40);
        sub_401DE0(v38);
      }
      break;
    case 4:
      ReadPacket((char *)Src, "d", &v35);
      v36 = (CIOCriticalSection *)sub_47E800(v35);
      if ( v36 )
      {
        CSocket::OnKickOut(v36);
        sub_401DE0((int *)v36);
      }
      break;
    case 5:
      ReadPacket((char *)Src, "dbds", &v30, &v32, &v33, &v34);
      v31 = (int *)sub_47E800(v30);
      if ( v31 )
      {
        CSocket::OnFreeAccount(v31, v32, v33, v34);
        sub_401DE0(v31);
      }
      break;
    case 6:
      ReadPacket((char *)Src, "dbds", &v25, &v27, &v28, &v29);
      v26 = (int *)sub_47E800(v25);
      if ( v26 )
      {
        sub_495CC0(v26, v27, v28, v29);
        sub_401DE0(v26);
      }
      break;
    case 7:
      Src = ReadPacket((char *)Src, "db", &v22, &v23);
      v24 = CPlayer::FindPlayer_(v22);
      if ( v24 )
      {
        CPlayer::OnProcessEvent(v24, v23, Src);
        CIOObject::Release(v24, (volatile int *)&v24[22]);
      }
      break;
    case 8:
      CDBSocket::Write(53, "m", Src, (char *)a1 + *a1 - (_BYTE *)Src);
      break;
    case 9:
      if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
      {
        Src = ReadPacket((char *)Src, "db", &v19, &v21);
        v20 = (int *)sub_47E800(v19);
        if ( v20 )
        {
          CSocket::OnRequestCopy((int)v20, v21, Src, (int)a1 + *a1);
          sub_401DE0(v20);
        }
      }
      break;
    case 0xA:
      ReadPacket((char *)Src, "ddd", &v15, &v18, &v17);
      v16 = (int *)sub_47E800(v15);
      if ( v16 )
      {
        CSocket::Write((int)v16, 99, "dd", v18, v17);
        sub_401DE0(v16);
      }
      break;
    case 0xB:
      Src = ReadPacket((char *)Src, "dw", &v14, &v13);
      CGoods::ForcedStorageIn(v14, v13, Src);
      break;
    case 0xC:
      Src = ReadPacket((char *)Src, "ds", v12, v11);
      if ( *(int *)v12 >= 0 )
      {
        if ( *(_DWORD *)v12 )
        {
          if ( dword_4E17B8 )
          {
            LOG_INFO("[Shutdown] Shutdown's already started. (%d min. remains)", dword_4E17B8 / 60000);
          }
          else
          {
            if ( **(_BYTE **)v11 )
            {
              CPlayer::WriteAll(15, "s", *(_DWORD *)v11);
              if ( dword_4E35B8 == 1 )
                LOG_NORMAL("[GM Command] Notice from Auth : %s", *(const char **)v11);
            }
            dword_4E17B8 = 60000 * *(_DWORD *)v12;
            SetTimer(hWnd, 2u, 0x2710u, 0);
            LOG_NORMAL("Shutdown's started. (%d min. remains)", *(_DWORD *)v12);
          }
        }
        else if ( dword_4E17B8 )
        {
          KillTimer(hWnd, 2u);
          dword_4E17B8 = 0;
          LOG_NORMAL("Shutdown's canceled.");
        }
      }
      else if ( **(_BYTE **)v11 )
      {
        CPlayer::WriteAll(15, "s", *(_DWORD *)v11);
        if ( dword_4E35B8 == 1 )
          LOG_NORMAL("[GM Command] Notice from Auth : %s", *(const char **)v11);
      }
      break;
    case 0xD:
      ReadPacket((char *)Src, "dd", v9, v10);
      break;
    case 0xE:
      v4 = 0;
      v8 = 0;
      a3 = 0;
      a2 = 0;
      ReadPacket((char *)Src, "dddd", &v4, &v8, &a2, &a3);
      v5 = sub_450790(v4);
      if ( v5 )
      {
        CPlayer::EventProcessNPC(v5, a2, a3, 3);
        CIOObject::Release(v5, (volatile int *)&v5[22]);
      }
      break;
    case 0xF:
      ReadPacket((char *)Src, "dd", &v3, &v1);
      CDBSocket::Write(80, "d", v3);
      v2 = (int *)sub_47E800(v1);
      if ( v2 )
      {
        sub_496CD0(v2 + 27, 7u);
        sub_401DE0(v2);
      }
      break;
    default:
      LOG_ERR("invalid packet type at CAuthSocket::Process Type(%d)", *(_DWORD *)v58);
      break;
  }
}
// 4DA6E8: using guessed type int dword_4DA6E8;
// 4DA6F0: using guessed type int dword_4DA6F0[4];
// 4E1184: using guessed type int dword_4E1184;
// 4E1188: using guessed type int dword_4E1188;
// 4E17B8: using guessed type int dword_4E17B8;
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00401DE0) --------------------------------------------------------
void __thiscall sub_401DE0(int *this)
{
  CIOObject::Release((CIOObject *)this, this + 3);
}

//----- (00401E00) --------------------------------------------------------
void CAuthSocket::Write(char a1, ...)
{
  CIOBuffer *v1; // [esp+4h] [ebp-Ch]
  va_list va; // [esp+1Ch] [ebp+Ch] BYREF

  va_start(va, a1);
  if ( Target != -1 )
  {
    v1 = CIOBuffer::Alloc();
    v1->m_buffer[2] = a1;
    *(_WORD *)v1->m_buffer = (unsigned __int16)WritePacket(&v1->m_buffer[3], (int)va) - (_WORD)v1;
    v1->m_dwSize = *(unsigned __int16 *)v1->m_buffer;
    CIOSocket::Write((CIOSocket *)dword_4DA6F0, v1);
  }
}
// 4DA6F0: using guessed type int dword_4DA6F0[4];

//----- (00401E80) --------------------------------------------------------
int __cdecl MemoryPool_CAuthPacket::_Alloc()
{
  int result; // eax
  CIOObject *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA768);
  v3 = dword_4DA764;
  if ( dword_4DA764 )
  {
    dword_4DA764 = *(_DWORD *)(dword_4DA764 + 16);
    sub_401F30(&dword_4DA768);
    result = v3;
  }
  else
  {
    sub_401F30(&dword_4DA768);
    v2 = sub_401000(0x14u);
    if ( v2 )
      v1 = sub_401F80((CIOObject *)v2);
    else
      v1 = 0;
    result = (int)v1;
  }
  return result;
}
// 4DA764: using guessed type int dword_4DA764;

//----- (00401F00) --------------------------------------------------------
LONG __thiscall CIOSpinLock::Enter(CIOSpinLock *this)
{
  LONG result; // eax

  result = InterlockedCompareExchange((volatile LONG *)this, 1, 0);
  if ( result )
    result = CIOSocket::AddIOThread((volatile LONG *)this);
  return result;
}

//----- (00401F30) --------------------------------------------------------
LONG __thiscall sub_401F30(volatile LONG *this)
{
  return InterlockedExchange(this, 0);
}

//----- (00401F50) --------------------------------------------------------
LONG __cdecl CMemoryPool<CBillingPacket>::Free(CBillingPacket *pT)
{
  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA768);
  *((_DWORD *)pT + 4) = dword_4DA764;
  dword_4DA764 = (int)pT;
  return sub_401F30(&dword_4DA768);
}
// 4DA764: using guessed type int dword_4DA764;

//----- (00401F80) --------------------------------------------------------
CIOObject *__thiscall sub_401F80(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_4B4564;
  return this;
}
// 4B4564: using guessed type int (__stdcall *off_4B4564)(int);

//----- (00401FA0) --------------------------------------------------------
CIOObject *__thiscall CIOObject::CIOObject(CIOObject *this)
{
  *(_DWORD *)this = &off_4B457C;
  *((_DWORD *)this + 1) = 1;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 1;
  return this;
}
// 4B457C: using guessed type int (__stdcall *off_4B457C)(int);

//----- (00401FE0) --------------------------------------------------------
std::locale::facet *__thiscall sub_401FE0(std::locale::facet *this, char a2)
{
  std::locale::facet::~facet(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (00402010) --------------------------------------------------------
void __thiscall sub_402010(std::locale::facet *this)
{
  std::locale::facet::~facet(this);
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (00402030) --------------------------------------------------------
LONG __thiscall sub_402030(void *this)
{
  return CMemoryPool<CBillingPacket>::FreeAll();
}

//----- (00402040) --------------------------------------------------------
LONG CMemoryPool<CBillingPacket>::FreeAll()
{
  void (__thiscall ***v1)(_DWORD, int); // [esp+Ch] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA768);
  while ( 1 )
  {
    v1 = (void (__thiscall ***)(_DWORD, int))dword_4DA764;
    if ( !dword_4DA764 )
      break;
    dword_4DA764 = *(_DWORD *)(dword_4DA764 + 16);
    if ( v1 )
      (**v1)(v1, 1);
  }
  return sub_401F30(&dword_4DA768);
}
// 4DA764: using guessed type int dword_4DA764;

//----- (004020B0) --------------------------------------------------------
void __thiscall sub_4020B0(void *this)
{
  CMemoryPool_CSkill::_FreeAll(this);
}

//----- (004020C0) --------------------------------------------------------
void __cdecl CMemoryPool_CSkill::_FreeAll(void *a1)
{
  void *v1; // [esp+4h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA760);
  while ( 1 )
  {
    v1 = (void *)dword_4DA75C;
    if ( !dword_4DA75C )
      break;
    dword_4DA75C = *(_DWORD *)(dword_4DA75C + 4);
    sub_401020(v1);
  }
  sub_401F30(&dword_4DA760);
}
// 4DA75C: using guessed type int dword_4DA75C;

//----- (00402110) --------------------------------------------------------
int __thiscall CBase::CBase(int this)
{
  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_4B4598;
  *(_DWORD *)(this + 16) = -6;
  *(_DWORD *)(this + 28) = InterlockedIncrement(&Addend);
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 20) = 0;
  InterlockedIncrement((volatile LONG *)(this + 8));
  InterlockedDecrement((volatile LONG *)(this + 12));
  return this;
}
// 4B4598: using guessed type int (__stdcall *off_4B4598)(int);

//----- (00402180) --------------------------------------------------------
void __thiscall sub_402180(int this)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi

  CIOObject::Release((CIOObject *)this, v1, v2, v3, (volatile int *)(this + 8));
}
// 402191: variable 'v1' is possibly undefined
// 402191: variable 'v2' is possibly undefined
// 402191: variable 'v3' is possibly undefined

//----- (004021B0) --------------------------------------------------------
void __stdcall sub_4021B0(int a1, int a2)
{
  ;
}

//----- (004021C0) --------------------------------------------------------
void *__thiscall sub_4021C0(void *this, char a2)
{
  CBase::_CBase((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004021F0) --------------------------------------------------------
void __thiscall CBase::_CBase(std::locale::facet *this)
{
  this->__vftable = (std::locale::facet_vtbl *)&off_4B4598;
  if ( this[2].__vftable != (std::locale::facet_vtbl *)-6 )
    EBREAK((int)this);
  std::locale::facet::~facet(this);
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);
// 4B4598: using guessed type int (__stdcall *off_4B4598)(int);

//----- (00402220) --------------------------------------------------------
int __thiscall CBase::OnFree(int this)
{
  int result; // eax

  result = this;
  if ( *(_DWORD *)(this + 16) != -6 )
    EBREAK(this);
  if ( this )
    result = (**(int (__thiscall ***)(int, int))this)(this, 1);
  return result;
}

//----- (00402270) --------------------------------------------------------
int __thiscall CBase::Set(void *this, int a2, char a3)
{
  int v3; // eax
  lisp::var *v4; // eax
  int v5; // ecx
  lisp::var *v6; // eax
  const char *v7; // eax
  int v8; // [esp-4h] [ebp-1Ch] BYREF
  void *v9; // [esp+0h] [ebp-18h]
  lisp::var v10[2]; // [esp+4h] [ebp-14h] BYREF
  lisp::var v11; // [esp+Ch] [ebp-Ch] BYREF
  char v12[4]; // [esp+10h] [ebp-8h]
  lisp::var result; // [esp+14h] [ebp-4h] BYREF
  int a2a; // [esp+20h] [ebp+8h]

  v9 = this;
  if ( a2 )
  {
    v6 = lisp::var::pop((lisp::var *)&a3, v10);
    v7 = (const char *)sub_402360(v6);
    LOG_ERR("invalid symbol(%d) value(%s) at CBase::Set", a2, v7);
    v3 = 0;
  }
  else
  {
    do
    {
      if ( (unsigned __int8)sub_402380(&a3) )
        return 1;
      lisp::var::pop((lisp::var *)&a3, &result);
      v4 = lisp::var::pop(&result, &v11);
      *(_DWORD *)v12 = sub_402360(v4);
      a2a = CObjectDB::FindSymbol(*(int *)v12);
      if ( !a2a )
      {
        LOG_ERR("invalid symbol(%s) at CBase::Set", *(const char **)v12);
        return 0;
      }
      v8 = v5;
      sub_402340(&v8, &result);
    }
    while ( (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)v9 + 28))(v9, a2a, v8) );
    v3 = 0;
  }
  return v3;
}
// 4022E8: variable 'v5' is possibly undefined

//----- (00402340) --------------------------------------------------------
_DWORD *__thiscall sub_402340(_DWORD *this, _DWORD *a2)
{
  *this = *a2;
  return this;
}

//----- (00402360) --------------------------------------------------------
int __thiscall sub_402360(_DWORD *this)
{
  return (**(int (__thiscall ***)(_DWORD, _DWORD *))*this)(*this, this);
}

//----- (00402380) --------------------------------------------------------
int __thiscall sub_402380(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 24))(*this, this);
}

//----- (004023A0) --------------------------------------------------------
lisp::var *__thiscall lisp::var::pop(lisp::var *this, lisp::var *result)
{
  lisp::var *v2; // eax
  lisp::_object *v4; // [esp+4h] [ebp-4h]

  v4 = this->m_pObject;
  this->m_pObject = this->m_pObject->cdr(this)->m_pObject;
  v2 = v4->car(v4);
  sub_402340(result, v2);
  return result;
}

//----- (004023F0) --------------------------------------------------------
CMemory **__thiscall CBaseList::Push(CMemory *this, CMemory *a2)
{
  CMemory **v4; // [esp+4h] [ebp-4h]

  v4 = (CMemory **)CMemoryPool_CBaseList::_Alloc();
  sub_4010D0((int)a2);
  *v4 = a2;
  v4[1] = this;
  return v4;
}

//----- (00402430) --------------------------------------------------------
int __thiscall CBaseList::Pop(CIOObject *this)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = this->m_nRef;
  sub_401DE0((int *)this->__vftable);
  CMemoryPool_CBaseList::_Free((int)this);
  return v3;
}

//----- (00402460) --------------------------------------------------------
void *__cdecl CMemoryPool_CBaseList::_Alloc()
{
  void *result; // eax
  void *v1; // [esp+4h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA774);
  v1 = (void *)dword_4DA770;
  if ( dword_4DA770 )
  {
    dword_4DA770 = *(_DWORD *)(dword_4DA770 + 4);
    sub_401F30(&dword_4DA774);
    result = v1;
  }
  else
  {
    sub_401F30(&dword_4DA774);
    result = sub_401000(8u);
  }
  return result;
}
// 4DA770: using guessed type int dword_4DA770;

//----- (004024C0) --------------------------------------------------------
LONG __cdecl CMemoryPool_CBaseList::_Free(int a1)
{
  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA774);
  *(_DWORD *)(a1 + 4) = dword_4DA770;
  dword_4DA770 = a1;
  return sub_401F30(&dword_4DA774);
}
// 4DA770: using guessed type int dword_4DA770;

//----- (004024F0) --------------------------------------------------------
LONG __thiscall sub_4024F0(void *this)
{
  return sub_402500();
}

//----- (00402500) --------------------------------------------------------
LONG sub_402500()
{
  void *v1; // [esp+4h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA774);
  while ( 1 )
  {
    v1 = (void *)dword_4DA770;
    if ( !dword_4DA770 )
      break;
    dword_4DA770 = *(_DWORD *)(dword_4DA770 + 4);
    sub_401020(v1);
  }
  return sub_401F30(&dword_4DA774);
}
// 4DA770: using guessed type int dword_4DA770;

//----- (00402550) --------------------------------------------------------
_DWORD *__thiscall sub_402550(_DWORD *this)
{
  *this = off_4B4630;
  this[5] = 0;
  return this;
}
// 4B4630: using guessed type int (__stdcall *off_4B4630[3])(int);

//----- (00402580) --------------------------------------------------------
int __stdcall CBuff::UpdateBuff(std::locale::facet *a1, int a2)
{
  if ( a1 )
    std::locale::facet::`scalar deleting destructor'(a1, 1);
  return 0;
}

//----- (004025F0) --------------------------------------------------------
_DWORD *__thiscall std::locale::facet::~facet(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  *this = off_4B4630;
  return result;
}
// 4B4630: using guessed type int (__stdcall *off_4B4630[3])(int);

//----- (00402610) --------------------------------------------------------
CBuffMoveSpeed *__cdecl CBuff::CreateBuff(int a1, __int32 a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int v6; // [esp+0h] [ebp-540h]
  int v7; // [esp+4h] [ebp-53Ch]
  CBuffMixDamage *v8; // [esp+8h] [ebp-538h]
  _DWORD *v9; // [esp+Ch] [ebp-534h]
  CBuffExpireEvent *v10; // [esp+10h] [ebp-530h]
  CBuffExpireEvent *v11; // [esp+14h] [ebp-52Ch]
  CBuffExpireEvent *v12; // [esp+18h] [ebp-528h]
  _DWORD *v13; // [esp+1Ch] [ebp-524h]
  CBuffRemainPrty *v14; // [esp+20h] [ebp-520h]
  CBuffRemainPrty *v15; // [esp+24h] [ebp-51Ch]
  CBuffRemainPrty *v16; // [esp+28h] [ebp-518h]
  CBuffRemainPrty *v17; // [esp+2Ch] [ebp-514h]
  CBuffRemainPrty *v18; // [esp+30h] [ebp-510h]
  int v19; // [esp+34h] [ebp-50Ch]
  _DWORD *v20; // [esp+38h] [ebp-508h]
  _DWORD *v21; // [esp+3Ch] [ebp-504h]
  CBuffRemainLuckyStone1 *v22; // [esp+40h] [ebp-500h]
  _DWORD *v23; // [esp+44h] [ebp-4FCh]
  _DWORD *v24; // [esp+48h] [ebp-4F8h]
  _DWORD *v25; // [esp+4Ch] [ebp-4F4h]
  _DWORD *v26; // [esp+50h] [ebp-4F0h]
  CBuffRemainPrty *v27; // [esp+54h] [ebp-4ECh]
  CBuffRemainPrty *v28; // [esp+58h] [ebp-4E8h]
  CBuffRemainPrty *v29; // [esp+5Ch] [ebp-4E4h]
  CBuffRemainPrty *v30; // [esp+60h] [ebp-4E0h]
  CBuffRemainPrty *v31; // [esp+64h] [ebp-4DCh]
  _DWORD *v32; // [esp+68h] [ebp-4D8h]
  _DWORD *v33; // [esp+6Ch] [ebp-4D4h]
  _DWORD *v34; // [esp+70h] [ebp-4D0h]
  _DWORD *v35; // [esp+74h] [ebp-4CCh]
  _DWORD *v36; // [esp+78h] [ebp-4C8h]
  _DWORD *v37; // [esp+7Ch] [ebp-4C4h]
  _DWORD *v38; // [esp+80h] [ebp-4C0h]
  _DWORD *v39; // [esp+84h] [ebp-4BCh]
  _DWORD *v40; // [esp+88h] [ebp-4B8h]
  _DWORD *v41; // [esp+8Ch] [ebp-4B4h]
  _DWORD *v42; // [esp+90h] [ebp-4B0h]
  CBuffExpire *v43; // [esp+94h] [ebp-4ACh]
  CBuffExpireEvent *v44; // [esp+98h] [ebp-4A8h]
  CBuffExpireEvent *v45; // [esp+9Ch] [ebp-4A4h]
  CBuffExpireEvent *v46; // [esp+A0h] [ebp-4A0h]
  CBuffExpireLuckyStone2 *v47; // [esp+A4h] [ebp-49Ch]
  CBuffExpire *v48; // [esp+A8h] [ebp-498h]
  CBuffExpire *v49; // [esp+ACh] [ebp-494h]
  CBuffExpire *v50; // [esp+B0h] [ebp-490h]
  CBuffExpire *v51; // [esp+B4h] [ebp-48Ch]
  CBuffExpire *v52; // [esp+B8h] [ebp-488h]
  CBuffExpire *v53; // [esp+BCh] [ebp-484h]
  int v54; // [esp+C0h] [ebp-480h]
  int v55; // [esp+C4h] [ebp-47Ch]
  int v56; // [esp+C8h] [ebp-478h]
  int v57; // [esp+CCh] [ebp-474h]
  int v58; // [esp+D0h] [ebp-470h]
  int v59; // [esp+D4h] [ebp-46Ch]
  int v60; // [esp+D8h] [ebp-468h]
  int v61; // [esp+DCh] [ebp-464h]
  int v62; // [esp+E0h] [ebp-460h]
  int v63; // [esp+E4h] [ebp-45Ch]
  int v64; // [esp+E8h] [ebp-458h]
  int v65; // [esp+ECh] [ebp-454h]
  int v66; // [esp+F0h] [ebp-450h]
  int v67; // [esp+F4h] [ebp-44Ch]
  int v68; // [esp+F8h] [ebp-448h]
  int v69; // [esp+FCh] [ebp-444h]
  int v70; // [esp+100h] [ebp-440h]
  int v71; // [esp+104h] [ebp-43Ch]
  int v72; // [esp+108h] [ebp-438h]
  int v73; // [esp+10Ch] [ebp-434h]
  int v74; // [esp+110h] [ebp-430h]
  int v75; // [esp+114h] [ebp-42Ch]
  int v76; // [esp+118h] [ebp-428h]
  int v77; // [esp+11Ch] [ebp-424h]
  int v78; // [esp+120h] [ebp-420h]
  int v79; // [esp+124h] [ebp-41Ch]
  int v80; // [esp+128h] [ebp-418h]
  CBuff *v81; // [esp+12Ch] [ebp-414h]
  int v82; // [esp+130h] [ebp-410h]
  int v83; // [esp+134h] [ebp-40Ch]
  int v84; // [esp+138h] [ebp-408h]
  int v85; // [esp+13Ch] [ebp-404h]
  int v86; // [esp+140h] [ebp-400h]
  int v87; // [esp+144h] [ebp-3FCh]
  int v88; // [esp+148h] [ebp-3F8h]
  CBuff *v89; // [esp+14Ch] [ebp-3F4h]
  int v90; // [esp+150h] [ebp-3F0h]
  int v91; // [esp+154h] [ebp-3ECh]
  int v92; // [esp+158h] [ebp-3E8h]
  int v93; // [esp+15Ch] [ebp-3E4h]
  int v94; // [esp+160h] [ebp-3E0h]
  int v95; // [esp+164h] [ebp-3DCh]
  int v96; // [esp+168h] [ebp-3D8h]
  int v97; // [esp+16Ch] [ebp-3D4h]
  int v98; // [esp+170h] [ebp-3D0h]
  int v99; // [esp+174h] [ebp-3CCh]
  int v100; // [esp+178h] [ebp-3C8h]
  int v101; // [esp+17Ch] [ebp-3C4h]
  int v102; // [esp+180h] [ebp-3C0h]
  int v103; // [esp+184h] [ebp-3BCh]
  int v104; // [esp+188h] [ebp-3B8h]
  int v105; // [esp+18Ch] [ebp-3B4h]
  int v106; // [esp+190h] [ebp-3B0h]
  CBuff *v107; // [esp+194h] [ebp-3ACh]
  CBuff *v108; // [esp+198h] [ebp-3A8h]
  int v109; // [esp+19Ch] [ebp-3A4h]
  int v110; // [esp+1A0h] [ebp-3A0h]
  int v111; // [esp+1A4h] [ebp-39Ch]
  CBuffHaste *v112; // [esp+1A8h] [ebp-398h]
  int v113; // [esp+1ACh] [ebp-394h]
  int v114; // [esp+1B0h] [ebp-390h]
  int v115; // [esp+1B4h] [ebp-38Ch]
  int v116; // [esp+1B8h] [ebp-388h]
  int v117; // [esp+1BCh] [ebp-384h]
  int v118; // [esp+1C0h] [ebp-380h]
  int v119; // [esp+1C4h] [ebp-37Ch]
  CBuffRevivalSequela *v120; // [esp+1C8h] [ebp-378h]
  int v121; // [esp+1CCh] [ebp-374h]
  _DWORD *v122; // [esp+1D0h] [ebp-370h]
  CBuffStone *v123; // [esp+1D4h] [ebp-36Ch]
  CBuffMoveSpeed *v124; // [esp+1D8h] [ebp-368h]
  CMemory **v125; // [esp+1E0h] [ebp-360h]
  CMemory **v126; // [esp+1E4h] [ebp-35Ch]
  CMemory **v127; // [esp+1E8h] [ebp-358h]
  CMemory **v128; // [esp+1ECh] [ebp-354h]
  CMemory **v129; // [esp+1F0h] [ebp-350h]
  CMemory **v130; // [esp+1F4h] [ebp-34Ch]
  CMemory **v131; // [esp+1F8h] [ebp-348h]
  CMemory **v132; // [esp+1FCh] [ebp-344h]
  CMemory **v133; // [esp+200h] [ebp-340h]
  CMemory **v134; // [esp+204h] [ebp-33Ch]
  CMemory **v135; // [esp+208h] [ebp-338h]
  CMemory **v136; // [esp+20Ch] [ebp-334h]
  CMemory **v137; // [esp+210h] [ebp-330h]
  CMemory **v138; // [esp+214h] [ebp-32Ch]
  CMemory **v139; // [esp+218h] [ebp-328h]
  CMemory **v140; // [esp+21Ch] [ebp-324h]
  CMemory **v141; // [esp+220h] [ebp-320h]
  CMemory **v142; // [esp+224h] [ebp-31Ch]
  CMemory **v143; // [esp+228h] [ebp-318h]
  CMemory **v144; // [esp+22Ch] [ebp-314h]
  CMemory **v145; // [esp+230h] [ebp-310h]
  CMemory **v146; // [esp+234h] [ebp-30Ch]
  CMemory **v147; // [esp+238h] [ebp-308h]
  CMemory **v148; // [esp+23Ch] [ebp-304h]
  CMemory **v149; // [esp+240h] [ebp-300h]
  CMemory **v150; // [esp+244h] [ebp-2FCh]
  CMemory **v151; // [esp+248h] [ebp-2F8h]
  CMemory **v152; // [esp+24Ch] [ebp-2F4h]
  CMemory **v153; // [esp+250h] [ebp-2F0h]
  CMemory **v154; // [esp+254h] [ebp-2ECh]
  CMemory **v155; // [esp+258h] [ebp-2E8h]
  CMemory **v156; // [esp+25Ch] [ebp-2E4h]
  CMemory **v157; // [esp+260h] [ebp-2E0h]
  CMemory **v158; // [esp+264h] [ebp-2DCh]
  CMemory **v159; // [esp+268h] [ebp-2D8h]
  CMemory **v160; // [esp+26Ch] [ebp-2D4h]
  CMemory **v161; // [esp+270h] [ebp-2D0h]
  CMemory **v162; // [esp+274h] [ebp-2CCh]
  CMemory **v163; // [esp+278h] [ebp-2C8h]
  CMemory **v164; // [esp+27Ch] [ebp-2C4h]
  CMemory **v165; // [esp+280h] [ebp-2C0h]
  CMemory **v166; // [esp+284h] [ebp-2BCh]
  CMemory **v167; // [esp+288h] [ebp-2B8h]
  CMemory **v168; // [esp+28Ch] [ebp-2B4h]
  CMemory **v169; // [esp+290h] [ebp-2B0h]
  CMemory **v170; // [esp+294h] [ebp-2ACh]
  CMemory **v171; // [esp+298h] [ebp-2A8h]
  CMemory **v172; // [esp+29Ch] [ebp-2A4h]
  CMemory **v173; // [esp+2A0h] [ebp-2A0h]
  CMemory **v174; // [esp+2A4h] [ebp-29Ch]
  CMemory **v175; // [esp+2A8h] [ebp-298h]
  CMemory **v176; // [esp+2ACh] [ebp-294h]
  CMemory **v177; // [esp+2B0h] [ebp-290h]
  CMemory **v178; // [esp+2B4h] [ebp-28Ch]
  CMemory **v179; // [esp+2B8h] [ebp-288h]
  CMemory **v180; // [esp+2BCh] [ebp-284h]
  CMemory **v181; // [esp+2C0h] [ebp-280h]
  CMemory **v182; // [esp+2C4h] [ebp-27Ch]
  CMemory **v183; // [esp+2C8h] [ebp-278h]
  CMemory **v184; // [esp+2CCh] [ebp-274h]
  CMemory **v185; // [esp+2D0h] [ebp-270h]
  CMemory **v186; // [esp+2D4h] [ebp-26Ch]
  CMemory **v187; // [esp+2D8h] [ebp-268h]
  CMemory **v188; // [esp+2DCh] [ebp-264h]
  CMemory **v189; // [esp+2E0h] [ebp-260h]
  CMemory **v190; // [esp+2E4h] [ebp-25Ch]
  CMemory **v191; // [esp+2E8h] [ebp-258h]
  CMemory **v192; // [esp+2ECh] [ebp-254h]
  CMemory **v193; // [esp+2F0h] [ebp-250h]
  CMemory **v194; // [esp+2F4h] [ebp-24Ch]
  CMemory **v195; // [esp+2F8h] [ebp-248h]
  CMemory **v196; // [esp+2FCh] [ebp-244h]
  CMemory **v197; // [esp+300h] [ebp-240h]
  CMemory **v198; // [esp+304h] [ebp-23Ch]
  CMemory **v199; // [esp+308h] [ebp-238h]
  CMemory **v200; // [esp+30Ch] [ebp-234h]
  CMemory **v201; // [esp+310h] [ebp-230h]
  CMemory **v202; // [esp+314h] [ebp-22Ch]
  CMemory **v203; // [esp+318h] [ebp-228h]
  CMemory **v204; // [esp+31Ch] [ebp-224h]
  CMemory **v205; // [esp+320h] [ebp-220h]
  CMemory **v206; // [esp+324h] [ebp-21Ch]
  CMemory **v207; // [esp+328h] [ebp-218h]
  CMemory **v208; // [esp+32Ch] [ebp-214h]
  CMemory **v209; // [esp+330h] [ebp-210h]
  CMemory **v210; // [esp+334h] [ebp-20Ch]
  CMemory **v211; // [esp+338h] [ebp-208h]
  CMemory **v212; // [esp+33Ch] [ebp-204h]
  CMemory **v213; // [esp+340h] [ebp-200h]
  CMemory **v214; // [esp+344h] [ebp-1FCh]
  CMemory **v215; // [esp+348h] [ebp-1F8h]
  CMemory **v216; // [esp+34Ch] [ebp-1F4h]
  CMemory **v217; // [esp+350h] [ebp-1F0h]
  CMemory **v218; // [esp+354h] [ebp-1ECh]
  CMemory **v219; // [esp+358h] [ebp-1E8h]
  CMemory **v220; // [esp+35Ch] [ebp-1E4h]
  CMemory **v221; // [esp+360h] [ebp-1E0h]
  CMemory **v222; // [esp+364h] [ebp-1DCh]
  CMemory **v223; // [esp+368h] [ebp-1D8h]
  CMemory **v224; // [esp+36Ch] [ebp-1D4h]
  CMemory **v225; // [esp+370h] [ebp-1D0h]
  CMemory **v226; // [esp+374h] [ebp-1CCh]
  CMemory **v227; // [esp+378h] [ebp-1C8h]
  CMemory **v228; // [esp+37Ch] [ebp-1C4h]
  CMemory **v229; // [esp+380h] [ebp-1C0h]
  CMemory **v230; // [esp+384h] [ebp-1BCh]
  CMemory **v231; // [esp+388h] [ebp-1B8h]
  CMemory **v232; // [esp+38Ch] [ebp-1B4h]
  CMemory **v233; // [esp+390h] [ebp-1B0h]
  CMemory **v234; // [esp+394h] [ebp-1ACh]
  CMemory **v235; // [esp+398h] [ebp-1A8h]
  CMemory **v236; // [esp+39Ch] [ebp-1A4h]
  CMemory **v237; // [esp+3A0h] [ebp-1A0h]
  CMemory **v238; // [esp+3A4h] [ebp-19Ch]
  CMemory **v239; // [esp+3A8h] [ebp-198h]
  CMemory **v240; // [esp+3ACh] [ebp-194h]
  CBuffStone *v241; // [esp+3B4h] [ebp-18Ch]
  CBuffMoveSpeed *v242; // [esp+3B8h] [ebp-188h]
  __int32 v243; // [esp+534h] [ebp-Ch]
  _DWORD *v244; // [esp+53Ch] [ebp-4h]

  v244 = 0;
  v243 = a2;
  switch ( a1 )
  {
    case 0:
      v242 = (CBuffMoveSpeed *)sub_401000(0x1Cu);
      if ( v242 )
        v124 = CBuffMoveSpeed::CBuffMoveSpeed(v242, a1, 1000 * a2, a3);
      else
        v124 = 0;
      v244 = &v124->__vftable;
      break;
    case 1:
      v241 = (CBuffStone *)sub_401000(0x1Cu);
      if ( v241 )
        v123 = CBuffStone::CBuffStone(v241, a1, 1000 * a2, a3, a4);
      else
        v123 = 0;
      v244 = &v123->__vftable;
      break;
    case 2:
      if ( sub_401000(0x1Cu) )
      {
        CBuffMeditation::CBuffMeditation(a1, 1000 * a2, a3);
        v122 = v4;
      }
      else
      {
        v122 = 0;
      }
      v244 = v122;
      break;
    case 3:
      v240 = sub_401000(0x1Cu);
      if ( v240 )
        v121 = sub_405D70((int)v240, a1, 1000 * a2, a3, a4);
      else
        v121 = 0;
      v244 = (_DWORD *)v121;
      break;
    case 4:
      v239 = sub_401000(0x18u);
      if ( v239 )
        v120 = CBuffRevivalSequela::CBuffRevivalSequela((CBuffRevivalSequela *)v239, a1, 1000 * a2, a3);
      else
        v120 = 0;
      v244 = &v120->__vftable;
      break;
    case 5:
      v238 = sub_401000(0x30u);
      if ( v238 )
        v119 = CBuffPrty::CBuffPrty((int)v238, a1, 1000 * a2, 1, 64, 0, 27, a3, 2, a3);
      else
        v119 = 0;
      v244 = (_DWORD *)v119;
      break;
    case 6:
      v237 = sub_401000(0x30u);
      if ( v237 )
        v118 = CBuffPrty::CBuffPrty((int)v237, a1, 1000 * a2, 1, 128, 0, 28, a3, 2, a3);
      else
        v118 = 0;
      v244 = (_DWORD *)v118;
      break;
    case 7:
      v236 = sub_401000(0x1Cu);
      if ( v236 )
        v117 = sub_405DE0((int)v236, a1, 1000 * a2, 0);
      else
        v117 = 0;
      v244 = (_DWORD *)v117;
      break;
    case 8:
      v235 = sub_401000(0x1Cu);
      if ( v235 )
        v116 = sub_405E20((int)v235, a1, 1000 * a2, 0);
      else
        v116 = 0;
      v244 = (_DWORD *)v116;
      break;
    case 9:
      v234 = sub_401000(0x30u);
      if ( v234 )
        v115 = CBuffPrty::CBuffPrty((int)v234, a1, 1000 * a2, 2, 1024, 0, 9, a3, 1, 0);
      else
        v115 = 0;
      v244 = (_DWORD *)v115;
      break;
    case 10:
      v233 = sub_401000(0x30u);
      if ( v233 )
        v114 = CBuffPrty::CBuffPrty((int)v233, a1, 1000 * a2, 2, 2048, 0, 11, a3, 1, 0);
      else
        v114 = 0;
      v244 = (_DWORD *)v114;
      break;
    case 11:
      v232 = sub_401000(0x20u);
      if ( v232 )
        v113 = CBuffPoison::CBuffPoison((int)v232, a1, 1000 * a2, a3);
      else
        v113 = 0;
      v244 = (_DWORD *)v113;
      break;
    case 12:
      v231 = sub_401000(0x18u);
      if ( v231 )
        v112 = CBuffHaste::CBuffHaste((CBuffHaste *)v231, a1, 1000 * a2, a3);
      else
        v112 = 0;
      v244 = &v112->__vftable;
      break;
    case 13:
      v230 = sub_401000(0x30u);
      if ( v230 )
        v111 = CBuffPrty::CBuffPrty((int)v230, a1, 1000 * a2, 2, 0x4000, 0, 37, a3, 2, 0);
      else
        v111 = 0;
      v244 = (_DWORD *)v111;
      break;
    case 14:
      v229 = sub_401000(0x30u);
      if ( v229 )
        v110 = CBuffPrty::CBuffPrty((int)v229, a1, 1000 * a2, 2, 0x8000, 0, 0, 0, 0, 0);
      else
        v110 = 0;
      v244 = (_DWORD *)v110;
      break;
    case 15:
      v228 = sub_401000(0x30u);
      if ( v228 )
        v109 = CBuffPrty::CBuffPrty((int)v228, a1, 1000 * a2, 4, 0x10000, 0, 0, 0, 0, 0);
      else
        v109 = 0;
      v244 = (_DWORD *)v109;
      break;
    case 16:
      v161 = sub_401000(0x20u);
      if ( v161 )
        v42 = sub_4065D0(v161, a1, a2, 0, 128, 0, 64);
      else
        v42 = 0;
      v244 = v42;
      break;
    case 17:
      v160 = sub_401000(0x20u);
      if ( v160 )
        v41 = sub_4065D0(v160, a1, a2, 0, 256, 0, 64);
      else
        v41 = 0;
      v244 = v41;
      break;
    case 18:
      v227 = sub_401000(0x18u);
      if ( v227 )
        v108 = sub_405F30((CBuff *)v227, a1, 1000 * a2, a3);
      else
        v108 = 0;
      v244 = &v108->__vftable;
      break;
    case 19:
      v226 = sub_401000(0x18u);
      if ( v226 )
        v107 = sub_405F60((CBuff *)v226, a1, 1000 * a2, a3);
      else
        v107 = 0;
      v244 = &v107->__vftable;
      break;
    case 20:
      v225 = sub_401000(0x30u);
      if ( v225 )
        v106 = CBuffPrty::CBuffPrty((int)v225, a1, 1000 * a2, 4, 0x400000, 0, 17, a3, 2, 0);
      else
        v106 = 0;
      v244 = (_DWORD *)v106;
      break;
    case 21:
      v224 = sub_401000(0x30u);
      if ( v224 )
        v105 = CBuffPrty::CBuffPrty((int)v224, a1, 1000 * a2, 4, 0x800000, 0, 9, a3, 2, 0);
      else
        v105 = 0;
      v244 = (_DWORD *)v105;
      break;
    case 22:
      v223 = sub_401000(0x30u);
      if ( v223 )
        v104 = CBuffPrty::CBuffPrty((int)v223, a1, 1000 * a2, 4, 0x1000000, 0, 0, 0, 0, 0);
      else
        v104 = 0;
      v244 = (_DWORD *)v104;
      break;
    case 23:
      v222 = sub_401000(0x30u);
      if ( v222 )
        v103 = CBuffPrty::CBuffPrty((int)v222, a1, 1000 * a2, 2, 0x2000000, 0, 0, 0, 0, 0);
      else
        v103 = 0;
      v244 = (_DWORD *)v103;
      break;
    case 24:
      v221 = sub_401000(0x30u);
      if ( v221 )
        v102 = CBuffPrty::CBuffPrty((int)v221, a1, 1000 * a2, 2, 0x4000000, 0, 0, 0, 0, 0);
      else
        v102 = 0;
      v244 = (_DWORD *)v102;
      break;
    case 25:
      v220 = sub_401000(0x30u);
      if ( v220 )
        v101 = CBuffPrty::CBuffPrty((int)v220, a1, 1000 * a2, 2, 0x8000000, 0, 0, 0, 0, 0);
      else
        v101 = 0;
      v244 = (_DWORD *)v101;
      break;
    case 26:
      v219 = sub_401000(0x1Cu);
      if ( v219 )
        v100 = sub_405F90((int)v219, a1, 1000 * a2, a3);
      else
        v100 = 0;
      v244 = (_DWORD *)v100;
      break;
    case 27:
      v218 = sub_401000(0x30u);
      if ( v218 )
        v99 = CBuffPrty::CBuffPrty((int)v218, a1, 1000 * a2, 2, 0x20000000, 0, 15, a3, 2, a4);
      else
        v99 = 0;
      v244 = (_DWORD *)v99;
      break;
    case 28:
      v217 = sub_401000(0x1Cu);
      if ( v217 )
        v98 = CBuffCTDefensePer::CBuffCTDefensePer_0((int)v217, a1, 1000 * a2, a3, a4);
      else
        v98 = 0;
      v244 = (_DWORD *)v98;
      break;
    case 29:
      v209 = sub_401000(0x1Cu);
      if ( v209 )
        v90 = sub_406220((int)v209, a1, 1000 * a2, a3);
      else
        v90 = 0;
      v244 = (_DWORD *)v90;
      break;
    case 30:
      if ( !a3 )
        v243 = a2 + time(0);
      v172 = sub_401000(0x20u);
      if ( v172 )
        v53 = CBuffExpire::CBuffExpire((CBuffExpire *)v172, a1, v243, 0, 2, 0, 32);
      else
        v53 = 0;
      v244 = &v53->__vftable;
      break;
    case 31:
      if ( !a3 )
        v243 = a2 + time(0);
      v171 = sub_401000(0x20u);
      if ( v171 )
        v52 = CBuffExpire::CBuffExpire((CBuffExpire *)v171, a1, v243, 0, 4, 0, 32);
      else
        v52 = 0;
      v244 = &v52->__vftable;
      break;
    case 32:
      if ( !a3 )
        v243 = a2 + time(0);
      v170 = sub_401000(0x20u);
      if ( v170 )
        v51 = CBuffExpire::CBuffExpire((CBuffExpire *)v170, a1, v243, 0, 8, 0, 32);
      else
        v51 = 0;
      v244 = &v51->__vftable;
      break;
    case 33:
      if ( !a3 )
        v243 = a2 + time(0);
      v165 = sub_401000(0x20u);
      if ( v165 )
        v46 = CBuffExpireEvent::CBuffExpireEvent((CBuffExpireEvent *)v165, a1, v243, 0, 16, 0);
      else
        v46 = 0;
      v244 = &v46->__vftable;
      break;
    case 34:
      if ( !a3 )
        v243 = a2 + time(0);
      v164 = sub_401000(0x20u);
      if ( v164 )
        v45 = CBuffExpireEvent::CBuffExpireEvent((CBuffExpireEvent *)v164, a1, v243, 0, 32, 0);
      else
        v45 = 0;
      v244 = &v45->__vftable;
      break;
    case 35:
      if ( !a3 )
        v243 = a2 + time(0);
      v163 = sub_401000(0x20u);
      if ( v163 )
        v44 = CBuffExpireEvent::CBuffExpireEvent((CBuffExpireEvent *)v163, a1, v243, 0, 64, 0);
      else
        v44 = 0;
      v244 = &v44->__vftable;
      break;
    case 36:
      v208 = sub_401000(0x18u);
      if ( v208 )
        v89 = sub_406260((CBuff *)v208, a1, 1000 * a2, a3);
      else
        v89 = 0;
      v244 = &v89->__vftable;
      break;
    case 37:
      v207 = sub_401000(0x30u);
      if ( v207 )
        v88 = CBuffPrty::CBuffPrty((int)v207, a1, 1000 * a2, 2, 0, 2, 15, a3, 1, a4);
      else
        v88 = 0;
      v244 = (_DWORD *)v88;
      break;
    case 38:
      v216 = sub_401000(0x1Cu);
      if ( v216 )
        v97 = CBuffCTHealing::CBuffCTHealing_0((int)v216, a1, 1000 * a2, a3);
      else
        v97 = 0;
      v244 = (_DWORD *)v97;
      break;
    case 39:
      v206 = sub_401000(0x1Cu);
      if ( v206 )
        v87 = sub_406290((int)v206, a1, 1000 * a2, a3);
      else
        v87 = 0;
      v244 = (_DWORD *)v87;
      break;
    case 40:
      v205 = sub_401000(0x30u);
      if ( v205 )
        v86 = CBuffFlagPrty::CBuffFlagPrty((int)v205, a1, 1000 * a2, 1, 0, 16, 32, a3, 2, 0);
      else
        v86 = 0;
      v244 = (_DWORD *)v86;
      break;
    case 41:
      v204 = sub_401000(0x30u);
      if ( v204 )
        v85 = CBuffFlagPrty::CBuffFlagPrty((int)v204, a1, 1000 * a2, 1, 0, 32, 27, a3, 2, a3);
      else
        v85 = 0;
      v244 = (_DWORD *)v85;
      break;
    case 42:
      v203 = sub_401000(0x30u);
      if ( v203 )
        v84 = CBuffFlagPrty::CBuffFlagPrty((int)v203, a1, 1000 * a2, 1, 0, 64, 28, a3, 2, a3);
      else
        v84 = 0;
      v244 = (_DWORD *)v84;
      break;
    case 43:
      v202 = sub_401000(0x30u);
      if ( v202 )
        v83 = CBuffFlagPrty::CBuffFlagPrty((int)v202, a1, 1000 * a2, 1, 0, 128, 16, a3, 1, 0);
      else
        v83 = 0;
      v244 = (_DWORD *)v83;
      break;
    case 44:
      v201 = sub_401000(0x30u);
      if ( v201 )
        v82 = CBuffFlagPrty::CBuffFlagPrty((int)v201, a1, 1000 * a2, 1, 0, 256, 29, a3, 1, 0);
      else
        v82 = 0;
      v244 = (_DWORD *)v82;
      break;
    case 45:
      v200 = sub_401000(0x18u);
      if ( v200 )
        v81 = sub_406330((CBuff *)v200, a1, 1000 * a2, a3);
      else
        v81 = 0;
      v244 = &v81->__vftable;
      break;
    case 46:
      v198 = sub_401000(0x2Cu);
      if ( v198 )
        v79 = CBuffPrtyEx::CBuffPrtyEx((int)v198, a1, 1000 * a2, 2, 1, 0, 0, a3, 1, 0);
      else
        v79 = 0;
      v244 = (_DWORD *)v79;
      break;
    case 47:
      v197 = sub_401000(0x2Cu);
      if ( v197 )
        v78 = CBuffPrtyEx::CBuffPrtyEx((int)v197, a1, 1000 * a2, 2, 2, 0, 1, a3, 1, 0);
      else
        v78 = 0;
      v244 = (_DWORD *)v78;
      break;
    case 48:
      v196 = sub_401000(0x2Cu);
      if ( v196 )
        v77 = CBuffPrtyEx::CBuffPrtyEx((int)v196, a1, 1000 * a2, 2, 4, 0, 4, a3, 1, 0);
      else
        v77 = 0;
      v244 = (_DWORD *)v77;
      break;
    case 49:
      v195 = sub_401000(0x2Cu);
      if ( v195 )
        v76 = CBuffPrtyEx::CBuffPrtyEx((int)v195, a1, 1000 * a2, 2, 8, 0, 2, a3, 1, 0);
      else
        v76 = 0;
      v244 = (_DWORD *)v76;
      break;
    case 50:
      v194 = sub_401000(0x2Cu);
      if ( v194 )
        v75 = CBuffPrtyEx::CBuffPrtyEx((int)v194, a1, 1000 * a2, 2, 16, 0, 31, a3, 2, 0);
      else
        v75 = 0;
      v244 = (_DWORD *)v75;
      break;
    case 51:
      v159 = sub_401000(0x20u);
      if ( v159 )
        v40 = sub_4065D0(v159, a1, a2, 0, 512, 0, 32);
      else
        v40 = 0;
      v244 = v40;
      break;
    case 52:
      v158 = sub_401000(0x20u);
      if ( v158 )
        v39 = sub_4065D0(v158, a1, a2, 0, 1024, 0, 32);
      else
        v39 = 0;
      v244 = v39;
      break;
    case 53:
      v157 = sub_401000(0x20u);
      if ( v157 )
        v38 = sub_406730(v157, a1, a2, 0, 2048, 0);
      else
        v38 = 0;
      v244 = v38;
      break;
    case 54:
      v156 = sub_401000(0x20u);
      if ( v156 )
        v37 = sub_406730(v156, a1, a2, 0, 4096, 0);
      else
        v37 = 0;
      v244 = v37;
      break;
    case 55:
      v155 = sub_401000(0x20u);
      if ( v155 )
        v36 = sub_4065D0(v155, a1, a2, 0, 0x2000, 0, 32);
      else
        v36 = 0;
      v244 = v36;
      break;
    case 56:
      v154 = sub_401000(0x20u);
      if ( v154 )
        v35 = sub_4065D0(v154, a1, a2, 0, 0x4000, 0, 32);
      else
        v35 = 0;
      v244 = v35;
      break;
    case 57:
      v153 = sub_401000(0x20u);
      if ( v153 )
        v34 = sub_4065D0(v153, a1, a2, 0, 0x8000, 0, 32);
      else
        v34 = 0;
      v244 = v34;
      break;
    case 58:
      v152 = sub_401000(0x20u);
      if ( v152 )
        v33 = sub_4067B0(v152, a1, a2, 0, 0x10000, 0);
      else
        v33 = 0;
      v244 = v33;
      break;
    case 59:
      v151 = sub_401000(0x20u);
      if ( v151 )
        v32 = sub_4067B0(v151, a1, a2, 0, 0x20000, 0);
      else
        v32 = 0;
      v244 = v32;
      break;
    case 60:
      v150 = sub_401000(0x28u);
      if ( v150 )
        v31 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v150, a1, a2, 5, 0, 0x40000, 0);
      else
        v31 = 0;
      v244 = &v31->__vftable;
      break;
    case 61:
      v149 = sub_401000(0x28u);
      if ( v149 )
        v30 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v149, a1, a2, 10, 1, 0x80000, 0);
      else
        v30 = 0;
      v244 = &v30->__vftable;
      break;
    case 62:
      v148 = sub_401000(0x28u);
      if ( v148 )
        v29 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v148, a1, a2, 5, 2, 0x100000, 0);
      else
        v29 = 0;
      v244 = &v29->__vftable;
      break;
    case 63:
      v147 = sub_401000(0x28u);
      if ( v147 )
        v28 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v147, a1, a2, 10, 3, 0x200000, 0);
      else
        v28 = 0;
      v244 = &v28->__vftable;
      break;
    case 64:
      v146 = sub_401000(0x28u);
      if ( v146 )
        v27 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v146, a1, a2, 5, 4, 0x400000, 0);
      else
        v27 = 0;
      v244 = &v27->__vftable;
      break;
    case 65:
      v145 = sub_401000(0x20u);
      if ( v145 )
        v26 = sub_4066A0(v145, a1, a2, 0, 0, 256);
      else
        v26 = 0;
      v244 = v26;
      break;
    case 66:
      v144 = sub_401000(0x20u);
      if ( v144 )
        v25 = CBuffRemainDeadEx::CBuffRemainDeadEx(v144, a1, a2, 0, 32);
      else
        v25 = 0;
      v244 = v25;
      break;
    case 67:
      v143 = sub_401000(0x20u);
      if ( v143 )
        v24 = CBuffRemainDeadEx::CBuffRemainDeadEx(v143, a1, a2, 0, 64);
      else
        v24 = 0;
      v244 = v24;
      break;
    case 68:
      v142 = sub_401000(0x20u);
      if ( v142 )
        v23 = CBuffRemainDeadEx::CBuffRemainDeadEx(v142, a1, a2, 0, 128);
      else
        v23 = 0;
      v244 = v23;
      break;
    case 69:
      v199 = sub_401000(0x1Cu);
      if ( v199 )
        v80 = sub_406360((int)v199, a1, 1000 * a2, a3, a4);
      else
        v80 = 0;
      v244 = (_DWORD *)v80;
      break;
    case 70:
      v215 = sub_401000(0x24u);
      if ( v215 )
        v96 = CBuffCTPrtyPtEx::CBuffCTPrtyPtEx_0((int)v215, a1, 1000 * a2, a3, 16, 20, 64, 0);
      else
        v96 = 0;
      v244 = (_DWORD *)v96;
      break;
    case 71:
      v214 = sub_401000(0x24u);
      if ( v214 )
        v95 = CBuffCTPrtyPtEx::CBuffCTPrtyPtEx_0((int)v214, a1, 1000 * a2, a3, 16, 19, 128, 0);
      else
        v95 = 0;
      v244 = (_DWORD *)v95;
      break;
    case 72:
      v213 = sub_401000(0x24u);
      if ( v213 )
        v94 = CBuffCTPrtyPtEx::CBuffCTPrtyPtEx_0((int)v213, a1, 1000 * a2, a3, 16, 18, 256, 0);
      else
        v94 = 0;
      v244 = (_DWORD *)v94;
      break;
    case 73:
      v212 = sub_401000(0x24u);
      if ( v212 )
        v93 = CBuffCTPrtyPtEx::CBuffCTPrtyPtEx_0((int)v212, a1, 1000 * a2, a3, 16, 9, 512, 0);
      else
        v93 = 0;
      v244 = (_DWORD *)v93;
      break;
    case 74:
      v210 = sub_401000(0x24u);
      if ( v210 )
        v91 = CBuffCTPrtyPtEx::CBuffCTPrtyPtEx_0((int)v210, a1, 1000 * a2, a3, 16, 12, 1024, 0);
      else
        v91 = 0;
      v244 = (_DWORD *)v91;
      break;
    case 75:
      v211 = sub_401000(0x2Cu);
      if ( v211 )
        v92 = CBuffPrtyEx::CBuffPrtyEx((int)v211, a1, 1000 * a2, 2, 2048, 0, 15, a3, 1, a4);
      else
        v92 = 0;
      v244 = (_DWORD *)v92;
      break;
    case 76:
      v193 = sub_401000(0x2Cu);
      if ( v193 )
        v74 = CBuffPrtyEx::CBuffPrtyEx((int)v193, a1, 1000 * a2, 2, 4096, 0, 20, a3, 1, 0);
      else
        v74 = 0;
      v244 = (_DWORD *)v74;
      break;
    case 77:
      v192 = sub_401000(0x2Cu);
      if ( v192 )
        v73 = CBuffPrtyEx::CBuffPrtyEx((int)v192, a1, 1000 * a2, 2, 0x2000, 0, 19, a3, 1, 0);
      else
        v73 = 0;
      v244 = (_DWORD *)v73;
      break;
    case 78:
      v191 = sub_401000(0x2Cu);
      if ( v191 )
        v72 = CBuffPrtyEx::CBuffPrtyEx((int)v191, a1, 1000 * a2, 2, 0x4000, 0, 18, a3, 1, 0);
      else
        v72 = 0;
      v244 = (_DWORD *)v72;
      break;
    case 79:
      v190 = sub_401000(0x2Cu);
      if ( v190 )
        v71 = CBuffPrtyEx::CBuffPrtyEx((int)v190, a1, 1000 * a2, 2, 0x8000, 0, 21, a3, 1, 0);
      else
        v71 = 0;
      v244 = (_DWORD *)v71;
      break;
    case 80:
      v189 = sub_401000(0x2Cu);
      if ( v189 )
        v70 = CBuffPrtyEx::CBuffPrtyEx((int)v189, a1, 1000 * a2, 2, 0x10000, 0, 22, a3, 1, 0);
      else
        v70 = 0;
      v244 = (_DWORD *)v70;
      break;
    case 81:
      v188 = sub_401000(0x1Cu);
      if ( v188 )
        v69 = sub_4063A0((int)v188, a1, 1000 * a2, a3);
      else
        v69 = 0;
      v244 = (_DWORD *)v69;
      break;
    case 82:
      v187 = sub_401000(0x2Cu);
      if ( v187 )
        v68 = CBuffPrtyEx::CBuffPrtyEx((int)v187, a1, 1000 * a2, 1, 0x20000, 0, 32, a3, 2, 0);
      else
        v68 = 0;
      v244 = (_DWORD *)v68;
      break;
    case 83:
      v186 = sub_401000(0x2Cu);
      if ( v186 )
        v67 = CBuffPrtyEx::CBuffPrtyEx((int)v186, a1, 1000 * a2, 4, 0x40000, 0, 38, a3, 3, 0);
      else
        v67 = 0;
      v244 = (_DWORD *)v67;
      break;
    case 84:
      v185 = sub_401000(0x1Cu);
      if ( v185 )
        v66 = sub_4063E0((int)v185, a1, 1000 * a2, a3);
      else
        v66 = 0;
      v244 = (_DWORD *)v66;
      break;
    case 85:
      v184 = sub_401000(0x2Cu);
      if ( v184 )
        v65 = CBuffPrtyEx::CBuffPrtyEx((int)v184, a1, 1000 * a2, 4, 0x80000, 0, 31, a3, 2, 0);
      else
        v65 = 0;
      v244 = (_DWORD *)v65;
      break;
    case 86:
      v183 = sub_401000(0x2Cu);
      if ( v183 )
        v64 = CBuffPrtyEx::CBuffPrtyEx((int)v183, a1, 1000 * a2, 4, 0x100000, 0, 0, a3, 2, 0);
      else
        v64 = 0;
      v244 = (_DWORD *)v64;
      break;
    case 87:
      v182 = sub_401000(0x2Cu);
      if ( v182 )
        v63 = CBuffPrtyEx::CBuffPrtyEx((int)v182, a1, 1000 * a2, 4, 0x200000, 0, 1, a3, 2, 0);
      else
        v63 = 0;
      v244 = (_DWORD *)v63;
      break;
    case 88:
      v181 = sub_401000(0x2Cu);
      if ( v181 )
        v62 = CBuffPrtyEx::CBuffPrtyEx((int)v181, a1, 1000 * a2, 4, 0x400000, 0, 4, a3, 2, 0);
      else
        v62 = 0;
      v244 = (_DWORD *)v62;
      break;
    case 89:
      v180 = sub_401000(0x2Cu);
      if ( v180 )
        v61 = CBuffPrtyEx::CBuffPrtyEx((int)v180, a1, 1000 * a2, 4, 0x800000, 0, 2, a3, 2, 0);
      else
        v61 = 0;
      v244 = (_DWORD *)v61;
      break;
    case 90:
      v179 = sub_401000(0x2Cu);
      if ( v179 )
        v60 = CBuffPrtyEx::CBuffPrtyEx((int)v179, a1, 1000 * a2, 4, 0x1000000, 0, 3, a3, 2, 0);
      else
        v60 = 0;
      v244 = (_DWORD *)v60;
      break;
    case 91:
      v178 = sub_401000(0x2Cu);
      if ( v178 )
        v59 = CBuffPrtyEx::CBuffPrtyEx((int)v178, a1, 1000 * a2, 4, 0x2000000, 0, 15, a3, 2, a4);
      else
        v59 = 0;
      v244 = (_DWORD *)v59;
      break;
    case 92:
      v177 = sub_401000(0x20u);
      if ( v177 )
        v58 = sub_405EB0((int)v177, a1, 1000 * a2, a3);
      else
        v58 = 0;
      v244 = (_DWORD *)v58;
      break;
    case 93:
      v176 = sub_401000(0x2Cu);
      if ( v176 )
        v57 = CBuffPrtyEx::CBuffPrtyEx((int)v176, a1, 1000 * a2, 4, 0x4000000, 0, 9, a3, 2, 0);
      else
        v57 = 0;
      v244 = (_DWORD *)v57;
      break;
    case 94:
      v175 = sub_401000(0x30u);
      if ( v175 )
        v56 = CBuffPrty::CBuffPrty((int)v175, a1, 1000 * a2, 4, 0, 0x2000, 0, 0, 0, 0);
      else
        v56 = 0;
      v244 = (_DWORD *)v56;
      break;
    case 95:
      v174 = sub_401000(0x30u);
      if ( v174 )
        v55 = CBuffPrty::CBuffPrty((int)v174, a1, 1000 * a2, 2, 0, 0x4000, 16, a3, 1, 0);
      else
        v55 = 0;
      v244 = (_DWORD *)v55;
      break;
    case 96:
      v173 = sub_401000(0x30u);
      if ( v173 )
        v54 = CBuffPrty::CBuffPrty((int)v173, a1, 1000 * a2, 2, 0, 0x8000, 29, a3, 1, 0);
      else
        v54 = 0;
      v244 = (_DWORD *)v54;
      break;
    case 97:
      if ( !a3 )
        v243 = a2 + time(0);
      v169 = sub_401000(0x20u);
      if ( v169 )
        v50 = CBuffExpire::CBuffExpire((CBuffExpire *)v169, a1, v243, 0, 0x800000, 0, 32);
      else
        v50 = 0;
      v244 = &v50->__vftable;
      break;
    case 98:
      if ( !a3 )
        v243 = a2 + time(0);
      v168 = sub_401000(0x20u);
      if ( v168 )
        v49 = CBuffExpire::CBuffExpire((CBuffExpire *)v168, a1, v243, 0, 0x1000000, 0, 32);
      else
        v49 = 0;
      v244 = &v49->__vftable;
      break;
    case 99:
      if ( !a3 )
        v243 = a2 + time(0);
      v167 = sub_401000(0x20u);
      if ( v167 )
        v48 = CBuffExpire::CBuffExpire((CBuffExpire *)v167, a1, v243, 0, 0x2000000, 0, 32);
      else
        v48 = 0;
      v244 = &v48->__vftable;
      break;
    case 100:
      v141 = sub_401000(0x20u);
      if ( v141 )
        v22 = CBuffRemainLuckyStone1::CBuffRemainLuckyStone1((CBuffRemainLuckyStone1 *)v141, a1, a2, 0, 0x4000000, 0);
      else
        v22 = 0;
      v244 = &v22->__vftable;
      break;
    case 101:
      if ( !a3 )
        v243 = a2 + time(0);
      v166 = sub_401000(0x20u);
      if ( v166 )
        v47 = CBuffExpireLuckyStone2::CBuffExpireLuckyStone2((CBuffExpireLuckyStone2 *)v166, a1, v243, 0, 0x8000000, 0);
      else
        v47 = 0;
      v244 = &v47->__vftable;
      break;
    case 102:
      if ( !a3 )
        v243 = a2 + time(0);
      v162 = sub_401000(0x20u);
      if ( v162 )
        v43 = CBuffExpire::CBuffExpire((CBuffExpire *)v162, a1, v243, 0, 0x10000000, 0, 128);
      else
        v43 = 0;
      v244 = &v43->__vftable;
      break;
    case 103:
      v140 = sub_401000(0x28u);
      if ( v140 )
        v21 = CBuffRemainPet::CBuffRemainPet(v140, a1, 1);
      else
        v21 = 0;
      v244 = v21;
      break;
    case 104:
      v139 = sub_401000(0x20u);
      if ( v139 )
        v20 = CBuffRemainEx::CBuffRemainEx(v139, a1, a2, 0, 256, 1);
      else
        v20 = 0;
      v244 = v20;
      break;
    case 105:
      v138 = sub_401000(0x20u);
      if ( v138 )
        v19 = CBuffHydrochloricAcid::CBuffHydrochloricAcid((int)v138, a1, 4000, 800);
      else
        v19 = 0;
      v244 = (_DWORD *)v19;
      break;
    case 106:
      v137 = sub_401000(0x28u);
      if ( v137 )
        v18 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v137, a1, a2, a3, 0, 0, 2);
      else
        v18 = 0;
      v244 = &v18->__vftable;
      break;
    case 107:
      v136 = sub_401000(0x28u);
      if ( v136 )
        v17 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v136, a1, a2, a3, 1, 0, 4);
      else
        v17 = 0;
      v244 = &v17->__vftable;
      break;
    case 108:
      v135 = sub_401000(0x28u);
      if ( v135 )
        v16 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v135, a1, a2, a3, 2, 0, 8);
      else
        v16 = 0;
      v244 = &v16->__vftable;
      break;
    case 109:
      v134 = sub_401000(0x28u);
      if ( v134 )
        v15 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v134, a1, a2, a3, 3, 0, 16);
      else
        v15 = 0;
      v244 = &v15->__vftable;
      break;
    case 110:
      v133 = sub_401000(0x28u);
      if ( v133 )
        v14 = CBuffRemainPrty::CBuffRemainPrty((CBuffRemainPrty *)v133, a1, a2, a3, 4, 0, 32);
      else
        v14 = 0;
      v244 = &v14->__vftable;
      break;
    case 111:
      v132 = sub_401000(0x20u);
      if ( v132 )
        v13 = sub_4065D0(v132, a1, a2, 0, 0, 64, 32);
      else
        v13 = 0;
      v244 = v13;
      break;
    case 112:
      if ( !a3 )
        v243 = a2 + time(0);
      v131 = sub_401000(0x20u);
      if ( v131 )
        v12 = CBuffExpireEvent::CBuffExpireEvent((CBuffExpireEvent *)v131, a1, v243, 0, 0, 128);
      else
        v12 = 0;
      v244 = &v12->__vftable;
      break;
    case 113:
      if ( !a3 )
        v243 = a2 + time(0);
      v130 = sub_401000(0x20u);
      if ( v130 )
        v11 = CBuffExpireEvent::CBuffExpireEvent((CBuffExpireEvent *)v130, a1, v243, 0, 0, 256);
      else
        v11 = 0;
      v244 = &v11->__vftable;
      break;
    case 114:
      if ( !a3 )
        v243 = a2 + time(0);
      v129 = sub_401000(0x20u);
      if ( v129 )
        v10 = CBuffExpireEvent::CBuffExpireEvent((CBuffExpireEvent *)v129, a1, v243, 0, 0, 512);
      else
        v10 = 0;
      v244 = &v10->__vftable;
      break;
    case 115:
      v128 = sub_401000(0x20u);
      if ( v128 )
        v9 = sub_4065D0(v128, a1, a2, 0, 0, 1024, 32);
      else
        v9 = 0;
      v244 = v9;
      break;
    case 116:
      v127 = sub_401000(0x28u);
      if ( v127 )
        v8 = CBuffMixDamage::CBuffMixDamage((CBuffMixDamage *)v127, a1, 1000 * a2, a3, a4);
      else
        v8 = 0;
      v244 = &v8->__vftable;
      break;
    case 117:
      v126 = sub_401000(0x2Cu);
      if ( v126 )
        v7 = CBuffPrtyEx::CBuffPrtyEx((int)v126, a1, 1000 * a2, 1, 0, 0x20000, 15, a3, 1, a4);
      else
        v7 = 0;
      v244 = (_DWORD *)v7;
      break;
    case 118:
      v125 = sub_401000(0x2Cu);
      if ( v125 )
        v6 = CBuffPrtyEx::CBuffPrtyEx((int)v125, a1, 1000 * a2, 1, 0, 0x40000, 32, a3, 2, 0);
      else
        v6 = 0;
      v244 = (_DWORD *)v6;
      break;
    default:
      LOG_ERR("CBuff::CreateBuff() Invalid Buff Type.(Buff:%d)", a1);
      break;
  }
  return (CBuffMoveSpeed *)v244;
}
// 402789: variable 'v4' is possibly undefined

//----- (00405C60) --------------------------------------------------------
CBuffMoveSpeed *__thiscall CBuffMoveSpeed::CBuffMoveSpeed(CBuffMoveSpeed *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 4);
  this->__vftable = (CBuffMoveSpeed_vtbl *)off_4B467C;
  this->m_nCount = 0;
  return this;
}
// 4B467C: using guessed type int (__stdcall *off_4B467C[3])(int);

//----- (00405CA0) --------------------------------------------------------
CBuff *__thiscall CBuff::CBuff(CBuff *this, int a2, int a3, int a4, int a5)
{
  *(_DWORD *)this = off_4B4630;
  *((_DWORD *)this + 1) = a2;
  *((_DWORD *)this + 2) = a3 + GetTickCount();
  *((_DWORD *)this + 3) = a4;
  *((_DWORD *)this + 4) = a5;
  *((_DWORD *)this + 5) = 0;
  return this;
}
// 4B4630: using guessed type int (__stdcall *off_4B4630[3])(int);

//----- (00405CF0) --------------------------------------------------------
CBuffStone *__thiscall CBuffStone::CBuffStone(CBuffStone *this, int a2, int a3, int a4, int a5)
{
  CBuff::CBuff(this, a2, a3, a4, 2);
  this->__vftable = (CBuffStone_vtbl *)off_4B4698;
  this->m_nValue2 = a5;
  return this;
}
// 4B4698: using guessed type int (__stdcall *off_4B4698[3])(int);

//----- (00405D30) --------------------------------------------------------
void __stdcall CBuffMeditation::CBuffMeditation(int a1, int a2, int a3)
{
  CBuff *v3; // ecx
  CBuff *v4; // [esp+0h] [ebp-4h]

  v4 = v3;
  CBuff::CBuff(v3, a1, a2, a3, 2);
  v4->__vftable = (CBuff_vtbl *)off_4B46B4;
  v4[1].__vftable = (CBuff_vtbl *)(GetTickCount() + 4000);
}
// 405D34: variable 'v3' is possibly undefined
// 4B46B4: using guessed type int (__stdcall *off_4B46B4[3])(int);

//----- (00405D70) --------------------------------------------------------
int __thiscall sub_405D70(int this, int a2, int a3, int a4, int a5)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 2);
  *(_DWORD *)this = off_4B46D0;
  *(_DWORD *)(this + 24) = a5;
  return this;
}
// 4B46D0: using guessed type int (__stdcall *off_4B46D0[3])(int);

//----- (00405DB0) --------------------------------------------------------
CBuffRevivalSequela *__thiscall CBuffRevivalSequela::CBuffRevivalSequela(CBuffRevivalSequela *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 1);
  this->__vftable = (CBuffRevivalSequela_vtbl *)off_4B46EC;
  return this;
}
// 4B46EC: using guessed type int (__stdcall *off_4B46EC[3])(int);

//----- (00405DE0) --------------------------------------------------------
int __thiscall sub_405DE0(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B4708;
  *(_DWORD *)(this + 24) = 0;
  return this;
}
// 4B4708: using guessed type int (__stdcall *off_4B4708[3])(int);

//----- (00405E20) --------------------------------------------------------
int __thiscall sub_405E20(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B4724;
  *(_DWORD *)(this + 24) = 0;
  return this;
}
// 4B4724: using guessed type int (__stdcall *off_4B4724[3])(int);

//----- (00405E60) --------------------------------------------------------
int __thiscall CBuffPoison::CBuffPoison(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B4740;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = GetTickCount() + 2000;
  return this;
}
// 4B4740: using guessed type int (__stdcall *off_4B4740[3])(int);

//----- (00405EB0) --------------------------------------------------------
int __thiscall sub_405EB0(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B475C;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = GetTickCount() + 2000;
  return this;
}
// 4B475C: using guessed type int (__stdcall *off_4B475C[3])(int);

//----- (00405F00) --------------------------------------------------------
CBuffHaste *__thiscall CBuffHaste::CBuffHaste(CBuffHaste *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 2);
  this->__vftable = (CBuffHaste_vtbl *)off_4B4778;
  return this;
}
// 4B4778: using guessed type int (__stdcall *off_4B4778[3])(int);

//----- (00405F30) --------------------------------------------------------
CBuff *__thiscall sub_405F30(CBuff *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 1);
  *(_DWORD *)this = off_4B4794;
  return this;
}
// 4B4794: using guessed type int (__stdcall *off_4B4794[3])(int);

//----- (00405F60) --------------------------------------------------------
CBuff *__thiscall sub_405F60(CBuff *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 1);
  *(_DWORD *)this = off_4B47B0;
  return this;
}
// 4B47B0: using guessed type int (__stdcall *off_4B47B0[3])(int);

//----- (00405F90) --------------------------------------------------------
int __thiscall sub_405F90(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B47CC;
  *(_DWORD *)(this + 24) = 0;
  return this;
}
// 4B47CC: using guessed type int (__stdcall *off_4B47CC[3])(int);

//----- (00405FD0) --------------------------------------------------------
// call of defense
int __thiscall CBuffCTDefensePer::CBuffCTDefensePer_0(int nBuff_1, int nIndex, int nRemain, int nStat, int nObject)
{
  CBuff::CBuff((CBuff *)nBuff_1, nIndex, nRemain, nStat, 16);
  *(_DWORD *)nBuff_1 = off_4B47E8;
  *(_DWORD *)(nBuff_1 + 24) = nObject;
  return nBuff_1;
}
// 4B47E8: using guessed type int (__stdcall *off_4B47E8[3])(int);

//----- (00406010) --------------------------------------------------------
int __thiscall CBuffCTDefensePer::Copy(void *this)
{
  _DWORD *v2; // [esp+0h] [ebp-Ch]
  CMemory **v4; // [esp+8h] [ebp-4h]

  v4 = sub_401000(0x1Cu);
  if ( v4 )
    v2 = CBuffCTDefensePer::CBuffCTDefensePer(v4, this);
  else
    v2 = 0;
  return (int)v2;
}

//----- (00406050) --------------------------------------------------------
_DWORD *__thiscall CBuffCTDefensePer::CBuffCTDefensePer(_DWORD *this, void *Src)
{
  sub_402550(this);
  *this = off_4B47E8;
  memcpy(this, Src, 0x1Cu);
  return this;
}
// 4B47E8: using guessed type int (__stdcall *off_4B47E8[3])(int);

//----- (00406090) --------------------------------------------------------
// call of recovery
int __thiscall CBuffCTHealing::CBuffCTHealing_0(int nBuff_1, int nIndex, int nRemain, int nStat)
{
  CBuff::CBuff((CBuff *)nBuff_1, nIndex, nRemain, nStat, 16);
  *(_DWORD *)nBuff_1 = off_4B4804;
  *(_DWORD *)(nBuff_1 + 24) = GetTickCount() + 3000;
  return nBuff_1;
}
// 4B4804: using guessed type int (__stdcall *off_4B4804[3])(int);

//----- (004060D0) --------------------------------------------------------
_DWORD *__thiscall sub_4060D0(void *this)
{
  _DWORD *v2; // [esp+0h] [ebp-Ch]
  CMemory **v4; // [esp+8h] [ebp-4h]

  v4 = sub_401000(0x1Cu);
  if ( v4 )
    v2 = sub_406110(v4, this);
  else
    v2 = 0;
  return v2;
}

//----- (00406110) --------------------------------------------------------
_DWORD *__thiscall sub_406110(_DWORD *this, void *a2)
{
  sub_402550(this);
  *this = off_4B4804;
  memcpy(this, a2, 0x1Cu);
  return this;
}
// 4B4804: using guessed type int (__stdcall *off_4B4804[3])(int);

//----- (00406150) --------------------------------------------------------
// call of lightning defense etc...
int __thiscall CBuffCTPrtyPtEx::CBuffCTPrtyPtEx_0(int nBuff_1, int nIndex, int nRemain, int nStat, int nKind, int nType, int nState, int nKind_)
{
  CBuff::CBuff((CBuff *)nBuff_1, nIndex, nRemain, nStat, nKind);
  *(_DWORD *)nBuff_1 = off_4B4820;
  *(_DWORD *)(nBuff_1 + 28) = nType;
  *(_DWORD *)(nBuff_1 + 32) = nState;
  *(_DWORD *)(nBuff_1 + 24) = nKind_;
  return nBuff_1;
}
// 4B4820: using guessed type int (__stdcall *off_4B4820[3])(int);

//----- (004061A0) --------------------------------------------------------
int __thiscall CBuffCTPrtyPtEx::Copy(void *this)
{
  _DWORD *v2; // [esp+0h] [ebp-Ch]
  CMemory **v4; // [esp+8h] [ebp-4h]

  v4 = sub_401000(0x24u);
  if ( v4 )
    v2 = CBuffCTPrtyPtEx::CBuffCTPrtyPtEx(v4, this);
  else
    v2 = 0;
  return (int)v2;
}

//----- (004061E0) --------------------------------------------------------
_DWORD *__thiscall CBuffCTPrtyPtEx::CBuffCTPrtyPtEx(_DWORD *this, void *Src)
{
  sub_402550(this);
  *this = off_4B4820;
  memcpy(this, Src, 0x24u);
  return this;
}
// 4B4820: using guessed type int (__stdcall *off_4B4820[3])(int);

//----- (00406220) --------------------------------------------------------
int __thiscall sub_406220(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B483C;
  *(_DWORD *)(this + 24) = 0;
  return this;
}
// 4B483C: using guessed type int (__stdcall *off_4B483C[3])(int);

//----- (00406260) --------------------------------------------------------
CBuff *__thiscall sub_406260(CBuff *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 2);
  *(_DWORD *)this = off_4B4858;
  return this;
}
// 4B4858: using guessed type int (__stdcall *off_4B4858[3])(int);

//----- (00406290) --------------------------------------------------------
int __thiscall sub_406290(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B4874;
  *(_DWORD *)(this + 24) = 0;
  return this;
}
// 4B4874: using guessed type int (__stdcall *off_4B4874[3])(int);

//----- (004062D0) --------------------------------------------------------
int __thiscall CBuffFlagPrty::CBuffFlagPrty(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a8, a4);
  *(_DWORD *)this = off_4B4890;
  *(_DWORD *)(this + 24) = a9;
  *(_DWORD *)(this + 32) = a7;
  *(_DWORD *)(this + 40) = a5;
  *(_DWORD *)(this + 44) = a6;
  *(_DWORD *)(this + 28) = a10;
  return this;
}
// 4B4890: using guessed type int (__stdcall *off_4B4890[3])(int);

//----- (00406330) --------------------------------------------------------
CBuff *__thiscall sub_406330(CBuff *this, int a2, int a3, int a4)
{
  CBuff::CBuff(this, a2, a3, a4, 1);
  *(_DWORD *)this = off_4B48AC;
  return this;
}
// 4B48AC: using guessed type int (__stdcall *off_4B48AC[3])(int);

//----- (00406360) --------------------------------------------------------
int __thiscall sub_406360(int this, int a2, int a3, int a4, int a5)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 2);
  *(_DWORD *)this = off_4B48C8;
  *(_DWORD *)(this + 24) = a5;
  return this;
}
// 4B48C8: using guessed type int (__stdcall *off_4B48C8[3])(int);

//----- (004063A0) --------------------------------------------------------
int __thiscall sub_4063A0(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B48E4;
  *(_DWORD *)(this + 24) = 0;
  return this;
}
// 4B48E4: using guessed type int (__stdcall *off_4B48E4[3])(int);

//----- (004063E0) --------------------------------------------------------
int __thiscall sub_4063E0(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B4900;
  *(_DWORD *)(this + 24) = 0;
  return this;
}
// 4B4900: using guessed type int (__stdcall *off_4B4900[3])(int);

//----- (00406420) --------------------------------------------------------
int __thiscall CBuffPrty::CBuffPrty(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a8, a4);
  *(_DWORD *)this = off_4B491C;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = a9;
  *(_DWORD *)(this + 36) = a7;
  *(_DWORD *)(this + 40) = a5;
  *(_DWORD *)(this + 44) = a6;
  *(_DWORD *)(this + 32) = a10;
  return this;
}
// 4B491C: using guessed type int (__stdcall *off_4B491C[3])(int);

//----- (00406490) --------------------------------------------------------
int __thiscall CBuffPrtyEx::CBuffPrtyEx(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a8, a4);
  *(_DWORD *)this = off_4B4938;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = a9;
  *(_DWORD *)(this + 36) = a7;
  *(_DWORD *)(this + 40) = a5;
  *(_DWORD *)(this + 32) = a10;
  return this;
}
// 4B4938: using guessed type int (__stdcall *off_4B4938[3])(int);

//----- (004064F0) --------------------------------------------------------
CBuffExpire *__thiscall CBuffExpire::CBuffExpire(CBuffExpire *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  sub_402550(this);
  *(_DWORD *)this = off_4B4954;
  *((_DWORD *)this + 1) = a2;
  *((_DWORD *)this + 2) = a3;
  *((_DWORD *)this + 3) = a4;
  *((_DWORD *)this + 6) = a5;
  *((_DWORD *)this + 7) = a6;
  *((_DWORD *)this + 4) = a7;
  return this;
}
// 4B4954: using guessed type int (__stdcall *off_4B4954[3])(int);

//----- (00406550) --------------------------------------------------------
CBuffExpireEvent *__thiscall CBuffExpireEvent::CBuffExpireEvent(CBuffExpireEvent *this, int a2, int a3, int a4, int a5, int a6)
{
  CBuffExpire::CBuffExpire(this, a2, a3, a4, a5, a6, 128);
  *(_DWORD *)this = off_4B4970;
  return this;
}
// 4B4970: using guessed type int (__stdcall *off_4B4970[3])(int);

//----- (00406590) --------------------------------------------------------
CBuffExpireLuckyStone2 *__thiscall CBuffExpireLuckyStone2::CBuffExpireLuckyStone2(CBuffExpireLuckyStone2 *this, int a2, int a3, int a4, int a5, int a6)
{
  CBuffExpire::CBuffExpire(this, a2, a3, a4, a5, a6, 32);
  *(_DWORD *)this = off_4B498C;
  return this;
}
// 4B498C: using guessed type int (__stdcall *off_4B498C[3])(int);

//----- (004065D0) --------------------------------------------------------
_DWORD *__thiscall sub_4065D0(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  sub_402550(this);
  *this = off_4B49A8;
  this[1] = a2;
  this[2] = a3;
  this[3] = a4;
  this[6] = a5;
  this[7] = a6;
  this[4] = a7;
  return this;
}
// 4B49A8: using guessed type int (__stdcall *off_4B49A8[3])(int);

//----- (00406630) --------------------------------------------------------
_DWORD *__thiscall CBuffRemainEx::CBuffRemainEx(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_406680(this);
  *this = off_4B49C4;
  this[1] = a2;
  this[2] = a3;
  this[3] = a4;
  this[6] = a5;
  this[4] = a6;
  return this;
}
// 4B49C4: using guessed type int (__stdcall *off_4B49C4[3])(int);

//----- (00406680) --------------------------------------------------------
_DWORD *__thiscall sub_406680(_DWORD *this)
{
  sub_402550(this);
  *this = off_4B49A8;
  return this;
}
// 4B49A8: using guessed type int (__stdcall *off_4B49A8[3])(int);

//----- (004066A0) --------------------------------------------------------
_DWORD *__thiscall sub_4066A0(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_406680(this);
  *this = off_4B49E0;
  this[1] = a2;
  this[2] = a3;
  this[3] = a4;
  this[6] = a5;
  this[4] = a6;
  return this;
}
// 4B49E0: using guessed type int (__stdcall *off_4B49E0[3])(int);

//----- (004066F0) --------------------------------------------------------
_DWORD *__thiscall CBuffRemainDeadEx::CBuffRemainDeadEx(_DWORD *this, int a2, int a3, int a4, int a5)
{
  sub_4066A0(this, a2, a3, a4, a5, 256);
  *this = off_4B49FC;
  return this;
}
// 4B49FC: using guessed type int (__stdcall *off_4B49FC[3])(int);

//----- (00406730) --------------------------------------------------------
_DWORD *__thiscall sub_406730(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_4065D0(this, a2, a3, a4, a5, a6, 32);
  *this = off_4B4A18;
  return this;
}
// 4B4A18: using guessed type int (__stdcall *off_4B4A18[3])(int);

//----- (00406770) --------------------------------------------------------
CBuffRemainPrty *__thiscall CBuffRemainPrty::CBuffRemainPrty(CBuffRemainPrty *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  sub_4065D0(this, a2, a3, a4, a6, a7, 32);
  *(_DWORD *)this = off_4B4A34;
  *((_DWORD *)this + 8) = a5;
  return this;
}
// 4B4A34: using guessed type int (__stdcall *off_4B4A34[3])(int);

//----- (004067B0) --------------------------------------------------------
_DWORD *__thiscall sub_4067B0(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_4065D0(this, a2, a3, a4, a5, a6, 32);
  *this = off_4B4A50;
  return this;
}
// 4B4A50: using guessed type int (__stdcall *off_4B4A50[3])(int);

//----- (004067F0) --------------------------------------------------------
CBuffRemainLuckyStone1 *__thiscall CBuffRemainLuckyStone1::CBuffRemainLuckyStone1(CBuffRemainLuckyStone1 *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_4065D0(this, a2, a3, a4, a5, a6, 1);
  *(_DWORD *)this = off_4B4A6C;
  return this;
}
// 4B4A6C: using guessed type int (__stdcall *off_4B4A6C[3])(int);

//----- (00406830) --------------------------------------------------------
_DWORD *__thiscall CBuffRemainPet::CBuffRemainPet(_DWORD *this, int a2, int a3)
{
  sub_406680(this);
  *this = off_4B4A88;
  this[1] = a2;
  this[4] = a3;
  this[2] = 7200;
  this[3] = 0;
  this[8] = 0;
  return this;
}
// 4B4A88: using guessed type int (__stdcall *off_4B4A88[3])(int);

//----- (00406890) --------------------------------------------------------
int __stdcall sub_406890(int a1)
{
  return 1;
}

//----- (004068B0) --------------------------------------------------------
int __thiscall CBuffHydrochloricAcid::CBuffHydrochloricAcid(int this, int a2, int a3, int a4)
{
  CBuff::CBuff((CBuff *)this, a2, a3, a4, 4);
  *(_DWORD *)this = off_4B4AA4;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  return this;
}
// 4B4AA4: using guessed type int (__stdcall *off_4B4AA4[3])(int);

//----- (00406900) --------------------------------------------------------
CBuffMixDamage *__thiscall CBuffMixDamage::CBuffMixDamage(CBuffMixDamage *this, int a2, int a3, int a4, int a5)
{
  sub_402550(this);
  *(_DWORD *)this = off_4B4AC0;
  *((_DWORD *)this + 1) = a2;
  *((_DWORD *)this + 2) = a3 + GetTickCount();
  *((_DWORD *)this + 3) = a5;
  *((_DWORD *)this + 6) = a4;
  *((_DWORD *)this + 9) = a3;
  *((_DWORD *)this + 4) = 1;
  *((_DWORD *)this + 5) = 0;
  return this;
}
// 4B4AC0: using guessed type int (__stdcall *off_4B4AC0[3])(int);

//----- (00406970) --------------------------------------------------------
int __stdcall sub_406970(int a1, int a2)
{
  return 1;
}

//----- (00406990) --------------------------------------------------------
BOOL __thiscall CBuff::IsExpired(_DWORD *this, int a2)
{
  return (int)(this[2] - GetTickCount()) <= 0;
}

//----- (004069C0) --------------------------------------------------------
int __thiscall CBuffMoveSpeed::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 2, 0);
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 96))(a2, 32, 1, this[3]);
  return 1;
}

//----- (00406A00) --------------------------------------------------------
int __thiscall CBuffMoveSpeed::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 32, 0, this[3]);
  this[3] = 0;
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 2, 0);
}

//----- (00406A40) --------------------------------------------------------
int __thiscall CBuffMoveSpeed::UpdateBuff(_DWORD *this, std::locale::facet *a2, _DWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 2i64) )
    (*(void (__thiscall **)(_DWORD *, int, _DWORD))(*a3 + 104))(a3, 2, 0);
  this[2] = a2[1].__vftable;
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  a3[65] -= this[3];
  this[3] = a2[1]._Refs;
  (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a3 + 96))(a3, 32, 1, this[3]);
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00406BA0) --------------------------------------------------------
__int64 __thiscall CChar::IsMState(_QWORD *this, __int64 a2)
{
  return a2 & this[36];
}

//----- (00406BD0) --------------------------------------------------------
int __thiscall CBuffMoveSpeed::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 2i64) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00406C20) --------------------------------------------------------
int __thiscall CBuffStone::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 92))(a2, 16, 1, this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 15, 1, this[6], this[6]);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 4, 0);
  return 1;
}

//----- (00406C80) --------------------------------------------------------
int __thiscall CBuffStone::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 16, 0, this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 15, 0, this[6], this[6]);
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 4, 0);
}

//----- (00406CE0) --------------------------------------------------------
int __stdcall CBuffMeditation::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 8, 0);
  return 1;
}

//----- (00406D10) --------------------------------------------------------
int __stdcall sub_406D10(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 8, 0);
}

//----- (00406D30) --------------------------------------------------------
BOOL __thiscall CBuffMeditation::IsExpired(_DWORD *this, CPlayer *a2)
{
  int v2; // esi
  int v4; // [esp+4h] [ebp-10h]
  int v6; // [esp+Ch] [ebp-8h]
  DWORD v7; // [esp+10h] [ebp-4h]

  v7 = GetTickCount();
  if ( v7 >= this[6] )
  {
    if ( CChar::IsNormal((int)a2) && a2->m_nCurMP < CChar::GetMaxMP(a2) )
    {
      v2 = this[3] * CChar::GetWis(a2) / 15;
      v6 = RandomBetween(0, this[3] + 1) + v2;
      if ( v6 >= 5 * this[3] + 5 )
        v4 = 5 * this[3] + 5;
      else
        v4 = v6;
      a2->UpdateProperty(a2, 8, 1, v4);
    }
    this[6] = v7 + 4000;
  }
  return CBuff::IsExpired(this, (int)a2);
}

//----- (00406E10) --------------------------------------------------------
int __cdecl RandomBetween(int nMin, int nMax)
{
  int result; // eax

  if ( nMin >= nMax )
    result = nMin;
  else
    result = nMin + _Random() % (unsigned int)(nMax - nMin + 1);
  return result;
}

//----- (00406E40) --------------------------------------------------------
int __thiscall BuffFatalChance::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 96))(a2, 31, 1, this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 92))(a2, 9, 1, this[6]);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 16, 0);
  return 1;
}

//----- (00406EA0) --------------------------------------------------------
int __thiscall CBuffFatalChance::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 31, 0, this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 9, 0, this[6]);
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 16, 0);
}

//----- (00406EF0) --------------------------------------------------------
int __thiscall CBuffRevivalSequela::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 27, 1, this[3], this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 28, 1, this[3], this[3]);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 32, 0);
  return 1;
}

//----- (00406F60) --------------------------------------------------------
int __thiscall CBuffRevivalSequela::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 27, 0, this[3], this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 28, 0, this[3], this[3]);
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 32, 0);
}

//----- (00406FC0) --------------------------------------------------------
int __thiscall CBuffRevivalSequela::UpdateBuff(_DWORD *this, std::locale::facet *a2, int a3)
{
  this[2] = a2[1].__vftable;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00407010) --------------------------------------------------------
int __thiscall CBuffStun::ApplyBuff(_DWORD *this, _DWORD *a2)
{
  (*(void (__thiscall **)(_DWORD *, int, _DWORD))(*a2 + 104))(a2, 256, 0);
  if ( (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2) )
  {
    a2[117] = this[2];
    (*(void (__thiscall **)(_DWORD *, _DWORD, int))(*a2 + 228))(a2, this[2], 1);
  }
  return 1;
}

//----- (00407080) --------------------------------------------------------
int __stdcall sub_407080(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 256, 0);
}

//----- (004070A0) --------------------------------------------------------
int __thiscall CBuffStun::UpdateBuff(_DWORD *this, std::locale::facet *a2, int a3)
{
  DWORD v5; // [esp+2Ch] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState((_QWORD *)a3, 256i64) )
    (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 256, 0);
  this[2] = a2[1].__vftable;
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a3 + 64))(a3) )
  {
    *(_DWORD *)(a3 + 468) = this[2];
    (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a3 + 228))(a3, this[2], 1);
  }
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00407200) --------------------------------------------------------
int __thiscall CBuffStun::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 256i64) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00407260) --------------------------------------------------------
int __thiscall CBuffMoveStop::ApplyBuff(_DWORD *this, int a2)
{
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 228))(a2, this[2], 1);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 512, 0);
  return 1;
}

//----- (004072B0) --------------------------------------------------------
int __thiscall CBuffMoveStop::FreeBuff(void *this, int a2)
{
  DWORD v2; // eax

  if ( (*(int (__thiscall **)(int, void *))(*(_DWORD *)a2 + 64))(a2, this) )
  {
    v2 = GetTickCount();
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a2 + 228))(a2, v2, 1);
  }
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 512, 0);
}

//----- (00407300) --------------------------------------------------------
int __thiscall CBuffMoveStop::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 512i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 512, 0);
  this[2] = a2[1].__vftable;
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( (*(int (__thiscall **)(_QWORD *))(*(_DWORD *)a3 + 64))(a3) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 228))(a3, this[2], 1);
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00407440) --------------------------------------------------------
int __thiscall CBuffMoveStop::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 512i64) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (004074A0) --------------------------------------------------------
int __stdcall CBuffPoison::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 4096, 0);
  return 1;
}

//----- (004074D0) --------------------------------------------------------
int __stdcall sub_4074D0(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 4096, 0);
}

//----- (004074F0) --------------------------------------------------------
int __thiscall CBuffPoison::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 4096i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 4096, 0);
  *((std::locale::facet *)this + 1) = a2[1];
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00407620) --------------------------------------------------------
int __thiscall CBuffPoison::IsExpired(_DWORD *this, int a2)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-24h]
  int v5; // [esp+0h] [ebp-18h]
  DWORD v7; // [esp+14h] [ebp-4h]

  if ( !CChar::IsMState((_QWORD *)a2, 4096i64) )
    return 0;
  v7 = GetTickCount();
  if ( v7 >= this[7] )
  {
    if ( *(int *)(a2 + 272) > 1 )
    {
      if ( *(_DWORD *)(a2 + 272) <= this[3] )
        v5 = *(_DWORD *)(a2 + 272) - 1;
      else
        v5 = this[3];
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 7, 0, v5);
      if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) )
      {
        v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CPlayer::Write(a2, 10, "bbddww", 3, 13, v3, v4, v5, 0);
      }
      else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
      {
        *(_DWORD *)(a2 + 472) = GetTickCount() + 20000;
      }
    }
    this[7] = v7 + 2000;
  }
  if ( CBuff::IsExpired(this, a2) )
    (*(void (__thiscall **)(_DWORD *, int))(*this + 8))(this, a2);
  return 0;
}

//----- (00407780) --------------------------------------------------------
int __stdcall CBuffPoisonCloud::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 4096);
  return 1;
}

//----- (004077B0) --------------------------------------------------------
int __stdcall sub_4077B0(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 4096);
}

//----- (004077D0) --------------------------------------------------------
int __thiscall CBuffPoisonCloud::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x100000000000i64) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 104))(a3, 0, 4096);
  *((std::locale::facet *)this + 1) = a2[1];
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00407900) --------------------------------------------------------
int __thiscall CBuffPoisonCloud::IsExpired(_DWORD *this, int a2)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-24h]
  int v5; // [esp+0h] [ebp-18h]
  DWORD v7; // [esp+14h] [ebp-4h]

  if ( !CChar::IsMState((_QWORD *)a2, 0x100000000000i64) )
    return 0;
  v7 = GetTickCount();
  if ( v7 >= this[7] )
  {
    if ( *(int *)(a2 + 272) > 1 )
    {
      if ( *(_DWORD *)(a2 + 272) <= this[3] )
        v5 = *(_DWORD *)(a2 + 272) - 1;
      else
        v5 = this[3];
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 7, 0, v5);
      if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) )
      {
        v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CPlayer::Write(a2, 10, "bbddww", 12, 42, v3, v4, v5, 0);
      }
      else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
      {
        *(_DWORD *)(a2 + 472) = GetTickCount() + 20000;
      }
    }
    this[7] = v7 + 1000;
  }
  if ( CBuff::IsExpired(this, a2) )
    (*(void (__thiscall **)(_DWORD *, int))(*this + 8))(this, a2);
  return 0;
}

//----- (00407A40) --------------------------------------------------------
int __thiscall CBuffHaste::ApplyBuff(_DWORD *this, _QWORD *a2)
{
  if ( CPlayer::IsWearBuffStandard(a2) )
    return 0;
  if ( CChar::IsMState(a2, 1i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 1, 0);
  (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 0x2000, 0);
  (*(void (__cdecl **)(_QWORD *, int, int, _DWORD))(*(_DWORD *)a2 + 96))(a2, 32, 1, this[3]);
  return 1;
}

//----- (00407AC0) --------------------------------------------------------
int __thiscall CBuffHaste::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 0x2000, 0);
  return (*(int (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 32, 0, this[3]);
}

//----- (00407B00) --------------------------------------------------------
int __stdcall CBuffHP::ApplyBuff(_QWORD *a1)
{
  if ( CChar::IsMState(a1, 1i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 1, 0);
  (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 0x100000, 0);
  CPlayer::Rest((volatile LONG *)a1, 1);
  return 1;
}

//----- (00407B60) --------------------------------------------------------
int __stdcall sub_407B60(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 0x100000, 0);
}

//----- (00407B80) --------------------------------------------------------
int __stdcall CBuffMP::ApplyBuff(_QWORD *a1)
{
  if ( CChar::IsMState(a1, 1i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 1, 0);
  (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 0x200000, 0);
  CPlayer::Rest((volatile LONG *)a1, 1);
  return 1;
}

//----- (00407BE0) --------------------------------------------------------
int __stdcall sub_407BE0(int a1)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 0x200000, 0);
}

//----- (00407C00) --------------------------------------------------------
BOOL __thiscall CBuffMP::IsExpired(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 88))(a2, 8, 1, this[3]);
  return CBuff::IsExpired(this, a2);
}

//----- (00407C40) --------------------------------------------------------
int __thiscall CBuffSleep::ApplyBuff(_DWORD *this, int a2)
{
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 228))(a2, this[2], 1);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 0x10000000, 0);
  return 1;
}

//----- (00407C90) --------------------------------------------------------
int __thiscall CBuffSleep::FreeBuff(void *this, int a2)
{
  DWORD v2; // eax

  if ( (*(int (__thiscall **)(int, void *))(*(_DWORD *)a2 + 64))(a2, this) )
  {
    v2 = GetTickCount();
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a2 + 228))(a2, v2, 1);
  }
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 0x10000000, 0);
}

//----- (00407CE0) --------------------------------------------------------
int __thiscall CBuffSleep::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x10000000i64) )
    (*(void (__thiscall **)(_QWORD *, int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 0x10000000, 0);
  this[2] = a2[1].__vftable;
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( (*(int (__thiscall **)(_QWORD *))(*(_DWORD *)a3 + 64))(a3) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 228))(a3, this[2], 1);
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00407E20) --------------------------------------------------------
int __thiscall CBuffSleep::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 0x10000000i64) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00407E80) --------------------------------------------------------
int __thiscall CBuffCTDefensePer::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 15, 1, this[3], this[6]);
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 0x40000000, 0);
  return 1;
}

//----- (00407ED0) --------------------------------------------------------
int __thiscall CBuffCTDefensePer::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 15, 0, this[3], this[6]);
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 0x40000000, 0);
}

//----- (00407F10) --------------------------------------------------------
int __stdcall CBuffCTHealing::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 4);
  return 1;
}

//----- (00407F40) --------------------------------------------------------
int __stdcall sub_407F40(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 4);
}

//----- (00407F60) --------------------------------------------------------
int __thiscall CBuffCTHealing::IsExpired(_DWORD *this, CPlayer *a2)
{
  int v2; // eax
  DWORD v5; // [esp+4h] [ebp-4h]

  v5 = GetTickCount();
  if ( v5 >= this[6] )
  {
    if ( CChar::IsNormal((int)a2) && *((_DWORD *)a2 + 68) < CChar::GetMaxHP(a2) )
    {
      v2 = RandomBetween(0, 6);
      (*(void (__cdecl **)(CPlayer *, int, int, int))(*(_DWORD *)a2 + 88))(a2, 7, 1, this[3] + v2);
    }
    this[6] = v5 + 3000;
  }
  return 0;
}

//----- (00407FE0) --------------------------------------------------------
int __thiscall CBuffCTPrtyPtEx::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[7], 1, this[3], this[6]);
  (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 116))(a2, this[8]);
  return 1;
}

//----- (00408030) --------------------------------------------------------
int __thiscall CBuffCTPrtyPtEx::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[7], 0, this[3], this[6]);
  return (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 120))(a2, this[8]);
}

//----- (00408080) --------------------------------------------------------
int __stdcall CBuffSuffering::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, unsigned int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 0x80000000, 0);
  return 1;
}

//----- (004080B0) --------------------------------------------------------
int __stdcall sub_4080B0(int a1)
{
  return (*(int (__thiscall **)(int, unsigned int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 0x80000000, 0);
}

//----- (004080D0) --------------------------------------------------------
int __thiscall CBuffSuffering::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x80000000i64) )
    (*(void (__thiscall **)(_QWORD *, unsigned int, _DWORD))(*(_DWORD *)a3 + 104))(a3, 0x80000000, 0);
  *((std::locale::facet *)this + 1) = a2[1];
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00408200) --------------------------------------------------------
int __thiscall CBuffSuffering::IsExpired(_DWORD *this, int a2)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-20h]
  int v5; // [esp+0h] [ebp-14h]

  if ( !CChar::IsMState((_QWORD *)a2, 0x80000000i64) )
    return 0;
  if ( *(int *)(a2 + 272) > 1 )
  {
    if ( *(_DWORD *)(a2 + 272) <= this[3] )
      v5 = *(_DWORD *)(a2 + 272) - 1;
    else
      v5 = this[3];
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 7, 0, v5);
    if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) )
    {
      v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CPlayer::Write(a2, 10, "bbddww", 5, 13, v3, v4, v5, 0);
    }
    else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    {
      *(_DWORD *)(a2 + 472) = GetTickCount() + 20000;
    }
  }
  if ( CBuff::IsExpired(this, a2) )
    (*(void (__thiscall **)(_DWORD *, int))(*this + 8))(this, a2);
  return 0;
}

//----- (00408310) --------------------------------------------------------
int __thiscall CBuffInchantWeapon::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 27, 1, this[3], this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 28, 1, this[3], this[3]);
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 104))(a2, 0, 1);
  return 1;
}

//----- (00408380) --------------------------------------------------------
int __thiscall CBuffInchantWeapon::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 27, 0, this[3], this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, 28, 0, this[3], this[3]);
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 124))(a2, 0, 1);
}

//----- (004083E0) --------------------------------------------------------
int __stdcall CBuffSpiritDmg::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 8);
  return 1;
}

//----- (00408410) --------------------------------------------------------
int __stdcall sub_408410(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 8);
}

//----- (00408430) --------------------------------------------------------
int __thiscall CBuffSpiritDmg::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x800000000i64) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 104))(a3, 0, 8);
  *((std::locale::facet *)this + 1) = a2[1];
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00408550) --------------------------------------------------------
int __thiscall CBuffSpiritDmg::IsExpired(_DWORD *this, int a2)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-20h]
  int v5; // [esp+0h] [ebp-14h]

  if ( !CChar::IsMState((_QWORD *)a2, 0x800000000i64) )
    return 0;
  if ( *(int *)(a2 + 272) > 1 )
  {
    if ( *(_DWORD *)(a2 + 272) <= this[3] )
      v5 = *(_DWORD *)(a2 + 272) - 1;
    else
      v5 = this[3];
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 7, 0, v5);
    if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) )
    {
      v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CPlayer::Write(a2, 10, "bbddww", 6, 13, v3, v4, v5, 0);
    }
    else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    {
      *(_DWORD *)(a2 + 472) = GetTickCount() + 20000;
    }
  }
  if ( CBuff::IsExpired(this, a2) )
    (*(void (__thiscall **)(_DWORD *, int))(*this + 8))(this, a2);
  return 0;
}

//----- (00408660) --------------------------------------------------------
int __thiscall CBuffFlagPrty::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD, _DWORD))(*(_DWORD *)a2 + 104))(a2, this[10], this[11]);
  if ( this[6] )
  {
    switch ( this[6] )
    {
      case 1:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[8], 1, this[3], this[7]);
        break;
      case 2:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, this[8], 1, this[3], this[7]);
        break;
      case 3:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, this[8], 1, this[3], this[7]);
        break;
    }
  }
  return 1;
}

//----- (00408730) --------------------------------------------------------
_DWORD *__thiscall CBuffFlagPrty::FreeBuff(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  (*(void (__thiscall **)(int, _DWORD, _DWORD))(*(_DWORD *)a2 + 124))(a2, this[10], this[11]);
  result = this;
  if ( this[6] )
  {
    if ( this[6] == 1 )
    {
      result = (_DWORD *)(*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
                           a2,
                           this[8],
                           0,
                           this[3],
                           this[7]);
    }
    else if ( this[6] == 2 )
    {
      result = (_DWORD *)(*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
                           a2,
                           this[8],
                           0,
                           this[3],
                           this[7]);
    }
    else
    {
      result = this;
      if ( this[6] == 3 )
        result = (_DWORD *)(*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(
                             a2,
                             this[8],
                             0,
                             this[3],
                             this[7]);
    }
  }
  return result;
}

//----- (00408800) --------------------------------------------------------
int __stdcall CBuffFlagHP::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 512);
  return 1;
}

//----- (00408830) --------------------------------------------------------
int __stdcall sub_408830(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 512);
}

//----- (00408850) --------------------------------------------------------
int __thiscall CBuffFlagHP::UpdateBuff(_DWORD *this, std::locale::facet *a2, int a3)
{
  *((std::locale::facet *)this + 1) = a2[1];
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (004088B0) --------------------------------------------------------
BOOL __thiscall CBuffHP::IsExpired(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)a2 + 88))(a2, 7, 1, this[3]);
  return CBuff::IsExpired(this, a2);
}

//----- (004088F0) --------------------------------------------------------
int __thiscall CBuffBerserk::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 27, 1, this[3], this[3]);
  (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 15, 1, this[6], this[6]);
  (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 116))(a2, 32);
  return 1;
}

//----- (00408960) --------------------------------------------------------
int __thiscall CBuffBerserk::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 27, 0, this[3], this[3]);
  (*(void (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, 15, 0, this[6], this[6]);
  return (*(int (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 32);
}

//----- (004089C0) --------------------------------------------------------
int __stdcall CBuffSilenceShot::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 1024);
  return 1;
}

//----- (004089F0) --------------------------------------------------------
int __stdcall sub_4089F0(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 1024);
}

//----- (00408A10) --------------------------------------------------------
int __thiscall CBuffSilenceShot::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x40000000000i64) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 104))(a3, 0, 1024);
  *((std::locale::facet *)this + 1) = a2[1];
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00408B40) --------------------------------------------------------
int __thiscall CBuffSilenceShot::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 0x40000000000i64) )
    return 0;
  (*(void (__cdecl **)(_QWORD *, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, 8, 0, this[3]);
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00408BB0) --------------------------------------------------------
int __stdcall CBuffManaBurn::ApplyBuff(int a1)
{
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 104))(a1, 0, 2048);
  return 1;
}

//----- (00408BE0) --------------------------------------------------------
int __stdcall sub_408BE0(int a1)
{
  return (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a1 + 124))(a1, 0, 2048);
}

//----- (00408C00) --------------------------------------------------------
int __thiscall CBuffManaBurn::UpdateBuff(_DWORD *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !CChar::IsMState(a3, 0x80000000000i64) )
    (*(void (__thiscall **)(_QWORD *, _DWORD, int))(*(_DWORD *)a3 + 104))(a3, 0, 2048);
  *((std::locale::facet *)this + 1) = a2[1];
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00408D30) --------------------------------------------------------
int __thiscall CBuffManaBurn::IsExpired(_DWORD *this, _QWORD *a2)
{
  if ( !CChar::IsMState(a2, 0x80000000000i64) )
    return 0;
  (*(void (__cdecl **)(_QWORD *, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, 8, 0, this[3]);
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _QWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (00408DA0) --------------------------------------------------------
int __thiscall CBuffPrty::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD, _DWORD))(*(_DWORD *)a2 + 104))(a2, this[10], this[11]);
  if ( this[7] )
  {
    switch ( this[7] )
    {
      case 1:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[9], 1, this[3], this[8]);
        break;
      case 2:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, this[9], 1, this[3], this[8]);
        break;
      case 3:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, this[9], 1, this[3], this[8]);
        break;
    }
  }
  return 1;
}

//----- (00408E70) --------------------------------------------------------
int __thiscall CBuffPrty::FreeBuff(int this, _QWORD *a2)
{
  int result; // eax
  __int64 v3; // [esp+0h] [ebp-Ch]

  v3 = CChar::IsMState(a2, *(_QWORD *)(this + 40));
  result = HIDWORD(v3) | v3;
  if ( v3 )
  {
    (*(void (__thiscall **)(_QWORD *, _DWORD, _DWORD))(*(_DWORD *)a2 + 124))(
      a2,
      *(_DWORD *)(this + 40),
      *(_DWORD *)(this + 44));
    result = this;
    if ( *(_DWORD *)(this + 28) )
    {
      if ( *(_DWORD *)(this + 28) == 1 )
      {
        result = (*(int (__cdecl **)(_QWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
                   a2,
                   *(_DWORD *)(this + 36),
                   0,
                   *(_DWORD *)(this + 12),
                   *(_DWORD *)(this + 32));
      }
      else if ( *(_DWORD *)(this + 28) == 2 )
      {
        result = (*(int (__cdecl **)(_QWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
                   a2,
                   *(_DWORD *)(this + 36),
                   0,
                   *(_DWORD *)(this + 12),
                   *(_DWORD *)(this + 32));
      }
      else
      {
        result = this;
        if ( *(_DWORD *)(this + 28) == 3 )
          result = (*(int (__cdecl **)(_QWORD *, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(
                     a2,
                     *(_DWORD *)(this + 36),
                     0,
                     *(_DWORD *)(this + 12),
                     *(_DWORD *)(this + 32));
      }
    }
  }
  return result;
}

//----- (00408F60) --------------------------------------------------------
int __thiscall CBuffPrty::UpdateBuff(void *this, std::locale::facet *a2, _QWORD *a3)
{
  DWORD v5; // [esp+28h] [ebp-4h]

  if ( !sub_4090C0(this, 4) )
    return CBuff::UpdateBuff(a2, (int)a3);
  v5 = GetTickCount();
  if ( *((int *)this + 6) < 5 )
  {
    ++*((_DWORD *)this + 6);
  }
  else
  {
    if ( *((_DWORD *)this + 2) + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    *((_DWORD *)this + 6) = 0;
  }
  if ( !CChar::IsMState(a3, *((_QWORD *)this + 5)) )
  {
    *((_DWORD *)this + 3) = a2[1]._Refs;
    *((_DWORD *)this + 8) = a2[4].__vftable;
    (*(void (__thiscall **)(void *, _QWORD *))(*(_DWORD *)this + 4))(this, a3);
  }
  *((_DWORD *)this + 2) = a2[1].__vftable;
  *((_DWORD *)this + 2) -= dword_4D8CE4[*((_DWORD *)this + 6)] * (*((_DWORD *)this + 2) - v5) / 0x64;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (004090C0) --------------------------------------------------------
int __thiscall sub_4090C0(_DWORD *this, int a2)
{
  return a2 & this[4];
}

//----- (004090E0) --------------------------------------------------------
BOOL __thiscall CBuffPrty::IsExpired(int this, _QWORD *a2)
{
  if ( !sub_4090C0((_DWORD *)this, 4) )
    return CBuff::IsExpired((_DWORD *)this, (int)a2);
  if ( !CChar::IsMState(a2, *(_QWORD *)(this + 40)) )
    return 0;
  if ( CBuff::IsExpired((_DWORD *)this, (int)a2) )
    (*(void (__thiscall **)(int, _QWORD *))(*(_DWORD *)this + 8))(this, a2);
  return 0;
}

//----- (00409160) --------------------------------------------------------
int __thiscall CBuffPrtyEx::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 116))(a2, this[10]);
  if ( this[7] )
  {
    switch ( this[7] )
    {
      case 1:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[9], 1, this[3], this[8]);
        break;
      case 2:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(a2, this[9], 1, this[3], this[8]);
        break;
      case 3:
        (*(void (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, this[9], 1, this[3], this[8]);
        break;
    }
  }
  return 1;
}

//----- (00409230) --------------------------------------------------------
int __thiscall CBuffPrtyEx::FreeBuff(_DWORD *this, int a2)
{
  int result; // eax

  result = sub_409310((_DWORD *)a2, this[10]);
  if ( result )
  {
    (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 120))(a2, this[10]);
    result = (int)this;
    if ( this[7] )
    {
      if ( this[7] == 1 )
      {
        result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
                   a2,
                   this[9],
                   0,
                   this[3],
                   this[8]);
      }
      else if ( this[7] == 2 )
      {
        result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
                   a2,
                   this[9],
                   0,
                   this[3],
                   this[8]);
      }
      else
      {
        result = (int)this;
        if ( this[7] == 3 )
          result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(
                     a2,
                     this[9],
                     0,
                     this[3],
                     this[8]);
      }
    }
  }
  return result;
}

//----- (00409310) --------------------------------------------------------
int __thiscall sub_409310(_DWORD *this, int a2)
{
  return a2 & this[74];
}

//----- (00409330) --------------------------------------------------------
int __thiscall CBuffPrtyEx::UpdateBuff(_DWORD *this, std::locale::facet *a2, _DWORD *a3)
{
  DWORD v5; // [esp+20h] [ebp-4h]

  if ( !sub_4090C0(this, 4) )
    return CBuff::UpdateBuff(a2, (int)a3);
  v5 = GetTickCount();
  if ( (int)this[6] < 5 )
  {
    ++this[6];
  }
  else
  {
    if ( this[2] + 600000 > v5 )
    {
      if ( a2 )
        std::locale::facet::`scalar deleting destructor'(a2, 1);
      return 0;
    }
    this[6] = 0;
  }
  if ( !sub_409310(a3, this[10]) )
  {
    this[3] = a2[1]._Refs;
    this[8] = a2[4].__vftable;
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 4))(this, a3);
  }
  this[2] = a2[1].__vftable;
  this[2] -= dword_4D8CE4[this[6]] * (this[2] - v5) / 0x64;
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 1;
}

//----- (00409480) --------------------------------------------------------
BOOL __thiscall CBuffPrtyEx::IsExpired(_DWORD *this, _DWORD *a2)
{
  if ( !sub_4090C0(this, 4) )
    return CBuff::IsExpired(this, (int)a2);
  if ( !sub_409310(a2, this[10]) )
    return 0;
  if ( CBuff::IsExpired(this, (int)a2) )
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 8))(this, a2);
  return 0;
}

//----- (004094F0) --------------------------------------------------------
int __thiscall CBuffExpire::SetBuff(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  time_t v3; // eax

  if ( (unsigned int)time(0) <= this[2] )
  {
    v3 = time(0);
    (*(void (__thiscall **)(_DWORD *, _DWORD, _DWORD, int))(*a2 + 108))(a2, this[6], this[7], this[2] - v3);
    result = 1;
  }
  else
  {
    CDBSocket::Write(25, "dbdb", a2[113], this[1], this[2], 1);
    result = 0;
  }
  return result;
}

//----- (00409570) --------------------------------------------------------
int __thiscall CBuffExpire::ApplyBuff(_DWORD *this, _DWORD *a2)
{
  time_t v2; // eax

  v2 = time(0);
  (*(void (__thiscall **)(_DWORD *, _DWORD, _DWORD, int))(*a2 + 108))(a2, this[6], this[7], this[2] - v2);
  CDBSocket::Write(25, "dbdb", a2[113], this[1], this[2], 0);
  return 1;
}

//----- (004095E0) --------------------------------------------------------
BOOL __thiscall CBuffExpire::IsExpired(_DWORD *this, int a2)
{
  return this[2] < (unsigned int)time(0);
}

//----- (00409610) --------------------------------------------------------
int __thiscall CBuffExpireEvent::ApplyBuff(_DWORD *this, int a2)
{
  time_t v2; // eax

  v2 = time(0);
  (*(void (__thiscall **)(int, _DWORD, _DWORD, int))(*(_DWORD *)a2 + 108))(a2, this[6], this[7], this[2] - v2);
  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 27, 1, 10, 10);
  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 28, 1, 10, 10);
  return 1;
}

//----- (00409680) --------------------------------------------------------
int __thiscall CBuffExpireEvent::FreeBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD, _DWORD))(*(_DWORD *)a2 + 128))(a2, this[6], this[7]);
  (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 27, 0, 10, 10);
  return (*(int (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 28, 0, 10, 10);
}

//----- (004096E0) --------------------------------------------------------
int __thiscall CBuffExpireLuckyStone2::ApplyBuff(_DWORD *this, _DWORD *a2)
{
  int result; // eax

  if ( CChar::IsBState(a2, 0x4000000i64) )
    result = 0;
  else
    result = CBuffExpire::ApplyBuff(this, a2);
  return result;
}

//----- (00409720) --------------------------------------------------------
__int64 __thiscall CChar::IsBState(_QWORD *this, __int64 a2)
{
  return a2 & this[38];
}

//----- (00409750) --------------------------------------------------------
int __thiscall CBuffRemain::SetBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 108))(a2, this[6], this[7], this[2]);
  return 1;
}

//----- (00409780) --------------------------------------------------------
int __thiscall CBuffRemain::ApplyBuff(_DWORD *this, _DWORD *a2)
{
  (*(void (__thiscall **)(_DWORD *, _DWORD, _DWORD, _DWORD))(*a2 + 108))(a2, this[6], this[7], this[2]);
  CDBSocket::Write(25, "dbdb", a2[113], this[1], this[2], 0);
  return 1;
}

//----- (004097E0) --------------------------------------------------------
void __thiscall CBuffExpire::FreeBuff(_DWORD *this, _DWORD *a2)
{
  (*(void (__thiscall **)(_DWORD *, _DWORD, _DWORD))(*a2 + 128))(a2, this[6], this[7]);
  CDBSocket::Write(25, "dbdb", a2[113], this[1], this[2], 1);
}

//----- (00409830) --------------------------------------------------------
int __thiscall CBuffRemain::IsExpired(_DWORD *this, int a2)
{
  if ( !--this[2] )
    return 1;
  if ( !(this[2] % 0x3Cu) )
    CDBSocket::Write(25, "dbdb", *(_DWORD *)(a2 + 452), this[1], this[2], 2);
  return 0;
}

//----- (004098A0) --------------------------------------------------------
void __thiscall CBuffRemain::SaveRemain(_DWORD *this, int a2)
{
  CDBSocket::Write(25, "dbdb", *(_DWORD *)(a2 + 452), this[1], this[2], 2);
}

//----- (004098E0) --------------------------------------------------------
int __thiscall CBuffRemainEx::SetBuff(_DWORD *this, int a2)
{
  CChar::AddGState((volatile LONG *)a2, this[6]);
  return 1;
}

//----- (00409910) --------------------------------------------------------
LONG __thiscall CChar::AddGState(volatile LONG *this, int a2)
{
  return InterlockedExchange(this + 70, a2 | *((_DWORD *)this + 70));
}

//----- (00409940) --------------------------------------------------------
int __thiscall CBuffRemainEx::ApplyBuff(_DWORD *this, _DWORD *a2)
{
  (*(void (__thiscall **)(_DWORD *, _DWORD))(*a2 + 100))(a2, this[6]);
  CDBSocket::Write(25, "dbdb", a2[113], this[1], this[2], 0);
  return 1;
}

//----- (00409990) --------------------------------------------------------
void __thiscall CBuffRemainEx::FreeBuff(_DWORD *this, _DWORD *a2)
{
  (*(void (__thiscall **)(_DWORD *, _DWORD))(*a2 + 112))(a2, this[6]);
  CDBSocket::Write(25, "dbdb", a2[113], this[1], this[2], 1);
}

//----- (004099E0) --------------------------------------------------------
int __thiscall CBuffRemainDead::SetBuff(_DWORD *this, int a2)
{
  CChar::AddGState((volatile LONG *)a2, 2);
  *(_DWORD *)(a2 + 1448) = 1000 * this[2] + GetTickCount();
  *(_DWORD *)(a2 + 1452) = 1000 * this[2] + GetTickCount();
  return 1;
}

//----- (00409A40) --------------------------------------------------------
int __thiscall BuffRemainDead::ApplyBuff(_DWORD *this, int a2)
{
  CDBSocket::Write(25, "dbdb", *(_DWORD *)(a2 + 452), this[1], this[2], 0);
  return 1;
}

//----- (00409A80) --------------------------------------------------------
void __thiscall CBuffRemainDead::FreeBuff(_DWORD *this, int a2)
{
  CDBSocket::Write(25, "dbdb", *(_DWORD *)(a2 + 452), this[1], this[2], 1);
}

//----- (00409AC0) --------------------------------------------------------
int __thiscall sub_409AC0(_DWORD *this, int a2)
{
  CPlayer::AddEState((_DWORD *)a2, this[6]);
  return 1;
}

//----- (00409AF0) --------------------------------------------------------
_DWORD *__thiscall CPlayer::AddEState(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  result = this;
  this[142] |= a2;
  return result;
}

//----- (00409B20) --------------------------------------------------------
int __thiscall CBuffRemainXBlow::ApplyBuff(_DWORD *this, _DWORD *a2)
{
  int result; // eax

  if ( CChar::IsBState(a2, 4096i64) && this[1] == 53 || CChar::IsBState(a2, 2048i64) && this[1] == 54 )
    result = 0;
  else
    result = CBuffRemain::ApplyBuff(this, a2);
  return result;
}

//----- (00409BA0) --------------------------------------------------------
int __thiscall CBuffRemainPrty::SetBuff(_DWORD *this, int a2)
{
  if ( !CBuffRemain::SetBuff(this, a2) )
    return 0;
  (*(void (__cdecl **)(int, _DWORD, int, _DWORD))(*(_DWORD *)a2 + 92))(a2, this[8], 1, this[3]);
  return 1;
}

//----- (00409BF0) --------------------------------------------------------
int __thiscall sub_409BF0(_DWORD *this, _DWORD *a2)
{
  if ( !CBuffRemain::ApplyBuff(this, a2) )
    return 0;
  (*(void (__cdecl **)(_DWORD *, _DWORD, int, _DWORD))(*a2 + 92))(a2, this[8], 1, this[3]);
  return 1;
}

//----- (00409C40) --------------------------------------------------------
int __thiscall CBuffRemainPrty::FreeBuff(_DWORD *this, _DWORD *a2)
{
  CBuffExpire::FreeBuff(this, a2);
  return (*(int (__cdecl **)(_DWORD *, _DWORD, _DWORD, _DWORD))(*a2 + 92))(a2, this[8], 0, this[3]);
}

//----- (00409C80) --------------------------------------------------------
int __thiscall CBuffRemainCount::UpdateBuff(std::locale::facet *this, std::locale::facet *a2, int a3)
{
  if ( this == a2 )
  {
    if ( !--this[1].__vftable )
    {
      ((void (__thiscall *)(std::locale::facet *, int))this->__vftable[2].~facet)(this, a3);
      return 0;
    }
    goto LABEL_11;
  }
  if ( (unsigned int)a2[1].__vftable + (unsigned int)this[1].__vftable <= 0x2710 )
  {
    this[1].__vftable = (std::locale::facet_vtbl *)((char *)this[1].__vftable + (unsigned int)a2[1].__vftable);
    if ( a2 )
      std::locale::facet::`scalar deleting destructor'(a2, 1);
LABEL_11:
    CPlayer::Write(a3, 68, "bId", 74, this[3].__vftable, this[3]._Refs, this[1].__vftable);
    ((void (__thiscall *)(std::locale::facet *, int))this->__vftable[6].~facet)(this, a3);
    return 1;
  }
  if ( a2 )
    std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 0;
}

//----- (00409D80) --------------------------------------------------------
int __thiscall CBuffRemainLuckyStone1::ApplyBuff(_DWORD *this, _DWORD *a2)
{
  int result; // eax

  if ( CChar::IsBState(a2, 0x8000000i64) )
    result = 0;
  else
    result = CBuffRemain::ApplyBuff(this, a2);
  return result;
}

//----- (00409DC0) --------------------------------------------------------
int __thiscall CBuffRemainPet::ApplyBuff(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int i; // [esp+8h] [ebp-4h]

  for ( i = 0; i <= 4; ++i )
    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, i, 1, 5);
  this[8] = RandomBetween(0, 2);
  v3 = this[8];
  if ( v3 )
  {
    if ( v3 == 1 )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x80000);
    }
    else if ( v3 == 2 )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x100000);
    }
  }
  else
  {
    (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x40000);
  }
  CPlayer::Write(a2, 47, "bb", 0, this[8]);
  return 1;
}

//----- (00409E90) --------------------------------------------------------
void __thiscall CBuffRemainPet::FreeBuff(_DWORD *this, int a2)
{
  int v2; // [esp+4h] [ebp-Ch]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i <= 4; ++i )
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 92))(a2, i, 0, 5);
  v2 = this[8];
  switch ( v2 )
  {
    case 0:
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 112))(a2, 0x40000);
      goto LABEL_9;
    case 1:
LABEL_9:
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 112))(a2, 0x80000);
      goto LABEL_10;
    case 2:
LABEL_10:
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 112))(a2, 0x100000);
      break;
  }
  switch ( this[3] )
  {
    case 1:
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 96))(a2, 5, 0, 25);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 0x8000000);
      break;
    case 2:
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 96))(a2, 6, 0, 25);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 0x10000000);
      break;
    case 3:
      (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 27, 0, 25, 25);
      (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 28, 0, 25, 25);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 0x20000000);
      break;
    case 4:
      (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 15, 0, 25, 25);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 0x40000000);
      break;
    default:
      break;
  }
  this[3] = 0;
  CPlayer::Write(a2, 47, "bb", 1, this[8]);
}

//----- (0040A040) --------------------------------------------------------
int __thiscall CBuffRemainPet::IsExpired(_DWORD *this, int a2)
{
  int v3; // [esp-8h] [ebp-14h]
  int v4; // [esp-8h] [ebp-14h]
  int v5; // [esp-8h] [ebp-14h]
  int v6; // [esp-8h] [ebp-14h]

  if ( !--this[2] )
    return 1;
  if ( this[3] )
  {
    if ( this[2] % 0x384u < 0x12C )
    {
      switch ( this[3] )
      {
        case 1:
          (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 96))(a2, 5, 0, 25);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 0x8000000);
          break;
        case 2:
          (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 96))(a2, 6, 0, 25);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 0x10000000);
          break;
        case 3:
          (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 27, 0, 25, 25);
          (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 28, 0, 25, 25);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 0x20000000);
          break;
        case 4:
          (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 96))(a2, 15, 0, 25, 25);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 120))(a2, 0x40000000);
          break;
        default:
          break;
      }
      this[3] = 0;
    }
  }
  else if ( this[2] % 0x384u > 0x12C )
  {
    this[3] = RandomBetween(1, 4);
    switch ( this[3] )
    {
      case 1:
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 5, 1, 25);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 116))(a2, 0x8000000);
        v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 73, "db", v3, 24);
        break;
      case 2:
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 6, 1, 25);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 116))(a2, 0x10000000);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 73, "db", v4, 25);
        break;
      case 3:
        (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 27, 1, 25, 25);
        (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 28, 1, 25, 25);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 116))(a2, 0x20000000);
        v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 73, "db", v5, 26);
        break;
      case 4:
        (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 15, 1, 25, 25);
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 116))(a2, 0x40000000);
        v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 73, "db", v6, 27);
        break;
      default:
        return 0;
    }
  }
  return 0;
}

//----- (0040A330) --------------------------------------------------------
int __thiscall CBuffHydrochloricAcid::ApplyBuff(_DWORD *this, int a2)
{
  (*(void (__thiscall **)(int, unsigned int))(*(_DWORD *)a2 + 116))(a2, 0x80000000);
  this[2] = GetTickCount() + 20000;
  return 1;
}

//----- (0040A370) --------------------------------------------------------
int __stdcall sub_40A370(int a1)
{
  return (*(int (__thiscall **)(int, unsigned int))(*(_DWORD *)a1 + 120))(a1, 0x80000000);
}

//----- (0040A390) --------------------------------------------------------
int __thiscall CBuffHydrochloricAcid::IsExpired(_DWORD *this, int *a2)
{
  int v3; // [esp+0h] [ebp-10h]
  DWORD v5; // [esp+Ch] [ebp-4h]

  v5 = GetTickCount();
  if ( a2[68] > 1 && this[7] < v5 )
  {
    if ( a2[68] <= this[3] )
      v3 = a2[68] - 1;
    else
      v3 = this[3];
    (*(void (__cdecl **)(int *, int, _DWORD, int))(*a2 + 88))(a2, 7, 0, v3);
    if ( (*(int (__thiscall **)(int *))(*a2 + 60))(a2) )
    {
      CPlayer::Write((int)a2, 69, "bw", 7, a2[68]);
      CPlayer::UpdatePartyMember((CPlayer *)a2, 7);
    }
    ++this[6];
    this[7] = v5 + 2500;
  }
  if ( !CBuff::IsExpired(this, (int)a2) && (int)this[6] <= 10 )
    return 0;
  (*(void (__thiscall **)(_DWORD *, int *))(*this + 8))(this, a2);
  return 1;
}

//----- (0040A4A0) --------------------------------------------------------
int __thiscall CBuffMixDamage::ApplyBuff(_DWORD *this, int a2)
{
  this[8] = this[9] + GetTickCount();
  this[2] = GetTickCount() + this[6] * this[9] + 1000;
  return 1;
}

//----- (0040A4F0) --------------------------------------------------------
int __thiscall CBuffMixDamage::IsExpired(_DWORD *this, int *a2)
{
  int v3; // [esp+0h] [ebp-10h]
  DWORD v5; // [esp+Ch] [ebp-4h]

  v5 = GetTickCount();
  if ( a2[68] > 1 && this[8] < v5 )
  {
    if ( a2[68] <= this[3] )
      v3 = a2[68] - 1;
    else
      v3 = this[3];
    (*(void (__cdecl **)(int *, int, _DWORD, int))(*a2 + 88))(a2, 7, 0, v3);
    if ( (*(int (__thiscall **)(int *))(*a2 + 60))(a2) )
    {
      CPlayer::Write((int)a2, 69, "bw", 7, a2[68]);
      CPlayer::UpdatePartyMember((CPlayer *)a2, 7);
    }
    else if ( (*(int (__thiscall **)(int *))(*a2 + 64))(a2) )
    {
      a2[118] = GetTickCount() + 20000;
    }
    --this[6];
    this[8] = this[9] + v5;
  }
  if ( !CBuff::IsExpired(this, (int)a2) && (int)this[6] >= 1 )
    return 0;
  (*(void (__thiscall **)(_DWORD *, int *))(*this + 8))(this, a2);
  return 1;
}

//----- (0040A620) --------------------------------------------------------
CIOObject *__thiscall sub_40A620(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_4B4AF8;
  return this;
}
// 4B4AF8: using guessed type int (__stdcall *off_4B4AF8)(int);

//----- (0040A640) --------------------------------------------------------
void *__thiscall sub_40A640(void *this, char a2)
{
  sub_40A670((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040A670) --------------------------------------------------------
void __thiscall sub_40A670(std::locale::facet *this)
{
  *(_DWORD *)this = &off_4B4AF8;
  std::locale::facet::~facet(this);
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);
// 4B4AF8: using guessed type int (__stdcall *off_4B4AF8)(int);

//----- (0040A690) --------------------------------------------------------
void __cdecl CCalendar::Start()
{
  time_t v0; // [esp+0h] [ebp-8h] BYREF
  struct tm *v1; // [esp+4h] [ebp-4h]

  v0 = time(0);
  v1 = localtime(&v0);
  dword_4DA77C = v1->tm_year + 1900;
  dword_4DA780 = v1->tm_mon + 1;
  dword_4DA784 = v1->tm_mday;
  dword_4DA788 = v1->tm_hour;
  dword_4DA78C = v1->tm_min;
  dword_4DA790 = v1->tm_sec;
  dword_4DA794 = GetTickCount();
  CIOObject::AddTimer(&unk_4DA798, 0x3E8u, 0);
}
// 4DA77C: using guessed type int dword_4DA77C;
// 4DA780: using guessed type int dword_4DA780;
// 4DA784: using guessed type int dword_4DA784;
// 4DA788: using guessed type int dword_4DA788;
// 4DA78C: using guessed type int dword_4DA78C;
// 4DA790: using guessed type int dword_4DA790;
// 4DA794: using guessed type int dword_4DA794;

//----- (0040A730) --------------------------------------------------------
int sub_40A730()
{
  return dword_4DA78C + (dword_4DA788 << 8);
}
// 4DA788: using guessed type int dword_4DA788;
// 4DA78C: using guessed type int dword_4DA78C;

//----- (0040A750) --------------------------------------------------------
void __thiscall sub_40A750(void *this, int a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi

  CCalendar::ElapseTime((CIOObject *)this, v2, v3, v4);
}
// 40A75A: variable 'v2' is possibly undefined
// 40A75A: variable 'v3' is possibly undefined
// 40A75A: variable 'v4' is possibly undefined

//----- (0040A770) --------------------------------------------------------
void __thiscall CCalendar::ElapseTime(CIOObject *this)
{
  int v1; // [esp+0h] [ebp-10h]
  DWORD a1; // [esp+Ch] [ebp-4h]

  if ( !dword_4DA778 )
  {
    a1 = GetTickCount();
    while ( a1 >= dword_4DA794 )
    {
      dword_4DA794 += 1000;
      ++dword_4DA790;
      if ( ((dword_4E1174[0] & 2) == 0 || (*(_WORD *)dword_4E1174 & 0x2000) != 0) && !(dword_4DA790 % 30) )
        CServer::SendAlive();
      CGuild::SecondProcess();
      if ( dword_4DA790 >= 60 )
      {
        dword_4DA790 = 0;
        ++dword_4DA78C;
        CGuild::MinuteProcess(a1);
        CPlayer::ScanONPKPlayer();
        if ( (dword_4E1174[0] & 2) != 0 && (dword_4E1178 & 0x40) != 0 && !(dword_4DA78C % 10) )
          CPlayer::EventBuff(0);
        if ( dword_4DA78C >= 60 )
        {
          dword_4DA78C = 0;
          ++dword_4DA788;
          CPlayer::LogPlayerStatistic();
          if ( (dword_4E1174[0] & 2) == 0
            && (dword_4E1178 & 0x40) != 0
            && (dword_4DA788 == 1 || dword_4DA788 == 12 || dword_4DA788 == 20) )
          {
            CPlayer::EventBuff(0);
          }
          if ( dword_4DA788 >= 24 )
          {
            dword_4DA788 = 0;
            ++dword_4DA784;
            v1 = CCalendar::IsIntercalary() ? 29 : dword_4D52FC[dword_4DA780];
            if ( dword_4DA784 > v1 )
            {
              dword_4DA784 = 1;
              if ( ++dword_4DA780 > 12 )
              {
                dword_4DA780 = 1;
                ++dword_4DA77C;
              }
            }
          }
        }
      }
    }
    CIOObject::AddTimer(this, dword_4DA794 - a1, 0);
  }
}
// 4DA778: using guessed type int dword_4DA778;
// 4DA77C: using guessed type int dword_4DA77C;
// 4DA780: using guessed type int dword_4DA780;
// 4DA784: using guessed type int dword_4DA784;
// 4DA788: using guessed type int dword_4DA788;
// 4DA78C: using guessed type int dword_4DA78C;
// 4DA790: using guessed type int dword_4DA790;
// 4DA794: using guessed type int dword_4DA794;
// 4E1178: using guessed type int dword_4E1178;

//----- (0040A990) --------------------------------------------------------
int CCalendar::IsIntercalary()
{
  int v1; // [esp+4h] [ebp-4h]

  v1 = 0;
  if ( dword_4DA780 == 2 )
  {
    if ( dword_4DA77C % 400 )
    {
      v1 = 1;
    }
    else if ( dword_4DA77C % 100 )
    {
      v1 = 0;
    }
    else if ( dword_4DA77C % 4 )
    {
      v1 = 1;
    }
  }
  return v1;
}
// 4DA77C: using guessed type int dword_4DA77C;
// 4DA780: using guessed type int dword_4DA780;

//----- (0040AA10) --------------------------------------------------------
CChar *__thiscall CChar::CChar(CChar *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B4B10;
  CIOCriticalSection::CIOCriticalSection((CChar *)((char *)this + 364));
  CIOCriticalSection::CIOCriticalSection((CChar *)((char *)this + 396));
  *((_DWORD *)this + 88) = 0;
  *((_DWORD *)this + 89) = 0;
  memset((char *)this + 32, 0, 0x19u);
  *((_DWORD *)this + 15) = 0;
  memset((char *)this + 64, 0, 0x1Cu);
  memset((char *)this + 92, 0, 0x60u);
  memset((char *)this + 188, 0, 0x54u);
  *((_DWORD *)this + 68) = 0;
  *((_DWORD *)this + 69) = 0;
  *((_DWORD *)this + 70) = 0;
  *((_DWORD *)this + 72) = 0;
  *((_DWORD *)this + 73) = 0;
  *((_DWORD *)this + 74) = 0;
  *((_DWORD *)this + 76) = 0;
  *((_DWORD *)this + 77) = 0;
  *((_DWORD *)this + 78) = 0;
  *((_DWORD *)this + 79) = 0;
  *((_DWORD *)this + 80) = 0;
  *((_DWORD *)this + 82) = -1;
  *((_DWORD *)this + 81) = -1;
  *((_DWORD *)this + 84) = -1;
  *((_DWORD *)this + 83) = -1;
  *((_DWORD *)this + 85) = -1;
  *((_DWORD *)this + 86) = 0;
  *((_DWORD *)this + 87) = 1;
  *((_DWORD *)this + 90) = 0;
  return this;
}
// 4B4B10: using guessed type int (__stdcall *off_4B4B10)(int);

//----- (0040ABB0) --------------------------------------------------------
BOOL __thiscall sub_40ABB0(_DWORD *this, int a2)
{
  return a2 == this[86];
}

//----- (0040ABD0) --------------------------------------------------------
int __stdcall sub_40ABD0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  return 0;
}

//----- (0040ABE0) --------------------------------------------------------
_DWORD *__thiscall CChar::AddMState(_DWORD *this, int a2, int a3)
{
  int v3; // edx
  _DWORD *result; // eax

  v3 = a3 | this[73];
  result = this;
  this[72] |= a2;
  this[73] = v3;
  return result;
}

//----- (0040AC20) --------------------------------------------------------
LONG __thiscall CChar::SubGState(volatile LONG *this, int a2)
{
  return InterlockedExchange(this + 70, this[70] & ~a2);
}

//----- (0040AC50) --------------------------------------------------------
LONG __thiscall CChar::AddMStateEx(volatile LONG *this, int a2)
{
  return InterlockedExchange(this + 74, a2 | *((_DWORD *)this + 74));
}

//----- (0040AC80) --------------------------------------------------------
LONG __thiscall CChar::SubMStateEx(volatile LONG *this, int a2)
{
  return InterlockedExchange(this + 74, this[74] & ~a2);
}

//----- (0040ACB0) --------------------------------------------------------
int __thiscall CChar::SubMState(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // ecx

  result = this[72] & ~a2;
  v4 = this[73] & ~a3;
  this[72] = result;
  this[73] = v4;
  return result;
}

//----- (0040ACF0) --------------------------------------------------------
int __thiscall CChar::GetFinalDefense(_DWORD *this, int a1)
{
  int v2; // eax

  v2 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 156))(a1);
  return CChar::GetDefense(this, v2);
}

//----- (0040AD20) --------------------------------------------------------
int __thiscall sub_40AD20(CPlayer *this, int a2)
{
  return CChar::GetAbsorb(this);
}

//----- (0040AD40) --------------------------------------------------------
int __stdcall CChar::GetFinalResist(int a1, int a2)
{
  _DWORD *v2; // ecx

  return sub_438FA0(v2, a2) / 10;
}
// 40AD4E: variable 'v2' is possibly undefined

//----- (0040AD70) --------------------------------------------------------
int __stdcall sub_40AD70(int a1)
{
  return 1600;
}

//----- (0040AD90) --------------------------------------------------------
void __thiscall sub_40AD90(void *this, int a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi

  sub_401DE0((volatile int *)this, v2, v3, v4);
}
// 40AD9A: variable 'v2' is possibly undefined
// 40AD9A: variable 'v3' is possibly undefined
// 40AD9A: variable 'v4' is possibly undefined

//----- (0040ADB0) --------------------------------------------------------
void *__thiscall sub_40ADB0(void *this, char a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi

  CChar::_CChar((int)this, v2, v3, v4);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}
// 40ADBA: variable 'v2' is possibly undefined
// 40ADBA: variable 'v3' is possibly undefined
// 40ADBA: variable 'v4' is possibly undefined

//----- (0040ADE0) --------------------------------------------------------
void __thiscall CChar::_CChar(void *this)
{
  *(_DWORD *)this = &off_4B4B10;
  CChar::DeleteAllBuff((std::locale::facet **)this);
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)((char *)this + 396));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)((char *)this + 364));
  CBase::_CBase((std::locale::facet *)this);
}
// 4B4B10: using guessed type int (__stdcall *off_4B4B10)(int);

//----- (0040AE20) --------------------------------------------------------
int __thiscall CChar::ReviseProperty(_DWORD *this)
{
  int result; // eax
  int v3; // [esp+8h] [ebp-10h]
  int v4; // [esp+Ch] [ebp-Ch]
  int v5; // [esp+10h] [ebp-8h]
  int v6; // [esp+14h] [ebp-4h]

  this[21] += 52 * this[15] / 3;
  this[22] += 8 * this[15] + 140;
  v4 = CChar::GetStr(this);
  v3 = CChar::GetInt(this);
  v6 = CChar::GetWis(this);
  v5 = Char::GetDex(this);
  this[30] += v5 / 8 + 15 * v4 / 54;
  this[31] += v5 / 3;
  this[32] += (v5 - 5) / 11 + (11 * v4 - 80) / 30 + 7 * this[15] / 10 + 1;
  this[33] += 18 * v5 / 77 + (8 * v4 - 25) / 15 + this[15];
  this[34] = v6 / 7 + (7 * v3 - 20) / 12 + this[34] - 3;
  this[35] = 14 * v6 / 45 + 7 * v3 / 12 + this[35] - 3;
  this[40] += v3 / 9;
  this[41] += v3 / 9;
  this[42] += v3 / 9;
  this[43] += v6 / 9;
  result = this[44] + CChar::GetHth(this) / 9;
  this[44] = result;
  return result;
}

//----- (0040B060) --------------------------------------------------------
int __thiscall CChar::GetDropPt(_DWORD *this, int *a2)
{
  int result; // eax
  int nMin; // [esp+4h] [ebp-10h]
  int v5; // [esp+8h] [ebp-Ch]
  int nMax; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h]

  nMin = this[83] - 16;
  v5 = this[84] + 16;
  nMax = this[83] + 16;
  v7 = this[84] - 16;
  do
  {
    do
    {
      *a2 = RandomBetween(nMin, nMax);
      a2[1] = RandomBetween(v7, v5);
    }
    while ( abs(*a2 - this[83]) < 8 );
    result = abs(a2[1] - this[84]);
  }
  while ( result < 8 );
  return result;
}

//----- (0040B110) --------------------------------------------------------
_DWORD *__thiscall CChar::SetXY(_DWORD *this, _DWORD *a2)
{
  int v2; // edx
  _DWORD *result; // eax

  v2 = a2[1];
  this[83] = *a2;
  this[84] = v2;
  this[81] = (int)*a2 >> 5;
  this[82] = (int)a2[1] >> 5;
  result = this;
  this[86] = (((int)*a2 >> 3) & 3) + 4 * (((int)a2[1] >> 3) & 3);
  return result;
}

//----- (0040B180) --------------------------------------------------------
void __thiscall CChar::SetDirection(_DWORD *this, int Number, int a3)
{
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  if ( Number || a3 )
  {
    v4 = abs(Number);
    v5 = abs(a3);
    if ( v4 < v5 || v4 <= 127 )
    {
      if ( v4 < v5 && v5 > 127 )
      {
        Number = 127 * Number / v5;
        LOBYTE(a3) = a3 <= 0 ? -127 : 127;
      }
    }
    else
    {
      a3 = 127 * a3 / v4;
      LOWORD(Number) = Number <= 0 ? -127 : 127;
    }
    this[87] = (unsigned __int8)a3 + (unsigned __int16)((_WORD)Number << 8);
  }
}

//----- (0040B240) --------------------------------------------------------
int __thiscall CChar::SetReverseDirection(_DWORD *this, __int16 a2)
{
  int result; // eax

  result = (unsigned __int8)-(char)a2 + ((255 - a2) & 0xFF00);
  this[87] = result;
  return result;
}

//----- (0040B280) --------------------------------------------------------
BOOL __thiscall CChar::IsNormal(int this)
{
  return *(int *)(this + 272) > 0
      && !sub_40B2F0((_DWORD *)this)
      && !sub_40B310((_DWORD *)this, 35)
      && !CChar::IsMState((_QWORD *)this, 0x80000i64);
}

//----- (0040B2F0) --------------------------------------------------------
int __thiscall sub_40B2F0(_DWORD *this)
{
  return this[5] & 1;
}

//----- (0040B310) --------------------------------------------------------
int __thiscall sub_40B310(_DWORD *this, int a2)
{
  return a2 & this[70];
}

//----- (0040B330) --------------------------------------------------------
void __thiscall CChar::SetBuff(_DWORD *this, int a2, int a3)
{
  int v3; // [esp+0h] [ebp-14h]
  CIOCriticalSection *v4; // [esp+0h] [ebp-14h]
  CIOCriticalSection *v5; // [esp+0h] [ebp-14h]
  std::locale::facet *v7; // [esp+10h] [ebp-4h]

  v7 = (std::locale::facet *)CBuff::CreateBuff(a2, a3, 1, v3);
  if ( v7 )
  {
    if ( ((int (__thiscall *)(std::locale::facet *, _DWORD *))v7->~facet)(v7, this) )
    {
      CIOCriticalSection::Enter(v4);
      v7[2]._Refs = this[90];
      this[90] = v7;
      CIOCriticalSection::Leave(v5);
    }
    else
    {
      std::locale::facet::`scalar deleting destructor'(v7, 1);
    }
  }
}
// 40B378: conditional instruction was optimized away because of '%var_4.4!=0'
// 40B343: variable 'v3' is possibly undefined
// 40B39B: variable 'v4' is possibly undefined
// 40B3C4: variable 'v5' is possibly undefined

//----- (0040B3D0) --------------------------------------------------------
int __thiscall CChar::AddBuff(_DWORD *this, std::locale::facet *a2)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-18h]
  std::locale::facet *v4; // [esp+0h] [ebp-18h]
  int v6; // [esp+10h] [ebp-8h]
  int v7; // [esp+14h] [ebp-4h]

  if ( !a2 )
    return 0;
  CIOCriticalSection::Enter(v3);
  v7 = CChar::_FindBuff(this, a2->_Refs);
  if ( v7 )
  {
    v6 = (*(int (__thiscall **)(int, std::locale::facet *, _DWORD *))(*(_DWORD *)v7 + 12))(v7, a2, this);
  }
  else
  {
    v6 = ((int (__thiscall *)(std::locale::facet *, _DWORD *))a2->__vftable[1].~facet)(a2, this);
    if ( v6 )
    {
      a2[2]._Refs = this[90];
      this[90] = a2;
    }
    else
    {
      v4 = std::locale::facet::`scalar deleting destructor'(a2, 1);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v4);
  return v6;
}
// 40B470: conditional instruction was optimized away because of '%a2.4!=0'
// 40B3F6: variable 'v3' is possibly undefined
// 40B491: variable 'v4' is possibly undefined

//----- (0040B4A0) --------------------------------------------------------
int __thiscall CChar::_FindBuff(_DWORD *this, int a2)
{
  int i; // [esp+4h] [ebp-4h]

  for ( i = this[90]; i && *(_DWORD *)(i + 4) != a2; i = *(_DWORD *)(i + 20) )
    ;
  return i;
}

//----- (0040B4E0) --------------------------------------------------------
int __thiscall CChar::GetBuffRemain(CIOCriticalSection *this, int a2)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  v5 = 0;
  CIOCriticalSection::Enter(this);
  v4 = CChar::_FindBuff(v3, a2);
  if ( v4 )
    v5 = *(_DWORD *)(v4 + 8);
  CIOCriticalSection::Leave(v3);
  return v5;
}
// 40B505: variable 'v3' is possibly undefined

//----- (0040B540) --------------------------------------------------------
void __thiscall CChar::UpdateBuff(_DWORD *this, int a2)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-18h]
  CIOCriticalSection *v3; // [esp+0h] [ebp-18h]
  std::locale::facet *v4; // [esp+0h] [ebp-18h]
  std::locale::facet *i; // [esp+10h] [ebp-8h]
  unsigned int *v7; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(v2);
  v7 = this + 90;
  for ( i = (std::locale::facet *)this[90]; i; i = (std::locale::facet *)i[2]._Refs )
  {
    if ( i->_Refs == a2 )
    {
      if ( !((int (__thiscall *)(std::locale::facet *, std::locale::facet *, _DWORD *))i->__vftable[3].~facet)(
              i,
              i,
              this) )
      {
        *v7 = i[2]._Refs;
        v4 = std::locale::facet::`scalar deleting destructor'(i, 1);
        CIOCriticalSection::Leave((CIOCriticalSection *)v4);
        return;
      }
      break;
    }
    v7 = &i[2]._Refs;
  }
  CIOCriticalSection::Leave(v3);
}
// 40B5B7: conditional instruction was optimized away because of '%var_8.4!=0'
// 40B552: variable 'v2' is possibly undefined
// 40B5E5: variable 'v3' is possibly undefined

//----- (0040B5F0) --------------------------------------------------------
void __thiscall CChar::RefreshBuff(std::locale::facet **this)
{
  CIOCriticalSection *v1; // [esp+0h] [ebp-18h]
  std::locale::facet *v2; // [esp+0h] [ebp-18h]
  std::locale::facet *i; // [esp+10h] [ebp-8h]
  std::locale::facet **v5; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(v1);
  v5 = this + 90;
  for ( i = this[90]; i; i = *v5 )
  {
    if ( ((int (__thiscall *)(std::locale::facet *, std::locale::facet **))i->__vftable[4].~facet)(i, this) )
    {
      ((void (__thiscall *)(std::locale::facet *, std::locale::facet **))i->__vftable[2].~facet)(i, this);
      *v5 = (std::locale::facet *)i[2]._Refs;
      v2 = std::locale::facet::`scalar deleting destructor'(i, 1);
    }
    else
    {
      v5 = (std::locale::facet **)&i[2]._Refs;
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v2);
}
// 40B667: conditional instruction was optimized away because of '%var_8.4!=0'
// 40B602: variable 'v1' is possibly undefined
// 40B695: variable 'v2' is possibly undefined

//----- (0040B6A0) --------------------------------------------------------
void __thiscall CChar::CancelBuff(_DWORD *this, int a2)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-18h]
  CIOCriticalSection *v3; // [esp+0h] [ebp-18h]
  std::locale::facet *v4; // [esp+0h] [ebp-18h]
  std::locale::facet *i; // [esp+10h] [ebp-8h]
  unsigned int *v7; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(v2);
  v7 = this + 90;
  for ( i = (std::locale::facet *)this[90]; i; i = (std::locale::facet *)i[2]._Refs )
  {
    if ( i->_Refs == a2 )
    {
      ((void (__thiscall *)(std::locale::facet *, _DWORD *))i->__vftable[2].~facet)(i, this);
      *v7 = i[2]._Refs;
      v4 = std::locale::facet::`scalar deleting destructor'(i, 1);
      CIOCriticalSection::Leave((CIOCriticalSection *)v4);
      return;
    }
    v7 = &i[2]._Refs;
  }
  CIOCriticalSection::Leave(v3);
}
// 40B70F: conditional instruction was optimized away because of '%var_8.4!=0'
// 40B6B2: variable 'v2' is possibly undefined
// 40B73D: variable 'v3' is possibly undefined

//----- (0040B750) --------------------------------------------------------
void __thiscall CChar::CancelAllBuff(std::locale::facet **this)
{
  CIOCriticalSection *v1; // [esp+0h] [ebp-18h]
  std::locale::facet *v2; // [esp+0h] [ebp-18h]
  std::locale::facet *i; // [esp+10h] [ebp-8h]
  std::locale::facet **v5; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(v1);
  v5 = this + 90;
  for ( i = this[90]; i; i = *v5 )
  {
    ((void (__thiscall *)(std::locale::facet *, std::locale::facet **))i->__vftable[2].~facet)(i, this);
    *v5 = (std::locale::facet *)i[2]._Refs;
    v2 = std::locale::facet::`scalar deleting destructor'(i, 1);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v2);
}
// 40B7B4: conditional instruction was optimized away because of '%var_8.4!=0'
// 40B762: variable 'v1' is possibly undefined
// 40B7D7: variable 'v2' is possibly undefined

//----- (0040B7E0) --------------------------------------------------------
void __thiscall CChar::DeleteAllBuff(std::locale::facet **this)
{
  CIOCriticalSection *v1; // [esp+0h] [ebp-18h]
  std::locale::facet *v2; // [esp+0h] [ebp-18h]
  std::locale::facet *i; // [esp+10h] [ebp-8h]
  std::locale::facet **v5; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(v1);
  v5 = this + 90;
  for ( i = this[90]; i; i = *v5 )
  {
    *v5 = (std::locale::facet *)i[2]._Refs;
    v2 = std::locale::facet::`scalar deleting destructor'(i, 1);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v2);
}
// 40B835: conditional instruction was optimized away because of '%var_8.4!=0'
// 40B7F2: variable 'v1' is possibly undefined
// 40B858: variable 'v2' is possibly undefined

//----- (0040B870) --------------------------------------------------------
void __thiscall CChar::CancelBuffPrty(_DWORD *this, int a2)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-18h]
  std::locale::facet *v3; // [esp+0h] [ebp-18h]
  std::locale::facet *i; // [esp+10h] [ebp-8h]
  std::locale::facet **v6; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(v2);
  v6 = (std::locale::facet **)(this + 90);
  for ( i = (std::locale::facet *)this[90]; i; i = *v6 )
  {
    if ( (a2 & (int)i[2].__vftable) != 0 )
    {
      ((void (__thiscall *)(std::locale::facet *, _DWORD *))i->__vftable[2].~facet)(i, this);
      *v6 = (std::locale::facet *)i[2]._Refs;
      v3 = std::locale::facet::`scalar deleting destructor'(i, 1);
    }
    else
    {
      v6 = (std::locale::facet **)&i[2]._Refs;
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v3);
}
// 40B8DF: conditional instruction was optimized away because of '%var_8.4!=0'
// 40B882: variable 'v2' is possibly undefined
// 40B90D: variable 'v3' is possibly undefined

//----- (0040B920) --------------------------------------------------------
void __thiscall CChar::ResetAllBuff(CIOCriticalSection *this)
{
  CIOCriticalSection *v1; // [esp+0h] [ebp-8h]
  int i; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  for ( i = *((_DWORD *)v1 + 90); i; i = *(_DWORD *)(i + 20) )
    (**(void (__thiscall ***)(int, CIOCriticalSection *))i)(i, v1);
  CIOCriticalSection::Leave(v1);
}
// 40B93A: variable 'v1' is possibly undefined

//----- (0040B980) --------------------------------------------------------
void __thiscall CChar::SaveAllBuff(CIOCriticalSection *this)
{
  CIOCriticalSection *v1; // [esp+0h] [ebp-8h]
  _DWORD *i; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  for ( i = (_DWORD *)*((_DWORD *)v1 + 90); i; i = (_DWORD *)i[5] )
    (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *))(*i + 24))(i, v1);
  CIOCriticalSection::Leave(v1);
}
// 40B99A: variable 'v1' is possibly undefined

//----- (0040B9E0) --------------------------------------------------------
void CChar::WriteInSight(int a1, char a2, char *a3, ...)
{
  CIOBuffer *v3; // [esp+0h] [ebp-10h]

  v3 = CIOBuffer::Alloc();
  v3->m_buffer[2] = a2;
  *(_WORD *)v3->m_buffer = (unsigned __int16)WritePacket(&v3->m_buffer[3], (int)&a3) - (_WORD)v3;
  v3->m_dwSize = *(unsigned __int16 *)v3->m_buffer;
  CSMap::SendPacketInRect(*(void **)(a1 + 320), a1 + 324, (int)v3, 25);
  CIOBuffer::Release(v3);
}

//----- (0040BA70) --------------------------------------------------------
void CChar::WriteInRect(int a1, char a2, int a3, char *a4, ...)
{
  CIOBuffer *v4; // [esp+0h] [ebp-10h]

  v4 = CIOBuffer::Alloc();
  v4->m_buffer[2] = a2;
  *(_WORD *)v4->m_buffer = (unsigned __int16)WritePacket(&v4->m_buffer[3], (int)&a4) - (_WORD)v4;
  v4->m_dwSize = *(unsigned __int16 *)v4->m_buffer;
  CSMap::SendPacketInRect(*(void **)(a1 + 320), a1 + 324, (int)v4, a3);
  CIOBuffer::Release(v4);
}

//----- (0040BB00) --------------------------------------------------------
void __thiscall CConfig::CConfig(CConfig *this)
{
  std::ios_base::ios_base((std::ios_base *)&this->m_root);
  this->m_fp = 0;
}

//----- (0040BB50) --------------------------------------------------------
void __thiscall sub_40BB50(CConfig *this)
{
  CConfig::Close(this);
}

//----- (0040BB70) --------------------------------------------------------
void __thiscall CConfig::Close(CConfig *this)
{
  lisp::var *v1; // ecx
  lisp::var *v2; // [esp-4h] [ebp-10h] BYREF
  CConfig *v3; // [esp+0h] [ebp-Ch]

  v3 = this;
  if ( this->m_fp )
  {
    fclose(v3->m_fp);
    v3->m_fp = 0;
  }
  v2 = &v3->m_root;
  sub_402340(&v2, &v3->m_root.m_pObject);
  free_var(v2);
  v2 = v1;
  sub_402340(&v2, &dword_4E1108);
  lisp::var::operator=(&v3->m_root.m_pObject, (int)v2);
}
// 40BBC0: variable 'v1' is possibly undefined

//----- (0040BBE0) --------------------------------------------------------
void __cdecl free_var(int (__thiscall ***a1)(_DWORD))
{
  _DWORD *v1; // eax
  int (__thiscall ***v2)(_DWORD); // ecx
  _DWORD *v3; // eax
  int (__thiscall ***v4)(_DWORD); // ecx
  void *v5; // eax
  int (__thiscall ***v6[6])(_DWORD); // [esp-4h] [ebp-1Ch] BYREF
  int (__thiscall ***v7)(_DWORD); // [esp+14h] [ebp-4h]

  if ( (unsigned __int8)sub_40BCE0(&a1) )
  {
    v1 = (_DWORD *)sub_40BCA0(&a1);
    v6[0] = v2;
    sub_402340(v6, v1);
    free_var(v6[0]);
    v3 = (_DWORD *)sub_40BCC0(&a1);
    v6[0] = v4;
    sub_402340(v6, v3);
    free_var(v6[0]);
    v6[3] = a1;
    sub_401020(a1);
  }
  else if ( (unsigned __int8)sub_40BD00(&a1) )
  {
    v7 = a1;
    v5 = (void *)(**a1)(a1);
    CMemory::_free(v5);
    v6[2] = v7;
    sub_401020(v7);
  }
  else if ( (unsigned __int8)sub_40BD20(&a1) )
  {
    sub_401020(a1);
  }
}
// 40BBFD: variable 'v2' is possibly undefined
// 40BC16: variable 'v4' is possibly undefined

//----- (0040BCA0) --------------------------------------------------------
int __thiscall sub_40BCA0(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 12))(*this, this);
}

//----- (0040BCC0) --------------------------------------------------------
int __thiscall sub_40BCC0(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 16))(*this, this);
}

//----- (0040BCE0) --------------------------------------------------------
int __thiscall sub_40BCE0(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 20))(*this, this);
}

//----- (0040BD00) --------------------------------------------------------
int __thiscall sub_40BD00(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 28))(*this, this);
}

//----- (0040BD20) --------------------------------------------------------
int __thiscall sub_40BD20(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 32))(*this, this);
}

//----- (0040BD40) --------------------------------------------------------
int __thiscall CConfig::GetToken(char *this)
{
  int result; // eax
  int v2; // [esp+10h] [ebp-14h]
  int v4; // [esp+1Ch] [ebp-8h]
  int v5; // [esp+1Ch] [ebp-8h]
  int v6; // [esp+1Ch] [ebp-8h]
  int v7; // [esp+1Ch] [ebp-8h]
  int v8; // [esp+1Ch] [ebp-8h]
  char *v9; // [esp+20h] [ebp-4h]
  char *i; // [esp+20h] [ebp-4h]

  while ( 2 )
  {
    v4 = fgetc(*((FILE **)this + 128));
    switch ( v4 )
    {
      case -1:
        return 0;
      case 9:
      case 13:
      case 32:
        continue;
      case 10:
        ++*((_DWORD *)this + 129);
        return 3;
      case 34:
        v9 = this;
        while ( 2 )
        {
          v5 = fgetc(*((FILE **)this + 128));
          switch ( v5 )
          {
            case -1:
              return 0;
            case 10:
              ++*((_DWORD *)this + 129);
              return 3;
            case 13:
              continue;
            case 34:
              v6 = fgetc(*((FILE **)this + 128));
              if ( v6 == -1 )
              {
                *v9 = 0;
                return 2;
              }
              if ( v6 == 34 )
              {
                *v9++ = 34;
                continue;
              }
              break;
            default:
              *v9++ = v5;
              continue;
          }
          break;
        }
        goto LABEL_19;
      case 39:
        v9 = this;
        while ( 2 )
        {
          v7 = fgetc(*((FILE **)this + 128));
          switch ( v7 )
          {
            case -1:
              return 0;
            case 10:
              ++*((_DWORD *)this + 129);
              return 3;
            case 13:
              continue;
            case 39:
              v6 = fgetc(*((FILE **)this + 128));
              if ( v6 == -1 )
              {
                *v9 = 0;
                result = 2;
              }
              else
              {
                if ( v6 == 39 )
                {
                  *v9++ = 39;
                  continue;
                }
LABEL_19:
                ungetc_0(v6, *((FILE **)this + 128));
                *v9 = 0;
                result = 2;
              }
              break;
            default:
              *v9++ = v7;
              continue;
          }
          break;
        }
        return result;
      case 40:
        return 7;
      case 41:
        return 8;
      case 44:
        return 5;
      case 58:
        return 6;
      case 59:
        do
        {
          v2 = fgetc(*((FILE **)this + 128));
          if ( v2 == -1 )
            return 0;
        }
        while ( v2 != 10 );
        ++*((_DWORD *)this + 129);
        return 3;
      case 61:
        return 4;
      default:
        if ( isalnum(v4) || v4 == 45 )
        {
          *this = v4;
          for ( i = this + 1; ; ++i )
          {
            v8 = fgetc(*((FILE **)this + 128));
            if ( v8 == -1 )
              goto LABEL_41;
            if ( !isalnum(v8) )
              break;
            *i = v8;
          }
          ungetc_0(v8, *((FILE **)this + 128));
LABEL_41:
          *i = 0;
          return 1;
        }
        return 9;
    }
  }
}

//----- (0040C1B0) --------------------------------------------------------
lisp::var *__thiscall CConfig::Find(CConfig *this, lisp::var *result, const char *key)
{
  _DWORD *v3; // eax
  _DWORD *v4; // eax
  const char *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v8; // eax
  const char *v9; // ecx
  const char *v10[3]; // [esp-4h] [ebp-10h] BYREF
  int v11; // [esp+8h] [ebp-4h] BYREF

  v10[1] = (const char *)this;
  sub_402340(&v11, &this->m_root.m_pObject);
  while ( !(unsigned __int8)sub_402380(&v11) )
  {
    v10[0] = key;
    v3 = (_DWORD *)sub_40BCA0(&v11);
    v4 = (_DWORD *)sub_40BCA0(v3);
    v5 = (const char *)sub_402360(v4);
    if ( !_stricmp(v5, v10[0]) )
    {
      v6 = (_DWORD *)sub_40BCA0(&v11);
      sub_402340(result, v6);
      return result;
    }
    v8 = (_DWORD *)sub_40BCC0(&v11);
    v10[0] = v9;
    sub_402340(v10, v8);
    lisp::var::operator=(&v11, (int)v10[0]);
  }
  sub_402340(result, &dword_4E1108);
  return result;
}
// 40C21E: variable 'v9' is possibly undefined

//----- (0040C250) --------------------------------------------------------
_DWORD *__thiscall CConfig::GetValue(int this, _DWORD *a2)
{
  char *v2; // eax
  _DWORD *result; // eax
  lisp::_string *v4; // [esp+0h] [ebp-10h]
  lisp::_string *v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  do
    v7 = CConfig::GetToken((char *)this);
  while ( v7 == 3 );
  if ( v7 == 1 || v7 == 2 )
  {
    v6 = (lisp::_string *)sub_401000(8u);
    if ( v6 )
    {
      v2 = Strdup((const char *)this);
      v4 = lisp::_string::_string(v6, v2);
    }
    else
    {
      v4 = 0;
    }
    sub_446FD0(v4);
    result = a2;
  }
  else
  {
    if ( v7 == 7 )
    {
      CConfig::GetList((_DWORD *)this, a2);
    }
    else
    {
      *(_DWORD *)(this + 524) = v7;
      sub_402340(a2, &dword_4E1108);
    }
    result = a2;
  }
  return result;
}
// 446FD0: using guessed type _DWORD __stdcall sub_446FD0(_DWORD);

//----- (0040C300) --------------------------------------------------------
lisp::_string *__thiscall lisp::_string::_string(lisp::_string *this, const char *str)
{
  std::ios_base::ios_base((std::ios_base *)this);
  this->__vftable = (lisp::_string_vtbl *)off_4B4BCC;
  this->m_pString = str;
  return this;
}
// 4B4BCC: using guessed type int (*off_4B4BCC[7])();

//----- (0040C330) --------------------------------------------------------
_DWORD *sub_40C330()
{
  return &dword_4E1108;
}

//----- (0040C360) --------------------------------------------------------
char *sub_40C360()
{
  return &Source;
}

//----- (0040C380) --------------------------------------------------------
char *__cdecl Strdup(const char *str)
{
  CMemory **v1; // eax
  unsigned int v3; // [esp-4h] [ebp-8h]

  v3 = strlen(str) + 1;
  v1 = CMemory::_malloc(v3);
  return (char *)memcpy(v1, str, v3);
}

//----- (0040C3C0) --------------------------------------------------------
_DWORD *__thiscall CConfig::GetList(_DWORD *this, _DWORD *a2)
{
  _DWORD *result; // eax
  unsigned __int8 v3; // al
  int (__thiscall ***v4)(_DWORD); // ecx
  int v5; // ecx
  int v6; // [esp-8h] [ebp-30h] BYREF
  int v7; // [esp-4h] [ebp-2Ch] BYREF
  std::ios_base *v8; // [esp+0h] [ebp-28h]
  std::ios_base *v9; // [esp+4h] [ebp-24h]
  _DWORD *v10; // [esp+8h] [ebp-20h]
  std::ios_base *v11; // [esp+14h] [ebp-14h]
  CMemory **v12; // [esp+1Ch] [ebp-Ch]
  int v13; // [esp+20h] [ebp-8h] BYREF
  int v14; // [esp+24h] [ebp-4h] BYREF

  v10 = this;
  CConfig::GetValue((int)this, &v14);
  if ( (unsigned __int8)sub_402380(&v14) )
  {
    if ( v10[131] == 8 )
    {
      sub_402340(a2, &dword_4E1108);
      result = a2;
    }
    else
    {
      v12 = sub_401000(8u);
      if ( v12 )
        v9 = sub_40C4E0((std::ios_base *)v12, v10[131]);
      else
        v9 = 0;
      sub_446FD0(v9);
      result = a2;
    }
  }
  else
  {
    CConfig::GetList(v10, &v13);
    v3 = sub_40BD20(&v13);
    if ( v3 )
    {
      v7 = v3;
      sub_402340(&v7, &v14);
      free_var((int (__thiscall ***)(_DWORD))v7);
      sub_402340(a2, &v13);
      result = a2;
    }
    else
    {
      v11 = (std::ios_base *)sub_401000(0xCu);
      if ( v11 )
      {
        v7 = (int)v4;
        sub_402340(&v7, &v13);
        v6 = v5;
        sub_402340(&v6, &v14);
        v8 = lisp::_cons::_cons(v11, v6, v7);
      }
      else
      {
        v8 = 0;
      }
      sub_446FD0(v8);
      result = a2;
    }
  }
  return result;
}
// 40C49D: variable 'v4' is possibly undefined
// 40C4A9: variable 'v5' is possibly undefined
// 446FD0: using guessed type _DWORD __stdcall sub_446FD0(_DWORD);

//----- (0040C4E0) --------------------------------------------------------
std::ios_base *__thiscall sub_40C4E0(std::ios_base *this, int a2)
{
  std::ios_base::ios_base(this);
  *(_DWORD *)this = off_4B4C1C;
  *((_DWORD *)this + 1) = a2;
  return this;
}
// 40C340: using guessed type _DWORD __thiscall std::ios_base::ios_base(std::ios_base *__hidden this);
// 4B4C1C: using guessed type int (*off_4B4C1C[8])();

//----- (0040C510) --------------------------------------------------------
std::ios_base *__thiscall lisp::_cons::_cons(std::ios_base *this, int a2, int a3)
{
  std::ios_base::ios_base(this);
  this->__vftable = (std::ios_base_vtbl *)off_4B4C44;
  sub_402340(&this->_Stdstr, &a2);
  sub_402340(&this->_Mystate, &a3);
  return this;
}
// 4B4C44: using guessed type int (*off_4B4C44[4])();

//----- (0040C550) --------------------------------------------------------
char *__thiscall sub_40C550(char *this)
{
  return this + 4;
}

//----- (0040C590) --------------------------------------------------------
int __thiscall CConfig::Open(_DWORD *this, char *FileName)
{
  int (__thiscall ***v3)(_DWORD); // ecx
  int (__thiscall ***v4)(_DWORD); // ecx
  char *v5; // eax
  int (__thiscall ***v6)(_DWORD); // ecx
  lisp::var *v7; // eax
  int (__thiscall ***v8)(_DWORD); // ecx
  int (__thiscall ***v9)(_DWORD); // ecx
  int (__thiscall ***v10)(_DWORD); // ecx
  int v11; // ecx
  int v12; // ecx
  int v13; // [esp-8h] [ebp-6Ch]
  int v14; // [esp-8h] [ebp-6Ch]
  int (__thiscall ***v15)(_DWORD); // [esp-4h] [ebp-68h] BYREF
  std::ios_base *v16; // [esp+0h] [ebp-64h]
  std::ios_base *v17; // [esp+4h] [ebp-60h]
  lisp::_string *v18; // [esp+8h] [ebp-5Ch]
  lisp::_string *v19; // [esp+Ch] [ebp-58h]
  int v20; // [esp+10h] [ebp-54h]
  char *str; // [esp+14h] [ebp-50h]
  lisp::_string *v22; // [esp+1Ch] [ebp-48h]
  std::ios_base *v23; // [esp+28h] [ebp-3Ch]
  std::ios_base *v24; // [esp+34h] [ebp-30h]
  lisp::var result[3]; // [esp+3Ch] [ebp-28h] BYREF
  lisp::_string *v26; // [esp+48h] [ebp-1Ch]
  int v27; // [esp+50h] [ebp-14h] BYREF
  _DWORD *v28; // [esp+54h] [ebp-10h]
  char *key; // [esp+58h] [ebp-Ch]
  int v30; // [esp+5Ch] [ebp-8h]
  char v31[4]; // [esp+60h] [ebp-4h] BYREF

  str = (char *)this;
  this[128] = fopen(FileName, "rb");
  if ( !*((_DWORD *)str + 128) )
  {
    LOG_ERR("'%s' File open failed at CConfig::Open", FileName);
    return 0;
  }
  std::ios_base::ios_base((std::ios_base *)v31);
  v28 = str + 520;
  *((_DWORD *)str + 129) = 1;
  while ( 1 )
  {
    v30 = CConfig::GetToken(str);
    v20 = v30;
    if ( !v30 )
      break;
    if ( v20 == 1 )
    {
      key = Strdup(str);
      v30 = CConfig::GetToken(str);
      if ( v30 != 4 )
        goto LABEL_33;
      v30 = CConfig::GetToken(str);
      std::ios_base::ios_base((std::ios_base *)&v27);
      if ( v30 == 1 || v30 == 2 )
      {
        v26 = (lisp::_string *)sub_401000(8u);
        if ( v26 )
        {
          v5 = Strdup(str);
          v19 = lisp::_string::_string(v26, v5);
        }
        else
        {
          v19 = 0;
        }
        v15 = v4;
        sub_446FD0(v19);
        lisp::var::operator=(&v27, (int)v15);
      }
      else
      {
        if ( v30 != 7 )
          goto LABEL_33;
        v15 = v3;
        CConfig::GetList(str, &v15);
        lisp::var::operator=(&v27, (int)v15);
        if ( (unsigned __int8)sub_40BD20(&v27) )
        {
          v30 = sub_40C8D0(&v27);
          v15 = v6;
          sub_402340(&v15, &v27);
          free_var(v15);
LABEL_33:
          LOG_ERR("Invalid format %s(%d) at CConfig::Open", FileName, *((_DWORD *)str + 129));
          CMemory::_free(key);
          goto LABEL_34;
        }
      }
      v7 = CConfig::Find((CConfig *)str, result, key);
      if ( (unsigned __int8)sub_402380(v7) )
      {
        v24 = (std::ios_base *)sub_401000(0xCu);
        if ( v24 )
        {
          v23 = (std::ios_base *)sub_401000(0xCu);
          if ( v23 )
          {
            v22 = (lisp::_string *)sub_401000(8u);
            if ( v22 )
              v18 = lisp::_string::_string(v22, key);
            else
              v18 = 0;
            v15 = v10;
            sub_402340(&v15, &v27);
            v13 = v11;
            sub_446FD0(v18);
            v17 = lisp::_cons::_cons(v23, v13, (int)v15);
          }
          else
          {
            v17 = 0;
          }
          v15 = v9;
          sub_402340(&v15, &dword_4E1108);
          v14 = v12;
          sub_446FD0(v17);
          v16 = lisp::_cons::_cons(v24, v14, (int)v15);
        }
        else
        {
          v16 = 0;
        }
        v15 = v8;
        sub_446FD0(v16);
        lisp::var::operator=(v28, (int)v15);
        v28 = (_DWORD *)sub_40BCC0(v28);
      }
      else
      {
        LOG_ERR("Duplicate key %s(%d) at CConfig::Open", FileName, *((_DWORD *)str + 129));
        CMemory::_free(key);
        sub_402340(&v15, &v27);
        free_var(v15);
      }
LABEL_34:
      while ( v30 != 3 && v30 )
        v30 = CConfig::GetToken(str);
    }
    else if ( v20 != 3 )
    {
      LOG_ERR("Invalid format %s(%d) at CConfig::Open", FileName, *((_DWORD *)str + 129));
    }
  }
  fclose(*((FILE **)str + 128));
  *((_DWORD *)str + 128) = 0;
  return 1;
}
// 40C6A0: variable 'v4' is possibly undefined
// 40C6BC: variable 'v3' is possibly undefined
// 40C6E8: variable 'v6' is possibly undefined
// 40C77F: variable 'v10' is possibly undefined
// 40C78B: variable 'v11' is possibly undefined
// 40C7AB: variable 'v9' is possibly undefined
// 40C7B8: variable 'v12' is possibly undefined
// 40C7D8: variable 'v8' is possibly undefined
// 446FD0: using guessed type _DWORD __stdcall sub_446FD0(_DWORD);

//----- (0040C8D0) --------------------------------------------------------
int __thiscall sub_40C8D0(_DWORD *this)
{
  return (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 4))(*this, this);
}

//----- (0040C8F0) --------------------------------------------------------
const char *__thiscall CConfig::Get(CConfig *this, const char *key)
{
  lisp::var *v2; // eax
  _DWORD *v3; // eax
  lisp::var result; // [esp+4h] [ebp-4h] BYREF

  v2 = CConfig::Find(this, &result, key);
  v3 = (_DWORD *)sub_40BCC0(v2);
  return (const char *)sub_402360(v3);
}

//----- (0040C920) --------------------------------------------------------
const char *__thiscall CConfig::Get(CConfig *this, const char *key, const char *defaultValue)
{
  _DWORD *v4; // eax
  lisp::var result; // [esp+4h] [ebp-4h] BYREF

  CConfig::Find(this, &result, key);
  if ( (unsigned __int8)sub_402380(&result) )
    return defaultValue;
  v4 = (_DWORD *)sub_40BCC0(&result);
  return (const char *)sub_402360(v4);
}

//----- (0040C970) --------------------------------------------------------
int __thiscall sub_40C970(CConfig *this, char *a2)
{
  lisp::var *v2; // eax
  _DWORD *v3; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  v2 = CConfig::Find(this, (lisp::var *)&v5, a2);
  v3 = (_DWORD *)sub_40BCC0(v2);
  return sub_40C8D0(v3);
}

//----- (0040C9A0) --------------------------------------------------------
int __thiscall sub_40C9A0(CConfig *this, char *a2, int a3)
{
  _DWORD *v4; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  CConfig::Find(this, (lisp::var *)&v5, a2);
  if ( (unsigned __int8)sub_402380(&v5) )
    return a3;
  v4 = (_DWORD *)sub_40BCC0(&v5);
  return sub_40C8D0(v4);
}

//----- (0040C9F0) --------------------------------------------------------
int __cdecl CConfig::GetTimeStamp()
{
  int result; // eax
  HMODULE v1; // [esp+4h] [ebp-8h]
  _DWORD *v2; // [esp+8h] [ebp-4h]

  v1 = GetModuleHandleA(0);
  if ( !v1 )
    return 0;
  if ( *(_WORD *)v1 != 23117 )
    return 0;
  v2 = (_DWORD *)((char *)v1 + *((_DWORD *)v1 + 15));
  if ( *v2 == 17744 )
    result = v2[2];
  else
    result = 0;
  return result;
}

//----- (0040CA50) --------------------------------------------------------
LONG __thiscall sub_40CA50(CIOBuffer **this, int a2, int a3, int a4)
{
  CDBSocket::Process((unsigned __int16 *)a3);
  CIOBuffer::Release(this[4]);
  return sub_40DD70((int)this);
}

//----- (0040CA80) --------------------------------------------------------
volatile int *__thiscall sub_40CA80(void *this)
{
  CIOSocket::CIOSocket(this, 0);
  *(_DWORD *)this = &off_4B4CEC;
  sub_4010D0((int)this);
  return (volatile int *)this;
}
// 4B4CEC: using guessed type int (__stdcall *off_4B4CEC)(int);

//----- (0040CAB0) --------------------------------------------------------
void *__thiscall sub_40CAB0(void *this, char a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi

  sub_40CAE0(this, v2, v3, v4);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}
// 40CABA: variable 'v2' is possibly undefined
// 40CABA: variable 'v3' is possibly undefined
// 40CABA: variable 'v4' is possibly undefined

//----- (0040CAE0) --------------------------------------------------------
void __thiscall sub_40CAE0(void *this)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi

  *(_DWORD *)this = &off_4B4CEC;
  CIOSocket::_CIOSocket((CIOBuffer **)this, v1, v2, v3);
}
// 40CAF3: variable 'v1' is possibly undefined
// 40CAF3: variable 'v2' is possibly undefined
// 40CAF3: variable 'v3' is possibly undefined
// 4B4CEC: using guessed type int (__stdcall *off_4B4CEC)(int);

//----- (0040CB00) --------------------------------------------------------
int __cdecl CDBSocket::Start()
{
  const char *v0; // eax
  const char *v1; // eax
  struct hostent *v3; // [esp+0h] [ebp-1Ch]
  struct sockaddr name; // [esp+4h] [ebp-18h] BYREF
  int v5; // [esp+14h] [ebp-8h]
  SOCKET s; // [esp+18h] [ebp-4h]

  v5 = dword_4D9830;
  s = socket(2, 1, 0);
  name.sa_family = 2;
  *(_DWORD *)&name.sa_data[2] = 0;
  *(_WORD *)name.sa_data = 0;
  bind(s, &name, 16);
  name.sa_family = 2;
  v0 = (const char *)sub_4012D0(&stru_4E11B0);
  *(_DWORD *)&name.sa_data[2] = inet_addr(v0);
  if ( *(_DWORD *)&name.sa_data[2] == -1 )
  {
    v1 = (const char *)sub_4012D0(&stru_4E11B0);
    v3 = gethostbyname(v1);
    if ( !v3 )
      goto LABEL_7;
    memcpy(&name.sa_data[2], *(const void **)v3->h_addr_list, v3->h_length);
  }
  *(_WORD *)name.sa_data = htons(dword_4E116C);
  if ( connect(s, &name, 16) != -1 )
  {
    dword_4DA7C8 = s;
    hObject = CreateEventA(0, 1, 0, 0);
    CIOSocket::Initialize((CIOSocket *)dword_4DA7B8);
    WaitForSingleObject(hObject, 0xFFFFFFFF);
    hObject = 0;
    CloseHandle(0);
    return dword_4DA7AC;
  }
  LOG_ERR("Can't connect to DB Server");
LABEL_7:
  closesocket(s);
  return 0;
}
// 4D9830: using guessed type int dword_4D9830;
// 4DA7AC: using guessed type int dword_4DA7AC;
// 4DA7B8: using guessed type int dword_4DA7B8[4];
// 4DA7C8: using guessed type int dword_4DA7C8;

//----- (0040CC40) --------------------------------------------------------
void __cdecl CDBSocket::Stop()
{
  if ( dword_4DA7AC )
  {
    dword_4DA7AC = 0;
    hObject = CreateEventA(0, 1, 0, 0);
    CDBSocket::Write(32, &Source);
    WaitForSingleObject(hObject, 0xFFFFFFFF);
    CloseHandle(hObject);
    hObject = 0;
  }
}
// 4DA7AC: using guessed type int dword_4DA7AC;

//----- (0040CCA0) --------------------------------------------------------
BOOL __cdecl CDBSocket::OnClose()
{
  if ( !dword_4DA7AC )
    return SetEvent(hObject);
  dword_4DA7AC = 0;
  LOG_ERR("Connection closed from DB Server");
  return PostMessageA(hWnd, 0x111u, 0x8009u, 0);
}
// 4DA7AC: using guessed type int dword_4DA7AC;

//----- (0040CD00) --------------------------------------------------------
void __thiscall sub_40CD00(int this)
{
  int dwNumberOfBytesTransferred; // [esp+4h] [ebp-14h]
  CIOObject *v3; // [esp+8h] [ebp-10h]
  unsigned int v4; // [esp+Ch] [ebp-Ch]
  unsigned __int16 *v5; // [esp+10h] [ebp-8h]
  unsigned int dwLeft; // [esp+14h] [ebp-4h]

  dwLeft = *(_DWORD *)(*(_DWORD *)(this + 92) + 8000);
  v5 = *(unsigned __int16 **)(this + 92);
  while ( 1 )
  {
    dwNumberOfBytesTransferred = (int)v5;
    if ( dwLeft < 2 )
      break;
    v4 = *v5;
    if ( dwLeft < v4 )
      break;
    dwLeft -= v4;
    v5 = (unsigned __int16 *)((char *)v5 + v4);
    v3 = sub_40DCF0();
    *((_DWORD *)v3 + 4) = *(_DWORD *)(this + 92);
    sub_401570(*(volatile LONG **)(this + 92));
    CIOObject::PostObject(v3, dwNumberOfBytesTransferred);
  }
  CIOSocket::Read((CIOSocket *)this, dwLeft);
}

//----- (0040CD90) --------------------------------------------------------
void __cdecl CDBSocket::Process(unsigned __int16 *a1)
{
  DWORD v1; // [esp+8h] [ebp-17Ch] BYREF
  int *v2; // [esp+Ch] [ebp-178h]
  unsigned __int8 v3; // [esp+13h] [ebp-171h] BYREF
  DWORD v4; // [esp+14h] [ebp-170h] BYREF
  int *v5; // [esp+18h] [ebp-16Ch]
  unsigned __int16 v6[3]; // [esp+1Ch] [ebp-168h] BYREF
  unsigned __int8 v7; // [esp+23h] [ebp-161h] BYREF
  int v8; // [esp+24h] [ebp-160h] BYREF
  CIOObject *v9; // [esp+28h] [ebp-15Ch]
  int v10; // [esp+2Ch] [ebp-158h] BYREF
  int v11; // [esp+30h] [ebp-154h] BYREF
  int v12; // [esp+34h] [ebp-150h] BYREF
  char *v13; // [esp+38h] [ebp-14Ch] BYREF
  unsigned __int8 v14; // [esp+3Fh] [ebp-145h] BYREF
  CIOObject *v15; // [esp+40h] [ebp-144h]
  int v16; // [esp+44h] [ebp-140h] BYREF
  char *v17; // [esp+48h] [ebp-13Ch] BYREF
  unsigned __int8 v18; // [esp+4Fh] [ebp-135h] BYREF
  CIOObject *v19; // [esp+50h] [ebp-134h]
  int v20; // [esp+54h] [ebp-130h] BYREF
  char v21[7]; // [esp+58h] [ebp-12Ch] BYREF
  char v22; // [esp+5Fh] [ebp-125h] BYREF
  int v23; // [esp+60h] [ebp-124h] BYREF
  char v24; // [esp+67h] [ebp-11Dh] BYREF
  int v25; // [esp+68h] [ebp-11Ch] BYREF
  unsigned __int8 v26; // [esp+6Fh] [ebp-115h] BYREF
  CIOObject *v27; // [esp+70h] [ebp-114h]
  int v28; // [esp+74h] [ebp-110h] BYREF
  unsigned __int8 v29; // [esp+7Bh] [ebp-109h] BYREF
  CIOObject *v30; // [esp+7Ch] [ebp-108h]
  unsigned __int8 v31; // [esp+83h] [ebp-101h] BYREF
  int v32; // [esp+84h] [ebp-100h] BYREF
  CIOObject *v33; // [esp+88h] [ebp-FCh]
  int v34; // [esp+8Ch] [ebp-F8h] BYREF
  CIOObject *v35; // [esp+90h] [ebp-F4h]
  unsigned __int8 v36; // [esp+97h] [ebp-EDh] BYREF
  int v37; // [esp+98h] [ebp-ECh] BYREF
  char v38; // [esp+9Fh] [ebp-E5h] BYREF
  CIOObject *v39; // [esp+A0h] [ebp-E4h]
  unsigned __int8 v40; // [esp+A6h] [ebp-DEh] BYREF
  unsigned __int8 v41; // [esp+A7h] [ebp-DDh] BYREF
  DWORD v42; // [esp+A8h] [ebp-DCh] BYREF
  CIOCriticalSection *v43; // [esp+ACh] [ebp-D8h]
  unsigned __int8 v44; // [esp+B3h] [ebp-D1h] BYREF
  DWORD v45; // [esp+B4h] [ebp-D0h] BYREF
  int *v46; // [esp+B8h] [ebp-CCh]
  unsigned __int8 v47; // [esp+BFh] [ebp-C5h] BYREF
  int v48; // [esp+C0h] [ebp-C4h] BYREF
  unsigned __int8 v49; // [esp+C7h] [ebp-BDh] BYREF
  int v50; // [esp+C8h] [ebp-BCh] BYREF
  int v51; // [esp+CCh] [ebp-B8h] BYREF
  int v52; // [esp+D0h] [ebp-B4h] BYREF
  CIOObject *v53; // [esp+D4h] [ebp-B0h]
  unsigned __int8 v54; // [esp+DBh] [ebp-A9h] BYREF
  int a5; // [esp+DCh] [ebp-A8h] BYREF
  int v56; // [esp+E0h] [ebp-A4h] BYREF
  CIOObject *v57; // [esp+E4h] [ebp-A0h]
  int v58; // [esp+E8h] [ebp-9Ch] BYREF
  int v59; // [esp+ECh] [ebp-98h] BYREF
  int v60; // [esp+F0h] [ebp-94h]
  CIOObject *v61; // [esp+F4h] [ebp-90h]
  int v62; // [esp+F8h] [ebp-8Ch] BYREF
  CIOObject *v63; // [esp+FCh] [ebp-88h]
  char *Source; // [esp+100h] [ebp-84h] BYREF
  unsigned __int8 v65; // [esp+107h] [ebp-7Dh] BYREF
  int v66; // [esp+108h] [ebp-7Ch]
  int v67; // [esp+10Ch] [ebp-78h] BYREF
  int a2; // [esp+110h] [ebp-74h] BYREF
  int v69; // [esp+114h] [ebp-70h] BYREF
  CIOObject *v70; // [esp+118h] [ebp-6Ch]
  int v71; // [esp+11Ch] [ebp-68h]
  CIOObject *v72; // [esp+120h] [ebp-64h]
  int v73; // [esp+124h] [ebp-60h] BYREF
  int a3; // [esp+128h] [ebp-5Ch] BYREF
  int a4; // [esp+12Ch] [ebp-58h] BYREF
  int a1a; // [esp+130h] [ebp-54h]
  int v77; // [esp+134h] [ebp-50h] BYREF
  unsigned __int8 v78; // [esp+13Bh] [ebp-49h] BYREF
  CIOObject *v79; // [esp+13Ch] [ebp-48h]
  DWORD v80; // [esp+140h] [ebp-44h] BYREF
  CIOCriticalSection *v81; // [esp+144h] [ebp-40h]
  unsigned __int8 v82; // [esp+14Bh] [ebp-39h] BYREF
  DWORD v83; // [esp+14Ch] [ebp-38h] BYREF
  int *v84; // [esp+150h] [ebp-34h]
  unsigned __int8 v85; // [esp+157h] [ebp-2Dh] BYREF
  DWORD v86; // [esp+158h] [ebp-2Ch] BYREF
  _DWORD *v87; // [esp+15Ch] [ebp-28h]
  unsigned __int8 v88; // [esp+163h] [ebp-21h] BYREF
  DWORD v89; // [esp+164h] [ebp-20h] BYREF
  int *v90; // [esp+168h] [ebp-1Ch]
  unsigned __int16 v91[2]; // [esp+16Ch] [ebp-18h] BYREF
  unsigned __int8 v92; // [esp+171h] [ebp-13h] BYREF
  unsigned __int8 v93; // [esp+172h] [ebp-12h] BYREF
  unsigned __int8 v94; // [esp+173h] [ebp-11h] BYREF
  int v95; // [esp+174h] [ebp-10h] BYREF
  int v96; // [esp+178h] [ebp-Ch] BYREF
  void *Src; // [esp+17Ch] [ebp-8h]
  char v98[4]; // [esp+180h] [ebp-4h]

  Src = (char *)a1 + 3;
  *(_DWORD *)v98 = *((unsigned __int8 *)a1 + 2);
  switch ( *(_DWORD *)v98 )
  {
    case 0:
      Src = ReadPacket((char *)Src, "dbw", &v89, &v92, v91);
      v90 = (int *)sub_47E800(v89);
      if ( v90 )
      {
        CSocket::OnLogin((int)v90, (int)Src, v92, v91[0]);
        if ( sub_40DC60(v90, 7) )
          CSocket::Write((int)v90, 67, "b", 136);
        sub_401DE0(v90);
      }
      break;
    case 1:
      ReadPacket((char *)Src, "bddddb", &v94, &unk_4DA7B0, &dword_4E10B0, &v96, &v95, &v93);
      if ( v94 == 6 )
      {
        if ( v93 == dword_4E35B8 )
        {
          if ( dword_4E10B0 )
          {
            if ( v96 == *(_DWORD *)dword_4E1174 && v95 == dword_4E1178 )
            {
              dword_4DA7AC = 1;
              SetEvent(hObject);
              LOG_NORMAL("DB server version (Version:%d, IID:0x%x)", v94, dword_4E10B0);
              if ( (dword_4E1174[0] & 1) != 0 )
                CDBSocket::Write(56, &::Source);
            }
            else
            {
              LOG_ERR(
                "System or Event is diffrent with DBSvr. Sys(M:%d, D:%d), Ev(M:%d, D:%d)",
                *(_DWORD *)dword_4E1174,
                v96,
                dword_4E1178,
                v95);
              CIOSocket::WriteCallback((CIOSocket *)dword_4DA7B8);
            }
          }
          else
          {
            LOG_ERR("can't get Item ID");
            CIOSocket::WriteCallback((CIOSocket *)dword_4DA7B8);
          }
        }
        else
        {
          LOG_ERR("Country Code is different (DBSvr:%d, MainSvr:%d)", v93, dword_4E35B8);
          CIOSocket::WriteCallback((CIOSocket *)dword_4DA7B8);
        }
      }
      else
      {
        LOG_ERR("DB version is different (DBSvr:%d, MainSvr:%d)", v94, 6);
        CIOSocket::WriteCallback((CIOSocket *)dword_4DA7B8);
      }
      break;
    case 2:
      Src = ReadPacket((char *)Src, "db", &v86, &v88);
      v87 = sub_47E800(v86);
      if ( v87 )
      {
        CSocket::OnNewPlayer(v87, v88, Src);
        sub_401DE0(v87);
      }
      break;
    case 3:
      ReadPacket((char *)Src, "db", &v83, &v85);
      v84 = (int *)sub_47E800(v83);
      if ( v84 )
      {
        CSocket::OnDelPlayer_0(v84, v85);
        sub_401DE0(v84);
      }
      break;
    case 4:
      Src = ReadPacket((char *)Src, "db", &v80, &v82);
      v81 = (CIOCriticalSection *)sub_47E800(v80);
      if ( v81 )
      {
        CSocket::OnDelPlayer(v81, v82, (int)Src);
        sub_401DE0((int *)v81);
      }
      break;
    case 8:
      Src = ReadPacket((char *)Src, "db", &v77, &v78);
      v79 = CPlayer::FindPlayer_(v77);
      if ( v79 )
      {
        CPlayer::OnProcessEvent(v79, v78, Src);
        CIOObject::Release(v79, (volatile int *)&v79[22]);
      }
      break;
    case 9:
      ReadPacket((char *)Src, "ddd", &v73, &a3, &a4);
      a1a = (int)CPlayer::FindPlayer_(v73);
      if ( a1a )
      {
        v71 = 0;
        v72 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1a);
        if ( v72 )
        {
          v71 = CGuild::CreateTrialSecedeAnswer((CItem *)v72, a1a, a3, a4);
          CIOObject::Release(v72, &v72[2].m_nTimerRef);
        }
        if ( v71 )
          CPlayer::Write(a1a, 94, "bb", 0, (unsigned __int8)v71);
        CIOObject::Release((CIOObject *)a1a, (volatile int *)(a1a + 352));
      }
      break;
    case 0xA:
      ReadPacket((char *)Src, "ddd", &v67, &a2, &v69);
      v70 = CPlayer::FindPlayer_(v67);
      if ( v70 )
      {
        v66 = CGuild::ConfluxSecedeAnswer((int)v70, a2, v69);
        if ( v66 )
          CPlayer::Write((int)v70, 94, "bb", 0, (unsigned __int8)v66);
        CIOObject::Release(v70, (volatile int *)&v70[22]);
      }
      break;
    case 0xB:
      ReadPacket((char *)Src, "dbs", &v62, &v65, &Source);
      v63 = CPlayer::FindPlayer_(v62);
      if ( v63 )
      {
        v61 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)v63);
        if ( v61 )
        {
          v60 = CGuild::CreateGuildNameAnswer((int)v61, (int)v63, v65, Source);
          CIOObject::Release(v61, &v61[2].m_nTimerRef);
          if ( v60 )
            CPlayer::Write((int)v63, 94, "bb", 0, (unsigned __int8)v60);
        }
        else
        {
          LOG_ERR("D2S_GUILD_SAMENAMECHECK guild point error (pid:%d)", v63[28].m_nRef);
        }
        CIOObject::Release(v63, (volatile int *)&v63[22]);
      }
      break;
    case 0xC:
      ReadPacket((char *)Src, "dd", &v59, &v58);
      CGuild::DelPlayer(v59, v58);
      break;
    case 0xD:
      ReadPacket((char *)Src, "dbbss", &v45, &v49, &v47, &v50, &v48);
      v46 = (int *)sub_47E800(v45);
      if ( v46 )
      {
        CSocket::OnCheckCopy((CIOCriticalSection *)v46, v49, v47, v50, v48);
        sub_401DE0(v46);
      }
      break;
    case 0xE:
      CAuthSocket::Write(13, "m", Src, (char *)a1 + *a1 - (_BYTE *)Src);
      break;
    case 0xF:
      ReadPacket((char *)Src, "db", &v42, &v44);
      v43 = (CIOCriticalSection *)sub_47E800(v42);
      if ( v43 )
      {
        CSocket::OnCopyPlayer(v43, v44);
        sub_401DE0((int *)v43);
      }
      break;
    case 0x10:
      CPlayer::PKBulletinLoad(Src);
      break;
    case 0x11:
      Src = ReadPacket((char *)Src, "b", &v41);
      CCastle::Load(v41, (int)Src);
      break;
    case 0x12:
      Src = ReadPacket((char *)Src, "b", &v40);
      CWar::Load(v40, (char *)Src);
      break;
    case 0x13:
      Src = ReadPacket((char *)Src, "db", &v37, &v38);
      v39 = CPlayer::FindPlayer_(v37);
      if ( v39 )
      {
        if ( v38 )
          CPlayer::Write((int)v39, 103, "bm", 1, Src, 40);
        else
          CPlayer::Write((int)v39, 103, "b", 0);
        CIOObject::Release(v39, (volatile int *)&v39[22]);
      }
      break;
    case 0x14:
      Src = ReadPacket((char *)Src, "d", &v56);
      v57 = CPlayer::FindPlayer_(v56);
      if ( v57 )
      {
        CPlayer::Write((int)v57, 94, "bm", 28, Src, (char *)a1 + *a1 - (_BYTE *)Src);
        CIOObject::Release(v57, (volatile int *)&v57[22]);
      }
      break;
    case 0x15:
      ReadPacket((char *)Src, "dbdd", &v51, &v54, &v52, &a5);
      v53 = sub_416230(v52);
      if ( v53 )
      {
        CGuild::OnSetStandard((int)v53, v51, v54, v52, a5);
        CIOObject::Release(v53, &v53[2].m_nTimerRef);
      }
      break;
    case 0x16:
      Src = ReadPacket((char *)Src, "db", &v34, &v36);
      v35 = CPlayer::FindPlayer_(v34);
      if ( v35 )
      {
        if ( v36 )
          CPlayer::OnGetMyTelPt(v35, v36, (int)Src);
        CIOObject::Release(v35, (volatile int *)&v35[22]);
      }
      break;
    case 0x17:
      Src = ReadPacket((char *)Src, "db", &v32, &v31);
      v33 = sub_450790(v32);
      if ( v33 )
      {
        CPlayer::OnSetMyTelPt(v33, v31, Src);
        CIOObject::Release(v33, (volatile int *)&v33[22]);
      }
      break;
    case 0x18:
      Src = ReadPacket((char *)Src, "db", &v28, &v29);
      if ( (dword_4E1174[0] & 0x40) != 0 )
      {
        v30 = sub_450790(v28);
        if ( v30 )
        {
          CPlayer::FRDProcess((int)v30, v29, Src, (int)Src);
          CIOObject::Release(v30, (volatile int *)&v30[22]);
        }
      }
      break;
    case 0x19:
      Src = ReadPacket((char *)Src, "db", &v25, &v26);
      if ( (*(_WORD *)dword_4E1174 & 0x400) != 0 )
      {
        v27 = sub_450790(v25);
        if ( v27 )
        {
          CPlayer::MAILProcess(v27, v26, Src, (int)Src);
          CIOObject::Release(v27, (volatile int *)&v27[22]);
        }
        else if ( v26 == 1 )
        {
          Src = ReadPacket((char *)Src, "dbb", &v23, &v24, &v22);
          if ( !v22 && v24 != 3 )
            CDBSocket::Write(30, "dbddb", v23, 1, v25, v23, 6);
        }
        else if ( v26 == 11 )
        {
          Src = ReadPacket((char *)Src, "dd", &v20, v21);
          CDBSocket::Write(30, "dbddbbddwbd", v20, 8, v25, v20, 1, 0, 0, 0, 0, 0, 0);
        }
      }
      break;
    case 0x1A:
      ReadPacket((char *)Src, "dbs", &v16, &v18, &v17);
      v19 = CPlayer::FindPlayer_(v16);
      if ( v19 )
      {
        CPlayer::OnChangePlayerName((int)v19, v18, v17);
        CIOObject::Release(v19, (volatile int *)&v19[22]);
      }
      break;
    case 0x1B:
      ReadPacket((char *)Src, "dbs", &v12, &v14, &v13);
      v15 = CPlayer::FindPlayer_(v12);
      if ( v15 )
      {
        CPlayer::OnChangeGuildName((int)v15, v14, v13);
        CIOObject::Release(v15, (volatile int *)&v15[22]);
      }
      break;
    case 0x1C:
      v8 = 0;
      v10 = 0;
      v11 = 0;
      ReadPacket((char *)Src, "ddd", &v8, &v11, &v10);
      v9 = sub_450790(v8);
      if ( v9 )
        CIOObject::Release(v9, (volatile int *)&v9[22]);
      break;
    case 0x1D:
      Src = ReadPacket((char *)Src, "dbw", &v4, &v7, v6);
      v5 = (int *)sub_47E800(v4);
      if ( v5 )
      {
        CSocket::Write((int)v5, 25, "bm", v7, Src, v6[0]);
        sub_401DE0(v5);
      }
      break;
    case 0x1E:
      Src = ReadPacket((char *)Src, "db", &v1, &v3);
      v2 = (int *)sub_47E800(v1);
      if ( v2 )
      {
        CSocket::Write((int)v2, 26, "b", v3);
        if ( !v3 )
          CSocket::Write((int)v2, 45, "b", 9);
        sub_401DE0(v2);
      }
      break;
    default:
      LOG_ERR("invalid packet type at CDBSocket::Process Type(%d)", *(_DWORD *)v98);
      break;
  }
}
// 4DA7AC: using guessed type int dword_4DA7AC;
// 4DA7B8: using guessed type int dword_4DA7B8[4];
// 4E1178: using guessed type int dword_4E1178;
// 4E35B8: using guessed type int dword_4E35B8;

//----- (0040DC60) --------------------------------------------------------
int __thiscall sub_40DC60(_DWORD *this, char a2)
{
  return this[27] & (1 << a2);
}

//----- (0040DC80) --------------------------------------------------------
void CDBSocket::Write(char a1, char *a2, ...)
{
  CIOBuffer *v2; // [esp+8h] [ebp-8h]

  v2 = CIOBuffer::Alloc();
  v2->m_buffer[2] = a1;
  *(_WORD *)v2->m_buffer = (unsigned __int16)WritePacket(&v2->m_buffer[3], (int)&a2) - (_WORD)v2;
  v2->m_dwSize = *(unsigned __int16 *)v2->m_buffer;
  CIOSocket::Write((CIOSocket *)dword_4DA7B8, v2);
}
// 4DA7B8: using guessed type int dword_4DA7B8[4];

//----- (0040DCF0) --------------------------------------------------------
CIOObject *sub_40DCF0()
{
  CIOObject *result; // eax
  CIOObject *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)dword_4DA828);
  v3 = dword_4DA824;
  if ( dword_4DA824 )
  {
    dword_4DA824 = *(_DWORD *)(dword_4DA824 + 16);
    sub_401F30(dword_4DA828);
    result = (CIOObject *)v3;
  }
  else
  {
    sub_401F30(dword_4DA828);
    v2 = sub_401000(0x14u);
    if ( v2 )
      v1 = sub_40DDA0((CIOObject *)v2);
    else
      v1 = 0;
    result = v1;
  }
  return result;
}
// 4DA824: using guessed type int dword_4DA824;
// 4DA828: using guessed type int dword_4DA828[6198];

//----- (0040DD70) --------------------------------------------------------
LONG __cdecl sub_40DD70(int a1)
{
  CIOSpinLock::Enter((CIOSpinLock *)dword_4DA828);
  *(_DWORD *)(a1 + 16) = dword_4DA824;
  dword_4DA824 = a1;
  return sub_401F30(dword_4DA828);
}
// 4DA824: using guessed type int dword_4DA824;
// 4DA828: using guessed type int dword_4DA828[6198];

//----- (0040DDA0) --------------------------------------------------------
CIOObject *__thiscall sub_40DDA0(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_4B4EE8;
  return this;
}
// 4B4EE8: using guessed type int (__stdcall *off_4B4EE8)(int);

//----- (0040DDC0) --------------------------------------------------------
std::locale::facet *__thiscall sub_40DDC0(std::locale::facet *this, char a2)
{
  sub_402010(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040DDF0) --------------------------------------------------------
LONG __thiscall sub_40DDF0(void *this)
{
  return sub_40DE00();
}

//----- (0040DE00) --------------------------------------------------------
LONG sub_40DE00()
{
  void (__thiscall ***v1)(_DWORD, int); // [esp+Ch] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)dword_4DA828);
  while ( 1 )
  {
    v1 = (void (__thiscall ***)(_DWORD, int))dword_4DA824;
    if ( !dword_4DA824 )
      break;
    dword_4DA824 = *(_DWORD *)(dword_4DA824 + 16);
    if ( v1 )
      (**v1)(v1, 1);
  }
  return sub_401F30(dword_4DA828);
}
// 4DA824: using guessed type int dword_4DA824;
// 4DA828: using guessed type int dword_4DA828[6198];

//----- (0040DE70) --------------------------------------------------------
CFindPath *__thiscall CFindPath::CFindPath(CFindPath *this)
{
  *(_DWORD *)this = 0;
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  *((_DWORD *)this + 4) = &dword_4E0908;
  *((_DWORD *)this + 6) = -1;
  *((_DWORD *)this + 5) = -1;
  *((_DWORD *)this + 8) = -1;
  *((_DWORD *)this + 7) = -1;
  *((_DWORD *)this + 9) = 0;
  return this;
}

//----- (0040DEF0) --------------------------------------------------------
_DWORD *__thiscall sub_40DEF0(void *this)
{
  return CFindPath::FreeNode(this);
}

//----- (0040DF10) --------------------------------------------------------
int __thiscall CFindPath::FindPath(void *this, int a2, int a3)
{
  int v4; // ecx
  int v5; // edx
  int v6; // edx
  struct localeinfo_struct *v7; // eax
  int v8; // ecx
  struct localeinfo_struct *v9; // eax
  struct localeinfo_struct *v11; // [esp+4h] [ebp-1Ch]
  int a3a; // [esp+8h] [ebp-18h] BYREF
  int v13; // [esp+Ch] [ebp-14h]
  int v14; // [esp+10h] [ebp-10h]
  struct localeinfo_struct *v15; // [esp+14h] [ebp-Ch]
  struct localeinfo_struct *v16; // [esp+18h] [ebp-8h]
  int v17; // [esp+1Ch] [ebp-4h]

  if ( *(_DWORD *)a2 == *(_DWORD *)a3 && *(_DWORD *)(a2 + 4) == *(_DWORD *)(a3 + 4)
    || !CSMap::IsValidTile(*((_DWORD **)this + 1), (int *)a3, 0x20000) )
  {
    return 0;
  }
  CFindPath::FreeNode(this);
  v4 = *(_DWORD *)(a2 + 4);
  *((_DWORD *)this + 5) = *(_DWORD *)a2;
  *((_DWORD *)this + 6) = v4;
  v5 = *(_DWORD *)(a3 + 4);
  *((_DWORD *)this + 7) = *(_DWORD *)a3;
  *((_DWORD *)this + 8) = v5;
  v16 = CMemoryPool_CFindPath::NODE::_Alloc();
  *(_DWORD *)v16 = 0;
  *((_DWORD *)v16 + 2) = 0;
  *((_DWORD *)v16 + 3) = CFindPath::CalcH(this, (_DWORD *)this + 5);
  *((_DWORD *)v16 + 1) = *((_DWORD *)v16 + 3);
  *((_DWORD *)v16 + 4) = 0;
  v6 = *((_DWORD *)this + 6);
  v7 = v16;
  *((_DWORD *)v16 + 5) = *((_DWORD *)this + 5);
  *((_DWORD *)v7 + 6) = v6;
  *((_DWORD *)v16 + 15) = 0;
  *((_DWORD *)v16 + 16) = -1;
  *((_DWORD *)this + 2) = v16;
  *((_DWORD *)this + 3) = 0;
  v15 = v16;
  v17 = 0;
  while ( 1 )
  {
    ++v17;
    v8 = *((_DWORD *)v16 + 6);
    a3a = *((_DWORD *)v16 + 5);
    v13 = v8;
    v14 = sub_40E130((_DWORD *)this + 7, &a3a);
    if ( v14 <= *((_DWORD *)this + 9) || v14 <= 2304 )
    {
      v9 = (struct localeinfo_struct *)CSMap::IsMoveTile(
                                         *((_DWORD **)this + 1),
                                         *(_DWORD *)this,
                                         (int)&a3a,
                                         *((_DWORD *)this + 7) - a3a,
                                         *((_DWORD *)this + 8) - v13,
                                         0x20000);
      if ( v9 )
        break;
    }
    v9 = v16;
    if ( *((_DWORD *)v16 + 3) <= *((_DWORD *)v15 + 3) )
    {
      v9 = v16;
      v15 = v16;
    }
    if ( v17 > 50 )
      goto LABEL_16;
    sub_40E270((int *)this, (int)v16);
    v16 = (struct localeinfo_struct *)CFindPath::GetBestNode(this);
    if ( !v16 )
      goto LABEL_14;
  }
  v15 = v16;
LABEL_16:
  if ( !v15 )
    EBREAK((int)v9);
  v16 = 0;
  while ( 1 )
  {
    v11 = *(struct localeinfo_struct **)v15;
    if ( !*(_DWORD *)v15 )
      break;
    *(_DWORD *)v15 = v16;
    v16 = v15;
    v15 = v11;
  }
  if ( !v16 )
  {
LABEL_14:
    CFindPath::FreeNode(this);
    return 0;
  }
  *((_DWORD *)this + 4) = v16;
  return 1;
}

//----- (0040E130) --------------------------------------------------------
int __cdecl sub_40E130(_DWORD *a1, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = a1[1] - a2[1];
  return v3 * v3 + (*a1 - *a2) * (*a1 - *a2);
}

//----- (0040E170) --------------------------------------------------------
unsigned int __thiscall CFindPath::CalcH(_DWORD *this, _DWORD *a2)
{
  unsigned int v3; // [esp+0h] [ebp-10h]
  unsigned int v5; // [esp+8h] [ebp-8h]
  unsigned int v6; // [esp+Ch] [ebp-4h]

  v5 = abs(this[7] - *a2);
  v6 = abs(this[8] - a2[1]);
  if ( v5 < v6 )
    v3 = v6 << 16;
  else
    v3 = v5 << 16;
  return v6 * v6 + v3 + v5 * v5;
}

//----- (0040E1E0) --------------------------------------------------------
int __thiscall CFindPath::GetBestNode(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[3];
  if ( !v2 )
    return 0;
  this[3] = *(_DWORD *)(this[3] + 64);
  *(_DWORD *)(v2 + 64) = -1;
  return v2;
}

//----- (0040E220) --------------------------------------------------------
_DWORD *__thiscall CFindPath::FreeNode(_DWORD *this)
{
  _DWORD *result; // eax
  _DWORD *a1; // [esp+4h] [ebp-4h]

  while ( 1 )
  {
    result = this;
    a1 = (_DWORD *)this[2];
    if ( !a1 )
      break;
    this[2] = *(_DWORD *)(this[2] + 60);
    CMemoryPool_CFindPath::NODE::_Free(a1);
  }
  this[4] = &dword_4E0908;
  return result;
}

//----- (0040E270) --------------------------------------------------------
_DWORD *__thiscall sub_40E270(int *this, int a1)
{
  CFindPath::LinkChild(this, a1, 32, 0);
  CFindPath::LinkChild(this, a1, 32, 32);
  CFindPath::LinkChild(this, a1, 0, 32);
  CFindPath::LinkChild(this, a1, -32, 32);
  CFindPath::LinkChild(this, a1, -32, 0);
  CFindPath::LinkChild(this, a1, -32, -32);
  CFindPath::LinkChild(this, a1, 0, -32);
  return CFindPath::LinkChild(this, a1, 32, -32);
}

//----- (0040E300) --------------------------------------------------------
_DWORD *__thiscall CFindPath::LinkChild(int *this, int a2, int Number, int a4)
{
  _DWORD *result; // eax
  _DWORD *v5; // eax
  struct localeinfo_struct *v7; // [esp+4h] [ebp-18h]
  int v8; // [esp+8h] [ebp-14h] BYREF
  int v9; // [esp+Ch] [ebp-10h]
  _DWORD *v10; // [esp+10h] [ebp-Ch]
  unsigned int v11; // [esp+14h] [ebp-8h]
  _DWORD *v12; // [esp+18h] [ebp-4h]

  v8 = Number + *(_DWORD *)(a2 + 20);
  v9 = a4 + *(_DWORD *)(a2 + 24);
  v11 = CFindPath::CalcH(this, &v8);
  if ( !v11 || (result = (_DWORD *)CSMap::IsMoveTile((_DWORD *)this[1], *this, a2 + 20, Number, a4, 0x20000)) != 0 )
  {
    v10 = (_DWORD *)(*(_DWORD *)(a2 + 8) + 0x10000);
    v12 = CFindPath::CheckList(this, &v8, v11);
    if ( v12 )
    {
      if ( *(int *)(a2 + 16) >= 8 )
        EBREAK(a2);
      *(_DWORD *)(a2 + 4 * (*(_DWORD *)(a2 + 16))++ + 28) = v12;
      result = v10;
      if ( (unsigned int)v10 < v12[2] )
      {
        *v12 = a2;
        v12[2] = v10;
        result = v12;
        v12[1] = (char *)v10 + v11;
        if ( v12[16] == -1 )
          result = CFindPath::Propagation(v12);
      }
    }
    else
    {
      v7 = CMemoryPool_CFindPath::NODE::_Alloc();
      *((_DWORD *)v7 + 4) = 0;
      *(_DWORD *)v7 = a2;
      *((_DWORD *)v7 + 2) = v10;
      *((_DWORD *)v7 + 3) = v11;
      *((_DWORD *)v7 + 1) = (char *)v10 + v11;
      *((_DWORD *)v7 + 5) = v8;
      *((_DWORD *)v7 + 6) = v9;
      v5 = CFindPath::Insert(this, v7);
      if ( *(int *)(a2 + 16) >= 8 )
        EBREAK((int)v5);
      *(_DWORD *)(a2 + 4 * *(_DWORD *)(a2 + 16) + 28) = v7;
      result = (_DWORD *)a2;
      ++*(_DWORD *)(a2 + 16);
    }
  }
  return result;
}

//----- (0040E480) --------------------------------------------------------
_DWORD *__thiscall CFindPath::CheckList(_DWORD *this, _DWORD *a2, unsigned int a3)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  for ( i = (_DWORD *)this[2]; i && i[3] <= a3; i = (_DWORD *)i[15] )
  {
    if ( i[5] == *a2 && i[6] == a2[1] )
      return i;
  }
  return 0;
}

//----- (0040E4E0) --------------------------------------------------------
_DWORD *__stdcall CFindPath::Propagation(_DWORD *a1)
{
  _DWORD *result; // eax
  int i; // [esp+4h] [ebp-10h]
  unsigned int v3; // [esp+8h] [ebp-Ch]
  _DWORD *v4; // [esp+Ch] [ebp-8h]
  _DWORD *v5; // [esp+10h] [ebp-4h]

  v4 = 0;
  while ( 1 )
  {
    v3 = a1[2] + 0x10000;
    for ( i = 0; ; ++i )
    {
      result = a1;
      if ( i >= a1[4] )
        break;
      v5 = (_DWORD *)a1[i + 7];
      if ( v3 < v5[2] )
      {
        v5[2] = v3;
        v5[1] = v5[3] + v3;
        *v5 = a1;
        if ( v5[16] == -1 )
        {
          v5[16] = v4;
          v4 = v5;
        }
      }
    }
    if ( !v4 )
      break;
    a1 = v4;
    v4 = (_DWORD *)v4[16];
    a1[16] = -1;
  }
  return result;
}

//----- (0040E5A0) --------------------------------------------------------
_DWORD *__thiscall CFindPath::Insert(int *this, _DWORD *a2)
{
  _DWORD *result; // eax
  int *i; // [esp+4h] [ebp-10h]
  int *j; // [esp+4h] [ebp-10h]
  int v5; // [esp+8h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-Ch]

  for ( i = this + 2; ; i = (int *)(v5 + 60) )
  {
    v5 = *i;
    if ( !*i || *(_DWORD *)(v5 + 12) >= a2[3] )
      break;
  }
  *i = (int)a2;
  a2[15] = v5;
  for ( j = this + 3; ; j = (int *)(v6 + 64) )
  {
    v6 = *j;
    if ( !*j || *(_DWORD *)(v6 + 4) >= a2[1] )
      break;
  }
  result = a2;
  *j = (int)a2;
  a2[16] = v6;
  return result;
}

//----- (0040E650) --------------------------------------------------------
struct localeinfo_struct *__cdecl CMemoryPool_CFindPath::NODE::_Alloc()
{
  struct localeinfo_struct *result; // eax
  struct localeinfo_struct *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+4h] [ebp-8h]
  struct localeinfo_struct *v3; // [esp+8h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4E0904);
  v3 = (struct localeinfo_struct *)dword_4E0900;
  if ( dword_4E0900 )
  {
    dword_4E0900 = *(_DWORD *)dword_4E0900;
    sub_401F30(&dword_4E0904);
    result = v3;
  }
  else
  {
    sub_401F30(&dword_4E0904);
    v2 = sub_401000(0x44u);
    if ( v2 )
      v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)v2);
    else
      v1 = 0;
    result = v1;
  }
  return result;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);
// 4E0900: using guessed type int dword_4E0900;

//----- (0040E6C0) --------------------------------------------------------
LONG __cdecl CMemoryPool_CFindPath::NODE::_Free(_DWORD *a1)
{
  CIOSpinLock::Enter((CIOSpinLock *)&dword_4E0904);
  *a1 = dword_4E0900;
  dword_4E0900 = (int)a1;
  return sub_401F30(&dword_4E0904);
}
// 4E0900: using guessed type int dword_4E0900;

//----- (0040E6F0) --------------------------------------------------------
_DWORD *__thiscall CFindPath::NODE::NODE(_DWORD *this, int a2, int a3)
{
  this[5] = a2;
  this[6] = a3;
  *this = 0;
  this[3] = 0;
  this[2] = 0;
  this[1] = 0;
  this[4] = 0;
  return this;
}

//----- (0040E750) --------------------------------------------------------
int __thiscall sub_40E750(int this)
{
  std::_Container_base::_Container_base((std::_Container_base *)(this + 4));
  return this;
}
// 475860: using guessed type _DWORD __thiscall std::_Container_base::_Container_base(std::_Container_base *__hidden this);

//----- (0040E770) --------------------------------------------------------
void __thiscall sub_40E770(void *this)
{
  CMemoryPool_CFindPath::NODE::_FreeAll(this);
}

//----- (0040E780) --------------------------------------------------------
void __cdecl CMemoryPool_CFindPath::NODE::_FreeAll(void *a1)
{
  void *v1; // [esp+4h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4E0904);
  while ( 1 )
  {
    v1 = (void *)dword_4E0900;
    if ( !dword_4E0900 )
      break;
    dword_4E0900 = *(_DWORD *)dword_4E0900;
    sub_401020(v1);
  }
  sub_401F30(&dword_4E0904);
}
// 4E0900: using guessed type int dword_4E0900;

//----- (0040E7D0) --------------------------------------------------------
CGoto *__thiscall CGoto::CGoto(CGoto *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B4F00;
  *((_DWORD *)this + 8) = 0;
  memset((char *)this + 36, 0, 0x10u);
  return this;
}
// 4B4F00: using guessed type int (__stdcall *off_4B4F00)(int);

//----- (0040E810) --------------------------------------------------------
void *__thiscall sub_40E810(void *this, char a2)
{
  sub_40E840((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040E840) --------------------------------------------------------
void __thiscall sub_40E840(std::locale::facet *this)
{
  *(_DWORD *)this = &off_4B4F00;
  CBase::_CBase(this);
}
// 4B4F00: using guessed type int (__stdcall *off_4B4F00)(int);

//----- (0040E860) --------------------------------------------------------
int __cdecl CGoto::FindGoto(int a1, _DWORD *a2)
{
  int v2; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // ecx
  char v6[4]; // [esp+0h] [ebp-8h] BYREF
  char v7[4]; // [esp+4h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::find(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E094C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v7,
    (const char *const *)&a1);
  v2 = sub_430C20(dword_4E094C, (int)v6);
  if ( (unsigned __int8)unknown_libname_8(v2) )
    return 0;
  v4 = (_DWORD *)(sub_420250(v7) + 4);
  v5 = a2;
  *a2 = *v4;
  v5[1] = v4[1];
  v5[2] = v4[2];
  v5[3] = v4[3];
  return 1;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E094C: using guessed type int dword_4E094C[3];

//----- (0040E8D0) --------------------------------------------------------
int __thiscall CGoto::Set(_DWORD *this, int a2, char a3)
{
  lisp::var *v3; // eax
  int v4; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var v11; // [esp+4h] [ebp-14h] BYREF
  lisp::var v12; // [esp+8h] [ebp-10h] BYREF
  lisp::var v13; // [esp+Ch] [ebp-Ch] BYREF
  lisp::var v14; // [esp+10h] [ebp-8h] BYREF
  lisp::var result; // [esp+14h] [ebp-4h] BYREF

  if ( !a2 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, &result);
    v4 = sub_40C8D0(v3);
    this[8] = GetStr(v4);
    if ( !this[8] )
      return 1;
    v6 = lisp::var::pop((lisp::var *)&a3, &v14);
    this[9] = sub_40C8D0(v6);
    v7 = lisp::var::pop((lisp::var *)&a3, &v13);
    this[10] = sub_40C8D0(v7);
    v8 = lisp::var::pop((lisp::var *)&a3, &v12);
    this[11] = sub_40C8D0(v8);
    v9 = lisp::var::pop((lisp::var *)&a3, &v11);
    this[12] = sub_40C8D0(v9);
  }
  return 1;
}

//----- (0040E990) --------------------------------------------------------
int __thiscall CGoto::OnLoad(int this)
{
  std::pair<int,CPng::Region> *v2; // eax
  char v4[8]; // [esp+4h] [ebp-1Ch] BYREF
  char v5[20]; // [esp+Ch] [ebp-14h] BYREF

  if ( *(_DWORD *)(this + 32) )
  {
    v2 = std::pair<int,CPng::Region>::pair<int,CPng::Region>(
           (std::pair<int,CPng::Region> *)v5,
           (const int *)(this + 32),
           (const CPng::Region *)(this + 36));
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::insert(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E094C,
      (std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *)v4,
      v2);
    *(_DWORD *)(this + 32) = 0;
    memset((void *)(this + 36), 0, 0x10u);
  }
  return 1;
}

//----- (0040EA00) --------------------------------------------------------
CPortal *__thiscall CPortal::CPortal(CPortal *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B4F48;
  memset((char *)this + 32, 0, 0x24u);
  *((_DWORD *)this + 17) = 0;
  return this;
}
// 4B4F48: using guessed type int (__stdcall *off_4B4F48)(int);

//----- (0040EA40) --------------------------------------------------------
void *__thiscall sub_40EA40(void *this, char a2)
{
  sub_40EA70((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040EA70) --------------------------------------------------------
void __thiscall sub_40EA70(std::locale::facet *this)
{
  *(_DWORD *)this = &off_4B4F48;
  CBase::_CBase(this);
}
// 4B4F48: using guessed type int (__stdcall *off_4B4F48)(int);

//----- (0040EA90) --------------------------------------------------------
int __thiscall CPortal::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  _DWORD *v14; // [esp-4h] [ebp-38h] BYREF
  int v15; // [esp+0h] [ebp-34h]
  void *v16; // [esp+4h] [ebp-30h]
  lisp::var v17; // [esp+Ch] [ebp-28h] BYREF
  lisp::var v18; // [esp+10h] [ebp-24h] BYREF
  lisp::var v19; // [esp+14h] [ebp-20h] BYREF
  lisp::var v20; // [esp+18h] [ebp-1Ch] BYREF
  lisp::var v21; // [esp+1Ch] [ebp-18h] BYREF
  lisp::var v22; // [esp+20h] [ebp-14h] BYREF
  lisp::var v23; // [esp+24h] [ebp-10h] BYREF
  lisp::var v24; // [esp+28h] [ebp-Ch] BYREF
  lisp::var v25; // [esp+2Ch] [ebp-8h] BYREF
  lisp::var result; // [esp+30h] [ebp-4h] BYREF

  v16 = this;
  v15 = a2;
  if ( a2 == 103 )
  {
    v4 = lisp::var::pop((lisp::var *)&a3, &v25);
    *((_DWORD *)v16 + 8) = sub_40C8D0(v4);
    v5 = lisp::var::pop((lisp::var *)&a3, &v24);
    *((_DWORD *)v16 + 9) = sub_40C8D0(v5);
    v6 = lisp::var::pop((lisp::var *)&a3, &v23);
    *((_DWORD *)v16 + 10) = sub_40C8D0(v6);
    v7 = lisp::var::pop((lisp::var *)&a3, &v22);
    *((_DWORD *)v16 + 11) = sub_40C8D0(v7);
    v8 = lisp::var::pop((lisp::var *)&a3, &v21);
    *((_DWORD *)v16 + 12) = sub_40C8D0(v8);
  }
  else if ( v15 == 104 )
  {
    v9 = lisp::var::pop((lisp::var *)&a3, &v20);
    *((_DWORD *)v16 + 13) = sub_40C8D0(v9);
    v10 = lisp::var::pop((lisp::var *)&a3, &v19);
    *((_DWORD *)v16 + 14) = sub_40C8D0(v10);
    v11 = lisp::var::pop((lisp::var *)&a3, &v18);
    *((_DWORD *)v16 + 15) = sub_40C8D0(v11);
    v12 = lisp::var::pop((lisp::var *)&a3, &v17);
    *((_DWORD *)v16 + 16) = sub_40C8D0(v12);
  }
  else
  {
    if ( v15 != 109 )
    {
      v14 = this;
      sub_402340(&v14, &a3);
      return CBase::Set(v16, a2, (char)v14);
    }
    while ( !(unsigned __int8)sub_402380(&a3) )
    {
      v3 = lisp::var::pop((lisp::var *)&a3, &result);
      *((_DWORD *)v16 + 17) |= 1 << sub_40C8D0(v3);
    }
  }
  return 1;
}

//----- (0040EC10) --------------------------------------------------------
int __thiscall CPortal::OnLoad(int this)
{
  if ( (*(_DWORD *)(this + 68) & (1 << dword_4E35B8)) != 0 )
  {
    std::list<tagSUBPARTICLES *>::push_back(
      (std::list<tagPARTICLES *> *)&dword_4E0958,
      (tagPARTICLES *const *)(this + 32));
    memset((void *)(this + 32), 0, 0x24u);
    *(_DWORD *)(this + 68) = 0;
  }
  return 1;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (0040EC70) --------------------------------------------------------
int __cdecl CPortal::OpenPortal(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h]
  char v6[4]; // [esp+Ch] [ebp-4h] BYREF

  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
    (std::list<tagPARTICLES *> *)dword_4E0958,
    (std::list<tagPARTICLES *>::iterator *)v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0958, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v6,
            v1) )
      break;
    v5 = sub_40F040(v6);
    if ( PtInRect((const RECT *)(v5 + 4), *(POINT *)(a1 + 324)) )
    {
      CChar::AddGState((volatile LONG *)a1, 4096);
      CPlayer::Teleport((_DWORD *)a1, *(_DWORD *)(v5 + 20), (_DWORD *)(v5 + 24), *(_DWORD *)(v5 + 32), 0);
      return 1;
    }
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)v6, v4, 0);
  }
  return 0;
}

//----- (0040ED20) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::insert(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator,bool> *result, const std::pair<char const * const,CItem *> *_Val)
{
  const char **v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  const char **v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  const char *v10; // [esp-4h] [ebp-3Ch]
  const char *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Wherenode; // [esp+30h] [ebp-8h]
  bool v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_478AB0((int *)this);
  _Wherenode = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *)*((_DWORD *)this + 1);
  v23 = 1;
  while ( !*(_BYTE *)sub_40F060((int)v21) )
  {
    _Wherenode = v21;
    v10 = *(const char **)sub_473500((int)v21);
    v3 = (const char **)sub_474590((int)_Val);
    v23 = iless::operator()((iless *)this, *v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_474590((int)v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_430F90((int)v21);
    v21 = v12;
  }
  sub_446700(v20, (int)_Wherenode);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::_Insert(
             this,
             (std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::iterator *)v17,
             1,
             _Wherenode,
             _Val);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        result,
        v5,
        &v18);
      return result;
    }
    sub_40FCF0(v20);
  }
  v11 = *(const char **)sub_474590((int)_Val);
  v7 = unknown_libname_7(v20);
  v8 = (const char **)sub_473500(v7);
  if ( iless::operator()((iless *)this, *v8, v11) )
  {
    v16 = 1;
    v9 = std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::_Insert(
           this,
           (std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::iterator *)v15,
           v23,
           _Wherenode,
           _Val);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      result,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      result,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return result;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0040EEE0) --------------------------------------------------------
bool __thiscall iless::operator()(iless *this, const char *a, const char *b)
{
  return strcmp(a, b) < 0;
}

//----- (0040EF10) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::find(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result, const char *const *_Keyval)
{
  int v3; // eax
  int v4; // eax
  const char **v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::lower_bound(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12,
    _Keyval);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (const char **)sub_473500(v4), iless::operator()((iless *)this, *_Keyval, *v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *(_DWORD *)result = *(_DWORD *)v7;
  return result;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0040EFA0) --------------------------------------------------------
std::list<tagPARTICLES *>::iterator *__thiscall std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(std::list<tagPARTICLES *> *this, std::list<tagPARTICLES *>::iterator *result)
{
  int *v2; // eax

  v2 = (int *)sub_474590(*((_DWORD *)this + 1));
  sub_446700(result, *v2);
  return result;
}

//----- (0040EFD0) --------------------------------------------------------
CMemory ***__thiscall std::list<tagSUBPARTICLES *>::push_back(std::list<tagPARTICLES *> *this, tagPARTICLES *const *_Val)
{
  int *v2; // eax
  char v5[4]; // [esp+4h] [ebp-4h] BYREF

  v2 = (int *)sub_430C20(this, (int)v5);
  return std::list<tagSUBPARTICLES *>::_Insert(this, *v2, (int)_Val);
}

//----- (0040F000) --------------------------------------------------------
std::pair<int,CPng::Region> *__thiscall std::pair<int,CPng::Region>::pair<int,CPng::Region>(std::pair<int,CPng::Region> *this, const int *_Val1, const CPng::Region *_Val2)
{
  _DWORD *v3; // ecx

  *(_DWORD *)this = *_Val1;
  v3 = (_DWORD *)((char *)this + 4);
  *v3 = *(_DWORD *)_Val2;
  v3[1] = *((_DWORD *)_Val2 + 1);
  v3[2] = *((_DWORD *)_Val2 + 2);
  v3[3] = *((_DWORD *)_Val2 + 3);
  return this;
}

//----- (0040F040) --------------------------------------------------------
int __thiscall sub_40F040(void *this)
{
  return sub_475960((int *)this);
}

//----- (0040F060) --------------------------------------------------------
int __cdecl sub_40F060(int a1)
{
  return a1 + 33;
}

//----- (0040F070) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result)
{
  int *v2; // eax

  v2 = (int *)sub_418790(this);
  sub_446700(result, *v2);
  return result;
}

//----- (0040F0A0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::lower_bound(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result, const char *const *_Keyval)
{
  std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *v3; // eax

  v3 = std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::_Lbound(
         this,
         _Keyval);
  sub_446700(result, (int)v3);
  return result;
}

//----- (0040F0D0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::_Insert(std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> > *this, std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::iterator *result, bool _Addleft, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Wherenode, const std::pair<unsigned long const ,std::string > *_Val)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  int *v31; // eax
  int *v32; // eax
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **v38; // eax
  int *v39; // eax
  std::length_error that; // [esp+8h] [ebp-48h] BYREF
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *v43; // [esp+48h] [ebp-8h]
  CMemory **v44; // [esp+4Ch] [ebp-4h]
  std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node *_Parg; // [esp+60h] [ebp+10h]

  if ( sub_40FE70((int)this) - 1 <= *((_DWORD *)this + 2) )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v5);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  v44 = std::_Tree<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const,KMacro::CStore>>,0>>::_Buynode(
          this,
          *((std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node **)this
          + 1),
          _Wherenode,
          *((std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node **)this
          + 1),
          _Val,
          0);
  ++*((_DWORD *)this + 2);
  if ( _Wherenode == *((std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)this
                     + 1) )
  {
    v6 = (CMemory ***)sub_478AB0((int *)this);
    *v6 = v44;
    v7 = (CMemory ***)sub_418790(this);
    *v7 = v44;
    v8 = (CMemory ***)sub_47EB40((int *)this);
    *v8 = v44;
  }
  else if ( _Addleft )
  {
    v9 = (CMemory ***)sub_474590((int)_Wherenode);
    *v9 = v44;
    if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_418790(this) )
    {
      v10 = (CMemory ***)sub_418790(this);
      *v10 = v44;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_430F90((int)_Wherenode);
    *v11 = v44;
    if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_47EB40((int *)this) )
    {
      v12 = (CMemory ***)sub_47EB40((int *)this);
      *v12 = v44;
    }
  }
  v43 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *)v44;
  while ( 1 )
  {
    v13 = (int *)sub_446FF0((int)v43);
    if ( *(_BYTE *)_tolower(*v13) )
      break;
    v14 = (_DWORD *)sub_446FF0((int)v43);
    v15 = (int *)sub_446FF0((int)v43);
    v16 = (int *)sub_446FF0(*v15);
    if ( *v14 == *(_DWORD *)sub_474590(*v16) )
    {
      v17 = (int *)sub_446FF0((int)v43);
      v18 = (int *)sub_446FF0(*v17);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node **)sub_430F90(*v18);
      if ( !*(_BYTE *)_tolower((int)_Parg) )
        goto LABEL_15;
      v23 = (int *)sub_446FF0((int)v43);
      v24 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_430F90(*v23);
      if ( v43 == *v24 )
      {
        v43 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_446FF0((int)v43);
        std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Rrotate(
          (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
          v43);
      }
      v25 = (int *)sub_446FF0((int)v43);
      *(_BYTE *)_tolower(*v25) = 1;
      v26 = (int *)sub_446FF0((int)v43);
      v27 = (int *)sub_446FF0(*v26);
      *(_BYTE *)_tolower(*v27) = 0;
      v28 = (int *)sub_446FF0((int)v43);
      v29 = (int *)sub_446FF0(*v28);
      sub_410050(this, *v29);
    }
    else
    {
      v30 = (int *)sub_446FF0((int)v43);
      v31 = (int *)sub_446FF0(*v30);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node **)sub_474590(*v31);
      if ( *(_BYTE *)_tolower((int)_Parg) )
      {
        v32 = (int *)sub_446FF0((int)v43);
        v33 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_474590(*v32);
        if ( v43 == *v33 )
        {
          v43 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_446FF0((int)v43);
          sub_410050(this, (int)v43);
        }
        v34 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)_tolower(*v34) = 1;
        v35 = (int *)sub_446FF0((int)v43);
        v36 = (int *)sub_446FF0(*v35);
        *(_BYTE *)_tolower(*v36) = 0;
        v37 = (int *)sub_446FF0((int)v43);
        v38 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_446FF0(*v37);
        std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Rrotate(
          (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
          *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)_tolower(*v19) = 1;
        *(_BYTE *)_tolower((int)_Parg) = 1;
        v20 = (int *)sub_446FF0((int)v43);
        v21 = (int *)sub_446FF0(*v20);
        *(_BYTE *)_tolower(*v21) = 0;
        v22 = (int *)sub_446FF0((int)v43);
        v43 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_446FF0(*v22);
      }
    }
  }
  v39 = (int *)sub_478AB0((int *)this);
  *(_BYTE *)_tolower(*v39) = 1;
  sub_446700(result, (int)v44);
  return result;
}
// 40F108: variable 'v5' is possibly undefined

//----- (0040F510) --------------------------------------------------------
int __thiscall std::exception::_Raise(void *this)
{
  if ( dword_4E2F10 )
    dword_4E2F10(this);
  (*(void (__thiscall **)(void *))(*(_DWORD *)this + 8))(this);
  return _initp_misc_winxfltr();
}
// 4E2F10: using guessed type int (__cdecl *dword_4E2F10)(_DWORD);

//----- (0040F550) --------------------------------------------------------
void __thiscall std::length_error::length_error(std::length_error *this, const std::length_error *that)
{
  std::logic_error::logic_error(this, (const std::string *)that);
  this->__vftable = (std::length_error_vtbl *)&std::length_error::`vftable';
}
// 4D2718: using guessed type int (__stdcall *std::length_error::`vftable')(int);

//----- (0040F580) --------------------------------------------------------
std::logic_error *__thiscall std::logic_error::logic_error(std::logic_error *this, const std::string *_Message)
{
  std::locale::facet::facet((std::locale::facet *)this, (unsigned int)"unknown");
  this->__vftable = (std::logic_error_vtbl *)&off_4D270C;
  std::string::string((std::string *)&this->_m_doFree, _Message);
  return this;
}
// 40F5C0: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4D270C: using guessed type int (__stdcall *off_4D270C)(int);

//----- (0040F610) --------------------------------------------------------
std::locale::facet *__thiscall sub_40F610(std::locale::facet *this, char a2)
{
  std::locale::facet::~facet(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040F640) --------------------------------------------------------
int __thiscall std::locale::facet::~facet(_DWORD *this)
{
  int result; // eax

  result = (int)this;
  *this = &off_4B4FAC;
  return result;
}
// 4B4FAC: using guessed type int (__stdcall *off_4B4FAC)(int);

//----- (0040F660) --------------------------------------------------------
int __thiscall sub_40F660(int this)
{
  return sub_4012D0((void *)(this + 8));
}

//----- (0040F680) --------------------------------------------------------
std::logic_error *__thiscall sub_40F680(std::logic_error *this, char a2)
{
  std::logic_error::~logic_error(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040F6B0) --------------------------------------------------------
void __thiscall std::logic_error::~logic_error(std::logic_error *this)
{
  this->__vftable = (std::logic_error_vtbl *)&off_4D270C;
  sub_40F780(&this->_m_doFree);
  std::locale::facet::~facet(this);
}
// 4D270C: using guessed type int (__stdcall *off_4D270C)(int);

//----- (0040F6E0) --------------------------------------------------------
void __thiscall sub_40F6E0(std::logic_error *this)
{
  *(_DWORD *)this = &std::length_error::`vftable';
  std::logic_error::~logic_error(this);
}
// 4D2718: using guessed type int (__stdcall *std::length_error::`vftable')(int);

//----- (0040F700) --------------------------------------------------------
std::logic_error *__thiscall sub_40F700(std::logic_error *this, char a2)
{
  sub_40F6E0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0040F730) --------------------------------------------------------
std::string *__thiscall std::string::string(std::string *this, const std::string *_Right)
{
  char v3; // [esp-4h] [ebp-Ch]

  v3 = (char)this;
  std::_Init_locks::operator=(_Right);
  sub_44F7C0(this, v3);
  std::string::_Tidy((int)this, 0, 0);
  std::string::assign(this, _Right, 0, 0xFFFFFFFF);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (0040F780) --------------------------------------------------------
void __thiscall sub_40F780(void *this)
{
  std::string::_Tidy((int)this, 1, 0);
}

//----- (0040F7A0) --------------------------------------------------------
std::string *__thiscall std::string::assign(std::string *this, const std::string *_Right, unsigned int _Roff, unsigned int _Count)
{
  int v4; // eax
  void *v5; // eax
  void *v7; // [esp-8h] [ebp-10h]
  size_t v8; // [esp-4h] [ebp-Ch]
  size_t _Newsize; // [esp+4h] [ebp-4h]

  if ( unknown_libname_4(_Right) < _Roff )
    std::_String_base::_Xran(this);
  _Newsize = unknown_libname_4(_Right) - _Roff;
  if ( _Count < _Newsize )
    _Newsize = _Count;
  if ( this == _Right )
  {
    std::string::erase(this, _Newsize + _Roff, Count);
    std::string::erase(this, 0, _Roff);
  }
  else if ( std::string::_Grow(this, _Newsize, 0) )
  {
    v4 = unknown_libname_1(_Right, _Newsize);
    v5 = (void *)unknown_libname_1(this, _Roff + v4);
    std::char_traits<char>::copy(v5, v7, v8);
    std::string::_Eos(this, _Newsize);
  }
  return this;
}
// 40F835: variable 'v7' is possibly undefined
// 40F835: variable 'v8' is possibly undefined
// 4012F0: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);
// 40F880: using guessed type int __thiscall unknown_libname_4(_DWORD);

//----- (0040F8A0) --------------------------------------------------------
void __thiscall std::string::_Tidy(int this, char a2, size_t Size)
{
  void *v4; // [esp+4h] [ebp-4h]

  if ( a2 && *(_DWORD *)(this + 24) >= 0x10u )
  {
    v4 = *(void **)(this + 4);
    if ( Size )
      std::char_traits<char>::copy((void *)(this + 4), v4, Size);
    sub_4338F0(v4, *(_DWORD *)(this + 24) + 1);
  }
  *(_DWORD *)(this + 24) = 15;
  std::string::_Eos((std::string *)this, Size);
}

//----- (0040F920) --------------------------------------------------------
std::string *__thiscall std::string::erase(std::string *this, unsigned int _Off, unsigned int _Count)
{
  int v3; // eax
  int v4; // eax
  void *v6; // [esp-8h] [ebp-10h]
  size_t v7; // [esp-4h] [ebp-Ch]

  if ( *((_DWORD *)this + 5) < _Off )
    std::_String_base::_Xran(this);
  if ( *((_DWORD *)this + 5) - _Off < _Count )
    _Count = *((_DWORD *)this + 5) - _Off;
  if ( _Count )
  {
    v3 = unknown_libname_1(this, *((_DWORD *)this + 5) - _Off - _Count);
    v4 = unknown_libname_1(this, _Count + _Off + v3);
    sub_40F9B0((void *)(_Off + v4), v6, v7);
    std::string::_Eos(this, *((_DWORD *)this + 5) - _Count);
  }
  return this;
}
// 40F984: variable 'v6' is possibly undefined
// 40F984: variable 'v7' is possibly undefined
// 4012F0: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);

//----- (0040F9B0) --------------------------------------------------------
void *__cdecl sub_40F9B0(void *a1, void *a2, size_t a3)
{
  return memcpy_0(a1, a2, a3);
}

//----- (0040F9D0) --------------------------------------------------------
int __thiscall std::string::_Eos(std::string *this, unsigned int _Newsize)
{
  int v2; // eax
  int v4; // [esp-4h] [ebp-Ch]
  char v5; // [esp+7h] [ebp-1h] BYREF

  v5 = 0;
  *((_DWORD *)this + 5) = _Newsize;
  v2 = unknown_libname_1(this, &v5);
  return std::char_traits<char>::assign(_Newsize + v2, v4);
}
// 40F9F6: variable 'v4' is possibly undefined
// 4012F0: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);
// 40FA10: using guessed type _DWORD __cdecl std::char_traits<char>::assign(_DWORD, _DWORD);

//----- (0040FA20) --------------------------------------------------------
BOOL __thiscall std::string::_Grow(std::string *this, unsigned int _Newsize, bool _Trim)
{
  unsigned int Size; // [esp+0h] [ebp-8h]

  if ( unknown_libname_25(this) < _Newsize )
    sub_49F289();
  if ( this->_Myres >= _Newsize )
  {
    if ( _Trim && _Newsize < 0x10 )
    {
      if ( _Newsize >= this->_Mysize )
        Size = this->_Mysize;
      else
        Size = _Newsize;
      std::string::_Tidy((int)this, 1, Size);
    }
    else if ( !_Newsize )
    {
      std::string::_Eos(this, 0);
    }
  }
  else
  {
    std::string::_Copy(this, _Newsize, this->_Mysize);
  }
  return _Newsize != 0;
}
// 40FAC0: using guessed type int __thiscall unknown_libname_25(_DWORD);

//----- (0040FB00) --------------------------------------------------------
int __thiscall std::string::_Copy(std::string *this, unsigned int _Newsize, unsigned int _Oldlen)
{
  void *v3; // eax
  size_t v5; // [esp-4h] [ebp-10h]
  unsigned int v7; // [esp+4h] [ebp-8h]
  CMemory **v8; // [esp+8h] [ebp-4h]

  v7 = _Newsize | 0xF;
  if ( unknown_libname_25(this) >= (_Newsize | 0xF) )
  {
    if ( v7 / 3 < this->_Myres >> 1 && this->_Myres <= unknown_libname_25(this) - (this->_Myres >> 1) )
      v7 = this->_Myres + (this->_Myres >> 1);
  }
  else
  {
    v7 = _Newsize;
  }
  v8 = sub_40FC00(v7 + 1);
  if ( _Oldlen )
  {
    v3 = (void *)unknown_libname_1(this, _Oldlen);
    std::char_traits<char>::copy(v8, v3, v5);
  }
  std::string::_Tidy((int)this, 1, 0);
  this->_Bx._Ptr = (char *)v8;
  this->_Myres = v7;
  return std::string::_Eos(this, _Oldlen);
}
// 40FBBF: variable 'v5' is possibly undefined
// 4012F0: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);
// 40FAC0: using guessed type int __thiscall unknown_libname_25(_DWORD);

//----- (0040FC00) --------------------------------------------------------
CMemory **__stdcall sub_40FC00(size_t a1)
{
  return sub_40FC50(a1);
}

//----- (0040FC50) --------------------------------------------------------
CMemory **__cdecl sub_40FC50(size_t a1)
{
  return sub_401000(a1);
}

//----- (0040FC70) --------------------------------------------------------
CMemory ***__thiscall std::list<tagSUBPARTICLES *>::_Insert(std::list<tagPARTICLES *> *this, int a2, int a3)
{
  int *v3; // eax
  int *v4; // eax
  CMemory ***result; // eax
  int v6; // [esp-4h] [ebp-10h]
  int v8; // [esp+4h] [ebp-8h]
  CMemory **v9; // [esp+8h] [ebp-4h]

  v8 = unknown_libname_7(&a2);
  v6 = a3;
  v3 = (int *)sub_446FF0(v8);
  v9 = sub_410210(v8, *v3, v6);
  std::list<tagSUBPARTICLES *>::_Incsize(this, 1u);
  *(_DWORD *)sub_446FF0(v8) = v9;
  v4 = (int *)sub_446FF0((int)v9);
  result = (CMemory ***)sub_474590(*v4);
  *result = v9;
  return result;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0040FCF0) --------------------------------------------------------
void *__thiscall sub_40FCF0(void *this)
{
  sub_410310((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *)this);
  return this;
}

//----- (0040FD10) --------------------------------------------------------
std::vector<IPAddrMask> *__thiscall std::string::string(std::vector<IPAddrMask> *this, char *Str)
{
  std::vector<IPAddrMask> *v3; // [esp-4h] [ebp-Ch] BYREF
  std::vector<IPAddrMask> *v4; // [esp+0h] [ebp-8h]

  v4 = this;
  v3 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v3);
  sub_44F7C0(v4, (char)v3);
  std::string::_Tidy((int)v4, 0, 0);
  std::vector<IPAddrMask>::capacity(v4, Str);
  return v4;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0040FD50) --------------------------------------------------------
std::string *__thiscall std::vector<IPAddrMask>::capacity(std::vector<IPAddrMask> *this, char *a2)
{
  size_t v2; // eax

  v2 = std::char_traits<char>::length(a2);
  return std::string::assign((std::string *)this, a2, v2);
}

//----- (0040FDA0) --------------------------------------------------------
std::string *__thiscall std::string::assign(std::string *this, void *Src, size_t Size)
{
  int v3; // eax
  std::string *result; // eax
  void *v5; // eax
  void *v6; // [esp-8h] [ebp-Ch]
  unsigned int v7; // [esp-4h] [ebp-8h]

  if ( std::string::_Inside(this, (const char *)Src) )
  {
    v3 = unknown_libname_1(this, Size);
    result = std::string::assign(this, this, (unsigned int)Src - v3, v7);
  }
  else
  {
    if ( std::string::_Grow(this, Size, 0) )
    {
      v5 = (void *)unknown_libname_1(this, Src);
      std::char_traits<char>::copy(v5, v6, Size);
      std::string::_Eos(this, Size);
    }
    result = this;
  }
  return result;
}
// 40FDD3: variable 'v7' is possibly undefined
// 40FE00: variable 'v6' is possibly undefined
// 4012F0: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);

//----- (0040FE20) --------------------------------------------------------
bool __thiscall std::string::_Inside(std::string *this, const char *_Ptr)
{
  int v2; // eax
  bool result; // al
  int v4; // [esp+0h] [ebp-4h]
  int v5; // [esp+0h] [ebp-4h]

  result = 0;
  if ( (unsigned int)_Ptr >= unknown_libname_1(this, this) )
  {
    v2 = unknown_libname_1(v4, v4);
    if ( *(_DWORD *)(v5 + 20) + v2 > (unsigned int)_Ptr )
      result = 1;
  }
  return result;
}
// 40FE37: variable 'v4' is possibly undefined
// 40FE3F: variable 'v5' is possibly undefined
// 4012F0: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);

//----- (0040FE70) --------------------------------------------------------
unsigned int __thiscall sub_40FE70(int this)
{
  return std::allocator<KMiniMapSystem::CMinimapTile>::max_size((std::allocator<OVERLAY_CONTAINER> *)(this + 3));
}

//----- (0040FE90) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::_Lbound(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, const char *const *_Keyval)
{
  const char **v2; // eax
  const char *v4; // [esp-4h] [ebp-10h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v6 = *(_DWORD *)sub_478AB0((int *)this);
  v7 = *((_DWORD *)this + 1);
  while ( !*(_BYTE *)sub_40F060(v6) )
  {
    v4 = *_Keyval;
    v2 = (const char **)sub_473500(v6);
    if ( iless::operator()((iless *)this, *v2, v4) )
    {
      v6 = *(_DWORD *)sub_430F90(v6);
    }
    else
    {
      v7 = v6;
      v6 = *(_DWORD *)sub_474590(v6);
    }
  }
  return (std::_Tree_nod<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::_Node *)v7;
}

//----- (0040FF20) --------------------------------------------------------
int *__thiscall std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Rrotate(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *_Wherenode)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_430F90((int)_Wherenode);
  v2 = (_DWORD *)sub_474590(v11);
  *(_DWORD *)sub_430F90((int)_Wherenode) = *v2;
  v3 = (int *)sub_474590(v11);
  if ( !*(_BYTE *)sub_40F060(*v3) )
  {
    v4 = (int *)sub_474590(v11);
    *(_DWORD *)sub_446FF0(*v4) = _Wherenode;
  }
  v5 = (_DWORD *)sub_446FF0((int)_Wherenode);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0((int)_Wherenode);
    if ( _Wherenode == *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_474590(*v6) )
    {
      v7 = (int *)sub_446FF0((int)_Wherenode);
      *(_DWORD *)sub_474590(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0((int)_Wherenode);
      *(_DWORD *)sub_430F90(*v8) = v11;
    }
  }
  *(_DWORD *)sub_474590(v11) = _Wherenode;
  result = (int *)sub_446FF0((int)_Wherenode);
  *result = v11;
  return result;
}

//----- (00410050) --------------------------------------------------------
int *__thiscall sub_410050(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_474590(a2);
  v2 = (_DWORD *)sub_430F90(v11);
  *(_DWORD *)sub_474590(a2) = *v2;
  v3 = (int *)sub_430F90(v11);
  if ( !*(_BYTE *)sub_40F060(*v3) )
  {
    v4 = (int *)sub_430F90(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_430F90(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v8) = v11;
    }
  }
  *(_DWORD *)sub_430F90(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (00410180) --------------------------------------------------------
CMemory **__thiscall std::_Tree<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const,KMacro::CStore>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CStore,std::less<int>,std::allocator<std::pair<int const ,KMacro::CStore> >,0> >::_Node *_Rarg, const std::pair<int const ,KMacro::CStore> *_Val, char _Carg)
{
  std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *v7; // [esp+8h] [ebp-8h]
  CMemory **v8; // [esp+Ch] [ebp-4h]

  v8 = sub_410360(1);
  v7 = (std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *)operator new(0x24u, v8);
  if ( v7 )
    std::_Tree_nod<std::_Tmap_traits<int,KMacro::CodeInfo,std::less<int>,std::allocator<std::pair<int const,KMacro::CodeInfo>>,0>>::_Node::_Node(
      v7,
      _Larg,
      _Parg,
      _Rarg,
      _Val,
      _Carg);
  return v8;
}

//----- (00410210) --------------------------------------------------------
CMemory **__stdcall sub_410210(int a1, int a2, int a3)
{
  std::allocator<PORTAL> *v4; // [esp+8h] [ebp-8h]
  CMemory **v5; // [esp+Ch] [ebp-4h]

  v5 = sub_4102F0(1);
  v4 = (std::allocator<PORTAL> *)operator new(0x2Cu, v5);
  if ( v4 )
    std::allocator<std::pair<int const,STALLITEMINFO>>::max_size(v4, a1, a2, (const void *)a3);
  return v5;
}

//----- (00410280) --------------------------------------------------------
std::list<tagPARTICLES *> *__thiscall std::list<tagSUBPARTICLES *>::_Incsize(std::list<tagPARTICLES *> *this, unsigned int _Count)
{
  void *v2; // eax
  std::list<tagPARTICLES *> *result; // eax
  std::length_error that; // [esp+4h] [ebp-40h] BYREF

  if ( sub_410380((int)this) - *((_DWORD *)this + 2) < _Count )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "list<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v2);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  result = this;
  *((_DWORD *)this + 2) += _Count;
  return result;
}
// 4102B7: variable 'v2' is possibly undefined

//----- (004102F0) --------------------------------------------------------
CMemory **__stdcall sub_4102F0(int a1)
{
  return sub_410560(a1);
}

//----- (00410310) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_410310(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::const_iterator::_Dec(this);
  return this;
}

//----- (00410330) --------------------------------------------------------
unsigned int __thiscall std::allocator<KMiniMapSystem::CMinimapTile>::max_size(std::allocator<OVERLAY_CONTAINER> *this)
{
  return 214748364;
}

//----- (00410360) --------------------------------------------------------
CMemory **__stdcall sub_410360(int a1)
{
  return sub_410580(a1);
}

//----- (00410380) --------------------------------------------------------
unsigned int __thiscall sub_410380(int this)
{
  return std::allocator<LayerInfo>::max_size((std::allocator<KGuildSystem::CGuildMember> *)(this + 2));
}

//----- (004103A0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::const_iterator::_Dec(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::iterator *result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_40F060(*(_DWORD *)this) )
  {
    result = *(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::iterator **)sub_430F90(*(_DWORD *)this);
    *(_DWORD *)this = result;
  }
  else
  {
    v2 = (int *)sub_474590(*(_DWORD *)this);
    if ( *(_BYTE *)sub_40F060(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*(_DWORD *)this);
        if ( *(_BYTE *)sub_40F060(v5) || *(_DWORD *)this != *(_DWORD *)sub_474590(v5) )
          break;
        *(_DWORD *)this = v5;
      }
      result = (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::iterator *)*(char *)sub_40F060(v5);
      if ( !result )
        *(_DWORD *)this = v5;
    }
    else
    {
      v3 = (int *)sub_474590(*(_DWORD *)this);
      result = std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::iterator::operator++(*v3);
      *(_DWORD *)this = result;
    }
  }
  return result;
}

//----- (00410480) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<int,KMacro::CodeInfo,std::less<int>,std::allocator<std::pair<int const,KMacro::CodeInfo>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,CPng::Region,std::less<int>,std::allocator<std::pair<int const ,CPng::Region> >,0> >::_Node *_Rarg, const std::pair<int const ,CPng::Region> *_Val, char _Carg)
{
  _DWORD *v6; // ecx

  *(_DWORD *)this = _Larg;
  *((_DWORD *)this + 1) = _Parg;
  *((_DWORD *)this + 2) = _Rarg;
  v6 = (_DWORD *)((char *)this + 12);
  *v6 = *(_DWORD *)_Val;
  v6[1] = *((_DWORD *)_Val + 1);
  v6[2] = *((_DWORD *)_Val + 2);
  v6[3] = *((_DWORD *)_Val + 3);
  v6[4] = *((_DWORD *)_Val + 4);
  *((_BYTE *)this + 32) = _Carg;
  *((_BYTE *)this + 33) = 0;
  return this;
}

//----- (004104E0) --------------------------------------------------------
std::allocator<PORTAL> *__thiscall std::allocator<std::pair<int const,STALLITEMINFO>>::max_size(std::allocator<PORTAL> *this, int a2, int a3, const void *a4)
{
  *(_DWORD *)this = a2;
  *((_DWORD *)this + 1) = a3;
  qmemcpy((char *)this + 8, a4, 0x24u);
  return this;
}

//----- (00410520) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::iterator *__cdecl std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::iterator::operator++(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_430F90(a1);
    if ( *(_BYTE *)sub_40F060(*v1) )
      break;
    a1 = *(_DWORD *)sub_430F90(a1);
  }
  return (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::iterator *)a1;
}

//----- (00410560) --------------------------------------------------------
CMemory **__cdecl sub_410560(int a1)
{
  return sub_401000(44 * a1);
}

//----- (00410580) --------------------------------------------------------
CMemory **__cdecl sub_410580(int a1)
{
  return sub_401000(36 * a1);
}

//----- (004105A0) --------------------------------------------------------
std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> > > *__thiscall std::map<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>>::map<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>>(std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> > > *this)
{
  const std::allocator<std::pair<char const * const,CItem *> > *v1; // eax
  iless v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>(
    this,
    &v4,
    v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004105D0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, const iless *_Parg, const std::allocator<std::pair<char const * const,CItem *> > *_Al)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(_Al);
  std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)_Parg,
    v4);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Init(this);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (00410610) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Init(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *result; // eax

  *((_DWORD *)this + 1) = std::_Tree<std::_Tmap_traits<std::string,KMacro::CSkill *,std::less<std::string>,std::allocator<std::pair<std::string const,KMacro::CSkill *>>,0>>::_Buynode(this);
  *(_BYTE *)sub_40F060(*((_DWORD *)this + 1)) = 1;
  *(_DWORD *)sub_478AB0((int *)this) = *((_DWORD *)this + 1);
  *(_DWORD *)sub_418790(this) = *((_DWORD *)this + 1);
  *(_DWORD *)sub_47EB40((int *)this) = *((_DWORD *)this + 1);
  result = this;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00410680) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<std::string,KMacro::CSkill *,std::less<std::string>,std::allocator<std::pair<std::string const,KMacro::CSkill *>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> > *this)
{
  void *v1; // eax
  void *v2; // eax
  void *v3; // eax
  int v5; // [esp+4h] [ebp-14h] BYREF
  int v6; // [esp+8h] [ebp-10h] BYREF
  int v7; // [esp+Ch] [ebp-Ch] BYREF
  int v8; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h]

  v8 = (int)sub_410360(1);
  v9 = 0;
  v7 = 0;
  v1 = (void *)sub_474590(v8);
  sub_42F9B0(v1, (int)&v7);
  ++v9;
  v6 = 0;
  v2 = (void *)sub_446FF0(v8);
  sub_42F9B0(v2, (int)&v6);
  ++v9;
  v5 = 0;
  v3 = (void *)sub_430F90(v8);
  sub_42F9B0(v3, (int)&v5);
  *(_BYTE *)_tolower(v8) = 1;
  *(_BYTE *)sub_40F060(v8) = 0;
  return (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *)v8;
}

//----- (004107A0) --------------------------------------------------------
std::list<tagPARTICLES *> *__thiscall std::list<tagSUBPARTICLES *>::list<tagSUBPARTICLES *>(std::list<tagPARTICLES *> *this)
{
  std::_List_nod<tagPARTICLES *>::_Node *v1; // eax
  std::list<tagPARTICLES *> *v3; // [esp-4h] [ebp-Ch] BYREF
  std::list<tagPARTICLES *> *v4; // [esp+0h] [ebp-8h]

  v4 = this;
  v3 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v3);
  std::_List_val<std::pair<int const,IDirect3DTexture9 *>>::_List_val<std::pair<int const,IDirect3DTexture9 *>>(
    v4,
    (char)v3);
  v1 = std::list<tagPARTICLES *>::_Buynode(v4);
  *((_DWORD *)v4 + 1) = v1;
  *((_DWORD *)v4 + 2) = 0;
  return v4;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004107E0) --------------------------------------------------------
std::_List_nod<tagPARTICLES *>::_Node *__thiscall std::list<tagPARTICLES *>::_Buynode(std::list<tagPARTICLES *> *this)
{
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-8h] BYREF
  int v5; // [esp+8h] [ebp-4h]

  v4 = (int)sub_4102F0(1);
  v5 = 0;
  v1 = (void *)sub_474590(v4);
  sub_42F9B0(v1, (int)&v4);
  ++v5;
  v2 = (void *)sub_446FF0(v4);
  sub_42F9B0(v2, (int)&v4);
  return (std::_List_nod<tagPARTICLES *>::_Node *)v4;
}

//----- (00410880) --------------------------------------------------------
int __thiscall sub_410880(void *this)
{
  return sub_4108A0((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (004108A0) --------------------------------------------------------
int __thiscall sub_4108A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  return std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tidy(this);
}

//----- (004108C0) --------------------------------------------------------
int __thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tidy(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6._Myptr = *(CIOSocket::CIOTimer **)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::erase(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00410970) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::erase(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, std::vector<CIOSocket::CIOTimer>::const_iterator a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::clear(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              &a4) )
    {
      v7 = (int *)std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::iterator::operator++(
                    (std::vector<std::string>::iterator *)&a3,
                    (std::vector<std::string>::iterator *)v10,
                    0);
      std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::erase(
        this,
        v9,
        *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00410A10) --------------------------------------------------------
_DWORD *__thiscall std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::erase(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  std::logic_error *v4; // eax
  int *v5; // eax
  int *v6; // eax
  unsigned int *v7; // eax
  _DWORD *v8; // eax
  int *v9; // eax
  _DWORD *v10; // eax
  int *v11; // eax
  _DWORD *v12; // eax
  _DWORD *v13; // eax
  int *v14; // eax
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **v15; // eax
  _DWORD *v16; // esi
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **v17; // eax
  unsigned int *v18; // eax
  int *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **v22; // eax
  _DWORD *v23; // eax
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **v24; // eax
  int *v25; // eax
  _DWORD *v26; // eax
  int *v27; // eax
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  _DWORD *v32; // eax
  _DWORD *v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  unsigned int v48; // [esp+4h] [ebp-5Ch]
  unsigned int v49; // [esp+8h] [ebp-58h]
  std::string v51; // [esp+10h] [ebp-50h] BYREF
  std::logic_error v52; // [esp+2Ch] [ebp-34h] BYREF
  std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *v53; // [esp+54h] [ebp-Ch]
  int v54; // [esp+58h] [ebp-8h]
  int v55; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_7(&a3);
  if ( *(_BYTE *)sub_40F060(v3) )
  {
    std::string::string((std::vector<IPAddrMask> *)&v51, "invalid map/set<T> iterator");
    v4 = sub_4111A0(&v52, &v51);
    std::exception::_Raise(v4);
    sub_4111D0(&v52);
    sub_40F780(&v51);
  }
  v55 = unknown_libname_7(&a3);
  sub_411370(&a3);
  v53 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *)v55;
  v5 = (int *)sub_474590(v55);
  if ( *(_BYTE *)sub_40F060(*v5) )
  {
    v54 = *(_DWORD *)sub_430F90((int)v53);
  }
  else
  {
    v6 = (int *)sub_430F90((int)v53);
    if ( *(_BYTE *)sub_40F060(*v6) )
    {
      v54 = *(_DWORD *)sub_474590((int)v53);
    }
    else
    {
      v53 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *)unknown_libname_7(&a3);
      v54 = *(_DWORD *)sub_430F90((int)v53);
    }
  }
  if ( v53 == (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *)v55 )
  {
    v52._Str._Myres = *(_DWORD *)sub_446FF0(v55);
    if ( !*(_BYTE *)sub_40F060(v54) )
    {
      v7 = (unsigned int *)sub_446FF0(v54);
      *v7 = v52._Str._Myres;
    }
    v8 = (_DWORD *)sub_478AB0(this);
    if ( *v8 == v55 )
    {
      v9 = (int *)sub_478AB0(this);
      *v9 = v54;
    }
    else
    {
      v10 = (_DWORD *)sub_474590(v52._Str._Myres);
      if ( *v10 == v55 )
        v11 = (int *)sub_474590(v52._Str._Myres);
      else
        v11 = (int *)sub_430F90(v52._Str._Myres);
      *v11 = v54;
    }
    v12 = (_DWORD *)sub_418790(this);
    if ( *v12 == v55 )
    {
      if ( *(_BYTE *)sub_40F060(v54) )
        v49 = v52._Str._Myres;
      else
        v49 = sub_411330(v54);
      *(_DWORD *)sub_418790(this) = v49;
    }
    v13 = (_DWORD *)sub_47EB40(this);
    if ( *v13 == v55 )
    {
      if ( *(_BYTE *)sub_40F060(v54) )
        v48 = v52._Str._Myres;
      else
        v48 = (unsigned int)std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::iterator::operator++(v54);
      *(_DWORD *)sub_47EB40(this) = v48;
    }
  }
  else
  {
    v14 = (int *)sub_474590(v55);
    v15 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_446FF0(*v14);
    *v15 = v53;
    v16 = (_DWORD *)sub_474590(v55);
    *(_DWORD *)sub_474590((int)v53) = *v16;
    v17 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_430F90(v55);
    if ( v53 == *v17 )
    {
      v52._Str._Myres = (unsigned int)v53;
    }
    else
    {
      v52._Str._Myres = *(_DWORD *)sub_446FF0((int)v53);
      if ( !*(_BYTE *)sub_40F060(v54) )
      {
        v18 = (unsigned int *)sub_446FF0(v54);
        *v18 = v52._Str._Myres;
      }
      v19 = (int *)sub_474590(v52._Str._Myres);
      *v19 = v54;
      v20 = (_DWORD *)sub_430F90(v55);
      *(_DWORD *)sub_430F90((int)v53) = *v20;
      v21 = (int *)sub_430F90(v55);
      v22 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_446FF0(*v21);
      *v22 = v53;
    }
    v23 = (_DWORD *)sub_478AB0(this);
    if ( *v23 == v55 )
    {
      v24 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_478AB0(this);
      *v24 = v53;
    }
    else
    {
      v25 = (int *)sub_446FF0(v55);
      v26 = (_DWORD *)sub_474590(*v25);
      if ( *v26 == v55 )
      {
        v27 = (int *)sub_446FF0(v55);
        v28 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_474590(*v27);
      }
      else
      {
        v29 = (int *)sub_446FF0(v55);
        v28 = (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_430F90(*v29);
      }
      *v28 = v53;
    }
    v30 = (_DWORD *)sub_446FF0(v55);
    *(_DWORD *)sub_446FF0((int)v53) = *v30;
    v47 = (char *)_tolower(v55);
    v31 = (char *)_tolower((int)v53);
    std::swap<unsigned char>(v31, v47);
  }
  if ( *(_BYTE *)_tolower(v55) == 1 )
  {
    while ( 1 )
    {
      v32 = (_DWORD *)sub_478AB0(this);
      if ( v54 == *v32 || *(_BYTE *)_tolower(v54) != 1 )
      {
LABEL_65:
        *(_BYTE *)_tolower(v54) = 1;
        goto LABEL_66;
      }
      v33 = (_DWORD *)sub_474590(v52._Str._Myres);
      if ( v54 == *v33 )
        break;
      v53 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_474590(v52._Str._Myres);
      if ( !*(_BYTE *)_tolower((int)v53) )
      {
        *(_BYTE *)_tolower((int)v53) = 1;
        *(_BYTE *)_tolower(v52._Str._Myres) = 0;
        sub_410050(this, v52._Str._Myres);
        v53 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_474590(v52._Str._Myres);
      }
      if ( !*(_BYTE *)sub_40F060((int)v53) )
      {
        v40 = (int *)sub_430F90((int)v53);
        if ( *(_BYTE *)_tolower(*v40) != 1 || (v41 = (int *)sub_474590((int)v53), *(_BYTE *)_tolower(*v41) != 1) )
        {
          v42 = (int *)sub_474590((int)v53);
          if ( *(_BYTE *)_tolower(*v42) == 1 )
          {
            v43 = (int *)sub_430F90((int)v53);
            *(_BYTE *)_tolower(*v43) = 1;
            *(_BYTE *)_tolower((int)v53) = 0;
            std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Rrotate(
              (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
              v53);
            v53 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_474590(v52._Str._Myres);
          }
          v44 = (_BYTE *)_tolower(v52._Str._Myres);
          *(_BYTE *)_tolower((int)v53) = *v44;
          *(_BYTE *)_tolower(v52._Str._Myres) = 1;
          v45 = (int *)sub_474590((int)v53);
          *(_BYTE *)_tolower(*v45) = 1;
          sub_410050(this, v52._Str._Myres);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)_tolower((int)v53) = 0;
        v54 = v52._Str._Myres;
        goto LABEL_42;
      }
      v54 = v52._Str._Myres;
LABEL_42:
      v52._Str._Myres = *(_DWORD *)sub_446FF0(v54);
    }
    v53 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_430F90(v52._Str._Myres);
    if ( !*(_BYTE *)_tolower((int)v53) )
    {
      *(_BYTE *)_tolower((int)v53) = 1;
      *(_BYTE *)_tolower(v52._Str._Myres) = 0;
      std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Rrotate(
        (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
        (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *)v52._Str._Myres);
      v53 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_430F90(v52._Str._Myres);
    }
    if ( *(_BYTE *)sub_40F060((int)v53) )
    {
      v54 = v52._Str._Myres;
      goto LABEL_42;
    }
    v34 = (int *)sub_474590((int)v53);
    if ( *(_BYTE *)_tolower(*v34) != 1 || (v35 = (int *)sub_430F90((int)v53), *(_BYTE *)_tolower(*v35) != 1) )
    {
      v36 = (int *)sub_430F90((int)v53);
      if ( *(_BYTE *)_tolower(*v36) == 1 )
      {
        v37 = (int *)sub_474590((int)v53);
        *(_BYTE *)_tolower(*v37) = 1;
        *(_BYTE *)_tolower((int)v53) = 0;
        sub_410050(this, (int)v53);
        v53 = *(std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node **)sub_430F90(v52._Str._Myres);
      }
      v38 = (_BYTE *)_tolower(v52._Str._Myres);
      *(_BYTE *)_tolower((int)v53) = *v38;
      *(_BYTE *)_tolower(v52._Str._Myres) = 1;
      v39 = (int *)sub_430F90((int)v53);
      *(_BYTE *)_tolower(*v39) = 1;
      std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Rrotate(
        (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
        (std::_Tree_nod<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> >::_Node *)v52._Str._Myres);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_44CD70(v55);
  sub_4338F0((void *)v55, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (004111A0) --------------------------------------------------------
std::logic_error *__thiscall sub_4111A0(std::logic_error *this, const std::string *a2)
{
  std::logic_error::logic_error(this, a2);
  this->__vftable = (std::logic_error_vtbl *)&std::out_of_range::`vftable';
  return this;
}
// 4D2724: using guessed type int (__stdcall *std::out_of_range::`vftable')(int);

//----- (004111D0) --------------------------------------------------------
void __thiscall sub_4111D0(std::logic_error *this)
{
  this->__vftable = (std::logic_error_vtbl *)&std::out_of_range::`vftable';
  std::logic_error::~logic_error(this);
}
// 4D2724: using guessed type int (__stdcall *std::out_of_range::`vftable')(int);

//----- (004111F0) --------------------------------------------------------
std::logic_error *__thiscall sub_4111F0(std::logic_error *this, char a2)
{
  sub_4111D0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00411220) --------------------------------------------------------
_DWORD *__thiscall std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::clear(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0((int *)this);
  std::vector<IPAddrMask>::max_size(this, *v1);
  *(_DWORD *)sub_478AB0((int *)this) = *((_DWORD *)this + 1);
  *((_DWORD *)this + 2) = 0;
  *(_DWORD *)sub_418790(this) = *((_DWORD *)this + 1);
  result = (_DWORD *)sub_47EB40((int *)this);
  *result = *((_DWORD *)this + 1);
  return result;
}

//----- (00411280) --------------------------------------------------------
std::vector<std::string>::iterator *__thiscall std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::iterator::operator++(std::vector<std::string>::iterator *this, std::vector<std::string>::iterator *result, int __formal)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *(_DWORD *)this;
  sub_411370(this);
  *(_DWORD *)result = v4;
  return result;
}

//----- (004112B0) --------------------------------------------------------
unsigned int __thiscall std::vector<IPAddrMask>::max_size(std::vector<IPAddrMask> *this, int a2)
{
  unsigned int result; // eax
  int *v3; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a2; ; a2 = i )
  {
    result = *(char *)sub_40F060(i);
    if ( result )
      break;
    v3 = (int *)sub_430F90(i);
    std::vector<IPAddrMask>::max_size(this, *v3);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a2);
    sub_4338F0((void *)a2, 1);
  }
  return result;
}

//----- (00411330) --------------------------------------------------------
int __cdecl sub_411330(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_474590(a1);
    if ( *(_BYTE *)sub_40F060(*v1) )
      break;
    a1 = *(_DWORD *)sub_474590(a1);
  }
  return a1;
}

//----- (00411370) --------------------------------------------------------
void *__thiscall sub_411370(void *this)
{
  sub_411390((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *)this);
  return this;
}

//----- (00411390) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *__thiscall sub_411390(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::const_iterator::_Inc(this);
  return this;
}

//----- (004113B0) --------------------------------------------------------
int __thiscall std::_Tree<std::_Tmap_traits<char const *,CLogin *,StrCmp,std::allocator<std::pair<char const * const,CLogin *>>,0>>::const_iterator::_Inc(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::const_iterator *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_40F060(*(_DWORD *)this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_430F90(*(_DWORD *)this);
    if ( *(_BYTE *)sub_40F060(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*(_DWORD *)this);
        result = *(char *)sub_40F060(v5);
        if ( result )
          break;
        result = sub_430F90(v5);
        if ( *(_DWORD *)this != *(_DWORD *)result )
          break;
        *(_DWORD *)this = v5;
      }
      *(_DWORD *)this = v5;
    }
    else
    {
      v3 = (int *)sub_430F90(*(_DWORD *)this);
      result = sub_411330(*v3);
      *(_DWORD *)this = result;
    }
  }
  return result;
}

//----- (00411470) --------------------------------------------------------
char __cdecl std::swap<unsigned char>(char *_Left, char *_Right)
{
  char result; // al
  char v3; // [esp+3h] [ebp-1h]

  v3 = *_Left;
  *_Left = *_Right;
  result = v3;
  *_Right = v3;
  return result;
}

//----- (004114A0) --------------------------------------------------------
CGuild *__thiscall CGuild::CGuild(CGuild *this)
{
  char *v1; // eax
  char *v2; // eax
  char *v3; // eax
  char *v4; // eax
  char *v5; // eax
  char *v6; // eax

  CBase::CBase((int)this);
  this->__vftable = (CGuild_vtbl *)&off_4B4FF0;
  std::map<int,CSocket *>::map<int,CSocket *>((std::map<unsigned long,std::list<_tagGameRoomInfo *> *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::list<_tagGameRoomInfo *> *> > > *)&this->m_cGuildMemberMap);
  this->m_nPlayerRef = 0;
  this->m_nMemberRef = 0;
  this->m_nTempRef = 0;
  memset(this->m_szName, 0, sizeof(this->m_szName));
  this->m_nPoint = 0;
  this->m_nExp = 0;
  this->m_nPenaltyLevel = 1;
  this->m_nStandard = 0;
  this->m_nTotalTax = 0;
  v1 = GetStr(912);
  strcpy(this->m_szLeader, v1);
  v2 = GetStr(913);
  strcpy(this->m_szSubLeader, v2);
  v3 = GetStr(914);
  strcpy(this->m_szCenturion, v3);
  v4 = GetStr(915);
  strcpy(this->m_szTen, v4);
  v5 = GetStr(916);
  strcpy(this->m_szRegular, v5);
  v6 = GetStr(917);
  strcpy(this->m_szTemp, v6);
  memset(this->m_szTodayMessage, 0, sizeof(this->m_szTodayMessage));
  this->m_dwDeleteTick = 0;
  this->m_nSubLeaderAble = 3;
  this->m_nCenturionAble = 1;
  this->m_nTenAble = 1;
  this->m_nRegularAble = 0;
  this->m_nTempAble = 0;
  this->m_nAID = 0;
  this->m_pAlliance = 0;
  memset(this->m_bSiegeGun, 0, sizeof(this->m_bSiegeGun));
  return this;
}
// 4B4FF0: using guessed type int (__stdcall *off_4B4FF0)(int);

//----- (00411680) --------------------------------------------------------
void *__thiscall sub_411680(void *this, char a2)
{
  CGuild::_CGuild((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004116B0) --------------------------------------------------------
void __thiscall CGuild::_CGuild(std::locale::facet *this)
{
  this->__vftable = (std::locale::facet_vtbl *)&off_4B4FF0;
  sub_4116E0(&this[47]._Refs);
  CBase::_CBase(this);
}
// 4B4FF0: using guessed type int (__stdcall *off_4B4FF0)(int);

//----- (004116E0) --------------------------------------------------------
int __thiscall sub_4116E0(void *this)
{
  return sub_418510(this);
}

//----- (00411700) --------------------------------------------------------
void __cdecl CGuild::Stop()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int v1; // eax
  char v2[4]; // [esp+0h] [ebp-Ch] BYREF
  char v3[4]; // [esp+4h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v4; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E0980);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E0968,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0968, (int)v2);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v4,
            v0) )
      break;
    v1 = sub_420250(&v4);
    CBase::Delete(*(CItem **)(v1 + 4));
    sub_446090((int *)&v4, v3, 0);
  }
  sub_418480(dword_4E0968);
  CRWLock::WriteUnlock(&unk_4E0980);
}
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00411780) --------------------------------------------------------
int __thiscall CBase::Delete(CItem *item)
{
  int result; // eax

  result = sub_496CD0((volatile signed __int32 *)&item->m_bit, 0);
  if ( !result )
    result = ((int (__thiscall *)(CItem *))item->OnDelete)(item);
  return result;
}

//----- (004117B0) --------------------------------------------------------
void __cdecl CGuild::SecondProcess()
{
  CRWLock::ReadLock(&unk_4E0980);
  if ( sub_417450() )
    CCastle::SecondProcess();
  CRWLock::ReadUnlock(&unk_4E0980);
}

//----- (004117E0) --------------------------------------------------------
void __cdecl CGuild::MinuteProcess(unsigned int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v2[4]; // [esp+0h] [ebp-28h] BYREF
  char v3[4]; // [esp+4h] [ebp-24h] BYREF
  char v4[4]; // [esp+8h] [ebp-20h] BYREF
  char v5[4]; // [esp+Ch] [ebp-1Ch] BYREF
  int v6; // [esp+10h] [ebp-18h]
  CItem *item; // [esp+14h] [ebp-14h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v8; // [esp+18h] [ebp-10h] BYREF
  int v9; // [esp+1Ch] [ebp-Ch]
  time_t v10; // [esp+20h] [ebp-8h] BYREF
  struct tm *v11; // [esp+24h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E0968,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0968, (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v8,
            v1) )
      break;
    item = *(CItem **)(sub_420250(&v8) + 4);
    if ( item[3].m_nFrom && item[3].m_nFrom < a1 )
    {
      if ( item->m_nPID )
      {
        item[3].m_nFrom = 0;
        sub_446090((int *)&v8, v4, 0);
      }
      else
      {
        CBase::Delete(item);
        v8._Myptr = (CIOSocket::CIOTimer *)*sub_44AF50(dword_4E0968, v3, (int)v8._Myptr);
      }
    }
    else
    {
      sub_446090((int *)&v8, v2, 0);
    }
  }
  v10 = time(0);
  v11 = localtime(&v10);
  v9 = 0;
  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
  {
    if ( (dword_4E1174[0] & 2) != 0 )
    {
      if ( v11->tm_min >= 5 )
      {
        if ( v11->tm_min >= 15 )
        {
          if ( v11->tm_min >= 16 )
          {
            if ( v11->tm_min < 50 )
              v9 = 4;
          }
          else
          {
            v9 = 2;
          }
        }
        else
        {
          v9 = 1;
        }
      }
      else
      {
        v9 = 0;
      }
    }
    else if ( v11->tm_hour >= 17 )
    {
      if ( v11->tm_hour >= 18 )
      {
        if ( v11->tm_hour < 19 )
          v9 = 4;
      }
      else if ( v11->tm_min >= 30 )
      {
        v9 = 2;
      }
      else
      {
        v9 = 1;
      }
    }
    else
    {
      v9 = 0;
    }
  }
  else
  {
    switch ( v11->tm_wday )
    {
      case 4:
        if ( v11->tm_hour >= 21 )
          v9 = 1;
        break;
      case 5:
        if ( v11->tm_hour >= 21 )
          v9 = 2;
        else
          v9 = 1;
        break;
      case 6:
        if ( v11->tm_hour >= 21 )
        {
          if ( v11->tm_hour < 23 )
            v9 = 4;
        }
        else
        {
          v9 = 2;
        }
        break;
    }
  }
  if ( dword_4E0964 != v9 )
  {
    if ( v9 == 4 )
    {
      v6 = v10;
      if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
      {
        if ( (dword_4E1174[0] & 2) != 0 )
          v6 += 60 * (30 - v11->tm_min);
        else
          v6 += 3600;
      }
      else if ( v11->tm_hour == 21 )
      {
        v6 += 7200;
      }
      else
      {
        v6 += 3600;
      }
      CCastle::WarBegin(v6);
    }
    if ( dword_4E0964 != 4 || !CCastle::IsWarDeclared() )
      dword_4E0964 = v9;
  }
  if ( dword_4E0964 )
    CAlliance::PostponeExpire();
  else
    CAlliance::Expire(v10);
  CRWLock::WriteUnlock(&unk_4E0980);
  CCastle::TaxSave();
}
// 4E0964: using guessed type int dword_4E0964;
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00411AB0) --------------------------------------------------------
void __thiscall CGuild::OnDelete(int this)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  char v7[4]; // [esp+8h] [ebp-10h] BYREF
  char v8[4]; // [esp+Ch] [ebp-Ch] BYREF
  CIOObject **a1; // [esp+10h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v10; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v7);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v10,
            v4) )
      break;
    a1 = *(CIOObject ***)(*(_DWORD *)(sub_420250(&v10) + 4) + 32);
    if ( a1 )
    {
      CPlayer::SetGID((CIOCriticalSection *)a1, 0);
      CPlayer::SetGuild(a1, v1, v2, v3, 0);
      CPlayer::SetGuildLevel((CIOCriticalSection *)a1, 0);
      CPlayer::SetGuildName((char *)a1, &Source);
      CPlayer::SetGuildStandard((CIOCriticalSection *)a1, 0);
      CPlayer::SetGuildClass((int)a1, 0, &Source);
      sub_401DE0((int *)a1);
      *(_DWORD *)(*(_DWORD *)(sub_420250(&v10) + 4) + 32) = 0;
      --*(_DWORD *)(this + 32);
    }
    v5 = sub_420250(&v10);
    sub_401020(*(void **)(v5 + 4));
    sub_446090((int *)&v10, v8, 0);
  }
  sub_418530((_DWORD *)(this + 380));
  if ( *(_DWORD *)(this + 396) )
    CAlliance::DeleteSetGuild(*(void **)(this + 396), this);
  sub_402180(this);
}
// 411B27: variable 'v1' is possibly undefined
// 411B27: variable 'v2' is possibly undefined
// 411B27: variable 'v3' is possibly undefined

//----- (00411BE0) --------------------------------------------------------
int __cdecl CGuild::IsLoad(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  DWORD v2; // esi
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-8h] BYREF
  int v6; // [esp+Ch] [ebp-4h]

  v6 = 0;
  CRWLock::ReadLock(&unk_4E0980);
  sub_44AE20(dword_4E0968, &v5, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0968, (int)v4);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v5,
         v1) )
  {
    v6 = 1;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v5) + 4) + 356) )
    {
      v2 = GetTickCount() + 600000;
      *(_DWORD *)(*(_DWORD *)(sub_420250(&v5) + 4) + 356) = v2;
    }
  }
  CRWLock::ReadUnlock(&unk_4E0980);
  return v6;
}
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00411C80) --------------------------------------------------------
void __cdecl CGuild::Load(int a1, char *a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  CAtlTraceSettings *v4; // eax
  CAtlTraceSettings *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp+0h] [ebp-6Ch]
  int v9; // [esp+4h] [ebp-68h]
  int v10; // [esp+8h] [ebp-64h]
  CGuild *v11; // [esp+Ch] [ebp-60h]
  char v12[8]; // [esp+14h] [ebp-58h] BYREF
  char v13[8]; // [esp+1Ch] [ebp-50h] BYREF
  char *v14; // [esp+24h] [ebp-48h]
  char v15[8]; // [esp+28h] [ebp-44h] BYREF
  char v16[8]; // [esp+30h] [ebp-3Ch] BYREF
  CMemory **v17; // [esp+38h] [ebp-34h]
  char v18[4]; // [esp+3Ch] [ebp-30h] BYREF
  char v19[8]; // [esp+40h] [ebp-2Ch] BYREF
  int i; // [esp+48h] [ebp-24h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v21; // [esp+4Ch] [ebp-20h] BYREF
  int v22; // [esp+50h] [ebp-1Ch] BYREF
  CItem *item; // [esp+54h] [ebp-18h]
  char *str; // [esp+58h] [ebp-14h]
  int v25; // [esp+5Ch] [ebp-10h] BYREF
  int v26; // [esp+60h] [ebp-Ch] BYREF
  char v27[8]; // [esp+64h] [ebp-8h] BYREF

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20(dword_4E0968, &v21, &a1);
  v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0968, (int)v18);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v21,
         v3) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
  }
  else
  {
    v17 = sub_401000(0x198u);
    if ( v17 )
      v11 = CGuild::CGuild((CGuild *)v17);
    else
      v11 = 0;
    item = (CItem *)v11;
    a2 = GetString(a2, v11->m_szName);
    a2 = (char *)GetNumeric<int>(a2, &item->m_nKeyID);
    a2 = (char *)GetNumeric<int>(a2, &item->m_dwTick);
    a2 = GetString(a2, (char *)&item[1].m_nFrom + 2);
    a2 = GetString(a2, (char *)&item->m_nVer);
    a2 = GetString(a2, (char *)&item[1].m_nRef + 3);
    a2 = GetString(a2, (char *)&item[1].m_bit + 2);
    a2 = GetString(a2, (char *)&item[1].m_nIID + 1);
    a2 = GetString(a2, (char *)&item[1].m_nNum);
    a2 = GetString(a2, (char *)&item[1].m_ptPixel.y + 3);
    a2 = (char *)GetNumeric<int>(a2, &item[3].m_nVer);
    a2 = (char *)GetNumeric<int>(a2, &item[3].m_nMapRef);
    a2 = (char *)GetNumeric<int>(a2, &item[4].__vftable);
    a2 = (char *)GetNumeric<int>(a2, &item[4].m_nRef);
    a2 = (char *)GetNumeric<int>(a2, &item[4].m_nTimerRef);
    a2 = (char *)GetNumeric<int>(a2, &item[4].m_dwAttr);
    v4 = sub_418940((CAtlTraceSettings *)v15);
    std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>(
      (std::pair<int const ,IDirect3DTexture9 *> *)v16,
      v4);
    sub_445DF0(
      (int)dword_4E0968,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v27,
      (const std::pair<int const ,CGame_Character::TargetInfo> *)v16);
    if ( v27[4] )
    {
      item->m_ptPixel.y = 0;
      v26 = 0;
      a2 = GetNumeric<unsigned char>(a2, &v26);
      for ( i = 0; i < v26; ++i )
      {
        v14 = (char *)sub_401000(0x28u);
        str = v14;
        a2 = (char *)GetNumeric<int>(a2, &v25);
        a2 = GetString(a2, str);
        *((_DWORD *)str + 5) = 0;
        a2 = (char *)GetNumeric<short>(a2, (_WORD *)str + 10);
        *((_DWORD *)str + 6) = 0;
        a2 = GetNumeric<unsigned char>(a2, str + 24);
        *((_DWORD *)str + 7) = 0;
        a2 = GetNumeric<unsigned char>(a2, str + 28);
        a2 = (char *)GetNumeric<int>(a2, (_DWORD *)str + 9);
        *((_DWORD *)str + 8) = 0;
        v5 = sub_418940((CAtlTraceSettings *)v12);
        std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>(
          (std::pair<int const ,IDirect3DTexture9 *> *)v13,
          v5);
        sub_445DF0(
          (int)&item[4].m_nGeneralRef,
          (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v19,
          (const std::pair<int const ,CGame_Character::TargetInfo> *)v13);
        if ( v19[4] )
        {
          if ( *((int *)str + 6) < 6 )
          {
            if ( 10000 * *((_DWORD *)str + 5) >= 0 )
              v10 = 10000 * *((_DWORD *)str + 5);
            else
              v10 = 0;
            if ( v10 + item->m_ptPixel.y <= 2000000000 )
            {
              if ( 10000 * *((_DWORD *)str + 5) >= 0 )
                v8 = 10000 * *((_DWORD *)str + 5);
              else
                v8 = 0;
              v9 = v8 + item->m_ptPixel.y;
            }
            else
            {
              v9 = 2000000000;
            }
            item->m_ptPixel.y = v9;
          }
        }
        else
        {
          LOG_ERR("CGuild::Load() member insert error (gid:%d, pid:%d,count:%d)", a1, v25, v26);
          sub_401020(str);
        }
      }
      if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
      {
        if ( (int)item->m_dwTick < 3 )
        {
          if ( (int)item->m_dwTick < 2 )
          {
            if ( (int)item->m_dwTick < 1 )
              item->m_bParty = 1;
            else
              item->m_bParty = 2;
          }
          else
          {
            item->m_bParty = 3;
          }
        }
        else
        {
          item->m_bParty = 4;
        }
        v7 = CGuild::CalPenaltyTLevel((int *)item);
        item->m_bParty = v7;
      }
      else
      {
        if ( (int)item->m_dwTick < 16000000 )
        {
          if ( (int)item->m_dwTick < 7800000 )
          {
            if ( (int)item->m_dwTick < 2400000 )
              item->m_bParty = 1;
            else
              item->m_bParty = 2;
          }
          else
          {
            item->m_bParty = 3;
          }
        }
        else
        {
          item->m_bParty = 4;
        }
        v6 = CGuild::CalPenaltyLevel((int *)item);
        item->m_bParty = v6;
      }
      v22 = 0;
      a2 = GetNumeric<unsigned char>(a2, &v22);
      if ( v22 )
        CAlliance::Load(a2);
      if ( item[4].m_dwAttr )
        CAlliance::LoadSetGuild(item[4].m_dwAttr, a1, (int)item);
      if ( a3 )
      {
        CCastle::SetGuild((volatile int **)a3, (volatile int *)item);
        ++item->m_nPID;
      }
      CCastle::SetWarGuild((volatile int *)a1, (volatile int *)item);
      CRWLock::WriteUnlock(&unk_4E0980);
    }
    else
    {
      CBase::Delete(item);
      CRWLock::WriteUnlock(&unk_4E0980);
      LOG_ERR("CGuildAdmin::Load() guild insert error ( gid:%d )", a1);
    }
  }
}
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00412210) --------------------------------------------------------
void __cdecl CGuild::Login(int a1)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // eax
  CIOBuffer *v20; // [esp-8h] [ebp-24h]
  int v21; // [esp-4h] [ebp-20h]
  int v22; // [esp-4h] [ebp-20h]
  int v23; // [esp-4h] [ebp-20h]
  char *v24; // [esp-4h] [ebp-20h]
  int v25; // [esp-4h] [ebp-20h]
  _DWORD *v26; // [esp+0h] [ebp-1Ch]
  char v27[4]; // [esp+4h] [ebp-18h] BYREF
  char v28[4]; // [esp+8h] [ebp-14h] BYREF
  int v29; // [esp+Ch] [ebp-10h] BYREF
  CIOBuffer *v30; // [esp+10h] [ebp-Ch]
  char v31[4]; // [esp+14h] [ebp-8h] BYREF
  char v32[4]; // [esp+18h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E0980);
  v29 = CPlayer::GetGID((CIOCriticalSection *)a1);
  sub_44AE20(dword_4E0968, v31, &v29);
  v4 = sub_430C20(dword_4E0968, (int)v28);
  if ( (unsigned __int8)unknown_libname_8(v4) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    v21 = *(_DWORD *)(a1 + 452);
    v5 = CPlayer::GetGID((CIOCriticalSection *)a1);
    LOG_ERR("CGuild::Login() guild key error (gid:%d,pid:%d)", v5, v21);
    CPlayer::SetGID((CIOCriticalSection *)a1, 0);
  }
  else
  {
    v6 = sub_420250(v31);
    sub_44AE20((_DWORD *)(*(_DWORD *)(v6 + 4) + 380), v32, (_DWORD *)(a1 + 452));
    v7 = sub_420250(v31);
    v8 = sub_430C20((_DWORD *)(*(_DWORD *)(v7 + 4) + 380), (int)v27);
    if ( (unsigned __int8)unknown_libname_8(v8) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      v22 = *(_DWORD *)(a1 + 452);
      v9 = CPlayer::GetGID((CIOCriticalSection *)a1);
      LOG_ERR("CGuild::Login() guild member error (gid:%d,pid:%d)", v9, v22);
      CPlayer::SetGID((CIOCriticalSection *)a1, 0);
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)(sub_420250(v32) + 4) + 32) = a1;
      sub_4010D0(a1);
      v26 = (_DWORD *)(*(_DWORD *)(sub_420250(v31) + 4) + 32);
      ++*v26;
      *(_DWORD *)(*(_DWORD *)(sub_420250(v31) + 4) + 356) = 0;
      v10 = sub_420250(v31);
      CPlayer::SetGuild((CIOObject **)a1, v1, v2, v3, *(volatile int **)(v10 + 4));
      v11 = sub_420250(v31);
      CPlayer::SetGuildLevel((CIOCriticalSection *)a1, *(_DWORD *)(*(_DWORD *)(v11 + 4) + 72));
      v12 = sub_420250(v31);
      CPlayer::SetGuildName((char *)a1, (char *)(*(_DWORD *)(v12 + 4) + 44));
      v13 = sub_420250(v31);
      CPlayer::SetGuildStandard((CIOCriticalSection *)a1, *(_DWORD *)(*(_DWORD *)(v13 + 4) + 76));
      v23 = *(_DWORD *)(*(_DWORD *)(sub_420250(v32) + 4) + 24);
      v14 = sub_420250(v31);
      v24 = CGuild::GetClass2Title(*(char **)(v14 + 4), v23);
      v15 = sub_420250(v32);
      CPlayer::SetGuildClass(a1, *(_DWORD *)(*(_DWORD *)(v15 + 4) + 24), v24);
      v25 = *(_DWORD *)sub_420250(v31);
      v16 = sub_420250(v31);
      CGuild::SendMemberInfo(*(_DWORD *)(v16 + 4), a1, v25);
      if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v31) + 4) + 396) )
      {
        v17 = sub_420250(v31);
        CAlliance::AllianceInfo(*(const char **)(*(_DWORD *)(v17 + 4) + 396), a1);
      }
      if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v32) + 4) + 28) )
      {
        v30 = WritePacket_(94, "bbsb", 0, 2, a1 + 32, *(unsigned __int8 *)(a1 + 60));
        v20 = v30;
        v18 = sub_420250(v31);
        CGuild::Broadcast(*(_DWORD *)(v18 + 4), v20, a1);
        CIOBuffer::Release(v30);
      }
      if ( *(_BYTE *)(*(_DWORD *)(sub_420250(v31) + 4) + 174) )
      {
        v19 = sub_420250(v31);
        CPlayer::Write(a1, 94, "bbs", 0, 5, *(_DWORD *)(v19 + 4) + 174);
      }
      CRWLock::WriteUnlock(&unk_4E0980);
    }
  }
}
// 412375: variable 'v1' is possibly undefined
// 412375: variable 'v2' is possibly undefined
// 412375: variable 'v3' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0968: using guessed type int dword_4E0968[3];

//----- (004124F0) --------------------------------------------------------
LONG __cdecl CGuild::LoginCastle(int a1, int a2)
{
  CRWLock::ReadLock(&unk_4E0980);
  CCastle::Login((_DWORD *)a1, a2);
  return CRWLock::ReadUnlock(&unk_4E0980);
}

//----- (00412520) --------------------------------------------------------
void __thiscall CGuild::Logout(int this, int a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  CIOBuffer *v9; // [esp-8h] [ebp-2Ch]
  int v10; // [esp-4h] [ebp-28h]
  char v12[4]; // [esp+4h] [ebp-20h] BYREF
  char v13[4]; // [esp+8h] [ebp-1Ch] BYREF
  char v14[4]; // [esp+Ch] [ebp-18h] BYREF
  int v15; // [esp+10h] [ebp-14h] BYREF
  CIOBuffer *v16; // [esp+14h] [ebp-10h]
  CIOBuffer *v17; // [esp+18h] [ebp-Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v18; // [esp+1Ch] [ebp-8h] BYREF
  char v19[4]; // [esp+20h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E0980);
  v15 = CPlayer::GetGID((CIOCriticalSection *)a2);
  sub_44AE20(dword_4E0974, &v18, &v15);
  v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0974, (int)v14);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v18,
         v5) )
  {
    v17 = WritePacket_(94, "bbs", 0, 3, a2 + 32);
    v9 = v17;
    v6 = sub_420250(&v18);
    CGuild::Broadcast(*(_DWORD *)(v6 + 4), v9, a2);
    CIOBuffer::Release(v17);
    sub_44AF50(dword_4E0974, v13, (int)v18._Myptr);
    CBase::Delete((CItem *)this);
    CRWLock::WriteUnlock(&unk_4E0980);
  }
  else
  {
    sub_44AE20((_DWORD *)(this + 380), v19, (_DWORD *)(a2 + 452));
    v7 = sub_430C20((_DWORD *)(this + 380), (int)v12);
    if ( (unsigned __int8)unknown_libname_8(v7) )
    {
      v10 = *(_DWORD *)(a2 + 452);
      v8 = CPlayer::GetGID((CIOCriticalSection *)a2);
      LOG_ERR("CGuild::Logout() member not find (gid:%d,pid:%d)", v8, v10);
      CRWLock::WriteUnlock(&unk_4E0980);
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)(sub_420250(v19) + 4) + 32) = 0;
      sub_401DE0((int *)a2);
      CPlayer::SetGuild((CIOObject **)a2, v2, v3, v4, 0);
      CPlayer::SetGuildLevel((CIOCriticalSection *)a2, 0);
      CPlayer::SetGuildName((char *)a2, &Source);
      CPlayer::SetGuildStandard((CIOCriticalSection *)a2, 0);
      CPlayer::SetGuildClass(a2, 0, &Source);
      if ( --*(_DWORD *)(this + 32) )
      {
        if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v19) + 4) + 28) )
        {
          v16 = WritePacket_(94, "bbs", 0, 3, a2 + 32);
          CGuild::Broadcast(this, v16, a2);
          CIOBuffer::Release(v16);
        }
      }
      else
      {
        *(_DWORD *)(this + 356) = GetTickCount() + 600000;
      }
      CRWLock::WriteUnlock(&unk_4E0980);
    }
  }
}
// 41265F: variable 'v2' is possibly undefined
// 41265F: variable 'v3' is possibly undefined
// 41265F: variable 'v4' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0974: using guessed type int dword_4E0974[3];

//----- (00412720) --------------------------------------------------------
void __cdecl CGuild::DelPlayer(int a1, int a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi
  int v5; // eax
  int v6; // eax
  int v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  DWORD v12; // esi
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  CIOBuffer *v19; // [esp-8h] [ebp-3Ch]
  int v20; // [esp-4h] [ebp-38h]
  _DWORD *v21; // [esp+4h] [ebp-30h]
  char v22[4]; // [esp+8h] [ebp-2Ch] BYREF
  void *v23; // [esp+Ch] [ebp-28h]
  char v24[4]; // [esp+10h] [ebp-24h] BYREF
  char v25[4]; // [esp+14h] [ebp-20h] BYREF
  char v26[4]; // [esp+18h] [ebp-1Ch] BYREF
  int v27; // [esp+1Ch] [ebp-18h] BYREF
  CIOBuffer *v28; // [esp+20h] [ebp-14h]
  void *v29; // [esp+24h] [ebp-10h]
  int a1a; // [esp+28h] [ebp-Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v31; // [esp+2Ch] [ebp-8h] BYREF
  char v32[4]; // [esp+30h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20(dword_4E0968, v32, &a2);
  v5 = sub_430C20(dword_4E0968, (int)v26);
  if ( (unsigned __int8)unknown_libname_8(v5) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return;
  }
  if ( a2 == a1 )
  {
    v6 = sub_420250(v32);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(*(_DWORD *)(v6 + 4) + 380),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v31);
    while ( 1 )
    {
      v7 = sub_420250(v32);
      v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(
                                                                       (_DWORD *)(*(_DWORD *)(v7 + 4) + 380),
                                                                       (int)v24);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v31,
              v8) )
        break;
      a1a = *(_DWORD *)(*(_DWORD *)(sub_420250(&v31) + 4) + 32);
      if ( a1a )
      {
        CPlayer::SetGID((CIOCriticalSection *)a1a, 0);
        CPlayer::SetGuild((CIOObject **)a1a, v2, v3, v4, 0);
        CPlayer::SetGuildLevel((CIOCriticalSection *)a1a, 0);
        CPlayer::SetGuildName((char *)a1a, &Source);
        CPlayer::SetGuildStandard((CIOCriticalSection *)a1a, 0);
        CPlayer::SetGuildClass(a1a, 0, &Source);
        CPlayer::Write(a1a, 94, "bb", 0, 43);
        v9 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1a);
        v29 = WritePacket_(94, "bdssbd", 9, v9, &Source, &Source, 0, 0);
        CGuild::SendPlayerSight(a1a, v29, 0);
        sub_401DE0((int *)a1a);
        *(_DWORD *)(*(_DWORD *)(sub_420250(&v31) + 4) + 32) = 0;
        v21 = (_DWORD *)(*(_DWORD *)(sub_420250(v32) + 4) + 32);
        --*v21;
      }
      v23 = *(void **)(sub_420250(&v31) + 4);
      sub_401020(v23);
      sub_446090((int *)&v31, v25, 0);
    }
    v10 = sub_420250(v32);
    sub_418530((_DWORD *)(*(_DWORD *)(v10 + 4) + 380));
    if ( *(int *)(*(_DWORD *)(sub_420250(v32) + 4) + 32) > 0 )
    {
      v11 = sub_420250(v32);
      LOG_ERR("CGuild::DelPlayer() plaer reference error (ref:%d)", *(_DWORD *)(*(_DWORD *)(v11 + 4) + 32));
    }
    v12 = GetTickCount() + 600000;
    *(_DWORD *)(*(_DWORD *)(sub_420250(v32) + 4) + 356) = v12;
  }
  else
  {
    v13 = sub_420250(v32);
    sub_44AE20((_DWORD *)(*(_DWORD *)(v13 + 4) + 380), &v27, &a1);
    v14 = sub_420250(v32);
    v15 = sub_430C20((_DWORD *)(*(_DWORD *)(v14 + 4) + 380), (int)v22);
    if ( (unsigned __int8)unknown_libname_8(v15) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      LOG_ERR("CGuild::DelPlayer() not find member (gid:%d,pid:%d)", a2, a1);
      return;
    }
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v27) + 4) + 32) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      LOG_ERR("CGuild::DelPlayer error (gid:%d,pid:%d)", a2, a1);
      return;
    }
    v16 = sub_420250(&v27);
    v28 = WritePacket_(94, "bbs", 0, 32, *(_DWORD *)(v16 + 4));
    v19 = v28;
    v17 = sub_420250(v32);
    CGuild::Broadcast(*(_DWORD *)(v17 + 4), v19, 0);
    CIOBuffer::Release(v28);
    v20 = v27;
    v18 = sub_420250(v32);
    CGuild::MemberDEL(*(_DWORD **)(v18 + 4), v20);
  }
  CRWLock::WriteUnlock(&unk_4E0980);
}
// 4127FE: variable 'v2' is possibly undefined
// 4127FE: variable 'v3' is possibly undefined
// 4127FE: variable 'v4' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00412A50) --------------------------------------------------------
int __cdecl CGuild::CreateTrial(int a1)
{
  int result; // eax
  CIOCriticalSection *v2; // eax
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // [esp-Ch] [ebp-B4h]
  int v7; // [esp-4h] [ebp-ACh]
  CIOCriticalSection *v8; // [esp+0h] [ebp-A8h]
  CIOCriticalSection *v9; // [esp+0h] [ebp-A8h]
  int v10; // [esp+4h] [ebp-A4h]
  int v11; // [esp+8h] [ebp-A0h]
  CMemory *v12; // [esp+Ch] [ebp-9Ch]
  CMemory *v13; // [esp+Ch] [ebp-9Ch]
  CItem *item; // [esp+10h] [ebp-98h]
  char *v15; // [esp+14h] [ebp-94h]
  char v16; // [esp+18h] [ebp-90h] BYREF
  DWORD a3[31]; // [esp+19h] [ebp-8Fh] BYREF
  __int16 v18; // [esp+95h] [ebp-13h]
  char v19; // [esp+97h] [ebp-11h]
  int v20; // [esp+98h] [ebp-10h]
  int v21; // [esp+9Ch] [ebp-Ch]
  int v22; // [esp+A0h] [ebp-8h]
  int *v23; // [esp+A4h] [ebp-4h]

  v20 = dword_4D9830;
  if ( CPlayer::GetGID((CIOCriticalSection *)a1) )
    return 13;
  if ( *(int *)(a1 + 60) < 30 )
    return 7;
  sub_412E90((CIOCriticalSection *)a1);
  if ( !*(_DWORD *)(a1 + 1016) || (v23 = (int *)sub_44D4E0(*(_DWORD *)(a1 + 1016))) == 0 )
  {
    sub_412EB0((CIOCriticalSection *)a1);
    return 12;
  }
  sub_412EB0((CIOCriticalSection *)a1);
  if ( !CParty::IsHead((CIOCriticalSection *)v23, a1) )
  {
    sub_401DE0(v23);
    return 11;
  }
  if ( sub_412ED0((int)v23) < 6 )
  {
    sub_401DE0(v23);
    return 12;
  }
  CIOCriticalSection::Enter(v8);
  if ( !*(_DWORD *)(a1 + 1096)
    || ((*(_WORD *)dword_4E1174 & 0x100) != 0 ? 100 : 100000) > *(_DWORD *)(*(_DWORD *)(a1 + 1096) + 52) )
  {
    CIOCriticalSection::Leave(v9);
    sub_401DE0(v23);
    return 8;
  }
  CIOCriticalSection::Leave(v9);
  v12 = CParty::GetPlayerList((CIOCriticalSection *)v23);
  v10 = 0;
  v21 = 0;
  while ( v12 )
  {
    if ( !v21 )
    {
      v2 = (CIOCriticalSection *)unknown_libname_7(v12);
      if ( CPlayer::GetGID(v2) )
        v21 = 1;
      else
        v10 += *(_DWORD *)(unknown_libname_7(v12) + 468);
    }
    v12 = (CMemory *)CBaseList::Pop((CIOObject *)v12);
  }
  if ( v21 )
  {
    sub_401DE0(v23);
    return 13;
  }
  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
  {
    if ( v10 < 1 )
      goto LABEL_26;
  }
  else if ( v10 < 60 )
  {
LABEL_26:
    sub_401DE0(v23);
    return 9;
  }
  item = (CItem *)CGuild::Create(*(_DWORD *)(a1 + 452));
  if ( item )
  {
    v16 = 0;
    memset(a3, 0, sizeof(a3));
    v18 = 0;
    v19 = 0;
    v15 = &v16;
    v13 = CParty::GetPlayerList((CIOCriticalSection *)v23);
    v11 = 0;
    v22 = 0;
    CRWLock::WriteLock(&unk_4E0980);
    while ( v13 )
    {
      if ( !v11 )
      {
        v7 = *(_DWORD *)(a1 + 452) != *(_DWORD *)(unknown_libname_7(v13) + 452) ? 8 : 1;
        v3 = unknown_libname_7(v13);
        if ( CGuild::MemberADD((int)item, *(_DWORD *)(a1 + 452), v3, v7) )
        {
          v4 = unknown_libname_7(v13);
          v15 = (char *)PutNumeric<int>(v15, *(_DWORD *)(v4 + 452));
          ++v22;
        }
        else
        {
          v11 = *(_DWORD *)(unknown_libname_7(v13) + 452);
        }
      }
      v13 = (CMemory *)CBaseList::Pop((CIOObject *)v13);
    }
    if ( v11 )
    {
      LOG_ERR("CGuild::CreateTrial() member add error (leader:%d,pid:%d)", *(_DWORD *)(a1 + 452), v11);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E0974,
        (const int *)(a1 + 452));
      CBase::Delete(item);
      CRWLock::WriteUnlock(&unk_4E0980);
      sub_401DE0(v23);
      result = 1;
    }
    else
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      sub_401DE0(v23);
      v6 = (unsigned __int8)v22;
      v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CDBSocket::Write(39, "dbm", v5, v6, &v16, v15 - &v16);
      result = 0;
    }
  }
  else
  {
    sub_401DE0(v23);
    LOG_ERR("CGuild::CreateTrial() temp guild create error (pid:%d)", *(_DWORD *)(a1 + 452));
    result = 1;
  }
  return result;
}
// 412B30: variable 'v8' is possibly undefined
// 412B70: variable 'v9' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 4D9830: using guessed type int dword_4D9830;
// 4E0974: using guessed type int dword_4E0974[3];

//----- (00412E90) --------------------------------------------------------
void __thiscall sub_412E90(CIOCriticalSection *this)
{
  CIOCriticalSection::Enter(this);
}

//----- (00412EB0) --------------------------------------------------------
void __thiscall sub_412EB0(CIOCriticalSection *this)
{
  CIOCriticalSection::Leave(this);
}

//----- (00412ED0) --------------------------------------------------------
int __thiscall sub_412ED0(int this)
{
  return std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)(this + 32));
}

//----- (00412EF0) --------------------------------------------------------
int __thiscall CGuild::CreateTrialSecedeAnswer(CItem *this, int a2, int a3, int a4)
{
  int v4; // eax
  int result; // eax
  int v6; // eax
  int v7; // [esp-4h] [ebp-1Ch]
  int v9; // [esp+4h] [ebp-14h] BYREF
  int _Keyval; // [esp+8h] [ebp-10h] BYREF
  char v11[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v12[4]; // [esp+10h] [ebp-8h] BYREF
  CIOBuffer *v13; // [esp+14h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  if ( a3 )
  {
    sub_44AE20(&this[4].m_nGeneralRef, v12, &a3);
    v4 = sub_430C20(&this[4].m_nGeneralRef, (int)v11);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      _Keyval = CPlayer::GetGID((CIOCriticalSection *)a2);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E0974,
        &_Keyval);
      CBase::Delete(this);
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 1;
    }
    else
    {
      v7 = a4;
      v6 = sub_420250(v12);
      CPlayer::Write(a2, 94, "bbsd", 0, 6, *(_DWORD *)(v6 + 4), v7);
      v9 = CPlayer::GetGID((CIOCriticalSection *)a2);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E0974,
        &v9);
      CBase::Delete(this);
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 0;
    }
  }
  else
  {
    v13 = WritePacket_(94, "b", 2);
    CGuild::Broadcast((int)this, v13, a2);
    CIOBuffer::Release(v13);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 14;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0974: using guessed type int dword_4E0974[3];

//----- (00413020) --------------------------------------------------------
int __thiscall CGuild::CreateConsent(CItem *this, int a2, int a3)
{
  int v3; // eax
  int result; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-4h] [ebp-30h]
  int v10; // [esp-4h] [ebp-30h]
  int v12; // [esp+4h] [ebp-28h] BYREF
  int v13; // [esp+8h] [ebp-24h] BYREF
  char v14[4]; // [esp+Ch] [ebp-20h] BYREF
  char v15[4]; // [esp+10h] [ebp-1Ch] BYREF
  int v16; // [esp+14h] [ebp-18h] BYREF
  int _Keyval; // [esp+18h] [ebp-14h] BYREF
  char v18[4]; // [esp+1Ch] [ebp-10h] BYREF
  int v19; // [esp+20h] [ebp-Ch] BYREF
  int a1; // [esp+24h] [ebp-8h]
  CIOBuffer *v21; // [esp+28h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20(&this[4].m_nGeneralRef, &v19, (_DWORD *)(a2 + 452));
  v3 = sub_430C20(&this[4].m_nGeneralRef, (int)v18);
  if ( (unsigned __int8)unknown_libname_8(v3) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 15;
  }
  else if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v19) + 4) + 24) == 1
         || *(_DWORD *)(*(_DWORD *)(sub_420250(&v19) + 4) + 24) == 8 )
  {
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v19) + 4) + 24) != 1 )
      *(_DWORD *)(*(_DWORD *)(sub_420250(&v19) + 4) + 24) = 7;
    v5 = sub_420250(&v19);
    v21 = WritePacket_(94, "bbsb", 0, 17, *(_DWORD *)(v5 + 4), (unsigned __int8)a3);
    CGuild::Broadcast((int)this, v21, 0);
    CIOBuffer::Release(v21);
    if ( a3 )
    {
      if ( CGuild::IsAllConsent((int)this) )
      {
        v16 = CPlayer::GetGID((CIOCriticalSection *)a2);
        v19 = *sub_44AE20(&this[4].m_nGeneralRef, v15, &v16);
        v6 = sub_430C20(&this[4].m_nGeneralRef, (int)v14);
        if ( (unsigned __int8)unknown_libname_8(v6) )
        {
          v13 = CPlayer::GetGID((CIOCriticalSection *)a2);
          std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
            (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E0974,
            &v13);
          CBase::Delete(this);
          CRWLock::WriteUnlock(&unk_4E0980);
          v9 = *(_DWORD *)(a2 + 452);
          v7 = CPlayer::GetGID((CIOCriticalSection *)a2);
          LOG_ERR("CGuild::CreateConsent() leader not find (leader:%d,pid:%d)", v7, v9);
          result = 1;
        }
        else
        {
          a1 = *(_DWORD *)(*(_DWORD *)(sub_420250(&v19) + 4) + 32);
          if ( a1 )
          {
            CPlayer::Write(a1, 94, "b", 4);
            CRWLock::WriteUnlock(&unk_4E0980);
            result = 0;
          }
          else
          {
            v12 = CPlayer::GetGID((CIOCriticalSection *)a2);
            std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
              (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E0974,
              &v12);
            CBase::Delete(this);
            CRWLock::WriteUnlock(&unk_4E0980);
            v10 = *(_DWORD *)(a2 + 452);
            v8 = CPlayer::GetGID((CIOCriticalSection *)a2);
            LOG_ERR("CGuild::CreateConsent() leader logout error (leader:%d,pid:%d)", v8, v10);
            result = 1;
          }
        }
      }
      else
      {
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 0;
      }
    }
    else
    {
      _Keyval = CPlayer::GetGID((CIOCriticalSection *)a2);
      std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
        (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E0974,
        &_Keyval);
      CBase::Delete(this);
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 0;
    }
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 16;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0974: using guessed type int dword_4E0974[3];

//----- (004132A0) --------------------------------------------------------
int __thiscall CGuild::IsAllConsent(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  char v5[4]; // [esp+8h] [ebp-8h] BYREF
  char v6[4]; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v6) + 4) + 24) == 8 )
      return 0;
    sub_446090((int *)v6, v5, 0);
  }
  return 1;
}

//----- (00413310) --------------------------------------------------------
int __stdcall CGuild::CreateGuildName(int a1, char *Str1)
{
  int v3; // eax

  if ( CPlayer::GetGID((CIOCriticalSection *)a1) != *(_DWORD *)(a1 + 452) )
    return 22;
  if ( !IsValidName(Str1) )
    return 18;
  if ( CGuild::IsSameName(Str1) )
    return 19;
  v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
  CDBSocket::Write(41, "ds", v3, Str1);
  return 0;
}

//----- (00413380) --------------------------------------------------------
int __thiscall CGuild::CreateGuildNameAnswer(int this, int a2, int a3, char *Source)
{
  int result; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  CAtlTraceSettings *v6; // eax
  int v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int v9; // eax
  int v10; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  int v12; // eax
  int v13; // [esp-Ch] [ebp-68h]
  CIOCriticalSection *v14; // [esp+0h] [ebp-5Ch]
  CIOCriticalSection *v15; // [esp+0h] [ebp-5Ch]
  int v16; // [esp+0h] [ebp-5Ch]
  int v17; // [esp+4h] [ebp-58h]
  int v18; // [esp+8h] [ebp-54h]
  char v20[4]; // [esp+10h] [ebp-4Ch] BYREF
  char v21[4]; // [esp+14h] [ebp-48h] BYREF
  char v22[4]; // [esp+18h] [ebp-44h] BYREF
  char v23[4]; // [esp+1Ch] [ebp-40h] BYREF
  char v24[4]; // [esp+20h] [ebp-3Ch] BYREF
  char v25[4]; // [esp+24h] [ebp-38h] BYREF
  int v26; // [esp+28h] [ebp-34h] BYREF
  int _Keyval; // [esp+2Ch] [ebp-30h] BYREF
  char v28[8]; // [esp+30h] [ebp-2Ch] BYREF
  char v29[8]; // [esp+38h] [ebp-24h] BYREF
  char v30[4]; // [esp+40h] [ebp-1Ch] BYREF
  char v31[4]; // [esp+44h] [ebp-18h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v32; // [esp+48h] [ebp-14h] BYREF
  CPlayer *player; // [esp+4Ch] [ebp-10h]
  int a1; // [esp+50h] [ebp-Ch]
  char v35[8]; // [esp+54h] [ebp-8h] BYREF

  if ( a3 == 2 )
    return 1;
  if ( a3 )
    return 19;
  CRWLock::WriteLock(&unk_4E0980);
  if ( CGuild::IsAllConsent(this) )
  {
    CIOCriticalSection::Enter(v14);
    if ( *(_DWORD *)(a2 + 1096)
      && ((*(_WORD *)dword_4E1174 & 0x100) != 0 ? 100 : 100000) <= *(_DWORD *)(*(_DWORD *)(a2 + 1096) + 52) )
    {
      player = *(CPlayer **)(a2 + 1096);
      if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
        CPlayer::_OutofInven(player, (CItem *)a2);
      CIOCriticalSection::Leave((CIOCriticalSection *)0x1F);
      strcpy((char *)(this + 44), Source);
      std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v32);
      while ( 1 )
      {
        v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v30);
        if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                &v32,
                v5) )
          break;
        if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v32) + 4) + 24) != 1 )
          *(_DWORD *)(*(_DWORD *)(sub_420250(&v32) + 4) + 24) = 6;
        a1 = *(_DWORD *)(*(_DWORD *)(sub_420250(&v32) + 4) + 32);
        if ( a1 )
          CPlayer::SetGuildName((char *)a1, (char *)(this + 44));
        sub_446090((int *)&v32, v31, 0);
      }
      CPlayer::GetGID((CIOCriticalSection *)a2);
      v6 = sub_418940((CAtlTraceSettings *)v28);
      std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>(
        (std::pair<int const ,IDirect3DTexture9 *> *)v29,
        v6);
      sub_445DF0(
        (int)dword_4E0968,
        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v35,
        (const std::pair<int const ,CGame_Character::TargetInfo> *)v29);
      if ( v35[4] )
      {
        v26 = CPlayer::GetGID((CIOCriticalSection *)a2);
        std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
          (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E0974,
          &v26);
        if ( 10000 * *(_DWORD *)(a2 + 468) >= 0 )
          v18 = 10000 * *(_DWORD *)(a2 + 468);
        else
          v18 = 0;
        if ( v18 <= 2000000000 )
        {
          if ( 10000 * *(_DWORD *)(a2 + 468) >= 0 )
            v16 = 10000 * *(_DWORD *)(a2 + 468);
          else
            v16 = 0;
          v17 = v16;
        }
        else
        {
          v17 = 2000000000;
        }
        *(_DWORD *)(this + 64) = v17;
        for ( v32._Myptr = *(CIOSocket::CIOTimer **)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
                                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v25);
              ;
              sub_446090((int *)&v32, v24, 0) )
        {
          v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v23);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  &v32,
                  v8) )
            break;
          a1 = *(_DWORD *)(*(_DWORD *)(sub_420250(&v32) + 4) + 32);
          if ( a1 )
          {
            CPlayer::Write(a1, 94, "bbs", 0, 21, this + 44);
            v9 = CPlayer::GetGID((CIOCriticalSection *)a2);
            CGuild::SendMemberInfo(this, a1, v9);
          }
        }
        v10 = CPlayer::GetGID((CIOCriticalSection *)a2);
        CDBSocket::Write(42, "ds", v10, Source);
        for ( v32._Myptr = *(CIOSocket::CIOTimer **)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
                                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v22);
              ;
              sub_446090((int *)&v32, v21, 0) )
        {
          v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v20);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  &v32,
                  v11) )
            break;
          if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v32) + 4) + 24) != 1 )
          {
            v13 = *(_DWORD *)sub_420250(&v32);
            v12 = CPlayer::GetGID((CIOCriticalSection *)a2);
            CDBSocket::Write(43, "dd", v12, v13);
          }
        }
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 0;
      }
      else
      {
        v7 = CPlayer::GetGID((CIOCriticalSection *)a2);
        LOG_ERR("CGuild::CreateGuildName() guild insert error (gid:%d)", v7);
        _Keyval = CPlayer::GetGID((CIOCriticalSection *)a2);
        std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(
          (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E0974,
          &_Keyval);
        CBase::Delete((CItem *)this);
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 1;
      }
    }
    else
    {
      CIOCriticalSection::Leave(v15);
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 8;
    }
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 20;
  }
  return result;
}
// 4133DC: variable 'v14' is possibly undefined
// 413420: variable 'v15' is possibly undefined
// 4E0974: using guessed type int dword_4E0974[3];

//----- (00413790) --------------------------------------------------------
int __thiscall CGuild::IsSkillAble(_DWORD *this, int a2, char a3)
{
  int result; // eax

  switch ( a2 )
  {
    case 1:
      result = 1;
      break;
    case 2:
      result = this[90] & (1 << a3);
      break;
    case 3:
      result = this[91] & (1 << a3);
      break;
    case 4:
      result = this[92] & (1 << a3);
      break;
    case 5:
      result = this[93] & (1 << a3);
      break;
    case 6:
      result = this[94] & (1 << a3);
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (00413850) --------------------------------------------------------
int __thiscall CGuild::Conflux(_DWORD *this, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-8h] [ebp-18h]
  int v9; // [esp-4h] [ebp-14h]
  char v11[4]; // [esp+4h] [ebp-Ch] BYREF
  CIOObject *v12; // [esp+8h] [ebp-8h]
  char v13[4]; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E0980);
  sub_44AE20(this + 95, v13, (_DWORD *)(a2 + 452));
  v3 = sub_430C20(this + 95, (int)v11);
  if ( (unsigned __int8)unknown_libname_8(v3) )
  {
    v9 = *(_DWORD *)(a2 + 452);
    v4 = CPlayer::GetGID((CIOCriticalSection *)a2);
    LOG_ERR("CGuild::Conflux() member find error (gid:%d,pid:%d)", v4, v9);
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 1;
  }
  else
  {
    v6 = sub_420250(v13);
    if ( CGuild::IsSkillAble(this, *(_DWORD *)(*(_DWORD *)(v6 + 4) + 24), 0) )
    {
      if ( CGuild::IsTempMemberFUll((int)this) )
      {
        CRWLock::ReadUnlock(&unk_4E0980);
        result = 23;
      }
      else if ( CCastle::IsAllCastleWarRelation((int)this) && (sub_417430() || sub_417450()) )
      {
        CRWLock::ReadUnlock(&unk_4E0980);
        result = 94;
      }
      else
      {
        CRWLock::ReadUnlock(&unk_4E0980);
        v12 = sub_450890((char *)a3);
        if ( v12 )
        {
          if ( sub_40B310(v12, 256) )
          {
            CPlayer::Write(a2, 95, "b", 11);
            CIOObject::Release(v12, (volatile int *)&v12[22]);
            result = 0;
          }
          else if ( CPlayer::GetGID((CIOCriticalSection *)v12) )
          {
            CIOObject::Release(v12, (volatile int *)&v12[22]);
            result = 25;
          }
          else
          {
            CPlayer::Write(a2, 94, "bbs", 0, 27, a3);
            v8 = *(_DWORD *)(a2 + 452);
            v7 = CPlayer::GetGID((CIOCriticalSection *)a2);
            CPlayer::Write((int)v12, 94, "bdds", 14, v7, v8, this + 11);
            CIOObject::Release(v12, (volatile int *)&v12[22]);
            result = 0;
          }
        }
        else
        {
          result = 24;
        }
      }
    }
    else
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      result = 22;
    }
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00413A50) --------------------------------------------------------
int __cdecl CGuild::ConfluxAnswer(int a1, int a2, char a3, int a4)
{
  int result; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-8h] [ebp-1Ch]
  int v13; // [esp-4h] [ebp-18h]
  char v14[4]; // [esp+0h] [ebp-14h] BYREF
  char v15[4]; // [esp+4h] [ebp-10h] BYREF
  char v16[4]; // [esp+8h] [ebp-Ch] BYREF
  int a1a; // [esp+Ch] [ebp-8h]
  char v18[4]; // [esp+10h] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E0980);
  if ( CPlayer::GetGID((CIOCriticalSection *)a1) )
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 29;
  }
  else
  {
    sub_44AE20(dword_4E0968, v16, &a2);
    v5 = sub_430C20(dword_4E0968, (int)v15);
    if ( (unsigned __int8)unknown_libname_8(v5) )
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      result = 1;
    }
    else
    {
      v6 = sub_420250(v16);
      sub_44AE20((_DWORD *)(*(_DWORD *)(v6 + 4) + 380), v18, &a3);
      v7 = sub_420250(v16);
      v8 = sub_430C20((_DWORD *)(*(_DWORD *)(v7 + 4) + 380), (int)v14);
      if ( (unsigned __int8)unknown_libname_8(v8) )
      {
        CRWLock::ReadUnlock(&unk_4E0980);
        result = 1;
      }
      else
      {
        a1a = *(_DWORD *)(*(_DWORD *)(sub_420250(v18) + 4) + 32);
        if ( a1a )
        {
          v9 = sub_420250(v16);
          if ( CCastle::IsAllCastleWarRelation(*(_DWORD *)(v9 + 4)) && (sub_417430() || sub_417450()) )
          {
            CRWLock::ReadUnlock(&unk_4E0980);
            result = 94;
          }
          else if ( a4 )
          {
            v10 = sub_420250(v16);
            if ( CGuild::IsTempMemberFUll(*(_DWORD *)(v10 + 4)) )
            {
              CRWLock::ReadUnlock(&unk_4E0980);
              result = 23;
            }
            else
            {
              CRWLock::ReadUnlock(&unk_4E0980);
              v13 = a2;
              v12 = *(_DWORD *)(a1 + 452);
              v11 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
              CDBSocket::Write(40, "ddd", v11, v12, v13);
              result = 0;
            }
          }
          else
          {
            CPlayer::Write(a1a, 94, "bbs", 0, 28, a1 + 32);
            CRWLock::ReadUnlock(&unk_4E0980);
            result = 0;
          }
        }
        else
        {
          CRWLock::ReadUnlock(&unk_4E0980);
          result = 24;
        }
      }
    }
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00413C20) --------------------------------------------------------
int __cdecl CGuild::ConfluxSecedeAnswer(int a1, int a2, int a3)
{
  int result; // eax
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-18h]
  CIOBuffer *v10; // [esp-8h] [ebp-14h]
  int v11; // [esp-4h] [ebp-10h]
  char v12[4]; // [esp+0h] [ebp-Ch] BYREF
  char v13[4]; // [esp+4h] [ebp-8h] BYREF
  CIOBuffer *v14; // [esp+8h] [ebp-4h]

  if ( a3 )
  {
    CPlayer::Write(a1, 94, "bbsd", 0, 6, a1 + 32, a3);
    result = 0;
  }
  else
  {
    CRWLock::WriteLock(&unk_4E0980);
    sub_44AE20(dword_4E0968, v13, &a2);
    v4 = sub_430C20(dword_4E0968, (int)v12);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 1;
    }
    else
    {
      v9 = a2;
      v5 = sub_420250(v13);
      if ( CGuild::MemberADD(*(_DWORD *)(v5 + 4), v9, a1, 6) )
      {
        CDBSocket::Write(43, "dd", a2, *(_DWORD *)(a1 + 452));
        v11 = a2;
        v6 = sub_420250(v13);
        CGuild::SendMemberInfo(*(_DWORD *)(v6 + 4), a1, v11);
        if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v13) + 4) + 396) )
        {
          v7 = sub_420250(v13);
          CAlliance::AllianceInfo(*(const char **)(*(_DWORD *)(v7 + 4) + 396), a1);
        }
        v14 = WritePacket_(94, "bbsb", 0, 30, a1 + 32, *(unsigned __int8 *)(a1 + 60));
        v10 = v14;
        v8 = sub_420250(v13);
        CGuild::Broadcast(*(_DWORD *)(v8 + 4), v10, 0);
        CIOBuffer::Release(v14);
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 0;
      }
      else
      {
        LOG_ERR("CGuild::ConfluxSecedeAnswer() member add error (gid:%d,pid:%d)", a2, *(_DWORD *)(a1 + 452));
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 1;
      }
    }
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00413DB0) --------------------------------------------------------
BOOL __thiscall CGuild::IsTempMemberFUll(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  char v5[4]; // [esp+8h] [ebp-Ch] BYREF
  char v6[4]; // [esp+Ch] [ebp-8h] BYREF
  int v7; // [esp+10h] [ebp-4h]

  v7 = 0;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v6) + 4) + 24) == 6 )
      ++v7;
    sub_446090((int *)v6, v5, 0);
  }
  return v7 >= 10;
}

//----- (00413E30) --------------------------------------------------------
int __thiscall CGuild::Secession(_DWORD *this, int a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi
  int v5; // eax
  int v6; // eax
  int result; // eax
  int v8; // eax
  int v9; // [esp-4h] [ebp-1Ch]
  char v11[4]; // [esp+4h] [ebp-14h] BYREF
  CIOBuffer *v12; // [esp+8h] [ebp-10h]
  int v13; // [esp+Ch] [ebp-Ch]
  int v14; // [esp+10h] [ebp-8h] BYREF
  void *v15; // [esp+14h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20(this + 95, &v14, (_DWORD *)(a2 + 452));
  v5 = sub_430C20(this + 95, (int)v11);
  if ( (unsigned __int8)unknown_libname_8(v5) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    v9 = *(_DWORD *)(a2 + 452);
    v6 = CPlayer::GetGID((CIOCriticalSection *)a2);
    LOG_ERR("CGuild::Secession() member delete error (gid:%d,pid:%d)", v6, v9);
    result = 1;
  }
  else if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v14) + 4) + 24) == 1 )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 31;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)(sub_420250(&v14) + 4) + 32) = 0;
    sub_401DE0((int *)a2);
    CPlayer::SetGID((CIOCriticalSection *)a2, 0);
    CPlayer::SetGuild((CIOObject **)a2, v2, v3, v4, 0);
    CPlayer::SetGuildLevel((CIOCriticalSection *)a2, 0);
    CPlayer::SetGuildName((char *)a2, &Source);
    CPlayer::SetGuildStandard((CIOCriticalSection *)a2, 0);
    CPlayer::SetGuildClass(a2, 0, &Source);
    CPlayer::BreakStandard((CIOCriticalSection *)a2);
    CGuild::MemberDEL(this, v14);
    v13 = time(0) + 259200;
    CDBSocket::Write(45, "dd", *(_DWORD *)(a2 + 452), v13);
    v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v15 = WritePacket_(94, "bdssbd", 9, v8, &Source, &Source, 0, 0);
    CGuild::SendPlayerSight(a2, v15, 0);
    if ( --this[8] )
    {
      v12 = WritePacket_(94, "bbs", 0, 32, a2 + 32);
      CGuild::Broadcast((int)this, v12, 0);
      CIOBuffer::Release(v12);
    }
    else
    {
      this[89] = GetTickCount() + 600000;
    }
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 33;
  }
  return result;
}
// 413F02: variable 'v2' is possibly undefined
// 413F02: variable 'v3' is possibly undefined
// 413F02: variable 'v4' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00414030) --------------------------------------------------------
int __thiscall CGuild::Banish(_DWORD *this, int a2, char *Str1)
{
  DWORD v3; // ebx
  DWORD v4; // edi
  DWORD v5; // esi
  int v6; // eax
  int v7; // eax
  int result; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  _DWORD *v12; // eax
  int v13; // [esp-4h] [ebp-28h]
  int v14; // [esp-4h] [ebp-28h]
  char v16[4]; // [esp+4h] [ebp-20h] BYREF
  char v17[4]; // [esp+8h] [ebp-1Ch] BYREF
  void *v18; // [esp+Ch] [ebp-18h]
  int v19; // [esp+10h] [ebp-14h]
  int v20; // [esp+14h] [ebp-10h] BYREF
  CIOObject **a1; // [esp+18h] [ebp-Ch]
  char v22[4]; // [esp+1Ch] [ebp-8h] BYREF
  CIOBuffer *v23; // [esp+20h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20(this + 95, v22, (_DWORD *)(a2 + 452));
  v6 = sub_430C20(this + 95, (int)v17);
  if ( (unsigned __int8)unknown_libname_8(v6) )
  {
    v13 = *(_DWORD *)(a2 + 452);
    v7 = CPlayer::GetGID((CIOCriticalSection *)a2);
    LOG_ERR("CGuild::Banish() member find error (gid:%d,pid:%d)", v7, v13);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 1;
  }
  else
  {
    v9 = sub_420250(v22);
    if ( CGuild::IsSkillAble(this, *(_DWORD *)(*(_DWORD *)(v9 + 4) + 24), 1) )
    {
      CGuild::FindMember((int)this, (int)&v20, Str1);
      v10 = sub_430C20(this + 95, (int)v16);
      if ( (unsigned __int8)unknown_libname_8(v10) )
      {
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 4;
      }
      else if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v20) + 4) + 24) == 1 )
      {
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 34;
      }
      else
      {
        v23 = WritePacket_(94, "bbs", 0, 35, Str1);
        CGuild::Broadcast((int)this, v23, 0);
        CIOBuffer::Release(v23);
        a1 = *(CIOObject ***)(*(_DWORD *)(sub_420250(&v20) + 4) + 32);
        if ( a1 )
        {
          if ( CPlayer::GetGID((CIOCriticalSection *)a1) )
          {
            CPlayer::SetGID((CIOCriticalSection *)a1, 0);
            CPlayer::SetGuild(a1, v3, v4, v5, 0);
            CPlayer::SetGuildLevel((CIOCriticalSection *)a1, 0);
            CPlayer::SetGuildName((char *)a1, &Source);
            CPlayer::SetGuildStandard((CIOCriticalSection *)a1, 0);
            CPlayer::SetGuildClass((int)a1, 0, &Source);
            CPlayer::BreakStandard((CIOCriticalSection *)a1);
            v11 = std::_Mpunct<wchar_t>::do_frac_digits(a1);
            v18 = WritePacket_(94, "bdssbd", 9, v11, &Source, &Source, 0, 0);
            CGuild::SendPlayerSight((int)a1, v18, 0);
            if ( !--this[8] )
              LOG_ERR("CGuild::Banish() player reference error");
          }
          sub_401DE0((int *)a1);
          *(_DWORD *)(*(_DWORD *)(sub_420250(&v20) + 4) + 32) = 0;
        }
        v19 = time(0) + 259200;
        v14 = v19;
        v12 = (_DWORD *)sub_420250(&v20);
        CDBSocket::Write(45, "dd", *v12, v14);
        CGuild::MemberDEL(this, v20);
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 36;
      }
    }
    else
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 22;
    }
  }
  return result;
}
// 4141BA: variable 'v3' is possibly undefined
// 4141BA: variable 'v4' is possibly undefined
// 4141BA: variable 'v5' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (004142D0) --------------------------------------------------------
int __thiscall CGuild::Appointment(_DWORD *this, int a2, char *Str1, char *a4)
{
  int v4; // eax
  int v5; // eax
  int result; // eax
  int v7; // eax
  int v8; // eax
  int v9; // esi
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // eax
  _DWORD *v21; // eax
  int v22; // eax
  int *v23; // [esp-10h] [ebp-58h]
  int *v24; // [esp-Ch] [ebp-54h]
  int v25; // [esp-8h] [ebp-50h]
  void *v26; // [esp-8h] [ebp-50h]
  int v27; // [esp-8h] [ebp-50h]
  int v28; // [esp-4h] [ebp-4Ch]
  char *v29; // [esp-4h] [ebp-4Ch]
  int v30; // [esp-4h] [ebp-4Ch]
  int v31; // [esp-4h] [ebp-4Ch]
  int v32; // [esp-4h] [ebp-4Ch]
  int v33; // [esp+4h] [ebp-44h]
  int v34; // [esp+8h] [ebp-40h]
  int v35; // [esp+Ch] [ebp-3Ch]
  int v36; // [esp+10h] [ebp-38h]
  int v37; // [esp+14h] [ebp-34h]
  int v38; // [esp+18h] [ebp-30h]
  int v39; // [esp+1Ch] [ebp-2Ch]
  int v40; // [esp+20h] [ebp-28h]
  char v42[4]; // [esp+28h] [ebp-20h] BYREF
  char v43[4]; // [esp+2Ch] [ebp-1Ch] BYREF
  void *v44; // [esp+30h] [ebp-18h]
  int v45; // [esp+34h] [ebp-14h]
  int v46; // [esp+38h] [ebp-10h]
  int a2a; // [esp+3Ch] [ebp-Ch] BYREF
  char v48[4]; // [esp+40h] [ebp-8h] BYREF
  CIOBuffer *v49; // [esp+44h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20(this + 95, v48, (_DWORD *)(a2 + 452));
  v4 = sub_430C20(this + 95, (int)v43);
  if ( (unsigned __int8)unknown_libname_8(v4) )
  {
    v28 = *(_DWORD *)(a2 + 452);
    v5 = CPlayer::GetGID((CIOCriticalSection *)a2);
    LOG_ERR("CGuild::Appointment() member find error (gid:%d,pid:%d)", v5, v28);
    CRWLock::WriteUnlock(&unk_4E0980);
    return 1;
  }
  v7 = sub_420250(v48);
  if ( !CGuild::IsSkillAble(this, *(_DWORD *)(*(_DWORD *)(v7 + 4) + 24), 3) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 22;
  }
  CGuild::FindMember((int)this, (int)&a2a, Str1);
  v8 = sub_430C20(this + 95, (int)v42);
  if ( (unsigned __int8)unknown_libname_8(v8) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 4;
  }
  if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 24) == 1 )
    goto LABEL_8;
  if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 24) == 2
    && (v9 = *(_DWORD *)(sub_420250(&a2a) + 4), *(_DWORD *)(v9 + 36) > time(0)) )
  {
    v10 = sub_420250(&a2a);
    CPlayer::Write(a2, 94, "bbd", 0, 39, *(_DWORD *)(*(_DWORD *)(v10 + 4) + 36));
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 0;
  }
  else
  {
    v45 = CGuild::GetTitle2Class((const char *)this, a4);
    if ( v45 )
    {
      if ( v45 == 1 )
      {
LABEL_8:
        CRWLock::WriteUnlock(&unk_4E0980);
        return 37;
      }
      v11 = sub_420250(&a2a);
      if ( *(_DWORD *)(*(_DWORD *)(v11 + 4) + 24) == v45 )
      {
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 41;
      }
      else if ( v45 < 6 && CGuild::IsMemberFull((int)this) )
      {
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 40;
      }
      else if ( CGuild::IsAppointmentFull((int)this, v45) )
      {
        v46 = CGuild::GetAppointmentLimitTime((int)this, v45);
        if ( v46 && v46 > time(0) )
        {
          CRWLock::WriteUnlock(&unk_4E0980);
          CPlayer::Write(a2, 94, "bbd", 0, 39, v46);
          result = 0;
        }
        else
        {
          if ( v45 == 6 )
          {
            if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 20) >= 0 )
              v40 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 20);
            else
              v40 = 0;
            if ( this[16] - v40 >= 0 )
            {
              if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 20) >= 0 )
                v38 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 20);
              else
                v38 = 0;
              v39 = this[16] - v38;
            }
            else
            {
              v39 = 0;
            }
            this[16] = v39;
          }
          else if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 24) == 6 )
          {
            if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 20) >= 0 )
              v37 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 20);
            else
              v37 = 0;
            if ( v37 + this[16] <= 2000000000 )
            {
              if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 20) >= 0 )
                v35 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 20);
              else
                v35 = 0;
              v36 = v35 + this[16];
            }
            else
            {
              v36 = 2000000000;
            }
            this[16] = v36;
          }
          if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
            v34 = CGuild::CalPenaltyTLevel(this);
          else
            v34 = CGuild::CalPenaltyLevel(this);
          CGuild::SetLevel((int)this, v34);
          if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 32) && (CGuild::GetGuildSkill(this[18]) & 1) != 0 )
          {
            v12 = sub_420250(&a2a);
            *(_DWORD *)(*(_DWORD *)(v12 + 4) + 24) = v45;
            v29 = CGuild::GetClass2Title((char *)this, v45);
            v25 = v45;
            v13 = sub_420250(&a2a);
            CPlayer::SetGuildClass(*(_DWORD *)(*(_DWORD *)(v13 + 4) + 32), v25, v29);
            v14 = sub_420250(&a2a);
            v30 = CPlayer::GetGuildStandard(*(int **)(*(_DWORD *)(v14 + 4) + 32));
            v15 = sub_420250(&a2a);
            v24 = CPlayer::GetGuildName(*(int **)(*(_DWORD *)(v15 + 4) + 32));
            v16 = sub_420250(&a2a);
            v23 = CPlayer::GetGuildClassTitle(*(int **)(*(_DWORD *)(v16 + 4) + 32));
            v17 = sub_420250(&a2a);
            v18 = std::_Mpunct<wchar_t>::do_frac_digits(*(_DWORD **)(*(_DWORD *)(v17 + 4) + 32));
            v44 = WritePacket_(94, "bdssbd", 9, v18, v23, v24, 1, v30);
            v26 = v44;
            v19 = sub_420250(&a2a);
            CGuild::SendPlayerSight(*(_DWORD *)(*(_DWORD *)(v19 + 4) + 32), v26, 0);
          }
          else
          {
            v20 = sub_420250(&a2a);
            *(_DWORD *)(*(_DWORD *)(v20 + 4) + 24) = v45;
          }
          if ( v45 == 2 )
            v33 = time(0) + 604800;
          else
            v33 = 0;
          *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 36) = v33;
          v31 = *(_DWORD *)(*(_DWORD *)(sub_420250(&a2a) + 4) + 36);
          v27 = (unsigned __int8)v45;
          v21 = (_DWORD *)sub_420250(&a2a);
          CDBSocket::Write(46, "dbd", *v21, v27, v31);
          v32 = (unsigned __int8)v45;
          v22 = sub_420250(&a2a);
          v49 = WritePacket_(94, "bbsb", 0, 42, *(_DWORD *)(v22 + 4), v32);
          CGuild::Broadcast((int)this, v49, 0);
          CIOBuffer::Release(v49);
          CRWLock::WriteUnlock(&unk_4E0980);
          result = 0;
        }
      }
      else
      {
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 38;
      }
    }
    else
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 55;
    }
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00414890) --------------------------------------------------------
int __thiscall CGuild::Dissolution(int this, int a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi
  int v5; // eax
  int v6; // eax
  int result; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int v9; // eax
  int v10; // [esp-4h] [ebp-2Ch]
  void *v12; // [esp+4h] [ebp-24h]
  char v13[4]; // [esp+8h] [ebp-20h] BYREF
  char v14[4]; // [esp+Ch] [ebp-1Ch] BYREF
  char v15[4]; // [esp+10h] [ebp-18h] BYREF
  int a1; // [esp+14h] [ebp-14h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v17; // [esp+18h] [ebp-10h] BYREF
  int v18; // [esp+1Ch] [ebp-Ch]
  char v19[4]; // [esp+20h] [ebp-8h] BYREF
  void *v20; // [esp+24h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20((_DWORD *)(this + 380), v19, (_DWORD *)(a2 + 452));
  v5 = sub_430C20((_DWORD *)(this + 380), (int)v15);
  if ( (unsigned __int8)unknown_libname_8(v5) )
  {
    v10 = *(_DWORD *)(a2 + 452);
    v6 = CPlayer::GetGID((CIOCriticalSection *)a2);
    LOG_ERR("CGuild::Dissolution() member find error (gid:%d,pid:%d)", v6, v10);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 1;
  }
  else if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v19) + 4) + 24) == 1 )
  {
    if ( CCastle::IsAllCastleWarRelation(this) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 107;
    }
    else
    {
      v18 = time(0) + 259200;
      std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v17);
      while ( 1 )
      {
        v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v13);
        if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                &v17,
                v8) )
          break;
        a1 = *(_DWORD *)(*(_DWORD *)(sub_420250(&v17) + 4) + 32);
        if ( a1 )
        {
          CPlayer::SetGID((CIOCriticalSection *)a1, 0);
          CPlayer::SetGuild((CIOObject **)a1, v2, v3, v4, 0);
          CPlayer::SetGuildLevel((CIOCriticalSection *)a1, 0);
          CPlayer::SetGuildName((char *)a1, &Source);
          CPlayer::SetGuildStandard((CIOCriticalSection *)a1, 0);
          CPlayer::SetGuildClass(a1, 0, &Source);
          CPlayer::BreakStandard((CIOCriticalSection *)a1);
          CPlayer::Write(a1, 94, "bb", 0, 43);
          v9 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
          v20 = WritePacket_(94, "bdssbd", 9, v9, &Source, &Source, 0, 0);
          CGuild::SendPlayerSight(a1, v20, 0);
          sub_401DE0((int *)a1);
          *(_DWORD *)(*(_DWORD *)(sub_420250(&v17) + 4) + 32) = 0;
          --*(_DWORD *)(this + 32);
        }
        v12 = *(void **)(sub_420250(&v17) + 4);
        sub_401020(v12);
        sub_446090((int *)&v17, v14, 0);
      }
      sub_418530((_DWORD *)(this + 380));
      if ( *(int *)(this + 32) > 0 )
        LOG_ERR("CGuild::Dissolution() plaer reference error (ref:%d)", *(_DWORD *)(this + 32));
      *(_DWORD *)(this + 356) = GetTickCount() + 600000;
      CDBSocket::Write(47, "dd", *(_DWORD *)(a2 + 452), v18);
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 44;
    }
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 22;
  }
  return result;
}
// 4149E1: variable 'v2' is possibly undefined
// 4149E1: variable 'v3' is possibly undefined
// 4149E1: variable 'v4' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00414B30) --------------------------------------------------------
int __thiscall CGuild::TitleChange(int this, int a2, char *Str1, char *Source)
{
  int result; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int *v12; // [esp-10h] [ebp-34h]
  int *v13; // [esp-Ch] [ebp-30h]
  int v14; // [esp-8h] [ebp-2Ch]
  int v15; // [esp-4h] [ebp-28h]
  int v16; // [esp-4h] [ebp-28h]
  char v18[4]; // [esp+4h] [ebp-20h] BYREF
  char v19[4]; // [esp+8h] [ebp-1Ch] BYREF
  char v20[4]; // [esp+Ch] [ebp-18h] BYREF
  char v21[4]; // [esp+10h] [ebp-14h] BYREF
  int a1; // [esp+14h] [ebp-10h]
  int v23; // [esp+18h] [ebp-Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v24; // [esp+1Ch] [ebp-8h] BYREF
  CIOBuffer *v25; // [esp+20h] [ebp-4h]

  if ( !IsValidName(Source) )
    return 45;
  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20((_DWORD *)(this + 380), &v24, (_DWORD *)(a2 + 452));
  v5 = sub_430C20((_DWORD *)(this + 380), (int)v21);
  if ( (unsigned __int8)unknown_libname_8(v5) )
  {
    v15 = *(_DWORD *)(a2 + 452);
    v6 = CPlayer::GetGID((CIOCriticalSection *)a2);
    LOG_ERR("CGuild::TitelChange() member find error (gid:%d,pid:%d)", v6, v15);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 1;
  }
  else
  {
    v7 = sub_420250(&v24);
    if ( CGuild::IsSkillAble((_DWORD *)this, *(_DWORD *)(*(_DWORD *)(v7 + 4) + 24), 4) )
    {
      v23 = CGuild::GetTitle2Class((const char *)this, Str1);
      if ( v23 )
      {
        CGuild::SetClassTitle((char *)this, v23, Source);
        v25 = WritePacket_(94, "bbbs", 0, 46, (unsigned __int8)v23, Source);
        CGuild::Broadcast(this, v25, 0);
        CIOBuffer::Release(v25);
        for ( v24._Myptr = *(CIOSocket::CIOTimer **)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
                                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v20);
              ;
              sub_446090((int *)&v24, v19, 0) )
        {
          v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v18);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  &v24,
                  v8) )
            break;
          a1 = *(_DWORD *)(*(_DWORD *)(sub_420250(&v24) + 4) + 32);
          if ( a1 )
          {
            v9 = sub_420250(&v24);
            if ( *(_DWORD *)(*(_DWORD *)(v9 + 4) + 24) == v23 )
            {
              CPlayer::SetGuildClass(a1, v23, Source);
              if ( (CGuild::GetGuildSkill(*(_DWORD *)(this + 72)) & 1) != 0 )
              {
                v16 = CPlayer::GetGuildStandard((int *)a1);
                v13 = CPlayer::GetGuildName((int *)a1);
                v12 = CPlayer::GetGuildClassTitle((int *)a1);
                v10 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
                v25 = WritePacket_(94, "bdssbd", 9, v10, v12, v13, 1, v16);
                CGuild::SendPlayerSight(a1, v25, 0);
              }
            }
          }
        }
        v14 = (unsigned __int8)v23;
        v11 = CPlayer::GetGID((CIOCriticalSection *)a2);
        CDBSocket::Write(48, "dbs", v11, v14, Source);
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 0;
      }
      else
      {
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 55;
      }
    }
    else
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 22;
    }
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00414D90) --------------------------------------------------------
int __thiscall CGuild::SetTodayMessage(int this, int a2, char *Source)
{
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-4h] [ebp-14h]
  char v10[4]; // [esp+4h] [ebp-Ch] BYREF
  char v11[4]; // [esp+8h] [ebp-8h] BYREF
  CIOBuffer *v12; // [esp+Ch] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20((_DWORD *)(this + 380), v11, (_DWORD *)(a2 + 452));
  v3 = sub_430C20((_DWORD *)(this + 380), (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3) )
  {
    v8 = *(_DWORD *)(a2 + 452);
    v4 = CPlayer::GetGID((CIOCriticalSection *)a2);
    LOG_ERR("CGuild::TitelChange() member find error (gid:%d,pid:%d)", v4, v8);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 1;
  }
  else
  {
    v6 = sub_420250(v11);
    if ( CGuild::IsSkillAble((_DWORD *)this, *(_DWORD *)(*(_DWORD *)(v6 + 4) + 24), 2) )
    {
      if ( IsValidString(Source) )
      {
        strcpy((char *)(this + 174), Source);
        v12 = WritePacket_(94, "bbs", 0, 5, this + 174);
        CGuild::Broadcast(this, v12, 0);
        CIOBuffer::Release(v12);
        v7 = CPlayer::GetGID((CIOCriticalSection *)a2);
        CDBSocket::Write(49, "ds", v7, this + 174);
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 0;
      }
      else
      {
        CRWLock::WriteUnlock(&unk_4E0980);
        result = 56;
      }
    }
    else
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 22;
    }
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00414EF0) --------------------------------------------------------
void __thiscall CGuild::GetTodayMessage(char *this, int a2)
{
  CRWLock::ReadLock(&unk_4E0980);
  CPlayer::Write(a2, 94, "bbs", 0, 5, this + 174);
  CRWLock::ReadUnlock(&unk_4E0980);
}

//----- (00414F40) --------------------------------------------------------
void __thiscall CGuild::SendMemberInfo(int this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  int v5; // eax
  unsigned __int8 v6; // al
  char v7; // [esp+7h] [ebp-1019h]
  char v9[4]; // [esp+Ch] [ebp-1014h] BYREF
  char v10[4]; // [esp+10h] [ebp-1010h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v11; // [esp+14h] [ebp-100Ch] BYREF
  char v12; // [esp+18h] [ebp-1008h] BYREF
  char v13[4092]; // [esp+19h] [ebp-1007h] BYREF
  __int16 v14; // [esp+1015h] [ebp-Bh]
  char v15; // [esp+1017h] [ebp-9h]
  int v16; // [esp+1018h] [ebp-8h]
  char *v17; // [esp+101Ch] [ebp-4h]

  v16 = dword_4D9830;
  v12 = 0;
  memset(v13, 0, sizeof(v13));
  v14 = 0;
  v15 = 0;
  v17 = &v12;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v11);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v9);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v11,
            v3) )
      break;
    v4 = sub_420250(&v11);
    v17 = PutString(v17, *(const char **)(v4 + 4));
    v5 = sub_420250(&v11);
    v17 = PutNumeric<unsigned char>(v17, *(_BYTE *)(*(_DWORD *)(v5 + 4) + 24));
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v11) + 4) + 28) && *(_DWORD *)(*(_DWORD *)(sub_420250(&v11) + 4) + 32) )
      v7 = *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v11) + 4) + 32) + 60);
    else
      v7 = 0;
    v17 = PutNumeric<unsigned char>(v17, v7);
    sub_446090((int *)&v11, v10, 0);
  }
  v6 = unknown_libname_10(this + 380, &v12);
  CPlayer::Write(
    a2,
    94,
    "bdsssssssbm",
    6,
    a3,
    this + 44,
    this + 84,
    this + 99,
    this + 114,
    this + 129,
    this + 144,
    this + 159,
    v6);
  CPlayer::Write(
    a2,
    94,
    "bbdddd",
    8,
    *(_DWORD *)(this + 72),
    *(_DWORD *)(this + 64),
    *(_DWORD *)(this + 68),
    *(_DWORD *)(this + 80),
    *(_DWORD *)(this + 76));
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00415170) --------------------------------------------------------
int __thiscall CGuild::AdminInfo(_DWORD *this, int a2)
{
  int result; // eax

  CRWLock::ReadLock(&unk_4E0980);
  if ( *(_DWORD *)(a2 + 452) == CPlayer::GetGID((CIOCriticalSection *)a2) )
  {
    CPlayer::Write(a2, 94, "bddddd", 7, this[90], this[91], this[92], this[93], this[94]);
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 0;
  }
  else
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 22;
  }
  return result;
}

//----- (00415200) --------------------------------------------------------
int __thiscall CGuild::BasicInfo(_DWORD *this, int a2)
{
  CRWLock::ReadLock(&unk_4E0980);
  CPlayer::Write(a2, 94, "bbdddd", 8, this[18], this[16], this[17], this[20], this[19]);
  CRWLock::ReadUnlock(&unk_4E0980);
  return 0;
}

//----- (00415260) --------------------------------------------------------
int __thiscall CGuild::SetSkillAble(void *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax

  CRWLock::WriteLock(&unk_4E0980);
  if ( *(_DWORD *)(a2 + 452) == CPlayer::GetGID((CIOCriticalSection *)a2) )
  {
    *((_DWORD *)this + 90) = a3;
    *((_DWORD *)this + 91) = a4;
    *((_DWORD *)this + 92) = a5;
    *((_DWORD *)this + 93) = a6;
    *((_DWORD *)this + 94) = a7;
    CDBSocket::Write(
      51,
      "dddddd",
      *(_DWORD *)(a2 + 452),
      *((_DWORD *)this + 90),
      *((_DWORD *)this + 91),
      *((_DWORD *)this + 92),
      *((_DWORD *)this + 93),
      *((_DWORD *)this + 94));
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 47;
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 22;
  }
  return result;
}

//----- (00415340) --------------------------------------------------------
int __thiscall CGuild::CheckStandard(int *this, int a2, int a3)
{
  int result; // eax
  int v4; // eax
  int v6; // [esp+4h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  v6 = CPlayer::GetGID((CIOCriticalSection *)a2);
  if ( *(_DWORD *)(a2 + 452) == v6 )
  {
    if ( this[18] >= 2 )
    {
      if ( !(unsigned __int16)this[19] )
      {
        v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CDBSocket::Write(68, "ddd", v4, v6, a3);
      }
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 0;
    }
    else
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 103;
    }
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 22;
  }
  return result;
}

//----- (004153F0) --------------------------------------------------------
int __thiscall CGuild::SetStandard(int *this, int a2, int a3)
{
  int result; // eax
  int v4; // eax
  int v6; // [esp+4h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E0980);
  v6 = CPlayer::GetGID((CIOCriticalSection *)a2);
  if ( *(_DWORD *)(a2 + 452) == v6 )
  {
    if ( this[18] >= 2 )
    {
      v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CDBSocket::Write(69, "ddd", v4, v6, a3);
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 0;
    }
    else
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      result = 103;
    }
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 22;
  }
  return result;
}

//----- (00415480) --------------------------------------------------------
int __thiscall CGuild::OnSetStandard(int this, int a2, int a3, int a4, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  CItem *v7; // [esp-Ch] [ebp-2Ch]
  int v8; // [esp-8h] [ebp-28h]
  CIOCriticalSection *v9; // [esp+0h] [ebp-20h]
  char v11[4]; // [esp+8h] [ebp-18h] BYREF
  char v12[4]; // [esp+Ch] [ebp-14h] BYREF
  CPlayer *player; // [esp+10h] [ebp-10h]
  int a1; // [esp+14h] [ebp-Ch]
  char v15[4]; // [esp+18h] [ebp-8h] BYREF
  CIOObject *Item; // [esp+1Ch] [ebp-4h]

  if ( a3 )
  {
    CRWLock::WriteLock(&unk_4E0980);
    *(_DWORD *)(this + 76) = a5;
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v15);
    while ( 1 )
    {
      v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v11);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)v15,
              v5) )
        break;
      a1 = *(_DWORD *)(*(_DWORD *)(sub_420250(v15) + 4) + 32);
      if ( a1 )
      {
        CPlayer::SetGuildStandard((CIOCriticalSection *)a1, a5);
        CPlayer::Write(a1, 94, "bbd", 0, 48, a5);
      }
      sub_446090((int *)v15, v12, 0);
    }
    CRWLock::WriteUnlock(&unk_4E0980);
  }
  Item = CPlayer::FindPlayer_(a2);
  if ( Item )
  {
    if ( a3 )
    {
      CIOCriticalSection::Enter(v9);
      player = (CPlayer *)Item[68].m_nTimerRef;
      if ( player )
      {
        v8 = 31;
        v7 = (CItem *)Item;
        if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
          CPlayer::_OutofInven(player, v7);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)v8);
    }
    else
    {
      CPlayer::Write((int)Item, 94, "bb", 0, 102);
    }
    CIOObject::Release(Item, (volatile int *)&Item[22]);
  }
  return 0;
}
// 41555C: variable 'v9' is possibly undefined
// 4155C1: variable 'v8' is possibly undefined

//----- (00415600) --------------------------------------------------------
int __thiscall CGuild::SetExpADD(int *this, int a2, int a3)
{
  int v4; // ecx
  int v5; // ecx
  int v6; // eax
  int v7; // eax
  int v8; // eax
  __int64 v9; // [esp-10h] [ebp-3Ch]
  __int64 v10; // [esp-10h] [ebp-3Ch]
  int v11; // [esp-8h] [ebp-34h]
  int v12; // [esp+0h] [ebp-2Ch]
  __int64 v13; // [esp+8h] [ebp-24h]
  int v15; // [esp+28h] [ebp-4h]

  if ( !*(_QWORD *)(a2 + 472) )
    return 51;
  if ( a3 == 10 )
  {
    if ( dword_4D567C[2 * *(_DWORD *)(a2 + 60)] | dword_4D5678[2 * *(_DWORD *)(a2 + 60)] )
    {
      v4 = *(_DWORD *)(a2 + 60);
      LODWORD(v9) = dword_4D5678[2 * v4];
      HIDWORD(v9) = dword_4D567C[2 * v4];
      if ( v9 / 10 >= *(_QWORD *)(a2 + 472) )
      {
        LODWORD(v13) = *(_DWORD *)(a2 + 472);
      }
      else
      {
        v5 = *(_DWORD *)(a2 + 60);
        HIDWORD(v10) = dword_4D567C[2 * v5];
        LODWORD(v10) = dword_4D5678[2 * v5];
        v13 = v10 / 10;
      }
      v12 = v13;
    }
    else
    {
      v12 = 0;
    }
    v15 = v12;
  }
  else
  {
    v15 = *(_DWORD *)(a2 + 472);
  }
  if ( v15 <= 0 )
  {
    LOG_ERR(
      "CGuild::SetExpADD() exp cal error (exppercent:%d,nextlevelexp:%d,exp:%d)",
      a3,
      dword_4D5678[2 * *(_DWORD *)(a2 + 60)],
      dword_4D567C[2 * *(_DWORD *)(a2 + 60)]);
    return 1;
  }
  CRWLock::WriteLock(&unk_4E0980);
  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
  {
    if ( this[17] >= 3 )
      goto LABEL_16;
    this[17] += v15;
    if ( this[17] > 3 )
    {
      v15 -= this[17] - 3;
      this[17] = 3;
    }
    v7 = CGuild::CalPenaltyTLevel(this);
    CGuild::SetLevel((int)this, v7);
  }
  else
  {
    if ( this[17] >= 16000000 )
    {
LABEL_16:
      CRWLock::WriteUnlock(&unk_4E0980);
      return 53;
    }
    this[17] += v15;
    if ( this[17] > 16000000 )
    {
      v15 -= this[17] - 16000000;
      this[17] = 16000000;
    }
    v6 = CGuild::CalPenaltyLevel(this);
    CGuild::SetLevel((int)this, v6);
  }
  v11 = *(_DWORD *)(a2 + 452);
  v8 = CPlayer::GetGID((CIOCriticalSection *)a2);
  CDBSocket::Write(50, "ddd", v8, v11, v15);
  CRWLock::WriteUnlock(&unk_4E0980);
  (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 88))(a2, 25, 0, v15, v15 >> 31);
  CPlayer::Write(a2, 94, "bbd", 0, 52, v15);
  return 0;
}
// 4D5678: using guessed type int dword_4D5678[];

//----- (004158B0) --------------------------------------------------------
int __cdecl CGuild::SetExp(char *Str, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // eax
  _DWORD *v7; // eax
  const char *v8; // [esp-4h] [ebp-18h]
  int v9; // [esp-4h] [ebp-18h]
  int v10; // [esp+0h] [ebp-14h]
  char v11[4]; // [esp+4h] [ebp-10h] BYREF
  char v12[4]; // [esp+8h] [ebp-Ch] BYREF
  int v13; // [esp+Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v14; // [esp+10h] [ebp-4h] BYREF

  if ( a2 < 0 || a2 > 16000000 )
    return 0;
  if ( strlen(Str) > 0xE )
    return 0;
  CRWLock::WriteLock(&unk_4E0980);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E0968,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v14);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0968, (int)v11);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v14,
            v3) )
    {
      CDBSocket::Write(59, "sd", Str, a2);
      CRWLock::WriteUnlock(&unk_4E0980);
      return 1;
    }
    v8 = (const char *)(*(_DWORD *)(sub_420250(&v14) + 4) + 44);
    if ( !strcmp(Str, v8) )
      break;
    sub_446090((int *)&v14, v12, 0);
  }
  v13 = a2 - *(_DWORD *)(*(_DWORD *)(sub_420250(&v14) + 4) + 68);
  *(_DWORD *)(*(_DWORD *)(sub_420250(&v14) + 4) + 68) = a2;
  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
  {
    v5 = sub_420250(&v14);
    v10 = CGuild::CalPenaltyTLevel(*(int **)(v5 + 4));
  }
  else
  {
    v4 = sub_420250(&v14);
    v10 = CGuild::CalPenaltyLevel(*(int **)(v4 + 4));
  }
  v6 = sub_420250(&v14);
  CGuild::SetLevel(*(_DWORD *)(v6 + 4), v10);
  v9 = v13;
  v7 = (_DWORD *)sub_420250(&v14);
  CDBSocket::Write(50, "ddd", *v7, 0, v9);
  CRWLock::WriteUnlock(&unk_4E0980);
  return 1;
}
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00415A20) --------------------------------------------------------
_DWORD __stdcall CGuild::SetConnectTell(CIOCriticalSection *a1, int a2)
{
  int v2; // ecx
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  int v7; // [esp+0h] [ebp-10h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  CIOBuffer *v10; // [esp+Ch] [ebp-4h]

  v7 = v2;
  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20((_DWORD *)(v7 + 380), v9, &a1[14].m_critical_section.LockCount);
  v3 = sub_430C20((_DWORD *)(v7 + 380), (int)v8);
  if ( (unsigned __int8)unknown_libname_8(v3) )
  {
    v6 = a1[14].m_critical_section.LockCount;
    v4 = CPlayer::GetGID(a1);
    LOG_ERR("CGuild::SetConnectTell() member find error (gid:%d,pid:%d)", v4, v6);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 1;
  }
  else if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v9) + 4) + 28) == a2 )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 49;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)(sub_420250(v9) + 4) + 28) = a2;
    if ( a2 )
      v10 = WritePacket_(94, "bbsb", 0, 2, &a1[1], a1[1].m_dwEIP[1]);
    else
      v10 = WritePacket_(94, "bbs", 0, 3, &a1[1]);
    CGuild::Broadcast(v7, v10, (int)a1);
    CIOBuffer::Release(v10);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 50;
  }
  return result;
}
// 415A26: variable 'v2' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00415B60) --------------------------------------------------------
void __stdcall CGuild::SetMemberLelvelUp(int a1, char a2)
{
  int v2; // ecx
  int v3; // [esp+0h] [ebp-8h]
  CIOBuffer *v4; // [esp+4h] [ebp-4h]

  v3 = v2;
  CRWLock::ReadLock(&unk_4E0980);
  v4 = WritePacket_(94, "bbbs", 0, 54, (unsigned __int8)a2, a1);
  CGuild::Broadcast(v3, v4, 0);
  CIOBuffer::Release(v4);
  CRWLock::ReadUnlock(&unk_4E0980);
}
// 415B66: variable 'v2' is possibly undefined

//----- (00415BC0) --------------------------------------------------------
int __thiscall CGuild::GetTitle2Class(const char *this, char *Str1)
{
  char *v2; // eax
  char *v4; // eax
  char *v5; // eax
  char *v6; // eax
  char *v7; // eax
  char *v8; // eax

  if ( !strcmp(Str1, "1") )
    return 1;
  v2 = GetStr(912);
  if ( !strcmp(Str1, v2) || !strcmp(Str1, this + 84) )
    return 1;
  if ( !strcmp(Str1, "2") )
    return 2;
  v4 = GetStr(913);
  if ( !strcmp(Str1, v4) || !strcmp(Str1, this + 99) )
    return 2;
  if ( !strcmp(Str1, "3") )
    return 3;
  v5 = GetStr(914);
  if ( !strcmp(Str1, v5) || !strcmp(Str1, this + 114) )
    return 3;
  if ( !strcmp(Str1, "4") )
    return 4;
  v6 = GetStr(915);
  if ( !strcmp(Str1, v6) || !strcmp(Str1, this + 129) )
    return 4;
  if ( !strcmp(Str1, "5") )
    return 5;
  v7 = GetStr(916);
  if ( !strcmp(Str1, v7) || !strcmp(Str1, this + 144) )
    return 5;
  if ( !strcmp(Str1, "6") )
    return 6;
  v8 = GetStr(917);
  if ( !strcmp(Str1, v8) || !strcmp(Str1, this + 159) )
    return 6;
  return 0;
}

//----- (00415DD0) --------------------------------------------------------
char *__thiscall CGuild::GetClass2Title(char *this, int a2)
{
  char *result; // eax

  switch ( a2 )
  {
    case 1:
      result = this + 84;
      break;
    case 2:
      result = this + 99;
      break;
    case 3:
      result = this + 114;
      break;
    case 4:
      result = this + 129;
      break;
    case 5:
      result = this + 144;
      break;
    default:
      result = this + 159;
      break;
  }
  return result;
}

//----- (00415E50) --------------------------------------------------------
char *__thiscall CGuild::SetClassTitle(char *this, int a2, char *Source)
{
  char *result; // eax

  result = (char *)a2;
  switch ( a2 )
  {
    case 1:
      result = strcpy(this + 84, Source);
      break;
    case 2:
      result = strcpy(this + 99, Source);
      break;
    case 3:
      result = strcpy(this + 114, Source);
      break;
    case 4:
      result = strcpy(this + 129, Source);
      break;
    case 5:
      result = strcpy(this + 144, Source);
      break;
    case 6:
      result = strcpy(this + 159, Source);
      break;
    default:
      return result;
  }
  return result;
}

//----- (00415F20) --------------------------------------------------------
BOOL __thiscall CGuild::IsMemberFull(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  BOOL result; // eax
  char v4[4]; // [esp+8h] [ebp-10h] BYREF
  char v5[4]; // [esp+Ch] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+10h] [ebp-8h] BYREF
  int v7; // [esp+14h] [ebp-4h]

  v7 = 0;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v6) + 4) + 24) != 6 )
      ++v7;
    sub_446090((int *)&v6, v5, 0);
  }
  switch ( *(_DWORD *)(this + 72) )
  {
    case 1:
      result = v7 >= 12;
      break;
    case 2:
      result = v7 >= 26;
      break;
    case 3:
      result = v7 >= 40;
      break;
    case 4:
      result = v7 >= 54;
      break;
    default:
      result = 1;
      break;
  }
  return result;
}

//----- (00416000) --------------------------------------------------------
int __thiscall CGuild::IsAppointmentFull(int this, int a2)
{
  int result; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  unsigned int v4; // eax
  unsigned int v5; // eax
  char v7[4]; // [esp+8h] [ebp-10h] BYREF
  char v8[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v9[4]; // [esp+10h] [ebp-8h] BYREF
  unsigned int v10; // [esp+14h] [ebp-4h]

  if ( a2 == 5 || a2 == 6 )
    return 1;
  v10 = 0;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v7);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v9,
            v3) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v9) + 4) + 24) == a2 )
      ++v10;
    sub_446090((int *)v9, v8, 0);
  }
  switch ( a2 )
  {
    case 2:
      return (int)v10 <= 0;
    case 3:
      v4 = unknown_libname_10(this + 380, 3);
      result = v10 < v4 / 0x64;
      break;
    case 4:
      v5 = unknown_libname_10(this + 380, 4);
      result = v10 < v5 / 0xA;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (00416100) --------------------------------------------------------
int __thiscall CGuild::GetAppointmentLimitTime(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  char v7[4]; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h]

  v8 = 0;
  if ( a2 != 2 )
    return v8;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v7,
            v3) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v7) + 4) + 24) == 2 )
      return *(_DWORD *)(*(_DWORD *)(sub_420250(v7) + 4) + 36);
    sub_446090((int *)v7, v6, 0);
  }
  return v8;
}

//----- (00416190) --------------------------------------------------------
int __stdcall CGuild::IsSameName(char *Str1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  char v5[4]; // [esp+8h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E0980);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E0968,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0968, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v1) )
      break;
    v2 = sub_420250(&v6);
    if ( !strcmp(Str1, (const char *)(*(_DWORD *)(v2 + 4) + 44)) )
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      return 1;
    }
    sub_446090((int *)&v6, v5, 0);
  }
  CRWLock::ReadUnlock(&unk_4E0980);
  return 0;
}
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00416230) --------------------------------------------------------
CIOObject *__cdecl sub_416230(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-Ch] BYREF
  char v4[4]; // [esp+4h] [ebp-8h] BYREF
  CIOObject *v5; // [esp+8h] [ebp-4h]

  v5 = 0;
  CRWLock::ReadLock(&unk_4E0980);
  sub_44AE20(dword_4E0968, v4, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0968, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v4,
         v1) )
  {
    v5 = *(CIOObject **)(sub_420250(v4) + 4);
    CIOObject::AddRef(v5, &v5[2].m_nTimerRef);
  }
  CRWLock::ReadUnlock(&unk_4E0980);
  return v5;
}

//----- (004162B0) --------------------------------------------------------
int __cdecl CGuild::FindGuild(char *Str1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v4[4]; // [esp+0h] [ebp-Ch] BYREF
  char v5[4]; // [esp+4h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+8h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E0968,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E0968, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v1) )
      break;
    v2 = sub_420250(&v6);
    if ( !strcmp(Str1, (const char *)(*(_DWORD *)(v2 + 4) + 44)) )
      return *(_DWORD *)(sub_420250(&v6) + 4);
    sub_446090((int *)&v6, v5, 0);
  }
  return 0;
}
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00416330) --------------------------------------------------------
int __thiscall CGuild::FindLeaderPlayer(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  char v5[4]; // [esp+8h] [ebp-8h] BYREF
  char v6[4]; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v6) + 4) + 24) == 1 )
      return *(_DWORD *)(*(_DWORD *)(sub_420250(v6) + 4) + 32);
    sub_446090((int *)v6, v5, 0);
  }
  return 0;
}

//----- (004163B0) --------------------------------------------------------
char *__thiscall CGuild::GetLeaderName(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  char v5[4]; // [esp+8h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v6) + 4) + 24) == 1 )
      return *(char **)(sub_420250(&v6) + 4);
    sub_446090((int *)&v6, v5, 0);
  }
  return &Source;
}

//----- (00416430) --------------------------------------------------------
int __thiscall CGuild::FindMember(int this, int a2, char *Str1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v7[4]; // [esp+4h] [ebp-Ch] BYREF
  char v8[4]; // [esp+8h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v9; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v7);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v9,
            v3) )
      break;
    v4 = sub_420250(&v9);
    if ( !strcmp(Str1, *(const char **)(v4 + 4)) )
      break;
    sub_446090((int *)&v9, v8, 0);
  }
  *(std::vector<CIOSocket::CIOTimer>::const_iterator *)a2 = v9;
  return a2;
}

//----- (004164B0) --------------------------------------------------------
char *__cdecl CGuild::Create(char a1)
{
  CAtlTraceSettings *v1; // eax
  char *result; // eax
  CGuild *v3; // [esp+4h] [ebp-2Ch]
  char v4[8]; // [esp+10h] [ebp-20h] BYREF
  char v5[8]; // [esp+18h] [ebp-18h] BYREF
  CMemory **v6; // [esp+20h] [ebp-10h]
  char *v7; // [esp+24h] [ebp-Ch]
  char v8[8]; // [esp+28h] [ebp-8h] BYREF

  CRWLock::WriteLock(&unk_4E0980);
  v6 = sub_401000(0x198u);
  if ( v6 )
    v3 = CGuild::CGuild((CGuild *)v6);
  else
    v3 = 0;
  v7 = (char *)v3;
  v1 = sub_418940((CAtlTraceSettings *)v4);
  std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>((std::pair<int const ,IDirect3DTexture9 *> *)v5, v1);
  sub_445DF0(
    (int)dword_4E0974,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v8,
    (const std::pair<int const ,CGame_Character::TargetInfo> *)v5);
  if ( v8[4] )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = v7;
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    if ( v7 )
      (**(void (__thiscall ***)(char *, int))v7)(v7, 1);
    result = 0;
  }
  return result;
}
// 4E0974: using guessed type int dword_4E0974[3];

//----- (00416570) --------------------------------------------------------
int __thiscall CGuild::MemberADD(int this, int a2, int a3, int a4)
{
  DWORD v4; // ebx
  DWORD v5; // edi
  DWORD v6; // esi
  CAtlTraceSettings *v7; // eax
  int result; // eax
  char *v9; // [esp-4h] [ebp-2Ch]
  char v11[8]; // [esp+8h] [ebp-20h] BYREF
  char v12[8]; // [esp+10h] [ebp-18h] BYREF
  char *v13; // [esp+18h] [ebp-10h]
  char *v14; // [esp+1Ch] [ebp-Ch]
  char v15[8]; // [esp+20h] [ebp-8h] BYREF

  v13 = (char *)sub_401000(0x28u);
  v14 = v13;
  v7 = sub_418940((CAtlTraceSettings *)v11);
  std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>((std::pair<int const ,IDirect3DTexture9 *> *)v12, v7);
  sub_445DF0(
    this + 380,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v15,
    (const std::pair<int const ,CGame_Character::TargetInfo> *)v12);
  if ( v15[4] )
  {
    CPlayer::SetGID((CIOCriticalSection *)a3, a2);
    CPlayer::SetGuild((CIOObject **)a3, v4, v5, v6, (volatile int *)this);
    CPlayer::SetGuildLevel((CIOCriticalSection *)a3, *(_DWORD *)(this + 72));
    CPlayer::SetGuildName((char *)a3, (char *)(this + 44));
    CPlayer::SetGuildStandard((CIOCriticalSection *)a3, *(_DWORD *)(this + 76));
    v9 = CGuild::GetClass2Title((char *)this, a4);
    CPlayer::SetGuildClass(a3, a4, v9);
    strcpy(v14, (const char *)(a3 + 32));
    *((_DWORD *)v14 + 6) = a4;
    *((_DWORD *)v14 + 7) = 1;
    *((_DWORD *)v14 + 9) = 0;
    *((_DWORD *)v14 + 8) = a3;
    sub_4010D0(a3);
    ++*(_DWORD *)(this + 32);
    *(_DWORD *)(this + 356) = 0;
    *((_DWORD *)v14 + 5) = *(_DWORD *)(a3 + 468);
    result = 1;
  }
  else
  {
    sub_401020(v14);
    result = 0;
  }
  return result;
}
// 4165F9: variable 'v4' is possibly undefined
// 4165F9: variable 'v5' is possibly undefined
// 4165F9: variable 'v6' is possibly undefined

//----- (004166C0) --------------------------------------------------------
int __thiscall CGuild::MemberDEL(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-1Ch]
  int v4; // [esp+4h] [ebp-18h]
  int v5; // [esp+8h] [ebp-14h]
  int v6; // [esp+Ch] [ebp-10h]
  char v8[4]; // [esp+14h] [ebp-8h] BYREF
  void *v9; // [esp+18h] [ebp-4h]

  if ( *(int *)(*(_DWORD *)(sub_420250(&a2) + 4) + 24) < 6 )
  {
    if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2) + 4) + 20) >= 0 )
      v6 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2) + 4) + 20);
    else
      v6 = 0;
    if ( this[16] - v6 >= 0 )
    {
      if ( 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2) + 4) + 20) >= 0 )
        v4 = 10000 * *(_DWORD *)(*(_DWORD *)(sub_420250(&a2) + 4) + 20);
      else
        v4 = 0;
      v5 = this[16] - v4;
    }
    else
    {
      v5 = 0;
    }
    this[16] = v5;
    if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
      v3 = CGuild::CalPenaltyTLevel(this);
    else
      v3 = CGuild::CalPenaltyLevel(this);
    CGuild::SetLevel((int)this, v3);
  }
  v9 = *(void **)(sub_420250(&a2) + 4);
  sub_401020(v9);
  return (int)sub_44AF50(this + 95, v8, a2);
}

//----- (004167E0) --------------------------------------------------------
bool __thiscall CGuild::SetLevel(int this, int a2)
{
  bool result; // al
  int v3; // esi
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int *v7; // [esp-10h] [ebp-3Ch]
  int *v8; // [esp-Ch] [ebp-38h]
  int v9; // [esp-4h] [ebp-30h]
  char v11[4]; // [esp+8h] [ebp-24h] BYREF
  char v12[4]; // [esp+Ch] [ebp-20h] BYREF
  char v13[4]; // [esp+10h] [ebp-1Ch] BYREF
  char v14[4]; // [esp+14h] [ebp-18h] BYREF
  CIOCriticalSection *v15; // [esp+18h] [ebp-14h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v16; // [esp+1Ch] [ebp-10h] BYREF
  void *v17; // [esp+20h] [ebp-Ch]
  CIOCriticalSection *v18; // [esp+24h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v19; // [esp+28h] [ebp-4h] BYREF

  result = this;
  if ( *(_DWORD *)(this + 72) != a2 )
  {
    v3 = CGuild::GetGuildSkill(*(_DWORD *)(this + 72)) & 3;
    if ( v3 == (CGuild::GetGuildSkill(a2) & 3) )
    {
      std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v16);
      while ( 1 )
      {
        v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v11);
        result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                   &v16,
                   v6);
        if ( !result )
          break;
        v15 = *(CIOCriticalSection **)(*(_DWORD *)(sub_420250(&v16) + 4) + 32);
        if ( v15 )
          CPlayer::SetGuildLevel(v15, a2);
        sub_446090((int *)&v16, v12, 0);
      }
    }
    else
    {
      std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v19);
      while ( 1 )
      {
        v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v13);
        result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                   &v19,
                   v4);
        if ( !result )
          break;
        v18 = *(CIOCriticalSection **)(*(_DWORD *)(sub_420250(&v19) + 4) + 32);
        if ( v18 )
        {
          CPlayer::SetGuildLevel(v18, a2);
          if ( *(int *)(*(_DWORD *)(sub_420250(&v19) + 4) + 24) < 6 )
          {
            v9 = CPlayer::GetGuildStandard((int *)v18);
            v8 = CPlayer::GetGuildName((int *)v18);
            v7 = CPlayer::GetGuildClassTitle((int *)v18);
            v5 = std::_Mpunct<wchar_t>::do_frac_digits(v18);
            v17 = WritePacket_(94, "bdssbd", 9, v5, v7, v8, 1, v9);
            CGuild::SendPlayerSight((int)v18, v17, 0);
          }
        }
        sub_446090((int *)&v19, v14, 0);
      }
    }
    *(_DWORD *)(this + 72) = a2;
  }
  return result;
}

//----- (00416970) --------------------------------------------------------
int __cdecl CGuild::GetGuildSkill(int a1)
{
  int result; // eax

  switch ( a1 )
  {
    case 1:
      result = 0;
      break;
    case 2:
      result = 1;
      break;
    case 3:
      result = 3;
      break;
    case 4:
      result = 15;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (004169D0) --------------------------------------------------------
void __thiscall CGuild::SetPointADD(void *this, int a2, int a3, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // [esp-4h] [ebp-1Ch]
  int a2a; // [esp+0h] [ebp-18h]
  int v8; // [esp+4h] [ebp-14h]
  int v9; // [esp+8h] [ebp-10h]
  char v11[4]; // [esp+10h] [ebp-8h] BYREF
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E0980);
  sub_44AE20((_DWORD *)this + 95, v12, (_DWORD *)(a2 + 452));
  v4 = sub_430C20((_DWORD *)this + 95, (int)v11);
  if ( (unsigned __int8)unknown_libname_8(v4) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    v6 = *(_DWORD *)(a2 + 452);
    v5 = CPlayer::GetGID((CIOCriticalSection *)a2);
    LOG_ERR("CGuild::SetPointADD() member find error (gid:%d,pid:%d)", v5, v6);
  }
  else
  {
    if ( a3 + *(_DWORD *)(*(_DWORD *)(sub_420250(v12) + 4) + 20) >= 0 )
      v9 = a3 + *(_DWORD *)(*(_DWORD *)(sub_420250(v12) + 4) + 20);
    else
      v9 = 0;
    *(_DWORD *)(*(_DWORD *)(sub_420250(v12) + 4) + 20) = v9;
    if ( *(int *)(*(_DWORD *)(sub_420250(v12) + 4) + 24) < 6 )
    {
      if ( *((_DWORD *)this + 16) + 10000 * a3 >= 0 )
        v8 = *((_DWORD *)this + 16) + 10000 * a3;
      else
        v8 = 0;
      *((_DWORD *)this + 16) = v8;
      if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
        a2a = CGuild::CalPenaltyTLevel((int *)this);
      else
        a2a = CGuild::CalPenaltyLevel((int *)this);
      CGuild::SetLevel((int)this, a2a);
    }
    CRWLock::WriteUnlock(&unk_4E0980);
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00416B20) --------------------------------------------------------
int __thiscall CGuild::CalPenaltyLevel(int *this)
{
  int result; // eax
  int v2; // [esp+0h] [ebp-14h]
  int v3; // [esp+Ch] [ebp-8h]
  int v4; // [esp+10h] [ebp-4h]

  if ( this[17] < 16000000 )
  {
    if ( this[17] < 7800000 )
    {
      if ( this[17] < 2400000 )
        v4 = 1;
      else
        v4 = 2;
    }
    else
    {
      v4 = 3;
    }
  }
  else
  {
    v4 = 4;
  }
  if ( this[16] < 4000000 )
  {
    if ( this[16] < 2600000 )
    {
      if ( this[16] < 1200000 )
        v3 = 1;
      else
        v3 = 2;
    }
    else
    {
      v3 = 3;
    }
  }
  else
  {
    v3 = 4;
  }
  if ( v4 >= v3 )
    v2 = v3;
  else
    v2 = v4;
  if ( this[18] > v2 )
    result = v3;
  else
    result = v2;
  return result;
}

//----- (00416BF0) --------------------------------------------------------
int __thiscall CGuild::CalPenaltyTLevel(int *this)
{
  int result; // eax
  int v2; // [esp+0h] [ebp-14h]
  int v3; // [esp+Ch] [ebp-8h]
  int v4; // [esp+10h] [ebp-4h]

  if ( this[17] < 3 )
  {
    if ( this[17] < 2 )
    {
      if ( this[17] < 1 )
        v4 = 1;
      else
        v4 = 2;
    }
    else
    {
      v4 = 3;
    }
  }
  else
  {
    v4 = 4;
  }
  if ( this[16] < 30000 )
  {
    if ( this[16] < 20000 )
    {
      if ( this[16] < 10000 )
        v3 = 1;
      else
        v3 = 2;
    }
    else
    {
      v3 = 3;
    }
  }
  else
  {
    v3 = 4;
  }
  if ( v4 >= v3 )
    v2 = v3;
  else
    v2 = v4;
  if ( this[18] > v2 )
    result = v3;
  else
    result = v2;
  return result;
}

//----- (00416CB0) --------------------------------------------------------
void __stdcall CGuild::BroadcastLock(void *a1, int a2)
{
  int v2; // ecx
  int v3; // [esp+0h] [ebp-4h]

  v3 = v2;
  CRWLock::ReadLock(&unk_4E0980);
  CGuild::Broadcast(v3, a1, a2);
  CRWLock::ReadUnlock(&unk_4E0980);
}
// 416CB4: variable 'v2' is possibly undefined

//----- (00416CF0) --------------------------------------------------------
void __thiscall CGuild::Broadcast(int this, void *a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v8; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v8,
            v3) )
      break;
    v7 = *(_DWORD *)(*(_DWORD *)(sub_420250(&v8) + 4) + 32);
    if ( v7 )
    {
      if ( v7 != a3 )
        CPlayer::Send(a2);
    }
    sub_446090((int *)&v8, v6, 0);
  }
}

//----- (00416D70) --------------------------------------------------------
void __cdecl CGuild::SendPlayerSight(int a1, void *a2, int a3)
{
  CMemory *i; // [esp+0h] [ebp-4h]

  for ( i = CSMap::GetPlayerListInRect((_DWORD *)(a1 + 324), 25); i; i = (CMemory *)CBaseList::Pop((CIOObject *)i) )
  {
    if ( !a3 || a1 != unknown_libname_7(i) )
    {
      unknown_libname_7(i);
      CPlayer::Send(a2);
    }
  }
  CIOBuffer::Release((CIOBuffer *)a2);
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00416DE0) --------------------------------------------------------
int __thiscall CGuild::AllianceOffer(int *this, int a2, char *Str1, int a4)
{
  int result; // eax
  int a1; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]
  int a4a; // [esp+1Ch] [ebp+10h]

  if ( CPlayer::GetGID((CIOCriticalSection *)a2) != *(_DWORD *)(a2 + 452) )
    return 22;
  CRWLock::ReadLock(&unk_4E0980);
  if ( (CGuild::GetGuildSkill(this[18]) & 8) == 0 )
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    return 57;
  }
  if ( this[99] && this[98] == CPlayer::GetGID((CIOCriticalSection *)a2) )
  {
    if ( CAlliance::GetSize((void *)this[99]) >= 8 )
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      return 64;
    }
    a4a = *(_DWORD *)(this[99] + 76);
  }
  else
  {
    if ( this[98] )
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      return 58;
    }
    if ( a4 <= 0 || a4 > 15 )
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      return 59;
    }
    a4a = a4 * ((*(_WORD *)dword_4E1174 & 0x100) != 0 ? 3600 : 86400) + time(0);
  }
  if ( !sub_4173F0() )
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    return 68;
  }
  v7 = CGuild::FindGuild(Str1);
  if ( !v7 )
    goto LABEL_19;
  if ( *(_DWORD *)(v7 + 392) )
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 61;
  }
  else
  {
    a1 = CGuild::FindLeaderPlayer(v7);
    if ( !a1 )
    {
LABEL_19:
      CRWLock::ReadUnlock(&unk_4E0980);
      return 60;
    }
    CPlayer::Write(a1, 94, "bbdsd", 0, 62, *(_DWORD *)(a2 + 452), this + 11, a4a);
    CPlayer::Write(a2, 94, "bbs", 0, 63, v7 + 44);
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 0;
  }
  return result;
}

//----- (00416FE0) --------------------------------------------------------
int __thiscall CGuild::AllianceOfferAnswer(int this, int a2, int a3, int a4, int a5)
{
  int result; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v12; // eax
  int v13; // eax
  int v14; // [esp-10h] [ebp-34h]
  int v15; // [esp-10h] [ebp-34h]
  int v16; // [esp-4h] [ebp-28h]
  int v17; // [esp-4h] [ebp-28h]
  char v19[4]; // [esp+4h] [ebp-20h] BYREF
  char v20[4]; // [esp+8h] [ebp-1Ch] BYREF
  char v21[4]; // [esp+Ch] [ebp-18h] BYREF
  int v22; // [esp+10h] [ebp-14h]
  char v23[4]; // [esp+14h] [ebp-10h] BYREF
  CIOBuffer *v24; // [esp+18h] [ebp-Ch]
  char v25[4]; // [esp+1Ch] [ebp-8h] BYREF
  int a1; // [esp+20h] [ebp-4h]

  if ( CPlayer::GetGID((CIOCriticalSection *)a2) != *(_DWORD *)(a2 + 452) )
    return 22;
  CRWLock::WriteLock(&unk_4E0980);
  if ( *(_DWORD *)(this + 392) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 61;
  }
  sub_44AE20(dword_4E0968, v25, &a3);
  v6 = sub_430C20(dword_4E0968, (int)v21);
  if ( (unsigned __int8)unknown_libname_8(v6)
    || (v7 = sub_420250(v25), (a1 = CGuild::FindLeaderPlayer(*(_DWORD *)(v7 + 4))) == 0) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 60;
  }
  v8 = sub_420250(v25);
  if ( (CGuild::GetGuildSkill(*(_DWORD *)(*(_DWORD *)(v8 + 4) + 72)) & 8) == 0 )
    goto LABEL_9;
  if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v25) + 4) + 396)
    && (v9 = sub_420250(v25), *(_DWORD *)(*(_DWORD *)(v9 + 4) + 392) == a3) )
  {
    v10 = sub_420250(v25);
    if ( CAlliance::GetSize(*(void **)(*(_DWORD *)(v10 + 4) + 396)) >= 8 )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      return 64;
    }
    a4 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(v25) + 4) + 396) + 76);
  }
  else
  {
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v25) + 4) + 392) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      return 58;
    }
    if ( a4 <= time(0) || a4 > ((*(_WORD *)dword_4E1174 & 0x100) != 0 ? 54060 : 1296060) + time(0) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      return 59;
    }
  }
  if ( sub_4173F0() )
  {
    if ( a5 )
    {
      v16 = a4;
      v14 = *(_DWORD *)(a2 + 452);
      v11 = sub_420250(v25);
      if ( !CAlliance::Join(a3, (char *)(a1 + 32), *(_DWORD *)(v11 + 4), v14, (char *)(a2 + 32), this, v16) )
      {
LABEL_9:
        CRWLock::WriteUnlock(&unk_4E0980);
        return 1;
      }
      if ( *(_DWORD *)(this + 396) )
      {
        std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 380),
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v23);
        while ( 1 )
        {
          v12 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 380), (int)v19);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  (std::vector<CIOSocket::CIOTimer>::const_iterator *)v23,
                  v12) )
            break;
          v22 = *(_DWORD *)(*(_DWORD *)(sub_420250(v23) + 4) + 32);
          if ( v22 )
            CAlliance::AllianceInfo(*(const char **)(this + 396), v22);
          sub_446090((int *)v23, v20, 0);
        }
        v17 = a4;
        v15 = *(_DWORD *)(a2 + 452);
        v13 = sub_420250(v25);
        v24 = WritePacket_(94, "bbsdssd", 0, 65, *(_DWORD *)(v13 + 4) + 44, v15, this + 44, a2 + 32, v17);
        CAlliance::BroadcastLock(*(_DWORD **)(this + 396), v24);
        CIOBuffer::Release(v24);
      }
    }
    else
    {
      CPlayer::Write(a1, 94, "bbs", 0, 66, this + 44);
      CPlayer::Write(a2, 94, "bbs", 0, 66, this + 44);
    }
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 0;
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 68;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00417360) --------------------------------------------------------
volatile int *__thiscall CGuild::SetAlliance(int this, int a2, volatile int *a3)
{
  volatile int *result; // eax

  if ( *(_DWORD *)(this + 396) )
    sub_401DE0(*(int **)(this + 396));
  if ( a3 )
    sub_4010D0((int)a3);
  result = a3;
  *(_DWORD *)(this + 396) = a3;
  *(_DWORD *)(this + 392) = a2;
  return result;
}

//----- (004173B0) --------------------------------------------------------
void __thiscall CGuild::AllianceBroadcast(void *this, int a2)
{
  CRWLock::ReadLock(&unk_4E0980);
  if ( *((_DWORD *)this + 99) )
    CAlliance::BroadcastLock(*((_DWORD **)this + 99), (void *)a2);
  CRWLock::ReadUnlock(&unk_4E0980);
}

//----- (004173F0) --------------------------------------------------------
BOOL sub_4173F0()
{
  return dword_4E0964 == 0;
}
// 4E0964: using guessed type int dword_4E0964;

//----- (00417410) --------------------------------------------------------
BOOL sub_417410()
{
  return dword_4E0964 == 1;
}
// 4E0964: using guessed type int dword_4E0964;

//----- (00417430) --------------------------------------------------------
BOOL sub_417430()
{
  return dword_4E0964 == 2;
}
// 4E0964: using guessed type int dword_4E0964;

//----- (00417450) --------------------------------------------------------
BOOL sub_417450()
{
  return dword_4E0964 == 4;
}
// 4E0964: using guessed type int dword_4E0964;

//----- (00417470) --------------------------------------------------------
time_t __cdecl CGuild::GetWarEndTime()
{
  time_t v1; // [esp+0h] [ebp-8h] BYREF
  struct tm *v2; // [esp+4h] [ebp-4h]

  v1 = time(0);
  v2 = localtime(&v1);
  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
  {
    v2->tm_hour = 22;
  }
  else
  {
    v1 += 86400 * (7 - v2->tm_wday);
    v2 = localtime(&v1);
    v2->tm_hour = 7;
  }
  v2->tm_sec = 0;
  v2->tm_min = 0;
  return mktime(v2);
}

//----- (00417500) --------------------------------------------------------
int __thiscall CGuild::WarDeclare(int this, int a2, int a3)
{
  int result; // eax
  int v5; // [esp+0h] [ebp-14h]
  int a5; // [esp+4h] [ebp-10h]
  int v7; // [esp+8h] [ebp-Ch]
  XBaseModel *v8; // [esp+Ch] [ebp-8h]
  CPlayer *player; // [esp+10h] [ebp-4h]

  if ( *(_DWORD *)(a2 + 452) != CPlayer::GetGID((CIOCriticalSection *)a2) )
    return 22;
  CRWLock::WriteLock(&unk_4E0980);
  if ( (*(_WORD *)dword_4E1174 & 0x100) == 0 && (CGuild::GetGuildSkill(*(_DWORD *)(this + 72)) & 4) == 0 )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 57;
  }
  if ( !sub_417410() )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 70;
  }
  if ( *(_DWORD *)(this + 392) && *(_DWORD *)(this + 392) != *(_DWORD *)(a2 + 452) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 71;
  }
  v8 = CCastle::GetCastle(a3);
  if ( !v8 )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 1;
  }
  if ( CCastle::IsLord(v8, *(_DWORD *)(a2 + 452)) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 72;
  }
  if ( CCastle::IsAlreadyDeclare(v8, *(_DWORD *)(a2 + 452)) )
  {
    CRWLock::WriteUnlock(&unk_4E0980);
    return 75;
  }
  if ( dword_4E35B8 == 2 )
  {
    if ( CCastle::GetWarSize(v8) >= 24 )
    {
LABEL_19:
      CRWLock::WriteUnlock(&unk_4E0980);
      return 77;
    }
  }
  else if ( CCastle::GetWarSize(v8) >= 100 )
  {
    goto LABEL_19;
  }
  v7 = 1;
  if ( *(_DWORD *)(this + 392) )
  {
    if ( CCastle::IsAlliance(v8, *(_DWORD *)(this + 392)) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
      return 73;
    }
    v7 = CAlliance::GetSize(*(void **)(this + 396));
  }
  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  if ( *(_DWORD *)(a2 + 1096)
    && v7 * ((*(_WORD *)dword_4E1174 & 0x100) != 0 ? 100 : 100000) <= *(_DWORD *)(*(_DWORD *)(a2 + 1096) + 52) )
  {
    player = *(CPlayer **)(a2 + 1096);
    if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
      CPlayer::_OutofInven(player, (CItem *)a2);
    CIOCriticalSection::Leave((CIOCriticalSection *)0x1F);
    if ( *((_DWORD *)v8 + 13) == -4 )
    {
      a5 = *((_DWORD *)v8 + 12);
      if ( a5 )
      {
        if ( *(_DWORD *)(a5 + 392) )
          CCastle::WarAllianceADD(v8, a3, *(_DWORD *)(a5 + 392), a5 + 44, *(char **)(a5 + 396));
        else
          CCastle::WarADD(v8, a3, *((_DWORD *)v8 + 8), (char *)(a5 + 44), a5);
      }
      else
      {
        LOG_ERR("CGuild::WarDeclare( CPlayer* , nCID )  PID:%d , UID:%d", *(_DWORD *)(a2 + 452), *(_DWORD *)(a2 + 448));
      }
    }
    if ( *(_DWORD *)(v5 + 392) )
      CCastle::WarAllianceADD(v8, a3, *(_DWORD *)(v5 + 392), v5 + 44, *(char **)(v5 + 396));
    else
      CCastle::WarADD(v8, a3, *(_DWORD *)(a2 + 452), (char *)(a2 + 32), v5);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 0;
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)v5);
    CRWLock::WriteUnlock(&unk_4E0980);
    result = 74;
  }
  return result;
}
// 417720: variable 'v5' is possibly undefined
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00417890) --------------------------------------------------------
void __cdecl CGuild::WarDelcareList(int a1, char a2)
{
  XBaseModel *v2; // [esp+0h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E0980);
  v2 = CCastle::GetCastle(a2);
  if ( v2 )
    CCastle::WarDelcareList(v2, a1);
  CRWLock::ReadUnlock(&unk_4E0980);
}

//----- (004178D0) --------------------------------------------------------
int __thiscall CGuild::TrialUnfurlStandard(_DWORD *this, int a2, unsigned int a3)
{
  int result; // eax
  XBaseModel *v5; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E0980);
  if ( sub_417450() )
  {
    v5 = CCastle::GetCastle(a3);
    if ( v5 )
    {
      if ( CCastle::IsStandardAlive(v5) )
      {
        if ( CCastle::GetStandardUnfurl(v5) )
        {
          CRWLock::ReadUnlock(&unk_4E0980);
          result = 95;
        }
        else if ( *(_DWORD *)(a2 + 452) == CPlayer::GetGID((CIOCriticalSection *)a2) )
        {
          if ( !this[98] || this[98] == *(_DWORD *)(a2 + 452) )
          {
            if ( CCastle::IsLord(v5, *(_DWORD *)(a2 + 452)) || CCastle::IsAlreadyDeclare(v5, *(_DWORD *)(a2 + 452)) )
            {
              sub_412E90((CIOCriticalSection *)a2);
              if ( sub_40B310((_DWORD *)a2, 1024) )
              {
                sub_412EB0((CIOCriticalSection *)a2);
                CRWLock::ReadUnlock(&unk_4E0980);
                result = 82;
              }
              else
              {
                CCastle::SetStandardUnfurl(v5, 1);
                (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 1024);
                *(_DWORD *)(a2 + 1468) = GetTickCount() + 60000;
                *(_DWORD *)(a2 + 1268) = a3;
                sub_412EB0((CIOCriticalSection *)a2);
                CRWLock::ReadUnlock(&unk_4E0980);
                result = 84;
              }
            }
            else
            {
              CRWLock::ReadUnlock(&unk_4E0980);
              result = 93;
            }
          }
          else
          {
            CRWLock::ReadUnlock(&unk_4E0980);
            result = 92;
          }
        }
        else
        {
          CRWLock::ReadUnlock(&unk_4E0980);
          result = 22;
        }
      }
      else
      {
        CRWLock::ReadUnlock(&unk_4E0980);
        result = 83;
      }
    }
    else
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      result = 1;
    }
  }
  else
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 91;
  }
  return result;
}

//----- (00417A90) --------------------------------------------------------
void __thiscall CGuild::UnfurlStandard(int this, int a2, unsigned int a3)
{
  CIOBuffer *v4; // [esp+4h] [ebp-8h]
  XBaseModel *v5; // [esp+8h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E0980);
  if ( sub_417450() )
  {
    v5 = CCastle::GetCastle(a3);
    if ( v5 )
    {
      if ( CCastle::IsStandardAlive(v5) && CCastle::CreateStandard(a3, *(_DWORD *)(a2 + 452), (char *)(this + 44), 1) )
      {
        CCastle::SetCurStandardGuild((int)v5, *(_DWORD *)(a2 + 452), (volatile int *)this);
        CCastle::SetStandardUnfurl(v5, 0);
        CCastle::SetLordDeclare(v5, 1);
        ++*(_DWORD *)(this + 32);
        v4 = WritePacket_(94, "bbds", 0, 85, a3, this + 44);
        CCastle::WarMsg(v4);
        CIOBuffer::Release(v4);
      }
    }
  }
  CRWLock::ReadUnlock(&unk_4E0980);
}

//----- (00417BA0) --------------------------------------------------------
void __cdecl CGuild::BrokenStandard(int a1)
{
  int *v1; // [esp+0h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E0980);
  v1 = (int *)CCastle::GetCastle(a1);
  if ( v1 )
    CCastle::BrokenStandard(v1, a1);
  CRWLock::ReadUnlock(&unk_4E0980);
}

//----- (00417BE0) --------------------------------------------------------
void __cdecl CGuild::BrokenGate(int a1, int a2)
{
  CIOBuffer *v2; // [esp+0h] [ebp-Ch]
  int v3; // [esp+4h] [ebp-8h]

  CRWLock::ReadLock(&unk_4E0980);
  if ( CCastle::GetCastle(a1) )
  {
    v3 = CCastle::SubGateState(a1, a2);
    if ( v3 >= 0 )
    {
      v2 = WritePacket_(94, "bbdb", 0, 99, a1, (unsigned __int8)v3);
      CCastle::WarMsg(v2);
      CIOBuffer::Release(v2);
    }
  }
  CRWLock::ReadUnlock(&unk_4E0980);
}

//----- (00417C60) --------------------------------------------------------
int __cdecl CGuild::CanAttack(int a1, int a2)
{
  int result; // eax

  if ( a1 && CCastle::IsAllCastleWarRelation(a1) )
  {
    if ( a2 )
    {
      if ( a1 == a2 )
      {
        CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 40));
        CIOObject::Release((CIOObject *)a2, (volatile int *)(a2 + 40));
        result = 0;
      }
      else
      {
        CRWLock::ReadLock(&unk_4E0980);
        if ( *(_DWORD *)(a1 + 392) && *(_DWORD *)(a1 + 392) == *(_DWORD *)(a2 + 392) )
        {
          CRWLock::ReadUnlock(&unk_4E0980);
          CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 40));
          CIOObject::Release((CIOObject *)a2, (volatile int *)(a2 + 40));
          result = 0;
        }
        else
        {
          CRWLock::ReadUnlock(&unk_4E0980);
          CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 40));
          CIOObject::Release((CIOObject *)a2, (volatile int *)(a2 + 40));
          result = 1;
        }
      }
    }
    else
    {
      CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 40));
      result = 1;
    }
  }
  else
  {
    if ( a2 )
      CIOObject::Release((CIOObject *)a2, (volatile int *)(a2 + 40));
    result = 0;
  }
  return result;
}
// 417C9F: conditional instruction was optimized away because of '%arg_0.4!=0'

//----- (00417D70) --------------------------------------------------------
int __thiscall CGuild::CastleInfo(void *this, int a2, unsigned int a3)
{
  int result; // eax
  int v4; // [esp-8h] [ebp-10h]
  int v5; // [esp-4h] [ebp-Ch]
  XBaseModel *v6; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(a2 + 452) != CPlayer::GetGID((CIOCriticalSection *)a2) )
    return 22;
  CRWLock::ReadLock(&unk_4E0980);
  v6 = CCastle::GetCastle(a3);
  if ( v6 )
  {
    if ( CCastle::IsLord(v6, *(_DWORD *)(a2 + 452)) )
    {
      v5 = CCastle::GetTax(v6);
      v4 = (unsigned __int8)CCastle::GetTaxRate(v6);
      CPlayer::Write(a2, 94, "bbd", 23, v4, v5);
      CRWLock::ReadUnlock(&unk_4E0980);
      result = 0;
    }
    else
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      result = 86;
    }
  }
  else
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 1;
  }
  return result;
}

//----- (00417E30) --------------------------------------------------------
int __stdcall CGuild::TaxRateControl(int a1, unsigned int a2, int a3)
{
  int result; // eax
  XBaseModel *v4; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(a1 + 452) != CPlayer::GetGID((CIOCriticalSection *)a1) )
    return 1;
  if ( a3 > 115 || a3 < 85 )
    return 87;
  CRWLock::ReadLock(&unk_4E0980);
  v4 = CCastle::GetCastle(a2);
  if ( v4 && CCastle::IsLord(v4, *(_DWORD *)(a1 + 452)) )
  {
    CCastle::SetTaxRate(v4, a2, a3);
    CRWLock::ReadUnlock(&unk_4E0980);
    CPlayer::Write(a1, 94, "bbb", 0, 88, (unsigned __int8)a3);
    result = 0;
  }
  else
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 1;
  }
  return result;
}

//----- (00417F10) --------------------------------------------------------
int __thiscall CGuild::TaxLevy(_DWORD *this, int a2, unsigned int a3)
{
  int v5; // [esp+4h] [ebp-Ch]
  XBaseModel *v6; // [esp+8h] [ebp-8h]
  CItem *item; // [esp+Ch] [ebp-4h]

  if ( *(_DWORD *)(a2 + 452) != CPlayer::GetGID((CIOCriticalSection *)a2) )
    return 1;
  v6 = CCastle::GetCastle(a3);
  if ( !v6 )
    return 1;
  if ( !CCastle::IsLord(v6, *(_DWORD *)(a2 + 452)) )
    return 1;
  v5 = CCastle::ResetTax(v6, a3);
  this[20] += v5;
  item = (CItem *)CItem::CreateItem(31, 0, v5, -1);
  if ( item )
  {
    if ( !sub_45DDC0((CIOCriticalSection *)a2, 31, (int)item) )
    {
      LOG_ERR("CGuild::TaxLevy() Fail to insert money(%d).", v5);
      CBase::Delete(item);
    }
  }
  CPlayer::Write(a2, 94, "bbd", 0, 101, v5);
  return 0;
}

//----- (00418000) --------------------------------------------------------
int __cdecl CGuild::CastleGateNPC(int a1, unsigned int a2, int a3)
{
  int result; // eax
  int v4; // eax
  int v5; // eax
  int v6; // [esp+0h] [ebp-Ch]
  XBaseModel *v7; // [esp+4h] [ebp-8h]

  CRWLock::ReadLock(&unk_4E0980);
  v7 = CCastle::GetCastle(a2);
  if ( v7 )
  {
    if ( sub_417450() )
    {
      v4 = CPlayer::GetGID((CIOCriticalSection *)a1);
      v6 = CCastle::IsGateUseWarring(v7, v4);
    }
    else
    {
      v5 = CPlayer::GetGID((CIOCriticalSection *)a1);
      v6 = CCastle::IsGateUse(v7, v5);
    }
    if ( v6 )
    {
      CRWLock::ReadUnlock(&unk_4E0980);
      result = v6;
    }
    else
    {
      CCastle::GateGoto(a1, a3);
      CRWLock::ReadUnlock(&unk_4E0980);
      result = 0;
    }
  }
  else
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 1;
  }
  return result;
}

//----- (004180B0) --------------------------------------------------------
_DWORD __stdcall CGuild::CastleSetGateLmit(CIOCriticalSection *a1, unsigned int nXModelID, signed int a2)
{
  int result; // eax
  XBaseModel *v4; // [esp+4h] [ebp-4h]

  if ( a1[14].m_critical_section.LockCount != CPlayer::GetGID(a1) )
    return 22;
  CRWLock::ReadLock(&unk_4E0980);
  v4 = CCastle::GetCastle(nXModelID);
  if ( !v4 )
    goto LABEL_4;
  if ( CCastle::IsLord(v4, a1[14].m_critical_section.LockCount) )
  {
    if ( !CCastle::SetGateLimit(v4, a2, nXModelID) )
    {
LABEL_4:
      CRWLock::ReadUnlock(&unk_4E0980);
      return 1;
    }
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 90;
  }
  else
  {
    CRWLock::ReadUnlock(&unk_4E0980);
    result = 22;
  }
  return result;
}

//----- (00418170) --------------------------------------------------------
BOOL __thiscall CGuild::IsAlliancePeriod(void *this, int a2)
{
  BOOL v3; // [esp+0h] [ebp-Ch]

  CRWLock::ReadLock(&unk_4E0980);
  if ( *((_DWORD *)this + 98) )
    v3 = CCastle::IsAlliance((_DWORD *)a2, *((_DWORD *)this + 98));
  else
    v3 = 0;
  CRWLock::ReadUnlock(&unk_4E0980);
  return v3;
}

//----- (004181D0) --------------------------------------------------------
void __cdecl CGuild::ChangePlayerName(int a1, int a2, char *Source)
{
  int v3; // eax
  int v4; // eax
  int v5; // eax
  char *v6; // [esp-4h] [ebp-18h]
  char v7[4]; // [esp+0h] [ebp-14h] BYREF
  char v8[4]; // [esp+4h] [ebp-10h] BYREF
  int v9; // [esp+8h] [ebp-Ch]
  char v10[4]; // [esp+Ch] [ebp-8h] BYREF
  char v11[4]; // [esp+10h] [ebp-4h] BYREF

  if ( a1 )
  {
    CRWLock::WriteLock(&unk_4E0980);
    sub_44AE20(dword_4E0968, v11, &a1);
    v3 = sub_430C20(dword_4E0968, (int)v8);
    if ( (unsigned __int8)unknown_libname_8(v3) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
    }
    else
    {
      v9 = *(_DWORD *)(sub_420250(v11) + 4);
      sub_44AE20((_DWORD *)(v9 + 380), v10, &a2);
      v4 = sub_430C20((_DWORD *)(v9 + 380), (int)v7);
      if ( !(unsigned __int8)unknown_libname_8(v4) )
      {
        v6 = Source;
        v5 = sub_420250(v10);
        strcpy(*(char **)(v5 + 4), v6);
        if ( a1 == a2 )
        {
          CAlliance::ChangeLeaderName(*(_DWORD *)(v9 + 392), a1, Source);
          CCastle::ChangeLeaderName(a1, Source);
        }
      }
      CRWLock::WriteUnlock(&unk_4E0980);
    }
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0968: using guessed type int dword_4E0968[3];

//----- (004182E0) --------------------------------------------------------
void __cdecl CGuild::ChangeGuildName(int a1, int a2, char *Source)
{
  int v3; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  char v5[4]; // [esp+0h] [ebp-1Ch] BYREF
  char v6[4]; // [esp+4h] [ebp-18h] BYREF
  char v7[4]; // [esp+8h] [ebp-14h] BYREF
  int a1a; // [esp+Ch] [ebp-10h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v9; // [esp+10h] [ebp-Ch] BYREF
  int v10; // [esp+14h] [ebp-8h]
  char v11[4]; // [esp+18h] [ebp-4h] BYREF

  if ( a1 && a1 == a2 )
  {
    CRWLock::WriteLock(&unk_4E0980);
    sub_44AE20(dword_4E0968, v11, &a1);
    v3 = sub_430C20(dword_4E0968, (int)v7);
    if ( (unsigned __int8)unknown_libname_8(v3) )
    {
      CRWLock::WriteUnlock(&unk_4E0980);
    }
    else
    {
      v10 = *(_DWORD *)(sub_420250(v11) + 4);
      strcpy((char *)(v10 + 44), Source);
      std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(v10 + 380),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
      while ( 1 )
      {
        v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(v10 + 380), (int)v5);
        if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                &v9,
                v4) )
          break;
        a1a = *(_DWORD *)(*(_DWORD *)(sub_420250(&v9) + 4) + 32);
        if ( a1a )
        {
          CPlayer::Write(a1a, 68, "bbs", 100, 8, Source);
          CPlayer::SetGuildName((char *)a1a, Source);
        }
        sub_446090((int *)&v9, v6, 0);
      }
      CAlliance::ChangeGuildName(*(_DWORD *)(v10 + 392), a1, Source);
      CCastle::ChangeGuildName(a1, Source);
      CRWLock::WriteUnlock(&unk_4E0980);
    }
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E0968: using guessed type int dword_4E0968[3];

//----- (00418420) --------------------------------------------------------
unsigned int __thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::erase(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator _First; // [esp+8h] [ebp-Ch] BYREF
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator _Last; // [esp+Ch] [ebp-8h]
  unsigned int _Off; // [esp+10h] [ebp-4h] BYREF

  sub_472C30(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&_First,
    _Keyval);
  _Off = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    (int)_First._Ptr,
    (int)_Last._Ptr,
    &_Off);
  sub_4185D0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    (int)_First._Ptr,
    (int)_Last._Ptr);
  return _Off;
}

//----- (00418480) --------------------------------------------------------
_DWORD *__thiscall sub_418480(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_418670(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (004184E0) --------------------------------------------------------
std::map<unsigned long,std::list<_tagGameRoomInfo *> *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::list<_tagGameRoomInfo *> *> > > *__thiscall std::map<int,CSocket *>::map<int,CSocket *>(std::map<unsigned long,std::list<_tagGameRoomInfo *> *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::list<_tagGameRoomInfo *> *> > > *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00418510) --------------------------------------------------------
int __thiscall sub_418510(void *this)
{
  return sub_4187B0((int)this);
}

//----- (00418530) --------------------------------------------------------
_DWORD *__thiscall sub_418530(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_418710(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00418590) --------------------------------------------------------
int __thiscall std::vector<CControl *>::size(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 2) - *((_DWORD *)this + 1)) >> 2;
  else
    v2 = 0;
  return v2;
}

//----- (004185D0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4185D0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_418480(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00418670) --------------------------------------------------------
int __stdcall sub_418670(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_418670(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (004186F0) --------------------------------------------------------
BOOL __stdcall sub_4186F0(_DWORD *a1, _DWORD *a2)
{
  return *a1 < *a2;
}

//----- (00418710) --------------------------------------------------------
int __stdcall sub_418710(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_418710(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (00418790) --------------------------------------------------------
int __thiscall sub_418790(_DWORD *this)
{
  return sub_474590(this[1]);
}

//----- (004187B0) --------------------------------------------------------
int __thiscall sub_4187B0(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4188A0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (00418860) --------------------------------------------------------
void *__thiscall sub_418860(void *this)
{
  sub_44B740(this);
  return this;
}

//----- (00418880) --------------------------------------------------------
void *__thiscall sub_418880(void *this)
{
  sub_44B760(this);
  return this;
}

//----- (004188A0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4188A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_418530(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00418940) --------------------------------------------------------
CAtlTraceSettings *__cdecl sub_418940(CAtlTraceSettings *a1)
{
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>(a1);
  return a1;
}

//----- (00418960) --------------------------------------------------------
_BYTE *__cdecl GetNumeric<unsigned char>(_BYTE *a1, _BYTE *a2)
{
  *a2 = *a1;
  return a1 + 1;
}

//----- (00418980) --------------------------------------------------------
_WORD *__cdecl GetNumeric<short>(_WORD *a1, _WORD *a2)
{
  *a2 = *a1;
  return a1 + 1;
}

//----- (004189A0) --------------------------------------------------------
_BYTE *__cdecl PutNumeric<unsigned char>(_BYTE *a1, char a2)
{
  *a1 = a2;
  return a1 + 1;
}

//----- (004189C0) --------------------------------------------------------
BOOL __cdecl std::_Distance2<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(int a1, int a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_418860(&a1);
  }
  return result;
}

//----- (00418A00) --------------------------------------------------------
void *__thiscall sub_418A00(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00418A30) --------------------------------------------------------
int __thiscall sub_418A30(void *this)
{
  return sub_418A50(this);
}

//----- (00418A50) --------------------------------------------------------
int __thiscall sub_418A50(void *this)
{
  return sub_418A70((int)this);
}

//----- (00418A70) --------------------------------------------------------
int __thiscall sub_418A70(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4185D0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (00418B20) --------------------------------------------------------
CAlliance *__thiscall CAlliance::CAlliance(CAlliance *this)
{
  CBase::CBase((int)this);
  this->__vftable = (CAlliance_vtbl *)&off_4B56A0;
  this->m_pNextAlliance = (CAlliance *)-5;
  this->m_nGID = 0;
  memset(this->m_szGuildName, 0, sizeof(this->m_szGuildName));
  memset(this->m_szLeaderName, 0, sizeof(this->m_szLeaderName));
  this->m_dwAllianceDate = 0;
  this->m_pGuild = 0;
  return this;
}
// 4B56A0: using guessed type int (__stdcall *off_4B56A0)(int);

//----- (00418B90) --------------------------------------------------------
void *__thiscall sub_418B90(void *this, char a2)
{
  sub_418BC0((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00418BC0) --------------------------------------------------------
void __thiscall sub_418BC0(std::locale::facet *this)
{
  this->__vftable = (std::locale::facet_vtbl *)&off_4B56A0;
  CBase::_CBase(this);
}
// 4B56A0: using guessed type int (__stdcall *off_4B56A0)(int);

//----- (00418BE0) --------------------------------------------------------
void __cdecl sub_418BE0()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int v1; // eax
  char v2[4]; // [esp+0h] [ebp-Ch] BYREF
  char v3[4]; // [esp+4h] [ebp-8h] BYREF
  char v4[4]; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E09B0);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09A4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09A4, (int)v2);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v4,
            v0) )
      break;
    v1 = sub_420250(v4);
    CAlliance::Clear(*(_DWORD *)(v1 + 4));
    sub_446090((int *)v4, v3, 0);
  }
  sub_41C710(dword_4E09A4);
  CRWLock::WriteUnlock(&unk_4E09B0);
}

//----- (00418C60) --------------------------------------------------------
void __thiscall CAlliance::Clear(int this)
{
  CItem *v2; // [esp+4h] [ebp-8h]
  CItem *item; // [esp+8h] [ebp-4h]

  for ( item = *(CItem **)(this + 32); item != (CItem *)-5; item = v2 )
  {
    v2 = (CItem *)item->m_nPID;
    item->m_nPID = -5;
    CBase::Delete(item);
  }
  *(_DWORD *)(this + 32) = -5;
  CBase::Delete((CItem *)this);
}

//----- (00418CC0) --------------------------------------------------------
void __thiscall CAlliance::OnDelete(int this)
{
  if ( *(_DWORD *)(this + 80) )
    CGuild::SetAlliance(*(_DWORD *)(this + 80), 0, 0);
  CWar::SetGuild((volatile int **)this, 0);
  sub_402180(this);
}

//----- (00418D00) --------------------------------------------------------
int __cdecl CAlliance::IsLoad(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  char v6[4]; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E09B0);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09A4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09A4, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v6,
            v1) )
      break;
    for ( i = *(_DWORD *)(sub_420250(v6) + 4); i != -5; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 36) == a1 )
      {
        CRWLock::ReadUnlock(&unk_4E09B0);
        return 1;
      }
    }
    sub_446090((int *)v6, v4, 0);
  }
  CRWLock::ReadUnlock(&unk_4E09B0);
  return 0;
}

//----- (00418DA0) --------------------------------------------------------
void __cdecl CAlliance::Load(_BYTE *a1)
{
  _DWORD *v1; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char *v3; // eax
  CAtlTraceSettings *v4; // eax
  char *v5; // eax
  char *v6; // eax
  CAlliance *v7; // [esp+0h] [ebp-44h]
  CItem *v8; // [esp+4h] [ebp-40h]
  CMemory **v9; // [esp+8h] [ebp-3Ch]
  char v10[8]; // [esp+Ch] [ebp-38h] BYREF
  char v11[8]; // [esp+14h] [ebp-30h] BYREF
  CMemory **v12; // [esp+1Ch] [ebp-28h]
  char v13[4]; // [esp+20h] [ebp-24h] BYREF
  char v14[4]; // [esp+24h] [ebp-20h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v15; // [esp+28h] [ebp-1Ch] BYREF
  CAlliance *v16; // [esp+2Ch] [ebp-18h]
  time_t v17; // [esp+30h] [ebp-14h] BYREF
  CItem *item; // [esp+34h] [ebp-10h]
  int v19; // [esp+38h] [ebp-Ch] BYREF
  char v20[8]; // [esp+3Ch] [ebp-8h] BYREF
  char *packet; // [esp+4Ch] [ebp+8h]
  char *packeta; // [esp+4Ch] [ebp+8h]
  char *packetb; // [esp+4Ch] [ebp+8h]

  CRWLock::WriteLock(&unk_4E09B0);
  v19 = 0;
  packet = GetNumeric<unsigned char>(a1, &v19);
  if ( v19 > 0 )
  {
    v1 = GetNumeric<int>(packet, &v17);
    packeta = (char *)GetNumeric<int>(v1, v14);
    sub_44AE20(dword_4E09A4, &v15, v14);
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09A4, (int)v13);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           &v15,
           v2) )
    {
      CRWLock::WriteUnlock(&unk_4E09B0);
    }
    else if ( v17 > time(0) )
    {
      v12 = sub_401000(0x54u);
      if ( v12 )
        v8 = (CItem *)CAlliance::CAlliance((CAlliance *)v12);
      else
        v8 = 0;
      item = v8;
      v8->m_nIID = *(_DWORD *)v14;
      v3 = GetString(packeta, (char *)&item->m_pInit);
      packetb = GetString(v3, (char *)&item->m_pMap + 1);
      item->m_nKeyID = v17;
      v4 = sub_418940((CAtlTraceSettings *)v10);
      std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>(
        (std::pair<int const ,IDirect3DTexture9 *> *)v11,
        v4);
      sub_445DF0(
        (int)dword_4E09A4,
        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v20,
        (const std::pair<int const ,CGame_Character::TargetInfo> *)v11);
      if ( v20[4] )
      {
        --v19;
        while ( v19 > 0 )
        {
          v9 = sub_401000(0x54u);
          if ( v9 )
            v7 = CAlliance::CAlliance((CAlliance *)v9);
          else
            v7 = 0;
          v16 = v7;
          v5 = (char *)GetNumeric<int>(packetb, &v7->m_nGID);
          v6 = GetString(v5, v16->m_szGuildName);
          packetb = GetString(v6, v16->m_szLeaderName);
          v16->m_dwAllianceDate = v17;
          CAlliance::Add(item, (int)v16);
          --v19;
        }
        CRWLock::WriteUnlock(&unk_4E09B0);
      }
      else
      {
        CBase::Delete(item);
        CRWLock::WriteUnlock(&unk_4E09B0);
        LOG_ERR("CAlliance::Load() alliance map inset error (aid:%d)", *(_DWORD *)v14);
      }
    }
    else
    {
      CDBSocket::Write(26, "d", *(_DWORD *)v14);
      CRWLock::WriteUnlock(&unk_4E09B0);
    }
  }
  else
  {
    CRWLock::WriteUnlock(&unk_4E09B0);
  }
}
// 4E09A4: using guessed type int dword_4E09A4[3];

//----- (00418FF0) --------------------------------------------------------
void __cdecl CAlliance::LoadSetGuild(int a1, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-Ch] BYREF
  volatile int **i; // [esp+4h] [ebp-8h]
  char v7[4]; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E09B0);
  sub_44AE20(dword_4E09A4, v7, &a1);
  v3 = sub_430C20(dword_4E09A4, (int)v5);
  if ( !(unsigned __int8)unknown_libname_8(v3) )
  {
    for ( i = *(volatile int ***)(sub_420250(v7) + 4); i != (volatile int **)-5; i = (volatile int **)i[8] )
    {
      if ( i[9] == (volatile int *)a2 )
      {
        CWar::SetGuild(i, (volatile int *)a3);
        v4 = sub_420250(v7);
        CGuild::SetAlliance(a3, a1, *(volatile int **)(v4 + 4));
        CRWLock::WriteUnlock(&unk_4E09B0);
        return;
      }
    }
  }
  CGuild::SetAlliance(a3, 0, 0);
  CRWLock::WriteUnlock(&unk_4E09B0);
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E09A4: using guessed type int dword_4E09A4[3];

//----- (004190C0) --------------------------------------------------------
void __thiscall CAlliance::DeleteSetGuild(void *this, int a2)
{
  while ( this != (void *)-5 )
  {
    if ( *((_DWORD *)this + 20) == a2 )
    {
      CGuild::SetAlliance(a2, 0, 0);
      CWar::SetGuild((volatile int **)this, 0);
    }
    this = (void *)*((_DWORD *)this + 8);
  }
}

//----- (00419110) --------------------------------------------------------
int __cdecl CAlliance::Join(int a1, char *Source, int a3, int a4, char *a5, int a6, int a7)
{
  CAtlTraceSettings *v7; // eax
  CAlliance *v9; // [esp+0h] [ebp-3Ch]
  CAlliance *v10; // [esp+4h] [ebp-38h]
  CMemory **v11; // [esp+8h] [ebp-34h]
  char v12[8]; // [esp+Ch] [ebp-30h] BYREF
  char v13[8]; // [esp+14h] [ebp-28h] BYREF
  CMemory **v14; // [esp+1Ch] [ebp-20h]
  CItem *i; // [esp+20h] [ebp-1Ch]
  char v16[8]; // [esp+24h] [ebp-18h] BYREF
  CIOBuffer *v17; // [esp+2Ch] [ebp-10h]
  int v18; // [esp+30h] [ebp-Ch]
  volatile int **v19; // [esp+34h] [ebp-8h]
  CItem *item; // [esp+38h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E09B0);
  v18 = 0;
  if ( *(_DWORD *)(a3 + 392) )
  {
    item = *(CItem **)(a3 + 396);
    for ( i = item; i != (CItem *)-5; i = (CItem *)i->m_nPID )
      ++v18;
  }
  else
  {
    v14 = sub_401000(0x54u);
    if ( v14 )
      v10 = CAlliance::CAlliance((CAlliance *)v14);
    else
      v10 = 0;
    item = (CItem *)v10;
    v7 = sub_418940((CAtlTraceSettings *)v12);
    std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>(
      (std::pair<int const ,IDirect3DTexture9 *> *)v13,
      v7);
    sub_445DF0(
      (int)dword_4E09A4,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v16,
      (const std::pair<int const ,CGame_Character::TargetInfo> *)v13);
    if ( !v16[4] )
    {
      CBase::Delete(item);
      CRWLock::WriteUnlock(&unk_4E09B0);
      LOG_ERR("CAlliance::Join() alliance map inset error (aid:%d)", a1);
      return 0;
    }
    item->m_nIID = a1;
    strcpy((char *)&item->m_pInit, (const char *)(a3 + 44));
    strcpy((char *)&item->m_pMap + 1, Source);
    item->m_nKeyID = a7;
    CWar::SetGuild((volatile int **)item, (volatile int *)a3);
    CGuild::SetAlliance(a3, a1, (volatile int *)item);
    ++v18;
    CDBSocket::Write(23, "dd", a1, a7);
    v17 = WritePacket_(94, "bdbdss", 17, a7, 1, a1, a3 + 44, Source);
    CGuild::Broadcast(a3, v17, 0);
    CIOBuffer::Release(v17);
  }
  v11 = sub_401000(0x54u);
  if ( v11 )
    v9 = CAlliance::CAlliance((CAlliance *)v11);
  else
    v9 = 0;
  v19 = (volatile int **)v9;
  v9->m_nGID = a4;
  strcpy((char *)v19 + 40, (const char *)(a6 + 44));
  strcpy((char *)v19 + 57, a5);
  v19[19] = (volatile int *)a7;
  CWar::SetGuild(v19, (volatile int *)a6);
  CGuild::SetAlliance(a6, a1, (volatile int *)item);
  CAlliance::Add(item, (int)v19);
  CDBSocket::Write(24, "ddb", a1, a4, (unsigned __int8)v18);
  CRWLock::WriteUnlock(&unk_4E09B0);
  return 1;
}
// 4E09A4: using guessed type int dword_4E09A4[3];

//----- (00419370) --------------------------------------------------------
void __cdecl CAlliance::PostponeExpire()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int v1; // eax
  int v2; // [esp-8h] [ebp-18h]
  unsigned int v3; // [esp-4h] [ebp-14h]
  char v4[4]; // [esp+0h] [ebp-10h] BYREF
  char v5[4]; // [esp+4h] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+8h] [ebp-8h] BYREF
  time_t v7; // [esp+Ch] [ebp-4h]

  CRWLock::WriteLock(&unk_4E09B0);
  v7 = CGuild::GetWarEndTime();
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09A4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09A4, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v0) )
      break;
    v3 = v7;
    v2 = *(_DWORD *)sub_420250(&v6);
    v1 = sub_420250(&v6);
    CAlliance::Postpone(*(_DWORD **)(v1 + 4), v2, v3);
    sub_446090((int *)&v6, v5, 0);
  }
  CRWLock::WriteUnlock(&unk_4E09B0);
}
// 4E09A4: using guessed type int dword_4E09A4[3];

//----- (00419400) --------------------------------------------------------
void __thiscall CAlliance::Postpone(_DWORD *this, int a2, unsigned int a3)
{
  CIOBuffer *v4; // [esp+4h] [ebp-4h]

  if ( this[19] < a3 )
  {
    this[19] = a3;
    CDBSocket::Write(60, "dd", a2, a3);
    v4 = WritePacket_(94, "bbd", 0, 69, a3);
    CAlliance::Broadcast(this, v4);
    CIOBuffer::Release(v4);
  }
}

//----- (00419470) --------------------------------------------------------
void __cdecl CAlliance::Expire(unsigned int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v2[4]; // [esp+0h] [ebp-1Ch] BYREF
  char v3[4]; // [esp+4h] [ebp-18h] BYREF
  char v4[4]; // [esp+8h] [ebp-14h] BYREF
  CIOBuffer *v5; // [esp+Ch] [ebp-10h]
  char v6[4]; // [esp+10h] [ebp-Ch]
  int v7; // [esp+14h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v8; // [esp+18h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E09B0);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09A4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09A4, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v8,
            v1) )
      break;
    *(_DWORD *)v6 = *(_DWORD *)sub_420250(&v8);
    v7 = *(_DWORD *)(sub_420250(&v8) + 4);
    if ( *(_DWORD *)(v7 + 76) >= a1 )
    {
      sub_446090((int *)&v8, v2, 0);
    }
    else
    {
      CDBSocket::Write(26, "d", *(_DWORD *)v6);
      v5 = WritePacket_(94, "bb", 0, 67);
      CAlliance::Broadcast((_DWORD *)v7, v5);
      CIOBuffer::Release(v5);
      CAlliance::Clear(v7);
      v8._Myptr = (CIOSocket::CIOTimer *)*sub_44AF50(dword_4E09A4, v3, (int)v8._Myptr);
      LOG_NORMAL("CAlliance::Expire() Alliance's expired. (AID:%d)", *(_DWORD *)v6);
    }
  }
  CRWLock::WriteUnlock(&unk_4E09B0);
}
// 4E09A4: using guessed type int dword_4E09A4[3];

//----- (00419570) --------------------------------------------------------
void __thiscall CAlliance::AllianceInfo(const char *this, int a2)
{
  const char *i; // [esp+8h] [ebp-1014h]
  char v4; // [esp+Ch] [ebp-1010h] BYREF
  char v5[4092]; // [esp+Dh] [ebp-100Fh] BYREF
  __int16 v6; // [esp+1009h] [ebp-13h]
  char v7; // [esp+100Bh] [ebp-11h]
  int v8; // [esp+1010h] [ebp-Ch]
  char *v9; // [esp+1014h] [ebp-8h]
  int v10; // [esp+1018h] [ebp-4h]

  v8 = dword_4D9830;
  CRWLock::ReadLock(&unk_4E09B0);
  v4 = 0;
  memset(v5, 0, sizeof(v5));
  v6 = 0;
  v7 = 0;
  v9 = &v4;
  v10 = 0;
  for ( i = this; i != (const char *)-5; i = (const char *)*((_DWORD *)i + 8) )
  {
    v9 = (char *)PutNumeric<int>(v9, *((_DWORD *)i + 9));
    v9 = PutString(v9, i + 40);
    v9 = PutString(v9, i + 57);
    ++v10;
  }
  CPlayer::Write(a2, 94, "bdbm", 17, *((_DWORD *)this + 19), (unsigned __int8)v10, &v4, v9 - &v4);
  CRWLock::ReadUnlock(&unk_4E09B0);
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00419690) --------------------------------------------------------
_DWORD *__thiscall CAlliance::Add(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  *(_DWORD *)(a2 + 32) = this[8];
  result = this;
  this[8] = a2;
  return result;
}

//----- (004196C0) --------------------------------------------------------
int __thiscall CAlliance::GetSize(void *this)
{
  _DWORD *i; // [esp+4h] [ebp-8h]
  int v4; // [esp+8h] [ebp-4h]

  v4 = 0;
  CRWLock::ReadLock(&unk_4E09B0);
  for ( i = this; i != (_DWORD *)-5; i = (_DWORD *)i[8] )
    ++v4;
  CRWLock::ReadUnlock(&unk_4E09B0);
  return v4;
}

//----- (00419710) --------------------------------------------------------
volatile int *__thiscall CWar::SetGuild(volatile int **this, volatile int *a2)
{
  volatile int *result; // eax

  if ( this[20] )
    sub_401DE0((int *)this[20]);
  if ( a2 )
    sub_4010D0((int)a2);
  result = a2;
  this[20] = a2;
  return result;
}

//----- (00419750) --------------------------------------------------------
void __thiscall CAlliance::BroadcastLock(_DWORD *this, void *a2)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E09B0);
  for ( i = this; i != (_DWORD *)-5; i = (_DWORD *)i[8] )
  {
    if ( i[20] )
      CGuild::Broadcast(i[20], a2, 0);
  }
  CRWLock::ReadUnlock(&unk_4E09B0);
}

//----- (004197B0) --------------------------------------------------------
void __thiscall CAlliance::Broadcast(_DWORD *this, void *a2)
{
  while ( this != (_DWORD *)-5 )
  {
    if ( this[20] )
      CGuild::Broadcast(this[20], a2, 0);
    this = (_DWORD *)this[8];
  }
}

//----- (00419800) --------------------------------------------------------
void __cdecl CAlliance::ChangeLeaderName(int a1, int a2, char *Source)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v4[4]; // [esp+0h] [ebp-Ch] BYREF
  int i; // [esp+4h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+8h] [ebp-4h] BYREF

  if ( a1 )
  {
    CRWLock::WriteLock(&unk_4E09B0);
    sub_44AE20(dword_4E09A4, &v6, &a1);
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09A4, (int)v4);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           &v6,
           v3) )
    {
      for ( i = *(_DWORD *)(sub_420250(&v6) + 4); i != -5; i = *(_DWORD *)(i + 32) )
      {
        if ( *(_DWORD *)(i + 36) == a2 )
        {
          strcpy((char *)(i + 57), Source);
          break;
        }
      }
    }
    CRWLock::WriteUnlock(&unk_4E09B0);
  }
}
// 4E09A4: using guessed type int dword_4E09A4[3];

//----- (004198A0) --------------------------------------------------------
void __cdecl CAlliance::ChangeGuildName(int a1, int a2, char *Source)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v4[4]; // [esp+0h] [ebp-Ch] BYREF
  int i; // [esp+4h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+8h] [ebp-4h] BYREF

  if ( a1 )
  {
    CRWLock::WriteLock(&unk_4E09B0);
    sub_44AE20(dword_4E09A4, &v6, &a1);
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09A4, (int)v4);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           &v6,
           v3) )
    {
      for ( i = *(_DWORD *)(sub_420250(&v6) + 4); i != -5; i = *(_DWORD *)(i + 32) )
      {
        if ( *(_DWORD *)(i + 36) == a2 )
        {
          strcpy((char *)(i + 40), Source);
          break;
        }
      }
    }
    CRWLock::WriteUnlock(&unk_4E09B0);
  }
}
// 4E09A4: using guessed type int dword_4E09A4[3];

//----- (00419940) --------------------------------------------------------
CCastle *__thiscall CCastle::CCastle(CCastle *this)
{
  CBase::CBase((int)this);
  this->__vftable = (CCastle_vtbl *)&off_4B5798;
  std::vector<IPAddrMask>::vector<IPAddrMask>((std::vector<CIOSocket::CIOTimer> *)&this->m_cGateVec);
  this->m_nGID = 0;
  this->m_nTax = 0;
  this->m_nTaxRate = 100;
  this->m_pGuild = 0;
  this->m_pWarHead = (CWar *)-4;
  this->m_pCurStandardGuild = 0;
  this->m_nCurStandardGID = 0;
  this->m_bCurStandardUnfurl = 0;
  this->m_nGateLimit = 0;
  this->m_nCID = 0;
  this->m_bCurLordDeclare = 0;
  this->m_nLordDeclareEnd = 0;
  this->m_nExtendedCnt = 0;
  this->m_nWarEnd = 0;
  return this;
}
// 4B5798: using guessed type int (__stdcall *off_4B5798)(int);

//----- (00419A00) --------------------------------------------------------
void *__thiscall sub_419A00(void *this, char a2)
{
  CCastle::_CCastle((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00419A30) --------------------------------------------------------
void __thiscall CCastle::_CCastle(std::locale::facet *this)
{
  this->__vftable = (std::locale::facet_vtbl *)&off_4B5798;
  sub_44F580((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)&this[11]);
  CBase::_CBase(this);
}
// 4B5798: using guessed type int (__stdcall *off_4B5798)(int);

//----- (00419A60) --------------------------------------------------------
void __cdecl CCastle::Start()
{
  hHandle = CreateEventA(0, 1, 0, 0);
  CDBSocket::Write(57, &Source);
  WaitForSingleObject(hHandle, 0xFFFFFFFF);
  CloseHandle(hHandle);
}

//----- (00419AB0) --------------------------------------------------------
void __cdecl sub_419AB0()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int v1; // eax
  char v2[4]; // [esp+0h] [ebp-Ch] BYREF
  char v3[4]; // [esp+4h] [ebp-8h] BYREF
  char v4[4]; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E09D4);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v2);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v4,
            v0) )
      break;
    v1 = sub_420250(v4);
    CBase::Delete(*(CItem **)(v1 + 4));
    sub_446090((int *)v4, v3, 0);
  }
  sub_41C770(dword_4E09C8);
  CRWLock::WriteUnlock(&unk_4E09D4);
}

//----- (00419B30) --------------------------------------------------------
void __cdecl CCastle::Load(int a1, int a2)
{
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  _BYTE *v4; // eax
  _BYTE *v5; // eax
  CAtlTraceSettings *v6; // eax
  CCastle *v7; // [esp+0h] [ebp-24h]
  char v8[8]; // [esp+4h] [ebp-20h] BYREF
  char v9[8]; // [esp+Ch] [ebp-18h] BYREF
  CMemory **v10; // [esp+14h] [ebp-10h]
  CItem *item; // [esp+18h] [ebp-Ch]
  char v12[8]; // [esp+1Ch] [ebp-8h] BYREF
  char *a2a; // [esp+30h] [ebp+Ch]

  CRWLock::WriteLock(&unk_4E09D4);
  if ( !a1 )
  {
    SetEvent(hHandle);
    CRWLock::WriteUnlock(&unk_4E09D4);
    return;
  }
  v10 = sub_401000(0x68u);
  if ( v10 )
    v7 = CCastle::CCastle((CCastle *)v10);
  else
    v7 = 0;
  item = (CItem *)v7;
  v2 = GetNumeric<int>((_DWORD *)a2, &v7->m_nCID);
  v3 = GetNumeric<int>(v2, &v7->m_nGID);
  v4 = GetNumeric<int>(v3, &v7->m_nTax);
  v5 = GetNumeric<unsigned char>(v4, &v7->m_nTaxRate);
  a2a = GetNumeric<unsigned char>(v5, &v7->m_nGateLimit);
  v6 = sub_418940((CAtlTraceSettings *)v8);
  std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>((std::pair<int const ,IDirect3DTexture9 *> *)v9, v6);
  sub_445DF0(
    (int)dword_4E09C8,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v12,
    (const std::pair<int const ,CGame_Character::TargetInfo> *)v9);
  if ( !v12[4] )
  {
    LOG_ERR("CCastle::Load() castle insert error ( cid:%d )", item->m_dwTick);
    CBase::Delete(item);
    CRWLock::WriteUnlock(&unk_4E09D4);
    return;
  }
  if ( item->m_nPID )
  {
    if ( a1 == 2 )
    {
      LOG_ERR("CCastle::Load() guild error (cid:%d, gid:%d)", item->m_dwTick, item->m_nPID);
      item->m_nPID = 0;
      CRWLock::WriteUnlock(&unk_4E09D4);
      return;
    }
    CGuild::Load(item->m_nPID, a2a, (int)item);
    if ( item->m_pMap )
      sub_401DE0(&item->m_pMap->m_nIndex);
    if ( item->m_dwInfo )
      sub_4010D0(item->m_dwInfo);
    item->m_pMap = (CSMap *)item->m_dwInfo;
    item->m_ptPixel.x = item->m_nPID;
    CCastle::CreateStandard(item->m_dwTick, item->m_nPID, (char *)(item->m_dwInfo + 44), 0);
    CCastle::CreateGate((int)item, item->m_dwTick, item->m_nPID, (char *)(item->m_dwInfo + 44));
  }
  else
  {
    CCastle::CreateStandard(item->m_dwTick, 0, &Source, 0);
    CCastle::CreateGate((int)item, item->m_dwTick, 0, &Source);
  }
  CRWLock::WriteUnlock(&unk_4E09D4);
}
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (00419D80) --------------------------------------------------------
void __cdecl CCastle::SetWarGuild(volatile int *a1, volatile int *a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  volatile int **i; // [esp+8h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v2) )
      break;
    for ( i = *(volatile int ***)(*(_DWORD *)(sub_420250(&v6) + 4) + 52);
          i != (volatile int **)-4;
          i = (volatile int **)i[8] )
    {
      if ( i[10] == a1 )
        CWar::SetGuild(i, a2);
    }
    sub_446090((int *)&v6, v4, 0);
  }
}
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (00419E10) --------------------------------------------------------
void __cdecl CCastle::WarBegin(int a1)
{
  char *v1; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-1038h]
  int v8; // [esp-4h] [ebp-1030h]
  int v9; // [esp-4h] [ebp-1030h]
  CIOBuffer *v10; // [esp-4h] [ebp-1030h]
  int v11; // [esp+4h] [ebp-1028h]
  char v12[4]; // [esp+8h] [ebp-1024h] BYREF
  char v13[4]; // [esp+Ch] [ebp-1020h] BYREF
  int a2; // [esp+10h] [ebp-101Ch]
  CIOBuffer *v15; // [esp+14h] [ebp-1018h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v16; // [esp+18h] [ebp-1014h] BYREF
  char v17; // [esp+1Ch] [ebp-1010h] BYREF
  char v18[4092]; // [esp+1Dh] [ebp-100Fh] BYREF
  __int16 v19; // [esp+1019h] [ebp-13h]
  char v20; // [esp+101Bh] [ebp-11h]
  int v21; // [esp+1020h] [ebp-Ch]
  char *v22; // [esp+1024h] [ebp-8h]
  int v23; // [esp+1028h] [ebp-4h] BYREF

  v21 = dword_4D9830;
  v17 = 0;
  memset(v18, 0, sizeof(v18));
  v19 = 0;
  v20 = 0;
  v22 = &v17;
  CRWLock::ReadLock(&unk_4E09D4);
  CCastle::WarList(&v23, v22);
  v22 = v1;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v16);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v12);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v16,
            v2) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v16) + 4) + 52) != -4 )
    {
      a2 = 0;
      if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v16) + 4) + 48) )
      {
        if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v16) + 4) + 48) + 392) )
          v11 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v16) + 4) + 48) + 392);
        else
          v11 = *(_DWORD *)(*(_DWORD *)(sub_420250(&v16) + 4) + 32);
        a2 = v11;
      }
      v8 = a2;
      v3 = (int *)sub_420250(&v16);
      CPlayer::WarPortalAll(*v3, v8);
      v4 = (int *)sub_420250(&v16);
      CNPC::WarRelationShow(*v4, 0);
      *(_DWORD *)(*(_DWORD *)(sub_420250(&v16) + 4) + 76) = a1;
      v9 = v22 - &v17;
      v7 = v23;
      v5 = (_DWORD *)sub_420250(&v16);
      v15 = WritePacket_(94, "bbddm", 0, 78, *v5, v7, &v17, v9);
      v10 = v15;
      v6 = sub_420250(&v16);
      CCastle::_WarMsg(*(int **)(v6 + 4), v10);
      LOG_NORMAL("CCastle::WarBegin Started");
      CPlayer::CountWarrelationPlayer();
      CIOBuffer::Release(v15);
    }
    sub_446090((int *)&v16, v13, 0);
  }
  CRWLock::ReadUnlock(&unk_4E09D4);
  CCastle::SetWarRemainSecondTime(0);
}
// 419E62: variable 'v1' is possibly undefined
// 4D9830: using guessed type int dword_4D9830;
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (0041A030) --------------------------------------------------------
int __cdecl CCastle::WarPortal(int a1, int a2, int a3, int a4)
{
  int i; // [esp+0h] [ebp-4h]

  for ( i = 0; i < 1; ++i )
  {
    if ( a1 == dword_4D5B60[7 * i]
      && a2 == dword_4D5B64[7 * i]
      && a3 >= dword_4D5B68[7 * i]
      && a3 <= dword_4D5B70[7 * i]
      && a4 <= dword_4D5B6C[7 * i]
      && a4 >= dword_4D5B74[7 * i] )
    {
      return dword_4D5B78[7 * i];
    }
  }
  return -1;
}
// 4D5B60: using guessed type int dword_4D5B60[];
// 4D5B64: using guessed type int dword_4D5B64[];
// 4D5B68: using guessed type int dword_4D5B68[];
// 4D5B6C: using guessed type int dword_4D5B6C[];
// 4D5B70: using guessed type int dword_4D5B70[];
// 4D5B74: using guessed type int dword_4D5B74[];
// 4D5B78: using guessed type int dword_4D5B78[];

//----- (0041A0D0) --------------------------------------------------------
void __thiscall CCastle::_WarMsg(int *this, void *a2)
{
  int i; // [esp+4h] [ebp-4h]

  if ( this[12] )
  {
    CRWLock::ReadLock(&unk_4E09B0);
    if ( *(_DWORD *)(this[12] + 396) )
      CAlliance::Broadcast(*(_DWORD **)(this[12] + 396), a2);
    else
      CGuild::Broadcast(this[12], a2, 0);
    CRWLock::ReadUnlock(&unk_4E09B0);
  }
  for ( i = this[13]; i != -4; i = *(_DWORD *)(i + 32) )
  {
    if ( *(_DWORD *)(i + 80) )
      CGuild::Broadcast(*(_DWORD *)(i + 80), a2, 0);
  }
}

//----- (0041A170) --------------------------------------------------------
void __stdcall CCastle::WarMsg(void *a2)
{
  int *v1; // ecx
  int *v2; // [esp+0h] [ebp-4h]

  v2 = v1;
  CRWLock::ReadLock(&unk_4E09D4);
  CCastle::_WarMsg(v2, a2);
  CRWLock::ReadUnlock(&unk_4E09D4);
}
// 41A174: variable 'v1' is possibly undefined

//----- (0041A1A0) --------------------------------------------------------
void __cdecl CCastle::WarList(_DWORD *a1, _DWORD *a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int v3; // [esp-4h] [ebp-18h]
  char v4[4]; // [esp+0h] [ebp-14h] BYREF
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int j; // [esp+8h] [ebp-Ch]
  int i; // [esp+Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v8; // [esp+10h] [ebp-4h] BYREF

  *a1 = 0;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v8,
            v2) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v8) + 4) + 48) )
    {
      CRWLock::ReadLock(&unk_4E09B0);
      if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v8) + 4) + 48) + 396) )
      {
        for ( i = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v8) + 4) + 48) + 396); i != -5; i = *(_DWORD *)(i + 32) )
        {
          a2 = PutNumeric<int>(a2, *(_DWORD *)(i + 36));
          ++*a1;
        }
      }
      else
      {
        v3 = *(_DWORD *)(*(_DWORD *)(sub_420250(&v8) + 4) + 32);
        a2 = PutNumeric<int>(a2, v3);
        ++*a1;
      }
      CRWLock::ReadUnlock(&unk_4E09B0);
    }
    for ( j = *(_DWORD *)(*(_DWORD *)(sub_420250(&v8) + 4) + 52); j != -4; j = *(_DWORD *)(j + 32) )
    {
      a2 = PutNumeric<int>(a2, *(_DWORD *)(j + 40));
      ++*a1;
    }
    sub_446090((int *)&v8, v5, 0);
  }
}
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (0041A300) --------------------------------------------------------
void __thiscall CCastle::OnDelete(int this)
{
  CCastle::SetGuild((volatile int **)this, 0);
  if ( *(_DWORD *)(this + 56) )
    sub_401DE0(*(int **)(this + 56));
  *(_DWORD *)(this + 56) = 0;
  *(_DWORD *)(this + 60) = 0;
  if ( *(_DWORD *)(this + 52) != -4 )
  {
    CWar::Clear(*(_DWORD *)(this + 52));
    *(_DWORD *)(this + 52) = -4;
  }
  sub_402180(this);
}

//----- (0041A370) --------------------------------------------------------
void __thiscall CCastle::SetGuild(volatile int **this, volatile int *a2)
{
  if ( this[12] )
    sub_401DE0((int *)this[12]);
  if ( a2 )
    sub_4010D0((int)a2);
  this[12] = a2;
}

//----- (0041A3B0) --------------------------------------------------------
XBaseModel *__cdecl CCastle::GetCastle(unsigned int nXModelID)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  XBaseModel *result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  char v4[4]; // [esp+4h] [ebp-4h] BYREF

  sub_44AE20(dword_4E09C8, v4, &nXModelID);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v4,
         v1) )
  {
    result = *(XBaseModel **)(sub_420250(v4) + 4);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0041A400) --------------------------------------------------------
int __cdecl CCastle::GetMonsterTile2CID(int a1, int a2, int a3)
{
  int *v4; // [esp+0h] [ebp-Ch]
  _DWORD *v5; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]
  int j; // [esp+8h] [ebp-4h]

  for ( i = 0; i < 1; ++i )
  {
    v5 = &dword_4D5998[7 * i];
    if ( v5[2] == a1 && v5[3] == a2 && v5[4] == a3 )
      return *v5;
  }
  for ( j = 0; j < 5; ++j )
  {
    v4 = &dword_4D59B8[7 * j];
    if ( v4[2] == a1 && v4[3] == a2 && v4[4] == a3 )
      return *v4;
  }
  return 0;
}

//----- (0041A4B0) --------------------------------------------------------
_DWORD __stdcall CCastle::SubGateState(int a1, int a2)
{
  int v2; // ecx
  int v4; // eax
  int v5; // [esp+0h] [ebp-14h]
  char v6[4]; // [esp+4h] [ebp-10h] BYREF
  char v7[4]; // [esp+8h] [ebp-Ch] BYREF
  int i; // [esp+Ch] [ebp-8h]
  char v9[4]; // [esp+10h] [ebp-4h] BYREF

  v5 = v2;
  CRWLock::WriteLock(&unk_4E09D4);
  sub_430C20((_DWORD *)(v5 + 88), (int)v9);
  for ( i = 0; i < 5; ++i )
  {
    if ( dword_4D59B8[7 * i] == a1 )
    {
      if ( a2 == *(_DWORD *)sub_420010(v9) )
      {
        *(_DWORD *)sub_420010(v9) = 0;
        CRWLock::WriteUnlock(&unk_4E09D4);
        return i;
      }
      sub_420030((int *)v9, v7, 0);
      v4 = sub_445B40((_DWORD *)(v5 + 88), (int)v6);
      if ( (unsigned __int8)unknown_libname_8(v4) )
        break;
    }
  }
  CRWLock::WriteUnlock(&unk_4E09D4);
  return -1;
}
// 41A4B6: variable 'v2' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0041A570) --------------------------------------------------------
BOOL __thiscall CCastle::IsLord(_DWORD *this, int a2)
{
  BOOL v4; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E09D4);
  v4 = a2 == this[8];
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v4;
}

//----- (0041A5B0) --------------------------------------------------------
BOOL __thiscall CCastle::IsAlliance(_DWORD *this, int a2)
{
  BOOL v3; // [esp+0h] [ebp-Ch]

  CRWLock::ReadLock(&unk_4E09D4);
  v3 = this[12] && *(_DWORD *)(this[12] + 392) == a2;
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v3;
}

//----- (0041A610) --------------------------------------------------------
int __thiscall CCastle::IsAlreadyDeclare(_DWORD *this, int a2)
{
  int i; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  v5 = 0;
  CRWLock::ReadLock(&unk_4E09D4);
  for ( i = this[13]; i != -4; i = *(_DWORD *)(i + 32) )
  {
    if ( *(_DWORD *)(i + 40) == a2 )
    {
      v5 = 1;
      break;
    }
  }
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v5;
}

//----- (0041A670) --------------------------------------------------------
int __cdecl CCastle::IsAllCastleWarRelation(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-14h] BYREF
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int i; // [esp+8h] [ebp-Ch]
  _DWORD *v6; // [esp+Ch] [ebp-8h]
  char v7[4]; // [esp+10h] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E09D4);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v7);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v7,
            v1) )
      break;
    v6 = *(_DWORD **)(sub_420250(v7) + 4);
    if ( v6[8] && (v6[12] == a1 || *(_DWORD *)(v6[12] + 392) && *(_DWORD *)(v6[12] + 392) == *(_DWORD *)(a1 + 392)) )
    {
LABEL_12:
      CRWLock::ReadUnlock(&unk_4E09D4);
      return 1;
    }
    for ( i = v6[13]; i != -4; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 80) && *(_DWORD *)(i + 80) == a1 )
        goto LABEL_12;
    }
    sub_446090((int *)v7, v4, 0);
  }
  CRWLock::ReadUnlock(&unk_4E09D4);
  return 0;
}

//----- (0041A790) --------------------------------------------------------
void __cdecl CCastle::Login(_DWORD *a1, int a2)
{
  char *v2; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  int *v7; // eax
  int v8; // [esp-Ch] [ebp-1044h]
  int v9; // [esp-Ch] [ebp-1044h]
  int v10; // [esp-Ch] [ebp-1044h]
  int v11; // [esp-Ch] [ebp-1044h]
  int v12; // [esp-8h] [ebp-1040h]
  int v13; // [esp-4h] [ebp-103Ch]
  int v14; // [esp-4h] [ebp-103Ch]
  int v15; // [esp-4h] [ebp-103Ch]
  int v16; // [esp-4h] [ebp-103Ch]
  char v17[4]; // [esp+4h] [ebp-1034h] BYREF
  char v18[4]; // [esp+8h] [ebp-1030h] BYREF
  _DWORD *v19; // [esp+Ch] [ebp-102Ch]
  int v20; // [esp+10h] [ebp-1028h]
  int v21; // [esp+14h] [ebp-1024h]
  int j; // [esp+18h] [ebp-1020h]
  int i; // [esp+1Ch] [ebp-101Ch]
  int v24; // [esp+20h] [ebp-1018h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v25; // [esp+24h] [ebp-1014h] BYREF
  char v26; // [esp+28h] [ebp-1010h] BYREF
  char v27[4092]; // [esp+29h] [ebp-100Fh] BYREF
  __int16 v28; // [esp+1025h] [ebp-13h]
  char v29; // [esp+1027h] [ebp-11h]
  int v30; // [esp+102Ch] [ebp-Ch]
  char *v31; // [esp+1030h] [ebp-8h]
  int v32; // [esp+1034h] [ebp-4h] BYREF

  v30 = dword_4D9830;
  v26 = 0;
  memset(v27, 0, sizeof(v27));
  v28 = 0;
  v29 = 0;
  v31 = &v26;
  CRWLock::ReadLock(&unk_4E09D4);
  CCastle::WarList(&v32, v31);
  v31 = v2;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v25);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v17);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v25,
            v3) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v25) + 4) + 52) != -4 )
    {
      if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v25) + 4) + 48) )
      {
        if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v25) + 4) + 32) == a2 )
        {
          v13 = v31 - &v26;
          v8 = v32;
          v4 = (_DWORD *)sub_420250(&v25);
          CPlayer::Write((int)a1, 94, "bbddm", 0, 78, *v4, v8, &v26, v13);
          break;
        }
        if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v25) + 4) + 48) + 396) )
        {
          CRWLock::ReadLock(&unk_4E09B0);
          for ( i = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v25) + 4) + 48) + 396); i != -5; i = *(_DWORD *)(i + 32) )
          {
            if ( *(_DWORD *)(i + 36) == a2 )
            {
              v14 = v31 - &v26;
              v9 = v32;
              v5 = (_DWORD *)sub_420250(&v25);
              CPlayer::Write((int)a1, 94, "bbddm", 0, 78, *v5, v9, &v26, v14);
              CRWLock::ReadUnlock(&unk_4E09B0);
              CRWLock::ReadUnlock(&unk_4E09D4);
              return;
            }
          }
          CRWLock::ReadUnlock(&unk_4E09B0);
        }
      }
      for ( j = *(_DWORD *)(*(_DWORD *)(sub_420250(&v25) + 4) + 52); j != -4; j = *(_DWORD *)(j + 32) )
      {
        if ( *(_DWORD *)(j + 40) == a2 )
        {
          v15 = v31 - &v26;
          v10 = v32;
          v6 = (_DWORD *)sub_420250(&v25);
          CPlayer::Write((int)a1, 94, "bbddm", 0, 78, *v6, v10, &v26, v15);
          break;
        }
      }
      v16 = a1[84];
      v12 = a1[83];
      v11 = a1[79];
      v7 = (int *)sub_420250(&v25);
      v24 = CCastle::WarPortal(*v7, v11, v12, v16);
      if ( v24 >= 0 )
      {
        v19 = (_DWORD *)((char *)&unk_4D77C8 + 28 * v24);
        v20 = RandomBetween(v19[1] - 32, v19[1] + 32);
        v21 = RandomBetween(v19[2] - 32, v19[2] + 32);
        a1[79] = *v19;
        a1[83] = v20;
        a1[84] = v21;
        a1[85] = 0;
      }
    }
    sub_446090((int *)&v25, v18, 0);
  }
  CRWLock::ReadUnlock(&unk_4E09D4);
}
// 41A7E2: variable 'v2' is possibly undefined
// 4D9830: using guessed type int dword_4D9830;
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (0041AB10) --------------------------------------------------------
void __thiscall CCastle::WarAllianceADD(_DWORD *this, int a2, int a3, int a4, char *a5)
{
  unsigned int v5; // [esp-4h] [ebp-1Ch]
  CWar *v6; // [esp+0h] [ebp-18h]
  CMemory **v8; // [esp+8h] [ebp-10h]
  char *i; // [esp+Ch] [ebp-Ch]
  CIOBuffer *v10; // [esp+14h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E09D4);
  CRWLock::WriteLock(&unk_4E09B0);
  v5 = CGuild::GetWarEndTime();
  CAlliance::Postpone(a5, a3, v5);
  v10 = WritePacket_(94, "bbds", 0, 76, a2, a4);
  for ( i = a5; i != (char *)-5; i = (char *)*((_DWORD *)i + 8) )
  {
    v8 = sub_401000(0x54u);
    if ( v8 )
      v6 = CWar::CWar((CWar *)v8);
    else
      v6 = 0;
    v6->m_nAID = a3;
    v6->m_nGID = *((_DWORD *)i + 9);
    strcpy(v6->m_szGuildName, i + 40);
    strcpy(v6->m_szLeaderName, i + 57);
    CWar::SetGuild((volatile int **)v6, *((volatile int **)i + 20));
    if ( this[13] == -4 )
      this[13] = v6;
    else
      CWar::ADD((_DWORD *)this[13], (int)v6);
    CDBSocket::Write(61, "ddd", a2, a3, *((_DWORD *)i + 9));
    if ( *((_DWORD *)i + 20) )
      CGuild::Broadcast(*((_DWORD *)i + 20), v10, 0);
  }
  CIOBuffer::Release(v10);
  CRWLock::WriteUnlock(&unk_4E09B0);
  CRWLock::WriteUnlock(&unk_4E09D4);
}

//----- (0041AC80) --------------------------------------------------------
void __thiscall CCastle::WarADD(_DWORD *this, int a2, int a3, char *Source, int a5)
{
  CWar *v5; // [esp+0h] [ebp-14h]
  CMemory **v7; // [esp+8h] [ebp-Ch]
  CIOBuffer *v8; // [esp+10h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E09D4);
  v7 = sub_401000(0x54u);
  if ( v7 )
    v5 = CWar::CWar((CWar *)v7);
  else
    v5 = 0;
  v5->m_nAID = 0;
  v5->m_nGID = a3;
  strcpy(v5->m_szGuildName, (const char *)(a5 + 44));
  strcpy(v5->m_szLeaderName, Source);
  CWar::SetGuild((volatile int **)v5, (volatile int *)a5);
  if ( this[13] == -4 )
    this[13] = v5;
  else
    CWar::ADD((_DWORD *)this[13], (int)v5);
  CDBSocket::Write(61, "ddd", a2, 0, a3);
  v8 = WritePacket_(94, "bbds", 0, 76, a2, a5 + 44);
  CGuild::Broadcast(a5, v8, 0);
  CIOBuffer::Release(v8);
  CRWLock::WriteUnlock(&unk_4E09D4);
}

//----- (0041AD90) --------------------------------------------------------
int __thiscall CCastle::GetWarSize(_DWORD *this)
{
  int i; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v7 = 0;
  CRWLock::ReadLock(&unk_4E09D4);
  for ( i = this[13]; i != -4; i = *(_DWORD *)(i + 32) )
    ++v7;
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v7;
}

//----- (0041ADE0) --------------------------------------------------------
void __thiscall CCastle::WarDelcareList(_DWORD *this, int a2)
{
  char *v2; // eax
  int j; // [esp+8h] [ebp-1018h]
  int i; // [esp+Ch] [ebp-1014h]
  char v6; // [esp+10h] [ebp-1010h] BYREF
  char v7[4092]; // [esp+11h] [ebp-100Fh] BYREF
  __int16 v8; // [esp+100Dh] [ebp-13h]
  char v9; // [esp+100Fh] [ebp-11h]
  int v10; // [esp+1010h] [ebp-10h]
  char *v11; // [esp+1014h] [ebp-Ch]
  int v12; // [esp+1018h] [ebp-8h]
  int v13; // [esp+101Ch] [ebp-4h]

  v10 = dword_4D9830;
  CRWLock::ReadLock(&unk_4E09D4);
  v6 = 0;
  memset(v7, 0, sizeof(v7));
  v8 = 0;
  v9 = 0;
  v11 = &v6;
  v13 = 0;
  v12 = 0;
  if ( this[12] )
  {
    if ( *(_DWORD *)(this[12] + 396) )
    {
      for ( i = *(_DWORD *)(this[12] + 396); i != -5; i = *(_DWORD *)(i + 32) )
      {
        v11 = PutString(v11, (const char *)(i + 40));
        v11 = PutString(v11, (const char *)(i + 57));
        ++v12;
      }
    }
    else
    {
      v11 = PutString(v11, (const char *)(this[12] + 44));
      v2 = CGuild::GetLeaderName(this[12]);
      v11 = PutString(v11, v2);
      ++v12;
    }
  }
  if ( this[13] != -4 )
  {
    for ( j = this[13]; j != -4; j = *(_DWORD *)(j + 32) )
    {
      if ( !this[12] || this[8] != *(_DWORD *)(j + 40) && this[8] != *(_DWORD *)(j + 36) )
      {
        if ( *(_DWORD *)(j + 36) && *(_DWORD *)(j + 40) != *(_DWORD *)(j + 36) )
          v11 = PutNumeric<unsigned char>(v11, 0);
        else
          v11 = PutNumeric<unsigned char>(v11, 1);
        v11 = (char *)PutNumeric<int>(v11, *(_DWORD *)(j + 36));
        v11 = PutString(v11, (const char *)(j + 44));
        v11 = PutString(v11, (const char *)(j + 61));
        ++v13;
      }
    }
  }
  CPlayer::Write(a2, 94, "bbbm", 20, (unsigned __int8)v12, (unsigned __int8)v13, &v6, v11 - &v6);
  CRWLock::ReadUnlock(&unk_4E09D4);
}
// 4D9830: using guessed type int dword_4D9830;

//----- (0041B060) --------------------------------------------------------
BOOL __thiscall CCastle::IsStandardAlive(_DWORD *this)
{
  BOOL v3; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E09D4);
  v3 = this[15] == 0;
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v3;
}

//----- (0041B0A0) --------------------------------------------------------
int __thiscall CCastle::GetStandardUnfurl(_DWORD *this)
{
  int v3; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E09D4);
  v3 = this[16];
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v3;
}

//----- (0041B0D0) --------------------------------------------------------
void __thiscall CCastle::SetStandardUnfurl(_DWORD *this, int a2)
{
  CRWLock::WriteLock(&unk_4E09D4);
  this[16] = a2;
  CRWLock::WriteUnlock(&unk_4E09D4);
}

//----- (0041B100) --------------------------------------------------------
void __thiscall CCastle::SetCurStandardGuild(int this, int a2, volatile int *a3)
{
  CRWLock::WriteLock(&unk_4E09D4);
  if ( *(_DWORD *)(this + 56) )
    sub_401DE0(*(int **)(this + 56));
  if ( a3 )
    sub_4010D0((int)a3);
  *(_DWORD *)(this + 56) = a3;
  *(_DWORD *)(this + 60) = a2;
  CRWLock::WriteUnlock(&unk_4E09D4);
}

//----- (0041B160) --------------------------------------------------------
void __cdecl CCastle::UnfurlStandardCancel(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v2[4]; // [esp+0h] [ebp-10h] BYREF
  char v3[4]; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  char v5[4]; // [esp+Ch] [ebp-4h] BYREF

  if ( a1 )
  {
    CRWLock::WriteLock(&unk_4E09D4);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v5);
    while ( 1 )
    {
      v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v2);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
              v1) )
        break;
      if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v5) + 4) + 52) != -4 )
      {
        if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v5) + 4) + 32) == a1 )
        {
          *(_DWORD *)(*(_DWORD *)(sub_420250(v5) + 4) + 64) = 0;
          break;
        }
        for ( i = *(_DWORD *)(*(_DWORD *)(sub_420250(v5) + 4) + 52); i != -4; i = *(_DWORD *)(i + 32) )
        {
          if ( *(_DWORD *)(i + 40) == a1 )
          {
            *(_DWORD *)(*(_DWORD *)(sub_420250(v5) + 4) + 64) = 0;
            CRWLock::WriteUnlock(&unk_4E09D4);
            return;
          }
        }
      }
      sub_446090((int *)v5, v3, 0);
    }
    CRWLock::WriteUnlock(&unk_4E09D4);
  }
  else
  {
    LOG_ERR("CCastle::UnfurlStandardCancel() gid error");
  }
}

//----- (0041B270) --------------------------------------------------------
void __thiscall CCastle::BrokenStandard(int *this, int a2)
{
  CIOBuffer *v3; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E09D4);
  if ( this[14] )
  {
    v3 = WritePacket_(94, "bbdsb", 0, 98, a2, this[14] + 44, this[20] != 0);
    if ( !--*(_DWORD *)(this[14] + 32) )
      *(_DWORD *)(this[14] + 356) = GetTickCount() + 600000;
  }
  else
  {
    v3 = WritePacket_(94, "bbdsb", 0, 98, a2, &Source, 0);
  }
  CCastle::_WarMsg(this, v3);
  CIOBuffer::Release(v3);
  CRWLock::ReadUnlock(&unk_4E09D4);
  CCastle::SetCurStandardGuild((int)this, 0, 0);
  CCastle::SetLordDeclare(this, 0);
}

//----- (0041B360) --------------------------------------------------------
int __cdecl CCastle::CreateStandard(int a1, int a5, char *Source, int a7)
{
  int i; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v6 = 0;
  for ( i = 0; i < 1; ++i )
  {
    if ( dword_4D5998[7 * i] == a1 )
    {
      if ( CMonsterGuildWar::Create(
             dword_4D5998[7 * i + 1],
             dword_4D5998[7 * i + 2],
             (int)&dword_4D5998[7 * i + 3],
             dword_4D5998[7 * i + 6] + (dword_4D5998[7 * i + 5] << 8),
             a5,
             Source,
             a7) )
      {
        v6 = 1;
      }
      return v6;
    }
  }
  return v6;
}

//----- (0041B3F0) --------------------------------------------------------
void __thiscall CCastle::CreateGate(int this, int a2, int a3, char *Source)
{
  CIOSocket::CIOTimer _Val; // [esp+4h] [ebp-Ch] BYREF

  for ( _Val.m_nId = 0; _Val.m_nId < 5; ++_Val.m_nId )
  {
    _Val.m_pObject = (CIOObject *)&dword_4D59B8[7 * _Val.m_nId];
    if ( _Val.m_pObject->__vftable == (CIOObject_vtbl *)a2 )
    {
      _Val.m_dwTime = (unsigned int)CMonsterGuildWar::Create(
                                      _Val.m_pObject->m_nRef,
                                      _Val.m_pObject->m_nTimerRef,
                                      (int)&_Val.m_pObject->m_nGeneralRef,
                                      _Val.m_pObject[1].m_nTimerRef + (_Val.m_pObject[1].m_nRef << 8),
                                      a3,
                                      Source,
                                      0);
      std::vector<IPAddrMask>::push_back((std::vector<CIOSocket::CIOTimer> *)(this + 88), &_Val);
    }
  }
}

//----- (0041B480) --------------------------------------------------------
void __stdcall CCastle::CreateNoExistGate(int a1, int a2, char *Source)
{
  int v3; // ecx
  CIOCriticalSection *v4; // esi
  int v5; // eax
  int v6; // [esp+4h] [ebp-1Ch]
  char v7[4]; // [esp+8h] [ebp-18h] BYREF
  char v8[4]; // [esp+Ch] [ebp-14h] BYREF
  int *v9; // [esp+10h] [ebp-10h]
  int i; // [esp+14h] [ebp-Ch]
  char v11[4]; // [esp+18h] [ebp-8h] BYREF
  int v12; // [esp+1Ch] [ebp-4h]

  v6 = v3;
  sub_430C20((_DWORD *)(v3 + 88), (int)v11);
  for ( i = 0; i < 5; ++i )
  {
    v9 = &dword_4D59B8[7 * i];
    if ( *v9 == a1 )
    {
      v12 = *(_DWORD *)sub_420010(v11);
      if ( v12 )
      {
        (*(void (__thiscall **)(int, int, char *))(*(_DWORD *)v12 + 216))(v12, a2, Source);
      }
      else
      {
        v4 = CMonsterGuildWar::Create(v9[1], v9[2], (int)(v9 + 3), v9[6] + (v9[5] << 8), a2, Source, 0);
        *(_DWORD *)sub_420010(v11) = v4;
      }
      sub_420030((int *)v11, v8, 0);
      v5 = sub_445B40((_DWORD *)(v6 + 88), (int)v7);
      if ( (unsigned __int8)unknown_libname_8(v5) )
        break;
    }
  }
}
// 41B487: variable 'v3' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0041B580) --------------------------------------------------------
int __cdecl CCastle::IsGateAlive(char a1, unsigned int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v4[4]; // [esp+0h] [ebp-10h] BYREF
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+Ch] [ebp-4h] BYREF

  v6 = 0;
  CRWLock::ReadLock(&unk_4E09D4);
  sub_44AE20(dword_4E09C8, &v7, &a1);
  v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v4);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v7,
         v2) )
  {
    v5 = *(_DWORD *)(sub_420250(&v7) + 4);
    if ( *(_DWORD *)std::vector<Event::Section>::operator[]((std::vector<CItemInfo> *)(v5 + 88), a2) )
      v6 = 1;
  }
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v6;
}
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (0041B610) --------------------------------------------------------
int __thiscall CCastle::GetTaxRate(_DWORD *this)
{
  int v3; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E09D4);
  v3 = this[10];
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v3;
}

//----- (0041B640) --------------------------------------------------------
void __thiscall CCastle::SetTaxRate(_DWORD *this, int a2, int a3)
{
  CRWLock::WriteLock(&unk_4E09D4);
  this[10] = a3;
  CDBSocket::Write(63, "db", a2, (unsigned __int8)a3);
  CRWLock::WriteUnlock(&unk_4E09D4);
}

//----- (0041B690) --------------------------------------------------------
BOOL __thiscall CCastle::IsPayment(_DWORD *this)
{
  BOOL v3; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E09D4);
  v3 = this[8] != 0;
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v3;
}

//----- (0041B6D0) --------------------------------------------------------
int __thiscall CCastle::GetTax(_DWORD *this)
{
  int v3; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E09D4);
  v3 = this[9];
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v3;
}

//----- (0041B700) --------------------------------------------------------
void __thiscall CCastle::AddTax(_DWORD *this, int a2)
{
  int v2; // [esp+0h] [ebp-8h]

  CRWLock::WriteLock(&unk_4E09D4);
  if ( this[9] + (a2 < 0 ? 0 : a2) <= 2000000000 )
    v2 = this[9] + (a2 < 0 ? 0 : a2);
  else
    v2 = 2000000000;
  this[9] = v2;
  CRWLock::WriteUnlock(&unk_4E09D4);
}

//----- (0041B770) --------------------------------------------------------
int __thiscall CCastle::ResetTax(_DWORD *this, int a2)
{
  int v4; // [esp+4h] [ebp-4h]

  CRWLock::WriteLock(&unk_4E09D4);
  v4 = this[9];
  this[9] = 0;
  CDBSocket::Write(27, "dd", a2, 0);
  CRWLock::WriteUnlock(&unk_4E09D4);
  return v4;
}

//----- (0041B7C0) --------------------------------------------------------
void __cdecl CCastle::TaxSave()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  _DWORD *v1; // eax
  int v2; // [esp-4h] [ebp-10h]
  char v3[4]; // [esp+0h] [ebp-Ch] BYREF
  char v4[4]; // [esp+4h] [ebp-8h] BYREF
  char v5[4]; // [esp+8h] [ebp-4h] BYREF

  if ( ++dword_4E099C > 5 )
  {
    dword_4E099C = 0;
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v5);
    while ( 1 )
    {
      v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v3);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
              v0) )
        break;
      v2 = *(_DWORD *)(*(_DWORD *)(sub_420250(v5) + 4) + 36);
      v1 = (_DWORD *)sub_420250(v5);
      CDBSocket::Write(27, "dd", *v1, v2);
      sub_446090((int *)v5, v4, 0);
    }
  }
}
// 4E099C: using guessed type int dword_4E099C;

//----- (0041B860) --------------------------------------------------------
int __thiscall CCastle::IsGateUse(_DWORD *this, int a2)
{
  int i; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  v5 = 0;
  CRWLock::ReadLock(&unk_4E09D4);
  if ( this[11] != 2 )
  {
    if ( this[11] )
    {
      if ( this[11] == 1 )
      {
        if ( a2 && this[12] )
        {
          if ( *(_DWORD *)(this[12] + 396) )
          {
            CRWLock::ReadLock(&unk_4E09B0);
            for ( i = *(_DWORD *)(this[12] + 396); i != -5 && *(_DWORD *)(i + 36) != a2; i = *(_DWORD *)(i + 32) )
              ;
            if ( i == -5 )
              v5 = 97;
            CRWLock::ReadUnlock(&unk_4E09B0);
          }
          else if ( this[8] != a2 )
          {
            v5 = 97;
          }
        }
        else
        {
          v5 = 97;
        }
      }
    }
    else if ( !a2 || this[8] != a2 )
    {
      v5 = 96;
    }
  }
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v5;
}

//----- (0041B970) --------------------------------------------------------
int __thiscall CCastle::IsGateUseWarring(_DWORD *this, int a2)
{
  int i; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  v8 = 0;
  CRWLock::ReadLock(&unk_4E09D4);
  if ( a2 && this[12] )
  {
    if ( *(_DWORD *)(this[12] + 396) )
    {
      CRWLock::ReadLock(&unk_4E09B0);
      for ( i = *(_DWORD *)(this[12] + 396); i != -5 && *(_DWORD *)(i + 36) != a2; i = *(_DWORD *)(i + 32) )
        ;
      if ( i == -5 )
        v8 = 97;
      CRWLock::ReadUnlock(&unk_4E09B0);
    }
    else if ( this[8] != a2 )
    {
      v8 = 97;
    }
  }
  else
  {
    v8 = 97;
  }
  CRWLock::ReadUnlock(&unk_4E09D4);
  return v8;
}

//----- (0041BA30) --------------------------------------------------------
void __cdecl CCastle::GateGoto(int a1, int a2)
{
  int i; // [esp+4h] [ebp-4h]

  for ( i = 0; i < 10; ++i )
  {
    if ( dword_4D5A48[7 * i + 1] == a2 )
    {
      CPlayer::Teleport((_DWORD *)a1, dword_4D5A48[7 * i + 2], &dword_4D5A48[7 * i + 3], 0, 0);
      return;
    }
  }
}

//----- (0041BA90) --------------------------------------------------------
int __thiscall CCastle::SetGateLimit(void *this, signed int a2, int a3)
{
  if ( a2 < 0 || a2 > 2 )
    return 0;
  CRWLock::WriteLock(&unk_4E09D4);
  *((_DWORD *)this + 11) = a2;
  CRWLock::WriteUnlock(&unk_4E09D4);
  CDBSocket::Write(65, "db", a3, (unsigned __int8)a2);
  return 1;
}

//----- (0041BAF0) --------------------------------------------------------
void __cdecl CCastle::SetWarRemainSecondTime(int a1)
{
  CRWLock::WriteLock(&unk_4E09D4);
  dword_4E09A0 = a1;
  CRWLock::WriteUnlock(&unk_4E09D4);
}
// 4E09A0: using guessed type int dword_4E09A0;

//----- (0041BB20) --------------------------------------------------------
void __cdecl CCastle::ChangeLeaderName(int a1, char *Source)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E09D4);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v2) )
      break;
    for ( i = *(_DWORD *)(*(_DWORD *)(sub_420250(&v6) + 4) + 52); i != -4; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 40) == a1 )
      {
        strcpy((char *)(i + 61), Source);
        CRWLock::WriteUnlock(&unk_4E09D4);
        return;
      }
    }
    sub_446090((int *)&v6, v4, 0);
  }
  CRWLock::WriteUnlock(&unk_4E09D4);
}
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (0041BBD0) --------------------------------------------------------
void __cdecl CCastle::ChangeGuildName(int a1, char *Source)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  int i; // [esp+8h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+Ch] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E09D4);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v2) )
      break;
    for ( i = *(_DWORD *)(*(_DWORD *)(sub_420250(&v6) + 4) + 52); i != -4; i = *(_DWORD *)(i + 32) )
    {
      if ( *(_DWORD *)(i + 40) == a1 )
      {
        strcpy((char *)(i + 44), Source);
        CRWLock::WriteUnlock(&unk_4E09D4);
        return;
      }
    }
    sub_446090((int *)&v6, v4, 0);
  }
  CRWLock::WriteUnlock(&unk_4E09D4);
}
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (0041BC80) --------------------------------------------------------
void __thiscall CCastle::SetLordDeclare(_DWORD *this, int a2)
{
  CRWLock::WriteLock(&unk_4E09D4);
  this[20] = a2;
  if ( a2 )
    this[21] = time(0) + 300;
  else
    this[21] = 0;
  CRWLock::WriteUnlock(&unk_4E09D4);
}

//----- (0041BCE0) --------------------------------------------------------
void __cdecl CCastle::SecondProcess()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  char v1[4]; // [esp+0h] [ebp-24h] BYREF
  char v2[4]; // [esp+4h] [ebp-20h] BYREF
  CIOBuffer *v3; // [esp+8h] [ebp-1Ch]
  CIOBuffer *v4; // [esp+Ch] [ebp-18h]
  int *v5; // [esp+10h] [ebp-14h]
  int v6; // [esp+14h] [ebp-10h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+18h] [ebp-Ch] BYREF
  time_t v8; // [esp+1Ch] [ebp-8h]
  int v9; // [esp+20h] [ebp-4h]

  v9 = 0;
  v8 = time(0);
  CRWLock::WriteLock(&unk_4E09D4);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v1);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v7,
            v0) )
      break;
    v5 = *(int **)(sub_420250(&v7) + 4);
    if ( v5[13] != -4 && v5[19] )
    {
      v6 = v5[19] - v8;
      if ( v6 <= 600 )
      {
        if ( !(v6 % 60) || v6 <= 60 )
        {
          v4 = WritePacket_(94, "bbbb", 0, 100, (unsigned __int8)(v6 / 60), (unsigned __int8)(v6 % 60));
          CCastle::_WarMsg(v5, v4);
          CIOBuffer::Release(v4);
        }
        if ( v6 <= 0 )
        {
          v9 = CCastle::IsWarEnd(v5);
          if ( v9 )
            CCastle::WarEnd((int)v5);
        }
      }
      if ( v5[20] )
      {
        v6 = v5[21] - v8;
        if ( v6 <= 300 && (!(v6 % 60) || v6 < 60 && !(v6 % 10) || v6 <= 30) )
        {
          v3 = WritePacket_(94, "bbsbb", 0, 104, v5[14] + 44, (unsigned __int8)(v6 / 60), (unsigned __int8)(v6 % 60));
          CCastle::_WarMsg(v5, v3);
          CIOBuffer::Release(v3);
        }
        if ( v6 <= 0 )
        {
          CCastle::ChangeLord((int)v5);
          v5[20] = 0;
          v5[21] = 0;
        }
      }
    }
    sub_446090((int *)&v7, v2, 0);
  }
  if ( v9 )
    dword_4E0964 = 0;
  CRWLock::WriteUnlock(&unk_4E09D4);
}
// 4E0964: using guessed type int dword_4E0964;
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (0041BEE0) --------------------------------------------------------
void __thiscall CCastle::WarEnd(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char *v2; // [esp+0h] [ebp-34h]
  char v4[4]; // [esp+8h] [ebp-2Ch] BYREF
  char v5[4]; // [esp+Ch] [ebp-28h] BYREF
  int v6; // [esp+10h] [ebp-24h] BYREF
  int v7; // [esp+14h] [ebp-20h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v8; // [esp+18h] [ebp-1Ch] BYREF
  CItem *item; // [esp+1Ch] [ebp-18h]
  _DWORD v10[3]; // [esp+20h] [ebp-14h] BYREF
  int a2; // [esp+2Ch] [ebp-8h]
  CIOBuffer *v12; // [esp+30h] [ebp-4h]

  CCastle::ChangeLord(this);
  if ( *(_DWORD *)(this + 48) )
    v2 = (char *)(*(_DWORD *)(this + 48) + 44);
  else
    v2 = &Source;
  v12 = WritePacket_(94, "bbds", 0, 79, *(_DWORD *)(this + 68), v2);
  CCastle::_WarMsg((int *)this, v12);
  CIOBuffer::Release(v12);
  LOG_NORMAL("CCastle::WarEnd  ");
  sub_47D030(v10);
  CMonster::GetMonsterList((int)v10, 319);
  item = 0;
  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
    (std::list<tagPARTICLES *> *)v10,
    (std::list<tagPARTICLES *>::iterator *)&v8);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(v10, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v8,
            v1) )
      break;
    item = *(CItem **)sub_40F040(&v8);
    v7 = 0;
    v6 = 0;
    ((void (__thiscall *)(CItem *, CItem *, _DWORD, int *, int *))item->__vftable[1].OnWaitCallback)(
      item,
      item,
      0,
      &v7,
      &v6);
    CBase::Delete(item);
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)&v8, v5, 0);
  }
  a2 = 0;
  if ( *(_DWORD *)(this + 48) )
  {
    if ( *(_DWORD *)(*(_DWORD *)(this + 48) + 392) )
      a2 = *(_DWORD *)(*(_DWORD *)(this + 48) + 392);
    else
      a2 = *(_DWORD *)(this + 32);
  }
  CPlayer::WarPortalAll(*(_DWORD *)(this + 68), a2);
  if ( *(_DWORD *)(this + 52) != -4 )
  {
    CWar::Clear(*(_DWORD *)(this + 52));
    *(_DWORD *)(this + 52) = -4;
  }
  CNPC::WarRelationShow(*(_DWORD *)(this + 68), 1);
  if ( *(_DWORD *)(this + 48) )
  {
    if ( !*(_DWORD *)(this + 56) )
      CCastle::CreateStandard(*(_DWORD *)(this + 68), *(_DWORD *)(this + 32), (char *)(*(_DWORD *)(this + 48) + 44), 0);
    CCastle::CreateNoExistGate(*(_DWORD *)(this + 68), *(_DWORD *)(this + 32), (char *)(*(_DWORD *)(this + 48) + 44));
  }
  else
  {
    CCastle::CreateStandard(*(_DWORD *)(this + 68), 0, &Source, 0);
    CCastle::CreateNoExistGate(*(_DWORD *)(this + 68), 0, &Source);
  }
  if ( *(_DWORD *)(this + 56) )
    sub_401DE0(*(int **)(this + 56));
  if ( *(_DWORD *)(this + 48) )
    sub_4010D0(*(_DWORD *)(this + 48));
  *(_DWORD *)(this + 56) = *(_DWORD *)(this + 48);
  *(_DWORD *)(this + 60) = *(_DWORD *)(this + 32);
  *(_DWORD *)(this + 64) = 0;
  *(_DWORD *)(this + 80) = 0;
  *(_DWORD *)(this + 84) = 0;
  *(_DWORD *)(this + 76) = 0;
  *(_DWORD *)(this + 72) = 0;
  CDBSocket::Write(62, &Source);
  sub_472990((std::list<std::pair<std::string const ,int>> *)v10);
}

//----- (0041C180) --------------------------------------------------------
int __thiscall CCastle::IsWarEnd(int *this)
{
  CIOBuffer *v3; // [esp+4h] [ebp-4h]

  if ( !this[16] && !this[20] )
    return 1;
  if ( ++this[18] >= 4 )
    return 1;
  v3 = WritePacket_(94, "bb", 0, 105);
  CCastle::_WarMsg(this, v3);
  LOG_NORMAL("CCastle::IsWarEnd   ");
  CIOBuffer::Release(v3);
  this[19] += 600;
  return 0;
}

//----- (0041C210) --------------------------------------------------------
void __thiscall CCastle::ChangeLord(int this)
{
  char *v1; // [esp+0h] [ebp-10h]
  CIOBuffer *v3; // [esp+8h] [ebp-8h]
  int v4; // [esp+Ch] [ebp-4h]

  v4 = 0;
  if ( *(_DWORD *)(this + 56) )
  {
    v4 = *(_DWORD *)(this + 56);
  }
  else if ( *(_DWORD *)(this + 48) )
  {
    v4 = *(_DWORD *)(this + 48);
  }
  if ( v4 != *(_DWORD *)(this + 48) )
  {
    *(_DWORD *)(this + 32) = *(_DWORD *)(this + 60);
    CCastle::SetGuild((volatile int **)this, *(volatile int **)(this + 56));
    CDBSocket::Write(64, "dd", *(_DWORD *)(this + 68), *(_DWORD *)(this + 32));
    if ( *(_DWORD *)(this + 48) )
      v1 = (char *)(*(_DWORD *)(this + 48) + 44);
    else
      v1 = &Source;
    v3 = WritePacket_(94, "bbds", 0, 106, *(_DWORD *)(this + 68), v1);
    CCastle::_WarMsg((int *)this, v3);
    CIOBuffer::Release(v3);
    *(_DWORD *)(this + 36) = 0;
    *(_DWORD *)(this + 40) = 100;
    CDBSocket::Write(63, "db", *(_DWORD *)(this + 68), 100);
  }
}

//----- (0041C310) --------------------------------------------------------
int CCastle::IsWarDeclared()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  char v2[4]; // [esp+0h] [ebp-Ch] BYREF
  char v3[4]; // [esp+4h] [ebp-8h] BYREF
  char v4[4]; // [esp+8h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E09C8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E09C8, (int)v2);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v4,
            v0) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(sub_420250(v4) + 4) + 52) != -4 )
      return 1;
    sub_446090((int *)v4, v3, 0);
  }
  return 0;
}

//----- (0041C380) --------------------------------------------------------
CWar *__thiscall CWar::CWar(CWar *this)
{
  CBase::CBase((int)this);
  this->__vftable = (CWar_vtbl *)&off_4B58F0;
  this->m_pNextWar = (CWar *)-4;
  this->m_nAID = 0;
  this->m_nGID = 0;
  memset(this->m_szGuildName, 0, sizeof(this->m_szGuildName));
  memset(this->m_szLeaderName, 0, sizeof(this->m_szLeaderName));
  this->m_pGuild = 0;
  return this;
}
// 4B58F0: using guessed type int (__stdcall *off_4B58F0)(int);

//----- (0041C3F0) --------------------------------------------------------
void *__thiscall sub_41C3F0(void *this, char a2)
{
  sub_41C420((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0041C420) --------------------------------------------------------
void __thiscall sub_41C420(std::locale::facet *this)
{
  this->__vftable = (std::locale::facet_vtbl *)&off_4B58F0;
  CBase::_CBase(this);
}
// 4B58F0: using guessed type int (__stdcall *off_4B58F0)(int);

//----- (0041C440) --------------------------------------------------------
void __cdecl CWar::Start()
{
  hHandle = CreateEventA(0, 1, 0, 0);
  CDBSocket::Write(58, &Source);
  WaitForSingleObject(hHandle, 0xFFFFFFFF);
  CloseHandle(hHandle);
}

//----- (0041C490) --------------------------------------------------------
void __cdecl CWar::Load(int a1, char *a2)
{
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  char *v4; // eax
  char *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  CItem *v9; // [esp-4h] [ebp-24h]
  CItem *v10; // [esp+0h] [ebp-20h]
  char v11[4]; // [esp+4h] [ebp-1Ch] BYREF
  char v12[4]; // [esp+8h] [ebp-18h] BYREF
  CMemory **v13; // [esp+Ch] [ebp-14h]
  int v14; // [esp+10h] [ebp-10h]
  int v15; // [esp+14h] [ebp-Ch] BYREF
  CItem *item; // [esp+18h] [ebp-8h]
  char v17[4]; // [esp+1Ch] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E09D4);
  if ( a1 )
  {
    std::_String_base::_String_base((std::_String_base *)&v15);
    while ( a1 > 0 )
    {
      v13 = sub_401000(0x54u);
      if ( v13 )
        v10 = (CItem *)CWar::CWar((CWar *)v13);
      else
        v10 = 0;
      item = v10;
      v2 = GetNumeric<int>(a2, v17);
      v3 = GetNumeric<int>(v2, &item->m_nIID);
      v4 = (char *)GetNumeric<int>(v3, &item->m_pInit);
      v5 = GetString(v4, (char *)&item->m_pPrefix);
      a2 = GetString(v5, (char *)&item->m_ptPixel.x + 1);
      v15 = *sub_44AE20(dword_4E09C8, v12, v17);
      v6 = sub_430C20(dword_4E09C8, (int)v11);
      if ( (unsigned __int8)unknown_libname_8(v6) )
      {
        LOG_ERR("CWar::Load() not find castle (cid:%d)", *(_DWORD *)v17);
        CBase::Delete(item);
        CRWLock::WriteUnlock(&unk_4E09D4);
        return;
      }
      v14 = *(_DWORD *)(sub_420250(&v15) + 4);
      if ( item->m_pInit == *(CInitItem **)(v14 + 32) )
        CWar::SetGuild((volatile int **)item, *(volatile int **)(v14 + 48));
      if ( *(_DWORD *)(*(_DWORD *)(sub_420250(&v15) + 4) + 52) == -4 )
      {
        v7 = sub_420250(&v15);
        *(_DWORD *)(*(_DWORD *)(v7 + 4) + 52) = item;
      }
      else
      {
        v9 = item;
        v8 = sub_420250(&v15);
        CWar::ADD(*(_DWORD **)(*(_DWORD *)(v8 + 4) + 52), (int)v9);
      }
      --a1;
    }
    CRWLock::WriteUnlock(&unk_4E09D4);
  }
  else
  {
    SetEvent(hHandle);
    CRWLock::WriteUnlock(&unk_4E09D4);
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E09C8: using guessed type int dword_4E09C8[3];

//----- (0041C650) --------------------------------------------------------
void __thiscall sub_41C650(volatile int **this)
{
  CWar::SetGuild(this, 0);
  sub_402180((int)this);
}

//----- (0041C670) --------------------------------------------------------
_DWORD *__thiscall CWar::ADD(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  while ( 1 )
  {
    result = this;
    if ( this[8] == -4 )
      break;
    this = (_DWORD *)this[8];
  }
  this[8] = a2;
  return result;
}

//----- (0041C6B0) --------------------------------------------------------
void __thiscall CWar::Clear(int this)
{
  CItem *v2; // [esp+4h] [ebp-8h]
  CItem *item; // [esp+8h] [ebp-4h]

  for ( item = *(CItem **)(this + 32); item != (CItem *)-4; item = v2 )
  {
    v2 = (CItem *)item->m_nPID;
    item->m_nPID = -4;
    CBase::Delete(item);
  }
  *(_DWORD *)(this + 32) = -4;
  CBase::Delete((CItem *)this);
}

//----- (0041C710) --------------------------------------------------------
void __thiscall sub_41C710(_DWORD *this)
{
  int *v1; // eax

  v1 = (int *)sub_478AB0(this);
  sub_41C8D0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  *(_DWORD *)sub_47EB40(this) = this[1];
}

//----- (0041C770) --------------------------------------------------------
void __thiscall sub_41C770(_DWORD *this)
{
  int *v1; // eax

  v1 = (int *)sub_478AB0(this);
  sub_41C950(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  *(_DWORD *)sub_47EB40(this) = this[1];
}

//----- (0041C7D0) --------------------------------------------------------
std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *__thiscall std::vector<IPAddrMask>::vector<IPAddrMask>(std::vector<CIOSocket::CIOTimer> *this)
{
  std::vector<CIOSocket::CIOTimer> *v2; // [esp-4h] [ebp-Ch] BYREF
  std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *v3; // [esp+0h] [ebp-8h]

  v3 = (std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this;
  v2 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v2);
  sub_44F7C0(v3, (char)v2);
  std::vector<TSmartPointer<TriggerSystem::CEvent>>::_Buy(v3, 0);
  return v3;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0041C800) --------------------------------------------------------
CItemInfo *__thiscall std::vector<Event::Section>::operator[](std::vector<CItemInfo> *this, unsigned int _Pos)
{
  int *v2; // eax
  _DWORD *v3; // eax
  char v5[4]; // [esp+4h] [ebp-8h] BYREF
  char v6[4]; // [esp+8h] [ebp-4h] BYREF

  v2 = (int *)sub_430C20(this, (int)v6);
  v3 = sub_44F7E0(v2, v5, _Pos);
  return (CItemInfo *)sub_420010(v3);
}

//----- (0041C840) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall std::vector<IPAddrMask>::push_back(std::vector<CIOSocket::CIOTimer> *this, const CIOSocket::CIOTimer *_Val)
{
  unsigned int v2; // esi
  CIOSocket::CIOTimer *result; // eax
  void **v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this);
  if ( v2 >= std::vector<TSmartPointer<TriggerSystem::CEvent>>::capacity((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this) )
  {
    v4 = (void **)sub_445B40(this, (int)v7);
    result = (CIOSocket::CIOTimer *)std::length_error::length_error(
                                      (std::length_error *)this,
                                      (const std::length_error *)v6,
                                      *v4,
                                      (int)_Val);
  }
  else
  {
    result = (CIOSocket::CIOTimer *)std::vector<char const *>::_Ufill(
                                      (std::vector<unsigned int> *)this,
                                      &this->_Mylast->m_dwTime,
                                      1u,
                                      &_Val->m_dwTime);
    this->_Mylast = result;
  }
  return result;
}

//----- (0041C8D0) --------------------------------------------------------
int __stdcall sub_41C8D0(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_41C8D0(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (0041C950) --------------------------------------------------------
int __stdcall sub_41C950(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_41C950(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (0041C9D0) --------------------------------------------------------
const std::length_error *__thiscall std::length_error::length_error(std::length_error *this, const std::length_error *that, void *a3, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this) )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(this, (int)v11);
    v8 = std::vector<IPAddrMask>::iterator::operator-((std::vector<CIOSocket::CIOTimer>::iterator *)&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  std::vector<std::list<std::pair<std::string const,int>>::iterator,std::allocator<std::list<std::pair<std::string const,int>>::iterator>>::_Insert_n(
    (int)this,
    (char *)a3,
    1u,
    (unsigned int *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_44F7E0(v5, that, v7);
  return that;
}

//----- (0041CA50) --------------------------------------------------------
unsigned int *__thiscall std::vector<char const *>::_Ufill(std::vector<unsigned int> *this, unsigned int *_Ptr, unsigned int _Count, const unsigned int *_Val)
{
  std::_Uninitialized_fill_n<char *,unsigned int,char,std::allocator<char>>((char *)_Ptr, _Count, (const char *)_Val);
  return &_Ptr[_Count];
}

//----- (0041CA80) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *this, const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *_Val1, const bool *_Val2)
{
  *(_DWORD *)this = *(_DWORD *)_Val1;
  *((_BYTE *)this + 4) = *_Val2;
  return this;
}

//----- (0041CAB0) --------------------------------------------------------
std::list<std::pair<std::string const ,int>>::const_iterator *__thiscall sub_41CAB0(std::list<std::pair<std::string const ,int>>::const_iterator *this)
{
  std::list<std::pair<std::string const,int>>::const_iterator::operator--(this);
  return this;
}

//----- (0041CAD0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Lbound(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0((int *)this);
  v6 = this->_Myhead;
  while ( !*(_BYTE *)sub_431110(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(v2, _Keyval) )
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
    else
    {
      v6 = (std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *)v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
  }
  return v6;
}

//----- (0041CB60) --------------------------------------------------------
unsigned int __thiscall sub_41CB60(std::allocator<tagPARTICLES *> *this)
{
  return std::allocator<XSoundPtr>::max_size(this);
}

//----- (0041CB80) --------------------------------------------------------
void __thiscall std::vector<std::list<std::pair<std::string const,int>>::iterator,std::allocator<std::list<std::pair<std::string const,int>>::iterator>>::_Insert_n(int this, char *a2, unsigned int a3, unsigned int *a4)
{
  unsigned int v4; // esi
  unsigned int *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-1Ch]
  char *v8; // [esp+Ch] [ebp-14h]
  CMemory **v9; // [esp+10h] [ebp-10h]
  unsigned int *v10; // [esp+14h] [ebp-Ch]
  unsigned int v11; // [esp+18h] [ebp-8h]
  int v12; // [esp+18h] [ebp-8h]
  unsigned int _Val; // [esp+1Ch] [ebp-4h] BYREF
  unsigned int _Count; // [esp+2Ch] [ebp+Ch]

  _Val = *a4;
  v11 = std::vector<TSmartPointer<TriggerSystem::CEvent>>::capacity((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this);
  if ( a3 )
  {
    v4 = sub_41CB60((std::allocator<tagPARTICLES *> *)this);
    if ( v4
       - std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this) >= a3 )
    {
      if ( v11 >= a3
                + std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 2 >= a3 )
        {
          v8 = *(char **)(this + 8);
          *(_DWORD *)(this + 8) = std::vector<CGameScreenOverlay>::_Ucopy<std::vector<CGameScreenOverlay>::const_iterator>(
                                    (std::allocator<unsigned int> *)this,
                                    &v8[-4 * a3],
                                    (int)v8,
                                    v8);
          sub_44FAC0(a2, (int)&v8[-4 * a3], (int)v8);
          std::fill<HyperElement::CElement * *,HyperElement::CElement *>(
            (unsigned int *)a2,
            (unsigned int *)&a2[4 * a3],
            &_Val);
        }
        else
        {
          std::vector<CGameScreenOverlay>::_Ucopy<std::vector<CGameScreenOverlay>::const_iterator>(
            (std::allocator<unsigned int> *)this,
            a2,
            *(_DWORD *)(this + 8),
            &a2[4 * a3]);
          std::vector<char const *>::_Ufill(
            (std::vector<unsigned int> *)this,
            *(unsigned int **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 2),
            &_Val);
          *(_DWORD *)(this + 8) += 4 * a3;
          std::fill<HyperElement::CElement * *,HyperElement::CElement *>(
            (unsigned int *)a2,
            (unsigned int *)(*(_DWORD *)(this + 8) - 4 * a3),
            &_Val);
        }
      }
      else
      {
        if ( sub_41CB60((std::allocator<tagPARTICLES *> *)this) - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3
                + std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this) )
          v12 = a3
              + std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this);
        v9 = sub_41CE40(v12);
        v5 = (unsigned int *)std::vector<CGameScreenOverlay>::_Ucopy<std::vector<CGameScreenOverlay>::const_iterator>(
                               (std::allocator<unsigned int> *)this,
                               *(void **)(this + 4),
                               (int)a2,
                               v9);
        v10 = std::vector<char const *>::_Ufill((std::vector<unsigned int> *)this, v5, a3, &_Val);
        std::vector<CGameScreenOverlay>::_Ucopy<std::vector<CGameScreenOverlay>::const_iterator>(
          (std::allocator<unsigned int> *)this,
          a2,
          *(_DWORD *)(this + 8),
          v10);
        _Count = a3
               + std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_44F720((std::allocator<int> *)this, *(int **)(this + 4), *(int **)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 2);
        }
        *(_DWORD *)(this + 12) = &v9[v12];
        *(_DWORD *)(this + 8) = &v9[_Count];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (0041CE40) --------------------------------------------------------
CMemory **__stdcall sub_41CE40(int a1)
{
  return sub_44FB00(a1);
}

//----- (0041CE60) --------------------------------------------------------
std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> >::iterator *__thiscall std::vector<TriggerSystem::CTrigger *>::iterator::operator+=(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> >::iterator *this, int _Off)
{
  *(_DWORD *)this += 4 * _Off;
  return this;
}

//----- (0041CE80) --------------------------------------------------------
int __thiscall std::vector<IPAddrMask>::iterator::operator-(std::vector<CIOSocket::CIOTimer>::iterator *this, const std::vector<CIOSocket::CIOTimer>::const_iterator *_Right)
{
  CIOSocket::CIOTimer *v3; // [esp+4h] [ebp-4h] BYREF

  v3 = this->_Myptr;
  return sub_41CEE0(&v3, _Right);
}

//----- (0041CEB0) --------------------------------------------------------
std::list<std::pair<std::string const ,int>>::const_iterator *__thiscall std::list<std::pair<std::string const,int>>::const_iterator::operator--(std::list<std::pair<std::string const ,int>>::const_iterator *this)
{
  *(_DWORD *)this = *(_DWORD *)sub_474590(*(_DWORD *)this);
  return this;
}

//----- (0041CEE0) --------------------------------------------------------
int __thiscall sub_41CEE0(_DWORD *this, _DWORD *a2)
{
  return (*this - *a2) >> 2;
}

//----- (0041CF00) --------------------------------------------------------
// Microsoft VisualC 2-14/net runtime
std::pair<int const ,IDirect3DTexture9 *> *__thiscall std::pair<int const,CSocketMsg *>::pair<int const,CSocketMsg *>(std::pair<int const ,IDirect3DTexture9 *> *this, const std::pair<int,IDirect3DTexture9 *> *_Right)
{
  *(_DWORD *)this = *(_DWORD *)_Right;
  *((_DWORD *)this + 1) = *((_DWORD *)_Right + 1);
  return this;
}

//----- (0041CF30) --------------------------------------------------------
char *__thiscall std::vector<CGameScreenOverlay>::_Ucopy<std::vector<CGameScreenOverlay>::const_iterator>(std::allocator<unsigned int> *this, void *Src, int a3, void *a4)
{
  return std::_Uninitialized_copy<Patch * *,Patch * *,std::allocator<Patch *>>(
           (unsigned int *)Src,
           (unsigned int *)a3,
           (unsigned int *)a4);
}

//----- (0041CF60) --------------------------------------------------------
unsigned int __cdecl sub_41CF60(unsigned int *a1, unsigned int a2, const unsigned int *a3)
{
  return std::fill_n<TriggerSystem::CTrigger * *,unsigned int,TriggerSystem::CTrigger *>(a1, a2, a3);
}

//----- (0041CF80) --------------------------------------------------------
void *__cdecl std::_Copy_backward_opt<CControl * *,CControl * *>(void *a1, int a2, int a3)
{
  return memcpy_0((void *)(a3 - 4 * ((a2 - (int)a1) >> 2)), a1, 4 * ((a2 - (int)a1) >> 2));
}

//----- (0041CFC0) --------------------------------------------------------
// Microsoft VisualC 2-14/net runtime
char *__cdecl std::_Uninit_copy<Patch *,Patch *>(void *a1, int a2, void *a3)
{
  return (char *)memcpy_0(a3, a1, 4 * ((a2 - (int)a1) >> 2)) + 4 * ((a2 - (int)a1) >> 2);
}

//----- (0041D000) --------------------------------------------------------
void *__thiscall sub_41D000(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0041D030) --------------------------------------------------------
void *__thiscall sub_41D030(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0041D060) --------------------------------------------------------
int __thiscall sub_41D060(void *this)
{
  return sub_41D080(this);
}

//----- (0041D080) --------------------------------------------------------
int __thiscall sub_41D080(void *this)
{
  return sub_41D0A0((int)this);
}

//----- (0041D0A0) --------------------------------------------------------
int __thiscall sub_41D0A0(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_41D150(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (0041D150) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41D150(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_41C710(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0041D1F0) --------------------------------------------------------
int __thiscall sub_41D1F0(void *this)
{
  return sub_41D210(this);
}

//----- (0041D210) --------------------------------------------------------
int __thiscall sub_41D210(void *this)
{
  return sub_41D230((int)this);
}

//----- (0041D230) --------------------------------------------------------
int __thiscall sub_41D230(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_41D2E0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (0041D2E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_41D2E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_41C770(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0041D380) --------------------------------------------------------
CInitItem *__thiscall CInitItem::CInitItem(CInitItem *this)
{
  CBase::CBase((int)this);
  this->__vftable = (CInitItem_vtbl *)&off_4B5978;
  sub_41FFC0(&this->m_mapSpec);
  memset(this->m_szName, 0, sizeof(this->m_szName));
  this->m_nIndex = 0;
  this->m_nClass = 0;
  this->m_nSubClass = 0;
  this->m_dwCode = 0;
  this->m_nLevel = 0;
  this->m_bWear = 0;
  this->m_bUse = 0;
  this->m_bPlural = 0;
  this->m_nClsLimit = -1;
  this->m_nLvLimit = 0;
  this->m_nRange = 0;
  this->m_nBuy = 0;
  this->m_nSell = 0;
  this->m_nEndurance = 0;
  this->m_nCycle = 0;
  this->m_nNumPerHour = 0;
  this->m_nTime = 0;
  this->m_nRestNum = 0;
  this->m_dwCoolTime = 0;
  this->m_nRace = 0;
  this->m_bPay = 0;
  this->m_nStBuff = -1;
  this->m_nStBuffValue = 0;
  this->m_nMaxProtect = 0;
  this->m_nEffect = 0;
  this->m_dwCountry = 0;
  this->m_bWarRelation = 0;
  return this;
}
// 4B5978: using guessed type int (__stdcall *off_4B5978)(int);

//----- (0041D500) --------------------------------------------------------
void *__thiscall sub_41D500(void *this, char a2)
{
  CInitItem::_CInitItem((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0041D530) --------------------------------------------------------
void __thiscall CInitItem::_CInitItem(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v4[4]; // [esp+8h] [ebp-Ch] BYREF
  char v5[4]; // [esp+Ch] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+10h] [ebp-4h] BYREF

  *(_DWORD *)this = &off_4B5978;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 120), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v1) )
      break;
    v2 = sub_420250(&v6);
    sub_401020(*(void **)(v2 + 4));
    sub_446090((int *)&v6, v5, 0);
  }
  sub_41D5C0((void *)(this + 120));
  CBase::_CBase((std::locale::facet *)this);
}
// 4B5978: using guessed type int (__stdcall *off_4B5978)(int);

//----- (0041D5C0) --------------------------------------------------------
int __thiscall sub_41D5C0(void *this)
{
  return sub_41FFF0(this);
}

//----- (0041D5E0) --------------------------------------------------------
void __cdecl CInitItem::Open()
{
  char v0[8]; // [esp+0h] [ebp-10h] BYREF
  char v1[4]; // [esp+8h] [ebp-8h]
  int v2; // [esp+Ch] [ebp-4h]

  v2 = 46;
  *(_DWORD *)v1 = 0;
  while ( *(int *)v1 < v2 )
  {
    sub_420060(
      (int)dword_4E09F0,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v0,
      8 * *(_DWORD *)v1 + 5114368);
    if ( !v0[4] )
      LOG_ERR("CInitItem::Open() Duplicate Key. (key:%d)", *(_DWORD *)v1);
    ++*(_DWORD *)v1;
  }
}

//----- (0041D640) --------------------------------------------------------
int __cdecl CInitItem::FindKey(int a1)
{
  int v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  char v4[4]; // [esp+4h] [ebp-4h] BYREF

  sub_44C970((iless *)dword_4E09F0, v4, (const char **)&a1);
  v1 = sub_430C20(dword_4E09F0, (int)v3);
  if ( (unsigned __int8)unknown_libname_8(v1) )
    result = -1;
  else
    result = *(_DWORD *)(sub_420250(v4) + 4);
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0041D690) --------------------------------------------------------
_DWORD *__cdecl CInitItem::Copy()
{
  CInitItem *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0xB8u);
  if ( v2 )
    v1 = CInitItem::CInitItem((CInitItem *)v2);
  else
    v1 = 0;
  return &v1->__vftable;
}

//----- (0041D6D0) --------------------------------------------------------
int __thiscall CInitItem::Set(char *this, int a2, int a3)
{
  lisp::var *v3; // eax
  int v4; // eax
  int v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  int v8; // eax
  lisp::var *v9; // eax
  int v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  int v20; // eax
  lisp::var *v21; // eax
  lisp::var *v22; // eax
  lisp::var *v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  lisp::var *v30; // eax
  lisp::var *v31; // eax
  lisp::var *v32; // eax
  lisp::var *v33; // eax
  lisp::var *v34; // eax
  lisp::var *v35; // eax
  lisp::var *v36; // eax
  int v37[2]; // [esp-4h] [ebp-9Ch] BYREF
  void *v38; // [esp+4h] [ebp-94h]
  lisp::var v39; // [esp+Ch] [ebp-8Ch] BYREF
  lisp::var v40; // [esp+10h] [ebp-88h] BYREF
  lisp::var v41; // [esp+14h] [ebp-84h] BYREF
  lisp::var v42; // [esp+18h] [ebp-80h] BYREF
  lisp::var v43; // [esp+1Ch] [ebp-7Ch] BYREF
  lisp::var v44; // [esp+20h] [ebp-78h] BYREF
  lisp::var v45; // [esp+24h] [ebp-74h] BYREF
  lisp::var v46; // [esp+28h] [ebp-70h] BYREF
  lisp::var v47; // [esp+2Ch] [ebp-6Ch] BYREF
  lisp::var v48; // [esp+30h] [ebp-68h] BYREF
  lisp::var v49[2]; // [esp+34h] [ebp-64h] BYREF
  lisp::var v50; // [esp+3Ch] [ebp-5Ch] BYREF
  lisp::var v51; // [esp+40h] [ebp-58h] BYREF
  lisp::var v52; // [esp+44h] [ebp-54h] BYREF
  lisp::var v53; // [esp+48h] [ebp-50h] BYREF
  lisp::var v54; // [esp+4Ch] [ebp-4Ch] BYREF
  lisp::var v55; // [esp+50h] [ebp-48h] BYREF
  lisp::var v56; // [esp+54h] [ebp-44h] BYREF
  lisp::var v57; // [esp+58h] [ebp-40h] BYREF
  lisp::var v58; // [esp+5Ch] [ebp-3Ch] BYREF
  lisp::var v59; // [esp+60h] [ebp-38h] BYREF
  lisp::var v60; // [esp+64h] [ebp-34h] BYREF
  lisp::var v61; // [esp+68h] [ebp-30h] BYREF
  lisp::var v62; // [esp+6Ch] [ebp-2Ch] BYREF
  lisp::var v63; // [esp+70h] [ebp-28h] BYREF
  lisp::var v64; // [esp+74h] [ebp-24h] BYREF
  lisp::var v65; // [esp+78h] [ebp-20h] BYREF
  lisp::var v66; // [esp+7Ch] [ebp-1Ch] BYREF
  lisp::var result; // [esp+80h] [ebp-18h] BYREF
  int v68; // [esp+84h] [ebp-14h]
  int v69; // [esp+88h] [ebp-10h]
  int v70; // [esp+8Ch] [ebp-Ch]
  int v71; // [esp+90h] [ebp-8h]
  char *v72; // [esp+94h] [ebp-4h]

  v38 = this;
  v37[1] = a2 - 1;
  switch ( a2 )
  {
    case 1:
      v3 = lisp::var::pop((lisp::var *)&a3, &result);
      v4 = sub_40C8D0(v3);
      v72 = GetStr(v4);
      if ( v72 && strlen(v72) && strlen(v72) <= 0x1E )
      {
        strcpy((char *)v38 + 32, v72);
        goto LABEL_34;
      }
      LOG_ERR("CInitItem::Set() Invalid Name. (Name:%s)", v72);
      return 0;
    case 2:
      v6 = lisp::var::pop((lisp::var *)&a3, &v66);
      *((_DWORD *)v38 + 16) = sub_40C8D0(v6);
      goto LABEL_34;
    case 7:
      v15 = lisp::var::pop((lisp::var *)&a3, &v59);
      *((_DWORD *)v38 + 20) = sub_40C8D0(v15);
      goto LABEL_34;
    case 8:
      v29 = lisp::var::pop((lisp::var *)&a3, &v46);
      *((_DWORD *)v38 + 38) = sub_40C8D0(v29);
      goto LABEL_34;
    case 34:
      v22 = lisp::var::pop((lisp::var *)&a3, &v53);
      *((_DWORD *)v38 + 26) = sub_40C8D0(v22);
      goto LABEL_34;
    case 38:
      v7 = lisp::var::pop((lisp::var *)&a3, &v65);
      v8 = sub_402360(v7);
      *((_DWORD *)v38 + 17) = CInitItem::FindKey(v8);
      v9 = lisp::var::pop((lisp::var *)&a3, &v64);
      v10 = sub_402360(v9);
      *((_DWORD *)v38 + 18) = CInitItem::FindKey(v10);
      goto LABEL_34;
    case 39:
      v19 = lisp::var::pop((lisp::var *)&a3, &v55);
      v20 = sub_402360(v19);
      *((_DWORD *)v38 + 24) = CInitItem::FindKey(v20);
      v21 = lisp::var::pop((lisp::var *)&a3, &v54);
      *((_DWORD *)v38 + 25) = sub_40C8D0(v21);
      goto LABEL_34;
    case 40:
      v23 = lisp::var::pop((lisp::var *)&a3, &v52);
      *((_DWORD *)v38 + 27) = sub_40C8D0(v23);
      goto LABEL_34;
    case 41:
      v25 = lisp::var::pop((lisp::var *)&a3, &v50);
      *((_DWORD *)v38 + 29) = sub_40C8D0(v25);
      goto LABEL_34;
    case 42:
      v37[0] = a2 - 1;
      sub_402340(v37, &a3);
      if ( CInitItem::SetSpec(v37[0]) )
        goto LABEL_34;
      v5 = 0;
      break;
    case 44:
    case 45:
    case 57:
    case 90:
    case 91:
      goto LABEL_34;
    case 47:
      v16 = lisp::var::pop((lisp::var *)&a3, &v58);
      *((_DWORD *)v38 + 21) = sub_40C8D0(v16);
      goto LABEL_34;
    case 48:
      v17 = lisp::var::pop((lisp::var *)&a3, &v57);
      *((_DWORD *)v38 + 22) = sub_40C8D0(v17);
      goto LABEL_34;
    case 49:
      v18 = lisp::var::pop((lisp::var *)&a3, &v56);
      *((_DWORD *)v38 + 23) = sub_40C8D0(v18);
      goto LABEL_34;
    case 58:
      v24 = lisp::var::pop((lisp::var *)&a3, &v51);
      *((_DWORD *)v38 + 28) = sub_40C8D0(v24);
      goto LABEL_34;
    case 80:
      v26 = lisp::var::pop((lisp::var *)&a3, v49);
      *((_DWORD *)v38 + 33) = sub_40C8D0(v26);
      v27 = lisp::var::pop((lisp::var *)&a3, &v48);
      *((_DWORD *)v38 + 34) = sub_40C8D0(v27);
      *((_DWORD *)v38 + 36) = *((_DWORD *)v38 + 34);
      goto LABEL_34;
    case 86:
      v28 = lisp::var::pop((lisp::var *)&a3, &v47);
      *((_DWORD *)v38 + 37) = sub_40C8D0(v28);
      goto LABEL_34;
    case 96:
      v36 = lisp::var::pop((lisp::var *)&a3, &v39);
      *((_DWORD *)v38 + 45) = sub_40C8D0(v36);
      goto LABEL_34;
    case 98:
      v30 = lisp::var::pop((lisp::var *)&a3, &v45);
      *((_DWORD *)v38 + 39) = sub_40C8D0(v30);
      goto LABEL_34;
    case 101:
      v11 = lisp::var::pop((lisp::var *)&a3, &v63);
      v69 = sub_40C8D0(v11);
      v12 = lisp::var::pop((lisp::var *)&a3, &v62);
      v71 = sub_40C8D0(v12);
      v13 = lisp::var::pop((lisp::var *)&a3, &v61);
      v70 = sub_40C8D0(v13);
      v14 = lisp::var::pop((lisp::var *)&a3, &v60);
      v68 = sub_40C8D0(v14);
      *((_DWORD *)v38 + 19) = v68 | (v70 << 8) | (v71 << 16) | (v69 << 24);
      goto LABEL_34;
    case 102:
      v31 = lisp::var::pop((lisp::var *)&a3, &v44);
      *((_DWORD *)v38 + 40) = sub_40C8D0(v31);
      v32 = lisp::var::pop((lisp::var *)&a3, &v43);
      *((_DWORD *)v38 + 41) = sub_40C8D0(v32);
      goto LABEL_34;
    case 105:
      v33 = lisp::var::pop((lisp::var *)&a3, &v42);
      *((_DWORD *)v38 + 42) = sub_40C8D0(v33);
      goto LABEL_34;
    case 106:
      v34 = lisp::var::pop((lisp::var *)&a3, &v41);
      *((_DWORD *)v38 + 43) = sub_40C8D0(v34);
      goto LABEL_34;
    case 109:
      while ( !(unsigned __int8)sub_402380(&a3) )
      {
        v35 = lisp::var::pop((lisp::var *)&a3, &v40);
        *((_DWORD *)v38 + 44) |= 1 << sub_40C8D0(v35);
      }
LABEL_34:
      v5 = 1;
      break;
    default:
      v37[0] = a2 - 1;
      sub_402340(v37, &a3);
      v5 = CBase::Set(v38, a2, v37[0]);
      break;
  }
  return v5;
}

//----- (0041DCC0) --------------------------------------------------------
int __thiscall CInitItem::OnLoad(_DWORD *this)
{
  if ( this[17] == 1 && (int)this[20] >= 40 )
    this[42] = 30;
  return CItem::InsertInitItem((int)this);
}

//----- (0041DD00) --------------------------------------------------------
int __stdcall CInitItem::SetSpec(int a1)
{
  int v1; // ecx
  lisp::var *v2; // eax
  int v3; // eax
  lisp::var *v4; // eax
  CPlayer *v5; // eax
  lisp::var *v6; // eax
  int v7; // eax
  lisp::var *v8; // eax
  CPlayer *v9; // eax
  lisp::var *v10; // eax
  CPlayer *v11; // eax
  lisp::var *v12; // eax
  CPlayer *v13; // eax
  lisp::var *v14; // eax
  CPlayer *v15; // eax
  lisp::var *v16; // eax
  CPlayer *v17; // eax
  lisp::var *v18; // eax
  CPlayer *v19; // eax
  lisp::var *v20; // eax
  CPlayer *v21; // eax
  lisp::var *v22; // eax
  CPlayer *v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  CPlayer *v30; // eax
  lisp::var *v31; // eax
  CPlayer *v32; // eax
  lisp::var *v33; // eax
  CPlayer *v34; // eax
  lisp::var *v35; // eax
  CPlayer *v36; // eax
  lisp::var *v37; // eax
  CPlayer *v38; // eax
  lisp::var *v39; // eax
  CPlayer *v40; // eax
  lisp::var *v41; // eax
  CPlayer *v42; // eax
  lisp::var *v43; // eax
  CPlayer *v44; // eax
  lisp::var *v45; // eax
  char v46; // al
  lisp::var *v47; // eax
  lisp::var *v48; // eax
  lisp::var *v49; // eax
  int v50; // eax
  lisp::var *v51; // eax
  lisp::var *v52; // eax
  int v53; // eax
  CPlayer *v54; // eax
  lisp::var *v55; // eax
  int v56; // eax
  lisp::var *v57; // eax
  lisp::var *v58; // eax
  lisp::var *v59; // eax
  lisp::var *v60; // eax
  lisp::var *v61; // eax
  lisp::var *v62; // eax
  lisp::var *v63; // eax
  lisp::var *v64; // eax
  CPlayer *v65; // eax
  const std::pair<int const ,CGame_Character::TargetInfo> *v66; // eax
  CInitItem *v67; // [esp+0h] [ebp-1F0h]
  CSpecProtect *v68; // [esp+4h] [ebp-1ECh]
  CSpecBuff *v69; // [esp+8h] [ebp-1E8h]
  CSpecChangePrefix *v70; // [esp+Ch] [ebp-1E4h]
  CInitItem *v71; // [esp+10h] [ebp-1E0h]
  CInitItem *v72; // [esp+14h] [ebp-1DCh]
  _DWORD *v73; // [esp+18h] [ebp-1D8h]
  CSpecTeleport *v74; // [esp+1Ch] [ebp-1D4h]
  CInitItem *v75; // [esp+20h] [ebp-1D0h]
  int v76; // [esp+24h] [ebp-1CCh]
  int v77; // [esp+28h] [ebp-1C8h]
  int v78; // [esp+2Ch] [ebp-1C4h]
  int v79; // [esp+30h] [ebp-1C0h]
  int v80; // [esp+34h] [ebp-1BCh]
  int v81; // [esp+38h] [ebp-1B8h]
  int v82; // [esp+3Ch] [ebp-1B4h]
  int v83; // [esp+40h] [ebp-1B0h]
  CSpecPrty *v84; // [esp+44h] [ebp-1ACh]
  CSpecPrty *v85; // [esp+48h] [ebp-1A8h]
  CSpecPrty *v86; // [esp+4Ch] [ebp-1A4h]
  int v87; // [esp+50h] [ebp-1A0h]
  int v88; // [esp+54h] [ebp-19Ch]
  int v89; // [esp+58h] [ebp-198h]
  int v90; // [esp+5Ch] [ebp-194h]
  int v91; // [esp+60h] [ebp-190h]
  int v92; // [esp+64h] [ebp-18Ch]
  int v93; // [esp+68h] [ebp-188h]
  int v94; // [esp+6Ch] [ebp-184h]
  int v95; // [esp+70h] [ebp-180h]
  int v96; // [esp+78h] [ebp-178h]
  char v97[8]; // [esp+7Ch] [ebp-174h] BYREF
  lisp::var v98; // [esp+84h] [ebp-16Ch] BYREF
  CMemory **v99; // [esp+88h] [ebp-168h]
  CMemory **v100; // [esp+8Ch] [ebp-164h]
  CMemory **v101; // [esp+90h] [ebp-160h]
  lisp::var v102; // [esp+94h] [ebp-15Ch] BYREF
  lisp::var v103; // [esp+98h] [ebp-158h] BYREF
  lisp::var v104; // [esp+9Ch] [ebp-154h] BYREF
  CMemory **v105; // [esp+A0h] [ebp-150h]
  lisp::var v106; // [esp+A4h] [ebp-14Ch] BYREF
  lisp::var v107; // [esp+A8h] [ebp-148h] BYREF
  lisp::var v108; // [esp+ACh] [ebp-144h] BYREF
  lisp::var v109; // [esp+B0h] [ebp-140h] BYREF
  lisp::var v110; // [esp+B4h] [ebp-13Ch] BYREF
  CMemory **v111; // [esp+B8h] [ebp-138h]
  lisp::var v112; // [esp+BCh] [ebp-134h] BYREF
  CMemory **v113; // [esp+C0h] [ebp-130h]
  CMemory **v114; // [esp+C4h] [ebp-12Ch]
  lisp::var v115; // [esp+C8h] [ebp-128h] BYREF
  lisp::var v116; // [esp+CCh] [ebp-124h] BYREF
  Concurrency::scheduler_worker_creation_error *v117; // [esp+D0h] [ebp-120h]
  lisp::var v118; // [esp+D4h] [ebp-11Ch] BYREF
  lisp::var v119; // [esp+D8h] [ebp-118h] BYREF
  lisp::var v120; // [esp+DCh] [ebp-114h] BYREF
  CMemory **v121; // [esp+E0h] [ebp-110h]
  lisp::var v122; // [esp+E4h] [ebp-10Ch] BYREF
  CMemory **v123; // [esp+E8h] [ebp-108h]
  lisp::var v124; // [esp+ECh] [ebp-104h] BYREF
  CMemory **v125; // [esp+F0h] [ebp-100h]
  lisp::var v126; // [esp+F4h] [ebp-FCh] BYREF
  CMemory **v127; // [esp+F8h] [ebp-F8h]
  lisp::var v128; // [esp+FCh] [ebp-F4h] BYREF
  CMemory **v129; // [esp+100h] [ebp-F0h]
  lisp::var v130; // [esp+104h] [ebp-ECh] BYREF
  CMemory **v131; // [esp+108h] [ebp-E8h]
  lisp::var v132; // [esp+10Ch] [ebp-E4h] BYREF
  CMemory **v133; // [esp+110h] [ebp-E0h]
  lisp::var v134; // [esp+114h] [ebp-DCh] BYREF
  CMemory **v135; // [esp+118h] [ebp-D8h]
  lisp::var v136; // [esp+11Ch] [ebp-D4h] BYREF
  CMemory **v137; // [esp+120h] [ebp-D0h]
  CMemory **v138; // [esp+124h] [ebp-CCh]
  lisp::var v139; // [esp+128h] [ebp-C8h] BYREF
  CMemory **v140; // [esp+12Ch] [ebp-C4h]
  lisp::var v141; // [esp+130h] [ebp-C0h] BYREF
  lisp::var v142; // [esp+134h] [ebp-BCh] BYREF
  CMemory **v143; // [esp+138h] [ebp-B8h]
  lisp::var v144; // [esp+13Ch] [ebp-B4h] BYREF
  lisp::var v145; // [esp+140h] [ebp-B0h] BYREF
  lisp::var v146; // [esp+144h] [ebp-ACh] BYREF
  CMemory **v147; // [esp+148h] [ebp-A8h]
  lisp::var v148; // [esp+14Ch] [ebp-A4h] BYREF
  CMemory **v149; // [esp+150h] [ebp-A0h]
  lisp::var v150; // [esp+154h] [ebp-9Ch] BYREF
  CMemory **v151; // [esp+158h] [ebp-98h]
  lisp::var v152; // [esp+15Ch] [ebp-94h] BYREF
  CMemory **v153; // [esp+160h] [ebp-90h]
  lisp::var v154; // [esp+164h] [ebp-8Ch] BYREF
  CMemory **v155; // [esp+168h] [ebp-88h]
  lisp::var v156; // [esp+16Ch] [ebp-84h] BYREF
  CMemory **v157; // [esp+170h] [ebp-80h]
  lisp::var v158; // [esp+174h] [ebp-7Ch] BYREF
  CMemory **v159; // [esp+178h] [ebp-78h]
  lisp::var v160; // [esp+17Ch] [ebp-74h] BYREF
  CMemory **v161; // [esp+180h] [ebp-70h]
  lisp::var v162; // [esp+184h] [ebp-6Ch] BYREF
  lisp::var v163; // [esp+188h] [ebp-68h] BYREF
  CMemory **v164; // [esp+18Ch] [ebp-64h]
  lisp::var v165; // [esp+190h] [ebp-60h] BYREF
  CPlayer *v166; // [esp+194h] [ebp-5Ch]
  int v167; // [esp+198h] [ebp-58h]
  int v168; // [esp+19Ch] [ebp-54h]
  CPlayer *v169; // [esp+1A0h] [ebp-50h]
  int v170; // [esp+1A4h] [ebp-4Ch]
  int v171; // [esp+1A8h] [ebp-48h]
  int v172; // [esp+1ACh] [ebp-44h]
  int v173; // [esp+1B0h] [ebp-40h]
  int v174; // [esp+1B4h] [ebp-3Ch]
  int v175; // [esp+1B8h] [ebp-38h]
  char *v176; // [esp+1BCh] [ebp-34h]
  int v177; // [esp+1C0h] [ebp-30h]
  int v178; // [esp+1C4h] [ebp-2Ch]
  int v179; // [esp+1C8h] [ebp-28h]
  int v180; // [esp+1CCh] [ebp-24h]
  int v181; // [esp+1D0h] [ebp-20h]
  int v182; // [esp+1D4h] [ebp-1Ch]
  char v183[8]; // [esp+1D8h] [ebp-18h] BYREF
  _DWORD *v184; // [esp+1E0h] [ebp-10h]
  char v185[4]; // [esp+1E4h] [ebp-Ch]
  lisp::var result; // [esp+1E8h] [ebp-8h] BYREF
  char v187[4]; // [esp+1ECh] [ebp-4h]

  v96 = v1;
  while ( 2 )
  {
    if ( (unsigned __int8)sub_402380(&a1) )
      return 1;
    lisp::var::pop((lisp::var *)&a1, &result);
    v2 = lisp::var::pop(&result, &v165);
    *(_DWORD *)v185 = sub_402360(v2);
    *(_DWORD *)v187 = CObjectDB::FindSymbol(*(int *)v185);
    if ( *(_DWORD *)v187 )
    {
      v184 = 0;
      switch ( *(_DWORD *)v187 )
      {
        case 9:
          v164 = sub_401000(0x14u);
          if ( v164 )
          {
            v4 = lisp::var::pop(&result, &v163);
            v5 = (CPlayer *)sub_40C8D0(v4);
            v95 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v164,
                    0,
                    v5);
          }
          else
          {
            v95 = 0;
          }
          v184 = (_DWORD *)v95;
          goto LABEL_10;
        case 0xA:
          v161 = sub_401000(0x14u);
          if ( v161 )
          {
            v8 = lisp::var::pop(&result, &v160);
            v9 = (CPlayer *)sub_40C8D0(v8);
            v94 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v161,
                    1,
                    v9);
          }
          else
          {
            v94 = 0;
          }
          v184 = (_DWORD *)v94;
          goto LABEL_10;
        case 0xB:
          v159 = sub_401000(0x14u);
          if ( v159 )
          {
            v10 = lisp::var::pop(&result, &v158);
            v11 = (CPlayer *)sub_40C8D0(v10);
            v93 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v159,
                    2,
                    v11);
          }
          else
          {
            v93 = 0;
          }
          v184 = (_DWORD *)v93;
          goto LABEL_10;
        case 0xC:
          v157 = sub_401000(0x14u);
          if ( v157 )
          {
            v12 = lisp::var::pop(&result, &v156);
            v13 = (CPlayer *)sub_40C8D0(v12);
            v92 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v157,
                    3,
                    v13);
          }
          else
          {
            v92 = 0;
          }
          v184 = (_DWORD *)v92;
          goto LABEL_10;
        case 0xD:
          v155 = sub_401000(0x14u);
          if ( v155 )
          {
            v14 = lisp::var::pop(&result, &v154);
            v15 = (CPlayer *)sub_40C8D0(v14);
            v91 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v155,
                    4,
                    v15);
          }
          else
          {
            v91 = 0;
          }
          v184 = (_DWORD *)v91;
          goto LABEL_10;
        case 0xE:
          v153 = sub_401000(0x14u);
          if ( v153 )
          {
            v16 = lisp::var::pop(&result, &v152);
            v17 = (CPlayer *)sub_40C8D0(v16);
            v90 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v153,
                    5,
                    v17);
          }
          else
          {
            v90 = 0;
          }
          v184 = (_DWORD *)v90;
          goto LABEL_10;
        case 0xF:
          v151 = sub_401000(0x14u);
          if ( v151 )
          {
            v18 = lisp::var::pop(&result, &v150);
            v19 = (CPlayer *)sub_40C8D0(v18);
            v89 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v151,
                    6,
                    v19);
          }
          else
          {
            v89 = 0;
          }
          v184 = (_DWORD *)v89;
          goto LABEL_10;
        case 0x10:
          v149 = sub_401000(0x14u);
          if ( v149 )
          {
            v20 = lisp::var::pop(&result, &v148);
            v21 = (CPlayer *)sub_40C8D0(v20);
            v88 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v149,
                    9,
                    v21);
          }
          else
          {
            v88 = 0;
          }
          v184 = (_DWORD *)v88;
          goto LABEL_10;
        case 0x11:
          v147 = sub_401000(0x14u);
          if ( v147 )
          {
            v22 = lisp::var::pop(&result, &v146);
            v23 = (CPlayer *)sub_40C8D0(v22);
            v87 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v147,
                    10,
                    v23);
          }
          else
          {
            v87 = 0;
          }
          v184 = (_DWORD *)v87;
          goto LABEL_10;
        case 0x12:
          v24 = lisp::var::pop(&result, &v145);
          v181 = sub_40C8D0(v24);
          v25 = lisp::var::pop(&result, &v144);
          v182 = sub_40C8D0(v25);
          v143 = sub_401000(0x14u);
          if ( v143 )
            v86 = CSpecPrty::CSpecPrty((CSpecPrty *)v143, 27, v181, v182);
          else
            v86 = 0;
          v184 = &v86->__vftable;
          goto LABEL_10;
        case 0x13:
          v26 = lisp::var::pop(&result, &v142);
          v179 = sub_40C8D0(v26);
          v27 = lisp::var::pop(&result, &v141);
          v180 = sub_40C8D0(v27);
          v140 = sub_401000(0x14u);
          if ( v140 )
            v85 = CSpecPrty::CSpecPrty((CSpecPrty *)v140, 28, v179, v180);
          else
            v85 = 0;
          v184 = &v85->__vftable;
          goto LABEL_10;
        case 0x14:
          v28 = lisp::var::pop(&result, &v139);
          v178 = sub_40C8D0(v28);
          v138 = sub_401000(0x14u);
          if ( v138 )
            v84 = CSpecPrty::CSpecPrty((CSpecPrty *)v138, 15, v178, v178);
          else
            v84 = 0;
          v184 = &v84->__vftable;
          goto LABEL_10;
        case 0x15:
          v137 = sub_401000(0x14u);
          if ( v137 )
          {
            v29 = lisp::var::pop(&result, &v136);
            v30 = (CPlayer *)sub_40C8D0(v29);
            v83 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v137,
                    16,
                    v30);
          }
          else
          {
            v83 = 0;
          }
          v184 = (_DWORD *)v83;
          goto LABEL_10;
        case 0x16:
          v125 = sub_401000(0x14u);
          if ( v125 )
          {
            v41 = lisp::var::pop(&result, &v124);
            v42 = (CPlayer *)sub_40C8D0(v41);
            v77 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v125,
                    17,
                    v42);
          }
          else
          {
            v77 = 0;
          }
          v184 = (_DWORD *)v77;
          goto LABEL_10;
        case 0x17:
          v123 = sub_401000(0x14u);
          if ( v123 )
          {
            v43 = lisp::var::pop(&result, &v122);
            v44 = (CPlayer *)sub_40C8D0(v43);
            v76 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v123,
                    32,
                    v44);
          }
          else
          {
            v76 = 0;
          }
          v184 = (_DWORD *)v76;
          goto LABEL_10;
        case 0x19:
          v135 = sub_401000(0x14u);
          if ( v135 )
          {
            v31 = lisp::var::pop(&result, &v134);
            v32 = (CPlayer *)sub_40C8D0(v31);
            v82 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v135,
                    18,
                    v32);
          }
          else
          {
            v82 = 0;
          }
          v184 = (_DWORD *)v82;
          goto LABEL_10;
        case 0x1A:
          v133 = sub_401000(0x14u);
          if ( v133 )
          {
            v33 = lisp::var::pop(&result, &v132);
            v34 = (CPlayer *)sub_40C8D0(v33);
            v81 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v133,
                    19,
                    v34);
          }
          else
          {
            v81 = 0;
          }
          v184 = (_DWORD *)v81;
          goto LABEL_10;
        case 0x1B:
          v131 = sub_401000(0x14u);
          if ( v131 )
          {
            v35 = lisp::var::pop(&result, &v130);
            v36 = (CPlayer *)sub_40C8D0(v35);
            v80 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v131,
                    20,
                    v36);
          }
          else
          {
            v80 = 0;
          }
          v184 = (_DWORD *)v80;
          goto LABEL_10;
        case 0x1C:
          v129 = sub_401000(0x14u);
          if ( v129 )
          {
            v37 = lisp::var::pop(&result, &v128);
            v38 = (CPlayer *)sub_40C8D0(v37);
            v79 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v129,
                    21,
                    v38);
          }
          else
          {
            v79 = 0;
          }
          v184 = (_DWORD *)v79;
          goto LABEL_10;
        case 0x1D:
          v127 = sub_401000(0x14u);
          if ( v127 )
          {
            v39 = lisp::var::pop(&result, &v126);
            v40 = (CPlayer *)sub_40C8D0(v39);
            v78 = std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                    (int)v127,
                    22,
                    v40);
          }
          else
          {
            v78 = 0;
          }
          v184 = (_DWORD *)v78;
LABEL_10:
          if ( !(unsigned __int8)sub_402380(&result) )
          {
            v6 = lisp::var::pop(&result, &v162);
            v7 = sub_40C8D0(v6);
            v184[3] = v7;
          }
          goto LABEL_126;
        case 0x2B:
          v47 = lisp::var::pop(&result, &v119);
          v176 = (char *)sub_40C8D0(v47);
          v48 = lisp::var::pop(&result, &v118);
          v177 = sub_40C8D0(v48);
          v117 = (Concurrency::scheduler_worker_creation_error *)sub_401000(0xCu);
          if ( v117 )
            v74 = CSpecTeleport::CSpecTeleport((CSpecTeleport *)v117, v176, v177);
          else
            v74 = 0;
          v184 = &v74->__vftable;
          goto LABEL_126;
        case 0x2E:
          v49 = lisp::var::pop(&result, &v116);
          v50 = sub_402360(v49);
          v174 = CInitItem::FindKey(v50);
          v51 = lisp::var::pop(&result, &v115);
          v175 = sub_40C8D0(v51);
          v114 = sub_401000(0xCu);
          if ( v114 )
            v73 = sub_41EBF0(v114, v174, v175);
          else
            v73 = 0;
          v184 = v73;
          goto LABEL_126;
        case 0x52:
          v113 = sub_401000(0xCu);
          if ( v113 )
          {
            v52 = lisp::var::pop(&result, &v112);
            v53 = sub_402360(v52);
            v54 = (CPlayer *)CInitItem::FindKey(v53);
            v72 = sub_41EC20((CInitItem *)v113, v54);
          }
          else
          {
            v72 = 0;
          }
          v184 = &v72->__vftable;
          goto LABEL_126;
        case 0x54:
          v111 = sub_401000(0xCu);
          if ( v111 )
            v71 = sub_41EC50((CInitItem *)v111, 0);
          else
            v71 = 0;
          v184 = &v71->__vftable;
          goto LABEL_126;
        case 0x55:
          v121 = sub_401000(0xCu);
          if ( v121 )
          {
            v45 = lisp::var::pop(&result, &v120);
            v46 = sub_40C8D0(v45);
            v75 = sub_41EB90((CInitItem *)v121, (CPlayer *)(1 << v46));
          }
          else
          {
            v75 = 0;
          }
          v184 = &v75->__vftable;
          goto LABEL_126;
        case 0x58:
          v55 = lisp::var::pop(&result, &v110);
          v56 = sub_402360(v55);
          v169 = (CPlayer *)CInitItem::FindKey(v56);
          v57 = lisp::var::pop(&result, &v109);
          v171 = sub_40C8D0(v57);
          v58 = lisp::var::pop(&result, &v108);
          v172 = sub_40C8D0(v58);
          v59 = lisp::var::pop(&result, &v107);
          v170 = sub_40C8D0(v59);
          v60 = lisp::var::pop(&result, &v106);
          v173 = sub_40C8D0(v60);
          v105 = sub_401000(0x1Cu);
          if ( v105 )
            v70 = CSpecChangePrefix::CSpecChangePrefix((CSpecChangePrefix *)v105, v169, v171, v172, v170, v173);
          else
            v70 = 0;
          v184 = &v70->__vftable;
          goto LABEL_126;
        case 0x59:
          v61 = lisp::var::pop(&result, &v104);
          v166 = (CPlayer *)sub_40C8D0(v61);
          v62 = lisp::var::pop(&result, &v103);
          v167 = sub_40C8D0(v62);
          v63 = lisp::var::pop(&result, &v102);
          v168 = sub_40C8D0(v63);
          v101 = sub_401000(0x14u);
          if ( v101 )
            v69 = CSpecBuff::CSpecBuff((CSpecBuff *)v101, v166, v167, v168);
          else
            v69 = 0;
          v184 = &v69->__vftable;
          goto LABEL_126;
        case 0x63:
          v100 = sub_401000(0xCu);
          if ( v100 )
            v68 = CSpecProtect::CSpecProtect((CSpecProtect *)v100);
          else
            v68 = 0;
          v184 = &v68->__vftable;
          goto LABEL_126;
        case 0x64:
          v99 = sub_401000(0xCu);
          if ( v99 )
          {
            v64 = lisp::var::pop(&result, &v98);
            v65 = (CPlayer *)sub_40C8D0(v64);
            v67 = sub_41ED40((CInitItem *)v99, v65);
          }
          else
          {
            v67 = 0;
          }
          v184 = &v67->__vftable;
LABEL_126:
          std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v97);
          sub_445DF0(
            v96 + 120,
            (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v183,
            v66);
          if ( v183[4] )
            continue;
          LOG_ERR("CInitItem::Set() Duplicate Specialty. (Symbol:%d)", *(_DWORD *)v187);
          v3 = 0;
          break;
        default:
          LOG_ERR("CInitItem::SetSpec() Invalid Specialty. (symbol:%d)", *(_DWORD *)v187);
          return 0;
      }
    }
    else
    {
      LOG_ERR("CInitItem::SetSpec() Invalid symbol(%s)", *(const char **)v185);
      v3 = 0;
    }
    return v3;
  }
}
// 41DD09: variable 'v1' is possibly undefined
// 41E999: variable 'v66' is possibly undefined

//----- (0041EAA0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> > *__thiscall std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> >::_Node *_Rootnode, CPlayer *pPlayer)
{
  CInitItem::FreeSpec((CInitItem *)this, pPlayer);
  this->std::_Tree_val<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> > = (std::_Tree_val<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> >)off_4B5AA8;
  this[1].std::_Tree_val<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> > = (std::_Tree_val<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const ,CGenMonster *> >,0> >)1;
  this[1]._Myhead = _Rootnode;
  return this;
}
// 4B5AA8: using guessed type int (__stdcall *off_4B5AA8[3])(int);

//----- (0041EAE0) --------------------------------------------------------
CInitItem *__thiscall CInitItem::FreeSpec(CInitItem *this, CPlayer *pPlayer)
{
  this->__vftable = (CInitItem_vtbl *)off_4B5AB8;
  this->m_nRef = (int)pPlayer;
  this->m_nTimerRef = 0;
  return this;
}
// 4B5AB8: using guessed type int (__stdcall *off_4B5AB8[3])(int);

//----- (0041EB20) --------------------------------------------------------
CSpecPrty *__thiscall CSpecPrty::CSpecPrty(CSpecPrty *this, int a2, int a3, int a4)
{
  CSpec::CSpec((int)this, a3, a4);
  this->__vftable = (CSpecPrty_vtbl *)off_4B5AA8;
  this->m_bPt = 1;
  this->m_nPrtyType = a2;
  return this;
}
// 4B5AA8: using guessed type int (__stdcall *off_4B5AA8[3])(int);

//----- (0041EB60) --------------------------------------------------------
int __thiscall CSpec::CSpec(int this, int a2, int a3)
{
  *(_DWORD *)this = off_4B5AB8;
  *(_DWORD *)(this + 4) = a2;
  *(_DWORD *)(this + 8) = a3;
  return this;
}
// 4B5AB8: using guessed type int (__stdcall *off_4B5AB8[3])(int);

//----- (0041EB90) --------------------------------------------------------
CInitItem *__thiscall sub_41EB90(CInitItem *this, CPlayer *a2)
{
  CInitItem::FreeSpec(this, a2);
  this->__vftable = (CInitItem_vtbl *)off_4B5AC8;
  return this;
}
// 4B5AC8: using guessed type int (__stdcall *off_4B5AC8[3])(int);

//----- (0041EBC0) --------------------------------------------------------
CSpecTeleport *__thiscall CSpecTeleport::CSpecTeleport(CSpecTeleport *this, const char *a2, int a3)
{
  CSpec::CSpec((int)this, (int)a2, a3);
  this->__vftable = (CSpecTeleport_vtbl *)off_4B5AD8;
  return this;
}
// 4B5AD8: using guessed type int (__stdcall *off_4B5AD8[3])(int);

//----- (0041EBF0) --------------------------------------------------------
_DWORD *__thiscall sub_41EBF0(_DWORD *this, int a2, int a3)
{
  CSpec::CSpec((int)this, a2, a3);
  *this = off_4B5AE8;
  return this;
}
// 4B5AE8: using guessed type int (__stdcall *off_4B5AE8[3])(int);

//----- (0041EC20) --------------------------------------------------------
CInitItem *__thiscall sub_41EC20(CInitItem *this, CPlayer *a2)
{
  CInitItem::FreeSpec(this, a2);
  this->__vftable = (CInitItem_vtbl *)off_4B5AF8;
  return this;
}
// 4B5AF8: using guessed type int (__stdcall *off_4B5AF8[3])(int);

//----- (0041EC50) --------------------------------------------------------
CInitItem *__thiscall sub_41EC50(CInitItem *this, CPlayer *a2)
{
  CInitItem::FreeSpec(this, a2);
  this->__vftable = (CInitItem_vtbl *)off_4B5B08;
  return this;
}
// 4B5B08: using guessed type int (__stdcall *off_4B5B08[3])(int);

//----- (0041EC80) --------------------------------------------------------
CSpecChangePrefix *__thiscall CSpecChangePrefix::CSpecChangePrefix(CSpecChangePrefix *this, CPlayer *a2, int a3, int a4, int a5, int a6)
{
  CInitItem::FreeSpec((CInitItem *)this, a2);
  this->__vftable = (CSpecChangePrefix_vtbl *)off_4B5B18;
  this->m_nRate[0] = a3;
  this->m_nPrefix[0] = a4;
  this->m_nRate[1] = a5;
  this->m_nPrefix[1] = a6;
  return this;
}
// 4B5B18: using guessed type int (__stdcall *off_4B5B18[3])(int);

//----- (0041ECD0) --------------------------------------------------------
CSpecProtect *__thiscall CSpecProtect::CSpecProtect(CSpecProtect *this)
{
  CInitItem::FreeSpec((CInitItem *)this, 0);
  this->__vftable = (CSpecProtect_vtbl *)off_4B5B28;
  return this;
}
// 4B5B28: using guessed type int (__stdcall *off_4B5B28[3])(int);

//----- (0041ED00) --------------------------------------------------------
CSpecBuff *__thiscall CSpecBuff::CSpecBuff(CSpecBuff *this, CPlayer *a2, int a3, int a4)
{
  CInitItem::FreeSpec((CInitItem *)this, a2);
  this->__vftable = (CSpecBuff_vtbl *)off_4B5B38;
  this->m_dwTime = a3;
  this->m_nAmount = a4;
  return this;
}
// 4B5B38: using guessed type int (__stdcall *off_4B5B38[3])(int);

//----- (0041ED40) --------------------------------------------------------
CInitItem *__thiscall sub_41ED40(CInitItem *this, CPlayer *a2)
{
  CInitItem::FreeSpec(this, a2);
  this->__vftable = (CInitItem_vtbl *)off_4B5B48;
  return this;
}
// 4B5B48: using guessed type int (__stdcall *off_4B5B48[3])(int);

//----- (0041ED70) --------------------------------------------------------
BOOL __thiscall CInitItem::ApplySpec(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  char v7[4]; // [esp+Ch] [ebp-8h] BYREF
  char v8[4]; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 120), (int)v6);
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)v8,
               v2);
    if ( !result )
      break;
    v4 = sub_420250(v8);
    (***(void (__thiscall ****)(_DWORD, int))(v4 + 4))(*(_DWORD *)(v4 + 4), a2);
    sub_446090((int *)v8, v7, 0);
  }
  return result;
}

//----- (0041EDE0) --------------------------------------------------------
BOOL __thiscall CInitItem::FreeSpec(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  char v7[4]; // [esp+Ch] [ebp-8h] BYREF
  char v8[4]; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 120), (int)v6);
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)v8,
               v2);
    if ( !result )
      break;
    v4 = sub_420250(v8);
    (*(void (__thiscall **)(_DWORD, int))(**(_DWORD **)(v4 + 4) + 4))(*(_DWORD *)(v4 + 4), a2);
    sub_446090((int *)v8, v7, 0);
  }
  return result;
}

//----- (0041EE50) --------------------------------------------------------
int __thiscall CInitItem::Use(int this, int a2)
{
  int result; // eax
  int v3; // eax
  int v4; // eax
  int v5; // eax
  char v7[4]; // [esp+Ch] [ebp-Ch] BYREF
  DWORD v8; // [esp+10h] [ebp-8h]
  char v9[4]; // [esp+14h] [ebp-4h] BYREF

  if ( *(_DWORD *)(this + 100) > *(_DWORD *)(a2 + 60) )
    return 0;
  if ( !*(_DWORD *)(this + 180) || sub_417450() )
  {
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
    v3 = sub_430C20((_DWORD *)(this + 120), (int)v7);
    if ( (unsigned __int8)unknown_libname_8(v3) )
    {
      result = 0;
    }
    else if ( *(_DWORD *)(this + 148) )
    {
      v8 = GetTickCount();
      if ( v8 < *(_DWORD *)(a2 + 1456) )
      {
        result = 0;
      }
      else
      {
        *(_DWORD *)(a2 + 1456) = *(_DWORD *)(this + 148) + v8;
        v4 = sub_420250(v9);
        result = (*(int (__thiscall **)(_DWORD, int))(**(_DWORD **)(v4 + 4) + 8))(*(_DWORD *)(v4 + 4), a2);
      }
    }
    else
    {
      v5 = sub_420250(v9);
      result = (*(int (__thiscall **)(_DWORD, int))(**(_DWORD **)(v5 + 4) + 8))(*(_DWORD *)(v5 + 4), a2);
    }
  }
  else
  {
    CPlayer::Write(a2, 68, "bw", 135, *(_DWORD *)(this + 64));
    result = 0;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0041EF60) --------------------------------------------------------
int __thiscall CInitItem::Enchant(int this, int a2, int a3)
{
  int v3; // eax
  int v5; // eax
  char v7[4]; // [esp+8h] [ebp-8h] BYREF
  char v8[4]; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 120),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8);
  v3 = sub_430C20((_DWORD *)(this + 120), (int)v7);
  if ( (unsigned __int8)unknown_libname_8(v3) )
    return 0;
  v5 = sub_420250(v8);
  return (*(int (__thiscall **)(_DWORD, int, int))(**(_DWORD **)(v5 + 4) + 12))(*(_DWORD *)(v5 + 4), a2, a3);
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0041EFD0) --------------------------------------------------------
int __cdecl CInitItem::GetSpecValue(int a1, int a2, char a3)
{
  int v3; // eax
  _DWORD *v4; // esi
  _DWORD *v5; // esi
  char v7[4]; // [esp+8h] [ebp-10h] BYREF
  int v8; // [esp+Ch] [ebp-Ch]
  char *v9; // [esp+10h] [ebp-8h]
  char v10[4]; // [esp+14h] [ebp-4h] BYREF

  v9 = &a3;
  v8 = 0;
  sub_44AE20((_DWORD *)(a1 + 120), v10, &a2);
  v3 = sub_430C20((_DWORD *)(a1 + 120), (int)v7);
  if ( !(unsigned __int8)unknown_libname_8(v3) && (a2 == 18 || a2 == 19) )
  {
    v9 += 4;
    v4 = (_DWORD *)*((_DWORD *)v9 - 1);
    *v4 = *(_DWORD *)(*(_DWORD *)(sub_420250(v10) + 4) + 4);
    v9 += 4;
    v5 = (_DWORD *)*((_DWORD *)v9 - 1);
    *v5 = *(_DWORD *)(*(_DWORD *)(sub_420250(v10) + 4) + 8);
    v8 = 1;
  }
  return v8;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0041F0D0) --------------------------------------------------------
CPrefix *__thiscall CPrefix::CPrefix(CPrefix *this)
{
  CBase::CBase((int)this);
  this->__vftable = (CPrefix_vtbl *)&off_4B5B58;
  sub_41FFC0(&this->m_mapSpec);
  this->m_nPrefix = 0;
  this->m_nLevel = 0;
  this->m_nSellPer = 0;
  return this;
}
// 4B5B58: using guessed type int (__stdcall *off_4B5B58)(int);

//----- (0041F120) --------------------------------------------------------
void *__thiscall sub_41F120(void *this, char a2)
{
  CPrefix::_CPrefix((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0041F150) --------------------------------------------------------
void __thiscall CPrefix::_CPrefix(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v4[4]; // [esp+8h] [ebp-Ch] BYREF
  char v5[4]; // [esp+Ch] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+10h] [ebp-4h] BYREF

  *(_DWORD *)this = &off_4B5B58;
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 44),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 44), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v1) )
      break;
    v2 = sub_420250(&v6);
    sub_401020(*(void **)(v2 + 4));
    sub_446090((int *)&v6, v5, 0);
  }
  sub_41D5C0((void *)(this + 44));
  CBase::_CBase((std::locale::facet *)this);
}
// 4B5B58: using guessed type int (__stdcall *off_4B5B58)(int);

//----- (0041F1E0) --------------------------------------------------------
_DWORD *__cdecl CPrefix::Copy()
{
  CPrefix *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x38u);
  if ( v2 )
    v1 = CPrefix::CPrefix((CPrefix *)v2);
  else
    v1 = 0;
  return &v1->__vftable;
}

//----- (0041F220) --------------------------------------------------------
int __thiscall CPrefix::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  CPlayer *v7; // eax
  lisp::var *v8; // eax
  CPlayer *v9; // eax
  lisp::var *v10; // eax
  CPlayer *v11; // eax
  lisp::var *v12; // eax
  CPlayer *v13; // eax
  lisp::var *v14; // eax
  CPlayer *v15; // eax
  lisp::var *v16; // eax
  CPlayer *v17; // eax
  lisp::var *v18; // eax
  CPlayer *v19; // eax
  lisp::var *v20; // eax
  CPlayer *v21; // eax
  lisp::var *v22; // eax
  CPlayer *v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  CPlayer *v30; // eax
  lisp::var *v31; // eax
  CPlayer *v32; // eax
  lisp::var *v33; // eax
  CPlayer *v34; // eax
  lisp::var *v35; // eax
  CPlayer *v36; // eax
  lisp::var *v37; // eax
  CPlayer *v38; // eax
  lisp::var *v39; // eax
  CPlayer *v40; // eax
  int v41; // eax
  const std::pair<int const ,CGame_Character::TargetInfo> *v42; // eax
  int v43; // [esp-4h] [ebp-124h] BYREF
  CSpecPrty *v44; // [esp+0h] [ebp-120h]
  CSpecPrty *v45; // [esp+4h] [ebp-11Ch]
  CSpecPrty *v46; // [esp+8h] [ebp-118h]
  CSpecPrty *v47; // [esp+Ch] [ebp-114h]
  CSpecPrty *v48; // [esp+10h] [ebp-110h]
  CSpecPrty *v49; // [esp+14h] [ebp-10Ch]
  CSpecPrty *v50; // [esp+18h] [ebp-108h]
  CSpecPrty *v51; // [esp+1Ch] [ebp-104h]
  CSpecPrty *v52; // [esp+20h] [ebp-100h]
  CSpecPrty *v53; // [esp+24h] [ebp-FCh]
  CSpecPrty *v54; // [esp+28h] [ebp-F8h]
  CSpecPrty *v55; // [esp+2Ch] [ebp-F4h]
  CSpecPrty *v56; // [esp+30h] [ebp-F0h]
  CSpecPrty *v57; // [esp+34h] [ebp-ECh]
  CSpecPrty *v58; // [esp+38h] [ebp-E8h]
  CSpecPrty *v59; // [esp+3Ch] [ebp-E4h]
  CSpecPrty *v60; // [esp+40h] [ebp-E0h]
  CSpecPrty *v61; // [esp+44h] [ebp-DCh]
  int v62; // [esp+48h] [ebp-D8h]
  void *v63; // [esp+4Ch] [ebp-D4h]
  char v64[12]; // [esp+50h] [ebp-D0h] BYREF
  lisp::var v65; // [esp+5Ch] [ebp-C4h] BYREF
  CMemory **v66; // [esp+60h] [ebp-C0h]
  lisp::var v67; // [esp+64h] [ebp-BCh] BYREF
  CMemory **v68; // [esp+68h] [ebp-B8h]
  lisp::var v69; // [esp+6Ch] [ebp-B4h] BYREF
  CMemory **v70; // [esp+70h] [ebp-B0h]
  lisp::var v71; // [esp+74h] [ebp-ACh] BYREF
  CMemory **v72; // [esp+78h] [ebp-A8h]
  lisp::var v73; // [esp+7Ch] [ebp-A4h] BYREF
  CMemory **v74; // [esp+80h] [ebp-A0h]
  lisp::var v75; // [esp+84h] [ebp-9Ch] BYREF
  CMemory **v76; // [esp+88h] [ebp-98h]
  CMemory **v77; // [esp+8Ch] [ebp-94h]
  lisp::var v78; // [esp+90h] [ebp-90h] BYREF
  CMemory **v79; // [esp+94h] [ebp-8Ch]
  lisp::var v80; // [esp+98h] [ebp-88h] BYREF
  lisp::var v81; // [esp+9Ch] [ebp-84h] BYREF
  CMemory **v82; // [esp+A0h] [ebp-80h]
  lisp::var v83; // [esp+A4h] [ebp-7Ch] BYREF
  lisp::var v84; // [esp+A8h] [ebp-78h] BYREF
  lisp::var v85; // [esp+ACh] [ebp-74h] BYREF
  CMemory **v86; // [esp+B0h] [ebp-70h]
  lisp::var v87; // [esp+B4h] [ebp-6Ch] BYREF
  CMemory **v88; // [esp+B8h] [ebp-68h]
  lisp::var v89; // [esp+BCh] [ebp-64h] BYREF
  CMemory **v90; // [esp+C0h] [ebp-60h]
  lisp::var v91; // [esp+C4h] [ebp-5Ch] BYREF
  CMemory **v92; // [esp+C8h] [ebp-58h]
  lisp::var v93; // [esp+CCh] [ebp-54h] BYREF
  CMemory **v94; // [esp+D0h] [ebp-50h]
  lisp::var v95; // [esp+D4h] [ebp-4Ch] BYREF
  CMemory **v96; // [esp+D8h] [ebp-48h]
  lisp::var v97; // [esp+DCh] [ebp-44h] BYREF
  CMemory **v98; // [esp+E0h] [ebp-40h]
  lisp::var v99; // [esp+E4h] [ebp-3Ch] BYREF
  CMemory **v100; // [esp+E8h] [ebp-38h]
  lisp::var v101; // [esp+ECh] [ebp-34h] BYREF
  CMemory **v102; // [esp+F0h] [ebp-30h]
  lisp::var v103; // [esp+F4h] [ebp-2Ch] BYREF
  lisp::var v104; // [esp+F8h] [ebp-28h] BYREF
  lisp::var result; // [esp+FCh] [ebp-24h] BYREF
  int v106; // [esp+100h] [ebp-20h]
  int v107; // [esp+104h] [ebp-1Ch]
  int v108; // [esp+108h] [ebp-18h]
  int v109; // [esp+10Ch] [ebp-14h]
  int v110; // [esp+110h] [ebp-10h]
  char v111[8]; // [esp+114h] [ebp-Ch] BYREF
  CSpecPrty *v112; // [esp+11Ch] [ebp-4h]

  v63 = this;
  v112 = 0;
  v62 = a2 - 2;
  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, &result);
      *((_DWORD *)v63 + 8) = sub_40C8D0(v3);
      goto LABEL_78;
    case 7:
      v4 = lisp::var::pop((lisp::var *)&a3, &v104);
      *((_DWORD *)v63 + 9) = sub_40C8D0(v4);
      goto LABEL_78;
    case 9:
      v102 = sub_401000(0x14u);
      if ( v102 )
      {
        v6 = lisp::var::pop((lisp::var *)&a3, &v101);
        v7 = (CPlayer *)sub_40C8D0(v6);
        v61 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v102,
                             0,
                             v7);
      }
      else
      {
        v61 = 0;
      }
      v112 = v61;
      goto LABEL_78;
    case 10:
      v100 = sub_401000(0x14u);
      if ( v100 )
      {
        v8 = lisp::var::pop((lisp::var *)&a3, &v99);
        v9 = (CPlayer *)sub_40C8D0(v8);
        v60 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v100,
                             1,
                             v9);
      }
      else
      {
        v60 = 0;
      }
      v112 = v60;
      goto LABEL_78;
    case 11:
      v98 = sub_401000(0x14u);
      if ( v98 )
      {
        v10 = lisp::var::pop((lisp::var *)&a3, &v97);
        v11 = (CPlayer *)sub_40C8D0(v10);
        v59 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v98,
                             2,
                             v11);
      }
      else
      {
        v59 = 0;
      }
      v112 = v59;
      goto LABEL_78;
    case 12:
      v96 = sub_401000(0x14u);
      if ( v96 )
      {
        v12 = lisp::var::pop((lisp::var *)&a3, &v95);
        v13 = (CPlayer *)sub_40C8D0(v12);
        v58 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v96,
                             3,
                             v13);
      }
      else
      {
        v58 = 0;
      }
      v112 = v58;
      goto LABEL_78;
    case 13:
      v94 = sub_401000(0x14u);
      if ( v94 )
      {
        v14 = lisp::var::pop((lisp::var *)&a3, &v93);
        v15 = (CPlayer *)sub_40C8D0(v14);
        v57 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v94,
                             4,
                             v15);
      }
      else
      {
        v57 = 0;
      }
      v112 = v57;
      goto LABEL_78;
    case 14:
      v92 = sub_401000(0x14u);
      if ( v92 )
      {
        v16 = lisp::var::pop((lisp::var *)&a3, &v91);
        v17 = (CPlayer *)sub_40C8D0(v16);
        v56 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v92,
                             5,
                             v17);
      }
      else
      {
        v56 = 0;
      }
      v112 = v56;
      goto LABEL_78;
    case 15:
      v90 = sub_401000(0x14u);
      if ( v90 )
      {
        v18 = lisp::var::pop((lisp::var *)&a3, &v89);
        v19 = (CPlayer *)sub_40C8D0(v18);
        v55 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v90,
                             6,
                             v19);
      }
      else
      {
        v55 = 0;
      }
      v112 = v55;
      goto LABEL_78;
    case 16:
      v88 = sub_401000(0x14u);
      if ( v88 )
      {
        v20 = lisp::var::pop((lisp::var *)&a3, &v87);
        v21 = (CPlayer *)sub_40C8D0(v20);
        v54 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v88,
                             9,
                             v21);
      }
      else
      {
        v54 = 0;
      }
      v112 = v54;
      goto LABEL_78;
    case 17:
      v86 = sub_401000(0x14u);
      if ( v86 )
      {
        v22 = lisp::var::pop((lisp::var *)&a3, &v85);
        v23 = (CPlayer *)sub_40C8D0(v22);
        v53 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v86,
                             10,
                             v23);
      }
      else
      {
        v53 = 0;
      }
      v112 = v53;
      goto LABEL_78;
    case 18:
      v24 = lisp::var::pop((lisp::var *)&a3, &v84);
      v109 = sub_40C8D0(v24);
      v25 = lisp::var::pop((lisp::var *)&a3, &v83);
      v110 = sub_40C8D0(v25);
      v82 = sub_401000(0x14u);
      if ( v82 )
        v52 = CSpecPrty::CSpecPrty((CSpecPrty *)v82, 27, v109, v110);
      else
        v52 = 0;
      v112 = v52;
      goto LABEL_78;
    case 19:
      v26 = lisp::var::pop((lisp::var *)&a3, &v81);
      v107 = sub_40C8D0(v26);
      v27 = lisp::var::pop((lisp::var *)&a3, &v80);
      v108 = sub_40C8D0(v27);
      v79 = sub_401000(0x14u);
      if ( v79 )
        v51 = CSpecPrty::CSpecPrty((CSpecPrty *)v79, 28, v107, v108);
      else
        v51 = 0;
      v112 = v51;
      goto LABEL_78;
    case 20:
      v28 = lisp::var::pop((lisp::var *)&a3, &v78);
      v106 = sub_40C8D0(v28);
      v77 = sub_401000(0x14u);
      if ( v77 )
        v50 = CSpecPrty::CSpecPrty((CSpecPrty *)v77, 15, v106, v106);
      else
        v50 = 0;
      v112 = v50;
      goto LABEL_78;
    case 21:
      v76 = sub_401000(0x14u);
      if ( v76 )
      {
        v29 = lisp::var::pop((lisp::var *)&a3, &v75);
        v30 = (CPlayer *)sub_40C8D0(v29);
        v49 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v76,
                             16,
                             v30);
      }
      else
      {
        v49 = 0;
      }
      v112 = v49;
      goto LABEL_78;
    case 25:
      v74 = sub_401000(0x14u);
      if ( v74 )
      {
        v31 = lisp::var::pop((lisp::var *)&a3, &v73);
        v32 = (CPlayer *)sub_40C8D0(v31);
        v48 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v74,
                             18,
                             v32);
      }
      else
      {
        v48 = 0;
      }
      v112 = v48;
      goto LABEL_78;
    case 26:
      v72 = sub_401000(0x14u);
      if ( v72 )
      {
        v33 = lisp::var::pop((lisp::var *)&a3, &v71);
        v34 = (CPlayer *)sub_40C8D0(v33);
        v47 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v72,
                             19,
                             v34);
      }
      else
      {
        v47 = 0;
      }
      v112 = v47;
      goto LABEL_78;
    case 27:
      v70 = sub_401000(0x14u);
      if ( v70 )
      {
        v35 = lisp::var::pop((lisp::var *)&a3, &v69);
        v36 = (CPlayer *)sub_40C8D0(v35);
        v46 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v70,
                             20,
                             v36);
      }
      else
      {
        v46 = 0;
      }
      v112 = v46;
      goto LABEL_78;
    case 28:
      v68 = sub_401000(0x14u);
      if ( v68 )
      {
        v37 = lisp::var::pop((lisp::var *)&a3, &v67);
        v38 = (CPlayer *)sub_40C8D0(v37);
        v45 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v68,
                             21,
                             v38);
      }
      else
      {
        v45 = 0;
      }
      v112 = v45;
      goto LABEL_78;
    case 29:
      v66 = sub_401000(0x14u);
      if ( v66 )
      {
        v39 = lisp::var::pop((lisp::var *)&a3, &v65);
        v40 = (CPlayer *)sub_40C8D0(v39);
        v44 = (CSpecPrty *)std::_Tree<std::_Tmap_traits<int,CGenMonster *,std::less<int>,std::allocator<std::pair<int const,CGenMonster *>>,0>>::_Erase(
                             (int)v66,
                             22,
                             v40);
      }
      else
      {
        v44 = 0;
      }
      v112 = v44;
      goto LABEL_78;
    case 58:
      v5 = lisp::var::pop((lisp::var *)&a3, &v103);
      *((_DWORD *)v63 + 10) = sub_40C8D0(v5);
LABEL_78:
      if ( v112 )
      {
        std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v64);
        sub_445DF0(
          (int)v63 + 44,
          (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v111,
          v42);
        if ( v111[4] )
        {
          v41 = 1;
        }
        else
        {
          LOG_ERR("CPrefix::Set() Duplicate Specialty. (Symbol:%d)", a2);
          v41 = 0;
        }
      }
      else
      {
        v41 = 1;
      }
      break;
    default:
      v43 = a2 - 2;
      sub_402340(&v43, &a3);
      v41 = CBase::Set(v63, a2, v43);
      break;
  }
  return v41;
}
// 41F976: variable 'v42' is possibly undefined

//----- (0041FA40) --------------------------------------------------------
int __thiscall sub_41FA40(void *this)
{
  return CItem::InsertPrefix((int)this);
}

//----- (0041FA60) --------------------------------------------------------
BOOL __thiscall CPrefix::ApplySpec(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  char v7[4]; // [esp+Ch] [ebp-8h] BYREF
  char v8[4]; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 44),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 44), (int)v6);
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)v8,
               v2);
    if ( !result )
      break;
    v4 = sub_420250(v8);
    (***(void (__thiscall ****)(_DWORD, int))(v4 + 4))(*(_DWORD *)(v4 + 4), a2);
    sub_446090((int *)v8, v7, 0);
  }
  return result;
}

//----- (0041FAD0) --------------------------------------------------------
BOOL __thiscall CPrefix::FreeSpec(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  int v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  char v7[4]; // [esp+Ch] [ebp-8h] BYREF
  char v8[4]; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 44),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 44), (int)v6);
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)v8,
               v2);
    if ( !result )
      break;
    v4 = sub_420250(v8);
    (*(void (__thiscall **)(_DWORD, int))(**(_DWORD **)(v4 + 4) + 4))(*(_DWORD *)(v4 + 4), a2);
    sub_446090((int *)v8, v7, 0);
  }
  return result;
}

//----- (0041FB40) --------------------------------------------------------
int __thiscall CSpecPrty::ApplySpec(_DWORD *this, int a2)
{
  int result; // eax

  if ( this[3] )
    result = (*(int (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
               a2,
               this[4],
               1,
               this[1],
               this[2]);
  else
    result = (*(int (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
               a2,
               this[4],
               1,
               this[1],
               this[2]);
  return result;
}

//----- (0041FBB0) --------------------------------------------------------
int __thiscall CSpecPrty::FreeSpec(_DWORD *this, int a2)
{
  int result; // eax

  if ( this[3] )
    result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 92))(
               a2,
               this[4],
               0,
               this[1],
               this[2]);
  else
    result = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a2 + 96))(
               a2,
               this[4],
               0,
               this[1],
               this[2]);
  return result;
}

//----- (0041FC20) --------------------------------------------------------
LONG __thiscall sub_41FC20(int *this, volatile LONG *a2)
{
  return CChar::AddGState(a2, this[1]);
}

//----- (0041FC40) --------------------------------------------------------
LONG __thiscall sub_41FC40(int *this, volatile LONG *a2)
{
  return CChar::SubGState(a2, this[1]);
}

//----- (0041FC60) --------------------------------------------------------
int __thiscall CSpecTeleport::Use(_DWORD *this, _DWORD *a2)
{
  CIOCriticalSection *v4; // [esp+4h] [ebp-18h]
  _DWORD a3[2]; // [esp+Ch] [ebp-10h] BYREF
  _DWORD *v6; // [esp+14h] [ebp-8h]
  int a2a; // [esp+18h] [ebp-4h]

  if ( !CChar::IsNormal((int)a2) || sub_40B310(a2, 256) )
    return 0;
  if ( !this[1] )
  {
    if ( a2[254] )
    {
      v4 = (CIOCriticalSection *)sub_44D4E0(a2[254]);
      if ( v4 )
      {
        if ( CParty::ExistOnPK(v4) )
        {
          CPlayer::Write((int)a2, 68, "b", 114);
          return 0;
        }
        if ( CParty::Teleport(v4, (int)a2, this[2]) )
        {
          sub_401DE0((int *)v4);
          return 1;
        }
        sub_401DE0((int *)v4);
      }
    }
  }
  a2a = dword_4D7900[4 * this[2]];
  v6 = (_DWORD *)((char *)&unk_4D7904 + 16 * this[2]);
  a3[0] = RandomBetween(*v6 - 64, *v6 + 64);
  a3[1] = RandomBetween(v6[1] - 64, v6[1] + 64);
  CPlayer::Teleport(a2, a2a, a3, 0, 0);
  return 1;
}
// 4D7900: using guessed type int dword_4D7900[];

//----- (0041FDA0) --------------------------------------------------------
int __thiscall CParty::ExistOnPK(CIOCriticalSection *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  CIOCriticalSection *v3; // [esp+0h] [ebp-14h]
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  char v5[4]; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v6; // [esp+Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+10h] [ebp-4h] BYREF

  CIOCriticalSection::Enter(this);
  sub_430C20(&v3[1].m_critical_section.DebugInfo, (int)&v7);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(
                                                                     &v3[1].m_critical_section.DebugInfo,
                                                                     (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v7,
            v1) )
      break;
    v6 = *(_DWORD **)sub_420010(&v7);
    if ( sub_40B310(v6, 256) )
    {
      CIOCriticalSection::Leave(v3);
      return 1;
    }
    sub_420030((int *)&v7, v5, 0);
  }
  CIOCriticalSection::Leave(v3);
  return 0;
}
// 41FDBB: variable 'v3' is possibly undefined

//----- (0041FE40) --------------------------------------------------------
int __thiscall CSpecRefresh::Use(_DWORD *this, int a2)
{
  if ( !CChar::IsNormal(a2) )
    return 0;
  (*(void (__cdecl **)(int, _DWORD, int, _DWORD))(*(_DWORD *)a2 + 88))(a2, this[1], 1, this[2]);
  return 1;
}

//----- (0041FE90) --------------------------------------------------------
int __thiscall CSpecCharming::Enchant(_DWORD *this, int a2, int a3)
{
  return (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a3 + 176))(a3, a2, this[1]);
}

//----- (0041FEC0) --------------------------------------------------------
int __stdcall sub_41FEC0(int a1, int a2)
{
  return (*(int (__thiscall **)(int, int))(*(_DWORD *)a2 + 184))(a2, a1);
}

//----- (0041FEE0) --------------------------------------------------------
int __thiscall CSpecChangePrefix::Enchant(_DWORD *this, int a2, int a3)
{
  return (*(int (__thiscall **)(int, int, _DWORD, _DWORD *, _DWORD *))(*(_DWORD *)a3 + 188))(
           a3,
           a2,
           this[1],
           this + 3,
           this + 5);
}

//----- (0041FF20) --------------------------------------------------------
int __stdcall sub_41FF20(int a1, int a2)
{
  return (*(int (__thiscall **)(int, int))(*(_DWORD *)a2 + 192))(a2, a1);
}

//----- (0041FF40) --------------------------------------------------------
int __thiscall CSpecBuff::Use(int *this, int a2)
{
  CBuffMoveSpeed *v4; // [esp+4h] [ebp-4h]

  if ( !CChar::IsNormal(a2) )
    return 0;
  v4 = CBuff::CreateBuff(this[1], this[3], this[4], (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v4);
}

//----- (0041FFA0) --------------------------------------------------------
int __thiscall sub_41FFA0(_DWORD *this, int a2)
{
  return CPlayer::RevivalItem((CPlayer *)a2, this[1]);
}

//----- (0041FFC0) --------------------------------------------------------
void *__thiscall sub_41FFC0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0041FFF0) --------------------------------------------------------
int __thiscall sub_41FFF0(void *this)
{
  return sub_4206B0((int)this);
}

//----- (00420010) --------------------------------------------------------
int __thiscall sub_420010(void *this)
{
  return unknown_libname_7(this);
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00420030) --------------------------------------------------------
_DWORD *__thiscall sub_420030(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_420760(this);
  *a2 = v4;
  return a2;
}

//----- (00420060) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_420060(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3)
{
  const char **v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  const char **v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  const char *v10; // [esp-4h] [ebp-3Ch]
  const char *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_478AB0((int *)this);
  v22 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)(this + 4);
  v23 = 1;
  while ( !*(_BYTE *)sub_431110((int)v21) )
  {
    v22 = v21;
    v10 = *(const char **)sub_473500((int)v21);
    v3 = (const char **)sub_474590(a3);
    v23 = iless::operator()((iless *)this, *v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_474590((int)v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_430F90((int)v21);
    v21 = v12;
  }
  sub_446700(v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_420270(this, (int)v17, 1, v22, (const std::pair<int const ,CGame_Character::TargetInfo> *)a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_418880(v20);
  }
  v11 = *(const char **)sub_474590(a3);
  v7 = unknown_libname_7(v20);
  v8 = (const char **)sub_473500(v7);
  if ( iless::operator()((iless *)this, *v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_420270(this, (int)v15, v23, v22, (const std::pair<int const ,CGame_Character::TargetInfo> *)a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00420220) --------------------------------------------------------
bool __thiscall iless::operator()(iless *this, const char *a, const char *b)
{
  return mbstricmp(a, b) < 0;
}

//----- (00420250) --------------------------------------------------------
int __thiscall sub_420250(void *this)
{
  return sub_44F8B0(this);
}

//----- (00420270) --------------------------------------------------------
int __thiscall sub_420270(int this, int a2, char a3, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *a4, const std::pair<int const ,CGame_Character::TargetInfo> *a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  int *v31; // eax
  int *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  std::length_error that; // [esp+8h] [ebp-48h] BYREF
  CMemory **v43; // [esp+48h] [ebp-8h]
  CMemory **v44; // [esp+4Ch] [ebp-4h]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Parg; // [esp+60h] [ebp+10h]

  if ( sub_47EA90(this) - 1 <= *(_DWORD *)(this + 8) )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v5);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  v44 = std::_Tree<std::_Tmap_traits<int,int,std::less<int>,std::allocator<std::pair<int const,int>>,0>>::_Buynode(
          (std::_Tree<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> > *)this,
          *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)(this + 4),
          a4,
          *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)(this + 4),
          a5,
          0);
  ++*(_DWORD *)(this + 8);
  if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)(this + 4) )
  {
    v6 = (CMemory ***)sub_478AB0((int *)this);
    *v6 = v44;
    v7 = (CMemory ***)sub_418790((_DWORD *)this);
    *v7 = v44;
    v8 = (CMemory ***)sub_47EB40((int *)this);
    *v8 = v44;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)sub_474590((int)a4);
    *v9 = v44;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_418790((_DWORD *)this) )
    {
      v10 = (CMemory ***)sub_418790((_DWORD *)this);
      *v10 = v44;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_430F90((int)a4);
    *v11 = v44;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_47EB40((int *)this) )
    {
      v12 = (CMemory ***)sub_47EB40((int *)this);
      *v12 = v44;
    }
  }
  v43 = v44;
  while ( 1 )
  {
    v13 = (int *)sub_446FF0((int)v43);
    if ( *(_BYTE *)sub_446F90(*v13) )
      break;
    v14 = (_DWORD *)sub_446FF0((int)v43);
    v15 = (int *)sub_446FF0((int)v43);
    v16 = (int *)sub_446FF0(*v15);
    if ( *v14 == *(_DWORD *)sub_474590(*v16) )
    {
      v17 = (int *)sub_446FF0((int)v43);
      v18 = (int *)sub_446FF0(*v17);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_430F90(*v18);
      if ( !*(_BYTE *)sub_446F90((int)_Parg) )
        goto LABEL_15;
      v23 = (int *)sub_446FF0((int)v43);
      v24 = (CMemory ***)sub_430F90(*v23);
      if ( v43 == *v24 )
      {
        v43 = *(CMemory ***)sub_446FF0((int)v43);
        sub_44CBF0((void *)this, (int)v43);
      }
      v25 = (int *)sub_446FF0((int)v43);
      *(_BYTE *)sub_446F90(*v25) = 1;
      v26 = (int *)sub_446FF0((int)v43);
      v27 = (int *)sub_446FF0(*v26);
      *(_BYTE *)sub_446F90(*v27) = 0;
      v28 = (int *)sub_446FF0((int)v43);
      v29 = (int *)sub_446FF0(*v28);
      sub_44CAC0((void *)this, *v29);
    }
    else
    {
      v30 = (int *)sub_446FF0((int)v43);
      v31 = (int *)sub_446FF0(*v30);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_474590(*v31);
      if ( *(_BYTE *)sub_446F90((int)_Parg) )
      {
        v32 = (int *)sub_446FF0((int)v43);
        v33 = (CMemory ***)sub_474590(*v32);
        if ( v43 == *v33 )
        {
          v43 = *(CMemory ***)sub_446FF0((int)v43);
          sub_44CAC0((void *)this, (int)v43);
        }
        v34 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_446F90(*v34) = 1;
        v35 = (int *)sub_446FF0((int)v43);
        v36 = (int *)sub_446FF0(*v35);
        *(_BYTE *)sub_446F90(*v36) = 0;
        v37 = (int *)sub_446FF0((int)v43);
        v38 = (int *)sub_446FF0(*v37);
        sub_44CBF0((void *)this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_446F90(*v19) = 1;
        *(_BYTE *)sub_446F90((int)_Parg) = 1;
        v20 = (int *)sub_446FF0((int)v43);
        v21 = (int *)sub_446FF0(*v20);
        *(_BYTE *)sub_446F90(*v21) = 0;
        v22 = (int *)sub_446FF0((int)v43);
        v43 = *(CMemory ***)sub_446FF0(*v22);
      }
    }
  }
  v39 = (int *)sub_478AB0((int *)this);
  *(_BYTE *)sub_446F90(*v39) = 1;
  sub_446700((void *)a2, (int)v44);
  return a2;
}
// 4202A8: variable 'v5' is possibly undefined

//----- (004206B0) --------------------------------------------------------
int __thiscall sub_4206B0(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_420780(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (00420760) --------------------------------------------------------
_DWORD *__thiscall sub_420760(_DWORD *this)
{
  *this += 4;
  return this;
}

//----- (00420780) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_420780(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_420820(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00420820) --------------------------------------------------------
_DWORD *__thiscall sub_420820(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_420880(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00420880) --------------------------------------------------------
int __stdcall sub_420880(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_420880(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (00420900) --------------------------------------------------------
CMemory **__cdecl sub_420900(int a1)
{
  return sub_401000(24 * a1);
}

//----- (00420920) --------------------------------------------------------
void *__thiscall sub_420920(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00420950) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall std::_Tree_ptr<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tree_ptr<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, char a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(&a3);
  std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Tidy(
    this,
    a2,
    v4);
  std::_Init_locks::operator=(&a3);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (00420990) --------------------------------------------------------
void __thiscall std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>(CAtlTraceSettings *this)
{
  _DWORD *v1; // [esp+Ch] [ebp+8h]
  _DWORD *v2; // [esp+10h] [ebp+Ch]

  *(_DWORD *)this = *v1;
  *((_DWORD *)this + 1) = *v2;
}
// 420990: inconsistent function type and number of purged bytes

//----- (004209C0) --------------------------------------------------------
int __thiscall sub_4209C0(void *this)
{
  return sub_4209E0(this);
}

//----- (004209E0) --------------------------------------------------------
int __thiscall sub_4209E0(void *this)
{
  return sub_420A00((int)this);
}

//----- (00420A00) --------------------------------------------------------
int __thiscall sub_420A00(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_420AB0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (00420AB0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_420AB0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_420B50(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00420B50) --------------------------------------------------------
_DWORD *__thiscall sub_420B50(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_420BB0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00420BB0) --------------------------------------------------------
int __stdcall sub_420BB0(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_420BB0(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (00420C30) --------------------------------------------------------
CInitMap *__thiscall CInitMap::CInitMap(CInitMap *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B5D58;
  *((_DWORD *)this + 8) = 0;
  *((_DWORD *)this + 9) = 0;
  *((_DWORD *)this + 10) = -1;
  *((_DWORD *)this + 11) = -1;
  memset((char *)this + 48, 0, 0x81u);
  return this;
}
// 4B5D58: using guessed type int (__stdcall *off_4B5D58)(int);

//----- (00420C90) --------------------------------------------------------
void *__thiscall sub_420C90(void *this, char a2)
{
  sub_420CC0((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00420CC0) --------------------------------------------------------
void __thiscall sub_420CC0(std::locale::facet *this)
{
  *(_DWORD *)this = &off_4B5D58;
  CBase::_CBase(this);
}
// 4B5D58: using guessed type int (__stdcall *off_4B5D58)(int);

//----- (00420CE0) --------------------------------------------------------
int __thiscall CInitMap::Set(void *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  const char *v7; // eax
  int v8; // eax
  int v9; // [esp-8h] [ebp-24h]
  _DWORD v10[2]; // [esp-4h] [ebp-20h] BYREF
  void *v11; // [esp+4h] [ebp-18h]
  lisp::var v12; // [esp+Ch] [ebp-10h] BYREF
  lisp::var v13; // [esp+10h] [ebp-Ch] BYREF
  lisp::var v14; // [esp+14h] [ebp-8h] BYREF
  lisp::var result; // [esp+18h] [ebp-4h] BYREF

  v11 = this;
  v10[1] = a2 - 2;
  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, &result);
      *((_DWORD *)v11 + 8) = sub_40C8D0(v3);
      goto LABEL_6;
    case 30:
      v4 = lisp::var::pop((lisp::var *)&a3, &v14);
      *((_DWORD *)v11 + 9) = sub_40C8D0(v4);
      goto LABEL_6;
    case 31:
      v5 = lisp::var::pop((lisp::var *)&a3, &v13);
      *((_DWORD *)v11 + 10) = sub_40C8D0(v5);
      v6 = lisp::var::pop((lisp::var *)&a3, &v12);
      *((_DWORD *)v11 + 11) = sub_40C8D0(v6);
      v10[0] = *((_DWORD *)v11 + 11);
      v9 = *((_DWORD *)v11 + 10);
      v7 = (const char *)sub_4012D0(&stru_4E1194);
      sprintf((char *)v11 + 48, "%s\\n_%03d_%03d.ksm", v7, v9, v10[0]);
      goto LABEL_6;
    case 32:
LABEL_6:
      v8 = 1;
      break;
    default:
      v10[0] = a2 - 2;
      sub_402340(v10, &a3);
      v8 = CBase::Set(v11, a2, v10[0]);
      break;
  }
  return v8;
}

//----- (00420E10) --------------------------------------------------------
int __thiscall sub_420E10(void *this)
{
  return CSMap::LoadMap((int)this);
}

//----- (00420E30) --------------------------------------------------------
DWORD __cdecl SnapCurrentProcessMiniDump(LPCONTEXT lpContext)
{
  DWORD v1; // eax
  DWORD v2; // edx
  DWORD v3; // ecx
  DWORD v4; // ebx
  DWORD v5; // edi
  DWORD v6; // esi
  HANDLE v7; // eax
  DWORD v10; // [esp+BCh] [ebp-230h]
  DWORD v11; // [esp+C0h] [ebp-22Ch]
  DWORD v12; // [esp+C4h] [ebp-228h]
  DWORD var0; // [esp+2ECh] [ebp+0h]
  DWORD retaddr; // [esp+2F0h] [ebp+4h]
                                                // This function is naked, not __cdecl -HighGamer
                                                // 
                                                // DWORD __declspec ( naked )  SnapCurrentProcessMiniDump(LPCONTEXT lpContext)
  v12 = v1;
  v11 = v3;
  v10 = v2;
  memset(lpContext, 0, sizeof(CONTEXT));
  lpContext->ContextFlags = 65599;
  v7 = GetCurrentThread();
  if ( !GetThreadContext(v7, lpContext) )
    return 0;
  lpContext->Eax = v12;
  lpContext->Ebx = v4;
  lpContext->Ecx = v11;
  lpContext->Edx = v10;
  lpContext->Edi = v5;
  lpContext->Esi = v6;
  lpContext->SegGs = (unsigned __int16)__GS__;
  lpContext->SegFs = (unsigned __int16)__FS__;
  lpContext->SegEs = (unsigned __int16)__ES__;
  lpContext->SegDs = (unsigned __int16)__DS__;
  lpContext->SegCs = (unsigned __int16)__CS__;
  lpContext->SegSs = (unsigned __int16)__SS__;
  lpContext->Ebp = var0;
  lpContext->Eip = retaddr;
  return 1;
}
// 420E39: variable 'v1' is possibly undefined
// 420E45: variable 'v3' is possibly undefined
// 420E4B: variable 'v2' is possibly undefined
// 420EFB: variable 'v4' is possibly undefined
// 420F28: variable 'v5' is possibly undefined
// 420F37: variable 'v6' is possibly undefined
// 420FA0: variable 'var0' is possibly undefined

//----- (00420FF0) --------------------------------------------------------
void __thiscall CIOException::CInit::CInit(CIOException::CInit *this)
{
  char *v1; // eax
  char *lpString1; // [esp+4h] [ebp-4h]

  InitializeCriticalSection(&CriticalSection);
  GetModuleFileNameA(0, ExistingFileName, 0x104u);
  v1 = GetFilePart(ExistingFileName);
  lstrcpyA(v1, "Exception.txt");
  GetModuleFileNameA(0, byte_4E0B80, 0x104u);
  lpString1 = GetFilePart(byte_4E0B80);
  lstrcpyA(lpString1, "Exception.dmp");
  dword_4E0D8C = time(0);
  lpTopLevelExceptionFilter = SetUnhandledExceptionFilter(RecordExceptionInfo);
  sub_4A0647((int)SecurityHandler);
}

//----- (004210A0) --------------------------------------------------------
char *__cdecl GetFilePart(char *source)
{
  char *v2; // [esp+0h] [ebp-4h]
  char *v3; // [esp+0h] [ebp-4h]

  v2 = strrchr(source, 92);
  if ( v2 )
    v3 = v2 + 1;
  else
    v3 = source;
  return v3;
}

//----- (004210E0) --------------------------------------------------------
void __cdecl __noreturn SecurityHandler()
{
  DWORD v0; // ebx
  DWORD v1; // edi
  DWORD v2; // esi
  char savedregs; // [esp+0h] [ebp+0h]

  ELOG("Buffer Overrun\n", savedregs);
  if ( g_nEnable )
  {
    sub_421120();
    GenerateExceptionReport(v0, v1, v2, 0);
    sendMail();
    sub_421130();
  }
  ExitProcess(1u);
}
// 4210E8: variable 'savedregs' is possibly undefined
// 421100: variable 'v0' is possibly undefined
// 421100: variable 'v1' is possibly undefined
// 421100: variable 'v2' is possibly undefined

//----- (00421120) --------------------------------------------------------
void sub_421120()
{
  EnterCriticalSection(&CriticalSection);
}

//----- (00421130) --------------------------------------------------------
void sub_421130()
{
  LeaveCriticalSection(&CriticalSection);
}

//----- (00421140) --------------------------------------------------------
BOOL __cdecl sendMail()
{
  time_t v1; // [esp+0h] [ebp-118h] BYREF
  char *v2; // [esp+4h] [ebp-114h]
  CHAR NewFileName[264]; // [esp+8h] [ebp-110h] BYREF
  int v4; // [esp+110h] [ebp-8h]
  struct tm *v5; // [esp+114h] [ebp-4h]

  v4 = dword_4D9830;
  if ( host )
    sendMail_0(host, from, to, ExistingFileName);
  strcpy(NewFileName, ExistingFileName);
  v2 = GetFilePart(NewFileName);
  time(&v1);
  v5 = localtime(&v1);
  wsprintfA(
    v2,
    "Exception\\%02d%02d%02d.%02d%02d%02d.dbg.txt",
    v5->tm_year % 100,
    v5->tm_mon + 1,
    v5->tm_mday,
    v5->tm_hour,
    v5->tm_min,
    v5->tm_sec);
  MoveFileExA(ExistingFileName, NewFileName, 1u);
  wsprintfA(
    v2,
    "Exception\\%02d%02d%02d.%02d%02d%02d.dbg.dmp",
    v5->tm_year % 100,
    v5->tm_mon + 1,
    v5->tm_mday,
    v5->tm_hour,
    v5->tm_min,
    v5->tm_sec);
  MoveFileExA(byte_4E0B80, NewFileName, 1u);
  DeleteFileA(ExistingFileName);
  return DeleteFileA(byte_4E0B80);
}
// 4B4264: using guessed type int (*wsprintfA)(_DWORD, const char *, ...);
// 4D9830: using guessed type int dword_4D9830;

//----- (004212B0) --------------------------------------------------------
int __cdecl sendMail_0(const char *host, const char *from, const char *to, const char *body)
{
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int namelen; // [esp+0h] [ebp-9D8h] BYREF
  size_t v14; // [esp+4h] [ebp-9D4h]
  struct hostent *v15; // [esp+8h] [ebp-9D0h]
  char *i; // [esp+Ch] [ebp-9CCh]
  char optval[4]; // [esp+10h] [ebp-9C8h] BYREF
  struct sockaddr name; // [esp+14h] [ebp-9C4h] BYREF
  int v19; // [esp+24h] [ebp-9B4h]
  SOCKET sock; // [esp+28h] [ebp-9B0h]
  int v21; // [esp+2Ch] [ebp-9ACh]
  char buf[348]; // [esp+30h] [ebp-9A8h] BYREF
  struct WSAData WSAData; // [esp+830h] [ebp-1A8h] BYREF
  struct sockaddr v24; // [esp+9C4h] [ebp-14h] BYREF
  int v25; // [esp+9D4h] [ebp-4h]

  v25 = dword_4D9830;
  v21 = 0;
  if ( WSAStartup(0x202u, &WSAData) )
    return 0;
  sock = socket(2, 1, 0);
  if ( sock == -1 )
  {
    WSACleanup();
    return 0;
  }
  *(_DWORD *)optval = 5000;
  v19 = setsockopt(sock, 0xFFFF, 4102, optval, 4);
  if ( v19 != -1 )
  {
    *(_DWORD *)optval = 5000;
    v19 = setsockopt(sock, 0xFFFF, 4101, optval, 4);
    if ( v19 != -1 )
    {
      name.sa_family = 2;
      *(_DWORD *)&name.sa_data[2] = 0;
      *(_WORD *)name.sa_data = 0;
      if ( bind(sock, &name, 16) != -1 )
      {
        name.sa_family = 2;
        *(_DWORD *)&name.sa_data[2] = inet_addr(host);
        if ( *(_DWORD *)&name.sa_data[2] != -1 )
        {
LABEL_11:
          *(_WORD *)name.sa_data = htons(0x19u);
          if ( connect(sock, &name, 16) != -1 )
          {
            recv(sock, buf, 2048, 0);
            i = "HELO www.inixsoft.com\r\n";
            v5 = strlen("HELO www.inixsoft.com\r\n");
            if ( send(sock, "HELO www.inixsoft.com\r\n", v5, 0) > 0 )
            {
              recv(sock, buf, 2048, 0);
              sprintf(buf, "MAIL From: <%s>\r\n", from);
              v6 = strlen(buf);
              if ( send(sock, buf, v6, 0) > 0 )
              {
                recv(sock, buf, 2048, 0);
                for ( i = (char *)to; ; i += v14 )
                {
                  i += strspn(i, " ,");
                  if ( !*i )
                    break;
                  v14 = strcspn(i, ",");
                  sprintf(buf, "RCPT To: <%.*s>\r\n", v14, i);
                  v7 = strlen(buf);
                  if ( send(sock, buf, v7, 0) <= 0 )
                    goto LABEL_25;
                  recv(sock, buf, 2048, 0);
                }
                i = "DATA\r\n";
                v8 = strlen("DATA\r\n");
                if ( send(sock, "DATA\r\n", v8, 0) > 0 )
                {
                  recv(sock, buf, 2048, 0);
                  memset(&v24, 0, sizeof(v24));
                  namelen = 16;
                  getsockname(sock, &v24, &namelen);
                  sprintf(buf, "From: <%s>\r\n", from);
                  v9 = strlen(buf);
                  if ( send(sock, buf, v9, 0) > 0 )
                  {
                    sprintf(
                      buf,
                      "Subject: Exception (%d.%d.%d.%d)\r\n\r\n\r\n",
                      (unsigned __int8)v24.sa_data[2],
                      (unsigned __int8)v24.sa_data[3],
                      (unsigned __int8)v24.sa_data[4],
                      (unsigned __int8)v24.sa_data[5]);
                    v10 = strlen(buf);
                    if ( send(sock, buf, v10, 0) > 0 )
                    {
                      if ( sendFile(sock, body) )
                      {
                        i = "\r\n.\r\n";
                        v11 = strlen("\r\n.\r\n");
                        if ( send(sock, i, v11, 0) > 0 )
                        {
                          recv(sock, buf, 2048, 0);
                          i = "QUIT\r\n";
                          v12 = strlen("QUIT\r\n");
                          if ( send(sock, i, v12, 0) > 0 )
                          {
                            recv(sock, buf, 2048, 0);
                            v21 = 1;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          goto LABEL_25;
        }
        v15 = gethostbyname(host);
        if ( v15 )
        {
          memcpy(&name.sa_data[2], *(const void **)v15->h_addr_list, v15->h_length);
          goto LABEL_11;
        }
      }
    }
  }
LABEL_25:
  closesocket(sock);
  WSACleanup();
  return v21;
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00421820) --------------------------------------------------------
int __cdecl sendFile(unsigned int sock, const char *name)
{
  DWORD len; // [esp+0h] [ebp-40Ch] BYREF
  char Buffer[1024]; // [esp+4h] [ebp-408h] BYREF
  int v5; // [esp+404h] [ebp-8h]
  HANDLE hFile; // [esp+408h] [ebp-4h]

  v5 = dword_4D9830;
  hFile = CreateFileA(name, 0x80000000, 1u, 0, 3u, 0, 0);
  if ( hFile == (HANDLE)-1 )
    return 1;
  do
  {
    if ( !ReadFile(hFile, Buffer, 0x400u, &len, 0) || !len )
    {
      CloseHandle(hFile);
      return 1;
    }
  }
  while ( send(sock, Buffer, len, 0) > 0 );
  return 0;
}
// 4D9830: using guessed type int dword_4D9830;

//----- (004218D0) --------------------------------------------------------
void __cdecl GenerateExceptionReport(PEXCEPTION_POINTERS data)
{
  DWORD v1; // eax
  const char *v2; // eax
  HANDLE v3; // eax
  HANDLE v4; // eax
  int v5; // [esp-1Ch] [ebp-B8Ch]
  int v6; // [esp-18h] [ebp-B88h]
  int v7; // [esp-14h] [ebp-B84h]
  int v8; // [esp-10h] [ebp-B80h]
  int v9; // [esp-Ch] [ebp-B7Ch]
  const char *v10; // [esp-Ch] [ebp-B7Ch]
  int v11; // [esp-8h] [ebp-B78h]
  DWORD v12; // [esp-8h] [ebp-B78h]
  DWORD v13; // [esp-4h] [ebp-B74h]
  const char *v14; // [esp+Ch] [ebp-B64h]
  DWORD v15; // [esp+10h] [ebp-B60h]
  int i; // [esp+14h] [ebp-B5Ch]
  char v17[4]; // [esp+18h] [ebp-B58h] BYREF
  const char *v18; // [esp+404h] [ebp-76Ch]
  CONTEXT Context; // [esp+408h] [ebp-768h] BYREF
  struct _MEMORY_BASIC_INFORMATION Buffer; // [esp+6D8h] [ebp-498h] BYREF
  char *v21; // [esp+6F4h] [ebp-47Ch]
  _CONTEXT ContextRecord; // [esp+6F8h] [ebp-478h] BYREF
  struct tm *v23; // [esp+9CCh] [ebp-1A4h]
  struct _SYSTEMTIME SystemTime; // [esp+9D0h] [ebp-1A0h] BYREF
  char v25[12]; // [esp+9E0h] [ebp-190h] BYREF
  DWORD v26; // [esp+9ECh] [ebp-184h]
  DWORD v27; // [esp+A34h] [ebp-13Ch]
  int v28[2]; // [esp+A38h] [ebp-138h] BYREF
  PEXCEPTION_RECORD v29; // [esp+A40h] [ebp-130h]
  HANDLE LogFile; // [esp+A44h] [ebp-12Ch]
  CHAR Filename[4]; // [esp+A48h] [ebp-128h] BYREF
  int v32; // [esp+B54h] [ebp-1Ch]
  CPPEH_RECORD ms_exc; // [esp+B58h] [ebp-18h]

  v32 = dword_4D9830;
  LogFile = CreateFileA(ExistingFileName, 0x40000000u, 1u, 0, 4u, 0x80000080, 0);
  if ( LogFile == (HANDLE)-1 )
  {
    OutputDebugStringA("Error creating exception report");
  }
  else
  {
    SetFilePointer(LogFile, 0, 0, 2u);
    SystemTime.wYear = 0;
    *(_DWORD *)&SystemTime.wMonth = 0;
    *(_DWORD *)&SystemTime.wDay = 0;
    *(_DWORD *)&SystemTime.wMinute = 0;
    SystemTime.wMilliseconds = 0;
    GetLocalTime(&SystemTime);
    if ( g_bRaise )
      v14 = "first excpetion";
    else
      v14 = &Source;
    v11 = SystemTime.wSecond;
    v9 = SystemTime.wMinute;
    v8 = SystemTime.wHour;
    v7 = SystemTime.wDay;
    v6 = SystemTime.wMonth;
    v5 = SystemTime.wYear;
    v1 = GetCurrentThreadId();
    hprintf(
      LogFile,
      "[%x %04d/%02d/%02d %02d:%02d:%02d]: ======================= %s\r\n",
      v1,
      v5,
      v6,
      v7,
      v8,
      v9,
      v11,
      v14);
    v21 = "Unknown";
    if ( !data )
    {
      SnapCurrentProcessMiniDump(&Context);
      memset(v25, 0, 0x50u);
      v26 = Context.Eip;
      v28[1] = (int)&Context;
      v28[0] = (int)v25;
      data = (PEXCEPTION_POINTERS)v28;
    }
    qmemcpy(&ContextRecord, data->ContextRecord, sizeof(ContextRecord));
    if ( VirtualQuery((LPCVOID)ContextRecord.Eip, &Buffer, 0x1Cu)
      && GetModuleFileNameA((HMODULE)Buffer.AllocationBase, Filename, 0x104u) )
    {
      v21 = GetFilePart(Filename);
    }
    v23 = localtime(&dword_4E0D8C);
    hprintf(
      LogFile,
      "start at %02d/%02d/%02d %02d:%02d:%02d\r\n",
      v23->tm_year % 100,
      v23->tm_mon + 1,
      v23->tm_mday,
      v23->tm_hour,
      v23->tm_min,
      v23->tm_sec);
    sub_422180(LogFile);
    v29 = data->ExceptionRecord;
    v13 = ContextRecord.Eip;
    v12 = ContextRecord.SegCs;
    v10 = v21;
    v2 = GetExceptionDescription(v29->ExceptionCode);
    hprintf(LogFile, "%s in module %s at %04x:%08x.\r\n", v2, v10, v12, v13);
    if ( v29->ExceptionCode == -1073741819 && v29->NumberParameters >= 2 )
    {
      v18 = "Read from";
      if ( v29->ExceptionInformation[0] )
        v18 = "Write to";
      wsprintfA(v17, "%s location %08x caused an access violation.\r\n", v18, v29->ExceptionInformation[1]);
      hprintf(LogFile, "%s", v17);
    }
    hprintf(LogFile, "\r\n");
    hprintf(LogFile, "Registers:\r\n");
    hprintf(
      LogFile,
      "EAX=%08x CS=%04x EIP=%08x EFLGS=%08x\r\n",
      ContextRecord.Eax,
      ContextRecord.SegCs,
      ContextRecord.Eip,
      ContextRecord.EFlags);
    hprintf(
      LogFile,
      "EBX=%08x SS=%04x ESP=%08x EBP=%08x\r\n",
      ContextRecord.Ebx,
      ContextRecord.SegSs,
      ContextRecord.Esp,
      ContextRecord.Ebp);
    hprintf(
      LogFile,
      "ECX=%08x DS=%04x ESI=%08x FS=%04x\r\n",
      ContextRecord.Ecx,
      ContextRecord.SegDs,
      ContextRecord.Esi,
      ContextRecord.SegFs);
    hprintf(
      LogFile,
      "EDX=%08x ES=%04x EDI=%08x GS=%04x\r\n",
      ContextRecord.Edx,
      ContextRecord.SegEs,
      ContextRecord.Edi,
      ContextRecord.SegGs);
    hprintf(LogFile, "\r\nBytes at CS:EIP:\r\n");
    v27 = ContextRecord.Eip;
    for ( i = 0; i < 16; ++i )
    {
      ms_exc.registration.TryLevel = 0;
      hprintf(LogFile, "%02x ", *(unsigned __int8 *)(i + v27));
      ms_exc.registration.TryLevel = -1;
    }
    hprintf(LogFile, "\r\n\r\nStack dump:\r\n");
    *(_DWORD *)begin = ContextRecord.Esp & 0xFFFFFFE0;
    dword_4E0B70 = (int)NtCurrentTeb()->NtTib.StackBase & 0xFFFFFFE0;
    PrintStack(LogFile, ContextRecord.Esp & 0xFFFFFFE0, (ContextRecord.Esp & 0xFFFFFFE0) + 160);
    hprintf(LogFile, "\r\n");
    v3 = GetCurrentProcess();
    if ( SymInitialize(v3, 0, 1) )
    {
      v15 = SymGetOptions();
      if ( (v15 & 0x16) != 20 )
        SymSetOptions(v15 & 0xFFFFFFFD | 0x14);
      ImageHelpStackWalk(LogFile, &ContextRecord);
      v4 = GetCurrentProcess();
      SymCleanup(v4);
    }
    else
    {
      IntelStackWalk((int)LogFile, (int)&ContextRecord);
    }
    RecordModuleList(LogFile);
    CloseHandle(LogFile);
    CreateMiniDump(data);
  }
}
// 4B4264: using guessed type int (*wsprintfA)(_DWORD, const char *, ...);
// 4D9830: using guessed type int dword_4D9830;
// 4E0B70: using guessed type int dword_4E0B70;

//----- (00421EC0) --------------------------------------------------------
BOOL hprintf(void *LogFile, char *Format, ...)
{
  int v2; // eax
  CHAR String[2004]; // [esp+0h] [ebp-7E0h] BYREF
  int v5; // [esp+7D4h] [ebp-Ch]
  DWORD NumberOfBytesWritten; // [esp+7D8h] [ebp-8h] BYREF
  va_list arglist; // [esp+7DCh] [ebp-4h]
  va_list va; // [esp+7F0h] [ebp+10h] BYREF

  va_start(va, Format);
  v5 = dword_4D9830;
  va_copy(arglist, va);
  wvsprintfA(String, Format, va);
  arglist = 0;
  v2 = lstrlenA(String);
  return WriteFile(LogFile, String, v2, &NumberOfBytesWritten, 0);
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00421F30) --------------------------------------------------------
void __cdecl CreateMiniDump(_EXCEPTION_POINTERS *pException)
{
  HANDLE v1; // eax
  HANDLE v2; // eax
  HANDLE v3; // eax
  DWORD v4; // [esp-18h] [ebp-2Ch]
  struct _MINIDUMP_EXCEPTION_INFORMATION *ExceptionParam; // [esp+0h] [ebp-14h]
  HANDLE hFile; // [esp+4h] [ebp-10h]
  int v7[3]; // [esp+8h] [ebp-Ch] BYREF

  hFile = CreateFileA(byte_4E0B80, 0x40000000u, 1u, 0, 2u, 0x80000080, 0);
  if ( hFile != (HANDLE)-1 )
  {
    v1 = GetCurrentThread();
    SetThreadPriority(v1, 2);
    if ( pException )
    {
      v7[0] = GetCurrentThreadId();
      v7[2] = 1;
      v7[1] = (int)pException;
      ExceptionParam = (struct _MINIDUMP_EXCEPTION_INFORMATION *)v7;
    }
    else
    {
      ExceptionParam = 0;
    }
    v4 = GetCurrentProcessId();
    v2 = GetCurrentProcess();
    j_MiniDumpWriteDump(v2, v4, hFile, MiniDumpNormal, ExceptionParam, 0, 0);
    v3 = GetCurrentThread();
    SetThreadPriority(v3, 0);
    CloseHandle(hFile);
  }
}

//----- (00421FE0) --------------------------------------------------------
int __cdecl RecordModuleList(void *LogFile)
{
  hprintf(LogFile, "Module list:\r\n");
  GetModuleHandleA(0);
  return _getdrive();
}

//----- (00422280) --------------------------------------------------------
const char *__cdecl GetExceptionDescription(unsigned int ExceptionCode)
{
  unsigned int i; // [esp+0h] [ebp-C4h]
  int v3; // [esp+4h] [ebp-C0h]
  int v4[47]; // [esp+8h] [ebp-BCh]

  v3 = 1073807365;
  v4[0] = (int)"a Control-C";
  v4[1] = 1073807368;
  v4[2] = (int)"a Control-Break";
  v4[3] = -2147483646;
  v4[4] = (int)"a Datatype Misalignment";
  v4[5] = -2147483645;
  v4[6] = (int)"a Breakpoint";
  v4[7] = -1073741819;
  v4[8] = (int)"an Access Violation";
  v4[9] = -1073741818;
  v4[10] = (int)"an In Page Error";
  v4[11] = -1073741801;
  v4[12] = (int)"a No Memory";
  v4[13] = -1073741795;
  v4[14] = (int)"an Illegal Instruction";
  v4[15] = -1073741787;
  v4[16] = (int)"a Noncontinuable Exception";
  v4[17] = -1073741786;
  v4[18] = (int)"an Invalid Disposition";
  v4[19] = -1073741684;
  v4[20] = (int)"a Array Bounds Exceeded";
  v4[21] = -1073741683;
  v4[22] = (int)"a Float Denormal Operand";
  v4[23] = -1073741682;
  v4[24] = (int)"a Float Divide by Zero";
  v4[25] = -1073741681;
  v4[26] = (int)"a Float Inexact Result";
  v4[27] = -1073741680;
  v4[28] = (int)"a Float Invalid Operation";
  v4[29] = -1073741679;
  v4[30] = (int)"a Float Overflow";
  v4[31] = -1073741678;
  v4[32] = (int)"a Float Stack Check";
  v4[33] = -1073741677;
  v4[34] = (int)"a Float Underflow";
  v4[35] = -1073741676;
  v4[36] = (int)"an Integer Divide by Zero";
  v4[37] = -1073741675;
  v4[38] = (int)"an Integer Overflow";
  v4[39] = -1073741674;
  v4[40] = (int)"a Privileged Instruction";
  v4[41] = -1073741571;
  v4[42] = (int)"a Stack Overflow";
  v4[43] = -1073741502;
  v4[44] = (int)"a DLL Initialization Failed";
  v4[45] = -529697949;
  v4[46] = (int)"a Microsoft C++ Exception";
  for ( i = 0; i < 0x18; ++i )
  {
    if ( ExceptionCode == *(&v3 + 2 * i) )
      return (const char *)v4[2 * i];
  }
  return "Unknown exception type";
}

//----- (00422460) --------------------------------------------------------
int __cdecl PrintStack(void *LogFile, unsigned int begin, unsigned int end)
{
  int result; // eax
  int v4; // eax
  int v5; // eax
  char v6; // [esp+Ch] [ebp-80h] BYREF
  char v7[88]; // [esp+Dh] [ebp-7Fh] BYREF
  __int16 v8; // [esp+65h] [ebp-27h]
  char v9; // [esp+67h] [ebp-25h]
  int v10; // [esp+6Ch] [ebp-20h]
  char *v11; // [esp+70h] [ebp-1Ch]
  CPPEH_RECORD ms_exc; // [esp+74h] [ebp-18h]
  unsigned int v13; // [esp+9Ch] [ebp+10h]

  v10 = dword_4D9830;
  if ( *(_DWORD *)::begin < begin )
    *(_DWORD *)::begin = begin & 0xFFFFFFE0;
  if ( end <= dword_4E0B70 )
    v13 = (end + 31) & 0xFFFFFFE0;
  else
    v13 = dword_4E0B70;
  ms_exc.registration.TryLevel = 0;
  v6 = 0;
  memset(v7, 0, sizeof(v7));
  v8 = 0;
  v9 = 0;
  result = (int)&v6;
  v11 = &v6;
  while ( *(_DWORD *)::begin < v13 )
  {
    if ( (::begin[0] & 0x1F) == 0 )
    {
      v4 = wsprintfA(v11, "%08x:", *(_DWORD *)::begin);
      v11 += v4;
    }
    v5 = wsprintfA(v11, " %08x", **(_DWORD **)::begin);
    v11 += v5;
    *(_DWORD *)::begin += 4;
    result = ::begin[0] & 0x1F;
    if ( (::begin[0] & 0x1F) == 0 )
    {
      hprintf(LogFile, "%s\r\n", &v6);
      v6 = 0;
      result = (int)&v6;
      v11 = &v6;
    }
  }
  return result;
}
// 4B4264: using guessed type int (*wsprintfA)(_DWORD, const char *, ...);
// 4D9830: using guessed type int dword_4D9830;
// 4E0B70: using guessed type int dword_4E0B70;

//----- (004225E0) --------------------------------------------------------
BOOL __cdecl ImageHelpStackWalk(void *LogFile, _CONTEXT *ptrContext)
{
  HANDLE v2; // eax
  HANDLE v3; // eax
  HANDLE v4; // eax
  HANDLE v6; // [esp-1Ch] [ebp-678h]
  DWORD64 v7; // [esp-10h] [ebp-66Ch]
  DWORD64 v8; // [esp-10h] [ebp-66Ch]
  struct _MEMORY_BASIC_INFORMATION Buffer; // [esp+0h] [ebp-65Ch] BYREF
  CHAR Filename[268]; // [esp+1Ch] [ebp-640h] BYREF
  DWORD pdwDisplacement; // [esp+128h] [ebp-534h] BYREF
  struct _IMAGEHLP_LINE64 Line64; // [esp+12Ch] [ebp-530h] BYREF
  PSYMBOL_INFO Symbol; // [esp+148h] [ebp-514h]
  CHAR outputString[512]; // [esp+14Ch] [ebp-510h] BYREF
  struct _SYMBOL_INFO v15; // [esp+34Ch] [ebp-310h] BYREF
  int v16; // [esp+5A8h] [ebp-B4h]
  unsigned __int64 Displacement; // [esp+5ACh] [ebp-B0h] BYREF
  struct _tagSTACKFRAME StackFrame; // [esp+5B4h] [ebp-A8h] BYREF

  v16 = dword_4D9830;
  hprintf(LogFile, "Call Stack Information:\r\n");
  memset(&StackFrame, 0, sizeof(StackFrame));
  StackFrame.AddrPC.Offset = ptrContext->Eip;
  StackFrame.AddrPC.Mode = AddrModeFlat;
  StackFrame.AddrStack.Offset = ptrContext->Esp;
  StackFrame.AddrStack.Mode = AddrModeFlat;
  StackFrame.AddrFrame.Offset = ptrContext->Ebp;
  StackFrame.AddrFrame.Mode = AddrModeFlat;
  while ( 1 )
  {
    v6 = GetCurrentThread();
    v2 = GetCurrentProcess();
    if ( !StackWalk(0x14Cu, v2, v6, &StackFrame, ptrContext, 0, SymFunctionTableAccess, SymGetModuleBase, 0)
      || !StackFrame.AddrFrame.Offset )
    {
      break;
    }
    PrintStack(LogFile, StackFrame.AddrFrame.Offset - 32, StackFrame.AddrFrame.Offset + 12);
    hprintf(LogFile, "\r\n%08x  %08x ", StackFrame.AddrFrame.Offset, StackFrame.AddrPC.Offset);
    Symbol = &v15;
    v15.SizeOfStruct = 600;
    v15.MaxNameLen = 512;
    Displacement = 0i64;
    outputString[0] = 0;
    v7 = StackFrame.AddrPC.Offset;
    v3 = GetCurrentProcess();
    if ( SymFromAddr(v3, v7, &Displacement, &v15)
      && (hprintf(LogFile, "%s +%x\r\n", Symbol->Name, (_DWORD)Displacement),
          UnDecorateSymbolName(Symbol->Name, outputString, 0x200u, 0),
          pdwDisplacement = 0,
          Line64.SizeOfStruct = 24,
          v8 = StackFrame.AddrPC.Offset,
          v4 = GetCurrentProcess(),
          SymGetLineFromAddr64(v4, v8, &pdwDisplacement, &Line64)) )
    {
      hprintf(LogFile, "%s %d %s\r\n", Line64.FileName, Line64.LineNumber, outputString);
    }
    else
    {
      Filename[0] = 0;
      if ( VirtualQuery((LPCVOID)StackFrame.AddrPC.Offset, &Buffer, 0x1Cu) )
        GetModuleFileNameA((HMODULE)Buffer.AllocationBase, Filename, 0x104u);
      hprintf(LogFile, "%s %s\r\n", Filename, outputString);
    }
    hprintf(
      LogFile,
      "Params:   %08x %08x %08x %08x\r\n",
      StackFrame.Params[0],
      StackFrame.Params[1],
      StackFrame.Params[2],
      StackFrame.Params[3]);
  }
  return hprintf(LogFile, "\r\n");
}
// 4D9830: using guessed type int dword_4D9830;

//----- (004228C0) --------------------------------------------------------
unsigned int __cdecl IntelStackWalk(int a1, int a2)
{
  unsigned int result; // eax
  int i; // [esp+Ch] [ebp-154h]
  struct _MEMORY_BASIC_INFORMATION Buffer; // [esp+10h] [ebp-150h] BYREF
  unsigned __int8 *v5; // [esp+2Ch] [ebp-134h]
  CHAR Filename[8]; // [esp+30h] [ebp-130h] BYREF
  int v7; // [esp+138h] [ebp-28h]
  LPCVOID lpAddress; // [esp+13Ch] [ebp-24h]
  LPVOID lp; // [esp+140h] [ebp-20h]
  LPVOID v10; // [esp+144h] [ebp-1Ch]
  CPPEH_RECORD ms_exc; // [esp+148h] [ebp-18h]

  v7 = dword_4D9830;
  hprintf((void *)a1, "Intel Call Stack Information:\r\n");
  lpAddress = *(LPCVOID *)(a2 + 184);
  lp = *(LPVOID *)(a2 + 180);
  do
  {
    PrintStack((void *)a1, (unsigned int)lp - 32, (unsigned int)lp + 12);
    Filename[0] = 0;
    if ( VirtualQuery(lpAddress, &Buffer, 0x1Cu) )
      GetModuleFileNameA((HMODULE)Buffer.AllocationBase, Filename, 0x104u);
    hprintf((void *)a1, "\r\n%08x  %08x  %s\r\n", lp, lpAddress, Filename);
    hprintf((void *)a1, "Bytes at CS:EIP: ");
    v5 = (unsigned __int8 *)lpAddress;
    for ( i = 0; i < 16; ++i )
    {
      ms_exc.registration.TryLevel = 0;
      hprintf((void *)a1, "%02x ", v5[i]);
      ms_exc.registration.TryLevel = -1;
    }
    hprintf((void *)a1, "\r\n");
    lpAddress = (LPCVOID)*((_DWORD *)lp + 1);
    v10 = lp;
    result = (unsigned int)lp;
    lp = *(LPVOID *)lp;
    if ( ((unsigned __int8)lp & 3) != 0 )
      break;
    result = (unsigned int)lp;
    if ( lp <= v10 )
      break;
    result = IsBadWritePtr(lp, 8u);
  }
  while ( !result );
  return result;
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00422A90) --------------------------------------------------------
LONG __stdcall RecordExceptionInfo(struct _EXCEPTION_POINTERS *ExceptionInfo)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi
  LONG result; // eax

  if ( g_nEnable && ExceptionInfo->ExceptionRecord->ExceptionCode != -536870911 )
  {
    sub_421120();
    if ( !dword_4E0DB8 )
    {
      dword_4E0DB8 = 1;
      GenerateExceptionReport(v1, v2, v3, ExceptionInfo);
      sendMail();
    }
    sub_421130();
  }
  if ( lpTopLevelExceptionFilter )
    result = lpTopLevelExceptionFilter(ExceptionInfo);
  else
    result = 0;
  return result;
}
// 422ACC: variable 'v1' is possibly undefined
// 422ACC: variable 'v2' is possibly undefined
// 422ACC: variable 'v3' is possibly undefined
// 4E0DB8: using guessed type int dword_4E0DB8;

//----- (00422B00) --------------------------------------------------------
void __thiscall CIOException::CInit::~CInit(CIOException::CInit *this)
{
  if ( lpTopLevelExceptionFilter )
    SetUnhandledExceptionFilter(lpTopLevelExceptionFilter);
  DeleteCriticalSection(&CriticalSection);
}

//----- (00422B30) --------------------------------------------------------
void __cdecl ELOG(char *Format, char a2)
{
  DWORD v2; // eax
  int v3; // [esp-18h] [ebp-448h]
  int v4; // [esp-14h] [ebp-444h]
  int v5; // [esp-10h] [ebp-440h]
  int v6; // [esp-Ch] [ebp-43Ch]
  int v7; // [esp-8h] [ebp-438h]
  int v8; // [esp-4h] [ebp-434h]
  _BYTE *v9; // [esp+0h] [ebp-430h]
  DWORD NumberOfBytesWritten; // [esp+4h] [ebp-42Ch] BYREF
  int i; // [esp+8h] [ebp-428h]
  struct _SYSTEMTIME SystemTime; // [esp+Ch] [ebp-424h] BYREF
  HANDLE hFile; // [esp+1Ch] [ebp-414h]
  char Buffer[1028]; // [esp+20h] [ebp-410h] BYREF
  int v15; // [esp+424h] [ebp-Ch]
  DWORD nNumberOfBytesToWrite; // [esp+428h] [ebp-8h]
  va_list v17; // [esp+42Ch] [ebp-4h]

  v15 = dword_4D9830;
  if ( g_nEnable )
  {
    sub_421120();
    v17 = &a2;
    SystemTime.wYear = 0;
    *(_DWORD *)&SystemTime.wMonth = 0;
    *(_DWORD *)&SystemTime.wDay = 0;
    *(_DWORD *)&SystemTime.wMinute = 0;
    SystemTime.wMilliseconds = 0;
    GetLocalTime(&SystemTime);
    hFile = CreateFileA(ExistingFileName, 0xC0000000, 1u, 0, 4u, 0x80u, 0);
    if ( hFile == (HANDLE)-1 )
    {
      sub_421130();
    }
    else
    {
      SetFilePointer(hFile, 0, 0, 2u);
      v8 = SystemTime.wSecond;
      v7 = SystemTime.wMinute;
      v6 = SystemTime.wHour;
      v5 = SystemTime.wDay;
      v4 = SystemTime.wMonth;
      v3 = SystemTime.wYear;
      v2 = GetCurrentThreadId();
      nNumberOfBytesToWrite = _snprintf(
                                Buffer,
                                0x400u,
                                "[%x %04d/%02d/%02d %02d:%02d:%02d]: ",
                                v2,
                                v3,
                                v4,
                                v5,
                                v6,
                                v7,
                                v8);
      if ( (nNumberOfBytesToWrite & 0x80000000) == 0 )
      {
        WriteFile(hFile, Buffer, nNumberOfBytesToWrite, &NumberOfBytesWritten, 0);
        nNumberOfBytesToWrite = _vsnprintf(Buffer, 0x400u, Format, v17);
        if ( (nNumberOfBytesToWrite & 0x80000000) == 0 )
        {
          for ( i = 0; i < (int)nNumberOfBytesToWrite; i += 2 )
          {
            v9 = memchr(&Buffer[i], 10, nNumberOfBytesToWrite - i);
            if ( !v9 )
              break;
            if ( nNumberOfBytesToWrite < 0x400 )
              ++nNumberOfBytesToWrite;
            i = v9 - Buffer;
            memcpy_0(v9 + 1, v9, nNumberOfBytesToWrite - (v9 - Buffer) - 1);
            *v9 = 13;
          }
          WriteFile(hFile, Buffer, nNumberOfBytesToWrite, &NumberOfBytesWritten, 0);
        }
      }
      v17 = 0;
      CloseHandle(hFile);
      sub_421130();
    }
  }
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00422D80) --------------------------------------------------------
void __stdcall __spoils<edx,ecx> EBREAK()
{
  if ( g_nEnable && InterlockedExchange(&g_bRaise, 0) )
  {
    if ( g_nEnable )
      EBreak();
  }
}

//----- (00422DC0) --------------------------------------------------------
int __cdecl EBreak()
{
  DWORD v0; // ebx
  DWORD v1; // edi
  DWORD v2; // esi
  int result; // eax
  char savedregs; // [esp+0h] [ebp+0h]

  ELOG("EASSERT\n", savedregs);
  sub_421120();
  GenerateExceptionReport(v0, v1, v2, 0);
  sendMail();
  sub_421130();
  return result;
}
// 422DC8: variable 'savedregs' is possibly undefined
// 422DD7: variable 'v0' is possibly undefined
// 422DD7: variable 'v1' is possibly undefined
// 422DD7: variable 'v2' is possibly undefined

//----- (00422DF0) --------------------------------------------------------
int __cdecl CIOException::Filter(_EXCEPTION_POINTERS *pExp)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi

  if ( g_nEnable && pExp->ExceptionRecord->ExceptionCode != -536870911 )
  {
    sub_421120();
    GenerateExceptionReport(v1, v2, v3, pExp);
    sub_421130();
  }
  return 1;
}
// 422E12: variable 'v1' is possibly undefined
// 422E12: variable 'v2' is possibly undefined
// 422E12: variable 'v3' is possibly undefined

//----- (00422E30) --------------------------------------------------------
HANDLE __cdecl CIOException::Open(const char *szMailServer, const char *szMailFrom, const char *szMailTo)
{
  HANDLE result; // eax

  if ( szMailServer && *szMailServer )
  {
    host = (char *)szMailServer;
    from = (char *)szMailFrom;
    to = (char *)szMailTo;
  }
  else
  {
    host = 0;
    from = 0;
    to = 0;
  }
  result = CreateFileA(ExistingFileName, 0x80000000, 1u, 0, 3u, 0, 0);
  if ( result != (HANDLE)-1 )
  {
    CloseHandle(result);
    sub_422F10();
  }
  return result;
}

//----- (00422EC0) --------------------------------------------------------
BOOL sub_422EC0()
{
  return InterlockedExchange(&g_nEnable, 1) == 0;
}

//----- (00422EE0) --------------------------------------------------------
LONG sub_422EE0()
{
  return InterlockedExchange(&g_nEnable, 0);
}

//----- (00422F00) --------------------------------------------------------
LONG sub_422F00()
{
  return g_nEnable;
}

//----- (00422F10) --------------------------------------------------------
void sub_422F10()
{
  sub_421120();
  sendMail();
  sub_421130();
}

//----- (00422F30) --------------------------------------------------------
LONG sub_422F30()
{
  g_bRaise = g_bRaise == 0;
  return g_bRaise;
}

//----- (00422F50) --------------------------------------------------------
void __cdecl CIOException::DumpStack(int nThread, void **hThread, unsigned int *nThreadId)
{
  HANDLE v3; // eax
  DWORD v4; // eax
  HANDLE v5; // eax
  HANDLE v6; // eax
  HANDLE v7; // eax
  int v8; // [esp-18h] [ebp-38h]
  int v9; // [esp-14h] [ebp-34h]
  int v10; // [esp-10h] [ebp-30h]
  int v11; // [esp-Ch] [ebp-2Ch]
  int v12; // [esp-8h] [ebp-28h]
  int v13; // [esp-4h] [ebp-24h]
  int i; // [esp+0h] [ebp-20h]
  DWORD v15; // [esp+4h] [ebp-1Ch]
  struct tm *v16; // [esp+8h] [ebp-18h]
  struct _SYSTEMTIME SystemTime; // [esp+Ch] [ebp-14h] BYREF
  HANDLE LogFile; // [esp+1Ch] [ebp-4h]

  v3 = GetCurrentThread();
  SetThreadPriority(v3, 2);
  sub_421120();
  LogFile = CreateFileA(ExistingFileName, 0x40000000u, 1u, 0, 4u, 0x80000080, 0);
  if ( LogFile == (HANDLE)-1 )
  {
    sub_421130();
  }
  else
  {
    SetFilePointer(LogFile, 0, 0, 2u);
    SystemTime.wYear = 0;
    *(_DWORD *)&SystemTime.wMonth = 0;
    *(_DWORD *)&SystemTime.wDay = 0;
    *(_DWORD *)&SystemTime.wMinute = 0;
    SystemTime.wMilliseconds = 0;
    GetLocalTime(&SystemTime);
    v13 = SystemTime.wSecond;
    v12 = SystemTime.wMinute;
    v11 = SystemTime.wHour;
    v10 = SystemTime.wDay;
    v9 = SystemTime.wMonth;
    v8 = SystemTime.wYear;
    v4 = GetCurrentThreadId();
    hprintf(
      LogFile,
      "[%x %04d/%02d/%02d %02d:%02d:%02d]: Dump Stack =======================\r\n",
      v4,
      v8,
      v9,
      v10,
      v11,
      v12,
      v13);
    v16 = localtime(&dword_4E0D8C);
    hprintf(
      LogFile,
      "start at %02d/%02d/%02d %02d:%02d:%02d\r\n",
      v16->tm_year % 100,
      v16->tm_mon + 1,
      v16->tm_mday,
      v16->tm_hour,
      v16->tm_min,
      v16->tm_sec);
    v5 = GetCurrentProcess();
    if ( SymInitialize(v5, 0, 1) )
    {
      v15 = SymGetOptions();
      if ( (v15 & 0x16) != 20 )
        SymSetOptions(v15 & 0xFFFFFFFD | 0x14);
      for ( i = 0; i < nThread; ++i )
      {
        hprintf(LogFile, "Call Stack Information %d (%x):\r\n", i, nThreadId[i]);
        ImageHelpStackWalk(LogFile, hThread[i]);
      }
      RecordModuleList(LogFile);
      v6 = GetCurrentProcess();
      SymCleanup(v6);
    }
    CloseHandle(LogFile);
    sub_421130();
    CreateMiniDump(0);
    v7 = GetCurrentThread();
    SetThreadPriority(v7, 0);
  }
}

//----- (00423130) --------------------------------------------------------
DWORD __cdecl ImageHelpStackWalk(HANDLE hFile, HANDLE hThread)
{
  HANDLE v2; // eax
  HANDLE v3; // eax
  HANDLE v4; // eax
  DWORD64 v6; // [esp-10h] [ebp-93Ch]
  DWORD64 v7; // [esp-10h] [ebp-93Ch]
  struct _MEMORY_BASIC_INFORMATION Buffer; // [esp+0h] [ebp-92Ch] BYREF
  CHAR Filename[268]; // [esp+1Ch] [ebp-910h] BYREF
  DWORD pdwDisplacement; // [esp+128h] [ebp-804h] BYREF
  struct _IMAGEHLP_LINE64 Line64; // [esp+12Ch] [ebp-800h] BYREF
  PSYMBOL_INFO Symbol; // [esp+148h] [ebp-7E4h]
  CHAR outputString[512]; // [esp+14Ch] [ebp-7E0h] BYREF
  struct _SYMBOL_INFO v14; // [esp+34Ch] [ebp-5E0h] BYREF
  unsigned __int64 Displacement; // [esp+5A4h] [ebp-388h] BYREF
  CONTEXT Context; // [esp+5ACh] [ebp-380h] BYREF
  int v17; // [esp+880h] [ebp-ACh]
  struct _tagSTACKFRAME StackFrame; // [esp+884h] [ebp-A8h] BYREF

  v17 = dword_4D9830;
  SuspendThread(hThread);
  memset(&Context, 0, sizeof(Context));
  Context.ContextFlags = 65543;
  GetThreadContext(hThread, &Context);
  hprintf(hFile, "\r\nRegisters:\r\n");
  hprintf(hFile, "EAX=%08x CS=%04x EIP=%08x EFLGS=%08x\r\n", Context.Eax, Context.SegCs, Context.Eip, Context.EFlags);
  hprintf(hFile, "EBX=%08x SS=%04x ESP=%08x EBP=%08x\r\n", Context.Ebx, Context.SegSs, Context.Esp, Context.Ebp);
  hprintf(hFile, "ECX=%08x DS=%04x ESI=%08x FS=%04x\r\n", Context.Ecx, Context.SegDs, Context.Esi, Context.SegFs);
  hprintf(hFile, "EDX=%08x ES=%04x EDI=%08x GS=%04x\r\n", Context.Edx, Context.SegEs, Context.Edi, Context.SegGs);
  hprintf(hFile, "\r\nStack dump:\r\n");
  *(_DWORD *)begin = Context.Esp & 0xFFFFFFE0;
  dword_4E0B70 = 0x80000000;
  PrintStack(hFile, Context.Esp & 0xFFFFFFE0, (Context.Esp & 0xFFFFFFE0) + 160);
  hprintf(hFile, "\r\nCall Stack:\r\n");
  memset(&StackFrame, 0, sizeof(StackFrame));
  StackFrame.AddrPC.Offset = Context.Eip;
  StackFrame.AddrPC.Mode = AddrModeFlat;
  StackFrame.AddrStack.Offset = Context.Esp;
  StackFrame.AddrStack.Mode = AddrModeFlat;
  StackFrame.AddrFrame.Offset = Context.Ebp;
  StackFrame.AddrFrame.Mode = AddrModeFlat;
  while ( 1 )
  {
    v2 = GetCurrentProcess();
    if ( !StackWalk(0x14Cu, v2, hThread, &StackFrame, &Context, 0, SymFunctionTableAccess, SymGetModuleBase, 0)
      || !StackFrame.AddrFrame.Offset )
    {
      break;
    }
    PrintStack(hFile, StackFrame.AddrFrame.Offset - 16, StackFrame.AddrFrame.Offset + 12);
    hprintf(hFile, "\r\n%08x  %08x ", StackFrame.AddrFrame.Offset, StackFrame.AddrPC.Offset);
    Symbol = &v14;
    v14.SizeOfStruct = 600;
    v14.MaxNameLen = 512;
    outputString[0] = 0;
    Displacement = 0i64;
    v6 = StackFrame.AddrPC.Offset;
    v3 = GetCurrentProcess();
    if ( SymFromAddr(v3, v6, &Displacement, &v14)
      && (hprintf(hFile, "%s +%x\r\n", Symbol->Name, (_DWORD)Displacement),
          UnDecorateSymbolName(Symbol->Name, outputString, 0x200u, 0),
          pdwDisplacement = 0,
          Line64.SizeOfStruct = 24,
          v7 = StackFrame.AddrPC.Offset,
          v4 = GetCurrentProcess(),
          SymGetLineFromAddr64(v4, v7, &pdwDisplacement, &Line64)) )
    {
      hprintf(hFile, "%s %d %s\r\n", Line64.FileName, Line64.LineNumber, outputString);
    }
    else
    {
      Filename[0] = 0;
      if ( VirtualQuery((LPCVOID)StackFrame.AddrPC.Offset, &Buffer, 0x1Cu) )
        GetModuleFileNameA((HMODULE)Buffer.AllocationBase, Filename, 0x104u);
      hprintf(hFile, "%s %s\r\n", Filename, outputString);
    }
    hprintf(
      hFile,
      "Params:   %08x %08x %08x %08x\r\n",
      StackFrame.Params[0],
      StackFrame.Params[1],
      StackFrame.Params[2],
      StackFrame.Params[3]);
  }
  hprintf(hFile, "\r\n");
  return ResumeThread(hThread);
}
// 4D9830: using guessed type int dword_4D9830;
// 4E0B70: using guessed type int dword_4E0B70;

//----- (00423550) --------------------------------------------------------
LONG __thiscall CIOSocket::AddIOThread(volatile LONG *this)
{
  LONG result; // eax
  int v3; // [esp+4h] [ebp-4h]
  int v4; // [esp+4h] [ebp-4h]

  v3 = 4000;
  while ( --v3 >= 0 )
  {
    result = InterlockedCompareExchange(this, 1, 0);
    if ( !result )
      return result;
    _mm_pause();
  }
  v4 = 4000;
  while ( --v4 >= 0 )
  {
    SwitchToThread();
    result = InterlockedCompareExchange(this, 1, 0);
    if ( !result )
      return result;
  }
  do
  {
    Sleep(0x3E8u);
    result = InterlockedCompareExchange(this, 1, 0);
  }
  while ( result );
  return result;
}

//----- (004235E0) --------------------------------------------------------
CIOCriticalSection *__thiscall CIOCriticalSection::CIOCriticalSection(CIOCriticalSection *this)
{
  InitializeCriticalSection((LPCRITICAL_SECTION)this);
  *((_DWORD *)this + 7) = 0;
  *((_DWORD *)this + 6) = 0;
  return this;
}

//----- (00423610) --------------------------------------------------------
void __thiscall CIOCriticalSection::~CIOCriticalSection(CIOCriticalSection *this)
{
  if ( this->m_dwEIP[0] )
    EBREAK((int)this);
  DeleteCriticalSection(&this->m_critical_section);
}

//----- (00423640) --------------------------------------------------------
void __usercall CIOCriticalSection::Enter(CIOCriticalSection *this)
{
  struct _RTL_CRITICAL_SECTION *v1; // ecx
  int v2; // eax
  LPCRITICAL_SECTION lpCriticalSection; // [esp+0h] [ebp-Ch]
  int v4; // [esp+8h] [ebp-4h]
  int var0; // [esp+Ch] [ebp+0h]
  _RTL_CRITICAL_SECTION_DEBUG *retaddr; // [esp+10h] [ebp+4h]

  lpCriticalSection = v1;
  if ( !TryEnterCriticalSection(v1) )
    EnterCriticalSection(lpCriticalSection);
  if ( lpCriticalSection[1].DebugInfo )
  {
    ELOG("CIOCriticalSection::Enter EIP(%p %p)\n", (char)lpCriticalSection[1].DebugInfo);
    EBREAK(v2);
  }
  v4 = *(_DWORD *)(var0 + 4);
  lpCriticalSection[1].DebugInfo = retaddr;
  lpCriticalSection[1].LockCount = v4;
}
// 423646: variable 'v1' is possibly undefined
// 423697: variable 'v2' is possibly undefined
// 4236A5: variable 'var0' is possibly undefined

//----- (004236D0) --------------------------------------------------------
void __usercall CIOCriticalSection::Leave(CIOCriticalSection *this)
{
  int v1; // ecx
  LPCRITICAL_SECTION lpCriticalSection; // [esp+0h] [ebp-4h]

  lpCriticalSection = (LPCRITICAL_SECTION)v1;
  if ( !*(_DWORD *)(v1 + 24) )
    EBREAK(v1);
  lpCriticalSection[1].LockCount = 0;
  lpCriticalSection[1].DebugInfo = 0;
  LeaveCriticalSection(lpCriticalSection);
}
// 4236D4: variable 'v1' is possibly undefined

//----- (00423710) --------------------------------------------------------
int sub_423710()
{
  CIOSocket::FreeIOThread();
  return CIOBuffer::FreeAll();
}

//----- (00423730) --------------------------------------------------------
int __cdecl CIOObject::RegisterWait(int nThread)
{
  HANDLE v1; // eax
  int result; // eax
  int i; // [esp+0h] [ebp-4h]

  v1 = GetCurrentProcess();
  SetProcessPriorityBoost(v1, 1);
  dword_4E0FD8 = 0;
  handle = CreateEventA(0, 0, 0, 0);
  ExistingCompletionPort = CreateIoCompletionPort((HANDLE)0xFFFFFFFF, 0, 0, 0);
  CIOSocket::CIOTimerInstance::OnTimerCallback(&unk_4E1020, 0);
  CIOObject::AddRef(&unk_4E1020, pRef);
  if ( CIOObject::RegisterWait(&unk_4E1020, handle) )
  {
    hThread = (void **)CMemory::_malloc(4 * nThread);
    nThreadId = CMemory::_malloc(4 * nThread);
    ::nThread = nThread;
    for ( i = 0; i < nThread; ++i )
      hThread[i] = (void *)_beginthreadex(0, 0, (int)CIOSocket::IOThread, i, 0, (LPDWORD)nThreadId + i);
    result = 1;
  }
  else
  {
    LOG_ERR("RegisterWait error for timer");
    result = 0;
  }
  return result;
}

//----- (00423840) --------------------------------------------------------
unsigned int __thiscall CIOSocket::AddIOThread(void *this)
{
  DWORD ThreadId; // [esp+0h] [ebp-4h] BYREF

  ThreadId = (DWORD)this;
  if ( !ExistingCompletionPort )
    return 0;
  hThread = (void **)CMemory::_realloc(hThread, 4 * nThread + 4);
  nThreadId = CMemory::_realloc(nThreadId, 4 * nThread + 4);
  hThread[nThread] = (void *)_beginthreadex(0, 0, (int)CIOSocket::IOThread, nThread, 0, &ThreadId);
  *((_DWORD *)nThreadId + nThread++) = ThreadId;
  return ThreadId;
}

//----- (004238F0) --------------------------------------------------------
int __cdecl CIOSocket::CloseIOThread()
{
  if ( InterlockedExchange(&dword_4E0FD8, 1) )
    return 0;
  SetEvent(handle);
  return 1;
}

//----- (00423920) --------------------------------------------------------
void __stdcall CIOSocket::FreeIOThread()
{
  CMemory::_free(hThread);
  CMemory::_free(nThreadId);
  hThread = 0;
  nThreadId = 0;
}

//----- (00423980) --------------------------------------------------------
LONG __thiscall CIOObject::AddRef(CIOObject *this, volatile int *pRef)
{
  if ( InterlockedIncrement(&this->m_nRef) == 1 )
  {
    EBREAK(1);
    this->m_nRef = 100;
  }
  return InterlockedIncrement(pRef);
}

//----- (004239C0) --------------------------------------------------------
void __thiscall CIOObject::Release(CIOObject *this, volatile int *pRef)
{
  int v2; // eax
  int v3; // eax
  LONG v5; // [esp+8h] [ebp-4h]

  if ( InterlockedDecrement(pRef) < 0 )
    goto LABEL_2;
  v5 = InterlockedDecrement(&this->m_nRef);
  if ( v5 <= 0 )
  {
    if ( v5 >= 0 )
    {
      if ( *pRef )
      {
LABEL_2:
        ELOG("CIOObject::Release %p %p %x %d\n", (char)this);
        EBREAK(v2);
        *pRef = 100;
        this->m_nRef = 100;
        return;
      }
      this->OnFree(this);
    }
    else
    {
      ELOG("CIOObject::Release %p %p %d\n", (char)this);
      EBREAK(v3);
      this->m_nRef = 100;
    }
  }
}
// 4239FE: variable 'v2' is possibly undefined
// 423A57: variable 'v3' is possibly undefined

//----- (00423AC0) --------------------------------------------------------
int __thiscall CIOObject::RegisterWait(CIOObject *this, void *handle)
{
  int result; // eax
  CIOCriticalSection *v3; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  if ( (int)nCount < 64 )
  {
    Handles[nCount] = handle;
    dword_4E0DD0[nCount++] = (int)v3;
    SetEvent(::handle);
    CIOCriticalSection::Leave(v3);
    result = 1;
  }
  else
  {
    CIOCriticalSection::Leave(v3);
    result = 0;
  }
  return result;
}
// 423ADF: variable 'v3' is possibly undefined

//----- (00423B40) --------------------------------------------------------
void __thiscall CIOObject::AddTimer(CIOObject *this, unsigned int dwTime, int nId)
{
  CIOSocket::CIOTimer *v3; // eax
  CIOObject *pObject; // [esp+0h] [ebp-10h]
  CIOSocket::CIOTimer v6; // [esp+4h] [ebp-Ch] BYREF
  unsigned int dwTimea; // [esp+18h] [ebp+8h]

  CIOObject::AddRef(this, &this->m_nTimerRef);
  dwTimea = dwTime + GetTickCount();
  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  v3 = CIOSocket::CIOTimer::CIOTimer(&v6, pObject, dwTimea, nId);
  std::priority_queue<CIOSocket::CIOTimer>::push(&unk_4E100C, v3);
  if ( (int)(dword_4E0FD0 - dwTimea) <= 0 )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)pObject);
  }
  else
  {
    dword_4E0FD0 = dwTimea;
    CIOCriticalSection::Leave((CIOCriticalSection *)pObject);
    SetEvent(handle);
  }
}
// 423B7D: variable 'pObject' is possibly undefined
// 4E0FD0: using guessed type int dword_4E0FD0;

//----- (00423BD0) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall CIOSocket::CIOTimer::CIOTimer(CIOSocket::CIOTimer *this, CIOObject *pObject, unsigned int dwTime, int nId)
{
  *(_DWORD *)this = dwTime;
  *((_DWORD *)this + 1) = pObject;
  *((_DWORD *)this + 2) = nId;
  return this;
}

//----- (00423C00) --------------------------------------------------------
void __thiscall CIOBuffer::Alloc(CIOObject *this, int nId)
{
  if ( !PostQueuedCompletionStatus(ExistingCompletionPort, nId, (ULONG_PTR)this, 0) )
  {
    EBREAK(0);
    sub_401DE0((int *)this);
  }
}

//----- (00423C40) --------------------------------------------------------
void __thiscall CIOObject::OnIOCallback(CIOObject *this, int bSucess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  int v4; // eax
  DWORD v5; // ebx
  DWORD v6; // edi
  DWORD v7; // esi

  if ( lpOverlapped )
    EBREAK(v4);
  this->OnTimer(this, dwTransferred);
  CIOObject::Release(this, v5, v6, v7, &this->m_nTimerRef);
}
// 423C4D: variable 'v4' is possibly undefined
// 423C6B: variable 'v5' is possibly undefined
// 423C6B: variable 'v6' is possibly undefined
// 423C6B: variable 'v7' is possibly undefined

//----- (00423C80) --------------------------------------------------------
void __thiscall CIOSocket::CIOTimerInstance::OnTimerCallback(CIOSocket::CIOTimerInstance *this, int nId)
{
  DWORD v2; // eax
  CIOSocket::CIOTimer *v3; // eax
  CIOSocket::CIOTimer v5; // [esp+4h] [ebp-Ch] BYREF

  v2 = GetTickCount();
  v3 = CIOSocket::CIOTimer::CIOTimer(&v5, this, v2 + 86400000, nId);
  std::priority_queue<CIOSocket::CIOTimer>::push(&unk_4E100C, v3);
  dword_4E0FD0 = sub_424D50(&unk_4E100C.c)->m_dwTime;
}
// 4E0FD0: using guessed type int dword_4E0FD0;

//----- (00423CD0) --------------------------------------------------------
void __thiscall CIOSocket::CIOTimerInstance::OnIOCallback(CIOSocket::CIOTimerInstance *this, int bSucess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  HANDLE v4; // eax

  if ( dwTransferred )
    CIOObject::PostObject(&unk_4E1020, dwTransferred - 1);
  else
    SetEvent(handle);
  v4 = GetCurrentThread();
  SuspendThread(v4);
}

//----- (00423D10) --------------------------------------------------------
unsigned int __stdcall CIOBuffer::FreeAll(void *formal)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-1Ch]
  CIOCriticalSection *v3; // [esp+0h] [ebp-1Ch]
  CIOObject *v4; // [esp+0h] [ebp-1Ch]
  CIOSocket::CIOTimer *v5; // [esp+4h] [ebp-18h]
  CIOObject *v6; // [esp+8h] [ebp-14h]
  int i; // [esp+Ch] [ebp-10h]
  int dwMilliseconds; // [esp+10h] [ebp-Ch]
  DWORD v9; // [esp+14h] [ebp-8h]
  DWORD v10; // [esp+18h] [ebp-4h]

  while ( 1 )
  {
    v9 = GetTickCount();
    dwMilliseconds = dword_4E0FD0 - v9;
    if ( (int)(dword_4E0FD0 - v9) <= 0 )
    {
      CIOCriticalSection::Enter(v2);
      v5 = sub_424D50(&unk_4E100C.c);
      v6 = v5->m_pObject;
      for ( i = v5->m_nId; ; i = v5->m_nId )
      {
        std::priority_queue<CIOSocket::CIOTimer>::pop(&unk_4E100C);
        v6->OnTimerCallback(v6, i);
        *v5 = *sub_424D50(&unk_4E100C.c);
        dwMilliseconds = v5->m_dwTime - v9;
        if ( dwMilliseconds > 0 )
          break;
        v6 = v5->m_pObject;
      }
      dword_4E0FD0 = v5->m_dwTime;
      CIOCriticalSection::Leave(v3);
    }
    v10 = WaitForMultipleObjects(nCount, Handles, 0, dwMilliseconds);
    if ( dword_4E0FD8 )
      break;
    if ( v10 < nCount )
      (*(void (__thiscall **)(int))(*(_DWORD *)dword_4E0DD0[v10] + 16))(dword_4E0DD0[v10]);
  }
  CIOCriticalSection::Enter(v2);
  while ( !sub_424D30(&unk_4E100C) )
  {
    v4 = sub_424D50(&unk_4E100C.c)->m_pObject;
    CIOObject::Release(v4, &v4->m_nTimerRef);
    std::priority_queue<CIOSocket::CIOTimer>::pop(&unk_4E100C);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v4);
  CIOObject::PostObject(&unk_4E1020, nThread - 1);
  WaitForSingleObject(handle, 0xFFFFFFFF);
  CloseHandle(handle);
  return 0;
}
// 423D39: variable 'v2' is possibly undefined
// 423DCA: variable 'v3' is possibly undefined
// 423E44: variable 'v4' is possibly undefined
// 4E0FD0: using guessed type int dword_4E0FD0;

//----- (00423EC0) --------------------------------------------------------
void __stdcall __noreturn CIOSocket::IOThread(void *arglist)
{
  HANDLE v1; // eax
  unsigned __int32 CompletionKey; // [esp+0h] [ebp-10h] BYREF
  BOOL v3; // [esp+4h] [ebp-Ch]
  DWORD NumberOfBytesTransferred; // [esp+8h] [ebp-8h] BYREF
  LPOVERLAPPED Overlapped; // [esp+Ch] [ebp-4h] BYREF

  v1 = GetCurrentThread();
  SetThreadIdealProcessor(v1, 0x20u);
  while ( 1 )
  {
    v3 = GetQueuedCompletionStatus(
           ExistingCompletionPort,
           &NumberOfBytesTransferred,
           &CompletionKey,
           &Overlapped,
           0xFFFFFFFF);
    InterlockedIncrement(&dword_4E0FDC);
    (*(void (__thiscall **)(unsigned __int32, BOOL, DWORD, LPOVERLAPPED))(*(_DWORD *)CompletionKey + 20))(
      CompletionKey,
      v3,
      NumberOfBytesTransferred,
      Overlapped);
    InterlockedDecrement(&dword_4E0FDC);
  }
}

//----- (00423F30) --------------------------------------------------------
int __stdcall CIOSocket::DumpStack()
{
  int result; // eax

  CIOException::DumpStack(nThread, hThread, (unsigned int *)nThreadId);
  sub_422F10();
  return result;
}

//----- (00423F60) --------------------------------------------------------
int __stdcall `vector constructor iterator'(void *__t, unsigned int __s, int __n, void *(__thiscall *__f)(void *))
{
  int result; // eax

  while ( 1 )
  {
    result = --__n;
    if ( __n < 0 )
      break;
    __f(__t);
    __t = (char *)__t + __s;
  }
  return result;
}

//----- (00423F90) --------------------------------------------------------
CIOBuffer *__cdecl CIOBuffer::Alloc()
{
  char v0; // al
  CIOBuffer *v2; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  v0 = InterlockedIncrement(&dword_4D5B84);
  v3 = 8 * (v0 & 0xF) + 5115952;
  CIOSpinLock::Enter((CIOSpinLock *)(8 * (v0 & 0xF) + 5115956));
  v2 = *(CIOBuffer **)v3;
  if ( *(_DWORD *)v3 )
  {
    *(_DWORD *)v3 = v2->m_pNext;
    sub_401F30((volatile LONG *)(v3 + 4));
  }
  else
  {
    sub_401F30((volatile LONG *)(v3 + 4));
    v2 = (CIOBuffer *)sub_401000(0x1F4Cu);
  }
  v2->m_dwSize = 0;
  v2->m_nRef = 1;
  v2->m_pNext = 0;
  return v2;
}

//----- (00424040) --------------------------------------------------------
LONG __thiscall CIOBuffer::Free(CIOBuffer *this)
{
  char v1; // al
  int v4; // [esp+4h] [ebp-4h]

  v1 = InterlockedDecrement(&dword_4E0FE4);
  v4 = 8 * (v1 & 0xF) + 5115952;
  CIOSpinLock::Enter((CIOSpinLock *)(8 * (v1 & 0xF) + 5115956));
  this->m_pNext = *(CIOBuffer **)v4;
  *(_DWORD *)v4 = this;
  return sub_401F30((volatile LONG *)(v4 + 4));
}

//----- (004240A0) --------------------------------------------------------
int __cdecl CIOBuffer::FreeAll()
{
  int result; // eax
  _DWORD *v1; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 16; ++i )
  {
    CIOSpinLock::Enter((CIOSpinLock *)(8 * i + 5115956));
    while ( 1 )
    {
      v1 = (_DWORD *)_t[2 * i];
      if ( !v1 )
        break;
      _t[2 * i] = v1[2002];
      sub_401020(v1);
    }
    sub_401F30((volatile LONG *)(8 * i + 5115956));
    result = i + 1;
  }
  return result;
}

//----- (00424120) --------------------------------------------------------
_DWORD *__thiscall CIOSocket::CIOSocket(_DWORD *this, int a2)
{
  CIOObject::CIOObject((CIOObject *)this);
  *this = &off_4B6624;
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(this + 5));
  this[4] = a2;
  if ( this[4] != -1 )
    sub_4010D0((int)this);
  memset(this + 13, 0, 0x14u);
  memset(this + 18, 0, 0x14u);
  this[23] = CIOBuffer::Alloc();
  this[26] = 0;
  this[25] = 0;
  this[24] = 0;
  return this;
}
// 4B6624: using guessed type int (__stdcall *off_4B6624)(int);

//----- (004241C0) --------------------------------------------------------
void __thiscall sub_4241C0(void *this, char a2)
{
  CIOSocket::_CIOSocket((CIOBuffer **)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
}

//----- (004241F0) --------------------------------------------------------
void __thiscall CIOSocket::_CIOSocket(CIOBuffer **a1)
{
  CIOBuffer *v2; // [esp+4h] [ebp-4h]

  *a1 = (CIOBuffer *)&off_4B6624;
  CIOBuffer::Release(a1[23]);
  while ( a1[24] )
  {
    v2 = a1[24];
    a1[24] = v2->m_pNext;
    CIOBuffer::Free(v2);
  }
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 5));
  std::locale::facet::~facet((std::locale::facet *)a1);
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);
// 4B6624: using guessed type int (__stdcall *off_4B6624)(int);

//----- (00424260) --------------------------------------------------------
void __thiscall CIOSocket::WriteCallback(CIOSocket *this)
{
  int *v1; // [esp+0h] [ebp-Ch]
  int *v2; // [esp+0h] [ebp-Ch]
  char optval[2]; // [esp+4h] [ebp-8h] BYREF
  __int16 v4; // [esp+6h] [ebp-6h]
  SOCKET s; // [esp+8h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  s = InterlockedExchange(v1 + 4, -1);
  CIOCriticalSection::Leave((CIOCriticalSection *)v1);
  if ( s != -1 )
  {
    (*(void (__thiscall **)(int *))(*v2 + 28))(v2);
    *(_WORD *)optval = 1;
    v4 = 0;
    setsockopt(s, 0xFFFF, 128, optval, 4);
    closesocket(s);
    sub_401DE0(v2);
  }
}
// 42427C: variable 'v1' is possibly undefined
// 42429A: variable 'v2' is possibly undefined

//----- (004242E0) --------------------------------------------------------
void __thiscall CIOSocket::GracefulClose(CIOSocket *this)
{
  int *v1; // [esp+0h] [ebp-8h]
  int *v2; // [esp+0h] [ebp-8h]
  LONG s; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  s = InterlockedExchange(v1 + 4, -1);
  CIOCriticalSection::Leave((CIOCriticalSection *)v1);
  if ( s != -1 )
  {
    (*(void (__thiscall **)(int *))(*v2 + 28))(v2);
    closesocket(s);
    sub_401DE0(v2);
  }
}
// 4242FC: variable 'v1' is possibly undefined
// 42431A: variable 'v2' is possibly undefined

//----- (00424340) --------------------------------------------------------
void __thiscall CIOSocket::OnIOCallback(CIOSocket *this, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  if ( bSuccess )
  {
    if ( lpOverlapped == &this->m_overlappedWrite )
    {
      CIOSocket::WriteCallback(this, dwTransferred);
      sub_401DE0((int *)this);
    }
    else if ( lpOverlapped == &this->m_overlappedRead )
    {
      CIOSocket::ReadCallback(this, dwTransferred);
      sub_401DE0((int *)this);
    }
    else
    {
      this->OnTimer(this, dwTransferred);
      CIOObject::Release(this, &this->m_nTimerRef);
    }
  }
  else
  {
    if ( lpOverlapped == &this->m_overlappedRead )
      CIOSocket::WriteCallback(this);
    sub_401DE0((int *)this);
  }
}

//----- (004243D0) --------------------------------------------------------
void __thiscall sub_4243D0(CIOSocket *this)
{
  CIOSocket::Read(this, 0);
}

//----- (004243F0) --------------------------------------------------------
void __thiscall CIOSocket::ReadCallback(CIOSocket *this, unsigned int dwTransferred)
{
  if ( dwTransferred )
  {
    *(_DWORD *)(*((_DWORD *)this + 23) + 8000) += dwTransferred;
    (*(void (__thiscall **)(CIOSocket *))(*(_DWORD *)this + 32))(this);
  }
  else
  {
    CIOSocket::WriteCallback(this);
  }
}

//----- (00424440) --------------------------------------------------------
void __thiscall CIOSocket::Read(CIOSocket *this, unsigned int dwLeft)
{
  CIOSocket *v3; // [esp+0h] [ebp-1Ch]
  CIOSocket *v4; // [esp+0h] [ebp-1Ch]
  DWORD v5; // [esp+4h] [ebp-18h]
  CIOBuffer *v6; // [esp+8h] [ebp-14h]
  DWORD NumberOfBytesRecvd; // [esp+Ch] [ebp-10h] BYREF
  struct _WSABUF Buffers; // [esp+10h] [ebp-Ch] BYREF
  DWORD Flags; // [esp+18h] [ebp-4h] BYREF

  this->m_pReadBuf->m_dwSize -= dwLeft;
  if ( this->m_pReadBuf->m_nRef == 1 )
  {
    memcpy_0(this->m_pReadBuf, &this->m_pReadBuf->m_buffer[this->m_pReadBuf->m_dwSize], dwLeft);
  }
  else
  {
    v6 = CIOBuffer::Alloc();
    memcpy(v6, &this->m_pReadBuf->m_buffer[this->m_pReadBuf->m_dwSize], dwLeft);
    CIOBuffer::Release(this->m_pReadBuf);
    this->m_pReadBuf = v6;
  }
  this->m_pReadBuf->m_dwSize = dwLeft;
  sub_4010D0((int)this);
  Buffers.len = 8000 - this->m_pReadBuf->m_dwSize;
  Buffers.buf = &this->m_pReadBuf->m_buffer[this->m_pReadBuf->m_dwSize];
  Flags = 0;
  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  if ( !WSARecv(v3->m_hSocket, &Buffers, 1u, &NumberOfBytesRecvd, &Flags, &v3->m_overlappedRead, 0)
    || GetLastError() == 997 )
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)v3);
  }
  else
  {
    v5 = GetLastError();
    CIOCriticalSection::Leave((CIOCriticalSection *)v3);
    if ( v5 != 10038 && v5 != 10054 && v5 != 10053 && v5 != 10058 )
      LOG_ERR("CIOSocket::Read %x(%x) err = %d", v4->m_hSocket, v4, v5);
    CIOSocket::WriteCallback(v4);
    sub_401DE0((int *)v4);
  }
}
// 424546: variable 'v3' is possibly undefined
// 4245A4: variable 'v4' is possibly undefined

//----- (004245E0) --------------------------------------------------------
void __thiscall CIOSocket::WriteCallback(CIOSocket *this, unsigned int dwTransferred)
{
  int *v2; // [esp+0h] [ebp-18h]
  int *v3; // [esp+0h] [ebp-18h]
  DWORD v4; // [esp+4h] [ebp-14h]
  struct _WSABUF Buffers; // [esp+8h] [ebp-10h] BYREF
  DWORD NumberOfBytesSent; // [esp+10h] [ebp-8h] BYREF
  CIOBuffer *v7; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  if ( dwTransferred == *(_DWORD *)(v2[24] + 8000) )
  {
    v2[26] -= *(_DWORD *)(v2[24] + 8000);
    v7 = (CIOBuffer *)v2[24];
    v2[24] = *(_DWORD *)(v2[24] + 8008);
    if ( v2[24] )
    {
      sub_4010D0((int)v2);
      Buffers.len = *(_DWORD *)(v2[24] + 8000);
      Buffers.buf = (char *)v2[24];
      if ( !WSASend(v2[4], &Buffers, 1u, &NumberOfBytesSent, 0, (LPWSAOVERLAPPED)(v2 + 18), 0) || GetLastError() == 997 )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)v2);
      }
      else
      {
        v4 = GetLastError();
        CIOCriticalSection::Leave((CIOCriticalSection *)v2);
        if ( v4 != 10038 && v4 != 10054 && v4 != 10053 && v4 != 10058 )
          LOG_ERR("CIOSocket::WriteCallback %x(%x) err=%d", v3[4], v3, v4);
        sub_401DE0(v3);
      }
    }
    else
    {
      v2[25] = 0;
      CIOCriticalSection::Leave((CIOCriticalSection *)v2);
    }
    CIOBuffer::Free(v7);
  }
  else
  {
    LOG_ERR("different write count %x(%x) %d != %d", v2[4], v2, dwTransferred, *(_DWORD *)(v2[24] + 8000));
    CIOCriticalSection::Leave((CIOCriticalSection *)v2);
  }
}
// 4245F7: variable 'v2' is possibly undefined
// 424714: variable 'v3' is possibly undefined

//----- (00424760) --------------------------------------------------------
void __thiscall CIOSocket::Write(CIOSocket *this, CIOBuffer *pBuffer)
{
  int *v3; // [esp+0h] [ebp-14h]
  int *v4; // [esp+0h] [ebp-14h]
  DWORD v5; // [esp+4h] [ebp-10h]
  struct _WSABUF Buffers; // [esp+8h] [ebp-Ch] BYREF
  DWORD NumberOfBytesSent; // [esp+10h] [ebp-4h] BYREF

  if ( pBuffer->m_dwSize )
  {
    if ( pBuffer->m_dwSize > 0x1F40 )
      EBREAK((int)pBuffer);
    CIOCriticalSection::Enter((CIOCriticalSection *)this);
    v3[26] += pBuffer->m_dwSize;
    if ( v3[25] )
    {
      if ( v3[24] == v3[25] || pBuffer->m_dwSize + *(_DWORD *)(v3[25] + 8000) > 0x1F40 )
      {
        *(_DWORD *)(v3[25] + 8008) = pBuffer;
        v3[25] = (int)pBuffer;
        CIOCriticalSection::Leave((CIOCriticalSection *)v3);
      }
      else
      {
        memcpy((void *)(*(_DWORD *)(v3[25] + 8000) + v3[25]), pBuffer, pBuffer->m_dwSize);
        *(_DWORD *)(v3[25] + 8000) += pBuffer->m_dwSize;
        CIOCriticalSection::Leave((CIOCriticalSection *)v3);
        CIOBuffer::Free(pBuffer);
      }
    }
    else
    {
      v3[25] = (int)pBuffer;
      v3[24] = (int)pBuffer;
      sub_4010D0((int)v3);
      Buffers.len = pBuffer->m_dwSize;
      Buffers.buf = (char *)pBuffer;
      if ( !WSASend(v3[4], &Buffers, 1u, &NumberOfBytesSent, 0, (LPWSAOVERLAPPED)(v3 + 18), 0) || GetLastError() == 997 )
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)v3);
      }
      else
      {
        v5 = GetLastError();
        CIOCriticalSection::Leave((CIOCriticalSection *)v3);
        if ( v5 != 10038 && v5 != 10054 && v5 != 10053 && v5 != 10058 )
          LOG_ERR("CIOSocket::Write %x(%x) err=%d", v4[4], v4, v5);
        sub_401DE0(v4);
      }
    }
  }
  else
  {
    CIOBuffer::Free(pBuffer);
  }
}
// 4247A4: variable 'v3' is possibly undefined
// 424865: variable 'v4' is possibly undefined

//----- (00424950) --------------------------------------------------------
void __thiscall CIOServer::CIOServer(CIOServer *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_4B66D8;
  *((_DWORD *)this + 4) = -1;
  *((_DWORD *)this + 5) = 0;
}
// 4B66D8: using guessed type int (__stdcall *off_4B66D8)(int);

//----- (00424990) --------------------------------------------------------
CWin32FileIO *__thiscall sub_424990(CWin32FileIO *this, char a2)
{
  CAnger::~CAnger(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004249C0) --------------------------------------------------------
void __thiscall CAnger::~CAnger(CWin32FileIO *this)
{
  *(_DWORD *)this = &off_4B66D8;
  CIOServer::Close(this);
  std::locale::facet::~facet(this);
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);
// 4B66D8: using guessed type int (__stdcall *off_4B66D8)(int);

//----- (004249F0) --------------------------------------------------------
CIOServer *__thiscall CIOServer::Close(CIOServer *this)
{
  CIOServer *result; // eax

  result = this;
  if ( *((_DWORD *)this + 4) != -1 )
  {
    closesocket(*((_DWORD *)this + 4));
    result = this;
    *((_DWORD *)this + 4) = -1;
  }
  if ( *((_DWORD *)this + 5) )
  {
    result = (CIOServer *)WSACloseEvent(*((HANDLE *)this + 5));
    *((_DWORD *)this + 5) = 0;
  }
  return result;
}

//----- (00424A40) --------------------------------------------------------
int __thiscall CIOObject::Release(CIOServer *this, int nPort)
{
  int v2; // eax
  int v4; // eax
  int v5; // eax
  struct sockaddr name; // [esp+4h] [ebp-14h] BYREF
  int v8; // [esp+14h] [ebp-4h]

  v8 = dword_4D9830;
  *((_DWORD *)this + 4) = socket(2, 1, 0);
  if ( *((_DWORD *)this + 4) == -1 )
  {
    v2 = WSAGetLastError();
    LOG_ERR("socket error %d", v2);
    return 0;
  }
  name.sa_family = 2;
  *(_DWORD *)&name.sa_data[2] = htonl(0);
  *(_WORD *)name.sa_data = htons(nPort);
  if ( bind(*((_DWORD *)this + 4), &name, 16) )
  {
    v4 = WSAGetLastError();
    LOG_ERR("bind error %d", v4);
  }
  else if ( listen(*((_DWORD *)this + 4), 5) )
  {
    v5 = WSAGetLastError();
    LOG_ERR("listen error %d", v5);
  }
  else
  {
    *((_DWORD *)this + 5) = WSACreateEvent();
    WSAEventSelect(*((_DWORD *)this + 4), *((HANDLE *)this + 5), 8);
    if ( CIOObject::RegisterWait(this, *((void **)this + 5)) )
      return 1;
    LOG_ERR("RegisterWait error on port %d", nPort);
  }
  CIOServer::Close(this);
  return 0;
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00424B70) --------------------------------------------------------
BOOL __thiscall CIOServer::OnWaitCallback(CIOServer *this)
{
  WSAResetEvent(this->m_hAcceptEvent);
  return PostQueuedCompletionStatus(ExistingCompletionPort, 0, (ULONG_PTR)this, 0);
}

//----- (00424BA0) --------------------------------------------------------
int __thiscall CIOServer::Stop(CIOServer *this)
{
  SOCKET s; // [esp+4h] [ebp-4h]

  s = *((_DWORD *)this + 4);
  *((_DWORD *)this + 4) = -1;
  return closesocket(s);
}

//----- (00424BD0) --------------------------------------------------------
void __thiscall std::priority_queue<CIOSocket::CIOTimer>::top(CIOServer *this, int bSuccess, unsigned int dwTransferred, _OVERLAPPED *lpOverlapped)
{
  int v4; // eax
  struct sockaddr addr; // [esp+4h] [ebp-20h] BYREF
  int v7; // [esp+14h] [ebp-10h]
  CIOSocket *v8; // [esp+18h] [ebp-Ch]
  int addrlen; // [esp+1Ch] [ebp-8h] BYREF
  SOCKET s; // [esp+20h] [ebp-4h]

  v7 = dword_4D9830;
  addrlen = 16;
  s = accept(this->m_hSocket, &addr, &addrlen);
  if ( s == -1 )
  {
    if ( WSAGetLastError() != 10035 && this->m_hSocket != -1 )
    {
      v4 = WSAGetLastError();
      LOG_ERR("accept error: %d", v4);
    }
  }
  else
  {
    v8 = this->CreateSocket(this, s, &addr);
    if ( v8 )
    {
      CIOSocket::Initialize(v8);
      sub_401DE0((int *)v8);
    }
    else
    {
      closesocket(s);
    }
  }
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00424C80) --------------------------------------------------------
void __thiscall CIOSocket::Initialize(CIOSocket *this)
{
  char v1; // al
  char optval[4]; // [esp+4h] [ebp-4h] BYREF

  if ( CreateIoCompletionPort((HANDLE)this->m_hSocket, ExistingCompletionPort, (ULONG_PTR)this, 0) )
  {
    *(_DWORD *)optval = 0;
    setsockopt(this->m_hSocket, 0xFFFF, 4098, optval, 4);
    *(_DWORD *)optval = 0;
    setsockopt(this->m_hSocket, 0xFFFF, 4097, optval, 4);
    this->OnCreate(this);
  }
  else
  {
    v1 = GetLastError();
    ELOG("CreateIoCompletionPort: %d %x %x\n", v1);
    CIOSocket::WriteCallback(this);
  }
}

//----- (00424D30) --------------------------------------------------------
BOOL __thiscall sub_424D30(void *this)
{
  return sub_445B60((std::vector<CIOSocket::CIOTimer> *)this);
}

//----- (00424D50) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall sub_424D50(std::vector<CIOSocket::CIOTimer> *this)
{
  return std::vector<CIOSocket::CIOTimer>::front(this);
}

//----- (00424D70) --------------------------------------------------------
int *__thiscall std::priority_queue<CIOSocket::CIOTimer>::push(std::priority_queue<CIOSocket::CIOTimer> *this, const CIOSocket::CIOTimer *_Pred)
{
  int *v2; // eax
  int v4; // [esp-8h] [ebp-14h]
  char v6[4]; // [esp+4h] [ebp-8h] BYREF
  char v7[4]; // [esp+8h] [ebp-4h] BYREF

  sub_424E30((int)this, (int)_Pred);
  v4 = *(_DWORD *)sub_445B40(this, (int)v7);
  v2 = (int *)sub_430C20(this, (int)v6);
  return std::push_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(*v2, v4);
}

//----- (00424DC0) --------------------------------------------------------
int __thiscall std::priority_queue<CIOSocket::CIOTimer>::pop(std::priority_queue<CIOSocket::CIOTimer> *this)
{
  int *v1; // eax
  int v3; // [esp-8h] [ebp-14h]
  char v5[4]; // [esp+4h] [ebp-8h] BYREF
  char v6[4]; // [esp+8h] [ebp-4h] BYREF

  v3 = *(_DWORD *)sub_445B40(this, (int)v6);
  v1 = (int *)sub_430C20(this, (int)v5);
  std::pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(*v1, v3);
  return std::vector<CIOSocket::CIOTimer>::pop_back(this);
}

//----- (00424E10) --------------------------------------------------------
CIOSocket::CIOTimer *__thiscall std::vector<CIOSocket::CIOTimer>::front(std::vector<CIOSocket::CIOTimer> *this)
{
  void *v1; // eax
  char v3[4]; // [esp+4h] [ebp-4h] BYREF

  v1 = (void *)sub_430C20(this, (int)v3);
  return (CIOSocket::CIOTimer *)sub_420010(v1);
}

//----- (00424E30) --------------------------------------------------------
char *__thiscall sub_424E30(int this, int a2)
{
  unsigned int v2; // esi
  char *result; // eax
  int *v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
  if ( v2 >= std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (int *)sub_445B40((_DWORD *)this, (int)v7);
    result = (char *)sub_424EF0((std::vector<CIOSocket::CIOTimer> *)this, (int)v6, *v4, a2);
  }
  else
  {
    result = std::vector<CIOSocket::CIOTimer>::_Xlen(
               (std::vector<CIOSocket::CIOTimer> *)this,
               *(char **)(this + 8),
               1,
               a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (00424EA0) --------------------------------------------------------
int __thiscall std::vector<CIOSocket::CIOTimer>::pop_back(std::vector<CIOSocket::CIOTimer> *this)
{
  int result; // eax

  result = sub_445B60(this);
  if ( !(_BYTE)result )
  {
    std::vector<IPAddrMask>::_Destroy(
      this,
      (CIOSocket::CIOTimer *)(*((_DWORD *)this + 2) - 12),
      *((CIOSocket::CIOTimer **)this + 2));
    result = *((_DWORD *)this + 2) - 12;
    *((_DWORD *)this + 2) = result;
  }
  return result;
}

//----- (00424EF0) --------------------------------------------------------
int __thiscall sub_424EF0(std::vector<CIOSocket::CIOTimer> *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CIOSocket::CIOTimer>::size(this) )
  {
    v4 = (_DWORD *)sub_430C20(this, (int)v11);
    v8 = sub_431D50(&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_424FA0((int)this, (CIOSocket::CIOTimer *)a3, 1u, (int *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_446FA0(v5, (_DWORD *)a2, v7);
  return a2;
}

//----- (00424F70) --------------------------------------------------------
int __thiscall std::vector<IPAddrMask>::_Destroy(std::vector<CIOSocket::CIOTimer> *this, CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last)
{
  return std::_Destroy_range<IPAddrMask>(_First, _Last);
}

//----- (00424FA0) --------------------------------------------------------
void __thiscall sub_424FA0(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4)
{
  unsigned int v4; // esi
  char *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-24h]
  CIOSocket::CIOTimer *_Dest; // [esp+Ch] [ebp-1Ch]
  CMemory **_First; // [esp+10h] [ebp-18h]
  char *_Last; // [esp+14h] [ebp-14h]
  unsigned int v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+18h] [ebp-10h]
  CIOSocket::CIOTimer _Val; // [esp+1Ch] [ebp-Ch] BYREF
  int v14; // [esp+34h] [ebp+Ch]

  _Val.m_dwTime = *a4;
  _Val.m_pObject = (CIOObject *)a4[1];
  _Val.m_nId = a4[2];
  v11 = std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this);
  if ( a3 )
  {
    v4 = sub_446800((std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *)this);
    if ( v4 - std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) / 12 >= a3 )
        {
          _Dest = *(CIOSocket::CIOTimer **)(this + 8);
          *(_DWORD *)(this + 8) = sub_4474B0((int)&_Dest[-a3], (int)_Dest, _Dest);
          std::copy_backward<IPAddrMask *,IPAddrMask *>(a2, &_Dest[-a3], _Dest);
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(a2, &a2[a3], &_Val);
        }
        else
        {
          sub_4474B0((int)a2, *(_DWORD *)(this + 8), &a2[a3]);
          std::vector<CIOSocket::CIOTimer>::_Xlen(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(char **)(this + 8),
            a3 - (*(_DWORD *)(this + 8) - (int)a2) / 12,
            (int)&_Val);
          *(_DWORD *)(this + 8) += 12 * a3;
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)(*(_DWORD *)(this + 8) - 12 * a3),
            &_Val);
        }
      }
      else
      {
        if ( sub_446800((std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *)this)
           - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
          v12 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        _First = sub_446B40(v12);
        v5 = sub_4474B0(*(_DWORD *)(this + 4), (int)a2, _First);
        _Last = std::vector<CIOSocket::CIOTimer>::_Xlen((std::vector<CIOSocket::CIOTimer> *)this, v5, a3, (int)&_Val);
        sub_4474B0((int)a2, *(_DWORD *)(this + 8), _Last);
        v14 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          std::vector<IPAddrMask>::_Destroy(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 4),
            *(CIOSocket::CIOTimer **)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) / 12);
        }
        *(_DWORD *)(this + 12) = &_First[3 * v12];
        *(_DWORD *)(this + 8) = &_First[3 * v14];
        *(_DWORD *)(this + 4) = _First;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (00425280) --------------------------------------------------------
int __thiscall sub_425280(_DWORD *this, _DWORD *a2)
{
  return (*this - *a2) / 12;
}

//----- (004252A0) --------------------------------------------------------
int *__cdecl std::push_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(int a1, int a2)
{
  int *result; // eax
  int *v3; // eax

  result = (int *)std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                    (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
                    (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
  if ( (_BYTE)result )
  {
    sub_4253C0();
    sub_4253C0();
    v3 = sub_4253A0(&a2);
    result = std::_Push_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
               a1,
               *v3);
  }
  return result;
}

//----- (004252F0) --------------------------------------------------------
int __cdecl std::pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,std::less<CIOSocket::CIOTimer>>(int a1, int a2)
{
  int result; // eax

  result = sub_431D50(&a2, &a1);
  if ( result > 1 )
  {
    sub_4253C0();
    result = (int)std::_Pop_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
                    a1,
                    a2);
  }
  return result;
}

//----- (00425330) --------------------------------------------------------
void *__cdecl std::_Uninitialized_fill_n<IPAddrMask *,unsigned int,IPAddrMask,std::allocator<IPAddrMask>>(void *a1, int a2, int a3)
{
  unknown_libname_6(&a1, &a1);
  return sub_431E90(a1, a2, a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (00425370) --------------------------------------------------------
char *__cdecl std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, const CIOSocket::CIOTimer *_Val)
{
  char *result; // eax

  while ( _First != _Last )
  {
    *(_DWORD *)_First = *(_DWORD *)_Val;
    *((_DWORD *)_First + 1) = *((_DWORD *)_Val + 1);
    *((_DWORD *)_First + 2) = *((_DWORD *)_Val + 2);
    result = (char *)_First + 12;
    _First = (CIOSocket::CIOTimer *)((char *)_First + 12);
  }
  return result;
}

//----- (004253A0) --------------------------------------------------------
_DWORD *__thiscall sub_4253A0(_DWORD *this)
{
  *this -= 12;
  return this;
}

//----- (004253C0) --------------------------------------------------------
int sub_4253C0()
{
  return 0;
}

//----- (004253D0) --------------------------------------------------------
int *__cdecl std::_Push_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2)
{
  int *result; // eax
  int *v3; // eax
  int *_Hole; // [esp+Ch] [ebp-4h]

  result = (int *)sub_431D50(&a2, &a1);
  _Hole = result;
  if ( (int)result > 0 )
  {
    v3 = (int *)sub_420010(&a2);
    result = std::_Push_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
               a1,
               (int)_Hole,
               0,
               *v3,
               v3[1],
               v3[2]);
  }
  return result;
}

//----- (00425440) --------------------------------------------------------
int *__cdecl std::_Pop_heap_0<std::vector<CIOSocket::CIOTimer>::iterator,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2)
{
  std::vector<CIOSocket::CIOTimer>::iterator *v2; // eax
  int *v3; // eax
  int *v4; // eax
  CIOSocket::CIOTimer *v6; // [esp-18h] [ebp-30h]
  int v7; // [esp-14h] [ebp-2Ch]
  int v8; // [esp-10h] [ebp-28h]
  int v9; // [esp-Ch] [ebp-24h]
  std::vector<CIOSocket::CIOTimer>::iterator v10; // [esp+0h] [ebp-18h] BYREF
  std::vector<CIOSocket::CIOTimer>::iterator v11; // [esp+4h] [ebp-14h] BYREF
  std::vector<CIOSocket::CIOTimer>::iterator result; // [esp+8h] [ebp-10h] BYREF
  int v13; // [esp+Ch] [ebp-Ch]
  int v14; // [esp+10h] [ebp-8h]
  int v15; // [esp+14h] [ebp-4h]

  v2 = std::vector<IPAddrMask>::iterator::operator+((std::vector<CIOSocket::CIOTimer>::iterator *)&a2, &result, 1);
  v3 = (int *)sub_420010(v2);
  v13 = *v3;
  v14 = v3[1];
  v15 = v3[2];
  sub_4253C0();
  v7 = v13;
  v8 = v14;
  v9 = v15;
  v6 = std::vector<IPAddrMask>::iterator::operator+((std::vector<CIOSocket::CIOTimer>::iterator *)&a2, &v11, 1)->_Myptr;
  v4 = (int *)std::vector<IPAddrMask>::iterator::operator+((std::vector<CIOSocket::CIOTimer>::iterator *)&a2, &v10, 1);
  return std::_Pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
           a1,
           *v4,
           (int)v6,
           v7,
           v8,
           v9);
}

//----- (004254E0) --------------------------------------------------------
_DWORD *__cdecl std::_Copy_backward_opt<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  while ( a1 != a2 )
  {
    a2 -= 3;
    a3 -= 3;
    *a3 = *a2;
    a3[1] = a2[1];
    a3[2] = a2[2];
  }
  return a3;
}

//----- (00425520) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer>::iterator *__thiscall std::vector<IPAddrMask>::iterator::operator+(std::vector<CIOSocket::CIOTimer>::iterator *this, std::vector<CIOSocket::CIOTimer>::iterator *result, int _Off)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *(_DWORD *)this;
  *(_DWORD *)result = *sub_425550(&v4, _Off);
  return result;
}

//----- (00425550) --------------------------------------------------------
_DWORD *__thiscall sub_425550(_DWORD *this, int a1)
{
  return std::_Destroy_range<CIOSocket::CIOTimer>(this, -a1);
}

//----- (00425570) --------------------------------------------------------
int *__cdecl std::_Push_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _DWORD *v6; // eax
  int v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // esi
  _DWORD *v10; // eax
  _DWORD *v11; // eax
  _DWORD *v12; // eax
  int *result; // eax
  char v14[4]; // [esp+4h] [ebp-14h] BYREF
  char v15[4]; // [esp+8h] [ebp-10h] BYREF
  char v16[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v17[4]; // [esp+10h] [ebp-8h] BYREF
  int i; // [esp+14h] [ebp-4h]

  for ( i = (a2 - 1) / 2; a3 < a2; i = (i - 1) / 2 )
  {
    v6 = sub_446FA0(&a1, v17, i);
    v7 = sub_420010(v6);
    if ( !sub_4256A0(v7, (int)&a4) )
      break;
    v8 = sub_446FA0(&a1, v15, i);
    v9 = (_DWORD *)sub_420010(v8);
    v10 = sub_446FA0(&a1, v16, a2);
    v11 = (_DWORD *)sub_420010(v10);
    *v11 = *v9;
    v11[1] = v9[1];
    v11[2] = v9[2];
    a2 = i;
  }
  v12 = sub_446FA0(&a1, v14, a2);
  result = (int *)sub_420010(v12);
  *result = a4;
  result[1] = a5;
  result[2] = a6;
  return result;
}

//----- (00425640) --------------------------------------------------------
int *__cdecl std::_Pop_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _DWORD *v6; // esi
  _DWORD *v7; // eax
  int v8; // eax
  int v10; // [esp-10h] [ebp-14h]
  int v11; // [esp-Ch] [ebp-10h]
  int v12; // [esp-8h] [ebp-Ch]

  v6 = (_DWORD *)sub_420010(&a1);
  v7 = (_DWORD *)sub_420010(&a3);
  *v7 = *v6;
  v7[1] = v6[1];
  v7[2] = v6[2];
  v10 = a4;
  v11 = a5;
  v12 = a6;
  v8 = sub_431D50(&a2, &a1);
  return std::_Adjust_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
           a1,
           0,
           v8,
           v10,
           v11,
           v12);
}

//----- (004256A0) --------------------------------------------------------
BOOL __stdcall sub_4256A0(int a1, int a2)
{
  return sub_4256C0((_DWORD *)a1, (_DWORD *)a2);
}

//----- (004256C0) --------------------------------------------------------
BOOL __thiscall sub_4256C0(_DWORD *this, _DWORD *a2)
{
  return *this - *a2 > 0;
}

//----- (004256E0) --------------------------------------------------------
int *__cdecl std::_Adjust_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int v8; // eax
  _DWORD *v9; // eax
  _DWORD *v10; // esi
  _DWORD *v11; // eax
  _DWORD *v12; // eax
  _DWORD *v13; // eax
  _DWORD *v14; // esi
  _DWORD *v15; // eax
  _DWORD *v16; // eax
  int v18; // [esp-4h] [ebp-28h]
  char v19[4]; // [esp+4h] [ebp-20h] BYREF
  char v20[4]; // [esp+8h] [ebp-1Ch] BYREF
  char v21[4]; // [esp+Ch] [ebp-18h] BYREF
  char v22[4]; // [esp+10h] [ebp-14h] BYREF
  char v23[4]; // [esp+14h] [ebp-10h] BYREF
  char v24[4]; // [esp+18h] [ebp-Ch] BYREF
  int i; // [esp+1Ch] [ebp-8h]
  int _Top; // [esp+20h] [ebp-4h]

  _Top = a2;
  for ( i = 2 * a2 + 2; i < a3; i = 2 * i + 2 )
  {
    v6 = sub_446FA0(&a1, v24, i - 1);
    v18 = sub_420010(v6);
    v7 = sub_446FA0(&a1, v23, i);
    v8 = sub_420010(v7);
    if ( sub_4256A0(v8, v18) )
      --i;
    v9 = sub_446FA0(&a1, v21, i);
    v10 = (_DWORD *)sub_420010(v9);
    v11 = sub_446FA0(&a1, v22, a2);
    v12 = (_DWORD *)sub_420010(v11);
    *v12 = *v10;
    v12[1] = v10[1];
    v12[2] = v10[2];
    a2 = i;
  }
  if ( i == a3 )
  {
    v13 = sub_446FA0(&a1, v19, a3 - 1);
    v14 = (_DWORD *)sub_420010(v13);
    v15 = sub_446FA0(&a1, v20, a2);
    v16 = (_DWORD *)sub_420010(v15);
    *v16 = *v14;
    v16[1] = v14[1];
    v16[2] = v14[2];
    a2 = a3 - 1;
  }
  return std::_Push_heap<std::vector<CIOSocket::CIOTimer>::iterator,int,CIOSocket::CIOTimer,std::less<CIOSocket::CIOTimer>>(
           a1,
           a2,
           _Top,
           a4,
           a5,
           a6);
}

//----- (00425830) --------------------------------------------------------
void *__thiscall sub_425830(void *this)
{
  sub_425850((std::vector<CIOSocket::CIOTimer> *)this);
  return this;
}

//----- (00425850) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer> *__thiscall sub_425850(std::vector<CIOSocket::CIOTimer> *this)
{
  std::vector<CIOSocket::CIOTimer> *v2; // [esp-4h] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer> *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v2);
  sub_44F7C0(v3, (char)v2);
  std::vector<CIOSocket::CIOTimer>::_Buy(v3, 0);
  return v3;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00425880) --------------------------------------------------------
CIOObject *__thiscall sub_425880(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_4B677C;
  return this;
}
// 4B677C: using guessed type int (__stdcall *off_4B677C)(int);

//----- (004258A0) --------------------------------------------------------
Concurrency::details::_Condition_variable *__thiscall CIOBuffer::CSlot::CSlot(Concurrency::details::_Condition_variable *this)
{
  *(_DWORD *)this = 0;
  std::_Container_base::_Container_base((Concurrency::details::_Condition_variable *)((char *)this + 4));
  return this;
}
// 475860: using guessed type _DWORD __thiscall std::_Container_base::_Container_base(std::_Container_base *__hidden this);

//----- (004258D0) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer> *__thiscall sub_4258D0(void *this)
{
  return sub_445B20((std::vector<CIOSocket::CIOTimer> *)this);
}

//----- (004258F0) --------------------------------------------------------
CItem *__thiscall CItem::CItem(CItem *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B6798;
  *((_DWORD *)this + 6) = 4;
  *((_DWORD *)this + 8) = 0;
  *((_DWORD *)this + 9) = 0;
  *((_DWORD *)this + 10) = 0;
  *((_DWORD *)this + 11) = 0;
  *((_DWORD *)this + 12) = 0;
  *((_DWORD *)this + 13) = 0;
  *((_DWORD *)this + 14) = 0;
  *((_DWORD *)this + 16) = -1;
  *((_DWORD *)this + 15) = -1;
  *((_DWORD *)this + 17) = 0;
  *((_DWORD *)this + 18) = 0;
  *((_DWORD *)this + 19) = 0;
  *((_DWORD *)this + 20) = 0;
  *((_DWORD *)this + 21) = 0;
  *((_DWORD *)this + 22) = 0;
  return this;
}
// 4B6798: using guessed type int (__stdcall *off_4B6798)(int);

//----- (004259B0) --------------------------------------------------------
int __thiscall sub_4259B0(_DWORD *this, int a2)
{
  return this[13];
}

//----- (004259D0) --------------------------------------------------------
int __thiscall sub_4259D0(_DWORD *this, int a2, int a3)
{
  return this[13];
}

//----- (004259F0) --------------------------------------------------------
int __stdcall sub_4259F0(int a1, int a2, int a3, int a4)
{
  return 0;
}

//----- (00425A00) --------------------------------------------------------
void *__thiscall sub_425A00(void *this, char a2)
{
  sub_425A30((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00425A30) --------------------------------------------------------
void __thiscall sub_425A30(std::locale::facet *this)
{
  *(_DWORD *)this = &off_4B6798;
  CBase::_CBase(this);
}
// 4B6798: using guessed type int (__stdcall *off_4B6798)(int);

//----- (00425A50) --------------------------------------------------------
int __cdecl CItem::InsertInitItem(int a1)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v3[8]; // [esp+0h] [ebp-10h] BYREF
  char v4[8]; // [esp+8h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v3);
  sub_445DF0(
    (int)dword_4E10B4,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v4,
    v1);
  if ( v4[4] )
    return 1;
  LOG_ERR("CItem::InsertInitItem() Duplicate InitItem. (Code:%d)", *(_DWORD *)(a1 + 64));
  return 0;
}
// 425A73: variable 'v1' is possibly undefined
// 4E10B4: using guessed type int dword_4E10B4[3];

//----- (00425AB0) --------------------------------------------------------
int __cdecl CItem::InsertPrefix(int a1)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v3[8]; // [esp+0h] [ebp-10h] BYREF
  char v4[8]; // [esp+8h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v3);
  sub_445DF0(
    (int)dword_4E10C0,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v4,
    v1);
  if ( v4[4] )
    return 1;
  LOG_ERR("CItem::InsertPrefix() Duplicate Prefix. (Index:%d)", *(_DWORD *)(a1 + 32));
  return 0;
}
// 425AD3: variable 'v1' is possibly undefined
// 4E10C0: using guessed type int dword_4E10C0[3];

//----- (00425B10) --------------------------------------------------------
int __cdecl sub_425B10(int a1)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v3[8]; // [esp+0h] [ebp-10h] BYREF
  char v4[8]; // [esp+8h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v3);
  sub_445DF0(
    (int)dword_4E10CC,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v4,
    v1);
  if ( v4[4] )
    return 1;
  LOG_ERR("CItem::InsertItemGroup() Duplicate ItemGroup. (Index:%d)", *(_DWORD *)(a1 + 32));
  return 0;
}
// 425B33: variable 'v1' is possibly undefined

//----- (00425B70) --------------------------------------------------------
void __cdecl CItem::ReloadItemGroup()
{
  CConfig v0; // [esp+0h] [ebp-220h] BYREF
  int v1; // [esp+21Ch] [ebp-4h]

  v1 = dword_4D9830;
  if ( sub_44C960() )
  {
    sub_425C20(&v0);
    CRWLock::WriteLock(&unk_4E10D8);
    CItem::ClearItemGroup();
    if ( CObjectDB::Open((int)&v0, "Config\\ItemGroup.txt") )
    {
      CRWLock::WriteUnlock(&unk_4E10D8);
      LOG_NORMAL("<ItemGroup> reloading is completed.");
    }
    else
    {
      CItem::ClearItemGroup();
      CRWLock::WriteUnlock(&unk_4E10D8);
      LOG_ERR("<ItemGroup> reloading is failed.");
    }
    sub_425C40(&v0);
  }
  else
  {
    LOG_NORMAL("invalid server state to reload <ItemGroup>. Try later.");
  }
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00425C20) --------------------------------------------------------
CConfig *__thiscall sub_425C20(CConfig *this)
{
  CConfig::CConfig(this);
  return this;
}

//----- (00425C40) --------------------------------------------------------
void __thiscall sub_425C40(CConfig *this)
{
  sub_40BB50(this);
}

//----- (00425C60) --------------------------------------------------------
int __cdecl sub_425C60(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  char v4[4]; // [esp+4h] [ebp-4h] BYREF

  sub_44AE20(dword_4E10B4, v4, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10B4, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v4,
         v1) )
  {
    result = *(_DWORD *)(sub_420250(v4) + 4);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00425CB0) --------------------------------------------------------
int __cdecl sub_425CB0(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  char v4[4]; // [esp+4h] [ebp-4h] BYREF

  sub_44AE20(dword_4E10C0, v4, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10C0, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v4,
         v1) )
  {
    result = *(_DWORD *)(sub_420250(v4) + 4);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00425D00) --------------------------------------------------------
int __cdecl CItem::NewItem(_DWORD *a1)
{
  int result; // eax
  CMemory **v2; // eax
  CItemTransform *v3; // [esp+0h] [ebp-54h]
  _DWORD *v4; // [esp+4h] [ebp-50h]
  CItemDefense *v5; // [esp+8h] [ebp-4Ch]
  int v6; // [esp+Ch] [ebp-48h]
  _DWORD *v7; // [esp+10h] [ebp-44h]
  int v8; // [esp+14h] [ebp-40h]
  CItemWeapon *v9; // [esp+18h] [ebp-3Ch]
  _DWORD *v10; // [esp+1Ch] [ebp-38h]
  _DWORD *v11; // [esp+20h] [ebp-34h]
  CItemOrnament *v12; // [esp+24h] [ebp-30h]
  CMemory **v13; // [esp+2Ch] [ebp-28h]
  CMemory **v14; // [esp+30h] [ebp-24h]
  CMemory **v15; // [esp+38h] [ebp-1Ch]
  CMemory **v16; // [esp+3Ch] [ebp-18h]
  CMemory **v17; // [esp+40h] [ebp-14h]
  CMemory **v18; // [esp+44h] [ebp-10h]
  CMemory **v19; // [esp+48h] [ebp-Ch]
  CMemory **v20; // [esp+4Ch] [ebp-8h]
  int v21; // [esp+50h] [ebp-4h]

  if ( (a1[44] & (1 << dword_4E35B8)) == 0 )
    return 0;
  switch ( a1[17] )
  {
    case 0:
      v17 = sub_401000(0x84u);
      if ( v17 )
        v9 = CItemWeapon::CItemWeapon((CItemWeapon *)v17, (int)a1);
      else
        v9 = 0;
      v21 = (int)v9;
      goto LABEL_44;
    case 1:
      v8 = a1[18];
      if ( v8 == 20 )
      {
        v16 = sub_401000(0x7Cu);
        if ( v16 )
          v7 = sub_425F80(v16, (int)a1);
        else
          v7 = 0;
        v21 = (int)v7;
      }
      else if ( v8 == 22 )
      {
        v15 = sub_401000(0x84u);
        if ( v15 )
          v6 = CItemStandard::CItemStandard(v15, (int)a1);
        else
          v6 = 0;
        v21 = v6;
      }
      else
      {
        v2 = sub_401000(0x7Cu);
        if ( v2 )
          v5 = CItemDefense::CItemDefense((CItemDefense *)v2, (int)a1);
        else
          v5 = 0;
        v21 = (int)v5;
      }
      goto LABEL_44;
    case 2:
      v20 = sub_401000(0x5Cu);
      if ( v20 )
        v12 = CItemOrnament::CItemOrnament((CItemOrnament *)v20, (int)a1);
      else
        v12 = 0;
      v21 = (int)v12;
      goto LABEL_44;
    case 3:
      v19 = sub_401000(0x5Cu);
      if ( v19 )
        v11 = sub_42CF10(v19, (int)a1);
      else
        v11 = 0;
      v21 = (int)v11;
      goto LABEL_44;
    case 4:
      v18 = sub_401000(0x5Cu);
      if ( v18 )
        v10 = sub_42D6B0(v18, (int)a1);
      else
        v10 = 0;
      v21 = (int)v10;
      goto LABEL_44;
    case 5:
      v14 = sub_401000(0x5Cu);
      if ( v14 )
        v4 = sub_42D8D0(v14, (int)a1);
      else
        v4 = 0;
      v21 = (int)v4;
      goto LABEL_44;
    case 6:
      v13 = sub_401000(0x6Cu);
      if ( v13 )
        v3 = CItemTransform::CItemTransform((CItemTransform *)v13, (int)a1);
      else
        v3 = 0;
      v21 = (int)v3;
LABEL_44:
      result = v21;
      break;
    default:
      LOG_ERR("CItem::NewItem() Invalid Item Class(%d).", a1[17]);
      result = 0;
      break;
  }
  return result;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00425F80) --------------------------------------------------------
_DWORD *__thiscall sub_425F80(_DWORD *this, int a2)
{
  CItemDefense::CItemDefense((CItemDefense *)this, a2);
  *this = &off_4B69E0;
  return this;
}
// 4B69E0: using guessed type int (__stdcall *off_4B69E0)(int);

//----- (00425FB0) --------------------------------------------------------
BOOL __thiscall sub_425FB0(_DWORD *this)
{
  return this[24] <= 0;
}

//----- (00425FD0) --------------------------------------------------------
void *__thiscall sub_425FD0(void *this, char a2)
{
  sub_426040(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00426000) --------------------------------------------------------
int __thiscall CItemStandard::CItemStandard(_DWORD *this, int a2)
{
  CItemDefense::CItemDefense((CItemDefense *)this, a2);
  *this = &off_4B6AC0;
  this[31] = 0;
  this[32] = 0;
  return (int)this;
}
// 4B6AC0: using guessed type int (__stdcall *off_4B6AC0)(int);

//----- (00426040) --------------------------------------------------------
void __thiscall sub_426040(void *this)
{
  sub_4275C0((std::locale::facet *)this);
}

//----- (00426060) --------------------------------------------------------
int __cdecl sub_426060(int a1, _WORD **a2)
{
  int result; // eax
  _DWORD *a1a; // [esp+0h] [ebp-Ch]
  char v4[4]; // [esp+4h] [ebp-8h] BYREF
  int v5; // [esp+8h] [ebp-4h]

  *(_DWORD *)v4 = 0;
  *a2 = GetNumeric<short>(*a2, v4);
  a1a = (_DWORD *)sub_425C60(*(int *)v4);
  if ( a1a )
  {
    v5 = 0;
    v5 = CItem::NewItem(a1a);
    if ( v5 )
      (*(void (__thiscall **)(int, int, _WORD **))(*(_DWORD *)v5 + 80))(v5, a1, a2);
    else
      *a2 += 12;
    result = v5;
  }
  else
  {
    LOG_ERR("CItem::CreateItem() Invalid index(%d). PID(%d)", *(_DWORD *)v4, a1);
    *a2 += 12;
    result = 0;
  }
  return result;
}

//----- (00426110) --------------------------------------------------------
int __cdecl CItem::CreateItem(char a1, int a2, int a3, int a4)
{
  _DWORD *v5; // [esp+0h] [ebp-8h]
  int v6; // [esp+4h] [ebp-4h]

  if ( a3 <= 0 )
    return 0;
  v6 = 0;
  v5 = (_DWORD *)sub_425C60(a1);
  if ( v5 )
  {
    v6 = CItem::NewItem(v5);
    if ( v6 )
      (*(void (__thiscall **)(int, int, int, int))(*(_DWORD *)v6 + 76))(v6, a2, a3, a4);
  }
  return v6;
}

//----- (00426170) --------------------------------------------------------
int __cdecl CItem::CreateCheatItem(char a1, int a2, int a3, int a4)
{
  _DWORD *v5; // [esp+0h] [ebp-8h]
  _DWORD *v6; // [esp+4h] [ebp-4h]

  if ( a3 <= 0 )
    return 0;
  v6 = 0;
  v5 = (_DWORD *)sub_425C60(a1);
  if ( v5 )
  {
    v6 = (_DWORD *)CItem::NewItem(v5);
    if ( v6 )
    {
      (*(void (__thiscall **)(_DWORD *, int, int, int))(*v6 + 76))(v6, a2, a3, a4);
      if ( (dword_4E1174[0] & 2) == 0 )
        sub_4261F0(v6, 8);
    }
  }
  return (int)v6;
}

//----- (004261F0) --------------------------------------------------------
_DWORD *__thiscall sub_4261F0(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  result = this;
  this[12] |= a2;
  return result;
}

//----- (00426210) --------------------------------------------------------
_DWORD *__cdecl CItem::CreateOwnItem(char a1, int a2, int a3, int a4)
{
  _DWORD *v5; // [esp+0h] [ebp-8h]
  _DWORD *v6; // [esp+4h] [ebp-4h]

  if ( a3 <= 0 )
    return 0;
  v6 = 0;
  v5 = (_DWORD *)sub_425C60(a1);
  if ( v5 )
  {
    v6 = (_DWORD *)CItem::NewItem(v5);
    if ( v6 )
    {
      (*(void (__thiscall **)(_DWORD *, int, int, int))(*v6 + 76))(v6, a2, a3, a4);
      if ( (dword_4E1174[0] & 2) == 0 )
        sub_4261F0(v6, 128);
    }
  }
  return v6;
}

//----- (00426290) --------------------------------------------------------
int __cdecl CItem::CreateDropItem(char a1, int a2)
{
  int v2; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-1Ch] BYREF
  _DWORD *a1a; // [esp+4h] [ebp-18h]
  int v7; // [esp+8h] [ebp-14h] BYREF
  int v8; // [esp+Ch] [ebp-10h] BYREF
  int v9; // [esp+10h] [ebp-Ch]
  int v10; // [esp+14h] [ebp-8h] BYREF
  char v11[4]; // [esp+18h] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E10D8);
  sub_44AE20(dword_4E10CC, v11, &a1);
  v2 = sub_430C20(dword_4E10CC, (int)v5);
  if ( (unsigned __int8)unknown_libname_8(v2) )
  {
    CRWLock::ReadUnlock(&unk_4E10D8);
    return 0;
  }
  v7 = 0;
  v10 = 0;
  v8 = 0;
  v4 = sub_420250(v11);
  CItemGroup::GetItemInfo(*(void **)(v4 + 4), (int)&v7, &v10, &v8);
  CRWLock::ReadUnlock(&unk_4E10D8);
  if ( v8 <= 0 )
    return 0;
  v9 = 0;
  a1a = (_DWORD *)sub_425C60(v7);
  if ( a1a )
  {
    if ( (a2 & a1a[19]) != a2 )
      return 0;
    v9 = CItem::NewItem(a1a);
    if ( v9 )
      (*(void (__thiscall **)(int, int, int, _DWORD))(*(_DWORD *)v9 + 76))(v9, v10, v8, 0);
  }
  return v9;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E10CC: using guessed type int dword_4E10CC[3];

//----- (00426390) --------------------------------------------------------
int __cdecl CItem::CreateQuestItem(char a1)
{
  int v1; // eax
  int result; // eax
  int v3; // eax
  char v4[4]; // [esp+0h] [ebp-20h] BYREF
  _DWORD *v5; // [esp+4h] [ebp-1Ch]
  int v6; // [esp+8h] [ebp-18h] BYREF
  int v7; // [esp+Ch] [ebp-14h] BYREF
  void *v8; // [esp+10h] [ebp-10h]
  int v9; // [esp+14h] [ebp-Ch]
  int v10; // [esp+18h] [ebp-8h] BYREF
  char v11[4]; // [esp+1Ch] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E10D8);
  sub_44AE20(dword_4E10CC, v11, &a1);
  v1 = sub_430C20(dword_4E10CC, (int)v4);
  if ( (unsigned __int8)unknown_libname_8(v1) )
  {
    CRWLock::ReadUnlock(&unk_4E10D8);
    result = 0;
  }
  else
  {
    v6 = 0;
    v10 = 0;
    v7 = 0;
    v3 = sub_420250(v11);
    v8 = (void *)CItemGroup::GetFirstGroup(*(void **)(v3 + 4));
    if ( v8 )
      CGroup::GetItemInfo(v8, &v6, &v10, &v7);
    CRWLock::ReadUnlock(&unk_4E10D8);
    if ( v7 > 0 )
    {
      v9 = 0;
      v5 = (_DWORD *)sub_425C60(v6);
      if ( v5 )
      {
        v9 = CItem::NewItem(v5);
        if ( v9 )
          (*(void (__thiscall **)(int, int, int, _DWORD))(*(_DWORD *)v9 + 76))(v9, v10, v7, 0);
      }
      result = v9;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E10CC: using guessed type int dword_4E10CC[3];

//----- (00426490) --------------------------------------------------------
int __cdecl CItem::Close()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  void (__thiscall ***v3)(_DWORD, int); // [esp+Ch] [ebp-24h]
  char v4[4]; // [esp+10h] [ebp-20h] BYREF
  char v5[4]; // [esp+14h] [ebp-1Ch] BYREF
  void (__thiscall ***v6)(_DWORD, int); // [esp+18h] [ebp-18h]
  void (__thiscall ***v7)(_DWORD, int); // [esp+1Ch] [ebp-14h]
  char v8[4]; // [esp+20h] [ebp-10h] BYREF
  char v9[4]; // [esp+24h] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v10; // [esp+28h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v11; // [esp+2Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E10B4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v11);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10B4, (int)v8);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v11,
            v0) )
      break;
    v6 = *(void (__thiscall ****)(_DWORD, int))(sub_420250(&v11) + 4);
    v7 = v6;
    if ( v6 )
      (**v7)(v7, 1);
    sub_446090((int *)&v11, v9, 0);
  }
  sub_42F590(dword_4E10B4);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E10C0,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10C0, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v10,
            v1) )
      break;
    v3 = *(void (__thiscall ****)(_DWORD, int))(sub_420250(&v10) + 4);
    if ( v3 )
      (**v3)(v3, 1);
    sub_446090((int *)&v10, v5, 0);
  }
  sub_42F5F0(dword_4E10C0);
  CRWLock::WriteLock(&unk_4E10D8);
  CItem::ClearItemGroup();
  CRWLock::WriteUnlock(&unk_4E10D8);
  return (int)sub_4308F0();
}
// 4E10B4: using guessed type int dword_4E10B4[3];
// 4E10C0: using guessed type int dword_4E10C0[3];

//----- (004265B0) --------------------------------------------------------
_DWORD *CItem::ClearItemGroup()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v4[4]; // [esp+10h] [ebp-8h] BYREF
  char v5[4]; // [esp+14h] [ebp-4h] BYREF

  CItemGroup::ClearGroup();
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E10CC,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10CC, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
            v0) )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_420250(v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_446090((int *)v5, v4, 0);
  }
  return sub_42F650(dword_4E10CC);
}

//----- (00426640) --------------------------------------------------------
void __thiscall CItem::OnTimer(CIOObject *this, int a2)
{
  CIOBuffer *v3; // [esp+8h] [ebp-14h]
  int v4[2]; // [esp+Ch] [ebp-10h] BYREF
  void *v5; // [esp+14h] [ebp-8h]
  unsigned int v6; // [esp+18h] [ebp-4h]

  if ( a2 )
  {
    if ( a2 == 1 )
    {
      this[4].m_nTimerRef = 0;
      this[4].m_nGeneralRef = 0;
      this[5].__vftable = 0;
    }
  }
  else
  {
    v6 = this[4].m_nRef;
    v5 = (void *)this[3].m_nTimerRef;
    if ( v6 && !sub_40B2F0(this) )
    {
      if ( GetTickCount() < v6 )
      {
        CIOObject::AddTimer(this, 0xEA60u, 0);
      }
      else
      {
        v4[0] = this[3].m_nGeneralRef >> 5;
        v4[1] = (int)this[4].__vftable >> 5;
        if ( v5 && sub_4913E0((int)this, (int)v4) )
        {
          v3 = (CIOBuffer *)WritePacket_(0x3Bu, "d", this[1].m_nGeneralRef);
          CSMap::SendPacketInRect(v5, (int)v4, (int)v3, 25);
          CIOBuffer::Release(v3);
          ((void (__thiscall *)(CIOObject *, int))this->__vftable[3].OnIOCallback)(this, 11);
        }
      }
    }
  }
}

//----- (00426750) --------------------------------------------------------
_DWORD *__thiscall CItem::PutInfo(_DWORD *this, _DWORD *a2, int a3)
{
  _DWORD *result; // eax
  int v4; // [esp+0h] [ebp-8h]

  if ( !a3 )
    a3 = this[13];
  *a2 = PutNumeric<int>((_DWORD *)*a2, this[9]);
  *a2 = PutNumeric<short>((_WORD *)*a2, *(_WORD *)(this[10] + 64));
  if ( this[11] )
    v4 = *(_DWORD *)(this[11] + 32);
  else
    LOBYTE(v4) = 0;
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, v4);
  *a2 = PutNumeric<int>((_DWORD *)*a2, this[12]);
  result = PutNumeric<int>((_DWORD *)*a2, a3);
  *a2 = result;
  return result;
}

//----- (00426810) --------------------------------------------------------
int __thiscall sub_426810(int this, int a2, _DWORD *a3)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(this + 32) = a2;
  v5 = 0;
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 36));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, &v5);
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 48));
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 52));
  *a3 += 2;
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 84));
  *a3 += 8;
  result = sub_425CB0(v5);
  *(_DWORD *)(this + 44) = result;
  return result;
}

//----- (004268E0) --------------------------------------------------------
_DWORD *__thiscall CItem::Init(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *result; // eax
  int v5; // [esp+0h] [ebp-Ch]

  if ( !*(_DWORD *)(this[10] + 92) )
    a3 = 1;
  result = this;
  this[13] = a3;
  if ( dword_4E35B8 == 2 )
  {
    result = (_DWORD *)this[10];
    if ( result[39] )
    {
      if ( a4 < 0 )
        v5 = dword_4E1164;
      else
        v5 = a4;
      result = this;
      this[21] = v5;
    }
  }
  return result;
}
// 4E1164: using guessed type int dword_4E1164;
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00426950) --------------------------------------------------------
void __thiscall CItem::SendDelete(_DWORD *this, int a2, int a3)
{
  CPlayer::Write(a2, 59, "d", this[7]);
}

//----- (00426980) --------------------------------------------------------
void __thiscall CItem::SendCreate(_DWORD *this, int a2, int a3)
{
  CPlayer::Write(a2, 54, "wdddd", *(_DWORD *)(this[10] + 64), this[7], this[15], this[16], this[13]);
}

//----- (004269D0) --------------------------------------------------------
int __thiscall CItem::Trash(int this, int a2, int a3)
{
  CPlayer::Write(a2, 8, "db", *(_DWORD *)(this + 36), a3);
  CDBSocket::Write(
    3,
    "ddwdbddd",
    *(_DWORD *)(this + 36),
    *(_DWORD *)(this + 32),
    *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
    *(_DWORD *)(this + 52),
    a3,
    (unsigned __int8)*(_DWORD *)(this + 84) << 8,
    0,
    0);
  CBase::Delete((CItem *)this);
  return 1;
}

//----- (00426A60) --------------------------------------------------------
int __thiscall CItem::Erase(int this, int a2)
{
  if ( *(_DWORD *)(this + 36) )
    CDBSocket::Write(
      3,
      "ddwdbddd",
      *(_DWORD *)(this + 36),
      *(_DWORD *)(this + 32),
      *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
      *(_DWORD *)(this + 52),
      a2,
      (unsigned __int8)*(_DWORD *)(this + 84) << 8,
      0,
      0);
  return CBase::Delete((CItem *)this);
}

//----- (00426AD0) --------------------------------------------------------
void __thiscall CItem::IsState(CItem *this, unsigned int dwState, int a3)
{
  *((_DWORD *)this + 8) = dwState;
  *((_DWORD *)this + 9) = a3;
  CDBSocket::Write(
    6,
    "dwbbdbbdb",
    *((_DWORD *)this + 9),
    *(_DWORD *)(*((_DWORD *)this + 10) + 64),
    0,
    *((_DWORD *)this + 12),
    *((_DWORD *)this + 13),
    0,
    *((_DWORD *)this + 21),
    *((_DWORD *)this + 8),
    2);
}

//----- (00426B40) --------------------------------------------------------
void __thiscall CItem::Insert(_DWORD *this, int a2, int a3, int a4)
{
  int v5; // [esp+4h] [ebp-4h]

  v5 = this[8];
  this[8] = *(_DWORD *)(a2 + 452);
  if ( a3 == 10 )
    this[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo(this, a2, 7);
  if ( a4 )
    CDBSocket::Write(7, "dddwbd", this[9], v5, this[8], *(_DWORD *)(this[10] + 64), a3, this[13]);
  else
    CDBSocket::Write(
      6,
      "dwbddbbdb",
      this[9],
      *(_DWORD *)(this[10] + 64),
      0,
      this[12],
      this[13],
      0,
      this[21],
      this[8],
      a3);
}

//----- (00426C10) --------------------------------------------------------
int __thiscall CItem::UpdateNum(CItem *this, int a2, int a3, int a4)
{
  if ( a4 + this->m_nNum > 0 )
    return this->m_nNum;
  CPlayer::Write(a2, 9, "ddb", this->m_nIID, 0, a3);
  if ( a3 == 50 )
    CDBSocket::Write(7, "dddwbd", this->m_nIID, *(_DWORD *)(a2 + 452), 0, this->m_pInit->m_nIndex, 50, this->m_nNum);
  else
    CDBSocket::Write(
      3,
      "ddwdbddd",
      this->m_nIID,
      this->m_nPID,
      this->m_pInit->m_nIndex,
      this->m_nNum,
      a3,
      (unsigned __int8)this->m_nVer << 8,
      0,
      0);
  this->m_nNum = 0;
  CBase::Delete(this);
  return 0;
}

//----- (00426D00) --------------------------------------------------------
void __thiscall CItem::Drop(CIOObject *this, _DWORD *a2, _DWORD *a3, int a4, int a5, int a6, int a7)
{
  CIOObject_vtbl *v7; // edx
  int v9[2]; // [esp+4h] [ebp-20h] BYREF
  CIOBuffer *v10; // [esp+Ch] [ebp-18h]
  int v11[2]; // [esp+10h] [ebp-14h] BYREF
  CIOBuffer *v12; // [esp+18h] [ebp-Ch]
  int a1; // [esp+1Ch] [ebp-8h]
  CIOBuffer *v14; // [esp+20h] [ebp-4h]

  this[3].m_nTimerRef = a2[80];
  v7 = (CIOObject_vtbl *)a3[1];
  this[3].m_nGeneralRef = *a3;
  this[4].__vftable = v7;
  this[4].m_nRef = GetTickCount() + 180000;
  CIOObject::AddTimer(this, 0xEA60u, 0);
  if ( (*(int (__thiscall **)(_DWORD *))(*a2 + 60))(a2) )
  {
    a1 = (int)a2;
    if ( a5 )
    {
      CPlayer::Write(a1, 8, "db", this[2].m_nRef, 11);
      CDBSocket::Write(
        7,
        "dddwbd",
        this[2].m_nRef,
        this[2].__vftable,
        0,
        *(_DWORD *)(this[2].m_nTimerRef + 64),
        11,
        this[3].m_nRef);
    }
    else
    {
      this[2].__vftable = *(CIOObject_vtbl **)(a1 + 452);
    }
  }
  else
  {
    this[4].m_nTimerRef = a6;
    this[4].m_nGeneralRef = a7;
    CIOObject::AddTimer(this, 0x1D4C0u, 1);
  }
  if ( (*(int *)(this[2].m_nTimerRef + 64) >= 665 && *(int *)(this[2].m_nTimerRef + 64) <= 668
     || *(int *)(this[2].m_nTimerRef + 64) >= 802 && *(int *)(this[2].m_nTimerRef + 64) <= 825
     || *(int *)(this[2].m_nTimerRef + 64) >= 856 && *(int *)(this[2].m_nTimerRef + 64) <= 867
     || *(_DWORD *)(this[2].m_nTimerRef + 64) == 688)
    && abs(this[3].m_nGeneralRef - 57367) < 1000
    && abs((int)&this[4].__vftable[-379].OnWaitCallback + 3) < 1001 )
  {
    v11[0] = 1792;
    v11[1] = 284;
    v12 = WritePacket_(68, "bsw", 113, a2 + 8, *(_DWORD *)(this[2].m_nTimerRef + 64));
    CSMap::SendPacketInRect((void *)this[3].m_nTimerRef, (int)v11, (int)v12, 32);
    CIOBuffer::Release(v12);
  }
  if ( (*(int *)(this[2].m_nTimerRef + 64) >= 673 && *(int *)(this[2].m_nTimerRef + 64) <= 687
     || *(int *)(this[2].m_nTimerRef + 64) >= 826 && *(int *)(this[2].m_nTimerRef + 64) <= 855)
    && abs(this[3].m_nGeneralRef - 20284) < 1160
    && abs((int)&this[4].__vftable[-2812].OnTimer) < 1212 )
  {
    v9[0] = 634;
    v9[1] = 2109;
    v10 = WritePacket_(68, "bsw", 113, a2 + 8, *(_DWORD *)(this[2].m_nTimerRef + 64));
    CSMap::SendPacketInRect((void *)this[3].m_nTimerRef, (int)v9, (int)v10, 38);
    CIOBuffer::Release(v10);
  }
  v14 = WritePacket_(
          54,
          "wdddd",
          *(_DWORD *)(this[2].m_nTimerRef + 64),
          this[1].m_nGeneralRef,
          *a3,
          a3[1],
          this[3].m_nRef);
  CSMap::SendPacketInRect((void *)a2[80], a4, (int)v14, 25);
  CIOBuffer::Release(v14);
}

//----- (00427010) --------------------------------------------------------
int __thiscall CItem::Trade(int this, int a2, int a3, int a4)
{
  if ( *(_DWORD *)(this + 52) != a4 )
    EBREAK(this);
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 48) |= 4u;
  CPlayer::Write(a2, 8, "db", *(_DWORD *)(this + 36), a3);
  CDBSocket::Write(
    7,
    "dddwbd",
    *(_DWORD *)(this + 36),
    *(_DWORD *)(a2 + 452),
    *(_DWORD *)(this + 32),
    *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
    a3,
    *(_DWORD *)(this + 52));
  return this;
}

//----- (004270B0) --------------------------------------------------------
BOOL __thiscall CItem::CanSell(_DWORD *this, int a2)
{
  BOOL result; // eax
  BOOL v3; // [esp+0h] [ebp-Ch]
  BOOL v4; // [esp+4h] [ebp-8h]

  if ( (dword_4E1174[0] & 2) != 0 )
  {
    v4 = *(int *)(this[10] + 112) > 0 && this[13] >= a2;
    result = v4;
  }
  else
  {
    v3 = !sub_427130(this, 136) && *(int *)(this[10] + 112) > 0 && this[13] >= a2;
    result = v3;
  }
  return result;
}

//----- (00427130) --------------------------------------------------------
int __thiscall sub_427130(_DWORD *this, int a2)
{
  return a2 & this[12];
}

//----- (00427150) --------------------------------------------------------
BOOL __thiscall CItem::CanTrade(_DWORD *this, int a2, int a3, int a4)
{
  BOOL result; // eax
  BOOL v5; // [esp+0h] [ebp-Ch]
  BOOL v6; // [esp+4h] [ebp-8h]

  if ( (dword_4E1174[0] & 2) != 0 )
    return this[13] >= a2;
  if ( dword_4E35B8 == 2 && *(_DWORD *)(this[10] + 156) )
  {
    v6 = *(_DWORD *)(a3 + 60) > dword_4D6068[this[21]] && !sub_427130(this, 136) && this[13] >= a2;
    result = v6;
  }
  else
  {
    v5 = !sub_427130(this, 136) && this[13] >= a2;
    result = v5;
  }
  return result;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00427210) --------------------------------------------------------
BOOL __thiscall CItem::CanDrop(_DWORD *this, int a2, int a3)
{
  BOOL result; // eax
  BOOL v4; // [esp+0h] [ebp-Ch]
  BOOL v5; // [esp+4h] [ebp-8h]

  if ( (dword_4E1174[0] & 2) != 0 )
    return this[13] >= a2;
  if ( dword_4E35B8 == 2 && *(_DWORD *)(this[10] + 156) )
  {
    v5 = *(_DWORD *)(a3 + 60) > dword_4D6068[this[21]] && !sub_427130(this, 136) && this[13] >= a2;
    result = v5;
  }
  else
  {
    v4 = !sub_427130(this, 136) && this[13] >= a2;
    result = v4;
  }
  return result;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (004272D0) --------------------------------------------------------
int __thiscall CItem::StorageOut(_DWORD *this, int a2, int a3, int a4, int a5)
{
  this[12] &= 0xFFFFFFEF;
  CItem::SendItemInfo(this, a2, 89);
  CPlayer::_StorageOut((int *)a2, this[9], 0);
  CDBSocket::Write(12, "ddbd", this[9], this[8], 0, this[13]);
  return 1;
}

//----- (00427340) --------------------------------------------------------
void __thiscall CItem::ForcedStorageIn(_DWORD *this, int a2, int a3, char *a4, int a5)
{
  LONG v5; // eax
  int v6; // [esp-24h] [ebp-2Ch]
  int v7; // [esp-1Ch] [ebp-24h]
  int v8; // [esp-18h] [ebp-20h]
  int v9; // [esp-10h] [ebp-18h]
  char *v10; // [esp+0h] [ebp-8h]

  if ( a4 )
    v10 = a4;
  else
    v10 = &Source;
  v9 = this[21];
  v8 = this[13];
  v7 = this[12];
  v6 = *(_DWORD *)(this[10] + 64);
  v5 = CItem::NewIID();
  CDBSocket::Write(35, "bdwbddbbdds", a2, v5, v6, 0, v7, v8, 0, v9, a3, a5, v10);
}

//----- (004273B0) --------------------------------------------------------
LONG CItem::NewIID()
{
  LONG v1; // [esp+0h] [ebp-4h]

  v1 = InterlockedIncrement(&dword_4E10B0);
  if ( !v1 )
    v1 = InterlockedIncrement(&dword_4E10B0);
  return v1;
}

//----- (004273E0) --------------------------------------------------------
int __thiscall sub_4273E0(_DWORD *this, int a2)
{
  return a2 * *(_DWORD *)(this[10] + 112);
}

//----- (00427400) --------------------------------------------------------
int __thiscall CItem::SetEtc(_DWORD *this, int a2)
{
  int result; // eax

  this[20] = 0;
  result = *(_DWORD *)(a2 + 452);
  this[8] = result;
  return result;
}

//----- (00427430) --------------------------------------------------------
void __thiscall CItem::SendItemInfo(void *this, int a2, char a3)
{
  CIOBuffer *v3; // eax
  CIOBuffer *v5; // [esp+4h] [ebp-Ch]
  char *v6; // [esp+8h] [ebp-8h] BYREF
  void *Src; // [esp+Ch] [ebp-4h]

  v3 = CIOBuffer::Alloc();
  Src = v3;
  v5 = v3;
  v3->m_buffer[2] = a3;
  v6 = &v3->m_buffer[3];
  (*(void (__thiscall **)(void *, char **, _DWORD))(*(_DWORD *)this + 72))(this, &v6, 0);
  *(_WORD *)v5->m_buffer = (_WORD)v6 - (_WORD)v5;
  *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v5->m_buffer;
  CPlayer::Send(Src);
  CIOBuffer::Release((CIOBuffer *)Src);
}

//----- (004274A0) --------------------------------------------------------
void __stdcall CItem::InsertItem(int a1, int a2, int a3, int a4, int a5, int a6)
{
  CItem *item; // [esp+4h] [ebp-4h]

  item = (CItem *)CItem::CreateItem(a3, a4, a5, -1);
  if ( item )
  {
    sub_4010D0((int)item);
    if ( CPlayer::_InsertItem(a1, a2, (volatile int *)item) != 1 )
    {
      LOG_ERR("CItem::InsertItem() (PID:%d, LogType:%d, Index:%d)", *(_DWORD *)(a1 + 452), a2, a3);
      CBase::Delete(item);
    }
    sub_401DE0((int *)item);
  }
}

//----- (00427520) --------------------------------------------------------
CItemWeapon *__thiscall CItemWeapon::CItemWeapon(CItemWeapon *this, int a2)
{
  CItem::CItem(this);
  *(_DWORD *)this = &off_4B6C50;
  *((_DWORD *)this + 10) = a2;
  *((_DWORD *)this + 23) = 0;
  *((_DWORD *)this + 24) = 0;
  *((_DWORD *)this + 25) = 0;
  *((_DWORD *)this + 26) = 0;
  *((_DWORD *)this + 27) = 0;
  *((_DWORD *)this + 28) = 0;
  *((_DWORD *)this + 29) = 0;
  *((_DWORD *)this + 30) = 0;
  *((_DWORD *)this + 31) = 0;
  *((_DWORD *)this + 32) = 0;
  return this;
}
// 4B6C50: using guessed type int (__stdcall *off_4B6C50)(int);

//----- (004275C0) --------------------------------------------------------
void __thiscall sub_4275C0(std::locale::facet *this)
{
  sub_425A30(this);
}

//----- (004275E0) --------------------------------------------------------
_BYTE *__thiscall CItemWeapon::PutInfo(int this, _DWORD *a2, int a3)
{
  _BYTE *result; // eax
  int v4; // [esp+0h] [ebp-8h]

  if ( !a3 )
    a3 = *(_DWORD *)(this + 52);
  *a2 = PutNumeric<int>((_DWORD *)*a2, *(_DWORD *)(this + 36));
  *a2 = PutNumeric<short>((_WORD *)*a2, *(_WORD *)(*(_DWORD *)(this + 40) + 64));
  if ( *(_DWORD *)(this + 44) )
    v4 = *(_DWORD *)(*(_DWORD *)(this + 44) + 32);
  else
    LOBYTE(v4) = 0;
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, v4);
  *a2 = PutNumeric<int>((_DWORD *)*a2, *(_DWORD *)(this + 48));
  *a2 = PutNumeric<int>((_DWORD *)*a2, a3);
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 92));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 96));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 84));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 100));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 104));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 108));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 112));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 116));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 120));
  *a2 = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 124));
  result = PutNumeric<unsigned char>((_BYTE *)*a2, *(_BYTE *)(this + 128));
  *a2 = result;
  return result;
}

//----- (004277C0) --------------------------------------------------------
int __thiscall CItemWeapon::Init2(int this, int a2, _DWORD *a3)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(this + 32) = a2;
  v5 = 0;
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 36));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, &v5);
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 48));
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 52));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 92));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 96));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 84));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 100));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 104));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 108));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 112));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 116));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 120));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 124));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 128));
  if ( *(int *)(this + 100) > 20 )
  {
    *(_DWORD *)(this + 100) = 0;
    LOG_ERR("CItemWeapon::Init() Error (PID:%d m_nXAttack:%d)", a2, *(_DWORD *)(this + 100));
  }
  if ( *(int *)(this + 104) > 20 )
  {
    *(_DWORD *)(this + 104) = 0;
    LOG_ERR("CItemWeapon::Init() Error (PID:%d m_nXMagic:%d)", a2, *(_DWORD *)(this + 104));
  }
  if ( *(int *)(this + 112) > 20 )
  {
    *(_DWORD *)(this + 112) = 0;
    LOG_ERR("CItemWeapon::Init() Error (PID:%d m_nXHit:%d)", a2, *(_DWORD *)(this + 112));
  }
  if ( *(int *)(this + 108) > 10 )
  {
    *(_DWORD *)(this + 108) = 0;
    LOG_ERR("CItemWeapon::Init() Error (PID:%d m_nXDefense:%d)", a2, *(_DWORD *)(this + 108));
  }
  if ( *(int *)(this + 116) > 1 )
  {
    *(_DWORD *)(this + 116) = 0;
    LOG_ERR("CItemWeapon::Init() Error (PID:%d m_nXDodge:%d)", a2, *(_DWORD *)(this + 116));
  }
  result = sub_425CB0(v5);
  *(_DWORD *)(this + 44) = result;
  return result;
}

//----- (00427A50) --------------------------------------------------------
int __thiscall CItemWeapon::Init(_DWORD *this, char a2, int a3, int a4)
{
  int result; // eax

  this[11] = sub_425CB0(a2);
  this[13] = 1;
  this[24] = *(_DWORD *)(this[10] + 116);
  result = this[24];
  this[23] = result;
  return result;
}

//----- (00427AA0) --------------------------------------------------------
void __thiscall CItemWeapon::SetWearState(_DWORD *this, int a2)
{
  if ( sub_427130(this, 1) )
  {
    if ( (*(int *)(this[10] + 96) < 0 || *(_DWORD *)(this[10] + 96) == *(_DWORD *)(a2 + 460))
      && *(_DWORD *)(this[10] + 100) <= *(_DWORD *)(a2 + 60)
      && !CPlayer::IsWState((_DWORD *)a2, 0) )
    {
      if ( *(_DWORD *)(this[10] + 72) != 21 )
      {
LABEL_10:
        CPlayer::AddWState((_DWORD *)a2, 0);
        *(_WORD *)(a2 + 1052) = *(_WORD *)(this[10] + 64);
        *(_DWORD *)(a2 + 312) = *(_DWORD *)(this[10] + 104);
        (*(void (__thiscall **)(_DWORD *, int))(*this + 104))(this, a2);
        return;
      }
      if ( !CPlayer::IsWState((_DWORD *)a2, 1) )
      {
        CPlayer::AddWState((_DWORD *)a2, 12);
        goto LABEL_10;
      }
    }
    sub_427B90(this, 1);
    CDBSocket::Write(5, "d", this[9]);
  }
}

//----- (00427B90) --------------------------------------------------------
int __thiscall sub_427B90(_DWORD *this, int a2)
{
  int result; // eax

  result = this[12] & ~a2;
  this[12] = result;
  return result;
}

//----- (00427BB0) --------------------------------------------------------
int __thiscall CPlayer::AddWState(_DWORD *this, char a2)
{
  int result; // eax

  result = this[141] | (1 << a2);
  this[141] = result;
  return result;
}

//----- (00427BE0) --------------------------------------------------------
int __thiscall CPlayer::IsWState(_DWORD *this, char a2)
{
  return this[141] & (1 << a2);
}

//----- (00427C00) --------------------------------------------------------
int __thiscall CItemWeapon::Trash(CItem *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+0h] [ebp-14h]

  if ( sub_427130(this, 1) )
  {
    CPlayer::Write(a2, 67, "b", 11);
    result = 0;
  }
  else
  {
    CPlayer::Write(a2, 8, "db", this->m_nIID, a3);
    if ( this->m_pPrefix )
      v4 = this->m_pPrefix->m_nPrefix;
    else
      v4 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      this->m_nIID,
      this->m_nPID,
      this->m_pInit->m_nIndex,
      this->m_nNum,
      a3,
      (unsigned __int8)this[1].m_nTimerRef | ((unsigned __int8)this->m_nVer << 8) | ((unsigned __int8)this[1].__vftable << 16) | (v4 << 24),
      ((unsigned __int8)this[1].m_bit << 8) | ((unsigned __int8)this[1].m_nGeneralRef << 24),
      ((unsigned __int8)this[1].m_nIID << 8) | ((unsigned __int8)this[1].m_nPID << 16) | ((unsigned __int8)this[1].m_nId << 24));
    CBase::Delete(this);
    result = 1;
  }
  return result;
}

//----- (00427D60) --------------------------------------------------------
int __thiscall CItemWeapon::Erase(CItem *this, int a2)
{
  int v3; // [esp+0h] [ebp-14h]

  if ( *((_DWORD *)this + 9) )
  {
    if ( *((_DWORD *)this + 11) )
      v3 = *(_DWORD *)(*((_DWORD *)this + 11) + 32);
    else
      v3 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      *((_DWORD *)this + 9),
      *((_DWORD *)this + 8),
      *(_DWORD *)(*((_DWORD *)this + 10) + 64),
      *((_DWORD *)this + 13),
      a2,
      (unsigned __int8)*((_DWORD *)this + 25) | ((unsigned __int8)*((_DWORD *)this + 21) << 8) | ((unsigned __int8)*((_DWORD *)this + 23) << 16) | (v3 << 24),
      ((unsigned __int8)*((_DWORD *)this + 28) << 8) | ((unsigned __int8)*((_DWORD *)this + 26) << 24),
      ((unsigned __int8)*((_DWORD *)this + 32) << 8) | ((unsigned __int8)*((_DWORD *)this + 31) << 16) | ((unsigned __int8)*((_DWORD *)this + 30) << 24));
  }
  return CBase::Delete(this);
}

//----- (00427E70) --------------------------------------------------------
int *__thiscall CItemWeapon::ApplySpec(int *this, _DWORD *a2)
{
  int *result; // eax
  int v4; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h]

  CInitItem::ApplySpec(this[10], (int)a2);
  v4 = 0;
  v6 = 0;
  if ( CInitItem::GetSpecValue(this[10], 18, (char)&v4) )
  {
    a2[152] = v4;
    a2[153] = v6;
  }
  if ( CInitItem::GetSpecValue(this[10], 19, (char)&v4) )
  {
    a2[154] = v4;
    a2[155] = v6;
  }
  if ( this[11] )
    CPrefix::ApplySpec(this[11], (int)a2);
  if ( this[25] )
  {
    v5 = this[25] * (2 * this[25] + 7) / 9;
    a2[150] = v5;
    (*(void (__cdecl **)(_DWORD *, int, int, int, int))(*a2 + 92))(a2, 27, 1, v5, v5);
  }
  if ( this[26] )
  {
    v5 = this[26] * (2 * this[26] + 7) / 9;
    a2[151] = v5;
    (*(void (__cdecl **)(_DWORD *, int, int, int, int))(*a2 + 92))(a2, 28, 1, v5, v5);
  }
  if ( this[28] )
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, this[28]);
  result = this;
  if ( this[31] )
  {
    result = (int *)this[31];
    a2[149] = result;
  }
  return result;
}

//----- (00428000) --------------------------------------------------------
int *__thiscall CItemWeapon::FreeSpec(int *this, _DWORD *a2)
{
  int *result; // eax
  int v4; // [esp+4h] [ebp-4h]
  int v5; // [esp+4h] [ebp-4h]

  CInitItem::FreeSpec(this[10], (int)a2);
  a2[152] = 0;
  a2[153] = 0;
  a2[154] = 0;
  a2[155] = 0;
  if ( this[11] )
    CPrefix::FreeSpec(this[11], (int)a2);
  result = this;
  if ( this[25] )
  {
    v4 = this[25] * (2 * this[25] + 7) / 9;
    a2[150] = 0;
    result = (int *)(*(int (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 92))(a2, 27, 0, v4, v4);
  }
  if ( this[26] )
  {
    v5 = this[26] * (2 * this[26] + 7) / 9;
    a2[151] = 0;
    result = (int *)(*(int (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 92))(a2, 28, 0, v5, v5);
  }
  if ( this[28] )
    result = (int *)(*(int (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 9, 0, this[28]);
  a2[149] = 0;
  return result;
}

//----- (00428140) --------------------------------------------------------
void __thiscall CItemWeapon::PutOn(_DWORD *this, int a2)
{
  int v2; // eax
  int v3; // [esp-8h] [ebp-10h]
  int v4; // [esp-4h] [ebp-Ch]
  unsigned int v5; // [esp+0h] [ebp-8h]

  if ( *(int *)(this[10] + 96) >= 0 && *(_DWORD *)(this[10] + 96) != *(_DWORD *)(a2 + 460)
    || *(_DWORD *)(this[10] + 100) > *(_DWORD *)(a2 + 60) )
  {
    CPlayer::Write(a2, 67, "b", 12);
    return;
  }
  if ( !sub_427130(this, 1) )
  {
    if ( CPlayer::IsWState((_DWORD *)a2, 0) )
    {
      CPlayer::Write(a2, 67, "b", 10);
      return;
    }
    if ( *(_DWORD *)(this[10] + 72) == 21 )
    {
      if ( CPlayer::IsWState((_DWORD *)a2, 1) )
        return;
      CPlayer::AddWState((_DWORD *)a2, 12);
    }
    CPlayer::AddWState((_DWORD *)a2, 0);
    *(_WORD *)(a2 + 1052) = *(_WORD *)(this[10] + 64);
    *(_DWORD *)(a2 + 312) = *(_DWORD *)(this[10] + 104);
    sub_4261F0(this, 1);
    (*(void (__thiscall **)(_DWORD *, int))(*this + 104))(this, a2);
    if ( (this[12] & 0x7FF00) != 0 )
    {
      if ( (this[12] & 0x100000) != 0 )
        (*(void (__thiscall **)(int, unsigned int))(*(_DWORD *)a2 + 100))(a2, 0x80000000);
      v5 = this[12] & 0x7FF00;
      if ( v5 > 0x2000 )
      {
        if ( v5 > 0x10000 )
        {
          if ( v5 == 0x20000 )
          {
            (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x20000000);
            (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 27, 1, 50, 50);
            (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 28, 1, 50, 50);
          }
          else if ( v5 == 0x40000 )
          {
            (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x40000000);
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 5, 1, 50);
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 6, 1, 50);
            (*(void (__cdecl **)(int, _DWORD, int, int))(*(_DWORD *)a2 + 92))(a2, 0, 1, 6);
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 2, 1, 6);
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 4, 1, 6);
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 3, 1, 10);
            (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 1, 1, 10);
          }
        }
        else
        {
          switch ( v5 )
          {
            case 0x10000u:
              (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x10000000);
              if ( (this[12] & 0x80000) != 0 )
              {
                (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 96))(a2, 5, 0, 5);
                (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 6, 1, 10);
              }
              else if ( (this[12] & 0x100000) != 0 )
              {
                (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 96))(a2, 5, 0, 10);
                (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 6, 1, 20);
              }
              break;
            case 0x4000u:
              (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x4000000);
              break;
            case 0x8000u:
              (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x8000000);
              if ( (this[12] & 0x80000) != 0 )
              {
                (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 5, 1, 10);
                (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 96))(a2, 6, 0, 5);
              }
              else if ( (this[12] & 0x100000) != 0 )
              {
                (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 96))(a2, 5, 1, 20);
                (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 96))(a2, 6, 0, 10);
              }
              break;
          }
        }
      }
      else if ( v5 == 0x2000 )
      {
        (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x2000000);
      }
      else if ( v5 > 0x400 )
      {
        if ( v5 == 2048 )
        {
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x800000);
        }
        else if ( v5 == 4096 )
        {
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x1000000);
        }
      }
      else
      {
        switch ( v5 )
        {
          case 0x400u:
            (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x400000);
            break;
          case 0x100u:
            (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x100000);
            if ( (this[12] & 0x80000) != 0 )
            {
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 5, 1, 20);
              (*(void (__cdecl **)(int, _DWORD, int, int))(*(_DWORD *)a2 + 92))(a2, 0, 1, 2);
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 2, 1, 2);
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 4, 1, 2);
            }
            else if ( (this[12] & 0x100000) != 0 )
            {
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 5, 1, 50);
              (*(void (__cdecl **)(int, _DWORD, int, int))(*(_DWORD *)a2 + 92))(a2, 0, 1, 3);
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 2, 1, 3);
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 4, 1, 3);
            }
            break;
          case 0x200u:
            (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x200000);
            if ( (this[12] & 0x80000) != 0 )
            {
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 6, 1, 20);
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 3, 1, 2);
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 1, 1, 2);
            }
            else if ( (this[12] & 0x100000) != 0 )
            {
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 6, 1, 50);
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 3, 1, 5);
              (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 1, 1, 5);
            }
            break;
        }
      }
    }
    v4 = *(unsigned __int16 *)(this[10] + 64);
    v3 = this[9];
    v2 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 5, "ddw", v2, v3, v4);
    CDBSocket::Write(4, "d", this[9]);
  }
}

//----- (00428770) --------------------------------------------------------
void __thiscall CItemWeapon::PutOff(_DWORD *this, _DWORD *a2)
{
  int v2; // eax
  int v3; // [esp-8h] [ebp-Ch]
  int v4; // [esp-4h] [ebp-8h]

  if ( sub_427130(this, 1) && CPlayer::IsWState(a2, 0) )
  {
    CPlayer::SubWState(a2, 0);
    if ( *(_DWORD *)(this[10] + 72) == 21 )
      CPlayer::SubWState(a2, 12);
    *((_WORD *)a2 + 526) = 0;
    a2[78] = 0;
    sub_427B90(this, 1);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 108))(this, a2);
    if ( (this[12] & 0x7FF00) != 0 )
    {
      if ( (this[12] & 0x100) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x100000);
        if ( sub_40B310(a2, 0x80000000) )
        {
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 5, 0, 50);
          (*(void (__cdecl **)(_DWORD *, _DWORD, _DWORD, int))(*a2 + 92))(a2, 0, 0, 3);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 2, 0, 3);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 4, 0, 3);
        }
        else
        {
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 5, 0, 20);
          (*(void (__cdecl **)(_DWORD *, _DWORD, _DWORD, int))(*a2 + 92))(a2, 0, 0, 2);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 2, 0, 2);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 4, 0, 2);
        }
      }
      else if ( (this[12] & 0x200) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x200000);
        if ( sub_40B310(a2, 0x80000000) )
        {
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 6, 0, 50);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 3, 0, 5);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 1, 0, 5);
        }
        else
        {
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 6, 0, 20);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 3, 0, 2);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 1, 0, 2);
        }
      }
      else if ( (this[12] & 0x400) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x400000);
      }
      else if ( (this[12] & 0x800) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x800000);
      }
      else if ( (this[12] & 0x1000) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x1000000);
      }
      else if ( (this[12] & 0x2000) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x2000000);
      }
      else if ( (this[12] & 0x4000) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x4000000);
      }
      else if ( (this[12] & 0x8000) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x8000000);
        if ( sub_40B310(a2, 0x80000000) )
        {
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 96))(a2, 5, 0, 20);
          (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 6, 1, 10);
        }
        else
        {
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 96))(a2, 5, 0, 10);
          (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 6, 1, 5);
        }
      }
      else if ( (this[12] & 0x10000) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x10000000);
        if ( sub_40B310(a2, 0x80000000) )
        {
          (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 5, 1, 10);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 96))(a2, 6, 0, 20);
        }
        else
        {
          (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 5, 1, 5);
          (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 96))(a2, 6, 0, 10);
        }
      }
      else if ( (this[12] & 0x20000) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x20000000);
        (*(void (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 92))(a2, 27, 0, 50, 50);
        (*(void (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 92))(a2, 28, 0, 50, 50);
      }
      else if ( (this[12] & 0x40000) != 0 )
      {
        (*(void (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 0x40000000);
        (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 5, 0, 50);
        (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 6, 0, 50);
        (*(void (__cdecl **)(_DWORD *, _DWORD, _DWORD, int))(*a2 + 92))(a2, 0, 0, 6);
        (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 2, 0, 6);
        (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 4, 0, 6);
        (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 3, 0, 10);
        (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 92))(a2, 1, 0, 10);
      }
      if ( (this[12] & 0x100000) != 0 )
        (*(void (__thiscall **)(_DWORD *, unsigned int))(*a2 + 112))(a2, 0x80000000);
    }
    v4 = *(unsigned __int16 *)(this[10] + 64);
    v3 = this[9];
    v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 6, "ddw", v2, v3, v4);
    CDBSocket::Write(5, "d", this[9]);
  }
}

//----- (00428CD0) --------------------------------------------------------
int __thiscall CPlayer::SubWState(_DWORD *this, char a2)
{
  int result; // eax

  result = this[141] & ~(1 << a2);
  this[141] = result;
  return result;
}

//----- (00428D00) --------------------------------------------------------
void __thiscall CItem::NewItemDB(int nItem, int nPID, int nIID)
{
  *(_DWORD *)(nItem + 32) = nPID;
  *(_DWORD *)(nItem + 36) = nIID;
  CDBSocket::Write(
    6,
    "dwbddbbdb",
    *(_DWORD *)(nItem + 36),
    *(_DWORD *)(*(_DWORD *)(nItem + 40) + 64),
    0,
    *(_DWORD *)(nItem + 48),
    *(_DWORD *)(nItem + 52),
    *(_DWORD *)(nItem + 92),
    *(_DWORD *)(nItem + 84),
    *(_DWORD *)(nItem + 32),
    2);
}

//----- (00428D70) --------------------------------------------------------
int __thiscall CItemWeapon::UpdateNum(CItem *this, int a2, int a3, int a4)
{
  int v5; // [esp+0h] [ebp-14h]

  if ( a4 + this->m_nNum > 0 )
    return this->m_nNum;
  CPlayer::Write(a2, 9, "ddb", this->m_nIID, 0, a3);
  if ( a3 == 50 )
  {
    CDBSocket::Write(7, "dddwbd", this->m_nIID, *(_DWORD *)(a2 + 452), 0, this->m_pInit->m_nIndex, 50, this->m_nNum);
  }
  else
  {
    if ( this->m_pPrefix )
      v5 = this->m_pPrefix->m_nPrefix;
    else
      v5 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      this->m_nIID,
      this->m_nPID,
      this->m_pInit->m_nIndex,
      this->m_nNum,
      a3,
      (unsigned __int8)this[1].m_nTimerRef | ((unsigned __int8)this->m_nVer << 8) | ((unsigned __int8)this[1].__vftable << 16) | (v5 << 24),
      ((unsigned __int8)this[1].m_bit << 8) | ((unsigned __int8)this[1].m_nGeneralRef << 24),
      ((unsigned __int8)this[1].m_nIID << 8) | ((unsigned __int8)this[1].m_nPID << 16) | ((unsigned __int8)this[1].m_nId << 24));
  }
  this->m_nNum = 0;
  CBase::Delete(this);
  return 0;
}

//----- (00428F00) --------------------------------------------------------
BOOL __thiscall CItemDefense::CanSell(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( sub_427130(this, 1) )
    result = 0;
  else
    result = CItem::CanSell(this, a2);
  return result;
}

//----- (00428F30) --------------------------------------------------------
int __thiscall CItemWeapon::StorageIn(int this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-24h]
  _WORD v6[3]; // [esp+8h] [ebp-1Ch] BYREF
  char v7; // [esp+Eh] [ebp-16h]
  int v8; // [esp+Fh] [ebp-15h]
  int v9; // [esp+13h] [ebp-11h]
  char v10; // [esp+17h] [ebp-Dh]
  char v11; // [esp+18h] [ebp-Ch]
  char v12; // [esp+19h] [ebp-Bh]
  char v13; // [esp+1Ah] [ebp-Ah]
  char v14; // [esp+1Bh] [ebp-9h]
  char v15; // [esp+1Ch] [ebp-8h]
  char v16; // [esp+1Dh] [ebp-7h]
  char v17; // [esp+1Eh] [ebp-6h]
  char v18; // [esp+1Fh] [ebp-5h]
  char v19; // [esp+20h] [ebp-4h]
  char v20; // [esp+21h] [ebp-3h]

  if ( sub_427130((_DWORD *)this, 1) )
    return 0;
  v6[0] = *(_WORD *)(*(_DWORD *)(this + 40) + 64);
  *(_DWORD *)&v6[1] = *(_DWORD *)(this + 36);
  if ( *(_DWORD *)(this + 44) )
    v4 = *(_DWORD *)(*(_DWORD *)(this + 44) + 32);
  else
    LOBYTE(v4) = 0;
  v7 = v4;
  v8 = *(_DWORD *)(this + 48);
  v9 = *(_DWORD *)(this + 52);
  v10 = *(_BYTE *)(this + 92);
  v11 = *(_BYTE *)(this + 96);
  v12 = *(_BYTE *)(this + 84);
  v13 = *(_BYTE *)(this + 100);
  v14 = *(_BYTE *)(this + 104);
  v15 = *(_BYTE *)(this + 108);
  v16 = *(_BYTE *)(this + 112);
  v17 = *(_BYTE *)(this + 116);
  v18 = *(_BYTE *)(this + 120);
  v19 = *(_BYTE *)(this + 124);
  v20 = *(_BYTE *)(this + 128);
  CPlayer::_StorageIn(a2, (int)v6, *(_DWORD *)(this + 36), 0);
  CDBSocket::Write(
    11,
    "dddbd",
    *(_DWORD *)(this + 36),
    *(_DWORD *)(this + 32),
    *(_DWORD *)(a2 + 448),
    0,
    *(_DWORD *)(this + 52));
  CBase::Delete((CItem *)this);
  return 1;
}

//----- (00429060) --------------------------------------------------------
void __thiscall CItemWeapon::ForcedStorageIn(_DWORD *this, int a2, int a3, char *a4, int a5)
{
  LONG v5; // [esp-28h] [ebp-38h]
  int v6; // [esp-24h] [ebp-34h]
  int v7; // [esp-1Ch] [ebp-2Ch]
  int v8; // [esp-18h] [ebp-28h]
  int v9; // [esp-14h] [ebp-24h]
  int v10; // [esp-10h] [ebp-20h]
  char *v11; // [esp+0h] [ebp-10h]
  int v12; // [esp+4h] [ebp-Ch]

  if ( this[11] )
    v12 = *(_DWORD *)(this[11] + 32);
  else
    v12 = 0;
  if ( a4 )
    v11 = a4;
  else
    v11 = &Source;
  v10 = this[21];
  v9 = this[23];
  v8 = this[13];
  v7 = this[12];
  v6 = *(_DWORD *)(this[10] + 64);
  v5 = CItem::NewIID();
  CDBSocket::Write(35, "bdwbddbbdds", a2, v5, v6, v12, v7, v8, v9, v10, a3, a5, v11);
}

//----- (00429100) --------------------------------------------------------
signed int __thiscall CItemWeapon::Charming(_DWORD *this, int a2, int a3)
{
  signed int result; // eax
  int v4; // esi
  int v5; // esi
  int v6; // esi
  int v7; // [esp+4h] [ebp-40h]
  int v8; // [esp+8h] [ebp-3Ch]
  int v9; // [esp+Ch] [ebp-38h]
  int v10; // [esp+10h] [ebp-34h]
  int v11; // [esp+14h] [ebp-30h]
  int v13; // [esp+38h] [ebp-Ch]
  int v14; // [esp+3Ch] [ebp-8h]
  int v15; // [esp+40h] [ebp-4h]

  if ( CItem::GetLevel(this) < 40 || sub_427130(this, 1) )
    return 0;
  v15 = sub_427130(this, 64);
  if ( a3 == 9 )
  {
    if ( (int)this[28] < 20 )
    {
      v6 = this[28];
      if ( dword_4D5C48[v6] >= RandomBetween(1, 10000000) )
      {
        CDBSocket::Write(17, "ddbbb", this[9], this[8], 9, ++this[28], v15);
        goto LABEL_22;
      }
    }
    goto LABEL_25;
  }
  if ( a3 == 27 )
  {
    if ( (int)this[25] < 20 )
    {
      v4 = this[25];
      if ( dword_4D5B88[v4] >= RandomBetween(1, 10000000) )
      {
        CDBSocket::Write(17, "ddbbb", this[9], this[8], a3, ++this[25], v15);
        goto LABEL_22;
      }
    }
LABEL_25:
    if ( v15 )
    {
      CDBSocket::Write(21, "dddbb", this[9], this[8], 64, 0, a3);
      sub_427B90(this, 64);
      CItem::SendItemInfo(this, a2, 92);
      result = 1;
    }
    else
    {
      if ( RandomBetween(1, 100) > 90 )
      {
        this[24] = 0;
      }
      else
      {
        v13 = RandomBetween(1, 100);
        if ( v13 <= 50 )
        {
          if ( v13 <= 20 )
            v14 = 3;
          else
            v14 = 2;
        }
        else
        {
          v14 = 1;
        }
        this[24] -= v14;
      }
      if ( (int)this[24] <= 0 )
      {
        CPlayer::Write(a2, 91, "db", this[9], 0);
        if ( this[11] )
          v11 = *(_DWORD *)(this[11] + 32);
        else
          v11 = 0;
        CDBSocket::Write(
          3,
          "ddwdbddd",
          this[9],
          this[8],
          *(_DWORD *)(this[10] + 64),
          this[13],
          21,
          (unsigned __int8)this[25] | ((unsigned __int8)this[21] << 8) | ((unsigned __int8)this[23] << 16) | (v11 << 24),
          ((unsigned __int8)this[28] << 8) | ((unsigned __int8)this[26] << 24),
          ((unsigned __int8)this[32] << 8) | ((unsigned __int8)this[31] << 16) | ((unsigned __int8)this[30] << 24));
        if ( CItem::GetLevel(this) - 40 >= 20 )
          v10 = 20;
        else
          v10 = CItem::GetLevel(this) - 40;
        if ( *(_DWORD *)(this[10] + 72) == 1 )
        {
          if ( (int)this[26] >= 20 )
            v9 = 20;
          else
            v9 = this[26];
          v8 = v9;
        }
        else
        {
          if ( (int)this[25] >= 20 )
            v7 = 20;
          else
            v7 = this[25];
          v8 = v7;
        }
        CItem::InsertItem(a2, 21, 517, 0, dword_4D5F90[v8] + dword_4D5F38[v10], -1);
        CBase::Delete((CItem *)this);
      }
      else
      {
        CPlayer::Write(a2, 91, "db", this[9], this[24]);
        CDBSocket::Write(18, "ddb", this[9], this[8], this[24]);
      }
      result = 1;
    }
    return result;
  }
  if ( a3 != 28 )
    return 0;
  if ( *(_DWORD *)(this[10] + 72) != 1 )
    return 0;
  if ( (int)this[26] >= 20 )
    goto LABEL_25;
  v5 = this[26];
  if ( dword_4D5B88[v5] < RandomBetween(1, 10000000) )
    goto LABEL_25;
  CDBSocket::Write(17, "ddbbb", this[9], this[8], a3, ++this[26], v15);
LABEL_22:
  if ( v15 )
    sub_427B90(this, 64);
  CItem::SendItemInfo(this, a2, 92);
  return 1;
}

//----- (004295B0) --------------------------------------------------------
int __thiscall CItem::GetLevel(_DWORD *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( this[11] )
    v2 = *(_DWORD *)(this[11] + 36);
  else
    v2 = 0;
  return v2 + *(_DWORD *)(this[10] + 80);
}

//----- (004295F0) --------------------------------------------------------
int __thiscall CItemWeapon::CharmingCheat(_DWORD *this, int a2, int a3, int a4)
{
  int v6; // [esp+8h] [ebp-4h]

  if ( CItem::GetLevel(this) < 40 || sub_427130(this, 1) )
    return 0;
  v6 = sub_427130(this, 64);
  switch ( a3 )
  {
    case 9:
      this[28] = a4;
      CDBSocket::Write(17, "ddbbb", this[9], this[8], 9, this[28], v6);
      break;
    case 27:
      this[25] = a4;
      CDBSocket::Write(17, "ddbbb", this[9], this[8], 27, this[25], v6);
      break;
    case 28:
      if ( *(_DWORD *)(this[10] + 72) != 1 )
        return 0;
      this[26] = a4;
      CDBSocket::Write(17, "ddbbb", this[9], this[8], a3, this[26], v6);
      break;
    default:
      return 0;
  }
  CItem::SendItemInfo(this, a2, 92);
  return 1;
}

//----- (00429730) --------------------------------------------------------
int __thiscall CItemDefense::Repair(_DWORD *this, int a2)
{
  if ( this[24] >= this[23] )
    return 0;
  CPlayer::Write(a2, 91, "db", this[9], ++this[24]);
  CDBSocket::Write(18, "ddb", this[9], this[8], this[24]);
  return 1;
}

//----- (004297B0) --------------------------------------------------------
int __thiscall CItemWeapon::ChangePrefix(_DWORD *this, int a2, int a3, int a4, int a5)
{
  int v6; // [esp+0h] [ebp-4Ch]
  int v7; // [esp+4h] [ebp-48h]
  int v8; // [esp+8h] [ebp-44h]
  int v9; // [esp+Ch] [ebp-40h]
  int v10; // [esp+10h] [ebp-3Ch]
  int v11; // [esp+14h] [ebp-38h]
  int v13; // [esp+34h] [ebp-18h]
  int i; // [esp+38h] [ebp-14h]
  int v15; // [esp+3Ch] [ebp-10h]
  int v16; // [esp+40h] [ebp-Ch]
  int v17; // [esp+48h] [ebp-4h]

  if ( sub_427130(this, 1) || a3 > 0 )
    return 0;
  if ( this[11] )
    v11 = *(_DWORD *)(this[11] + 32);
  else
    v11 = 0;
  v15 = v11;
  v16 = RandomBetween(1, 100);
  v17 = sub_427130(this, 64);
  for ( i = 0; i < 2; ++i )
  {
    if ( v16 <= *(_DWORD *)(a4 + 4 * i) )
    {
      v15 = *(_DWORD *)(a5 + 4 * i);
      break;
    }
  }
  if ( v11 == v15 )
  {
    if ( v17 )
    {
      CDBSocket::Write(21, "dddbb", this[9], this[8], 64, 0, 255);
      sub_427B90(this, 64);
      CItem::SendItemInfo(this, a2, 92);
      return 1;
    }
    this[24] -= 5;
    if ( (int)this[24] <= 0 )
    {
      CPlayer::Write(a2, 91, "db", this[9], 0);
      if ( this[11] )
        v10 = *(_DWORD *)(this[11] + 32);
      else
        v10 = 0;
      CDBSocket::Write(
        3,
        "ddwdbddd",
        this[9],
        this[8],
        *(_DWORD *)(this[10] + 64),
        this[13],
        27,
        (unsigned __int8)this[25] | ((unsigned __int8)this[21] << 8) | ((unsigned __int8)this[23] << 16) | (v10 << 24),
        ((unsigned __int8)this[28] << 8) | ((unsigned __int8)this[26] << 24),
        ((unsigned __int8)this[32] << 8) | ((unsigned __int8)this[31] << 16) | ((unsigned __int8)this[30] << 24));
      if ( CItem::GetLevel(this) >= 40 )
      {
        if ( CItem::GetLevel(this) - 40 >= 20 )
          v9 = 20;
        else
          v9 = CItem::GetLevel(this) - 40;
        if ( *(_DWORD *)(this[10] + 72) == 1 )
        {
          if ( (int)this[26] >= 20 )
            v8 = 20;
          else
            v8 = this[26];
          v7 = v8;
        }
        else
        {
          if ( (int)this[25] >= 20 )
            v6 = 20;
          else
            v6 = this[25];
          v7 = v6;
        }
        CItem::InsertItem(a2, 27, 517, 0, dword_4D5F90[v7] + dword_4D5F38[v9], -1);
      }
      CBase::Delete((CItem *)this);
    }
    else
    {
      CPlayer::Write(a2, 91, "db", this[9], this[24]);
      CDBSocket::Write(18, "ddb", this[9], this[8], this[24]);
    }
  }
  else
  {
    v13 = sub_425CB0(v15);
    if ( !v13 )
      return 0;
    this[11] = v13;
    CDBSocket::Write(19, "ddbb", this[9], this[8], v15, v17);
    if ( v17 )
      sub_427B90(this, 64);
    CItem::SendItemInfo(this, a2, 92);
  }
  return 1;
}

//----- (00429B60) --------------------------------------------------------
int __thiscall CItemWeapon::Protect(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-10h]
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h]

  if ( CItem::GetLevel(this) < 40
    || dword_4E35B8 != 2 && this[30] >= *(_DWORD *)(this[10] + 168)
    || sub_427130(this, 65) )
  {
    return 0;
  }
  if ( this[11] )
    v3 = *(_DWORD *)(this[11] + 32);
  else
    v3 = 0;
  v5 = (unsigned __int8)this[25] | ((unsigned __int8)this[21] << 8) | ((unsigned __int8)this[23] << 16) | (v3 << 24);
  v6 = ((unsigned __int8)this[28] << 8) | ((unsigned __int8)this[26] << 24);
  CDBSocket::Write(21, "dddbwddb", this[9], this[8], 64, 1, *(_DWORD *)(this[10] + 64), v5, v6, ++this[30]);
  sub_4261F0(this, 64);
  CItem::SendItemInfo(this, a2, 92);
  return 1;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00429C90) --------------------------------------------------------
int __thiscall CItemWeapon::GetSellMoney(_DWORD *this, int a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = *(_DWORD *)(this[10] + 112);
  if ( this[11] )
    v3 += *(_DWORD *)(this[11] + 40) * v3 / 100;
  if ( this[25] )
    v3 += 100 * this[25] * this[25] * this[25];
  if ( this[26] )
    v3 += 100 * this[26] * this[26] * this[26];
  if ( this[28] )
    v3 += 200 * this[28] * this[28] * this[28];
  return v3;
}

//----- (00429D50) --------------------------------------------------------
void __thiscall CItemWeapon::UpgradeDestroy(CPlayer *this, int a2)
{
  int v2; // [esp+0h] [ebp-20h]
  int v3; // [esp+4h] [ebp-1Ch]
  int v4; // [esp+8h] [ebp-18h]
  int v5; // [esp+Ch] [ebp-14h]

  if ( CItem::GetLevel(this) >= 40
    && !sub_427130(this, 1)
    && (*(int (__thiscall **)(CPlayer *, int, int))(*(_DWORD *)this + 88))(this, a2, 45) )
  {
    if ( CItem::GetLevel(this) - 40 >= 20 )
      v5 = 20;
    else
      v5 = CItem::GetLevel(this) - 40;
    if ( *(_DWORD *)(*((_DWORD *)this + 10) + 72) == 1 )
    {
      if ( *((int *)this + 26) >= 20 )
        v4 = 20;
      else
        v4 = *((_DWORD *)this + 26);
      v3 = v4;
    }
    else
    {
      if ( *((int *)this + 25) >= 20 )
        v2 = 20;
      else
        v2 = *((_DWORD *)this + 25);
      v3 = v2;
    }
    CItem::InsertItem(a2, 45, 517, 0, dword_4D5F90[v3] + dword_4D5F38[v5], -1);
    CPlayer::_OutofInven(this, (CItem *)v2);
  }
}
// 429E4E: variable 'v2' is possibly undefined

//----- (00429E60) --------------------------------------------------------
void __thiscall CItemWeapon::UpgradeRateUp(_DWORD *this, int a2)
{
  int v2; // [esp+0h] [ebp-18h]
  int v3; // [esp+4h] [ebp-14h]
  int v4; // [esp+8h] [ebp-10h]
  CPlayer *player; // [esp+14h] [ebp-4h]

  if ( CItem::GetLevel(this) >= 40 && !sub_427130(this, 1) )
  {
    v4 = (int)this[31] >= 19 ? 19 : this[31];
    v3 = (int)this[31] >= 19 ? 19 : this[31];
    if ( dword_4D5E40[v4] + this[32] * dword_4D5E90[v3] < 100 )
    {
      v2 = (int)this[31] >= 19 ? 19 : this[31];
      player = (CPlayer *)CPlayer::_FindItem(a2, 517, dword_4D5EE8[v2]);
      if ( player )
      {
        if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
          CPlayer::_OutofInven(player, (CItem *)a2);
        CDBSocket::Write(28, "ddbb", this[9], this[8], 1, ++this[32]);
        CItem::SendItemInfo(this, a2, 92);
      }
    }
  }
}

//----- (00429FB0) --------------------------------------------------------
void __thiscall CItemWeapon::UpgradeLevel(int this, int a2)
{
  int v2; // esi
  CItem *v3; // [esp+0h] [ebp-34h]
  int v4; // [esp+4h] [ebp-30h]
  int v5; // [esp+8h] [ebp-2Ch]
  int v6; // [esp+Ch] [ebp-28h]
  int v7; // [esp+10h] [ebp-24h]
  int v8; // [esp+14h] [ebp-20h]
  int v10; // [esp+28h] [ebp-Ch]
  CPlayer *player; // [esp+30h] [ebp-4h]

  if ( CItem::GetLevel((_DWORD *)this) >= 40 && !sub_427130((_DWORD *)this, 1) )
  {
    v8 = *(_DWORD *)(*(_DWORD *)(this + 40) + 72) == 1 ? *(_DWORD *)(this + 104) : *(_DWORD *)(this + 100);
    if ( *(_DWORD *)(this + 124) < v8 )
    {
      player = (CPlayer *)CPlayer::_FindItem(a2, 31, 1500 * (*(_DWORD *)(this + 124) + 1));
      if ( player )
      {
        if ( *(int *)(this + 124) >= 19 )
          v7 = 19;
        else
          v7 = *(_DWORD *)(this + 124);
        if ( *(int *)(this + 124) >= 19 )
          v6 = 19;
        else
          v6 = *(_DWORD *)(this + 124);
        v2 = dword_4D5E40[v7] + *(_DWORD *)(this + 128) * dword_4D5E90[v6];
        if ( v2 < RandomBetween(1, 100) )
        {
          v10 = RandomBetween(1, 100);
          if ( v10 > 60 )
          {
            if ( v10 > 90 )
            {
              CPlayer::Write(a2, 68, "bd", 82, *(_DWORD *)(this + 36));
              if ( *(_DWORD *)(this + 44) )
                v4 = *(_DWORD *)(*(_DWORD *)(this + 44) + 32);
              else
                v4 = 0;
              CDBSocket::Write(
                3,
                "ddwdbddd",
                *(_DWORD *)(this + 36),
                *(_DWORD *)(this + 32),
                *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
                *(_DWORD *)(this + 52),
                47,
                (unsigned __int8)*(_DWORD *)(this + 100) | ((unsigned __int8)*(_DWORD *)(this + 84) << 8) | ((unsigned __int8)*(_DWORD *)(this + 92) << 16) | (v4 << 24),
                ((unsigned __int8)*(_DWORD *)(this + 112) << 8) | ((unsigned __int8)*(_DWORD *)(this + 104) << 24),
                ((unsigned __int8)*(_DWORD *)(this + 128) << 8) | ((unsigned __int8)*(_DWORD *)(this + 124) << 16) | ((unsigned __int8)*(_DWORD *)(this + 120) << 24));
              CPlayer::_OutofInven((CPlayer *)this, v3);
              CBase::Delete((CItem *)this);
            }
            else
            {
              *(_DWORD *)(this + 128) = 0;
              if ( *(int *)(this + 124) <= 0 )
                v5 = 0;
              else
                v5 = --*(_DWORD *)(this + 124);
              CDBSocket::Write(28, "ddbb", *(_DWORD *)(this + 36), *(_DWORD *)(this + 32), 2, v5);
              CItem::SendItemInfo((void *)this, a2, 92);
            }
          }
          else
          {
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)a2);
            CPlayer::Write(a2, 67, "b", 81);
          }
        }
        else
        {
          if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
            CPlayer::_OutofInven(player, (CItem *)a2);
          *(_DWORD *)(this + 128) = 0;
          CDBSocket::Write(28, "ddbb", *(_DWORD *)(this + 36), *(_DWORD *)(this + 32), 2, ++*(_DWORD *)(this + 124));
          CItem::SendItemInfo((void *)this, a2, 92);
        }
      }
    }
  }
}
// 42A2EE: variable 'v3' is possibly undefined

//----- (0042A310) --------------------------------------------------------
CItemDefense *__thiscall CItemDefense::CItemDefense(CItemDefense *this, int a2)
{
  CItem::CItem(this);
  *(_DWORD *)this = &off_4B6E58;
  *((_DWORD *)this + 10) = a2;
  *((_DWORD *)this + 23) = 0;
  *((_DWORD *)this + 24) = 0;
  *((_DWORD *)this + 25) = 0;
  *((_DWORD *)this + 26) = 0;
  *((_DWORD *)this + 27) = 0;
  *((_DWORD *)this + 28) = 0;
  *((_DWORD *)this + 29) = 0;
  *((_DWORD *)this + 30) = 0;
  return this;
}
// 4B6E58: using guessed type int (__stdcall *off_4B6E58)(int);

//----- (0042A390) --------------------------------------------------------
std::locale::facet *__thiscall sub_42A390(std::locale::facet *this, char a2)
{
  sub_4275C0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0042A3C0) --------------------------------------------------------
void **__thiscall CItemDefense::PutInfo(int this, void **a2, int a3)
{
  void **result; // eax
  int v4; // [esp+0h] [ebp-8h]

  if ( !a3 )
    a3 = *(_DWORD *)(this + 52);
  *a2 = PutNumeric<int>(*a2, *(_DWORD *)(this + 36));
  *a2 = PutNumeric<short>(*a2, *(_WORD *)(*(_DWORD *)(this + 40) + 64));
  if ( *(_DWORD *)(this + 44) )
    v4 = *(_DWORD *)(*(_DWORD *)(this + 44) + 32);
  else
    LOBYTE(v4) = 0;
  *a2 = PutNumeric<unsigned char>(*a2, v4);
  *a2 = PutNumeric<int>(*a2, *(_DWORD *)(this + 48));
  *a2 = PutNumeric<int>(*a2, a3);
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 92));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 96));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 84));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 100));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 104));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 108));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 112));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 116));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 120));
  memset(*a2, 0, 2u);
  result = a2;
  *a2 = (char *)*a2 + 2;
  return result;
}

//----- (0042A590) --------------------------------------------------------
int __thiscall CItemDefense::Init2(int this, int a2, _DWORD *a3)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(this + 32) = a2;
  v5 = 0;
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 36));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, &v5);
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 48));
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 52));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 92));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 96));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 84));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 100));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 104));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 108));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 112));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 116));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 120));
  *a3 += 2;
  if ( *(int *)(this + 100) > 20 )
  {
    *(_DWORD *)(this + 100) = 0;
    LOG_ERR("CItemDefense::Init() Error (PID:%d m_nXAttack:%d)", a2, *(_DWORD *)(this + 100));
  }
  if ( *(int *)(this + 104) > 20 )
  {
    *(_DWORD *)(this + 104) = 0;
    LOG_ERR("CItemDefense::Init() Error (PID:%d m_nXMagic:%d)", a2, *(_DWORD *)(this + 104));
  }
  if ( *(int *)(this + 108) > 10 )
  {
    *(_DWORD *)(this + 108) = 0;
    LOG_ERR("CItemDefense::Init() Error (PID:%d m_nXDefense:%d)", a2, *(_DWORD *)(this + 108));
  }
  if ( *(int *)(this + 112) > 20 )
  {
    *(_DWORD *)(this + 112) = 0;
    LOG_ERR("CItemDefense::Init() Error (PID:%d m_nXHit:%d)", a2, *(_DWORD *)(this + 112));
  }
  if ( *(int *)(this + 116) > 1 )
  {
    *(_DWORD *)(this + 116) = 0;
    LOG_ERR("CItemDefense::Init() Error (PID:%d m_nXDodge:%d)", a2, *(_DWORD *)(this + 116));
  }
  result = sub_425CB0(v5);
  *(_DWORD *)(this + 44) = result;
  return result;
}

//----- (0042A800) --------------------------------------------------------
void __thiscall CItemDefense::SetWearState(_DWORD *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h]

  if ( sub_427130(this, 1) )
  {
    if ( *(int *)(this[10] + 96) >= 0 && *(_DWORD *)(this[10] + 96) != a2[115]
      || *(_DWORD *)(this[10] + 100) > a2[15]
      || (v3 = *(_DWORD *)(this[10] + 72) - 2, CPlayer::IsWState(a2, v3))
      || *(_DWORD *)(this[10] + 72) == 3 && CPlayer::IsWState(a2, 12) )
    {
      sub_427B90(this, 1);
      CDBSocket::Write(5, "d", this[9]);
    }
    else
    {
      CPlayer::AddWState(a2, v3);
      *((_WORD *)a2 + v3 + 526) = *(_WORD *)(this[10] + 64);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 104))(this, a2);
    }
  }
}

//----- (0042A8F0) --------------------------------------------------------
int __thiscall CItemDefense::Trash(CItem *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+0h] [ebp-14h]

  if ( sub_427130(this, 1) )
  {
    CPlayer::Write(a2, 67, "b", 11);
    result = 0;
  }
  else
  {
    CPlayer::Write(a2, 8, "db", this->m_nIID, a3);
    if ( this->m_pPrefix )
      v4 = this->m_pPrefix->m_nPrefix;
    else
      v4 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      this->m_nIID,
      this->m_nPID,
      this->m_pInit->m_nIndex,
      this->m_nNum,
      a3,
      ((unsigned __int8)this->m_nVer << 8) | ((unsigned __int8)this[1].__vftable << 16) | (v4 << 24),
      (unsigned __int8)this[1].m_dwAttr | ((unsigned __int8)this[1].m_pNext << 16),
      (unsigned __int8)this[1].m_nId << 24);
    CBase::Delete(this);
    result = 1;
  }
  return result;
}

//----- (0042AA10) --------------------------------------------------------
int __thiscall CItemDefense::Erase(CItem *this, int a2)
{
  int v3; // [esp+0h] [ebp-14h]

  if ( *((_DWORD *)this + 9) )
  {
    if ( *((_DWORD *)this + 11) )
      v3 = *(_DWORD *)(*((_DWORD *)this + 11) + 32);
    else
      v3 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      *((_DWORD *)this + 9),
      *((_DWORD *)this + 8),
      *(_DWORD *)(*((_DWORD *)this + 10) + 64),
      *((_DWORD *)this + 13),
      a2,
      ((unsigned __int8)*((_DWORD *)this + 21) << 8) | ((unsigned __int8)*((_DWORD *)this + 23) << 16) | (v3 << 24),
      (unsigned __int8)*((_DWORD *)this + 29) | ((unsigned __int8)*((_DWORD *)this + 27) << 16),
      (unsigned __int8)*((_DWORD *)this + 30) << 24);
  }
  return CBase::Delete(this);
}

//----- (0042AAF0) --------------------------------------------------------
int __thiscall CItemDefense::ApplySpec(int *this, int a2)
{
  int result; // eax

  result = CInitItem::ApplySpec(this[10], a2);
  if ( this[11] )
    result = CPrefix::ApplySpec(this[11], a2);
  if ( this[27] )
    result = (*(int (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 15, 1, this[27], this[27]);
  if ( this[29] )
    result = (*(int (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, 10, 1, this[29]);
  return result;
}

//----- (0042AB80) --------------------------------------------------------
int __thiscall CItemDefense::FreeSpec(int *this, int a2)
{
  int result; // eax

  result = CInitItem::FreeSpec(this[10], a2);
  if ( this[11] )
    result = CPrefix::FreeSpec(this[11], a2);
  if ( this[27] )
    result = (*(int (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)a2 + 92))(a2, 15, 0, this[27], this[27]);
  if ( this[29] )
    result = (*(int (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 92))(a2, 10, 0, this[29]);
  return result;
}

//----- (0042AC10) --------------------------------------------------------
void __thiscall CItemDefense::PutOn(_DWORD *this, _DWORD *a2)
{
  int v2; // eax
  int v3; // [esp-8h] [ebp-10h]
  int v4; // [esp-4h] [ebp-Ch]
  int v6; // [esp+4h] [ebp-4h]

  if ( (*(int *)(this[10] + 96) < 0 || *(_DWORD *)(this[10] + 96) == a2[115]) && *(_DWORD *)(this[10] + 100) <= a2[15] )
  {
    if ( !sub_427130(this, 1) )
    {
      v6 = *(_DWORD *)(this[10] + 72) - 2;
      if ( CPlayer::IsWState(a2, v6) )
      {
        CPlayer::Write((int)a2, 67, "b", 10);
      }
      else if ( *(_DWORD *)(this[10] + 72) != 3 || !CPlayer::IsWState(a2, 12) )
      {
        CPlayer::AddWState(a2, v6);
        *((_WORD *)a2 + v6 + 526) = *(_WORD *)(this[10] + 64);
        sub_4261F0(this, 1);
        (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 104))(this, a2);
        v4 = *(unsigned __int16 *)(this[10] + 64);
        v3 = this[9];
        v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
        CChar::WriteInSight((int)a2, 5, "ddw", v2, v3, v4);
        CDBSocket::Write(4, "d", this[9]);
      }
    }
  }
  else
  {
    CPlayer::Write((int)a2, 67, "b", 12);
  }
}

//----- (0042AD60) --------------------------------------------------------
void __thiscall CItemDefense::PutOff(_DWORD *this, _DWORD *a2)
{
  int v2; // [esp-Ch] [ebp-14h]
  int v3; // [esp-8h] [ebp-10h]
  int v4; // [esp-4h] [ebp-Ch]
  int v6; // [esp+4h] [ebp-4h]

  if ( sub_427130(this, 1) )
  {
    v6 = *(_DWORD *)(this[10] + 72) - 2;
    if ( CPlayer::IsWState(a2, v6) )
    {
      CPlayer::SubWState(a2, v6);
      *((_WORD *)a2 + v6 + 526) = 0;
      sub_427B90(this, 1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 108))(this, a2);
      v4 = *(unsigned __int16 *)(this[10] + 64);
      v3 = this[9];
      v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      CChar::WriteInSight((int)a2, 6, "ddw", v2, v3, v4);
      CDBSocket::Write(5, "d", this[9]);
    }
  }
}

//----- (0042AE20) --------------------------------------------------------
void __thiscall sub_42AE20(_DWORD *this, int a2, int a3)
{
  this[8] = a2;
  this[9] = a3;
  CDBSocket::Write(
    6,
    "dwbbdbbdb",
    this[9],
    *(_DWORD *)(this[10] + 64),
    0,
    this[12],
    this[13],
    this[23],
    this[21],
    this[8],
    2);
}

//----- (0042AE90) --------------------------------------------------------
void __thiscall CItemDefense::Insert(_DWORD *this, int a2, int a3, int a4)
{
  int v4; // [esp+0h] [ebp-10h]
  int v6; // [esp+Ch] [ebp-4h]

  v6 = this[8];
  this[8] = *(_DWORD *)(a2 + 452);
  if ( a3 == 10 )
    this[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo(this, a2, 7);
  if ( a4 )
  {
    CDBSocket::Write(7, "dddwbd", this[9], v6, this[8], *(_DWORD *)(this[10] + 64), a3, this[13]);
  }
  else
  {
    if ( this[11] )
      v4 = *(_DWORD *)(this[11] + 32);
    else
      v4 = 0;
    CDBSocket::Write(
      6,
      "dwbddbbdb",
      this[9],
      *(_DWORD *)(this[10] + 64),
      v4,
      this[12],
      this[13],
      this[23],
      this[21],
      this[8],
      a3);
  }
}

//----- (0042AF90) --------------------------------------------------------
int __thiscall CItemDefense::UpdateNum(CItem *this, int a2, int a3, int a4)
{
  int v5; // [esp+0h] [ebp-14h]

  if ( a4 + this->m_nNum > 0 )
    return this->m_nNum;
  CPlayer::Write(a2, 9, "ddb", this->m_nIID, 0, a3);
  if ( a3 == 50 )
  {
    CDBSocket::Write(7, "dddwbd", this->m_nIID, *(_DWORD *)(a2 + 452), 0, this->m_pInit->m_nIndex, 50, this->m_nNum);
  }
  else
  {
    if ( this->m_pPrefix )
      v5 = this->m_pPrefix->m_nPrefix;
    else
      v5 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      this->m_nIID,
      this->m_nPID,
      this->m_pInit->m_nIndex,
      this->m_nNum,
      a3,
      ((unsigned __int8)this->m_nVer << 8) | ((unsigned __int8)this[1].__vftable << 16) | (v5 << 24),
      (unsigned __int8)this[1].m_dwAttr | ((unsigned __int8)this[1].m_pNext << 16),
      (unsigned __int8)this[1].m_nId << 24);
  }
  this->m_nNum = 0;
  CBase::Delete(this);
  return 0;
}

//----- (0042B0F0) --------------------------------------------------------
int __thiscall CItemDefense::StorageIn(int this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-24h]
  _WORD v6[3]; // [esp+8h] [ebp-1Ch] BYREF
  char v7; // [esp+Eh] [ebp-16h]
  int v8; // [esp+Fh] [ebp-15h]
  int v9; // [esp+13h] [ebp-11h]
  char v10; // [esp+17h] [ebp-Dh]
  char v11; // [esp+18h] [ebp-Ch]
  char v12; // [esp+19h] [ebp-Bh]
  char v13; // [esp+1Ah] [ebp-Ah]
  char v14; // [esp+1Bh] [ebp-9h]
  char v15; // [esp+1Ch] [ebp-8h]
  char v16; // [esp+1Dh] [ebp-7h]
  char v17; // [esp+1Eh] [ebp-6h]
  char v18; // [esp+1Fh] [ebp-5h]
  char v19; // [esp+20h] [ebp-4h]
  char v20; // [esp+21h] [ebp-3h]

  if ( sub_427130((_DWORD *)this, 1) )
    return 0;
  v6[0] = *(_WORD *)(*(_DWORD *)(this + 40) + 64);
  *(_DWORD *)&v6[1] = *(_DWORD *)(this + 36);
  if ( *(_DWORD *)(this + 44) )
    v4 = *(_DWORD *)(*(_DWORD *)(this + 44) + 32);
  else
    LOBYTE(v4) = 0;
  v7 = v4;
  v8 = *(_DWORD *)(this + 48);
  v9 = *(_DWORD *)(this + 52);
  v10 = *(_BYTE *)(this + 92);
  v11 = *(_BYTE *)(this + 96);
  v12 = *(_BYTE *)(this + 84);
  v13 = *(_BYTE *)(this + 100);
  v14 = *(_BYTE *)(this + 104);
  v15 = *(_BYTE *)(this + 108);
  v16 = *(_BYTE *)(this + 112);
  v17 = *(_BYTE *)(this + 116);
  v18 = *(_BYTE *)(this + 120);
  v19 = 0;
  v20 = 0;
  CPlayer::_StorageIn(a2, (int)v6, *(_DWORD *)(this + 36), 0);
  CDBSocket::Write(
    11,
    "dddbd",
    *(_DWORD *)(this + 36),
    *(_DWORD *)(this + 32),
    *(_DWORD *)(a2 + 448),
    0,
    *(_DWORD *)(this + 52));
  CBase::Delete((CItem *)this);
  return 1;
}

//----- (0042B210) --------------------------------------------------------
int __thiscall CItemDefense::Charming(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // esi
  int v5; // esi
  int v6; // [esp+4h] [ebp-34h]
  int v7; // [esp+8h] [ebp-30h]
  int v8; // [esp+Ch] [ebp-2Ch]
  int v9; // [esp+10h] [ebp-28h]
  int a5; // [esp+24h] [ebp-14h]
  int v12; // [esp+2Ch] [ebp-Ch]
  int v13; // [esp+30h] [ebp-8h]
  int v14; // [esp+34h] [ebp-4h]

  if ( CItem::GetLevel(this) < 40 || sub_427130(this, 1) )
    return 0;
  v14 = sub_427130(this, 64);
  if ( a3 == 10 )
  {
    if ( (int)this[29] >= 1 || (v5 = this[29], dword_4D5C48[v5] < RandomBetween(1, 10000000)) )
    {
LABEL_18:
      if ( v14 )
      {
        CDBSocket::Write(21, "dddbb", this[9], this[8], 64, 0, a3);
        sub_427B90(this, 64);
        CItem::SendItemInfo(this, a2, 92);
        result = 1;
      }
      else
      {
        if ( RandomBetween(1, 100) > 90 )
        {
          this[24] = 0;
        }
        else
        {
          v12 = RandomBetween(1, 100);
          if ( v12 <= 50 )
          {
            if ( v12 <= 20 )
              v13 = 3;
            else
              v13 = 2;
          }
          else
          {
            v13 = 1;
          }
          this[24] -= v13;
        }
        if ( (int)this[24] <= 0 )
        {
          CPlayer::Write(a2, 91, "db", this[9], 0);
          if ( this[11] )
            v9 = *(_DWORD *)(this[11] + 32);
          else
            v9 = 0;
          CDBSocket::Write(
            3,
            "ddwdbddd",
            this[9],
            this[8],
            *(_DWORD *)(this[10] + 64),
            this[13],
            21,
            ((unsigned __int8)this[21] << 8) | ((unsigned __int8)this[23] << 16) | (v9 << 24),
            (unsigned __int8)this[29] | ((unsigned __int8)this[27] << 16),
            (unsigned __int8)this[30] << 24);
          a5 = 0;
          if ( *(_DWORD *)(this[10] + 72) == 3 )
          {
            if ( CItem::GetLevel(this) >= 44 )
            {
              if ( CItem::GetLevel(this) - 40 >= 20 )
                v8 = 20;
              else
                v8 = CItem::GetLevel(this) - 40;
              if ( (int)this[27] >= 10 )
                v7 = 10;
              else
                v7 = this[27];
              a5 = dword_4D603C[v7] + dword_4D5FE8[v8];
            }
          }
          else
          {
            if ( (int)this[27] >= 10 )
              v6 = 10;
            else
              v6 = this[27];
            a5 = dword_4D603C[v6] + (*(_DWORD *)(this[10] + 112) + 1000) / 10000;
          }
          if ( a5 > 0 )
            CItem::InsertItem(a2, 21, 517, 0, a5, -1);
          CBase::Delete((CItem *)this);
        }
        else
        {
          CPlayer::Write(a2, 91, "db", this[9], this[24]);
          CDBSocket::Write(18, "ddb", this[9], this[8], this[24]);
        }
        result = 1;
      }
      return result;
    }
    CDBSocket::Write(17, "ddbbb", this[9], this[8], 10, ++this[29], v14);
  }
  else
  {
    if ( a3 != 15 )
      return 0;
    if ( (int)this[27] >= 10 )
      goto LABEL_18;
    v4 = this[27];
    if ( dword_4D5BE8[v4] < RandomBetween(1, 10000000) )
      goto LABEL_18;
    CDBSocket::Write(17, "ddbbb", this[9], this[8], a3, ++this[27], v14);
  }
  if ( v14 )
    sub_427B90(this, 64);
  CItem::SendItemInfo(this, a2, 92);
  return 1;
}

//----- (0042B630) --------------------------------------------------------
int __thiscall CItemDefense::CharmingCheat(_DWORD *this, int a2, int a3, int a4)
{
  int v6; // [esp+8h] [ebp-4h]

  if ( CItem::GetLevel(this) < 40 || sub_427130(this, 1) )
    return 0;
  v6 = sub_427130(this, 64);
  if ( a3 == 10 )
  {
    this[29] = a4;
    CDBSocket::Write(17, "ddbbb", this[9], this[8], 10, this[29], v6);
  }
  else
  {
    if ( a3 != 15 )
      return 0;
    this[27] = a4;
    CDBSocket::Write(17, "ddbbb", this[9], this[8], 15, this[27], v6);
  }
  CItem::SendItemInfo(this, a2, 92);
  return 1;
}

//----- (0042B710) --------------------------------------------------------
int __thiscall CItemDefense::ChangePrefix(_DWORD *this, int a2, int a3, int a4, int a5)
{
  int v6; // [esp+0h] [ebp-40h]
  int v7; // [esp+4h] [ebp-3Ch]
  int v8; // [esp+8h] [ebp-38h]
  int v9; // [esp+Ch] [ebp-34h]
  int v10; // [esp+10h] [ebp-30h]
  int v12; // [esp+18h] [ebp-28h]
  int v13; // [esp+28h] [ebp-18h]
  int i; // [esp+2Ch] [ebp-14h]
  int v15; // [esp+30h] [ebp-10h]
  int v16; // [esp+34h] [ebp-Ch]
  int v17; // [esp+3Ch] [ebp-4h]

  if ( sub_427130(this, 1) || a3 >= 0 && a3 != 1 )
    return 0;
  if ( this[11] )
    v10 = *(_DWORD *)(this[11] + 32);
  else
    v10 = 0;
  v15 = v10;
  v16 = RandomBetween(1, 100);
  v17 = sub_427130(this, 64);
  for ( i = 0; i < 2; ++i )
  {
    if ( v16 <= *(_DWORD *)(a4 + 4 * i) )
    {
      v15 = *(_DWORD *)(a5 + 4 * i);
      break;
    }
  }
  if ( v10 == v15 )
  {
    if ( v17 )
    {
      CDBSocket::Write(21, "dddbb", this[9], this[8], 64, 0, 255);
      sub_427B90(this, 64);
      CItem::SendItemInfo(this, a2, 92);
      return 1;
    }
    this[24] -= 5;
    if ( (int)this[24] <= 0 )
    {
      CPlayer::Write(a2, 91, "db", this[9], 0);
      if ( this[11] )
        v9 = *(_DWORD *)(this[11] + 32);
      else
        v9 = 0;
      CDBSocket::Write(
        3,
        "ddwdbddd",
        this[9],
        this[8],
        *(_DWORD *)(this[10] + 64),
        this[13],
        27,
        ((unsigned __int8)this[21] << 8) | ((unsigned __int8)this[23] << 16) | (v9 << 24),
        (unsigned __int8)this[29] | ((unsigned __int8)this[27] << 16),
        (unsigned __int8)this[30] << 24);
      if ( CItem::GetLevel(this) >= 40 )
      {
        v12 = 0;
        if ( *(_DWORD *)(this[10] + 72) == 3 )
        {
          if ( CItem::GetLevel(this) >= 44 )
          {
            if ( CItem::GetLevel(this) - 40 >= 20 )
              v8 = 20;
            else
              v8 = CItem::GetLevel(this) - 40;
            if ( (int)this[27] >= 10 )
              v7 = 10;
            else
              v7 = this[27];
            v12 = dword_4D603C[v7] + dword_4D5FE8[v8];
          }
        }
        else
        {
          if ( (int)this[27] >= 10 )
            v6 = 10;
          else
            v6 = this[27];
          v12 = dword_4D603C[v6] + (*(_DWORD *)(this[10] + 112) + 1000) / 10000;
        }
        if ( v12 > 0 )
          CItem::InsertItem(a2, 21, 517, 0, v12, -1);
      }
      CBase::Delete((CItem *)this);
    }
    else
    {
      CPlayer::Write(a2, 91, "db", this[9], this[24]);
      CDBSocket::Write(18, "ddb", this[9], this[8], this[24]);
    }
  }
  else
  {
    v13 = sub_425CB0(v15);
    if ( !v13 )
      return 0;
    this[11] = v13;
    CDBSocket::Write(19, "ddbb", this[9], this[8], v15, v17);
    if ( v17 )
      sub_427B90(this, 64);
    CItem::SendItemInfo(this, a2, 92);
  }
  return 1;
}

//----- (0042BAB0) --------------------------------------------------------
int __thiscall CItemDefense::Protect(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-10h]
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h]

  if ( CItem::GetLevel(this) < 40
    || dword_4E35B8 != 2 && this[30] >= *(_DWORD *)(this[10] + 168)
    || sub_427130(this, 65) )
  {
    return 0;
  }
  if ( this[11] )
    v3 = *(_DWORD *)(this[11] + 32);
  else
    v3 = 0;
  v5 = ((unsigned __int8)this[21] << 8) | ((unsigned __int8)this[23] << 16) | (v3 << 24);
  v6 = (unsigned __int8)this[29] | ((unsigned __int8)this[27] << 16);
  CDBSocket::Write(21, "dddbwddb", this[9], this[8], 64, 1, *(_DWORD *)(this[10] + 64), v5, v6, ++this[30]);
  sub_4261F0(this, 64);
  CItem::SendItemInfo(this, a2, 92);
  return 1;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (0042BBD0) --------------------------------------------------------
int __thiscall CItemDefense::GetSellMoney(_DWORD *this, int a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = *(_DWORD *)(this[10] + 112);
  if ( this[11] )
    v3 += *(_DWORD *)(this[11] + 40) * v3 / 100;
  if ( this[27] )
    v3 += 100 * this[27] * this[27] * this[27];
  if ( this[29] )
    v3 += 200 * this[29] * this[29] * this[29];
  return v3;
}

//----- (0042BC70) --------------------------------------------------------
void __thiscall CItemDefense::UpgradeDestroy(CPlayer *this, int a2)
{
  int v2; // [esp+0h] [ebp-18h]
  int v3; // [esp+4h] [ebp-14h]
  int v4; // [esp+8h] [ebp-10h]
  BOOL v5; // [esp+Ch] [ebp-Ch]
  int a5; // [esp+14h] [ebp-4h]

  if ( *(_DWORD *)(*((_DWORD *)this + 10) + 72) == 3 )
    v5 = CItem::GetLevel(this) < 44;
  else
    v5 = CItem::GetLevel(this) < 40;
  if ( !v5 && !sub_427130(this, 1) && (*(int (__thiscall **)(CPlayer *, int, int))(*(_DWORD *)this + 88))(this, a2, 45) )
  {
    a5 = 0;
    if ( *(_DWORD *)(*((_DWORD *)this + 10) + 72) == 3 )
    {
      if ( CItem::GetLevel(this) >= 44 )
      {
        if ( CItem::GetLevel(this) - 40 >= 20 )
          v4 = 20;
        else
          v4 = CItem::GetLevel(this) - 40;
        if ( *((int *)this + 27) >= 10 )
          v3 = 10;
        else
          v3 = *((_DWORD *)this + 27);
        a5 = dword_4D603C[v3] + dword_4D5FE8[v4];
      }
    }
    else
    {
      if ( *((int *)this + 27) >= 10 )
        v2 = 10;
      else
        v2 = *((_DWORD *)this + 27);
      a5 = dword_4D603C[v2] + (*(_DWORD *)(*((_DWORD *)this + 10) + 112) + 1000) / 10000;
    }
    if ( a5 > 0 )
      CItem::InsertItem(a2, 21, 517, 0, a5, -1);
    CPlayer::_OutofInven(this, (CItem *)v2);
  }
}
// 42BDC0: variable 'v2' is possibly undefined

//----- (0042BDD0) --------------------------------------------------------
void __thiscall CItemMask::SetWearState(_DWORD *this, int a2)
{
  if ( sub_427130(this, 1) )
  {
    sub_427B90(this, 1);
    CDBSocket::Write(5, "d", this[9]);
  }
}

//----- (0042BE10) --------------------------------------------------------
void __stdcall CItemMask::PutOn(int a1)
{
  CPlayer::Write(a1, 67, "b", 109);
}

//----- (0042BE40) --------------------------------------------------------
_DWORD *__thiscall CItemMask::Init(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *result; // eax

  this[11] = 0;
  this[13] = 1;
  this[24] = 1;
  result = this;
  this[23] = 1;
  return result;
}

//----- (0042BE80) --------------------------------------------------------
void __thiscall CItemStandard::SetWearState(_DWORD *this, int a2)
{
  if ( *(_DWORD *)(a2 + 480) || *(int *)(this[10] + 160) < 0 )
  {
    if ( sub_427130(this, 1) )
    {
      sub_427B90(this, 1);
      CDBSocket::Write(5, "d", this[9]);
    }
  }
  else
  {
    CItemStandard::Broken((CPlayer *)this, (_DWORD *)a2, 0);
  }
}

//----- (0042BEF0) --------------------------------------------------------
int *__thiscall CItemStandard::ApplySpec(int *this, int a2)
{
  int *result; // eax

  result = this;
  if ( !this[31] )
  {
    CInitItem::ApplySpec(this[10], a2);
    result = this;
    this[31] = 1;
  }
  return result;
}

//----- (0042BF30) --------------------------------------------------------
int *__thiscall CItemStandard::FreeSpec(int *this, int a2)
{
  int *result; // eax

  result = this;
  if ( this[31] )
  {
    CInitItem::FreeSpec(this[10], a2);
    result = this;
    this[31] = 0;
  }
  return result;
}

//----- (0042BF70) --------------------------------------------------------
void __thiscall CItemStandard::PutOn(_DWORD *this, _DWORD *a2)
{
  int v2; // eax
  int v3; // [esp-8h] [ebp-24h]
  int v4; // [esp-4h] [ebp-20h]

  if ( *(int *)(this[10] + 160) < 0 )
  {
    if ( sub_427130(this, 1) || !CChar::IsNormal((int)a2) || sub_40B310(a2, 512) )
      return;
    if ( CPlayer::IsWState(a2, 13) )
    {
LABEL_11:
      CPlayer::Write((int)a2, 67, "b", 10);
      return;
    }
LABEL_24:
    this[32] = GetTickCount() + 10000;
    CPlayer::AddWState(a2, 13);
    a2[128] = (unsigned __int16)a2[128] | (*(_DWORD *)(this[10] + 64) << 16);
    a2[279] = this;
    a2[280] = *(_DWORD *)(this[10] + 160);
    sub_4261F0(this, 1);
    (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 104))(this, a2);
    v4 = *(unsigned __int16 *)(this[10] + 64);
    v3 = this[9];
    v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 5, "ddw", v2, v3, v4);
    CDBSocket::Write(4, "d", this[9]);
    return;
  }
  if ( !a2[120] )
  {
    CItemStandard::Broken((CPlayer *)this, a2, 1);
    return;
  }
  if ( !sub_427130(this, 1)
    && CChar::IsNormal((int)a2)
    && !sub_40B310(a2, 512)
    && (int)a2[122] >= 3
    && (int)a2[129] <= 5 )
  {
    if ( CPlayer::IsWState(a2, 13) )
      goto LABEL_11;
    if ( CChar::IsMState(a2, 0x2000i64) )
      CChar::CancelBuff(a2, 12);
    if ( CChar::IsMState(a2, 0x1000000000i64) )
      CChar::CancelBuff(a2, 40);
    if ( CChar::IsMState(a2, 1i64) )
      (*(void (__thiscall **)(_DWORD *, int, _DWORD))(*a2 + 124))(a2, 1, 0);
    goto LABEL_24;
  }
}

//----- (0042C1B0) --------------------------------------------------------
void __thiscall CItemStandard::PutOff(_DWORD *this, _DWORD *a2)
{
  int v2; // eax
  int v3; // [esp-8h] [ebp-Ch]
  int v4; // [esp-4h] [ebp-8h]

  if ( sub_427130(this, 1) && CPlayer::IsWState(a2, 13) )
  {
    if ( this[32] <= GetTickCount() )
    {
      CPlayer::SubWState(a2, 13);
      a2[128] = (unsigned __int16)a2[128];
      a2[279] = 0;
      a2[280] = -1;
      sub_427B90(this, 1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 108))(this, a2);
      v4 = *(unsigned __int16 *)(this[10] + 64);
      v3 = this[9];
      v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      CChar::WriteInSight((int)a2, 6, "ddw", v2, v3, v4);
      CDBSocket::Write(5, "d", this[9]);
    }
    else
    {
      CPlayer::Write((int)a2, 67, "b", 79);
    }
  }
}

//----- (0042C2B0) --------------------------------------------------------
int __stdcall CItemStandard::CanDrop(int a1, int a2)
{
  CPlayer::Write(a2, 67, "b", 78);
  return 0;
}

//----- (0042C2E0) --------------------------------------------------------
BOOL __thiscall CItemStandard::CanTrade(_DWORD *this, int a2, int a3, int a4)
{
  BOOL result; // eax

  if ( !sub_427130(this, 1) && a4 && *(_DWORD *)(a3 + 480) == *(_DWORD *)(a4 + 480) && *(int *)(a4 + 516) < 6 )
    result = CItem::CanTrade(this, a2, a3, a4);
  else
    result = 0;
  return result;
}

//----- (0042C340) --------------------------------------------------------
int __thiscall CItemStandard::Broken(CPlayer *this, _DWORD *a2, int a3)
{
  int v3; // eax
  int v5; // [esp-8h] [ebp-Ch]
  int v6; // [esp-4h] [ebp-8h]

  if ( a3 && sub_427130(this, 1) )
  {
    if ( CPlayer::IsWState(a2, 13) )
      CPlayer::SubWState(a2, 13);
    a2[128] = (unsigned __int16)a2[128];
    a2[279] = 0;
    a2[280] = -1;
    sub_427B90(this, 1);
    ((void (__thiscall *)(CPlayer *, _DWORD *))this->AddBState)(this, a2);
    v6 = *(unsigned __int16 *)(*(_DWORD *)&this->m_szName[8] + 64);
    v5 = *(_DWORD *)&this->m_szName[4];
    v3 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 6, "ddw", v3, v5, v6);
    CDBSocket::Write(5, "d", *(_DWORD *)&this->m_szName[4]);
  }
  CPlayer::_OutofInven(this, (CItem *)this);
  CPlayer::Write((int)a2, 8, "db", MEMORY[0x28], 4);
  return (*(int (__thiscall **)(int, int))(MEMORY[4] + 92))(4, 4);
}

//----- (0042C450) --------------------------------------------------------
CItemOrnament *__thiscall CItemOrnament::CItemOrnament(CItemOrnament *this, int a2)
{
  CItem::CItem(this);
  *(_DWORD *)this = &off_4B7038;
  *((_DWORD *)this + 10) = a2;
  return this;
}
// 4B7038: using guessed type int (__stdcall *off_4B7038)(int);

//----- (0042C480) --------------------------------------------------------
int __thiscall CItemOrnament::Init(_DWORD *this, char a2, int a3, int a4)
{
  int result; // eax

  result = sub_425CB0(a2);
  this[11] = result;
  this[13] = 1;
  return result;
}

//----- (0042C4B0) --------------------------------------------------------
void __thiscall CItemOrnament::SetWearState(_DWORD *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h]

  if ( sub_427130(this, 1) )
  {
    if ( *(int *)(this[10] + 96) >= 0 && *(_DWORD *)(this[10] + 96) != a2[115]
      || *(_DWORD *)(this[10] + 100) > a2[15]
      || (v3 = *(_DWORD *)(this[10] + 72) - 2, CPlayer::IsWState(a2, v3)) )
    {
      sub_427B90(this, 1);
      CDBSocket::Write(5, "d", this[9]);
    }
    else
    {
      CPlayer::AddWState(a2, v3);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 104))(this, a2);
    }
  }
}

//----- (0042C560) --------------------------------------------------------
int __thiscall CItemOrnament::Trash(CItem *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+0h] [ebp-Ch]

  if ( sub_427130(this, 1) )
  {
    CPlayer::Write(a2, 67, "b", 11);
    result = 0;
  }
  else
  {
    CPlayer::Write(a2, 8, "db", this->m_nIID, a3);
    if ( this->m_pPrefix )
      v4 = this->m_pPrefix->m_nPrefix;
    else
      v4 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      this->m_nIID,
      this->m_nPID,
      this->m_pInit->m_nIndex,
      this->m_nNum,
      a3,
      ((unsigned __int8)this->m_nVer << 8) | (v4 << 24),
      0,
      0);
    CBase::Delete(this);
    result = 1;
  }
  return result;
}

//----- (0042C640) --------------------------------------------------------
int __thiscall CItemOrnament::Erase(CItem *this, int a2)
{
  int v3; // [esp+0h] [ebp-Ch]

  if ( *((_DWORD *)this + 9) )
  {
    if ( *((_DWORD *)this + 11) )
      v3 = *(_DWORD *)(*((_DWORD *)this + 11) + 32);
    else
      v3 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      *((_DWORD *)this + 9),
      *((_DWORD *)this + 8),
      *(_DWORD *)(*((_DWORD *)this + 10) + 64),
      *((_DWORD *)this + 13),
      a2,
      ((unsigned __int8)*((_DWORD *)this + 21) << 8) | (v3 << 24),
      0,
      0);
  }
  return CBase::Delete(this);
}

//----- (0042C6E0) --------------------------------------------------------
BOOL __thiscall CItemOrnament::ApplySpec(int *this, int a2)
{
  BOOL result; // eax

  result = CInitItem::ApplySpec(this[10], a2);
  if ( this[11] )
    result = CPrefix::ApplySpec(this[11], a2);
  return result;
}

//----- (0042C720) --------------------------------------------------------
BOOL __thiscall sub_42C720(int *this, int a2)
{
  BOOL result; // eax

  result = CInitItem::FreeSpec(this[10], a2);
  if ( this[11] )
    result = CPrefix::FreeSpec(this[11], a2);
  return result;
}

//----- (0042C760) --------------------------------------------------------
void __thiscall CItemOrnament::PutOn(_DWORD *this, _DWORD *a2)
{
  int v2; // eax
  int v3; // [esp-8h] [ebp-10h]
  int v4; // [esp-4h] [ebp-Ch]
  int v6; // [esp+4h] [ebp-4h]

  if ( (*(int *)(this[10] + 96) < 0 || *(_DWORD *)(this[10] + 96) == a2[115]) && *(_DWORD *)(this[10] + 100) <= a2[15] )
  {
    if ( !sub_427130(this, 1) )
    {
      v6 = *(_DWORD *)(this[10] + 72) - 2;
      if ( CPlayer::IsWState(a2, v6) )
      {
        CPlayer::Write((int)a2, 67, "b", 10);
      }
      else
      {
        CPlayer::AddWState(a2, v6);
        sub_4261F0(this, 1);
        (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 104))(this, a2);
        v4 = *(unsigned __int16 *)(this[10] + 64);
        v3 = this[9];
        v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
        CPlayer::Write((int)a2, 5, "ddw", v2, v3, v4);
        CDBSocket::Write(4, "d", this[9]);
      }
    }
  }
  else
  {
    CPlayer::Write((int)a2, 67, "b", 12);
  }
}

//----- (0042C870) --------------------------------------------------------
void __thiscall CItemOrnament::PutOff(_DWORD *this, _DWORD *a2)
{
  int v2; // eax
  int v3; // [esp-8h] [ebp-10h]
  int v4; // [esp-4h] [ebp-Ch]
  int v6; // [esp+4h] [ebp-4h]

  if ( sub_427130(this, 1) )
  {
    v6 = *(_DWORD *)(this[10] + 72) - 2;
    if ( CPlayer::IsWState(a2, v6) )
    {
      CPlayer::SubWState(a2, v6);
      sub_427B90(this, 1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 108))(this, a2);
      v4 = *(unsigned __int16 *)(this[10] + 64);
      v3 = this[9];
      v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      CChar::WriteInSight((int)a2, 6, "ddw", v2, v3, v4);
      CDBSocket::Write(5, "d", this[9]);
    }
  }
}

//----- (0042C920) --------------------------------------------------------
void __thiscall CItemOrnament::Insert(_DWORD *this, int a2, int a3, int a4)
{
  int v4; // [esp+0h] [ebp-10h]
  int v6; // [esp+Ch] [ebp-4h]

  v6 = this[8];
  this[8] = *(_DWORD *)(a2 + 452);
  if ( a3 == 10 )
    this[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo(this, a2, 7);
  if ( a4 )
  {
    CDBSocket::Write(7, "dddwbd", this[9], v6, this[8], *(_DWORD *)(this[10] + 64), a3, this[13]);
  }
  else
  {
    if ( this[11] )
      v4 = *(_DWORD *)(this[11] + 32);
    else
      v4 = 0;
    CDBSocket::Write(
      6,
      "dwbddbbdb",
      this[9],
      *(_DWORD *)(this[10] + 64),
      v4,
      this[12],
      this[13],
      0,
      this[21],
      this[8],
      a3);
  }
}

//----- (0042CA20) --------------------------------------------------------
int __thiscall CItemOrnament::UpdateNum(int this, int a2, int a3, int a4)
{
  int v5; // [esp+0h] [ebp-Ch]

  if ( a4 + *(_DWORD *)(this + 52) > 0 )
    return *(_DWORD *)(this + 52);
  CPlayer::Write(a2, 9, "ddb", *(_DWORD *)(this + 36), 0, a3);
  if ( a3 == 50 )
  {
    CDBSocket::Write(
      7,
      "dddwbd",
      *(_DWORD *)(this + 36),
      *(_DWORD *)(a2 + 452),
      0,
      *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
      50,
      *(_DWORD *)(this + 52));
  }
  else
  {
    if ( *(_DWORD *)(this + 44) )
      v5 = *(_DWORD *)(*(_DWORD *)(this + 44) + 32);
    else
      v5 = 0;
    CDBSocket::Write(
      3,
      "ddwdbddd",
      *(_DWORD *)(this + 36),
      *(_DWORD *)(this + 32),
      *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
      *(_DWORD *)(this + 52),
      a3,
      ((unsigned __int8)*(_DWORD *)(this + 84) << 8) | (v5 << 24),
      0,
      0);
  }
  *(_DWORD *)(this + 52) = 0;
  CBase::Delete((CItem *)this);
  return 0;
}

//----- (0042CB30) --------------------------------------------------------
BOOL __thiscall CItemTransform::CanDrop(_DWORD *this, int a2, int a3)
{
  if ( !sub_427130(this, 1) )
    return CItem::CanDrop(this, a2, a3);
  CPlayer::Write(a3, 67, "b", 13);
  return 0;
}

//----- (0042CB80) --------------------------------------------------------
int __thiscall CItemOrnament::StorageIn(int this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-24h]
  _WORD v6[3]; // [esp+8h] [ebp-1Ch] BYREF
  char v7; // [esp+Eh] [ebp-16h]
  int v8; // [esp+Fh] [ebp-15h]
  int v9; // [esp+13h] [ebp-11h]
  char v10; // [esp+17h] [ebp-Dh]
  char v11; // [esp+18h] [ebp-Ch]
  char v12; // [esp+19h] [ebp-Bh]
  char v13; // [esp+1Ah] [ebp-Ah]
  char v14; // [esp+1Bh] [ebp-9h]
  char v15; // [esp+1Ch] [ebp-8h]
  char v16; // [esp+1Dh] [ebp-7h]
  char v17; // [esp+1Eh] [ebp-6h]
  char v18; // [esp+1Fh] [ebp-5h]
  char v19; // [esp+20h] [ebp-4h]
  char v20; // [esp+21h] [ebp-3h]

  if ( sub_427130((_DWORD *)this, 1) )
    return 0;
  v6[0] = *(_WORD *)(*(_DWORD *)(this + 40) + 64);
  *(_DWORD *)&v6[1] = *(_DWORD *)(this + 36);
  if ( *(_DWORD *)(this + 44) )
    v4 = *(_DWORD *)(*(_DWORD *)(this + 44) + 32);
  else
    LOBYTE(v4) = 0;
  v7 = v4;
  v8 = *(_DWORD *)(this + 48);
  v9 = *(_DWORD *)(this + 52);
  v10 = 0;
  v11 = 0;
  v12 = *(_BYTE *)(this + 84);
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v20 = 0;
  CPlayer::_StorageIn(a2, (int)v6, *(_DWORD *)(this + 36), 0);
  CDBSocket::Write(
    11,
    "dddbd",
    *(_DWORD *)(this + 36),
    *(_DWORD *)(this + 32),
    *(_DWORD *)(a2 + 448),
    0,
    *(_DWORD *)(this + 52));
  CBase::Delete((CItem *)this);
  return 1;
}

//----- (0042CC80) --------------------------------------------------------
void __thiscall CItemOrnament::ForcedStorageIn(_DWORD *this, int a2, int a3, char *a4, int a5)
{
  LONG v5; // eax
  int v6; // [esp-24h] [ebp-34h]
  int v7; // [esp-1Ch] [ebp-2Ch]
  int v8; // [esp-18h] [ebp-28h]
  int v9; // [esp-10h] [ebp-20h]
  char *v10; // [esp+0h] [ebp-10h]
  int v11; // [esp+4h] [ebp-Ch]

  if ( this[11] )
    v11 = *(_DWORD *)(this[11] + 32);
  else
    v11 = 0;
  if ( a4 )
    v10 = a4;
  else
    v10 = &Source;
  v9 = this[21];
  v8 = this[13];
  v7 = this[12];
  v6 = *(_DWORD *)(this[10] + 64);
  v5 = CItem::NewIID();
  CDBSocket::Write(35, "bdwbddbbdds", a2, v5, v6, v11, v7, v8, 0, v9, a3, a5, v10);
}

//----- (0042CD20) --------------------------------------------------------
int __thiscall CItemOrnament::ChangePrefix(_DWORD *this, int a2, int a3, int a4, int a5)
{
  int v6; // [esp+0h] [ebp-1Ch]
  int v8; // [esp+8h] [ebp-14h]
  int i; // [esp+Ch] [ebp-10h]
  int v10; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h]

  if ( sub_427130(this, 1) || a3 >= 0 && a3 != 2 )
    return 0;
  if ( this[11] )
    v6 = *(_DWORD *)(this[11] + 32);
  else
    v6 = 0;
  v10 = v6;
  v11 = RandomBetween(1, 100);
  for ( i = 0; i < 2; ++i )
  {
    if ( v11 <= *(_DWORD *)(a4 + 4 * i) )
    {
      v10 = *(_DWORD *)(a5 + 4 * i);
      break;
    }
  }
  if ( v6 == v10 )
  {
    CPlayer::Write(a2, 67, "b", 54);
  }
  else
  {
    v8 = sub_425CB0(v10);
    if ( !v8 )
      return 0;
    this[11] = v8;
    CDBSocket::Write(19, "ddbb", this[9], this[8], v10, 0);
    CItem::SendItemInfo(this, a2, 92);
  }
  return 1;
}

//----- (0042CE40) --------------------------------------------------------
int __thiscall CItemOrnament::GetSellMoney(_DWORD *this, int a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = *(_DWORD *)(this[10] + 112);
  if ( this[11] )
    v3 += *(_DWORD *)(this[11] + 40) * v3 / 100;
  return v3;
}

//----- (0042CE90) --------------------------------------------------------
void __thiscall CItemOrnament::UpgradeDestroy(int this, int a2)
{
  if ( *(_DWORD *)(*(_DWORD *)(this + 40) + 64) != 596 && !sub_427130((_DWORD *)this, 1) )
  {
    if ( (*(int (__thiscall **)(int, int, int))(*(_DWORD *)this + 88))(this, a2, 45) )
    {
      CItem::InsertItem(a2, 45, 517, 0, 1, -1);
      CPlayer::_OutofInven((CPlayer *)this, (CItem *)this);
    }
  }
}

//----- (0042CF10) --------------------------------------------------------
_DWORD *__thiscall sub_42CF10(_DWORD *this, int a2)
{
  CItem::CItem((CItem *)this);
  *this = &off_4B7118;
  this[10] = a2;
  return this;
}
// 4B7118: using guessed type int (__stdcall *off_4B7118)(int);

//----- (0042CF40) --------------------------------------------------------
int __thiscall CItem::Sum(_DWORD *this, int a2)
{
  if ( a2 <= 0 || (unsigned int)(a2 + this[13]) <= 0x7FFFFFFF )
    return a2 + this[13];
  LOG_ERR(
    "Excess of Item Num : PID(%d), Index(%d), IID(%d), Num(%d), AddNum(%d)",
    this[8],
    *(_DWORD *)(this[10] + 64),
    this[9],
    this[13],
    a2);
  return 0x7FFFFFFF;
}

//----- (0042CFB0) --------------------------------------------------------
int __thiscall CItemGeneral::Use(int *this, int a2)
{
  int v2; // eax
  int v4; // [esp-4h] [ebp-8h]

  if ( CInitItem::Use(this[10], a2) )
  {
    (*(void (__thiscall **)(int *, int, int, int))(*this + 120))(
      this,
      a2,
      *(_DWORD *)(this[10] + 156) != 0 ? 43 : 9,
      -1);
    if ( *(_DWORD *)(this[10] + 172) )
    {
      v4 = *(_DWORD *)(this[10] + 172);
      v2 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInRect(a2, 73, 15, "db", v2, v4);
    }
  }
  return this[13];
}

//----- (0042D040) --------------------------------------------------------
int __thiscall CItemGeneral::Trade(int this, int a2, int a3, int a4)
{
  int v6; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(this + 52) < a4 )
    EBREAK(this);
  if ( *(_DWORD *)(this + 52) <= a4 )
  {
    *(_DWORD *)(this + 32) = 0;
    *(_DWORD *)(this + 48) |= 4u;
    CPlayer::Write(a2, 8, "db", *(_DWORD *)(this + 36), a3);
    CDBSocket::Write(
      7,
      "dddwbd",
      *(_DWORD *)(this + 36),
      *(_DWORD *)(a2 + 452),
      *(_DWORD *)(this + 32),
      *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
      a3,
      *(_DWORD *)(this + 52));
    v6 = this;
  }
  else
  {
    *(_DWORD *)(this + 52) -= a4;
    CPlayer::Write(a2, 9, "ddb", *(_DWORD *)(this + 36), *(_DWORD *)(this + 52), a3);
    CDBSocket::Write(
      8,
      "ddwdb",
      *(_DWORD *)(this + 36),
      *(_DWORD *)(this + 32),
      *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
      -a4,
      a3);
    v6 = CItem::CreateItem(*(_DWORD *)(*(_DWORD *)(this + 40) + 64), 0, a4, *(_DWORD *)(this + 84));
  }
  return v6;
}

//----- (0042D180) --------------------------------------------------------
int __thiscall CItemGeneral::StorageIn(int this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-2Ch]
  int v6; // [esp+Ch] [ebp-20h] BYREF
  _WORD a2a[3]; // [esp+10h] [ebp-1Ch] BYREF
  __int128 v8; // [esp+16h] [ebp-16h]
  int v9; // [esp+26h] [ebp-6h]

  if ( *(_DWORD *)(this + 52) >= a3 )
    v4 = a3;
  else
    v4 = *(_DWORD *)(this + 52);
  a2a[0] = 0;
  *(_DWORD *)&a2a[1] = 0;
  v8 = 0ui64;
  v9 = 0;
  *(_DWORD *)((char *)&v8 + 1) = *(_DWORD *)(this + 48) & 0x88;
  *(_DWORD *)((char *)&v8 + 11) = *(unsigned __int8 *)(this + 84);
  if ( *(_DWORD *)(*(_DWORD *)(this + 40) + 92) )
  {
    *(_DWORD *)(this + 52) -= v4;
    if ( CPlayer::AskParty(
           (CPlayer *)a2,
           *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
           &v6,
           *(_DWORD *)(this + 48) & 0x88,
           *(_DWORD *)(this + 84)) )
    {
      *(_DWORD *)&a2a[1] = v6;
      *(_DWORD *)((char *)&v8 + 5) = v4;
      CDBSocket::Write(11, "dddbd", v6, *(_DWORD *)(this + 32), *(_DWORD *)(a2 + 448), 1, v4);
      if ( *(int *)(this + 52) <= 0 )
        CDBSocket::Write(
          3,
          "ddwdbddd",
          *(_DWORD *)(this + 36),
          *(_DWORD *)(this + 32),
          *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
          v4,
          15,
          (unsigned __int8)*(_DWORD *)(this + 84) << 8,
          0,
          0);
      else
        CDBSocket::Write(
          8,
          "ddwdb",
          *(_DWORD *)(this + 36),
          *(_DWORD *)(this + 32),
          *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
          -v4,
          15);
    }
    else
    {
      a2a[0] = *(_WORD *)(*(_DWORD *)(this + 40) + 64);
      *(_DWORD *)((char *)&v8 + 5) = v4;
      if ( *(int *)(this + 52) <= 0 )
      {
        *(_DWORD *)&a2a[1] = *(_DWORD *)(this + 36);
        CDBSocket::Write(11, "dddbd", *(_DWORD *)(this + 36), *(_DWORD *)(this + 32), *(_DWORD *)(a2 + 448), 0, v4);
      }
      else
      {
        *(_DWORD *)&a2a[1] = CItem::NewIID();
        CDBSocket::Write(
          6,
          "dwbddbbdb",
          *(_DWORD *)&a2a[1],
          a2a[0],
          0,
          *(_DWORD *)(this + 48) & 0x88 | 0x10,
          v4,
          0,
          *(_DWORD *)(this + 84),
          *(_DWORD *)(a2 + 448),
          15);
        CDBSocket::Write(
          8,
          "ddwdb",
          *(_DWORD *)(this + 36),
          *(_DWORD *)(this + 32),
          *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
          -v4,
          15);
      }
    }
    CPlayer::_StorageIn(a2, (int)a2a, *(_DWORD *)(this + 36), *(_DWORD *)(this + 52));
    if ( *(int *)(this + 52) > 0 )
      return 0;
  }
  else
  {
    *(_DWORD *)&a2a[1] = *(_DWORD *)(this + 36);
    a2a[0] = *(_WORD *)(*(_DWORD *)(this + 40) + 64);
    *(_DWORD *)((char *)&v8 + 5) = *(_DWORD *)(this + 52);
    CPlayer::_StorageIn(a2, (int)a2a, *(_DWORD *)(this + 36), 0);
    CDBSocket::Write(
      11,
      "dddbd",
      *(_DWORD *)(this + 36),
      *(_DWORD *)(this + 32),
      *(_DWORD *)(a2 + 448),
      0,
      *(_DWORD *)(this + 52));
  }
  CBase::Delete((CItem *)this);
  return 1;
}

//----- (0042D460) --------------------------------------------------------
int __thiscall CItemGeneral::StorageOut(CItem *this, int a2, int a3, int a4, _DWORD *a5)
{
  int result; // eax
  int v6; // [esp+0h] [ebp-10h]
  int v8; // [esp+8h] [ebp-8h]
  _DWORD *v9; // [esp+Ch] [ebp-4h]

  if ( !this->m_pInit->m_bPlural )
    return CItem::StorageOut(this, a2, a3, a4, (int)a5);
  if ( this->m_nNum >= a3 )
    v6 = a3;
  else
    v6 = this->m_nNum;
  this->m_nNum -= v6;
  v9 = (_DWORD *)CPlayer::_FindMergeItem(a2, (int)this);
  if ( v9 )
  {
    v9[13] = CItem::Sum(v9, v6);
    CPlayer::Write(a2, 90, "dd", v9[9], v9[13]);
    CDBSocket::Write(8, "ddwdb", v9[9], this->m_nPID, this->m_pInit->m_nIndex, v6, 15);
    *a5 = this->m_nNum;
    CPlayer::_StorageOut((int *)a2, this->m_nIID, *a5);
    CDBSocket::Write(12, "ddbd", this->m_nIID, this->m_nPID, (this->m_nNum <= 0) + 1, v6);
    CBase::Delete(this);
    result = 0;
  }
  else if ( this->m_nNum <= 0 )
  {
    this->m_nNum = v6;
    result = CItem::StorageOut(this, a2, v6, a4, (int)a5);
  }
  else
  {
    v8 = this->m_nIID;
    this->m_nIID = CItem::NewIID();
    *a5 = this->m_nNum;
    this->m_nNum = v6;
    CItem::SendItemInfo(this, a2, 89);
    CDBSocket::Write(12, "ddbd", v8, this->m_nPID, 1, v6);
    CDBSocket::Write(6, "dwbddbbdb", this->m_nIID, a4, 0, this->m_dwInfo & 0x88, v6, 0, this->m_nVer, this->m_nPID, 15);
    result = 1;
  }
  return result;
}

//----- (0042D670) --------------------------------------------------------
int __thiscall CItemGeneral::Enchant(int *this, int a2, int a3)
{
  if ( CInitItem::Enchant(this[10], a2, a3) )
    (*(void (__thiscall **)(int *, int, int, int))(*this + 120))(this, a2, 21, -1);
  return this[13];
}

//----- (0042D6B0) --------------------------------------------------------
_DWORD *__thiscall sub_42D6B0(_DWORD *this, int a2)
{
  CItem::CItem((CItem *)this);
  *this = &off_4B7248;
  this[10] = a2;
  return this;
}
// 4B7248: using guessed type int (__stdcall *off_4B7248)(int);

//----- (0042D6E0) --------------------------------------------------------
int __thiscall CItemGeneral::UpdateNum(CItem *this, int a2, int a3, int a4)
{
  int v6; // [esp+8h] [ebp-4h]
  int a4a; // [esp+1Ch] [ebp+10h]

  if ( !this->m_pInit->m_bPlural )
    return CItem::UpdateNum(this, a2, a3, a4);
  v6 = this->m_nNum;
  this->m_nNum = CItem::Sum(this, a4);
  if ( this->m_nNum <= 0 )
  {
    CPlayer::Write(a2, 9, "ddb", this->m_nIID, 0, a3);
    if ( a3 == 50 )
      CDBSocket::Write(7, "dddwbd", this->m_nIID, *(_DWORD *)(a2 + 452), 0, this->m_pInit->m_nIndex, 50, this->m_nNum);
    else
      CDBSocket::Write(
        3,
        "ddwdbddd",
        this->m_nIID,
        this->m_nPID,
        this->m_pInit->m_nIndex,
        v6,
        a3,
        (unsigned __int8)this->m_nVer << 8,
        0,
        0);
    a4a = 0;
    CBase::Delete(this);
  }
  else
  {
    CPlayer::Write(a2, 9, "ddb", this->m_nIID, this->m_nNum, a3);
    CDBSocket::Write(8, "ddwdb", this->m_nIID, this->m_nPID, this->m_pInit->m_nIndex, a4, a3);
    a4a = this->m_nNum;
  }
  return a4a;
}

//----- (0042D860) --------------------------------------------------------
BOOL __thiscall CItemQuest::CanMerge(_DWORD *this, _DWORD *a2)
{
  int v2; // esi
  BOOL v4; // [esp+4h] [ebp-8h]

  v4 = 0;
  if ( this[10] == a2[10] )
  {
    v2 = sub_427130(this, 136);
    if ( v2 == sub_427130(a2, 136) && (dword_4E35B8 != 2 || this[21] == a2[21]) )
      v4 = 1;
  }
  return v4;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (0042D8D0) --------------------------------------------------------
_DWORD *__thiscall sub_42D8D0(_DWORD *this, int a2)
{
  CItem::CItem((CItem *)this);
  *this = &off_4B7328;
  this[10] = a2;
  return this;
}
// 4B7328: using guessed type int (__stdcall *off_4B7328)(int);

//----- (0042D900) --------------------------------------------------------
BOOL __thiscall sub_42D900(_DWORD *this, int a2)
{
  return *(_DWORD *)(a2 + 40) == this[10];
}

//----- (0042D920) --------------------------------------------------------
int __thiscall CItemMoney::Trash(CItem *this, int a2, int a3)
{
  InterlockedExchangeAdd(&dword_4E2014, -this->m_nNum);
  *(_DWORD *)(a2 + 1096) = 0;
  CPlayer::Write(a2, 8, "db", this->m_nIID, a3);
  CDBSocket::Write(3, "ddwdbddd", this->m_nIID, this->m_nPID, this->m_pInit->m_nIndex, this->m_nNum, a3, 0, 0, 0);
  CBase::Delete(this);
  return 1;
}

//----- (0042D9C0) --------------------------------------------------------
void __thiscall CItemMoney::Insert(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v5; // [esp+4h] [ebp-4h]

  if ( a3 != 10 )
    InterlockedExchangeAdd(&dword_4E2014, this[13]);
  if ( this[20] )
  {
    if ( this[20] == 1 )
    {
      a2[335] += this[13];
    }
    else if ( this[20] == 2 )
    {
      a2[336] += this[13];
    }
  }
  a2[274] = this;
  v5 = this[8];
  this[8] = a2[113];
  if ( a3 == 10 )
    this[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo(this, (int)a2, 7);
  if ( a4 )
    CDBSocket::Write(7, "dddwbd", this[9], v5, this[8], *(_DWORD *)(this[10] + 64), a3, this[13]);
  else
    CDBSocket::Write(6, "dwbddbbdb", this[9], *(_DWORD *)(this[10] + 64), 0, this[12], this[13], 0, 0, this[8], a3);
}

//----- (0042DB00) --------------------------------------------------------
int __thiscall CItemMoney::UpdateNum(CItem *this, int a2, int a3, LONG Value)
{
  int result; // eax
  int v6; // [esp+4h] [ebp-4h]

  if ( a3 != 10 && a3 != 26 && a3 != 50 && a3 != 51 && (a3 != 15 || Value < 0) )
    InterlockedExchangeAdd(&dword_4E2014, Value);
  v6 = this->m_nNum;
  if ( v6 >= 0 )
  {
    this->m_nNum = CItem::Sum(this, Value);
    if ( this->m_nNum <= 0 )
    {
      *(_DWORD *)(a2 + 1096) = 0;
      CPlayer::Write(a2, 9, "ddb", this->m_nIID, this->m_nNum, a3);
      if ( a3 == 50 || a3 == 51 )
        CDBSocket::Write(7, "dddwbd", this->m_nIID, *(_DWORD *)(a2 + 452), 0, this->m_pInit->m_nIndex, a3, this->m_nNum);
      else
        CDBSocket::Write(3, "ddwdbddd", this->m_nIID, this->m_nPID, this->m_pInit->m_nIndex, v6, a3, 0, 0, 0);
      this->m_nNum = 0;
      CBase::Delete(this);
    }
    else
    {
      CPlayer::Write(a2, 9, "ddb", this->m_nIID, this->m_nNum, a3);
      CDBSocket::Write(8, "ddwdb", this->m_nIID, this->m_nPID, this->m_pInit->m_nIndex, Value, a3);
    }
    result = this->m_nNum;
  }
  else
  {
    CPlayer::Write(a2, 9, "ddb", this->m_nIID, 1, a3);
    CDBSocket::Write(8, "ddwdb", this->m_nIID, this->m_nPID, this->m_pInit->m_nIndex, 1 - v6, a3);
    LOG_ERR("nOldNum<0 :  UID(%d) PID(%d) IID(%d) Num(%d) ", *(_DWORD *)(a2 + 448), this->m_nPID, this->m_nIID, v6);
    result = 1;
  }
  return result;
}

//----- (0042DD20) --------------------------------------------------------
void __thiscall CItemMoney::Drop(int this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // edx
  int v9; // [esp+14h] [ebp-10h]
  CIOObject *v10; // [esp+18h] [ebp-Ch]
  CIOBuffer *v11; // [esp+20h] [ebp-4h]

  *(_DWORD *)(this + 56) = *(_DWORD *)(a2 + 320);
  v7 = *(_DWORD *)(a3 + 4);
  *(_DWORD *)(this + 60) = *(_DWORD *)a3;
  *(_DWORD *)(this + 64) = v7;
  *(_DWORD *)(this + 68) = GetTickCount() + 180000;
  CIOObject::AddTimer((CIOObject *)this, 0xEA60u, 0);
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) )
  {
    if ( a5 )
    {
      InterlockedExchangeAdd(&dword_4E2014, -*(_DWORD *)(this + 52));
      *(_DWORD *)(a2 + 1096) = 0;
      CPlayer::Write(a2, 8, "db", *(_DWORD *)(this + 36), 11);
      CDBSocket::Write(
        7,
        "dddwbd",
        *(_DWORD *)(this + 36),
        *(_DWORD *)(this + 32),
        0,
        *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
        11,
        *(_DWORD *)(this + 52));
    }
    else
    {
      *(_DWORD *)(this + 32) = *(_DWORD *)(a2 + 452);
    }
  }
  else
  {
    if ( !a6 )
    {
      v10 = CPlayer::FindPlayer_(a7);
      if ( v10 )
      {
        v9 = 0;
        if ( CChar::IsBState(v10, 4i64) )
        {
          v9 = 20;
        }
        else if ( CChar::IsBState(v10, 1i64) )
        {
          v9 = 20;
        }
        if ( v9 )
          *(_DWORD *)(this + 52) += v9 * *(_DWORD *)(this + 52) / 100;
        CIOObject::Release(v10, (volatile int *)&v10[22]);
      }
    }
    *(_DWORD *)(this + 72) = a6;
    *(_DWORD *)(this + 76) = a7;
    CIOObject::AddTimer((CIOObject *)this, 0x1D4C0u, 1);
  }
  v11 = WritePacket_(
          54,
          "wdddd",
          *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
          *(_DWORD *)(this + 28),
          *(_DWORD *)a3,
          *(_DWORD *)(a3 + 4),
          *(_DWORD *)(this + 52));
  CSMap::SendPacketInRect(*(void **)(a2 + 320), a4, (int)v11, 25);
  CIOBuffer::Release(v11);
}

//----- (0042DF30) --------------------------------------------------------
int __thiscall CItemMoney::Trade(int this, int a2, int a3, int a4)
{
  int v6; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(this + 52) < a4 )
    EBREAK(this);
  if ( *(_DWORD *)(this + 52) <= a4 )
  {
    *(_DWORD *)(this + 32) = 0;
    *(_DWORD *)(this + 48) |= 4u;
    *(_DWORD *)(a2 + 1096) = 0;
    CPlayer::Write(a2, 8, "db", *(_DWORD *)(this + 36), a3);
    CDBSocket::Write(
      7,
      "dddwbd",
      *(_DWORD *)(this + 36),
      *(_DWORD *)(a2 + 452),
      *(_DWORD *)(this + 32),
      *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
      a3,
      *(_DWORD *)(this + 52));
    v6 = this;
  }
  else
  {
    *(_DWORD *)(this + 52) -= a4;
    CPlayer::Write(a2, 9, "ddb", *(_DWORD *)(this + 36), *(_DWORD *)(this + 52), a3);
    CDBSocket::Write(
      8,
      "ddwdb",
      *(_DWORD *)(this + 36),
      *(_DWORD *)(this + 32),
      *(_DWORD *)(*(_DWORD *)(this + 40) + 64),
      -a4,
      a3);
    v6 = CItem::CreateItem(*(_DWORD *)(*(_DWORD *)(this + 40) + 64), 0, a4, -1);
  }
  return v6;
}

//----- (0042E080) --------------------------------------------------------
int __thiscall CItemMoney::StorageIn(CItem *this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-28h]
  _WORD a2a[3]; // [esp+8h] [ebp-20h] BYREF
  _BYTE v7[12]; // [esp+Eh] [ebp-1Ah]
  int v8; // [esp+1Ah] [ebp-Eh]
  int v9; // [esp+1Eh] [ebp-Ah]
  int v10; // [esp+24h] [ebp-4h] BYREF

  if ( *((_DWORD *)this + 13) >= a3 )
    v4 = a3;
  else
    v4 = *((_DWORD *)this + 13);
  *((_DWORD *)this + 13) -= v4;
  a2a[0] = 0;
  *(_DWORD *)&a2a[1] = 0;
  *(_DWORD *)v7 = 0;
  *(_DWORD *)&v7[4] = 0;
  *(_DWORD *)&v7[8] = 0;
  v8 = 0;
  v9 = 0;
  *(_DWORD *)&v7[1] = *((_DWORD *)this + 12) & 0x88;
  if ( CPlayer::AskParty(
         (CPlayer *)a2,
         *(_DWORD *)(*((_DWORD *)this + 10) + 64),
         &v10,
         *((_DWORD *)this + 12) & 0x88,
         0) )
  {
    *(_DWORD *)&a2a[1] = v10;
    *(_DWORD *)&v7[5] = v4;
    CDBSocket::Write(11, "dddbd", v10, *((_DWORD *)this + 8), *(_DWORD *)(a2 + 448), 1, v4);
    if ( *((int *)this + 13) <= 0 )
    {
      *(_DWORD *)(a2 + 1096) = 0;
      CDBSocket::Write(
        3,
        "ddwdbddd",
        *((_DWORD *)this + 9),
        *((_DWORD *)this + 8),
        *(_DWORD *)(*((_DWORD *)this + 10) + 64),
        v4,
        15,
        0,
        0,
        0);
    }
    else
    {
      CDBSocket::Write(
        8,
        "ddwdb",
        *((_DWORD *)this + 9),
        *((_DWORD *)this + 8),
        *(_DWORD *)(*((_DWORD *)this + 10) + 64),
        -v4,
        15);
    }
  }
  else
  {
    a2a[0] = *(_WORD *)(*((_DWORD *)this + 10) + 64);
    *(_DWORD *)&v7[5] = v4;
    if ( *((int *)this + 13) <= 0 )
    {
      *(_DWORD *)(a2 + 1096) = 0;
      *(_DWORD *)&a2a[1] = *((_DWORD *)this + 9);
      CDBSocket::Write(11, "dddbd", *((_DWORD *)this + 9), *((_DWORD *)this + 8), *(_DWORD *)(a2 + 448), 0, v4);
    }
    else
    {
      *(_DWORD *)&a2a[1] = CItem::NewIID();
      CDBSocket::Write(
        6,
        "dwbddbbdb",
        *(_DWORD *)&a2a[1],
        a2a[0],
        0,
        *((_DWORD *)this + 12) & 0x88 | 0x10,
        v4,
        0,
        0,
        *(_DWORD *)(a2 + 448),
        15);
      CDBSocket::Write(
        8,
        "ddwdb",
        *((_DWORD *)this + 9),
        *((_DWORD *)this + 8),
        *(_DWORD *)(*((_DWORD *)this + 10) + 64),
        -v4,
        15);
    }
  }
  CPlayer::_StorageIn(a2, (int)a2a, *((_DWORD *)this + 9), *((_DWORD *)this + 13));
  if ( *((int *)this + 13) > 0 )
    return 0;
  CBase::Delete(this);
  return 1;
}

//----- (0042E2E0) --------------------------------------------------------
int __thiscall CItemMoney::StorageOut(CItem *this, int a2, int a3, int a4, _DWORD *a5)
{
  int result; // eax
  int v6; // [esp+0h] [ebp-10h]
  int v8; // [esp+8h] [ebp-8h]
  _DWORD *v9; // [esp+Ch] [ebp-4h]

  if ( this->m_nNum >= a3 )
    v6 = a3;
  else
    v6 = this->m_nNum;
  this->m_nNum -= v6;
  v9 = (_DWORD *)CPlayer::_FindMergeItem(a2, (int)this);
  if ( v9 )
  {
    if ( (int)v9[13] >= 0 )
    {
      v9[13] = CItem::Sum(v9, v6);
      CPlayer::Write(a2, 90, "dd", v9[9], v9[13]);
      CDBSocket::Write(8, "ddwdb", v9[9], this->m_nPID, this->m_pInit->m_nIndex, v6, 15);
      *a5 = this->m_nNum;
      CPlayer::_StorageOut((int *)a2, this->m_nIID, *a5);
      CDBSocket::Write(12, "ddbd", this->m_nIID, this->m_nPID, (this->m_nNum <= 0) + 1, v6);
      CBase::Delete(this);
      result = 0;
    }
    else
    {
      CPlayer::Write(a2, 9, "ddb", v9[9], 1, 15);
      CDBSocket::Write(8, "ddwdb", v9[9], this->m_nPID, *(_DWORD *)(v9[10] + 64), 1 - v9[13], 15);
      LOG_ERR(
        "nOldNum<0 :  UID(%d) PID(%d) IID(%d) Num(%d) LogType(%d)",
        *(_DWORD *)(a2 + 448),
        this->m_nPID,
        v9[9],
        v9[13],
        15);
      result = 1;
    }
  }
  else
  {
    *(_DWORD *)(a2 + 1096) = this;
    if ( this->m_nNum <= 0 )
    {
      this->m_nNum = v6;
      result = CItem::StorageOut(this, a2, v6, a4, (int)a5);
    }
    else
    {
      v8 = this->m_nIID;
      this->m_nIID = CItem::NewIID();
      *a5 = this->m_nNum;
      this->m_nNum = v6;
      CItem::SendItemInfo(this, a2, 89);
      CDBSocket::Write(12, "ddbd", v8, this->m_nPID, 1, v6);
      CDBSocket::Write(6, "dwbddbbdb", this->m_nIID, a4, 0, this->m_dwInfo & 0x88, v6, 0, 0, this->m_nPID, 15);
      result = 1;
    }
  }
  return result;
}

//----- (0042E570) --------------------------------------------------------
int __thiscall CItemMoney::SetEtc(_DWORD *this, int a2)
{
  if ( this[20] )
  {
    if ( this[20] == 1 )
    {
      *(_DWORD *)(a2 + 1340) += this[13];
    }
    else if ( this[20] == 2 )
    {
      *(_DWORD *)(a2 + 1344) += this[13];
    }
  }
  return CItem::SetEtc(this, a2);
}

//----- (0042E5E0) --------------------------------------------------------
CItemTransform *__thiscall CItemTransform::CItemTransform(CItemTransform *this, int a2)
{
  CItem::CItem(this);
  *(_DWORD *)this = &off_4B7470;
  *((_DWORD *)this + 10) = a2;
  *((_DWORD *)this + 23) = 0;
  *((_DWORD *)this + 24) = 0;
  *((_DWORD *)this + 25) = 0;
  *((_DWORD *)this + 26) = 0;
  return this;
}
// 4B7470: using guessed type int (__stdcall *off_4B7470)(int);

//----- (0042E640) --------------------------------------------------------
void **__thiscall CItemTransform::PutInfo(int this, void **a2, int a3)
{
  void **result; // eax

  *a2 = PutNumeric<int>(*a2, *(_DWORD *)(this + 36));
  *a2 = PutNumeric<short>(*a2, *(_WORD *)(*(_DWORD *)(this + 40) + 64));
  *a2 = PutNumeric<unsigned char>(*a2, 0);
  *a2 = PutNumeric<int>(*a2, *(_DWORD *)(this + 48));
  *a2 = PutNumeric<int>(*a2, *(_DWORD *)(this + 96));
  *a2 = PutNumeric<unsigned char>(*a2, *(_BYTE *)(this + 92));
  memset(*a2, 0, 0xAu);
  result = a2;
  *a2 = (char *)*a2 + 10;
  return result;
}

//----- (0042E710) --------------------------------------------------------
int __thiscall sub_42E710(int this, int a2, _DWORD *a3)
{
  int result; // eax

  *(_DWORD *)(this + 32) = a2;
  *(_DWORD *)(this + 52) = 1;
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 36));
  ++*a3;
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 48));
  *a3 = GetNumeric<int>((_DWORD *)*a3, (_DWORD *)(this + 96));
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 92));
  ++*a3;
  *a3 = GetNumeric<unsigned char>((_BYTE *)*a3, (_BYTE *)(this + 84));
  *a3 += 8;
  result = *(_DWORD *)(this + 48) | 0x20;
  *(_DWORD *)(this + 48) = result;
  return result;
}

//----- (0042E7F0) --------------------------------------------------------
_DWORD *__thiscall CItemTransform::Init(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *result; // eax

  this[12] |= 0x20u;
  result = this;
  this[13] = 1;
  this[23] = 1;
  return result;
}

//----- (0042E820) --------------------------------------------------------
void __thiscall CItemTransform::SetWearState(_DWORD *this, _DWORD *a2)
{
  if ( sub_427130(this, 1) )
  {
    if ( a2[15] < this[23] || CPlayer::IsWState(a2, 10) )
    {
      sub_427B90(this, 1);
      CDBSocket::Write(5, "d", this[9]);
    }
    else
    {
      CPlayer::AddWState(a2, 10);
      a2[277] = this;
      a2[278] = 16 * *(_DWORD *)(this[10] + 152);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 104))(this, a2);
    }
  }
}

//----- (0042E8C0) --------------------------------------------------------
int __thiscall CItemTransform::Trash(CItem *this, int a2, int a3)
{
  int result; // eax

  if ( sub_427130(this, 1) )
  {
    CPlayer::Write(a2, 67, "b", 11);
    result = 0;
  }
  else
  {
    CPlayer::Write(a2, 8, "db", this->m_nIID, a3);
    CDBSocket::Write(
      3,
      "ddwdbddd",
      this->m_nIID,
      this->m_nPID,
      this->m_pInit->m_nIndex,
      this[1].m_nRef,
      a3,
      ((unsigned __int8)this->m_nVer << 8) | ((unsigned __int8)this[1].__vftable << 16),
      0,
      0);
    CBase::Delete(this);
    result = 1;
  }
  return result;
}

//----- (0042E980) --------------------------------------------------------
int __thiscall CItemTransform::Erase(CItem *this, int a2)
{
  if ( *((_DWORD *)this + 9) )
    CDBSocket::Write(
      3,
      "ddwdbddd",
      *((_DWORD *)this + 9),
      *((_DWORD *)this + 8),
      *(_DWORD *)(*((_DWORD *)this + 10) + 64),
      *((_DWORD *)this + 24),
      a2,
      ((unsigned __int8)*((_DWORD *)this + 21) << 8) | ((unsigned __int8)*((_DWORD *)this + 23) << 16),
      0,
      0);
  return CBase::Delete(this);
}

//----- (0042EA00) --------------------------------------------------------
int __thiscall CItemTransform::ApplySpec(_DWORD *this, int a2)
{
  int result; // eax
  int i; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  for ( i = 0; i <= 4; ++i )
  {
    v5 = dword_4D6090[11 * *(_DWORD *)(this[10] + 152) + i];
    if ( v5 )
      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, i, 1, this[23] / v5 + 1);
    result = i + 1;
  }
  return result;
}
// 4D6090: using guessed type int dword_4D6090[];

//----- (0042EA70) --------------------------------------------------------
int __thiscall CItemTransform::FreeSpec(_DWORD *this, int a2)
{
  int result; // eax
  int i; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  for ( i = 0; i <= 4; ++i )
  {
    v5 = dword_4D6090[11 * *(_DWORD *)(this[10] + 152) + i];
    if ( v5 )
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 92))(a2, i, 0, this[23] / v5 + 1);
    result = i + 1;
  }
  return result;
}
// 4D6090: using guessed type int dword_4D6090[];

//----- (0042EAE0) --------------------------------------------------------
void __thiscall CItemTransform::PutOn(_DWORD *this, _DWORD *a2)
{
  int v2; // [esp-Ch] [ebp-10h]
  int v3; // [esp-8h] [ebp-Ch]
  int v4; // [esp-4h] [ebp-8h]

  if ( a2[15] >= this[23] && !sub_427130(this, 1) )
  {
    if ( CPlayer::IsWState(a2, 10) )
    {
      CPlayer::Write((int)a2, 67, "b", 10);
    }
    else
    {
      CPlayer::AddWState(a2, 10);
      a2[277] = this;
      a2[278] = 16 * *(_DWORD *)(this[10] + 152);
      sub_4261F0(this, 1);
      (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 104))(this, a2);
      v4 = *(unsigned __int16 *)(this[10] + 64);
      v3 = this[9];
      v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      CPlayer::Write((int)a2, 5, "ddw", v2, v3, v4);
      CDBSocket::Write(4, "d", this[9]);
    }
  }
}

//----- (0042EBD0) --------------------------------------------------------
int __thiscall CItemTransform::PutOff(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int v3; // eax
  int v4; // [esp-8h] [ebp-Ch]
  int v5; // [esp-4h] [ebp-8h]

  result = sub_427130(this, 1);
  if ( result )
  {
    result = CPlayer::IsWState(a2, 10);
    if ( result )
    {
      result = sub_40B310(a2, 512);
      if ( !result )
      {
        CPlayer::SubWState(a2, 10);
        a2[277] = 0;
        a2[278] = 0;
        this[25] = 0;
        sub_427B90(this, 1);
        (*(void (__thiscall **)(_DWORD *, _DWORD *))(*this + 108))(this, a2);
        v5 = *(unsigned __int16 *)(this[10] + 64);
        v4 = this[9];
        v3 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
        CPlayer::Write((int)a2, 6, "ddw", v3, v4, v5);
        CDBSocket::Write(5, "d", this[9]);
        CItemTransform::SaveInfo(this, 0);
      }
    }
  }
  return result;
}

//----- (0042ECB0) --------------------------------------------------------
void __thiscall CItemTransform::Insert(_DWORD *this, int a2, int a3, int a4)
{
  int v5; // [esp+4h] [ebp-4h]

  v5 = this[8];
  this[8] = *(_DWORD *)(a2 + 452);
  if ( a3 == 10 )
    this[12] &= 0xFFFFFFFB;
  CItem::SendItemInfo(this, a2, 7);
  if ( a4 )
    CDBSocket::Write(7, "dddwbd", this[9], v5, this[8], *(_DWORD *)(this[10] + 64), a3, this[13]);
  else
    CDBSocket::Write(
      6,
      "dwbddbbdb",
      this[9],
      *(_DWORD *)(this[10] + 64),
      0,
      this[12],
      this[24],
      this[23],
      this[21],
      this[8],
      a3);
}

//----- (0042ED90) --------------------------------------------------------
int __thiscall CItemTransform::UpdateNum(CItem *this, int a2, int a3, int a4)
{
  if ( a4 + this->m_nNum > 0 )
    return this->m_nNum;
  CPlayer::Write(a2, 9, "ddb", this->m_nIID, 0, a3);
  if ( a3 == 50 )
    CDBSocket::Write(7, "dddwbd", this->m_nIID, *(_DWORD *)(a2 + 452), 0, this->m_pInit->m_nIndex, 50, this->m_nNum);
  else
    CDBSocket::Write(
      3,
      "ddwdbddd",
      this->m_nIID,
      this->m_nPID,
      this->m_pInit->m_nIndex,
      this[1].m_nRef,
      a3,
      ((unsigned __int8)this->m_nVer << 8) | ((unsigned __int8)this[1].__vftable << 16),
      0,
      0);
  this->m_nNum = 0;
  CBase::Delete(this);
  return 0;
}

//----- (0042EE90) --------------------------------------------------------
BOOL __thiscall CItemTransform::CanTrade(_DWORD *this, int a2, int a3, int a4)
{
  BOOL result; // eax

  if ( sub_427130(this, 1) )
    result = 0;
  else
    result = CItem::CanTrade(this, a2, a3, a4);
  return result;
}

//----- (0042EED0) --------------------------------------------------------
int __thiscall CItemTransform::StorageIn(int this, int a2, int a3)
{
  _WORD v5[3]; // [esp+4h] [ebp-1Ch] BYREF
  char v6; // [esp+Ah] [ebp-16h]
  int v7; // [esp+Bh] [ebp-15h]
  int v8; // [esp+Fh] [ebp-11h]
  char v9; // [esp+13h] [ebp-Dh]
  char v10; // [esp+14h] [ebp-Ch]
  char v11; // [esp+15h] [ebp-Bh]
  char v12; // [esp+16h] [ebp-Ah]
  char v13; // [esp+17h] [ebp-9h]
  char v14; // [esp+18h] [ebp-8h]
  char v15; // [esp+19h] [ebp-7h]
  char v16; // [esp+1Ah] [ebp-6h]
  char v17; // [esp+1Bh] [ebp-5h]
  char v18; // [esp+1Ch] [ebp-4h]
  char v19; // [esp+1Dh] [ebp-3h]

  if ( sub_427130((_DWORD *)this, 1) )
    return 0;
  v5[0] = *(_WORD *)(*(_DWORD *)(this + 40) + 64);
  *(_DWORD *)&v5[1] = *(_DWORD *)(this + 36);
  v6 = 0;
  v7 = *(_DWORD *)(this + 48);
  v8 = *(_DWORD *)(this + 96);
  v9 = *(_BYTE *)(this + 92);
  v10 = 0;
  v11 = *(_BYTE *)(this + 84);
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  CPlayer::_StorageIn(a2, (int)v5, *(_DWORD *)(this + 36), 0);
  CDBSocket::Write(
    11,
    "dddbd",
    *(_DWORD *)(this + 36),
    *(_DWORD *)(this + 32),
    *(_DWORD *)(a2 + 448),
    0,
    *(_DWORD *)(this + 52));
  CBase::Delete((CItem *)this);
  return 1;
}

//----- (0042EFB0) --------------------------------------------------------
void __thiscall CItemTransform::ForcedStorageIn(_DWORD *this, int a2, int a3, char *a4, int a5)
{
  LONG v5; // [esp-28h] [ebp-30h]
  int v6; // [esp-24h] [ebp-2Ch]
  int v7; // [esp-1Ch] [ebp-24h]
  int v8; // [esp-18h] [ebp-20h]
  int v9; // [esp-14h] [ebp-1Ch]
  int v10; // [esp-10h] [ebp-18h]
  char *v11; // [esp+0h] [ebp-8h]

  if ( a4 )
    v11 = a4;
  else
    v11 = &Source;
  v10 = this[21];
  v9 = this[23];
  v8 = this[24];
  v7 = this[12];
  v6 = *(_DWORD *)(this[10] + 64);
  v5 = CItem::NewIID();
  CDBSocket::Write(35, "bdwbbdbbdds", a2, v5, v6, 0, v7, v8, v9, v10, a3, a5, v11);
}

//----- (0042F030) --------------------------------------------------------
void __thiscall CItemTransform::UpdateExp(_DWORD *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-18h]
  int v5; // [esp+8h] [ebp-14h]
  int i; // [esp+Ch] [ebp-10h]
  int v7; // [esp+10h] [ebp-Ch]
  int v8; // [esp+14h] [ebp-8h]
  int v9; // [esp+18h] [ebp-4h]

  if ( a2[113] != this[8] || !sub_427130(this, 1) || (int)this[23] >= 100 )
  {
    this[25] = 0;
    return;
  }
  v9 = 1;
  if ( a3 )
  {
    if ( ++this[25] < 0xB4u )
      return;
    this[25] -= 180;
    v9 = 10;
    this[24] += 10;
  }
  else
  {
    if ( (int)a2[15] > 20 )
      v9 = (a2[15] - 11) / 10 + 1;
    this[24] += v9;
  }
  if ( this[24] >= dword_4D5CA8[this[23]] )
  {
    if ( a2[15] <= this[23] )
    {
      this[24] -= v9;
      return;
    }
    this[24] -= dword_4D5CA8[this[23]];
    v7 = this[23];
    this[23] = v7 + 1;
    for ( i = 0; i <= 4; ++i )
    {
      v8 = dword_4D6090[11 * *(_DWORD *)(this[10] + 152) + i];
      if ( v8 )
      {
        v4 = v7 / v8 + 1;
        v5 = this[23] / v8 + 1;
        if ( v5 > v4 )
          (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, i, 1, v5 - v4);
      }
    }
    CItemTransform::SaveInfo(this, 1);
  }
  CItem::SendItemInfo(this, (int)a2, 92);
}
// 4D6090: using guessed type int dword_4D6090[];

//----- (0042F200) --------------------------------------------------------
void __thiscall CItemTransform::CheatLevelUp(_DWORD *this, int a2, int a3)
{
  int i; // [esp+Ch] [ebp-Ch]
  int v5; // [esp+10h] [ebp-8h]
  int v6; // [esp+14h] [ebp-4h]

  if ( a3 >= 1 && a3 <= 40 )
  {
    v5 = this[23];
    this[23] = a3;
    for ( i = 0; i <= 4; ++i )
    {
      v6 = dword_4D6090[11 * *(_DWORD *)(this[10] + 152) + i];
      if ( v6 )
      {
        if ( v5 / v6 + 1 != this[23] / v6 + 1 )
          (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 92))(a2, i, 1, this[23] / v6 - v5 / v6);
      }
    }
    CItem::SendItemInfo(this, a2, 92);
  }
}
// 4D6090: using guessed type int dword_4D6090[];

//----- (0042F2C0) --------------------------------------------------------
void __thiscall CItemTransform::SaveInfo(_DWORD *this, int a2)
{
  CDBSocket::Write(20, "dddbb", this[9], this[8], this[24], this[23], a2);
}

//----- (0042F300) --------------------------------------------------------
void __thiscall CItemTransform::ApplyTransform(_DWORD *this, volatile LONG *a2, int a3)
{
  int v3; // eax
  int v4; // [esp-4h] [ebp-10h]
  int v5; // [esp+4h] [ebp-8h]

  if ( a3 <= (this[23] - 1) / 10 )
  {
    this[26] = a3;
    v5 = *(_DWORD *)(this[10] + 152);
    (*(void (__cdecl **)(volatile LONG *, int, int, int))(*a2 + 96))(a2, 32, 1, dword_4D60A4[11 * v5]);
    if ( a3 >= 2 )
    {
      (*(void (__cdecl **)(volatile LONG *, int, int, int, int))(*a2 + 92))(
        a2,
        15,
        1,
        dword_4D60B0[11 * v5],
        dword_4D60B4[11 * v5]);
      (*(void (__cdecl **)(volatile LONG *, int, int, int))(*a2 + 96))(a2, 29, 1, dword_4D60B8[11 * v5]);
      if ( a3 >= 3 )
      {
        (*(void (__cdecl **)(volatile LONG *, int, int, int, int))(*a2 + 96))(
          a2,
          27,
          1,
          dword_4D60A8[11 * v5],
          dword_4D60A8[11 * v5]);
        (*(void (__cdecl **)(volatile LONG *, int, int, int, int))(*a2 + 96))(
          a2,
          28,
          1,
          dword_4D60AC[11 * v5],
          dword_4D60AC[11 * v5]);
      }
    }
    *((_DWORD *)a2 + 278) |= a3;
    CChar::AddGState(a2, 512);
    v4 = *((_DWORD *)a2 + 278);
    v3 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 61, "dbb", v3, 13, v4);
  }
}
// 4D60A4: using guessed type int dword_4D60A4[];
// 4D60A8: using guessed type int dword_4D60A8[];
// 4D60AC: using guessed type int dword_4D60AC[];
// 4D60B0: using guessed type int dword_4D60B0[];
// 4D60B4: using guessed type int dword_4D60B4[];

//----- (0042F460) --------------------------------------------------------
int __thiscall CItemTransform::FreeTransform(_DWORD *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-Ch]
  int v4; // [esp+8h] [ebp-8h]

  v3 = this[26];
  this[26] = 0;
  v4 = *(_DWORD *)(this[10] + 152);
  (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 96))(a2, 32, 0, dword_4D60A4[11 * v4]);
  if ( v3 >= 2 )
  {
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 92))(
      a2,
      15,
      0,
      dword_4D60B0[11 * v4],
      dword_4D60B4[11 * v4]);
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 96))(a2, 29, 0, dword_4D60B8[11 * v4]);
    if ( v3 >= 3 )
    {
      (*(void (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 96))(
        a2,
        27,
        0,
        dword_4D60A8[11 * v4],
        dword_4D60A8[11 * v4]);
      (*(void (__cdecl **)(_DWORD *, int, _DWORD, int, int))(*a2 + 96))(
        a2,
        28,
        0,
        dword_4D60AC[11 * v4],
        dword_4D60AC[11 * v4]);
    }
  }
  a2[278] &= ~v3;
  return (*(int (__thiscall **)(_DWORD *, int))(*a2 + 112))(a2, 512);
}
// 4D60A4: using guessed type int dword_4D60A4[];
// 4D60A8: using guessed type int dword_4D60A8[];
// 4D60AC: using guessed type int dword_4D60AC[];
// 4D60B0: using guessed type int dword_4D60B0[];
// 4D60B4: using guessed type int dword_4D60B4[];

//----- (0042F590) --------------------------------------------------------
_DWORD *__thiscall sub_42F590(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_42F6B0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0042F5F0) --------------------------------------------------------
_DWORD *__thiscall sub_42F5F0(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_42F730(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0042F650) --------------------------------------------------------
_DWORD *__thiscall sub_42F650(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_42F7B0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0042F6B0) --------------------------------------------------------
int __stdcall sub_42F6B0(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_42F6B0(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (0042F730) --------------------------------------------------------
int __stdcall sub_42F730(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_42F730(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (0042F7B0) --------------------------------------------------------
int __stdcall sub_42F7B0(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_42F7B0(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (0042F840) --------------------------------------------------------
int __thiscall sub_42F840(_DWORD *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_431110(*this) )
  {
    result = *(_DWORD *)sub_430F90(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)sub_474590(*this);
    if ( *(_BYTE *)sub_431110(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        if ( *(_BYTE *)sub_431110(v5) || *this != *(_DWORD *)sub_474590(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_431110(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)sub_474590(*this);
      result = sub_4470E0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0042F920) --------------------------------------------------------
int __cdecl sub_42F920(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_474590(a1);
    if ( *(_BYTE *)sub_431110(*v1) )
      break;
    a1 = *(_DWORD *)sub_474590(a1);
  }
  return a1;
}

//----- (0042F960) --------------------------------------------------------
_WORD *__cdecl PutNumeric<short>(_WORD *a1, __int16 a2)
{
  *a1 = a2;
  return a1 + 1;
}

//----- (0042F980) --------------------------------------------------------
void *__thiscall sub_42F980(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0042F9B0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *__stdcall sub_42F9B0(void *a1, int a2)
{
  return std::_Construct<std::_Tree_nod<std::_Tmap_traits<int,std::pair<std::string,std::string>,std::less<int>,std::allocator<std::pair<int const,std::pair<std::string,std::string>>>,1>>::_Node *,std::_Tree_nod<std::_Tmap_traits<int,std::pair<std::string,std::string>,std::less<int>,std::allocator<std::pair<int const,std::pair<std::string,std::string>>>,1>>::_Node *>(
           (std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node **)a1,
           (std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *const *)a2);
}

//----- (0042F9D0) --------------------------------------------------------
void *__thiscall sub_42F9D0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0042FA10) --------------------------------------------------------
void *__thiscall sub_42FA10(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0042FA40) --------------------------------------------------------
int __thiscall sub_42FA40(void *this)
{
  return sub_42FA60(this);
}

//----- (0042FA60) --------------------------------------------------------
int __thiscall sub_42FA60(void *this)
{
  return sub_42FA80((int)this);
}

//----- (0042FA80) --------------------------------------------------------
int __thiscall sub_42FA80(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_42FB30(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (0042FB30) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FB30(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_42F590(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0042FBD0) --------------------------------------------------------
int __thiscall sub_42FBD0(void *this)
{
  return sub_42FBF0(this);
}

//----- (0042FBF0) --------------------------------------------------------
int __thiscall sub_42FBF0(void *this)
{
  return sub_42FC10((int)this);
}

//----- (0042FC10) --------------------------------------------------------
int __thiscall sub_42FC10(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_42FCC0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (0042FCC0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FCC0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_42F5F0(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0042FD60) --------------------------------------------------------
int __thiscall sub_42FD60(void *this)
{
  return sub_42FD80(this);
}

//----- (0042FD80) --------------------------------------------------------
int __thiscall sub_42FD80(void *this)
{
  return sub_42FDA0((int)this);
}

//----- (0042FDA0) --------------------------------------------------------
int __thiscall sub_42FDA0(int this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20((_DWORD *)this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_42FE50(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*(_DWORD *)(this + 4));
  sub_44CD70(v2);
  v3 = sub_446FF0(*(_DWORD *)(this + 4));
  sub_44CD70(v3);
  v4 = sub_430F90(*(_DWORD *)(this + 4));
  sub_44CD70(v4);
  sub_4338F0(*(void **)(this + 4), 1);
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}

//----- (0042FE50) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_42FE50(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_42F650(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0042FEF0) --------------------------------------------------------
int __cdecl CGroup::Copy()
{
  CGroup *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x34u);
  if ( v2 )
    v1 = CGroup::CGroup((CGroup *)v2);
  else
    v1 = 0;
  return (int)v1;
}

//----- (0042FF30) --------------------------------------------------------
CGroup *__thiscall CGroup::CGroup(CGroup *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B7558;
  sub_47CF60((char *)this + 36);
  return this;
}
// 4B7558: using guessed type int (__stdcall *off_4B7558)(int);

//----- (0042FF60) --------------------------------------------------------
void *__thiscall sub_42FF60(void *this, char a2)
{
  sub_42FF90((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0042FF90) --------------------------------------------------------
void __thiscall sub_42FF90(std::locale::facet *this)
{
  sub_430B90((std::locale::facet *)((char *)this + 36));
  CBase::_CBase(this);
}

//----- (0042FFB0) --------------------------------------------------------
int __thiscall CGroup::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  _DWORD *v12; // [esp-4h] [ebp-5Ch] BYREF
  int v13; // [esp+0h] [ebp-58h]
  int v14; // [esp+4h] [ebp-54h]
  void *v15; // [esp+8h] [ebp-50h]
  lisp::var v16; // [esp+10h] [ebp-48h] BYREF
  lisp::var v17; // [esp+14h] [ebp-44h] BYREF
  lisp::var v18; // [esp+18h] [ebp-40h] BYREF
  lisp::var v19; // [esp+1Ch] [ebp-3Ch] BYREF
  lisp::var v20; // [esp+20h] [ebp-38h] BYREF
  lisp::var v21; // [esp+24h] [ebp-34h] BYREF
  lisp::var v22; // [esp+28h] [ebp-30h] BYREF
  lisp::var result; // [esp+2Ch] [ebp-2Ch] BYREF
  tagRECT v24; // [esp+30h] [ebp-28h] BYREF
  lisp::var v25; // [esp+40h] [ebp-18h] BYREF
  tagRECT v26; // [esp+44h] [ebp-14h] BYREF
  lisp::var v27; // [esp+54h] [ebp-4h] BYREF

  v15 = this;
  v14 = a2;
  if ( a2 == 2 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, &result);
    *((_DWORD *)v15 + 8) = sub_40C8D0(v3);
  }
  else if ( v14 == 50 )
  {
    while ( !(unsigned __int8)sub_402380(&a3) )
    {
      lisp::var::pop((lisp::var *)&a3, &v25);
      sub_430160(&v24);
      v7 = lisp::var::pop(&v25, &v19);
      v24.left = sub_40C8D0(v7);
      v8 = lisp::var::pop(&v25, &v18);
      v24.top = sub_40C8D0(v8);
      v9 = lisp::var::pop(&v25, &v17);
      v24.right = sub_40C8D0(v9);
      if ( !(unsigned __int8)sub_402380(&v25) )
      {
        v10 = lisp::var::pop(&v25, &v16);
        v24.bottom = sub_40C8D0(v10);
      }
      sub_430BB0((int)v15 + 36, &v24);
    }
  }
  else
  {
    if ( v14 != 52 )
    {
      v12 = this;
      sub_402340(&v12, &a3);
      return CBase::Set(v15, a2, (char)v12);
    }
    while ( !(unsigned __int8)sub_402380(&a3) )
    {
      lisp::var::pop((lisp::var *)&a3, &v27);
      sub_4301A0(&v26, 31);
      v4 = lisp::var::pop(&v27, &v22);
      v26.left = sub_40C8D0(v4);
      if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
      {
        v5 = lisp::var::pop(&v27, &v21);
        v13 = 5 * sub_40C8D0(v5);
      }
      else
      {
        v6 = lisp::var::pop(&v27, &v20);
        v13 = sub_40C8D0(v6);
      }
      v26.bottom = v13;
      sub_430BB0((int)v15 + 36, &v26);
    }
  }
  return 1;
}

//----- (00430160) --------------------------------------------------------
_DWORD *__thiscall sub_430160(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  this[2] = 0;
  this[3] = 1;
  return this;
}

//----- (004301A0) --------------------------------------------------------
_DWORD *__thiscall sub_4301A0(_DWORD *this, int a2)
{
  *this = 0;
  this[1] = a2;
  this[2] = 0;
  this[3] = 1;
  return this;
}

//----- (004301E0) --------------------------------------------------------
int __thiscall sub_4301E0(void *this)
{
  return sub_4302B0((int)this);
}

//----- (00430200) --------------------------------------------------------
void __thiscall CGroup::GetItemInfo(void *this, _DWORD *a2, _DWORD *a3, _DWORD *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  _DWORD *v5; // eax
  char v7[4]; // [esp+4h] [ebp-10h] BYREF
  char v8[4]; // [esp+8h] [ebp-Ch] BYREF
  char v9[4]; // [esp+Ch] [ebp-8h] BYREF
  int v10; // [esp+10h] [ebp-4h]

  if ( this )
  {
    v10 = RandomBetween(1, 1000);
    sub_430C20((_DWORD *)this + 9, (int)v9);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)this + 9, (int)v7);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)v9,
              v4) )
        break;
      v5 = (_DWORD *)sub_430DE0(v9);
      if ( v10 <= *v5 )
      {
        *a2 = *(_DWORD *)(sub_430DE0(v9) + 4);
        *a3 = *(_DWORD *)(sub_430DE0(v9) + 8);
        *a4 = *(_DWORD *)(sub_430DE0(v9) + 12);
        return;
      }
      sub_430E00((int *)v9, v8, 0);
    }
  }
}

//----- (004302B0) --------------------------------------------------------
int __cdecl sub_4302B0(int a1)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v3[8]; // [esp+0h] [ebp-10h] BYREF
  char v4[8]; // [esp+8h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v3);
  sub_445DF0(
    (int)&dword_4E10F0,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v4,
    v1);
  if ( v4[4] )
    return 1;
  LOG_ERR("CItemGroup::InsertGroup() Duplicate Group. (GroupID:%d)", *(_DWORD *)(a1 + 32));
  return 0;
}
// 4302D3: variable 'v1' is possibly undefined

//----- (00430310) --------------------------------------------------------
_DWORD *CItemGroup::ClearGroup()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v4[4]; // [esp+10h] [ebp-8h] BYREF
  char v5[4]; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E10F0,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10F0, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
            v0) )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_420250(v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_446090((int *)v5, v4, 0);
  }
  return sub_430C40(dword_4E10F0);
}

//----- (004303A0) --------------------------------------------------------
_DWORD *sub_4303A0()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x34u);
  if ( v2 )
    v1 = sub_4303E0(v2);
  else
    v1 = 0;
  return v1;
}

//----- (004303E0) --------------------------------------------------------
_DWORD *__thiscall sub_4303E0(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_4B75D8;
  sub_4707A0(this + 9);
  return this;
}
// 4B75D8: using guessed type int (__stdcall *off_4B75D8)(int);

//----- (00430410) --------------------------------------------------------
void *__thiscall sub_430410(void *this, char a2)
{
  sub_430440((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00430440) --------------------------------------------------------
void __thiscall sub_430440(std::locale::facet *this)
{
  sub_445BF0((std::locale::facet *)((char *)this + 36));
  CBase::_CBase(this);
}

//----- (00430460) --------------------------------------------------------
int __thiscall CItemGroup::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  int v6; // eax
  _DWORD *v8; // [esp-4h] [ebp-28h] BYREF
  int v9; // [esp+0h] [ebp-24h]
  void *v10; // [esp+4h] [ebp-20h]
  lisp::var v11; // [esp+Ch] [ebp-18h] BYREF
  lisp::var v12; // [esp+10h] [ebp-14h] BYREF
  lisp::var result; // [esp+14h] [ebp-10h] BYREF
  int v14[2]; // [esp+18h] [ebp-Ch] BYREF
  lisp::var v15; // [esp+20h] [ebp-4h] BYREF

  v10 = this;
  v9 = a2;
  if ( a2 == 2 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, &result);
    *((_DWORD *)v10 + 8) = sub_40C8D0(v3);
  }
  else
  {
    if ( v9 != 51 )
    {
      v8 = this;
      sub_402340(&v8, &a3);
      return CBase::Set(v10, a2, (char)v8);
    }
    while ( !(unsigned __int8)sub_402380(&a3) )
    {
      lisp::var::pop((lisp::var *)&a3, &v15);
      v4 = lisp::var::pop(&v15, &v12);
      v14[0] = sub_40C8D0(v4);
      v5 = lisp::var::pop(&v15, &v11);
      v6 = sub_40C8D0(v5);
      v14[1] = CItemGroup::FindGroup(v6);
      sub_430CA0((int)v10 + 36, (const XMessageQueue::XTimerElement *)v14);
    }
  }
  return 1;
}

//----- (00430520) --------------------------------------------------------
int __thiscall sub_430520(void *this)
{
  return sub_425B10((int)this);
}

//----- (00430540) --------------------------------------------------------
int __stdcall CItemGroup::FindGroup(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+4h] [ebp-Ch] BYREF
  int v4; // [esp+8h] [ebp-8h]
  char v5[4]; // [esp+Ch] [ebp-4h] BYREF

  v4 = 0;
  sub_44AE20(dword_4E10F0, v5, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10F0, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
         v1) )
  {
    v4 = *(_DWORD *)(sub_420250(v5) + 4);
  }
  return v4;
}

//----- (004305A0) --------------------------------------------------------
void __thiscall CItemGroup::GetItemInfo(void *this, int a2, _DWORD *a3, _DWORD *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  _DWORD *v5; // eax
  int v6; // eax
  char v8[4]; // [esp+4h] [ebp-10h] BYREF
  char v9[4]; // [esp+8h] [ebp-Ch] BYREF
  char v10[4]; // [esp+Ch] [ebp-8h] BYREF
  int v11; // [esp+10h] [ebp-4h]

  v11 = RandomBetween(1, 1000);
  sub_430C20((_DWORD *)this + 9, (int)v10);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)this + 9, (int)v8);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v10,
            v4) )
      break;
    v5 = (_DWORD *)sub_430DE0(v10);
    if ( v11 <= *v5 )
    {
      v6 = sub_430DE0(v10);
      CGroup::GetItemInfo(*(void **)(v6 + 4), (_DWORD *)a2, a3, a4);
      return;
    }
    sub_430E30((int *)v10, v9, 0);
  }
}

//----- (00430630) --------------------------------------------------------
int __thiscall CItemGroup::GetFirstGroup(void *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int result; // eax
  char v4[4]; // [esp+4h] [ebp-8h] BYREF
  char v5[4]; // [esp+8h] [ebp-4h] BYREF

  sub_430C20((_DWORD *)this + 9, (int)v5);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)this + 9, (int)v4);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
         v1) )
  {
    result = *(_DWORD *)(sub_430DE0(v5) + 4);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00430680) --------------------------------------------------------
void __cdecl CGoods::ForcedStorageIn(int a1, int a2, void *Src)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  char v6[4]; // [esp+0h] [ebp-48h] BYREF
  char v7[4]; // [esp+4h] [ebp-44h] BYREF
  char v8[4]; // [esp+8h] [ebp-40h] BYREF
  int v9; // [esp+Ch] [ebp-3Ch] BYREF
  char v10[4]; // [esp+10h] [ebp-38h]
  CItem *item; // [esp+14h] [ebp-34h]
  int v12; // [esp+18h] [ebp-30h]
  int a3; // [esp+1Ch] [ebp-2Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v14; // [esp+20h] [ebp-28h] BYREF
  int v15; // [esp+24h] [ebp-24h]
  char v16; // [esp+2Bh] [ebp-1Dh] BYREF
  int v17; // [esp+2Ch] [ebp-1Ch] BYREF
  __int16 v18[3]; // [esp+30h] [ebp-18h] BYREF
  char v19; // [esp+37h] [ebp-11h] BYREF
  int v20; // [esp+38h] [ebp-10h]
  unsigned __int16 v21; // [esp+3Ch] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v22; // [esp+40h] [ebp-8h] BYREF
  int i; // [esp+44h] [ebp-4h]

  for ( i = 0; i < a2; ++i )
  {
    v20 = 0;
    v19 = 0;
    if ( dword_4E35B8 )
      Src = ReadPacket((char *)Src, "dwwbb", &v17, v18, &v21, &v16, &v19);
    else
      Src = ReadPacket((char *)Src, "dwwb", &v17, v18, &v21, &v16);
    v9 = (unsigned __int16)v18[0];
    sub_44AE20(dword_4E10FC, &v22, &v9);
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10FC, (int)v8);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           &v22,
           v3) )
    {
      v15 = *(_DWORD *)(sub_420250(&v22) + 4);
      sub_430C20((_DWORD *)(v15 + 36), (int)&v14);
      while ( 1 )
      {
        v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)(v15 + 36), (int)v6);
        if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                &v14,
                v4) )
          break;
        *(_DWORD *)v10 = *(_DWORD *)sub_420010(&v14);
        v12 = *(_DWORD *)(sub_420010(&v14) + 4);
        v5 = sub_420010(&v14);
        a3 = *(_DWORD *)(v5 + 8) * v21;
        item = (CItem *)CItem::CreateItem(v10[0], v12, a3, -1);
        if ( item )
        {
          if ( v16 || v19 )
            sub_4261F0(item, 128);
          if ( item->m_pInit->m_bPlural )
          {
            item->ForcedStorageIn(item, 42, a1, &Source, v17);
            CBase::Delete(item);
          }
          else
          {
            while ( 1 )
            {
              item->ForcedStorageIn(item, 42, a1, &Source, v17);
              CBase::Delete(item);
              if ( --a3 <= 0 )
                break;
              item = (CItem *)CItem::CreateItem(v10[0], 0, 1, -1);
              if ( v16 || v19 )
                sub_4261F0(item, 128);
            }
          }
        }
        else
        {
          LOG_ERR(
            "CGoods::ForcedStorageIn() Can't create goods. (%d<%d> : %d %d %d)",
            (unsigned __int16)v18[0],
            v17,
            *(_DWORD *)v10,
            v12,
            a3);
        }
        sub_446060((int *)&v14, v7, 0);
      }
      v20 = 2;
    }
    CAuthSocket::Write(14, "db", v17, v20);
  }
}
// 4E10FC: using guessed type int dword_4E10FC[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (004308F0) --------------------------------------------------------
_DWORD *sub_4308F0()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v4[4]; // [esp+10h] [ebp-8h] BYREF
  char v5[4]; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E10FC,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E10FC, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
            v0) )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_420250(v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_446090((int *)v5, v4, 0);
  }
  return sub_430D10(dword_4E10FC);
}

//----- (00430980) --------------------------------------------------------
CGoods *sub_430980()
{
  CGoods *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x34u);
  if ( v2 )
    v1 = CGoods::CGoods((CGoods *)v2);
  else
    v1 = 0;
  return v1;
}

//----- (004309C0) --------------------------------------------------------
CGoods *__thiscall CGoods::CGoods(CGoods *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B7678;
  *((_DWORD *)this + 8) = 0;
  sub_425850((CGoods *)((char *)this + 36));
  return this;
}
// 4B7678: using guessed type int (__stdcall *off_4B7678)(int);

//----- (00430A00) --------------------------------------------------------
void *__thiscall sub_430A00(void *this, char a2)
{
  sub_430A30((char *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00430A30) --------------------------------------------------------
void __thiscall sub_430A30(char *this)
{
  sub_445B20((std::vector<CIOSocket::CIOTimer> *)(this + 36));
  CBase::_CBase((std::locale::facet *)this);
}

//----- (00430A50) --------------------------------------------------------
int __thiscall CGoods::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  _DWORD *v8; // [esp-4h] [ebp-30h] BYREF
  int v9; // [esp+0h] [ebp-2Ch]
  void *v10; // [esp+4h] [ebp-28h]
  lisp::var v11; // [esp+Ch] [ebp-20h] BYREF
  lisp::var v12; // [esp+10h] [ebp-1Ch] BYREF
  lisp::var v13; // [esp+14h] [ebp-18h] BYREF
  lisp::var result; // [esp+18h] [ebp-14h] BYREF
  int v15[3]; // [esp+1Ch] [ebp-10h] BYREF
  lisp::var v16; // [esp+28h] [ebp-4h] BYREF

  v10 = this;
  v9 = a2;
  if ( a2 == 2 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, &result);
    *((_DWORD *)v10 + 8) = sub_40C8D0(v3);
  }
  else
  {
    if ( v9 != 50 )
    {
      v8 = this;
      sub_402340(&v8, &a3);
      return CBase::Set(v10, a2, (char)v8);
    }
    while ( !(unsigned __int8)sub_402380(&a3) )
    {
      lisp::var::pop((lisp::var *)&a3, &v16);
      v4 = lisp::var::pop(&v16, &v13);
      v15[0] = sub_40C8D0(v4);
      v5 = lisp::var::pop(&v16, &v12);
      v15[1] = sub_40C8D0(v5);
      v6 = lisp::var::pop(&v16, &v11);
      v15[2] = sub_40C8D0(v6);
      sub_430D70((int)v10 + 36, (int)v15);
    }
  }
  return 1;
}

//----- (00430B30) --------------------------------------------------------
int __thiscall CGoods::OnLoad(_DWORD *this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v4[8]; // [esp+8h] [ebp-10h] BYREF
  char v5[8]; // [esp+10h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v4);
  sub_445DF0(
    (int)dword_4E10FC,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v5,
    v1);
  if ( v5[4] )
    return 1;
  LOG_ERR("CGoods::OnLoad() Duplicate Index. (Index:%d)", this[8]);
  return 0;
}
// 430B5C: variable 'v1' is possibly undefined
// 4E10FC: using guessed type int dword_4E10FC[3];

//----- (00430B90) --------------------------------------------------------
std::vector<tagRECT> *__thiscall sub_430B90(std::vector<tagRECT> *this)
{
  return std::vector<tagRECT>::_Tidy(this);
}

//----- (00430BB0) --------------------------------------------------------
tagRECT *__thiscall sub_430BB0(int this, const tagRECT *a2)
{
  unsigned int v2; // esi
  tagRECT *result; // eax
  int *v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<tagRECT>::size((std::vector<tagRECT> *)this);
  if ( v2 >= std::vector<tagRECT>::capacity((std::vector<tagRECT> *)this) )
  {
    v4 = (int *)sub_445B40((_DWORD *)this, (int)v7);
    result = (tagRECT *)sub_430EA0((std::vector<tagRECT> *)this, (int)v6, *v4, (int)a2);
  }
  else
  {
    result = std::vector<tagRECT>::_Ufill((std::vector<tagRECT> *)this, *(tagRECT **)(this + 8), 1u, a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (00430C20) --------------------------------------------------------
int __thiscall sub_430C20(_DWORD *this, int a2)
{
  sub_446700((void *)a2, this[1]);
  return a2;
}

//----- (00430C40) --------------------------------------------------------
_DWORD *__thiscall sub_430C40(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_430FA0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00430CA0) --------------------------------------------------------
XMessageQueue::XTimerElement *__thiscall sub_430CA0(int this, const XMessageQueue::XTimerElement *a2)
{
  unsigned int v2; // esi
  XMessageQueue::XTimerElement *result; // eax
  int *v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
  if ( v2 >= std::vector<XMessageQueue::XElement>::capacity((std::vector<XMessageQueue::XTimerElement> *)this) )
  {
    v4 = (int *)sub_445B40((_DWORD *)this, (int)v7);
    result = (XMessageQueue::XTimerElement *)sub_431020((std::vector<IPAddrMask> *)this, (int)v6, *v4, (int)a2);
  }
  else
  {
    result = std::vector<XMessageQueue::XElement>::_Ufill(
               (std::vector<XMessageQueue::XTimerElement> *)this,
               *(XMessageQueue::XTimerElement **)(this + 8),
               1u,
               a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (00430D10) --------------------------------------------------------
_DWORD *__thiscall sub_430D10(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_431120(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00430D70) --------------------------------------------------------
char *__thiscall sub_430D70(int this, int a2)
{
  unsigned int v2; // esi
  char *result; // eax
  int *v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
  if ( v2 >= std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (int *)sub_445B40((_DWORD *)this, (int)v7);
    result = (char *)sub_4311E0((std::vector<CIOSocket::CIOTimer> *)this, (int)v6, *v4, a2);
  }
  else
  {
    result = std::vector<CIOSocket::CIOTimer>::_Xlen(
               (std::vector<CIOSocket::CIOTimer> *)this,
               *(char **)(this + 8),
               1,
               a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (00430DE0) --------------------------------------------------------
int __thiscall sub_430DE0(void *this)
{
  return sub_420010(this);
}

//----- (00430E00) --------------------------------------------------------
_DWORD *__thiscall sub_430E00(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_431350(this);
  *a2 = v4;
  return a2;
}

//----- (00430E30) --------------------------------------------------------
_DWORD *__thiscall sub_430E30(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_48DA00(this);
  *a2 = v4;
  return a2;
}

//----- (00430E60) --------------------------------------------------------
int __thiscall std::vector<tagRECT>::size(std::vector<tagRECT> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 2) - *((_DWORD *)this + 1)) >> 4;
  else
    v2 = 0;
  return v2;
}

//----- (00430EA0) --------------------------------------------------------
int __thiscall sub_430EA0(std::vector<tagRECT> *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<tagRECT>::size(this) )
  {
    v4 = (_DWORD *)sub_430C20(this, (int)v11);
    v8 = sub_47D7D0(&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  std::vector<tagRECT>::_Insert_n((int)this, (tagRECT *)a3, 1u, (LONG *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_431D20(v5, (_DWORD *)a2, v7);
  return a2;
}

//----- (00430F20) --------------------------------------------------------
std::vector<tagRECT> *__thiscall std::vector<tagRECT>::_Tidy(std::vector<tagRECT> *this)
{
  std::vector<tagRECT> *result; // eax

  if ( *((_DWORD *)this + 1) )
  {
    sub_4313B0(this, *((_DWORD *)this + 1), *((_DWORD *)this + 2));
    sub_4338F0(*((void **)this + 1), (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 4);
  }
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  result = this;
  *((_DWORD *)this + 3) = 0;
  return result;
}

//----- (00430F90) --------------------------------------------------------
int __cdecl sub_430F90(int a1)
{
  return a1 + 8;
}

//----- (00430FA0) --------------------------------------------------------
int __stdcall sub_430FA0(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_430FA0(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (00431020) --------------------------------------------------------
int __thiscall sub_431020(std::vector<IPAddrMask> *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<XMessageQueue::XElement>::size(this) )
  {
    v4 = (_DWORD *)sub_430C20(this, (int)v11);
    v8 = sub_4470B0(&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  std::vector<XMessageQueue::XElement>::_Insert_n((int)this, (XMessageQueue::XTimerElement *)a3, 1u, (int *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_478710(v5, (_DWORD *)a2, v7);
  return a2;
}

//----- (004310A0) --------------------------------------------------------
std::vector<IPAddrMask> *__thiscall std::vector<IPAddrMask>::_Tidy(std::vector<IPAddrMask> *this)
{
  std::vector<IPAddrMask> *result; // eax

  if ( *((_DWORD *)this + 1) )
  {
    sub_4316C0(this, *((_DWORD *)this + 1), *((_DWORD *)this + 2));
    sub_4338F0(*((void **)this + 1), (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 3);
  }
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  result = this;
  *((_DWORD *)this + 3) = 0;
  return result;
}

//----- (00431110) --------------------------------------------------------
int __cdecl sub_431110(int a1)
{
  return a1 + 21;
}

//----- (00431120) --------------------------------------------------------
int __stdcall sub_431120(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_431120(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_44CD70(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (004311A0) --------------------------------------------------------
int __thiscall std::vector<CIOSocket::CIOTimer>::size(std::vector<CIOSocket::CIOTimer> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 2) - *((_DWORD *)this + 1)) / 12;
  else
    v2 = 0;
  return v2;
}

//----- (004311E0) --------------------------------------------------------
int __thiscall sub_4311E0(std::vector<CIOSocket::CIOTimer> *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CIOSocket::CIOTimer>::size(this) )
  {
    v4 = (_DWORD *)sub_430C20(this, (int)v11);
    v8 = sub_431D50(&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_431A40((int)this, (CIOSocket::CIOTimer *)a3, 1u, (int *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_446FA0(v5, (_DWORD *)a2, v7);
  return a2;
}

//----- (00431260) --------------------------------------------------------
char __thiscall std::vector<CIOSocket::CIOTimer>::_Buy(std::vector<CIOSocket::CIOTimer> *this, unsigned int _Capacity)
{
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  if ( !_Capacity )
    return 0;
  if ( sub_446800(this) >= _Capacity )
  {
    *((_DWORD *)this + 1) = sub_446B40(_Capacity);
    *((_DWORD *)this + 2) = *((_DWORD *)this + 1);
    *((_DWORD *)this + 3) = *((_DWORD *)this + 1) + 12 * _Capacity;
  }
  else
  {
    std::vector<tagShowdownPaticipateInfo>::_Xran(this);
  }
  return 1;
}

//----- (004312E0) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer> *__thiscall std::vector<CSyncPacket::CElement>::_Tidy(std::vector<CIOSocket::CIOTimer> *this)
{
  std::vector<CIOSocket::CIOTimer> *result; // eax

  if ( *((_DWORD *)this + 1) )
  {
    std::vector<IPAddrMask>::_Destroy(this, *((CIOSocket::CIOTimer **)this + 1), *((CIOSocket::CIOTimer **)this + 2));
    sub_4338F0(*((void **)this + 1), (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) / 12);
  }
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  result = this;
  *((_DWORD *)this + 3) = 0;
  return result;
}

//----- (00431350) --------------------------------------------------------
_DWORD *__thiscall sub_431350(_DWORD *this)
{
  *this += 16;
  return this;
}

//----- (00431390) --------------------------------------------------------
_DWORD *__thiscall sub_431390(_DWORD *this)
{
  *this += 12;
  return this;
}

//----- (004313B0) --------------------------------------------------------
int __thiscall sub_4313B0(void *this, int a2, int a3)
{
  return sub_47D860(a2, a3);
}

//----- (004313E0) --------------------------------------------------------
void __thiscall std::vector<tagRECT>::_Insert_n(int this, tagRECT *a2, unsigned int a3, LONG *a4)
{
  unsigned int v4; // esi
  char *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-28h]
  _DWORD *v8; // [esp+Ch] [ebp-20h]
  CMemory **v9; // [esp+10h] [ebp-1Ch]
  tagRECT *_Ptr; // [esp+14h] [ebp-18h]
  unsigned int v11; // [esp+18h] [ebp-14h]
  int v12; // [esp+18h] [ebp-14h]
  tagRECT _Val; // [esp+1Ch] [ebp-10h] BYREF
  unsigned int _Count; // [esp+38h] [ebp+Ch]

  _Val.left = *a4;
  _Val.top = a4[1];
  _Val.right = a4[2];
  _Val.bottom = a4[3];
  v11 = std::vector<tagRECT>::capacity((std::vector<tagRECT> *)this);
  if ( a3 )
  {
    v4 = sub_47D3D0((std::allocator<tagRECT> *)this);
    if ( v4 - std::vector<tagRECT>::size((std::vector<tagRECT> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<tagRECT>::size((std::vector<tagRECT> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 4 >= a3 )
        {
          v8 = *(_DWORD **)(this + 8);
          *(_DWORD *)(this + 8) = sub_431E30((void *)this, (int)&v8[-4 * a3], (int)v8, v8);
          sub_47D8E0(a2, &v8[-4 * a3], v8);
          std::fill<tagRECT *,tagRECT>(a2, &a2[a3], &_Val);
        }
        else
        {
          sub_431E30((void *)this, (int)a2, *(_DWORD *)(this + 8), &a2[a3]);
          std::vector<tagRECT>::_Ufill(
            (std::vector<tagRECT> *)this,
            *(tagRECT **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 4),
            &_Val);
          *(_DWORD *)(this + 8) += 16 * a3;
          std::fill<tagRECT *,tagRECT>(a2, (tagRECT *)(*(_DWORD *)(this + 8) - 16 * a3), &_Val);
        }
      }
      else
      {
        if ( sub_47D3D0((std::allocator<tagRECT> *)this) - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<tagRECT>::size((std::vector<tagRECT> *)this) )
          v12 = a3 + std::vector<tagRECT>::size((std::vector<tagRECT> *)this);
        v9 = sub_47D6D0(v12);
        v5 = sub_431E30((void *)this, *(_DWORD *)(this + 4), (int)a2, v9);
        _Ptr = std::vector<tagRECT>::_Ufill((std::vector<tagRECT> *)this, (tagRECT *)v5, a3, &_Val);
        sub_431E30((void *)this, (int)a2, *(_DWORD *)(this + 8), _Ptr);
        _Count = a3 + std::vector<tagRECT>::size((std::vector<tagRECT> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_4313B0((void *)this, *(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 4);
        }
        *(_DWORD *)(this + 12) = &v9[4 * v12];
        *(_DWORD *)(this + 8) = &v9[4 * _Count];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (004316C0) --------------------------------------------------------
int __thiscall sub_4316C0(void *this, int a2, int a3)
{
  return sub_47A3B0(a2, a3);
}

//----- (004316F0) --------------------------------------------------------
void __thiscall std::vector<XMessageQueue::XElement>::_Insert_n(int this, XMessageQueue::XTimerElement *a2, unsigned int a3, int *a4)
{
  int v4; // edx
  unsigned int v5; // esi
  char *v6; // eax
  unsigned int v7; // [esp+4h] [ebp-20h]
  _DWORD *v9; // [esp+Ch] [ebp-18h]
  CMemory **v10; // [esp+10h] [ebp-14h]
  XMessageQueue::XTimerElement *_Ptr; // [esp+14h] [ebp-10h]
  unsigned int v12; // [esp+18h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-Ch]
  int v14[2]; // [esp+1Ch] [ebp-8h] BYREF
  unsigned int _Count; // [esp+30h] [ebp+Ch]

  v4 = a4[1];
  v14[0] = *a4;
  v14[1] = v4;
  v12 = std::vector<XMessageQueue::XElement>::capacity((std::vector<XMessageQueue::XTimerElement> *)this);
  if ( a3 )
  {
    v5 = sub_446B60((std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *)this);
    if ( v5 - std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) >= a3 )
    {
      if ( v12 >= a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 3 >= a3 )
        {
          v9 = *(_DWORD **)(this + 8);
          *(_DWORD *)(this + 8) = sub_431E60((void *)this, (int)&v9[-2 * a3], (int)v9, v9);
          sub_47A3F0(a2, &v9[-2 * a3], v9);
          std::fill<XMessageQueue::XElement *,XMessageQueue::XElement>(
            a2,
            (XMessageQueue::XTimerElement *)((char *)a2 + 8 * a3),
            (const XMessageQueue::XTimerElement *)v14);
        }
        else
        {
          sub_431E60((void *)this, (int)a2, *(_DWORD *)(this + 8), (char *)a2 + 8 * a3);
          std::vector<XMessageQueue::XElement>::_Ufill(
            (std::vector<XMessageQueue::XTimerElement> *)this,
            *(XMessageQueue::XTimerElement **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 3),
            (const XMessageQueue::XTimerElement *)v14);
          *(_DWORD *)(this + 8) += 8 * a3;
          std::fill<XMessageQueue::XElement *,XMessageQueue::XElement>(
            a2,
            (XMessageQueue::XTimerElement *)(*(_DWORD *)(this + 8) - 8 * a3),
            (const XMessageQueue::XTimerElement *)v14);
        }
      }
      else
      {
        if ( sub_446B60((std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *)this) - (v12 >> 1) >= v12 )
          v7 = v12 + (v12 >> 1);
        else
          v7 = 0;
        v13 = v7;
        if ( v7 < a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) )
          v13 = a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
        v10 = sub_446E50(v13);
        v6 = sub_431E60((void *)this, *(_DWORD *)(this + 4), (int)a2, v10);
        _Ptr = std::vector<XMessageQueue::XElement>::_Ufill(
                 (std::vector<XMessageQueue::XTimerElement> *)this,
                 (XMessageQueue::XTimerElement *)v6,
                 a3,
                 (const XMessageQueue::XTimerElement *)v14);
        sub_431E60((void *)this, (int)a2, *(_DWORD *)(this + 8), _Ptr);
        _Count = a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_4316C0((void *)this, *(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 3);
        }
        *(_DWORD *)(this + 12) = &v10[2 * v13];
        *(_DWORD *)(this + 8) = &v10[2 * _Count];
        *(_DWORD *)(this + 4) = v10;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (004319C0) --------------------------------------------------------
CMemory **__thiscall std::_Tree<std::_Tmap_traits<int,int,std::less<int>,std::allocator<std::pair<int const,int>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Rarg, const std::pair<int const ,CGame_Character::TargetInfo> *_Val, char _Carg)
{
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v7; // [esp+8h] [ebp-8h]
  CMemory **v8; // [esp+Ch] [ebp-4h]

  v8 = sub_44CD20(1);
  v7 = (std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *)operator new(0x18u, v8);
  if ( v7 )
    std::_Tree_nod<std::_Tmap_traits<char const *,int,iless,std::allocator<std::pair<char const * const,int>>,0>>::_Node::_Node(
      v7,
      _Larg,
      _Parg,
      _Rarg,
      _Val,
      _Carg);
  return v8;
}

//----- (00431A40) --------------------------------------------------------
void __thiscall sub_431A40(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4)
{
  unsigned int v4; // esi
  char *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-24h]
  CIOSocket::CIOTimer *_Dest; // [esp+Ch] [ebp-1Ch]
  CMemory **_First; // [esp+10h] [ebp-18h]
  char *_Last; // [esp+14h] [ebp-14h]
  unsigned int v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+18h] [ebp-10h]
  CIOSocket::CIOTimer _Val; // [esp+1Ch] [ebp-Ch] BYREF
  int v14; // [esp+34h] [ebp+Ch]

  _Val.m_dwTime = *a4;
  _Val.m_pObject = (CIOObject *)a4[1];
  _Val.m_nId = a4[2];
  v11 = std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this);
  if ( a3 )
  {
    v4 = sub_446800((std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *)this);
    if ( v4 - std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) / 12 >= a3 )
        {
          _Dest = *(CIOSocket::CIOTimer **)(this + 8);
          *(_DWORD *)(this + 8) = sub_4474B0((int)&_Dest[-a3], (int)_Dest, _Dest);
          std::copy_backward<IPAddrMask *,IPAddrMask *>(a2, &_Dest[-a3], _Dest);
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(a2, &a2[a3], &_Val);
        }
        else
        {
          sub_4474B0((int)a2, *(_DWORD *)(this + 8), &a2[a3]);
          std::vector<CIOSocket::CIOTimer>::_Xlen(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(char **)(this + 8),
            a3 - (*(_DWORD *)(this + 8) - (int)a2) / 12,
            (int)&_Val);
          *(_DWORD *)(this + 8) += 12 * a3;
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)(*(_DWORD *)(this + 8) - 12 * a3),
            &_Val);
        }
      }
      else
      {
        if ( sub_446800((std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *)this)
           - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
          v12 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        _First = sub_446B40(v12);
        v5 = sub_4474B0(*(_DWORD *)(this + 4), (int)a2, _First);
        _Last = std::vector<CIOSocket::CIOTimer>::_Xlen((std::vector<CIOSocket::CIOTimer> *)this, v5, a3, (int)&_Val);
        sub_4474B0((int)a2, *(_DWORD *)(this + 8), _Last);
        v14 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          std::vector<IPAddrMask>::_Destroy(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 4),
            *(CIOSocket::CIOTimer **)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) / 12);
        }
        *(_DWORD *)(this + 12) = &_First[3 * v12];
        *(_DWORD *)(this + 8) = &_First[3 * v14];
        *(_DWORD *)(this + 4) = _First;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (00431D20) --------------------------------------------------------
_DWORD *__thiscall sub_431D20(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *this;
  *a2 = *(_DWORD *)std::vector<tagRECT>::iterator::operator+=((std::vector<tagRECT>::iterator *)&v4, a3);
  return a2;
}

//----- (00431D50) --------------------------------------------------------
int __thiscall sub_431D50(int *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h] BYREF

  v3 = *this;
  return sub_425280(&v3, a2);
}

//----- (00431D80) --------------------------------------------------------
unsigned int __thiscall std::allocator<tagRECT>::max_size(std::allocator<tagRECT> *this)
{
  return 0xFFFFFFF;
}

//----- (00431DB0) --------------------------------------------------------
int __thiscall sub_431DB0(_DWORD *this, _DWORD *a2)
{
  return (*this - *a2) >> 4;
}

//----- (00431DD0) --------------------------------------------------------
int __thiscall sub_431DD0(_DWORD *this, _DWORD *a2)
{
  return (*this - *a2) >> 3;
}

//----- (00431DF0) --------------------------------------------------------
char *__cdecl sub_431DF0(void *a1, int a2, int a3)
{
  unknown_libname_6(&a1, &a1);
  return std::_Uninit_fill_n<XMessageQueue::XTimerElement *,unsigned int,XMessageQueue::XTimerElement,std::allocator<XMessageQueue::XTimerElement>>(
           (char *)a1,
           a2,
           a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (00431E30) --------------------------------------------------------
char *__thiscall sub_431E30(void *this, int a2, int a3, void *a4)
{
  return sub_47D9D0(a2, a3, a4);
}

//----- (00431E60) --------------------------------------------------------
char *__thiscall sub_431E60(void *this, int a2, int a3, void *a4)
{
  return sub_47A690(a2, a3, a4);
}

//----- (00431E90) --------------------------------------------------------
void *__cdecl sub_431E90(void *a1, int a2, int a3)
{
  void *result; // eax

  result = a1;
  while ( a2 )
  {
    result = sub_4475D0(a1, a3);
    --a2;
    a1 = (char *)a1 + 12;
  }
  return result;
}

//----- (00431EF0) --------------------------------------------------------
_DWORD *__cdecl std::_Copy_backward_opt<tagRECT *,tagRECT *>(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  while ( a1 != a2 )
  {
    a2 -= 4;
    a3 -= 4;
    *a3 = *a2;
    a3[1] = a2[1];
    a3[2] = a2[2];
    a3[3] = a2[3];
  }
  return a3;
}

//----- (00431F30) --------------------------------------------------------
_DWORD *__cdecl std::_Copy_backward_opt<XMessageQueue::XTimerElement *,XMessageQueue::XTimerElement *>(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  int v3; // edx

  while ( a1 != a2 )
  {
    a2 -= 2;
    a3 -= 2;
    v3 = a2[1];
    *a3 = *a2;
    a3[1] = v3;
  }
  return a3;
}

//----- (00431F70) --------------------------------------------------------
int __cdecl std::_Destroy_range<CSyncPacket::CElement>(int a1, int a2)
{
  int result; // eax

  while ( a1 != a2 )
  {
    sub_44CD70(a1);
    result = a1 + 12;
    a1 += 12;
  }
  return result;
}

//----- (00431FA0) --------------------------------------------------------
char *__cdecl std::allocator<IPAddrMask>::construct(IPAddrMask *_Ptr, const IPAddrMask *_Val, void *a3)
{
  unknown_libname_6(&_Ptr, &a3);
  return CGenNPC::~CGenNPC((int)_Ptr, (int)_Val, (char *)a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (00431FE0) --------------------------------------------------------
LONG *__cdecl std::_Construct<tagRECT,tagRECT>(tagRECT *_Ptr, const tagRECT *_Val)
{
  LONG *result; // eax
  LONG *v3; // [esp+4h] [ebp-4h]

  result = (LONG *)operator new(0x10u, _Ptr);
  v3 = result;
  if ( result )
  {
    *result = _Val->left;
    result[1] = _Val->top;
    result = (LONG *)_Val->right;
    v3[2] = (LONG)result;
    v3[3] = _Val->bottom;
  }
  return result;
}

//----- (00432030) --------------------------------------------------------
void *__thiscall sub_432030(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00432060) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, char a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(&a3);
  std::_Tree_ptr<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::_Tree_ptr<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>(
    this,
    a2,
    v4);
  std::_Init_locks::operator=(&a3);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (004320A0) --------------------------------------------------------
void *__thiscall sub_4320A0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004320D0) --------------------------------------------------------
int __thiscall sub_4320D0(void *this)
{
  return sub_4320F0(this);
}

//----- (004320F0) --------------------------------------------------------
int __thiscall sub_4320F0(void *this)
{
  return sub_432110((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00432110) --------------------------------------------------------
int __thiscall sub_432110(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4321C0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (004321C0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4321C0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_430C40(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00432260) --------------------------------------------------------
int __thiscall sub_432260(void *this)
{
  return sub_432280(this);
}

//----- (00432280) --------------------------------------------------------
int __thiscall sub_432280(void *this)
{
  return sub_4322A0((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (004322A0) --------------------------------------------------------
int __thiscall sub_4322A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_432350(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00432350) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_432350(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_430D10(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (004323F0) --------------------------------------------------------
_DWORD *__thiscall lisp::var::operator=(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  if ( this != &dword_4E1108 )
  {
    result = this;
    *this = a2;
  }
  return result;
}

//----- (00432410) --------------------------------------------------------
__int32 __thiscall sub_432410(const char **this)
{
  return strtol(this[1], 0, 0);
}

//----- (00432430) --------------------------------------------------------
unsigned __int32 __thiscall sub_432430(const char **this)
{
  return strtoul(this[1], 0, 0);
}

//----- (00432450) --------------------------------------------------------
int __thiscall lisp::_cons::length(lisp::_cons *this)
{
  _DWORD *v2; // eax
  int v3; // ecx
  int v4[3]; // [esp-4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h] BYREF

  v4[1] = (int)this;
  v5 = 0;
  sub_402340(&v6, &this->m_cdr.m_pObject);
  while ( 1 )
  {
    ++v5;
    if ( !(unsigned __int8)sub_40BCE0(&v6) )
      break;
    v2 = (_DWORD *)sub_40BCC0(&v6);
    v4[0] = v3;
    sub_402340(v4, v2);
    lisp::var::operator=(&v6, v4[0]);
  }
  return v5;
}
// 432494: variable 'v3' is possibly undefined

//----- (004324B0) --------------------------------------------------------
std::ios_base *__thiscall sub_4324B0(std::ios_base *this)
{
  std::ios_base::ios_base(this);
  *(_DWORD *)this = off_4B76F0;
  return this;
}
// 40C340: using guessed type _DWORD __thiscall std::ios_base::ios_base(std::ios_base *__hidden this);
// 4B76F0: using guessed type int (*off_4B76F0[6])();

//----- (004324E0) --------------------------------------------------------
unsigned int __thiscall CLog::CInit::~CInit(CLog::CInit *this)
{
  unsigned int result; // eax
  unsigned int i; // [esp+4h] [ebp-4h]

  for ( i = 0; i < 3; ++i )
  {
    if ( *(&stream + i) )
      fclose(*(&stream + i));
    result = i + 1;
  }
  return result;
}

//----- (00432530) --------------------------------------------------------
void __cdecl CLog::AddV(int nType, char *format, char *va)
{
  char v3[36]; // [esp+8h] [ebp-93Ch] BYREF
  char v4[260]; // [esp+2Ch] [ebp-918h] BYREF
  time_t v5; // [esp+130h] [ebp-814h] BYREF
  struct tm *v6; // [esp+134h] [ebp-810h]
  size_t count; // [esp+138h] [ebp-80Ch]
  char a3[1024]; // [esp+13Ch] [ebp-808h] BYREF
  char buffer[1004]; // [esp+53Ch] [ebp-408h] BYREF
  int v10; // [esp+940h] [ebp-4h]

  v10 = dword_4D9830;
  vsprintf(a3, format, va);
  sub_4327C0((CIOCriticalSection *)&unk_4E1128);
  CLink::Insert(&unk_4E1128, *(&pLink + nType), a3);
  if ( nType >= 1 )
  {
    time(&v5);
    v6 = localtime(&v5);
    if ( v5 >= (unsigned int)dword_4E1110[nType] )
    {
      if ( *(&stream + nType) )
        fclose(*(&stream + nType));
      if ( nType == 1 )
        sprintf(v4, "Log\\%02d%02d%02d.log", v6->tm_year % 100, v6->tm_mon + 1, v6->tm_mday);
      else
        sprintf(v4, "Log\\%02d%02d%02d.err.log", v6->tm_year % 100, v6->tm_mon + 1, v6->tm_mday);
      qmemcpy(v3, v6, sizeof(v3));
      v6->tm_sec = 0;
      v6->tm_min = 0;
      v6->tm_hour = 0;
      dword_4E1110[nType] = mktime(v6) + 86400;
      *(&stream + nType) = fopen(v4, "ab");
      qmemcpy(v6, v3, sizeof(struct tm));
    }
    count = sprintf(
              buffer,
              "%02d/%02d/%02d %02d:%02d:%02d %s\r\n",
              v6->tm_year % 100,
              v6->tm_mon + 1,
              v6->tm_mday,
              v6->tm_hour,
              v6->tm_min,
              v6->tm_sec,
              a3);
    if ( *(&stream + nType) )
      fread_0(buffer, 1u, count, *(&stream + nType));
  }
  sub_4327E0((CIOCriticalSection *)&unk_4E1128);
  if ( dword_4E2130 == (CScreen *)&unk_4E1128 )
    InvalidateRect(hWnd, 0, 1);
}
// 4D9830: using guessed type int dword_4D9830;

//----- (004327C0) --------------------------------------------------------
void __thiscall sub_4327C0(CIOCriticalSection *this)
{
  CIOCriticalSection::Enter(this);
}

//----- (004327E0) --------------------------------------------------------
void __thiscall sub_4327E0(CIOCriticalSection *this)
{
  CIOCriticalSection::Leave(this);
}

//----- (00432800) --------------------------------------------------------
void __stdcall CLog::Flush()
{
  unsigned int i; // [esp+0h] [ebp-4h]

  sub_4327C0((CIOCriticalSection *)&unk_4E1128);
  for ( i = 0; i < 3; ++i )
  {
    if ( *(&stream + i) )
      fflush(*(&stream + i));
  }
  sub_4327E0((CIOCriticalSection *)&unk_4E1128);
}

//----- (00432860) --------------------------------------------------------
void LOG_INFO(char *format, ...)
{
  va_list va; // [esp+10h] [ebp+Ch] BYREF

  va_start(va, format);
  CLog::AddV(0, format, va);
}

//----- (00432890) --------------------------------------------------------
void LOG_NORMAL(char *format, ...)
{
  va_list va; // [esp+10h] [ebp+Ch] BYREF

  va_start(va, format);
  CLog::AddV(1, format, va);
}

//----- (004328C0) --------------------------------------------------------
void LOG_ERR(char *format, ...)
{
  va_list va; // [esp+10h] [ebp+Ch] BYREF

  va_start(va, format);
  CLog::AddV(2, format, va);
}

//----- (004328F0) --------------------------------------------------------
int __cdecl CMainConfig::Open()
{
  int v0; // eax
  char *v1; // eax
  char *v2; // eax
  char *v3; // eax
  char *v4; // eax
  char *v5; // eax
  char *v6; // eax
  char *v7; // eax
  char *v8; // eax
  size_t v9; // eax
  size_t v10; // eax
  size_t v11; // eax
  size_t v12; // eax
  const char *v13; // eax
  const char *v14; // eax
  const char *v15; // eax
  _lambda_9ab38a79c03e1e04423ad6818173354b_ *v16; // eax
  int v17; // [esp-4h] [ebp-2F4h]
  std::string v18; // [esp+8h] [ebp-2E8h] BYREF
  char v19[32]; // [esp+24h] [ebp-2CCh] BYREF
  int v20; // [esp+44h] [ebp-2ACh]
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> result; // [esp+50h] [ebp-2A0h] BYREF
  CHAR String[32]; // [esp+58h] [ebp-298h] BYREF
  char *i; // [esp+78h] [ebp-278h]
  char v24[4]; // [esp+7Ch] [ebp-274h] BYREF
  struct _SYSTEM_INFO SystemInfo; // [esp+80h] [ebp-270h] BYREF
  char Str[48]; // [esp+A4h] [ebp-24Ch] BYREF
  FILE *v27; // [esp+D4h] [ebp-21Ch]
  CConfig v28; // [esp+D8h] [ebp-218h] BYREF
  int v29; // [esp+2E8h] [ebp-8h]
  int v30; // [esp+2ECh] [ebp-4h]

  v29 = dword_4D9830;
  CConfig::CConfig(&v28);
  if ( CConfig::Open(&v28, "MainConfig.txt") )
  {
    GetSystemInfo(&SystemInfo);
    *(_DWORD *)dword_4E1190 = sub_40C9A0(&v28, "NumberOfThreads", 2 * SystemInfo.dwNumberOfProcessors);
    dword_4E118C = sub_40C9A0(&v28, "MaxUser", 1000);
    dword_4E1188 = sub_40C970(&v28, "ServerId");
    dword_4E1184 = sub_40C9A0(&v28, "AgeLimit", 18);
    v1 = (char *)CConfig::Get(&v28, "Map", ".\\Map");
    sub_433B70((std::vector<IPAddrMask> *)&stru_4E1194, v1);
    v2 = (char *)CConfig::Get(&v28, "DBServer", "127.0.0.1");
    sub_433B70((std::vector<IPAddrMask> *)&stru_4E11B0, v2);
    v3 = (char *)CConfig::Get(&v28, "AuthServer", "127.0.0.1");
    sub_433B70((std::vector<IPAddrMask> *)&stru_4E11CC, v3);
    v4 = (char *)CConfig::Get(&v28, "MailServer");
    sub_433B70((std::vector<IPAddrMask> *)&stru_4E1204, v4);
    v5 = (char *)CConfig::Get(&v28, "MailFrom");
    sub_433B70((std::vector<IPAddrMask> *)&stru_4E1220, v5);
    v6 = (char *)CConfig::Get(&v28, "MailTo");
    sub_433B70((std::vector<IPAddrMask> *)&stru_4E123C, v6);
    dword_4E117C = CConfig::GetTimeStamp();
    *(_DWORD *)&nPort = sub_40C9A0(&v28, "Port", 30001);
    *(_DWORD *)&dword_4E116C = sub_40C9A0(&v28, "DBPort", 40001);
    *(_DWORD *)&hostshort = sub_40C9A0(&v28, "AuthPort", 50001);
    v7 = (char *)CConfig::Get(&v28, "ODBC", off_4B7858);
    sub_433B70((std::vector<IPAddrMask> *)&stru_4E11E8, v7);
    dword_4E1164 = sub_40C9A0(&v28, "ItemVer", 1);
    dword_4E35B8 = sub_40C9A0(&v28, "Country", 0);
    v8 = (char *)CConfig::Get(&v28, "Language", "LanguageM_kr.txt");
    sub_433B70((std::vector<IPAddrMask> *)&stru_4E1264, v8);
    dword_4E1180 = sub_40C9A0(&v28, "MailLimitLv", 0);
    *(_DWORD *)dword_4E1160 = sub_40C9A0(&v28, "Seed", 0);
    i = (char *)CConfig::Get(&v28, "Title");
    if ( *i )
    {
      sprintf(String, "%s on port %d", i, *(_DWORD *)&nPort);
      SetWindowTextA(hWnd, String);
    }
    for ( i = (char *)CConfig::Get(&v28, "Event", &Source); ; i += v10 )
    {
      v9 = strspn(i, " ,");
      i += v9;
      if ( !*i )
        break;
      dword_4E1178 |= 1 << j__atol(i);
      v10 = strcspn(i, " ,");
    }
    for ( i = (char *)CConfig::Get(&v28, "System", &Source); ; i += v12 )
    {
      v11 = strspn(i, " ,");
      i += v11;
      if ( !*i )
        break;
      *(_DWORD *)dword_4E1174 |= 1 << j__atol(i);
      v12 = strcspn(i, " ,");
    }
    v30 = 0;
    v13 = (const char *)sub_4012D0(&stru_4E1264);
    v27 = fopen(v13, "rt");
    if ( v27 )
    {
      while ( (v27->_flag & 0x10) == 0 )
      {
        ++v30;
        if ( fscanf(v27, "%d %[^\n]", v24, Str) < 2 )
        {
          if ( (v27->_flag & 0x10) == 0 )
          {
            v17 = v30;
            v15 = (const char *)sub_4012D0(&stru_4E1264);
            LOG_ERR("Can't read '%s'. (line:%d)", v15, v17);
            fclose(v27);
            v20 = 0;
            sub_40BB50(&v28);
            return v20;
          }
          break;
        }
        std::string::string((std::vector<IPAddrMask> *)&v18, Str);
        v16 = _lambda_9ab38a79c03e1e04423ad6818173354b_::_lambda_9ab38a79c03e1e04423ad6818173354b_(
                (_lambda_9ab38a79c03e1e04423ad6818173354b_ *)v19,
                v24,
                &v18);
        std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(
          (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E1258,
          &result,
          (const std::pair<int const ,CSocket *> *)v16);
        sub_432EC0((int)v19);
        sub_40F780(&v18);
        if ( !result.second )
        {
          LOG_ERR("Can't insert into LanguageMap.(index:%d, string:%s)", *(_DWORD *)v24, Str);
          fclose(v27);
          sub_40BB50(&v28);
          return 0;
        }
      }
      fclose(v27);
      sub_40BB50(&v28);
      v0 = 1;
    }
    else
    {
      v14 = (const char *)sub_4012D0(&stru_4E1264);
      LOG_ERR("Can't open '%s'", v14);
      sub_40BB50(&v28);
      v0 = 0;
    }
  }
  else
  {
    sub_40BB50(&v28);
    v0 = 0;
  }
  return v0;
}
// 4D9830: using guessed type int dword_4D9830;
// 4E1164: using guessed type int dword_4E1164;
// 4E1178: using guessed type int dword_4E1178;
// 4E117C: using guessed type int dword_4E117C;
// 4E1180: using guessed type int dword_4E1180;
// 4E1184: using guessed type int dword_4E1184;
// 4E1188: using guessed type int dword_4E1188;
// 4E118C: using guessed type int dword_4E118C;
// 4E1258: using guessed type int dword_4E1258[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00432EC0) --------------------------------------------------------
void __thiscall sub_432EC0(int this)
{
  sub_40F780((void *)(this + 4));
}

//----- (00432EE0) --------------------------------------------------------
_DWORD *sub_432EE0()
{
  return sub_433110(dword_4E1258);
}
// 4E1258: using guessed type int dword_4E1258[3];

//----- (00432EF0) --------------------------------------------------------
char *__cdecl GetStr(int nIndex)
{
  int v1; // eax
  char *v2; // eax
  int v3; // eax
  char v4[4]; // [esp+0h] [ebp-8h] BYREF
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator result; // [esp+4h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E1258,
    &result,
    &nIndex);
  v1 = sub_430C20(dword_4E1258, (int)v4);
  if ( (unsigned __int8)unknown_libname_8(v1) )
  {
    LOG_ERR("Can't find words in LanguageMap. (index:%d)", nIndex);
    v2 = &Source;
  }
  else
  {
    v3 = sub_420250(&result);
    v2 = (char *)sub_4012D0((void *)(v3 + 4));
  }
  return v2;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1258: using guessed type int dword_4E1258[3];

//----- (00432F60) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::insert(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,bool> *result, const std::pair<int const ,CSocket *> *_Val)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_478AB0((int *)this);
  v22 = this->_Myhead;
  v23 = 1;
  while ( !*(_BYTE *)sub_433230((int)v21) )
  {
    v22 = (std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *)v21;
    v10 = (_DWORD *)sub_473500((int)v21);
    v3 = (_DWORD *)sub_474590((int)_Val);
    v23 = sub_4186F0(v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_474590((int)v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_430F90((int)v21);
    v21 = v12;
  }
  sub_446700(v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_4332F0((int)this, (int)v17, 1, (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *)v22, (const std::pair<unsigned long const ,std::string > *)_Val);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)result,
        v5,
        &v18);
      return result;
    }
    sub_475900(v20);
  }
  v11 = (_DWORD *)sub_474590((int)_Val);
  v7 = unknown_libname_7(v20);
  v8 = (_DWORD *)sub_473500(v7);
  if ( sub_4186F0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_4332F0((int)this, (int)v15, v23, (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *)v22, (const std::pair<unsigned long const ,std::string > *)_Val);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)result,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)result,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return result;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00433110) --------------------------------------------------------
_DWORD *__thiscall sub_433110(_DWORD *this)
{
  int *v1; // eax
  _DWORD *result; // eax

  v1 = (int *)sub_478AB0(this);
  sub_433270(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00433170) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *__thiscall std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator *result, const int *_Keyval)
{
  int v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_433240(this, (int)v12, (int)_Keyval);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (_DWORD *)sub_473500(v4), sub_4186F0(_Keyval, v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *(_DWORD *)result = *(_DWORD *)v7;
  return result;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00433200) --------------------------------------------------------
_lambda_9ab38a79c03e1e04423ad6818173354b_ *__thiscall _lambda_9ab38a79c03e1e04423ad6818173354b_::_lambda_9ab38a79c03e1e04423ad6818173354b_(_lambda_9ab38a79c03e1e04423ad6818173354b_ *this, _DWORD *a2, const std::string *a3)
{
  *(_DWORD *)this = *a2;
  std::string::string((_lambda_9ab38a79c03e1e04423ad6818173354b_ *)((char *)this + 4), a3);
  return this;
}

//----- (00433230) --------------------------------------------------------
int __cdecl sub_433230(int a1)
{
  return a1 + 45;
}

//----- (00433240) --------------------------------------------------------
int __thiscall sub_433240(_DWORD *this, int a1, int a2)
{
  int v3; // eax

  v3 = sub_476660(this, (_DWORD *)a2);
  sub_446700((void *)a1, v3);
  return a1;
}

//----- (00433270) --------------------------------------------------------
int __stdcall sub_433270(int a1)
{
  int result; // eax
  int *v2; // eax
  int i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_433230(i);
    if ( result )
      break;
    v2 = (int *)sub_430F90(i);
    sub_433270(*v2);
    i = *(_DWORD *)sub_474590(i);
    sub_433910(a1);
    sub_4338F0((void *)a1, 1);
  }
  return result;
}

//----- (004332F0) --------------------------------------------------------
int __thiscall sub_4332F0(int this, int a2, char a3, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *a4, const std::pair<unsigned long const ,std::string > *a5)
{
  void *v5; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v6; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v7; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v8; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v9; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v10; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v11; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  int *v31; // eax
  int *v32; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  std::length_error that; // [esp+8h] [ebp-48h] BYREF
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *v43; // [esp+48h] [ebp-8h]
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *v44; // [esp+4Ch] [ebp-4h]
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Parg; // [esp+60h] [ebp+10h]

  if ( sub_477640(this) - 1 <= *(_DWORD *)(this + 8) )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v5);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  v44 = std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::_Buynode(
          (std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> > *)this,
          *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)(this + 4),
          a4,
          *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)(this + 4),
          a5,
          0);
  ++*(_DWORD *)(this + 8);
  if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)(this + 4) )
  {
    v6 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_478AB0((int *)this);
    *v6 = v44;
    v7 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_418790((_DWORD *)this);
    *v7 = v44;
    v8 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_47EB40((int *)this);
    *v8 = v44;
  }
  else if ( a3 )
  {
    v9 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_474590((int)a4);
    *v9 = v44;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_418790((_DWORD *)this) )
    {
      v10 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_418790((_DWORD *)this);
      *v10 = v44;
    }
  }
  else
  {
    v11 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_430F90((int)a4);
    *v11 = v44;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_47EB40((int *)this) )
    {
      v12 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_47EB40((int *)this);
      *v12 = v44;
    }
  }
  v43 = v44;
  while ( 1 )
  {
    v13 = (int *)sub_446FF0((int)v43);
    if ( *(_BYTE *)sub_433730(*v13) )
      break;
    v14 = (_DWORD *)sub_446FF0((int)v43);
    v15 = (int *)sub_446FF0((int)v43);
    v16 = (int *)sub_446FF0(*v15);
    if ( *v14 == *(_DWORD *)sub_474590(*v16) )
    {
      v17 = (int *)sub_446FF0((int)v43);
      v18 = (int *)sub_446FF0(*v17);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_430F90(*v18);
      if ( !*(_BYTE *)sub_433730((int)_Parg) )
        goto LABEL_15;
      v23 = (int *)sub_446FF0((int)v43);
      v24 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_430F90(*v23);
      if ( v43 == *v24 )
      {
        v43 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_446FF0((int)v43);
        sub_4766F0((void *)this, (int)v43);
      }
      v25 = (int *)sub_446FF0((int)v43);
      *(_BYTE *)sub_433730(*v25) = 1;
      v26 = (int *)sub_446FF0((int)v43);
      v27 = (int *)sub_446FF0(*v26);
      *(_BYTE *)sub_433730(*v27) = 0;
      v28 = (int *)sub_446FF0((int)v43);
      v29 = (int *)sub_446FF0(*v28);
      sub_433740((void *)this, *v29);
    }
    else
    {
      v30 = (int *)sub_446FF0((int)v43);
      v31 = (int *)sub_446FF0(*v30);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_474590(*v31);
      if ( *(_BYTE *)sub_433730((int)_Parg) )
      {
        v32 = (int *)sub_446FF0((int)v43);
        v33 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_474590(*v32);
        if ( v43 == *v33 )
        {
          v43 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_446FF0((int)v43);
          sub_433740((void *)this, (int)v43);
        }
        v34 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_433730(*v34) = 1;
        v35 = (int *)sub_446FF0((int)v43);
        v36 = (int *)sub_446FF0(*v35);
        *(_BYTE *)sub_433730(*v36) = 0;
        v37 = (int *)sub_446FF0((int)v43);
        v38 = (int *)sub_446FF0(*v37);
        sub_4766F0((void *)this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_433730(*v19) = 1;
        *(_BYTE *)sub_433730((int)_Parg) = 1;
        v20 = (int *)sub_446FF0((int)v43);
        v21 = (int *)sub_446FF0(*v20);
        *(_BYTE *)sub_433730(*v21) = 0;
        v22 = (int *)sub_446FF0((int)v43);
        v43 = *(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node **)sub_446FF0(*v22);
      }
    }
  }
  v39 = (int *)sub_478AB0((int *)this);
  *(_BYTE *)sub_433730(*v39) = 1;
  sub_446700((void *)a2, (int)v44);
  return a2;
}
// 433328: variable 'v5' is possibly undefined

//----- (00433730) --------------------------------------------------------
int __cdecl sub_433730(int a1)
{
  return a1 + 44;
}

//----- (00433740) --------------------------------------------------------
int *__thiscall sub_433740(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_474590(a2);
  v2 = (_DWORD *)sub_430F90(v11);
  *(_DWORD *)sub_474590(a2) = *v2;
  v3 = (int *)sub_430F90(v11);
  if ( !*(_BYTE *)sub_433230(*v3) )
  {
    v4 = (int *)sub_430F90(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_430F90(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v8) = v11;
    }
  }
  *(_DWORD *)sub_430F90(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (00433870) --------------------------------------------------------
CMemory **__thiscall std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Rarg, const std::pair<unsigned long const ,std::string > *_Val, char _Carg)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *v7; // [esp+8h] [ebp-8h]
  CMemory **v8; // [esp+Ch] [ebp-4h]

  v8 = sub_4793B0(1);
  v7 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *)operator new(0x30u, v8);
  if ( v7 )
    std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::_Node::_Node(
      v7,
      _Larg,
      _Parg,
      _Rarg,
      _Val,
      _Carg);
  return v8;
}

//----- (004338F0) --------------------------------------------------------
void __stdcall sub_4338F0(void *a1, int a2)
{
  sub_401020(a1);
}

//----- (00433910) --------------------------------------------------------
void *__stdcall sub_433910(int a1)
{
  return sub_433AF0((void *)a1);
}

//----- (00433930) --------------------------------------------------------
int __thiscall sub_433930(_DWORD *this)
{
  return sub_447000(*this);
}

//----- (00433950) --------------------------------------------------------
int __thiscall sub_433950(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_433230(*this) )
  {
    result = *(_DWORD *)sub_430F90(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)sub_474590(*this);
    if ( *(_BYTE *)sub_433230(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        if ( *(_BYTE *)sub_433230(v5) || *this != *(_DWORD *)sub_474590(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_433230(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)sub_474590(*this);
      result = sub_433AB0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (00433A30) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,std::string>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *_Rarg, const std::pair<unsigned long const ,std::string > *_Val, char _Carg)
{
  *(_DWORD *)this = _Larg;
  *((_DWORD *)this + 1) = _Parg;
  *((_DWORD *)this + 2) = _Rarg;
  std::pair<unsigned long const,tagSibmanRankInfo>::pair<unsigned long const,tagSibmanRankInfo>(
    (std::_Tree_nod<std::_Tmap_traits<unsigned long,std::string,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,std::string > >,0> >::_Node *)((char *)this + 12),
    _Val);
  *((_BYTE *)this + 44) = _Carg;
  *((_BYTE *)this + 45) = 0;
  return this;
}

//----- (00433A80) --------------------------------------------------------
std::pair<unsigned long const ,tagSibmanRankInfo> *__thiscall std::pair<unsigned long const,tagSibmanRankInfo>::pair<unsigned long const,tagSibmanRankInfo>(std::pair<unsigned long const ,tagSibmanRankInfo> *this, const std::pair<unsigned long,tagSibmanRankInfo> *_Right)
{
  *(_DWORD *)this = *(_DWORD *)_Right;
  std::string::string(
    (std::pair<unsigned long const ,tagSibmanRankInfo> *)((char *)this + 4),
    (const std::pair<unsigned long,tagSibmanRankInfo> *)((char *)_Right + 4));
  return this;
}

//----- (00433AB0) --------------------------------------------------------
int __cdecl sub_433AB0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_430F90(a1);
    if ( *(_BYTE *)sub_433230(*v1) )
      break;
    a1 = *(_DWORD *)sub_430F90(a1);
  }
  return a1;
}

//----- (00433AF0) --------------------------------------------------------
void *__cdecl sub_433AF0(void *a1)
{
  return sub_433B20(a1, 0);
}

//----- (00433B00) --------------------------------------------------------
CMemory **__cdecl sub_433B00(int a1)
{
  return sub_401000(48 * a1);
}

//----- (00433B20) --------------------------------------------------------
void *__thiscall sub_433B20(void *this, char a2)
{
  sub_433B50(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}
// 433B50: using guessed type int __thiscall sub_433B50(_DWORD);

//----- (00433B70) --------------------------------------------------------
std::string *__thiscall sub_433B70(std::vector<IPAddrMask> *this, char *a2)
{
  return std::vector<IPAddrMask>::capacity(this, a2);
}

//----- (00433B90) --------------------------------------------------------
std::string *__thiscall std::string::string(std::string *this)
{
  std::string *v2; // [esp-4h] [ebp-Ch] BYREF
  int v3; // [esp+0h] [ebp-8h]

  v3 = (int)this;
  v2 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v2);
  sub_44F7C0((void *)v3, (char)v2);
  std::string::_Tidy(v3, 0, 0);
  return (std::string *)v3;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00433BC0) --------------------------------------------------------
void *__thiscall sub_433BC0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_472ED0(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00433BF0) --------------------------------------------------------
int __thiscall sub_433BF0(void *this)
{
  return sub_433C10(this);
}

//----- (00433C10) --------------------------------------------------------
int __thiscall sub_433C10(void *this)
{
  return sub_433C30((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00433C30) --------------------------------------------------------
int __thiscall sub_433C30(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_433CE0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00433CE0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_433CE0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_433110(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_434510(&a3, v10, 0);
      sub_433D80(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00433D80) --------------------------------------------------------
_DWORD *__thiscall sub_433D80(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  std::logic_error *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  int *v25; // eax
  void **v26; // eax
  int *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  char v52[36]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_7(&a3);
  if ( *(_BYTE *)sub_433230(v3) )
  {
    std::string::string((std::vector<IPAddrMask> *)v51, "invalid map/set<T> iterator");
    v4 = sub_4111A0((std::logic_error *)v52, (const std::string *)v51);
    std::exception::_Raise(v4);
    sub_4111D0((std::logic_error *)v52);
    sub_40F780(v51);
  }
  v56 = (void *)unknown_libname_7(&a3);
  sub_475880(&a3);
  v54 = v56;
  v5 = (int *)sub_474590((int)v56);
  if ( *(_BYTE *)sub_433230(*v5) )
  {
    v55 = *(void **)sub_430F90((int)v54);
  }
  else
  {
    v6 = (int *)sub_430F90((int)v54);
    if ( *(_BYTE *)sub_433230(*v6) )
    {
      v55 = *(void **)sub_474590((int)v54);
    }
    else
    {
      v54 = (void *)unknown_libname_7(&a3);
      v55 = *(void **)sub_430F90((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_446FF0((int)v56);
    if ( !*(_BYTE *)sub_433230((int)v55) )
    {
      v7 = (_DWORD *)sub_446FF0((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_478AB0(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_478AB0(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)sub_474590((int)v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)sub_474590((int)v53);
      else
        v11 = (_DWORD *)sub_430F90((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_418790(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_433230((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_479190((int)v55);
      *(_DWORD *)sub_418790(this) = v49;
    }
    v13 = (void **)sub_47EB40(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_433230((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_433AB0((int)v55);
      *(_DWORD *)sub_47EB40(this) = v48;
    }
  }
  else
  {
    v14 = (int *)sub_474590((int)v56);
    v15 = (_DWORD *)sub_446FF0(*v14);
    *v15 = v54;
    v16 = (_DWORD *)sub_474590((int)v56);
    *(_DWORD *)sub_474590((int)v54) = *v16;
    v17 = (void **)sub_430F90((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_446FF0((int)v54);
      if ( !*(_BYTE *)sub_433230((int)v55) )
      {
        v18 = (_DWORD *)sub_446FF0((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)sub_474590((int)v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_430F90((int)v56);
      *(_DWORD *)sub_430F90((int)v54) = *v20;
      v21 = (int *)sub_430F90((int)v56);
      v22 = (_DWORD *)sub_446FF0(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_478AB0(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_478AB0(this);
      *v24 = v54;
    }
    else
    {
      v25 = (int *)sub_446FF0((int)v56);
      v26 = (void **)sub_474590(*v25);
      if ( *v26 == v56 )
      {
        v27 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_474590(*v27);
      }
      else
      {
        v29 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_430F90(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_446FF0((int)v56);
    *(_DWORD *)sub_446FF0((int)v54) = *v30;
    v47 = (char *)sub_433730((int)v56);
    v31 = (char *)sub_433730((int)v54);
    std::swap<unsigned char>(v31, v47);
  }
  if ( *(_BYTE *)sub_433730((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_478AB0(this);
      if ( v55 == *v32 || *(_BYTE *)sub_433730((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_433730((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)sub_474590((int)v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)sub_474590((int)v53);
      if ( !*(_BYTE *)sub_433730((int)v54) )
      {
        *(_BYTE *)sub_433730((int)v54) = 1;
        *(_BYTE *)sub_433730((int)v53) = 0;
        sub_433740(this, (int)v53);
        v54 = *(void **)sub_474590((int)v53);
      }
      if ( !*(_BYTE *)sub_433230((int)v54) )
      {
        v40 = (int *)sub_430F90((int)v54);
        if ( *(_BYTE *)sub_433730(*v40) != 1 || (v41 = (int *)sub_474590((int)v54), *(_BYTE *)sub_433730(*v41) != 1) )
        {
          v42 = (int *)sub_474590((int)v54);
          if ( *(_BYTE *)sub_433730(*v42) == 1 )
          {
            v43 = (int *)sub_430F90((int)v54);
            *(_BYTE *)sub_433730(*v43) = 1;
            *(_BYTE *)sub_433730((int)v54) = 0;
            sub_4766F0(this, (int)v54);
            v54 = *(void **)sub_474590((int)v53);
          }
          v44 = (_BYTE *)sub_433730((int)v53);
          *(_BYTE *)sub_433730((int)v54) = *v44;
          *(_BYTE *)sub_433730((int)v53) = 1;
          v45 = (int *)sub_474590((int)v54);
          *(_BYTE *)sub_433730(*v45) = 1;
          sub_433740(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_433730((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_446FF0((int)v55);
    }
    v54 = *(void **)sub_430F90((int)v53);
    if ( !*(_BYTE *)sub_433730((int)v54) )
    {
      *(_BYTE *)sub_433730((int)v54) = 1;
      *(_BYTE *)sub_433730((int)v53) = 0;
      sub_4766F0(this, (int)v53);
      v54 = *(void **)sub_430F90((int)v53);
    }
    if ( *(_BYTE *)sub_433230((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)sub_474590((int)v54);
    if ( *(_BYTE *)sub_433730(*v34) != 1 || (v35 = (int *)sub_430F90((int)v54), *(_BYTE *)sub_433730(*v35) != 1) )
    {
      v36 = (int *)sub_430F90((int)v54);
      if ( *(_BYTE *)sub_433730(*v36) == 1 )
      {
        v37 = (int *)sub_474590((int)v54);
        *(_BYTE *)sub_433730(*v37) = 1;
        *(_BYTE *)sub_433730((int)v54) = 0;
        sub_433740(this, (int)v54);
        v54 = *(void **)sub_430F90((int)v53);
      }
      v38 = (_BYTE *)sub_433730((int)v53);
      *(_BYTE *)sub_433730((int)v54) = *v38;
      *(_BYTE *)sub_433730((int)v53) = 1;
      v39 = (int *)sub_430F90((int)v54);
      *(_BYTE *)sub_433730(*v39) = 1;
      sub_4766F0(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_433910((int)v56);
  sub_4338F0(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00434510) --------------------------------------------------------
_DWORD *__thiscall sub_434510(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_475880(this);
  *a2 = v4;
  return a2;
}

//----- (00434540) --------------------------------------------------------
int __thiscall sub_434540(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_433230(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_430F90(*this);
    if ( *(_BYTE *)sub_433230(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        result = *(char *)sub_433230(v5);
        if ( result )
          break;
        result = sub_430F90(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_430F90(*this);
      result = sub_479190(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (00434600) --------------------------------------------------------
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd)
{
  DWORD ThreadId; // [esp+0h] [ebp-24h] BYREF
  struct tagMSG Msg; // [esp+4h] [ebp-20h] BYREF
  HACCEL hAccTable; // [esp+20h] [ebp-4h]

  LoadStringA(hInstance, 0x67u, WindowName, 100);
  LoadStringA(hInstance, 0x6Du, ClassName, 100);
  MyRegisterClass(hInstance);
  CScreen::Open((CScreen *)&unk_4E1128, 200, 50);
  CScreen::Open((CScreen *)dword_4E2EDC, 80, 20);
  dword_4E2130 = (CScreen *)&unk_4E1128;
  if ( !sub_434790(hInstance, nShowCmd) )
    return 0;
  hAccTable = LoadAcceleratorsA(hInstance, (LPCSTR)0x6D);
  dword_4E1280 = (HANDLE)_beginthreadex(0, 0, (int)RunServer, 0, 0, &ThreadId);
  while ( GetMessageA(&Msg, 0, 0, 0) )
  {
    if ( !TranslateAcceleratorA(Msg.hwnd, hAccTable, &Msg) )
    {
      TranslateMessage(&Msg);
      DispatchMessageA(&Msg);
    }
  }
  CLog::Flush();
  if ( sub_422EE0() )
    ExitProcess(0);
  return Msg.wParam;
}
// 4E2EDC: using guessed type int dword_4E2EDC[13];

//----- (00434710) --------------------------------------------------------
ATOM __cdecl MyRegisterClass(HINSTANCE__ *hInstance)
{
  WNDCLASSEXA v2; // [esp+0h] [ebp-30h] BYREF

  v2.cbSize = 48;
  v2.style = 3;
  v2.lpfnWndProc = WndProc;
  v2.cbClsExtra = 0;
  v2.cbWndExtra = 0;
  v2.hInstance = hInstance;
  v2.hIcon = LoadIconA(hInstance, (LPCSTR)0x6B);
  v2.hCursor = LoadCursorA(0, (LPCSTR)0x7F00);
  v2.hbrBackground = (HBRUSH)6;
  v2.lpszMenuName = (LPCSTR)109;
  v2.lpszClassName = ClassName;
  v2.hIconSm = LoadIconA(hInstance, (LPCSTR)0x6C);
  return RegisterClassExA(&v2);
}

//----- (00434790) --------------------------------------------------------
int __cdecl sub_434790(HINSTANCE hInstance, int nCmdShow)
{
  HMENU v3; // eax
  HMENU v4; // eax
  HWND hWnd; // [esp+0h] [ebp-4h]

  ::hInstance = hInstance;
  hWnd = CreateWindowExA(0x300u, ClassName, WindowName, 0xCF0000u, 0x80000000, 0, 0x80000000, 0, 0, 0, hInstance, 0);
  if ( !hWnd )
    return 0;
  v3 = GetMenu(hWnd);
  EnableMenuItem(v3, 0x8011u, 1u);
  v4 = GetMenu(hWnd);
  EnableMenuItem(v4, 0x8015u, 1u);
  ::hWnd = hWnd;
  ShowWindow(hWnd, nCmdShow);
  UpdateWindow(hWnd);
  return 1;
}

//----- (00434840) --------------------------------------------------------
int sub_434840()
{
  int result; // eax
  char v1; // [esp+0h] [ebp-28h]

  ELOG("Exception Test\n", v1);
  result = 0;
  MEMORY[0] = 0;
  return result;
}
// 43486B: variable 'v1' is possibly undefined

//----- (004348E0) --------------------------------------------------------
LRESULT __stdcall WndProc(HWND hWndParent, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  int v5; // [esp+Ch] [ebp-24h]
  int v6; // [esp+10h] [ebp-20h]
  int v7; // [esp+14h] [ebp-1Ch]
  unsigned int v8; // [esp+1Ch] [ebp-14h]
  HANDLE hObject; // [esp+20h] [ebp-10h]
  DWORD ThreadId[3]; // [esp+24h] [ebp-Ch] BYREF

  if ( Msg > 0x10 )
  {
    if ( Msg == 273 )
    {
      ThreadId[2] = (unsigned __int16)wParam;
      ThreadId[1] = HIWORD(wParam);
      if ( (unsigned __int16)wParam > 0x800Eu )
      {
        switch ( (unsigned __int16)wParam )
        {
          case 0x8011u:
          case 0x8015u:
            return 0;
          case 0x8012u:
            goto LABEL_26;
          case 0x8013u:
            KillTimer(hWndParent, 1u);
            dword_4E2130 = (CScreen *)dword_4E2EDC;
            CStatus::Update();
            SetTimer(hWndParent, 1u, 0xBB8u, 0);
            return 0;
          case 0x8017u:
            DialogBoxParamA(hInstance, (LPCSTR)0x82, hWndParent, sub_434ED0, 0);
            return 0;
          case 0x8019u:
            CItem::ReloadItemGroup();
            return 0;
          case 0x801Bu:
            DialogBoxParamA(hInstance, (LPCSTR)0x83, hWndParent, DialogFunc, 0);
            return 0;
          default:
            return DefWindowProcA(hWndParent, Msg, wParam, lParam);
        }
      }
      if ( (unsigned __int16)wParam == 32782 )
      {
        KillTimer(hWndParent, 1u);
        dword_4E2130 = (CScreen *)&unk_4E1128;
        if ( sub_422F30() )
          LOG_INFO("ASSERT enabled");
        else
          LOG_INFO("ASSERT disabled");
      }
      else if ( (unsigned __int16)wParam > 0x800Au )
      {
        switch ( (unsigned __int16)wParam )
        {
          case 0x800Bu:
            KillTimer(hWndParent, 1u);
            dword_4E2130 = (CScreen *)&unk_4E1128;
            LOG_INFO("Stack dump started");
            UpdateWindow(hWndParent);
            CIOSocket::DumpStack();
            LOG_INFO("Stack dump completed");
            break;
          case 0x800Cu:
            KillTimer(hWndParent, 1u);
            dword_4E2130 = (CScreen *)&unk_4E1128;
            CLog::Flush();
            LOG_INFO("Log Flushed");
            break;
          case 0x800Du:
            v8 = CIOSocket::AddIOThread((void *)HIWORD(wParam));
            if ( v8 )
              ++*(_DWORD *)dword_4E1190;
            KillTimer(hWndParent, 1u);
            dword_4E2130 = (CScreen *)&unk_4E1128;
            LOG_ERR("Add thread count(%d) thread id(%x)", *(_DWORD *)dword_4E1190, v8);
            break;
          default:
            return DefWindowProcA(hWndParent, Msg, wParam, lParam);
        }
      }
      else
      {
        switch ( (unsigned __int16)wParam )
        {
          case 0x800Au:
            KillTimer(hWndParent, 1u);
            dword_4E2130 = (CScreen *)&unk_4E1128;
            LOG_INFO("Exception test started");
            UpdateWindow(hWndParent);
            sub_434840();
            LOG_INFO("Exception test completed");
            break;
          case 0x68u:
            DialogBoxParamA(hInstance, (LPCSTR)0x67, hWndParent, About, 0);
            break;
          case 0x69u:
            PostMessageA(hWndParent, 0x10u, 0, 0);
            break;
          case 0x8009u:
            if ( sub_422EE0() )
            {
              hObject = (HANDLE)_beginthreadex(0, 0, (int)sub_435500, lParam, 0, ThreadId);
              CloseHandle(hObject);
LABEL_26:
              KillTimer(hWndParent, 1u);
              dword_4E2130 = (CScreen *)&unk_4E1128;
              InvalidateRect(hWndParent, 0, 1);
            }
            break;
          default:
            return DefWindowProcA(hWndParent, Msg, wParam, lParam);
        }
      }
    }
    else
    {
      if ( Msg != 275 )
        return DefWindowProcA(hWndParent, Msg, wParam, lParam);
      switch ( wParam )
      {
        case 1u:
          CStatus::Update();
          break;
        case 2u:
          dword_4E17B8 -= 10000;
          if ( dword_4E17B8 <= 0 )
          {
            KillTimer(hWndParent, 2u);
            SetTimer(hWndParent, 3u, 0x7D0u, 0);
            CPlayer::WriteAll(67, "b", 2);
            LOG_INFO("[Shutdown] Server is closed right now!");
            dword_4E17B8 = 0;
          }
          else
          {
            v7 = dword_4E17B8 / 60000;
            v6 = dword_4E17B8 % 60000 / 1000;
            if ( dword_4E17B8 / 60000 <= 0 )
            {
              CPlayer::WriteAll(68, "bb", 1, v6);
              LOG_INFO("[Shutdown] Server will be closed after %d sec", v6);
            }
            else if ( !v6 )
            {
              CPlayer::WriteAll(68, "bb", 0, v7);
              LOG_INFO("[Shutdown] Server will be closed after %d min", v7);
            }
          }
          break;
        case 3u:
          KillTimer(hWndParent, 3u);
          PostMessageA(hWndParent, 0x111u, 0x8009u, 0);
          break;
      }
    }
  }
  else
  {
    switch ( Msg )
    {
      case 0x10u:
        if ( sub_422F00() )
        {
          v5 = MessageBoxA(hWndParent, "Really shutdown the System?", "MainSvr", 3u);
          if ( v5 == 6 )
          {
            PostMessageA(hWndParent, 0x111u, 0x8009u, 1);
            return 0;
          }
          if ( v5 == 2 )
            return 0;
        }
        DestroyWindow(hWndParent);
        return 0;
      case 2u:
        PostQuitMessage(0);
        break;
      case 0xFu:
        CScreen::OnPaint(dword_4E2130);
        break;
      default:
        return DefWindowProcA(hWndParent, Msg, wParam, lParam);
    }
  }
  return 0;
}
// 4E17B8: using guessed type int dword_4E17B8;
// 4E2EDC: using guessed type int dword_4E2EDC[13];

//----- (00434E60) --------------------------------------------------------
int __stdcall About(HWND__ *hDlg, unsigned int message, unsigned int wParam, int lParam)
{
  if ( message == 272 )
    return 1;
  if ( message != 273 || (unsigned __int16)wParam != 1 && (unsigned __int16)wParam != 2 )
    return 0;
  EndDialog(hDlg, (unsigned __int16)wParam);
  return 1;
}

//----- (00434ED0) --------------------------------------------------------
BOOL __stdcall sub_434ED0(HWND hWnd, UINT a2, WPARAM a3, LPARAM a4)
{
  HWND v5; // eax
  UINT v6; // [esp-4h] [ebp-224h]
  signed int v7; // [esp+Ch] [ebp-214h]
  CHAR String; // [esp+10h] [ebp-210h] BYREF
  char v9[508]; // [esp+11h] [ebp-20Fh] BYREF
  __int16 v10; // [esp+20Dh] [ebp-13h]
  char v11; // [esp+20Fh] [ebp-11h]
  int v12; // [esp+214h] [ebp-Ch]
  int v13; // [esp+218h] [ebp-8h]
  int v14; // [esp+21Ch] [ebp-4h]

  v12 = dword_4D9830;
  if ( a2 == 272 )
    return 1;
  if ( a2 != 273 )
    return 0;
  v14 = (unsigned __int16)a3;
  v13 = HIWORD(a3);
  if ( (unsigned __int16)a3 == 1 )
  {
    String = 0;
    memset(v9, 0, sizeof(v9));
    v10 = 0;
    v11 = 0;
    GetDlgItemTextA(hWnd, 1001, &String, 511);
    if ( IsDlgButtonChecked(hWnd, 1003) )
    {
      v7 = GetDlgItemInt(hWnd, 1002, 0, 0);
      if ( v7 > 60 )
      {
        MessageBoxA(hWnd, "Shutdown Time Setting Error. (Max 60)", "Shutdown Error", 0);
        return 1;
      }
      if ( v7 <= 0 )
      {
        if ( dword_4E17B8 )
        {
          KillTimer(::hWnd, 2u);
          dword_4E17B8 = 0;
          LOG_NORMAL("Shutdown's canceled.");
        }
        goto LABEL_22;
      }
      if ( dword_4E17B8 )
      {
        LOG_INFO("[Shutdown] Shutdown's already started. (%d min. remains)", dword_4E17B8 / 60000);
LABEL_22:
        EndDialog(hWnd, 1);
        return 1;
      }
      dword_4E17B8 = 60000 * v7;
      SetTimer(::hWnd, 2u, 0x2710u, 0);
      LOG_NORMAL("Shutdown's started. (%d min. remains)", v7);
    }
    if ( String )
    {
      CPlayer::WriteAll(15, "s", &String);
      if ( dword_4E35B8 == 1 )
        LOG_NORMAL("[GM Command] Notice from Main : %s", &String);
    }
    goto LABEL_22;
  }
  if ( (unsigned __int16)a3 == 2 )
  {
    EndDialog(hWnd, 0);
    return 1;
  }
  if ( (unsigned __int16)a3 == 1003 && !v13 )
  {
    v6 = IsDlgButtonChecked(hWnd, 1003);
    v5 = GetDlgItem(hWnd, 1002);
    EnableWindow(v5, v6);
  }
  return 0;
}
// 4D9830: using guessed type int dword_4D9830;
// 4E17B8: using guessed type int dword_4E17B8;
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00435130) --------------------------------------------------------
BOOL __stdcall DialogFunc(HWND hDlg, UINT a2, WPARAM a3, LPARAM a4)
{
  BOOL result; // eax

  if ( a2 == 272 )
  {
    SetDlgItemInt(hDlg, 1004, uValue, 1);
    result = 1;
  }
  else if ( a2 == 273 && (unsigned __int16)a3 == 1 )
  {
    uValue = GetDlgItemInt(hDlg, 1004, 0, 0);
    EndDialog(hDlg, 1);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004351C0) --------------------------------------------------------
int __stdcall RunServer(int a4)
{
  std::string *v1; // eax
  std::string *v2; // eax
  const CHAR *v3; // eax
  const char *v5; // eax
  const char *v6; // [esp-8h] [ebp-200h]
  const std::string *v7; // [esp-4h] [ebp-1FCh]
  const char *v8; // [esp-4h] [ebp-1FCh]
  std::string result; // [esp+0h] [ebp-1F8h] BYREF
  char v10[28]; // [esp+1Ch] [ebp-1DCh] BYREF
  int i; // [esp+38h] [ebp-1C0h]
  char v12[4]; // [esp+3Ch] [ebp-1BCh]
  char v13[16]; // [esp+40h] [ebp-1B8h] BYREF
  char v14[4]; // [esp+50h] [ebp-1A8h]
  char v15[4]; // [esp+54h] [ebp-1A4h]
  struct tm *v16; // [esp+58h] [ebp-1A0h]
  time_t v17; // [esp+5Ch] [ebp-19Ch] BYREF
  struct WSAData WSAData; // [esp+60h] [ebp-198h] BYREF
  int v19; // [esp+1F4h] [ebp-4h]

  v19 = dword_4D9830;
  sub_422EE0();
  v7 = GetUniqueName(&result);
  v1 = (std::string *)std::string::string((std::vector<IPAddrMask> *)v10, "Global\\");
  v2 = sub_4355E0(v1, v7);
  v3 = (const CHAR *)sub_4012D0(v2);
  CreateMutexA(0, 0, v3);
  sub_40F780(v10);
  sub_40F780(&result);
  if ( GetLastError() )
  {
    LOG_INFO("Another Server is running");
    return 0;
  }
  LOG_NORMAL("Server started");
  *(_DWORD *)v15 = WSAStartup(0x202u, &WSAData);
  if ( *(_DWORD *)v15 )
  {
    LOG_ERR("WSAStartup error 0x%x", *(_DWORD *)v15);
    return 0;
  }
  if ( !CMainConfig::Open() )
    return 0;
  InitRandom();
  v8 = (const char *)sub_4012D0(&stru_4E123C);
  v6 = (const char *)sub_4012D0(&stru_4E1220);
  v5 = (const char *)sub_4012D0(&stru_4E1204);
  CIOException::Open(v5, v6, v8);
  CIOObject::RegisterWait(*(int *)dword_4E1190);
  if ( !CDBSocket::Start() )
    return 0;
  if ( !CAuthSocket::Start() )
    return 0;
  if ( !sub_44BEF0() )
    return 0;
  CCalendar::Start();
  CServer::Start();
  CPlayer::Start();
  CMonster::Start();
  CNPC::Start();
  CCastle::Start();
  CWar::Start();
  if ( (*(_WORD *)dword_4E1174 & 0x2000) != 0 )
  {
    *(_DWORD *)v14 = AntiCpSvr_Initialize("Config\\HackShield.crc");
    if ( *(_DWORD *)v14 )
    {
      LOG_ERR("_AntiCpSvr_Initialize() is Failed.  ErrorType(%d)", *(_DWORD *)v14);
      return 0;
    }
    LOG_INFO(" HackShield Initialized");
  }
  if ( (*(_WORD *)dword_4E1174 & 0x4000) != 0 )
  {
    for ( i = 0; i < 16; ++i )
      v13[i] = RandomBetween(0, 63);
    memcpy(&unk_4E1358, v13, 0x10u);
    *(_DWORD *)v12 = _HsCrypt_InitCrypt((int)&unk_4E1358);
    if ( *(_DWORD *)v12 )
    {
      LOG_ERR("_HsCrypt_InitCrypt() is Failed.  ErrorType(%d)", *(_DWORD *)v12);
      return 0;
    }
    LOG_INFO(" InitCrypt is done");
  }
  if ( *(_DWORD *)dword_4E1160 )
  {
    uValue = *(_DWORD *)dword_4E1160;
    LOG_NORMAL("Seed is %d", *(_DWORD *)dword_4E1160);
  }
  else
  {
    uValue = 3793;
  }
  v17 = dword_4E117C + 32400;
  v16 = gmtime(&v17);
  LOG_NORMAL(
    "Server is ready on port %d (time stamp: %02d/%02d/%02d %02d:%02d:%02d (KR))",
    *(_DWORD *)&nPort,
    v16->tm_year % 100,
    v16->tm_mon + 1,
    v16->tm_mday,
    v16->tm_hour,
    v16->tm_min,
    v16->tm_sec);
  CLog::Flush();
  sub_422EC0();
  CIOBuffer::FreeAll(0);
  return 0;
}
// 4B4014: using guessed type int (__stdcall *AntiCpSvr_Initialize)(_DWORD);
// 4D9830: using guessed type int dword_4D9830;
// 4E117C: using guessed type int dword_4E117C;

//----- (00435500) --------------------------------------------------------
int __stdcall sub_435500(int a1)
{
  LOG_NORMAL("Shutdown started");
  sub_418BE0();
  sub_419AB0();
  CGuild::Stop();
  CLog::Flush();
  sub_448F80();
  CMonster::Stop();
  _initp_misc_winxfltr();
  sub_47E720();
  while ( sub_47E700() )
    Sleep(30u);
  Sleep(1000u);
  __setargv();
  CObjectDB::Close();
  CSMap::FreeSMap();
  CAuthSocket::Stop();
  CDBSocket::Stop();
  CIOSocket::CloseIOThread();
  WaitForSingleObject(dword_4E1280, 0xFFFFFFFF);
  sub_432EE0();
  if ( (*(_WORD *)dword_4E1174 & 0x2000) != 0 )
  {
    AntiCpSvr_Finalize();
    LOG_INFO(" HackShield Finalized");
  }
  LOG_NORMAL("Shutdown completed");
  if ( a1 )
    PostMessageA(hWnd, 0x10u, 0, 0);
  return 0;
}
// 4B4010: using guessed type int (*AntiCpSvr_Finalize)(void);

//----- (004355E0) --------------------------------------------------------
std::string *__thiscall sub_4355E0(std::string *this, const std::string *a2)
{
  return std::string::append(this, a2, 0, 0xFFFFFFFF);
}

//----- (00435600) --------------------------------------------------------
std::string *__thiscall std::string::append(std::string *this, const std::string *_Right, unsigned int _Roff, unsigned int _Count)
{
  int v4; // eax
  int v5; // eax
  void *v7; // [esp-8h] [ebp-10h]
  size_t v8; // [esp-4h] [ebp-Ch]
  unsigned int _Newsize; // [esp+4h] [ebp-4h]
  unsigned int _Newsizea; // [esp+4h] [ebp-4h]

  if ( unknown_libname_4(_Right) < _Roff )
    std::_String_base::_Xran(this);
  _Newsize = unknown_libname_4(_Right) - _Roff;
  if ( _Newsize < _Count )
    _Count = _Newsize;
  if ( -1 - this->_Mysize <= _Count )
    sub_49F289();
  if ( _Count )
  {
    _Newsizea = _Count + this->_Mysize;
    if ( std::string::_Grow(this, _Newsizea, 0) )
    {
      v4 = unknown_libname_1(_Right, _Count);
      v5 = unknown_libname_1(this, _Roff + v4);
      std::char_traits<char>::copy((void *)(this->_Mysize + v5), v7, v8);
      std::string::_Eos(this, _Newsizea);
    }
  }
  return this;
}
// 435696: variable 'v7' is possibly undefined
// 435696: variable 'v8' is possibly undefined
// 4012F0: using guessed type int __thiscall unknown_libname_1(_DWORD, _DWORD);
// 40F880: using guessed type int __thiscall unknown_libname_4(_DWORD);

//----- (004356C0) --------------------------------------------------------
void *__thiscall CMemory::CInit::CInit(void *this)
{
  int v1; // eax
  int v3; // [esp+0h] [ebp-10h]
  CMemory *v5; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 16; ++i )
  {
    v5 = (CMemory *)sub_437080(0x38u);
    if ( v5 )
    {
      CMemory::CMemory(v5);
      v3 = v1;
    }
    else
    {
      v3 = 0;
    }
    dword_4E17C8[i] = v3;
  }
  return this;
}
// 4356FC: variable 'v1' is possibly undefined

//----- (00435720) --------------------------------------------------------
void __thiscall CMemory::CMemory(CMemory *this)
{
  InitializeCriticalSection((LPCRITICAL_SECTION)((char *)this + 32));
  *((_DWORD *)this + 7) = 0;
  CMemory::_heap_init(this);
}

//----- (00435750) --------------------------------------------------------
int __thiscall CMemory::_heap_init(CMemory *this)
{
  *(_DWORD *)this = HeapCreate(1u, 0x10000u, 0);
  if ( !*(_DWORD *)this )
    return 0;
  if ( CMemory::__sbh_heap_init(this, 0x3F8u) )
    return 1;
  HeapDestroy(*(HANDLE *)this);
  *(_DWORD *)this = 0;
  return 0;
}

//----- (004357B0) --------------------------------------------------------
int __thiscall CMemory::__sbh_heap_init(CMemory *this, unsigned int threshold)
{
  *((_DWORD *)this + 2) = HeapAlloc(*(HANDLE *)this, 0, 0x140u);
  if ( !*((_DWORD *)this + 2) )
    return 0;
  *((_DWORD *)this + 1) = threshold;
  *((_DWORD *)this + 3) = *((_DWORD *)this + 2);
  *((_DWORD *)this + 6) = 0;
  *((_DWORD *)this + 5) = 0;
  *((_DWORD *)this + 4) = 16;
  return 1;
}

//----- (00435820) --------------------------------------------------------
CMemory **__cdecl CMemory::_malloc(unsigned int size)
{
  CMemory *v2; // [esp+0h] [ebp-8h]
  CMemory **v3; // [esp+4h] [ebp-4h]

  v2 = (CMemory *)dword_4E17C8[InterlockedIncrement(&dword_4E17C0) & 0xF];
  v3 = (CMemory **)CMemory::_heap_alloc_base(v2, size + 4);
  if ( v3 )
  {
    *v3++ = v2;
    memset(v3, 252, size);
  }
  return v3;
}

//----- (00435890) --------------------------------------------------------
void *__thiscall CMemory::_heap_alloc_base(CMemory *this, unsigned int size)
{
  CMemory::tagEntry **v4; // [esp+4h] [ebp-4h]
  void *v5; // [esp+4h] [ebp-4h]

  if ( size <= this->__sbh_threshold )
  {
    sub_4370A0((int)this);
    v4 = CMemory::__sbh_alloc_block(this, size);
    sub_4370C0((int)this);
    if ( v4 )
      return v4;
  }
  sub_4370A0((int)this);
  v5 = HeapAlloc(this->_crtheap, 0, (size + 15) & 0xFFFFFFF0);
  sub_4370C0((int)this);
  return v5;
}

//----- (00435910) --------------------------------------------------------
CMemory::tagEntry **__thiscall CMemory::__sbh_alloc_block(CMemory *this, int intSize)
{
  int v5; // eax
  signed int v7; // [esp+8h] [ebp-38h]
  int v8; // [esp+Ch] [ebp-34h]
  int v9; // [esp+Ch] [ebp-34h]
  unsigned int v10; // [esp+10h] [ebp-30h]
  int v11; // [esp+14h] [ebp-2Ch]
  CMemory::tagRegion *v12; // [esp+18h] [ebp-28h]
  CMemory::tagGroup *v13; // [esp+1Ch] [ebp-24h]
  int *v14; // [esp+20h] [ebp-20h]
  CMemory::tagHeader *pHeader; // [esp+24h] [ebp-1Ch]
  unsigned int v16; // [esp+28h] [ebp-18h]
  int i; // [esp+2Ch] [ebp-14h]
  int v18; // [esp+30h] [ebp-10h]
  CMemory::tagHeader *v19; // [esp+34h] [ebp-Ch]
  int *v20; // [esp+38h] [ebp-8h]
  char *v21; // [esp+38h] [ebp-8h]
  int v22; // [esp+3Ch] [ebp-4h]

  v19 = &this->__sbh_pHeaderList[this->__sbh_cntHeaderList];
  v7 = (intSize + 23) & 0xFFFFFFF0;
  v8 = (v7 >> 4) - 1;
  if ( v8 >= 32 )
  {
    v16 = 0;
    v10 = 0xFFFFFFFF >> ((v7 >> 4) - 33);
  }
  else
  {
    v16 = 0xFFFFFFFF >> v8;
    v10 = -1;
  }
  for ( pHeader = this->__sbh_pHeaderScan;
        pHeader < v19 && !(pHeader->bitvEntryLo & v10 | pHeader->bitvEntryHi & v16);
        ++pHeader )
  {
    ;
  }
  if ( pHeader != v19 )
    goto LABEL_27;
  for ( pHeader = this->__sbh_pHeaderList;
        pHeader < this->__sbh_pHeaderScan && !(pHeader->bitvEntryLo & v10 | pHeader->bitvEntryHi & v16);
        ++pHeader )
  {
    ;
  }
  if ( pHeader != this->__sbh_pHeaderScan )
    goto LABEL_27;
  while ( pHeader < v19 && !pHeader->bitvCommit )
    ++pHeader;
  if ( pHeader == v19 )
  {
    for ( pHeader = this->__sbh_pHeaderList; pHeader < this->__sbh_pHeaderScan && !pHeader->bitvCommit; ++pHeader )
      ;
    if ( pHeader == this->__sbh_pHeaderScan )
    {
      pHeader = CMemory::__sbh_alloc_new_region(this);
      if ( !pHeader )
        return 0;
    }
  }
  pHeader->pRegion->indGroupUse = CMemory::__sbh_alloc_new_group(this, pHeader);
  if ( pHeader->pRegion->indGroupUse == -1 )
    return 0;
LABEL_27:
  this->__sbh_pHeaderScan = pHeader;
  v12 = pHeader->pRegion;
  i = v12->indGroupUse;
  if ( v12->indGroupUse == -1 || !(v12->bitvGroupLo[i] & v10 | v12->bitvGroupHi[i] & v16) )
  {
    for ( i = 0; !(v12->bitvGroupLo[i] & v10 | v12->bitvGroupHi[i] & v16); ++i )
      ;
  }
  v13 = &v12->grpHeadList[i];
  v9 = 0;
  v22 = v12->bitvGroupHi[i] & v16;
  if ( !v22 )
  {
    v9 = 32;
    v22 = v12->bitvGroupLo[i] & v10;
  }
  while ( v22 >= 0 )
  {
    v22 *= 2;
    ++v9;
  }
  v20 = &v13->listHead[v9].pEntryNext->sizeFront;
  v11 = *v20 - v7;
  v18 = (v11 >> 4) - 1;
  if ( v18 > 63 )
    v18 = 63;
  if ( v18 != v9 )
  {
    if ( v20[1] == v20[2] )
    {
      if ( v9 >= 32 )
      {
        v12->bitvGroupLo[i] &= ~(0x80000000 >> (v9 - 32));
        if ( !--v12->cntRegionSize[v9] )
          pHeader->bitvEntryLo &= ~(0x80000000 >> (v9 - 32));
      }
      else
      {
        v12->bitvGroupHi[i] &= ~(0x80000000 >> v9);
        if ( !--v12->cntRegionSize[v9] )
          pHeader->bitvEntryHi &= ~(0x80000000 >> v9);
      }
    }
    *(_DWORD *)(v20[2] + 4) = v20[1];
    *(_DWORD *)(v20[1] + 8) = v20[2];
    if ( v11 )
    {
      v14 = &v13->cntEntries + 2 * v18;
      v20[1] = v14[1];
      v20[2] = (int)v14;
      v14[1] = (int)v20;
      *(_DWORD *)(v20[1] + 8) = v20;
      if ( v20[1] == v20[2] )
      {
        if ( v18 >= 32 )
        {
          if ( !v12->cntRegionSize[v18]++ )
            pHeader->bitvEntryLo |= 0x80000000 >> (v18 - 32);
          v12->bitvGroupLo[i] |= 0x80000000 >> (v18 - 32);
        }
        else
        {
          if ( !v12->cntRegionSize[v18]++ )
            pHeader->bitvEntryHi |= 0x80000000 >> v18;
          v12->bitvGroupHi[i] |= 0x80000000 >> v18;
        }
      }
    }
  }
  if ( v11 )
  {
    *v20 = v11;
    *(int *)((char *)v20 + v11 - 4) = v11;
  }
  v21 = (char *)v20 + v11;
  *(_DWORD *)v21 = v7 + 1;
  *(_DWORD *)&v21[v7 - 4] = v7 + 1;
  v5 = v13->cntEntries++;
  if ( !v5 && pHeader == this->__sbh_pHeaderDefer && i == this->__sbh_indGroupDefer )
    this->__sbh_pHeaderDefer = 0;
  v12->indGroupUse = i;
  return (CMemory::tagEntry **)(v21 + 4);
}

//----- (00435E40) --------------------------------------------------------
CMemory::tagHeader *__thiscall CMemory::__sbh_alloc_new_region(CMemory *this)
{
  CMemory::tagHeader *result; // eax
  LPVOID v3; // [esp+4h] [ebp-4h]
  int v4; // [esp+4h] [ebp-4h]

  if ( *((_DWORD *)this + 5) == *((_DWORD *)this + 4) )
  {
    v3 = HeapReAlloc(*(HANDLE *)this, 0, *((LPVOID *)this + 2), 20 * (*((_DWORD *)this + 4) + 16));
    if ( !v3 )
      return 0;
    *((_DWORD *)this + 2) = v3;
    *((_DWORD *)this + 4) += 16;
  }
  v4 = *((_DWORD *)this + 2) + 20 * *((_DWORD *)this + 5);
  *(_DWORD *)(v4 + 16) = HeapAlloc(*(HANDLE *)this, 8u, 0x41C4u);
  if ( !*(_DWORD *)(v4 + 16) )
    return 0;
  *(_DWORD *)(v4 + 12) = VirtualAlloc(0, 0x1000000u, 0x2000u, 4u);
  if ( *(_DWORD *)(v4 + 12) )
  {
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 4) = 0;
    *(_DWORD *)(v4 + 8) = -1;
    ++*((_DWORD *)this + 5);
    **(_DWORD **)(v4 + 16) = -1;
    result = (CMemory::tagHeader *)v4;
  }
  else
  {
    HeapFree(*(HANDLE *)this, 0, *(LPVOID *)(v4 + 16));
    result = 0;
  }
  return result;
}

//----- (00435F60) --------------------------------------------------------
int __thiscall CMemory::__sbh_alloc_new_group(CMemory *this, CMemory::tagHeader *pHeader)
{
  int v4; // [esp+4h] [ebp-2Ch]
  int v5; // [esp+8h] [ebp-28h]
  int v6; // [esp+10h] [ebp-20h]
  int v7; // [esp+14h] [ebp-1Ch]
  int i; // [esp+1Ch] [ebp-14h]
  _DWORD *j; // [esp+20h] [ebp-10h]
  char *lpAddress; // [esp+24h] [ebp-Ch]

  v6 = *((_DWORD *)pHeader + 4);
  v4 = *((_DWORD *)pHeader + 2);
  v5 = 0;
  while ( v4 >= 0 )
  {
    v4 *= 2;
    ++v5;
  }
  v7 = v6 + 516 * v5 + 324;
  for ( i = 0; i < 63; ++i )
  {
    *(_DWORD *)(v7 + 8 * i + 8) = v7 + 8 * i;
    *(_DWORD *)(v7 + 8 * i + 4) = v7 + 8 * i;
  }
  lpAddress = (char *)(*((_DWORD *)pHeader + 3) + (v5 << 19));
  if ( !VirtualAlloc(lpAddress, 0x80000u, 0x1000u, 4u) )
    return -1;
  for ( j = lpAddress; j <= (_DWORD *)lpAddress + 114688; j += 0x4000 )
  {
    j[2] = -1;
    j[0x3FFF] = -1;
    j[3] = 65520;
    j[4] = j + 16387;
    j[5] = j - 16381;
    j[16382] = 65520;
  }
  *(_DWORD *)(v6 + 516 * v5 + 832) = lpAddress + 12;
  *(_DWORD *)(*(_DWORD *)(v6 + 516 * v5 + 832) + 8) = v6 + 516 * v5 + 828;
  *(_DWORD *)(v6 + 516 * v5 + 836) = lpAddress + 458764;
  *(_DWORD *)(*(_DWORD *)(v6 + 516 * v5 + 836) + 4) = v6 + 516 * v5 + 828;
  *(_DWORD *)(v6 + 4 * v5 + 68) = 0;
  *(_DWORD *)(v6 + 4 * v5 + 196) = 1;
  if ( !(*(_BYTE *)(v6 + 67))++ )
    *((_DWORD *)pHeader + 1) |= 1u;
  *((_DWORD *)pHeader + 2) &= ~(0x80000000 >> v5);
  return v5;
}

//----- (00436150) --------------------------------------------------------
void __cdecl CMemory::_free(void *pBlock)
{
  CMemory *v1; // [esp+0h] [ebp-8h]

  if ( pBlock )
  {
    v1 = (CMemory *)*((_DWORD *)pBlock - 1);
    *((_DWORD *)pBlock - 1) = 0;
    CMemory::_free_base(v1, (char *)pBlock - 4);
  }
}

//----- (00436190) --------------------------------------------------------
void __thiscall CMemory::_free_base(CMemory *this, void *pBlock)
{
  SIZE_T v3; // [esp+4h] [ebp-Ch]
  CMemory::tagHeader *pHeader; // [esp+Ch] [ebp-4h]

  sub_4370A0((int)this);
  pHeader = CMemory::__sbh_find_block(this, pBlock);
  if ( pHeader )
  {
    memset(pBlock, 253, *((_DWORD *)pBlock - 1) - 9);
    CMemory::__sbh_free_block(this, pHeader, pBlock);
  }
  else
  {
    v3 = HeapSize(this->_crtheap, 0, pBlock);
    memset(pBlock, 253, v3);
    HeapFree(this->_crtheap, 0, pBlock);
  }
  sub_4370C0((int)this);
}

//----- (00436240) --------------------------------------------------------
CMemory::tagHeader *__thiscall CMemory::__sbh_find_block(CMemory *this, void *pvAlloc)
{
  unsigned int i; // [esp+8h] [ebp-8h]

  for ( i = *((_DWORD *)this + 2); i < *((_DWORD *)this + 2) + 20 * *((_DWORD *)this + 5); i += 20 )
  {
    if ( (char *)pvAlloc - *(_DWORD *)(i + 12) < (char *)0x1000000 )
      return (CMemory::tagHeader *)i;
  }
  return 0;
}

//----- (004362A0) --------------------------------------------------------
char *__thiscall CMemory::__sbh_free_block(CMemory *this, CMemory::tagHeader *pHeader, void *pvAlloc)
{
  char *result; // eax
  int v7; // [esp+8h] [ebp-3Ch]
  unsigned int v8; // [esp+Ch] [ebp-38h]
  int v9; // [esp+10h] [ebp-34h]
  unsigned int v10; // [esp+14h] [ebp-30h]
  int v11; // [esp+18h] [ebp-2Ch]
  _DWORD *v12; // [esp+1Ch] [ebp-28h]
  _DWORD *v13; // [esp+20h] [ebp-24h]
  int v14; // [esp+28h] [ebp-1Ch]
  int *v15; // [esp+2Ch] [ebp-18h]
  unsigned int v16; // [esp+30h] [ebp-14h]
  unsigned int v17; // [esp+34h] [ebp-10h]
  char *v18; // [esp+38h] [ebp-Ch]
  char *v19; // [esp+3Ch] [ebp-8h]

  v11 = *((_DWORD *)pHeader + 4);
  v16 = ((unsigned int)pvAlloc - *((_DWORD *)pHeader + 3)) >> 19;
  v12 = (_DWORD *)(v11 + 516 * v16 + 324);
  v15 = (int *)((char *)pvAlloc - 4);
  result = (char *)pvAlloc - 4;
  v7 = *((_DWORD *)pvAlloc - 1) - 1;
  if ( (v7 & 1) == 0 )
  {
    v19 = (char *)v15 + v7;
    v9 = *(int *)((char *)v15 + v7);
    v14 = *((_DWORD *)pvAlloc - 2);
    if ( (v9 & 1) == 0 )
    {
      v17 = (v9 >> 4) - 1;
      if ( v17 > 0x3F )
        v17 = 63;
      if ( *((_DWORD *)v19 + 1) == *((_DWORD *)v19 + 2) )
      {
        if ( v17 >= 0x20 )
        {
          *(_DWORD *)(v11 + 4 * v16 + 196) &= ~(0x80000000 >> (v17 - 32));
          if ( !--*(_BYTE *)(v17 + v11 + 4) )
            *((_DWORD *)pHeader + 1) &= ~(0x80000000 >> (v17 - 32));
        }
        else
        {
          *(_DWORD *)(v11 + 4 * v16 + 68) &= ~(0x80000000 >> v17);
          if ( !--*(_BYTE *)(v17 + v11 + 4) )
            *(_DWORD *)pHeader &= ~(0x80000000 >> v17);
        }
      }
      *(_DWORD *)(*((_DWORD *)v19 + 2) + 4) = *((_DWORD *)v19 + 1);
      *(_DWORD *)(*((_DWORD *)v19 + 1) + 8) = *((_DWORD *)v19 + 2);
      v7 += v9;
    }
    v8 = (v7 >> 4) - 1;
    if ( v8 > 0x3F )
      v8 = 63;
    if ( (v14 & 1) == 0 )
    {
      v18 = (char *)v15 - v14;
      v10 = (v14 >> 4) - 1;
      if ( v10 > 0x3F )
        v10 = 63;
      v7 += v14;
      v8 = (v7 >> 4) - 1;
      if ( v8 > 0x3F )
        v8 = 63;
      if ( v10 != v8 )
      {
        if ( *((_DWORD *)v18 + 1) == *((_DWORD *)v18 + 2) )
        {
          if ( v10 >= 0x20 )
          {
            *(_DWORD *)(v11 + 4 * v16 + 196) &= ~(0x80000000 >> (v10 - 32));
            if ( !--*(_BYTE *)(v10 + v11 + 4) )
              *((_DWORD *)pHeader + 1) &= ~(0x80000000 >> (v10 - 32));
          }
          else
          {
            *(_DWORD *)(v11 + 4 * v16 + 68) &= ~(0x80000000 >> v10);
            if ( !--*(_BYTE *)(v10 + v11 + 4) )
              *(_DWORD *)pHeader &= ~(0x80000000 >> v10);
          }
        }
        *(_DWORD *)(*((_DWORD *)v18 + 2) + 4) = *((_DWORD *)v18 + 1);
        *(_DWORD *)(*((_DWORD *)v18 + 1) + 8) = *((_DWORD *)v18 + 2);
      }
      v15 = (int *)((char *)v15 - v14);
    }
    if ( (v14 & 1) != 0 || v10 != v8 )
    {
      v13 = &v12[2 * v8];
      v15[1] = v13[1];
      v15[2] = (int)v13;
      v13[1] = v15;
      *(_DWORD *)(v15[1] + 8) = v15;
      if ( v15[1] == v15[2] )
      {
        if ( v8 >= 0x20 )
        {
          if ( !(*(_BYTE *)(v8 + v11 + 4))++ )
            *((_DWORD *)pHeader + 1) |= 0x80000000 >> (v8 - 32);
          *(_DWORD *)(v11 + 4 * v16 + 196) |= 0x80000000 >> (v8 - 32);
        }
        else
        {
          if ( !(*(_BYTE *)(v8 + v11 + 4))++ )
            *(_DWORD *)pHeader |= 0x80000000 >> v8;
          *(_DWORD *)(v11 + 4 * v16 + 68) |= 0x80000000 >> v8;
        }
      }
    }
    *v15 = v7;
    *(int *)((char *)v15 + v7 - 4) = v7;
    --*v12;
    result = (char *)(v11 + 516 * v16 + 324);
    if ( !*v12 )
    {
      if ( *((_DWORD *)this + 6) )
      {
        VirtualFree(
          (LPVOID)(*(_DWORD *)(*((_DWORD *)this + 6) + 12) + (*((_DWORD *)this + 7) << 19)),
          0x80000u,
          0x4000u);
        *(_DWORD *)(*((_DWORD *)this + 6) + 8) |= 0x80000000 >> *((_DWORD *)this + 7);
        *(_DWORD *)(*(_DWORD *)(*((_DWORD *)this + 6) + 16) + 4 * *((_DWORD *)this + 7) + 196) = 0;
        if ( !--*(_BYTE *)(*(_DWORD *)(*((_DWORD *)this + 6) + 16) + 67) )
          *(_DWORD *)(*((_DWORD *)this + 6) + 4) &= 0xFFFFFFFE;
        if ( *(_DWORD *)(*((_DWORD *)this + 6) + 8) == -1 )
        {
          VirtualFree(*(LPVOID *)(*((_DWORD *)this + 6) + 12), 0, 0x8000u);
          HeapFree(*(HANDLE *)this, 0, *(LPVOID *)(*((_DWORD *)this + 6) + 16));
          memcpy_0(
            *((void **)this + 6),
            (const void *)(*((_DWORD *)this + 6) + 20),
            20 * *((_DWORD *)this + 5) + *((_DWORD *)this + 2) - (*((_DWORD *)this + 6) + 20));
          --*((_DWORD *)this + 5);
          if ( (unsigned int)pHeader > *((_DWORD *)this + 6) )
            pHeader = (CMemory::tagHeader *)((char *)pHeader - 20);
          *((_DWORD *)this + 3) = *((_DWORD *)this + 2);
        }
      }
      *((_DWORD *)this + 6) = pHeader;
      result = (char *)v16;
      *((_DWORD *)this + 7) = v16;
    }
  }
  return result;
}
// 4365BD: variable 'v10' is possibly undefined

//----- (00436870) --------------------------------------------------------
CMemory **__cdecl CMemory::_realloc(void *pBlock, unsigned int newsize)
{
  CMemory **result; // eax
  CMemory *v3; // [esp+0h] [ebp-8h]
  CMemory **lpMem; // [esp+4h] [ebp-4h]

  if ( !pBlock )
    return CMemory::_malloc(newsize);
  if ( newsize )
  {
    v3 = (CMemory *)*((_DWORD *)pBlock - 1);
    *((_DWORD *)pBlock - 1) = 0;
    lpMem = (CMemory **)CMemory::_realloc_base(v3, (char *)pBlock - 4, newsize + 4);
    if ( lpMem )
      *lpMem++ = v3;
    result = lpMem;
  }
  else
  {
    CMemory::_free(pBlock);
    result = 0;
  }
  return result;
}

//----- (00436900) --------------------------------------------------------
void *__thiscall CMemory::_realloc_base(CMemory *this, void *pBlock, unsigned int newsize)
{
  void *result; // eax
  unsigned int v4; // [esp+0h] [ebp-18h]
  unsigned int v5; // [esp+4h] [ebp-14h]
  CMemory::tagHeader *pHeader; // [esp+Ch] [ebp-Ch]
  void *v8; // [esp+14h] [ebp-4h]

  v8 = 0;
  if ( newsize <= 0xFFFFFFE0 )
  {
    sub_4370A0((int)this);
    pHeader = CMemory::__sbh_find_block(this, pBlock);
    if ( pHeader )
    {
      if ( newsize <= this->__sbh_threshold )
      {
        if ( CMemory::__sbh_resize_block(this, pHeader, pBlock, newsize) )
        {
          v8 = pBlock;
        }
        else
        {
          v8 = CMemory::__sbh_alloc_block(this, newsize);
          if ( v8 )
          {
            if ( *((_DWORD *)pBlock - 1) - 9 >= newsize )
              v5 = newsize;
            else
              v5 = *((_DWORD *)pBlock - 1) - 9;
            memcpy(v8, pBlock, v5);
            pHeader = CMemory::__sbh_find_block(this, pBlock);
            CMemory::__sbh_free_block(this, pHeader, pBlock);
          }
        }
      }
      if ( !v8 )
      {
        if ( !newsize )
          newsize = 1;
        newsize = (newsize + 15) & 0xFFFFFFF0;
        v8 = HeapAlloc(this->_crtheap, 0, newsize);
        if ( v8 )
        {
          if ( *((_DWORD *)pBlock - 1) - 9 >= newsize )
            v4 = newsize;
          else
            v4 = *((_DWORD *)pBlock - 1) - 9;
          memcpy(v8, pBlock, v4);
          CMemory::__sbh_free_block(this, pHeader, pBlock);
        }
      }
    }
    sub_4370C0((int)this);
    if ( !pHeader )
    {
      if ( !newsize )
        newsize = 1;
      v8 = HeapReAlloc(this->_crtheap, 0, pBlock, (newsize + 15) & 0xFFFFFFF0);
    }
  }
  if ( v8 )
    result = v8;
  else
    result = 0;
  return result;
}

//----- (00436AB0) --------------------------------------------------------
int __thiscall CMemory::__sbh_resize_block(CMemory *this, CMemory::tagHeader *pHeader, void *pvAlloc, int intNew)
{
  int v9; // [esp+4h] [ebp-30h]
  int v10; // [esp+4h] [ebp-30h]
  unsigned int v11; // [esp+8h] [ebp-2Ch]
  int v12; // [esp+Ch] [ebp-28h]
  int v13; // [esp+Ch] [ebp-28h]
  int v14; // [esp+10h] [ebp-24h]
  int v15; // [esp+14h] [ebp-20h]
  signed int v16; // [esp+18h] [ebp-1Ch]
  unsigned int v17; // [esp+1Ch] [ebp-18h]
  unsigned int v18; // [esp+1Ch] [ebp-18h]
  _DWORD *v19; // [esp+24h] [ebp-10h]
  int *v20; // [esp+24h] [ebp-10h]
  unsigned int v21; // [esp+28h] [ebp-Ch]
  unsigned int v22; // [esp+2Ch] [ebp-8h]
  unsigned int v23; // [esp+2Ch] [ebp-8h]
  unsigned int v24; // [esp+2Ch] [ebp-8h]
  int *v25; // [esp+30h] [ebp-4h]
  int *v26; // [esp+30h] [ebp-4h]

  v16 = (intNew + 23) & 0xFFFFFFF0;
  v14 = *((_DWORD *)pHeader + 4);
  v21 = ((unsigned int)pvAlloc - *((_DWORD *)pHeader + 3)) >> 19;
  v15 = v14 + 516 * v21 + 324;
  v19 = (char *)pvAlloc - 4;
  v9 = *((_DWORD *)pvAlloc - 1) - 1;
  v25 = (int *)((char *)pvAlloc + v9 - 4);
  v12 = *v25;
  if ( v16 <= v9 )
  {
    if ( v16 < v9 )
    {
      *v19 = v16 + 1;
      *(_DWORD *)((char *)v19 + v16 - 4) = v16 + 1;
      v20 = (_DWORD *)((char *)v19 + v16);
      v10 = v9 - v16;
      v11 = (v10 >> 4) - 1;
      if ( v11 > 0x3F )
        v11 = 63;
      if ( (v12 & 1) == 0 )
      {
        v24 = (v12 >> 4) - 1;
        if ( v24 > 0x3F )
          v24 = 63;
        if ( v25[1] == v25[2] )
        {
          if ( v24 >= 0x20 )
          {
            *(_DWORD *)(v14 + 4 * v21 + 196) &= ~(0x80000000 >> (v24 - 32));
            if ( !--*(_BYTE *)(v24 + v14 + 4) )
              *((_DWORD *)pHeader + 1) &= ~(0x80000000 >> (v24 - 32));
          }
          else
          {
            *(_DWORD *)(v14 + 4 * v21 + 68) &= ~(0x80000000 >> v24);
            if ( !--*(_BYTE *)(v24 + v14 + 4) )
              *(_DWORD *)pHeader &= ~(0x80000000 >> v24);
          }
        }
        *(_DWORD *)(v25[2] + 4) = v25[1];
        *(_DWORD *)(v25[1] + 8) = v25[2];
        v10 += v12;
        v11 = (v10 >> 4) - 1;
        if ( v11 > 0x3F )
          v11 = 63;
      }
      v18 = v15 + 8 * v11;
      v20[1] = *(_DWORD *)(v18 + 4);
      v20[2] = v18;
      *(_DWORD *)(v18 + 4) = v20;
      *(_DWORD *)(v20[1] + 8) = v20;
      if ( v20[1] == v20[2] )
      {
        if ( v11 >= 0x20 )
        {
          if ( !(*(_BYTE *)(v11 + v14 + 4))++ )
            *((_DWORD *)pHeader + 1) |= 0x80000000 >> (v11 - 32);
          *(_DWORD *)(v14 + 4 * v21 + 196) |= 0x80000000 >> (v11 - 32);
        }
        else
        {
          if ( !(*(_BYTE *)(v11 + v14 + 4))++ )
            *(_DWORD *)pHeader |= 0x80000000 >> v11;
          *(_DWORD *)(v14 + 4 * v21 + 68) |= 0x80000000 >> v11;
        }
      }
      *v20 = v10;
      *(int *)((char *)v20 + v10 - 4) = v10;
    }
  }
  else
  {
    if ( (v12 & 1) != 0 || v16 > v12 + v9 )
      return 0;
    v22 = (v12 >> 4) - 1;
    if ( v22 > 0x3F )
      v22 = 63;
    if ( *(_DWORD *)((char *)pvAlloc + v9) == *(_DWORD *)((char *)pvAlloc + v9 + 4) )
    {
      if ( v22 >= 0x20 )
      {
        *(_DWORD *)(v14 + 4 * v21 + 196) &= ~(0x80000000 >> (v22 - 32));
        if ( !--*(_BYTE *)(v22 + v14 + 4) )
          *((_DWORD *)pHeader + 1) &= ~(0x80000000 >> (v22 - 32));
      }
      else
      {
        *(_DWORD *)(v14 + 4 * v21 + 68) &= ~(0x80000000 >> v22);
        if ( !--*(_BYTE *)(v22 + v14 + 4) )
          *(_DWORD *)pHeader &= ~(0x80000000 >> v22);
      }
    }
    *(_DWORD *)(*(_DWORD *)((char *)pvAlloc + v9 + 4) + 4) = *(_DWORD *)((char *)pvAlloc + v9);
    *(_DWORD *)(*(_DWORD *)((char *)pvAlloc + v9) + 8) = *(_DWORD *)((char *)pvAlloc + v9 + 4);
    v13 = v12 + v9 - v16;
    if ( v13 > 0 )
    {
      v26 = (_DWORD *)((char *)v19 + v16);
      v23 = (v13 >> 4) - 1;
      if ( v23 > 0x3F )
        v23 = 63;
      v17 = v15 + 8 * v23;
      v26[1] = *(_DWORD *)(v17 + 4);
      v26[2] = v17;
      *(_DWORD *)(v17 + 4) = v26;
      *(_DWORD *)(v26[1] + 8) = v26;
      if ( v26[1] == v26[2] )
      {
        if ( v23 >= 0x20 )
        {
          if ( !(*(_BYTE *)(v23 + v14 + 4))++ )
            *((_DWORD *)pHeader + 1) |= 0x80000000 >> (v23 - 32);
          *(_DWORD *)(v14 + 4 * v21 + 196) |= 0x80000000 >> (v23 - 32);
        }
        else
        {
          if ( !(*(_BYTE *)(v23 + v14 + 4))++ )
            *(_DWORD *)pHeader |= 0x80000000 >> v23;
          *(_DWORD *)(v14 + 4 * v21 + 68) |= 0x80000000 >> v23;
        }
      }
      *v26 = v13;
      *(int *)((char *)v26 + v13 - 4) = v13;
    }
    *v19 = v16 + 1;
    *(_DWORD *)((char *)v19 + v16 - 4) = v16 + 1;
  }
  return 1;
}

//----- (00437080) --------------------------------------------------------
void *__cdecl sub_437080(size_t a1)
{
  return malloc(a1);
}

//----- (004370A0) --------------------------------------------------------
void __thiscall sub_4370A0(int this)
{
  EnterCriticalSection((LPCRITICAL_SECTION)(this + 32));
}

//----- (004370C0) --------------------------------------------------------
void __thiscall sub_4370C0(int this)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(this + 32));
}

//----- (004370E0) --------------------------------------------------------
char *__stdcall `vector destructor iterator'(void *a1, unsigned int a2, int a3, void (__thiscall *a4)(void *))
{
  char *result; // eax
  char *i; // [esp+8h] [ebp+8h]

  result = (char *)a1 + a3 * a2;
  for ( i = result; --a3 >= 0; result = (char *)((int (__thiscall *)(char *))a4)(i) )
    i -= a2;
  return result;
}

//----- (00437110) --------------------------------------------------------
CInitMonster *__thiscall CInitMonster::CInitMonster(CInitMonster *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B7CE0;
  sub_425850((CInitMonster *)((char *)this + 272));
  sub_4707A0((char *)this + 288);
  memset((char *)this + 32, 0, 0x19u);
  *((_DWORD *)this + 15) = 0;
  *((_DWORD *)this + 16) = 0;
  *((_DWORD *)this + 17) = 0;
  *((_DWORD *)this + 18) = 0;
  memset((char *)this + 76, 0, 0x1Cu);
  memset((char *)this + 96, 0, 0x60u);
  *((_DWORD *)this + 29) = 0;
  *((_DWORD *)this + 30) = 0;
  *((_DWORD *)this + 32) = 0;
  *((_DWORD *)this + 31) = 0;
  *((_DWORD *)this + 33) = 0;
  memset((char *)this + 136, 0, 0x1Cu);
  memset((char *)this + 164, 0, 0x60u);
  *((_DWORD *)this + 66) = 0;
  *((_DWORD *)this + 65) = 0;
  *((_DWORD *)this + 67) = 0;
  *((_DWORD *)this + 78) = 0;
  *((_DWORD *)this + 77) = 0;
  return this;
}
// 4B7CE0: using guessed type int (__stdcall *off_4B7CE0)(int);

//----- (00437260) --------------------------------------------------------
void *__thiscall sub_437260(void *this, char a2)
{
  CInitMonster::_CInitMonster(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00437290) --------------------------------------------------------
void __thiscall CInitMonster::_CInitMonster(_DWORD *this)
{
  *this = &off_4B7CE0;
  sub_445BF0((std::vector<IPAddrMask> *)(this + 72));
  sub_445B20((std::vector<CIOSocket::CIOTimer> *)(this + 68));
  CBase::_CBase((std::locale::facet *)this);
}
// 4B7CE0: using guessed type int (__stdcall *off_4B7CE0)(int);

//----- (004372D0) --------------------------------------------------------
char *__cdecl CInitMonster::Copy()
{
  char *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x14Cu);
  if ( v2 )
    v1 = (char *)CInitMonster::CInitMonster((CInitMonster *)v2);
  else
    v1 = 0;
  return v1;
}

//----- (00437310) --------------------------------------------------------
int __thiscall CInitMonster::Set(char *this, int a2, int a3)
{
  lisp::var *v3; // eax
  int v4; // eax
  int v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  lisp::var *v20; // eax
  lisp::var *v21; // eax
  lisp::var *v22; // eax
  lisp::var *v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  lisp::var *v30; // eax
  lisp::var *v31; // eax
  lisp::var *v32; // eax
  lisp::var *v33; // eax
  lisp::var *v34; // eax
  lisp::var *v35; // eax
  lisp::var *v36; // eax
  int v37; // eax
  lisp::var *v38; // eax
  lisp::var *v39; // eax
  int v40; // eax
  lisp::var *v41; // eax
  lisp::var *v42; // eax
  lisp::var *v43; // eax
  lisp::var *v44; // eax
  lisp::var *v45; // eax
  lisp::var *v46; // eax
  lisp::var *v47; // eax
  lisp::var *v48; // eax
  lisp::var *v49; // eax
  lisp::var *v50; // eax
  lisp::var *v51; // eax
  _DWORD v52[3]; // [esp-4h] [ebp-ECh] BYREF
  void *v53; // [esp+8h] [ebp-E0h]
  lisp::var v54; // [esp+10h] [ebp-D8h] BYREF
  lisp::var v55; // [esp+14h] [ebp-D4h] BYREF
  lisp::var v56; // [esp+18h] [ebp-D0h] BYREF
  lisp::var v57; // [esp+1Ch] [ebp-CCh] BYREF
  lisp::var v58; // [esp+20h] [ebp-C8h] BYREF
  lisp::var v59; // [esp+24h] [ebp-C4h] BYREF
  lisp::var v60; // [esp+28h] [ebp-C0h] BYREF
  lisp::var v61; // [esp+2Ch] [ebp-BCh] BYREF
  lisp::var v62; // [esp+30h] [ebp-B8h] BYREF
  lisp::var v63; // [esp+34h] [ebp-B4h] BYREF
  lisp::var v64; // [esp+38h] [ebp-B0h] BYREF
  lisp::var v65; // [esp+3Ch] [ebp-ACh] BYREF
  lisp::var v66; // [esp+40h] [ebp-A8h] BYREF
  lisp::var v67; // [esp+44h] [ebp-A4h] BYREF
  lisp::var v68; // [esp+48h] [ebp-A0h] BYREF
  lisp::var v69; // [esp+4Ch] [ebp-9Ch] BYREF
  lisp::var v70; // [esp+50h] [ebp-98h] BYREF
  lisp::var v71; // [esp+54h] [ebp-94h] BYREF
  lisp::var v72; // [esp+58h] [ebp-90h] BYREF
  lisp::var v73; // [esp+5Ch] [ebp-8Ch] BYREF
  lisp::var v74; // [esp+60h] [ebp-88h] BYREF
  lisp::var v75; // [esp+64h] [ebp-84h] BYREF
  lisp::var v76; // [esp+68h] [ebp-80h] BYREF
  lisp::var v77; // [esp+6Ch] [ebp-7Ch] BYREF
  lisp::var v78; // [esp+70h] [ebp-78h] BYREF
  lisp::var v79; // [esp+74h] [ebp-74h] BYREF
  lisp::var v80; // [esp+78h] [ebp-70h] BYREF
  lisp::var v81; // [esp+7Ch] [ebp-6Ch] BYREF
  lisp::var v82; // [esp+80h] [ebp-68h] BYREF
  lisp::var v83; // [esp+84h] [ebp-64h] BYREF
  lisp::var v84; // [esp+88h] [ebp-60h] BYREF
  lisp::var v85; // [esp+8Ch] [ebp-5Ch] BYREF
  lisp::var v86; // [esp+90h] [ebp-58h] BYREF
  lisp::var v87; // [esp+94h] [ebp-54h] BYREF
  lisp::var v88; // [esp+98h] [ebp-50h] BYREF
  lisp::var v89; // [esp+9Ch] [ebp-4Ch] BYREF
  lisp::var v90; // [esp+A0h] [ebp-48h] BYREF
  lisp::var v91; // [esp+A4h] [ebp-44h] BYREF
  lisp::var v92; // [esp+A8h] [ebp-40h] BYREF
  lisp::var v93; // [esp+ACh] [ebp-3Ch] BYREF
  lisp::var v94; // [esp+B0h] [ebp-38h] BYREF
  lisp::var v95; // [esp+B4h] [ebp-34h] BYREF
  lisp::var v96; // [esp+B8h] [ebp-30h] BYREF
  lisp::var v97; // [esp+BCh] [ebp-2Ch] BYREF
  lisp::var result; // [esp+C0h] [ebp-28h] BYREF
  int v99[2]; // [esp+C4h] [ebp-24h] BYREF
  lisp::var v100; // [esp+CCh] [ebp-1Ch] BYREF
  int v101[3]; // [esp+D0h] [ebp-18h] BYREF
  lisp::var v102; // [esp+DCh] [ebp-Ch] BYREF
  int v103; // [esp+E0h] [ebp-8h]
  char *v104; // [esp+E4h] [ebp-4h]

  v53 = this;
  v52[2] = a2 - 1;
  switch ( a2 )
  {
    case 1:
      v3 = lisp::var::pop((lisp::var *)&a3, &result);
      v4 = sub_40C8D0(v3);
      v104 = GetStr(v4);
      if ( v104 && strlen(v104) && strlen(v104) <= 0x18 )
      {
        strcpy((char *)v53 + 32, v104);
        goto LABEL_47;
      }
      LOG_ERR("CMonster::Set() Invalid Name. (Name:%s)", v104);
      return 0;
    case 2:
      v6 = lisp::var::pop((lisp::var *)&a3, &v97);
      *((_DWORD *)v53 + 15) = sub_40C8D0(v6);
      goto LABEL_47;
    case 7:
      v8 = lisp::var::pop((lisp::var *)&a3, &v95);
      *((_DWORD *)v53 + 17) = sub_40C8D0(v8);
      goto LABEL_47;
    case 8:
      v7 = lisp::var::pop((lisp::var *)&a3, &v96);
      *((_DWORD *)v53 + 16) = sub_40C8D0(v7);
      goto LABEL_47;
    case 9:
      v16 = lisp::var::pop((lisp::var *)&a3, &v87);
      *((_DWORD *)v53 + 34) = sub_40C8D0(v16);
      goto LABEL_47;
    case 10:
      v17 = lisp::var::pop((lisp::var *)&a3, &v86);
      *((_DWORD *)v53 + 35) = sub_40C8D0(v17);
      goto LABEL_47;
    case 11:
      v18 = lisp::var::pop((lisp::var *)&a3, &v85);
      *((_DWORD *)v53 + 36) = sub_40C8D0(v18);
      goto LABEL_47;
    case 12:
      v19 = lisp::var::pop((lisp::var *)&a3, &v84);
      *((_DWORD *)v53 + 37) = sub_40C8D0(v19);
      goto LABEL_47;
    case 13:
      v20 = lisp::var::pop((lisp::var *)&a3, &v83);
      *((_DWORD *)v53 + 38) = sub_40C8D0(v20);
      goto LABEL_47;
    case 14:
      v21 = lisp::var::pop((lisp::var *)&a3, &v82);
      *((_DWORD *)v53 + 39) = sub_40C8D0(v21);
      goto LABEL_47;
    case 15:
      v22 = lisp::var::pop((lisp::var *)&a3, &v81);
      *((_DWORD *)v53 + 40) = sub_40C8D0(v22);
      goto LABEL_47;
    case 16:
      v23 = lisp::var::pop((lisp::var *)&a3, &v80);
      *((_DWORD *)v53 + 48) = sub_40C8D0(v23);
      goto LABEL_47;
    case 17:
      v24 = lisp::var::pop((lisp::var *)&a3, &v79);
      *((_DWORD *)v53 + 49) = sub_40C8D0(v24);
      goto LABEL_47;
    case 18:
      v25 = lisp::var::pop((lisp::var *)&a3, &v78);
      *((_DWORD *)v53 + 67) = sub_40C8D0(v25);
      v26 = lisp::var::pop((lisp::var *)&a3, &v77);
      *((_DWORD *)v53 + 50) = sub_40C8D0(v26);
      v27 = lisp::var::pop((lisp::var *)&a3, &v76);
      *((_DWORD *)v53 + 51) = sub_40C8D0(v27);
      goto LABEL_47;
    case 19:
      v28 = lisp::var::pop((lisp::var *)&a3, &v75);
      *((_DWORD *)v53 + 52) = sub_40C8D0(v28);
      v29 = lisp::var::pop((lisp::var *)&a3, &v74);
      *((_DWORD *)v53 + 53) = sub_40C8D0(v29);
      goto LABEL_47;
    case 20:
      v30 = lisp::var::pop((lisp::var *)&a3, &v73);
      *((_DWORD *)v53 + 54) = sub_40C8D0(v30);
      v31 = lisp::var::pop((lisp::var *)&a3, &v72);
      *((_DWORD *)v53 + 55) = sub_40C8D0(v31);
      goto LABEL_47;
    case 21:
      v32 = lisp::var::pop((lisp::var *)&a3, &v71);
      *((_DWORD *)v53 + 56) = sub_40C8D0(v32);
      goto LABEL_47;
    case 22:
      v33 = lisp::var::pop((lisp::var *)&a3, &v70);
      *((_DWORD *)v53 + 57) = sub_40C8D0(v33);
      goto LABEL_47;
    case 23:
      v34 = lisp::var::pop((lisp::var *)&a3, &v69);
      *((_DWORD *)v53 + 65) = sub_40C8D0(v34);
      v35 = lisp::var::pop((lisp::var *)&a3, &v68);
      *((_DWORD *)v53 + 66) = sub_40C8D0(v35);
      goto LABEL_47;
    case 24:
      v103 = 0;
      while ( !(unsigned __int8)sub_402380(&a3) )
      {
        v36 = lisp::var::pop((lisp::var *)&a3, &v67);
        v37 = sub_40C8D0(v36);
        *((_DWORD *)v53 + v103++ + 58) = 10 * v37;
      }
      goto LABEL_47;
    case 33:
      v9 = lisp::var::pop((lisp::var *)&a3, &v94);
      *((_DWORD *)v53 + 18) = sub_40C8D0(v9);
      goto LABEL_47;
    case 34:
      v12 = lisp::var::pop((lisp::var *)&a3, &v91);
      *((_DWORD *)v53 + 30) = sub_40C8D0(v12);
      goto LABEL_47;
    case 35:
      v13 = lisp::var::pop((lisp::var *)&a3, &v90);
      *((_DWORD *)v53 + 31) = sub_40C8D0(v13);
      v14 = lisp::var::pop((lisp::var *)&a3, &v89);
      *((_DWORD *)v53 + 32) = sub_40C8D0(v14);
      goto LABEL_47;
    case 36:
      v15 = lisp::var::pop((lisp::var *)&a3, &v88);
      *((_DWORD *)v53 + 33) = sub_40C8D0(v15);
      goto LABEL_47;
    case 37:
      if ( *((int *)v53 + 29) <= 5 )
      {
        v10 = lisp::var::pop((lisp::var *)&a3, &v93);
        *((_DWORD *)v53 + *((_DWORD *)v53 + 29) + 19) = sub_40C8D0(v10);
        v11 = lisp::var::pop((lisp::var *)&a3, &v92);
        *((_DWORD *)v53 + (*((_DWORD *)v53 + 29))++ + 24) = sub_40C8D0(v11);
      }
      goto LABEL_47;
    case 70:
      while ( !(unsigned __int8)sub_402380(&a3) )
      {
        lisp::var::pop((lisp::var *)&a3, &v102);
        v38 = lisp::var::pop(&v102, &v66);
        v101[0] = sub_40C8D0(v38) << 16;
        v39 = lisp::var::pop(&v102, &v65);
        v40 = sub_40C8D0(v39);
        v101[0] |= v40;
        v41 = lisp::var::pop(&v102, &v64);
        v101[1] = sub_40C8D0(v41);
        v42 = lisp::var::pop(&v102, &v63);
        v101[2] = sub_40C8D0(v42);
        sub_445B80((int)v53 + 272, (int)v101);
      }
      goto LABEL_47;
    case 107:
      while ( !(unsigned __int8)sub_402380(&a3) )
      {
        lisp::var::pop((lisp::var *)&a3, &v100);
        v43 = lisp::var::pop(&v100, &v62);
        v99[0] = sub_40C8D0(v43);
        v44 = lisp::var::pop(&v100, &v61);
        v99[1] = sub_40C8D0(v44);
        sub_445C10((int)v53 + 288, (const XMessageQueue::XTimerElement *)v99);
      }
      goto LABEL_47;
    case 109:
      while ( !(unsigned __int8)sub_402380(&a3) )
      {
        v45 = lisp::var::pop((lisp::var *)&a3, &v60);
        *((_DWORD *)v53 + 76) |= 1 << sub_40C8D0(v45);
      }
      goto LABEL_47;
    case 111:
      v46 = lisp::var::pop((lisp::var *)&a3, &v59);
      *((_DWORD *)v53 + 77) = sub_40C8D0(v46);
      v47 = lisp::var::pop((lisp::var *)&a3, &v58);
      *((_DWORD *)v53 + 78) = sub_40C8D0(v47);
      goto LABEL_47;
    case 112:
      v48 = lisp::var::pop((lisp::var *)&a3, &v57);
      *((_DWORD *)v53 + 79) = sub_40C8D0(v48);
      v49 = lisp::var::pop((lisp::var *)&a3, &v56);
      *((_DWORD *)v53 + 80) = sub_40C8D0(v49);
      v50 = lisp::var::pop((lisp::var *)&a3, &v55);
      *((float *)v53 + 81) = (float)sub_40C8D0(v50);
      v51 = lisp::var::pop((lisp::var *)&a3, &v54);
      *((_DWORD *)v53 + 82) = sub_40C8D0(v51);
LABEL_47:
      v5 = 1;
      break;
    default:
      v52[0] = a2 - 1;
      sub_402340(v52, &a3);
      v5 = CBase::Set(v53, a2, v52[0]);
      break;
  }
  return v5;
}

//----- (00437BD0) --------------------------------------------------------
int __thiscall CInitMonster::OnLoad(_DWORD *this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v4[8]; // [esp+8h] [ebp-10h] BYREF
  char v5[8]; // [esp+10h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v4);
  sub_445DF0(
    (int)dword_4E1820,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v5,
    v1);
  if ( v5[4] )
    return 1;
  LOG_ERR("CInitMonster::Onload() Duplicate Monster Data. (Index:%d)", this[15]);
  return 0;
}
// 437BFC: variable 'v1' is possibly undefined
// 4E1820: using guessed type int dword_4E1820[3];

//----- (00437C30) --------------------------------------------------------
void __stdcall CInitMonster::DropItemEx(_DWORD *a1, int a2, char a3, int a4, int a5, int *a6, int a7)
{
  int v7; // [esp+0h] [ebp-2Ch]
  int v8; // [esp+4h] [ebp-28h]
  int v9[2]; // [esp+14h] [ebp-18h] BYREF
  int a5a[2]; // [esp+1Ch] [ebp-10h] BYREF
  _DWORD *v11; // [esp+24h] [ebp-8h]
  int i; // [esp+28h] [ebp-4h]

  for ( i = 0; i < a2; ++i )
  {
    v11 = (_DWORD *)CItem::CreateDropItem(a3, a7);
    if ( v11 )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int))(*v11 + 164))(v11, v7) && *a6 > 0 )
      {
        if ( *a6 < 5 )
          v8 = dword_4D62D8[*a6];
        else
          v8 = 1;
        v11[13] *= v8;
        *a6 = -1;
      }
      CChar::GetDropPt(a1, v9);
      a5a[0] = v9[0] >> 5;
      a5a[1] = v9[1] >> 5;
      if ( CSMap::GetCellMap(v11, (int)a5a) )
      {
        v11[20] = 1;
        (*(void (__thiscall **)(_DWORD *, _DWORD *, int *, int *, int, int, int))(*v11 + 124))(
          v11,
          a1,
          v9,
          a5a,
          1,
          a4,
          a5);
      }
      else if ( v11 )
      {
        v7 = (*(int (__thiscall **)(_DWORD *, int))*v11)(v11, 1);
      }
      else
      {
        v7 = 0;
      }
    }
  }
}
// 437C7C: variable 'v7' is possibly undefined

//----- (00437D70) --------------------------------------------------------
void __thiscall CInitMonster::DropItem(void *this, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  int *v8; // eax
  int v9; // [esp+18h] [ebp-40h]
  char v11[4]; // [esp+20h] [ebp-38h] BYREF
  char v12[4]; // [esp+24h] [ebp-34h] BYREF
  int v13; // [esp+28h] [ebp-30h]
  int v14; // [esp+2Ch] [ebp-2Ch]
  int v15; // [esp+30h] [ebp-28h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v16; // [esp+34h] [ebp-24h] BYREF
  CIOBuffer *v17; // [esp+38h] [ebp-20h]
  int v18; // [esp+3Ch] [ebp-1Ch]
  int i; // [esp+40h] [ebp-18h]
  int v20; // [esp+44h] [ebp-14h]
  int a1; // [esp+48h] [ebp-10h]
  int v22; // [esp+4Ch] [ebp-Ch] BYREF
  int v23; // [esp+50h] [ebp-8h]
  CIOCriticalSection *v24; // [esp+54h] [ebp-4h]

  a1 = 0;
  v24 = 0;
  v22 = 0;
  v23 = 0;
  v20 = 0;
  if ( a3 )
  {
    v24 = (CIOCriticalSection *)sub_44D4E0(a4);
    if ( v24 )
      a1 = (int)CParty::GetRandomPlayer(v24);
  }
  else
  {
    a1 = (int)CPlayer::FindPlayer_(a4);
  }
  if ( a1 )
  {
    for ( i = 0; i < *((_DWORD *)this + 29); ++i )
    {
      v22 = 0;
      if ( (dword_4E1178 & 1) != 0 || (*(_WORD *)dword_4E1174 & 0x100) != 0 )
        v9 = 2 * *((_DWORD *)this + i + 24);
      else
        v9 = *((_DWORD *)this + i + 24);
      v23 = v9;
      if ( *((_DWORD *)this + 16) == 4 )
      {
        if ( v24 )
        {
          v6 = CParty::GetLuckySize(v24, 0);
          v23 += v6;
        }
        else if ( CChar::IsBState((_QWORD *)a1, 0x2000000i64) )
        {
          ++v23;
        }
      }
      else if ( CChar::IsBState((_QWORD *)a1, 201326592i64) )
      {
        v18 = RandomBetween(1, 10000);
        if ( v18 <= 481 )
        {
          if ( v18 <= 81 )
          {
            if ( v18 <= 21 )
            {
              if ( v18 <= 1 )
              {
                if ( CChar::IsBState((_QWORD *)a1, 0x8000000i64) )
                  v22 = 4;
              }
              else
              {
                v22 = 3;
              }
            }
            else
            {
              v22 = 2;
            }
          }
          else
          {
            v22 = 1;
          }
        }
      }
      v20 = v22;
      CInitMonster::DropItemEx((_DWORD *)a2, v23, *((_DWORD *)this + i + 19), a3, a4, &v22, 0);
      if ( a6 && RandomBetween(1, 100) > 50 )
        CInitMonster::DropItemEx((_DWORD *)a2, v23, *((_DWORD *)this + i + 19), a3, a4, &v22, a6);
      if ( v22 < 0 )
      {
        if ( v24 )
        {
          v17 = WritePacket_(68, "bb", 90, v20);
          CParty::Broadcast(v24, v17, 0);
        }
        else
        {
          CPlayer::Write(a1, 68, "bb", 90, v20);
        }
      }
    }
    CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
  }
  if ( !sub_445B60((std::vector<CIOSocket::CIOTimer> *)this + 17) )
  {
    a1 = 0;
    if ( v24 )
    {
      a1 = (int)CParty::GetRandomPlayer(v24);
    }
    else
    {
      a4 = a5;
      a1 = (int)CPlayer::FindPlayer_(a5);
    }
    if ( a1 )
    {
      if ( CSMap::IsValidTile(*(_DWORD **)(a1 + 320), (int *)(a1 + 332), 0x20000) )
      {
        sub_430C20((_DWORD *)this + 68, (int)&v16);
        while ( 1 )
        {
          v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)this + 68, (int)v11);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  &v16,
                  v7) )
            break;
          v8 = (int *)sub_420010(&v16);
          v13 = *v8;
          v14 = v8[1];
          v15 = v8[2];
          if ( CPlayer::CheckQuestFlag((CIOCriticalSection *)a1, v13) )
          {
            v22 = 0;
            CInitMonster::DropItemEx((_DWORD *)a2, v15, v14, a3, a4, &v22, 0);
          }
          sub_446060((int *)&v16, v12, 0);
        }
      }
      CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
    }
  }
  if ( v24 )
    sub_401DE0((int *)v24);
}
// 4E1178: using guessed type int dword_4E1178;

//----- (00438130) --------------------------------------------------------
BOOL __thiscall CSMap::IsValidTile(_DWORD *this, int *a1, int a2)
{
  CCellMap *v4; // eax
  int v5; // [esp-4h] [ebp-10h]
  int v6; // [esp+4h] [ebp-8h] BYREF
  int v7; // [esp+8h] [ebp-4h]

  v6 = *a1 >> 5;
  v7 = a1[1] >> 5;
  if ( v6 < 0 || v6 >> 8 >= 64 || v7 < 0 || v7 >> 8 >= 64 )
    return 0;
  v5 = ((*a1 >> 3) & 3) + 4 * ((a1[1] >> 3) & 3);
  v4 = (CCellMap *)CSMap::_GetCellMap(this, &v6);
  return CCellMap::IsValidTile(v4, &v6, a2, v5);
}

//----- (004381C0) --------------------------------------------------------
BOOL __thiscall CCellMap::IsValidTile(CCellMap *this, _DWORD *a2, int a3, char a4)
{
  _DWORD a2a[2]; // [esp+4h] [ebp-8h] BYREF

  if ( !this )
    return 0;
  a2a[0] = (unsigned __int8)*a2;
  a2a[1] = (unsigned __int8)a2[1];
  return (*(_DWORD *)(CCellMap::GetTile(this, a2a) + 4) & (a3 | (1 << a4))) == 0;
}

//----- (00438220) --------------------------------------------------------
int __thiscall CCellMap::GetTile(CCellMap *this, _DWORD *a2)
{
  return *((_DWORD *)this + 2) + 8 * ((a2[1] << 8) + *a2);
}

//----- (00438250) --------------------------------------------------------
int __thiscall CSMap::_GetCellMap(_DWORD *this, _DWORD *a2)
{
  int a2a; // [esp+4h] [ebp-4h]

  a2a = ((int)a2[1] >> 8 << 6) + ((int)*a2 >> 8);
  if ( a2a >= 0 && a2a <= 4095 )
    return this[a2a + 2];
  LOG_ERR("CSellMap::_GetCellMap PT2ARRY(%d) ptT.x(%d) ptT.y(%d) \n", a2a, *a2, a2[1]);
  ELOG("CSellMap::_GetCellMap PT2ARRY(%d) ptT.x(%d) ptT.y(%d) \n", a2a);
  return 0;
}

//----- (004382D0) --------------------------------------------------------
_DWORD *__thiscall sub_4382D0(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_4B7DC8;
  this[8] = 0;
  this[9] = 0;
  this[10] = 0;
  this[11] = 0;
  this[12] = 0;
  this[13] = 0;
  memset(this + 14, 0, 0x10u);
  this[18] = 0;
  this[19] = GetTickCount();
  this[20] = 1000;
  this[21] = 0;
  return this;
}
// 4B7DC8: using guessed type int (__stdcall *off_4B7DC8)(int);

//----- (00438370) --------------------------------------------------------
void *__thiscall sub_438370(void *this, char a2)
{
  sub_4383A0((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004383A0) --------------------------------------------------------
void __thiscall sub_4383A0(std::locale::facet *this)
{
  *(_DWORD *)this = &off_4B7DC8;
  CBase::_CBase(this);
}
// 4B7DC8: using guessed type int (__stdcall *off_4B7DC8)(int);

//----- (004383C0) --------------------------------------------------------
CGenMonster *__thiscall CGenMonster::CGenMonster(CGenMonster *this, _DWORD *a2, int a3, int a4, int a5)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B7DC8;
  *((_DWORD *)this + 8) = a3;
  *((_DWORD *)this + 9) = a2[79];
  *((_DWORD *)this + 10) = 0;
  *((_DWORD *)this + 11) = a5;
  *((_DWORD *)this + 12) = 0;
  *((_DWORD *)this + 13) = a4;
  *((_DWORD *)this + 14) = a2[83] - 32 * a4;
  *((_DWORD *)this + 15) = a2[84] - 32 * a4;
  *((_DWORD *)this + 16) = a2[83] + 32 * a4;
  *((_DWORD *)this + 17) = a2[84] + 32 * a4;
  *((_DWORD *)this + 18) = a2[80];
  *((_DWORD *)this + 19) = GetTickCount();
  *((_DWORD *)this + 20) = 1000;
  *((_DWORD *)this + 21) = 0;
  return this;
}
// 4B7DC8: using guessed type int (__stdcall *off_4B7DC8)(int);

//----- (004384B0) --------------------------------------------------------
_DWORD *__cdecl CGenMonster::Copy()
{
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x58u);
  if ( v2 )
    v1 = sub_4382D0(v2);
  else
    v1 = 0;
  return v1;
}

//----- (004384F0) --------------------------------------------------------
int __thiscall CGenMonster::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  int v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  _DWORD v13[2]; // [esp-4h] [ebp-34h] BYREF
  void *v14; // [esp+4h] [ebp-2Ch]
  lisp::var v15; // [esp+Ch] [ebp-24h] BYREF
  lisp::var v16; // [esp+10h] [ebp-20h] BYREF
  lisp::var v17; // [esp+14h] [ebp-1Ch] BYREF
  lisp::var v18; // [esp+18h] [ebp-18h] BYREF
  lisp::var v19; // [esp+1Ch] [ebp-14h] BYREF
  lisp::var v20; // [esp+20h] [ebp-10h] BYREF
  lisp::var v21; // [esp+24h] [ebp-Ch] BYREF
  lisp::var v22; // [esp+28h] [ebp-8h] BYREF
  lisp::var result; // [esp+2Ch] [ebp-4h] BYREF

  v14 = this;
  v13[1] = a2 - 2;
  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, &result);
      *((_DWORD *)v14 + 8) = sub_40C8D0(v3);
      goto LABEL_11;
    case 3:
      v4 = lisp::var::pop((lisp::var *)&a3, &v22);
      *((_DWORD *)v14 + 9) = sub_40C8D0(v4);
      *((_DWORD *)v14 + 18) = sub_491080(*((_DWORD *)v14 + 9));
      if ( *((_DWORD *)v14 + 18) )
        goto LABEL_11;
      LOG_ERR("CGenMonster::Set() Can't find the Map. (index:%d)", *((_DWORD *)v14 + 9));
      v5 = 0;
      break;
    case 4:
      v6 = lisp::var::pop((lisp::var *)&a3, &v21);
      *((_DWORD *)v14 + 10) = sub_40C8D0(v6);
      goto LABEL_11;
    case 5:
      v7 = lisp::var::pop((lisp::var *)&a3, &v20);
      *((_DWORD *)v14 + 11) = sub_40C8D0(v7);
      goto LABEL_11;
    case 6:
      v9 = lisp::var::pop((lisp::var *)&a3, &v18);
      *((_DWORD *)v14 + 14) = 32 * sub_40C8D0(v9);
      v10 = lisp::var::pop((lisp::var *)&a3, &v17);
      *((_DWORD *)v14 + 15) = 32 * sub_40C8D0(v10);
      v11 = lisp::var::pop((lisp::var *)&a3, &v16);
      *((_DWORD *)v14 + 16) = 32 * sub_40C8D0(v11);
      v12 = lisp::var::pop((lisp::var *)&a3, &v15);
      *((_DWORD *)v14 + 17) = 32 * sub_40C8D0(v12);
      goto LABEL_11;
    case 87:
      v8 = lisp::var::pop((lisp::var *)&a3, &v19);
      *((_DWORD *)v14 + 20) = 1000 * sub_40C8D0(v8);
LABEL_11:
      v5 = 1;
      break;
    default:
      v13[0] = a2 - 2;
      sub_402340(v13, &a3);
      v5 = CBase::Set(v14, a2, v13[0]);
      break;
  }
  return v5;
}

//----- (00438710) --------------------------------------------------------
int __thiscall CGenMonster::OnLoad(_DWORD *this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v4[8]; // [esp+8h] [ebp-10h] BYREF
  char v5[8]; // [esp+10h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v4);
  sub_445DF0(
    (int)dword_4E1870,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v5,
    v1);
  if ( v5[4] )
    return 1;
  LOG_ERR("CGenMosnter::Onload() Duplicate GenArea. (area:%d)", this[10]);
  return 0;
}
// 43873C: variable 'v1' is possibly undefined
// 4E1870: using guessed type int dword_4E1870[3];

//----- (00438770) --------------------------------------------------------
void __thiscall CGenMonster::OnTimer(CIOObject *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v4[4]; // [esp+4h] [ebp-18h] BYREF
  char v5[4]; // [esp+8h] [ebp-14h] BYREF
  int v6; // [esp+Ch] [ebp-10h]
  _DWORD *a1; // [esp+10h] [ebp-Ch]
  DWORD v8; // [esp+14h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v9; // [esp+18h] [ebp-4h] BYREF

  if ( !dword_4E1814 )
  {
    CRWLock::ReadLock(&unk_4E187C);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1870,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v9);
    while ( 1 )
    {
      v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1870, (int)v4);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v9,
              v2) )
        break;
      a1 = *(_DWORD **)(sub_420250(&v9) + 4);
      v8 = GetTickCount();
      if ( a1[20] == 1000 || (int)(a1[19] - v8) <= 0 )
      {
        v6 = 0;
        while ( a1[12] < a1[11] )
        {
          if ( CMonster::Create(a1, 0) )
          {
            InterlockedIncrement(a1 + 12);
          }
          else if ( ++v6 >= 3 )
          {
            goto LABEL_3;
          }
        }
        a1[19] = a1[20] + v8;
      }
LABEL_3:
      sub_446090((int *)&v9, v5, 0);
    }
    CRWLock::ReadUnlock(&unk_4E187C);
    CIOObject::AddTimer(this, 0x3E8u, 0);
  }
}
// 4E1814: using guessed type int dword_4E1814;
// 4E1870: using guessed type int dword_4E1870[3];

//----- (00438880) --------------------------------------------------------
int *__thiscall CGenMonster::GetGenTile(_DWORD *this, int *a2, int a3)
{
  int v3; // eax
  int v6; // [esp+4h] [ebp-8h]

  if ( a3 && this[13] )
  {
    this[14] = *(_DWORD *)(a3 + 332) - 32 * this[13];
    this[15] = *(_DWORD *)(a3 + 336) - 32 * this[13];
    this[16] = *(_DWORD *)(a3 + 332) + 32 * this[13];
    this[17] = *(_DWORD *)(a3 + 336) + 32 * this[13];
  }
  v6 = RandomBetween(this[14], this[16]);
  v3 = RandomBetween(this[15], this[17]);
  *a2 = v6;
  a2[1] = v3;
  return a2;
}

//----- (00438950) --------------------------------------------------------
void __cdecl CGenMonster::Stop()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  void (__thiscall ***v1)(_DWORD, int); // [esp+Ch] [ebp-10h]
  char v2[4]; // [esp+10h] [ebp-Ch] BYREF
  char v3[4]; // [esp+14h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v4; // [esp+18h] [ebp-4h] BYREF

  dword_4E1814 = 1;
  CRWLock::WriteLock(&unk_4E187C);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1870,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1870, (int)v2);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v4,
            v0) )
      break;
    v1 = *(void (__thiscall ****)(_DWORD, int))(sub_420250(&v4) + 4);
    if ( v1 )
      (**v1)(v1, 1);
    sub_446090((int *)&v4, v3, 0);
  }
  sub_446000(dword_4E1870);
  CRWLock::WriteUnlock(&unk_4E187C);
}
// 4E1814: using guessed type int dword_4E1814;
// 4E1870: using guessed type int dword_4E1870[3];

//----- (00438A00) --------------------------------------------------------
int __thiscall CMonsterObject::CMonsterObject(int this)
{
  int i; // [esp+4h] [ebp-4h]

  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_4B7E78;
  `vector constructor iterator'(
    (void *)(this + 16),
    0x20u,
    2,
    (void *(__thiscall *)(void *))CIOCriticalSection::CIOCriticalSection);
  for ( i = 0; i < 2; ++i )
    sub_438A60((_DWORD *)(this + 8 * i + 80));
  return this;
}
// 4B7E78: using guessed type int (__stdcall *off_4B7E78)(int);

//----- (00438A60) --------------------------------------------------------
_DWORD *__thiscall sub_438A60(_DWORD *this)
{
  _DWORD *result; // eax

  *this = this;
  result = this;
  this[1] = this;
  return result;
}

//----- (00438A80) --------------------------------------------------------
void *__thiscall sub_438A80(void *this, char a2)
{
  CNPCObject::_CNPCObject(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00438AB0) --------------------------------------------------------
void __thiscall CMonsterObject::OnTimer(int this, CIOCriticalSection *a2)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v4; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v5; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v6; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v7; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v8; // [esp+0h] [ebp-20h]
  _DWORD *v10; // [esp+8h] [ebp-18h]
  _DWORD *v11; // [esp+Ch] [ebp-14h]
  _DWORD *v12; // [esp+10h] [ebp-10h]
  _DWORD *v13; // [esp+14h] [ebp-Ch]
  DWORD v14; // [esp+18h] [ebp-8h]
  DWORD v15; // [esp+1Ch] [ebp-4h]

  if ( a2 )
  {
    if ( a2 == (CIOCriticalSection *)1 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)1);
      CIOCriticalSection::Enter(v6);
      CLink::MoveTo((CLink *)(this + 88), (CLink *)(this + 80));
      CIOCriticalSection::Leave(v7);
      v11 = *(_DWORD **)(this + 80);
      while ( v11 != (_DWORD *)(this + 80) )
      {
        v10 = v11 - 107;
        v11 = (_DWORD *)*v11;
        (*(void (__thiscall **)(_DWORD *))(*v10 + 208))(v10);
      }
      CIOCriticalSection::Leave(v8);
      CIOObject::AddTimer((CIOObject *)this, 0x3E8u, 1);
    }
  }
  else
  {
    if ( !*(_DWORD *)(this + 96) )
    {
      CMonsterBigBirdMother::Create();
      *(_DWORD *)(this + 96) = 1;
    }
    v15 = GetTickCount();
    do
    {
      v14 = v15 + 30;
      CIOCriticalSection::Enter(a2);
      CIOCriticalSection::Enter(v3);
      CLink::MoveTo((CLink *)(this + 88), (CLink *)(this + 80));
      CIOCriticalSection::Leave(v4);
      v13 = *(_DWORD **)(this + 80);
      while ( v13 != (_DWORD *)(this + 80) )
      {
        v12 = v13 - 107;
        v13 = (_DWORD *)*v13;
        (*(void (__thiscall **)(_DWORD *))(*v12 + 204))(v12);
      }
      CIOCriticalSection::Leave(v5);
      v15 = GetTickCount();
    }
    while ( v14 <= v15 );
    CIOObject::AddTimer((CIOObject *)this, v14 - v15, 0);
  }
}
// 438B11: variable 'a2' is possibly undefined
// 438B1C: variable 'v3' is possibly undefined
// 438B39: variable 'v4' is possibly undefined
// 438B7B: variable 'v5' is possibly undefined
// 438BC2: variable 'v6' is possibly undefined
// 438BDF: variable 'v7' is possibly undefined
// 438C21: variable 'v8' is possibly undefined

//----- (00438C40) --------------------------------------------------------
void __thiscall CLink::MoveTo(CLink *this, CLink *pTo)
{
  if ( *(CLink **)this != this )
  {
    **((_DWORD **)pTo + 1) = *(_DWORD *)this;
    *(_DWORD *)(*(_DWORD *)this + 4) = *((_DWORD *)pTo + 1);
    *((_DWORD *)pTo + 1) = *((_DWORD *)this + 1);
    **((_DWORD **)this + 1) = pTo;
    *(_DWORD *)this = this;
    *((_DWORD *)this + 1) = this;
  }
}

//----- (00438CA0) --------------------------------------------------------
void __thiscall CMonsterObject::Insert(CIOCriticalSection *this, CLink *a2)
{
  int v2; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  CLink::Insert(a2, (CLink *)(v2 + 88));
  CIOCriticalSection::Leave((CIOCriticalSection *)v2);
}
// 438CB8: variable 'v2' is possibly undefined

//----- (00438CE0) --------------------------------------------------------
CLink *__thiscall CLink::Insert(CLink *this, CLink *pLink)
{
  CLink *result; // eax

  *((_DWORD *)this + 1) = *((_DWORD *)pLink + 1);
  *(_DWORD *)this = pLink;
  **((_DWORD **)pLink + 1) = this;
  result = this;
  *((_DWORD *)pLink + 1) = this;
  return result;
}

//----- (00438D20) --------------------------------------------------------
int __thiscall CMonsterObject::Stop(CIOCriticalSection *this)
{
  int result; // eax
  CIOCriticalSection *v3; // [esp+0h] [ebp-10h]
  CItem *item; // [esp+4h] [ebp-Ch]
  _DWORD *v5; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 2; ++i )
  {
    CIOCriticalSection::Enter(this);
    v5 = (_DWORD *)*((_DWORD *)v3 + 2 * i + 20);
    while ( v5 != (_DWORD *)((char *)v3 + 8 * i + 80) )
    {
      item = (CItem *)(v5 - 107);
      v5 = (_DWORD *)*v5;
      CBase::Delete(item);
    }
    CIOCriticalSection::Leave(v3);
    result = i + 1;
  }
  return result;
}
// 438D4E: variable 'this' is possibly undefined
// 438D59: variable 'v3' is possibly undefined

//----- (00438DB0) --------------------------------------------------------
int __thiscall sub_438DB0(int this)
{
  CChar::CChar((CChar *)this);
  *(_DWORD *)this = &off_4B7E90;
  CMonsterSkill::CMonsterSkill((CMonsterSkill *)(this + 488));
  *(_DWORD *)(this + 24) = 2;
  *(_DWORD *)(this + 440) = 0;
  *(_DWORD *)(this + 444) = 0;
  memset((void *)(this + 448), 0, 0x10u);
  *(_DWORD *)(this + 464) = 0;
  *(_DWORD *)(this + 468) = GetTickCount();
  *(_DWORD *)(this + 472) = *(_DWORD *)(this + 468);
  *(_DWORD *)(this + 476) = 0;
  *(_DWORD *)(this + 480) = 0;
  *(_DWORD *)(this + 484) = 0;
  *(_DWORD *)(this + 524) = 0;
  *(_DWORD *)(this + 528) = 0;
  return this;
}
// 4B7E90: using guessed type int (__stdcall *off_4B7E90)(int);

//----- (00438E90) --------------------------------------------------------
int __thiscall sub_438E90(_DWORD *this)
{
  return this[131];
}

//----- (00438EB0) --------------------------------------------------------
char *sub_438EB0()
{
  return off_4D62AC;
}
// 4D62AC: using guessed type char *off_4D62AC;

//----- (00438EC0) --------------------------------------------------------
void __stdcall sub_438EC0(int a1, int a2, int a3, int a4)
{
  ;
}

//----- (00438ED0) --------------------------------------------------------
void *__thiscall sub_438ED0(void *this, char a2)
{
  CMonster::_CMonster(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00438F00) --------------------------------------------------------
void __thiscall CMonster::_CMonster(_DWORD *this)
{
  *this = &off_4B7E90;
  sub_480870((int)(this + 122));
  CChar::_CChar(this);
}
// 4B7E90: using guessed type int (__stdcall *off_4B7E90)(int);

//----- (00438F30) --------------------------------------------------------
int __thiscall CChar::GetDefense(_DWORD *this, int a2)
{
  return this[a2 + 36] + this[a2 + 60] * this[a2 + 36] / 100;
}

//----- (00438F70) --------------------------------------------------------
int __thiscall CChar::GetAbsorb(CPlayer *this)
{
  return *((_DWORD *)this + 38) + *((_DWORD *)this + 62) * *((_DWORD *)this + 38) / 100;
}

//----- (00438FA0) --------------------------------------------------------
int __thiscall sub_438FA0(_DWORD *this, int a2)
{
  return this[a2 + 40];
}

//----- (00438FC0) --------------------------------------------------------
CMonster *__thiscall CMonster::CMonster(CMonster *this, _DWORD *a2)
{
  CChar::CChar(this);
  this->__vftable = (CMonster_vtbl *)&off_4B7E90;
  CMonsterSkill::CMonsterSkill(&this->m_skill);
  this->m_dwAttr = 2;
  this->m_nMap = a2[9];
  this->m_pMap = (CSMap *)a2[18];
  this->m_nArea = a2[10];
  this->m_rtArea = *(tagRECT *)(a2 + 14);
  this->m_pTarget = 0;
  this->m_dwNextAction = GetTickCount();
  this->m_dwResetHP = this->m_dwNextAction;
  this->m_bAggressive = 0;
  this->m_nAIState = 0;
  this->m_pParent = 0;
  this->m_nGID = 0;
  this->m_nOperator = 0;
  return this;
}
// 4B7E90: using guessed type int (__stdcall *off_4B7E90)(int);

//----- (004390C0) --------------------------------------------------------
void CMonster::Start()
{
  dword_4E1810 = 0;
  CIOObject::AddTimer((CIOObject *)&unk_4E1898, 0x3E8u, 0);
  CIOObject::AddTimer((CIOObject *)&unk_4E1930, 0x1Eu, 0);
  CIOObject::AddTimer((CIOObject *)&unk_4E1930, 0x3E8u, 1);
  CIOObject::AddTimer((CIOObject *)&unk_4E1998, 0x3E8u, 1);
  CIOObject::AddTimer((CIOObject *)&unk_4E1A00, 0x3E8u, 1);
}

//----- (00439130) --------------------------------------------------------
void __cdecl CMonster::Stop()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  CIOCriticalSection *v1; // [esp+0h] [ebp-18h]
  CIOCriticalSection *v2; // [esp+0h] [ebp-18h]
  int (__thiscall ***v3)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v4[4]; // [esp+Ch] [ebp-Ch] BYREF
  char v5[4]; // [esp+10h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+14h] [ebp-4h] BYREF

  CGenMonster::Stop();
  CMonsterObject::Stop((CIOCriticalSection *)&unk_4E1930);
  CMonsterObject::Stop((CIOCriticalSection *)&unk_4E1998);
  CMonsterObject::Stop((CIOCriticalSection *)&unk_4E1A00);
  CIOCriticalSection::Enter(v1);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1820,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1820, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v0) )
      break;
    v3 = *(int (__thiscall ****)(_DWORD, int))(sub_420250(&v6) + 4);
    if ( v3 )
      v2 = (CIOCriticalSection *)(**v3)(v3, 1);
    else
      v2 = 0;
    sub_446090((int *)&v6, v5, 0);
  }
  sub_445D90(dword_4E1820);
  CIOCriticalSection::Leave(v2);
}
// 439163: variable 'v1' is possibly undefined
// 4391E7: variable 'v2' is possibly undefined
// 4E1820: using guessed type int dword_4E1820[3];

//----- (004391F0) --------------------------------------------------------
LONG sub_4391F0()
{
  return dword_4E1810;
}

//----- (00439200) --------------------------------------------------------
int __cdecl CMonster::NewMonster(int a1, int a2)
{
  _DWORD *v3; // [esp+0h] [ebp-ACh]
  _DWORD *v4; // [esp+4h] [ebp-A8h]
  _DWORD *v5; // [esp+8h] [ebp-A4h]
  int v6; // [esp+Ch] [ebp-A0h]
  _DWORD *v7; // [esp+10h] [ebp-9Ch]
  CMonsterCocoon *v8; // [esp+14h] [ebp-98h]
  _DWORD *v9; // [esp+18h] [ebp-94h]
  _DWORD *v10; // [esp+1Ch] [ebp-90h]
  _DWORD *v11; // [esp+20h] [ebp-8Ch]
  _DWORD *v12; // [esp+24h] [ebp-88h]
  _DWORD *v13; // [esp+28h] [ebp-84h]
  CMonsterInvaderBoss *v14; // [esp+2Ch] [ebp-80h]
  _DWORD *v15; // [esp+30h] [ebp-7Ch]
  CMonsterBlackBug *v16; // [esp+34h] [ebp-78h]
  _DWORD *v17; // [esp+38h] [ebp-74h]
  CMonsterReal *v18; // [esp+3Ch] [ebp-70h]
  _DWORD *v19; // [esp+44h] [ebp-68h]
  _DWORD *v20; // [esp+48h] [ebp-64h]
  _DWORD *v21; // [esp+4Ch] [ebp-60h]
  _DWORD *v22; // [esp+50h] [ebp-5Ch]
  CMemory **v23; // [esp+5Ch] [ebp-50h]
  CMemory **v24; // [esp+60h] [ebp-4Ch]
  CMemory **v25; // [esp+64h] [ebp-48h]
  CMemory **v26; // [esp+68h] [ebp-44h]
  CMemory **v27; // [esp+6Ch] [ebp-40h]
  CMemory **v28; // [esp+70h] [ebp-3Ch]
  CMemory **v29; // [esp+74h] [ebp-38h]
  CMemory **v30; // [esp+78h] [ebp-34h]
  CMemory **v31; // [esp+7Ch] [ebp-30h]
  CMemory **v32; // [esp+80h] [ebp-2Ch]
  CMemory **v33; // [esp+84h] [ebp-28h]
  CMemory **v34; // [esp+88h] [ebp-24h]
  CMemory **v35; // [esp+8Ch] [ebp-20h]
  CMemory **v36; // [esp+90h] [ebp-1Ch]
  CMemory **v37; // [esp+94h] [ebp-18h]
  CMemory **v38; // [esp+98h] [ebp-14h]
  CMemory **v39; // [esp+9Ch] [ebp-10h]
  CMemory **v40; // [esp+A0h] [ebp-Ch]
  CMemory **v41; // [esp+A4h] [ebp-8h]
  int v42; // [esp+A8h] [ebp-4h]

  v42 = 0;
  switch ( *(_DWORD *)(a1 + 64) )
  {
    case 0:
      switch ( *(_DWORD *)(a1 + 72) )
      {
        case 1:
        case 2:
          v41 = sub_401000(0x298u);
          if ( v41 )
            v22 = sub_439830(v41, a2);
          else
            v22 = 0;
          v42 = (int)v22;
          v22[119] = *(_DWORD *)(a1 + 72) - 1;
          break;
        case 3:
          v40 = sub_401000(0x2B0u);
          if ( v40 )
            v21 = sub_439D20(v40, a2);
          else
            v21 = 0;
          v42 = (int)v21;
          v21[119] = *(_DWORD *)(a1 + 72) - 2;
          break;
        case 4:
          v39 = sub_401000(0x298u);
          if ( v39 )
            v20 = sub_439910(v39, a2);
          else
            v20 = 0;
          v42 = (int)v20;
          v20[119] = 1;
          break;
        case 5:
          v38 = sub_401000(0x2A0u);
          if ( v38 )
            v19 = CMonsterMaguniWithSkill::CMonsterMaguniWithSkill(v38, a2);
          else
            v19 = 0;
          v42 = (int)v19;
          v19[119] = 1;
          break;
        default:
          return v42;
      }
      break;
    case 1:
      switch ( *(_DWORD *)(a1 + 72) )
      {
        case 1:
        case 2:
          v37 = sub_401000(0x298u);
          if ( v37 )
            v18 = CMonsterReal::CMonsterReal((CMonsterReal *)v37, (_DWORD *)a2);
          else
            v18 = 0;
          v42 = (int)v18;
          v18->m_bAggressive = *(_DWORD *)(a1 + 72) - 1;
          break;
        case 3:
          v36 = sub_401000(0x2B8u);
          if ( v36 )
            v17 = sub_440070(v36);
          else
            v17 = 0;
          v42 = (int)v17;
          break;
        case 4:
          v35 = sub_401000(0x2A0u);
          if ( v35 )
            v16 = CMonsterBlackBug::CMonsterBlackBug((CMonsterBlackBug *)v35, a2);
          else
            v16 = 0;
          v42 = (int)v16;
          v16->m_bAggressive = 1;
          break;
        case 5:
          v34 = sub_401000(0x298u);
          if ( v34 )
            v15 = sub_439F10(v34, a2);
          else
            v15 = 0;
          v42 = (int)v15;
          v15[119] = 1;
          break;
        case 6:
          v33 = sub_401000(0x2B8u);
          if ( v33 )
            v14 = CMonsterInvaderBoss::CMonsterInvaderBoss((CMonsterInvaderBoss *)v33, a2);
          else
            v14 = 0;
          v42 = (int)v14;
          *((_DWORD *)v14 + 119) = 1;
          break;
        default:
          return v42;
      }
      break;
    case 2:
    case 3:
      v32 = sub_401000(0x238u);
      if ( v32 )
        v13 = sub_439AD0(v32);
      else
        v13 = 0;
      v42 = (int)v13;
      break;
    case 4:
      v31 = sub_401000(0x218u);
      if ( v31 )
        v12 = sub_439B50(v31, (_DWORD *)a2);
      else
        v12 = 0;
      v42 = (int)v12;
      break;
    case 5:
      v30 = sub_401000(0x218u);
      if ( v30 )
        v11 = sub_439BD0(v30, (_DWORD *)a2);
      else
        v11 = 0;
      v42 = (int)v11;
      break;
    case 6:
      v29 = sub_401000(0x218u);
      if ( v29 )
        v10 = sub_4399D0(v29, a2);
      else
        v10 = 0;
      v42 = (int)v10;
      break;
    case 7:
      v28 = sub_401000(0x2A0u);
      if ( v28 )
        v9 = CMonsterEgg::CMonsterEgg(v28, a2);
      else
        v9 = 0;
      v42 = (int)v9;
      break;
    case 8:
      v27 = sub_401000(0x2A0u);
      if ( v27 )
        v8 = CMonsterCocoon::CMonsterCocoon((CMonsterCocoon *)v27, a2);
      else
        v8 = 0;
      v42 = (int)v8;
      v8->m_bAggressive = 1;
      break;
    case 9:
      v26 = sub_401000(0x2A8u);
      if ( v26 )
        v7 = CMonsterFireFlower::CMonsterFireFlower(v26, a2);
      else
        v7 = 0;
      v42 = (int)v7;
      v7[119] = 0;
      break;
    case 0xA:
      v6 = *(_DWORD *)(a1 + 72);
      switch ( v6 )
      {
        case 1:
          v25 = sub_401000(0x2D0u);
          if ( v25 )
            v5 = sub_439DE0(v25);
          else
            v5 = 0;
          v42 = (int)v5;
          v5[119] = 0;
          break;
        case 2:
          v24 = sub_401000(0x2A8u);
          if ( v24 )
            v4 = sub_439EA0(v24);
          else
            v4 = 0;
          v42 = (int)v4;
          v4[119] = 0;
          break;
        case 3:
          v23 = sub_401000(0x2A8u);
          if ( v23 )
            v3 = sub_439EF0(v23);
          else
            v3 = 0;
          v42 = (int)v3;
          break;
      }
      break;
    default:
      return v42;
  }
  return v42;
}

//----- (00439830) --------------------------------------------------------
_DWORD *__thiscall sub_439830(_DWORD *this, int a2)
{
  CMonsterReal::CMonsterReal((CMonsterReal *)this, (_DWORD *)a2);
  *this = &off_4B7F88;
  return this;
}
// 4B7F88: using guessed type int (__stdcall *off_4B7F88)(int);

//----- (00439860) --------------------------------------------------------
int __thiscall sub_439860(_DWORD *this)
{
  return *(_DWORD *)(this[110] + 268);
}

//----- (00439880) --------------------------------------------------------
int __thiscall CMonsterReal::ResetNextMove(_DWORD *this, int a2, int a3)
{
  int result; // eax

  this[139] = a2;
  result = a3;
  this[163] = a3;
  return result;
}

//----- (004398B0) --------------------------------------------------------
void __thiscall CMonsterReal::_CMonsterReal(void *this)
{
  sub_40DEF0((char *)this + 612);
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)((char *)this + 572));
  sub_4398F0((char *)this + 560);
  CMonster::_CMonster(this);
}

//----- (004398F0) --------------------------------------------------------
int __thiscall sub_4398F0(void *this)
{
  return sub_445CB0(this);
}

//----- (00439910) --------------------------------------------------------
_DWORD *__thiscall sub_439910(_DWORD *this, int a2)
{
  sub_439830(this, a2);
  *this = &off_4B8090;
  return this;
}
// 4B8090: using guessed type int (__stdcall *off_4B8090)(int);

//----- (00439940) --------------------------------------------------------
void *__thiscall sub_439940(void *this, char a2)
{
  sub_439970(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00439970) --------------------------------------------------------
void __thiscall sub_439970(void *this)
{
  sub_4442B0(this);
}

//----- (00439990) --------------------------------------------------------
_DWORD *__thiscall CMonsterMaguniWithSkill::CMonsterMaguniWithSkill(_DWORD *this, int a2)
{
  sub_439830(this, a2);
  *this = &off_4B8198;
  this[166] = 0;
  return this;
}
// 4B8198: using guessed type int (__stdcall *off_4B8198)(int);

//----- (004399D0) --------------------------------------------------------
_DWORD *__thiscall sub_4399D0(_DWORD *this, int a2)
{
  sub_439A00(this, (_DWORD *)a2);
  *this = &off_4B82A0;
  return this;
}
// 4B82A0: using guessed type int (__stdcall *off_4B82A0)(int);

//----- (00439A00) --------------------------------------------------------
_DWORD *__thiscall sub_439A00(_DWORD *this, _DWORD *a2)
{
  CMonster::CMonster((CMonster *)this, a2);
  *this = &off_4B8398;
  return this;
}
// 4B8398: using guessed type int (__stdcall *off_4B8398)(int);

//----- (00439A30) --------------------------------------------------------
void *__thiscall sub_439A30(void *this, char a2)
{
  sub_439A60(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00439A60) --------------------------------------------------------
void __thiscall sub_439A60(_DWORD *this)
{
  CMonster::_CMonster(this);
}

//----- (00439A80) --------------------------------------------------------
void *__thiscall sub_439A80(void *this, char a2)
{
  sub_439AB0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00439AB0) --------------------------------------------------------
void __thiscall sub_439AB0(_DWORD *this)
{
  sub_439A60(this);
}

//----- (00439AD0) --------------------------------------------------------
_DWORD *__thiscall sub_439AD0(_DWORD *this)
{
  sub_439AF0(this);
  *this = &off_4B8490;
  return this;
}
// 4B8490: using guessed type int (__stdcall *off_4B8490)(int);

//----- (00439AF0) --------------------------------------------------------
_DWORD *__thiscall sub_439AF0(_DWORD *this)
{
  sub_438DB0((int)this);
  *this = &off_4B8398;
  return this;
}
// 4B8398: using guessed type int (__stdcall *off_4B8398)(int);

//----- (00439B10) --------------------------------------------------------
int __thiscall sub_439B10(_DWORD *this)
{
  return this[134];
}

//----- (00439B30) --------------------------------------------------------
char *__thiscall sub_439B30(char *this)
{
  return this + 540;
}

//----- (00439B50) --------------------------------------------------------
_DWORD *__thiscall sub_439B50(_DWORD *this, _DWORD *a2)
{
  sub_439A00(this, a2);
  *this = &off_4B8588;
  return this;
}
// 4B8588: using guessed type int (__stdcall *off_4B8588)(int);

//----- (00439B80) --------------------------------------------------------
void *__thiscall sub_439B80(void *this, char a2)
{
  sub_439BB0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00439BB0) --------------------------------------------------------
void __thiscall sub_439BB0(_DWORD *this)
{
  *this = &off_4B8588;
  sub_439A60(this);
}
// 4B8588: using guessed type int (__stdcall *off_4B8588)(int);

//----- (00439BD0) --------------------------------------------------------
_DWORD *__thiscall sub_439BD0(_DWORD *this, _DWORD *a2)
{
  sub_439A00(this, a2);
  *this = &off_4B8680;
  return this;
}
// 4B8680: using guessed type int (__stdcall *off_4B8680)(int);

//----- (00439C00) --------------------------------------------------------
CMonsterBlackBug *__thiscall CMonsterBlackBug::CMonsterBlackBug(CMonsterBlackBug *this, int a2)
{
  CMonsterReal::CMonsterReal(this, (_DWORD *)a2);
  *(_DWORD *)this = &off_4B8778;
  memset((char *)this + 664, 0, 4u);
  *((_DWORD *)this + 166) = 0;
  *((_DWORD *)this + 167) = a2;
  return this;
}
// 4B8778: using guessed type int (__stdcall *off_4B8778)(int);

//----- (00439C60) --------------------------------------------------------
_DWORD *__thiscall CMonsterEgg::CMonsterEgg(_DWORD *this, int a2)
{
  CMonsterReal::CMonsterReal((CMonsterReal *)this, (_DWORD *)a2);
  *this = &off_4B8880;
  this[167] = a2;
  this[117] = GetTickCount() + 140000;
  sub_449220((int)this, 0x2000);
  return this;
}
// 4B8880: using guessed type int (__stdcall *off_4B8880)(int);

//----- (00439CC0) --------------------------------------------------------
CMonsterCocoon *__thiscall CMonsterCocoon::CMonsterCocoon(CMonsterCocoon *this, int a2)
{
  CMonsterReal::CMonsterReal(this, (_DWORD *)a2);
  *(_DWORD *)this = &off_4B8988;
  memset((char *)this + 664, 0, 4u);
  *((_DWORD *)this + 166) = GetTickCount() + 120000;
  *((_DWORD *)this + 167) = a2;
  return this;
}
// 4B8988: using guessed type int (__stdcall *off_4B8988)(int);

//----- (00439D20) --------------------------------------------------------
_DWORD *__thiscall sub_439D20(_DWORD *this, int a2)
{
  CMonsterReal::CMonsterReal((CMonsterReal *)this, (_DWORD *)a2);
  *this = &off_4B8A90;
  memset(this + 167, 0, 0x14u);
  this[139] = GetTickCount();
  this[165] = this[139];
  return this;
}
// 4B8A90: using guessed type int (__stdcall *off_4B8A90)(int);

//----- (00439D80) --------------------------------------------------------
_DWORD *__thiscall CMonsterFireFlower::CMonsterFireFlower(_DWORD *this, int a2)
{
  CMonsterReal::CMonsterReal((CMonsterReal *)this, (_DWORD *)a2);
  *this = &off_4B8B98;
  memset(this + 166, 0, 8u);
  this[166] = GetTickCount() + 12000;
  sub_449220((int)this, 0x2000);
  return this;
}
// 4B8B98: using guessed type int (__stdcall *off_4B8B98)(int);

//----- (00439DE0) --------------------------------------------------------
_DWORD *__thiscall sub_439DE0(_DWORD *this)
{
  sub_43A7D0(this);
  *this = &off_4B8CA0;
  this[173] = 0;
  memset(this + 172, 0, sizeof(_DWORD));
  this[139] = GetTickCount();
  this[165] = this[139];
  this[174] = 0;
  this[175] = 0;
  this[132] = 0;
  this[177] = 0;
  return this;
}
// 4B8CA0: using guessed type int (__stdcall *off_4B8CA0)(int);

//----- (00439E80) --------------------------------------------------------
char *__thiscall sub_439E80(char *this)
{
  return this + 664;
}

//----- (00439EA0) --------------------------------------------------------
_DWORD *__thiscall sub_439EA0(_DWORD *this)
{
  sub_43A7D0(this);
  *this = &off_4B8DA8;
  return this;
}
// 4B8DA8: using guessed type int (__stdcall *off_4B8DA8)(int);

//----- (00439EC0) --------------------------------------------------------
void *__thiscall sub_439EC0(void *this, char a2)
{
  sub_4442B0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00439EF0) --------------------------------------------------------
_DWORD *__thiscall sub_439EF0(_DWORD *this)
{
  sub_43A7D0(this);
  *this = &off_4B8EB0;
  return this;
}
// 4B8EB0: using guessed type int (__stdcall *off_4B8EB0)(int);

//----- (00439F10) --------------------------------------------------------
_DWORD *__thiscall sub_439F10(_DWORD *this, int a2)
{
  CMonsterReal::CMonsterReal((CMonsterReal *)this, (_DWORD *)a2);
  *this = &off_4B8FB8;
  return this;
}
// 4B8FB8: using guessed type int (__stdcall *off_4B8FB8)(int);

//----- (00439F40) --------------------------------------------------------
CMonsterInvaderBoss *__thiscall CMonsterInvaderBoss::CMonsterInvaderBoss(CMonsterInvaderBoss *this, int a2)
{
  CMonsterReal::CMonsterReal(this, (_DWORD *)a2);
  *(_DWORD *)this = &off_4B90C0;
  memset((char *)this + 668, 0, 0x14u);
  *((_DWORD *)this + 139) = GetTickCount();
  *((_DWORD *)this + 165) = *((_DWORD *)this + 139);
  *((_DWORD *)this + 172) = 0;
  return this;
}
// 4B90C0: using guessed type int (__stdcall *off_4B90C0)(int);

//----- (00439FB0) --------------------------------------------------------
int __cdecl CMonster::Create(_DWORD *a1, int a2)
{
  int result; // eax
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // [esp-1Ch] [ebp-48h]
  __int64 v7; // [esp-18h] [ebp-44h]
  int v8; // [esp-10h] [ebp-3Ch]
  CIOCriticalSection *v9; // [esp+0h] [ebp-2Ch]
  CIOCriticalSection *v10; // [esp+0h] [ebp-2Ch]
  char v11[4]; // [esp+Ch] [ebp-20h] BYREF
  CIOCriticalSection *v12; // [esp+10h] [ebp-1Ch]
  int v13[2]; // [esp+14h] [ebp-18h] BYREF
  int a5[2]; // [esp+1Ch] [ebp-10h] BYREF
  char v15[4]; // [esp+24h] [ebp-8h] BYREF
  CPlayer *v16; // [esp+28h] [ebp-4h]

  CGenMonster::GetGenTile(a1, v13, a2);
  if ( !CSMap::IsValidTile((_DWORD *)a1[18], v13, 0x20000) )
    return 0;
  CIOCriticalSection::Enter(v9);
  sub_44AE20(dword_4E1820, v15, a1 + 8);
  v3 = sub_430C20(dword_4E1820, (int)v11);
  if ( (unsigned __int8)unknown_libname_8(v3) )
    goto LABEL_4;
  v12 = *(CIOCriticalSection **)(sub_420250(v15) + 4);
  if ( ((int)v12[9].m_critical_section.LockSemaphore & (1 << dword_4E35B8)) != 0 )
  {
    v16 = (CPlayer *)CMonster::NewMonster((int)v12, (int)a1);
    if ( !v16 )
    {
LABEL_4:
      CIOCriticalSection::Leave(v10);
      return 0;
    }
    CChar::SetXY(v16, v13);
    ((void (__thiscall *)(CPlayer *, CIOCriticalSection *))v16->__vftable[1].~CIOObject)(v16, v12);
    CIOCriticalSection::Leave(v10);
    sub_412E90((CIOCriticalSection *)v16);
    a5[0] = v13[0] >> 5;
    a5[1] = v13[1] >> 5;
    if ( CSMap::GetCellMap(v16, (int)a5) )
    {
      ((void (__thiscall *)(CPlayer *, int))v16->__vftable[1].OnFree)(v16, a2);
      v4 = ((int (__thiscall *)(CPlayer *))v16->__vftable[1].SendMove)(v16);
      v8 = ((int (__thiscall *)(CPlayer *, _DWORD, _DWORD, int))v16->__vftable[1].OnLoad)(
             v16,
             *(_DWORD *)(v16->m_nSocketRef + 64),
             *(_DWORD *)&v16->m_szGuildClassTitle[4],
             v4);
      v7 = v16->m_nMState;
      v6 = v16->m_nGState;
      v5 = CChar::GetMaxHP(v16);
      CChar::WriteInSight(
        (int)v16,
        51,
        "wdddwdddIsbds",
        *(_DWORD *)(v16->m_nSocketRef + 60),
        v16->m_nId,
        v16->m_ptPixel.x,
        v16->m_ptPixel.y,
        v16->m_nDir,
        v16->m_nCurHP,
        v5,
        v6,
        v7,
        v8);
      sub_412EB0((CIOCriticalSection *)v16);
      result = 1;
    }
    else
    {
      sub_412EB0((CIOCriticalSection *)v16);
      if ( v16 )
        ((void (__thiscall *)(CPlayer *, int))v16->~CIOObject)(v16, 1);
      result = 0;
    }
  }
  else
  {
    CIOCriticalSection::Leave(v10);
    result = 1;
  }
  return result;
}
// 439FEA: variable 'v9' is possibly undefined
// 43A027: variable 'v10' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (0043A200) --------------------------------------------------------
int __thiscall CChar::GetMaxHP(CPlayer *this)
{
  return *((_DWORD *)this + 28) + *((_DWORD *)this + 21) + *((_DWORD *)this + 52) * *((_DWORD *)this + 21) / 100;
}

//----- (0043A240) --------------------------------------------------------
CIOObject *__cdecl CMonster::FindMonster(DWORD a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-Ch] BYREF
  CIOObject *v4; // [esp+4h] [ebp-8h]
  char v5[4]; // [esp+8h] [ebp-4h] BYREF

  v4 = 0;
  CRWLock::ReadLock(&unk_4E1858);
  sub_44AE20(dword_4E184C, v5, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E184C, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
         v1) )
  {
    v4 = *(CIOObject **)(sub_420250(v5) + 4);
    CIOObject::AddRef(v4, (volatile int *)&v4[22]);
  }
  CRWLock::ReadUnlock(&unk_4E1858);
  return v4;
}
// 4E184C: using guessed type int dword_4E184C[3];

//----- (0043A2C0) --------------------------------------------------------
void __cdecl CMonster::GetMonsterList(int a1, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int v3; // eax
  char v4[4]; // [esp+0h] [ebp-Ch] BYREF
  char v5[4]; // [esp+4h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+8h] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E1858);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E184C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E184C, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v2) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v6) + 4) + 440) + 60) == a2 )
    {
      v3 = sub_420250(&v6);
      sub_47D000((_DWORD *)a1, v3 + 4);
    }
    sub_446090((int *)&v6, v5, 0);
  }
  CRWLock::ReadUnlock(&unk_4E1858);
}
// 4E184C: using guessed type int dword_4E184C[3];

//----- (0043A350) --------------------------------------------------------
volatile int *__cdecl CMonster::ScanMonster(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  char v4[4]; // [esp+4h] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-8h] BYREF
  int v6; // [esp+Ch] [ebp-4h]

  v6 = 0;
  CRWLock::ReadLock(&unk_4E1858);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E184C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E184C, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v5,
            v1) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v5) + 4) + 440) + 60) == a1 )
    {
      v6 = *(_DWORD *)(sub_420250(&v5) + 4);
      sub_4010D0(v6);
      break;
    }
    sub_446090((int *)&v5, v4, 0);
  }
  CRWLock::ReadUnlock(&unk_4E1858);
  return (volatile int *)v6;
}
// 4E184C: using guessed type int dword_4E184C[3];

//----- (0043A3F0) --------------------------------------------------------
void __thiscall CMonster::OnDelete(CIOCriticalSection *this)
{
  int v2; // [esp+4h] [ebp-4h]

  sub_412E90(this);
  ((void (__thiscall *)(CIOCriticalSection *, _DWORD))this->m_critical_section.DebugInfo[5].Spare[1])(this, 0);
  ((void (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[6].ProcessLocksList.Flink)(this);
  sub_4913E0((int)this, (int)&this[10].m_critical_section.LockCount);
  if ( this[15].m_critical_section.LockCount )
  {
    v2 = this[15].m_critical_section.LockCount;
    this[15].m_critical_section.LockCount = 0;
    sub_412EB0(this);
    (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)v2 + 172))(v2, *(_DWORD *)(this[13].m_dwEIP[0] + 60));
  }
  else
  {
    sub_412EB0(this);
  }
  sub_402180((int)this);
}

//----- (0043A4A0) --------------------------------------------------------
void __thiscall CMonster::SendDelete(_DWORD *this, int a2, int a3)
{
  CPlayer::Write(a2, 56, "d", this[7]);
}

//----- (0043A4D0) --------------------------------------------------------
void __thiscall CMonster::SendCreate(CPlayer *this, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int v5; // [esp-1Ch] [ebp-20h]
  __int64 v6; // [esp-18h] [ebp-1Ch]
  int v7; // [esp-10h] [ebp-14h]

  v3 = ((int (__thiscall *)(CPlayer *))this->__vftable[1].SendMove)(this);
  v7 = ((int (__thiscall *)(CPlayer *, _DWORD, _DWORD, int))this->__vftable[1].OnLoad)(
         this,
         *(_DWORD *)(this->m_nSocketRef + 64),
         *(_DWORD *)&this->m_szGuildClassTitle[4],
         v3);
  v6 = this->m_nMState;
  v5 = this->m_nGState;
  v4 = CChar::GetMaxHP(this);
  CPlayer::Write(
    a2,
    51,
    "wdddwdddIsbds",
    *(_DWORD *)(this->m_nSocketRef + 60),
    this->m_nId,
    this->m_ptPixel.x,
    this->m_ptPixel.y,
    this->m_nDir,
    this->m_nCurHP,
    v4,
    v5,
    v6,
    v7);
}

//----- (0043A590) --------------------------------------------------------
void __thiscall CMonster::SetTarget(int a1, int a5)
{
  if ( *(_DWORD *)(a1 + 464) )
    CIOObject::Release(*(CIOObject **)(a1 + 464), (volatile int *)(*(_DWORD *)(a1 + 464) + 356));
  *(_DWORD *)(a1 + 464) = a5;
}

//----- (0043A5E0) --------------------------------------------------------
int __thiscall CMonster::SetProperty(int this, int a2)
{
  int result; // eax

  *(_DWORD *)(this + 440) = a2;
  strcpy((char *)(this + 32), (const char *)(a2 + 32));
  result = *(_DWORD *)(a2 + 68);
  *(_DWORD *)(this + 60) = result;
  return result;
}

//----- (0043A620) --------------------------------------------------------
int __thiscall sub_43A620(void *this)
{
  return CMonster::IsRemoved((volatile int *)this);
}

//----- (0043A640) --------------------------------------------------------
void __thiscall CMonster::Add(int this, int a2)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v2; // eax
  char v4[8]; // [esp+4h] [ebp-18h] BYREF
  int v5; // [esp+Ch] [ebp-10h]
  int v6; // [esp+10h] [ebp-Ch]
  char v7[8]; // [esp+14h] [ebp-8h] BYREF

  sub_4010D0(this);
  CMonsterObject::Insert((CIOCriticalSection *)&unk_4E1930, (CLink *)(this + 428));
  CRWLock::WriteLock(&unk_4E1858);
  v6 = this;
  v5 = *(_DWORD *)(this + 28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v7);
  sub_445DF0(
    (int)dword_4E184C,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v4,
    v2);
  CRWLock::WriteUnlock(&unk_4E1858);
}
// 43A697: variable 'v2' is possibly undefined
// 4E184C: using guessed type int dword_4E184C[3];

//----- (0043A6B0) --------------------------------------------------------
void __thiscall CMonster::Remove(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E1858);
  v2 = this[7];
  sub_445FA0(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E184C,
    (int)&v2);
  CRWLock::WriteUnlock(&unk_4E1858);
}
// 4E184C: using guessed type int dword_4E184C[3];

//----- (0043A6F0) --------------------------------------------------------
CLink *__thiscall CLink::Remove(CLink *this)
{
  CLink *result; // eax

  *(_DWORD *)(*(_DWORD *)this + 4) = *((_DWORD *)this + 1);
  result = this;
  **((_DWORD **)this + 1) = *(_DWORD *)this;
  return result;
}

//----- (0043A720) --------------------------------------------------------
CIOObject *__thiscall CMonster::GetOperatorName(int a1)
{
  CIOObject *v2; // [esp+4h] [ebp-8h]

  if ( !*(_DWORD *)(a1 + 528) )
    return 0;
  v2 = CPlayer::FindPlayer_(*(_DWORD *)(a1 + 528));
  CIOObject::Release(v2, (volatile int *)&v2[22]);
  return v2 + 2;
}

//----- (0043A770) --------------------------------------------------------
BOOL __thiscall CMonster::CanAttack(_QWORD *this, _QWORD *a2, int a3)
{
  BOOL result; // eax

  if ( a3 || !CChar::IsMState(this, 0x200010000100i64) )
    result = CChar::IsMState(a2, 0x80000i64) == 0;
  else
    result = 0;
  return result;
}

//----- (0043A7D0) --------------------------------------------------------
_DWORD *__thiscall sub_43A7D0(_DWORD *this)
{
  sub_438DB0((int)this);
  *this = &off_4B91D8;
  sub_445C80(this + 140);
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)(this + 143));
  CFindPath::CFindPath((CFindPath *)(this + 153));
  this[137] = 0;
  this[136] = 0;
  this[138] = 0;
  this[120] = 1;
  this[135] = 0;
  this[134] = 0;
  this[139] = GetTickCount();
  this[165] = this[139];
  this[151] = 0;
  this[152] = 0;
  this[163] = 0;
  this[164] = 0;
  return this;
}
// 4B91D8: using guessed type int (__stdcall *off_4B91D8)(int);

//----- (0043A8C0) --------------------------------------------------------
_DWORD *__thiscall sub_43A8C0(_DWORD *a1, char a5)
{
  CMonsterReal::_CMonsterReal(a1);
  if ( (a5 & 1) != 0 )
    sub_401020(a1);
  return a1;
}

//----- (0043A8F0) --------------------------------------------------------
CMonsterReal *__thiscall CMonsterReal::CMonsterReal(CMonsterReal *this, _DWORD *a2)
{
  CMonster::CMonster(this, a2);
  this->__vftable = (CMonsterReal_vtbl *)&off_4B91D8;
  sub_445C80(&this->m_mapHostility);
  CIOCriticalSection::CIOCriticalSection(&this->m_lockHostility);
  CFindPath::CFindPath(&this->m_findpath);
  this->m_ptPReturn.x = (this->m_rtArea.right + this->m_rtArea.left) / 2;
  this->m_ptPReturn.y = (this->m_rtArea.top + this->m_rtArea.bottom) / 2;
  this->m_nRoam = 0;
  this->m_nAIState = 1;
  this->m_dwNextMove = GetTickCount();
  this->m_dwAttacked = this->m_dwNextMove;
  this->m_nAllHostility = 0;
  this->m_nMaxHostility = 0;
  this->m_bRefindPath = 0;
  this->m_bRest = 0;
  this->m_nIndex = a2[8];
  return this;
}
// 4B91D8: using guessed type int (__stdcall *off_4B91D8)(int);

//----- (0043AA00) --------------------------------------------------------
void __thiscall CMonsterReal::OnDelete(CIOCriticalSection *this)
{
  int v2; // [esp+4h] [ebp-4h]

  sub_412E90(this);
  ((void (__thiscall *)(CIOCriticalSection *, _DWORD))this->m_critical_section.DebugInfo[5].Spare[1])(this, 0);
  CMonsterReal::ResetHostility(this);
  ((void (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[6].ProcessLocksList.Flink)(this);
  sub_4913E0((int)this, (int)&this[10].m_critical_section.LockCount);
  if ( this[15].m_critical_section.LockCount )
  {
    v2 = this[15].m_critical_section.LockCount;
    this[15].m_critical_section.LockCount = 0;
    sub_412EB0(this);
    if ( this[16].m_critical_section.DebugInfo != (_RTL_CRITICAL_SECTION_DEBUG *)331 )
      (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)v2 + 172))(v2, *(_DWORD *)(this[13].m_dwEIP[0] + 60));
  }
  else
  {
    sub_412EB0(this);
  }
  sub_402180((int)this);
}

//----- (0043AAC0) --------------------------------------------------------
void __thiscall CMonsterReal::SendCreate(CPlayer *this, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int v5; // [esp-1Ch] [ebp-24h]
  __int64 v6; // [esp-18h] [ebp-20h]
  int v7; // [esp-10h] [ebp-18h]

  v3 = ((int (__thiscall *)(CPlayer *))this->__vftable[1].SendMove)(this);
  v7 = ((int (__thiscall *)(CPlayer *, _DWORD, _DWORD, int))this->__vftable[1].OnLoad)(
         this,
         *(_DWORD *)(this->m_nSocketRef + 64),
         *(_DWORD *)&this->m_szGuildClassTitle[4],
         v3);
  v6 = this->m_nMState;
  v5 = this->m_nGState;
  v4 = CChar::GetMaxHP(this);
  CPlayer::Write(
    a2,
    51,
    "wdddwdddIsbds",
    *(_DWORD *)(this->m_nSocketRef + 60),
    this->m_nId,
    this->m_ptPixel.x,
    this->m_ptPixel.y,
    this->m_nDir,
    this->m_nCurHP,
    v4,
    v5,
    v6,
    v7);
  if ( this->m_prtyPer.nMSpeed )
    CPlayer::Write(a2, 72, "dbw", this->m_nId, 32, this->m_prtyPer.nMSpeed);
}

//----- (0043ABB0) --------------------------------------------------------
int __thiscall CMonsterReal::Damage(int *this, int a2, int a3, _DWORD *a4, _DWORD *a5, _DWORD *a6, int a7)
{
  int result; // eax
  int v8; // [esp+0h] [ebp-20h]
  int v9; // [esp+4h] [ebp-1Ch]
  char v11[4]; // [esp+Ch] [ebp-14h] BYREF
  int v12; // [esp+10h] [ebp-10h] BYREF
  int v13; // [esp+14h] [ebp-Ch]
  int v14; // [esp+18h] [ebp-8h]
  int v15; // [esp+1Ch] [ebp-4h]

  if ( (*(int (__thiscall **)(int *))(*this + 252))(this) )
    return 1;
  if ( a7 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 52))(a7);
  else
    v9 = 1;
  v13 = v9;
  v15 = CChar::GetFinalDamage(this, (_DWORD *)a2, a3, v9);
  if ( v15 > 0 )
  {
    CMonsterReal::ManageBuff(this);
    sub_412E90((CIOCriticalSection *)this);
    if ( CMonsterReal::ApplyDamage((int)this, a2, a3, v15, a4, (int)a5, a6, a7) )
    {
      v14 = *a6 + *a4;
      if ( a7 )
        v8 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 24))(a7);
      else
        v8 = 0;
      (*(void (__thiscall **)(int *, int, int, int))(*this + 212))(this, a2, v14, v8);
      if ( this[68] > 0 )
      {
        (*(void (__thiscall **)(int *, int, int))(*this + 256))(this, v14, v13);
        sub_412EB0((CIOCriticalSection *)this);
      }
      else
      {
        v12 = 0;
        *(_DWORD *)v11 = 0;
        (*(void (__thiscall **)(int *, int, _DWORD, int *, char *))(*this + 236))(this, a2, *a5, &v12, v11);
        sub_412EB0((CIOCriticalSection *)this);
        CMonsterReal::AllotTransformExp(this, v12, *(int *)v11);
        CBase::Delete((CItem *)this);
      }
      result = 1;
    }
    else
    {
      sub_412EB0((CIOCriticalSection *)this);
      result = 1;
    }
  }
  else
  {
    *a6 = 0;
    *a4 = 0;
    result = 0;
  }
  return result;
}

//----- (0043AD50) --------------------------------------------------------
int __thiscall CChar::GetFinalDamage(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v5; // [esp+10h] [ebp-10h]
  int v7; // [esp+18h] [ebp-8h]
  int v8; // [esp+1Ch] [ebp-4h]
  int v9; // [esp+1Ch] [ebp-4h]

  v7 = a2[15] - this[15];
  if ( a4 )
  {
    if ( (*(int (__thiscall **)(_DWORD *))(*this + 64))(this) || (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2) )
    {
      if ( v7 < 0 )
        v5 = -dword_4D8398[abs(v7)];
      else
        v5 = dword_4D8398[v7];
      a3 += v5;
    }
    v8 = a3 - (*(int (__thiscall **)(_DWORD *, _DWORD *))(*this + 136))(this, a2);
    if ( v8 <= 0 )
      return 0;
    v9 = v8 - v8 * (*(int (__thiscall **)(_DWORD *, _DWORD *))(*this + 140))(this, a2) / 100;
  }
  else
  {
    v9 = a3 + v7 * abs(v7) / 4;
  }
  if ( CChar::IsBState(a2, 512i64) )
  {
    v9 += v9 / 10;
  }
  else if ( CChar::IsBState(a2, 0x40000000i64) )
  {
    v9 += 7 * v9 / 100;
  }
  return v9;
}

//----- (0043AEB0) --------------------------------------------------------
void __thiscall CMonsterReal::Defense(CIOCriticalSection *a1, volatile int *a2)
{
  sub_412E90(a1);
  if ( !a1[14].m_critical_section.LockSemaphore )
  {
    CIOObject::AddRef((CIOObject *)a2, a2 + 89);
    ((void (__thiscall *)(CIOCriticalSection *, volatile int *))a1->m_critical_section.DebugInfo[5].Spare[1])(a1, a2);
  }
  sub_412EB0(a1);
}

//----- (0043AF00) --------------------------------------------------------
int __thiscall CMonsterReal::ReviseProperty(CPlayer *this)
{
  int result; // eax
  int v3; // [esp+8h] [ebp-4h]

  CChar::ReviseProperty(this);
  v3 = this->m_prtyBase.nBase[3];
  this->m_prtyBase.nBase[5] += 2 * this->m_prtyBase.nBase[1] * this->m_prtyBase.nBase[1] / 10 + 115;
  this->m_prtyBase.nBase[6] += v3 + 2 * v3 * v3 / 10;
  this->m_nCurHP = CChar::GetMaxHP(this);
  result = CChar::GetMaxMP(this);
  this->m_nCurMP = result;
  return result;
}

//----- (0043AF90) --------------------------------------------------------
int __thiscall CChar::GetMaxMP(CPlayer *a1)
{
  return *((_DWORD *)a1 + 29) + *((_DWORD *)a1 + 22) + *((_DWORD *)a1 + 53) * *((_DWORD *)a1 + 22) / 100;
}

//----- (0043AFD0) --------------------------------------------------------
void __thiscall CMonsterReal::SetTarget(void *this, int a2)
{
  CMonster::SetTarget((int)this, a2);
  if ( !sub_40F5F0((char *)this + 488) )
  {
    if ( a2 )
    {
      *((_DWORD *)this + 120) = 4;
      *((_DWORD *)this + 139) = 0;
    }
    else
    {
      *((_DWORD *)this + 120) = 1;
    }
  }
}
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (0043B030) --------------------------------------------------------
void __cdecl CMonsterReal::UpdateProperty(int a1, int a2, int a3, int a4)
{
  int v4; // [esp+0h] [ebp-14h]
  int v5; // [esp+4h] [ebp-10h]

  if ( a2 == 7 )
  {
    if ( a3 )
    {
      *(_DWORD *)(a1 + 272) += a4;
      if ( CChar::GetMaxHP((CPlayer *)a1) >= *(_DWORD *)(a1 + 272) )
        v5 = *(_DWORD *)(a1 + 272);
      else
        v5 = CChar::GetMaxHP((CPlayer *)a1);
      *(_DWORD *)(a1 + 272) = v5;
    }
    else
    {
      *(_DWORD *)(a1 + 272) -= a4;
      if ( *(int *)(a1 + 272) >= 0 )
        v4 = *(_DWORD *)(a1 + 272);
      else
        v4 = 0;
      *(_DWORD *)(a1 + 272) = v4;
    }
    CChar::WriteInSight(a1, 72, "dbd", *(_DWORD *)(a1 + 28), 7, *(_DWORD *)(a1 + 272));
  }
}

//----- (0043B130) --------------------------------------------------------
void __cdecl CMonsterReal::UpdatePrtyPt(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp+0h] [ebp-50h]
  int v10; // [esp+4h] [ebp-4Ch]
  int v11; // [esp+8h] [ebp-48h]
  int v12; // [esp+Ch] [ebp-44h]
  int v13; // [esp+1Ch] [ebp-34h]
  int v14; // [esp+24h] [ebp-2Ch]
  int v15; // [esp+2Ch] [ebp-24h]
  int v16; // [esp+2Ch] [ebp-24h]
  int v17; // [esp+2Ch] [ebp-24h]
  int v18; // [esp+30h] [ebp-20h]
  int v19; // [esp+38h] [ebp-18h]
  int v20; // [esp+3Ch] [ebp-14h]
  int v21; // [esp+3Ch] [ebp-14h]
  int v22; // [esp+3Ch] [ebp-14h]
  int v23; // [esp+44h] [ebp-Ch]

  switch ( a2 )
  {
    case 0:
      v23 = CChar::GetStr((_DWORD *)a1);
      *(_DWORD *)(a1 + 120) -= 15 * v23 / 54;
      *(_DWORD *)(a1 + 128) -= (11 * v23 - 80) / 30;
      *(_DWORD *)(a1 + 132) -= (8 * v23 - 25) / 15;
      if ( a3 )
        *(_DWORD *)(a1 + 92) += a4;
      else
        *(_DWORD *)(a1 + 92) -= a4;
      v5 = CChar::GetStr((_DWORD *)a1);
      *(_DWORD *)(a1 + 120) += 15 * v5 / 54;
      *(_DWORD *)(a1 + 128) += (11 * v5 - 80) / 30;
      *(_DWORD *)(a1 + 132) += (8 * v5 - 25) / 15;
      break;
    case 1:
      v20 = CChar::GetHth((_DWORD *)a1);
      if ( a3 )
      {
        *(_DWORD *)(a1 + 84) -= 2 * v20 * v20 / 10 + 115;
        *(_DWORD *)(a1 + 176) -= v20 / 9;
        *(_DWORD *)(a1 + 96) += a4;
        v21 = CChar::GetHth((_DWORD *)a1);
        *(_DWORD *)(a1 + 84) += 2 * v21 * v21 / 10 + 115;
        *(_DWORD *)(a1 + 176) += v21 / 9;
        v19 = CChar::GetMaxHP((CPlayer *)a1);
        if ( a4 < 0 )
        {
          if ( *(_DWORD *)(a1 + 272) >= v19 )
            v12 = v19;
          else
            v12 = *(_DWORD *)(a1 + 272);
          *(_DWORD *)(a1 + 272) = v12;
        }
      }
      else
      {
        *(_DWORD *)(a1 + 84) -= 2 * v20 * v20 / 10 + 115;
        *(_DWORD *)(a1 + 176) -= v20 / 9;
        *(_DWORD *)(a1 + 96) -= a4;
        v22 = CChar::GetHth((_DWORD *)a1);
        *(_DWORD *)(a1 + 84) += 2 * v22 * v22 / 10 + 115;
        *(_DWORD *)(a1 + 176) += v22 / 9;
        v19 = CChar::GetMaxHP((CPlayer *)a1);
        if ( a4 > 0 )
        {
          if ( *(_DWORD *)(a1 + 272) >= v19 )
            v11 = v19;
          else
            v11 = *(_DWORD *)(a1 + 272);
          *(_DWORD *)(a1 + 272) = v11;
        }
      }
      CChar::WriteInSight(a1, 72, "dbd", *(_DWORD *)(a1 + 28), 5, v19);
      break;
    case 2:
      v18 = CChar::GetInt((_DWORD *)a1);
      *(_DWORD *)(a1 + 136) -= (7 * v18 - 20) / 12;
      *(_DWORD *)(a1 + 140) -= 7 * v18 / 12;
      *(_DWORD *)(a1 + 160) -= v18 / 9;
      *(_DWORD *)(a1 + 164) -= v18 / 9;
      *(_DWORD *)(a1 + 168) -= v18 / 9;
      if ( a3 )
        *(_DWORD *)(a1 + 100) += a4;
      else
        *(_DWORD *)(a1 + 100) -= a4;
      v6 = CChar::GetInt((_DWORD *)a1);
      *(_DWORD *)(a1 + 136) += (7 * v6 - 20) / 12;
      *(_DWORD *)(a1 + 140) += 7 * v6 / 12;
      *(_DWORD *)(a1 + 160) += v6 / 9;
      *(_DWORD *)(a1 + 164) += v6 / 9;
      *(_DWORD *)(a1 + 168) += v6 / 9;
      break;
    case 3:
      v15 = CChar::GetWis((_DWORD *)a1);
      if ( a3 )
      {
        *(_DWORD *)(a1 + 88) -= v15 + 2 * v15 * v15 / 10;
        *(_DWORD *)(a1 + 136) -= v15 / 7;
        *(_DWORD *)(a1 + 140) -= 14 * v15 / 45;
        *(_DWORD *)(a1 + 172) -= v15 / 9;
        *(_DWORD *)(a1 + 104) += a4;
        v16 = CChar::GetWis((_DWORD *)a1);
        *(_DWORD *)(a1 + 88) += v16 + 2 * v16 * v16 / 10;
        *(_DWORD *)(a1 + 136) += v16 / 7;
        *(_DWORD *)(a1 + 140) += 14 * v16 / 45;
        *(_DWORD *)(a1 + 172) += v16 / 9;
        v14 = CChar::GetMaxMP((CPlayer *)a1);
        if ( a4 < 0 )
        {
          if ( *(_DWORD *)(a1 + 276) >= v14 )
            v10 = v14;
          else
            v10 = *(_DWORD *)(a1 + 276);
          *(_DWORD *)(a1 + 276) = v10;
        }
      }
      else
      {
        *(_DWORD *)(a1 + 88) -= v15 + 2 * v15 * v15 / 10;
        *(_DWORD *)(a1 + 136) -= v15 / 7;
        *(_DWORD *)(a1 + 140) -= 14 * v15 / 45;
        *(_DWORD *)(a1 + 172) -= v15 / 9;
        *(_DWORD *)(a1 + 104) -= a4;
        v17 = CChar::GetWis((_DWORD *)a1);
        *(_DWORD *)(a1 + 88) += v17 + 2 * v17 * v17 / 10;
        *(_DWORD *)(a1 + 136) += v17 / 7;
        *(_DWORD *)(a1 + 140) += 14 * v17 / 45;
        *(_DWORD *)(a1 + 172) += v17 / 9;
        v14 = CChar::GetMaxMP((CPlayer *)a1);
        if ( a4 > 0 )
        {
          if ( *(_DWORD *)(a1 + 276) >= v14 )
            v9 = v14;
          else
            v9 = *(_DWORD *)(a1 + 276);
          *(_DWORD *)(a1 + 276) = v9;
        }
      }
      CChar::WriteInSight(a1, 72, "dbw", *(_DWORD *)(a1 + 28), 6, v14);
      break;
    case 4:
      v13 = Char::GetDex((_DWORD *)a1);
      *(_DWORD *)(a1 + 120) -= v13 / 8;
      *(_DWORD *)(a1 + 124) -= v13 / 3;
      *(_DWORD *)(a1 + 128) -= (v13 - 5) / 11;
      *(_DWORD *)(a1 + 132) -= 18 * v13 / 77;
      if ( a3 )
        *(_DWORD *)(a1 + 108) += a4;
      else
        *(_DWORD *)(a1 + 108) -= a4;
      v7 = Char::GetDex((_DWORD *)a1);
      *(_DWORD *)(a1 + 120) += v7 / 8;
      *(_DWORD *)(a1 + 124) += v7 / 3;
      *(_DWORD *)(a1 + 128) += (v7 - 5) / 11;
      *(_DWORD *)(a1 + 132) += 18 * v7 / 77;
      break;
    case 15:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 144) += a4;
        v8 = a5 + *(_DWORD *)(a1 + 148);
      }
      else
      {
        *(_DWORD *)(a1 + 144) -= a4;
        v8 = *(_DWORD *)(a1 + 148) - a5;
      }
      *(_DWORD *)(a1 + 148) = v8;
      break;
    default:
      return;
  }
}

//----- (0043BE20) --------------------------------------------------------
int __thiscall CChar::GetStr(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[23] + this[16];
  return v2 + this[47] * v2 / 100;
}

//----- (0043BE60) --------------------------------------------------------
int __thiscall CChar::GetHth(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[24] + this[17];
  return v2 + this[48] * v2 / 100;
}

//----- (0043BEA0) --------------------------------------------------------
int __thiscall CChar::GetInt(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[25] + this[18];
  return v2 + this[49] * v2 / 100;
}

//----- (0043BEE0) --------------------------------------------------------
int __thiscall CChar::GetWis(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[26] + this[19];
  return v2 + this[50] * v2 / 100;
}

//----- (0043BF20) --------------------------------------------------------
int __thiscall Char::GetDex(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h]

  v2 = this[27] + this[20];
  return v2 + this[51] * v2 / 100;
}

//----- (0043BF60) --------------------------------------------------------
void __cdecl CMonsterReal::UpdatePrtyPer(CPlayer *a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // ecx
  int v12; // [esp+0h] [ebp-68h]
  int v13; // [esp+4h] [ebp-64h]
  int v14; // [esp+8h] [ebp-60h]
  int v15; // [esp+Ch] [ebp-5Ch]
  unsigned int v16; // [esp+18h] [ebp-50h]
  unsigned int v17; // [esp+1Ch] [ebp-4Ch]
  DWORD v18; // [esp+20h] [ebp-48h]
  int v19; // [esp+34h] [ebp-34h]
  int v20; // [esp+3Ch] [ebp-2Ch]
  int v21; // [esp+44h] [ebp-24h]
  int v22; // [esp+44h] [ebp-24h]
  int v23; // [esp+44h] [ebp-24h]
  int v24; // [esp+48h] [ebp-20h]
  int v25; // [esp+50h] [ebp-18h]
  int v26; // [esp+54h] [ebp-14h]
  int v27; // [esp+54h] [ebp-14h]
  int v28; // [esp+54h] [ebp-14h]
  int v29; // [esp+5Ch] [ebp-Ch]

  switch ( a2 )
  {
    case 0:
      v29 = CChar::GetStr(a1);
      a1->m_prtyPt.nHit -= 15 * v29 / 54;
      a1->m_prtyPt.nMinAttack -= (11 * v29 - 80) / 30;
      a1->m_prtyPt.nMaxAttack -= (8 * v29 - 25) / 15;
      if ( a3 )
        a1->m_prtyPer.nPer[0] += a4;
      else
        a1->m_prtyPer.nPer[0] -= a4;
      v5 = CChar::GetStr(a1);
      a1->m_prtyPt.nHit += 15 * v5 / 54;
      a1->m_prtyPt.nMinAttack += (11 * v5 - 80) / 30;
      a1->m_prtyPt.nMaxAttack += (8 * v5 - 25) / 15;
      break;
    case 1:
      v26 = CChar::GetHth(a1);
      if ( a3 )
      {
        a1->m_prtyBase.nBase[5] -= 2 * v26 * v26 / 10 + 115;
        a1->m_prtyPt.nResist[4] -= v26 / 9;
        a1->m_prtyPer.nPer[1] += a4;
        v27 = CChar::GetHth(a1);
        a1->m_prtyBase.nBase[5] += 2 * v27 * v27 / 10 + 115;
        a1->m_prtyPt.nResist[4] += v27 / 9;
        v25 = CChar::GetMaxHP(a1);
        if ( a4 < 0 )
        {
          if ( a1->m_nCurHP >= v25 )
            v15 = v25;
          else
            v15 = a1->m_nCurHP;
          a1->m_nCurHP = v15;
        }
      }
      else
      {
        a1->m_prtyBase.nBase[5] -= 2 * v26 * v26 / 10 + 115;
        a1->m_prtyPt.nResist[4] -= v26 / 9;
        a1->m_prtyPer.nPer[1] -= a4;
        v28 = CChar::GetHth(a1);
        a1->m_prtyBase.nBase[5] += 2 * v28 * v28 / 10 + 115;
        a1->m_prtyPt.nResist[4] += v28 / 9;
        v25 = CChar::GetMaxHP(a1);
        if ( a4 > 0 )
        {
          if ( a1->m_nCurHP >= v25 )
            v14 = v25;
          else
            v14 = a1->m_nCurHP;
          a1->m_nCurHP = v14;
        }
      }
      CChar::WriteInSight((int)a1, 72, "dbd", a1->m_nId, 5, v25);
      break;
    case 2:
      v24 = CChar::GetInt(a1);
      a1->m_prtyPt.nMinMagic -= (7 * v24 - 20) / 12;
      a1->m_prtyPt.nMaxMagic -= 7 * v24 / 12;
      a1->m_prtyPt.nResist[0] -= v24 / 9;
      a1->m_prtyPt.nResist[1] -= v24 / 9;
      a1->m_prtyPt.nResist[2] -= v24 / 9;
      if ( a3 )
        a1->m_prtyPer.nPer[2] += a4;
      else
        a1->m_prtyPer.nPer[2] -= a4;
      v6 = CChar::GetInt(a1);
      a1->m_prtyPt.nMinMagic += (7 * v6 - 20) / 12;
      a1->m_prtyPt.nMaxMagic += 7 * v6 / 12;
      a1->m_prtyPt.nResist[0] += v6 / 9;
      a1->m_prtyPt.nResist[1] += v6 / 9;
      a1->m_prtyPt.nResist[2] += v6 / 9;
      break;
    case 3:
      v21 = CChar::GetWis(a1);
      if ( a3 )
      {
        a1->m_prtyBase.nBase[6] -= v21 + 2 * v21 * v21 / 10;
        a1->m_prtyPt.nMinMagic -= v21 / 7;
        a1->m_prtyPt.nMaxMagic -= 14 * v21 / 45;
        a1->m_prtyPt.nResist[3] -= v21 / 9;
        a1->m_prtyPer.nPer[3] += a4;
        v22 = CChar::GetWis(a1);
        a1->m_prtyBase.nBase[6] += v22 + 2 * v22 * v22 / 10;
        a1->m_prtyPt.nMinMagic += v22 / 7;
        a1->m_prtyPt.nMaxMagic += 14 * v22 / 45;
        a1->m_prtyPt.nResist[3] += v22 / 9;
        v20 = CChar::GetMaxMP(a1);
        if ( a4 < 0 )
        {
          if ( a1->m_nCurMP >= v20 )
            v13 = v20;
          else
            v13 = a1->m_nCurMP;
          a1->m_nCurMP = v13;
        }
      }
      else
      {
        a1->m_prtyBase.nBase[6] -= v21 + 2 * v21 * v21 / 10;
        a1->m_prtyPt.nMinMagic -= v21 / 7;
        a1->m_prtyPt.nMaxMagic -= 14 * v21 / 45;
        a1->m_prtyPt.nResist[3] -= v21 / 9;
        a1->m_prtyPt.nPt[3] -= a4;
        v23 = CChar::GetWis(a1);
        a1->m_prtyBase.nBase[6] += v23 + 2 * v23 * v23 / 10;
        a1->m_prtyPt.nMinMagic += v23 / 7;
        a1->m_prtyPt.nMaxMagic += 14 * v23 / 45;
        a1->m_prtyPt.nResist[3] += v23 / 9;
        v20 = CChar::GetMaxMP(a1);
        if ( a4 > 0 )
        {
          if ( a1->m_nCurMP >= v20 )
            v12 = v20;
          else
            v12 = a1->m_nCurMP;
          a1->m_nCurMP = v12;
        }
      }
      CChar::WriteInSight((int)a1, 72, "dbw", a1->m_nId, 6, v20);
      break;
    case 4:
      v19 = Char::GetDex(a1);
      a1->m_prtyPt.nHit -= v19 / 8;
      a1->m_prtyPt.nDodge -= v19 / 3;
      a1->m_prtyPt.nMinAttack -= (v19 - 5) / 11;
      a1->m_prtyPt.nMaxAttack -= 18 * v19 / 77;
      if ( a3 )
        a1->m_prtyPer.nPer[4] += a4;
      else
        a1->m_prtyPer.nPer[4] -= a4;
      v7 = Char::GetDex(a1);
      a1->m_prtyPt.nHit += v7 / 8;
      a1->m_prtyPt.nDodge += v7 / 3;
      a1->m_prtyPt.nMinAttack += (v7 - 5) / 11;
      a1->m_prtyPt.nMaxAttack += 18 * v7 / 77;
      break;
    case 9:
      if ( a3 )
        v9 = a4 + a1->m_prtyPer.nHit;
      else
        v9 = a1->m_prtyPer.nHit - a4;
      a1->m_prtyPer.nHit = v9;
      break;
    case 15:
      if ( a3 )
      {
        a1->m_prtyPer.nDefense[0] += a4;
        v8 = a5 + a1->m_prtyPer.nDefense[1];
      }
      else
      {
        a1->m_prtyPer.nDefense[0] -= a4;
        v8 = a1->m_prtyPer.nDefense[1] - a5;
      }
      a1->m_prtyPer.nDefense[1] = v8;
      break;
    case 17:
      if ( a3 )
        v11 = a4 + a1->m_prtyPer.nASpeed;
      else
        v11 = a1->m_prtyPer.nASpeed - a4;
      a1->m_prtyPer.nASpeed = v11;
      break;
    case 32:
      if ( a3 )
        v10 = a4 + a1->m_prtyPer.nMSpeed;
      else
        v10 = a1->m_prtyPer.nMSpeed - a4;
      a1->m_prtyPer.nMSpeed = v10;
      if ( !a1->m_prtyPer.nMSpeed )
      {
        v18 = GetTickCount();
        v17 = a1->GetMSpeed(a1, 1);
        v16 = a1->m_nFace - v18;
        if ( v16 )
        {
          if ( v16 < v17 )
            a1->m_nFace -= v16 * v17 / v17;
        }
      }
      CChar::WriteInSight((int)a1, 72, "dbw", a1->m_nId, 32, a1->m_prtyPer.nMSpeed);
      break;
    default:
      return;
  }
}

//----- (0043CE00) --------------------------------------------------------
void __thiscall CPlayer::AddMState(_DWORD *this, int a2, int a3)
{
  CChar::AddMState(this, a2, a3);
  CChar::WriteInSight((int)this, 71, "dI", this[7], this[72], this[73]);
}

//----- (0043CE50) --------------------------------------------------------
void __thiscall sub_43CE50(_DWORD *this, int a2, int a3)
{
  CChar::SubMState(this, a2, a3);
  CChar::WriteInSight((int)this, 71, "dI", this[7], this[72], this[73]);
}

//----- (0043CEA0) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __thiscall CMonsterReal::SetProperty(CPlayer *pChar, int *a2)
{
  CChar *v2; // [esp-8h] [ebp-Ch]
  unsigned int v3; // [esp-4h] [ebp-8h]
  int savedregs; // [esp+4h] [ebp+0h]

  CMonster::SetProperty((int)pChar, (int)a2);
  memcpy(&pChar->m_prtyBase, a2 + 34, sizeof(pChar->m_prtyBase));
  memcpy(&pChar->m_prtyPt, a2 + 41, sizeof(pChar->m_prtyPt));
  pChar->m_nRange = a2[30];
  memcpy(&pChar->m_nPUPoint, a2 + 31, 8u);
  pChar->ReviseProperty(pChar);
  CFindPath::Init(&pChar->m_nWMaxAttack, (int)pChar, (int)pChar->m_pMap, pChar->m_nRange * pChar->m_nRange);
  CMagic::ApplyPrtyIce((CMagic *)&pChar->m_nGuildLevel, pChar, v2, v3, (int)pChar, savedregs);
}
// 43CF5E: positive sp value 8 has been found
// 43CF59: variable 'v2' is possibly undefined
// 43CF59: variable 'v3' is possibly undefined
// 43CF59: variable 'savedregs' is possibly undefined

//----- (0043CF70) --------------------------------------------------------
int __thiscall CFindPath::Init(_DWORD *this, int a2, int a3, int a4)
{
  int result; // eax

  *this = a2;
  result = a3;
  this[1] = a3;
  this[9] = a4;
  return result;
}

//----- (0043CFA0) --------------------------------------------------------
void __thiscall CMonsterReal::Add(_DWORD *this, volatile int *a2)
{
  CMonster::Add((int)this, (int)a2);
  InterlockedIncrement(&dword_4E1810);
  if ( a2 )
  {
    sub_4010D0((int)a2);
    this[121] = a2;
  }
}

//----- (0043CFE0) --------------------------------------------------------
void __thiscall CMonsterReal::Remove(_DWORD *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v4[4]; // [esp+4h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-4h] BYREF

  CMonster::Remove(this);
  InterlockedDecrement(&dword_4E1810);
  CRWLock::ReadLock(&unk_4E187C);
  sub_44AE20(dword_4E1870, &v5, this + 111);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1870, (int)v4);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v5,
         v1) )
  {
    v2 = sub_420250(&v5);
    InterlockedDecrement((volatile LONG *)(*(_DWORD *)(v2 + 4) + 48));
  }
  CRWLock::ReadUnlock(&unk_4E187C);
}
// 4E1870: using guessed type int dword_4E1870[3];

//----- (0043D060) --------------------------------------------------------
void __thiscall CMonsterReal::AI(int *this)
{
  if ( !CMonster::IsRemoved(this) && !sub_40B310(this, 1) )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( this[116] && !CChar::IsNormal(this[116]) )
    {
      (*(void (__thiscall **)(int *, int))(*this + 132))(this, this[116]);
      (*(void (__thiscall **)(int *, _DWORD))(*this + 188))(this, 0);
    }
    switch ( this[120] )
    {
      case 1:
      case 2:
      case 3:
      case 7:
        (*(void (__thiscall **)(int *))(*this + 248))(this);
        break;
      case 4:
        (*(void (__thiscall **)(int *))(*this + 244))(this);
        break;
      default:
        break;
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}

//----- (0043D140) --------------------------------------------------------
void __thiscall CMonsterReal::Tick(int this)
{
  int v2; // [esp+4h] [ebp-8h]
  DWORD v3; // [esp+8h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v3 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 1) && v3 >= *(_DWORD *)(this + 468) )
    {
      CChar::WriteInSight(this, 61, "db", *(_DWORD *)(this + 28), 9);
      sub_412EB0((CIOCriticalSection *)this);
      CBase::Delete((CItem *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v3 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}

//----- (0043D210) --------------------------------------------------------
void __thiscall CMonsterReal::AddHostility(void *this, int a2, int a3, signed int a4)
{
  int v4; // eax
  const std::pair<int const ,CGame_Character::TargetInfo> *v5; // eax
  CIOCriticalSection *v6; // [esp+0h] [ebp-34h]
  CIOCriticalSection *v7; // [esp+0h] [ebp-34h]
  signed int v8; // [esp+4h] [ebp-30h]
  char v10[8]; // [esp+14h] [ebp-20h] BYREF
  char v11[4]; // [esp+1Ch] [ebp-18h] BYREF
  char v12[8]; // [esp+20h] [ebp-14h] BYREF
  int *v13; // [esp+28h] [ebp-Ch] BYREF
  int v14; // [esp+2Ch] [ebp-8h]
  char v15[4]; // [esp+30h] [ebp-4h] BYREF

  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) )
  {
    v13 = (int *)a2;
    if ( CChar::IsMState((_QWORD *)a2, 0x4000i64) )
      a4 += v13[67];
    if ( a4 )
    {
      if ( a4 <= -100 )
        v8 = -100;
      else
        v8 = a4;
      a3 += v8 * a3 / 100;
    }
    CIOCriticalSection::Enter(v6);
    *((_DWORD *)this + 151) += a3;
    sub_446130((_DWORD *)this + 140, v15, (int)&v13);
    v4 = sub_430C20((_DWORD *)this + 140, (int)v11);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      sub_4010D0((int)v13);
      std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v10);
      sub_48D6D0(
        (int *)this + 140,
        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v12,
        v5);
      if ( !v12[4] )
        sub_401DE0(v13);
      v14 = a3;
    }
    else
    {
      v7 = (CIOCriticalSection *)(sub_420250(v15) + 4);
      v7->m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)((char *)v7->m_critical_section.DebugInfo + a3);
      v14 = *(_DWORD *)(sub_420250(v15) + 4);
    }
    CIOCriticalSection::Leave(v7);
    if ( *((_DWORD *)this + 116) )
    {
      if ( *((_DWORD *)this + 116) == a2 )
      {
        *((_DWORD *)this + 152) = v14;
      }
      else if ( *((_DWORD *)this + 152) < v14 )
      {
        CIOObject::AddRef((CIOObject *)a2, (volatile int *)(a2 + 356));
        (*(void (__thiscall **)(void *, int))(*(_DWORD *)this + 188))(this, a2);
        *((_DWORD *)this + 152) = v14;
      }
    }
    else
    {
      CIOObject::AddRef((CIOObject *)a2, (volatile int *)(a2 + 356));
      (*(void (__thiscall **)(void *, int))(*(_DWORD *)this + 188))(this, a2);
      *((_DWORD *)this + 152) = v14;
    }
  }
}
// 43D298: variable 'v6' is possibly undefined
// 43D310: variable 'v5' is possibly undefined
// 43D35F: variable 'v7' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0043D410) --------------------------------------------------------
void __thiscall CMonsterReal::RemoveHostility(CIOCriticalSection *this, volatile int *a2)
{
  int v2; // [esp+0h] [ebp-8h]
  int *v3; // [esp+4h] [ebp-4h] BYREF

  v3 = (int *)a2;
  CIOCriticalSection::Enter(this);
  if ( sub_445CD0(
         (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(v2 + 560),
         (const int *)&v3) )
  {
    if ( v3 == *(int **)(v2 + 464) )
      *(_DWORD *)(v2 + 608) = 0;
    sub_401DE0(v3);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v2);
}
// 43D434: variable 'v2' is possibly undefined

//----- (0043D480) --------------------------------------------------------
int __thiscall CMonsterReal::GetMSpeed(int *this, int a2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+8h] [ebp-4h]

  v4 = *(_DWORD *)(this[110] + 4 * a2 + 260);
  if ( !this[65] )
    return *(_DWORD *)(this[110] + 4 * a2 + 260);
  if ( this[65] <= 0 )
    v3 = v4 * (abs(this[65]) + 100) / 100;
  else
    v3 = 100 * v4 / (this[65] + 100);
  return v3;
}

//----- (0043D510) --------------------------------------------------------
void __fastcall CMonsterReal::Attack(int a1, int a2)
{
  int v2; // [esp-14h] [ebp-6Ch]
  int v3; // [esp-10h] [ebp-68h]
  int v4; // [esp-Ch] [ebp-64h]
  int v5; // [esp-8h] [ebp-60h]
  int v6; // [esp-4h] [ebp-5Ch]
  int a3; // [esp+0h] [ebp-58h]
  int v9; // [esp+30h] [ebp-28h] BYREF
  int v10; // [esp+34h] [ebp-24h] BYREF
  CIOObject *v11; // [esp+38h] [ebp-20h]
  int v12; // [esp+3Ch] [ebp-1Ch] BYREF
  int v13; // [esp+40h] [ebp-18h]
  int v14; // [esp+44h] [ebp-14h]
  __int64 v15; // [esp+48h] [ebp-10h]
  DWORD v16; // [esp+54h] [ebp-4h]

  if ( !CChar::IsMState((_QWORD *)a1, 268435712i64) )
  {
    v16 = GetTickCount();
    if ( v16 >= *(_DWORD *)(a1 + 468) )
    {
      v15 = sub_43D870((_DWORD *)(a1 + 332), (_DWORD *)(*(_DWORD *)(a1 + 464) + 332));
      if ( *(_DWORD *)(a1 + 316) == *(_DWORD *)(*(_DWORD *)(a1 + 464) + 316)
        && v15 <= *(_DWORD *)(a1 + 548) * *(_DWORD *)(a1 + 548) )
      {
        if ( v15 <= *(_DWORD *)(a1 + 312) * *(_DWORD *)(a1 + 312) )
        {
          if ( *(_DWORD *)(a1 + 464) == *(_DWORD *)(a1 + 484) )
          {
            (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 132))(a1, *(_DWORD *)(a1 + 464));
            (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 188))(a1, 0);
            *(_DWORD *)(a1 + 480) = 1;
          }
          else
          {
            *(_DWORD *)(a1 + 468) = v16 + CChar::GetASpeed((CPlayer *)a1);
            *(_DWORD *)(a1 + 556) = *(_DWORD *)(a1 + 468);
            CChar::SetDirection(
              (_DWORD *)a1,
              *(_DWORD *)(*(_DWORD *)(a1 + 464) + 332) - *(_DWORD *)(a1 + 332),
              *(_DWORD *)(*(_DWORD *)(a1 + 464) + 336) - *(_DWORD *)(a1 + 336));
            v12 = 0;
            v9 = 0;
            v14 = 0;
            v13 = 0;
            v11 = *(CIOObject **)(a1 + 464);
            CIOObject::AddRef(v11, (volatile int *)&v11[22]);
            v10 = (*(int (__thiscall **)(int, CIOObject *))(*(_DWORD *)a1 + 168))(a1, v11);
            v13 = ((int (__thiscall *)(CIOObject *, int))v11->__vftable[6].OnFree)(v11, a1);
            if ( !v13 && ((int (__thiscall *)(CIOObject *))v11->__vftable[2].OnTimerCallback)(v11) )
            {
              a3 = CChar::IsBState(v11, 0x8000i64) ? -5 : 0;
              if ( CChar::CheckHit(a1, v11, a3) )
              {
                sub_412EB0((CIOCriticalSection *)a1);
                v2 = CChar::GetAttack((CPlayer *)a1);
                v14 = ((int (__thiscall *)(CIOObject *, int, int, int *, int *, int *, _DWORD))v11->__vftable[3].~CIOObject)(
                        v11,
                        a1,
                        v2,
                        &v12,
                        &v9,
                        &v10,
                        0);
                sub_412E90((CIOCriticalSection *)a1);
              }
            }
            if ( !v14 )
              v11->__vftable[3].OnTimer(v11, a1);
            v6 = v14 | (2 * v9) | (4 * v13);
            v5 = v10;
            v4 = v12;
            v3 = std::_Mpunct<wchar_t>::do_frac_digits(v11);
            CChar::WriteInSight(a1, 62, "ddwwb", *(_DWORD *)(a1 + 28), v3, v4, v5, v6);
            CIOObject::Release(v11, (volatile int *)&v11[22]);
          }
        }
        else if ( !CChar::IsMState((_QWORD *)a1, 512i64) )
        {
          *(_DWORD *)(a1 + 652) = 1;
          *(_DWORD *)(a1 + 480) = 2;
        }
      }
      else
      {
        (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 132))(a1, *(_DWORD *)(a1 + 464));
        (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 188))(a1, 0);
      }
    }
  }
}

//----- (0043D870) --------------------------------------------------------
__int64 __cdecl sub_43D870(_DWORD *a1, _DWORD *a2)
{
  __int64 v3; // [esp-10h] [ebp-28h]

  v3 = a1[1] - a2[1];
  return v3 * v3 + (*a1 - *a2) * (__int64)(*a1 - *a2);
}

//----- (0043D8E0) --------------------------------------------------------
int __thiscall CChar::GetASpeed(CPlayer *this)
{
  int v2; // [esp+0h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-4h]

  v3 = *((_DWORD *)this + 39);
  if ( !v3 )
    return 0x7FFFFFFF;
  if ( !*((_DWORD *)this + 63) )
    return *((_DWORD *)this + 39);
  if ( *((int *)this + 63) <= 0 )
    v2 = v3 * (abs(*((_DWORD *)this + 63)) + 100) / 100;
  else
    v2 = 100 * v3 / (*((_DWORD *)this + 63) + 100);
  return v2;
}

//----- (0043D970) --------------------------------------------------------
int __thiscall CChar::GetAttack(CPlayer *this)
{
  int v1; // eax
  int v3; // [esp-4h] [ebp-Ch]

  v3 = CChar::GetMaxAttack(this);
  v1 = CChar::GetMinAttack(this);
  return RandomBetween(v1, v3);
}

//----- (0043D9A0) --------------------------------------------------------
int __thiscall CChar::GetMinAttack(_DWORD *this)
{
  return this[32] + this[56] * this[32] / 100;
}

//----- (0043D9D0) --------------------------------------------------------
int __thiscall CChar::GetMaxAttack(_DWORD *this)
{
  return this[33] + this[57] * this[33] / 100;
}

//----- (0043DA00) --------------------------------------------------------
BOOL __thiscall CChar::CheckHit(int this, _DWORD *a2, int a3)
{
  int v4; // esi
  int v5; // [esp+4h] [ebp-30h]
  int v6; // [esp+18h] [ebp-1Ch]
  int v8; // [esp+28h] [ebp-Ch]
  int v9; // [esp+2Ch] [ebp-8h]

  if ( CChar::IsMState((_QWORD *)this, 0x2000000i64) )
    return 1;
  v9 = *(_DWORD *)(this + 60) - a2[15];
  if ( v9 < 0 )
    v6 = -dword_4D8130[abs(v9)];
  else
    v6 = dword_4D8130[v9];
  v4 = CChar::GetHit((_DWORD *)this);
  v8 = a3 + v6 + v4 - CChar::GetDodge(a2);
  if ( (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2) )
  {
    if ( CChar::IsBState((_QWORD *)this, 0x4000i64) )
    {
      v8 += 10;
    }
    else if ( CChar::IsBState((_QWORD *)this, 0x20000000i64) )
    {
      v8 += 5;
    }
  }
  if ( v8 <= 41 )
  {
    if ( v8 < -41 )
      v8 = -41;
  }
  else
  {
    v8 = 41;
  }
  if ( v8 < 0 )
    v5 = 100 - dword_4D82C8[abs(v8)];
  else
    v5 = dword_4D82C8[v8];
  return v5 >= RandomBetween(1, 100);
}

//----- (0043DB60) --------------------------------------------------------
int __thiscall CChar::GetHit(_DWORD *this)
{
  return this[30] + this[54] * this[30] / 100;
}

//----- (0043DB90) --------------------------------------------------------
int __thiscall CChar::GetDodge(_DWORD *this)
{
  return this[31] + this[55] * this[31] / 100;
}

//----- (0043DBC0) --------------------------------------------------------
signed int __thiscall CMonsterReal::Move(signed int this)
{
  signed int result; // eax
  unsigned int v2; // [esp+8h] [ebp-64h]
  int v3; // [esp+18h] [ebp-54h]
  int v4; // [esp+1Ch] [ebp-50h]
  __int64 v5; // [esp+20h] [ebp-4Ch]
  int v7[2]; // [esp+2Ch] [ebp-40h] BYREF
  __int64 v8; // [esp+34h] [ebp-38h]
  unsigned int v9; // [esp+40h] [ebp-2Ch] BYREF
  int a6[2]; // [esp+44h] [ebp-28h] BYREF
  __int64 v11; // [esp+4Ch] [ebp-20h]
  unsigned int a3; // [esp+58h] [ebp-14h] BYREF
  int v13; // [esp+5Ch] [ebp-10h]
  int a2[2]; // [esp+60h] [ebp-Ch] BYREF
  unsigned int v15; // [esp+68h] [ebp-4h]

  v5 = CChar::IsMState((_QWORD *)this, 268436224i64);
  result = HIDWORD(v5) | v5;
  if ( !v5 )
  {
    result = GetTickCount();
    v15 = result;
    v4 = *(_DWORD *)(this + 480);
    switch ( v4 )
    {
      case 1:
        result = this;
        if ( v15 >= *(_DWORD *)(this + 556) )
        {
          if ( CMonsterReal::GetRandomPt((void *)this, a2)
            && (++*(_DWORD *)(this + 552),
                *(_DWORD *)(this + 656) = (*(_DWORD *)(this + 552) & 3) == 0,
                sub_4925C0(*(char **)(this + 320), (CPlayer *)this, a2[0], a2[1], *(_DWORD *)(this + 656), 0)) )
          {
            if ( *(_DWORD *)(this + 656) )
              v3 = 20000;
            else
              v3 = (*(int (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 152))(this, 0);
            *(_DWORD *)(this + 556) = v3 + v15;
            result = this;
            if ( *(_DWORD *)(this + 656) )
            {
              if ( *(_DWORD *)(this + 476) )
              {
                result = CMonsterReal::ScanSight((int *)this);
                v13 = result;
                if ( result )
                {
                  *(_DWORD *)(this + 656) = 0;
                  result = (*(int (__thiscall **)(signed int, int))(*(_DWORD *)this + 188))(this, v13);
                }
              }
            }
          }
          else
          {
            *(_DWORD *)(this + 656) = 0;
            result = this;
            --*(_DWORD *)(this + 552);
          }
        }
        break;
      case 2:
        if ( !dword_4E1A64 )
        {
          result = v15;
          dword_4E1A64 = v15;
        }
        if ( v15 >= *(_DWORD *)(this + 556) )
        {
          v11 = sub_43D870((_DWORD *)(this + 332), (_DWORD *)(*(_DWORD *)(this + 464) + 332));
          if ( *(_DWORD *)(this + 316) == *(_DWORD *)(*(_DWORD *)(this + 464) + 316)
            && v11 <= *(_DWORD *)(this + 548) * *(_DWORD *)(this + 548) )
          {
            result = *(_DWORD *)(this + 312) * *(_DWORD *)(this + 312);
            v2 = result;
            if ( SHIDWORD(v11) > result >> 31 || SHIDWORD(v11) >= result >> 31 && (result = v11, (unsigned int)v11 > v2) )
            {
              a3 = (*(int (__thiscall **)(signed int, int))(*(_DWORD *)this + 152))(this, 1);
              if ( CMonsterReal::GetChasePt(this, a6, &a3)
                && sub_4925C0(*(char **)(this + 320), (CPlayer *)this, a6[0], a6[1], 0, 1) )
              {
                *(_DWORD *)(this + 556) = a3 + v15;
                result = this;
                *(_DWORD *)(this + 468) = *(_DWORD *)(this + 556);
              }
              else
              {
                sub_4925C0(*(char **)(this + 320), (CPlayer *)this, 0, 0, 1, 0);
                (*(void (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 132))(this, *(_DWORD *)(this + 464));
                result = (*(int (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 188))(this, 0);
              }
            }
            else
            {
              *(_DWORD *)(this + 480) = 4;
              dword_4E1A64 = 0;
            }
          }
          else
          {
            (*(void (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 132))(this, *(_DWORD *)(this + 464));
            result = (*(int (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 188))(this, 0);
            dword_4E1A64 = 0;
          }
        }
        break;
      case 7:
        if ( *(_DWORD *)(this + 512) == 290 )
        {
          if ( v15 >= *(_DWORD *)(this + 556) )
          {
            v8 = sub_43D870((_DWORD *)(this + 332), (_DWORD *)(*(_DWORD *)(this + 484) + 332));
            if ( v8 > *(_DWORD *)(this + 312) * *(_DWORD *)(this + 312) )
            {
              (*(void (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 188))(this, *(_DWORD *)(this + 484));
              v9 = (*(int (__thiscall **)(signed int, int))(*(_DWORD *)this + 152))(this, 1);
              if ( !CMonsterReal::GetChasePt(this, v7, &v9)
                || (result = sub_4925C0(*(char **)(this + 320), (CPlayer *)this, v7[0], v7[1], 0, 1)) == 0 )
              {
                (*(void (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 132))(this, *(_DWORD *)(this + 464));
                (*(void (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 188))(this, 0);
                result = this;
                *(_DWORD *)(this + 480) = 1;
              }
            }
            else
            {
              (*(void (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 132))(this, *(_DWORD *)(this + 464));
              (*(void (__thiscall **)(signed int, _DWORD))(*(_DWORD *)this + 188))(this, 0);
              result = this;
              *(_DWORD *)(this + 480) = 1;
            }
          }
        }
        else
        {
          result = this;
          *(_DWORD *)(this + 480) = 1;
        }
        break;
    }
  }
  return result;
}
// 4E1A64: using guessed type int dword_4E1A64;

//----- (0043E070) --------------------------------------------------------
int __thiscall CMonsterReal::GetRandomPt(void *this, int *a2)
{
  int v2; // ecx
  int result; // eax
  int v4; // [esp+0h] [ebp-24h]
  int v5; // [esp+4h] [ebp-20h]
  int v6; // [esp+8h] [ebp-1Ch]
  int v8; // [esp+10h] [ebp-14h]
  int v9; // [esp+18h] [ebp-Ch]
  int v10; // [esp+1Ch] [ebp-8h]
  int v11; // [esp+20h] [ebp-4h]

  v10 = RandomBetween(0, 64) - 32;
  v11 = RandomBetween(0, 64) - 32;
  if ( !v10 && !v11 )
    goto LABEL_17;
  v8 = abs(v10);
  v9 = abs(v11);
  v6 = v8 < v9 ? 32 * v8 / v9 : 32 * v9 / v8;
  if ( v8 >= v9 )
  {
    v2 = dword_4D6E64[2 * v6];
    *a2 = dword_4D6E60[2 * v6];
    a2[1] = v2;
  }
  else
  {
    *a2 = dword_4D6E64[2 * v6];
    a2[1] = dword_4D6E60[2 * v6];
  }
  v5 = v10 < 0 ? -*a2 : *a2;
  *a2 = v5;
  v4 = v11 < 0 ? -a2[1] : a2[1];
  a2[1] = v4;
  if ( CSMap::IsMoveTile(*((_DWORD **)this + 80), (int)this, (int)this + 332, *a2, a2[1], 0x20000) )
    result = 1;
  else
LABEL_17:
    result = 0;
  return result;
}
// 4D6E60: using guessed type int dword_4D6E60[];

//----- (0043E1C0) --------------------------------------------------------
int __thiscall CSMap::IsMoveTile(_DWORD *this, int a2, int a3, int Number, int a5, int a6)
{
  CCellMap *v7; // eax
  int v8; // [esp-4h] [ebp-38h]
  int v9; // [esp+0h] [ebp-34h]
  int v10; // [esp+4h] [ebp-30h]
  int v11; // [esp+8h] [ebp-2Ch]
  int v13; // [esp+10h] [ebp-24h] BYREF
  int v14; // [esp+14h] [ebp-20h]
  int i; // [esp+18h] [ebp-1Ch]
  int v16; // [esp+1Ch] [ebp-18h]
  int v17; // [esp+20h] [ebp-14h]
  int v18; // [esp+24h] [ebp-10h]
  int v19; // [esp+28h] [ebp-Ch]
  BOOL v20; // [esp+2Ch] [ebp-8h]
  int v21; // [esp+30h] [ebp-4h]

  v16 = abs(Number);
  v21 = abs(a5);
  if ( v16 < v21 )
    v11 = v21;
  else
    v11 = v16;
  v19 = v11;
  v20 = 1;
  for ( i = 8; v20 && i <= 32; i += 8 )
  {
    v20 = i < v19;
    if ( i >= v19 )
      v10 = Number;
    else
      v10 = Number * i / v19;
    v17 = v10 + *(_DWORD *)a3;
    if ( v20 )
      v9 = a5 * i / v19;
    else
      v9 = a5;
    v18 = v9 + *(_DWORD *)(a3 + 4);
    v13 = v17 >> 5;
    v14 = v18 >> 5;
    if ( v17 >> 5 < 0 || v13 >> 8 >= 64 || v14 < 0 || v14 >> 8 >= 64 )
      return 0;
    v8 = ((v17 >> 3) & 3) + 4 * ((v18 >> 3) & 3);
    v7 = (CCellMap *)CSMap::_GetCellMap(this, &v13);
    if ( !CellMap::IsMoveTile(v7, a2, (int)&v13, a6, v8) )
      return 0;
  }
  return 1;
}

//----- (0043E320) --------------------------------------------------------
int __thiscall CellMap::IsMoveTile(CCellMap *a1, int a2, int a3, int a4, int a5)
{
  int v6; // eax
  CRWLock *v8; // [esp+4h] [ebp-14h]
  _DWORD a2a[2]; // [esp+8h] [ebp-10h] BYREF
  _DWORD *v10; // [esp+10h] [ebp-8h]
  char v11[4]; // [esp+14h] [ebp-4h]

  if ( !a1 )
    return 0;
  a2a[0] = (unsigned __int8)*(_DWORD *)a3;
  a2a[1] = (unsigned __int8)*(_DWORD *)(a3 + 4);
  v10 = (_DWORD *)CCellMap::GetTile(a1, a2a);
  if ( (v10[1] & (a4 | (1 << a5))) != 0 )
    return 0;
  v8 = (CRWLock *)CCellMap::GetLock(a1, a2a);
  CRWLock::ReadLock(v8);
  for ( *(_DWORD *)v11 = *v10; *(_DWORD *)v11; *(_DWORD *)v11 = unknown_libname_9(*(_DWORD *)v11) )
  {
    if ( *(_DWORD *)(*(_DWORD *)v11 + 16) == -6 )
    {
      *v10 = 0;
      ELOG("CSellMap::IsMoveTile %p %p\n", v11[0]);
      EBREAK(v6);
      return 0;
    }
    if ( a2 != *(_DWORD *)v11 && (*(int (__thiscall **)(_DWORD, int))(**(_DWORD **)v11 + 56))(*(_DWORD *)v11, a5) )
    {
      CRWLock::ReadUnlock(v8);
      return 0;
    }
  }
  CRWLock::ReadUnlock(v8);
  return 1;
}
// 43E3D8: variable 'v6' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (0043E440) --------------------------------------------------------
int __thiscall CCellMap::GetLock(_DWORD *this, int *a2)
{
  return this[3] + 24 * (16 * (a2[1] >> 4) + (*a2 >> 4));
}

//----- (0043E470) --------------------------------------------------------
int __thiscall CMonsterReal::GetChasePt(int this, int *a2, unsigned int *a3)
{
  int v3; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  int v7; // [esp+4h] [ebp-34h]
  int v8; // [esp+8h] [ebp-30h]
  int v9; // [esp+Ch] [ebp-2Ch]
  int v11; // [esp+1Ch] [ebp-1Ch]
  int v12; // [esp+20h] [ebp-18h]
  unsigned int v13; // [esp+24h] [ebp-14h]
  int v14; // [esp+28h] [ebp-10h]
  int v15; // [esp+30h] [ebp-8h]
  int v16; // [esp+34h] [ebp-4h]

  if ( *(_DWORD *)(this + 652) )
  {
    CFindPath::FreeNode((_DWORD *)(this + 612));
    *(_DWORD *)(this + 652) = 0;
  }
  if ( !sub_43E840((_DWORD *)(this + 612)) )
  {
    if ( CFindPath::SetNextPath((_DWORD *)(this + 612)) )
    {
      v6 = (_DWORD *)sub_43E860((_DWORD *)(this + 612));
      *a2 = *v6 - *(_DWORD *)(this + 332);
      a2[1] = v6[1] - *(_DWORD *)(this + 336);
      if ( *a2 && a2[1] )
        *a3 = 14 * *a3 / 0xA;
      return 1;
    }
    CFindPath::FreeNode((_DWORD *)(this + 612));
  }
  v13 = *a3;
  v14 = *(_DWORD *)(this + 312) + 32;
  v11 = *(_DWORD *)(*(_DWORD *)(this + 464) + 332) - *(_DWORD *)(this + 332);
  v12 = abs(v11);
  v15 = *(_DWORD *)(*(_DWORD *)(this + 464) + 336) - *(_DWORD *)(this + 336);
  v16 = abs(v15);
  if ( v12 < v16 )
    v9 = 32 * v12 / v16;
  else
    v9 = 32 * v16 / v12;
  if ( v15 * v15 + v11 * v11 <= v14 * v14 )
  {
    if ( v12 >= v16 )
    {
      *a2 = v12 - *(_DWORD *)(this + 312) * dword_4D6E60[2 * v9] / 32;
      a2[1] = v16 - *(_DWORD *)(this + 312) * dword_4D6E64[2 * v9] / 32;
      *a3 = *a2 * v13 / dword_4D6E60[2 * v9];
    }
    else
    {
      *a2 = v12 - *(_DWORD *)(this + 312) * dword_4D6E64[2 * v9] / 32;
      a2[1] = v16 - *(_DWORD *)(this + 312) * dword_4D6E60[2 * v9] / 32;
      *a3 = a2[1] * v13 / dword_4D6E60[2 * v9];
    }
  }
  else if ( v12 >= v16 )
  {
    v3 = dword_4D6E64[2 * v9];
    *a2 = dword_4D6E60[2 * v9];
    a2[1] = v3;
  }
  else
  {
    *a2 = dword_4D6E64[2 * v9];
    a2[1] = dword_4D6E60[2 * v9];
  }
  if ( v11 < 0 )
    v8 = -*a2;
  else
    v8 = *a2;
  *a2 = v8;
  if ( v15 < 0 )
    v7 = -a2[1];
  else
    v7 = a2[1];
  a2[1] = v7;
  if ( !CSMap::IsMoveTile(*(_DWORD **)(this + 320), this, this + 332, *a2, a2[1], 0x20000) )
  {
    if ( !CFindPath::FindPath((void *)(this + 612), this + 332, *(_DWORD *)(this + 464) + 332) )
      return 0;
    v5 = (_DWORD *)sub_43E860((_DWORD *)(this + 612));
    *a2 = *v5 - *(_DWORD *)(this + 332);
    a2[1] = v5[1] - *(_DWORD *)(this + 336);
    if ( *a2 )
    {
      if ( a2[1] )
        *a3 = 14 * v13 / 0xA;
    }
  }
  return 1;
}
// 4D6E60: using guessed type int dword_4D6E60[];

//----- (0043E840) --------------------------------------------------------
BOOL __thiscall sub_43E840(_DWORD *this)
{
  return this[4] == (_DWORD)&dword_4E0908;
}

//----- (0043E860) --------------------------------------------------------
int __thiscall sub_43E860(_DWORD *this)
{
  return this[4] + 20;
}

//----- (0043E880) --------------------------------------------------------
int __thiscall CFindPath::SetNextPath(_DWORD *this)
{
  this[4] = *(_DWORD *)this[4];
  if ( this[4] )
    return 1;
  this[4] = &dword_4E0908;
  return 0;
}

//----- (0043E8C0) --------------------------------------------------------
int __thiscall CMonsterReal::ScanSight(int *this)
{
  return sub_493650((void *)this[80], (int)(this + 81), this[136] >> 5);
}

//----- (0043E8F0) --------------------------------------------------------
void __thiscall CMonsterReal::ManageBuff(_DWORD *this)
{
  if ( CChar::IsMState(this, 512i64) )
    CChar::CancelBuff(this, 8);
  if ( CChar::IsMState(this, 0x10000000i64) )
    CChar::CancelBuff(this, 26);
}

//----- (0043E950) --------------------------------------------------------
int __thiscall CMonsterReal::ApplyDamage(int this, int a2, int a3, int a4, int *a5, int a6, int *a7, int a8)
{
  int result; // eax
  int v9; // [esp+0h] [ebp-1Ch]
  int v10; // [esp+4h] [ebp-18h]
  int v11; // [esp+10h] [ebp-Ch]

  if ( CChar::IsNormal(this) )
  {
    if ( a8 )
      v11 = (*(int (__thiscall **)(int))(*(_DWORD *)a8 + 28))(a8);
    else
      v11 = 0;
    if ( CChar::IsMState((_QWORD *)this, 0x1000000i64) )
      *a5 = a3;
    else
      *a5 = a4 + CChar::GetFatalDamage(a2, a4, (_DWORD *)a6, v11);
    if ( *a5 >= *(_DWORD *)(this + 272) )
      v10 = *(_DWORD *)(this + 272);
    else
      v10 = *a5;
    *a5 = v10;
    *(_DWORD *)(this + 272) -= *a5;
    if ( *a7 )
    {
      if ( *(int *)(this + 272) <= 0 )
      {
        *a7 = 0;
      }
      else
      {
        if ( *a7 >= *(_DWORD *)(this + 272) )
          v9 = *(_DWORD *)(this + 272);
        else
          v9 = *a7;
        *a7 = v9;
        *(_DWORD *)(this + 272) -= *a7;
      }
    }
    CMonsterReal::AfterDamage((_DWORD *)this, (_DWORD *)a2, a4, *a7 + *a5);
    result = 1;
  }
  else
  {
    *a7 = 0;
    *a5 = 0;
    result = 0;
  }
  return result;
}

//----- (0043EAC0) --------------------------------------------------------
int __thiscall CChar::GetFatalDamage(int this, int a2, _DWORD *a3, int a4)
{
  int v4; // esi

  v4 = a4 + *(_DWORD *)(this + 256);
  if ( v4 < RandomBetween(1, 100) && !CChar::IsMState((_QWORD *)this, 0x8000000i64) )
    return 0;
  *a3 = 1;
  return a2 * (2 * *(_DWORD *)(this + 180) + 50) / 100;
}

//----- (0043EB40) --------------------------------------------------------
int __thiscall CMonsterReal::AfterDamage(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  __int64 v4; // rax

  CChar::SetReverseDirection(this, a2[87]);
  this[118] = GetTickCount() + 20000;
  this[164] = 0;
  if ( !sub_40B310(a2, 512) && sub_44FD40(this[15], a2[15]) >= 3 )
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 88))(a2, 35, 1, a4 / 10);
  v4 = CChar::IsBState(a2, 0x20000i64);
  if ( v4 )
  {
    LODWORD(v4) = RandomBetween(1, 100);
    if ( (int)v4 <= 10 )
    {
      CChar::UpdateBuff(a2, 59);
      LODWORD(v4) = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 88))(a2, 7, 1, a3);
    }
  }
  return v4;
}

//----- (0043EC20) --------------------------------------------------------
void __thiscall CMonsterReal::AllotTransformExp(void *this, int a2, int a3)
{
  CIOObject *v4; // [esp+4h] [ebp-8h]
  volatile int *v5; // [esp+8h] [ebp-4h]

  if ( a2 )
  {
    v5 = sub_44D4E0(a3);
    if ( v5 )
    {
      CParty::AllotTransformExp(v5, *((_DWORD *)this + 15), (_DWORD *)this + 83);
      sub_401DE0((int *)v5);
    }
  }
  else
  {
    v4 = CPlayer::FindPlayer_(a3);
    if ( v4 )
    {
      if ( sub_44FD40(*((_DWORD *)this + 15), v4[3].m_nGeneralRef) >= 3 )
        ((void (__thiscall *)(CIOObject *, _DWORD))v4->__vftable[7].OnIOCallback)(v4, 0);
      CIOObject::Release(v4, (volatile int *)&v4[22]);
    }
  }
}

//----- (0043ECC0) --------------------------------------------------------
int __thiscall CMonsterReal::AllotExp(int this, _DWORD *a2, int *a3, int *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  const std::pair<int const ,CGame_Character::TargetInfo> *v6; // eax
  unsigned __int64 v7; // rax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  CIOCriticalSection *v10; // [esp+0h] [ebp-B0h]
  float v11; // [esp+0h] [ebp-B0h]
  int v12; // [esp+2Ch] [ebp-84h]
  int v13; // [esp+30h] [ebp-80h]
  float v14; // [esp+34h] [ebp-7Ch]
  _DWORD *v15; // [esp+38h] [ebp-78h]
  char v17[4]; // [esp+40h] [ebp-70h] BYREF
  char v18[4]; // [esp+44h] [ebp-6Ch] BYREF
  char v19[8]; // [esp+48h] [ebp-68h] BYREF
  char v20[8]; // [esp+50h] [ebp-60h] BYREF
  char v21[4]; // [esp+58h] [ebp-58h] BYREF
  char v22[4]; // [esp+5Ch] [ebp-54h] BYREF
  char v23[4]; // [esp+60h] [ebp-50h] BYREF
  int a5; // [esp+64h] [ebp-4Ch] BYREF
  int a1; // [esp+68h] [ebp-48h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v26; // [esp+6Ch] [ebp-44h] BYREF
  int v27; // [esp+70h] [ebp-40h]
  int v28; // [esp+74h] [ebp-3Ch]
  int v29; // [esp+78h] [ebp-38h]
  char v30[4]; // [esp+7Ch] [ebp-34h] BYREF
  int v31; // [esp+80h] [ebp-30h]
  int *v32; // [esp+84h] [ebp-2Ch]
  int v33; // [esp+88h] [ebp-28h]
  int *v34; // [esp+8Ch] [ebp-24h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v35; // [esp+90h] [ebp-20h] BYREF
  _DWORD v36[3]; // [esp+94h] [ebp-1Ch] BYREF
  int v37; // [esp+A0h] [ebp-10h]
  int v38; // [esp+A4h] [ebp-Ch]
  int v39; // [esp+A8h] [ebp-8h]
  int v40; // [esp+ACh] [ebp-4h]

  v40 = 0;
  v39 = 0;
  v38 = *(_DWORD *)(*(_DWORD *)(this + 440) + 132);
  v37 = 0;
  sub_4460C0(v36);
  CIOCriticalSection::Enter(v10);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 560),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v35);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 560), (int)v22);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v35,
            v4) )
      break;
    v33 = 0;
    v32 = *(int **)sub_420250(&v35);
    v34 = 0;
    v31 = v32[254];
    if ( v31 )
      v34 = (int *)sub_44D4E0(v31);
    if ( v34 )
    {
      v29 = *(_DWORD *)(sub_420250(&v35) + 4);
      sub_446130(v36, v30, (int)&v34);
      v5 = sub_430C20(v36, (int)v21);
      if ( (unsigned __int8)unknown_libname_8(v5) )
      {
        sub_4010D0((int)v34);
        std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v20);
        sub_48D6D0(
          v36,
          (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v19,
          v6);
      }
      else
      {
        v15 = (_DWORD *)(sub_420250(v30) + 4);
        *v15 += v29;
      }
      sub_401DE0(v34);
    }
    else
    {
      v28 = *(_DWORD *)(this + 60) - v32[15];
      v14 = (float)v38;
      v33 = (unsigned __int64)((double)*(int *)(sub_420250(&v35) + 4) / (double)*(int *)(this + 604) * v14);
      if ( v40 < v33 )
      {
        v40 = v33;
        *a4 = std::_Mpunct<wchar_t>::do_frac_digits(v32);
      }
      if ( v28 < 0 )
      {
        if ( abs(v28) >= 20 )
          v12 = 20;
        else
          v12 = abs(v28);
        v33 = (unsigned __int64)((double)v33
                               - (double)v33 * ((double)dword_4D8870[21 * ((v32[15] - 1) / 10) + v12] / 100.0));
      }
      else
      {
        if ( v28 >= 20 )
          v13 = 20;
        else
          v13 = v28;
        v33 = (unsigned __int64)((double)v33 * ((double)dword_4D8528[21 * ((v32[15] - 1) / 10) + v13] / 100.0)
                               + (double)v33);
      }
      if ( v33 > 0 )
      {
        v27 = (dword_4E1178 & 1) != 0 ? 0x64 : 0;
        if ( CChar::IsBState(v32, 0x8000000000i64)
          || CChar::IsBState(v32, 0x10000000000i64)
          || CChar::IsBState(v32, 0x20000000000i64) )
        {
          v27 += 10;
        }
        if ( CChar::IsBState(v32, 2i64) )
        {
          v27 += 30;
        }
        else if ( CChar::IsBState(v32, 1i64) )
        {
          v27 += 30;
        }
        v7 = (unsigned __int64)((double)v33 + (double)v33 * ((double)v27 / 100.0));
        (*(void (__cdecl **)(int *, int, int, _DWORD, _DWORD))(*v32 + 88))(v32, 25, 1, v7, HIDWORD(v7));
        if ( v39 < v33 )
        {
          v39 = v33;
          *a3 = std::_Mpunct<wchar_t>::do_frac_digits(v32);
        }
        v37 += v33;
      }
    }
    sub_401DE0(v32);
    sub_446090((int *)&v35, v23, 0);
  }
  if ( !sub_446110(v36) )
  {
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)v36,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v26);
    while ( 1 )
    {
      v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(v36, (int)v17);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v26,
              v8) )
        break;
      a1 = *(_DWORD *)sub_420250(&v26);
      v11 = (float)v38;
      a5 = (unsigned __int64)((double)*(int *)(sub_420250(&v26) + 4) / (double)*(int *)(this + 604) * v11);
      CParty::AllotExp(a1, &a5, *(_DWORD *)(this + 60), (_DWORD *)(this + 332));
      if ( v39 < a5 )
      {
        v39 = a5;
        *a2 = 1;
        *a3 = *(_DWORD *)(a1 + 16);
      }
      v37 += a5;
      sub_401DE0((int *)a1);
      sub_446090((int *)&v26, v18, 0);
    }
  }
  sub_445D30((_DWORD *)(this + 560));
  CIOCriticalSection::Leave((CIOCriticalSection *)LODWORD(v11));
  if ( 2 * v37 + 1 < v38 )
    *a3 = 0;
  return sub_43F1A0(v36);
}
// 43ED04: variable 'v10' is possibly undefined
// 43EDF1: variable 'v6' is possibly undefined
// 43F177: variable 'v11' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4B9304: using guessed type float flt_4B9304;
// 4E1178: using guessed type int dword_4E1178;

//----- (0043F1A0) --------------------------------------------------------
int __thiscall sub_43F1A0(void *this)
{
  return sub_4460F0(this);
}

//----- (0043F1C0) --------------------------------------------------------
void __thiscall CMonsterReal::ResetHostility(CIOCriticalSection *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // [esp+0h] [ebp-14h]
  char v3[4]; // [esp+4h] [ebp-10h] BYREF
  char v4[4]; // [esp+8h] [ebp-Ch] BYREF
  int *v5; // [esp+Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+10h] [ebp-4h] BYREF

  CIOCriticalSection::Enter(this);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(v2 + 560),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(v2 + 560), (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v1) )
      break;
    v5 = *(int **)sub_420250(&v6);
    sub_401DE0(v5);
    sub_446090((int *)&v6, v4, 0);
  }
  sub_445D30((_DWORD *)(v2 + 560));
  *(_DWORD *)(v2 + 604) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)v2);
}
// 43F1DE: variable 'v2' is possibly undefined

//----- (0043F260) --------------------------------------------------------
int __thiscall CMonsterMaguni::Damage(CIOCriticalSection *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax
  int v8; // [esp+0h] [ebp-20h]
  int v9; // [esp+4h] [ebp-1Ch]
  char v11[4]; // [esp+Ch] [ebp-14h] BYREF
  int a2a; // [esp+10h] [ebp-10h] BYREF
  int a4a; // [esp+14h] [ebp-Ch]
  int v14; // [esp+18h] [ebp-8h]
  int v15; // [esp+1Ch] [ebp-4h]

  if ( a7 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 52))(a7);
  else
    v9 = 1;
  a4a = v9;
  v15 = CChar::GetFinalDamage(this, (_DWORD *)a2, a3, v9);
  if ( v15 > 0 )
  {
    CMonsterReal::ManageBuff(this);
    sub_412E90(this);
    if ( CMonsterReal::ApplyDamage((int)this, a2, a3, v15, (int *)a4, a5, (int *)a6, a7) )
    {
      v14 = *(_DWORD *)a6 + *(_DWORD *)a4;
      if ( a7 )
        v8 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 24))(a7);
      else
        v8 = 0;
      ((void (__thiscall *)(CIOCriticalSection *, int, int, int))this->m_critical_section.DebugInfo[6].ContentionCount)(
        this,
        a2,
        v14,
        v8);
      if ( (int)this[8].m_critical_section.LockSemaphore > 0 )
      {
        (*(void (__thiscall **)(CIOCriticalSection *, int, int))&this->m_critical_section.DebugInfo[8].Type)(
          this,
          v14,
          a4a);
        sub_412EB0(this);
      }
      else
      {
        a2a = 0;
        *(_DWORD *)v11 = 0;
        ((void (__thiscall *)(CIOCriticalSection *, int, _DWORD, int *, char *))this->m_critical_section.DebugInfo[7].ProcessLocksList.Blink)(
          this,
          a2,
          *(_DWORD *)a5,
          &a2a,
          v11);
        sub_412EB0(this);
        CMonsterReal::AllotTransformExp(this, a2a, *(int *)v11);
      }
      result = 1;
    }
    else
    {
      sub_412EB0(this);
      result = 1;
    }
  }
  else
  {
    *(_DWORD *)a6 = 0;
    *(_DWORD *)a4 = 0;
    result = 0;
  }
  return result;
}

//----- (0043F3D0) --------------------------------------------------------
void __thiscall CMonsterMaguni::Die(int a1, int a5, int a6, int *a7, int *a8)
{
  int v5; // eax
  int a4; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(a1 + 272) = 0;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a5 + 76))(a5, *(_DWORD *)(a1 + 28), a6);
  a4 = 0;
  CMonsterReal::AllotExp(a1, a7, a8, &a4);
  v5 = (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 164))(a5);
  CInitMonster::DropItem(*(void **)(a1 + 440), a1, *a7, *a8, a4, v5);
  CChar::CancelAllBuff((std::locale::facet **)a1);
  CChar::AddGState((volatile LONG *)a1, 1);
  CChar::WriteInSight(a1, 61, "db", *(_DWORD *)(a1 + 28), 8);
  *(_DWORD *)(a1 + 468) = GetTickCount() + 10000;
}

//----- (0043F490) --------------------------------------------------------
void __thiscall CMonsterMaguniWithSkillOnly::SetTarget(int a1, int a5)
{
  CMonster::SetTarget(a1, a5);
  if ( a5 )
  {
    *(_DWORD *)(a1 + 480) = 5;
    *(_DWORD *)(a1 + 556) = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 480) = 1;
  }
}

//----- (0043F4E0) --------------------------------------------------------
void __thiscall CMonsterMaguniWithSkillOnly::AI(CIOCriticalSection *this)
{
  __int64 v2; // [esp+20h] [ebp-8h]

  if ( !CMonster::IsRemoved((volatile int *)this) && !sub_40B310(this, 1) )
  {
    sub_412E90(this);
    if ( this[14].m_critical_section.LockSemaphore && !CChar::IsNormal((int)this[14].m_critical_section.LockSemaphore) )
    {
      ((void (__thiscall *)(CIOCriticalSection *, void *))this->m_critical_section.DebugInfo[4].CriticalSection)(
        this,
        this[14].m_critical_section.LockSemaphore);
      ((void (__thiscall *)(CIOCriticalSection *, _DWORD))this->m_critical_section.DebugInfo[5].Spare[1])(this, 0);
    }
    switch ( (unsigned int)this[15].m_critical_section.DebugInfo )
    {
      case 1u:
      case 2u:
      case 3u:
      case 7u:
        ((void (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[7].Spare[0])(this);
        goto LABEL_25;
      case 4u:
        ((void (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[7].ContentionCount)(this);
        this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)5;
        goto LABEL_25;
      case 5u:
        if ( CMonsterSkill::PreSkill(
               &this[15].m_critical_section.RecursionCount,
               (int)this[14].m_critical_section.LockSemaphore) )
        {
          this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)6;
        }
        goto LABEL_25;
      case 6u:
        if ( this[14].m_critical_section.LockSemaphore )
        {
          v2 = sub_43D870(
                 &this[10].m_critical_section.OwningThread,
                 (_DWORD *)this[14].m_critical_section.LockSemaphore + 83);
          if ( this[9].m_dwEIP[1] != *((_DWORD *)this[14].m_critical_section.LockSemaphore + 79)
            || v2 > this[17].m_critical_section.LockCount * this[17].m_critical_section.LockCount )
          {
            ((void (__thiscall *)(CIOCriticalSection *, void *))this->m_critical_section.DebugInfo[4].CriticalSection)(
              this,
              this[14].m_critical_section.LockSemaphore);
            ((void (__thiscall *)(CIOCriticalSection *, _DWORD))this->m_critical_section.DebugInfo[5].Spare[1])(this, 0);
            sub_412EB0(this);
            return;
          }
          if ( v2 <= this[9].m_dwEIP[0] * this[9].m_dwEIP[0] )
          {
            if ( this[14].m_critical_section.LockSemaphore == (void *)this[15].m_critical_section.LockCount )
            {
              ((void (__thiscall *)(CIOCriticalSection *, void *))this->m_critical_section.DebugInfo[4].CriticalSection)(
                this,
                this[14].m_critical_section.LockSemaphore);
              ((void (__thiscall *)(CIOCriticalSection *, _DWORD))this->m_critical_section.DebugInfo[5].Spare[1])(
                this,
                0);
              this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)1;
              sub_412EB0(this);
              return;
            }
            CChar::SetDirection(
              this,
              *((_DWORD *)this[14].m_critical_section.LockSemaphore + 83)
            - (unsigned int)this[10].m_critical_section.OwningThread,
              *((_DWORD *)this[14].m_critical_section.LockSemaphore + 84)
            - (unsigned int)this[10].m_critical_section.LockSemaphore);
            CMonsterSkill::ExcuteSkillWithoutResetSkill(
              (int)&this[15].m_critical_section.RecursionCount,
              (volatile int *)this[14].m_critical_section.LockSemaphore);
            this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)5;
          }
          else if ( !CChar::IsMState(this, 512i64) )
          {
            this[20].m_critical_section.OwningThread = (void *)1;
            this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)2;
          }
        }
        else
        {
          this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)1;
        }
LABEL_25:
        sub_412EB0(this);
        break;
      default:
        goto LABEL_25;
    }
  }
}

//----- (0043F7F0) --------------------------------------------------------
void __thiscall CMonsterMaguniWithSkillOnly::Tick(int this)
{
  int v2; // [esp+4h] [ebp-8h]
  DWORD v3; // [esp+8h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v3 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 1) && v3 >= *(_DWORD *)(this + 468) )
    {
      CChar::WriteInSight(this, 61, "db", *(_DWORD *)(this + 28), 9);
      sub_412EB0((CIOCriticalSection *)this);
      CBase::Delete((CItem *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v3 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      if ( !sub_40F5F0(this + 488) )
        CMonsterSkill::SetCurSkillDefault(this + 488);
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (0043F8E0) --------------------------------------------------------
void __thiscall CMonsterMaguniWithSkill::AI(CIOCriticalSection *this)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi
  __int64 v5; // [esp+20h] [ebp-8h]

  if ( !CMonster::IsRemoved((volatile int *)this) && !sub_40B310(this, 1) )
  {
    sub_412E90(this);
    if ( this[14].m_critical_section.LockSemaphore && !CChar::IsNormal((int)this[14].m_critical_section.LockSemaphore) )
    {
      ((void (__thiscall *)(CIOCriticalSection *, void *))this->m_critical_section.DebugInfo[4].CriticalSection)(
        this,
        this[14].m_critical_section.LockSemaphore);
      ((void (__thiscall *)(CIOCriticalSection *, _DWORD))this->m_critical_section.DebugInfo[5].Spare[1])(this, 0);
    }
    switch ( (unsigned int)this[15].m_critical_section.DebugInfo )
    {
      case 1u:
      case 3u:
        goto LABEL_9;
      case 2u:
        if ( this[14].m_critical_section.LockSemaphore )
LABEL_9:
          ((void (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[7].Spare[0])(this);
        goto LABEL_26;
      case 4u:
        ((void (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[7].ContentionCount)(this);
        goto LABEL_26;
      case 5u:
        if ( CMonsterSkill::PreSkill(
               &this[15].m_critical_section.RecursionCount,
               v1,
               v2,
               v3,
               (int)this[14].m_critical_section.LockSemaphore) )
        {
          this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)6;
        }
        goto LABEL_26;
      case 6u:
        if ( this[14].m_critical_section.LockSemaphore )
        {
          v5 = sub_43D870(
                 &this[10].m_critical_section.OwningThread,
                 (_DWORD *)this[14].m_critical_section.LockSemaphore + 83);
          if ( this[9].m_dwEIP[1] != *((_DWORD *)this[14].m_critical_section.LockSemaphore + 79)
            || v5 > this[17].m_critical_section.LockCount * this[17].m_critical_section.LockCount )
          {
            ((void (__thiscall *)(CIOCriticalSection *, void *))this->m_critical_section.DebugInfo[4].CriticalSection)(
              this,
              this[14].m_critical_section.LockSemaphore);
            ((void (__thiscall *)(CIOCriticalSection *, _DWORD))this->m_critical_section.DebugInfo[5].Spare[1])(this, 0);
            sub_412EB0(this);
            return;
          }
          if ( v5 <= this[9].m_dwEIP[0] * this[9].m_dwEIP[0] )
          {
            if ( this[14].m_critical_section.LockSemaphore == (void *)this[15].m_critical_section.LockCount )
            {
              ((void (__thiscall *)(CIOCriticalSection *, void *))this->m_critical_section.DebugInfo[4].CriticalSection)(
                this,
                this[14].m_critical_section.LockSemaphore);
              ((void (__thiscall *)(CIOCriticalSection *, _DWORD))this->m_critical_section.DebugInfo[5].Spare[1])(
                this,
                0);
              this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)1;
              sub_412EB0(this);
              return;
            }
            CChar::SetDirection(
              this,
              *((_DWORD *)this[14].m_critical_section.LockSemaphore + 83)
            - (unsigned int)this[10].m_critical_section.OwningThread,
              *((_DWORD *)this[14].m_critical_section.LockSemaphore + 84)
            - (unsigned int)this[10].m_critical_section.LockSemaphore);
            CMonsterSkill::ExcuteSkillWithoutResetSkill(
              (int)&this[15].m_critical_section.RecursionCount,
              v1,
              v2,
              v3,
              (volatile int *)this[14].m_critical_section.LockSemaphore);
            this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)4;
          }
          else if ( !CChar::IsMState(this, 512i64) )
          {
            this[20].m_critical_section.OwningThread = (void *)1;
            this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)2;
          }
        }
        else
        {
          this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)1;
        }
LABEL_26:
        sub_412EB0(this);
        break;
      default:
        goto LABEL_26;
    }
  }
}
// 43F9C9: variable 'v1' is possibly undefined
// 43F9C9: variable 'v2' is possibly undefined
// 43F9C9: variable 'v3' is possibly undefined

//----- (0043FBF0) --------------------------------------------------------
void __thiscall CMonsterMaguniWithSkill::Tick(int this)
{
  int v2; // [esp+8h] [ebp-8h]
  DWORD v3; // [esp+Ch] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v3 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 1) && v3 >= *(_DWORD *)(this + 468) )
    {
      CChar::WriteInSight(this, 61, "db", *(_DWORD *)(this + 28), 9);
      sub_412EB0((CIOCriticalSection *)this);
      CBase::Delete((CItem *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v3 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      if ( *(_DWORD *)(this + 664) <= v3 )
      {
        if ( *(_DWORD *)(this + 464) )
        {
          *(_DWORD *)(this + 664) = *(_DWORD *)(*(_DWORD *)(this + 440) + 328) + v3;
          if ( (double)RandomBetween(1, 100) <= *(float *)(*(_DWORD *)(this + 440) + 324) )
          {
            if ( !sub_40F5F0(this + 488) )
              CMonsterSkill::SetCurSkillDefault(this + 488);
            *(_DWORD *)(this + 480) = 5;
          }
        }
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (0043FD50) --------------------------------------------------------
void __fastcall CMonsterMaguniWithSkill::Attack(int a1, int a2)
{
  int v2; // [esp-14h] [ebp-6Ch]
  int v3; // [esp-10h] [ebp-68h]
  int v4; // [esp-Ch] [ebp-64h]
  int v5; // [esp-8h] [ebp-60h]
  int v6; // [esp-4h] [ebp-5Ch]
  int a3; // [esp+0h] [ebp-58h]
  int v9; // [esp+30h] [ebp-28h] BYREF
  int v10; // [esp+34h] [ebp-24h] BYREF
  CIOObject *v11; // [esp+38h] [ebp-20h]
  int v12; // [esp+3Ch] [ebp-1Ch] BYREF
  int v13; // [esp+40h] [ebp-18h]
  int v14; // [esp+44h] [ebp-14h]
  __int64 v15; // [esp+48h] [ebp-10h]
  DWORD v16; // [esp+54h] [ebp-4h]

  if ( !CChar::IsMState((_QWORD *)a1, 268435712i64) )
  {
    v16 = GetTickCount();
    if ( v16 >= *(_DWORD *)(a1 + 468) )
    {
      if ( *(_DWORD *)(a1 + 464) )
      {
        v15 = sub_43D870((_DWORD *)(a1 + 332), (_DWORD *)(*(_DWORD *)(a1 + 464) + 332));
        if ( *(_DWORD *)(a1 + 316) == *(_DWORD *)(*(_DWORD *)(a1 + 464) + 316)
          && v15 <= *(_DWORD *)(a1 + 548) * *(_DWORD *)(a1 + 548) )
        {
          if ( v15 <= *(_DWORD *)(a1 + 312) * *(_DWORD *)(a1 + 312) )
          {
            *(_DWORD *)(a1 + 468) = v16 + CChar::GetASpeed((CPlayer *)a1);
            *(_DWORD *)(a1 + 556) = *(_DWORD *)(a1 + 468);
            CChar::SetDirection(
              (_DWORD *)a1,
              *(_DWORD *)(*(_DWORD *)(a1 + 464) + 332) - *(_DWORD *)(a1 + 332),
              *(_DWORD *)(*(_DWORD *)(a1 + 464) + 336) - *(_DWORD *)(a1 + 336));
            v12 = 0;
            v9 = 0;
            v14 = 0;
            v13 = 0;
            v11 = *(CIOObject **)(a1 + 464);
            CIOObject::AddRef(v11, (volatile int *)&v11[22]);
            v10 = (*(int (__thiscall **)(int, CIOObject *))(*(_DWORD *)a1 + 168))(a1, v11);
            v13 = ((int (__thiscall *)(CIOObject *, int))v11->__vftable[6].OnFree)(v11, a1);
            if ( !v13 && ((int (__thiscall *)(CIOObject *))v11->__vftable[2].OnTimerCallback)(v11) )
            {
              a3 = CChar::IsBState(v11, 0x8000i64) ? -5 : 0;
              if ( CChar::CheckHit(a1, v11, a3) )
              {
                sub_412EB0((CIOCriticalSection *)a1);
                v2 = CChar::GetAttack((CPlayer *)a1);
                v14 = ((int (__thiscall *)(CIOObject *, int, int, int *, int *, int *, _DWORD))v11->__vftable[3].~CIOObject)(
                        v11,
                        a1,
                        v2,
                        &v12,
                        &v9,
                        &v10,
                        0);
                sub_412E90((CIOCriticalSection *)a1);
              }
            }
            if ( !v14 )
              v11->__vftable[3].OnTimer(v11, a1);
            v6 = v14 | (2 * v9) | (4 * v13);
            v5 = v10;
            v4 = v12;
            v3 = std::_Mpunct<wchar_t>::do_frac_digits(v11);
            CChar::WriteInSight(a1, 62, "ddwwb", *(_DWORD *)(a1 + 28), v3, v4, v5, v6);
            CIOObject::Release(v11, (volatile int *)&v11[22]);
          }
          else if ( !CChar::IsMState((_QWORD *)a1, 512i64) )
          {
            *(_DWORD *)(a1 + 652) = 1;
            *(_DWORD *)(a1 + 480) = 2;
          }
        }
        else
        {
          (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 132))(a1, *(_DWORD *)(a1 + 464));
          (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 188))(a1, 0);
        }
      }
    }
  }
}

//----- (00440070) --------------------------------------------------------
_DWORD *__thiscall sub_440070(_DWORD *this)
{
  sub_43A7D0(this);
  *this = &off_4B9308;
  memset(this + 166, 0, 0x1Cu);
  this[166] = GetTickCount();
  this[173] = 0;
  return this;
}
// 4B9308: using guessed type int (__stdcall *off_4B9308)(int);

//----- (004400D0) --------------------------------------------------------
int __thiscall sub_4400D0(_DWORD *this)
{
  return sub_40B310(this, 73728);
}

//----- (004400F0) --------------------------------------------------------
CMonsterTowerBoss *__thiscall CMonsterTowerBoss::CMonsterTowerBoss(CMonsterTowerBoss *this, int a2, int a3)
{
  sub_43A7D0(this);
  this->__vftable = (CMonsterTowerBoss_vtbl *)&off_4B9308;
  this->m_nMap = a2;
  this->m_pMap = (CSMap *)a3;
  memset(this->m_dwTick, 0, sizeof(this->m_dwTick));
  this->m_dwTick[0] = GetTickCount() + 3600000;
  this->m_dwNextAction = GetTickCount() + 10000;
  this->m_dwNextMove = this->m_dwNextAction;
  this->m_pGen = 0;
  CChar::AddGState((volatile LONG *)this, 0x2000);
  return this;
}
// 4B9308: using guessed type int (__stdcall *off_4B9308)(int);

//----- (004401A0) --------------------------------------------------------
int __cdecl CMonsterTowerBoss::Create()
{
  int result; // eax
  int v1; // eax
  int v2; // eax
  int v3; // eax
  tagPOINT v4; // [esp-30h] [ebp-6Ch]
  int v5; // [esp-28h] [ebp-64h]
  int v6; // [esp-24h] [ebp-60h]
  int v7; // [esp-20h] [ebp-5Ch]
  int v8; // [esp-1Ch] [ebp-58h]
  __int64 v9; // [esp-18h] [ebp-54h]
  int v10; // [esp-10h] [ebp-4Ch]
  CIOCriticalSection *v11; // [esp+0h] [ebp-3Ch]
  CIOCriticalSection *v12; // [esp+0h] [ebp-3Ch]
  CMonsterTowerBoss *v13; // [esp+4h] [ebp-38h]
  CMemory **v14; // [esp+10h] [ebp-2Ch]
  char v15[4]; // [esp+14h] [ebp-28h] BYREF
  int v16; // [esp+18h] [ebp-24h] BYREF
  CIOCriticalSection *v17; // [esp+1Ch] [ebp-20h]
  int a5[2]; // [esp+20h] [ebp-1Ch] BYREF
  int v19; // [esp+28h] [ebp-14h]
  int v20; // [esp+2Ch] [ebp-10h] BYREF
  int v21; // [esp+30h] [ebp-Ch]
  char v22[4]; // [esp+34h] [ebp-8h] BYREF
  CPlayer *v23; // [esp+38h] [ebp-4h]

  v19 = sub_491080(3);
  if ( !v19 )
    return 0;
  CIOCriticalSection::Enter(v11);
  v16 = 213;
  sub_44AE20(dword_4E1820, v22, &v16);
  v1 = sub_430C20(dword_4E1820, (int)v15);
  if ( (unsigned __int8)unknown_libname_8(v1) )
  {
    CIOCriticalSection::Leave(v12);
    result = 0;
  }
  else
  {
    v17 = *(CIOCriticalSection **)(sub_420250(v22) + 4);
    if ( ((int)v17[9].m_critical_section.LockSemaphore & (1 << dword_4E35B8)) != 0 )
    {
      v20 = 57367;
      v21 = 8931;
      v14 = sub_401000(0x2B8u);
      if ( v14 )
        v13 = CMonsterTowerBoss::CMonsterTowerBoss((CMonsterTowerBoss *)v14, 3, v19);
      else
        v13 = 0;
      v23 = (CPlayer *)v13;
      CChar::SetXY(v13, &v20);
      CChar::SetDirection(v23, 0, -1);
      ((void (__thiscall *)(CPlayer *, CIOCriticalSection *))v23->__vftable[1].~CIOObject)(v23, v17);
      CIOCriticalSection::Leave(v12);
      sub_412E90((CIOCriticalSection *)v23);
      a5[0] = v20 >> 5;
      a5[1] = v21 >> 5;
      if ( CSMap::GetCellMap(v23, (int)a5) )
      {
        ((void (__thiscall *)(CPlayer *, _DWORD))v23->__vftable[1].OnFree)(v23, 0);
        v2 = ((int (__thiscall *)(CPlayer *))v23->__vftable[1].SendMove)(v23);
        v10 = ((int (__thiscall *)(CPlayer *, int, _DWORD, int))v23->__vftable[1].OnLoad)(
                v23,
                *(_DWORD *)(v23->m_nSocketRef + 64) | 0x80,
                *(_DWORD *)&v23->m_szGuildClassTitle[4],
                v2);
        v9 = v23->m_nMState;
        v8 = v23->m_nGState;
        v7 = CChar::GetMaxHP(v23);
        v6 = v23->m_nCurHP;
        v5 = v23->m_nDir;
        v4 = v23->m_ptPixel;
        v3 = std::_Mpunct<wchar_t>::do_frac_digits(v23);
        CChar::WriteInSight(
          (int)v23,
          51,
          "wdddwdddIsbds",
          *(_DWORD *)(v23->m_nSocketRef + 60),
          v3,
          v4.x,
          v4.y,
          v5,
          v6,
          v7,
          v8,
          v9,
          v10);
        sub_412EB0((CIOCriticalSection *)v23);
        CNPCScenario::MirrorGState(0, 3);
        CNPCScenario::ThroneGState(0, 12);
        CPlayer::WriteInMap(3, 22, "bb", 0, 99);
        result = 1;
      }
      else
      {
        sub_412EB0((CIOCriticalSection *)v23);
        if ( v23 )
          ((void (__thiscall *)(CPlayer *, int))v23->~CIOObject)(v23, 1);
        result = 0;
      }
    }
    else
    {
      CIOCriticalSection::Leave(v12);
      result = 1;
    }
  }
  return result;
}
// 4401C5: variable 'v11' is possibly undefined
// 440206: variable 'v12' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00440430) --------------------------------------------------------
void __thiscall CMonsterTowerBoss::OnDelete(int *this)
{
  int v1; // [esp+0h] [ebp-18h]
  int i; // [esp+10h] [ebp-8h]
  int *v4; // [esp+14h] [ebp-4h]

  sub_412E90((CIOCriticalSection *)this);
  (*(void (__thiscall **)(int *, _DWORD))(*this + 188))(this, 0);
  CMonsterReal::ResetHostility((CIOCriticalSection *)this);
  v4 = this + 173;
  for ( i = this[173]; i; i = *v4 )
  {
    *v4 = *(_DWORD *)(i + 84);
    v1 = (**(int (__thiscall ***)(int, int))i)(i, 1);
  }
  (*(void (__thiscall **)(int *, int))(*this + 200))(this, v1);
  sub_4913E0((int)this, (int)(this + 81));
  sub_412EB0((CIOCriticalSection *)this);
  CNPCScenario::ResetBossTower(0);
  sub_402180((int)this);
}
// 440497: conditional instruction was optimized away because of '%var_8.4!=0'
// 4404BB: variable 'v1' is possibly undefined

//----- (00440500) --------------------------------------------------------
void __thiscall CMonsterTowerBoss::Defense(CIOCriticalSection *a1, volatile int *a5)
{
  if ( !a1[14].m_dwEIP[1] )
    a1[14].m_dwEIP[1] = 1;
  a1[20].m_critical_section.SpinCount = GetTickCount();
  CMonsterReal::Defense(a1, a5);
}

//----- (00440550) --------------------------------------------------------
void __thiscall CMonsterMaguniMaster::AI(int *this)
{
  if ( !CMonster::IsRemoved(this) && !(*(int (__thiscall **)(int *))(*this + 252))(this) )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( this[116] && !CChar::IsNormal(this[116]) )
    {
      (*(void (__thiscall **)(int *, int))(*this + 132))(this, this[116]);
      (*(void (__thiscall **)(int *, _DWORD))(*this + 188))(this, 0);
    }
    switch ( this[120] )
    {
      case 1:
      case 2:
      case 3:
        (*(void (__thiscall **)(int *))(*this + 248))(this);
        break;
      case 4:
        (*(void (__thiscall **)(int *))(*this + 244))(this);
        break;
      case 5:
        if ( CMonsterSkill::PreSkill(this + 122, this[116]) )
          this[120] = 6;
        break;
      case 6:
        CMonsterSkill::ExcuteSkill(this + 122, (volatile int *)this[116]);
        this[120] = this[116] != 0 ? 4 : 1;
        break;
      default:
        break;
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}

//----- (004406A0) --------------------------------------------------------
void __thiscall CMonsterTowerBoss::Tick(int this)
{
  int v2; // [esp+4h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-8h]
  DWORD v4; // [esp+Ch] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v4 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 0x10000) && v4 >= *(_DWORD *)(this + 468) )
    {
      CChar::WriteInSight(this, 56, "d", *(_DWORD *)(this + 28));
      sub_412EB0((CIOCriticalSection *)this);
      CBase::Delete((CItem *)this);
    }
    else if ( sub_40B310((_DWORD *)this, 0x2000) && v4 >= *(_DWORD *)(this + 556) )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)this + 112))(this, 0x2000);
      sub_412EB0((CIOCriticalSection *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v4 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      if ( *(_DWORD *)(this + 476)
        && !sub_40F5F0(this + 488)
        && !sub_446110((void *)(this + 560))
        && v4 - *(_DWORD *)(this + 660) <= 0x2710 )
      {
        (*(void (__thiscall **)(int, int, int, int, int))(*(_DWORD *)this + 232))(this, 232, 5, 24, 6);
        CMonsterTowerBoss::OnSummon((_DWORD *)this);
        v3 = -1;
        if ( *(_DWORD *)(this + 664) <= v4 )
          v3 = 8;
        if ( *(_DWORD *)(this + 272) <= 7 * v2 / 10 && *(_DWORD *)(this + 668) <= v4 )
        {
          *(_DWORD *)(this + 668) = v4 + 42000;
          if ( v3 < 0 )
            v3 = 5;
        }
        if ( *(_DWORD *)(this + 272) <= v2 / 2 && *(_DWORD *)(this + 672) <= v4 )
        {
          *(_DWORD *)(this + 672) = v4 + 83000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 90 )
            v3 = 4;
        }
        if ( *(_DWORD *)(this + 272) <= 3 * v2 / 4 && *(_DWORD *)(this + 676) <= v4 )
        {
          *(_DWORD *)(this + 676) = v4 + 14000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 80 )
            v3 = 2;
        }
        if ( *(_DWORD *)(this + 680) <= v4 )
        {
          *(_DWORD *)(this + 680) = v4 + 32000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 85 )
            v3 = 3;
        }
        if ( *(_DWORD *)(this + 684) <= v4 )
        {
          *(_DWORD *)(this + 684) = v4 + 10000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 75 )
            v3 = *(_DWORD *)(this + 272) <= v2 / 2;
        }
        if ( *(_DWORD *)(this + 688) <= v4 )
        {
          *(_DWORD *)(this + 688) = v4 + 5000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 50 )
            v3 = 13;
        }
        if ( v3 >= 0 )
        {
          if ( CMonsterSkill::SetCurSkill((_DWORD *)(this + 488), v3) )
            *(_DWORD *)(this + 480) = 5;
        }
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (00440A30) --------------------------------------------------------
void __fastcall CMonsterTowerBoss::Attack(int a1, int a2)
{
  int v2; // eax
  int v3; // [esp-14h] [ebp-70h]
  int v4; // [esp-10h] [ebp-6Ch]
  int v5; // [esp-Ch] [ebp-68h]
  int v6; // [esp-8h] [ebp-64h]
  int v7; // [esp-4h] [ebp-60h]
  int v8; // [esp-4h] [ebp-60h]
  int a3; // [esp+0h] [ebp-5Ch]
  int v11; // [esp+30h] [ebp-2Ch] BYREF
  int v12; // [esp+34h] [ebp-28h] BYREF
  int a1a; // [esp+38h] [ebp-24h]
  int v14; // [esp+3Ch] [ebp-20h] BYREF
  int v15; // [esp+40h] [ebp-1Ch]
  int v16; // [esp+44h] [ebp-18h]
  CIOObject *i; // [esp+48h] [ebp-14h]
  __int64 v18; // [esp+4Ch] [ebp-10h]
  DWORD v19; // [esp+54h] [ebp-8h]
  CIOObject *v20; // [esp+58h] [ebp-4h]

  if ( !CChar::IsMState((_QWORD *)a1, 268435712i64) )
  {
    v19 = GetTickCount();
    if ( v19 >= *(_DWORD *)(a1 + 468) )
    {
      v18 = sub_43D870((_DWORD *)(a1 + 332), (_DWORD *)(*(_DWORD *)(a1 + 464) + 332));
      if ( *(_DWORD *)(a1 + 316) == *(_DWORD *)(*(_DWORD *)(a1 + 464) + 316)
        && v18 <= *(_DWORD *)(a1 + 548) * *(_DWORD *)(a1 + 548) )
      {
        if ( v18 <= *(_DWORD *)(a1 + 312) * *(_DWORD *)(a1 + 312) )
        {
          *(_DWORD *)(a1 + 468) = v19 + CChar::GetASpeed((CPlayer *)a1);
          *(_DWORD *)(a1 + 556) = *(_DWORD *)(a1 + 468);
          CChar::SetDirection(
            (_DWORD *)a1,
            *(_DWORD *)(*(_DWORD *)(a1 + 464) + 332) - *(_DWORD *)(a1 + 332),
            *(_DWORD *)(*(_DWORD *)(a1 + 464) + 336) - *(_DWORD *)(a1 + 336));
          v20 = *(CIOObject **)(a1 + 464);
          CIOObject::AddRef(v20, (volatile int *)&v20[22]);
          for ( i = (CIOObject *)CSMap::GetPlayerListInRect(&v20[20].m_nRef, 1); i; i = (CIOObject *)CBaseList::Pop(i) )
          {
            a1a = unknown_libname_7(i);
            v14 = 0;
            v11 = 0;
            v16 = 0;
            v15 = 0;
            v12 = (*(int (__thiscall **)(int, int))(*(_DWORD *)a1 + 168))(a1, a1a);
            v15 = (*(int (__thiscall **)(int, int))(*(_DWORD *)a1a + 148))(a1a, a1);
            if ( !v15 )
            {
              a3 = CChar::IsBState((_QWORD *)a1a, 0x8000i64) ? -5 : 0;
              if ( CChar::CheckHit(a1, (_DWORD *)a1a, a3) )
              {
                sub_412EB0((CIOCriticalSection *)a1);
                v3 = CChar::GetAttack((CPlayer *)a1);
                v16 = (*(int (__thiscall **)(int, int, int, int *, int *, int *, _DWORD))(*(_DWORD *)a1a + 72))(
                        a1a,
                        a1,
                        v3,
                        &v14,
                        &v11,
                        &v12,
                        0);
                sub_412E90((CIOCriticalSection *)a1);
              }
            }
            if ( (CIOObject *)a1a == v20 )
            {
              v8 = v16 | (2 * v11) | (4 * v15);
              v6 = v12;
              v5 = v14;
              v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1a);
              CChar::WriteInSight(a1, 62, "ddwwb", *(_DWORD *)(a1 + 28), v4, v5, v6, v8);
            }
            else if ( v16 )
            {
              v7 = v14;
              v2 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1a);
              CPlayer::Write(a1a, 73, "dbw", v2, 23, v7);
            }
          }
          CIOObject::Release(v20, (volatile int *)&v20[22]);
        }
        else if ( !CChar::IsMState((_QWORD *)a1, 512i64) )
        {
          *(_DWORD *)(a1 + 652) = 1;
          *(_DWORD *)(a1 + 480) = 2;
        }
      }
      else
      {
        (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 132))(a1, *(_DWORD *)(a1 + 464));
        (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 188))(a1, 0);
      }
    }
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00440D90) --------------------------------------------------------
void __thiscall CMonsterTowerBoss::UpdateChild(CIOCriticalSection *this, int a2)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  if ( !sub_40B2F0(this) )
  {
    sub_412E90(this);
    for ( i = (_DWORD *)this[21].m_critical_section.SpinCount; i && i[8] != a2; i = (_DWORD *)i[21] )
      ;
    if ( i )
    {
      --i[11];
      --i[12];
    }
    sub_412EB0(this);
  }
  sub_40AD90(this, a2);
}

//----- (00440E20) --------------------------------------------------------
CGenMonster *__thiscall CMonsterTowerBoss::Summon(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CGenMonster *result; // eax
  CGenMonster *v6; // [esp+0h] [ebp-14h]
  CGenMonster *v8; // [esp+8h] [ebp-Ch]
  CGenMonster *i; // [esp+10h] [ebp-4h]

  for ( i = (CGenMonster *)this[173]; i && i->m_nIndex != a2; i = i->m_pNextGen )
    ;
  if ( i )
  {
    result = i;
    i->m_nMax += a5;
    if ( i->m_nMax > a4 )
    {
      result = i;
      i->m_nMax = a4;
    }
  }
  else
  {
    v8 = (CGenMonster *)sub_401000(0x58u);
    if ( v8 )
      v6 = CGenMonster::CGenMonster(v8, this, a2, a3, a5);
    else
      v6 = 0;
    v6->m_pNextGen = (CGenMonster *)this[173];
    result = v6;
    this[173] = v6;
  }
  return result;
}

//----- (00440EE0) --------------------------------------------------------
int __thiscall CMonsterTowerBoss::Reaction(_DWORD *this, int a2, int a3)
{
  int result; // eax

  if ( !this[119] )
    this[119] = 1;
  result = GetTickCount();
  this[165] = result;
  if ( a2 >= 100 )
  {
    result = sub_40F5F0(this + 122);
    if ( !result )
    {
      result = RandomBetween(1, 100);
      if ( result <= 80 )
      {
        result = CMonsterSkill::SetCurSkill(this + 122, 7 - (a3 != 0));
        if ( result )
          this[120] = 5;
      }
    }
  }
  return result;
}
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (00440F70) --------------------------------------------------------
_DWORD *__thiscall CMonsterTowerBoss::OnSummon(_DWORD *this)
{
  _DWORD *result; // eax
  int i; // [esp+4h] [ebp-8h]
  _DWORD *a1; // [esp+8h] [ebp-4h]

  result = this;
  for ( a1 = (_DWORD *)this[173]; a1; a1 = result )
  {
    for ( i = 0; i < 3 && a1[12] < a1[11] && CMonster::Create(a1, (int)this); ++i )
      InterlockedIncrement(a1 + 12);
    result = (_DWORD *)a1[21];
  }
  return result;
}

//----- (00440FF0) --------------------------------------------------------
int __stdcall CMonsterNotReal::AddBuff(std::locale::facet *a1)
{
  if ( a1 )
    std::locale::facet::`scalar deleting destructor'(a1, 1);
  return 0;
}

//----- (00441030) --------------------------------------------------------
int __thiscall CMonsterInactive::Damage(CIOCriticalSection *this, _DWORD *a2, int a3, int *a4, _DWORD *a5, _DWORD *a6, int a7)
{
  int result; // eax
  void *v8; // [esp+0h] [ebp-1Ch]
  int v9; // [esp+4h] [ebp-18h]
  int v10; // [esp+8h] [ebp-14h]
  int v12; // [esp+14h] [ebp-8h]

  *a6 = 0;
  if ( a7 )
    v10 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 52))(a7);
  else
    v10 = 1;
  v12 = CChar::GetFinalDamage(this, a2, a3, v10);
  if ( v12 > 0 )
  {
    sub_412E90(this);
    if ( CChar::IsNormal((int)this) )
    {
      if ( a7 )
        v9 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 28))(a7);
      else
        v9 = 0;
      *a4 = v12 + CChar::GetFatalDamage((int)a2, v12, a5, v9);
      if ( *a4 >= (int)this[8].m_critical_section.LockSemaphore )
        v8 = this[8].m_critical_section.LockSemaphore;
      else
        v8 = (void *)*a4;
      *a4 = (int)v8;
      this[8].m_critical_section.LockSemaphore = (char *)this[8].m_critical_section.LockSemaphore - *a4;
      if ( (int)this[8].m_critical_section.LockSemaphore > 0 )
      {
        sub_412EB0(this);
      }
      else
      {
        this[8].m_critical_section.LockSemaphore = 0;
        CChar::WriteInSight((int)this, 61, "db", this->m_dwEIP[1], 9);
        sub_412EB0(this);
        CBase::Delete((CItem *)this);
      }
      result = 1;
    }
    else
    {
      sub_412EB0(this);
      *a4 = 0;
      result = 0;
    }
  }
  else
  {
    *a4 = 0;
    result = 0;
  }
  return result;
}

//----- (004411A0) --------------------------------------------------------
int __thiscall CMonsterInactive::SetProperty(int this, int a2)
{
  int result; // eax

  CMonster::SetProperty(this, a2);
  memcpy((void *)(this + 64), (const void *)(a2 + 136), 0x1Cu);
  result = CChar::GetMaxHP((CPlayer *)this);
  *(_DWORD *)(this + 272) = result;
  return result;
}

//----- (004411F0) --------------------------------------------------------
void __thiscall CMonsterInactive::Add(_DWORD *this, volatile int *a2)
{
  CMonster::Add((int)this, (int)a2);
  if ( a2 )
  {
    sub_4010D0((int)a2);
    this[121] = a2;
  }
}

//----- (00441230) --------------------------------------------------------
int __thiscall CMonsterGuildWar::CMonsterGuildWar(int this, int a2, int a3, int a4, int a5, char *Source)
{
  sub_439AF0((_DWORD *)this);
  *(_DWORD *)this = &off_4B8490;
  *(_DWORD *)(this + 316) = a2;
  *(_DWORD *)(this + 320) = a3;
  *(_DWORD *)(this + 348) = a4;
  *(_DWORD *)(this + 536) = a5;
  strcpy((char *)(this + 540), Source);
  *(_DWORD *)(this + 560) = 0;
  return this;
}
// 4B8490: using guessed type int (__stdcall *off_4B8490)(int);

//----- (004412B0) --------------------------------------------------------
CIOCriticalSection *__cdecl CMonsterGuildWar::Create(char a1, int a2, int a3, int a4, int a5, char *Source, int a7)
{
  CIOCriticalSection *result; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  tagPOINT v11; // [esp-30h] [ebp-60h]
  int v12; // [esp-28h] [ebp-58h]
  int v13; // [esp-24h] [ebp-54h]
  int v14; // [esp-20h] [ebp-50h]
  int v15; // [esp-1Ch] [ebp-4Ch]
  __int64 v16; // [esp-18h] [ebp-48h]
  int v17; // [esp-10h] [ebp-40h]
  CIOCriticalSection *v18; // [esp+0h] [ebp-30h]
  CIOCriticalSection *v19; // [esp+0h] [ebp-30h]
  CPlayer *v20; // [esp+4h] [ebp-2Ch]
  CMemory **v21; // [esp+10h] [ebp-20h]
  char v22[4]; // [esp+14h] [ebp-1Ch] BYREF
  CIOCriticalSection *v23; // [esp+18h] [ebp-18h]
  int v24[2]; // [esp+1Ch] [ebp-14h] BYREF
  int v25; // [esp+24h] [ebp-Ch]
  char v26[4]; // [esp+28h] [ebp-8h] BYREF
  CPlayer *v27; // [esp+2Ch] [ebp-4h]

  v25 = sub_491080(a2);
  if ( v25 )
  {
    if ( CSMap::IsValidTile((_DWORD *)v25, (int *)a3, 0) )
    {
      CIOCriticalSection::Enter(v18);
      sub_44AE20(dword_4E1820, v26, &a1);
      v8 = sub_430C20(dword_4E1820, (int)v22);
      if ( (unsigned __int8)unknown_libname_8(v8)
        || (v23 = *(CIOCriticalSection **)(sub_420250(v26) + 4),
            ((int)v23[9].m_critical_section.LockSemaphore & (1 << dword_4E35B8)) == 0) )
      {
        CIOCriticalSection::Leave(v19);
        result = 0;
      }
      else
      {
        v21 = sub_401000(0x238u);
        if ( v21 )
          v20 = (CPlayer *)CMonsterGuildWar::CMonsterGuildWar((int)v21, a2, v25, a4, a5, Source);
        else
          v20 = 0;
        v27 = v20;
        CChar::SetXY(v20, (_DWORD *)a3);
        ((void (__thiscall *)(CPlayer *, CIOCriticalSection *))v27->__vftable[1].~CIOObject)(v27, v23);
        CIOCriticalSection::Leave(v19);
        sub_412E90((CIOCriticalSection *)v27);
        v24[0] = *(int *)a3 >> 5;
        v24[1] = *(int *)(a3 + 4) >> 5;
        if ( CSMap::GetCellMap(v27, (int)v24) )
        {
          ((void (__thiscall *)(CPlayer *, _DWORD))v27->__vftable[1].OnFree)(v27, 0);
          v9 = ((int (__thiscall *)(CPlayer *))v27->__vftable[1].SendMove)(v27);
          v17 = ((int (__thiscall *)(CPlayer *, _DWORD, int, int))v27->__vftable[1].OnLoad)(
                  v27,
                  *(_DWORD *)(v27->m_nSocketRef + 64),
                  v27->m_nGRole,
                  v9);
          v16 = v27->m_nMState;
          v15 = v27->m_nGState;
          v14 = CChar::GetMaxHP(v27);
          v13 = v27->m_nCurHP;
          v12 = v27->m_nDir;
          v11 = v27->m_ptPixel;
          v10 = std::_Mpunct<wchar_t>::do_frac_digits(v27);
          CChar::WriteInSight(
            (int)v27,
            51,
            "wdddwdddIsbds",
            *(_DWORD *)(v27->m_nSocketRef + 60),
            v10,
            v11.x,
            v11.y,
            v12,
            v13,
            v14,
            v15,
            v16,
            v17);
          if ( a7 && sub_441570(v23, 2) && a5 )
          {
            v27->AddGState(v27, 0x20000);
            v27->m_nHair = GetTickCount() + 300000;
          }
          sub_412EB0((CIOCriticalSection *)v27);
          result = (CIOCriticalSection *)v27;
        }
        else
        {
          sub_412EB0((CIOCriticalSection *)v27);
          if ( v27 )
            ((void (__thiscall *)(CPlayer *, int))v27->~CIOObject)(v27, 1);
          result = 0;
        }
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    LOG_ERR("CMonsterGuildWar::Create() not find Map (map:%d)", a2);
    result = 0;
  }
  return result;
}
// 441301: variable 'v18' is possibly undefined
// 44133B: variable 'v19' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00441570) --------------------------------------------------------
BOOL __thiscall sub_441570(_DWORD *this, int a2)
{
  return this[16] == a2;
}

//----- (00441590) --------------------------------------------------------
int __thiscall CMonsterGuildWar::Damage(int this, _DWORD *a2, int a3, int *a4, _DWORD *a5, _DWORD *a6, int a7)
{
  int result; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp+0h] [ebp-14h]
  int v11; // [esp+4h] [ebp-10h]
  int v13; // [esp+10h] [ebp-4h]
  int v14; // [esp+10h] [ebp-4h]

  *a6 = 0;
  if ( a7 )
    v11 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 52))(a7);
  else
    v11 = 1;
  if ( !v11 )
    return 0;
  v13 = CChar::GetFinalDamage((_DWORD *)this, a2, a3, v11);
  if ( v13 <= 0 )
    return 0;
  sub_412E90((CIOCriticalSection *)this);
  if ( CChar::IsNormal(this) )
  {
    v14 = v13 + CChar::GetFatalDamage((int)a2, v13, a5, 0);
    if ( v14 >= *(_DWORD *)(this + 272) )
      v10 = *(_DWORD *)(this + 272);
    else
      v10 = v14;
    *a4 = v10;
    *(_DWORD *)(this + 272) -= *a4;
    *(_DWORD *)(this + 472) = GetTickCount() + 20000;
    if ( *(int *)(this + 272) > 0 )
    {
      sub_412EB0((CIOCriticalSection *)this);
    }
    else
    {
      *(_DWORD *)(this + 272) = 0;
      (*(void (__thiscall **)(_DWORD *, _DWORD, _DWORD))(*a2 + 76))(a2, *(_DWORD *)(this + 28), *a5);
      CChar::WriteInSight(this, 61, "db", *(_DWORD *)(this + 28), 9);
      sub_412EB0((CIOCriticalSection *)this);
      if ( sub_441570(*(_DWORD **)(this + 440), 2) )
      {
        v8 = CCastle::GetMonsterTile2CID(*(_DWORD *)(this + 316), *(_DWORD *)(this + 332), *(_DWORD *)(this + 336));
        CGuild::BrokenStandard(v8);
      }
      else if ( sub_441570(*(_DWORD **)(this + 440), 3) )
      {
        v9 = CCastle::GetMonsterTile2CID(*(_DWORD *)(this + 316), *(_DWORD *)(this + 332), *(_DWORD *)(this + 336));
        CGuild::BrokenGate(v9, this);
      }
      CBase::Delete((CItem *)this);
    }
    result = 1;
  }
  else
  {
    sub_412EB0((CIOCriticalSection *)this);
    result = 1;
  }
  return result;
}

//----- (00441790) --------------------------------------------------------
int __thiscall CMonsterGuildWar::SetProperty(char *this, int a2)
{
  CMonster::SetProperty((int)this, a2);
  memcpy(this + 64, (const void *)(a2 + 136), 0x1Cu);
  memcpy(this + 92, (const void *)(a2 + 164), 0x60u);
  return (*(int (__thiscall **)(char *))(*(_DWORD *)this + 84))(this);
}

//----- (004417F0) --------------------------------------------------------
void __thiscall CMonsterGuildWar::Tick(CIOCriticalSection *this)
{
  int v2; // [esp+4h] [ebp-8h]
  void *v3; // [esp+8h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    v3 = (void *)GetTickCount();
    if ( sub_40B310(this, 0x20000) && this[17].m_critical_section.LockSemaphore < v3 )
      ((void (__thiscall *)(CIOCriticalSection *, int))this->m_critical_section.DebugInfo[3].EntryCount)(this, 0x20000);
    if ( !sub_417450() )
    {
      sub_412E90(this);
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( (int)this[8].m_critical_section.LockSemaphore < v2 && (unsigned int)v3 >= this[14].m_dwEIP[0] )
        ((void (__cdecl *)(CIOCriticalSection *, int, int, int))this->m_critical_section.DebugInfo[2].Spare[0])(
          this,
          7,
          1,
          v2);
      sub_412EB0(this);
    }
  }
}

//----- (004418A0) --------------------------------------------------------
void __thiscall CMonsterGuildWar::SetGuild(int this, int a2, char *Source)
{
  sub_412E90((CIOCriticalSection *)this);
  *(_DWORD *)(this + 536) = a2;
  strcpy((char *)(this + 540), Source);
  sub_412EB0((CIOCriticalSection *)this);
}

//----- (004418E0) --------------------------------------------------------
void __thiscall CPlayer::SubGState(int this, int a2)
{
  CChar::SubGState((volatile LONG *)this, a2);
  CChar::WriteInSight(this, 46, "dd", *(_DWORD *)(this + 28), *(_DWORD *)(this + 280));
}

//----- (00441920) --------------------------------------------------------
int __thiscall CMonsterItem::Damage(void *this, int a2, char a3, int a4, int a5, int a6, int a7)
{
  int v8; // eax
  volatile int *v10; // [esp+10h] [ebp-10h]
  int v11; // [esp+14h] [ebp-Ch]

  if ( sub_40B2F0(this) )
    return 0;
  sub_412E90((CIOCriticalSection *)this);
  if ( a3 )
  {
    if ( a3 == 1 && a2 == *((_DWORD *)this + 116) && *((_DWORD *)this + 117) > GetTickCount() )
    {
      *((_DWORD *)this + 117) = GetTickCount();
      (*(void (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 188))(this, 0);
      (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 112))(a2, 0x8000);
      CPlayer::Write(a2, 67, "b", 89);
    }
LABEL_22:
    sub_412EB0((CIOCriticalSection *)this);
    return 0;
  }
  if ( !*((_DWORD *)this + 116) )
  {
    CIOObject::AddRef((CIOObject *)a2, (volatile int *)(a2 + 356));
    (*(void (__thiscall **)(void *, int))(*(_DWORD *)this + 188))(this, a2);
    v11 = 6;
    if ( *(_DWORD *)(a2 + 1016) )
    {
      v10 = sub_44D4E0(*(_DWORD *)(a2 + 1016));
      if ( v10 )
      {
        if ( CParty::GetLuckySize(v10, 1) )
          v11 = 2;
        sub_401DE0((int *)v10);
      }
    }
    else if ( CChar::IsBState((_QWORD *)a2, 0x2000000i64) )
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInRect(a2, 73, 15, "db", v8, 21);
      v11 = 2;
    }
    *((_DWORD *)this + 117) = 1000 * v11 + GetTickCount();
    (*(void (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, 0x8000);
    CPlayer::Write(a2, 68, "bb", 87, v11);
    goto LABEL_22;
  }
  sub_412EB0((CIOCriticalSection *)this);
  if ( a2 != *((_DWORD *)this + 116) )
    CPlayer::Write(a2, 67, "b", 86);
  return 0;
}

//----- (00441B20) --------------------------------------------------------
void __thiscall CMonsterItem::Tick(void *this)
{
  int v1; // eax
  int a7; // [esp+4h] [ebp-8h]
  _DWORD *a1; // [esp+8h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( !*((_DWORD *)this + 116) )
      goto LABEL_10;
    if ( !CChar::IsNormal(*((_DWORD *)this + 116)) )
    {
      (*(void (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 188))(this, 0);
      sub_412EB0((CIOCriticalSection *)this);
      return;
    }
    if ( *((_DWORD *)this + 117) <= GetTickCount() )
    {
      a1 = (_DWORD *)*((_DWORD *)this + 116);
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 112))(a1, 0x8000);
      CPlayer::Write((int)a1, 67, "b", 88);
      a7 = a1[254];
      if ( a7 )
      {
        CInitMonster::DropItem(*((void **)this + 110), (int)this, 1, a7, 0, 0);
      }
      else
      {
        v1 = std::_Mpunct<wchar_t>::do_frac_digits(a1);
        CInitMonster::DropItem(*((void **)this + 110), (int)this, 0, v1, 0, 0);
      }
      (*(void (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 188))(this, 0);
      CChar::WriteInSight((int)this, 61, "db", *((_DWORD *)this + 7), 9);
      sub_412EB0((CIOCriticalSection *)this);
      CBase::Delete((CItem *)this);
    }
    else
    {
LABEL_10:
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}

//----- (00441C70) --------------------------------------------------------
void __thiscall sub_441C70(int this, int a2)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v2; // eax
  char v4[8]; // [esp+4h] [ebp-18h] BYREF
  int v5; // [esp+Ch] [ebp-10h]
  int v6; // [esp+10h] [ebp-Ch]
  char v7[8]; // [esp+14h] [ebp-8h] BYREF

  sub_4010D0(this);
  CMonsterObject::Insert((CIOCriticalSection *)&unk_4E1998, (CLink *)(this + 428));
  CRWLock::WriteLock(&unk_4E1858);
  v6 = this;
  v5 = *(_DWORD *)(this + 28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v7);
  sub_445DF0(
    (int)dword_4E184C,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v4,
    v2);
  CRWLock::WriteUnlock(&unk_4E1858);
}
// 441CC7: variable 'v2' is possibly undefined
// 4E184C: using guessed type int dword_4E184C[3];

//----- (00441CE0) --------------------------------------------------------
void __thiscall CMonsterItem::Remove(_DWORD *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v4[4]; // [esp+4h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-4h] BYREF

  CMonster::Remove(this);
  CRWLock::ReadLock(&unk_4E187C);
  sub_44AE20(dword_4E1870, &v5, this + 111);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1870, (int)v4);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v5,
         v1) )
  {
    v2 = sub_420250(&v5);
    InterlockedDecrement((volatile LONG *)(*(_DWORD *)(v2 + 4) + 48));
  }
  CRWLock::ReadUnlock(&unk_4E187C);
}
// 4E1870: using guessed type int dword_4E1870[3];

//----- (00441D60) --------------------------------------------------------
_DWORD *__thiscall CMonsterMagic::CMonsterMagic(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  sub_439AF0(this);
  *this = &off_4B8680;
  this[79] = a2;
  this[80] = a3;
  this[87] = a4;
  this[117] = a6 + GetTickCount();
  this[34] = a5;
  this[35] = a5;
  this[133] = 0;
  return this;
}
// 4B8680: using guessed type int (__stdcall *off_4B8680)(int);

//----- (00441DE0) --------------------------------------------------------
CIOCriticalSection *__cdecl CMonsterMagic::Create(char a1, int a2, int *a3, int a4, int a5, int a6, int a7)
{
  CIOCriticalSection *result; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  tagPOINT v12; // [esp-30h] [ebp-5Ch]
  int v13; // [esp-28h] [ebp-54h]
  int v14; // [esp-24h] [ebp-50h]
  int v15; // [esp-20h] [ebp-4Ch]
  int v16; // [esp-1Ch] [ebp-48h]
  __int64 v17; // [esp-18h] [ebp-44h]
  int v18; // [esp-10h] [ebp-3Ch]
  CIOCriticalSection *v19; // [esp+0h] [ebp-2Ch]
  CIOCriticalSection *v20; // [esp+0h] [ebp-2Ch]
  CPlayer *v21; // [esp+4h] [ebp-28h]
  CMemory **v22; // [esp+10h] [ebp-1Ch]
  char v23[4]; // [esp+14h] [ebp-18h] BYREF
  int v24[2]; // [esp+18h] [ebp-14h] BYREF
  int v25; // [esp+20h] [ebp-Ch]
  char v26[4]; // [esp+24h] [ebp-8h] BYREF
  CPlayer *v27; // [esp+28h] [ebp-4h]

  v25 = sub_491080(a2);
  if ( v25 )
  {
    if ( CSMap::IsValidTile((_DWORD *)v25, a3, 0) )
    {
      CIOCriticalSection::Enter(v19);
      sub_44AE20(dword_4E1820, v26, &a1);
      v8 = sub_430C20(dword_4E1820, (int)v23);
      if ( (unsigned __int8)unknown_libname_8(v8) )
      {
        CIOCriticalSection::Leave(v20);
        result = 0;
      }
      else
      {
        v22 = sub_401000(0x218u);
        if ( v22 )
          v21 = (CPlayer *)CMonsterMagic::CMonsterMagic(v22, a2, v25, a4, a6, a7);
        else
          v21 = 0;
        v27 = v21;
        CChar::SetXY(v21, a3);
        v9 = sub_420250(v26);
        ((void (__thiscall *)(CPlayer *, _DWORD))v27->__vftable[1].~CIOObject)(v27, *(_DWORD *)(v9 + 4));
        CIOCriticalSection::Leave(v20);
        sub_412E90((CIOCriticalSection *)v27);
        v24[0] = *a3 >> 5;
        v24[1] = a3[1] >> 5;
        if ( CSMap::GetCellMap(v27, (int)v24) )
        {
          ((void (__thiscall *)(CPlayer *, int))v27->__vftable[1].OnFree)(v27, a5);
          v10 = ((int (__thiscall *)(CPlayer *))v27->__vftable[1].SendMove)(v27);
          v18 = ((int (__thiscall *)(CPlayer *, _DWORD, _DWORD, int))v27->__vftable[1].OnLoad)(
                  v27,
                  *(_DWORD *)(v27->m_nSocketRef + 64),
                  *(_DWORD *)&v27->m_szGuildClassTitle[4],
                  v10);
          v17 = v27->m_nMState;
          v16 = v27->m_nGState;
          v15 = CChar::GetMaxHP(v27);
          v14 = v27->m_nCurHP;
          v13 = v27->m_nDir;
          v12 = v27->m_ptPixel;
          v11 = std::_Mpunct<wchar_t>::do_frac_digits(v27);
          CChar::WriteInSight(
            (int)v27,
            51,
            "wdddwdddIsbds",
            *(_DWORD *)(v27->m_nSocketRef + 60),
            v11,
            v12.x,
            v12.y,
            v13,
            v14,
            v15,
            v16,
            v17,
            v18);
          sub_412EB0((CIOCriticalSection *)v27);
          result = (CIOCriticalSection *)v27;
        }
        else
        {
          sub_412EB0((CIOCriticalSection *)v27);
          if ( v27 )
            ((void (__thiscall *)(CPlayer *, int))v27->~CIOObject)(v27, 1);
          result = 0;
        }
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    LOG_ERR("CMonsterMagic::Create() not find Map (map:%d)", a2);
    result = 0;
  }
  return result;
}
// 441E31: variable 'v19' is possibly undefined
// 441E6B: variable 'v20' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];

//----- (00442030) --------------------------------------------------------
void __thiscall CMonsterMagic::Tick(int this)
{
  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( *(_DWORD *)(this + 468) < GetTickCount() )
    {
LABEL_3:
      sub_412EB0((CIOCriticalSection *)this);
      CChar::WriteInSight(this, 61, "db", *(_DWORD *)(this + 28), 9);
      CBase::Delete((CItem *)this);
      return;
    }
    if ( *(_DWORD *)(this + 484) )
    {
      if ( sub_40B2F0(*(_DWORD **)(this + 484)) )
        goto LABEL_3;
      (*(void (__thiscall **)(_DWORD, int, int))(**(_DWORD **)(this + 492) + 72))(*(_DWORD *)(this + 492), this, this);
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}

//----- (00442110) --------------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __thiscall CMonsterMagic::SetProperty(CPlayer *pChar, int a2)
{
  CChar *v2; // [esp-8h] [ebp-Ch]
  unsigned int v3; // [esp-4h] [ebp-8h]
  CPlayer *pOwnera; // [esp+0h] [ebp-4h]
  int savedregs; // [esp+4h] [ebp+0h]

  pChar->m_nSocketRef = a2;
  strcpy(pChar->m_szName, (const char *)(a2 + 32));
  CMagic::ApplyPrtyIce((CMagic *)&pChar->m_nGuildLevel, pChar, v2, v3, (int)pChar, savedregs);
  CMonsterSkill::SetCurSkillDefault((int)&pOwnera->m_nGuildLevel);
}
// 44214B: positive sp value 8 has been found
// 442146: variable 'v2' is possibly undefined
// 442146: variable 'v3' is possibly undefined
// 442146: variable 'savedregs' is possibly undefined
// 44214E: variable 'pOwnera' is possibly undefined

//----- (00442160) --------------------------------------------------------
void __thiscall CMonsterMagic::Add(int this, volatile int *a2)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v2; // eax
  char v4[8]; // [esp+4h] [ebp-18h] BYREF
  int v5; // [esp+Ch] [ebp-10h]
  int v6; // [esp+10h] [ebp-Ch]
  char v7[8]; // [esp+14h] [ebp-8h] BYREF

  sub_4010D0(this);
  CMonsterObject::Insert((CIOCriticalSection *)&unk_4E1A00, (CLink *)(this + 428));
  CRWLock::WriteLock(&unk_4E1858);
  v6 = this;
  v5 = *(_DWORD *)(this + 28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v7);
  sub_445DF0(
    (int)dword_4E184C,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v4,
    v2);
  CRWLock::WriteUnlock(&unk_4E1858);
  if ( a2 )
  {
    sub_4010D0((int)a2);
    *(_DWORD *)(this + 484) = a2;
  }
}
// 4421B7: variable 'v2' is possibly undefined
// 4E184C: using guessed type int dword_4E184C[3];

//----- (004421F0) --------------------------------------------------------
void __thiscall CMonsterBlackBug::Tick(int this)
{
  int v2; // [esp+4h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-8h]
  DWORD v4; // [esp+Ch] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v4 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 0x2000) && v4 >= *(_DWORD *)(this + 556) )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)this + 112))(this, 0x2000);
      sub_412EB0((CIOCriticalSection *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v4 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      if ( !sub_40F5F0(this + 488) )
      {
        CMonsterEgg::OnSummon((_DWORD *)this);
        v3 = -1;
        if ( !*(_DWORD *)(this + 664) )
          *(_DWORD *)(this + 664) = v4 + 12000;
        if ( *(_DWORD *)(this + 664) <= v4 )
        {
          *(_DWORD *)(this + 664) = v4 + 120000;
          if ( *(_DWORD *)(this + 480) != 4 )
            v3 = 16;
        }
        if ( v3 >= 0 )
        {
          if ( CMonsterSkill::SetCurSkill((_DWORD *)(this + 488), v3) )
            *(_DWORD *)(this + 480) = 5;
        }
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}
// 442315: conditional instruction was optimized away because of '%var_8.4==FFFFFFFF'
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (00442360) --------------------------------------------------------
void __thiscall CMonsterReal::Die(int a1, int a5, int a6, int *a7, int *a8)
{
  int v5; // eax
  int a4; // [esp+4h] [ebp-4h] BYREF

  *(_DWORD *)(a1 + 272) = 0;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a5 + 76))(a5, *(_DWORD *)(a1 + 28), a6);
  a4 = 0;
  CMonsterReal::AllotExp(a1, a7, a8, &a4);
  v5 = (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 164))(a5);
  CInitMonster::DropItem(*(void **)(a1 + 440), a1, *a7, *a8, a4, v5);
  CChar::CancelAllBuff((std::locale::facet **)a1);
  CChar::WriteInSight(a1, 61, "db", *(_DWORD *)(a1 + 28), 9);
}

//----- (00442410) --------------------------------------------------------
int __thiscall CMonsterBlackBug::Damage(CIOCriticalSection *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax
  int v8; // [esp+0h] [ebp-20h]
  int v9; // [esp+4h] [ebp-1Ch]
  char v11[4]; // [esp+Ch] [ebp-14h] BYREF
  int a2a; // [esp+10h] [ebp-10h] BYREF
  int a4a; // [esp+14h] [ebp-Ch]
  int v14; // [esp+18h] [ebp-8h]
  int v15; // [esp+1Ch] [ebp-4h]

  if ( ((int (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[7].Spare[1])(this) )
    return 1;
  if ( a7 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 52))(a7);
  else
    v9 = 1;
  a4a = v9;
  v15 = CChar::GetFinalDamage(this, (_DWORD *)a2, a3, v9);
  if ( v15 > 0 )
  {
    CMonsterReal::ManageBuff(this);
    sub_412E90(this);
    if ( CMonsterReal::ApplyDamage((int)this, a2, a3, v15, (int *)a4, a5, (int *)a6, a7) )
    {
      v14 = *(_DWORD *)a6 + *(_DWORD *)a4;
      if ( a7 )
        v8 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 24))(a7);
      else
        v8 = 0;
      ((void (__thiscall *)(CIOCriticalSection *, int, int, int))this->m_critical_section.DebugInfo[6].ContentionCount)(
        this,
        a2,
        v14,
        v8);
      if ( (int)this[8].m_critical_section.LockSemaphore > 0 )
      {
        (*(void (__thiscall **)(CIOCriticalSection *, int, int))&this->m_critical_section.DebugInfo[8].Type)(
          this,
          v14,
          a4a);
        sub_412EB0(this);
      }
      else
      {
        a2a = 0;
        *(_DWORD *)v11 = 0;
        if ( RandomBetween(1, 100) > 60 )
        {
          ((void (__thiscall *)(CIOCriticalSection *, int, _DWORD, int, int))this->m_critical_section.DebugInfo[7].ProcessLocksList.Flink)(
            this,
            312,
            0,
            3,
            1);
          CMonsterEgg::OnSummon(this);
        }
        ((void (__thiscall *)(CIOCriticalSection *, int, _DWORD, int *, char *))this->m_critical_section.DebugInfo[7].ProcessLocksList.Blink)(
          this,
          a2,
          *(_DWORD *)a5,
          &a2a,
          v11);
        sub_412EB0(this);
        CMonsterReal::AllotTransformExp(this, a2a, *(int *)v11);
        CBase::Delete((CItem *)this);
      }
      result = 1;
    }
    else
    {
      sub_412EB0(this);
      result = 1;
    }
  }
  else
  {
    *(_DWORD *)a6 = 0;
    *(_DWORD *)a4 = 0;
    result = 0;
  }
  return result;
}

//----- (004425E0) --------------------------------------------------------
void __thiscall CMonsterBlackBug::UpdateChild(CIOCriticalSection *this, int a2)
{
  _DWORD *i; // [esp+4h] [ebp-4h]

  if ( !sub_40B2F0(this) )
  {
    sub_412E90(this);
    for ( i = (_DWORD *)this[20].m_dwEIP[1]; i && i[8] != a2; i = (_DWORD *)i[21] )
      ;
    if ( i )
    {
      --i[11];
      --i[12];
    }
    sub_412EB0(this);
  }
  sub_40AD90(this, a2);
}

//----- (00442670) --------------------------------------------------------
CGenMonster *__thiscall CMonsterBlackBug::Summon(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CGenMonster *result; // eax
  CGenMonster *v6; // [esp+0h] [ebp-14h]
  CGenMonster *v8; // [esp+8h] [ebp-Ch]
  CGenMonster *i; // [esp+10h] [ebp-4h]

  for ( i = (CGenMonster *)this[167]; i && i->m_nIndex != a2; i = i->m_pNextGen )
    ;
  if ( i )
  {
    result = i;
    i->m_nMax += a5;
    if ( i->m_nMax > a4 )
    {
      result = i;
      i->m_nMax = a4;
    }
  }
  else
  {
    v8 = (CGenMonster *)sub_401000(0x58u);
    if ( v8 )
      v6 = CGenMonster::CGenMonster(v8, this, a2, a3, a5);
    else
      v6 = 0;
    v6->m_pNextGen = (CGenMonster *)this[167];
    result = v6;
    this[167] = v6;
  }
  return result;
}

//----- (00442730) --------------------------------------------------------
void __thiscall CMonsterSiegeGunRuins::AI(int *this)
{
  if ( !CMonster::IsRemoved(this) && !(*(int (__thiscall **)(int *))(*this + 252))(this) )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( this[116] )
    {
      if ( !CChar::IsNormal(this[116]) )
      {
        (*(void (__thiscall **)(int *, int))(*this + 132))(this, this[116]);
        (*(void (__thiscall **)(int *, _DWORD))(*this + 188))(this, 0);
      }
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}

//----- (004427C0) --------------------------------------------------------
void __thiscall CMonsterEgg::Tick(void *this)
{
  int v2; // [esp+8h] [ebp-8h]
  DWORD v3; // [esp+Ch] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    sub_412E90((CIOCriticalSection *)this);
    v3 = GetTickCount();
    if ( *((_DWORD *)this + 117) >= GetTickCount() )
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *((_DWORD *)this + 68) < v2 && v3 >= *((_DWORD *)this + 118) )
      {
        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
    else
    {
      (*(void (__thiscall **)(void *, _DWORD, _DWORD))(*(_DWORD *)this + 76))(this, *((_DWORD *)this + 7), 0);
      (*(void (__thiscall **)(void *, int, int, int, int))(*(_DWORD *)this + 232))(this, 313, 1, 3, 2);
      CMonsterEgg::OnSummon(this);
      CChar::CancelAllBuff((std::locale::facet **)this);
      CChar::WriteInSight((int)this, 61, "db", *((_DWORD *)this + 7), 9);
      sub_412EB0((CIOCriticalSection *)this);
      CBase::Delete((CItem *)this);
    }
  }
}

//----- (004428D0) --------------------------------------------------------
int __thiscall CMonsterEgg::Summon(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CGenMonster *v6; // [esp+0h] [ebp-14h]
  CGenMonster *v8; // [esp+8h] [ebp-Ch]
  _DWORD *i; // [esp+10h] [ebp-4h]

  for ( i = (_DWORD *)this[167]; i && i[8] != a2; i = (_DWORD *)i[21] )
    ;
  if ( i )
  {
    i[11] += a5;
    if ( i[11] > a4 )
      i[11] = a4;
  }
  else
  {
    v8 = (CGenMonster *)sub_401000(0x58u);
    if ( v8 )
      v6 = CGenMonster::CGenMonster(v8, this, a2, a3, a5);
    else
      v6 = 0;
    v6->m_pNextGen = (CGenMonster *)this[167];
    this[167] = v6;
  }
  return (int)CMonsterEgg::OnSummon(this);
}

//----- (004429A0) --------------------------------------------------------
_DWORD *__thiscall CMonsterEgg::OnSummon(_DWORD *this)
{
  _DWORD *result; // eax
  int i; // [esp+4h] [ebp-8h]
  _DWORD *a1; // [esp+8h] [ebp-4h]

  result = this;
  for ( a1 = (_DWORD *)this[167]; a1; a1 = result )
  {
    for ( i = 0; i < 3 && a1[12] < a1[11] && CMonster::Create(a1, (int)this); ++i )
      InterlockedIncrement(a1 + 12);
    result = (_DWORD *)a1[21];
  }
  return result;
}

//----- (00442A20) --------------------------------------------------------
void __thiscall CMonsterCocoon::Tick(int this)
{
  int v2; // [esp+4h] [ebp-8h]
  DWORD v3; // [esp+8h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v3 = GetTickCount();
    if ( v3 < *(_DWORD *)(this + 664) )
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v3 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
    else
    {
      CChar::WriteInSight(this, 61, "db", *(_DWORD *)(this + 28), 9);
      sub_412EB0((CIOCriticalSection *)this);
      CBase::Delete((CItem *)this);
    }
  }
}

//----- (00442AF0) --------------------------------------------------------
void __cdecl CMonsterMaguniMaster::Create(int a1, int a2)
{
  int v2; // eax
  int v3; // ecx
  int v4; // eax
  int v5; // eax
  tagPOINT v6; // [esp-30h] [ebp-6Ch]
  int v7; // [esp-28h] [ebp-64h]
  int v8; // [esp-24h] [ebp-60h]
  int v9; // [esp-20h] [ebp-5Ch]
  int v10; // [esp-1Ch] [ebp-58h]
  __int64 v11; // [esp-18h] [ebp-54h]
  int v12; // [esp-10h] [ebp-4Ch]
  CIOCriticalSection *v13; // [esp+0h] [ebp-3Ch]
  CIOCriticalSection *v14; // [esp+0h] [ebp-3Ch]
  CPlayer *v15; // [esp+4h] [ebp-38h]
  char v16[4]; // [esp+10h] [ebp-2Ch] BYREF
  int v17; // [esp+14h] [ebp-28h] BYREF
  CMemory **v18; // [esp+18h] [ebp-24h]
  CIOCriticalSection *v19; // [esp+1Ch] [ebp-20h]
  int a5[2]; // [esp+20h] [ebp-1Ch] BYREF
  CSMap *v21; // [esp+28h] [ebp-14h]
  int v22; // [esp+2Ch] [ebp-10h] BYREF
  int v23; // [esp+30h] [ebp-Ch]
  CPlayer *v24; // [esp+34h] [ebp-8h]
  char v25[4]; // [esp+38h] [ebp-4h] BYREF

  v21 = (CSMap *)sub_491080(4);
  if ( v21 )
  {
    v18 = sub_401000(0x2B0u);
    if ( v18 )
      v15 = (CPlayer *)sub_442DF0(v18);
    else
      v15 = 0;
    v24 = v15;
    CIOCriticalSection::Enter(v13);
    v17 = 329;
    sub_44AE20(dword_4E1820, v25, &v17);
    v2 = sub_430C20(dword_4E1820, (int)v16);
    if ( (unsigned __int8)unknown_libname_8(v2)
      || (v19 = *(CIOCriticalSection **)(sub_420250(v25) + 4),
          ((int)v19[9].m_critical_section.LockSemaphore & (1 << dword_4E35B8)) == 0) )
    {
      CIOCriticalSection::Leave(v14);
    }
    else
    {
      v3 = *(_DWORD *)(a1 + 336);
      v22 = *(_DWORD *)(a1 + 332);
      v23 = v3;
      v22 += RandomBetween(0, 16);
      v23 += RandomBetween(0, 16);
      v24->m_nMap = 4;
      v24->m_pMap = v21;
      CChar::SetXY(v24, &v22);
      CChar::SetDirection(
        v24,
        *(_DWORD *)(a2 + 332) - *(_DWORD *)(a1 + 332),
        *(_DWORD *)(a2 + 336) - *(_DWORD *)(a1 + 336));
      ((void (__thiscall *)(CPlayer *, CIOCriticalSection *))v24->__vftable[1].~CIOObject)(v24, v19);
      HIDWORD(v24->m_nExp) = 1;
      memset(&v24->m_skill.m_pSkill[9], 0, 0x14u);
      v24->m_nContribute = GetTickCount() + 10000;
      v24->m_nFace = v24->m_nContribute;
      CIOCriticalSection::Leave(v14);
      sub_412E90((CIOCriticalSection *)v24);
      a5[0] = v22 >> 5;
      a5[1] = v23 >> 5;
      if ( CSMap::GetCellMap(v24, (int)a5) )
      {
        ((void (__thiscall *)(CPlayer *, _DWORD))v24->__vftable[1].OnFree)(v24, 0);
        v4 = ((int (__thiscall *)(CPlayer *))v24->__vftable[1].SendMove)(v24);
        v12 = ((int (__thiscall *)(CPlayer *, int, _DWORD, int))v24->__vftable[1].OnLoad)(
                v24,
                *(_DWORD *)(v24->m_nSocketRef + 64) | 0x80,
                *(_DWORD *)&v24->m_szGuildClassTitle[4],
                v4);
        v11 = v24->m_nMState;
        v10 = v24->m_nGState;
        v9 = CChar::GetMaxHP(v24);
        v8 = v24->m_nCurHP;
        v7 = v24->m_nDir;
        v6 = v24->m_ptPixel;
        v5 = std::_Mpunct<wchar_t>::do_frac_digits(v24);
        CChar::WriteInSight(
          (int)v24,
          51,
          "wdddwdddIsbds",
          *(_DWORD *)(v24->m_nSocketRef + 60),
          v5,
          v6.x,
          v6.y,
          v7,
          v8,
          v9,
          v10,
          v11,
          v12);
        sub_412EB0((CIOCriticalSection *)v24);
      }
      else
      {
        sub_412EB0((CIOCriticalSection *)v24);
        if ( v24 )
          ((void (__thiscall *)(CPlayer *, int))v24->~CIOObject)(v24, 1);
      }
    }
  }
}
// 442B43: variable 'v13' is possibly undefined
// 442B84: variable 'v14' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00442DF0) --------------------------------------------------------
_DWORD *__thiscall sub_442DF0(_DWORD *this)
{
  sub_43A7D0(this);
  *this = &off_4B8A90;
  return this;
}
// 4B8A90: using guessed type int (__stdcall *off_4B8A90)(int);

//----- (00442E10) --------------------------------------------------------
void __thiscall CMonsterMaguniMaster::Tick(int this)
{
  int v2; // [esp+4h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-8h]
  DWORD v4; // [esp+Ch] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v4 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 0x2000) && v4 >= *(_DWORD *)(this + 556) )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)this + 112))(this, 0x2000);
      sub_412EB0((CIOCriticalSection *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v4 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      if ( *(_DWORD *)(this + 476) && !sub_40F5F0(this + 488) && !sub_446110((void *)(this + 560)) )
      {
        v3 = -1;
        if ( !*(_DWORD *)(this + 668) )
          *(_DWORD *)(this + 668) = v4 + 120000;
        if ( *(_DWORD *)(this + 668) <= v4 )
        {
          *(_DWORD *)(this + 668) = v4 + 100000;
          if ( RandomBetween(1, 100) <= 90 )
            v3 = 17;
        }
        if ( *(_DWORD *)(this + 672) <= v4 )
        {
          *(_DWORD *)(this + 672) = v4 + 18000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 70 )
            v3 = 19;
        }
        if ( *(_DWORD *)(this + 676) <= v4 )
        {
          *(_DWORD *)(this + 676) = v4 + 47000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 80 )
            v3 = 20;
        }
        if ( *(_DWORD *)(this + 680) <= v4 )
        {
          *(_DWORD *)(this + 680) = v4 + 11000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 80 )
            v3 = 18;
        }
        if ( v3 >= 0 )
        {
          if ( CMonsterSkill::SetCurSkill((_DWORD *)(this + 488), v3) )
            *(_DWORD *)(this + 480) = 5;
        }
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}
// 442F4D: conditional instruction was optimized away because of '%var_8.4==FFFFFFFF'
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (00443060) --------------------------------------------------------
CMonsterBigBirdMother *__thiscall CMonsterBigBirdMother::CMonsterBigBirdMother(CMonsterBigBirdMother *this)
{
  sub_43A7D0(this);
  *(_DWORD *)this = &off_4B9470;
  *((_DWORD *)this + 169) = 0;
  return this;
}
// 4B9470: using guessed type int (__stdcall *off_4B9470)(int);

//----- (00443090) --------------------------------------------------------
void __cdecl CMonsterBigBirdMother::Create()
{
  int v0; // eax
  int v1; // eax
  int v2; // eax
  tagPOINT v3; // [esp-30h] [ebp-6Ch]
  int v4; // [esp-28h] [ebp-64h]
  int v5; // [esp-24h] [ebp-60h]
  int v6; // [esp-20h] [ebp-5Ch]
  int v7; // [esp-1Ch] [ebp-58h]
  __int64 v8; // [esp-18h] [ebp-54h]
  int v9; // [esp-10h] [ebp-4Ch]
  CIOCriticalSection *v10; // [esp+0h] [ebp-3Ch]
  CIOCriticalSection *v11; // [esp+0h] [ebp-3Ch]
  CMonsterBigBirdMother *v12; // [esp+4h] [ebp-38h]
  char v13[4]; // [esp+10h] [ebp-2Ch] BYREF
  int v14; // [esp+14h] [ebp-28h] BYREF
  CMemory **v15; // [esp+18h] [ebp-24h]
  CIOCriticalSection *v16; // [esp+1Ch] [ebp-20h]
  int a5[2]; // [esp+20h] [ebp-1Ch] BYREF
  CSMap *v18; // [esp+28h] [ebp-14h]
  int v19; // [esp+2Ch] [ebp-10h] BYREF
  int v20; // [esp+30h] [ebp-Ch]
  CPlayer *v21; // [esp+34h] [ebp-8h]
  char v22[4]; // [esp+38h] [ebp-4h] BYREF

  v18 = (CSMap *)sub_491080(4);
  if ( v18 )
  {
    v15 = sub_401000(0x2A8u);
    if ( v15 )
      v12 = CMonsterBigBirdMother::CMonsterBigBirdMother((CMonsterBigBirdMother *)v15);
    else
      v12 = 0;
    v21 = (CPlayer *)v12;
    CIOCriticalSection::Enter(v10);
    v14 = 317;
    sub_44AE20(dword_4E1820, v22, &v14);
    v0 = sub_430C20(dword_4E1820, (int)v13);
    if ( (unsigned __int8)unknown_libname_8(v0)
      || (v16 = *(CIOCriticalSection **)(sub_420250(v22) + 4),
          ((int)v16[9].m_critical_section.LockSemaphore & (1 << dword_4E35B8)) == 0) )
    {
      CIOCriticalSection::Leave(v11);
    }
    else
    {
      v19 = 20187;
      v20 = 66717;
      v21->m_nMap = 4;
      v21->m_pMap = v18;
      CChar::SetXY(v21, &v19);
      CChar::SetDirection(v21, -2, 3);
      ((void (__thiscall *)(CPlayer *, CIOCriticalSection *))v21->__vftable[1].~CIOObject)(v21, v16);
      HIDWORD(v21->m_nExp) = 1;
      memset(&v21->m_skill.m_pSkill[8], 0, 0xCu);
      v21->m_nContribute = GetTickCount() + 10000;
      v21->m_nFace = v21->m_nContribute;
      CIOCriticalSection::Leave(v11);
      sub_412E90((CIOCriticalSection *)v21);
      a5[0] = v19 >> 5;
      a5[1] = v20 >> 5;
      if ( CSMap::GetCellMap(v21, (int)a5) )
      {
        ((void (__thiscall *)(CPlayer *, _DWORD))v21->__vftable[1].OnFree)(v21, 0);
        v1 = ((int (__thiscall *)(CPlayer *))v21->__vftable[1].SendMove)(v21);
        v9 = ((int (__thiscall *)(CPlayer *, int, _DWORD, int))v21->__vftable[1].OnLoad)(
               v21,
               *(_DWORD *)(v21->m_nSocketRef + 64) | 0x80,
               *(_DWORD *)&v21->m_szGuildClassTitle[4],
               v1);
        v8 = v21->m_nMState;
        v7 = v21->m_nGState;
        v6 = CChar::GetMaxHP(v21);
        v5 = v21->m_nCurHP;
        v4 = v21->m_nDir;
        v3 = v21->m_ptPixel;
        v2 = std::_Mpunct<wchar_t>::do_frac_digits(v21);
        CChar::WriteInSight(
          (int)v21,
          51,
          "wdddwdddIsbds",
          *(_DWORD *)(v21->m_nSocketRef + 60),
          v2,
          v3.x,
          v3.y,
          v4,
          v5,
          v6,
          v7,
          v8,
          v9);
        sub_412EB0((CIOCriticalSection *)v21);
      }
      else
      {
        sub_412EB0((CIOCriticalSection *)v21);
        if ( v21 )
          ((void (__thiscall *)(CPlayer *, int))v21->~CIOObject)(v21, 1);
      }
    }
  }
}
// 4430E3: variable 'v10' is possibly undefined
// 443124: variable 'v11' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00443340) --------------------------------------------------------
void __thiscall CMonsterBigBirdMother::Tick(int this)
{
  int v2; // [esp+4h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-8h]
  DWORD v4; // [esp+Ch] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v4 = GetTickCount();
    v2 = CChar::GetMaxHP((CPlayer *)this);
    if ( *(_DWORD *)(this + 272) < v2 && v4 >= *(_DWORD *)(this + 472) )
    {
      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
      CMonsterReal::ResetHostility((CIOCriticalSection *)this);
    }
    if ( !sub_40F5F0(this + 488) && !sub_446110((void *)(this + 560)) )
    {
      (*(void (__thiscall **)(int))(*(_DWORD *)this + 260))(this);
      v3 = -1;
      if ( *(_DWORD *)(this + 664) <= v4 )
      {
        *(_DWORD *)(this + 664) = v4 + 30000;
        if ( RandomBetween(1, 100) <= 80 )
          v3 = 21;
      }
      if ( *(_DWORD *)(this + 668) <= v4 )
      {
        *(_DWORD *)(this + 668) = v4 + 37000;
        if ( v3 < 0 && RandomBetween(1, 100) <= 90 )
          v3 = 22;
      }
      if ( *(_DWORD *)(this + 672) <= v4 )
      {
        *(_DWORD *)(this + 672) = v4 + 72000;
        if ( v3 < 0 && RandomBetween(1, 100) <= 80 )
          v3 = 23;
      }
      if ( v3 >= 0 )
      {
        if ( CMonsterSkill::SetCurSkill((_DWORD *)(this + 488), v3) )
          *(_DWORD *)(this + 480) = 5;
      }
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}
// 443426: conditional instruction was optimized away because of '%var_8.4==FFFFFFFF'
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (004434F0) --------------------------------------------------------
CGenMonster *__thiscall CMonsterBigBirdMother::Summon(_DWORD *this, int a2, int a3, int a4, int a5)
{
  CGenMonster *result; // eax
  CGenMonster *v6; // [esp+0h] [ebp-14h]
  CGenMonster *v8; // [esp+8h] [ebp-Ch]
  CGenMonster *i; // [esp+10h] [ebp-4h]

  for ( i = (CGenMonster *)this[169]; i && i->m_nIndex != a2; i = i->m_pNextGen )
    ;
  if ( i )
  {
    result = i;
    i->m_nMax += a5;
    if ( i->m_nMax > a4 )
    {
      result = i;
      i->m_nMax = a4;
    }
  }
  else
  {
    v8 = (CGenMonster *)sub_401000(0x58u);
    if ( v8 )
      v6 = CGenMonster::CGenMonster(v8, this, a2, a3, a5);
    else
      v6 = 0;
    v6->m_pNextGen = (CGenMonster *)this[169];
    result = v6;
    this[169] = v6;
  }
  return result;
}

//----- (004435B0) --------------------------------------------------------
_DWORD *__thiscall CMonsterBigBirdMother::OnSummon(_DWORD *this)
{
  _DWORD *result; // eax
  int i; // [esp+4h] [ebp-8h]
  _DWORD *a1; // [esp+8h] [ebp-4h]

  result = this;
  for ( a1 = (_DWORD *)this[169]; a1; a1 = result )
  {
    for ( i = 0; i < 3 && a1[12] < a1[11] && CMonster::Create(a1, (int)this); ++i )
      InterlockedIncrement(a1 + 12);
    result = (_DWORD *)a1[21];
  }
  return result;
}

//----- (00443630) --------------------------------------------------------
int __thiscall CMonsterBigBirdMother::Move(int this)
{
  int result; // eax
  unsigned int v2; // [esp+8h] [ebp-48h]
  int v3; // [esp+18h] [ebp-38h]
  __int64 v4; // [esp+1Ch] [ebp-34h]
  int a2[2]; // [esp+28h] [ebp-28h] BYREF
  __int64 v7; // [esp+30h] [ebp-20h]
  unsigned int a3; // [esp+3Ch] [ebp-14h] BYREF
  __int64 v9; // [esp+40h] [ebp-10h]
  int v10; // [esp+48h] [ebp-8h]
  unsigned int v11; // [esp+4Ch] [ebp-4h]

  v4 = CChar::IsMState((_QWORD *)this, 268436224i64);
  result = HIDWORD(v4) | v4;
  if ( !v4 )
  {
    result = GetTickCount();
    v11 = result;
    v3 = *(_DWORD *)(this + 480);
    switch ( v3 )
    {
      case 1:
        result = this;
        if ( v11 >= *(_DWORD *)(this + 556) )
        {
          result = CMonsterReal::ScanSight((int *)this);
          v10 = result;
          if ( result )
          {
            *(_DWORD *)(this + 656) = 0;
            result = (*(int (__thiscall **)(int, int))(*(_DWORD *)this + 188))(this, v10);
          }
        }
        break;
      case 2:
        if ( !dword_4E1A68 )
        {
          result = v11;
          dword_4E1A68 = v11;
        }
        if ( v11 >= *(_DWORD *)(this + 556) )
        {
          v9 = sub_43D870((_DWORD *)(this + 332), (_DWORD *)(*(_DWORD *)(this + 464) + 332));
          if ( *(_DWORD *)(this + 316) == *(_DWORD *)(*(_DWORD *)(this + 464) + 316)
            && v9 <= *(_DWORD *)(this + 548) * *(_DWORD *)(this + 548) )
          {
            result = *(_DWORD *)(this + 312) * *(_DWORD *)(this + 312);
            v2 = result;
            if ( SHIDWORD(v9) > result >> 31 || SHIDWORD(v9) >= result >> 31 && (result = v9, (unsigned int)v9 > v2) )
            {
              *(_DWORD *)(this + 480) = 1;
              *(_DWORD *)(this + 556) = v11;
              result = v11;
              *(_DWORD *)(this + 468) = v11;
            }
            else
            {
              *(_DWORD *)(this + 480) = 4;
              dword_4E1A68 = 0;
            }
          }
          else
          {
            (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)this + 132))(this, *(_DWORD *)(this + 464));
            result = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)this + 188))(this, 0);
            dword_4E1A68 = 0;
          }
        }
        break;
      case 7:
        if ( *(_DWORD *)(this + 512) == 290 )
        {
          result = this;
          if ( v11 >= *(_DWORD *)(this + 556) )
          {
            v7 = sub_43D870((_DWORD *)(this + 332), (_DWORD *)(*(_DWORD *)(this + 484) + 332));
            if ( v7 > *(_DWORD *)(this + 312) * *(_DWORD *)(this + 312) )
            {
              (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)this + 188))(this, *(_DWORD *)(this + 484));
              a3 = (*(int (__thiscall **)(int, int))(*(_DWORD *)this + 152))(this, 1);
              if ( !CMonsterReal::GetChasePt(this, a2, &a3)
                || (result = sub_4925C0(*(char **)(this + 320), (CPlayer *)this, a2[0], a2[1], 0, 1)) == 0 )
              {
                (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)this + 132))(this, *(_DWORD *)(this + 464));
                (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)this + 188))(this, 0);
                result = this;
                *(_DWORD *)(this + 480) = 1;
              }
            }
            else
            {
              (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)this + 132))(this, *(_DWORD *)(this + 464));
              (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)this + 188))(this, 0);
              result = this;
              *(_DWORD *)(this + 480) = 1;
            }
          }
        }
        else
        {
          *(_DWORD *)(this + 480) = 1;
        }
        break;
    }
  }
  return result;
}
// 4E1A68: using guessed type int dword_4E1A68;

//----- (00443970) --------------------------------------------------------
int __thiscall CMonsterBigBirdMother::Damage(CIOCriticalSection *this, _DWORD *a2, int a3, int *a4, _DWORD *a5, int *a6, int a7)
{
  int result; // eax
  int v8; // [esp+0h] [ebp-18h]
  int v9; // [esp+4h] [ebp-14h]
  int v11; // [esp+10h] [ebp-8h]
  int v12; // [esp+14h] [ebp-4h]

  if ( ((int (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[7].Spare[1])(this) )
    return 1;
  if ( a7 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 52))(a7);
  else
    v9 = 1;
  v12 = CChar::GetFinalDamage(this, a2, a3, v9);
  if ( v12 > 0 )
  {
    CMonsterReal::ManageBuff(this);
    sub_412E90(this);
    if ( CMonsterReal::ApplyDamage((int)this, (int)a2, a3, v12, a4, (int)a5, a6, a7) )
    {
      v11 = *a6 + *a4;
      if ( a7 )
        v8 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 24))(a7);
      else
        v8 = 0;
      ((void (__thiscall *)(CIOCriticalSection *, _DWORD *, int, int))this->m_critical_section.DebugInfo[6].ContentionCount)(
        this,
        a2,
        v11,
        v8);
      if ( (int)this[8].m_critical_section.LockSemaphore > 0 )
      {
        (*(void (__thiscall **)(CIOCriticalSection *, int, int))&this->m_critical_section.DebugInfo[8].Type)(
          this,
          v11,
          v9);
        sub_412EB0(this);
      }
      else
      {
        this[8].m_critical_section.LockSemaphore = 0;
        (*(void (__thiscall **)(_DWORD *, unsigned int, _DWORD))(*a2 + 76))(a2, this->m_dwEIP[1], *a5);
        CChar::CancelAllBuff((std::locale::facet **)this);
        CChar::WriteInSight((int)this, 61, "db", this->m_dwEIP[1], 9);
        sub_412EB0(this);
        CBase::Delete((CItem *)this);
        Sleep(0x157Cu);
        CMonsterBigBirdMaster::Create((int)this[14].m_critical_section.LockSemaphore);
      }
      result = 1;
    }
    else
    {
      sub_412EB0(this);
      result = 1;
    }
  }
  else
  {
    *a6 = 0;
    *a4 = 0;
    result = 0;
  }
  return result;
}

//----- (00443B30) --------------------------------------------------------
void __fastcall CMonsterBigBirdMother::Attack(int a1, int a2)
{
  int v2; // [esp-14h] [ebp-74h]
  int v3; // [esp-10h] [ebp-70h]
  int v4; // [esp-Ch] [ebp-6Ch]
  int v5; // [esp-8h] [ebp-68h]
  int v6; // [esp-4h] [ebp-64h]
  int a3; // [esp+0h] [ebp-60h]
  int v9; // [esp+30h] [ebp-30h] BYREF
  int v10; // [esp+34h] [ebp-2Ch] BYREF
  CIOObject *v11; // [esp+38h] [ebp-28h]
  int v12; // [esp+3Ch] [ebp-24h] BYREF
  int v13; // [esp+40h] [ebp-20h]
  int v14; // [esp+44h] [ebp-1Ch]
  int v15; // [esp+48h] [ebp-18h]
  CIOObject *v16; // [esp+4Ch] [ebp-14h]
  __int64 v17; // [esp+50h] [ebp-10h]
  DWORD v18; // [esp+5Ch] [ebp-4h]

  if ( !CChar::IsMState((_QWORD *)a1, 268435712i64) )
  {
    v18 = GetTickCount();
    if ( v18 >= *(_DWORD *)(a1 + 468) )
    {
      v17 = sub_43D870((_DWORD *)(a1 + 332), (_DWORD *)(*(_DWORD *)(a1 + 464) + 332));
      if ( *(_DWORD *)(a1 + 316) == *(_DWORD *)(*(_DWORD *)(a1 + 464) + 316)
        && v17 <= *(_DWORD *)(a1 + 548) * *(_DWORD *)(a1 + 548)
        && v17 <= *(_DWORD *)(a1 + 312) * *(_DWORD *)(a1 + 312)
        && *(_DWORD *)(a1 + 464) != *(_DWORD *)(a1 + 484) )
      {
        *(_DWORD *)(a1 + 468) = v18 + CChar::GetASpeed((CPlayer *)a1);
        *(_DWORD *)(a1 + 556) = *(_DWORD *)(a1 + 468);
        v16 = (CIOObject *)CSMap::GetPlayerListInRect((_DWORD *)(*(_DWORD *)(a1 + 464) + 324), 20);
        v15 = 0;
        while ( v16 )
        {
          if ( ++v15 >= 7 )
            break;
          v11 = (CIOObject *)unknown_libname_7(v16);
          if ( !CChar::IsMState(v11, 0x80000i64) )
          {
            CIOObject::AddRef(v11, (volatile int *)&v11[22]);
            v12 = 0;
            v9 = 0;
            v14 = 0;
            v13 = 0;
            v10 = (*(int (__thiscall **)(int, CIOObject *))(*(_DWORD *)a1 + 168))(a1, v11);
            v13 = ((int (__thiscall *)(CIOObject *, int))v11->__vftable[6].OnFree)(v11, a1);
            if ( !v13 )
            {
              if ( ((int (__thiscall *)(CIOObject *))v11->__vftable[2].OnTimerCallback)(v11) )
              {
                a3 = CChar::IsBState(v11, 0x8000i64) ? -5 : 0;
                if ( CChar::CheckHit(a1, v11, a3) )
                {
                  sub_412EB0((CIOCriticalSection *)a1);
                  v2 = CChar::GetAttack((CPlayer *)a1);
                  v14 = ((int (__thiscall *)(CIOObject *, int, int, int *, int *, int *, _DWORD))v11->__vftable[3].~CIOObject)(
                          v11,
                          a1,
                          v2,
                          &v12,
                          &v9,
                          &v10,
                          0);
                  sub_412E90((CIOCriticalSection *)a1);
                }
              }
              if ( !v14 )
                v11->__vftable[3].OnTimer(v11, a1);
              if ( v14 )
              {
                v6 = v14 | (2 * v9) | (4 * v13);
                v5 = v10;
                v4 = v12;
                v3 = std::_Mpunct<wchar_t>::do_frac_digits(v11);
                CChar::WriteInSight(a1, 62, "ddwwb", *(_DWORD *)(a1 + 28), v3, v4, v5, v6);
              }
              CIOObject::Release(v11, (volatile int *)&v11[22]);
            }
          }
          v16 = (CIOObject *)CBaseList::Pop(v16);
        }
      }
      else
      {
        (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 132))(a1, *(_DWORD *)(a1 + 464));
        (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)a1 + 188))(a1, 0);
        *(_DWORD *)(a1 + 480) = 1;
      }
    }
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00443EE0) --------------------------------------------------------
void __thiscall CMonsterFireFlower::Tick(CIOCriticalSection *this)
{
  int v2; // [esp+4h] [ebp-8h]
  DWORD v3; // [esp+8h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    sub_412E90(this);
    v2 = -1;
    v3 = GetTickCount();
    if ( this[20].m_dwEIP[0] <= v3 )
    {
      v2 = 34;
      this[20].m_dwEIP[0] = v3 + 12000;
      this[20].m_dwEIP[1] = v3 + 7000;
    }
    if ( this[20].m_dwEIP[1] <= v3 && this[20].m_dwEIP[1] )
    {
      CChar::WriteInSight((int)this, 61, "db", this->m_dwEIP[1], 9);
      sub_412EB0(this);
      CBase::Delete((CItem *)this);
    }
    else
    {
      if ( v2 >= 0 )
      {
        if ( CMonsterSkill::SetCurSkill(&this[15].m_critical_section.RecursionCount, v2) )
          this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)5;
      }
      sub_412EB0(this);
    }
  }
}

//----- (00443FD0) --------------------------------------------------------
void __cdecl CMonsterBigBirdMaster::Create(int a1)
{
  int v1; // eax
  int v2; // eax
  int v3; // eax
  tagPOINT v4; // [esp-30h] [ebp-6Ch]
  int v5; // [esp-28h] [ebp-64h]
  int v6; // [esp-24h] [ebp-60h]
  int v7; // [esp-20h] [ebp-5Ch]
  int v8; // [esp-1Ch] [ebp-58h]
  __int64 v9; // [esp-18h] [ebp-54h]
  int v10; // [esp-10h] [ebp-4Ch]
  CIOCriticalSection *v11; // [esp+0h] [ebp-3Ch]
  CIOCriticalSection *v12; // [esp+0h] [ebp-3Ch]
  CPlayer *v13; // [esp+4h] [ebp-38h]
  char v14[4]; // [esp+10h] [ebp-2Ch] BYREF
  int v15; // [esp+14h] [ebp-28h] BYREF
  CMemory **v16; // [esp+18h] [ebp-24h]
  CIOCriticalSection *v17; // [esp+1Ch] [ebp-20h]
  int a5[2]; // [esp+20h] [ebp-1Ch] BYREF
  CSMap *v19; // [esp+28h] [ebp-14h]
  int v20; // [esp+2Ch] [ebp-10h] BYREF
  int v21; // [esp+30h] [ebp-Ch]
  CPlayer *v22; // [esp+34h] [ebp-8h]
  char v23[4]; // [esp+38h] [ebp-4h] BYREF

  v19 = (CSMap *)sub_491080(4);
  if ( v19 )
  {
    v16 = sub_401000(0x2B0u);
    if ( v16 )
      v13 = (CPlayer *)sub_444290(v16);
    else
      v13 = 0;
    v22 = v13;
    CIOCriticalSection::Enter(v11);
    v15 = 318;
    sub_44AE20(dword_4E1820, v23, &v15);
    v1 = sub_430C20(dword_4E1820, (int)v14);
    if ( (unsigned __int8)unknown_libname_8(v1)
      || (v17 = *(CIOCriticalSection **)(sub_420250(v23) + 4),
          ((int)v17[9].m_critical_section.LockSemaphore & (1 << dword_4E35B8)) == 0) )
    {
      CIOCriticalSection::Leave(v12);
    }
    else
    {
      v20 = 20187;
      v21 = 66717;
      v22->m_nMap = 4;
      v22->m_pMap = v19;
      CChar::SetXY(v22, &v20);
      CChar::SetDirection(v22, -2, 3);
      ((void (__thiscall *)(CPlayer *, CIOCriticalSection *))v22->__vftable[1].~CIOObject)(v22, v17);
      HIDWORD(v22->m_nExp) = 1;
      v22->m_dwSpecialty = a1;
      memset(&v22->m_skill.m_pSkill[9], 0, 0x10u);
      v22->m_nContribute = GetTickCount() + 10000;
      v22->m_nFace = v22->m_nContribute;
      CIOCriticalSection::Leave(v12);
      sub_412E90((CIOCriticalSection *)v22);
      a5[0] = v20 >> 5;
      a5[1] = v21 >> 5;
      if ( CSMap::GetCellMap(v22, (int)a5) )
      {
        ((void (__thiscall *)(CPlayer *, _DWORD))v22->__vftable[1].OnFree)(v22, 0);
        v2 = ((int (__thiscall *)(CPlayer *))v22->__vftable[1].SendMove)(v22);
        v10 = ((int (__thiscall *)(CPlayer *, int, _DWORD, int))v22->__vftable[1].OnLoad)(
                v22,
                *(_DWORD *)(v22->m_nSocketRef + 64) | 0x80,
                *(_DWORD *)&v22->m_szGuildClassTitle[4],
                v2);
        v9 = v22->m_nMState;
        v8 = v22->m_nGState;
        v7 = CChar::GetMaxHP(v22);
        v6 = v22->m_nCurHP;
        v5 = v22->m_nDir;
        v4 = v22->m_ptPixel;
        v3 = std::_Mpunct<wchar_t>::do_frac_digits(v22);
        CChar::WriteInSight(
          (int)v22,
          51,
          "wdddwdddIsbds",
          *(_DWORD *)(v22->m_nSocketRef + 60),
          v3,
          v4.x,
          v4.y,
          v5,
          v6,
          v7,
          v8,
          v9,
          v10);
        sub_412EB0((CIOCriticalSection *)v22);
      }
      else
      {
        sub_412EB0((CIOCriticalSection *)v22);
        if ( v22 )
          ((void (__thiscall *)(CPlayer *, int))v22->~CIOObject)(v22, 1);
      }
    }
  }
}
// 444023: variable 'v11' is possibly undefined
// 444064: variable 'v12' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00444290) --------------------------------------------------------
_DWORD *__thiscall sub_444290(_DWORD *this)
{
  sub_43A7D0(this);
  *this = &off_4B9578;
  return this;
}
// 4B9578: using guessed type int (__stdcall *off_4B9578)(int);

//----- (004442B0) --------------------------------------------------------
void __thiscall sub_4442B0(void *this)
{
  CMonsterReal::_CMonsterReal(this);
}

//----- (004442D0) --------------------------------------------------------
void __thiscall CMonsterBigBirdMaster::Tick(int this)
{
  int v2; // [esp+4h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-8h]
  DWORD v4; // [esp+Ch] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v4 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 0x2000) && v4 >= *(_DWORD *)(this + 556) )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)this + 112))(this, 0x2000);
      sub_412EB0((CIOCriticalSection *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v4 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      if ( *(_DWORD *)(this + 476) && !sub_40F5F0(this + 488) && !sub_446110((void *)(this + 560)) )
      {
        v3 = -1;
        if ( !*(_DWORD *)(this + 668) )
          *(_DWORD *)(this + 668) = v4;
        if ( *(_DWORD *)(this + 272) <= 7 * v2 / 10 && !*(_DWORD *)(this + 680)
          || *(_DWORD *)(this + 272) <= 4 * v2 / 10 && *(_DWORD *)(this + 680) == 1
          || *(_DWORD *)(this + 272) <= v2 / 10 && *(_DWORD *)(this + 680) == 2 )
        {
          if ( *(_DWORD *)(this + 272) > v2 / 10 )
          {
            if ( *(_DWORD *)(this + 272) > 4 * v2 / 10 )
              *(_DWORD *)(this + 680) = 1;
            else
              *(_DWORD *)(this + 680) = 2;
          }
          else
          {
            *(_DWORD *)(this + 680) = 3;
          }
          v3 = 28;
        }
        if ( *(_DWORD *)(this + 668) <= v4 && v3 < 0 )
          v3 = 25;
        if ( *(_DWORD *)(this + 672) <= v4 )
          *(_DWORD *)(this + 672) = v4 + 18000;
        if ( *(_DWORD *)(this + 676) <= v4 )
        {
          *(_DWORD *)(this + 676) = v4 + 47000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 80 )
            v3 = 27;
        }
        if ( v3 >= 0 )
        {
          if ( CMonsterSkill::SetCurSkill((_DWORD *)(this + 488), v3) )
            *(_DWORD *)(this + 480) = 5;
        }
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (00444560) --------------------------------------------------------
void __thiscall CMonsterMaguniMaster::Die(int a1, int a5, int a6, int *a7, int *a8)
{
  int v5; // eax
  int v7[2]; // [esp+4h] [ebp-18h] BYREF
  int v8[2]; // [esp+Ch] [ebp-10h] BYREF
  _DWORD *a1a; // [esp+14h] [ebp-8h]
  int a4; // [esp+18h] [ebp-4h] BYREF

  *(_DWORD *)(a1 + 272) = 0;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a5 + 76))(a5, *(_DWORD *)(a1 + 28), a6);
  a4 = 0;
  CMonsterReal::AllotExp(a1, a7, a8, &a4);
  v5 = (*(int (__thiscall **)(int))(*(_DWORD *)a5 + 164))(a5);
  CInitMonster::DropItem(*(void **)(a1 + 440), a1, *a7, *a8, a4, v5);
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 440) + 308) )
  {
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 440) + 312) )
    {
      a1a = (_DWORD *)CItem::CreateItem(
                        *(_DWORD *)(*(_DWORD *)(a1 + 440) + 308),
                        0,
                        *(_DWORD *)(*(_DWORD *)(a1 + 440) + 312),
                        -1);
      if ( a1a )
      {
        CChar::GetDropPt((_DWORD *)a1, v7);
        v8[0] = v7[0] >> 5;
        v8[1] = v7[1] >> 5;
        if ( CSMap::GetCellMap(a1a, (int)v8) )
        {
          a1a[20] = 1;
          (*(void (__thiscall **)(_DWORD *, int, int *, int *, int, int, int))(*a1a + 124))(
            a1a,
            a1,
            v7,
            v8,
            1,
            *a7,
            *a8);
        }
      }
    }
  }
  CChar::CancelAllBuff((std::locale::facet **)a1);
  CChar::WriteInSight(a1, 61, "db", *(_DWORD *)(a1 + 28), 9);
}

//----- (004446D0) --------------------------------------------------------
int __thiscall CMonsterSiegeGun::CMonsterSiegeGun(int this, int a2, int a3, int a4, char *Source, int a6)
{
  sub_43A7D0((_DWORD *)this);
  *(_DWORD *)this = &off_4B8CA0;
  *(_DWORD *)(this + 316) = a2;
  *(_DWORD *)(this + 320) = a3;
  *(_DWORD *)(this + 524) = a4;
  *(_DWORD *)(this + 280) = 0;
  *(_DWORD *)(this + 708) = a6;
  strcpy((char *)(this + 664), Source);
  *(_DWORD *)(this + 684) = 0;
  *(_DWORD *)(this + 712) = 1;
  return this;
}
// 4B8CA0: using guessed type int (__stdcall *off_4B8CA0)(int);

//----- (00444760) --------------------------------------------------------
CIOCriticalSection *__cdecl CMonsterSiegeGun::Create(int a1, int a2, int a3, int a4, int a5, char *Source, int a7)
{
  CIOCriticalSection *result; // eax
  int v8; // eax
  int v9; // eax
  tagPOINT v10; // [esp-30h] [ebp-60h]
  int v11; // [esp-28h] [ebp-58h]
  int v12; // [esp-24h] [ebp-54h]
  int v13; // [esp-20h] [ebp-50h]
  int v14; // [esp-1Ch] [ebp-4Ch]
  __int64 v15; // [esp-18h] [ebp-48h]
  CSkill **v16; // [esp-10h] [ebp-40h]
  int v17; // [esp-Ch] [ebp-3Ch]
  int v18; // [esp-8h] [ebp-38h]
  int v19; // [esp-4h] [ebp-34h]
  CIOCriticalSection *v20; // [esp+0h] [ebp-30h]
  CIOCriticalSection *v21; // [esp+0h] [ebp-30h]
  CPlayer *v22; // [esp+4h] [ebp-2Ch]
  CMemory **v23; // [esp+10h] [ebp-20h]
  char v24[4]; // [esp+14h] [ebp-1Ch] BYREF
  CIOCriticalSection *v25; // [esp+18h] [ebp-18h]
  int v26[2]; // [esp+1Ch] [ebp-14h] BYREF
  int v27; // [esp+24h] [ebp-Ch]
  char v28[4]; // [esp+28h] [ebp-8h] BYREF
  CPlayer *v29; // [esp+2Ch] [ebp-4h]

  v27 = sub_491080(a2);
  if ( v27 )
  {
    if ( CSMap::IsValidTile((_DWORD *)v27, (int *)a3, 0) )
    {
      CIOCriticalSection::Enter(v20);
      sub_44AE20(dword_4E1820, v28, &a1);
      v8 = sub_430C20(dword_4E1820, (int)v24);
      if ( (unsigned __int8)unknown_libname_8(v8)
        || (v25 = *(CIOCriticalSection **)(sub_420250(v28) + 4),
            ((int)v25[9].m_critical_section.LockSemaphore & (1 << dword_4E35B8)) == 0) )
      {
        CIOCriticalSection::Leave(v21);
        result = 0;
      }
      else
      {
        v23 = sub_401000(0x2D0u);
        if ( v23 )
          v22 = (CPlayer *)CMonsterSiegeGun::CMonsterSiegeGun((int)v23, a2, v27, a5, Source, a7);
        else
          v22 = 0;
        v29 = v22;
        CChar::SetXY(v22, (_DWORD *)a3);
        CChar::SetDirection(v29, *(_DWORD *)a4 - *(_DWORD *)a3, *(_DWORD *)(a4 + 4) - *(_DWORD *)(a3 + 4));
        ((void (__thiscall *)(CPlayer *, CIOCriticalSection *))v29->__vftable[1].~CIOObject)(v29, v25);
        v29->m_skill.m_pSkill[18] = (CSkill *)v29->m_nDir;
        v29->m_nStandard = a1;
        CIOCriticalSection::Leave(v21);
        sub_412E90((CIOCriticalSection *)v29);
        v26[0] = *(int *)a3 >> 5;
        v26[1] = *(int *)(a3 + 4) >> 5;
        if ( CSMap::GetCellMap(v29, (int)v26) )
        {
          ((void (__thiscall *)(CPlayer *, _DWORD))v29->__vftable[1].OnFree)(v29, 0);
          v19 = ((int (__thiscall *)(CPlayer *))v29->__vftable[1].SendMove)(v29);
          v18 = *(_DWORD *)&v29->m_szGuildClassTitle[4];
          v17 = *(_DWORD *)(v29->m_nSocketRef + 64);
          v16 = &v29->m_skill.m_pSkill[8];
          v15 = v29->m_nMState;
          v14 = v29->m_nGState;
          v13 = CChar::GetMaxHP(v29);
          v12 = v29->m_nCurHP;
          v11 = v29->m_nDir;
          v10 = v29->m_ptPixel;
          v9 = std::_Mpunct<wchar_t>::do_frac_digits(v29);
          CChar::WriteInSight(
            (int)v29,
            51,
            "wdddwdddIsbds",
            *(_DWORD *)(v29->m_nSocketRef + 60),
            v9,
            v10.x,
            v10.y,
            v11,
            v12,
            v13,
            v14,
            v15,
            v16,
            v17,
            v18,
            v19);
          sub_412EB0((CIOCriticalSection *)v29);
          result = (CIOCriticalSection *)v29;
        }
        else
        {
          sub_412EB0((CIOCriticalSection *)v29);
          if ( v29 )
            ((void (__thiscall *)(CPlayer *, int))v29->~CIOObject)(v29, 1);
          result = 0;
        }
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    LOG_ERR("CMonsterGuildWar::Create() not find Map (map:%d)", a2);
    result = 0;
  }
  return result;
}
// 4447B1: variable 'v20' is possibly undefined
// 4447EB: variable 'v21' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00444A10) --------------------------------------------------------
void __thiscall CMonsterSiegeGun::AI(int *this)
{
  int v1; // [esp+0h] [ebp-8h]

  if ( !CMonster::IsRemoved(this) && !(*(int (__thiscall **)(int *))(*this + 252))(this) )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( this[116] && !CChar::IsNormal(this[116]) )
    {
      (*(void (__thiscall **)(int *, int))(*this + 132))(this, this[116]);
      (*(void (__thiscall **)(int *, _DWORD))(*this + 188))(this, 0);
    }
    v1 = this[120];
    if ( v1 == 5 )
    {
      if ( CMonsterSkill::PreSkill(this + 122, this[116]) )
        this[120] = 6;
    }
    else if ( v1 == 6 )
    {
      CMonsterSkill::ExcuteSkill(this + 122, (volatile int *)this[116]);
      this[120] = this[116] != 0 ? 4 : 1;
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}

//----- (00444B10) --------------------------------------------------------
void __thiscall CMonsterSiegeGun::Tick(CIOCriticalSection *this)
{
  int v2; // [esp+4h] [ebp-8h]
  DWORD v3; // [esp+8h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    sub_412E90(this);
    v3 = GetTickCount();
    v2 = CChar::GetMaxHP((CPlayer *)this);
    if ( (int)this[8].m_critical_section.LockSemaphore < v2 && v3 >= this[14].m_dwEIP[0] )
    {
      ((void (__cdecl *)(CIOCriticalSection *, int, int, int))this->m_critical_section.DebugInfo[2].Spare[0])(
        this,
        7,
        1,
        v2);
      CMonsterReal::ResetHostility(this);
    }
    if ( !sub_40F5F0(&this[15].m_critical_section.RecursionCount) && this[21].m_critical_section.SpinCount == 35 )
    {
      if ( CMonsterSkill::SetCurSkill(
             &this[15].m_critical_section.RecursionCount,
             this[21].m_critical_section.SpinCount) )
      {
        this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)5;
        this[21].m_critical_section.SpinCount = -1;
        this[21].m_critical_section.LockSemaphore = (void *)(this[4].m_dwEIP[1] + v3);
      }
    }
    sub_412EB0(this);
  }
}
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (00444C00) --------------------------------------------------------
void __thiscall CMonsterSiegeGun::Die(int this, int a2, int a3, int a4, int a5)
{
  CIOCriticalSection *v6; // [esp+4h] [ebp-8h]
  CIOObject *a1; // [esp+8h] [ebp-4h]

  *(_DWORD *)(this + 272) = 0;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)a2 + 76))(a2, *(_DWORD *)(this + 28), a3);
  a1 = CPlayer::FindPlayer_(*(_DWORD *)(this + 528));
  if ( a1 )
  {
    (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)this + 104))(this, 256, 0);
    CPlayer::Write((int)a1, 1, "b", 5);
    CPlayer::SiegeGunUnset((CIOCriticalSection *)a1, 1);
    CIOObject::Release(a1, (volatile int *)&a1[22]);
  }
  else
  {
    v6 = (CIOCriticalSection *)CNPC::FindNPC(*(_DWORD *)(this + 708));
    if ( v6 )
    {
      CChar::WriteInSight(this, 0, "bdd", 4, *(_DWORD *)(this + 708), *(_DWORD *)(this + 280));
      CNPCSiegeGunStone::SetOperator(v6, 0);
      CNPCSiegeGunStone::SetSiegeGun(v6, 0);
      sub_401DE0((int *)v6);
    }
  }
  *(_DWORD *)(this + 528) = 0;
  CChar::CancelAllBuff((std::locale::facet **)this);
  CChar::WriteInSight(this, 61, "db", *(_DWORD *)(this + 28), 9);
}

//----- (00444D30) --------------------------------------------------------
void __thiscall CMonsterSiegeGun::SetFire(CIOCriticalSection *this, _DWORD *a2)
{
  unsigned int v2; // eax

  sub_412E90(this);
  this[21].m_critical_section.SpinCount = 35;
  v2 = a2[1];
  this[21].m_dwEIP[0] = *a2;
  this[21].m_dwEIP[1] = v2;
  sub_412EB0(this);
}

//----- (00444D80) --------------------------------------------------------
void __thiscall CMonsterSiegeGun::Summon(int this, char a2, int a3, int a4, int a5)
{
  CMonsterSiegeGunBall::Create(*(_DWORD *)(this + 512) + a2 - 63, *(_DWORD *)(this + 316), this + 696, this);
}

//----- (00444DD0) --------------------------------------------------------
void __thiscall CMonsterSiegeGun::SetOperator(CIOCriticalSection *this, int a2)
{
  sub_412E90(this);
  this[16].m_critical_section.LockSemaphore = (void *)a2;
  if ( a2 )
    ((void (__thiscall *)(CIOCriticalSection *, int))this->m_critical_section.DebugInfo[3].CriticalSection)(
      this,
      0x40000);
  else
    ((void (__thiscall *)(CIOCriticalSection *, int))this->m_critical_section.DebugInfo[3].EntryCount)(this, 0x40000);
  sub_412EB0(this);
}

//----- (00444E30) --------------------------------------------------------
int __thiscall CMonsterSiegeGun::Damage(CIOCriticalSection *this, _DWORD *a2, int a3, int *a4, _DWORD *a5, int *a6, int a7)
{
  int result; // eax
  int v8; // [esp+0h] [ebp-1Ch]
  int v10; // [esp+8h] [ebp-14h] BYREF
  int v11; // [esp+Ch] [ebp-10h] BYREF
  int v12; // [esp+10h] [ebp-Ch]
  int v13; // [esp+14h] [ebp-8h]
  int v14; // [esp+18h] [ebp-4h]

  if ( ((int (__thiscall *)(CIOCriticalSection *))this->m_critical_section.DebugInfo[7].Spare[1])(this) )
    return 1;
  if ( a7 )
    v8 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 52))(a7);
  else
    v8 = 1;
  v12 = v8;
  v14 = CChar::GetFinalDamage(this, a2, a3, v8);
  if ( v14 > 0 )
  {
    CMonsterReal::ManageBuff(this);
    sub_412E90(this);
    if ( CMonsterReal::ApplyDamage((int)this, (int)a2, a3, v14, a4, (int)a5, a6, a7) )
    {
      v13 = *a6 + *a4;
      if ( (int)this[8].m_critical_section.LockSemaphore > 0 )
      {
        (*(void (__thiscall **)(CIOCriticalSection *, int, int))&this->m_critical_section.DebugInfo[8].Type)(
          this,
          v13,
          v12);
        sub_412EB0(this);
      }
      else
      {
        v11 = 0;
        v10 = 0;
        ((void (__thiscall *)(CIOCriticalSection *, int))this->m_critical_section.DebugInfo[3].CriticalSection)(
          this,
          0x80000);
        ((void (__thiscall *)(CIOCriticalSection *, _DWORD *, _DWORD, int *, int *))this->m_critical_section.DebugInfo[7].ProcessLocksList.Blink)(
          this,
          a2,
          *a5,
          &v11,
          &v10);
        sub_412EB0(this);
        CBase::Delete((CItem *)this);
      }
      result = 1;
    }
    else
    {
      sub_412EB0(this);
      result = 1;
    }
  }
  else
  {
    *a6 = 0;
    *a4 = 0;
    result = 0;
  }
  return result;
}

//----- (00444F90) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > *__thiscall std::_Tree<std::_Tmap_traits<int,CAlliance *,std::less<int>,std::allocator<std::pair<int const,CAlliance *>>,0>>::find(std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > *this, std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::iterator *result, const int *_Keyval, int a4, int a5)
{
  sub_43A7D0(this);
  this->std::_Tree_val<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > = (std::_Tree_val<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >)&off_4B8DA8;
  this[26]._Myhead = (std::_Tree_nod<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::_Node *)result;
  this[26]._Mysize = (unsigned int)_Keyval;
  this[29].std::_Tree_val<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > = 0;
  this[43]._Mysize = *(_DWORD *)(a4 + 524);
  memset(&this[55]._Myhead, 0, 8u);
  this[55]._Myhead = (std::_Tree_nod<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::_Node *)(*(_DWORD *)(a5 + 228) + GetTickCount());
  this[40]._Myhead = (std::_Tree_nod<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::_Node *)a4;
  sub_449220((int)this, 0x2000);
  return this;
}
// 4B8DA8: using guessed type int (__stdcall *off_4B8DA8)(int);

//----- (00445030) --------------------------------------------------------
// local variable allocation has failed, the output may be wrong!
void __cdecl CMonsterSiegeGunBall::Create(char a1, char a2, int a3, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  tagPOINT v7; // [esp-30h] [ebp-60h]
  int v8; // [esp-28h] [ebp-58h]
  int v9; // [esp-24h] [ebp-54h]
  int v10; // [esp-20h] [ebp-50h]
  int v11; // [esp-1Ch] [ebp-4Ch]
  __int64 v12; // [esp-18h] [ebp-48h]
  int v13; // [esp-10h] [ebp-40h]
  CIOCriticalSection *v14; // [esp+0h] [ebp-30h]
  CIOCriticalSection *v15; // [esp+0h] [ebp-30h]
  CPlayer *v16; // [esp+4h] [ebp-2Ch]
  std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > *v17; // [esp+10h] [ebp-20h]
  char v18[4]; // [esp+14h] [ebp-1Ch] BYREF
  CIOCriticalSection *v19; // [esp+18h] [ebp-18h]
  int a5[2]; // [esp+1Ch] [ebp-14h] BYREF
  int *_Keyval; // [esp+24h] [ebp-Ch]
  char v22[4]; // [esp+28h] [ebp-8h] BYREF
  CPlayer *v23; // [esp+2Ch] [ebp-4h]

  _Keyval = (int *)sub_491080(a2);
  if ( _Keyval )
  {
    if ( CSMap::IsValidTile(_Keyval, (int *)a3, 0) )
    {
      CIOCriticalSection::Enter(v14);
      sub_44AE20(dword_4E1820, v22, &a1);
      v4 = sub_430C20(dword_4E1820, (int)v18);
      if ( (unsigned __int8)unknown_libname_8(v4)
        || (v19 = *(CIOCriticalSection **)(sub_420250(v22) + 4),
            ((int)v19[9].m_critical_section.LockSemaphore & (1 << dword_4E35B8)) == 0) )
      {
        CIOCriticalSection::Leave(v15);
      }
      else
      {
        v17 = (std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > *)sub_401000(0x2A8u);
        if ( v17 )
          v16 = (CPlayer *)std::_Tree<std::_Tmap_traits<int,CAlliance *,std::less<int>,std::allocator<std::pair<int const,CAlliance *>>,0>>::find(
                             v17,
                             (std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::iterator *)a2,
                             _Keyval,
                             a4,
                             (int)v19);
        else
          v16 = 0;
        v23 = v16;
        CChar::SetXY(v16, (_DWORD *)a3);
        ((void (__thiscall *)(CPlayer *, CIOCriticalSection *))v23->__vftable[1].~CIOObject)(v23, v19);
        CIOCriticalSection::Leave(v15);
        sub_412E90((CIOCriticalSection *)v23);
        a5[0] = *(int *)a3 >> 5;
        a5[1] = *(int *)(a3 + 4) >> 5;
        if ( CSMap::GetCellMap(v23, (int)a5) )
        {
          ((void (__thiscall *)(CPlayer *, _DWORD))v23->__vftable[1].OnFree)(v23, 0);
          v5 = ((int (__thiscall *)(CPlayer *))v23->__vftable[1].SendMove)(v23);
          v13 = ((int (__thiscall *)(CPlayer *, _DWORD, _DWORD, int))v23->__vftable[1].OnLoad)(
                  v23,
                  *(_DWORD *)(v23->m_nSocketRef + 64),
                  *(_DWORD *)&v23->m_szGuildClassTitle[4],
                  v5);
          v12 = v23->m_nMState;
          v11 = v23->m_nGState;
          v10 = CChar::GetMaxHP(v23);
          v9 = v23->m_nCurHP;
          v8 = v23->m_nDir;
          v7 = v23->m_ptPixel;
          v6 = std::_Mpunct<wchar_t>::do_frac_digits(v23);
          CChar::WriteInSight(
            (int)v23,
            51,
            "wdddwdddIsbds",
            *(_DWORD *)(v23->m_nSocketRef + 60),
            v6,
            v7.x,
            v7.y,
            v8,
            v9,
            v10,
            v11,
            v12,
            v13);
          sub_412EB0((CIOCriticalSection *)v23);
        }
        else
        {
          sub_412EB0((CIOCriticalSection *)v23);
          if ( v23 )
            ((void (__thiscall *)(CPlayer *, int))v23->~CIOObject)(v23, 1);
        }
      }
    }
  }
  else
  {
    LOG_ERR("CMonsterGuildWar::Create() not find Map (map:%d)", a2);
  }
}
// 445127: inconsistent variable size for '^80.1(a2)'
// 445054: inconsistent variable size for '^80.1(a2)'
// 44503A: inconsistent variable size for '^80.1(a2)'
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1820: using guessed type int dword_4E1820[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (004452B0) --------------------------------------------------------
void __thiscall CMonsterSiegeGunBall::Tick(CIOCriticalSection *this)
{
  int v2; // [esp+4h] [ebp-8h]
  DWORD v3; // [esp+8h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    sub_412E90(this);
    v2 = -1;
    v3 = GetTickCount();
    if ( this[20].m_dwEIP[0] <= v3 )
    {
      v2 = 36;
      this[20].m_dwEIP[0] = v3 + 12000;
      this[20].m_dwEIP[1] = v3 + 7000;
    }
    if ( this[20].m_dwEIP[1] <= v3 && this[20].m_dwEIP[1] )
    {
      CChar::WriteInSight((int)this, 61, "db", this->m_dwEIP[1], 9);
      this[15].m_critical_section.LockCount = 0;
      sub_412EB0(this);
      CBase::Delete((CItem *)this);
    }
    else
    {
      if ( v2 >= 0 )
      {
        if ( CMonsterSkill::SetCurSkill(&this[15].m_critical_section.RecursionCount, v2) )
          this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)5;
      }
      sub_412EB0(this);
    }
  }
}

//----- (004453B0) --------------------------------------------------------
void __thiscall CMonsterSiegeGunBall::AI(int *this)
{
  int v1; // [esp+0h] [ebp-8h]

  if ( !CMonster::IsRemoved(this) && !(*(int (__thiscall **)(int *))(*this + 252))(this) )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( this[116] && !CChar::IsNormal(this[116]) )
    {
      (*(void (__thiscall **)(int *, int))(*this + 132))(this, this[116]);
      (*(void (__thiscall **)(int *, _DWORD))(*this + 188))(this, 0);
    }
    v1 = this[120];
    if ( v1 == 5 )
    {
      if ( CMonsterSkill::PreSkill(this + 122, this[116]) )
        this[120] = 6;
    }
    else if ( v1 == 6 )
    {
      CMonsterSkill::ExcuteSkill(this + 122, (volatile int *)this[116]);
      this[120] = 1;
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}

//----- (004454A0) --------------------------------------------------------
void __thiscall CMonsterSiegeGunRuins::Tick(CIOCriticalSection *this)
{
  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    sub_412E90(this);
    if ( this[20].m_dwEIP[0] > GetTickCount() )
    {
      sub_412EB0(this);
    }
    else
    {
      CChar::WriteInSight((int)this, 61, "db", this->m_dwEIP[1], 9);
      sub_412EB0(this);
      CBase::Delete((CItem *)this);
    }
  }
}

//----- (00445510) --------------------------------------------------------
void __thiscall CMonsterWithSkillOnly::Tick(int this)
{
  int v2; // [esp+4h] [ebp-Ch]
  DWORD v3; // [esp+8h] [ebp-8h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v3 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 1) && v3 >= *(_DWORD *)(this + 468) )
    {
      CChar::WriteInSight(this, 61, "db", *(_DWORD *)(this + 28), 9);
      sub_412EB0((CIOCriticalSection *)this);
      CBase::Delete((CItem *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v3 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      if ( !sub_40F5F0(this + 488) )
        CMonsterSkill::SetCurSkillDefault(this + 488);
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (00445610) --------------------------------------------------------
void __thiscall CMonsterWithSkillOnly::Attack(_DWORD *this)
{
  __int64 v2; // [esp+24h] [ebp-10h]

  if ( !CChar::IsMState(this, 268435712i64) && GetTickCount() >= this[117] )
  {
    v2 = sub_43D870(this + 83, (_DWORD *)(this[116] + 332));
    if ( this[79] == *(_DWORD *)(this[116] + 316) && v2 <= this[137] * this[137] )
    {
      if ( v2 <= this[78] * this[78] )
      {
        if ( this[116] == this[121] )
        {
          (*(void (__thiscall **)(_DWORD *, _DWORD))(*this + 132))(this, this[116]);
          (*(void (__thiscall **)(_DWORD *, _DWORD))(*this + 188))(this, 0);
          this[120] = 1;
        }
        else
        {
          CChar::SetDirection(this, *(_DWORD *)(this[116] + 332) - this[83], *(_DWORD *)(this[116] + 336) - this[84]);
        }
      }
      else if ( !CChar::IsMState(this, 512i64) )
      {
        this[163] = 1;
        this[120] = 2;
      }
    }
    else
    {
      (*(void (__thiscall **)(_DWORD *, _DWORD))(*this + 132))(this, this[116]);
      (*(void (__thiscall **)(_DWORD *, _DWORD))(*this + 188))(this, 0);
    }
  }
}

//----- (004457F0) --------------------------------------------------------
void __thiscall CMonsterInvaderBoss::AI(int *this)
{
  if ( !CMonster::IsRemoved(this) && !(*(int (__thiscall **)(int *))(*this + 252))(this) )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( this[116] && !CChar::IsNormal(this[116]) )
    {
      (*(void (__thiscall **)(int *, int))(*this + 132))(this, this[116]);
      (*(void (__thiscall **)(int *, _DWORD))(*this + 188))(this, 0);
    }
    switch ( this[120] )
    {
      case 1:
        this[172] = 0;
        goto LABEL_9;
      case 2:
      case 3:
LABEL_9:
        (*(void (__thiscall **)(int *))(*this + 248))(this);
        break;
      case 4:
        (*(void (__thiscall **)(int *))(*this + 244))(this);
        break;
      case 5:
        if ( CMonsterSkill::PreSkill(this + 122, this[116]) )
          this[120] = 6;
        break;
      case 6:
        CMonsterSkill::ExcuteSkill(this + 122, (volatile int *)this[116]);
        this[120] = this[116] != 0 ? 4 : 1;
        break;
      default:
        break;
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}

//----- (00445950) --------------------------------------------------------
void __thiscall CMonsterInvaderBoss::Tick(int this)
{
  int v2; // [esp+4h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-8h]
  DWORD v4; // [esp+Ch] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    sub_412E90((CIOCriticalSection *)this);
    v4 = GetTickCount();
    if ( sub_40B310((_DWORD *)this, 0x2000) && v4 >= *(_DWORD *)(this + 556) )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)this + 112))(this, 0x2000);
      sub_412EB0((CIOCriticalSection *)this);
    }
    else
    {
      v2 = CChar::GetMaxHP((CPlayer *)this);
      if ( *(_DWORD *)(this + 272) < v2 && v4 >= *(_DWORD *)(this + 472) )
      {
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v2);
        CMonsterReal::ResetHostility((CIOCriticalSection *)this);
      }
      if ( *(_DWORD *)(this + 476) && !sub_40F5F0(this + 488) && !sub_446110((void *)(this + 560)) )
      {
        v3 = -1;
        if ( !*(_DWORD *)(this + 668) )
          *(_DWORD *)(this + 668) = v4 + 10000;
        if ( *(_DWORD *)(this + 672) <= v4 )
        {
          *(_DWORD *)(this + 672) = v4 + 15000;
          if ( RandomBetween(1, 100) <= 50 )
            v3 = 38;
        }
        if ( *(_DWORD *)(this + 668) <= v4 )
        {
          *(_DWORD *)(this + 668) = v4 + 10000;
          if ( v3 < 0 && RandomBetween(1, 100) <= 80 )
            v3 = 39;
        }
        if ( v3 >= 0 )
        {
          if ( CMonsterSkill::SetCurSkill((_DWORD *)(this + 488), v3) )
            *(_DWORD *)(this + 480) = 5;
        }
      }
      sub_412EB0((CIOCriticalSection *)this);
    }
  }
}
// 445A8D: conditional instruction was optimized away because of '%var_8.4==FFFFFFFF'
// 40F5F0: using guessed type int __thiscall sub_40F5F0(_DWORD);

//----- (00445B20) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer> *__thiscall sub_445B20(std::vector<CIOSocket::CIOTimer> *this)
{
  return std::vector<CSyncPacket::CElement>::_Tidy(this);
}

//----- (00445B40) --------------------------------------------------------
int __thiscall sub_445B40(_DWORD *this, int a2)
{
  sub_446700((void *)a2, this[2]);
  return a2;
}

//----- (00445B60) --------------------------------------------------------
BOOL __thiscall sub_445B60(std::vector<CIOSocket::CIOTimer> *this)
{
  return std::vector<CIOSocket::CIOTimer>::size(this) == 0;
}

//----- (00445B80) --------------------------------------------------------
char *__thiscall sub_445B80(int this, int a2)
{
  unsigned int v2; // esi
  char *result; // eax
  int *v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
  if ( v2 >= std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this) )
  {
    v4 = (int *)sub_445B40((_DWORD *)this, (int)v7);
    result = (char *)sub_446200((std::vector<CIOSocket::CIOTimer> *)this, (int)v6, *v4, a2);
  }
  else
  {
    result = std::vector<CIOSocket::CIOTimer>::_Xlen(
               (std::vector<CIOSocket::CIOTimer> *)this,
               *(char **)(this + 8),
               1,
               a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (00445BF0) --------------------------------------------------------
std::vector<IPAddrMask> *__thiscall sub_445BF0(std::vector<IPAddrMask> *this)
{
  return std::vector<IPAddrMask>::_Tidy(this);
}

//----- (00445C10) --------------------------------------------------------
XMessageQueue::XTimerElement *__thiscall sub_445C10(int this, const XMessageQueue::XTimerElement *a2)
{
  unsigned int v2; // esi
  XMessageQueue::XTimerElement *result; // eax
  int *v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
  if ( v2 >= std::vector<XMessageQueue::XElement>::capacity((std::vector<XMessageQueue::XTimerElement> *)this) )
  {
    v4 = (int *)sub_445B40((_DWORD *)this, (int)v7);
    result = (XMessageQueue::XTimerElement *)sub_4462B0((std::vector<IPAddrMask> *)this, (int)v6, *v4, (int)a2);
  }
  else
  {
    result = std::vector<XMessageQueue::XElement>::_Ufill(
               (std::vector<XMessageQueue::XTimerElement> *)this,
               *(XMessageQueue::XTimerElement **)(this + 8),
               1u,
               a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (00445C80) --------------------------------------------------------
void *__thiscall sub_445C80(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00445CB0) --------------------------------------------------------
int __thiscall sub_445CB0(void *this)
{
  return sub_4464B0((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00445CD0) --------------------------------------------------------
unsigned int __thiscall sub_445CD0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> result; // [esp+8h] [ebp-Ch] BYREF
  unsigned int _Off; // [esp+10h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(
    this,
    &result,
    a2);
  _Off = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    (int)result.first._Ptr,
    (int)result.second._Ptr,
    &_Off);
  sub_446350(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    (int)result.first._Ptr,
    (char)result.second._Ptr);
  return _Off;
}

//----- (00445D30) --------------------------------------------------------
_DWORD *__thiscall sub_445D30(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_446430(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00445D90) --------------------------------------------------------
_DWORD *__thiscall sub_445D90(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_446560(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00445DF0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_445DF0(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, const std::pair<int const ,CGame_Character::TargetInfo> *a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_478AB0((int *)this);
  v22 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)(this + 4);
  v23 = 1;
  while ( !*(_BYTE *)sub_431110((int)v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_473500((int)v21);
    v3 = (_DWORD *)sub_474590((int)a3);
    v23 = sub_4186F0(v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_474590((int)v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_430F90((int)v21);
    v21 = v12;
  }
  sub_446700(v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_420270(this, (int)v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_418880(v20);
  }
  v11 = (_DWORD *)sub_474590((int)a3);
  v7 = unknown_libname_7(v20);
  v8 = (_DWORD *)sub_473500(v7);
  if ( sub_4186F0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_420270(this, (int)v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00445FA0) --------------------------------------------------------
int __thiscall sub_445FA0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472C30(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    (const int *)a1);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_4465E0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00446000) --------------------------------------------------------
_DWORD *__thiscall sub_446000(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_446680(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00446060) --------------------------------------------------------
_DWORD *__thiscall sub_446060(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_431390(this);
  *a2 = v4;
  return a2;
}

//----- (00446090) --------------------------------------------------------
_DWORD *__thiscall sub_446090(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_418860(this);
  *a2 = v4;
  return a2;
}

//----- (004460C0) --------------------------------------------------------
void *__thiscall sub_4460C0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004460F0) --------------------------------------------------------
int __thiscall sub_4460F0(void *this)
{
  return sub_446750((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00446110) --------------------------------------------------------
BOOL __thiscall sub_446110(void *this)
{
  return unknown_libname_10(this, this) == 0;
}

//----- (00446130) --------------------------------------------------------
_DWORD *__thiscall sub_446130(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_446720(this, v12, a3);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (_DWORD *)sub_473500(v4), sub_48D9E0((_DWORD *)a3, v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (004461C0) --------------------------------------------------------
int __thiscall std::vector<CIOSocket::CIOTimer>::capacity(std::vector<CIOSocket::CIOTimer> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) / 12;
  else
    v2 = 0;
  return v2;
}

//----- (00446200) --------------------------------------------------------
int __thiscall sub_446200(std::vector<CIOSocket::CIOTimer> *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<CIOSocket::CIOTimer>::size(this) )
  {
    v4 = (_DWORD *)sub_430C20(this, (int)v11);
    v8 = sub_431D50(&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_446820((int)this, (CIOSocket::CIOTimer *)a3, 1u, (int *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_446FA0(v5, (_DWORD *)a2, v7);
  return a2;
}

//----- (00446280) --------------------------------------------------------
char *__thiscall std::vector<CIOSocket::CIOTimer>::_Xlen(std::vector<CIOSocket::CIOTimer> *this, char *a2, int a3, int a4)
{
  std::_Uninitialized_fill_n<IPAddrMask *,unsigned int,IPAddrMask,std::allocator<IPAddrMask>>(a2, a3, a4);
  return &a2[12 * a3];
}

//----- (004462B0) --------------------------------------------------------
int __thiscall sub_4462B0(std::vector<IPAddrMask> *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<XMessageQueue::XElement>::size(this) )
  {
    v4 = (_DWORD *)sub_430C20(this, (int)v11);
    v8 = sub_4470B0(&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_446B80((int)this, (XMessageQueue::XTimerElement *)a3, 1u, (int *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_478710(v5, (_DWORD *)a2, v7);
  return a2;
}

//----- (00446350) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_446350(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_445D30(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (004463F0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::equal_range(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator,std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator> *result, const int *_Keyval)
{
  const std::vector<KMailSystem::CMailinfo>::iterator *v3; // eax
  const std::vector<KMailSystem::CMailinfo>::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_446E70(this, v8, _Keyval);
  v3 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_446720(this, v7, (int)_Keyval);
  std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(
    result,
    v3,
    v5);
  return result;
}

//----- (00446430) --------------------------------------------------------
int __stdcall sub_446430(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_446430(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (004464B0) --------------------------------------------------------
int __thiscall sub_4464B0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_446350(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00446560) --------------------------------------------------------
int __stdcall sub_446560(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_446560(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (004465E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4465E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_446F30(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00446680) --------------------------------------------------------
int __stdcall sub_446680(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_446680(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (00446700) --------------------------------------------------------
void *__thiscall sub_446700(void *this, int a2)
{
  sub_446FD0(a2);
  return this;
}
// 446FD0: using guessed type _DWORD __stdcall sub_446FD0(_DWORD);

//----- (00446720) --------------------------------------------------------
void *__thiscall sub_446720(_DWORD *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_446EA0(this, a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00446750) --------------------------------------------------------
int __thiscall sub_446750(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_447010(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00446800) --------------------------------------------------------
unsigned int __thiscall sub_446800(std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *this)
{
  return std::allocator<std::pair<unsigned int const,TriggerSystem::CTrigger::ACTION_INFO>>::max_size(this);
}

//----- (00446820) --------------------------------------------------------
void __thiscall sub_446820(int this, CIOSocket::CIOTimer *a2, unsigned int a3, int *a4)
{
  unsigned int v4; // esi
  char *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-24h]
  CIOSocket::CIOTimer *_Dest; // [esp+Ch] [ebp-1Ch]
  CMemory **_First; // [esp+10h] [ebp-18h]
  char *_Last; // [esp+14h] [ebp-14h]
  unsigned int v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+18h] [ebp-10h]
  CIOSocket::CIOTimer _Val; // [esp+1Ch] [ebp-Ch] BYREF
  int v14; // [esp+34h] [ebp+Ch]

  _Val.m_dwTime = *a4;
  _Val.m_pObject = (CIOObject *)a4[1];
  _Val.m_nId = a4[2];
  v11 = std::vector<CIOSocket::CIOTimer>::capacity((std::vector<CIOSocket::CIOTimer> *)this);
  if ( a3 )
  {
    v4 = sub_446800((std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *)this);
    if ( v4 - std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) / 12 >= a3 )
        {
          _Dest = *(CIOSocket::CIOTimer **)(this + 8);
          *(_DWORD *)(this + 8) = sub_4474B0((int)&_Dest[-a3], (int)_Dest, _Dest);
          std::copy_backward<IPAddrMask *,IPAddrMask *>(a2, &_Dest[-a3], _Dest);
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(a2, &a2[a3], &_Val);
        }
        else
        {
          sub_4474B0((int)a2, *(_DWORD *)(this + 8), &a2[a3]);
          std::vector<CIOSocket::CIOTimer>::_Xlen(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(char **)(this + 8),
            a3 - (*(_DWORD *)(this + 8) - (int)a2) / 12,
            (int)&_Val);
          *(_DWORD *)(this + 8) += 12 * a3;
          std::fill<CIOSocket::CIOTimer *,CIOSocket::CIOTimer>(
            a2,
            (CIOSocket::CIOTimer *)(*(_DWORD *)(this + 8) - 12 * a3),
            &_Val);
        }
      }
      else
      {
        if ( sub_446800((std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *)this)
           - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this) )
          v12 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        _First = sub_446B40(v12);
        v5 = sub_4474B0(*(_DWORD *)(this + 4), (int)a2, _First);
        _Last = std::vector<CIOSocket::CIOTimer>::_Xlen((std::vector<CIOSocket::CIOTimer> *)this, v5, a3, (int)&_Val);
        sub_4474B0((int)a2, *(_DWORD *)(this + 8), _Last);
        v14 = a3 + std::vector<CIOSocket::CIOTimer>::size((std::vector<CIOSocket::CIOTimer> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          std::vector<IPAddrMask>::_Destroy(
            (std::vector<CIOSocket::CIOTimer> *)this,
            *(CIOSocket::CIOTimer **)(this + 4),
            *(CIOSocket::CIOTimer **)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) / 12);
        }
        *(_DWORD *)(this + 12) = &_First[3 * v12];
        *(_DWORD *)(this + 8) = &_First[3 * v14];
        *(_DWORD *)(this + 4) = _First;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (00446B00) --------------------------------------------------------
void __thiscall std::vector<tagShowdownPaticipateInfo>::_Xran(std::vector<tagShowdownPaticipateInfo> *this)
{
  void *v1; // eax
  std::length_error that; // [esp+4h] [ebp-40h] BYREF

  std::string::string((std::vector<IPAddrMask> *)&that, "vector<T> too long");
  std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
  std::exception::_Raise(v1);
  sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
  sub_40F780(&that);
}
// 446B24: variable 'v1' is possibly undefined

//----- (00446B40) --------------------------------------------------------
CMemory **__stdcall sub_446B40(int a1)
{
  return sub_44CEC0(a1);
}

//----- (00446B60) --------------------------------------------------------
unsigned int __thiscall sub_446B60(std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *this)
{
  return std::allocator<std::pair<char const * const,int>>::max_size(this);
}

//----- (00446B80) --------------------------------------------------------
void __thiscall sub_446B80(int this, XMessageQueue::XTimerElement *a2, unsigned int a3, int *a4)
{
  int v4; // edx
  unsigned int v5; // esi
  char *v6; // eax
  unsigned int v7; // [esp+4h] [ebp-20h]
  _DWORD *v9; // [esp+Ch] [ebp-18h]
  CMemory **v10; // [esp+10h] [ebp-14h]
  XMessageQueue::XTimerElement *_Ptr; // [esp+14h] [ebp-10h]
  unsigned int v12; // [esp+18h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-Ch]
  int v14[2]; // [esp+1Ch] [ebp-8h] BYREF
  unsigned int _Count; // [esp+30h] [ebp+Ch]

  v4 = a4[1];
  v14[0] = *a4;
  v14[1] = v4;
  v12 = std::vector<XMessageQueue::XElement>::capacity((std::vector<XMessageQueue::XTimerElement> *)this);
  if ( a3 )
  {
    v5 = sub_446B60((std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *)this);
    if ( v5 - std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) >= a3 )
    {
      if ( v12 >= a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 3 >= a3 )
        {
          v9 = *(_DWORD **)(this + 8);
          *(_DWORD *)(this + 8) = sub_431E60((void *)this, (int)&v9[-2 * a3], (int)v9, v9);
          sub_47A3F0(a2, &v9[-2 * a3], v9);
          std::fill<XMessageQueue::XElement *,XMessageQueue::XElement>(
            a2,
            (XMessageQueue::XTimerElement *)((char *)a2 + 8 * a3),
            (const XMessageQueue::XTimerElement *)v14);
        }
        else
        {
          sub_431E60((void *)this, (int)a2, *(_DWORD *)(this + 8), (char *)a2 + 8 * a3);
          std::vector<XMessageQueue::XElement>::_Ufill(
            (std::vector<XMessageQueue::XTimerElement> *)this,
            *(XMessageQueue::XTimerElement **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 3),
            (const XMessageQueue::XTimerElement *)v14);
          *(_DWORD *)(this + 8) += 8 * a3;
          std::fill<XMessageQueue::XElement *,XMessageQueue::XElement>(
            a2,
            (XMessageQueue::XTimerElement *)(*(_DWORD *)(this + 8) - 8 * a3),
            (const XMessageQueue::XTimerElement *)v14);
        }
      }
      else
      {
        if ( sub_446B60((std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *)this) - (v12 >> 1) >= v12 )
          v7 = v12 + (v12 >> 1);
        else
          v7 = 0;
        v13 = v7;
        if ( v7 < a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) )
          v13 = a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
        v10 = sub_446E50(v13);
        v6 = sub_431E60((void *)this, *(_DWORD *)(this + 4), (int)a2, v10);
        _Ptr = std::vector<XMessageQueue::XElement>::_Ufill(
                 (std::vector<XMessageQueue::XTimerElement> *)this,
                 (XMessageQueue::XTimerElement *)v6,
                 a3,
                 (const XMessageQueue::XTimerElement *)v14);
        sub_431E60((void *)this, (int)a2, *(_DWORD *)(this + 8), _Ptr);
        _Count = a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_4316C0((void *)this, *(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 3);
        }
        *(_DWORD *)(this + 12) = &v10[2 * v13];
        *(_DWORD *)(this + 8) = &v10[2 * _Count];
        *(_DWORD *)(this + 4) = v10;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (00446E50) --------------------------------------------------------
CMemory **__stdcall sub_446E50(int a1)
{
  return sub_47A430(a1);
}

//----- (00446E70) --------------------------------------------------------
void *__thiscall sub_446E70(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, void *a2, const int *a3)
{
  std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *v3; // eax

  v3 = std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Ubound(
         this,
         a3);
  sub_446700(a2, (int)v3);
  return a2;
}

//----- (00446EA0) --------------------------------------------------------
int __thiscall sub_446EA0(_DWORD *this, int a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_431110(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_48D9E0(v2, (_DWORD *)a2) )
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
  }
  return v6;
}

//----- (00446F30) --------------------------------------------------------
_DWORD *__thiscall sub_446F30(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_4472D0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00446F90) --------------------------------------------------------
int __cdecl sub_446F90(int a1)
{
  return a1 + 20;
}

//----- (00446FA0) --------------------------------------------------------
_DWORD *__thiscall sub_446FA0(int *this, _DWORD *a1, int a2)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *this;
  *a1 = *std::_Destroy_range<CIOSocket::CIOTimer>(&v4, a2);
  return a1;
}

//----- (00446FF0) --------------------------------------------------------
int __cdecl sub_446FF0(int a1)
{
  return a1 + 4;
}

//----- (00447000) --------------------------------------------------------
int __cdecl sub_447000(int a1)
{
  return a1 + 12;
}

//----- (00447010) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_447010(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_447370(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (004470B0) --------------------------------------------------------
int __thiscall sub_4470B0(int *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h] BYREF

  v3 = *this;
  return sub_431DD0(&v3, a2);
}

//----- (004470E0) --------------------------------------------------------
int __cdecl sub_4470E0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_430F90(a1);
    if ( *(_BYTE *)sub_431110(*v1) )
      break;
    a1 = *(_DWORD *)sub_430F90(a1);
  }
  return a1;
}

//----- (00447120) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *__thiscall std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Ubound(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *_Keyval)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0((int *)this);
  v6 = this->_Myhead;
  while ( !*(_BYTE *)sub_431110(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_48D9E0(_Keyval, v2) )
    {
      v6 = (std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *)v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
  }
  return v6;
}

//----- (004471B0) --------------------------------------------------------
CMemory **sub_4471B0()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_44CD20(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)sub_474590((int)v7);
  sub_42F9B0(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_446FF0((int)v7);
  sub_42F9B0(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_430F90((int)v7);
  sub_42F9B0(v2, (int)&v4);
  *(_BYTE *)sub_446F90((int)v7) = 1;
  *(_BYTE *)sub_431110((int)v7) = 0;
  return v7;
}

//----- (004472D0) --------------------------------------------------------
int __stdcall sub_4472D0(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_4472D0(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (00447350) --------------------------------------------------------
_DWORD *__thiscall std::_Destroy_range<CIOSocket::CIOTimer>(_DWORD *this, int a2)
{
  *this += 12 * a2;
  return this;
}

//----- (00447370) --------------------------------------------------------
_DWORD *__thiscall sub_447370(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_4473F0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (004473D0) --------------------------------------------------------
// Microsoft VisualC 2-14/net runtime
std::vector<XMessageQueue::XTimerElement>::iterator *__thiscall std::vector<XMessageQueue::XElement>::iterator::operator+=(std::vector<XMessageQueue::XTimerElement>::iterator *this, int _Off)
{
  *(_DWORD *)this += 8 * _Off;
  return this;
}

//----- (004473F0) --------------------------------------------------------
int __stdcall sub_4473F0(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_4473F0(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (00447470) --------------------------------------------------------
int __cdecl std::_Destroy_range<IPAddrMask>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last)
{
  unknown_libname_6(&_First, &_Last);
  return std::_Destroy_range<CSyncPacket::CElement>((int)_First, (int)_Last);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (004474B0) --------------------------------------------------------
char *__stdcall sub_4474B0(int a1, int a2, void *a3)
{
  return std::allocator<IPAddrMask>::construct((IPAddrMask *)a1, (const IPAddrMask *)a2, a3);
}

//----- (004474E0) --------------------------------------------------------
CIOSocket::CIOTimer *__cdecl std::copy_backward<IPAddrMask *,IPAddrMask *>(CIOSocket::CIOTimer *_First, CIOSocket::CIOTimer *_Last, CIOSocket::CIOTimer *_Dest)
{
  unknown_libname_6(&_First, &_Dest);
  return (CIOSocket::CIOTimer *)std::_Copy_backward_opt<CIOSocket::CIOTimer *,CIOSocket::CIOTimer *>(
                                  _First,
                                  _Last,
                                  _Dest);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (00447520) --------------------------------------------------------
char *__cdecl std::fill<XMessageQueue::XElement *,XMessageQueue::XElement>(XMessageQueue::XTimerElement *_First, XMessageQueue::XTimerElement *_Last, const XMessageQueue::XTimerElement *_Val)
{
  char *result; // eax
  int v4; // ecx

  while ( _First != _Last )
  {
    v4 = *((_DWORD *)_Val + 1);
    *(_DWORD *)_First = *(_DWORD *)_Val;
    *((_DWORD *)_First + 1) = v4;
    result = (char *)_First + 8;
    _First = (XMessageQueue::XTimerElement *)((char *)_First + 8);
  }
  return result;
}

//----- (00447570) --------------------------------------------------------
char *__cdecl std::_Uninit_fill_n<XMessageQueue::XTimerElement *,unsigned int,XMessageQueue::XTimerElement,std::allocator<XMessageQueue::XTimerElement>>(char *a1, int a2, int a3)
{
  char *result; // eax

  result = a1;
  while ( a2 )
  {
    result = (char *)sub_47A6D0(a1, a3);
    --a2;
    a1 += 8;
  }
  return result;
}

//----- (004475D0) --------------------------------------------------------
_DWORD *__stdcall sub_4475D0(void *a1, int a2)
{
  return std::_Construct<CIOSocket::CIOTimer,CIOSocket::CIOTimer>(
           (CIOSocket::CIOTimer *)a1,
           (const CIOSocket::CIOTimer *)a2);
}

//----- (004475F0) --------------------------------------------------------
char *__cdecl CGenNPC::~CGenNPC(int a1, int a2, char *a3)
{
  while ( a1 != a2 )
  {
    sub_4475D0(a3, a1);
    a3 += 12;
    a1 += 12;
  }
  return a3;
}

//----- (00447660) --------------------------------------------------------
char *__cdecl std::_Uninit_copy<XMessageQueue::XTimerElement *,XMessageQueue::XTimerElement *,std::allocator<XMessageQueue::XTimerElement>>(int a1, int a2, char *a3)
{
  while ( a1 != a2 )
  {
    sub_47A6D0(a3, a1);
    a3 += 8;
    a1 += 8;
  }
  return a3;
}

//----- (004476D0) --------------------------------------------------------
_DWORD *__cdecl std::_Construct<CIOSocket::CIOTimer,CIOSocket::CIOTimer>(CIOSocket::CIOTimer *_Ptr, const CIOSocket::CIOTimer *_Val)
{
  _DWORD *result; // eax
  _DWORD *v3; // [esp+4h] [ebp-4h]

  result = operator new(0xCu, _Ptr);
  v3 = result;
  if ( result )
  {
    *result = *(_DWORD *)_Val;
    result = (_DWORD *)*((_DWORD *)_Val + 1);
    v3[1] = result;
    v3[2] = *((_DWORD *)_Val + 2);
  }
  return result;
}

//----- (00447720) --------------------------------------------------------
_DWORD *__cdecl std::map<int,std::string>::map<int,std::string>(void *a1, _DWORD *a2)
{
  _DWORD *result; // eax
  _DWORD *v3; // [esp+4h] [ebp-4h]

  result = operator new(8u, a1);
  v3 = result;
  if ( result )
  {
    result = (_DWORD *)a2[1];
    *v3 = *a2;
    v3[1] = result;
  }
  return result;
}

//----- (00447760) --------------------------------------------------------
void *__thiscall sub_447760(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00447790) --------------------------------------------------------
void *__thiscall sub_447790(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004477C0) --------------------------------------------------------
void *__thiscall sub_4477C0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004477F0) --------------------------------------------------------
int __thiscall sub_4477F0(void *this)
{
  return sub_447810(this);
}

//----- (00447810) --------------------------------------------------------
int __thiscall sub_447810(void *this)
{
  return sub_447830((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00447830) --------------------------------------------------------
int __thiscall sub_447830(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4478E0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (004478E0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4478E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_445D90(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00447980) --------------------------------------------------------
int __thiscall sub_447980(void *this)
{
  return sub_4479A0(this);
}

//----- (004479A0) --------------------------------------------------------
int __thiscall sub_4479A0(void *this)
{
  return sub_4479C0((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (004479C0) --------------------------------------------------------
int __thiscall sub_4479C0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4465E0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00447A70) --------------------------------------------------------
int __thiscall sub_447A70(void *this)
{
  return sub_447A90(this);
}

//----- (00447A90) --------------------------------------------------------
int __thiscall sub_447A90(void *this)
{
  return sub_447AB0((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00447AB0) --------------------------------------------------------
int __thiscall sub_447AB0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_447B60(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00447B60) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_447B60(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_446000(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00447C00) --------------------------------------------------------
CInitNPC *__thiscall CInitNPC::CInitNPC(CInitNPC *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B9680;
  *((_DWORD *)this + 8) = 0;
  *((_DWORD *)this + 9) = 0;
  return this;
}
// 4B9680: using guessed type int (__stdcall *off_4B9680)(int);

//----- (00447C40) --------------------------------------------------------
void *__thiscall sub_447C40(void *this, char a2)
{
  sub_447C70((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00447C70) --------------------------------------------------------
void __thiscall sub_447C70(std::locale::facet *this)
{
  *(_DWORD *)this = &off_4B9680;
  CBase::_CBase(this);
}
// 4B9680: using guessed type int (__stdcall *off_4B9680)(int);

//----- (00447C90) --------------------------------------------------------
BOOL __cdecl DeleteSocketMsg()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  BOOL result; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v4; // [esp+10h] [ebp-8h] BYREF
  int v5; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1A9C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1A9C, (int)v3);
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v5,
               v0);
    if ( !result )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_420250(&v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_446090(&v5, &v4, 0);
  }
  return result;
}
// 4E1A9C: using guessed type int dword_4E1A9C[3];

//----- (00447D10) --------------------------------------------------------
_DWORD *__cdecl CInitNPC::Copy()
{
  CInitNPC *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0x28u);
  if ( v2 )
    v1 = CInitNPC::CInitNPC((CInitNPC *)v2);
  else
    v1 = 0;
  return &v1->__vftable;
}

//----- (00447D50) --------------------------------------------------------
int __thiscall CInitNPC::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  _DWORD *v6; // [esp-4h] [ebp-18h] BYREF
  int v7; // [esp+0h] [ebp-14h]
  void *v8; // [esp+4h] [ebp-10h]
  lisp::var v9; // [esp+Ch] [ebp-8h] BYREF
  lisp::var result; // [esp+10h] [ebp-4h] BYREF

  v8 = this;
  v7 = a2;
  if ( a2 == 30 )
  {
    v3 = lisp::var::pop((lisp::var *)&a3, &result);
    *((_DWORD *)v8 + 8) = sub_40C8D0(v3);
  }
  else
  {
    if ( v7 != 53 )
    {
      v6 = this;
      sub_402340(&v6, &a3);
      return CBase::Set(v8, a2, (char)v6);
    }
    v4 = lisp::var::pop((lisp::var *)&a3, &v9);
    *((_DWORD *)v8 + 9) = sub_40C8D0(v4);
  }
  return 1;
}

//----- (00447DD0) --------------------------------------------------------
int __thiscall sub_447DD0(_DWORD *this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v4[8]; // [esp+8h] [ebp-10h] BYREF
  char v5[8]; // [esp+10h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v4);
  sub_445DF0(
    (int)dword_4E1A9C,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v5,
    v1);
  if ( v5[4] )
    return 1;
  LOG_ERR("CInitNPC::OnLoad() Duplicated InitNPC.(Kind:%d)", this[8]);
  return 0;
}
// 447DFC: variable 'v1' is possibly undefined
// 4E1A9C: using guessed type int dword_4E1A9C[3];

//----- (00447E30) --------------------------------------------------------
CGenNPC *__thiscall CGenNPC::CGenNPC(CGenNPC *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4B96F8;
  *((_DWORD *)this + 8) = 0;
  *((_DWORD *)this + 9) = 0;
  *((_DWORD *)this + 10) = 0;
  *((_DWORD *)this + 11) = 0;
  *((_DWORD *)this + 12) = 0;
  *((_DWORD *)this + 13) = 0;
  *((_DWORD *)this + 14) = 0;
  *((_DWORD *)this + 16) = -1;
  *((_DWORD *)this + 15) = -1;
  *((_DWORD *)this + 17) = 0;
  *((_DWORD *)this + 19) = -1;
  *((_DWORD *)this + 18) = -1;
  *((_DWORD *)this + 20) = 0;
  *((_DWORD *)this + 21) = 0;
  *((_DWORD *)this + 22) = 0;
  *((_DWORD *)this + 23) = 0;
  *((_DWORD *)this + 24) = 0;
  for ( *((_DWORD *)this + 25) = 0; *((int *)this + 25) > 5; ++*((_DWORD *)this + 25) )
  {
    *((_DWORD *)this + *((_DWORD *)this + 25) + 26) = 0;
    *((_DWORD *)this + 2 * *((_DWORD *)this + 25) + 32) = 0;
    *((_DWORD *)this + 2 * *((_DWORD *)this + 25) + 31) = 0;
  }
  *((_DWORD *)this + 25) = 0;
  return this;
}
// 4B96F8: using guessed type int (__stdcall *off_4B96F8)(int);

//----- (00447F60) --------------------------------------------------------
void *__thiscall sub_447F60(void *this, char a2)
{
  sub_447F90((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00447F90) --------------------------------------------------------
void __thiscall sub_447F90(std::locale::facet *this)
{
  *(_DWORD *)this = &off_4B96F8;
  CBase::_CBase(this);
}
// 4B96F8: using guessed type int (__stdcall *off_4B96F8)(int);

//----- (00447FB0) --------------------------------------------------------
BOOL sub_447FB0()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  BOOL result; // eax
  void (__thiscall ***v2)(_DWORD, int); // [esp+8h] [ebp-10h]
  char v3[4]; // [esp+Ch] [ebp-Ch] BYREF
  int v4; // [esp+10h] [ebp-8h] BYREF
  int v5; // [esp+14h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1AA8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1AA8, (int)v3);
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v5,
               v0);
    if ( !result )
      break;
    v2 = *(void (__thiscall ****)(_DWORD, int))(sub_420250(&v5) + 4);
    if ( v2 )
      (**v2)(v2, 1);
    sub_446090(&v5, &v4, 0);
  }
  return result;
}
// 4E1AA8: using guessed type int dword_4E1AA8[3];

//----- (00448030) --------------------------------------------------------
_DWORD *__cdecl CGenNPC::Copy()
{
  CGenNPC *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+8h] [ebp-4h]

  v2 = sub_401000(0xB4u);
  if ( v2 )
    v1 = CGenNPC::CGenNPC((CGenNPC *)v2);
  else
    v1 = 0;
  return &v1->__vftable;
}

//----- (00448070) --------------------------------------------------------
int __thiscall CGenNPC::Set(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  int v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  lisp::var *v20; // eax
  lisp::var *v21; // eax
  lisp::var *v22; // eax
  lisp::var *v23; // eax
  lisp::var *v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  _DWORD v28[2]; // [esp-4h] [ebp-70h] BYREF
  void *v29; // [esp+4h] [ebp-68h]
  lisp::var v30; // [esp+Ch] [ebp-60h] BYREF
  lisp::var v31; // [esp+10h] [ebp-5Ch] BYREF
  lisp::var v32; // [esp+14h] [ebp-58h] BYREF
  lisp::var v33; // [esp+18h] [ebp-54h] BYREF
  lisp::var v34; // [esp+1Ch] [ebp-50h] BYREF
  lisp::var v35; // [esp+20h] [ebp-4Ch] BYREF
  lisp::var v36; // [esp+24h] [ebp-48h] BYREF
  lisp::var v37; // [esp+28h] [ebp-44h] BYREF
  lisp::var v38; // [esp+2Ch] [ebp-40h] BYREF
  lisp::var v39; // [esp+30h] [ebp-3Ch] BYREF
  lisp::var v40; // [esp+34h] [ebp-38h] BYREF
  lisp::var v41; // [esp+38h] [ebp-34h] BYREF
  lisp::var v42; // [esp+3Ch] [ebp-30h] BYREF
  lisp::var v43; // [esp+40h] [ebp-2Ch] BYREF
  lisp::var v44; // [esp+44h] [ebp-28h] BYREF
  lisp::var v45; // [esp+48h] [ebp-24h] BYREF
  lisp::var v46; // [esp+4Ch] [ebp-20h] BYREF
  lisp::var v47; // [esp+50h] [ebp-1Ch] BYREF
  lisp::var v48; // [esp+54h] [ebp-18h] BYREF
  lisp::var v49; // [esp+58h] [ebp-14h] BYREF
  lisp::var v50; // [esp+5Ch] [ebp-10h] BYREF
  lisp::var v51; // [esp+60h] [ebp-Ch] BYREF
  lisp::var v52; // [esp+64h] [ebp-8h] BYREF
  lisp::var result; // [esp+68h] [ebp-4h] BYREF

  v29 = this;
  v28[1] = a2 - 2;
  switch ( a2 )
  {
    case 2:
      v3 = lisp::var::pop((lisp::var *)&a3, &result);
      *((_DWORD *)v29 + 8) = sub_40C8D0(v3);
      goto LABEL_23;
    case 3:
      v7 = lisp::var::pop((lisp::var *)&a3, &v49);
      *((_DWORD *)v29 + 13) = sub_40C8D0(v7);
      *((_DWORD *)v29 + 14) = sub_491080(*((_DWORD *)v29 + 13));
      if ( *((_DWORD *)v29 + 14) )
        goto LABEL_23;
      LOG_ERR("CGenNPC::Set() Can't find the Map. (index:%d)", *((_DWORD *)v29 + 13));
      v8 = 0;
      break;
    case 30:
      v4 = lisp::var::pop((lisp::var *)&a3, &v52);
      *((_DWORD *)v29 + 9) = sub_40C8D0(v4);
      goto LABEL_23;
    case 31:
      v9 = lisp::var::pop((lisp::var *)&a3, &v48);
      *((_DWORD *)v29 + 15) = sub_40C8D0(v9);
      v10 = lisp::var::pop((lisp::var *)&a3, &v47);
      *((_DWORD *)v29 + 16) = sub_40C8D0(v10);
      v11 = lisp::var::pop((lisp::var *)&a3, &v46);
      *((_DWORD *)v29 + 17) = sub_40C8D0(v11);
      goto LABEL_23;
    case 43:
      if ( *((int *)v29 + 25) <= 5 )
      {
        v21 = lisp::var::pop((lisp::var *)&a3, &v36);
        *((_DWORD *)v29 + *((_DWORD *)v29 + 25) + 26) = sub_40C8D0(v21);
        v22 = lisp::var::pop((lisp::var *)&a3, &v35);
        *((_DWORD *)v29 + 2 * *((_DWORD *)v29 + 25) + 31) = sub_40C8D0(v22);
        v23 = lisp::var::pop((lisp::var *)&a3, &v34);
        *((_DWORD *)v29 + 2 * (*((_DWORD *)v29 + 25))++ + 32) = sub_40C8D0(v23);
      }
      goto LABEL_23;
    case 54:
      v6 = lisp::var::pop((lisp::var *)&a3, &v50);
      *((_DWORD *)v29 + 11) = sub_40C8D0(v6);
      goto LABEL_23;
    case 55:
      v5 = lisp::var::pop((lisp::var *)&a3, &v51);
      *((_DWORD *)v29 + 10) = sub_40C8D0(v5);
      goto LABEL_23;
    case 56:
      v12 = lisp::var::pop((lisp::var *)&a3, &v45);
      *((_DWORD *)v29 + 18) = sub_40C8D0(v12) - *((_DWORD *)v29 + 15);
      v13 = lisp::var::pop((lisp::var *)&a3, &v44);
      *((_DWORD *)v29 + 19) = sub_40C8D0(v13) - *((_DWORD *)v29 + 16);
      goto LABEL_23;
    case 70:
      v14 = lisp::var::pop((lisp::var *)&a3, &v43);
      *((_DWORD *)v29 + 12) |= sub_40C8D0(v14) << 16;
      v15 = lisp::var::pop((lisp::var *)&a3, &v42);
      *((_DWORD *)v29 + 12) |= sub_40C8D0(v15);
      goto LABEL_23;
    case 95:
      v16 = lisp::var::pop((lisp::var *)&a3, &v41);
      *((_DWORD *)v29 + 20) = sub_40C8D0(v16);
      goto LABEL_23;
    case 96:
      v17 = lisp::var::pop((lisp::var *)&a3, &v40);
      *((_DWORD *)v29 + 21) = sub_40C8D0(v17);
      goto LABEL_23;
    case 108:
      v18 = lisp::var::pop((lisp::var *)&a3, &v39);
      *((_DWORD *)v29 + 22) = sub_40C8D0(v18);
      v19 = lisp::var::pop((lisp::var *)&a3, &v38);
      *((_DWORD *)v29 + 23) = sub_40C8D0(v19);
      goto LABEL_23;
    case 109:
      while ( !(unsigned __int8)sub_402380(&a3) )
      {
        v20 = lisp::var::pop((lisp::var *)&a3, &v37);
        *((_DWORD *)v29 + 24) |= 1 << sub_40C8D0(v20);
      }
      goto LABEL_23;
    case 113:
      v24 = lisp::var::pop((lisp::var *)&a3, &v33);
      *((_DWORD *)v29 + 41) = sub_40C8D0(v24);
      v25 = lisp::var::pop((lisp::var *)&a3, &v32);
      *((_DWORD *)v29 + 42) = sub_40C8D0(v25);
      goto LABEL_23;
    case 114:
      v26 = lisp::var::pop((lisp::var *)&a3, &v31);
      *((_DWORD *)v29 + 43) = sub_40C8D0(v26);
      v27 = lisp::var::pop((lisp::var *)&a3, &v30);
      *((_DWORD *)v29 + 44) = sub_40C8D0(v27);
LABEL_23:
      v8 = 1;
      break;
    default:
      v28[0] = a2 - 2;
      sub_402340(v28, &a3);
      v8 = CBase::Set(v29, a2, v28[0]);
      break;
  }
  return v8;
}

//----- (004484D0) --------------------------------------------------------
int __thiscall sub_4484D0(_DWORD *this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v4[8]; // [esp+8h] [ebp-10h] BYREF
  char v5[8]; // [esp+10h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v4);
  sub_445DF0(
    (int)dword_4E1AA8,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v5,
    v1);
  if ( v5[4] )
    return 1;
  LOG_ERR("CGenNPC::OnLoad() Duplicated GenNPC.(Index:%d)", this[8]);
  return 0;
}
// 4484FC: variable 'v1' is possibly undefined
// 4E1AA8: using guessed type int dword_4E1AA8[3];

//----- (00448530) --------------------------------------------------------
int __thiscall sub_448530(int this)
{
  int i; // [esp+4h] [ebp-4h]

  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_4B97A0;
  `vector constructor iterator'(
    (void *)(this + 16),
    0x20u,
    2,
    (void *(__thiscall *)(void *))CIOCriticalSection::CIOCriticalSection);
  for ( i = 0; i < 2; ++i )
    sub_438A60((_DWORD *)(this + 8 * i + 80));
  return this;
}
// 4B97A0: using guessed type int (__stdcall *off_4B97A0)(int);

//----- (00448590) --------------------------------------------------------
void __thiscall CNPCObject::_CNPCObject(void *this)
{
  `vector destructor iterator'(
    (char *)this + 16,
    0x20u,
    2,
    (void (__thiscall *)(void *))CIOCriticalSection::~CIOCriticalSection);
  std::locale::facet::~facet((std::locale::facet *)this);
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (004485C0) --------------------------------------------------------
void __thiscall CNPCObject::OnTimer(int this, CIOCriticalSection *a2)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v4; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v5; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v6; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v7; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v8; // [esp+0h] [ebp-20h]
  _DWORD *v10; // [esp+8h] [ebp-18h]
  _DWORD *v11; // [esp+Ch] [ebp-14h]
  _DWORD *v12; // [esp+10h] [ebp-10h]
  _DWORD *v13; // [esp+14h] [ebp-Ch]
  DWORD v14; // [esp+18h] [ebp-8h]
  DWORD v15; // [esp+1Ch] [ebp-4h]

  if ( a2 )
  {
    if ( a2 == (CIOCriticalSection *)1 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)1);
      CIOCriticalSection::Enter(v6);
      CLink::MoveTo((CLink *)(this + 88), (CLink *)(this + 80));
      CIOCriticalSection::Leave(v7);
      v11 = *(_DWORD **)(this + 80);
      while ( v11 != (_DWORD *)(this + 80) )
      {
        v10 = v11 - 107;
        v11 = (_DWORD *)*v11;
        (*(void (__thiscall **)(_DWORD *))(*v10 + 204))(v10);
      }
      CIOCriticalSection::Leave(v8);
      CIOObject::AddTimer((CIOObject *)this, 0x3E8u, 1);
    }
  }
  else
  {
    v15 = GetTickCount();
    do
    {
      v14 = v15 + 30;
      CIOCriticalSection::Enter(a2);
      CIOCriticalSection::Enter(v3);
      CLink::MoveTo((CLink *)(this + 88), (CLink *)(this + 80));
      CIOCriticalSection::Leave(v4);
      v13 = *(_DWORD **)(this + 80);
      while ( v13 != (_DWORD *)(this + 80) )
      {
        v12 = v13 - 107;
        v13 = (_DWORD *)*v13;
        (*(void (__thiscall **)(_DWORD *))(*v12 + 200))(v12);
      }
      CIOCriticalSection::Leave(v5);
      v15 = GetTickCount();
    }
    while ( v14 <= v15 );
    CIOObject::AddTimer((CIOObject *)this, v14 - v15, 0);
  }
}
// 448609: variable 'a2' is possibly undefined
// 448614: variable 'v3' is possibly undefined
// 448631: variable 'v4' is possibly undefined
// 448674: variable 'v5' is possibly undefined
// 4486BB: variable 'v6' is possibly undefined
// 4486D8: variable 'v7' is possibly undefined
// 44871A: variable 'v8' is possibly undefined

//----- (00448740) --------------------------------------------------------
void __thiscall CNPCObject::Insert(CIOCriticalSection *this, CLink *a2)
{
  int v3; // [esp+0h] [ebp-4h]

  InterlockedIncrement(&dword_4E1A98);
  CIOCriticalSection::Enter(this);
  CLink::Insert(a2, (CLink *)(v3 + 88));
  CIOCriticalSection::Leave((CIOCriticalSection *)v3);
}
// 448763: variable 'v3' is possibly undefined

//----- (00448780) --------------------------------------------------------
CNPC *__thiscall CNPC::CNPC(CNPC *this, _DWORD *a2)
{
  CChar::CChar(this);
  *(_DWORD *)this = &off_4B97B8;
  *((_DWORD *)this + 6) = 3;
  *((_DWORD *)this + 79) = a2[13];
  *((_DWORD *)this + 80) = a2[14];
  *((_DWORD *)this + 110) = 0;
  *((_DWORD *)this + 112) = a2[8];
  *((_DWORD *)this + 113) = a2[10];
  *((_DWORD *)this + 114) = 0;
  *((_DWORD *)this + 116) = a2[20];
  *((_DWORD *)this + 117) = a2[21];
  return this;
}
// 4B97B8: using guessed type int (__stdcall *off_4B97B8)(int);

//----- (00448820) --------------------------------------------------------
BOOL __thiscall sub_448820(int *this, int a2)
{
  return sub_448870(this + 83, (_DWORD *)a2) <= 64 && this[114] > 0;
}

//----- (00448870) --------------------------------------------------------
int __cdecl sub_448870(_DWORD *a1, _DWORD *a2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  v4 = abs(*a1 - *a2);
  v5 = abs(a1[1] - a2[1]);
  if ( v4 <= v5 )
    v3 = v5;
  else
    v3 = v4;
  return v3;
}

//----- (004488D0) --------------------------------------------------------
void __stdcall sub_4488D0(int a1, int a2, int a3)
{
  ;
}

//----- (004488E0) --------------------------------------------------------
void __thiscall sub_4488E0(void *this, char a2)
{
  sub_448910(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
}

//----- (00448910) --------------------------------------------------------
void __thiscall sub_448910(_DWORD *this)
{
  *this = &off_4B97B8;
  CChar::_CChar(this);
}
// 4B97B8: using guessed type int (__stdcall *off_4B97B8)(int);

//----- (00448930) --------------------------------------------------------
void __cdecl CNPC::Create(_DWORD *a1)
{
  int v1; // eax
  _DWORD *v2; // [esp+0h] [ebp-5Ch]
  CNPCSiegeGunStone *v3; // [esp+4h] [ebp-58h]
  CNPCDoor *v4; // [esp+8h] [ebp-54h]
  CNPCTeleport *v5; // [esp+Ch] [ebp-50h]
  CNPCScenario *v6; // [esp+10h] [ebp-4Ch]
  _DWORD *v7; // [esp+14h] [ebp-48h]
  _DWORD *v8; // [esp+18h] [ebp-44h]
  _DWORD *v9; // [esp+1Ch] [ebp-40h]
  _DWORD *v10; // [esp+20h] [ebp-3Ch]
  CMemory **v11; // [esp+28h] [ebp-34h]
  CMemory **v12; // [esp+2Ch] [ebp-30h]
  CMemory **v13; // [esp+30h] [ebp-2Ch]
  CMemory **v14; // [esp+34h] [ebp-28h]
  CMemory **v15; // [esp+38h] [ebp-24h]
  CMemory **v16; // [esp+3Ch] [ebp-20h]
  CMemory **v17; // [esp+40h] [ebp-1Ch]
  CMemory **v18; // [esp+44h] [ebp-18h]
  CMemory **v19; // [esp+48h] [ebp-14h]
  char v20[4]; // [esp+4Ch] [ebp-10h] BYREF
  int v21; // [esp+50h] [ebp-Ch]
  _DWORD *v22; // [esp+54h] [ebp-8h]
  char v23[4]; // [esp+58h] [ebp-4h] BYREF

  sub_44AE20(dword_4E1A9C, v23, a1 + 9);
  v1 = sub_430C20(dword_4E1A9C, (int)v20);
  if ( (unsigned __int8)unknown_libname_8(v1) )
  {
    LOG_ERR("CNPC::Create() Invalid InitNPC.(Index:%d)", a1[9]);
  }
  else
  {
    v21 = *(_DWORD *)(sub_420250(v23) + 4);
    if ( (a1[24] & (1 << dword_4E35B8)) != 0 )
    {
      v22 = 0;
      switch ( *(_DWORD *)(v21 + 32) )
      {
        case 0:
          v19 = sub_401000(0x1D8u);
          if ( v19 )
            v10 = sub_448D00(v19, a1);
          else
            v10 = 0;
          v22 = v10;
          goto LABEL_42;
        case 1:
          v18 = sub_401000(0x1D8u);
          if ( v18 )
            v9 = sub_448D00(v18, a1);
          else
            v9 = 0;
          v22 = v9;
          goto LABEL_42;
        case 2:
          v17 = sub_401000(0x1D8u);
          if ( v17 )
            v8 = sub_448D00(v17, a1);
          else
            v8 = 0;
          v22 = v8;
          goto LABEL_42;
        case 3:
          v16 = sub_401000(0x1D8u);
          if ( v16 )
            v7 = sub_448D60(v16, a1);
          else
            v7 = 0;
          v22 = v7;
          goto LABEL_42;
        case 4:
          v15 = sub_401000(0x1E8u);
          if ( v15 )
            v6 = CNPCScenario::CNPCScenario((CNPCScenario *)v15, a1);
          else
            v6 = 0;
          v22 = &v6->__vftable;
          goto LABEL_42;
        case 5:
          v14 = sub_401000(0x1E8u);
          if ( v14 )
            v5 = CNPCTeleport::CNPCTeleport((CNPCTeleport *)v14, a1);
          else
            v5 = 0;
          v22 = &v5->__vftable;
          goto LABEL_42;
        case 6:
          v13 = sub_401000(0x1E8u);
          if ( v13 )
            v4 = CNPCDoor::CNPCDoor((CNPCDoor *)v13, a1);
          else
            v4 = 0;
          v22 = &v4->__vftable;
          goto LABEL_42;
        case 7:
          v12 = sub_401000(0x208u);
          if ( v12 )
            v3 = CNPCSiegeGunStone::CNPCSiegeGunStone((CNPCSiegeGunStone *)v12, a1);
          else
            v3 = 0;
          v22 = &v3->__vftable;
          goto LABEL_42;
        case 8:
          v11 = sub_401000(0x1D8u);
          if ( v11 )
            v2 = sub_448D00(v11, a1);
          else
            v2 = 0;
          v22 = v2;
LABEL_42:
          sub_412E90((CIOCriticalSection *)v22);
          v22[111] = a1;
          CChar::SetXY(v22, a1 + 15);
          CNPC::SetProperty(v22, v21, a1);
          (*(void (__thiscall **)(_DWORD *))(*v22 + 208))(v22);
          if ( v22[117] != 2 )
            CSMap::GetCellMap(v22, (int)(v22 + 81));
          CNPC::Add((int)v22);
          sub_412EB0((CIOCriticalSection *)v22);
          break;
        default:
          LOG_ERR("CNPC::Create() Invalid NPC kind. (Kind:%d)", *(_DWORD *)(v21 + 32));
          break;
      }
    }
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E1A9C: using guessed type int dword_4E1A9C[3];
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00448C80) --------------------------------------------------------
CNPCTeleport *__thiscall CNPCTeleport::CNPCTeleport(CNPCTeleport *this, _DWORD *a2)
{
  CNPC::CNPC(this, a2);
  *(_DWORD *)this = &off_4B98F0;
  *((_DWORD *)this + 119) = a2 + 26;
  *((_DWORD *)this + 120) = a2 + 31;
  *((_DWORD *)this + 118) = a2[25];
  return this;
}
// 4B98F0: using guessed type int (__stdcall *off_4B98F0)(int);

//----- (00448CE0) --------------------------------------------------------
void __thiscall sub_448CE0(_DWORD *this)
{
  sub_448910(this);
}

//----- (00448D00) --------------------------------------------------------
_DWORD *__thiscall sub_448D00(_DWORD *this, _DWORD *a2)
{
  CNPC::CNPC((CNPC *)this, a2);
  *this = &off_4B99D0;
  return this;
}
// 4B99D0: using guessed type int (__stdcall *off_4B99D0)(int);

//----- (00448D30) --------------------------------------------------------
void __thiscall sub_448D30(_DWORD *this, char a2)
{
  sub_448CE0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
}

//----- (00448D60) --------------------------------------------------------
_DWORD *__thiscall sub_448D60(_DWORD *this, _DWORD *a2)
{
  CNPC::CNPC((CNPC *)this, a2);
  *this = &off_4B9AB0;
  return this;
}
// 4B9AB0: using guessed type int (__stdcall *off_4B9AB0)(int);

//----- (00448D90) --------------------------------------------------------
BOOL __thiscall CNPCQuest::CanReply(_DWORD *this, _DWORD *a2)
{
  return sub_448870(this + 83, a2) <= 64;
}

//----- (00448DC0) --------------------------------------------------------
CNPCScenario *__thiscall CNPCScenario::CNPCScenario(CNPCScenario *this, _DWORD *a2)
{
  CNPC::CNPC(this, a2);
  *(_DWORD *)this = &off_4B9B90;
  *((_DWORD *)this + 120) = 0;
  *((_DWORD *)this + 118) = a2[22];
  *((_DWORD *)this + 119) = a2[23];
  return this;
}
// 4B9B90: using guessed type int (__stdcall *off_4B9B90)(int);

//----- (00448E10) --------------------------------------------------------
CNPCDoor *__thiscall CNPCDoor::CNPCDoor(CNPCDoor *this, _DWORD *a2)
{
  CNPC::CNPC(this, a2);
  *(_DWORD *)this = &off_4B9C70;
  *((_DWORD *)this + 120) = 0;
  *((_DWORD *)this + 119) = a2[22];
  *((_DWORD *)this + 118) = a2[23];
  return this;
}
// 4B9C70: using guessed type int (__stdcall *off_4B9C70)(int);

//----- (00448E60) --------------------------------------------------------
CNPCSiegeGunStone *__thiscall CNPCSiegeGunStone::CNPCSiegeGunStone(CNPCSiegeGunStone *this, _DWORD *a2)
{
  int v2; // ecx
  int v3; // edx

  CNPC::CNPC(this, a2);
  *(_DWORD *)this = &off_4B9D50;
  *((_DWORD *)this + 124) = 0;
  *((_DWORD *)this + 125) = 0;
  *((_DWORD *)this + 126) = 0;
  v2 = a2[42];
  *((_DWORD *)this + 120) = a2[41];
  *((_DWORD *)this + 121) = v2;
  v3 = a2[44];
  *((_DWORD *)this + 122) = a2[43];
  *((_DWORD *)this + 123) = v3;
  *((_DWORD *)this + 127) = 0;
  return this;
}
// 4B9D50: using guessed type int (__stdcall *off_4B9D50)(int);

//----- (00448F00) --------------------------------------------------------
LONG sub_448F00()
{
  return dword_4E1A98;
}

//----- (00448F10) --------------------------------------------------------
void CNPC::Start()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int v1; // eax
  char v2[4]; // [esp+0h] [ebp-Ch] BYREF
  int v3; // [esp+4h] [ebp-8h] BYREF
  int v4; // [esp+8h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1AA8,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1AA8, (int)v2);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v4,
            v0) )
      break;
    v1 = sub_420250(&v4);
    CNPC::Create(*(_DWORD **)(v1 + 4));
    sub_446090(&v4, &v3, 0);
  }
  CIOObject::AddTimer((CIOObject *)&unk_4E1AD8, 0x3E8u, 1);
}
// 4E1AA8: using guessed type int dword_4E1AA8[3];

//----- (00448F80) --------------------------------------------------------
int sub_448F80()
{
  CNPCScenario::ResetBossTower(1);
  return CMonsterObject::Stop((CIOCriticalSection *)&unk_4E1AD8);
}

//----- (00448FA0) --------------------------------------------------------
volatile int *__cdecl CNPC::FindNPC(char a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-Ch] BYREF
  int v4; // [esp+4h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-4h] BYREF

  v4 = 0;
  CRWLock::ReadLock(&unk_4E1AC0);
  sub_44AE20(dword_4E1AB4, &v5, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1AB4, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v5,
         v1) )
  {
    v4 = *(_DWORD *)(sub_420250(&v5) + 4);
    sub_4010D0(v4);
  }
  CRWLock::ReadUnlock(&unk_4E1AC0);
  return (volatile int *)v4;
}
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (00449010) --------------------------------------------------------
int __cdecl CNPC::CanReply(int a1, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v4[4]; // [esp+0h] [ebp-10h] BYREF
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+Ch] [ebp-4h] BYREF

  v6 = 0;
  CRWLock::ReadLock(&unk_4E1AC0);
  sub_44AE20(dword_4E1AB4, &v7, &a1);
  v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1AB4, (int)v4);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v7,
         v2) )
  {
    v5 = *(_DWORD *)(sub_420250(&v7) + 4);
    if ( (*(int (__thiscall **)(int, int))(*(_DWORD *)v5 + 188))(v5, a2) )
      v6 = 1;
  }
  CRWLock::ReadUnlock(&unk_4E1AC0);
  return v6;
}
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (004490A0) --------------------------------------------------------
void __cdecl sub_4490A0(int a1, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v3[4]; // [esp+0h] [ebp-Ch] BYREF
  int v4; // [esp+4h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E1AC0);
  sub_44AE20(dword_4E1AB4, &v5, &a1);
  v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1AB4, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v5,
         v2) )
  {
    v4 = *(_DWORD *)(sub_420250(&v5) + 4);
    if ( (*(int (__thiscall **)(int, int))(*(_DWORD *)v4 + 188))(v4, a2 + 332) )
      (*(void (__thiscall **)(int, int))(*(_DWORD *)v4 + 192))(v4, a2);
  }
  CRWLock::ReadUnlock(&unk_4E1AC0);
}
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (00449130) --------------------------------------------------------
void __thiscall CNPC::OnDelete(CIOCriticalSection *this)
{
  sub_412E90(this);
  CNPC::Remove(this);
  sub_4913E0((int)this, (int)&this[10].m_critical_section.LockCount);
  sub_412EB0(this);
  sub_402180((int)this);
}

//----- (00449180) --------------------------------------------------------
void __thiscall CNPC::SendDelete(_DWORD *this, int a2, int a3)
{
  CPlayer::Write(a2, 57, "d", this[7]);
}

//----- (004491B0) --------------------------------------------------------
void __thiscall CNPC::SendCreate(_DWORD *this, int a2, int a3)
{
  CPlayer::Write(
    a2,
    52,
    "dwbdddwdd",
    this[7],
    this[112],
    this[113],
    this[83],
    this[84],
    this[85],
    this[87],
    this[70],
    0);
}

//----- (00449220) --------------------------------------------------------
void __thiscall sub_449220(int this, int a2)
{
  CChar::AddGState((volatile LONG *)this, a2);
  CChar::WriteInSight(this, 46, "dd", *(_DWORD *)(this + 28), *(_DWORD *)(this + 280));
}

//----- (00449260) --------------------------------------------------------
void __thiscall CNPC::Reply(_DWORD *this, int a2)
{
  if ( (int)this[114] > 0 )
    CPlayer::Write(a2, 74, "d", this[114]);
}

//----- (004492A0) --------------------------------------------------------
void __cdecl CNPC::WarRelationShow(int a1, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v3[4]; // [esp+0h] [ebp-14h] BYREF
  int v4; // [esp+4h] [ebp-10h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-Ch] BYREF
  CMemory *v6; // [esp+Ch] [ebp-8h]
  CMemory *a2a; // [esp+10h] [ebp-4h]

  v6 = 0;
  CRWLock::ReadLock(&unk_4E1AC0);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1AB4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v5);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1AB4, (int)v3);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v5,
            v2) )
      break;
    a2a = *(CMemory **)(sub_420250(&v5) + 4);
    if ( a2a[8].__sbh_sizeHeaderList == a1 )
      v6 = (CMemory *)CBaseList::Push(v6, a2a);
    sub_446090((int *)&v5, &v4, 0);
  }
  CRWLock::ReadUnlock(&unk_4E1AC0);
  while ( v6 )
  {
    a2a = (CMemory *)unknown_libname_7(v6);
    if ( a2a[8].__sbh_cntHeaderList == 1 )
    {
      CNPC::Show((CIOCriticalSection *)a2a, a2);
    }
    else if ( a2a[8].__sbh_cntHeaderList == 2 )
    {
      CNPC::Show((CIOCriticalSection *)a2a, a2 == 0);
    }
    v6 = (CMemory *)CBaseList::Pop((CIOObject *)v6);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (00449390) --------------------------------------------------------
void __thiscall CNPC::Add(int this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v3[8]; // [esp+4h] [ebp-18h] BYREF
  int v4; // [esp+Ch] [ebp-10h]
  int v5; // [esp+10h] [ebp-Ch]
  char v6[8]; // [esp+14h] [ebp-8h] BYREF

  sub_4010D0(this);
  CNPCObject::Insert((CIOCriticalSection *)&unk_4E1AD8, (CLink *)(this + 428));
  CRWLock::WriteLock(&unk_4E1AC0);
  v5 = this;
  v4 = *(_DWORD *)(this + 28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v6);
  sub_445DF0(
    (int)dword_4E1AB4,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v3,
    v1);
  CRWLock::WriteUnlock(&unk_4E1AC0);
}
// 4493E7: variable 'v1' is possibly undefined
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (00449400) --------------------------------------------------------
void __thiscall CNPC::Remove(_DWORD *this)
{
  int v2; // [esp+4h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E1AC0);
  v2 = this[7];
  sub_44ADC0(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E1AB4,
    (int)&v2);
  CRWLock::WriteUnlock(&unk_4E1AC0);
  InterlockedDecrement(&dword_4E1A98);
}
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (00449450) --------------------------------------------------------
int __thiscall CMonster::IsRemoved(volatile int *this)
{
  if ( !sub_40B2F0(this) )
    return 0;
  CLink::Remove((CLink *)(this + 107));
  sub_401DE0((int *)this);
  return 1;
}

//----- (00449490) --------------------------------------------------------
void __thiscall CNPC::SetProperty(_DWORD *this, int a2, _DWORD *a3)
{
  this[110] = a2;
  this[114] = a3[11];
  this[115] = a3[12];
  this[85] = a3[17];
  CChar::SetDirection(this, a3[18], a3[19]);
}

//----- (004494F0) --------------------------------------------------------
void __thiscall CNPC::Show(CIOCriticalSection *this, int a2)
{
  sub_412E90(this);
  if ( a2 )
  {
    CSMap::GetCellMap(this, (int)&this[10].m_critical_section.LockCount);
    CChar::WriteInSight(
      (int)this,
      52,
      "dwbdddwdd",
      this->m_dwEIP[1],
      this[14].m_critical_section.DebugInfo,
      this[14].m_critical_section.LockCount,
      this[10].m_critical_section.OwningThread,
      this[10].m_critical_section.LockSemaphore,
      this[10].m_critical_section.SpinCount,
      this[10].m_dwEIP[1],
      this[8].m_dwEIP[0],
      0);
  }
  else
  {
    sub_4913E0((int)this, (int)&this[10].m_critical_section.LockCount);
    CChar::WriteInSight((int)this, 57, "d", this->m_dwEIP[1]);
  }
  sub_412EB0(this);
}

//----- (004495D0) --------------------------------------------------------
void __cdecl CNPC::GetNPCList(int a1, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v5[4]; // [esp+0h] [ebp-Ch] BYREF
  int v6; // [esp+4h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+8h] [ebp-4h] BYREF

  CRWLock::ReadLock(&unk_4E1AC0);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1AB4,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1AB4, (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v7,
            v3) )
      break;
    if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v7) + 4) + 440) + 32) == a2
      && *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(sub_420250(&v7) + 4) + 444) + 52) == a3 )
    {
      v4 = sub_420250(&v7);
      sub_47D000((_DWORD *)a1, v4 + 4);
    }
    sub_446090((int *)&v7, &v6, 0);
  }
  CRWLock::ReadUnlock(&unk_4E1AC0);
}
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (00449680) --------------------------------------------------------
void __thiscall CNPCQuest::Reply(int this, int a2)
{
  CQuest::ProcessPacket(*(_DWORD *)(this + 460), a2);
}

//----- (004496B0) --------------------------------------------------------
void __cdecl CNPCScenario::MirrorGState(int a1, int a2)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-8h]
  int j; // [esp+0h] [ebp-8h]
  int i; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(v2);
  if ( a1 )
  {
    for ( i = 0; i < 8; ++i )
    {
      if ( dword_4E1A70[i] )
        (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_4E1A70[i] + 100))(dword_4E1A70[i], a2);
    }
  }
  else
  {
    for ( j = 0; j < 8; ++j )
    {
      if ( dword_4E1A70[j] )
        (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_4E1A70[j] + 112))(dword_4E1A70[j], a2);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)j);
}
// 4496BB: variable 'v2' is possibly undefined
// 449759: variable 'j' is possibly undefined

//----- (00449770) --------------------------------------------------------
void __cdecl CNPCScenario::ThroneGState(int a1, int a2)
{
  CIOCriticalSection *savedregs; // [esp+0h] [ebp+0h]
  CIOCriticalSection *savedregsa; // [esp+0h] [ebp+0h]

  CIOCriticalSection::Enter(savedregs);
  if ( a1 )
  {
    if ( dword_4E1A90 )
      (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_4E1A90 + 100))(dword_4E1A90, a2);
  }
  else if ( dword_4E1A90 )
  {
    (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_4E1A90 + 112))(dword_4E1A90, a2);
  }
  CIOCriticalSection::Leave(savedregsa);
}
// 449778: variable 'savedregs' is possibly undefined
// 4497C6: variable 'savedregsa' is possibly undefined
// 4E1A90: using guessed type int dword_4E1A90;

//----- (004497D0) --------------------------------------------------------
void __cdecl CNPCScenario::ResetBossTower(int a1)
{
  CIOCriticalSection *v1; // ecx
  int i; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(v1);
  if ( a1 )
  {
    for ( i = 0; i < 9; ++i )
      dword_4E1A70[i] = 0;
  }
  dword_4E1A94 = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)i);
}
// 4497D9: variable 'v1' is possibly undefined
// 44981B: variable 'i' is possibly undefined
// 4E1A94: using guessed type int dword_4E1A94;

//----- (00449830) --------------------------------------------------------
void __thiscall CNPCScenario::Tick(CIOCriticalSection *this)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-8h]
  DWORD v3; // [esp+4h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CIOCriticalSection::Enter(this);
    v3 = GetTickCount();
    if ( dword_4E1A94 != 255
      && sub_40B310(v2, 1)
      && (_RTL_CRITICAL_SECTION_DEBUG *)v3 >= v2[15].m_critical_section.DebugInfo )
    {
      ((void (__thiscall *)(CIOCriticalSection *, int))v2->m_critical_section.DebugInfo[3].EntryCount)(v2, 1);
      dword_4E1A94 &= ~(1 << v2[14].m_dwEIP[0]);
      v2[15].m_critical_section.DebugInfo = 0;
      CPlayer::WriteInMap(v2[9].m_dwEIP[1], 68, "bw", 94, v2[14].m_dwEIP[1]);
    }
    CIOCriticalSection::Leave(v2);
  }
}
// 44986E: variable 'v2' is possibly undefined
// 4E1A94: using guessed type int dword_4E1A94;

//----- (004498F0) --------------------------------------------------------
void __thiscall CNPCScenario::InitScenario(CIOCriticalSection *this)
{
  CIOCriticalSection *v1; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  if ( (v1[14].m_dwEIP[0] & 0x80000000) == 0 && (int)v1[14].m_dwEIP[0] < 9 )
    dword_4E1A70[v1[14].m_dwEIP[0]] = (int)v1;
  CIOCriticalSection::Leave(v1);
}
// 449904: variable 'v1' is possibly undefined

//----- (00449940) --------------------------------------------------------
void __thiscall CNPCScenario::Process(CIOCriticalSection *this, int a2, void *Src, int a4)
{
  CIOCriticalSection *nOffseta; // [esp+0h] [ebp-8h]
  int nOffsetb; // [esp+0h] [ebp-8h]
  int nOffsetc; // [esp+0h] [ebp-8h]
  char v8; // [esp+7h] [ebp-1h] BYREF

  ScanPacket((char *)Src, (char *)a4, "b", &v8);
  if ( v8 )
  {
    CIOCriticalSection::Enter(this);
    if ( nOffseta[14].m_dwEIP[0] == 8 || !dword_4E1A70[nOffseta[14].m_dwEIP[0]] )
      goto LABEL_11;
    if ( (dword_4E1A94 & (1 << nOffseta[14].m_dwEIP[0])) != 0 )
    {
      CIOCriticalSection::Leave(nOffseta);
      CPlayer::Write(a2, 67, "b", 91);
      return;
    }
    if ( !CPlayer::RemoveItem((CPlayer *)a2, 9, nOffseta[14].m_dwEIP[1], 1) )
    {
      CIOCriticalSection::Leave(nOffseta);
      CPlayer::Write(a2, 68, "bw", 92, *(_DWORD *)(nOffsetb + 476));
      return;
    }
    ((void (__thiscall *)(CIOCriticalSection *, int))nOffseta->m_critical_section.DebugInfo[3].CriticalSection)(
      nOffseta,
      1);
    nOffseta[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)(GetTickCount() + 600000);
    CPlayer::WriteInMap(nOffseta[9].m_dwEIP[1], 68, "bw", 93, nOffseta[14].m_dwEIP[1]);
    dword_4E1A94 |= 1 << nOffseta[14].m_dwEIP[0];
    if ( dword_4E1A94 == 255 )
    {
      CIOCriticalSection::Leave(nOffseta);
      BitSet(&dword_4E2758[15 * *(_DWORD *)(nOffsetc + 316)], nOffsetc, *(_DWORD *)(nOffsetc + 316), 1u);
    }
    else
    {
LABEL_11:
      CIOCriticalSection::Leave(nOffseta);
    }
  }
}
// 44997C: variable 'nOffseta' is possibly undefined
// 449A0A: variable 'nOffsetb' is possibly undefined
// 449AB2: variable 'nOffsetc' is possibly undefined
// 4E1A94: using guessed type int dword_4E1A94;

//----- (00449AE0) --------------------------------------------------------
int __thiscall CNPCTeleport::Process(_DWORD *this, int a2, void *Src, int a4)
{
  int result; // eax
  _DWORD a3[2]; // [esp+4h] [ebp-10h] BYREF
  int v7; // [esp+Ch] [ebp-8h]
  unsigned __int8 v8; // [esp+13h] [ebp-1h] BYREF

  v7 = 0;
  ScanPacket((char *)Src, (char *)a4, "b", &v8);
  result = v8;
  if ( v8 )
  {
    v7 = RandomBetween(0, this[118] - 1);
    result = (int)this;
    if ( *(int *)(this[120] + 8 * v7) >= 0 )
    {
      result = (int)this;
      if ( *(int *)(this[120] + 8 * v7 + 4) >= 0 )
      {
        a3[0] = RandomBetween(*(_DWORD *)(this[120] + 8 * v7) - 32, *(_DWORD *)(this[120] + 8 * v7) + 32);
        a3[1] = RandomBetween(*(_DWORD *)(this[120] + 8 * v7 + 4) - 32, *(_DWORD *)(this[120] + 8 * v7 + 4) + 32);
        CPlayer::Teleport((_DWORD *)a2, *(_DWORD *)(this[119] + 4 * v7), a3, 0, 0);
      }
    }
  }
  return result;
}

//----- (00449BF0) --------------------------------------------------------
void __thiscall CNPCDoor::Tick(CIOCriticalSection *this)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-8h]
  DWORD v3; // [esp+4h] [ebp-4h]

  if ( !CMonster::IsRemoved((volatile int *)this) )
  {
    CIOCriticalSection::Enter(this);
    v3 = GetTickCount();
    if ( sub_40B310(v2, 16) )
    {
      if ( (_RTL_CRITICAL_SECTION_DEBUG *)v3 >= v2[15].m_critical_section.DebugInfo )
      {
        ((void (__thiscall *)(CIOCriticalSection *, int))v2->m_critical_section.DebugInfo[3].EntryCount)(v2, 16);
        v2[15].m_critical_section.DebugInfo = 0;
        CPlayer::WriteInMap(v2[9].m_dwEIP[1], 68, "bw", 117, v2->m_dwEIP[1]);
      }
    }
    CIOCriticalSection::Leave(v2);
  }
}
// 449C1F: variable 'v2' is possibly undefined

//----- (00449C80) --------------------------------------------------------
void __thiscall CNPCDoor::Process(CIOCriticalSection *this, int a2, void *Src, int a4)
{
  CIOCriticalSection *v5; // [esp+0h] [ebp-8h]
  int v6; // [esp+0h] [ebp-8h]
  char v7; // [esp+7h] [ebp-1h] BYREF

  ScanPacket((char *)Src, (char *)a4, "b", &v7);
  if ( v7 )
  {
    CIOCriticalSection::Enter(this);
    if ( sub_40B310(v5, 16) )
    {
      CIOCriticalSection::Leave(v5);
    }
    else if ( CPlayer::RemoveItem((CPlayer *)a2, 9, v5[14].m_dwEIP[0], 1) )
    {
      ((void (__thiscall *)(CIOCriticalSection *, int))v5->m_critical_section.DebugInfo[3].CriticalSection)(v5, 16);
      v5[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)(1000 * v5[14].m_dwEIP[1] + GetTickCount());
      CPlayer::WriteInMap(v5[9].m_dwEIP[1], 68, "bw", 116, v5->m_dwEIP[1]);
      CIOCriticalSection::Leave(v5);
    }
    else
    {
      CIOCriticalSection::Leave(v5);
      CPlayer::Write(a2, 68, "bw", 115, *(_DWORD *)(v6 + 472));
    }
  }
}
// 449CBE: variable 'v5' is possibly undefined
// 449CFD: variable 'v6' is possibly undefined

//----- (00449D80) --------------------------------------------------------
void __thiscall CNPCSiegeGunStone::Reply(_DWORD *this, int a2)
{
  if ( (int)this[114] > 0 )
    CPlayer::Write(a2, 0, "bdd", 0, this[70], this[114]);
}

//----- (00449DD0) --------------------------------------------------------
void __thiscall CNPCSiegeGunStone::Tick(void *this)
{
  int v1; // eax
  CIOCriticalSection *v2; // [esp+0h] [ebp-40h]
  CIOCriticalSection *v3; // [esp+0h] [ebp-40h]
  volatile int *v4; // [esp+4h] [ebp-3Ch]
  CIOObject *v5; // [esp+8h] [ebp-38h]
  CItem *v6; // [esp+Ch] [ebp-34h]
  int v7; // [esp+10h] [ebp-30h] BYREF
  int v8; // [esp+14h] [ebp-2Ch] BYREF
  int j; // [esp+1Ch] [ebp-24h]
  CItem *item; // [esp+20h] [ebp-20h]
  int i; // [esp+24h] [ebp-1Ch]
  int k; // [esp+28h] [ebp-18h]
  CIOCriticalSection *v14; // [esp+2Ch] [ebp-14h]
  int Value; // [esp+30h] [ebp-10h]
  CIOObject *v16; // [esp+34h] [ebp-Ch]
  int a1; // [esp+38h] [ebp-8h]
  DWORD v18; // [esp+3Ch] [ebp-4h]

  v4 = (volatile int *)this;
  if ( !CMonster::IsRemoved((volatile int *)this) && *((_DWORD *)v4 + 125) )
  {
    CIOCriticalSection::Enter(v2);
    a1 = (int)CPlayer::FindPlayer_(*((_DWORD *)v4 + 125));
    if ( a1 )
    {
      v18 = GetTickCount();
      if ( sub_44A510((_DWORD *)a1, 2048) )
      {
        if ( sub_40B310(v4, 32) )
        {
          if ( sub_40B310(v4, 64) && v18 >= *((_DWORD *)v4 + 124) )
          {
            v6 = (CItem *)CMonster::FindMonster(*((_DWORD *)v4 + 126));
            if ( !v6 )
            {
              CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
              CIOCriticalSection::Leave(v3);
              return;
            }
            CPlayer::SubEState((_DWORD *)a1, 2048);
            sub_4021B0(*((_DWORD *)v4 + 116), 0);
            (*(void (__thiscall **)(volatile int *, int))(*v4 + 112))(v4, 64);
            *((_DWORD *)v4 + 124) = 0;
            (*(void (__thiscall **)(volatile int *, int))(*v4 + 112))(v4, 32);
            v8 = 0;
            v7 = 0;
            ((void (__thiscall *)(CItem *, int, _DWORD, int *, int *))v6->__vftable[1].OnWaitCallback)(
              v6,
              a1,
              0,
              &v8,
              &v7);
            CChar::WriteInSight(a1, 0, "bdd", 4, *((_DWORD *)v4 + 7), *((_DWORD *)v4 + 70));
            CBase::Delete(v6);
            *((_DWORD *)v4 + 127) = 0;
            *((_DWORD *)v4 + 126) = 0;
          }
        }
        else if ( sub_40B310(v4, 64) && v18 >= *((_DWORD *)v4 + 124) )
        {
          if ( (dword_4E1174[0] & 2) == 0 && !sub_417450() )
          {
            CPlayer::SubEState((_DWORD *)a1, 2048);
            (*(void (__thiscall **)(volatile int *, int))(*v4 + 112))(v4, 64);
            *((_DWORD *)v4 + 124) = 0;
            *((_DWORD *)v4 + 125) = 0;
            CPlayer::Write(a1, 67, "b", 118);
            CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
            CIOCriticalSection::Leave(v3);
            return;
          }
          Value = 0;
          v3 = (CIOCriticalSection *)*((_DWORD *)v4 + 128);
          if ( v3 )
          {
            if ( v3 == (CIOCriticalSection *)1 )
            {
              for ( i = 0; i < 3 && dword_4D6310[i]; ++i )
              {
                if ( CPlayer::FindItem((CIOCriticalSection *)a1, dword_4D6310[i], 1) )
                {
                  Value = dword_4D6310[i];
                  break;
                }
              }
              if ( !Value )
              {
                CPlayer::Write(a1, 67, "b", 123);
                CIOCriticalSection::Leave((CIOCriticalSection *)1);
                CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
                return;
              }
              if ( Value == 882 )
              {
                CPlayer::RemoveItem((CPlayer *)a1, 9, 882, 1);
              }
              else
              {
                CPlayer::RemoveItem((CPlayer *)a1, 9, Value, 1);
                item = (CItem *)CItem::CreateItem(Value + 1, 0, 1, 0);
                if ( item )
                {
                  sub_4010D0((int)item);
                  if ( sub_45DDC0((CIOCriticalSection *)a1, 2, (int)item) == 0 )
                    CBase::Delete(item);
                  sub_401DE0((int *)item);
                }
              }
            }
            else if ( v3 == (CIOCriticalSection *)2 )
            {
              for ( j = 0; j < 4 && dword_4D6330[j]; ++j )
              {
                if ( CPlayer::FindItem((CIOCriticalSection *)a1, dword_4D6330[j], 1) )
                {
                  Value = dword_4D6330[j];
                  break;
                }
              }
              if ( !Value )
              {
                CPlayer::Write(a1, 67, "b", 123);
                CIOCriticalSection::Leave((CIOCriticalSection *)2);
                CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
                return;
              }
              if ( Value == 886 )
              {
                CPlayer::RemoveItem((CPlayer *)a1, 9, 886, 1);
              }
              else
              {
                CPlayer::RemoveItem((CPlayer *)a1, 9, Value, 1);
                this = (void *)CItem::CreateItem(Value + 1, 0, 1, 0);
                if ( this )
                {
                  sub_4010D0((int)this);
                  if ( sub_45DDC0((CIOCriticalSection *)a1, 2, (int)this) == 0 )
                    CBase::Delete((CItem *)this);
                  sub_401DE0((int *)this);
                }
              }
            }
          }
          else
          {
            for ( k = 0; k < 8; ++k )
            {
              if ( !CPlayer::FindItem((CIOCriticalSection *)a1, ::Value[k], 1) )
              {
                CPlayer::Write(a1, 67, "b", 123);
                CIOCriticalSection::Leave(0);
                CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
                return;
              }
              CPlayer::RemoveItem((CPlayer *)a1, 9, ::Value[k], 1);
            }
          }
          CPlayer::SubEState((_DWORD *)a1, 2048);
          sub_4021B0(*((_DWORD *)v4 + 116), 1);
          (*(void (__thiscall **)(volatile int *, int))(*v4 + 112))(v4, 64);
          *((_DWORD *)v4 + 124) = 0;
          (*(void (__thiscall **)(volatile int *, int))(*v4 + 100))(v4, 32);
          v1 = std::_Mpunct<wchar_t>::do_frac_digits(v4);
          v14 = CMonsterSiegeGun::Create(
                  *((_DWORD *)v4 + 128) + 319,
                  *((_DWORD *)v4 + 79),
                  (int)(v4 + 120),
                  (int)(v4 + 122),
                  *(_DWORD *)(a1 + 480),
                  (char *)(a1 + 492),
                  v1);
          CChar::WriteInSight(a1, 0, "bddd", 2, *((_DWORD *)v4 + 7), *((_DWORD *)v4 + 70), *(_DWORD *)(a1 + 512));
          *((_DWORD *)v4 + 127) = *(_DWORD *)(a1 + 512);
          *((_DWORD *)v4 + 126) = std::_Mpunct<wchar_t>::do_frac_digits(v14);
          *((_DWORD *)v4 + 125) = 0;
        }
      }
      else
      {
        v5 = CMonster::FindMonster(*((_DWORD *)v4 + 126));
        if ( v5 )
        {
          CIOObject::Release(v5, (volatile int *)&v5[22]);
        }
        else
        {
          *((_DWORD *)v4 + 125) = 0;
          *((_DWORD *)v4 + 126) = 0;
          *((_DWORD *)v4 + 127) = 0;
          (*(void (__thiscall **)(volatile int *, int))(*v4 + 112))(v4, 32);
        }
      }
      CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
      CIOCriticalSection::Leave(v3);
    }
    else
    {
      *((_DWORD *)v4 + 125) = 0;
      *((_DWORD *)v4 + 124) = 0;
      (*(void (__thiscall **)(volatile int *, int))(*v4 + 112))(v4, 64);
      v16 = CMonster::FindMonster(*((_DWORD *)v4 + 126));
      if ( v16 )
      {
        CMonsterSiegeGun::SetOperator((CIOCriticalSection *)v16, 0);
        CIOObject::Release(v16, (volatile int *)&v16[22]);
      }
      CIOCriticalSection::Leave(v3);
    }
  }
}
// 449E00: variable 'v2' is possibly undefined
// 449E82: variable 'v3' is possibly undefined

//----- (0044A4E0) --------------------------------------------------------
int __thiscall CPlayer::SubEState(_DWORD *this, int a2)
{
  int result; // eax

  result = this[142] & ~a2;
  this[142] = result;
  return result;
}

//----- (0044A510) --------------------------------------------------------
int __thiscall sub_44A510(_DWORD *this, int a2)
{
  return a2 & this[142];
}

//----- (0044A530) --------------------------------------------------------
void __thiscall CNPCSiegeGunStone::SiegeGunSet(_DWORD *this, int a2, int a3, CIOCriticalSection *a4)
{
  CIOCriticalSection *v4; // [esp+0h] [ebp-24h]
  int j; // [esp+10h] [ebp-14h]
  int i; // [esp+14h] [ebp-10h]
  int k; // [esp+18h] [ebp-Ch]
  int v10; // [esp+1Ch] [ebp-8h]
  int v11; // [esp+20h] [ebp-4h]

  CIOCriticalSection::Enter(v4);
  if ( a3 )
  {
    if ( sub_40B310(this, 64) )
    {
      CPlayer::Write(a2, 67, "b", 120);
      CIOCriticalSection::Leave(a4);
      return;
    }
    if ( sub_40B310(this, 32) )
    {
      CPlayer::Write(a2, 67, "b", 129);
      CIOCriticalSection::Leave(a4);
      return;
    }
    if ( (dword_4E1174[0] & 2) == 0
      && (!*(_DWORD *)(a2 + 484) || !CCastle::IsAllCastleWarRelation(*(_DWORD *)(a2 + 484))) )
    {
      CPlayer::Write(a2, 67, "b", 134);
      CIOCriticalSection::Leave(a4);
      return;
    }
    if ( !CChar::IsBState((_QWORD *)a2, 0x4000000000i64)
      && !sub_44A940((_DWORD *)(a2 + 624), 80)
      && !sub_44A940((_DWORD *)(a2 + 624), 81) )
    {
      CPlayer::Write(a2, 67, "b", 130);
      CIOCriticalSection::Leave(a4);
      return;
    }
    v11 = 0;
    if ( a4 )
    {
      if ( a4 == (CIOCriticalSection *)1 )
      {
        for ( i = 0; i < 3 && dword_4D6310[i]; ++i )
        {
          if ( CPlayer::FindItem((CIOCriticalSection *)a2, dword_4D6310[i], 1) )
          {
            v11 = dword_4D6310[i];
            break;
          }
        }
        if ( !v11 )
        {
          CPlayer::Write(a2, 67, "b", 123);
          CIOCriticalSection::Leave((CIOCriticalSection *)1);
          return;
        }
      }
      else if ( a4 == (CIOCriticalSection *)2 )
      {
        for ( j = 0; j < 4 && dword_4D6330[j]; ++j )
        {
          if ( CPlayer::FindItem((CIOCriticalSection *)a2, dword_4D6330[j], 1) )
          {
            v11 = dword_4D6330[j];
            break;
          }
        }
        if ( !v11 )
        {
          CPlayer::Write(a2, 67, "b", 123);
          CIOCriticalSection::Leave((CIOCriticalSection *)2);
          return;
        }
      }
    }
    else
    {
      for ( k = 0; k < 8; ++k )
      {
        if ( !CPlayer::FindItem((CIOCriticalSection *)a2, Value[k], 1) )
        {
          CPlayer::Write(a2, 67, "b", 123);
          CIOCriticalSection::Leave(0);
          return;
        }
      }
    }
    if ( sub_48F1F0(this[116]) )
    {
      CPlayer::Write(a2, 68, "bs", 131, a2 + 492);
      CIOCriticalSection::Leave(a4);
      return;
    }
    this[128] = a4;
    this[125] = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v10 = 30;
    if ( a4 == (CIOCriticalSection *)2 )
      v10 = 20;
    this[124] = 1000 * v10 + GetTickCount();
    CPlayer::AddEState((_DWORD *)a2, 2048);
    (*(void (__thiscall **)(_DWORD *, int))(*this + 100))(this, 64);
    CPlayer::Write(a2, 0, "bb", 1, v10);
  }
  else
  {
    CPlayer::SubEState((_DWORD *)a2, 2048);
    (*(void (__thiscall **)(_DWORD *, int))(*this + 112))(this, 64);
    this[124] = 0;
    this[125] = 0;
    CPlayer::Write(a2, 67, "b", 118);
  }
  CIOCriticalSection::Leave(a4);
}
// 44A53E: variable 'v4' is possibly undefined
// 44A575: variable 'a4' is possibly undefined

//----- (0044A940) --------------------------------------------------------
int __thiscall sub_44A940(_DWORD *this, int a2)
{
  return this[a2 + 2];
}

//----- (0044A960) --------------------------------------------------------
void __thiscall CNPCSiegeGunStone::SiegeGunUnSet(void *this, int a2, int a3)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-18h]
  __int64 v4; // [esp+0h] [ebp-18h]
  int v6; // [esp+Ch] [ebp-Ch]
  CIOObject *v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(v3);
  if ( !a3 )
  {
    CPlayer::SubEState((_DWORD *)a2, 2048);
    (*(void (__thiscall **)(void *, int))(*(_DWORD *)this + 112))(this, 64);
    *((_DWORD *)this + 124) = 0;
    *((_DWORD *)this + 125) = 0;
    CPlayer::Write(a2, 67, "b", 128);
LABEL_19:
    CIOCriticalSection::Leave((CIOCriticalSection *)v4);
    return;
  }
  if ( sub_40B310(this, 64) )
  {
    CPlayer::Write(a2, 67, "b", 121);
    CIOCriticalSection::Leave((CIOCriticalSection *)v4);
    return;
  }
  if ( *((_DWORD *)this + 125) )
  {
    CPlayer::Write(a2, 67, "b", 127);
    CIOCriticalSection::Leave((CIOCriticalSection *)v4);
    return;
  }
  v4 = CChar::IsBState((_QWORD *)a2, 0x4000000000i64);
  if ( !v4 && !sub_44A940((_DWORD *)(a2 + 624), 80) && !sub_44A940((_DWORD *)(a2 + 624), 81) )
  {
    CPlayer::Write(a2, 67, "b", 130);
    CIOCriticalSection::Leave(0);
    return;
  }
  v7 = CMonster::FindMonster(*((_DWORD *)this + 126));
  if ( v7 )
  {
    v6 = (int)&v7[32].__vftable[-14].OnWaitCallback + 1;
    if ( v7[32].m_nGeneralRef != *(_DWORD *)(a2 + 480) )
    {
      CPlayer::Write(a2, 67, "b", 133);
      CIOObject::Release(v7, (volatile int *)&v7[22]);
      CIOCriticalSection::Leave((CIOCriticalSection *)v4);
      return;
    }
    CIOObject::Release(v7, (volatile int *)&v7[22]);
    *((_DWORD *)this + 125) = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v8 = 30;
    if ( v6 == 2 )
      v8 = 20;
    if ( (dword_4E1174[0] & 2) != 0 )
      v8 = 5;
    *((_DWORD *)this + 124) = 1000 * v8 + GetTickCount();
    CPlayer::AddEState((_DWORD *)a2, 2048);
    (*(void (__thiscall **)(void *, int))(*(_DWORD *)this + 100))(this, 64);
    CPlayer::Write(a2, 0, "bb", 3, v8);
    goto LABEL_19;
  }
}
// 44A96E: variable 'v3' is possibly undefined
// 44A9A5: variable 'v4' is possibly undefined

//----- (0044ABC0) --------------------------------------------------------
void __thiscall CNPCSiegeGunStone::Show(CIOCriticalSection *this, int a2)
{
  sub_412E90(this);
  if ( a2 )
  {
    CSMap::GetCellMap(this, (int)&this[10].m_critical_section.LockCount);
    CChar::WriteInSight(
      (int)this,
      52,
      "dwbdddwdd",
      this->m_dwEIP[1],
      this[14].m_critical_section.DebugInfo,
      this[14].m_critical_section.LockCount,
      this[10].m_critical_section.OwningThread,
      this[10].m_critical_section.LockSemaphore,
      this[10].m_critical_section.SpinCount,
      this[10].m_dwEIP[1],
      this[8].m_dwEIP[0],
      this[15].m_dwEIP[1]);
  }
  else
  {
    sub_4913E0((int)this, (int)&this[10].m_critical_section.LockCount);
    CChar::WriteInSight((int)this, 57, "d", this->m_dwEIP[1]);
  }
  sub_412EB0(this);
}

//----- (0044ACB0) --------------------------------------------------------
void __thiscall CNPCSiegeGunStone::SendCreate(_DWORD *this, int a2, int a3)
{
  CPlayer::Write(
    a2,
    52,
    "dwbdddwdd",
    this[7],
    this[112],
    this[113],
    this[83],
    this[84],
    this[85],
    this[87],
    this[70],
    this[127]);
}

//----- (0044AD30) --------------------------------------------------------
void __thiscall CNPCSiegeGunStone::SetOperator(CIOCriticalSection *this, int a2)
{
  sub_412E90(this);
  this[15].m_critical_section.SpinCount = a2;
  if ( !a2 )
  {
    ((void (__thiscall *)(CIOCriticalSection *, int))this->m_critical_section.DebugInfo[3].EntryCount)(this, 64);
    this[15].m_critical_section.LockSemaphore = 0;
  }
  sub_412EB0(this);
}

//----- (0044AD80) --------------------------------------------------------
void __thiscall CNPCSiegeGunStone::SetSiegeGun(CIOCriticalSection *this, int a2)
{
  sub_412E90(this);
  this[15].m_dwEIP[0] = a2;
  if ( !a2 )
    ((void (__thiscall *)(CIOCriticalSection *, int))this->m_critical_section.DebugInfo[3].EntryCount)(this, 32);
  sub_412EB0(this);
}

//----- (0044ADC0) --------------------------------------------------------
int __thiscall sub_44ADC0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472C30(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    (const int *)a1);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_44AEB0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (0044AE20) --------------------------------------------------------
_DWORD *__thiscall sub_44AE20(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_472A50(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)this,
    v12,
    a3);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (_DWORD *)sub_473500(v4), sub_4186F0(a3, v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044AEB0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44AEB0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_44B6E0(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044AF50) --------------------------------------------------------
_DWORD *__thiscall sub_44AF50(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  std::logic_error *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  int *v25; // eax
  void **v26; // eax
  int *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  char v52[36]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_7(&a3);
  if ( *(_BYTE *)sub_431110(v3) )
  {
    std::string::string((std::vector<IPAddrMask> *)v51, "invalid map/set<T> iterator");
    v4 = sub_4111A0((std::logic_error *)v52, (const std::string *)v51);
    std::exception::_Raise(v4);
    sub_4111D0((std::logic_error *)v52);
    sub_40F780(v51);
  }
  v56 = (void *)unknown_libname_7(&a3);
  sub_418860(&a3);
  v54 = v56;
  v5 = (int *)sub_474590((int)v56);
  if ( *(_BYTE *)sub_431110(*v5) )
  {
    v55 = *(void **)sub_430F90((int)v54);
  }
  else
  {
    v6 = (int *)sub_430F90((int)v54);
    if ( *(_BYTE *)sub_431110(*v6) )
    {
      v55 = *(void **)sub_474590((int)v54);
    }
    else
    {
      v54 = (void *)unknown_libname_7(&a3);
      v55 = *(void **)sub_430F90((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_446FF0((int)v56);
    if ( !*(_BYTE *)sub_431110((int)v55) )
    {
      v7 = (_DWORD *)sub_446FF0((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_478AB0(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_478AB0(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)sub_474590((int)v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)sub_474590((int)v53);
      else
        v11 = (_DWORD *)sub_430F90((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_418790(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_431110((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_42F920((int)v55);
      *(_DWORD *)sub_418790(this) = v49;
    }
    v13 = (void **)sub_47EB40(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_431110((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_4470E0((int)v55);
      *(_DWORD *)sub_47EB40(this) = v48;
    }
  }
  else
  {
    v14 = (int *)sub_474590((int)v56);
    v15 = (_DWORD *)sub_446FF0(*v14);
    *v15 = v54;
    v16 = (_DWORD *)sub_474590((int)v56);
    *(_DWORD *)sub_474590((int)v54) = *v16;
    v17 = (void **)sub_430F90((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_446FF0((int)v54);
      if ( !*(_BYTE *)sub_431110((int)v55) )
      {
        v18 = (_DWORD *)sub_446FF0((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)sub_474590((int)v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_430F90((int)v56);
      *(_DWORD *)sub_430F90((int)v54) = *v20;
      v21 = (int *)sub_430F90((int)v56);
      v22 = (_DWORD *)sub_446FF0(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_478AB0(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_478AB0(this);
      *v24 = v54;
    }
    else
    {
      v25 = (int *)sub_446FF0((int)v56);
      v26 = (void **)sub_474590(*v25);
      if ( *v26 == v56 )
      {
        v27 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_474590(*v27);
      }
      else
      {
        v29 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_430F90(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_446FF0((int)v56);
    *(_DWORD *)sub_446FF0((int)v54) = *v30;
    v47 = (char *)sub_446F90((int)v56);
    v31 = (char *)sub_446F90((int)v54);
    std::swap<unsigned char>(v31, v47);
  }
  if ( *(_BYTE *)sub_446F90((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_478AB0(this);
      if ( v55 == *v32 || *(_BYTE *)sub_446F90((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_446F90((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)sub_474590((int)v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)sub_474590((int)v53);
      if ( !*(_BYTE *)sub_446F90((int)v54) )
      {
        *(_BYTE *)sub_446F90((int)v54) = 1;
        *(_BYTE *)sub_446F90((int)v53) = 0;
        sub_44CAC0(this, (int)v53);
        v54 = *(void **)sub_474590((int)v53);
      }
      if ( !*(_BYTE *)sub_431110((int)v54) )
      {
        v40 = (int *)sub_430F90((int)v54);
        if ( *(_BYTE *)sub_446F90(*v40) != 1 || (v41 = (int *)sub_474590((int)v54), *(_BYTE *)sub_446F90(*v41) != 1) )
        {
          v42 = (int *)sub_474590((int)v54);
          if ( *(_BYTE *)sub_446F90(*v42) == 1 )
          {
            v43 = (int *)sub_430F90((int)v54);
            *(_BYTE *)sub_446F90(*v43) = 1;
            *(_BYTE *)sub_446F90((int)v54) = 0;
            sub_44CBF0(this, (int)v54);
            v54 = *(void **)sub_474590((int)v53);
          }
          v44 = (_BYTE *)sub_446F90((int)v53);
          *(_BYTE *)sub_446F90((int)v54) = *v44;
          *(_BYTE *)sub_446F90((int)v53) = 1;
          v45 = (int *)sub_474590((int)v54);
          *(_BYTE *)sub_446F90(*v45) = 1;
          sub_44CAC0(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_446F90((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_446FF0((int)v55);
    }
    v54 = *(void **)sub_430F90((int)v53);
    if ( !*(_BYTE *)sub_446F90((int)v54) )
    {
      *(_BYTE *)sub_446F90((int)v54) = 1;
      *(_BYTE *)sub_446F90((int)v53) = 0;
      sub_44CBF0(this, (int)v53);
      v54 = *(void **)sub_430F90((int)v53);
    }
    if ( *(_BYTE *)sub_431110((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)sub_474590((int)v54);
    if ( *(_BYTE *)sub_446F90(*v34) != 1 || (v35 = (int *)sub_430F90((int)v54), *(_BYTE *)sub_446F90(*v35) != 1) )
    {
      v36 = (int *)sub_430F90((int)v54);
      if ( *(_BYTE *)sub_446F90(*v36) == 1 )
      {
        v37 = (int *)sub_474590((int)v54);
        *(_BYTE *)sub_446F90(*v37) = 1;
        *(_BYTE *)sub_446F90((int)v54) = 0;
        sub_44CAC0(this, (int)v54);
        v54 = *(void **)sub_430F90((int)v53);
      }
      v38 = (_BYTE *)sub_446F90((int)v53);
      *(_BYTE *)sub_446F90((int)v54) = *v38;
      *(_BYTE *)sub_446F90((int)v53) = 1;
      v39 = (int *)sub_430F90((int)v54);
      *(_BYTE *)sub_446F90(*v39) = 1;
      sub_44CBF0(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_44CD70((int)v56);
  sub_4338F0(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0044B6E0) --------------------------------------------------------
_DWORD *__thiscall sub_44B6E0(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_44B780(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0044B740) --------------------------------------------------------
void *__thiscall sub_44B740(void *this)
{
  sub_48DB20((int *)this);
  return this;
}

//----- (0044B760) --------------------------------------------------------
_DWORD *__thiscall sub_44B760(_DWORD *this)
{
  sub_42F840(this);
  return this;
}

//----- (0044B780) --------------------------------------------------------
int __stdcall sub_44B780(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_44B780(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0044B800) --------------------------------------------------------
unsigned int __thiscall sub_44B800(int this)
{
  return std::allocator<XSoundPtr>::max_size((std::allocator<tagPARTICLES *> *)(this + 2));
}

//----- (0044B820) --------------------------------------------------------
std::_List_nod<tagPARTICLES *>::_Node *__thiscall std::_List_nod<tagPARTICLES *>::_Node::_Node(std::_List_nod<tagPARTICLES *>::_Node *this, std::_List_nod<tagPARTICLES *>::_Node *_Nextarg, std::_List_nod<tagPARTICLES *>::_Node *_Prevarg, tagPARTICLES *const *_Myvalarg)
{
  *(_DWORD *)this = _Nextarg;
  *((_DWORD *)this + 1) = _Prevarg;
  *((tagPARTICLES **)this + 2) = *_Myvalarg;
  return this;
}

//----- (0044B850) --------------------------------------------------------
unsigned int __thiscall std::allocator<XSoundPtr>::max_size(std::allocator<tagPARTICLES *> *this)
{
  return 0x3FFFFFFF;
}

//----- (0044B880) --------------------------------------------------------
void *__thiscall sub_44B880(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0044B8B0) --------------------------------------------------------
void *__thiscall sub_44B8B0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0044B8E0) --------------------------------------------------------
void *__thiscall sub_44B8E0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0044B920) --------------------------------------------------------
int __thiscall sub_44B920(void *this)
{
  return sub_44B940(this);
}

//----- (0044B940) --------------------------------------------------------
int __thiscall sub_44B940(void *this)
{
  return sub_44B960((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0044B960) --------------------------------------------------------
int __thiscall sub_44B960(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_44BA10(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0044BA10) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44BA10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_44BAB0(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044BAB0) --------------------------------------------------------
_DWORD *__thiscall sub_44BAB0(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_44BB10(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0044BB10) --------------------------------------------------------
int __stdcall sub_44BB10(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_44BB10(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0044BB90) --------------------------------------------------------
int __thiscall sub_44BB90(void *this)
{
  return sub_44BBB0(this);
}

//----- (0044BBB0) --------------------------------------------------------
int __thiscall sub_44BBB0(void *this)
{
  return sub_44BBD0((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0044BBD0) --------------------------------------------------------
int __thiscall sub_44BBD0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_44BC80(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0044BC80) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44BC80(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_44BD20(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044BD20) --------------------------------------------------------
_DWORD *__thiscall sub_44BD20(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_44BD80(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0044BD80) --------------------------------------------------------
int __stdcall sub_44BD80(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_44BD80(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0044BE00) --------------------------------------------------------
int __thiscall sub_44BE00(void *this)
{
  return sub_44BE20(this);
}

//----- (0044BE20) --------------------------------------------------------
int __thiscall sub_44BE20(void *this)
{
  return sub_44BE40((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0044BE40) --------------------------------------------------------
int __thiscall sub_44BE40(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_44AEB0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0044BEF0) --------------------------------------------------------
int sub_44BEF0()
{
  int result; // eax
  char v1[8]; // [esp+30h] [ebp-238h] BYREF
  char v2[8]; // [esp+38h] [ebp-230h] BYREF
  int v3; // [esp+40h] [ebp-228h]
  char v4[4]; // [esp+44h] [ebp-224h]
  CConfig v5; // [esp+48h] [ebp-220h] BYREF
  int v6; // [esp+264h] [ebp-4h]

  v6 = dword_4D9830;
  v3 = 114;
  *(_DWORD *)v4 = 0;
  while ( *(int *)v4 < v3 )
  {
    sub_420060(
      (int)dword_4E1B9C,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v2,
      8 * *(_DWORD *)v4 + 5118888);
    if ( !v2[4] )
      LOG_ERR("CObjectDB::Open() Duplicate Key at Symbol Map %d", *(_DWORD *)v4);
    ++*(_DWORD *)v4;
  }
  v3 = 14;
  *(_DWORD *)v4 = 0;
  while ( *(int *)v4 < v3 )
  {
    sub_420060(
      (int)dword_4E1F38,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v1,
      8 * *(_DWORD *)v4 + 5119816);
    if ( !v1[4] )
      LOG_ERR("CObjectDB::Open() Duplicate Key at Class Map %d", *(_DWORD *)v4);
    ++*(_DWORD *)v4;
  }
  CInitItem::Open();
  sub_47F560();
  sub_480900();
  sub_425C20(&v5);
  LOG_INFO("Reading [Map] . . .");
  if ( !CObjectDB::Open((int)&v5, "Config\\InitMap.txt") )
    goto LABEL_27;
  LOG_INFO("Reading [InitMonster] . . .");
  if ( !CObjectDB::Open((int)&v5, "Config\\InitMonster.txt") )
    goto LABEL_27;
  LOG_INFO("Reading [GenMonster] . . .");
  if ( !CObjectDB::Open((int)&v5, "Config\\GenMonster.txt") )
    goto LABEL_27;
  LOG_INFO("Reading [InitItem] . . .");
  if ( !CObjectDB::Open((int)&v5, "Config\\InitItem.txt") )
    goto LABEL_27;
  LOG_INFO("Reading [Prefix] . . .");
  if ( CObjectDB::Open((int)&v5, "Config\\Prefix.txt")
    && (LOG_INFO("Reading [ItemGroup] . . ."), CObjectDB::Open((int)&v5, "Config\\ItemGroup.txt"))
    && (LOG_INFO("Reading [Goods] . . ."), CObjectDB::Open((int)&v5, "Config\\Goods.txt"))
    && (LOG_INFO("Reading [InitNPC] . . ."), CObjectDB::Open((int)&v5, "Config\\InitNPC.txt"))
    && (LOG_INFO("Reading [InitSkill] . . ."), CObjectDB::Open((int)&v5, "Config\\InitSkill.txt"))
    && (LOG_INFO("Reading [Quest] . . ."), CObjectDB::Open((int)&v5, "Config\\Quest.txt"))
    && (LOG_INFO("Reading [Etc] . . ."), CObjectDB::Open((int)&v5, "Config\\Etc.txt")) )
  {
    InterlockedExchange(&dword_4E1B98, 1);
    sub_425C40(&v5);
    result = 1;
  }
  else
  {
LABEL_27:
    sub_425C40(&v5);
    result = 0;
  }
  return result;
}
// 4D9830: using guessed type int dword_4D9830;
// 4E1F38: using guessed type int dword_4E1F38[4];

//----- (0044C300) --------------------------------------------------------
int __thiscall CObjectDB::Open(int this, char *FileName)
{
  int result; // eax
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // [esp+4h] [ebp-44h]
  char v8[4]; // [esp+14h] [ebp-34h] BYREF
  const char *v9; // [esp+18h] [ebp-30h] BYREF
  int a2; // [esp+1Ch] [ebp-2Ch]
  char v11[4]; // [esp+20h] [ebp-28h] BYREF
  std::string v12; // [esp+24h] [ebp-24h] BYREF
  int v13; // [esp+40h] [ebp-8h]
  int v14; // [esp+44h] [ebp-4h]

  v13 = dword_4D9830;
  *(_DWORD *)(this + 512) = fopen(FileName, "rb");
  if ( *(_DWORD *)(this + 512) )
  {
    std::string::string(&v12);
    *(_DWORD *)(this + 516) = 1;
    *(_DWORD *)(this + 528) = FileName;
    while ( 2 )
    {
      v14 = CConfig::GetToken((char *)this);
      v6 = v14;
      switch ( v14 )
      {
        case 0:
          fclose(*(FILE **)(this + 512));
          *(_DWORD *)(this + 512) = 0;
          sub_40F780(&v12);
          return 1;
        case 3:
          continue;
        case 7:
          if ( CConfig::GetToken((char *)this) != 1 )
            goto LABEL_13;
          v9 = (const char *)this;
          sub_44C970((iless *)dword_4E1F38, v11, &v9);
          v3 = sub_430C20(dword_4E1F38, (int)v8);
          if ( (unsigned __int8)unknown_libname_8(v3) )
            goto LABEL_13;
          v4 = sub_420250(v11);
          a2 = (*(int (__thiscall **)(_DWORD, _DWORD, int))(**(_DWORD **)(v4 + 4) + 24))(
                 *(_DWORD *)(v4 + 4),
                 *(_DWORD *)(v4 + 4),
                 v6);
          if ( CObjectDB::Load((void *)this, a2) )
            continue;
          v5 = sub_420250(v11);
          if ( a2 != *(_DWORD *)(v5 + 4) )
            (*(void (__thiscall **)(int))(*(_DWORD *)a2 + 4))(a2);
          fclose(*(FILE **)(this + 512));
          *(_DWORD *)(this + 512) = 0;
          LOG_ERR("Invalid format %s(%d) at CObjectDB::Open(Load())", FileName, *(_DWORD *)(this + 516));
          sub_40F780(&v12);
          result = 0;
          break;
        case 8:
          LOG_ERR("Unmatched close parenthesis at CObjectDB::Open, %s(%d)", FileName, *(_DWORD *)(this + 516));
          continue;
        default:
LABEL_13:
          LOG_ERR("Invalid format %s(%d) at CObjectDB::Open", FileName, *(_DWORD *)(this + 516));
          do
            v14 = CConfig::GetToken((char *)this);
          while ( v14 != 3 && v14 );
          continue;
      }
      break;
    }
  }
  else
  {
    LOG_ERR("'%s' File open failed at CObjectDB::Open", FileName);
    result = 0;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4D9830: using guessed type int dword_4D9830;
// 4E1F38: using guessed type int dword_4E1F38[4];

//----- (0044C550) --------------------------------------------------------
int __cdecl CObjectDB::FindSymbol(int a1)
{
  int v1; // eax
  int result; // eax
  char v3[4]; // [esp+0h] [ebp-8h] BYREF
  char v4[4]; // [esp+4h] [ebp-4h] BYREF

  sub_44C970((iless *)dword_4E1B9C, v4, (const char **)&a1);
  v1 = sub_430C20(dword_4E1B9C, (int)v3);
  if ( (unsigned __int8)unknown_libname_8(v1) )
    result = 0;
  else
    result = *(_DWORD *)(sub_420250(v4) + 4);
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044C5A0) --------------------------------------------------------
int __thiscall CObjectDB::Load(void *this, int a2)
{
  int v2; // ecx
  void *v3; // esp
  int v4; // ecx
  int v5; // ecx
  struct lisp::var *v6; // eax
  void *v7; // esp
  void *v8; // esp
  void *v9; // esp
  int v10; // ecx
  int v11; // ecx
  struct lisp::var *v12; // eax
  int v14; // [esp-1Ch] [ebp-7Ch] BYREF
  int v15; // [esp-18h] [ebp-78h] BYREF
  int v16; // [esp-14h] [ebp-74h] BYREF
  int v17; // [esp-10h] [ebp-70h] BYREF
  int v18; // [esp-Ch] [ebp-6Ch] BYREF
  int v19; // [esp-8h] [ebp-68h] BYREF
  int v20; // [esp-4h] [ebp-64h] BYREF
  int v21[2]; // [esp+0h] [ebp-60h] BYREF
  lisp::_string *v22; // [esp+8h] [ebp-58h]
  void *v23; // [esp+Ch] [ebp-54h]
  int *v24; // [esp+10h] [ebp-50h]
  std::ios_base *v25; // [esp+14h] [ebp-4Ch]
  void *v26; // [esp+18h] [ebp-48h]
  char *v27; // [esp+1Ch] [ebp-44h]
  std::ios_base *v28; // [esp+2Ch] [ebp-34h]
  lisp::_string *v29; // [esp+34h] [ebp-2Ch]
  std::ios_base *v30; // [esp+40h] [ebp-20h]
  int v31; // [esp+48h] [ebp-18h] BYREF
  size_t v32; // [esp+4Ch] [ebp-14h]
  char *str; // [esp+50h] [ebp-10h]
  int v34; // [esp+54h] [ebp-Ch] BYREF
  int v35; // [esp+58h] [ebp-8h]
  struct lisp::var *v36; // [esp+5Ch] [ebp-4h]

  v27 = (char *)this;
  std::ios_base::ios_base((std::ios_base *)&v34);
  v36 = 0;
  do
  {
    while ( 1 )
    {
      while ( 1 )
      {
        while ( 1 )
        {
          v35 = CConfig::GetToken(v27);
          if ( v35 != 8 )
            break;
          if ( !v36 )
          {
            v20 = v2;
            sub_402340(&v20, &v34);
            if ( (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 28))(a2, 0)
              && (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 32))(a2) )
            {
              return 1;
            }
            LOG_ERR(
              "Invalid format %s line(%d) at CObjectDB::Load",
              *((const char **)v27 + 132),
              *((_DWORD *)v27 + 129));
            return 0;
          }
          v36 = (struct lisp::var *)((char *)v36 - 1);
        }
        if ( v35 != 7 )
          break;
        v3 = alloca(12);
        v26 = &v18;
        v30 = (std::ios_base *)operator new(0xCu, &v18);
        if ( v30 )
        {
          v17 = v4;
          sub_402340(&v17, &dword_4E1108);
          v16 = v5;
          sub_402340(&v16, &dword_4E1108);
          v25 = lisp::_cons::_cons(v30, v16, v17);
        }
        else
        {
          v25 = 0;
        }
        v17 = v4;
        sub_446FD0(v25);
        v6 = lisp::find_nil((lisp *)&v34, v36, v17);
        lisp::var::operator=(v6, v17);
        v36 = (struct lisp::var *)((char *)v36 + 1);
      }
      if ( v35 != 1 && v35 != 2 )
        break;
      v32 = strlen(v27);
      v7 = alloca(v32 + 1);
      v24 = v21;
      str = (char *)v21;
      memcpy(v21, v27, v32 + 1);
      v8 = alloca(8);
      v23 = &v19;
      v29 = (lisp::_string *)operator new(8u, &v19);
      if ( v29 )
        v22 = lisp::_string::_string(v29, str);
      else
        v22 = 0;
      sub_446FD0(v22);
      v9 = alloca(12);
      v21[1] = (int)&v16;
      v28 = (std::ios_base *)operator new(0xCu, &v16);
      if ( v28 )
      {
        v15 = v10;
        sub_402340(&v15, &dword_4E1108);
        v14 = v11;
        sub_402340(&v14, &v31);
        v21[0] = (int)lisp::_cons::_cons(v28, v14, v15);
      }
      else
      {
        v21[0] = 0;
      }
      v15 = v10;
      sub_446FD0(v21[0]);
      v12 = lisp::find_nil((lisp *)&v34, v36, v15);
      lisp::var::operator=(v12, v15);
    }
  }
  while ( v35 == 3 );
  LOG_ERR(
    "Invalid format %s line(%d) token(%d) at CObjectDB::Load",
    *((const char **)v27 + 132),
    *((_DWORD *)v27 + 129),
    v35);
  while ( (int)v36 >= 0 )
  {
    switch ( v35 )
    {
      case 0:
        LOG_ERR("Unmatched open parenthesis at CObjectDB::Load");
        return 0;
      case 7:
        v36 = (struct lisp::var *)((char *)v36 + 1);
        break;
      case 8:
        v36 = (struct lisp::var *)((char *)v36 - 1);
        break;
    }
    v35 = CConfig::GetToken(v27);
  }
  return 0;
}
// 44C610: variable 'v4' is possibly undefined
// 44C61D: variable 'v5' is possibly undefined
// 44C725: variable 'v10' is possibly undefined
// 44C732: variable 'v11' is possibly undefined
// 44C781: variable 'v2' is possibly undefined
// 446FD0: using guessed type _DWORD __stdcall sub_446FD0(_DWORD);

//----- (0044C860) --------------------------------------------------------
struct lisp::var *__stdcall lisp::find_nil(lisp *this, struct lisp::var *a2, int a3)
{
  lisp *i; // [esp+0h] [ebp-8h]
  lisp *v5; // [esp+4h] [ebp-4h]

  v5 = this;
  for ( i = this; ; i = v5 )
  {
    while ( (unsigned __int8)sub_40BCE0(v5) )
    {
      i = v5;
      v5 = (lisp *)sub_40BCC0(v5);
    }
    if ( !a2 )
      break;
    a2 = (struct lisp::var *)((char *)a2 - 1);
    v5 = (lisp *)sub_40BCA0(i);
  }
  return v5;
}

//----- (0044C8D0) --------------------------------------------------------
void __cdecl CObjectDB::Close()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int v1; // eax
  char v2[4]; // [esp+0h] [ebp-Ch] BYREF
  int v3; // [esp+4h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v4; // [esp+8h] [ebp-4h] BYREF

  InterlockedExchange(&dword_4E1B98, 0);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E1F38,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1F38, (int)v2);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v4,
            v0) )
      break;
    v1 = sub_420250(&v4);
    CBase::Delete(*(CItem **)(v1 + 4));
    sub_446090((int *)&v4, &v3, 0);
  }
  CItem::Close();
  DeleteSocketMsg();
  sub_447FB0();
  CPlayerSkill::Close();
  CMonsterSkill::Close();
  CQuest::Close();
}
// 4E1F38: using guessed type int dword_4E1F38[4];

//----- (0044C960) --------------------------------------------------------
LONG sub_44C960()
{
  return dword_4E1B98;
}

//----- (0044C970) --------------------------------------------------------
_DWORD *__thiscall sub_44C970(iless *this, _DWORD *a2, const char **a3)
{
  int v3; // eax
  int v4; // eax
  const char **v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_44CA00(this, v12, (int)a3);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (const char **)sub_473500(v4), iless::operator()(this, *a3, *v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044CA00) --------------------------------------------------------
void *__thiscall sub_44CA00(void *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_44CA30((int)this, (const char **)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (0044CA30) --------------------------------------------------------
int __thiscall sub_44CA30(int this, const char **a2)
{
  const char **v2; // eax
  const char *v4; // [esp-4h] [ebp-10h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v6 = *(_DWORD *)sub_478AB0((int *)this);
  v7 = *(_DWORD *)(this + 4);
  while ( !*(_BYTE *)sub_431110(v6) )
  {
    v4 = *a2;
    v2 = (const char **)sub_473500(v6);
    if ( iless::operator()((iless *)this, *v2, v4) )
    {
      v6 = *(_DWORD *)sub_430F90(v6);
    }
    else
    {
      v7 = v6;
      v6 = *(_DWORD *)sub_474590(v6);
    }
  }
  return v7;
}

//----- (0044CAC0) --------------------------------------------------------
int *__thiscall sub_44CAC0(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_474590(a2);
  v2 = (_DWORD *)sub_430F90(v11);
  *(_DWORD *)sub_474590(a2) = *v2;
  v3 = (int *)sub_430F90(v11);
  if ( !*(_BYTE *)sub_431110(*v3) )
  {
    v4 = (int *)sub_430F90(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_430F90(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v8) = v11;
    }
  }
  *(_DWORD *)sub_430F90(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (0044CBF0) --------------------------------------------------------
int *__thiscall sub_44CBF0(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_430F90(a2);
  v2 = (_DWORD *)sub_474590(v11);
  *(_DWORD *)sub_430F90(a2) = *v2;
  v3 = (int *)sub_474590(v11);
  if ( !*(_BYTE *)sub_431110(*v3) )
  {
    v4 = (int *)sub_474590(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_474590(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v8) = v11;
    }
  }
  *(_DWORD *)sub_474590(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (0044CD20) --------------------------------------------------------
CMemory **__stdcall sub_44CD20(int a1)
{
  return sub_420900(a1);
}

//----- (0044CD40) --------------------------------------------------------
void *__thiscall sub_44CD40(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0044CD70) --------------------------------------------------------
int __stdcall sub_44CD70(int a1)
{
  return _initp_misc_winxfltr();
}

//----- (0044CD90) --------------------------------------------------------
void *__thiscall sub_44CD90(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0044CDC0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *__cdecl std::_Construct<std::_Tree_nod<std::_Tmap_traits<int,std::pair<std::string,std::string>,std::less<int>,std::allocator<std::pair<int const,std::pair<std::string,std::string>>>,1>>::_Node *,std::_Tree_nod<std::_Tmap_traits<int,std::pair<std::string,std::string>,std::less<int>,std::allocator<std::pair<int const,std::pair<std::string,std::string>>>,1>>::_Node *>(std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node **_Ptr, std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *const *_Val)
{
  std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *result; // eax
  std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node **v3; // [esp+4h] [ebp-4h]

  result = (std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node *)operator new(4u, _Ptr);
  v3 = (std::_Tree_nod<std::_Tmap_traits<unsigned long,KMacro::CJobSystem,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,KMacro::CJobSystem> >,0> >::_Node **)result;
  if ( result )
  {
    result = *_Val;
    *v3 = *_Val;
  }
  return result;
}

//----- (0044CE00) --------------------------------------------------------
CQuest *__thiscall CQuest::CQuest(CQuest *this)
{
  CBase::CBase((int)this);
  *(_DWORD *)this = &off_4BA5A0;
  *((_DWORD *)this + 8) = 0;
  *((_DWORD *)this + 9) = 0;
  *((_DWORD *)this + 10) = 0;
  sub_47D030((char *)this + 44);
  return this;
}
// 4BA5A0: using guessed type int (__stdcall *off_4BA5A0)(int);

//----- (0044CE50) --------------------------------------------------------
void *__thiscall sub_44CE50(void *this, char a2)
{
  CQuest::_CQuest((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0044CE80) --------------------------------------------------------
void *__thiscall std::_List_ptr<evQuake_s *>::_List_ptr<evQuake_s *>(void *this, char a2)
{
  char v3; // [esp-4h] [ebp-Ch]

  v3 = (char)this;
  std::_Init_locks::operator=(&a2);
  sub_44F7C0(this, v3);
  std::_Init_locks::operator=(&a2);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (0044CEC0) --------------------------------------------------------
CMemory **__cdecl sub_44CEC0(int a1)
{
  return sub_401000(12 * a1);
}

//----- (0044CEE0) --------------------------------------------------------
int __thiscall sub_44CEE0(void *this)
{
  return sub_44CF00(this);
}

//----- (0044CF00) --------------------------------------------------------
int __thiscall sub_44CF00(void *this)
{
  return sub_44CF20((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0044CF20) --------------------------------------------------------
int __thiscall sub_44CF20(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_44CFD0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0044CFD0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44CFD0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_44D070(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044D070) --------------------------------------------------------
_DWORD *__thiscall sub_44D070(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_44D0D0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0044D0D0) --------------------------------------------------------
int __stdcall sub_44D0D0(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_44D0D0(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0044D150) --------------------------------------------------------
int __thiscall sub_44D150(void *this)
{
  return sub_44D170(this);
}

//----- (0044D170) --------------------------------------------------------
int __thiscall sub_44D170(void *this)
{
  return sub_44D190((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0044D190) --------------------------------------------------------
int __thiscall sub_44D190(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_44D240(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0044D240) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44D240(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_44D2E0(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044D2E0) --------------------------------------------------------
_DWORD *__thiscall sub_44D2E0(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_44D340(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0044D340) --------------------------------------------------------
int __stdcall sub_44D340(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_44D340(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0044D3C0) --------------------------------------------------------
CParty *__thiscall CParty::CParty(void *this, int a2)
{
  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_4BA5E8;
  std::vector<IPAddrMask>::vector<IPAddrMask>((std::vector<CIOSocket::CIOTimer> *)this + 2);
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)((char *)this + 48));
  *((_DWORD *)this + 4) = InterlockedIncrement(&dword_4E1FB8);
  *((_DWORD *)this + 5) = a2;
  *((_DWORD *)this + 6) = *(_DWORD *)(a2 + 60);
  *((_DWORD *)this + 7) = 0;
  CIOObject::AddRef((CIOObject *)a2, (volatile int *)(a2 + 444));
  *(_DWORD *)(a2 + 1016) = *((_DWORD *)this + 4);
  std::vector<IPAddrMask>::push_back((std::vector<CIOSocket::CIOTimer> *)this + 2, (const CIOSocket::CIOTimer *)&a2);
  *((_DWORD *)this + 20) = 0;
  CIOObject::AddTimer((CIOObject *)this, 0x3E8u, 0);
  return (CParty *)this;
}
// 4BA5E8: using guessed type int (__stdcall *off_4BA5E8)(int);

//----- (0044D470) --------------------------------------------------------
void *__thiscall sub_44D470(void *this, char a2)
{
  DWORD v2; // ebx
  DWORD v3; // edi
  DWORD v4; // esi

  Party::_CParty((int)this, v2, v3, v4);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}
// 44D47A: variable 'v2' is possibly undefined
// 44D47A: variable 'v3' is possibly undefined
// 44D47A: variable 'v4' is possibly undefined

//----- (0044D4A0) --------------------------------------------------------
void __thiscall Party::_CParty(void *this)
{
  *(_DWORD *)this = &off_4BA5E8;
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)((char *)this + 48));
  sub_44F580((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)((char *)this + 32));
  std::locale::facet::~facet((std::locale::facet *)this);
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);
// 4BA5E8: using guessed type int (__stdcall *off_4BA5E8)(int);

//----- (0044D4E0) --------------------------------------------------------
volatile int *__cdecl sub_44D4E0(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  CIOCriticalSection *v3; // [esp+0h] [ebp-Ch] BYREF
  int v4; // [esp+4h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-4h] BYREF

  v4 = 0;
  CIOCriticalSection::Enter(v3);
  sub_44AE20(dword_4E1FC4, &v5, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E1FC4, (int)&v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v5,
         v1) )
  {
    v4 = *(_DWORD *)(sub_420250(&v5) + 4);
    sub_4010D0(v4);
  }
  CIOCriticalSection::Leave(v3);
  return (volatile int *)v4;
}

//----- (0044D550) --------------------------------------------------------
void __cdecl CParty::Accept(int a1, int a2)
{
  CParty *v2; // [esp+0h] [ebp-Ch]
  CMemory **v3; // [esp+4h] [ebp-8h]
  CIOCriticalSection *v4; // [esp+8h] [ebp-4h]

  sub_460490((CIOCriticalSection *)a1, (CIOCriticalSection *)a2);
  if ( *(_DWORD *)(a2 + 1016) )
  {
    CPlayer::Write(a1, 68, "bs", 31, a2 + 32);
  }
  else
  {
    v4 = (CIOCriticalSection *)sub_44D4E0(*(_DWORD *)(a1 + 1016));
    if ( !v4 )
    {
      v3 = sub_401000(0x54u);
      if ( v3 )
        v2 = CParty::CParty(v3, a1);
      else
        v2 = 0;
      v4 = (CIOCriticalSection *)v2;
      sub_4010D0((int)v2);
      CParty::Add((volatile int *)v2);
    }
    CParty::Join(v4, a1, a2);
    sub_401DE0((int *)v4);
  }
  sub_44D620((CIOCriticalSection *)a1, (CIOCriticalSection *)a2);
}

//----- (0044D620) --------------------------------------------------------
void __cdecl sub_44D620(CIOCriticalSection *a1, CIOCriticalSection *a2)
{
  sub_412EB0(a1);
  sub_412EB0(a2);
}

//----- (0044D640) --------------------------------------------------------
void __thiscall CParty::OnFree(CIOObject *this)
{
  int v1; // eax

  if ( this[1].m_nGeneralRef )
  {
    CIOObject::OnFree(this);
  }
  else
  {
    ELOG("CParty::OnFree %p %d %d %d %d\n", (char)this);
    EBREAK(v1);
    this->m_nRef = 100;
  }
}
// 44D67D: variable 'v1' is possibly undefined

//----- (0044D6A0) --------------------------------------------------------
void __thiscall CParty::OnTimer(CIOCriticalSection *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int v3; // eax
  int v4; // eax
  CIOCriticalSection *v5; // [esp+0h] [ebp-20h]
  CIOObject *v6; // [esp+0h] [ebp-20h]
  char v7[4]; // [esp+4h] [ebp-1Ch] BYREF
  int v8; // [esp+8h] [ebp-18h] BYREF
  _DWORD *v9; // [esp+Ch] [ebp-14h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v10; // [esp+10h] [ebp-10h] BYREF
  unsigned __int16 *v11; // [esp+14h] [ebp-Ch]
  _DWORD *v12; // [esp+18h] [ebp-8h]
  void *v13; // [esp+1Ch] [ebp-4h]

  CIOCriticalSection::Enter(this);
  if ( v5->m_dwEIP[1] )
  {
    CIOCriticalSection::Leave(v5);
  }
  else
  {
    v13 = CIOBuffer::Alloc();
    v11 = (unsigned __int16 *)v13;
    *((_BYTE *)v13 + 2) = 83;
    v12 = v11 + 2;
    sub_430C20(&v5[1].m_critical_section.DebugInfo, (int)&v10);
    while ( 1 )
    {
      v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(
                                                                       &v5[1].m_critical_section.DebugInfo,
                                                                       (int)v7);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v10,
              v2) )
        break;
      v9 = *(_DWORD **)sub_420010(&v10);
      v3 = std::_Mpunct<wchar_t>::do_frac_digits(v9);
      v12 = PutNumeric<int>(v12, v3);
      v12 = PutNumeric<int>(v12, v9[83]);
      v12 = PutNumeric<int>(v12, v9[84]);
      sub_420030((int *)&v10, &v8, 0);
    }
    v4 = std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)&v5[1]);
    WritePacket((char *)v11 + 3, "b", v4);
    *v11 = (_WORD)v12 - (_WORD)v11;
    *((_DWORD *)v13 + 2000) = *v11;
    CParty::_Broadcast(v5, v13, 0);
    CIOCriticalSection::Leave(v5);
    CIOObject::AddTimer(v6, 0x3E8u, 0);
  }
}
// 44D6B7: variable 'v5' is possibly undefined
// 44D7E3: variable 'v6' is possibly undefined

//----- (0044D7F0) --------------------------------------------------------
void __thiscall CParty::Add(volatile int *this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  CIOCriticalSection *v3; // [esp+0h] [ebp-18h]
  char v4[8]; // [esp+4h] [ebp-14h] BYREF
  CIOCriticalSection *v5; // [esp+Ch] [ebp-Ch]
  char v6[8]; // [esp+10h] [ebp-8h] BYREF

  sub_4010D0((int)this);
  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  v5 = v3;
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v6);
  sub_445DF0(
    (int)dword_4E1FC4,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v4,
    v1);
  CIOCriticalSection::Leave(v3);
}
// 44D80E: variable 'v3' is possibly undefined
// 44D82E: variable 'v1' is possibly undefined

//----- (0044D850) --------------------------------------------------------
void __thiscall CParty::Remove(CIOCriticalSection *this)
{
  int *v1; // [esp+0h] [ebp-4h]
  int *v2; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  sub_44F600(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E1FC4,
    (int)(v1 + 4));
  CIOCriticalSection::Leave((CIOCriticalSection *)v1);
  sub_401DE0(v2);
}
// 44D867: variable 'v1' is possibly undefined
// 44D87F: variable 'v2' is possibly undefined

//----- (0044D890) --------------------------------------------------------
int __thiscall CParty::IsHead(CIOCriticalSection *this, int a2)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-8h]
  int v4; // [esp+4h] [ebp-4h]

  v4 = 1;
  CIOCriticalSection::Enter(this);
  if ( v3->m_dwEIP[1] || v3->m_critical_section.SpinCount != a2 )
    v4 = 0;
  CIOCriticalSection::Leave(v3);
  return v4;
}
// 44D8AE: variable 'v3' is possibly undefined

//----- (0044D8E0) --------------------------------------------------------
int __thiscall CParty::IsMember(_DWORD *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v5[4]; // [esp+4h] [ebp-Ch] BYREF
  int v6; // [esp+8h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+Ch] [ebp-4h] BYREF

  sub_430C20(this + 8, (int)&v7);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v7,
            v2) )
      break;
    if ( a2 == *(_DWORD *)sub_420010(&v7) )
      return 1;
    sub_420030((int *)&v7, &v6, 0);
  }
  return 0;
}

//----- (0044D950) --------------------------------------------------------
int __thiscall CParty::FindTopLevel(_DWORD *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v4[4]; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+10h] [ebp-8h] BYREF
  int v8; // [esp+14h] [ebp-4h]

  v8 = 0;
  sub_430C20(this + 8, (int)&v7);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v7,
            v1) )
      break;
    v6 = *(_DWORD *)sub_420010(&v7);
    if ( *(_DWORD *)(v6 + 60) > v8 )
      v8 = *(_DWORD *)(v6 + 60);
    sub_420030((int *)&v7, &v5, 0);
  }
  return v8;
}

//----- (0044D9D0) --------------------------------------------------------
void __thiscall CParty::Join(CIOCriticalSection *this, int a2, int a3)
{
  int v3; // eax
  int v4; // [esp-14h] [ebp-20h]
  int v5; // [esp-10h] [ebp-1Ch]
  int v6; // [esp-Ch] [ebp-18h]
  int v7; // [esp-8h] [ebp-14h]
  int v8; // [esp-4h] [ebp-10h]
  _DWORD *v9; // [esp+0h] [ebp-Ch]
  CIOBuffer *a2a; // [esp+4h] [ebp-8h]
  int v11; // [esp+8h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  if ( !v9[7] && a2 == v9[5] )
  {
    v11 = std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)(v9 + 8));
    if ( v11 >= 6 )
    {
      CPlayer::Write(a3, 67, "b", 30);
    }
    else
    {
      if ( v11 == 1 )
        CParty::SendPartyInfo(v9, v9[5]);
      CIOObject::AddRef((CIOObject *)a3, (volatile int *)(a3 + 444));
      *(_DWORD *)(a3 + 1016) = v9[4];
      CPlayer::Write(a3, 67, "b", 29);
      v8 = CChar::GetMaxHP((CPlayer *)a3);
      v7 = *(_DWORD *)(a3 + 272);
      v6 = *(_DWORD *)(a3 + 60);
      v5 = *(_DWORD *)(a3 + 460);
      v4 = a3 + 32;
      v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a3);
      a2a = WritePacket_(68, "bdsbbww", 29, v3, v4, v5, v6, v7, v8);
      CParty::_Broadcast(v9, a2a, 0);
      std::vector<IPAddrMask>::push_back((std::vector<CIOSocket::CIOTimer> *)v9 + 2, (const CIOSocket::CIOTimer *)&a3);
      CParty::SendPartyInfo(v9, a3);
      if ( *(_DWORD *)(a3 + 60) > v9[6] )
        v9[6] = *(_DWORD *)(a3 + 60);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v9);
}
// 44D9E7: variable 'v9' is possibly undefined

//----- (0044DB20) --------------------------------------------------------
void __thiscall CParty::Leave(void *this, int a2)
{
  int v2; // eax
  int v3; // eax
  void *v4; // eax
  _DWORD *v5; // eax
  int v6; // [esp-4h] [ebp-34h]
  CIOCriticalSection *v7; // [esp+0h] [ebp-30h]
  CIOCriticalSection *v8; // [esp+0h] [ebp-30h]
  CIOObject *v9; // [esp+0h] [ebp-30h]
  char v11[4]; // [esp+8h] [ebp-28h] BYREF
  int v12; // [esp+Ch] [ebp-24h] BYREF
  char v13[4]; // [esp+10h] [ebp-20h] BYREF
  int v14; // [esp+14h] [ebp-1Ch] BYREF
  CIOObject *v15; // [esp+18h] [ebp-18h]
  void *v16; // [esp+1Ch] [ebp-14h] BYREF
  int v17; // [esp+20h] [ebp-10h]
  int v18; // [esp+24h] [ebp-Ch]
  CIOObject *v19; // [esp+28h] [ebp-8h]
  void *a2a; // [esp+2Ch] [ebp-4h]

  CIOCriticalSection::Enter(v7);
  if ( *((_DWORD *)this + 7) )
  {
    CIOCriticalSection::Leave(v8);
  }
  else
  {
    sub_430C20((_DWORD *)this + 8, (int)&v16);
    while ( 1 )
    {
      v2 = sub_445B40((_DWORD *)this + 8, (int)v13);
      if ( (unsigned __int8)unknown_libname_8(v2) )
      {
        CIOCriticalSection::Leave(v8);
        LOG_ERR("CParty::Leave() Not this party member. (bit:%x)", *(_DWORD *)(a2 + 20));
        return;
      }
      if ( a2 == *(_DWORD *)sub_420010(&v16) )
        break;
      sub_420030((int *)&v16, &v14, 0);
    }
    std::vector<CControl *>::erase((char **)this + 8, (char **)&v12, (char *)v16);
    *(_DWORD *)(a2 + 1016) = 0;
    CPlayer::Write(a2, 67, "b", 32);
    v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    a2a = WritePacket_(68, "bd", 32, v3);
    CParty::_Broadcast(this, a2a, 0);
    if ( *(_DWORD *)(a2 + 60) >= *((_DWORD *)this + 6) )
      *((_DWORD *)this + 6) = CParty::FindTopLevel(this);
    v18 = *(_DWORD *)(a2 + 584);
    if ( v18 )
      v9 = (CIOObject *)CParty::_GetPlayerList(this);
    else
      v9 = 0;
    v19 = v9;
    v17 = std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)((char *)this + 32));
    if ( a2 == *((_DWORD *)this + 5) )
    {
      v4 = (void *)sub_430C20((_DWORD *)this + 8, (int)v11);
      *((_DWORD *)this + 5) = *(_DWORD *)sub_420010(v4);
      if ( v17 > 1 )
        CPlayer::Write(*((_DWORD *)this + 5), 67, "b", 35);
    }
    if ( v17 == 1 )
    {
      v15 = (CIOObject *)*((_DWORD *)this + 5);
      *((_DWORD *)this + 5) = 0;
      sub_44DDA0((int)this);
      CIOCriticalSection::Leave((CIOCriticalSection *)v9);
      CParty::Remove((CIOCriticalSection *)this);
      v15[63].m_nTimerRef = 0;
      CPlayer::Write((int)v15, 67, "b", 36);
      v15[36].m_nTimerRef = 0;
      CChar::CancelBuffPrty(v15, 24);
      CIOObject::Release(v15, &v15[27].m_nGeneralRef);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)v9);
    }
    while ( v19 )
    {
      v6 = v18;
      v5 = (_DWORD *)unknown_libname_7(v19);
      CChar::CancelBuff(v5, v6);
      v19 = (CIOObject *)CBaseList::Pop(v19);
    }
    *(_DWORD *)(a2 + 584) = 0;
    CChar::CancelBuffPrty((_DWORD *)a2, 24);
    CIOObject::Release((CIOObject *)a2, (volatile int *)(a2 + 444));
  }
}
// 44DB2F: variable 'v7' is possibly undefined
// 44DB43: variable 'v8' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044DDA0) --------------------------------------------------------
void __thiscall sub_44DDA0(int this)
{
  *(_DWORD *)(this + 28) = 1;
  sub_401DE0((int *)this);
}

//----- (0044DDC0) --------------------------------------------------------
void __thiscall CParty::Exile(void *a1, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  int v6; // [esp-4h] [ebp-2Ch]
  CIOCriticalSection *v7; // [esp+0h] [ebp-28h]
  CIOCriticalSection *v8; // [esp+0h] [ebp-28h]
  CIOObject *v9; // [esp+0h] [ebp-28h]
  int v11; // [esp+8h] [ebp-20h] BYREF
  char v12[4]; // [esp+Ch] [ebp-1Ch] BYREF
  int v13; // [esp+10h] [ebp-18h] BYREF
  CIOObject *v14; // [esp+14h] [ebp-14h]
  void *v15; // [esp+18h] [ebp-10h] BYREF
  int v16; // [esp+1Ch] [ebp-Ch]
  CIOObject *v17; // [esp+20h] [ebp-8h]
  void *a2a; // [esp+24h] [ebp-4h]

  CIOCriticalSection::Enter(v7);
  if ( *((_DWORD *)a1 + 7) || a2 != *((_DWORD *)a1 + 5) )
  {
    CIOCriticalSection::Leave(v8);
  }
  else
  {
    sub_430C20((_DWORD *)a1 + 8, (int)&v15);
    while ( 1 )
    {
      v3 = sub_445B40((_DWORD *)a1 + 8, (int)v12);
      if ( (unsigned __int8)unknown_libname_8(v3) )
      {
        CIOCriticalSection::Leave(v8);
        LOG_ERR("CParty::Leave() Not this party member. (bit:%x)", *(_DWORD *)(a3 + 20));
        return;
      }
      if ( a3 == *(_DWORD *)sub_420010(&v15) )
        break;
      sub_420030((int *)&v15, &v13, 0);
    }
    std::vector<CControl *>::erase((char **)a1 + 8, (char **)&v11, (char *)v15);
    *(_DWORD *)(a3 + 1016) = 0;
    CPlayer::Write(a3, 67, "b", 33);
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a3);
    a2a = WritePacket_(68, "bd", 33, v4);
    CParty::_Broadcast(a1, a2a, 0);
    if ( *(_DWORD *)(a3 + 60) >= *((_DWORD *)a1 + 6) )
      *((_DWORD *)a1 + 6) = CParty::FindTopLevel(a1);
    v16 = *(_DWORD *)(a3 + 584);
    if ( v16 )
      v9 = (CIOObject *)CParty::_GetPlayerList(a1);
    else
      v9 = 0;
    v17 = v9;
    if ( std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)((char *)a1 + 32)) == 1 )
    {
      v14 = (CIOObject *)*((_DWORD *)a1 + 5);
      *((_DWORD *)a1 + 5) = 0;
      sub_44DDA0((int)a1);
      CIOCriticalSection::Leave((CIOCriticalSection *)v9);
      CParty::Remove((CIOCriticalSection *)a1);
      v14[63].m_nTimerRef = 0;
      CPlayer::Write((int)v14, 67, "b", 36);
      v14[36].m_nTimerRef = 0;
      CChar::CancelBuffPrty(v14, 24);
      CIOObject::Release(v14, &v14[27].m_nGeneralRef);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)v9);
    }
    while ( v17 )
    {
      v6 = v16;
      v5 = (_DWORD *)unknown_libname_7(v17);
      CChar::CancelBuff(v5, v6);
      v17 = (CIOObject *)CBaseList::Pop(v17);
    }
    *(_DWORD *)(a3 + 584) = 0;
    CChar::CancelBuffPrty((_DWORD *)a3, 24);
    CIOObject::Release((CIOObject *)a3, (volatile int *)(a3 + 444));
  }
}
// 44DDCF: variable 'v7' is possibly undefined
// 44DDE3: variable 'v8' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044E020) --------------------------------------------------------
void __thiscall CParty::AllotExp(int a1, int *a2, int a3, _DWORD *a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  const std::pair<int const ,CGame_Character::TargetInfo> *v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  CIOCriticalSection *v8; // [esp+0h] [ebp-A4h]
  CIOCriticalSection *v9; // [esp+0h] [ebp-A4h]
  int v10; // [esp+2Ch] [ebp-78h]
  int v11; // [esp+30h] [ebp-74h]
  char v13[4]; // [esp+38h] [ebp-6Ch] BYREF
  int v14; // [esp+3Ch] [ebp-68h] BYREF
  char v15[8]; // [esp+40h] [ebp-64h] BYREF
  char v16[8]; // [esp+48h] [ebp-5Ch] BYREF
  char v17[4]; // [esp+50h] [ebp-54h] BYREF
  int v18; // [esp+54h] [ebp-50h] BYREF
  char v19[4]; // [esp+58h] [ebp-4Ch] BYREF
  int v20; // [esp+5Ch] [ebp-48h] BYREF
  int v21; // [esp+60h] [ebp-44h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v22; // [esp+64h] [ebp-40h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v23; // [esp+68h] [ebp-3Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v24; // [esp+6Ch] [ebp-38h] BYREF
  int v25; // [esp+70h] [ebp-34h]
  int v26; // [esp+74h] [ebp-30h]
  int v27; // [esp+78h] [ebp-2Ch]
  CIOSocket::CIOTimer _Val; // [esp+7Ch] [ebp-28h] BYREF
  int v29; // [esp+94h] [ebp-10h]
  _DWORD v30[3]; // [esp+98h] [ebp-Ch] BYREF

  CIOCriticalSection::Enter(v8);
  v26 = a3 - *(_DWORD *)(a1 + 24);
  if ( v26 < 0 )
  {
    if ( abs(v26) >= 20 )
      v10 = 20;
    else
      v10 = abs(v26);
    *a2 = (unsigned __int64)((double)*a2
                           - (double)*a2 * ((double)dword_4D8870[21 * ((*(_DWORD *)(a1 + 24) - 1) / 10) + v10] / 100.0));
  }
  else
  {
    if ( v26 >= 20 )
      v11 = 20;
    else
      v11 = v26;
    *a2 = (unsigned __int64)((double)*a2 * ((double)dword_4D8528[21 * ((*(_DWORD *)(a1 + 24) - 1) / 10) + v11] / 100.0)
                           + (double)*a2);
  }
  if ( *a2 > 0 )
  {
    std::vector<IPAddrMask>::vector<IPAddrMask>((std::vector<CIOSocket::CIOTimer> *)&_Val.m_nId);
    _Val.m_pObject = 0;
    v25 = 0;
    sub_430C20((_DWORD *)(a1 + 32), (int)&v24);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)(a1 + 32), (int)v19);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v24,
              v4) )
        break;
      _Val.m_dwTime = *(_DWORD *)sub_420010(&v24);
      if ( CChar::IsNormal(_Val.m_dwTime) && sub_448870((_DWORD *)(_Val.m_dwTime + 332), a4) <= 640 )
      {
        if ( *(_DWORD *)(a1 + 24) - *(_DWORD *)(_Val.m_dwTime + 60) <= 20 )
          ++v25;
        _Val.m_pObject = (CIOObject *)((char *)_Val.m_pObject + *(_DWORD *)(_Val.m_dwTime + 60));
        std::vector<IPAddrMask>::push_back((std::vector<CIOSocket::CIOTimer> *)&_Val.m_nId, &_Val);
      }
      sub_420030((int *)&v24, &v20, 0);
    }
    if ( v25 > 1 )
      *a2 = (unsigned __int64)((double)*a2 * ((double)(v25 - 1) / 10.0) + (double)*a2);
    sub_445C80(v30);
    v27 = *(_DWORD *)(a1 + 24);
    sub_430C20(&_Val.m_nId, (int)&v23);
    while ( 1 )
    {
      v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(&_Val.m_nId, (int)v17);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v23,
              v5) )
        break;
      _Val.m_dwTime = *(_DWORD *)sub_420010(&v23);
      v29 = (unsigned __int64)((double)*a2 * ((double)*(int *)(_Val.m_dwTime + 60) / (double)(int)_Val.m_pObject));
      v26 = v27 - *(_DWORD *)(_Val.m_dwTime + 60);
      if ( v26 <= 28 )
      {
        if ( v26 > 0 )
          v29 = (unsigned __int64)((double)v29 - (double)v29 * ((double)dword_4D8BB8[v26] / 100.0));
      }
      else
      {
        v29 = 0;
      }
      if ( v29 )
      {
        CIOObject::AddRef((CIOObject *)_Val.m_dwTime, (volatile int *)(_Val.m_dwTime + 352));
        std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v16);
        sub_48D6D0(
          v30,
          (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v15,
          v6);
      }
      sub_420030((int *)&v23, &v18, 0);
    }
    CIOCriticalSection::Leave(v9);
    *a2 = 0;
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)v30,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v22);
    while ( 1 )
    {
      v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(v30, (int)v13);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v22,
              v7) )
        break;
      _Val.m_dwTime = *(_DWORD *)sub_420250(&v22);
      v29 = *(_DWORD *)(sub_420250(&v22) + 4);
      *a2 += v29;
      v21 = (dword_4E1178 & 1) != 0 ? 0x64 : 0;
      if ( CChar::IsBState(_Val.m_dwTime, 0x8000000000i64)
        || CChar::IsBState(_Val.m_dwTime, 0x10000000000i64)
        || CChar::IsBState(_Val.m_dwTime, 0x20000000000i64) )
      {
        v21 += 10;
      }
      if ( CChar::IsBState(_Val.m_dwTime, 2i64) )
      {
        v21 += 30;
      }
      else if ( CChar::IsBState(_Val.m_dwTime, 1i64) )
      {
        v21 += 30;
      }
      (*(void (__cdecl **)(unsigned int, int, int, int, int))(*(_DWORD *)_Val.m_dwTime + 88))(
        _Val.m_dwTime,
        25,
        1,
        v29 + v21 * v29 / 100,
        (v29 + v21 * v29 / 100) >> 31);
      CIOObject::Release((CIOObject *)_Val.m_dwTime, (volatile int *)(_Val.m_dwTime + 352));
      sub_446090((int *)&v22, &v14, 0);
    }
    sub_4398F0(v30);
    sub_44F580((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)&_Val.m_nId);
  }
  else
  {
    CIOCriticalSection::Leave(v9);
  }
}
// 44E032: variable 'v8' is possibly undefined
// 44E107: variable 'v9' is possibly undefined
// 44E2E1: variable 'v6' is possibly undefined
// 4B9304: using guessed type float flt_4B9304;
// 4BA658: using guessed type float flt_4BA658;
// 4E1178: using guessed type int dword_4E1178;

//----- (0044E4B0) --------------------------------------------------------
void __thiscall CParty::SendPartyInfo(_DWORD *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int v3; // eax
  __int16 v4; // ax
  int v5; // eax
  char v7[4]; // [esp+4h] [ebp-1Ch] BYREF
  int v8; // [esp+8h] [ebp-18h] BYREF
  CPlayer *v9; // [esp+Ch] [ebp-14h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v10; // [esp+10h] [ebp-10h] BYREF
  char *v11; // [esp+14h] [ebp-Ch]
  char *v12; // [esp+18h] [ebp-8h]
  void *Src; // [esp+1Ch] [ebp-4h]

  Src = CIOBuffer::Alloc();
  v11 = (char *)Src;
  *((_BYTE *)Src + 2) = 84;
  v12 = v11 + 4;
  sub_430C20(this + 8, (int)&v10);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v7);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v10,
            v2) )
      break;
    v9 = *(CPlayer **)sub_420010(&v10);
    v3 = std::_Mpunct<wchar_t>::do_frac_digits(v9);
    v12 = (char *)PutNumeric<int>(v12, v3);
    v12 = PutString(v12, v9->m_szName);
    v12 = PutNumeric<unsigned char>(v12, v9->m_nClass);
    v12 = PutNumeric<unsigned char>(v12, v9->m_nLevel);
    v12 = (char *)PutNumeric<short>(v12, v9->m_nCurHP);
    v4 = CChar::GetMaxHP(v9);
    v12 = (char *)PutNumeric<short>(v12, v4);
    sub_420030((int *)&v10, &v8, 0);
  }
  v5 = std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)(this + 8));
  WritePacket(v11 + 3, "b", v5);
  *(_WORD *)v11 = (_WORD)v12 - (_WORD)v11;
  *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v11;
  CPlayer::Send(Src);
  CIOBuffer::Release((CIOBuffer *)Src);
}

//----- (0044E610) --------------------------------------------------------
void __thiscall CParty::UpdateMemberHP(CIOCriticalSection *this, CPlayer *a2)
{
  int v2; // eax
  int v3; // [esp-8h] [ebp-10h]
  int v4; // [esp-4h] [ebp-Ch]
  CIOCriticalSection *v5; // [esp+0h] [ebp-8h]
  CIOBuffer *v6; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  v4 = CChar::GetMaxHP(a2);
  v3 = a2->m_nCurHP;
  v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  v6 = WritePacket_(85, "dbdd", v2, 7, v3, v4);
  CParty::_Broadcast(v5, v6, 0);
  CIOCriticalSection::Leave(v5);
}
// 44E65D: variable 'v5' is possibly undefined

//----- (0044E680) --------------------------------------------------------
void __thiscall CParty::UpdateMemberLevel(CIOCriticalSection *this, int a2)
{
  int v2; // eax
  int v3; // [esp-4h] [ebp-Ch]
  CIOCriticalSection *v4; // [esp+0h] [ebp-8h]
  CIOBuffer *v5; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  if ( CParty::IsMember(v4, a2) )
  {
    v4->m_dwEIP[0] = CParty::FindTopLevel(v4);
    v3 = *(_DWORD *)(a2 + 60);
    v2 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v5 = WritePacket_(85, "dbd", v2, 26, v3);
    CParty::_Broadcast(v4, v5, 0);
  }
  CIOCriticalSection::Leave(v4);
}
// 44E69B: variable 'v4' is possibly undefined

//----- (0044E700) --------------------------------------------------------
void __thiscall CParty::Broadcast(CIOCriticalSection *this, void *a2, int a3)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  CParty::_Broadcast(v3, a2, a3);
  CIOCriticalSection::Leave(v3);
}
// 44E71D: variable 'v3' is possibly undefined

//----- (0044E740) --------------------------------------------------------
void __thiscall CParty::_Broadcast(_DWORD *this, void *a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int v6; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v8; // [esp+10h] [ebp-4h] BYREF

  sub_430C20(this + 8, (int)&v8);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v8,
            v3) )
      break;
    v7 = *(_DWORD *)sub_420010(&v8);
    if ( v7 != a3 )
      CPlayer::Send(a2);
    sub_420030((int *)&v8, &v6, 0);
  }
  CIOBuffer::Release((CIOBuffer *)a2);
}

//----- (0044E7C0) --------------------------------------------------------
volatile int *__thiscall CParty::GetRandomPlayer(CIOCriticalSection *a1)
{
  int v1; // eax
  int v3; // [esp+0h] [ebp-Ch]
  CIOObject *v4; // [esp+4h] [ebp-8h]
  int _Pos; // [esp+8h] [ebp-4h]

  CIOCriticalSection::Enter(a1);
  v1 = std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)(v3 + 32));
  _Pos = RandomBetween(0, v1 - 1);
  v4 = *(CIOObject **)std::vector<Event::Section>::operator[]((std::vector<CItemInfo> *)(v3 + 32), _Pos);
  CIOObject::AddRef(v4, (volatile int *)&v4[22]);
  CIOCriticalSection::Leave((CIOCriticalSection *)v3);
  return (volatile int *)v4;
}
// 44E7D7: variable 'v3' is possibly undefined

//----- (0044E830) --------------------------------------------------------
int __thiscall CParty::Teleport(CIOCriticalSection *this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  CIOCriticalSection *v6; // [esp+0h] [ebp-24h]
  char v7[4]; // [esp+4h] [ebp-20h] BYREF
  int v8; // [esp+8h] [ebp-1Ch] BYREF
  _DWORD a3a[2]; // [esp+Ch] [ebp-18h] BYREF
  _DWORD *v10; // [esp+14h] [ebp-10h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v11; // [esp+18h] [ebp-Ch] BYREF
  _DWORD *v12; // [esp+1Ch] [ebp-8h]
  int a2a; // [esp+20h] [ebp-4h]

  if ( !CParty::IsHead(this, a2) )
    return 0;
  a2a = dword_4D7900[4 * a3];
  v12 = (_DWORD *)((char *)&unk_4D7904 + 16 * a3);
  CIOCriticalSection::Enter(this);
  sub_430C20(&v6[1].m_critical_section.DebugInfo, (int)&v11);
  while ( 1 )
  {
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(
                                                                     &v6[1].m_critical_section.DebugInfo,
                                                                     (int)v7);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v11,
            v4) )
      break;
    v10 = *(_DWORD **)sub_420010(&v11);
    if ( CChar::IsNormal((int)v10) )
    {
      a3a[0] = RandomBetween(*v12 - 64, *v12 + 64);
      a3a[1] = RandomBetween(v12[1] - 64, v12[1] + 64);
      CPlayer::Teleport(v10, a2a, a3a, 0, 0);
    }
    sub_420030((int *)&v11, &v8, 0);
  }
  CIOCriticalSection::Leave(v6);
  return 1;
}
// 44E87F: variable 'v6' is possibly undefined
// 4D7900: using guessed type int dword_4D7900[];

//----- (0044E940) --------------------------------------------------------
CMemory *__thiscall CParty::StoreItem(CIOCriticalSection *this, CMemory *a2)
{
  CMemory *result; // eax
  int v3; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  *(_DWORD *)(v3 + 80) = CBaseList::Push(*(CMemory **)(v3 + 80), a2);
  CIOCriticalSection::Leave((CIOCriticalSection *)v3);
  a2[1].__sbh_sizeHeaderList = 0;
  a2[1].__sbh_cntHeaderList = 0;
  a2[1].__sbh_pHeaderScan = 0;
  result = a2;
  a2[1]._crtheap = 0;
  return result;
}
// 44E959: variable 'v3' is possibly undefined

//----- (0044E9A0) --------------------------------------------------------
void __thiscall CParty::DistributeItem(CIOCriticalSection *a1, _DWORD *a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  CItem *v7; // eax
  int v8; // [esp+0h] [ebp-90h]
  CIOCriticalSection *v9; // [esp+0h] [ebp-90h]
  CIOCriticalSection *v10; // [esp+0h] [ebp-90h]
  CIOCriticalSection *v11; // [esp+0h] [ebp-90h]
  char v12[4]; // [esp+4h] [ebp-8Ch] BYREF
  int v13; // [esp+8h] [ebp-88h] BYREF
  char v14[4]; // [esp+Ch] [ebp-84h] BYREF
  int v15; // [esp+10h] [ebp-80h] BYREF
  char v16[4]; // [esp+14h] [ebp-7Ch] BYREF
  int v17; // [esp+18h] [ebp-78h] BYREF
  char v18[4]; // [esp+1Ch] [ebp-74h] BYREF
  int v19; // [esp+20h] [ebp-70h] BYREF
  char v20[4]; // [esp+24h] [ebp-6Ch] BYREF
  int v21; // [esp+28h] [ebp-68h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v22; // [esp+2Ch] [ebp-64h] BYREF
  CIOBuffer *v23; // [esp+30h] [ebp-60h]
  int v24; // [esp+34h] [ebp-5Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v25; // [esp+38h] [ebp-58h] BYREF
  int v26[2]; // [esp+3Ch] [ebp-54h] BYREF
  CIOBuffer *v27; // [esp+44h] [ebp-4Ch]
  int v28; // [esp+48h] [ebp-48h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v29; // [esp+4Ch] [ebp-44h] BYREF
  int a2a[2]; // [esp+50h] [ebp-40h] BYREF
  void *Src; // [esp+58h] [ebp-38h]
  unsigned int _Pos; // [esp+5Ch] [ebp-34h]
  CItem *item; // [esp+60h] [ebp-30h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v34; // [esp+64h] [ebp-2Ch] BYREF
  int a3; // [esp+68h] [ebp-28h]
  CItem *v36; // [esp+6Ch] [ebp-24h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v37; // [esp+70h] [ebp-20h] BYREF
  CIOObject *v38; // [esp+74h] [ebp-1Ch]
  CIOSocket::CIOTimer _Val; // [esp+78h] [ebp-18h] BYREF
  int v40; // [esp+8Ch] [ebp-4h]

  CIOCriticalSection::Enter(a1);
  std::vector<IPAddrMask>::vector<IPAddrMask>((std::vector<CIOSocket::CIOTimer> *)&_Val.m_pObject);
  sub_430C20((_DWORD *)(v8 + 32), (int)&v37);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)(v8 + 32), (int)v20);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v37,
            v2) )
      break;
    _Val.m_dwTime = *(_DWORD *)sub_420010(&v37);
    if ( CChar::IsNormal(_Val.m_dwTime) )
    {
      if ( sub_448870((_DWORD *)(_Val.m_dwTime + 332), a2) <= 640 )
      {
        CIOObject::AddRef((CIOObject *)_Val.m_dwTime, (volatile int *)(_Val.m_dwTime + 352));
        std::vector<IPAddrMask>::push_back((std::vector<CIOSocket::CIOTimer> *)&_Val.m_pObject, &_Val);
      }
    }
    sub_420030((int *)&v37, &v21, 0);
  }
  v38 = *(CIOObject **)(v8 + 80);
  *(_DWORD *)(v8 + 80) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)v8);
  v40 = std::vector<CControl *>::size((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)&_Val.m_pObject);
  if ( v40 > 0 )
  {
    while ( 1 )
    {
      if ( !v38 )
      {
        sub_430C20(&_Val.m_pObject, (int)&v22);
        while ( 1 )
        {
          v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(&_Val.m_pObject, (int)v12);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  &v22,
                  v6) )
            break;
          _Val.m_dwTime = *(_DWORD *)sub_420010(&v22);
          CIOObject::Release((CIOObject *)_Val.m_dwTime, (volatile int *)(_Val.m_dwTime + 352));
          sub_420030((int *)&v22, &v13, 0);
        }
        goto LABEL_58;
      }
      v36 = (CItem *)unknown_libname_7(v38);
      if ( v36->IsMoney(v36) )
        break;
      _Pos = RandomBetween(0, v40 - 1);
      _Val.m_dwTime = *(_DWORD *)std::vector<Event::Section>::operator[](
                                   (std::vector<CItemInfo> *)&_Val.m_pObject,
                                   _Pos);
      if ( sub_45DDC0((CIOCriticalSection *)_Val.m_dwTime, 25, (int)v36) != 1 )
        goto LABEL_51;
      if ( (v36->m_pInit->m_nIndex >= 665 && v36->m_pInit->m_nIndex <= 668
         || v36->m_pInit->m_nIndex >= 802 && v36->m_pInit->m_nIndex <= 825
         || v36->m_pInit->m_nIndex >= 856 && v36->m_pInit->m_nIndex <= 867
         || v36->m_pInit->m_nIndex == 688)
        && abs(*(_DWORD *)(_Val.m_dwTime + 332) - 57367) < 1000
        && abs(*(_DWORD *)(_Val.m_dwTime + 336) - 9077) < 1001 )
      {
        a2a[0] = 1793;
        a2a[1] = 284;
        Src = WritePacket_(68, "bsw", 42, _Val.m_dwTime + 32, v36->m_pInit->m_nIndex);
        CSMap::SendPacketInRect(*(void **)(_Val.m_dwTime + 320), (int)a2a, (int)Src, 32);
        CIOCriticalSection::Enter(v9);
        sub_430C20(&v10[1].m_critical_section.DebugInfo, (int)&v29);
        while ( 1 )
        {
          v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(
                                                                           &v10[1].m_critical_section.DebugInfo,
                                                                           (int)v16);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  &v29,
                  v4) )
            break;
          v28 = *(_DWORD *)sub_420010(&v29);
          if ( v28 != _Val.m_dwTime
            && (abs(*(_DWORD *)(v28 + 332) - 57376) > 1024 || abs(*(_DWORD *)(v28 + 336) - 9088) > 1024) )
          {
            CPlayer::Send(Src);
          }
          sub_420030((int *)&v29, &v17, 0);
        }
        CIOCriticalSection::Leave(v10);
        CIOBuffer::Release((CIOBuffer *)Src);
      }
      else if ( (v36->m_pInit->m_nIndex < 673 || v36->m_pInit->m_nIndex > 687)
             && (v36->m_pInit->m_nIndex < 826 || v36->m_pInit->m_nIndex > 855)
             || abs(*(_DWORD *)(_Val.m_dwTime + 332) - 20284) >= 1160
             || abs(*(_DWORD *)(_Val.m_dwTime + 336) - 67480) >= 1212 )
      {
        v23 = WritePacket_(68, "bsw", 42, _Val.m_dwTime + 32, v36->m_pInit->m_nIndex);
        CParty::Broadcast(v9, v23, _Val.m_dwTime);
      }
      else
      {
        v26[0] = 634;
        v26[1] = 2109;
        v27 = WritePacket_(68, "bsw", 42, _Val.m_dwTime + 32, v36->m_pInit->m_nIndex);
        CSMap::SendPacketInRect(*(void **)(_Val.m_dwTime + 320), (int)v26, (int)v27, 38);
        CIOCriticalSection::Enter(v9);
        sub_430C20(&v11[1].m_critical_section.DebugInfo, (int)&v25);
        while ( 1 )
        {
          v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(
                                                                           &v11[1].m_critical_section.DebugInfo,
                                                                           (int)v14);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  &v25,
                  v5) )
            break;
          v24 = *(_DWORD *)sub_420010(&v25);
          if ( v24 != _Val.m_dwTime
            && (abs(*(_DWORD *)(v24 + 332) - 20284) < 1160 || abs(*(_DWORD *)(v24 + 336) - 67480) < 1212) )
          {
            CPlayer::Send(v27);
          }
          sub_420030((int *)&v25, &v15, 0);
        }
        CIOCriticalSection::Leave(v11);
        CIOBuffer::Release(v27);
      }
LABEL_9:
      v38 = (CIOObject *)CBaseList::Pop(v38);
    }
    a3 = (v36->m_nNum + v40 - 1) / v40;
    sub_430C20(&_Val.m_pObject, (int)&v34);
    while ( 1 )
    {
      v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(&_Val.m_pObject, (int)v18);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v34,
              v3) )
        break;
      _Val.m_dwTime = *(_DWORD *)sub_420010(&v34);
      item = (CItem *)CItem::CreateItem(31, 0, a3, -1);
      item->m_nFrom = 1;
      if ( sub_45DDC0((CIOCriticalSection *)_Val.m_dwTime, 25, (int)item) != 1 )
        CBase::Delete(item);
      sub_420030((int *)&v34, &v19, 0);
    }
LABEL_51:
    CBase::Delete(v36);
    goto LABEL_9;
  }
  while ( v38 )
  {
    v7 = (CItem *)unknown_libname_7(v38);
    CBase::Delete(v7);
    v38 = (CIOObject *)CBaseList::Pop(v38);
  }
LABEL_58:
  sub_44F580((std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *)&_Val.m_pObject);
}
// 44E9CF: variable 'v8' is possibly undefined
// 44ECB9: variable 'v9' is possibly undefined
// 44ECC8: variable 'v10' is possibly undefined
// 44EE6D: variable 'v11' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0044F000) --------------------------------------------------------
void __thiscall CParty::AllotTransformExp(_DWORD *this, int a2, _DWORD *a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  CIOCriticalSection *v5; // [esp+0h] [ebp-1Ch]
  CIOCriticalSection *v6; // [esp+0h] [ebp-1Ch]
  char v8[4]; // [esp+8h] [ebp-14h] BYREF
  int v9; // [esp+Ch] [ebp-10h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v10; // [esp+10h] [ebp-Ch] BYREF
  CMemory *a2a; // [esp+14h] [ebp-8h]
  CMemory *v12; // [esp+18h] [ebp-4h]

  CIOCriticalSection::Enter(v5);
  if ( sub_44FD40(a2, this[6]) >= 3 )
  {
    v12 = 0;
    sub_430C20(this + 8, (int)&v10);
    while ( 1 )
    {
      v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v8);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v10,
              v3) )
        break;
      a2a = *(CMemory **)sub_420010(&v10);
      if ( CChar::IsNormal((int)a2a) )
      {
        if ( sub_448870(&a2a[5]._lock.SpinCount, a3) <= 640 )
          v12 = (CMemory *)CBaseList::Push(v12, a2a);
      }
      sub_420030((int *)&v10, &v9, 0);
    }
    CIOCriticalSection::Leave(v6);
    while ( v12 )
    {
      v4 = unknown_libname_7(v12);
      (*(void (__thiscall **)(int, _DWORD))(*(_DWORD *)v4 + 188))(v4, 0);
      v12 = (CMemory *)CBaseList::Pop((CIOObject *)v12);
    }
  }
  else
  {
    CIOCriticalSection::Leave(v6);
  }
}
// 44F00F: variable 'v5' is possibly undefined
// 44F032: variable 'v6' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0044F110) --------------------------------------------------------
void __thiscall CParty::Healing(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // [esp-10h] [ebp-30h]
  int v8; // [esp-Ch] [ebp-2Ch]
  CIOCriticalSection *v9; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v10; // [esp+0h] [ebp-20h]
  int v11; // [esp+0h] [ebp-20h]
  int v12; // [esp+4h] [ebp-1Ch]
  char v14[4]; // [esp+Ch] [ebp-14h] BYREF
  int v15; // [esp+10h] [ebp-10h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v16; // [esp+14h] [ebp-Ch] BYREF
  CMemory *a2a; // [esp+18h] [ebp-8h]
  CMemory *v18; // [esp+1Ch] [ebp-4h]

  v18 = 0;
  a2a = 0;
  CIOCriticalSection::Enter(v9);
  sub_430C20(this + 8, (int)&v16);
  while ( 1 )
  {
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v14);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v16,
            v6) )
      break;
    a2a = *(CMemory **)sub_420010(&v16);
    if ( CChar::IsNormal((int)a2a) )
    {
      if ( sub_448870((_DWORD *)(a2 + 332), &a2a[5]._lock.SpinCount) <= 128 )
        v18 = (CMemory *)CBaseList::Push(v18, a2a);
    }
    sub_420030((int *)&v16, &v15, 0);
  }
  CIOCriticalSection::Leave(v10);
  while ( v18 )
  {
    a2a = (CMemory *)unknown_libname_7(v18);
    if ( a3 )
      v12 = a4 * CChar::GetMaxHP((CPlayer *)a2a) / 100;
    else
      v12 = a4;
    (*((void (__cdecl **)(CMemory *, int, int, int))a2a->_crtheap + 22))(a2a, 7, 1, v12);
    if ( a3 )
      v11 = a4 * CChar::GetMaxHP((CPlayer *)a2a) / 100;
    else
      v11 = a4;
    v8 = std::_Mpunct<wchar_t>::do_frac_digits(a2a);
    v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 10, "bbddww", a6, a5, v7, v8, v11, 0);
    v18 = (CMemory *)CBaseList::Pop((CIOObject *)v18);
  }
}
// 44F12D: variable 'v9' is possibly undefined
// 44F1C6: variable 'v10' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0044F290) --------------------------------------------------------
_DWORD *__thiscall CParty::Chant(void *this, _DWORD *a2, int *a3)
{
  int v3; // eax
  _DWORD *result; // eax
  _DWORD *v6; // [esp+4h] [ebp-8h]
  CMemory *i; // [esp+8h] [ebp-4h]

  for ( i = CParty::GetPlayerList((CIOCriticalSection *)this); i; i = (CMemory *)CBaseList::Pop((CIOObject *)i) )
  {
    v6 = (_DWORD *)unknown_libname_7(i);
    CChar::CancelBuff(v6, a3[1]);
    if ( v6 != a2 && v6[146] == a3[1] )
      v6[146] = 0;
    if ( a2[146] )
      CChar::CancelBuff(v6, a2[146]);
    if ( CChar::IsNormal((int)v6) )
    {
      if ( sub_448870(a2 + 83, v6 + 83) <= 64 )
      {
        v3 = (*(int (__thiscall **)(int *, void *))(*a3 + 20))(a3, this);
        (*(void (__thiscall **)(_DWORD *, int))(*v6 + 180))(v6, v3);
      }
    }
  }
  result = a2;
  a2[146] = a3[1];
  return result;
}
// 44F35A: variable 'this' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0044F390) --------------------------------------------------------
CMemory *__thiscall CParty::GetPlayerList(CIOCriticalSection *this)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-8h]
  CMemory *v3; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  v3 = CParty::_GetPlayerList(v2);
  CIOCriticalSection::Leave(v2);
  return v3;
}
// 44F3A7: variable 'v2' is possibly undefined

//----- (0044F3D0) --------------------------------------------------------
CMemory *__thiscall CParty::_GetPlayerList(_DWORD *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  CMemory **v2; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int v6; // [esp+8h] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+Ch] [ebp-8h] BYREF
  CMemory *v8; // [esp+10h] [ebp-4h]

  v8 = 0;
  sub_430C20(this + 8, (int)&v7);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v7,
            v1) )
      break;
    v2 = (CMemory **)sub_420010(&v7);
    v8 = (CMemory *)CBaseList::Push(v8, *v2);
    sub_420030((int *)&v7, &v6, 0);
  }
  return v8;
}

//----- (0044F440) --------------------------------------------------------
int __thiscall CParty::GetLuckySize(_DWORD *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int v3; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  _QWORD **v5; // eax
  CIOCriticalSection *v7; // [esp+0h] [ebp-34h]
  __int64 v8; // [esp+0h] [ebp-34h]
  char v10[4]; // [esp+14h] [ebp-20h] BYREF
  int v11; // [esp+18h] [ebp-1Ch] BYREF
  char v12[4]; // [esp+1Ch] [ebp-18h] BYREF
  int v13; // [esp+20h] [ebp-14h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v14; // [esp+24h] [ebp-10h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v15; // [esp+28h] [ebp-Ch] BYREF
  int a1; // [esp+2Ch] [ebp-8h]
  int v17; // [esp+30h] [ebp-4h]

  v17 = 0;
  CIOCriticalSection::Enter(v7);
  if ( a2 )
  {
    sub_430C20(this + 8, (int)&v15);
    while ( 1 )
    {
      v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v12);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v15,
              v2) )
        break;
      a1 = *(_DWORD *)sub_420010(&v15);
      if ( CChar::IsBState((_QWORD *)a1, 0x2000000i64) )
      {
        v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
        CChar::WriteInRect(a1, 73, 15, "db", v3, 21);
        ++v17;
      }
      sub_420030((int *)&v15, &v13, 0);
    }
  }
  else
  {
    sub_430C20(this + 8, (int)&v14);
    while ( 1 )
    {
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 8, (int)v10);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v14,
              v4) )
        break;
      v5 = (_QWORD **)sub_420010(&v14);
      v8 = CChar::IsBState(*v5, 0x2000000i64);
      if ( v8 )
        ++v17;
      sub_420030((int *)&v14, &v11, 0);
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v8);
  return v17;
}
// 44F456: variable 'v7' is possibly undefined
// 44F570: variable 'v8' is possibly undefined

//----- (0044F580) --------------------------------------------------------
std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *__thiscall sub_44F580(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this)
{
  return std::vector<std::list<std::pair<int const,CSocketMsg *>>::iterator,std::allocator<std::list<std::pair<int const,CSocketMsg *>>::iterator>>::_Tidy(this);
}

//----- (0044F5A0) --------------------------------------------------------
char **__thiscall std::vector<CControl *>::erase(char **this, char **a2, char *a3)
{
  std::copy<char *,char *>(a3 + 4, this[2], a3);
  sub_44F720((std::allocator<int> *)this, (int *)this[2] - 1, (int *)this[2]);
  this[2] -= 4;
  *a2 = a3;
  return a2;
}

//----- (0044F600) --------------------------------------------------------
int __thiscall sub_44F600(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472C30(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    (const int *)a1);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_44F810(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (0044F660) --------------------------------------------------------
int __thiscall std::vector<TSmartPointer<TriggerSystem::CEvent>>::capacity(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 2;
  else
    v2 = 0;
  return v2;
}

//----- (0044F6A0) --------------------------------------------------------
char __thiscall std::vector<TSmartPointer<TriggerSystem::CEvent>>::_Buy(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this, unsigned int _Capacity)
{
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  if ( !_Capacity )
    return 0;
  if ( sub_41CB60(this) >= _Capacity )
  {
    *((_DWORD *)this + 1) = sub_41CE40(_Capacity);
    *((_DWORD *)this + 2) = *((_DWORD *)this + 1);
    *((_DWORD *)this + 3) = *((_DWORD *)this + 1) + 4 * _Capacity;
  }
  else
  {
    std::vector<tagShowdownPaticipateInfo>::_Xran(this);
  }
  return 1;
}

//----- (0044F720) --------------------------------------------------------
int __thiscall sub_44F720(std::allocator<int> *this, int *a2, int *a3)
{
  return std::_Destroy_range<int>(a2, a3);
}

//----- (0044F750) --------------------------------------------------------
std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *__thiscall std::vector<std::list<std::pair<int const,CSocketMsg *>>::iterator,std::allocator<std::list<std::pair<int const,CSocketMsg *>>::iterator>>::_Tidy(std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *this)
{
  std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> > *result; // eax

  if ( *((_DWORD *)this + 1) )
  {
    sub_44F720(this, *((int **)this + 1), *((int **)this + 2));
    sub_4338F0(*((void **)this + 1), (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 2);
  }
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  result = this;
  *((_DWORD *)this + 3) = 0;
  return result;
}

//----- (0044F7C0) --------------------------------------------------------
void *__thiscall sub_44F7C0(void *this, char a2)
{
  std::_Init_locks::operator=(&a2);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (0044F7E0) --------------------------------------------------------
_DWORD *__thiscall sub_44F7E0(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *this;
  *a2 = *(_DWORD *)std::vector<TriggerSystem::CTrigger *>::iterator::operator+=(
                     (std::vector<std::list<std::pair<std::string const ,int>>::iterator,std::allocator<std::list<std::pair<std::string const ,int>>::iterator> >::iterator *)&v4,
                     a3);
  return a2;
}

//----- (0044F810) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_44F810(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_44F8D0(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0044F8B0) --------------------------------------------------------
int __thiscall sub_44F8B0(_DWORD *this)
{
  return sub_433930(this);
}

//----- (0044F8D0) --------------------------------------------------------
_DWORD *__thiscall sub_44F8D0(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_44F930(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0044F930) --------------------------------------------------------
int __stdcall sub_44F930(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_44F930(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0044F9B0) --------------------------------------------------------
_DWORD *__cdecl PutNumeric<int>(_DWORD *a1, int a2)
{
  *a1 = a2;
  return a1 + 1;
}

//----- (0044F9D0) --------------------------------------------------------
char *__cdecl std::copy<char *,char *>(char *_First, char *_Last, char *_Dest)
{
  unknown_libname_6(_First, _Dest);
  return std::_Uninit_copy<Patch *,Patch *>(_First, (int)_Last, _Dest);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0044FA10) --------------------------------------------------------
int __cdecl std::_Destroy_range<int>(int *_First, int *_Last)
{
  unknown_libname_6(_First, _Last);
  return _initp_misc_winxfltr();
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0044FA50) --------------------------------------------------------
unsigned int __cdecl std::_Uninitialized_fill_n<char *,unsigned int,char,std::allocator<char>>(char *_First, unsigned int _Count, const char *_Val)
{
  unknown_libname_6(_First, _First);
  return sub_41CF60((unsigned int *)_First, _Count, (const unsigned int *)_Val);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0044FA90) --------------------------------------------------------
unsigned int *__cdecl std::fill<HyperElement::CElement * *,HyperElement::CElement *>(unsigned int *_First, unsigned int *_Last, const unsigned int *_Val)
{
  unsigned int *result; // eax

  while ( _First != _Last )
  {
    *_First = *_Val;
    result = ++_First;
  }
  return result;
}

//----- (0044FAC0) --------------------------------------------------------
void *__cdecl sub_44FAC0(void *a1, int a2, int a3)
{
  unknown_libname_6(a1, a3);
  return std::_Copy_backward_opt<CControl * *,CControl * *>(a1, a2, a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0044FB00) --------------------------------------------------------
CMemory **__cdecl sub_44FB00(int a1)
{
  return sub_401000(4 * a1);
}

//----- (0044FB20) --------------------------------------------------------
char *__cdecl std::_Uninitialized_copy<Patch * *,Patch * *,std::allocator<Patch *>>(unsigned int *_First, unsigned int *_Last, unsigned int *_Dest)
{
  unknown_libname_6(_First, _Dest);
  return std::_Uninit_copy<Patch *,Patch *>(_First, (int)_Last, _Dest);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0044FB60) --------------------------------------------------------
unsigned int __cdecl std::fill_n<TriggerSystem::CTrigger * *,unsigned int,TriggerSystem::CTrigger *>(unsigned int *_First, unsigned int _Count, const unsigned int *_Val)
{
  unsigned int result; // eax

  while ( _Count )
  {
    *_First = *_Val;
    result = --_Count;
    ++_First;
  }
  return result;
}

//----- (0044FB90) --------------------------------------------------------
void *__thiscall sub_44FB90(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0044FBC0) --------------------------------------------------------
void *__thiscall std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const,std::string>>,0>>::_Tidy(void *this, int a2, char a3)
{
  void *v4; // [esp+0h] [ebp-4h]

  v4 = this;
  LOBYTE(this) = *(_BYTE *)a2;
  std::_Init_locks::operator=(this);
  std::_Init_locks::operator=(&a3);
  return v4;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (0044FBF0) --------------------------------------------------------
int __thiscall sub_44FBF0(void *this)
{
  return sub_44FC10(this);
}

//----- (0044FC10) --------------------------------------------------------
int __thiscall sub_44FC10(void *this)
{
  return sub_44FC30((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0044FC30) --------------------------------------------------------
int __thiscall sub_44FC30(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_44F810(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0044FCE0) --------------------------------------------------------
char *WritePacket_(BYTE byType, const char *format, ...)
{
  CIOBuffer *v3; // [esp+0h] [ebp-10h]

  v3 = CIOBuffer::Alloc();
  v3->m_buffer[2] = byType;
  *(_WORD *)v3->m_buffer = (unsigned __int16)WritePacket(&v3->m_buffer[3], (int)&format) - (_WORD)v3;
  v3->m_dwSize = *(unsigned __int16 *)v3->m_buffer;
  return v3->m_buffer;
}

//----- (0044FD40) --------------------------------------------------------
int __cdecl sub_44FD40(int a1, int a2)
{
  int result; // eax
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  v5 = a1 - a2;
  if ( a1 - a2 < 0 )
  {
    if ( abs(v5) >= 20 )
      v3 = 20;
    else
      v3 = abs(v5);
    result = dword_4E2F18[21 * ((a2 - 1) / 10) + v3];
  }
  else
  {
    if ( v5 >= 20 )
      v4 = 20;
    else
      v4 = a1 - a2;
    result = dword_4E3260[21 * ((a2 - 1) / 10) + v4];
  }
  return result;
}

//----- (0044FDD0) --------------------------------------------------------
void __thiscall CPlayerObject::OnTimer(CIOObject *this, CIOCriticalSection *a2)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v4; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v5; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v6; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v7; // [esp+0h] [ebp-20h]
  CIOCriticalSection *v8; // [esp+0h] [ebp-20h]
  int v10; // [esp+8h] [ebp-18h]
  CLink *v11; // [esp+Ch] [ebp-14h]
  volatile int *a1; // [esp+10h] [ebp-10h]
  CLink *v13; // [esp+14h] [ebp-Ch]
  DWORD v14; // [esp+18h] [ebp-8h]
  DWORD v15; // [esp+1Ch] [ebp-4h]

  if ( a2 )
  {
    if ( a2 == (CIOCriticalSection *)1 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)1);
      CIOCriticalSection::Enter(v6);
      CLink::MoveTo(&unk_4E200C, &pTo);
      CIOCriticalSection::Leave(v7);
      v11 = pTo.m_pNext;
      while ( v11 != &pTo )
      {
        v10 = (int)&v11[-54].m_pPrev;
        v11 = v11->m_pNext;
        CPlayer::Tick(v10);
      }
      CIOCriticalSection::Leave(v8);
      CIOObject::AddTimer(this, 0x3E8u, 1);
    }
  }
  else
  {
    v15 = GetTickCount();
    do
    {
      v14 = v15 + 30;
      CIOCriticalSection::Enter(a2);
      CIOCriticalSection::Enter(v3);
      CLink::MoveTo(&unk_4E200C, &pTo);
      CIOCriticalSection::Leave(v4);
      v13 = pTo.m_pNext;
      while ( v13 != &pTo )
      {
        a1 = (volatile int *)&v13[-54].m_pPrev;
        v13 = v13->m_pNext;
        CPlayer::AI((void *)a1);
      }
      CIOCriticalSection::Leave(v5);
      v15 = GetTickCount();
    }
    while ( v14 <= v15 );
    CIOObject::AddTimer(this, v14 - v15, 0);
  }
}
// 44FE18: variable 'a2' is possibly undefined
// 44FE22: variable 'v3' is possibly undefined
// 44FE3B: variable 'v4' is possibly undefined
// 44FE74: variable 'v5' is possibly undefined
// 44FEB3: variable 'v6' is possibly undefined
// 44FECC: variable 'v7' is possibly undefined
// 44FF05: variable 'v8' is possibly undefined

//----- (0044FF20) --------------------------------------------------------
CPlayer *__thiscall CPlayer::CPlayer(CPlayer *this, int a2, int a3, int a4)
{
  CChar::CChar(this);
  this->__vftable = (CPlayer_vtbl *)&off_4BA660;
  sub_47F450(&this->m_skill.m_pOwner);
  CIOCriticalSection::CIOCriticalSection(&this->m_lockItem);
  sub_4706F0(&this->m_mapItem);
  sub_4707A0(&this->m_vecTrade);
  sub_470840(&this->m_mapStorage);
  sub_470AA0(&this->m_mapStall);
  CIOCriticalSection::CIOCriticalSection(&this->m_lockQuest);
  sub_471580(&this->m_mapMyQuest);
  CIOCriticalSection::CIOCriticalSection(&this->m_lockMlm);
  sub_4718D0(&this->m_mapFrd);
  CIOCriticalSection::CIOCriticalSection(&this->m_lockFrd);
  CIOCriticalSection::CIOCriticalSection(&this->m_lockMail);
  sub_471980(&this->m_mapMail);
  sub_471CD0(&this->m_mapTelPt);
  CIOCriticalSection::CIOCriticalSection(&this->m_lockGamble);
  this->m_nSocketRef = 0;
  this->m_nPartyRef = 0;
  this->m_dwAttr = 1;
  sub_4010D0(a2);
  this->m_pSocket = (CSocket *)a2;
  this->m_nUID = a3;
  this->m_nPID = a4;
  this->m_nAdmin = 0;
  this->m_nClass = 0;
  this->m_dwSpecialty = 0;
  this->m_nContribute = 0;
  this->m_nExp = 0i64;
  this->m_nGID = 0;
  this->m_pGuild = 0;
  this->m_nGuildLevel = 0;
  memset(this->m_szGuildName, 0, sizeof(this->m_szGuildName));
  this->m_nStandard = 0;
  this->m_nGuildClass = 0;
  memset(this->m_szGuildClassTitle, 0, sizeof(this->m_szGuildClassTitle));
  this->m_nGRole = 0;
  this->m_nMoney = 0;
  this->m_nPUPoint = 0;
  this->m_nSUPoint = 0;
  this->m_nKilled = 0;
  this->m_nFace = 0;
  this->m_nHair = 0;
  this->m_dwWearState = 0;
  this->m_dwEState = 0;
  this->m_nRvId = 0;
  this->m_nRestPoint = 0;
  this->m_nRage = 0;
  this->m_nChantBuff = 0;
  this->m_nRevivalHP = 0;
  this->m_nRevivalMP = 0;
  this->m_nUpgrLevel = 0;
  this->m_nCAttack = 0;
  this->m_nCMagic = 0;
  this->m_nWMinAttack = 0;
  this->m_nWMaxAttack = 0;
  this->m_nWMinMagic = 0;
  this->m_nWMaxMagic = 0;
  this->m_nParty = 0;
  memset(this->m_wWearItem, 0, sizeof(this->m_wWearItem));
  this->m_pMoney = 0;
  this->m_pTrade = 0;
  this->m_nQuestItem = 0;
  this->m_pTransform = 0;
  this->m_nTFlag = 0;
  this->m_pStandard = 0;
  this->m_nStBuff = -1;
  this->m_bMailSend = 0;
  memset(this->m_szStall, 0, sizeof(this->m_szStall));
  this->m_nStall = 0;
  this->m_dwAutoSave = 0;
  this->m_dwNextAutoRefreshLevelMP = GetTickCount();
  this->m_dwNextAutoRefreshLevelHP = this->m_dwNextAutoRefreshLevelMP;
  this->m_dwNextAction = this->m_dwNextAutoRefreshLevelHP;
  this->m_dwNextAutoRefresh = this->m_dwNextAction;
  this->m_dwNextRefresh = this->m_dwNextAutoRefresh;
  this->m_dwNextMsg = this->m_dwNextRefresh;
  this->m_dwNextDecRage = this->m_dwNextMsg;
  this->m_dwLastDamage = 0;
  this->m_dwQuestJobTick = 0;
  this->m_dwNextQuest = GetTickCount() + 1800000;
  this->m_nTeleMap = 0;
  this->m_ptTelePixel.y = -1;
  this->m_ptTelePixel.x = -1;
  this->m_nPvPId = 0;
  this->m_pOppo = 0;
  this->m_dwPvP = 0;
  this->m_nQuestJob = 0;
  this->m_pEventHead = 0;
  this->m_pTopMlm = 0;
  this->m_nMlmMoney = 0;
  this->m_nMlmFee = 0;
  this->m_bOverFee = 0;
  this->m_nSiegeGun = 0;
  this->m_nNPC = 0;
  CPlayer::InitGambleInfo(this);
  return this;
}
// 4BA660: using guessed type int (__stdcall *off_4BA660)(int);

//----- (00450460) --------------------------------------------------------
void __stdcall sub_450460(void *a1)
{
  CPlayer::Send(a1);
}

//----- (00450480) --------------------------------------------------------
void __thiscall CPlayer::SendMove(void *this, void *a2, void *Src)
{
  if ( this != a2 )
    CPlayer::Send(Src);
}

//----- (004504B0) --------------------------------------------------------
_DWORD *__thiscall CPlayer::InitGambleInfo(_DWORD *this)
{
  _DWORD *result; // eax

  memset(this + 381, -1, 0x60u);
  this[405] = 0;
  memset(this + 406, -1, 8u);
  result = this;
  this[408] = 0;
  return result;
}

//----- (00450500) --------------------------------------------------------
void *__thiscall sub_450500(void *this, char a2)
{
  CPlayer::_CPlayer((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00450530) --------------------------------------------------------
void __thiscall CPlayer::_CPlayer(int a1)
{
  *(_DWORD *)a1 = &off_4BA660;
  CPlayer::EventRemoveAll((_DWORD *)a1);
  CPlayer::MLMDeleteAll((CIOCriticalSection *)a1);
  if ( *(_DWORD *)(a1 + 1676) )
    sub_401DE0(*(int **)(a1 + 1676));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1644));
  sub_450710((void *)(a1 + 1500));
  sub_4506F0((void *)(a1 + 1428));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1396));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1364));
  sub_4506D0((void *)(a1 + 1352));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1308));
  sub_4506B0((void *)(a1 + 1256));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1224));
  sub_450690((void *)(a1 + 1140));
  sub_450670((void *)(a1 + 1128));
  sub_445BF0((std::vector<IPAddrMask> *)(a1 + 1080));
  sub_450650((void *)(a1 + 1068));
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)(a1 + 1020));
  CPlayerSkill::_CPlayerSkill((_DWORD *)(a1 + 624));
  CChar::_CChar((void *)a1);
}
// 4BA660: using guessed type int (__stdcall *off_4BA660)(int);

//----- (00450650) --------------------------------------------------------
int __thiscall sub_450650(void *this)
{
  return sub_470720(this);
}

//----- (00450670) --------------------------------------------------------
int __thiscall sub_450670(void *this)
{
  return sub_470870(this);
}

//----- (00450690) --------------------------------------------------------
int __thiscall sub_450690(void *this)
{
  return sub_470AD0(this);
}

//----- (004506B0) --------------------------------------------------------
int __thiscall sub_4506B0(void *this)
{
  return sub_4715B0(this);
}

//----- (004506D0) --------------------------------------------------------
int __thiscall sub_4506D0(void *this)
{
  return sub_471900(this);
}

//----- (004506F0) --------------------------------------------------------
int __thiscall sub_4506F0(void *this)
{
  return sub_4719B0(this);
}

//----- (00450710) --------------------------------------------------------
int __thiscall sub_450710(void *this)
{
  return sub_471D00(this);
}

//----- (00450730) --------------------------------------------------------
void __cdecl CPlayer::Start()
{
  int i; // [esp+0h] [ebp-4h]

  for ( i = 0; i < 2; ++i )
    sub_438A60((_DWORD *)(8 * i + 5120004));
  dword_4E2000 = 0;
  dword_4E1FF0 = 60;
  CIOObject::AddTimer(&unk_4E20F4, 0x3E8u, 1);
}
// 4E1FF0: using guessed type int dword_4E1FF0;

//----- (00450790) --------------------------------------------------------
CIOObject *__cdecl sub_450790(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-Ch] BYREF
  CIOObject *v4; // [esp+4h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v5; // [esp+8h] [ebp-4h] BYREF

  v4 = 0;
  CRWLock::ReadLock(&unk_4E202C);
  sub_44AE20(dword_4E2068, &v5, &a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E2068, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v5,
         v1) )
  {
    v4 = *(CIOObject **)(sub_420250(&v5) + 4);
    CIOObject::AddRef(v4, (volatile int *)&v4[22]);
  }
  CRWLock::ReadUnlock(&unk_4E202C);
  return v4;
}

//----- (00450810) --------------------------------------------------------
CIOObject *__cdecl CPlayer::FindPlayer_(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  int v4; // [esp+4h] [ebp-Ch] BYREF
  CIOObject *v5; // [esp+8h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+Ch] [ebp-4h] BYREF

  v5 = 0;
  CRWLock::ReadLock(&unk_4E202C);
  v4 = a1;
  sub_44AE20(dword_4E2020, &v6, &v4);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E2020, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v6,
         v1) )
  {
    v5 = *(CIOObject **)(sub_420250(&v6) + 4);
    CIOObject::AddRef(v5, (volatile int *)&v5[22]);
  }
  CRWLock::ReadUnlock(&unk_4E202C);
  return v5;
}

//----- (00450890) --------------------------------------------------------
CIOObject *__cdecl sub_450890(char *a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-Ch] BYREF
  CIOObject *v4; // [esp+4h] [ebp-8h]
  char v5[4]; // [esp+8h] [ebp-4h] BYREF

  v4 = 0;
  CRWLock::ReadLock(&unk_4E2050);
  sub_470660((iless *)dword_4E2044, v5, (const char **)&a1);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E2044, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v5,
         v1) )
  {
    v4 = *(CIOObject **)(sub_420250(v5) + 4);
    CIOObject::AddRef(v4, (volatile int *)&v4[22]);
  }
  CRWLock::ReadUnlock(&unk_4E2050);
  return v4;
}

//----- (00450910) --------------------------------------------------------
void CPlayer::WriteAll(char a1, ...)
{
  CIOCriticalSection *v1; // [esp-8h] [ebp-20h]
  CIOCriticalSection *v2; // [esp-8h] [ebp-20h]
  CIOCriticalSection *v3; // [esp-8h] [ebp-20h]
  CIOCriticalSection *v4; // [esp-8h] [ebp-20h]
  CLink *i; // [esp+4h] [ebp-14h]
  CIOBuffer *Src; // [esp+14h] [ebp-4h]
  va_list va; // [esp+24h] [ebp+Ch] BYREF

  va_start(va, a1);
  Src = CIOBuffer::Alloc();
  Src->m_buffer[2] = a1;
  *(_WORD *)Src->m_buffer = (unsigned __int16)WritePacket(&Src->m_buffer[3], (int)va) - (_WORD)Src;
  Src->m_dwSize = *(unsigned __int16 *)Src->m_buffer;
  CIOCriticalSection::Enter(v1);
  CIOCriticalSection::Enter(v2);
  CLink::MoveTo(&unk_4E200C, &pTo);
  CIOCriticalSection::Leave(v3);
  for ( i = pTo.m_pNext; i != &pTo; i = i->m_pNext )
    CPlayer::Send(Src);
  CIOCriticalSection::Leave(v4);
  CIOBuffer::Release(Src);
}
// 45096D: variable 'v1' is possibly undefined
// 450977: variable 'v2' is possibly undefined
// 450990: variable 'v3' is possibly undefined
// 4509D0: variable 'v4' is possibly undefined

//----- (004509F0) --------------------------------------------------------
void CPlayer::WriteInMap(int a1, char a2, ...)
{
  CIOCriticalSection *v2; // [esp-8h] [ebp-20h]
  CIOCriticalSection *v3; // [esp-8h] [ebp-20h]
  CIOCriticalSection *v4; // [esp-8h] [ebp-20h]
  CIOCriticalSection *v5; // [esp-8h] [ebp-20h]
  CLink *i; // [esp+4h] [ebp-14h]
  CIOBuffer *Src; // [esp+14h] [ebp-4h]
  va_list va; // [esp+28h] [ebp+10h] BYREF

  va_start(va, a2);
  Src = CIOBuffer::Alloc();
  Src->m_buffer[2] = a2;
  *(_WORD *)Src->m_buffer = (unsigned __int16)WritePacket(&Src->m_buffer[3], (int)va) - (_WORD)Src;
  Src->m_dwSize = *(unsigned __int16 *)Src->m_buffer;
  CIOCriticalSection::Enter(v2);
  CIOCriticalSection::Enter(v3);
  CLink::MoveTo(&unk_4E200C, &pTo);
  CIOCriticalSection::Leave(v4);
  for ( i = pTo.m_pNext; i != &pTo; i = i->m_pNext )
  {
    if ( i[-14].m_pNext == (CLink *)a1 )
      CPlayer::Send(Src);
  }
  CIOCriticalSection::Leave(v5);
  CIOBuffer::Release(Src);
}
// 450A4D: variable 'v2' is possibly undefined
// 450A57: variable 'v3' is possibly undefined
// 450A70: variable 'v4' is possibly undefined
// 450ABE: variable 'v5' is possibly undefined

//----- (00450AD0) --------------------------------------------------------
void __cdecl CPlayer::LogPlayerStatistic()
{
  CIOCriticalSection *v0; // [esp+0h] [ebp-11Ch]
  CIOCriticalSection *v1; // [esp+0h] [ebp-11Ch]
  CIOCriticalSection *v2; // [esp+0h] [ebp-11Ch]
  CIOCriticalSection *v3; // [esp+0h] [ebp-11Ch]
  int j; // [esp+4h] [ebp-118h]
  int v5; // [esp+8h] [ebp-114h]
  CLink **v6; // [esp+Ch] [ebp-110h]
  CLink *i; // [esp+10h] [ebp-10Ch]
  int v8; // [esp+14h] [ebp-108h] BYREF
  _BYTE v9[260]; // [esp+18h] [ebp-104h] BYREF

  v8 = 0;
  memset(v9, 0, sizeof(v9));
  CIOCriticalSection::Enter(v0);
  CIOCriticalSection::Enter(v1);
  CLink::MoveTo(&unk_4E200C, &pTo);
  CIOCriticalSection::Leave(v2);
  for ( i = pTo.m_pNext; i != &pTo; i = i->m_pNext )
  {
    v6 = &i[-54].m_pPrev;
    if ( (int)i[-46].m_pNext <= 100 )
    {
      v5 = ((int)&v6[15][-1].m_pPrev + 3) / 10;
      ++*(&v8 + 6 * v5 + (_DWORD)v6[115]);
      ++*(_DWORD *)&v9[24 * v5 + 8];
      if ( sub_40B310(v6, 32) )
        ++*(_DWORD *)&v9[24 * v5 + 12];
      if ( sub_40B310(v6, 16) )
        ++*(_DWORD *)&v9[24 * v5 + 16];
    }
  }
  CIOCriticalSection::Leave(v3);
  for ( j = 0; j < 10; ++j )
  {
    LOG_NORMAL(
      "##%02d ~ %02d : %d %d %d : %d",
      10 * j + 1,
      10 * j + 10,
      *(&v8 + 6 * j),
      *(_DWORD *)&v9[24 * j],
      *(_DWORD *)&v9[24 * j + 4],
      *(_DWORD *)&v9[24 * j + 8]);
    LOG_NORMAL(
      "@@%02d ~ %02d : %d %d",
      10 * j + 1,
      10 * j + 10,
      *(_DWORD *)&v9[24 * j + 12],
      *(_DWORD *)&v9[24 * j + 16]);
    *(_DWORD *)&v9[236] += *(&v8 + 6 * j);
    *(_DWORD *)&v9[240] += *(_DWORD *)&v9[24 * j];
    *(_DWORD *)&v9[244] += *(_DWORD *)&v9[24 * j + 4];
    *(_DWORD *)&v9[248] += *(_DWORD *)&v9[24 * j + 8];
    *(_DWORD *)&v9[252] += *(_DWORD *)&v9[24 * j + 12];
    *(_DWORD *)&v9[256] += *(_DWORD *)&v9[24 * j + 16];
  }
  LOG_NORMAL(
    "##Total Sum : %d %d %d : %d",
    *(_DWORD *)&v9[236],
    *(_DWORD *)&v9[240],
    *(_DWORD *)&v9[244],
    *(_DWORD *)&v9[248]);
  LOG_NORMAL("@@Total Sum : %d %d", *(_DWORD *)&v9[252], *(_DWORD *)&v9[256]);
  LOG_NORMAL("$$Currency Increment : %d", dword_4E2014);
  CDBSocket::Write(
    74,
    "ddddddd",
    *(_DWORD *)&v9[236],
    *(_DWORD *)&v9[240],
    *(_DWORD *)&v9[244],
    *(_DWORD *)&v9[248],
    *(_DWORD *)&v9[252],
    *(_DWORD *)&v9[256],
    dword_4E2014);
}
// 450AF8: variable 'v0' is possibly undefined
// 450B02: variable 'v1' is possibly undefined
// 450B1B: variable 'v2' is possibly undefined
// 450C5C: variable 'v3' is possibly undefined

//----- (00450E40) --------------------------------------------------------
void (__thiscall ***__thiscall sub_450E40(void (__thiscall ***this)(void *, int)))(void *, int)
{
  return (void (__thiscall ***)(void *, int))CBase::OnFree((int)this);
}

//----- (00450E60) --------------------------------------------------------
void __thiscall CPlayer::OnDelete(int a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  _DWORD *v2; // eax
  CBuffMoveSpeed *v3; // [esp-Ch] [ebp-58h]
  CBuffMoveSpeed *v4; // [esp-8h] [ebp-54h]
  int v5; // [esp-8h] [ebp-54h]
  CBuffMoveSpeed *v6; // [esp-4h] [ebp-50h]
  int v7; // [esp-4h] [ebp-50h]
  CIOCriticalSection *v8; // [esp+0h] [ebp-4Ch]
  CItem *v9; // [esp+0h] [ebp-4Ch]
  int v10; // [esp+4h] [ebp-48h]
  int v12; // [esp+Ch] [ebp-40h] BYREF
  char v13[4]; // [esp+10h] [ebp-3Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v14; // [esp+14h] [ebp-38h] BYREF
  int v15[7]; // [esp+18h] [ebp-34h] BYREF
  volatile int *a2; // [esp+34h] [ebp-18h]
  _DWORD *a1a; // [esp+38h] [ebp-14h]
  int v18; // [esp+3Ch] [ebp-10h]
  CIOObject *v19; // [esp+40h] [ebp-Ch]
  CPlayer *player; // [esp+44h] [ebp-8h]
  CItem *item; // [esp+48h] [ebp-4h]

  sub_412E90((CIOCriticalSection *)a1);
  if ( !sub_451330((_DWORD *)a1, 3) )
    goto LABEL_39;
  item = *(CItem **)(a1 + 1100);
  if ( item )
  {
    sub_4010D0((int)item);
    sub_412EB0((CIOCriticalSection *)a1);
    CBase::Delete(item);
    sub_401DE0((int *)item);
    sub_412E90((CIOCriticalSection *)a1);
  }
  v19 = *(CIOObject **)(a1 + 484);
  if ( v19 )
  {
    CIOObject::AddRef(v19, &v19[2].m_nTimerRef);
    sub_412EB0((CIOCriticalSection *)a1);
    CGuild::Logout((int)v19, a1);
    CIOObject::Release(v19, &v19[2].m_nTimerRef);
    sub_412E90((CIOCriticalSection *)a1);
  }
  v18 = *(_DWORD *)(a1 + 1016);
  if ( v18 )
  {
    *(_DWORD *)(a1 + 1016) = 0;
    a1a = sub_44D4E0(v18);
    if ( a1a )
    {
      CParty::Leave(a1a, a1);
      sub_401DE0(a1a);
    }
  }
  if ( sub_40B310((_DWORD *)a1, 128) )
  {
    a2 = *(volatile int **)(a1 + 1516);
    if ( !a2 )
      EBREAK(a1);
    CPlayer::EndPvP(a1, a2, 3, 2, 6);
    goto LABEL_33;
  }
  if ( !sub_44A510((_DWORD *)a1, 16) && sub_40B310((_DWORD *)a1, 2) )
  {
    if ( !sub_44A510((_DWORD *)a1, 256) )
    {
      v6 = CBuff::CreateBuff(65, 600, (int)v8, v10);
      (*(void (__thiscall **)(int))(*(_DWORD *)a1 + 180))(a1);
      if ( sub_44A510((_DWORD *)a1, 32) )
      {
        v4 = CBuff::CreateBuff(66, 600, (int)v6, (int)v8);
        (*(void (__thiscall **)(int))(*(_DWORD *)a1 + 180))(a1);
      }
      else if ( sub_44A510((_DWORD *)a1, 64) )
      {
        v4 = CBuff::CreateBuff(67, 600, (int)v6, (int)v8);
        (*(void (__thiscall **)(int))(*(_DWORD *)a1 + 180))(a1);
      }
      if ( sub_44A510((_DWORD *)a1, 128) )
      {
        v3 = CBuff::CreateBuff(68, 600, (int)v4, (int)v6);
        (*(void (__thiscall **)(int, CBuffMoveSpeed *, int, int))(*(_DWORD *)a1 + 180))(a1, v3, v5, v7);
      }
      goto LABEL_33;
    }
    *(_DWORD *)(a1 + 272) = CChar::GetMaxHP((CPlayer *)a1);
    qmemcpy(v15, (char *)&unk_4D77C8 + 28 * *(_DWORD *)(a1 + 572), sizeof(v15));
    if ( v15[5] )
    {
      sub_412EB0((CIOCriticalSection *)a1);
      if ( sub_417450() )
      {
        if ( !CCastle::IsGateAlive(v15[4], v15[5]) && CPlayer::IsDefenseSide((CIOCriticalSection *)a1, v15[4]) )
        {
          *(_DWORD *)(a1 + 572) = v15[6];
          qmemcpy(v15, (char *)&unk_4D77C8 + 28 * *(_DWORD *)(a1 + 572), sizeof(v15));
        }
        goto LABEL_25;
      }
    }
    else
    {
      if ( !v15[4] )
      {
LABEL_26:
        *(_DWORD *)(a1 + 316) = v15[0];
        *(_DWORD *)(a1 + 332) = v15[1];
        *(_DWORD *)(a1 + 336) = v15[2];
        *(_DWORD *)(a1 + 340) = v15[3];
        CPlayer::SubEState((_DWORD *)a1, 256);
        goto LABEL_33;
      }
      sub_412EB0((CIOCriticalSection *)a1);
      if ( CPlayer::IsDefenseSide((CIOCriticalSection *)a1, v15[4]) )
      {
LABEL_25:
        sub_412E90((CIOCriticalSection *)a1);
        goto LABEL_26;
      }
    }
    *(_DWORD *)(a1 + 572) = 0;
    qmemcpy(v15, (char *)&unk_4D77C8 + 28 * *(_DWORD *)(a1 + 572), sizeof(v15));
    goto LABEL_25;
  }
LABEL_33:
  CPlayer::SaveAllProperty(a1, 0);
  CPlayer::EventSaveDB((_DWORD *)a1);
  CChar::SaveAllBuff((CIOCriticalSection *)a1);
  CIOCriticalSection::Enter(v8);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 1068),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v14);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(a1 + 1068), (int)v13);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v14,
            v1) )
      break;
    v2 = sub_446090((int *)&v14, &v12, 0);
    player = *(CPlayer **)(sub_420250(v2) + 4);
    CPlayer::_OutofInven(player, v9);
    CBase::Delete((CItem *)player);
  }
  *(_DWORD *)(a1 + 1096) = 0;
  CIOCriticalSection::Leave((CIOCriticalSection *)v9);
  if ( !sub_4913E0(a1, a1 + 324) )
  {
    sub_4010D0(a1);
    LOG_ERR(
      "CPlayer::OnDelete() Removal of point from Map is failed. (%d %d) (PID: %d, UID: %d)",
      *(_DWORD *)(a1 + 324),
      *(_DWORD *)(a1 + 328),
      *(_DWORD *)(a1 + 452),
      *(_DWORD *)(a1 + 448));
  }
  CChar::WriteInSight(a1, 55, "d", *(_DWORD *)(a1 + 28));
LABEL_39:
  if ( sub_451330((_DWORD *)a1, 2) )
    CPlayer::Remove(a1);
  sub_496CD0((volatile signed __int32 *)(a1 + 20), 4u);
  sub_412EB0((CIOCriticalSection *)a1);
  sub_402180(a1);
}
// 451129: variable 'v8' is possibly undefined
// 451129: variable 'v10' is possibly undefined
// 4511B2: variable 'v4' is possibly undefined
// 4511B2: variable 'v6' is possibly undefined
// 4511C3: variable 'v5' is possibly undefined
// 4511C3: variable 'v7' is possibly undefined
// 451247: variable 'v9' is possibly undefined

//----- (00451330) --------------------------------------------------------
int __thiscall sub_451330(_DWORD *this, char a2)
{
  return this[5] & (1 << a2);
}

//----- (00451350) --------------------------------------------------------
void __thiscall CPlayer::SendDelete(_DWORD *this, int a2, void *Src)
{
  CPlayer::Send(Src);
  CPlayer::Write(a2, 55, "d", this[7]);
}

//----- (00451390) --------------------------------------------------------
void __thiscall CPlayer::SendCreate(_DWORD *this, _DWORD *a2, void *Src)
{
  int *v3; // [esp-14h] [ebp-1Ch]
  int *v4; // [esp-10h] [ebp-18h]
  int v5; // [esp-Ch] [ebp-14h]
  int v6; // [esp-Ch] [ebp-14h]
  int v7; // [esp-8h] [ebp-10h]
  int v8; // [esp-4h] [ebp-Ch]
  int v9; // [esp-4h] [ebp-Ch]

  if ( this != a2 )
  {
    CPlayer::Send(Src);
    if ( a2[65] )
    {
      v8 = a2[65];
      v5 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      CPlayer::Write((int)this, 72, "dbw", v5, 32, v8);
    }
    v9 = this[128];
    v7 = this[278];
    v6 = this[120];
    v4 = CPlayer::GetGuildName(this);
    v3 = CPlayer::GetGuildClassTitle(this);
    CPlayer::Write(
      (int)a2,
      50,
      "dsbdddwdmbbIssdbd",
      this[7],
      this + 8,
      this[115],
      this[83],
      this[84],
      this[85],
      this[87],
      this[70],
      this + 263,
      14,
      this[139],
      this[140],
      this[72],
      this[73],
      v3,
      v4,
      v6,
      v7,
      v9);
    if ( this[65] )
      CPlayer::Write((int)a2, 72, "dbw", this[7], 32, this[65]);
  }
}

//----- (004514F0) --------------------------------------------------------
void __thiscall CPlayer::AI(void *a1)
{
  if ( sub_40B2F0(a1) )
  {
    CLink::Remove((CLink *)((char *)a1 + 428));
    CIOObject::Release((CIOObject *)a1, (volatile int *)a1 + 2);
  }
}

//----- (00451530) --------------------------------------------------------
int __thiscall CPlayer::Damage(CIOCriticalSection *a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax
  int v8; // eax
  void *v9; // [esp+18h] [ebp-84h]
  void *v10; // [esp+1Ch] [ebp-80h]
  unsigned int v11; // [esp+30h] [ebp-6Ch]
  int v12; // [esp+34h] [ebp-68h]
  unsigned int v13; // [esp+38h] [ebp-64h]
  int v14; // [esp+3Ch] [ebp-60h]
  int v15; // [esp+68h] [ebp-34h]
  int v16; // [esp+6Ch] [ebp-30h]
  volatile int *a2a; // [esp+7Ch] [ebp-20h]
  CIOCriticalSection *v19; // [esp+80h] [ebp-1Ch]
  CItem *item; // [esp+84h] [ebp-18h]
  signed int v21; // [esp+88h] [ebp-14h]
  int v22; // [esp+94h] [ebp-8h]

  if ( CChar::IsMState(a1, 0x4000000i64) )
  {
    *(_DWORD *)a6 = 0;
    *(_DWORD *)a4 = 0;
    result = 0;
  }
  else
  {
    if ( a7 )
      v16 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 52))(a7);
    else
      v16 = 1;
    if ( a7 )
      v15 = (*(int (__thiscall **)(int))(*(_DWORD *)a7 + 28))(a7);
    else
      v15 = 0;
    v22 = CChar::GetFinalDamage(a1, (_DWORD *)a2, a3, v16);
    if ( v22 > 0 )
    {
      if ( CChar::IsMState(a1, 512i64) )
        CChar::CancelBuff(a1, 8);
      if ( CChar::IsMState(a1, 0x10000000i64) )
        CChar::CancelBuff(a1, 26);
      if ( CChar::IsMState(a1, 0x8000i64) && (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 156))(a2) == 1 )
      {
        CChar::CancelBuff(a1, 14);
        *(_DWORD *)a6 = 0;
        *(_DWORD *)a4 = 0;
        result = 0;
      }
      else if ( CChar::IsBState(a1, 0x10000i64) && RandomBetween(1, 100) <= 10 )
      {
        CChar::UpdateBuff(a1, 58);
        *(_DWORD *)a6 = 0;
        *(_DWORD *)a4 = 0;
        result = 0;
      }
      else
      {
        sub_412E90(a1);
        if ( CChar::IsNormal((int)a1) )
        {
          a1[45].m_dwEIP[0] = GetTickCount();
          if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2)
            && sub_40B310((_DWORD *)a2, 256)
            && *(int *)(a2 + 536) < 3 )
          {
            *(_DWORD *)(a2 + 536) = 3;
          }
          if ( CChar::IsMState(a1, 0x1000000i64) )
          {
            *(_DWORD *)a4 = a3;
          }
          else
          {
            if ( a7 && v16 )
              v14 = v22 >> 1;
            else
              v14 = v22;
            *(_DWORD *)a4 = v22 + CChar::GetFatalDamage(a2, v14, (_DWORD *)a5, v15);
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) && !*(_DWORD *)(a2 + 460) )
            {
              *(_DWORD *)a4 += 30 * *(_DWORD *)a4 / 100;
              v21 = *(_DWORD *)(a2 + 60) - a1[1].m_dwEIP[1];
              if ( v21 < 0 )
              {
                if ( (signed int)(a1[1].m_dwEIP[1] - *(_DWORD *)(a2 + 60)) <= 10 )
                  v11 = a1[1].m_dwEIP[1] - *(_DWORD *)(a2 + 60);
                else
                  v11 = 10;
                v12 = -dword_4D91A4[v11];
              }
              else
              {
                if ( v21 <= 10 )
                  v13 = *(_DWORD *)(a2 + 60) - a1[1].m_dwEIP[1];
                else
                  v13 = 10;
                v12 = dword_4D91A4[v13];
              }
              *(_DWORD *)a4 += v12 * *(_DWORD *)a4 / 100;
            }
          }
          if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
          {
            if ( CChar::IsBState(a1, 1024i64) )
            {
              *(_DWORD *)a4 -= *(_DWORD *)a4 / 10;
            }
            else if ( CChar::IsBState(a1, 0x80000000i64) )
            {
              *(_DWORD *)a4 -= 7 * *(_DWORD *)a4 / 100;
            }
          }
          if ( *(_DWORD *)a4 >= (int)a1[8].m_critical_section.LockSemaphore )
            v10 = a1[8].m_critical_section.LockSemaphore;
          else
            v10 = *(void **)a4;
          *(_DWORD *)a4 = v10;
          a1[8].m_critical_section.LockSemaphore = (char *)a1[8].m_critical_section.LockSemaphore - *(_DWORD *)a4;
          if ( *(_DWORD *)a6 )
          {
            if ( (int)a1[8].m_critical_section.LockSemaphore <= 0 )
            {
              *(_DWORD *)a6 = 0;
            }
            else
            {
              if ( *(_DWORD *)a6 >= (int)a1[8].m_critical_section.LockSemaphore )
                v9 = a1[8].m_critical_section.LockSemaphore;
              else
                v9 = *(void **)a6;
              *(_DWORD *)a6 = v9;
              a1[8].m_critical_section.LockSemaphore = (char *)a1[8].m_critical_section.LockSemaphore - *(_DWORD *)a6;
            }
          }
          if ( (int)a1[8].m_critical_section.LockSemaphore > 0 )
          {
            sub_412EB0(a1);
            CPlayer::Rest(a1, 0);
          }
          else
          {
            a1[8].m_critical_section.LockSemaphore = 0;
            if ( sub_40B310(a1, 0x8000) )
              CPlayer::Write((int)a1, 67, "b", 89);
            CChar::SubGState((volatile LONG *)a1, 32772);
            CChar::SubMState(a1, 1, 0);
            CChar::AddGState((volatile LONG *)a1, 2);
            if ( sub_44A510(a1, 2048) )
            {
              CPlayer::SubEState(a1, 2048);
              v19 = (CIOCriticalSection *)CNPC::FindNPC(a1[51].m_critical_section.RecursionCount);
              if ( v19 )
                CNPCSiegeGunStone::SetOperator(v19, 0);
              CPlayer::Write((int)a1, 67, "b", 118);
            }
            if ( sub_40B310(a1, 128) )
            {
              a2a = (volatile int *)a1[47].m_critical_section.OwningThread;
              if ( !a2a )
                EBREAK((int)a1[47].m_critical_section.OwningThread);
              if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) && (volatile int *)a2 == a2a )
              {
                CPlayer::AddEState(a1, 16);
              }
              else if ( !CChar::IsBState(a1, 256i64) )
              {
                ++a1[17].m_critical_section.RecursionCount;
              }
              CPlayer::EndPvP((int)a1, a2a, 3, 2, 6);
            }
            else if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) && !CChar::IsBState(a1, 256i64) )
            {
              ++a1[17].m_critical_section.RecursionCount;
            }
            if ( sub_40B310(a1, 1024) )
            {
              ((void (__thiscall *)(CIOCriticalSection *, int))a1->m_critical_section.DebugInfo[3].EntryCount)(a1, 1024);
              sub_412EB0(a1);
              v8 = CPlayer::GetGID(a1);
              CCastle::UnfurlStandardCancel(v8);
              sub_412E90(a1);
            }
            item = (CItem *)a1[34].m_critical_section.OwningThread;
            if ( item )
            {
              sub_4010D0((int)item);
              sub_412EB0(a1);
              CBase::Delete(item);
              sub_401DE0((int *)item);
            }
            else
            {
              sub_412EB0(a1);
            }
            if ( CChar::IsBState(a1, 128i64) )
              CPlayer::AddEState(a1, 128);
            (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)a2 + 160))(a2, a1);
            CChar::CancelBuffPrty(a1, -161);
            if ( sub_40B310(a1, 16) )
              CPlayer::SwitchStall((char *)a1, 0);
            if ( sub_40B310(a1, 512) )
              CPlayer::FreeTransform(a1);
            CPlayer::BreakStandard(a1);
            CChar::WriteInSight((int)a1, 61, "db", a1->m_dwEIP[1], 9);
            a1[45].m_critical_section.OwningThread = (void *)(GetTickCount() + 600000);
            a1[45].m_critical_section.RecursionCount = GetTickCount() + 600000;
            (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)a2 + 132))(a2, a1);
          }
          CPlayer::UpdatePartyMember((CPlayer *)a1, 7);
          result = 1;
        }
        else
        {
          sub_412EB0(a1);
          *(_DWORD *)a6 = 0;
          *(_DWORD *)a4 = 0;
          result = 1;
        }
      }
    }
    else
    {
      *(_DWORD *)a6 = 0;
      *(_DWORD *)a4 = 0;
      result = 0;
    }
  }
  return result;
}

//----- (00451CF0) --------------------------------------------------------
void __thiscall CPlayer::InfoDie(void *this, int a2, int a3)
{
  CPlayer::Write((int)this, 64, "db", a2, a3);
}

//----- (00451D20) --------------------------------------------------------
int __thiscall CPlayer::ReviseProperty(_DWORD *this)
{
  int result; // eax
  int v3; // [esp+8h] [ebp-4h]

  CChar::ReviseProperty(this);
  v3 = this[19];
  this[21] += 2 * this[17] * this[17] / dword_4D6A10[this[115]] + 115;
  result = this[22] + v3 + 2 * v3 * v3 / dword_4D6A1C[this[115]];
  this[22] = result;
  return result;
}

//----- (00451DA0) --------------------------------------------------------
void __thiscall CPlayer::AddMStateEx(int this, int a2)
{
  CChar::AddMStateEx((volatile LONG *)this, a2);
  CPlayer::Write(this, 21, "d", *(_DWORD *)(this + 296));
}

//----- (00451DE0) --------------------------------------------------------
void __thiscall CPlayer::AddBState(int this, int a2, int a3, int a4)
{
  int v4; // ecx
  LONG v5; // eax
  volatile LONG *Target; // [esp+4h] [ebp-4h]

  Target = (volatile LONG *)(this + 304);
  InterlockedExchange((volatile LONG *)(this + 304), a2 | *(_DWORD *)(this + 304));
  LOBYTE(v4) = 32;
  v5 = unknown_libname_15(v4, a3 | *(_DWORD *)(this + 308));
  InterlockedExchange(Target + 1, v5);
  CPlayer::Write(this, 68, "bId", 74, a2, a3, a4);
}
// 451E31: variable 'v4' is possibly undefined
// 4A14E0: using guessed type int __fastcall unknown_libname_15(_DWORD, _DWORD);

//----- (00451E70) --------------------------------------------------------
void __thiscall sub_451E70(int this, int a2)
{
  CChar::SubMStateEx((volatile LONG *)this, a2);
  CPlayer::Write(this, 21, "d", *(_DWORD *)(this + 296));
}

//----- (00451EB0) --------------------------------------------------------
void __thiscall CPlayer::SubBState(int this, int a2, int a3)
{
  int v3; // ecx
  LONG v4; // eax
  volatile LONG *Target; // [esp+4h] [ebp-4h]

  Target = (volatile LONG *)(this + 304);
  InterlockedExchange((volatile LONG *)(this + 304), *(_DWORD *)(this + 304) & ~a2);
  v3 = this;
  LOBYTE(v3) = 32;
  v4 = unknown_libname_15(v3, *(_DWORD *)(this + 308) & ~a3);
  InterlockedExchange(Target + 1, v4);
  CPlayer::Write(this, 68, "bI", 75, a2, a3);
}
// 4A14E0: using guessed type int __fastcall unknown_libname_15(_DWORD, _DWORD);

//----- (00451F40) --------------------------------------------------------
int __thiscall CPlayer::GetFinalDefense(_DWORD *this, int a2)
{
  int v2; // eax
  int result; // eax
  int v5; // [esp+Ch] [ebp-4h]

  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
  {
    v2 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 156))(a2);
    result = CChar::GetDefense(this, v2);
  }
  else
  {
    v5 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 156))(a2);
    result = CChar::GetDefense(this, v5) + this[15] / dword_4D9180[3 * v5 + this[115]];
  }
  return result;
}

//----- (00451FC0) --------------------------------------------------------
int __thiscall CPlayer::GetFinalAbsorb(CPlayer *this, int a2)
{
  int result; // eax

  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    result = CChar::GetAbsorb(this);
  else
    result = CChar::GetAbsorb(this) + 15;
  return result;
}

//----- (00452000) --------------------------------------------------------
int __thiscall CPlayer::GetFinalResist(_DWORD *this, int a2, int a3)
{
  int result; // eax

  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    result = sub_438FA0(this, a3) / 10;
  else
    result = sub_438FA0(this, a3) / 10 + this[15] / dword_4D9198[this[115]] + 25;
  return result;
}

//----- (00452070) --------------------------------------------------------
int __thiscall CPlayer::GetMSpeed(int this, int a2)
{
  int v3; // [esp+0h] [ebp-18h]
  int v4; // [esp+4h] [ebp-14h]

  if ( CChar::IsMState((_QWORD *)this, 1i64) )
    v4 = 533;
  else
    v4 = 800;
  if ( !*(_DWORD *)(this + 260) )
    return v4;
  if ( *(int *)(this + 260) <= 0 )
    v3 = v4 * (abs(*(_DWORD *)(this + 260)) + 100) / 100;
  else
    v3 = 100 * v4 / (*(_DWORD *)(this + 260) + 100);
  return v3;
}

//----- (00452110) --------------------------------------------------------
BOOL __thiscall sub_452110(_DWORD *this)
{
  return this[115] == 2;
}

//----- (00452130) --------------------------------------------------------
BOOL __thiscall CPlayer::CheckBlock(_DWORD *this, int *a2)
{
  int v3; // esi
  int v4; // esi
  int v5; // esi
  int v6; // [esp+4h] [ebp-14h]
  BOOL v8; // [esp+Ch] [ebp-Ch]
  int v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h]

  v9 = this[66];
  if ( !v9 || this[115] == 1 )
    return 0;
  v10 = sub_44FD40(a2[15], this[15]);
  if ( this[115] )
  {
    if ( this[115] == 2 )
    {
      if ( (*(int (__thiscall **)(int *))(*a2 + 64))(a2) )
      {
        v5 = dword_4D9248[v10] + v9;
        return v5 >= RandomBetween(1, 100);
      }
      if ( (*(int (__thiscall **)(int *))(*a2 + 60))(a2) )
        return v9 >= RandomBetween(1, 100);
    }
    return 0;
  }
  if ( !CPlayer::IsWState(this, 1) )
  {
    if ( (this[116] & 4) == 0 )
      return 0;
    if ( !CPlayer::IsWState(this, 12) || !sub_44A940(this + 156, 20) )
      return 0;
  }
  if ( !(*(int (__thiscall **)(int *))(*a2 + 64))(a2) )
  {
    if ( (*(int (__thiscall **)(int *))(*a2 + 60))(a2) )
    {
      v4 = v9 + this[15] / 3;
      return v4 > RandomBetween(1, 100);
    }
    return 0;
  }
  v8 = CPlayer::IsWState(this, 12) != 0;
  if ( (*(int (__thiscall **)(int *))(*a2 + 156))(a2) == 1 )
  {
    if ( v8 )
      v6 = (v9 + 3) / 3;
    else
      v6 = v9 + 3;
    v9 = v6;
  }
  v3 = dword_4D9210[7 * v8 + v10] + v9;
  return v3 >= RandomBetween(1, 100);
}

//----- (00452310) --------------------------------------------------------
void __thiscall CPlayer::UpdateTransformExp(CIOCriticalSection *this, int a2)
{
  CIOCriticalSection *a2a; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  if ( a2a[34].m_critical_section.SpinCount )
    CItemTransform::UpdateExp((_DWORD *)a2a[34].m_critical_section.SpinCount, a2a, a2);
  CIOCriticalSection::Leave(a2a);
}
// 452328: variable 'a2a' is possibly undefined

//----- (00452360) --------------------------------------------------------
int __thiscall CPlayer::Add(int this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  int result; // eax
  char *v3; // eax
  const std::pair<int const ,CGame_Character::TargetInfo> *v4; // eax
  const std::pair<int const ,CGame_Character::TargetInfo> *v5; // eax
  char *v6; // [esp-Ch] [ebp-60h]
  int v7; // [esp-8h] [ebp-5Ch]
  int v8; // [esp-4h] [ebp-58h]
  int a1b; // [esp+0h] [ebp-54h]
  char v11[8]; // [esp+4h] [ebp-50h] BYREF
  int v12; // [esp+Ch] [ebp-48h]
  int v13; // [esp+10h] [ebp-44h]
  char v14[8]; // [esp+14h] [ebp-40h] BYREF
  char v15[8]; // [esp+1Ch] [ebp-38h] BYREF
  int v16; // [esp+24h] [ebp-30h]
  int v17; // [esp+28h] [ebp-2Ch]
  char v18[8]; // [esp+2Ch] [ebp-28h] BYREF
  int v19; // [esp+34h] [ebp-20h]
  char v20[8]; // [esp+38h] [ebp-1Ch] BYREF
  struct in_addr v21; // [esp+40h] [ebp-14h]
  CIOObject *v22; // [esp+44h] [ebp-10h]
  struct in_addr in; // [esp+48h] [ebp-Ch]
  char v24[8]; // [esp+4Ch] [ebp-8h] BYREF

  sub_4010D0(this);
  CRWLock::WriteLock(&unk_4E202C);
  v19 = this;
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v20);
  sub_445DF0(
    (int)dword_4E2068,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v24,
    v1);
  if ( v24[4] )
  {
    v17 = this;
    v16 = *(_DWORD *)(this + 28);
    std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v18);
    sub_445DF0(
      (int)dword_4E2020,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v15,
      v4);
    CRWLock::WriteUnlock(&unk_4E202C);
    CRWLock::WriteLock(&unk_4E2050);
    v13 = this;
    v12 = this + 32;
    std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v14);
    sub_470440(
      (int)dword_4E2044,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v11,
      v5);
    CRWLock::WriteUnlock(&unk_4E2050);
    CIOObject::AddRef((CIOObject *)this, (volatile int *)(this + 8));
    InterlockedIncrement(&dword_4E2000);
    CIOCriticalSection::Enter((CIOCriticalSection *)this);
    CLink::Insert((CLink *)(a1b + 428), &unk_4E200C);
    CIOCriticalSection::Leave((CIOCriticalSection *)a1b);
    result = 1;
  }
  else
  {
    sub_401DE0((int *)this);
    v22 = *(CIOObject **)(sub_420250(v24) + 4);
    if ( (CIOObject *)this == v22 )
    {
      EBREAK(this);
      sub_4010D0(this);
      CRWLock::WriteUnlock(&unk_4E202C);
    }
    else
    {
      v21 = *(struct in_addr *)(*(_DWORD *)(this + 1676) + 140);
      in = *(struct in_addr *)(v22[104].m_nGeneralRef + 140);
      v8 = *(_DWORD *)(v22[104].m_nGeneralRef + 136);
      v7 = *(_DWORD *)(*(_DWORD *)(this + 1676) + 136);
      v6 = inet_ntoa(in);
      v3 = inet_ntoa(v21);
      LOG_NORMAL("Same player on game : name(%s) addr(%s, %s) port(%d, %d)", (const char *)(this + 32), v3, v6, v7, v8);
      CPlayer::Write(this, 67, "b", 5);
      CIOObject::AddRef(v22, (volatile int *)&v22[22]);
      CRWLock::WriteUnlock(&unk_4E202C);
      CPlayer::Write((int)v22, 45, "b", 2);
      CSocket::OnKick((CIOCriticalSection *)v22[104].m_nGeneralRef, 2);
      CIOObject::Release(v22, (volatile int *)&v22[22]);
    }
    result = 0;
  }
  return result;
}
// 4523A1: variable 'v1' is possibly undefined
// 4524F4: variable 'v4' is possibly undefined
// 452536: variable 'v5' is possibly undefined
// 452571: variable 'a1b' is possibly undefined

//----- (00452590) --------------------------------------------------------
LONG __thiscall CPlayer::Remove(int this)
{
  int v3; // [esp+4h] [ebp-8h] BYREF
  int v4; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E202C);
  v4 = *(_DWORD *)(this + 28);
  sub_4703E0(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E2020,
    (int)&v4);
  sub_4703E0(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E2068,
    this + 452);
  CRWLock::WriteUnlock(&unk_4E202C);
  CRWLock::WriteLock(&unk_4E2050);
  v3 = this + 32;
  sub_470600(dword_4E2044, (int)&v3);
  CRWLock::WriteUnlock(&unk_4E2050);
  sub_401DE0((int *)this);
  return InterlockedDecrement(&dword_4E2000);
}

//----- (00452620) --------------------------------------------------------
void __thiscall CPlayer::Tick(int this)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi
  int v4; // eax
  int v5; // [esp-4h] [ebp-48h]
  int v6; // [esp+18h] [ebp-2Ch]
  int v7; // [esp+1Ch] [ebp-28h]
  CItem *v9; // [esp+24h] [ebp-20h]
  CIOObject *v10; // [esp+28h] [ebp-1Ch]
  int v11; // [esp+2Ch] [ebp-18h]
  int v12; // [esp+30h] [ebp-14h]
  char v13; // [esp+34h] [ebp-10h]
  CItem *item; // [esp+38h] [ebp-Ch]
  int v15; // [esp+3Ch] [ebp-8h]
  DWORD v16; // [esp+40h] [ebp-4h]

  if ( sub_40B2F0((_DWORD *)this) )
  {
    CLink::Remove((CLink *)(this + 428));
    CIOObject::Release((CIOObject *)this, (volatile int *)(this + 8));
  }
  else
  {
    CChar::RefreshBuff((std::locale::facet **)this);
    CPlayer::RefreshStandardBuff(this);
    v16 = GetTickCount();
    sub_412E90((CIOCriticalSection *)this);
    if ( ++*(_DWORD *)(this + 1440) >= 0x258u )
      CPlayer::SaveAllProperty(this, 0);
    if ( sub_40B310((_DWORD *)this, 0x2000) && v16 >= *(_DWORD *)(this + 1448) )
    {
      CChar::SubGState((volatile LONG *)this, 0x2000);
      *(_DWORD *)(this + 1448) = v16;
    }
    if ( sub_40B310((_DWORD *)this, 2) )
    {
      if ( v16 >= *(_DWORD *)(this + 1452) )
        CPlayer::Revival((CPlayer *)this);
    }
    else
    {
      if ( v16 >= *(_DWORD *)(this + 1472) )
      {
        if ( *(_DWORD *)(this + 272) < CChar::GetMaxHP((CPlayer *)this) )
        {
          if ( CChar::GetMaxHP((CPlayer *)this) / 100 >= 40 )
            v7 = 40;
          else
            v7 = CChar::GetMaxHP((CPlayer *)this) / 100;
          (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v7);
        }
        *(_DWORD *)(this + 1472) = v16 + 6000;
      }
      if ( v16 >= *(_DWORD *)(this + 1476) )
      {
        if ( *(_DWORD *)(this + 276) < CChar::GetMaxMP((CPlayer *)this) )
        {
          if ( CChar::GetMaxMP((CPlayer *)this) / 100 >= 20 )
            v6 = 20;
          else
            v6 = CChar::GetMaxMP((CPlayer *)this) / 100;
          (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 8, 1, v6);
        }
        *(_DWORD *)(this + 1476) = v16 + 12000;
      }
    }
    if ( sub_40B310((_DWORD *)this, 4) && v16 >= *(_DWORD *)(this + 1444) )
    {
      if ( *(_DWORD *)(this + 272) < CChar::GetMaxHP((CPlayer *)this) )
      {
        v4 = CPlayer::GetAutoRefreshHP((_DWORD *)this);
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 7, 1, v4);
      }
      if ( *(_DWORD *)(this + 276) < CChar::GetMaxMP((CPlayer *)this) )
      {
        v5 = CPlayer::GetAutoRefreshMP((_DWORD *)this);
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)this + 88))(this, 8, 1, v5);
      }
      *(_DWORD *)(this + 1444) = v16 + 4000;
    }
    if ( CChar::IsMState((_QWORD *)this, 1i64) )
    {
      if ( *(int *)(this + 276) < 6 )
        (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)this + 124))(this, 1, 0);
      else
        (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)this + 88))(this, 8, 0, 6);
    }
    if ( sub_40B310((_DWORD *)this, 32) && v16 >= *(_DWORD *)(this + 1468) )
    {
      v15 = RandomBetween(1, 1000);
      if ( v15 > 5 )
      {
        if ( v15 > 15 )
        {
          if ( v15 > 40 )
          {
            if ( v15 > 360 )
              v13 = -19;
            else
              v13 = -17;
          }
          else
          {
            v13 = -16;
          }
        }
        else
        {
          v13 = -68;
        }
      }
      else
      {
        v13 = -15;
      }
      item = (CItem *)CItem::CreateItem(v13, 0, 1, -1);
      if ( item && sub_45DDC0((CIOCriticalSection *)this, 2, (int)item) != 1 )
        CBase::Delete(item);
      v12 = 600000;
      if ( CChar::IsBState((_QWORD *)this, 8i64) )
      {
        v12 = 300000;
      }
      else if ( CChar::IsBState((_QWORD *)this, 1i64) )
      {
        v12 = 300000;
      }
      *(_DWORD *)(this + 1468) = v12 + v16;
      CPlayer::Write(this, 67, "b", 44);
    }
    if ( sub_40B310((_DWORD *)this, 64) && v16 >= *(_DWORD *)(this + 1468) )
    {
      if ( !CPlayer::Cooking((CIOCriticalSection *)this, v1, v2, v3, --*(_DWORD *)(this + 1268)) )
        CPlayer::Write(this, 68, "bb", 51, *(_DWORD *)(this + 1268));
      (*(void (__thiscall **)(int, int))(*(_DWORD *)this + 112))(this, 64);
    }
    if ( sub_40B310((_DWORD *)this, 128) )
      CPlayer::OnPvP(this);
    if ( sub_40B310((_DWORD *)this, 512) && v16 >= *(_DWORD *)(this + 1480) )
    {
      if ( *(int *)(this + 580) <= 0 )
      {
        CPlayer::FreeTransform((CIOCriticalSection *)this);
      }
      else
      {
        v11 = *(_DWORD *)(this + 1112) & 0xF;
        if ( v11 )
          (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)this + 88))(this, 35, 0, dword_4D66AC[v11]);
        *(_DWORD *)(this + 1480) = v16 + (*(_DWORD *)(this + 580) <= 0 ? 60000 : 5000);
      }
    }
    if ( sub_40B310((_DWORD *)this, 1024) && v16 >= *(_DWORD *)(this + 1468) )
    {
      (*(void (__thiscall **)(int, int))(*(_DWORD *)this + 112))(this, 1024);
      sub_412EB0((CIOCriticalSection *)this);
      v10 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)this);
      if ( v10 )
      {
        CGuild::UnfurlStandard((int)v10, this, *(_DWORD *)(this + 1268));
        CIOObject::Release(v10, &v10[2].m_nTimerRef);
      }
      sub_412E90((CIOCriticalSection *)this);
    }
    if ( (dword_4E1178 & 2) != 0 && v16 >= *(_DWORD *)(this + 1484) )
    {
      *(_DWORD *)(this + 1484) = v16 + 1800000;
      v9 = (CItem *)CItem::CreateItem(137, 0, 1, -1);
      if ( v9 )
      {
        if ( sub_45DDC0((CIOCriticalSection *)this, 16, (int)v9) != 1 )
          CBase::Delete(v9);
      }
    }
    sub_412EB0((CIOCriticalSection *)this);
    (*(void (__thiscall **)(int, int))(*(_DWORD *)this + 188))(this, 1);
    CPlayer::MLMPayMoney((_DWORD *)this, 0);
  }
}
// 452A31: variable 'v1' is possibly undefined
// 452A31: variable 'v2' is possibly undefined
// 452A31: variable 'v3' is possibly undefined
// 4E1178: using guessed type int dword_4E1178;

//----- (00452C10) --------------------------------------------------------
int __thiscall CPlayer::GetAutoRefreshHP(_DWORD *this)
{
  int v1; // esi

  v1 = 7 * this[144];
  return v1 + RandomBetween(0, 2 * this[144]) + 25;
}

//----- (00452C50) --------------------------------------------------------
int __thiscall CPlayer::GetAutoRefreshMP(_DWORD *this)
{
  int v1; // esi

  v1 = 6 * this[144];
  return v1 + RandomBetween(0, 2 * this[144]) + 20;
}

//----- (00452C90) --------------------------------------------------------
void __cdecl CPlayer::WarPortalAll(int a1, int a2)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-18h]
  CIOCriticalSection *v3; // [esp+0h] [ebp-18h]
  CIOCriticalSection *v4; // [esp+0h] [ebp-18h]
  int *v5; // [esp+0h] [ebp-18h]
  _DWORD a3[2]; // [esp+4h] [ebp-14h] BYREF
  _DWORD *v7; // [esp+Ch] [ebp-Ch]
  CLink *i; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(v2);
  CIOCriticalSection::Enter(v3);
  CLink::MoveTo(&unk_4E200C, &pTo);
  CIOCriticalSection::Leave(v4);
  for ( i = pTo.m_pNext; i != &pTo; i = i->m_pNext )
  {
    v7 = &i[-54].m_pPrev;
    if ( !i[7].m_pNext || v7[120] != a2 && (!*(_DWORD *)(v7[121] + 392) || *(_DWORD *)(v7[121] + 392) != a2) )
    {
      v9 = CCastle::WarPortal(a1, v7[79], v7[83], v7[84]);
      if ( v9 >= 0 )
      {
        v5 = (int *)((char *)&unk_4D77C8 + 28 * v9);
        a3[0] = RandomBetween(v5[1] - 32, v5[1] + 32);
        a3[1] = RandomBetween(v5[2] - 32, v5[2] + 32);
        if ( sub_40B310(v7, 2) )
          CChar::AddGState(v7, 8);
        CPlayer::Teleport(v7, *v5, a3, v5[3], 0);
      }
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v5);
}
// 452C9B: variable 'v2' is possibly undefined
// 452CA5: variable 'v3' is possibly undefined
// 452CBE: variable 'v4' is possibly undefined
// 452DF1: variable 'v5' is possibly undefined

//----- (00452E00) --------------------------------------------------------
void __stdcall CPlayer::Send(void *Src)
{
  int v1; // ecx
  int v2; // [esp+0h] [ebp-8h]
  CIOBuffer *a2; // [esp+4h] [ebp-4h]

  v2 = v1;
  a2 = CIOBuffer::Alloc();
  memcpy(a2, Src, *((_DWORD *)Src + 2000));
  a2->m_dwSize = *((_DWORD *)Src + 2000);
  CSocket::_CSocket(*(_DWORD *)(v2 + 1676), a2);
}
// 452E06: variable 'v1' is possibly undefined

//----- (00452E60) --------------------------------------------------------
void CPlayer::Write(int a1, char a2, ...)
{
  CIOBuffer *v2; // [esp+0h] [ebp-10h]
  va_list va; // [esp+20h] [ebp+10h] BYREF

  va_start(va, a2);
  v2 = CIOBuffer::Alloc();
  v2->m_buffer[2] = a2;
  *(_WORD *)v2->m_buffer = (unsigned __int16)WritePacket(&v2->m_buffer[3], (int)va) - (_WORD)v2;
  v2->m_dwSize = *(unsigned __int16 *)v2->m_buffer;
  CSocket::_CSocket(*(_DWORD *)(a1 + 1676), v2);
}

//----- (00452ED0) --------------------------------------------------------
void __thiscall CPlayer::Process(CPlayer *a1, int a2, void *Src, int end)
{
  int v4; // eax
  char *v5; // eax
  char *v6; // [esp-Ch] [ebp-2E0h]
  int v7; // [esp-8h] [ebp-2DCh]
  CIOCriticalSection *v8; // [esp+0h] [ebp-2D4h]
  CIOCriticalSection *v9; // [esp+0h] [ebp-2D4h]
  int v11; // [esp+24h] [ebp-2B0h] BYREF
  int v12; // [esp+28h] [ebp-2ACh] BYREF
  int v13; // [esp+2Ch] [ebp-2A8h] BYREF
  int v14; // [esp+30h] [ebp-2A4h] BYREF
  int v15; // [esp+34h] [ebp-2A0h] BYREF
  int v16; // [esp+38h] [ebp-29Ch] BYREF
  int v17; // [esp+3Ch] [ebp-298h] BYREF
  int v18; // [esp+40h] [ebp-294h] BYREF
  int v19; // [esp+44h] [ebp-290h] BYREF
  int v20; // [esp+48h] [ebp-28Ch] BYREF
  int v21; // [esp+4Ch] [ebp-288h] BYREF
  int v22; // [esp+50h] [ebp-284h] BYREF
  int v23; // [esp+54h] [ebp-280h] BYREF
  int v24; // [esp+58h] [ebp-27Ch] BYREF
  char v25; // [esp+5Fh] [ebp-275h] BYREF
  char v26[4]; // [esp+60h] [ebp-274h] BYREF
  int v27; // [esp+64h] [ebp-270h] BYREF
  int v28; // [esp+68h] [ebp-26Ch] BYREF
  int v29; // [esp+6Ch] [ebp-268h] BYREF
  int a8; // [esp+70h] [ebp-264h] BYREF
  int a7; // [esp+74h] [ebp-260h] BYREF
  CPlayer *v32; // [esp+78h] [ebp-25Ch]
  unsigned __int8 v33; // [esp+7Fh] [ebp-255h] BYREF
  int a2a; // [esp+80h] [ebp-254h]
  unsigned __int8 v35; // [esp+87h] [ebp-24Dh] BYREF
  int v36; // [esp+88h] [ebp-24Ch] BYREF
  unsigned __int8 v37; // [esp+8Eh] [ebp-246h] BYREF
  unsigned __int8 v38; // [esp+8Fh] [ebp-245h] BYREF
  char *v39; // [esp+90h] [ebp-244h] BYREF
  char *Str; // [esp+94h] [ebp-240h] BYREF
  char v41[4]; // [esp+98h] [ebp-23Ch] BYREF
  DWORD v42; // [esp+9Ch] [ebp-238h] BYREF
  CIOObject *v43; // [esp+A0h] [ebp-234h]
  char v44[4]; // [esp+A4h] [ebp-230h] BYREF
  DWORD v45; // [esp+A8h] [ebp-22Ch] BYREF
  CIOObject *v46; // [esp+ACh] [ebp-228h]
  unsigned __int8 v47; // [esp+B0h] [ebp-224h] BYREF
  unsigned __int8 v48; // [esp+B1h] [ebp-223h] BYREF
  unsigned __int8 v49; // [esp+B2h] [ebp-222h] BYREF
  unsigned __int8 v50; // [esp+B3h] [ebp-221h] BYREF
  char v51; // [esp+B4h] [ebp-220h] BYREF
  unsigned __int8 v52; // [esp+B5h] [ebp-21Fh] BYREF
  unsigned __int8 v53; // [esp+B6h] [ebp-21Eh] BYREF
  unsigned __int8 v54; // [esp+B7h] [ebp-21Dh] BYREF
  CIOObject *v55; // [esp+B8h] [ebp-21Ch]
  int v56; // [esp+BCh] [ebp-218h] BYREF
  CIOObject *v57; // [esp+C0h] [ebp-214h]
  int v58; // [esp+C4h] [ebp-210h] BYREF
  int *v59; // [esp+C8h] [ebp-20Ch]
  char v60[4]; // [esp+CCh] [ebp-208h] BYREF
  CIOObject *v61; // [esp+D0h] [ebp-204h]
  unsigned __int8 v62; // [esp+D7h] [ebp-1FDh] BYREF
  char v63[4]; // [esp+D8h] [ebp-1FCh] BYREF
  int *v64; // [esp+DCh] [ebp-1F8h]
  int *v65; // [esp+E0h] [ebp-1F4h]
  char v66[4]; // [esp+E4h] [ebp-1F0h] BYREF
  CIOObject *v67; // [esp+E8h] [ebp-1ECh]
  int *v68; // [esp+ECh] [ebp-1E8h]
  char v69[4]; // [esp+F0h] [ebp-1E4h] BYREF
  CIOObject *v70; // [esp+F4h] [ebp-1E0h]
  unsigned __int8 v71; // [esp+FBh] [ebp-1D9h] BYREF
  int *v72; // [esp+FCh] [ebp-1D8h]
  char v73[4]; // [esp+100h] [ebp-1D4h] BYREF
  CIOObject *v74; // [esp+104h] [ebp-1D0h]
  int *v75; // [esp+108h] [ebp-1CCh]
  char v76[4]; // [esp+10Ch] [ebp-1C8h] BYREF
  CIOObject *v77; // [esp+110h] [ebp-1C4h]
  char v78[4]; // [esp+114h] [ebp-1C0h] BYREF
  int *v79; // [esp+118h] [ebp-1BCh]
  int *v80; // [esp+11Ch] [ebp-1B8h]
  CIOObject *v81; // [esp+120h] [ebp-1B4h]
  char v82[4]; // [esp+124h] [ebp-1B0h] BYREF
  int v83; // [esp+128h] [ebp-1ACh] BYREF
  CIOObject *v84; // [esp+12Ch] [ebp-1A8h]
  int a4; // [esp+130h] [ebp-1A4h] BYREF
  unsigned __int8 v86; // [esp+137h] [ebp-19Dh] BYREF
  CIOObject *v87; // [esp+138h] [ebp-19Ch]
  int v88; // [esp+13Ch] [ebp-198h] BYREF
  char v89[4]; // [esp+140h] [ebp-194h] BYREF
  unsigned __int8 v90; // [esp+147h] [ebp-18Dh] BYREF
  int v91; // [esp+148h] [ebp-18Ch] BYREF
  CIOObject *v92; // [esp+14Ch] [ebp-188h]
  int v93; // [esp+150h] [ebp-184h] BYREF
  int v94; // [esp+154h] [ebp-180h] BYREF
  int v95; // [esp+158h] [ebp-17Ch] BYREF
  int v96; // [esp+15Ch] [ebp-178h] BYREF
  CIOObject *v97; // [esp+160h] [ebp-174h]
  unsigned __int8 v98; // [esp+167h] [ebp-16Dh] BYREF
  char *Source; // [esp+168h] [ebp-16Ch] BYREF
  CIOObject *v100; // [esp+16Ch] [ebp-168h]
  CIOObject *v101; // [esp+170h] [ebp-164h]
  CIOObject *v102; // [esp+174h] [ebp-160h]
  CIOObject *v103; // [esp+178h] [ebp-15Ch]
  CIOObject *v104; // [esp+17Ch] [ebp-158h]
  char *Str1; // [esp+180h] [ebp-154h] BYREF
  CIOObject *v106; // [esp+184h] [ebp-150h]
  unsigned __int8 v107; // [esp+18Bh] [ebp-149h] BYREF
  int v108; // [esp+18Ch] [ebp-148h]
  char v109; // [esp+193h] [ebp-141h] BYREF
  int v110; // [esp+194h] [ebp-140h] BYREF
  unsigned __int8 v111; // [esp+19Bh] [ebp-139h] BYREF
  int v112; // [esp+19Ch] [ebp-138h] BYREF
  unsigned __int8 v113; // [esp+1A3h] [ebp-131h] BYREF
  int v114; // [esp+1A4h] [ebp-130h]
  unsigned int v115; // [esp+1A8h] [ebp-12Ch]
  char v116; // [esp+1AEh] [ebp-126h] BYREF
  unsigned __int8 v117; // [esp+1AFh] [ebp-125h] BYREF
  char v118[7]; // [esp+1B0h] [ebp-124h] BYREF
  unsigned __int8 v119; // [esp+1B7h] [ebp-11Dh] BYREF
  int v120; // [esp+1B8h] [ebp-11Ch] BYREF
  int v121; // [esp+1BCh] [ebp-118h] BYREF
  unsigned __int8 v122; // [esp+1C3h] [ebp-111h] BYREF
  int v123; // [esp+1C4h] [ebp-110h] BYREF
  int v124; // [esp+1C8h] [ebp-10Ch] BYREF
  unsigned __int8 v125; // [esp+1CEh] [ebp-106h] BYREF
  unsigned __int8 v126; // [esp+1CFh] [ebp-105h] BYREF
  int v127; // [esp+1D0h] [ebp-104h]
  unsigned __int8 v128; // [esp+1D6h] [ebp-FEh] BYREF
  unsigned __int8 v129; // [esp+1D7h] [ebp-FDh] BYREF
  int v130; // [esp+1D8h] [ebp-FCh] BYREF
  unsigned __int8 v131; // [esp+1DFh] [ebp-F5h] BYREF
  int v132; // [esp+1E0h] [ebp-F4h] BYREF
  CIOObject *v133; // [esp+1E4h] [ebp-F0h]
  unsigned __int8 v134; // [esp+1EBh] [ebp-E9h] BYREF
  CIOObject *v135; // [esp+1ECh] [ebp-E8h]
  int v136; // [esp+1F0h] [ebp-E4h] BYREF
  unsigned __int8 v137; // [esp+1F5h] [ebp-DFh] BYREF
  unsigned __int8 v138; // [esp+1F6h] [ebp-DEh] BYREF
  unsigned __int8 v139; // [esp+1F7h] [ebp-DDh] BYREF
  char v140[4]; // [esp+1F8h] [ebp-DCh] BYREF
  unsigned __int8 v141; // [esp+1FFh] [ebp-D5h] BYREF
  int v142; // [esp+200h] [ebp-D4h] BYREF
  unsigned __int8 v143; // [esp+207h] [ebp-CDh] BYREF
  int a6; // [esp+208h] [ebp-CCh] BYREF
  unsigned __int8 v145; // [esp+20Fh] [ebp-C5h] BYREF
  int v146; // [esp+210h] [ebp-C4h] BYREF
  unsigned __int8 v147; // [esp+217h] [ebp-BDh] BYREF
  int v148; // [esp+218h] [ebp-BCh] BYREF
  int v149; // [esp+21Ch] [ebp-B8h] BYREF
  int v150; // [esp+220h] [ebp-B4h] BYREF
  int v151; // [esp+224h] [ebp-B0h] BYREF
  int v152; // [esp+228h] [ebp-ACh] BYREF
  int v153; // [esp+22Ch] [ebp-A8h] BYREF
  int v154; // [esp+230h] [ebp-A4h] BYREF
  int v155; // [esp+234h] [ebp-A0h] BYREF
  char v156[4]; // [esp+238h] [ebp-9Ch] BYREF
  char v157[4]; // [esp+23Ch] [ebp-98h] BYREF
  int v158; // [esp+240h] [ebp-94h] BYREF
  int v159; // [esp+244h] [ebp-90h] BYREF
  unsigned __int8 v160; // [esp+24Bh] [ebp-89h] BYREF
  int v161; // [esp+24Ch] [ebp-88h] BYREF
  unsigned __int8 v162; // [esp+253h] [ebp-81h] BYREF
  int v163; // [esp+254h] [ebp-80h] BYREF
  unsigned __int8 v164; // [esp+25Bh] [ebp-79h] BYREF
  int v165; // [esp+25Ch] [ebp-78h]
  XBaseModel *v166; // [esp+260h] [ebp-74h]
  char v167[4]; // [esp+264h] [ebp-70h] BYREF
  int *v168; // [esp+268h] [ebp-6Ch]
  char v169[4]; // [esp+26Ch] [ebp-68h] BYREF
  unsigned __int8 v170; // [esp+273h] [ebp-61h] BYREF
  int v171; // [esp+274h] [ebp-60h] BYREF
  unsigned __int16 v172; // [esp+278h] [ebp-5Ch] BYREF
  unsigned __int16 v173[3]; // [esp+27Ch] [ebp-58h] BYREF
  unsigned __int8 v174; // [esp+283h] [ebp-51h] BYREF
  unsigned __int16 v175; // [esp+284h] [ebp-50h] BYREF
  unsigned __int16 v176; // [esp+288h] [ebp-4Ch] BYREF
  unsigned __int16 v177; // [esp+28Ch] [ebp-48h] BYREF
  unsigned __int16 v178; // [esp+290h] [ebp-44h] BYREF
  unsigned __int16 v179; // [esp+294h] [ebp-40h] BYREF
  int v180; // [esp+298h] [ebp-3Ch] BYREF
  int a3; // [esp+29Ch] [ebp-38h] BYREF
  unsigned __int8 v182; // [esp+2A3h] [ebp-31h] BYREF
  char *v183; // [esp+2A4h] [ebp-30h] BYREF
  unsigned __int8 v184; // [esp+2AAh] [ebp-2Ah] BYREF
  unsigned __int8 v185; // [esp+2ABh] [ebp-29h] BYREF
  CSkill *v186; // [esp+2ACh] [ebp-28h]
  unsigned __int8 v187; // [esp+2B3h] [ebp-21h] BYREF
  unsigned __int8 v188; // [esp+2B4h] [ebp-20h] BYREF
  unsigned __int8 v189; // [esp+2B5h] [ebp-1Fh] BYREF
  unsigned __int8 v190; // [esp+2B6h] [ebp-1Eh] BYREF
  unsigned __int8 v191; // [esp+2B7h] [ebp-1Dh] BYREF
  int v192; // [esp+2B8h] [ebp-1Ch] BYREF
  unsigned __int8 v193; // [esp+2BFh] [ebp-15h] BYREF
  int v194; // [esp+2C0h] [ebp-14h] BYREF
  unsigned __int8 v195; // [esp+2C7h] [ebp-Dh] BYREF
  char v196; // [esp+2C8h] [ebp-Ch] BYREF
  char v197; // [esp+2C9h] [ebp-Bh] BYREF
  char v198; // [esp+2CAh] [ebp-Ah] BYREF
  char v199; // [esp+2CBh] [ebp-9h] BYREF
  char v200; // [esp+2CCh] [ebp-8h] BYREF
  char v201; // [esp+2CDh] [ebp-7h] BYREF
  char v202; // [esp+2CEh] [ebp-6h] BYREF
  char v203; // [esp+2CFh] [ebp-5h] BYREF
  int v204; // [esp+2D0h] [ebp-4h] BYREF
  char *Srca; // [esp+2E0h] [ebp+Ch]
  char *Srck; // [esp+2E0h] [ebp+Ch]
  char *Srcb; // [esp+2E0h] [ebp+Ch]
  char *Srcl; // [esp+2E0h] [ebp+Ch]
  char *Srcm; // [esp+2E0h] [ebp+Ch]
  char *Srcn; // [esp+2E0h] [ebp+Ch]
  char *Srco; // [esp+2E0h] [ebp+Ch]
  char *Srcp; // [esp+2E0h] [ebp+Ch]
  char *Srcq; // [esp+2E0h] [ebp+Ch]
  char *Srcr; // [esp+2E0h] [ebp+Ch]
  char *Srcc; // [esp+2E0h] [ebp+Ch]
  char *Srcs; // [esp+2E0h] [ebp+Ch]
  char *Srcd; // [esp+2E0h] [ebp+Ch]
  char *Srce; // [esp+2E0h] [ebp+Ch]
  char *Srct; // [esp+2E0h] [ebp+Ch]
  char *Srcu; // [esp+2E0h] [ebp+Ch]
  char *Srcv; // [esp+2E0h] [ebp+Ch]
  char *Srcf; // [esp+2E0h] [ebp+Ch]
  char *Srcg; // [esp+2E0h] [ebp+Ch]
  char *Srch; // [esp+2E0h] [ebp+Ch]
  char *Srci; // [esp+2E0h] [ebp+Ch]
  char *Srcj; // [esp+2E0h] [ebp+Ch]

  switch ( a2 )
  {
    case 11:
      if ( (a1->m_bit & 0xB) == 2 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v203, &v204);
        if ( v203 == 1 )
        {
          if ( !a1->m_nZ )
            a1->m_nZ = v204;
          CPlayer::GameStart(a1);
        }
        else
        {
          CPlayer::Write((int)a1, 45, "b", 0);
          CSocket::OnKick((CIOCriticalSection *)a1->m_pSocket, 0);
        }
      }
      else
      {
        v7 = a1->m_pSocket->m_nPort;
        v6 = inet_ntoa(a1->m_pSocket->m_addr);
        LOG_NORMAL(
          "Invalid state at CPlayer::Process() Type(%d) UID(%d) Bit(%x) Addr(%s) Port(%d) Player(%p)",
          a2,
          a1->m_nUID,
          a1->m_bit,
          v6,
          v7,
          a1);
      }
      return;
    case 12:
    case 13:
    case 14:
    case 53:
      return;
    case 15:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v195, &v194);
        if ( sub_40B310(a1, 0x2000) )
        {
          CChar::SubGState((volatile LONG *)a1, 0x2000);
          a1->m_dwNextAction = GetTickCount();
        }
        CPlayer::Attack(a1, v195, v194);
      }
      return;
    case 16:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srca = ScanPacket((char *)Src, (char *)end, "b", &v191);
        if ( sub_40B310(a1, 0x2000) )
        {
          CChar::SubGState((volatile LONG *)a1, 0x2000);
          a1->m_dwNextAction = GetTickCount();
        }
        CPlayerSkill::ExcuteSkill(&a1->m_skill.m_pOwner, v191, (int)Srca, end);
      }
      return;
    case 17:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "s", &v183, 129);
        CPlayer::ProcessMsg(a1, v183);
      }
      return;
    case 18:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v182, &a3);
        CPlayer::OnTeleport((CIOCriticalSection *)a1, v182, a3);
      }
      return;
    case 19:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v202);
        if ( v202 )
        {
          if ( GetTickCount() - a1->m_dwLastDamage < 0x2710 || CChar::IsMState(a1, 32i64) )
            CPlayer::Write((int)a1, 29, "b", 0);
          else
            CPlayer::Write((int)a1, 29, "b", 1);
        }
        else
        {
          CPlayer::GameRestart(a1);
        }
      }
      return;
    case 20:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bbb", &v199, &v201, &v200);
        sub_412E90((CIOCriticalSection *)a1);
        if ( CPlayer::CanMove((int)a1) )
          CSMap::ReadLock((int)a1, v199, v201, v200, 0, 0);
        sub_412EB0((CIOCriticalSection *)a1);
      }
      return;
    case 21:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bbb", &v196, &v198, &v197);
        sub_412E90((CIOCriticalSection *)a1);
        if ( CPlayer::CanMove((int)a1) )
          CSMap::ReadLock((int)a1, v196, v198, v197, 1, 0);
        sub_412EB0((CIOCriticalSection *)a1);
      }
      return;
    case 22:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v171);
        sub_4490A0(v171, (int)a1);
      }
      return;
    case 23:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", v167);
        v168 = (int *)CNPC::FindNPC(v167[0]);
        if ( v168 )
        {
          v165 = 100;
          v166 = CCastle::GetCastle(v168[116]);
          if ( v166 )
            v165 = CCastle::GetTaxRate(v166);
          sub_401DE0(v168);
          CPlayer::Write((int)a1, 76, "b", (unsigned __int8)v165);
        }
      }
      return;
    case 24:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcm = ScanPacket((char *)Src, (char *)end, "dbb", &v163, &v164, &v162);
        CPlayer::BuyItemEx((CIOCriticalSection *)a1, v163, v164, v162, Srcm, end);
      }
      return;
    case 25:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcn = ScanPacket((char *)Src, (char *)end, "db", &v161, &v160);
        CPlayer::SellItem((CIOCriticalSection *)a1, v161, v160, Srcn, end);
      }
      return;
    case 26:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "dd", &v159, &v158);
        CPlayer::DropItem((CIOCriticalSection *)a1, v159, v158);
      }
      return;
    case 27:
      if ( (a1->m_bit & 9) == 8 )
      {
        if ( GetTickCount() - a1->m_dwLastDamage < 0x2710 || CChar::IsMState(a1, 32i64) )
          CPlayer::Write((int)a1, 93, "b", 0);
        else
          CPlayer::Write((int)a1, 93, "b", 1);
      }
      return;
    case 28:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srco = ScanPacket((char *)Src, (char *)end, "b", &v143);
        CPlayer::ShowOffItem(a1, v143, (int)Srco, end);
      }
      return;
    case 29:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v129);
        CChar::WriteInSight((int)a1, 61, "db", a1->m_nId, v129);
      }
      return;
    case 30:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v128);
        if ( v128 <= 4u )
        {
          v127 = CPlayer::GetNeedPoint(a1, v128);
          if ( v127 <= 0 || a1->m_nPUPoint < v127 )
          {
            CPlayer::Write((int)a1, 68, "bb", 26, v127);
          }
          else
          {
            a1->UpdateProperty(a1, 23, 0, v127);
            a1->UpdateProperty(a1, v128, 1, 1);
            CDBSocket::Write(16, "dbwbb", a1->m_nPID, 23, a1->m_nPUPoint, v128, a1->m_prtyBase.nBase[v128]);
          }
        }
      }
      return;
    case 31:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v126);
        CPlayer::Rest(a1, v126);
      }
      return;
    case 32:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "ddd", &v155, v156, v157);
        CPlayerTile::PickUpItem(a1, v155, v156);
      }
      return;
    case 33:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v151);
        CPlayer::UseItem((CIOCriticalSection *)a1, v151);
      }
      return;
    case 34:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v146);
        CPlayer::AskTrade((__int32)a1, v146);
      }
      return;
    case 35:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v145, &a6);
        CPlayer::OnAskTrade((int)a1, v145, a6);
      }
      return;
    case 36:
      if ( (a1->m_bit & 9) == 8 )
        CPlayer::CancelTrade((CIOCriticalSection *)a1);
      return;
    case 37:
      if ( (a1->m_bit & 9) == 8 )
      {
        sub_412E90((CIOCriticalSection *)a1);
        CPlayer::Revival(a1);
        a1->m_dwNextAction = GetTickCount();
        sub_412EB0((CIOCriticalSection *)a1);
      }
      return;
    case 38:
      v29 = 0;
      a7 = 0;
      a8 = 0;
      Srch = ScanPacket((char *)Src, (char *)end, "db", &v29, &a7);
      if ( a7 == 1 )
        ScanPacket(Srch, (char *)end, "b", &a8);
      if ( (*(_WORD *)dword_4E1174 & 0x1000) != 0 )
        CPlayer::SiegeGunProcess((CIOCriticalSection *)a1, 0, v29, a7, a8);
      return;
    case 39:
      v27 = 0;
      v28 = 0;
      ScanPacket((char *)Src, (char *)end, "db", &v27, &v28);
      if ( (*(_WORD *)dword_4E1174 & 0x1000) != 0 )
        CPlayer::SiegeGunProcess((CIOCriticalSection *)a1, 1, v27, v28, 0);
      return;
    case 40:
      *(_DWORD *)v26 = 0;
      Srci = ScanPacket((char *)Src, (char *)end, "b", v26);
      if ( (*(_WORD *)dword_4E1174 & 0x1000) != 0 )
        CPlayer::SiegeGunControl((CIOCriticalSection *)a1, *(int *)v26, Srci, end);
      return;
    case 41:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v189);
        if ( a1->m_nSUPoint > 0 )
          sub_47F7A0((int *)&a1->m_skill, v189);
      }
      return;
    case 42:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v188);
        if ( a1->m_nSUPoint > 0 )
          CPlayerSkill::SkillUp((int)&a1->m_skill, v188);
      }
      return;
    case 43:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v193, &v192);
        if ( sub_40B310(a1, 0x2000) )
        {
          CChar::SubGState((volatile LONG *)a1, 0x2000);
          a1->m_dwNextAction = GetTickCount();
        }
        if ( v193 < 0x5Du && sub_480390(&a1->m_skill.m_pOwner, v193, v192) )
          CChar::WriteInSight((int)a1, 61, "dbbd", a1->m_nId, 5, v193, v192);
      }
      return;
    case 44:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v123);
        CPlayer::AskParty((CIOCriticalSection *)a1, v123);
      }
      return;
    case 45:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v122, &v121);
        CPlayer::OnAskParty((__int32)a1, v122, v121);
      }
      return;
    case 46:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srce = ScanPacket((char *)Src, (char *)end, "b", &v109);
        v108 = 0;
        switch ( v109 )
        {
          case 1:
            v108 = CGuild::CreateTrial((int)a1);
            break;
          case 3:
            ScanPacket(Srce, (char *)end, "b", &v107);
            v106 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v106 )
            {
              v108 = CGuild::CreateConsent((CItem *)v106, (int)a1, v107);
              CIOObject::Release(v106, &v106[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 5:
            ScanPacket(Srce, (char *)end, "s", &Str1, 15);
            v104 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v104 )
            {
              v108 = CGuild::CreateGuildName((int)a1, Str1);
              CIOObject::Release(v104, &v104[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 7:
            v103 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v103 )
            {
              v108 = CGuild::AdminInfo(v103, (int)a1);
              CIOObject::Release(v103, &v103[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 8:
            v102 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v102 )
            {
              v108 = CGuild::BasicInfo(v102, (int)a1);
              CIOObject::Release(v102, &v102[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 10:
            v101 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v101 )
            {
              v108 = CGuild::Secession(v101, (int)a1);
              CIOObject::Release(v101, &v101[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 11:
            ScanPacket(Srce, (char *)end, "s", &Source, 181);
            v100 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v100 )
            {
              v108 = CGuild::SetTodayMessage((int)v100, (int)a1, Source);
              CIOObject::Release(v100, &v100[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 12:
            ScanPacket(Srce, (char *)end, "b", &v98);
            v97 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v97 )
            {
              v108 = CGuild::SetExpADD((int *)v97, (int)a1, v98);
              CIOObject::Release(v97, &v97[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 13:
            ScanPacket(Srce, (char *)end, "ddddd", &v94, &v95, &v96, &v91, &v93);
            v92 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v92 )
            {
              v108 = CGuild::SetSkillAble(v92, (int)a1, v94, v95, v96, v91, v93);
              CIOObject::Release(v92, &v92[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 15:
            ScanPacket(Srce, (char *)end, "ddb", &v88, v89, &v90);
            v108 = CGuild::ConfluxAnswer((int)a1, v88, v89[0], v90);
            break;
          case 16:
            v87 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v87 )
            {
              v108 = CGuild::Dissolution((int)v87, (int)a1);
              CIOObject::Release(v87, &v87[2].m_nTimerRef);
            }
            else
            {
              v108 = 1;
            }
            break;
          case 18:
            ScanPacket(Srce, (char *)end, "ddb", &v83, &a4, &v86);
            v84 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v84 )
            {
              v108 = CGuild::AllianceOfferAnswer((int)v84, (int)a1, v83, a4, v86);
              CIOObject::Release(v84, &v84[2].m_nTimerRef);
            }
            break;
          case 19:
            ScanPacket(Srce, (char *)end, "d", v82);
            if ( dword_4E35B8 && dword_4E35B8 != 2 )
            {
              v108 = 70;
            }
            else
            {
              v81 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
              if ( v81 )
              {
                v80 = (int *)CNPC::FindNPC(v82[0]);
                if ( v80 )
                {
                  v108 = CGuild::WarDeclare((int)v81, (int)a1, v80[116]);
                  sub_401DE0(v80);
                }
                CIOObject::Release(v81, &v81[2].m_nTimerRef);
              }
              else
              {
                v108 = 22;
              }
            }
            break;
          case 20:
            ScanPacket(Srce, (char *)end, "d", v78);
            v79 = (int *)CNPC::FindNPC(v78[0]);
            if ( v79 )
            {
              CGuild::WarDelcareList((int)a1, v79[116]);
              sub_401DE0(v79);
            }
            break;
          case 21:
            ScanPacket(Srce, (char *)end, "d", v76);
            v77 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v77 )
            {
              v75 = (int *)CNPC::FindNPC(v76[0]);
              if ( v75 )
              {
                if ( v75[113] == 16 && sub_448870(&a1->m_ptPixel.x, v75 + 83) <= 64 )
                  v108 = CGuild::TrialUnfurlStandard(v77, (int)a1, v75[116]);
                sub_401DE0(v75);
              }
              CIOObject::Release(v77, &v77[2].m_nTimerRef);
            }
            break;
          case 22:
            if ( sub_40B310(a1, 1024) )
            {
              a1->SubGState(a1, 1024);
              v4 = CPlayer::GetGID((CIOCriticalSection *)a1);
              CCastle::UnfurlStandardCancel(v4);
            }
            break;
          case 23:
            ScanPacket(Srce, (char *)end, "d", v73);
            v74 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v74 )
            {
              v72 = (int *)CNPC::FindNPC(v73[0]);
              if ( v72 )
              {
                v108 = CGuild::CastleInfo(v74, (int)a1, v72[116]);
                sub_401DE0(v72);
              }
              CIOObject::Release(v74, &v74[2].m_nTimerRef);
            }
            break;
          case 24:
            ScanPacket(Srce, (char *)end, "db", v69, &v71);
            v70 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v70 )
            {
              v68 = (int *)CNPC::FindNPC(v69[0]);
              if ( v68 )
              {
                v108 = CGuild::TaxRateControl((int)a1, v68[116], v71);
                sub_401DE0(v68);
              }
              CIOObject::Release(v70, &v70[2].m_nTimerRef);
            }
            break;
          case 25:
            ScanPacket(Srce, (char *)end, "d", v63);
            v64 = (int *)CNPC::FindNPC(v63[0]);
            if ( v64 )
            {
              v108 = CGuild::CastleGateNPC((int)a1, v64[116], v64[112]);
              sub_401DE0(v64);
            }
            break;
          case 26:
            ScanPacket(Srce, (char *)end, "db", v60, &v62);
            v61 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v61 )
            {
              v59 = (int *)CNPC::FindNPC(v60[0]);
              if ( v59 )
              {
                v108 = CGuild::CastleSetGateLmit(a1, v59[116], v62);
                sub_401DE0(v59);
              }
              CIOObject::Release(v61, &v61[2].m_nTimerRef);
            }
            break;
          case 27:
            ScanPacket(Srce, (char *)end, "d", v66);
            v67 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v67 )
            {
              v65 = (int *)CNPC::FindNPC(v66[0]);
              if ( v65 )
              {
                v108 = CGuild::TaxLevy(v67, (int)a1, v65[116]);
                sub_401DE0(v65);
              }
              CIOObject::Release(v67, &v67[2].m_nTimerRef);
            }
            break;
          case 28:
            ScanPacket(Srce, (char *)end, "d", &v58);
            v57 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
            if ( v57 )
            {
              v108 = CGuild::CheckStandard((int *)v57, (int)a1, v58);
              CIOObject::Release(v57, &v57[2].m_nTimerRef);
            }
            break;
          case 29:
            ScanPacket(Srce, (char *)end, "d", &v56);
            CIOCriticalSection::Enter(v8);
            if ( a1->m_pMoney && a1->m_pMoney->m_nNum >= 500000 )
            {
              CIOCriticalSection::Leave(v9);
              v55 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
              if ( v55 )
              {
                v108 = CGuild::SetStandard((int *)v55, (int)a1, v56);
                CIOObject::Release(v55, &v55[2].m_nTimerRef);
              }
            }
            else
            {
              CIOCriticalSection::Leave(v9);
            }
            break;
          default:
            break;
        }
        if ( v108 )
          CPlayer::Write((int)a1, 94, "bb", 0, (unsigned __int8)v108);
      }
      return;
    case 47:
      if ( (a1->m_bit & 9) == 8 )
        CPlayer::LeaveParty(a1);
      return;
    case 48:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v120);
        CPlayer::ExileParty((int)a1, v120);
      }
      return;
    case 49:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcp = ScanPacket((char *)Src, (char *)end, "db", &v142, &v141);
        CPlayer::PutInStorage((CIOCriticalSection *)a1, v142, v141, Srcp, end);
      }
      return;
    case 50:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcq = ScanPacket((char *)Src, (char *)end, "db", v140, &v139);
        CPlayer::PutOutStorage((CIOCriticalSection *)a1, v140[0], v139, (int)Srcq, end);
      }
      return;
    case 51:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v180);
        if ( sub_40B310(a1, 256) && v180 && v180 == 393281539 )
          CPlayer::Write((int)a1, 95, "b", 9);
        else
          CQuest::ProcessPacket(v180, a1);
      }
      return;
    case 52:
      if ( (a1->m_bit & 9) == 8 )
        CPlayer::StorageInfo((int)a1);
      return;
    case 54:
      if ( (dword_4E1178 & 0x100) != 0 )
      {
        CAuthSocket::Write(16, "dd", a1->m_nUID, a1->m_nPID);
        CDBSocket::Write(77, "dd", a1->m_nPID, 0);
      }
      return;
    case 56:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v119, v118);
        CPlayer::SaveRevivalPt(a1, v119, 0);
      }
      return;
    case 57:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "dd", &v149, &v150);
        CPlayer::EnchantItem((CIOCriticalSection *)a1, v149, v150);
      }
      return;
    case 58:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcr = ScanPacket((char *)Src, (char *)end, "b", &v138);
        CPlayer::SetStallInfo((int)a1, v138, Srcr, end);
      }
      return;
    case 59:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v38);
        if ( a1->m_nLevel >= 50
          && a1->m_dwSpecialty >= 7
          && CPlayer::FindItem((CIOCriticalSection *)a1, 657, 1)
          && (a1->m_nClass || v38 <= 1u)
          && (a1->m_nClass != 1 || v38 >= 4u)
          && (a1->m_nClass != 2 || v38 == 2 || v38 == 3) )
        {
          sub_412E90((CIOCriticalSection *)a1);
          if ( CPlayer::RemoveItem(a1, 9, 657, 1) )
          {
            v38 &= 1u;
            if ( v38 )
              a1->m_dwSpecialty = 11;
            else
              a1->m_dwSpecialty = 7;
            CPlayerSkill::Redis2ndJobSkill((int *)&a1->m_skill);
            CPlayer::Write((int)a1, 68, "bb", 38, a1->m_dwSpecialty);
            CDBSocket::Write(15, "db", a1->m_nPID, 1 << (v38 + 3));
            CPlayer::Write((int)a1, 68, "bb", 106, 0);
            CChar::WriteInSight((int)a1, 73, "db", a1->m_nId, 28);
          }
          else
          {
            CPlayer::Write((int)a1, 68, "bb", 106, 1);
          }
          sub_412EB0((CIOCriticalSection *)a1);
        }
        else
        {
          CPlayer::Write((int)a1, 68, "bb", 106, 1);
        }
      }
      return;
    case 60:
      if ( (a1->m_bit & 9) == 8 )
      {
        if ( CPlayer::FindItem((CIOCriticalSection *)a1, 661, 1) )
        {
          sub_412E90((CIOCriticalSection *)a1);
          if ( CPlayer::RemoveItem(a1, 9, 661, 1) )
          {
            CMysticArrow::Apply((CMysticArrow *)&a1->m_skill);
            CPlayer::Write((int)a1, 68, "bb", 110, 0);
            CChar::WriteInSight((int)a1, 73, "db", a1->m_nId, 29);
          }
          else
          {
            CPlayer::Write((int)a1, 68, "bb", 110, 1);
          }
          sub_412EB0((CIOCriticalSection *)a1);
        }
        else
        {
          CPlayer::Write((int)a1, 68, "bb", 110, 1);
        }
      }
      return;
    case 61:
      if ( (a1->m_bit & 9) == 8 )
      {
        v5 = ScanPacket((char *)Src, (char *)end, "d", &v36);
        ScanPacket(v5, (char *)end, "b", &v37);
        CChar::WriteInSight((int)a1, 24, "db", v36, v37);
      }
      return;
    case 62:
      if ( (a1->m_bit & 9) == 8 )
        sub_45E720((CIOCriticalSection *)a1);
      return;
    case 63:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v154);
        CPlayer::TrashItem((CIOCriticalSection *)a1, v154);
      }
      return;
    case 64:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcf = ScanPacket((char *)Src, (char *)end, "b", &v48);
        if ( (dword_4E1174[0] & 0x40) != 0 )
        {
          if ( !v48 || v48 == 1 || v48 == 4 )
            CPlayer::FRDProcess((int)a1, v48, Srcf, end);
          else
            LOG_ERR(
              "C2S_FRD wrong Type    PID(%d) Char(%s) UID(%d) Type(%d)",
              a1->m_nPID,
              a1->m_szName,
              a1->m_nUID,
              v48);
        }
      }
      return;
    case 65:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v153);
        CPlayer::PutOnItem((CIOCriticalSection *)a1, v153);
      }
      return;
    case 66:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v152);
        CPlayer::PutOffItem((CIOCriticalSection *)a1, v152);
      }
      return;
    case 67:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v134);
        CPlayer::SwitchStall((char *)a1, v134);
      }
      return;
    case 68:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcs = ScanPacket((char *)Src, (char *)end, "b", &v117);
        CPlayer::ProcessEvent((CIOCriticalSection *)a1, v117, Srcs, end);
      }
      return;
    case 69:
      if ( (a1->m_bit & 9) == 8 )
        a1->SubGState(a1, 96);
      return;
    case 70:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v137, &v136);
        if ( a1->m_nId == v136 )
        {
          CPlayer::GetStallInfo((int)a1, v137, (int)a1);
        }
        else
        {
          v135 = CPlayer::FindPlayer_(v136);
          if ( v135 )
          {
            CPlayer::GetStallInfo((int)v135, v137, (int)a1);
            CIOObject::Release(v135, (volatile int *)&v135[22]);
          }
        }
      }
      return;
    case 71:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcc = ScanPacket((char *)Src, (char *)end, "ddb", &v130, &v132, &v131);
        v133 = CPlayer::FindPlayer_(v130);
        if ( v133 )
        {
          if ( v131 )
            CPlayer::BuyItemAtStall(v133, (int)a1, v132, v131, Srcc, end);
          CIOObject::Release(v133, (volatile int *)&v133[22]);
        }
      }
      return;
    case 72:
      if ( (a1->m_bit & 9) != 8 || (dword_4E1178 & 4) == 0 )
        return;
      Srcd = ScanPacket((char *)Src, (char *)end, "b", &v116);
      if ( v116 == 3 )
      {
        if ( a1->m_nLevel >= 5 )
        {
          if ( CPlayer::EventIsMoraTime(a1) )
            CPlayer::Write((int)a1, 14, "b", 5);
          else
            CPlayer::Write((int)a1, 14, "b", 6);
        }
        else
        {
          CPlayer::Write((int)a1, 14, "b", 8);
        }
        return;
      }
      if ( v116 == 4 && CPlayer::EventIsMoraTime(a1) )
      {
        ScanPacket(Srcd, (char *)end, "b", &v113);
        v114 = RandomBetween(0, 2);
        v115 = 0;
        if ( v113 )
        {
          if ( v113 == 1 )
          {
            if ( v114 )
            {
              if ( v114 == 2 )
                v115 = CPlayer::EventSetMora((CIOCriticalSection *)a1, 3);
              goto LABEL_200;
            }
          }
          else
          {
            if ( v113 != 2 )
            {
              v115 = CPlayer::EventSetMora((CIOCriticalSection *)a1, 2);
              goto LABEL_200;
            }
            if ( v114 != 1 )
            {
              if ( !v114 )
                v115 = CPlayer::EventSetMora((CIOCriticalSection *)a1, 3);
              goto LABEL_200;
            }
          }
        }
        else if ( v114 != 2 )
        {
          if ( v114 == 1 )
            v115 = CPlayer::EventSetMora((CIOCriticalSection *)a1, 3);
          goto LABEL_200;
        }
        v115 = CPlayer::EventSetMora((CIOCriticalSection *)a1, 1);
LABEL_200:
        CPlayer::Write((int)a1, 14, "bbbb", 7, v113, v114, v115);
      }
      return;
    case 73:
      if ( (a1->m_bit & 9) == 8 )
      {
        v175 = 0;
        v176 = 0;
        v178 = 0;
        v172 = 0;
        v173[0] = 0;
        v177 = 0;
        v179 = 0;
        Srcb = ScanPacket((char *)Src, (char *)end, "b", &v174);
        if ( v174 )
        {
          if ( v174 == 1 )
          {
            ScanPacket(Srcb, (char *)end, "www", &v175, &v176, &v178);
          }
          else
          {
            LOG_ERR("Wrong Packet at C2S_COOKING PID :%d , UID :%d", a1->m_nPID, a1->m_nUID);
            CPlayer::Write((int)a1, 45, "b", 1);
            CSocket::OnKick((CIOCriticalSection *)a1->m_pSocket, 1);
          }
        }
        else
        {
          ScanPacket(Srcb, (char *)end, "wwwwwww", &v175, &v176, &v178, &v172, v173, &v177, &v179);
        }
        a1->m_nCooking[0] = v175;
        a1->m_nCooking[1] = v176;
        a1->m_nCooking[2] = v178;
        a1->m_nCooking[3] = v172;
        a1->m_nCooking[4] = v173[0];
        a1->m_nCooking[5] = v177;
        a1->m_nCooking[6] = v179;
        if ( sub_40B310(a1, 64) || !CPlayer::IsCooking((CIOCriticalSection *)a1, v174) )
        {
          CPlayer::Write((int)a1, 68, "bb", 51, v174);
        }
        else
        {
          a1->m_nQuestJob = v174 + 1;
          a1->m_dwQuestJobTick = GetTickCount() + 10000;
          a1->AddGState(a1, 64);
          CPlayer::Write((int)a1, 67, "b", 49);
        }
      }
      return;
    case 74:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v125, &v124);
        CPlayer::RevivalSkill(a1, v125, v124);
      }
      return;
    case 75:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v187);
        if ( v187 == 4 )
        {
          v186 = a1->m_skill.m_pSkill[v187];
          if ( v186 && CPlayer::RemoveItem(a1, 9, 362, 1) && v186->Redistribute(v186, a1) )
            sub_401020(v186);
        }
        else
        {
          StoneOfChance(&a1->m_skill, v187);
        }
      }
      return;
    case 76:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v35);
        if ( v35 == 2 )
        {
          CPlayer::AddEState(a1, 512);
        }
        else if ( sub_44A510(a1, 512) )
        {
          CPlayer::SubEState(a1, 512);
          if ( CPlayer::GetInvenSize((char *)a1) < 60 )
          {
            a2a = CPlayer::_FindItem((int)a1, (v35 != 0) + 663, 1);
            if ( a2a )
              CPlayer::ExchangeBoddariToItem(v35, a2a);
          }
          else
          {
            CPlayer::Write((int)a1, 67, "b", 40);
            CPlayer::Write((int)a1, 67, "b", 17);
          }
        }
      }
      return;
    case 77:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v33);
        if ( v33 == 2 )
        {
          CPlayer::AddEState(a1, 1024);
        }
        else if ( sub_44A510(a1, 1024) )
        {
          CPlayer::SubEState(a1, 1024);
          if ( CPlayer::GetInvenSize((char *)a1) < 60 )
          {
            v32 = (CPlayer *)CPlayer::_FindItem((int)a1, (v33 != 0) + 689, 1);
            if ( v32 )
              CPlayer::ExchangeDanjiToItem((CIOCriticalSection *)a1, v33, v32);
          }
          else
          {
            CPlayer::Write((int)a1, 67, "b", 40);
            CPlayer::Write((int)a1, 67, "b", 17);
          }
        }
      }
      return;
    case 78:
      if ( (a1->m_bit & 9) == 8 )
        CPlayer::InitStat(a1);
      return;
    case 79:
      if ( (a1->m_bit & 9) == 8 && (dword_4E1174[0] & 1) != 0 )
        CPlayer::PKBulletinInfoSend(a1);
      return;
    case 80:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v112);
        CPlayer::AskPvP((CIOCriticalSection *)a1, v112);
      }
      return;
    case 81:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v111, &v110);
        CPlayer::OnAskPvP((CIOCriticalSection *)a1, v111, v110);
      }
      return;
    case 82:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bb", &v53, &v54);
        CPlayer::Transform((int)a1, v53, v54);
      }
      return;
    case 83:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bb", &v185, &v184);
        CPlayer::Bless(a1, v185, v184);
      }
      return;
    case 84:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srck = ScanPacket((char *)Src, (char *)end, "b", &v190);
        sub_47FC90(&a1->m_skill.m_pOwner, v190, (int)Srck, end);
      }
      return;
    case 85:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srct = ScanPacket((char *)Src, (char *)end, "b", &v52);
        CPlayer::MLMProcess(a1, v52, Srct, end);
      }
      return;
    case 88:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "b", &v51);
        if ( v51 )
        {
          if ( !sub_40B310(a1, 2048) )
            a1->AddGState(a1, 2048);
        }
        else if ( sub_40B310(a1, 2048) )
        {
          a1->SubGState(a1, 2048);
        }
      }
      return;
    case 89:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcu = ScanPacket((char *)Src, (char *)end, "b", &v50);
        CPlayer::Shortcut(a1, v50, Srcu, end);
      }
      return;
    case 90:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcv = ScanPacket((char *)Src, (char *)end, "b", &v49);
        CPlayer::SetMyTelPt((int *)a1, v49, Srcv, end);
      }
      return;
    case 91:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "bd", &v147, &v148);
        CPlayer::UpgradeItem(a1, (CIOCriticalSection *)v147, v148);
      }
      return;
    case 92:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcg = ScanPacket((char *)Src, (char *)end, "b", &v47);
        if ( (*(_WORD *)dword_4E1174 & 0x400) != 0 )
        {
          if ( !v47 || v47 == 2 || v47 == 6 || v47 == 8 || v47 == 9 || v47 == 10 )
            CPlayer::MAILProcess(a1, v47, Srcg, end);
          else
            LOG_ERR(
              "C2S_MAIL wrong Type    PID(%d) Char(%s) UID(%d) Type(%d)",
              a1->m_nPID,
              a1->m_szName,
              a1->m_nUID,
              v47);
        }
      }
      return;
    case 93:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v42);
        v43 = CMonster::FindMonster(v42);
        if ( v43 )
        {
          ((void (__thiscall *)(CIOObject *, CPlayer *, int, char *, char *, char *, _DWORD))v43->__vftable[3].~CIOObject)(
            v43,
            a1,
            1,
            v41,
            v41,
            v41,
            0);
          CIOObject::Release(v43, (volatile int *)&v43[22]);
        }
      }
      return;
    case 94:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "d", &v45);
        v46 = CMonster::FindMonster(v45);
        if ( v46 )
        {
          ((void (__thiscall *)(CIOObject *, CPlayer *, _DWORD, char *, char *, char *, _DWORD))v46->__vftable[3].~CIOObject)(
            v46,
            a1,
            0,
            v44,
            v44,
            v44,
            0);
          CIOObject::Release(v46, (volatile int *)&v46[22]);
        }
      }
      return;
    case 95:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "s", &v39, 15);
        CPlayer::ChangeGuildName((int)a1, v39);
      }
      return;
    case 96:
      if ( (a1->m_bit & 9) == 8 )
      {
        ScanPacket((char *)Src, (char *)end, "s", &Str, 15);
        CPlayer::ChangePlayerName((char *)a1, Str);
      }
      return;
    case 97:
      Srcl = ScanPacket((char *)Src, (char *)end, "db", v169, &v170);
      CPlayer::NPCProcess(a1, v169[0], v170, (int)Srcl, end);
      return;
    case 98:
      if ( (a1->m_bit & 9) == 8 )
      {
        Srcj = ScanPacket((char *)Src, (char *)end, "b", &v25);
        if ( v25 )
        {
          if ( v25 == 1 )
          {
            ScanPacket(Srcj, (char *)end, "ddddd", &v17, &v20, &v18, &v16, &v19);
            CPlayer::MixItem(a1, v17, v20, v18, v16, v19);
          }
          else if ( v25 == 2 )
          {
            ScanPacket(Srcj, (char *)end, "ddddd", &v12, &v15, &v13, &v11, &v14);
            CPlayer::EnforceItem((int)a1, 1, v12, v15, v13, v11, v14);
          }
        }
        else
        {
          ScanPacket(Srcj, (char *)end, "dddd", &v22, &v24, &v23, &v21);
          CPlayer::EnforceItem((int)a1, 0, v22, v24, v23, v21, 0);
        }
      }
      return;
    default:
      LOG_ERR("Invalid packet type at CPlayer::Process() Type(%d) UID(%d) bit(%x)", a2, a1->m_nUID, a1->m_bit);
      return;
  }
}
// 4554B8: variable 'v8' is possibly undefined
// 4554ED: variable 'v9' is possibly undefined
// 4E1178: using guessed type int dword_4E1178;
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00456720) --------------------------------------------------------
int __thiscall CPlayer::GetInvenSize(char *this)
{
  int v1; // eax
  int v3; // [esp+0h] [ebp-4h]

  v1 = unknown_libname_10(this + 1068, this);
  return v1 - *(_DWORD *)(v3 + 1104);
}
// 456738: variable 'v3' is possibly undefined

//----- (00456750) --------------------------------------------------------
void __stdcall CPlayer::ExchangeBoddariToItem(int a1, int a2)
{
  CIOCriticalSection *v2; // ecx
  CIOCriticalSection *v3; // [esp+0h] [ebp-8h]
  int v4; // [esp+4h] [ebp-4h]

  v3 = v2;
  v4 = RandomBetween(1, 100000);
  if ( v4 > 94450 )
  {
    if ( a1 )
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 31, 10000);
    else
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 31, 20000);
    return;
  }
  if ( v4 > 74450 )
  {
    if ( a1 )
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 48, 10);
    else
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 48, 20);
    return;
  }
  if ( v4 <= 39450 )
  {
    if ( v4 > 24450 )
    {
      if ( a1 )
      {
        CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 206, 1);
        return;
      }
      goto LABEL_15;
    }
    if ( v4 > 19450 )
    {
      if ( a1 )
      {
        CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 207, 1);
        return;
      }
      goto LABEL_19;
    }
    if ( v4 > 4450 )
    {
      if ( !a1 )
      {
        CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 517, 1);
        return;
      }
LABEL_15:
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 447, 1);
      return;
    }
    if ( v4 > 450 )
    {
      if ( !a1 )
      {
        CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 638, 1);
        return;
      }
LABEL_19:
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 241, 1);
      return;
    }
    if ( v4 > 400 )
    {
      if ( a1 )
      {
        CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 220, 1);
        return;
      }
LABEL_31:
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 221, 1);
      return;
    }
    if ( v4 > 300 )
    {
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 327, 1);
      return;
    }
    if ( v4 > 200 )
    {
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 331, 1);
      return;
    }
    if ( v4 > 120 )
    {
      CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 329, 1);
      return;
    }
    if ( v4 <= 50 )
    {
      if ( !a1 )
      {
        CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 523, 1);
        return;
      }
    }
    else if ( a1 )
    {
      goto LABEL_31;
    }
    CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 332, 1);
    return;
  }
  if ( a1 )
    CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 31, 1000);
  else
    CPlayer::ExchahgeItem(v3, (CPlayer *)a2, 1, 2, 31, 2000);
}
// 456756: variable 'v2' is possibly undefined

//----- (00456AD0) --------------------------------------------------------
void __thiscall CPlayer::ExchahgeItem(CIOCriticalSection *this, CPlayer *a2, int a3, int a4, int a5, int a6)
{
  CItem *Item; // [esp+0h] [ebp-Ch]
  CItem *item; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  if ( !((int (__thiscall *)(CPlayer *))a2->SubMStateEx)(a2) )
    CPlayer::_OutofInven(a2, Item);
  for ( i = 0; i < 5; ++i )
  {
    item = (CItem *)CItem::CreateItem(a5, 0, a6, -1);
    if ( item )
    {
      if ( CPlayer::_InsertItem((int)Item, a4, (volatile int *)item) != 1 )
      {
        CBase::Delete(item);
        LOG_ERR(
          "INSERT_FAIL at CPlayer::ExchahgeItem() While Creating Item PID(%d) NewItemIndex(%d) NewItemNum(%d) ",
          Item[4].m_nVer,
          a5,
          a6);
      }
      break;
    }
    LOG_ERR(
      "Create Item Fail at CPlayer::ExchahgeItem() PID(%d) NewItemIndex(%d) NewItemNum(%d) ",
      Item[4].m_nVer,
      a5,
      a6);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)9);
}
// 456B09: variable 'Item' is possibly undefined

//----- (00456BC0) --------------------------------------------------------
int __thiscall CPlayer::GetNeedPoint(_DWORD *this, int a2)
{
  int v3; // [esp+4h] [ebp-4h]

  v3 = this[a2 + 16];
  if ( v3 >= 250 )
    return 0;
  if ( !this[115] && !a2 || this[115] == 1 && a2 == 2 || this[115] == 2 && a2 == 4 )
    return dword_4D7D48[v3];
  return dword_4D7960[v3];
}

//----- (00456C40) --------------------------------------------------------
int __thiscall CPlayer::OnLoadPlayer(void *this, _BYTE *a2)
{
  int result; // eax
  char *v3; // eax
  _BYTE *v4; // eax
  _BYTE *v5; // eax
  _WORD *v6; // eax
  _WORD *v7; // eax
  _DWORD *v8; // eax
  _BYTE *v9; // eax
  _BYTE *v10; // eax
  _BYTE *v11; // eax
  _BYTE *v12; // eax
  _BYTE *v13; // eax
  _BYTE *v14; // eax
  _WORD *v15; // eax
  _WORD *v16; // eax
  _WORD *v17; // eax
  _WORD *v18; // eax
  _WORD *v19; // eax
  _BYTE *v20; // eax
  int v21; // eax
  _DWORD *v22; // eax
  std::pair<int,CScriptToCookBoard::tBaseTable> *v23; // eax
  int v24; // ecx
  int v25; // eax
  CIOCriticalSection *v26; // [esp+0h] [ebp-B0h]
  CIOCriticalSection *v27; // [esp+0h] [ebp-B0h]
  CIOCriticalSection *v28; // [esp+0h] [ebp-B0h]
  _DWORD *v29; // [esp+0h] [ebp-B0h]
  _DWORD *v30; // [esp+4h] [ebp-ACh]
  unsigned int v31; // [esp+8h] [ebp-A8h]
  CMemory **v33; // [esp+10h] [ebp-A0h]
  CMemory **v34; // [esp+14h] [ebp-9Ch]
  char v35[12]; // [esp+18h] [ebp-98h] BYREF
  char v36[8]; // [esp+24h] [ebp-8Ch] BYREF
  int v37[8]; // [esp+2Ch] [ebp-84h] BYREF
  int a3; // [esp+4Ch] [ebp-64h] BYREF
  int a2a; // [esp+50h] [ebp-60h] BYREF
  int ii; // [esp+54h] [ebp-5Ch]
  _DWORD *v41; // [esp+58h] [ebp-58h]
  int n; // [esp+5Ch] [ebp-54h]
  _DWORD *v43; // [esp+60h] [ebp-50h]
  int m; // [esp+64h] [ebp-4Ch]
  char v45[8]; // [esp+68h] [ebp-48h] BYREF
  int _Val1; // [esp+70h] [ebp-40h] BYREF
  int v47; // [esp+74h] [ebp-3Ch] BYREF
  int v48; // [esp+78h] [ebp-38h] BYREF
  int l; // [esp+7Ch] [ebp-34h]
  char *v50; // [esp+80h] [ebp-30h]
  int k; // [esp+84h] [ebp-2Ch]
  CItem *item; // [esp+88h] [ebp-28h]
  int j; // [esp+8Ch] [ebp-24h]
  int i; // [esp+90h] [ebp-20h]
  unsigned __int8 v55; // [esp+96h] [ebp-1Ah] BYREF
  unsigned __int8 v56; // [esp+97h] [ebp-19h] BYREF
  int v57; // [esp+98h] [ebp-18h] BYREF
  int v58; // [esp+9Ch] [ebp-14h] BYREF
  char *packet; // [esp+A0h] [ebp-10h] BYREF
  int v60; // [esp+A4h] [ebp-Ch]
  int v61; // [esp+A8h] [ebp-8h] BYREF
  int v62; // [esp+ACh] [ebp-4h] BYREF

  sub_412E90((CIOCriticalSection *)this);
  if ( sub_451330(this, 4) )
  {
    sub_412EB0((CIOCriticalSection *)this);
    result = 0;
  }
  else
  {
    packet = GetNumeric<unsigned char>(a2, (_BYTE *)this + 456);
    if ( *((_DWORD *)this + 114) == 1 )
    {
      CPlayer::Write((int)this, 67, "b", 6);
      sub_412EB0((CIOCriticalSection *)this);
      result = 0;
    }
    else
    {
      v3 = GetString(packet, (char *)this + 32);
      v4 = GetNumeric<unsigned char>(v3, (_BYTE *)this + 460);
      v5 = GetNumeric<unsigned char>(v4, (_BYTE *)this + 464);
      v6 = GetNumeric<unsigned char>(v5, (_BYTE *)this + 60);
      v7 = GetNumeric<short>(v6, (_WORD *)this + 234);
      v8 = sub_47A220(v7, (_DWORD *)this + 118);
      v9 = GetNumeric<int>(v8, (_DWORD *)this + 120);
      v10 = GetNumeric<unsigned char>(v9, (_BYTE *)this + 536);
      v11 = GetNumeric<unsigned char>(v10, (_BYTE *)this + 64);
      v12 = GetNumeric<unsigned char>(v11, (_BYTE *)this + 68);
      v13 = GetNumeric<unsigned char>(v12, (_BYTE *)this + 72);
      v14 = GetNumeric<unsigned char>(v13, (_BYTE *)this + 76);
      v15 = GetNumeric<unsigned char>(v14, (_BYTE *)this + 80);
      v16 = GetNumeric<short>(v15, (_WORD *)this + 136);
      v17 = GetNumeric<short>(v16, (_WORD *)this + 138);
      v18 = GetNumeric<short>(v17, (_WORD *)this + 272);
      v19 = GetNumeric<short>(v18, (_WORD *)this + 274);
      v20 = GetNumeric<unsigned char>(v19, (_BYTE *)this + 552);
      packet = GetNumeric<unsigned char>(v20, (_BYTE *)this + 316);
      packet = (char *)GetNumeric<int>(packet, &v57);
      if ( v57 >= 0 )
      {
        packet = (char *)GetNumeric<int>(packet, &v58);
        packet = (char *)GetNumeric<int>(packet, (_DWORD *)this + 85);
        packet = GetNumeric<unsigned char>(packet, (_BYTE *)this + 556);
        packet = GetNumeric<unsigned char>(packet, (_BYTE *)this + 560);
        packet = GetNumeric<unsigned char>(packet, (_BYTE *)this + 572);
        packet = (char *)GetNumeric<int>(packet, (_DWORD *)this + 145);
        CChar::SetXY(this, &v57);
        (*(void (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
        sub_47F680((_DWORD *)this + 156, (int)this);
        v61 = 0;
        v60 = (int)packet;
        packet = GetNumeric<unsigned char>(packet, &v61);
        if ( v61 )
        {
          for ( i = 0; i < v61; ++i )
          {
            packet = GetNumeric<unsigned char>(packet, &v56);
            packet = GetNumeric<unsigned char>(packet, &v55);
            CPlayerSkill::SetSkill((_DWORD *)this + 156, v56, v55);
          }
          sub_47FC00((_DWORD *)this + 156);
          CPlayer::Write((int)this, 16, "m", v60, &packet[-v60]);
        }
        packet = GetNumeric<unsigned char>(packet, &v61);
        if ( v61 )
        {
          CIOCriticalSection::Enter(v26);
          for ( j = 0; j < v61; ++j )
          {
            item = (CItem *)sub_426060(*((_DWORD *)this + 113), (_WORD **)&packet);
            if ( item )
            {
              if ( sub_427130(item, 1) && (item->m_dwInfo & 0x7FF00) != 0 )
              {
                if ( (item->m_dwInfo & 0x100000) != 0 )
                  CChar::AddGState((volatile LONG *)this, 0x80000000);
                v31 = item->m_dwInfo & 0x7FF00;
                if ( v31 > 0x2000 )
                {
                  if ( v31 > 0x10000 )
                  {
                    if ( v31 == 0x20000 )
                    {
                      CChar::AddGState((volatile LONG *)this, 0x20000000);
                      (*(void (__cdecl **)(void *, int, int, int, int))(*(_DWORD *)this + 92))(this, 27, 1, 50, 50);
                      (*(void (__cdecl **)(void *, int, int, int, int))(*(_DWORD *)this + 92))(this, 28, 1, 50, 50);
                    }
                    else if ( v31 == 0x40000 )
                    {
                      CChar::AddGState((volatile LONG *)this, 0x40000000);
                      (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 5, 1, 50);
                      (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 6, 1, 50);
                      (*(void (__cdecl **)(void *, _DWORD, int, int))(*(_DWORD *)this + 92))(this, 0, 1, 6);
                      (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 2, 1, 6);
                      (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 4, 1, 6);
                      (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 3, 1, 10);
                      (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 1, 1, 10);
                    }
                  }
                  else
                  {
                    switch ( v31 )
                    {
                      case 0x10000u:
                        CChar::AddGState((volatile LONG *)this, 0x10000000);
                        if ( (item->m_dwInfo & 0x80000) != 0 )
                        {
                          (*(void (__cdecl **)(void *, int, _DWORD, int))(*(_DWORD *)this + 96))(this, 5, 0, 5);
                          (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 96))(this, 6, 1, 10);
                        }
                        else if ( (item->m_dwInfo & 0x100000) != 0 )
                        {
                          (*(void (__cdecl **)(void *, int, _DWORD, int))(*(_DWORD *)this + 96))(this, 5, 0, 10);
                          (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 96))(this, 6, 1, 20);
                        }
                        break;
                      case 0x4000u:
                        CChar::AddGState((volatile LONG *)this, 0x4000000);
                        break;
                      case 0x8000u:
                        CChar::AddGState((volatile LONG *)this, 0x8000000);
                        if ( (item->m_dwInfo & 0x80000) != 0 )
                        {
                          (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 96))(this, 5, 1, 10);
                          (*(void (__cdecl **)(void *, int, _DWORD, int))(*(_DWORD *)this + 96))(this, 6, 0, 5);
                        }
                        else if ( (item->m_dwInfo & 0x100000) != 0 )
                        {
                          (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 96))(this, 5, 1, 20);
                          (*(void (__cdecl **)(void *, int, _DWORD, int))(*(_DWORD *)this + 96))(this, 6, 0, 10);
                        }
                        break;
                    }
                  }
                }
                else if ( v31 == 0x2000 )
                {
                  CChar::AddGState((volatile LONG *)this, 0x2000000);
                }
                else if ( v31 > 0x400 )
                {
                  if ( v31 == 2048 )
                  {
                    CChar::AddGState((volatile LONG *)this, 0x800000);
                  }
                  else if ( v31 == 4096 )
                  {
                    CChar::AddGState((volatile LONG *)this, 0x1000000);
                  }
                }
                else
                {
                  switch ( v31 )
                  {
                    case 0x400u:
                      CChar::AddGState((volatile LONG *)this, 0x400000);
                      break;
                    case 0x100u:
                      CChar::AddGState((volatile LONG *)this, 0x100000);
                      if ( (item->m_dwInfo & 0x80000) != 0 )
                      {
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 5, 1, 20);
                        (*(void (__cdecl **)(void *, _DWORD, int, int))(*(_DWORD *)this + 92))(this, 0, 1, 2);
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 2, 1, 2);
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 4, 1, 2);
                      }
                      else if ( (item->m_dwInfo & 0x100000) != 0 )
                      {
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 5, 1, 50);
                        (*(void (__cdecl **)(void *, _DWORD, int, int))(*(_DWORD *)this + 92))(this, 0, 1, 3);
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 2, 1, 3);
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 4, 1, 3);
                      }
                      break;
                    case 0x200u:
                      CChar::AddGState((volatile LONG *)this, 0x200000);
                      if ( (item->m_dwInfo & 0x80000) != 0 )
                      {
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 6, 1, 20);
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 3, 1, 2);
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 1, 1, 2);
                      }
                      else if ( (item->m_dwInfo & 0x100000) != 0 )
                      {
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 6, 1, 50);
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 3, 1, 5);
                        (*(void (__cdecl **)(void *, int, int, int))(*(_DWORD *)this + 92))(this, 1, 1, 5);
                      }
                      break;
                  }
                }
              }
              if ( item->CanMerge(item, item) || item->m_nNum <= 1 )
              {
                if ( CPlayer::_IntoInven((volatile int *)item) )
                {
                  if ( item->IsMoney(item) )
                  {
                    *((_DWORD *)this + 274) = item;
                    if ( *(int *)(*((_DWORD *)this + 274) + 52) < 0 )
                    {
                      LOG_ERR(
                        "m_pMoney->m_nNum <0 :  UID(%d) PID(%d) IID(%d) Num(%d) ",
                        *((_DWORD *)this + 112),
                        *((_DWORD *)this + 113),
                        item->m_nIID,
                        *(_DWORD *)(*((_DWORD *)this + 274) + 52));
                      CDBSocket::Write(
                        8,
                        "ddwdb",
                        item->m_nIID,
                        *((_DWORD *)this + 113),
                        31,
                        1 - *(_DWORD *)(*((_DWORD *)this + 274) + 52),
                        54);
                      *(_DWORD *)(*((_DWORD *)this + 274) + 52) = 1;
                    }
                  }
                  else if ( item->IsQuestItem(item) )
                  {
                    ++*((_DWORD *)this + 276);
                  }
                }
                else
                {
                  LOG_ERR("CPlayer::OnLoadPlayer() Item insert error. (IID:%d)", item->m_nIID);
                  CBase::Delete(item);
                }
              }
              else
              {
                LOG_ERR(
                  "CPlayer::OnLoadPlayer()       . Name(%s) PID(%d) UID"
                  "(%d) Index(%d) Num(%d) ",
                  (const char *)this + 32,
                  *((_DWORD *)this + 113),
                  *((_DWORD *)this + 112),
                  item->m_pInit->m_nIndex,
                  item->m_nNum);
                CBase::Delete(item);
              }
            }
          }
          CIOCriticalSection::Leave(v27);
        }
        packet = GetNumeric<unsigned char>(packet, &v61);
        if ( v61 )
        {
          CIOCriticalSection::Enter(v26);
          for ( k = 0; k < v61; ++k )
          {
            v50 = packet;
            v22 = sub_472830(v37, packet + 2, packet);
            sub_470890(
              (int)this + 1128,
              (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v36,
              (int)v22);
            packet += 26;
          }
          CIOCriticalSection::Leave(v28);
        }
        v60 = (int)packet;
        packet = GetNumeric<unsigned char>(packet, &v61);
        if ( v61 )
        {
          for ( l = 0; l < v61; ++l )
          {
            _Val1 = 0;
            v47 = 0;
            v48 = 0;
            packet = (char *)GetNumeric<short>(packet, &_Val1);
            packet = GetNumeric<unsigned char>(packet, &v47);
            packet = GetNumeric<unsigned char>(packet, &v48);
            v23 = std::pair<int,CScriptToCookBoard::tBaseTable>::pair<int,CScriptToCookBoard::tBaseTable>(
                    (std::pair<int,CScriptToCookBoard::tBaseTable> *)v35,
                    &_Val1,
                    (const CScriptToCookBoard::tBaseTable *)&v47);
            sub_4715D0(
              (int)this + 1256,
              (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v45,
              (int)v23);
            if ( !v45[4] )
              LOG_ERR("CPlayer::OnLoadPlayer() Duplicate Quest. (PID:%d, Quest:%d)", *((_DWORD *)this + 113), _Val1);
          }
          CPlayer::Write((int)this, 87, "m", v60, &packet[-v60]);
        }
        if ( (dword_4E1178 & 4) != 0 )
        {
          packet = GetNumeric<unsigned char>(packet, &v61);
          if ( v61 )
          {
            for ( m = 0; m < v61; ++m )
            {
              v34 = sub_401000(0x10u);
              if ( v34 )
                v30 = sub_457E30(v34);
              else
                v30 = 0;
              v43 = v30;
              packet = GetNumeric<unsigned char>(packet, (_BYTE *)v30 + 4);
              packet = (char *)GetNumeric<int>(packet, v43 + 2);
              CPlayer::EventInsert(this, (int)v43);
            }
          }
        }
        packet = GetNumeric<unsigned char>(packet, &v61);
        if ( v61 )
        {
          for ( n = 0; n < v61; ++n )
          {
            v33 = sub_401000(0x30u);
            if ( v33 )
              v29 = sub_457E60(v33);
            else
              v29 = 0;
            v41 = v29;
            packet = GetNumeric<unsigned char>(packet, v29);
            packet = GetString(packet, (char *)v41 + 8);
            packet = (char *)GetNumeric<int>(packet, v41 + 1);
            packet = (char *)GetNumeric<int>(packet, v41 + 10);
            packet = GetNumeric<unsigned char>(packet, (_BYTE *)v41 + 28);
            packet = GetNumeric<unsigned char>(packet, (_BYTE *)v41 + 32);
            CPlayer::MLMLoad((CIOCriticalSection *)this, v41);
          }
        }
        packet = GetNumeric<unsigned char>(packet, &v61);
        if ( v61 )
        {
          for ( ii = 0; ii < v61; ++ii )
          {
            a2a = 0;
            a3 = 0;
            packet = GetNumeric<unsigned char>(packet, &a2a);
            packet = (char *)GetNumeric<int>(packet, &a3);
            CChar::SetBuff(this, a2a, a3);
          }
        }
        if ( CPlayer::IsPCBang(this) )
        {
          v24 = *((_DWORD *)this + 77);
          *((_DWORD *)this + 76) |= 1u;
          *((_DWORD *)this + 77) = v24;
        }
        packet = (char *)GetNumeric<int>(packet, &v62);
        if ( v62 )
        {
          sub_412EB0((CIOCriticalSection *)this);
          CGuild::Load(v62, packet, 0);
          sub_412E90((CIOCriticalSection *)this);
          if ( sub_451330(this, 4) )
            goto LABEL_122;
        }
        if ( *((_DWORD *)this + 120) )
        {
          sub_412EB0((CIOCriticalSection *)this);
          CGuild::Login((int)this);
          sub_412E90((CIOCriticalSection *)this);
          if ( sub_451330(this, 4) )
            goto LABEL_122;
        }
        if ( sub_417450()
          && (sub_412EB0((CIOCriticalSection *)this),
              v25 = CPlayer::GetGID((CIOCriticalSection *)this),
              CGuild::LoginCastle((int)this, v25),
              sub_412E90((CIOCriticalSection *)this),
              sub_451330(this, 4))
          || (sub_496CD0((volatile signed __int32 *)this + 5, 1u), !CPlayer::_Create((CIOCriticalSection *)this)) )
        {
LABEL_122:
          sub_412EB0((CIOCriticalSection *)this);
          result = 0;
        }
        else
        {
          sub_412EB0((CIOCriticalSection *)this);
          result = 1;
        }
      }
      else
      {
        sub_412EB0((CIOCriticalSection *)this);
        ELOG("CPlayer::OnLoadPlayer PID(%d) X(%d) Y(%d) \n", *((_DWORD *)this + 113));
        EBREAK(v21);
        result = 0;
      }
    }
  }
  return result;
}
// 456F16: variable 'v21' is possibly undefined
// 4570D9: variable 'v26' is possibly undefined
// 4578A9: variable 'v27' is possibly undefined
// 45793E: variable 'v28' is possibly undefined
// 4E1178: using guessed type int dword_4E1178;

//----- (00457E30) --------------------------------------------------------
_DWORD *__thiscall sub_457E30(_DWORD *this)
{
  this[1] = 0;
  *this = 0;
  this[3] = 0;
  return this;
}

//----- (00457E60) --------------------------------------------------------
_DWORD *__thiscall sub_457E60(_DWORD *this)
{
  this[10] = 0;
  this[9] = 0;
  this[8] = 0;
  this[7] = 0;
  this[1] = 0;
  *this = 0;
  memset(this + 2, 0, 0x11u);
  this[11] = 0;
  return this;
}

//----- (00457ED0) --------------------------------------------------------
int __thiscall CPlayer::_Create(CIOCriticalSection *a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  _DWORD *v2; // eax
  int v3; // eax
  unsigned int v4; // eax
  int v6; // [esp-6Ch] [ebp-8Ch]
  int v7; // [esp-68h] [ebp-88h]
  int v8; // [esp-64h] [ebp-84h]
  int v9; // [esp-60h] [ebp-80h]
  int v10; // [esp-5Ch] [ebp-7Ch]
  int v11; // [esp-58h] [ebp-78h]
  int v12; // [esp-54h] [ebp-74h]
  int v13; // [esp-50h] [ebp-70h]
  int v14; // [esp-4Ch] [ebp-6Ch]
  int v15; // [esp-48h] [ebp-68h]
  int v16; // [esp-44h] [ebp-64h]
  int v17; // [esp-40h] [ebp-60h]
  int v18; // [esp-3Ch] [ebp-5Ch]
  int v19; // [esp-38h] [ebp-58h]
  int v20; // [esp-34h] [ebp-54h]
  int v21; // [esp-30h] [ebp-50h]
  int v22; // [esp-2Ch] [ebp-4Ch]
  int v23; // [esp-28h] [ebp-48h]
  int v24; // [esp-24h] [ebp-44h]
  int v25; // [esp-20h] [ebp-40h]
  int v26; // [esp-1Ch] [ebp-3Ch]
  int v27; // [esp-18h] [ebp-38h]
  int v28; // [esp-14h] [ebp-34h]
  int v29; // [esp-10h] [ebp-30h]
  int v30; // [esp-Ch] [ebp-2Ch]
  int v31; // [esp-Ch] [ebp-2Ch]
  int v32; // [esp-8h] [ebp-28h]
  int v33; // [esp-8h] [ebp-28h]
  int v34; // [esp-4h] [ebp-24h]
  int v35; // [esp-4h] [ebp-24h]
  CPlayer *a1b; // [esp+0h] [ebp-20h]
  CPlayer *a1c; // [esp+0h] [ebp-20h]
  CPlayer *a1d; // [esp+0h] [ebp-20h]
  int v40; // [esp+4h] [ebp-1Ch] BYREF
  char v41[4]; // [esp+8h] [ebp-18h] BYREF
  int *v42; // [esp+Ch] [ebp-14h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v43; // [esp+10h] [ebp-10h] BYREF
  char *v44; // [esp+14h] [ebp-Ch]
  unsigned __int16 *v45; // [esp+18h] [ebp-8h] BYREF
  void *a2; // [esp+1Ch] [ebp-4h]

  a1[10].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)sub_491080(a1[9].m_dwEIP[1]);
  if ( !a1[10].m_critical_section.DebugInfo )
  {
    LOG_ERR("CPlayer::_Create() Invalid Map or Tile. (map:%d)", a1[9].m_dwEIP[1]);
LABEL_10:
    sub_496CE0((volatile signed __int32 *)&a1->m_critical_section.SpinCount, 1u);
    return 0;
  }
  if ( !CPlayer::Add((int)a1) )
    goto LABEL_10;
  a2 = CIOBuffer::Alloc();
  v44 = (char *)a2;
  *((_BYTE *)a2 + 2) = 4;
  v45 = (unsigned __int16 *)(v44 + 4);
  CIOCriticalSection::Enter(a1);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)&a1b->m_mapItem,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v43);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(&a1b->m_mapItem, (int)v41);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v43,
            v1) )
      break;
    v2 = sub_446090((int *)&v43, &v40, 0);
    v42 = *(int **)(sub_420250(v2) + 4);
    sub_4010D0((int)v42);
    (*(void (__thiscall **)(int *, CPlayer *))(*v42 + 84))(v42, a1b);
    if ( !sub_40B2F0(v42) )
      (*(void (__thiscall **)(int *, unsigned __int16 **, _DWORD))(*v42 + 72))(v42, &v45, 0);
    sub_401DE0(v42);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)a1b);
  v3 = unknown_libname_10(&a1c->m_mapItem, a1c);
  WritePacket(v44 + 3, "b", v3);
  *(_WORD *)v44 = (_WORD)v45 - (_WORD)v44;
  *((_DWORD *)a2 + 2000) = *(unsigned __int16 *)v44;
  CSocket::_CSocket((int)a1d->m_pSocket, a2);
  v34 = a1d->m_nRage;
  v32 = sub_438FA0(a1d, 4);
  v30 = sub_438FA0(a1d, 3);
  v29 = sub_438FA0(a1d, 2);
  v28 = sub_438FA0(a1d, 1);
  v27 = sub_438FA0(a1d, 0);
  v26 = a1d->m_nSUPoint;
  v25 = a1d->m_nPUPoint;
  v24 = CChar::GetMaxMagic(a1d);
  v23 = CChar::GetMinMagic(a1d);
  v22 = CChar::GetMaxAttack(a1d);
  v21 = CChar::GetMinAttack(a1d);
  v20 = HIDWORD(a1d->m_nExp);
  v19 = a1d->m_nExp;
  v18 = CChar::GetAbsorb(a1d);
  v17 = CChar::GetDefense(a1d, 0);
  v16 = CChar::GetDodge(a1d);
  v15 = CChar::GetHit(a1d);
  v14 = CChar::GetMaxMP(a1d);
  v13 = a1d->m_nCurMP;
  v12 = CChar::GetMaxHP(a1d);
  v11 = a1d->m_nCurHP;
  v10 = Char::GetDex(a1d);
  v9 = CChar::GetWis(a1d);
  v8 = CChar::GetInt(a1d);
  v7 = CChar::GetHth(a1d);
  v6 = CChar::GetStr(a1d);
  CPlayer::Write(
    (int)a1d,
    66,
    "bsbwbbbbbwwwwwwwbIwwwwwwbbbbbd",
    a1d->m_dwSpecialty,
    &Source,
    a1d->m_nGRole,
    a1d->m_nContribute,
    v6,
    v7,
    v8,
    v9,
    v10,
    v11,
    v12,
    v13,
    v14,
    v15,
    v16,
    v17,
    v18,
    v19,
    v20,
    v21,
    v22,
    v23,
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v32,
    v34);
  sub_496CD0((volatile signed __int32 *)&a1d->m_bit, 2u);
  v35 = a1d->m_ptPixel.y;
  v33 = a1d->m_ptPixel.x;
  v31 = (unsigned __int16)sub_40A730();
  CPlayer::Write((int)a1d, 27, "wdd", v31, v33, v35);
  v4 = CMapObject::GetState((CIOCriticalSection *)&dword_4E2758[15 * a1d->m_nMap]);
  CPlayer::Write((int)a1d, 22, "bb", v4, 0);
  return 1;
}
// 457F60: variable 'a1b' is possibly undefined
// 457FF7: variable 'a1c' is possibly undefined
// 458039: variable 'a1d' is possibly undefined

//----- (00458210) --------------------------------------------------------
int __thiscall CChar::GetMinMagic(_DWORD *this)
{
  return this[34] + this[58] * this[34] / 100;
}

//----- (00458240) --------------------------------------------------------
int __thiscall CChar::GetMaxMagic(_DWORD *this)
{
  return this[35] + this[59] * this[35] / 100;
}

//----- (00458270) --------------------------------------------------------
void __thiscall CPlayer::GameStart(void *this)
{
  time_t v1; // eax
  int *v2; // [esp-14h] [ebp-1Ch]
  int *v3; // [esp-14h] [ebp-1Ch]
  int *v4; // [esp-10h] [ebp-18h]
  int *v5; // [esp-10h] [ebp-18h]
  int v6; // [esp-Ch] [ebp-14h]
  int v7; // [esp-Ch] [ebp-14h]
  int v8; // [esp-8h] [ebp-10h]
  int v9; // [esp-8h] [ebp-10h]
  int v10; // [esp-4h] [ebp-Ch]
  int v11; // [esp-4h] [ebp-Ch]
  BOOL v12; // [esp-4h] [ebp-Ch]
  CBuffMoveSpeed *v13; // [esp-4h] [ebp-Ch]
  CIOCriticalSection *a1a; // [esp+0h] [ebp-8h]
  int a1b; // [esp+0h] [ebp-8h]
  CIOBuffer *v17; // [esp+4h] [ebp-4h]

  sub_412E90((CIOCriticalSection *)this);
  CSMap::GetCellMap(this, (int)this + 324);
  v10 = *((_DWORD *)this + 128);
  v8 = *((_DWORD *)this + 278);
  v6 = *((_DWORD *)this + 120);
  v4 = CPlayer::GetGuildName((int *)this);
  v2 = CPlayer::GetGuildClassTitle((int *)this);
  CPlayer::Write(
    (int)this,
    50,
    "dsbdddwdmbbIssdbd",
    *((_DWORD *)this + 7),
    (char *)this + 32,
    *((_DWORD *)this + 115) + 128,
    *((_DWORD *)this + 83),
    *((_DWORD *)this + 84),
    *((_DWORD *)this + 85),
    *((_DWORD *)this + 87),
    *((_DWORD *)this + 70),
    (char *)this + 1052,
    14,
    *((_DWORD *)this + 139),
    *((_DWORD *)this + 140),
    *((_DWORD *)this + 72),
    *((_DWORD *)this + 73),
    v2,
    v4,
    v6,
    v8,
    v10);
  v11 = *((_DWORD *)this + 128);
  v9 = *((_DWORD *)this + 278);
  v7 = *((_DWORD *)this + 120);
  v5 = CPlayer::GetGuildName((int *)this);
  v3 = CPlayer::GetGuildClassTitle((int *)this);
  v17 = WritePacket_(
          50,
          "dsbdddwdmbbIssdbd",
          *((_DWORD *)this + 7),
          (char *)this + 32,
          *((_DWORD *)this + 115),
          *((_DWORD *)this + 83),
          *((_DWORD *)this + 84),
          *((_DWORD *)this + 85),
          *((_DWORD *)this + 87),
          *((_DWORD *)this + 70),
          (char *)this + 1052,
          14,
          *((_DWORD *)this + 139),
          *((_DWORD *)this + 140),
          *((_DWORD *)this + 72),
          *((_DWORD *)this + 73),
          v3,
          v5,
          v7,
          v9,
          v11);
  sub_493390(*((void **)this + 80), (int)this, (int)this + 324, (int)v17);
  CIOBuffer::Release(v17);
  sub_496CD0((volatile signed __int32 *)this + 5, 3u);
  v12 = CPlayer::IsPCBang(this) != 0;
  CPlayer::Write((int)this, 28, "b", v12);
  sub_412EB0((CIOCriticalSection *)this);
  if ( !sub_40B310(this, 2) )
  {
    CChar::AddGState((volatile LONG *)this, 0x2000);
    *((_DWORD *)this + 362) = GetTickCount() + 10000;
  }
  if ( (dword_4E1178 & 0x40) != 0 && dword_4E1FF4 > time(0) )
  {
    v1 = time(0);
    v13 = CBuff::CreateBuff(dword_4E1FF8, dword_4E1FF4 - v1, 0, (int)this);
    (*(void (__thiscall **)(void *, CBuffMoveSpeed *))(*(_DWORD *)this + 180))(this, v13);
  }
  CDBSocket::Write(70, "dd", *((_DWORD *)this + 7), *((_DWORD *)this + 113));
  if ( (dword_4E1174[0] & 0x40) != 0 )
    CDBSocket::Write(29, "db", *((_DWORD *)this + 113), 3);
  if ( (*(_WORD *)dword_4E1174 & 0x400) != 0 )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)this);
    sub_471BE0(&a1a[44].m_critical_section.SpinCount);
    CIOCriticalSection::Leave(a1a);
    CDBSocket::Write(30, "dbd", *(_DWORD *)(a1b + 452), 2, *(_DWORD *)(a1b + 452));
  }
}
// 4584F2: variable 'this' is possibly undefined
// 458562: variable 'a1a' is possibly undefined
// 45858A: variable 'a1b' is possibly undefined
// 4E1178: using guessed type int dword_4E1178;
// 4E1FF4: using guessed type int dword_4E1FF4;

//----- (004585B0) --------------------------------------------------------
void __thiscall CPlayer::GameRestart(void *this)
{
  void *v1; // eax
  int v2; // eax
  int v3; // [esp-4h] [ebp-8h]

  CBase::Delete((CItem *)this);
  sub_4327C0(*((CIOCriticalSection **)this + 419));
  v1 = *(void **)(*((_DWORD *)this + 419) + 120);
  if ( v1 != this )
    EBREAK((int)v1);
  *(_DWORD *)(*((_DWORD *)this + 419) + 120) = 0;
  sub_4327E0(*((CIOCriticalSection **)this + 419));
  sub_496CE0((volatile signed __int32 *)(*((_DWORD *)this + 419) + 108), 4u);
  sub_496CE0((volatile signed __int32 *)(*((_DWORD *)this + 419) + 108), 3u);
  v3 = *(_DWORD *)(*((_DWORD *)this + 419) + 152);
  v2 = sub_458680(*((_DWORD **)this + 419));
  CDBSocket::Write(33, "dd", v2, v3);
  CIOObject::Release((CIOObject *)this, (volatile int *)this + 110);
}

//----- (00458680) --------------------------------------------------------
int __thiscall sub_458680(_DWORD *this)
{
  return this[70];
}

//----- (004586A0) --------------------------------------------------------
void __thiscall CPlayer::SaveAllProperty(int this, int a2)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-8h]
  _DWORD *v4; // [esp+0h] [ebp-8h]
  int v5; // [esp+4h] [ebp-4h]

  *(_DWORD *)(this + 1440) = 0;
  CDBSocket::Write(
    2,
    "dbbwIbbbbbbwwwwbbddddb",
    *(_DWORD *)(this + 452),
    *(_DWORD *)(this + 60),
    *(_DWORD *)(this + 464),
    *(_DWORD *)(this + 468),
    *(_DWORD *)(this + 472),
    *(_DWORD *)(this + 476),
    *(_DWORD *)(this + 536),
    *(_DWORD *)(this + 64),
    *(_DWORD *)(this + 68),
    *(_DWORD *)(this + 72),
    *(_DWORD *)(this + 76),
    *(_DWORD *)(this + 80),
    *(_DWORD *)(this + 272),
    *(_DWORD *)(this + 276),
    *(_DWORD *)(this + 544),
    *(_DWORD *)(this + 548),
    *(_DWORD *)(this + 552),
    *(_DWORD *)(this + 316),
    *(_DWORD *)(this + 332),
    *(_DWORD *)(this + 336),
    *(_DWORD *)(this + 340),
    *(_DWORD *)(this + 580),
    a2);
  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  if ( !a2 && v3[34].m_critical_section.SpinCount )
    CItemTransform::SaveInfo((_DWORD *)v3[34].m_critical_section.SpinCount, 0);
  v5 = (int)v3[42].m_critical_section.DebugInfo;
  v3[42].m_critical_section.DebugInfo = 0;
  CIOCriticalSection::Leave(v3);
  if ( v5 )
    CPlayer::MLMAccumFee(v4, v5);
}
// 4587A7: variable 'v3' is possibly undefined
// 4587F4: variable 'v4' is possibly undefined

//----- (00458800) --------------------------------------------------------
void CPlayer::UpdateProperty(int a1, int a2, int a3, signed __int64 a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // ecx
  int v12; // ecx
  int v13; // eax
  int v14; // ecx
  int v15; // edx
  int v16; // [esp-14h] [ebp-ACh]
  int v17; // [esp-10h] [ebp-A8h]
  int v18; // [esp-10h] [ebp-A8h]
  int v19; // [esp-Ch] [ebp-A4h]
  int v20; // [esp-Ch] [ebp-A4h]
  int v21; // [esp-Ch] [ebp-A4h]
  int v22; // [esp-8h] [ebp-A0h]
  int v23; // [esp-8h] [ebp-A0h]
  int v24; // [esp-8h] [ebp-A0h]
  int v25; // [esp-4h] [ebp-9Ch]
  int v26; // [esp-4h] [ebp-9Ch]
  int v27; // [esp-4h] [ebp-9Ch]
  int v28; // [esp-4h] [ebp-9Ch]
  int v29; // [esp-4h] [ebp-9Ch]
  int v30; // [esp-4h] [ebp-9Ch]
  int v31; // [esp+0h] [ebp-98h]
  int v32; // [esp+4h] [ebp-94h]
  int v33; // [esp+14h] [ebp-84h]
  int v34; // [esp+18h] [ebp-80h]
  int v35; // [esp+1Ch] [ebp-7Ch]
  int v36; // [esp+20h] [ebp-78h]
  CIOObject *v37; // [esp+30h] [ebp-68h]
  CIOObject *v38; // [esp+38h] [ebp-60h]
  signed __int64 v39; // [esp+40h] [ebp-58h]
  int v40; // [esp+5Ch] [ebp-3Ch]
  int v41; // [esp+64h] [ebp-34h]
  int v42; // [esp+68h] [ebp-30h]
  int v43; // [esp+70h] [ebp-28h]
  int v44; // [esp+7Ch] [ebp-1Ch]
  int v45; // [esp+80h] [ebp-18h]
  int v46; // [esp+84h] [ebp-14h]
  int v47; // [esp+8Ch] [ebp-Ch]

  switch ( a2 )
  {
    case 0:
      if ( a3 )
      {
        v4 = CChar::GetStr((_DWORD *)a1);
        *(_DWORD *)(a1 + 120) -= 15 * v4 / 54;
        *(_DWORD *)(a1 + 128) -= (11 * v4 - 80) / 30;
        *(_DWORD *)(a1 + 132) -= (8 * v4 - 25) / 15;
        *(_DWORD *)(a1 + 64) += a4;
        v47 = CChar::GetStr((_DWORD *)a1);
        *(_DWORD *)(a1 + 120) += 15 * v47 / 54;
        *(_DWORD *)(a1 + 128) += (11 * v47 - 80) / 30;
        *(_DWORD *)(a1 + 132) += (8 * v47 - 25) / 15;
        v25 = CChar::GetMaxAttack((_DWORD *)a1);
        v22 = CChar::GetMinAttack((_DWORD *)a1);
        v19 = CChar::GetHit((_DWORD *)a1);
        CPlayer::Write(a1, 69, "bbwww", 0, v47, v19, v22, v25);
      }
      break;
    case 1:
      if ( a3 )
      {
        v44 = dword_4D6A10[*(_DWORD *)(a1 + 460)];
        v5 = CChar::GetHth((_DWORD *)a1);
        *(_DWORD *)(a1 + 84) -= 2 * v5 * v5 / v44;
        *(_DWORD *)(a1 + 176) -= v5 / 9;
        v46 = *(_DWORD *)(a1 + 68);
        *(_DWORD *)(a1 + 68) = a4 + v46;
        v45 = CChar::GetHth((_DWORD *)a1);
        *(_DWORD *)(a1 + 84) += 2 * v45 * v45 / v44;
        *(_DWORD *)(a1 + 176) += v45 / 9;
        sub_47FC50((_DWORD *)(a1 + 624), 30, 2 * v46 * v46 / v44, 2 * *(_DWORD *)(a1 + 68) * *(_DWORD *)(a1 + 68) / v44);
        v26 = sub_438FA0((_DWORD *)a1, 4);
        v6 = CChar::GetMaxHP((CPlayer *)a1);
        CPlayer::Write(a1, 69, "bbwww", 1, v45, *(_DWORD *)(a1 + 272), v6, v26);
        CPlayer::UpdatePartyMember((CPlayer *)a1, 7);
      }
      break;
    case 2:
      if ( a3 )
      {
        v7 = CChar::GetInt((_DWORD *)a1);
        *(_DWORD *)(a1 + 136) -= (7 * v7 - 20) / 12;
        *(_DWORD *)(a1 + 140) -= 7 * v7 / 12;
        *(_DWORD *)(a1 + 160) -= v7 / 9;
        *(_DWORD *)(a1 + 164) -= v7 / 9;
        *(_DWORD *)(a1 + 168) -= v7 / 9;
        *(_DWORD *)(a1 + 72) += a4;
        v43 = CChar::GetInt((_DWORD *)a1);
        *(_DWORD *)(a1 + 136) += (7 * v43 - 20) / 12;
        *(_DWORD *)(a1 + 140) += 7 * v43 / 12;
        *(_DWORD *)(a1 + 160) += v43 / 9;
        *(_DWORD *)(a1 + 164) += v43 / 9;
        *(_DWORD *)(a1 + 168) += v43 / 9;
        v27 = sub_438FA0((_DWORD *)a1, 2);
        v23 = sub_438FA0((_DWORD *)a1, 1);
        v20 = sub_438FA0((_DWORD *)a1, 0);
        v17 = CChar::GetMaxMagic((_DWORD *)a1);
        v16 = CChar::GetMinMagic((_DWORD *)a1);
        CPlayer::Write(a1, 69, "bbwwwww", 2, v43, v16, v17, v20, v23, v27);
      }
      break;
    case 3:
      if ( a3 )
      {
        v41 = dword_4D6A1C[*(_DWORD *)(a1 + 460)];
        v8 = CChar::GetWis((_DWORD *)a1);
        *(_DWORD *)(a1 + 88) -= v8 + 2 * v8 * v8 / v41;
        *(_DWORD *)(a1 + 136) -= v8 / 7;
        *(_DWORD *)(a1 + 140) -= 14 * v8 / 45;
        *(_DWORD *)(a1 + 172) -= v8 / 9;
        *(_DWORD *)(a1 + 76) += a4;
        v42 = CChar::GetWis((_DWORD *)a1);
        *(_DWORD *)(a1 + 88) += v42 + 2 * v42 * v42 / v41;
        *(_DWORD *)(a1 + 136) += v42 / 7;
        *(_DWORD *)(a1 + 140) += 14 * v42 / 45;
        *(_DWORD *)(a1 + 172) += v42 / 9;
        v28 = sub_438FA0((_DWORD *)a1, 3);
        v9 = CChar::GetMaxMP((CPlayer *)a1);
        CPlayer::Write(a1, 69, "bbwww", 3, v42, *(_DWORD *)(a1 + 276), v9, v28);
      }
      break;
    case 4:
      if ( a3 )
      {
        v10 = Char::GetDex((_DWORD *)a1);
        *(_DWORD *)(a1 + 120) -= v10 / 8;
        *(_DWORD *)(a1 + 124) -= v10 / 3;
        *(_DWORD *)(a1 + 128) -= (v10 - 5) / 11;
        *(_DWORD *)(a1 + 132) -= 18 * v10 / 77;
        *(_DWORD *)(a1 + 80) += a4;
        v40 = Char::GetDex((_DWORD *)a1);
        *(_DWORD *)(a1 + 120) += v40 / 8;
        *(_DWORD *)(a1 + 124) += v40 / 3;
        *(_DWORD *)(a1 + 128) += (v40 - 5) / 11;
        *(_DWORD *)(a1 + 132) += 18 * v40 / 77;
        v29 = CChar::GetMaxAttack((_DWORD *)a1);
        v24 = CChar::GetMinAttack((_DWORD *)a1);
        v21 = CChar::GetDodge((_DWORD *)a1);
        v18 = CChar::GetHit((_DWORD *)a1);
        CPlayer::Write(a1, 69, "bbwwww", 4, v40, v18, v21, v24, v29);
      }
      break;
    case 7:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 272) += a4;
        if ( CChar::GetMaxHP((CPlayer *)a1) >= *(_DWORD *)(a1 + 272) )
          v36 = *(_DWORD *)(a1 + 272);
        else
          v36 = CChar::GetMaxHP((CPlayer *)a1);
        *(_DWORD *)(a1 + 272) = v36;
      }
      else
      {
        *(_DWORD *)(a1 + 272) -= a4;
        if ( *(int *)(a1 + 272) >= 0 )
          v35 = *(_DWORD *)(a1 + 272);
        else
          v35 = 0;
        *(_DWORD *)(a1 + 272) = v35;
      }
      CPlayer::Write(a1, 69, "bw", 7, *(_DWORD *)(a1 + 272));
      CPlayer::UpdatePartyMember((CPlayer *)a1, 7);
      break;
    case 8:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 276) += a4;
        if ( CChar::GetMaxMP((CPlayer *)a1) >= *(_DWORD *)(a1 + 276) )
          v34 = *(_DWORD *)(a1 + 276);
        else
          v34 = CChar::GetMaxMP((CPlayer *)a1);
        *(_DWORD *)(a1 + 276) = v34;
      }
      else
      {
        *(_DWORD *)(a1 + 276) -= a4;
        if ( *(int *)(a1 + 276) >= 0 )
          v33 = *(_DWORD *)(a1 + 276);
        else
          v33 = 0;
        *(_DWORD *)(a1 + 276) = v33;
      }
      CPlayer::Write(a1, 69, "bw", 8, *(_DWORD *)(a1 + 276));
      break;
    case 23:
      if ( a3 )
        v11 = a4 + *(_DWORD *)(a1 + 544);
      else
        v11 = *(_DWORD *)(a1 + 544) - a4;
      *(_DWORD *)(a1 + 544) = v11;
      CPlayer::Write(a1, 69, "bw", 23, *(_DWORD *)(a1 + 544));
      break;
    case 24:
      if ( a3 )
        v12 = a4 + *(_DWORD *)(a1 + 548);
      else
        v12 = *(_DWORD *)(a1 + 548) - a4;
      *(_DWORD *)(a1 + 548) = v12;
      CPlayer::Write(a1, 69, "bw", 24, *(_DWORD *)(a1 + 548));
      break;
    case 25:
      v39 = a4;
      if ( a3 )
      {
        if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
          v39 = 2 * a4;
        *(_QWORD *)(a1 + 472) += v39;
        while ( *(_QWORD *)(a1 + 472) >= __SPAIR64__(
                                           dword_4D66F4[2 * *(_DWORD *)(a1 + 60)],
                                           dword_4D66F0[2 * *(_DWORD *)(a1 + 60)]) )
        {
          *(_QWORD *)(a1 + 472) -= __PAIR64__(
                                     dword_4D66F4[2 * *(_DWORD *)(a1 + 60)],
                                     dword_4D66F0[2 * *(_DWORD *)(a1 + 60)]);
          CPlayer::LevelUp((_DWORD *)a1);
        }
        CPlayer::Write(a1, 69, "bII", 25, *(_DWORD *)(a1 + 472), *(_DWORD *)(a1 + 476), v39);
      }
      else
      {
        if ( *(_QWORD *)(a1 + 472) >= a4 )
        {
          *(_QWORD *)(a1 + 472) -= a4;
        }
        else
        {
          v39 = *(_QWORD *)(a1 + 472);
          *(_QWORD *)(a1 + 472) = 0i64;
        }
        CPlayer::Write(a1, 69, "bII", 25, *(_DWORD *)(a1 + 472), *(_DWORD *)(a1 + 476), -v39);
      }
      break;
    case 26:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 84) -= 52 * *(_DWORD *)(a1 + 60) / 3;
        *(_DWORD *)(a1 + 88) -= 8 * *(_DWORD *)(a1 + 60) + 140;
        *(_DWORD *)(a1 + 128) -= 7 * *(_DWORD *)(a1 + 60) / 10;
        *(_DWORD *)(a1 + 132) -= *(_DWORD *)(a1 + 60);
        *(_DWORD *)(a1 + 60) += a4;
        *(_DWORD *)(a1 + 84) += 52 * *(_DWORD *)(a1 + 60) / 3;
        *(_DWORD *)(a1 + 88) += 8 * *(_DWORD *)(a1 + 60) + 140;
        *(_DWORD *)(a1 + 128) += 7 * *(_DWORD *)(a1 + 60) / 10;
        *(_DWORD *)(a1 + 132) += *(_DWORD *)(a1 + 60);
        *(_DWORD *)(a1 + 272) = CChar::GetMaxHP((CPlayer *)a1);
        *(_DWORD *)(a1 + 276) = CChar::GetMaxMP((CPlayer *)a1);
        CPlayer::Write(a1, 69, "bb", 26, *(_DWORD *)(a1 + 60));
        CPlayer::Write(a1, 69, "bww", 5, *(_DWORD *)(a1 + 272), *(_DWORD *)(a1 + 272));
        CPlayer::Write(a1, 69, "bww", 6, *(_DWORD *)(a1 + 276), *(_DWORD *)(a1 + 276));
        v30 = CChar::GetMaxAttack((_DWORD *)a1);
        v13 = CChar::GetMinAttack((_DWORD *)a1);
        CPlayer::Write(a1, 69, "bww", 27, v13, v30);
        CChar::WriteInSight(a1, 73, "db", *(_DWORD *)(a1 + 28), 3);
        CPlayer::UpdatePartyMember((CPlayer *)a1, 7);
        CPlayer::UpdatePartyMember((CPlayer *)a1, 26);
        v38 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
        if ( v38 )
        {
          CGuild::SetMemberLelvelUp(a1 + 32, *(_DWORD *)(a1 + 60));
          CIOObject::Release(v38, &v38[2].m_nTimerRef);
        }
      }
      break;
    case 30:
      if ( a3 )
        v14 = a4 + *(_DWORD *)(a1 + 468);
      else
        v14 = *(_DWORD *)(a1 + 468) - a4;
      *(_DWORD *)(a1 + 468) = v14;
      CPlayer::Write(a1, 69, "bw", 30, *(_DWORD *)(a1 + 468));
      v37 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
      if ( v37 )
      {
        CGuild::SetPointADD(v37, a1, a4, a3);
        CIOObject::Release(v37, &v37[2].m_nTimerRef);
      }
      break;
    case 35:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 580) += a4;
        if ( *(_DWORD *)(a1 + 580) >= dword_4D66AC[0] )
          v32 = dword_4D66AC[0];
        else
          v32 = *(_DWORD *)(a1 + 580);
        *(_DWORD *)(a1 + 580) = v32;
      }
      else
      {
        *(_DWORD *)(a1 + 580) -= a4;
        if ( *(int *)(a1 + 580) <= 0 )
          v31 = 0;
        else
          v31 = *(_DWORD *)(a1 + 580);
        *(_DWORD *)(a1 + 580) = v31;
      }
      CPlayer::Write(a1, 69, "bd", 35, *(_DWORD *)(a1 + 580));
      break;
    case 38:
      if ( a3 )
        v15 = a4 + *(_DWORD *)(a1 + 312);
      else
        v15 = *(_DWORD *)(a1 + 312) - a4;
      *(_DWORD *)(a1 + 312) = v15;
      break;
    default:
      return;
  }
}
// 4D66F0: using guessed type int dword_4D66F0[];

//----- (00459840) --------------------------------------------------------
void __cdecl CPlayer::UpdatePrtyPt(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax
  int v6; // eax
  int v7; // ecx
  int v8; // edx
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // ecx
  int v13; // edx
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // ecx
  int v18; // edx
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // ecx
  int v23; // edx
  int v24; // eax
  int v25; // eax
  int v26; // eax
  int v27; // ecx
  int v28; // edx
  int v29; // eax
  int v30; // eax
  int v31; // eax
  int v32; // ecx
  int v33; // edx
  int v34; // edx
  int v35; // [esp-14h] [ebp-D4h]
  int v36; // [esp-14h] [ebp-D4h]
  int v37; // [esp-10h] [ebp-D0h]
  int v38; // [esp-10h] [ebp-D0h]
  int v39; // [esp-10h] [ebp-D0h]
  int v40; // [esp-Ch] [ebp-CCh]
  int v41; // [esp-Ch] [ebp-CCh]
  int v42; // [esp-Ch] [ebp-CCh]
  int v43; // [esp-Ch] [ebp-CCh]
  int v44; // [esp-8h] [ebp-C8h]
  int v45; // [esp-8h] [ebp-C8h]
  int v46; // [esp-8h] [ebp-C8h]
  int v47; // [esp-8h] [ebp-C8h]
  int v48; // [esp-8h] [ebp-C8h]
  int v49; // [esp-8h] [ebp-C8h]
  int v50; // [esp-4h] [ebp-C4h]
  int v51; // [esp-4h] [ebp-C4h]
  int v52; // [esp-4h] [ebp-C4h]
  int v53; // [esp-4h] [ebp-C4h]
  int v54; // [esp-4h] [ebp-C4h]
  int v55; // [esp-4h] [ebp-C4h]
  int v56; // [esp-4h] [ebp-C4h]
  int v57; // [esp-4h] [ebp-C4h]
  int v58; // [esp-4h] [ebp-C4h]
  int v59; // [esp-4h] [ebp-C4h]
  int v60; // [esp-4h] [ebp-C4h]
  int v61; // [esp+0h] [ebp-C0h]
  int v62; // [esp+4h] [ebp-BCh]
  int v63; // [esp+8h] [ebp-B8h]
  int v64; // [esp+Ch] [ebp-B4h]
  int v65; // [esp+10h] [ebp-B0h]
  int v66; // [esp+14h] [ebp-ACh]
  int v67; // [esp+74h] [ebp-4Ch]
  int v68; // [esp+7Ch] [ebp-44h]
  int v69; // [esp+84h] [ebp-3Ch]
  int v70; // [esp+84h] [ebp-3Ch]
  int v71; // [esp+8Ch] [ebp-34h]
  int v72; // [esp+90h] [ebp-30h]
  int v73; // [esp+98h] [ebp-28h]
  int v74; // [esp+98h] [ebp-28h]
  int v75; // [esp+9Ch] [ebp-24h]
  int v76; // [esp+9Ch] [ebp-24h]
  int v77; // [esp+A4h] [ebp-1Ch]
  int v78; // [esp+A8h] [ebp-18h]
  int v79; // [esp+ACh] [ebp-14h]
  int v80; // [esp+ACh] [ebp-14h]
  int v81; // [esp+B4h] [ebp-Ch]
  int v82; // [esp+B4h] [ebp-Ch]

  switch ( a2 )
  {
    case 0:
      v81 = CChar::GetStr((_DWORD *)a1);
      *(_DWORD *)(a1 + 120) -= 15 * v81 / 54;
      *(_DWORD *)(a1 + 128) -= (11 * v81 - 80) / 30;
      *(_DWORD *)(a1 + 132) -= (8 * v81 - 25) / 15;
      if ( a3 )
        *(_DWORD *)(a1 + 92) += a4;
      else
        *(_DWORD *)(a1 + 92) -= a4;
      v82 = CChar::GetStr((_DWORD *)a1);
      *(_DWORD *)(a1 + 120) += 15 * v82 / 54;
      *(_DWORD *)(a1 + 128) += (11 * v82 - 80) / 30;
      *(_DWORD *)(a1 + 132) += (8 * v82 - 25) / 15;
      v50 = CChar::GetMaxAttack((_DWORD *)a1);
      v44 = CChar::GetMinAttack((_DWORD *)a1);
      v40 = CChar::GetHit((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bbwww", 0, v82, v40, v44, v50);
      break;
    case 1:
      v79 = CChar::GetHth((_DWORD *)a1);
      v78 = dword_4D6A10[*(_DWORD *)(a1 + 460)];
      if ( a3 )
      {
        *(_DWORD *)(a1 + 84) -= 2 * v79 * v79 / v78;
        *(_DWORD *)(a1 + 176) -= v79 / 9;
        *(_DWORD *)(a1 + 96) += a4;
        v80 = CChar::GetHth((_DWORD *)a1);
        *(_DWORD *)(a1 + 84) += 2 * v80 * v80 / v78;
        *(_DWORD *)(a1 + 176) += v80 / 9;
        v77 = CChar::GetMaxHP((CPlayer *)a1);
        if ( a4 < 0 )
        {
          if ( *(_DWORD *)(a1 + 272) >= v77 )
            v66 = v77;
          else
            v66 = *(_DWORD *)(a1 + 272);
          *(_DWORD *)(a1 + 272) = v66;
        }
      }
      else
      {
        *(_DWORD *)(a1 + 84) -= 2 * v79 * v79 / v78;
        *(_DWORD *)(a1 + 176) -= v79 / 9;
        *(_DWORD *)(a1 + 96) -= a4;
        v80 = CChar::GetHth((_DWORD *)a1);
        *(_DWORD *)(a1 + 84) += 2 * v80 * v80 / v78;
        *(_DWORD *)(a1 + 176) += v80 / 9;
        v77 = CChar::GetMaxHP((CPlayer *)a1);
        if ( a4 > 0 )
        {
          if ( *(_DWORD *)(a1 + 272) >= v77 )
            v65 = v77;
          else
            v65 = *(_DWORD *)(a1 + 272);
          *(_DWORD *)(a1 + 272) = v65;
        }
      }
      v51 = sub_438FA0((_DWORD *)a1, 4);
      CPlayer::Write(a1, 69, "bbwww", 1, v80, *(_DWORD *)(a1 + 272), v77, v51);
      CPlayer::UpdatePartyMember((CPlayer *)a1, 7);
      break;
    case 2:
      v75 = CChar::GetInt((_DWORD *)a1);
      *(_DWORD *)(a1 + 136) -= (7 * v75 - 20) / 12;
      *(_DWORD *)(a1 + 140) -= 7 * v75 / 12;
      *(_DWORD *)(a1 + 160) -= v75 / 9;
      *(_DWORD *)(a1 + 164) -= v75 / 9;
      *(_DWORD *)(a1 + 168) -= v75 / 9;
      if ( a3 )
        *(_DWORD *)(a1 + 100) += a4;
      else
        *(_DWORD *)(a1 + 100) -= a4;
      v76 = CChar::GetInt((_DWORD *)a1);
      *(_DWORD *)(a1 + 136) += (7 * v76 - 20) / 12;
      *(_DWORD *)(a1 + 140) += 7 * v76 / 12;
      *(_DWORD *)(a1 + 160) += v76 / 9;
      *(_DWORD *)(a1 + 164) += v76 / 9;
      *(_DWORD *)(a1 + 168) += v76 / 9;
      v52 = sub_438FA0((_DWORD *)a1, 2);
      v45 = sub_438FA0((_DWORD *)a1, 1);
      v41 = sub_438FA0((_DWORD *)a1, 0);
      v37 = CChar::GetMaxMagic((_DWORD *)a1);
      v35 = CChar::GetMinMagic((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bbwwwww", 2, v76, v35, v37, v41, v45, v52);
      break;
    case 3:
      v73 = CChar::GetWis((_DWORD *)a1);
      v71 = dword_4D6A1C[*(_DWORD *)(a1 + 460)];
      if ( a3 )
      {
        *(_DWORD *)(a1 + 88) -= v73 + 2 * v73 * v73 / v71;
        *(_DWORD *)(a1 + 136) -= v73 / 7;
        *(_DWORD *)(a1 + 140) -= 14 * v73 / 45;
        *(_DWORD *)(a1 + 172) -= v73 / 9;
        *(_DWORD *)(a1 + 104) += a4;
        v74 = CChar::GetWis((_DWORD *)a1);
        *(_DWORD *)(a1 + 88) += v74 + 2 * v74 * v74 / v71;
        *(_DWORD *)(a1 + 136) += v74 / 7;
        *(_DWORD *)(a1 + 140) += 14 * v74 / 45;
        *(_DWORD *)(a1 + 172) += v74 / 9;
        v72 = CChar::GetMaxMP((CPlayer *)a1);
        if ( a4 < 0 )
        {
          if ( *(_DWORD *)(a1 + 276) >= v72 )
            v64 = v72;
          else
            v64 = *(_DWORD *)(a1 + 276);
          *(_DWORD *)(a1 + 276) = v64;
        }
      }
      else
      {
        *(_DWORD *)(a1 + 88) -= v73 + 2 * v73 * v73 / v71;
        *(_DWORD *)(a1 + 136) -= v73 / 7;
        *(_DWORD *)(a1 + 140) -= 14 * v73 / 45;
        *(_DWORD *)(a1 + 172) -= v73 / 9;
        *(_DWORD *)(a1 + 104) -= a4;
        v74 = CChar::GetWis((_DWORD *)a1);
        *(_DWORD *)(a1 + 88) += v74 + 2 * v74 * v74 / v71;
        *(_DWORD *)(a1 + 136) += v74 / 7;
        *(_DWORD *)(a1 + 140) += 14 * v74 / 45;
        *(_DWORD *)(a1 + 172) += v74 / 9;
        v72 = CChar::GetMaxMP((CPlayer *)a1);
        if ( a4 > 0 )
        {
          if ( *(_DWORD *)(a1 + 276) >= v72 )
            v63 = v72;
          else
            v63 = *(_DWORD *)(a1 + 276);
          *(_DWORD *)(a1 + 276) = v63;
        }
      }
      v53 = sub_438FA0((_DWORD *)a1, 3);
      CPlayer::Write(a1, 69, "bbwww", 3, v74, *(_DWORD *)(a1 + 276), v72, v53);
      break;
    case 4:
      v69 = Char::GetDex((_DWORD *)a1);
      *(_DWORD *)(a1 + 120) -= v69 / 8;
      *(_DWORD *)(a1 + 124) -= v69 / 3;
      *(_DWORD *)(a1 + 128) -= (v69 - 5) / 11;
      *(_DWORD *)(a1 + 132) -= 18 * v69 / 77;
      if ( a3 )
        *(_DWORD *)(a1 + 108) += a4;
      else
        *(_DWORD *)(a1 + 108) -= a4;
      v70 = Char::GetDex((_DWORD *)a1);
      *(_DWORD *)(a1 + 120) += v70 / 8;
      *(_DWORD *)(a1 + 124) += v70 / 3;
      *(_DWORD *)(a1 + 128) += (v70 - 5) / 11;
      *(_DWORD *)(a1 + 132) += 18 * v70 / 77;
      v54 = CChar::GetMaxAttack((_DWORD *)a1);
      v46 = CChar::GetMinAttack((_DWORD *)a1);
      v42 = CChar::GetDodge((_DWORD *)a1);
      v38 = CChar::GetHit((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bbwwww", 4, v70, v38, v42, v46, v54);
      break;
    case 5:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 112) += a4;
        v68 = CChar::GetMaxHP((CPlayer *)a1);
      }
      else
      {
        *(_DWORD *)(a1 + 112) -= a4;
        v68 = CChar::GetMaxHP((CPlayer *)a1);
        if ( *(_DWORD *)(a1 + 272) >= v68 )
          v62 = v68;
        else
          v62 = *(_DWORD *)(a1 + 272);
        *(_DWORD *)(a1 + 272) = v62;
      }
      CPlayer::Write(a1, 69, "bww", 5, *(_DWORD *)(a1 + 272), v68);
      CPlayer::UpdatePartyMember((CPlayer *)a1, 7);
      break;
    case 6:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 116) += a4;
        v67 = CChar::GetMaxMP((CPlayer *)a1);
      }
      else
      {
        *(_DWORD *)(a1 + 116) -= a4;
        v67 = CChar::GetMaxMP((CPlayer *)a1);
        if ( *(_DWORD *)(a1 + 276) >= v67 )
          v61 = v67;
        else
          v61 = *(_DWORD *)(a1 + 276);
        *(_DWORD *)(a1 + 276) = v61;
      }
      CPlayer::Write(a1, 69, "bww", 6, *(_DWORD *)(a1 + 276), v67);
      break;
    case 9:
      if ( a3 )
        v5 = a4 + *(_DWORD *)(a1 + 120);
      else
        v5 = *(_DWORD *)(a1 + 120) - a4;
      *(_DWORD *)(a1 + 120) = v5;
      v6 = CChar::GetHit((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bw", 9, v6);
      break;
    case 10:
      if ( a3 )
        v7 = a4 + *(_DWORD *)(a1 + 124);
      else
        v7 = *(_DWORD *)(a1 + 124) - a4;
      *(_DWORD *)(a1 + 124) = v7;
      v55 = CChar::GetDodge((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bw", 10, v55);
      break;
    case 11:
      if ( a3 )
        v8 = a4 + *(_DWORD *)(a1 + 128);
      else
        v8 = *(_DWORD *)(a1 + 128) - a4;
      *(_DWORD *)(a1 + 128) = v8;
      v9 = CChar::GetMinAttack((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bw", 11, v9);
      break;
    case 12:
      if ( a3 )
        v10 = a4 + *(_DWORD *)(a1 + 132);
      else
        v10 = *(_DWORD *)(a1 + 132) - a4;
      *(_DWORD *)(a1 + 132) = v10;
      v11 = CChar::GetMaxAttack((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bw", 12, v11);
      break;
    case 13:
      if ( a3 )
        v13 = a4 + *(_DWORD *)(a1 + 136);
      else
        v13 = *(_DWORD *)(a1 + 136) - a4;
      *(_DWORD *)(a1 + 136) = v13;
      v14 = CChar::GetMinMagic((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bw", 13, v14);
      break;
    case 14:
      if ( a3 )
        v15 = a4 + *(_DWORD *)(a1 + 140);
      else
        v15 = *(_DWORD *)(a1 + 140) - a4;
      *(_DWORD *)(a1 + 140) = v15;
      v16 = CChar::GetMinMagic((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bw", 13, v16);
      break;
    case 15:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 144) += a4;
        v18 = a5 + *(_DWORD *)(a1 + 148);
      }
      else
      {
        *(_DWORD *)(a1 + 144) -= a4;
        v18 = *(_DWORD *)(a1 + 148) - a5;
      }
      *(_DWORD *)(a1 + 148) = v18;
      v19 = CChar::GetDefense((_DWORD *)a1, 0);
      CPlayer::Write(a1, 69, "bw", 15, v19);
      break;
    case 16:
      if ( a3 )
        v20 = a4 + *(_DWORD *)(a1 + 152);
      else
        v20 = *(_DWORD *)(a1 + 152) - a4;
      *(_DWORD *)(a1 + 152) = v20;
      v21 = CChar::GetAbsorb((CPlayer *)a1);
      CPlayer::Write(a1, 69, "bw", 16, v21);
      break;
    case 17:
      if ( a3 )
        v22 = a4 + *(_DWORD *)(a1 + 156);
      else
        v22 = *(_DWORD *)(a1 + 156) - a4;
      *(_DWORD *)(a1 + 156) = v22;
      v58 = CChar::GetASpeed((CPlayer *)a1);
      CPlayer::Write(a1, 69, "bw", 17, v58);
      break;
    case 18:
      if ( a3 )
        v23 = a4 + *(_DWORD *)(a1 + 160);
      else
        v23 = *(_DWORD *)(a1 + 160) - a4;
      *(_DWORD *)(a1 + 160) = v23;
      v24 = sub_438FA0((_DWORD *)a1, 0);
      CPlayer::Write(a1, 69, "bw", 18, v24);
      break;
    case 19:
      if ( a3 )
        v25 = a4 + *(_DWORD *)(a1 + 164);
      else
        v25 = *(_DWORD *)(a1 + 164) - a4;
      *(_DWORD *)(a1 + 164) = v25;
      v26 = sub_438FA0((_DWORD *)a1, 1);
      CPlayer::Write(a1, 69, "bw", 19, v26);
      break;
    case 20:
      if ( a3 )
        v27 = a4 + *(_DWORD *)(a1 + 168);
      else
        v27 = *(_DWORD *)(a1 + 168) - a4;
      *(_DWORD *)(a1 + 168) = v27;
      v59 = sub_438FA0((_DWORD *)a1, 2);
      CPlayer::Write(a1, 69, "bw", 20, v59);
      break;
    case 21:
      if ( a3 )
        v28 = a4 + *(_DWORD *)(a1 + 172);
      else
        v28 = *(_DWORD *)(a1 + 172) - a4;
      *(_DWORD *)(a1 + 172) = v28;
      v29 = sub_438FA0((_DWORD *)a1, 3);
      CPlayer::Write(a1, 69, "bw", 21, v29);
      break;
    case 22:
      if ( a3 )
        v30 = a4 + *(_DWORD *)(a1 + 176);
      else
        v30 = *(_DWORD *)(a1 + 176) - a4;
      *(_DWORD *)(a1 + 176) = v30;
      v31 = sub_438FA0((_DWORD *)a1, 4);
      CPlayer::Write(a1, 69, "bw", 22, v31);
      break;
    case 27:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 128) += a4;
        v12 = a5 + *(_DWORD *)(a1 + 132);
      }
      else
      {
        *(_DWORD *)(a1 + 128) -= a4;
        v12 = *(_DWORD *)(a1 + 132) - a5;
      }
      *(_DWORD *)(a1 + 132) = v12;
      v56 = CChar::GetMaxAttack((_DWORD *)a1);
      v47 = CChar::GetMinAttack((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bww", 27, v47, v56);
      break;
    case 28:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 136) += a4;
        v17 = a5 + *(_DWORD *)(a1 + 140);
      }
      else
      {
        *(_DWORD *)(a1 + 136) -= a4;
        v17 = *(_DWORD *)(a1 + 140) - a5;
      }
      *(_DWORD *)(a1 + 140) = v17;
      v57 = CChar::GetMaxMagic((_DWORD *)a1);
      v48 = CChar::GetMinMagic((_DWORD *)a1);
      CPlayer::Write(a1, 69, "bww", 28, v48, v57);
      break;
    case 29:
      if ( a3 )
      {
        *(_DWORD *)(a1 + 160) += a4;
        *(_DWORD *)(a1 + 164) += a4;
        *(_DWORD *)(a1 + 168) += a4;
        *(_DWORD *)(a1 + 172) += a4;
        v32 = a4 + *(_DWORD *)(a1 + 176);
      }
      else
      {
        *(_DWORD *)(a1 + 160) -= a4;
        *(_DWORD *)(a1 + 164) -= a4;
        *(_DWORD *)(a1 + 168) -= a4;
        *(_DWORD *)(a1 + 172) -= a4;
        v32 = *(_DWORD *)(a1 + 176) - a4;
      }
      *(_DWORD *)(a1 + 176) = v32;
      v60 = sub_438FA0((_DWORD *)a1, 4);
      v49 = sub_438FA0((_DWORD *)a1, 3);
      v43 = sub_438FA0((_DWORD *)a1, 2);
      v39 = sub_438FA0((_DWORD *)a1, 1);
      v36 = sub_438FA0((_DWORD *)a1, 0);
      CPlayer::Write(a1, 69, "bwwwww", 29, v36, v39, v43, v49, v60);
      break;
    case 31:
      if ( a3 )
        v33 = a4 + *(_DWORD *)(a1 + 180);
      else
        v33 = *(_DWORD *)(a1 + 180) - a4;
      *(_DWORD *)(a1 + 180) = v33;
      break;
    case 36:
      if ( a3 )
        v34 = a4 + *(_DWORD *)(a1 + 184);
      else
        v34 = *(_DWORD *)(a1 + 184) - a4;
      *(_DWORD *)(a1 + 184) = v34;
      CPlayer::Write(a1, 69, "bw", 36, *(_DWORD *)(a1 + 184));
      break;
    default:
      return;
  }
}

//----- (0045B100) --------------------------------------------------------
void __cdecl CPlayer::UpdatePrtyPer(CPlayer *a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax
  int v6; // eax
  int v7; // ecx
  int v8; // edx
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // ecx
  int v13; // edx
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // ecx
  int v18; // edx
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // ecx
  int v23; // ecx
  int v24; // ecx
  int v25; // eax
  int v26; // eax
  int v27; // [esp-14h] [ebp-C4h]
  int v28; // [esp-10h] [ebp-C0h]
  int v29; // [esp-10h] [ebp-C0h]
  int v30; // [esp-Ch] [ebp-BCh]
  int v31; // [esp-Ch] [ebp-BCh]
  int v32; // [esp-Ch] [ebp-BCh]
  int v33; // [esp-8h] [ebp-B8h]
  int v34; // [esp-8h] [ebp-B8h]
  int v35; // [esp-8h] [ebp-B8h]
  int v36; // [esp-8h] [ebp-B8h]
  int v37; // [esp-8h] [ebp-B8h]
  int v38; // [esp-4h] [ebp-B4h]
  int v39; // [esp-4h] [ebp-B4h]
  int v40; // [esp-4h] [ebp-B4h]
  int v41; // [esp-4h] [ebp-B4h]
  int v42; // [esp-4h] [ebp-B4h]
  int v43; // [esp-4h] [ebp-B4h]
  int v44; // [esp-4h] [ebp-B4h]
  int v45; // [esp-4h] [ebp-B4h]
  int v46; // [esp+0h] [ebp-B0h]
  int v47; // [esp+4h] [ebp-ACh]
  int v48; // [esp+8h] [ebp-A8h]
  int v49; // [esp+Ch] [ebp-A4h]
  int v50; // [esp+10h] [ebp-A0h]
  int v51; // [esp+14h] [ebp-9Ch]
  int v52; // [esp+64h] [ebp-4Ch]
  int v53; // [esp+6Ch] [ebp-44h]
  int v54; // [esp+74h] [ebp-3Ch]
  int v55; // [esp+74h] [ebp-3Ch]
  int v56; // [esp+7Ch] [ebp-34h]
  int v57; // [esp+80h] [ebp-30h]
  int v58; // [esp+88h] [ebp-28h]
  int v59; // [esp+88h] [ebp-28h]
  int v60; // [esp+8Ch] [ebp-24h]
  int v61; // [esp+8Ch] [ebp-24h]
  int v62; // [esp+94h] [ebp-1Ch]
  int v63; // [esp+98h] [ebp-18h]
  int v64; // [esp+9Ch] [ebp-14h]
  int v65; // [esp+9Ch] [ebp-14h]
  int v66; // [esp+A4h] [ebp-Ch]
  int v67; // [esp+A4h] [ebp-Ch]

  switch ( a2 )
  {
    case 0:
      v66 = CChar::GetStr(a1);
      a1->m_prtyPt.nHit -= 15 * v66 / 54;
      a1->m_prtyPt.nMinAttack -= (11 * v66 - 80) / 30;
      a1->m_prtyPt.nMaxAttack -= (8 * v66 - 25) / 15;
      if ( a3 )
        a1->m_prtyPer.nPer[0] += a4;
      else
        a1->m_prtyPer.nPer[0] -= a4;
      v67 = CChar::GetStr(a1);
      a1->m_prtyPt.nHit += 15 * v67 / 54;
      a1->m_prtyPt.nMinAttack += (11 * v67 - 80) / 30;
      a1->m_prtyPt.nMaxAttack += (8 * v67 - 25) / 15;
      v38 = CChar::GetMaxAttack(a1);
      v33 = CChar::GetMinAttack(a1);
      v30 = CChar::GetHit(a1);
      CPlayer::Write((int)a1, 69, "bbwww", 0, v67, v30, v33, v38);
      break;
    case 1:
      v64 = CChar::GetHth(a1);
      v63 = dword_4D6A10[a1->m_nClass];
      if ( a3 )
      {
        a1->m_prtyBase.nBase[5] -= 2 * v64 * v64 / v63;
        a1->m_prtyPt.nResist[4] -= v64 / 9;
        a1->m_prtyPer.nPer[1] += a4;
        v65 = CChar::GetHth(a1);
        a1->m_prtyBase.nBase[5] += 2 * v65 * v65 / v63;
        a1->m_prtyPt.nResist[4] += v65 / 9;
        v62 = CChar::GetMaxHP(a1);
        if ( a4 < 0 )
        {
          if ( a1->m_nCurHP >= v62 )
            v51 = v62;
          else
            v51 = a1->m_nCurHP;
          a1->m_nCurHP = v51;
        }
      }
      else
      {
        a1->m_prtyBase.nBase[5] -= 2 * v64 * v64 / v63;
        a1->m_prtyPt.nResist[4] -= v64 / 9;
        a1->m_prtyPer.nPer[1] -= a4;
        v65 = CChar::GetHth(a1);
        a1->m_prtyBase.nBase[5] += 2 * v65 * v65 / v63;
        a1->m_prtyPt.nResist[4] += v65 / 9;
        v62 = CChar::GetMaxHP(a1);
        if ( a4 > 0 )
        {
          if ( a1->m_nCurHP >= v62 )
            v50 = v62;
          else
            v50 = a1->m_nCurHP;
          a1->m_nCurHP = v50;
        }
      }
      v39 = sub_438FA0(a1, 4);
      CPlayer::Write((int)a1, 69, "bbwww", 1, v65, a1->m_nCurHP, v62, v39);
      CPlayer::UpdatePartyMember(a1, 7);
      break;
    case 2:
      v60 = CChar::GetInt(a1);
      a1->m_prtyPt.nMinMagic -= (7 * v60 - 20) / 12;
      a1->m_prtyPt.nMaxMagic -= 7 * v60 / 12;
      a1->m_prtyPt.nResist[0] -= v60 / 9;
      a1->m_prtyPt.nResist[1] -= v60 / 9;
      a1->m_prtyPt.nResist[2] -= v60 / 9;
      if ( a3 )
        a1->m_prtyPer.nPer[2] += a4;
      else
        a1->m_prtyPer.nPer[2] -= a4;
      v61 = CChar::GetInt(a1);
      a1->m_prtyPt.nMinMagic += (7 * v61 - 20) / 12;
      a1->m_prtyPt.nMaxMagic += 7 * v61 / 12;
      a1->m_prtyPt.nResist[0] += v61 / 9;
      a1->m_prtyPt.nResist[1] += v61 / 9;
      a1->m_prtyPt.nResist[2] += v61 / 9;
      v40 = sub_438FA0(a1, 2);
      v34 = sub_438FA0(a1, 1);
      v31 = sub_438FA0(a1, 0);
      v28 = CChar::GetMaxMagic(a1);
      v27 = CChar::GetMinMagic(a1);
      CPlayer::Write((int)a1, 69, "bbwwwww", 2, v61, v27, v28, v31, v34, v40);
      break;
    case 3:
      v58 = CChar::GetWis(a1);
      v56 = dword_4D6A1C[a1->m_nClass];
      if ( a3 )
      {
        a1->m_prtyBase.nBase[6] -= v58 + 2 * v58 * v58 / v56;
        a1->m_prtyPt.nMinMagic -= v58 / 7;
        a1->m_prtyPt.nMaxMagic -= 14 * v58 / 45;
        a1->m_prtyPt.nResist[3] -= v58 / 9;
        a1->m_prtyPer.nPer[3] += a4;
        v59 = CChar::GetWis(a1);
        a1->m_prtyBase.nBase[6] += v59 + 2 * v59 * v59 / v56;
        a1->m_prtyPt.nMinMagic += v59 / 7;
        a1->m_prtyPt.nMaxMagic += 14 * v59 / 45;
        a1->m_prtyPt.nResist[3] += v59 / 9;
        v57 = CChar::GetMaxMP(a1);
        if ( a4 < 0 )
        {
          if ( a1->m_nCurMP >= v57 )
            v49 = v57;
          else
            v49 = a1->m_nCurMP;
          a1->m_nCurMP = v49;
        }
      }
      else
      {
        a1->m_prtyBase.nBase[6] -= v58 + 2 * v58 * v58 / v56;
        a1->m_prtyPt.nMinMagic -= v58 / 7;
        a1->m_prtyPt.nMaxMagic -= 14 * v58 / 45;
        a1->m_prtyPt.nResist[3] -= v58 / 9;
        a1->m_prtyPer.nPer[3] -= a4;
        v59 = CChar::GetWis(a1);
        a1->m_prtyBase.nBase[6] += v59 + 2 * v59 * v59 / v56;
        a1->m_prtyPt.nMinMagic += v59 / 7;
        a1->m_prtyPt.nMaxMagic += 14 * v59 / 45;
        a1->m_prtyPt.nResist[3] += v59 / 9;
        v57 = CChar::GetMaxMP(a1);
        if ( a4 > 0 )
        {
          if ( a1->m_nCurMP >= v57 )
            v48 = v57;
          else
            v48 = a1->m_nCurMP;
          a1->m_nCurMP = v48;
        }
      }
      v41 = sub_438FA0(a1, 3);
      CPlayer::Write((int)a1, 69, "bbwww", 3, v59, a1->m_nCurMP, v57, v41);
      break;
    case 4:
      v54 = Char::GetDex(a1);
      a1->m_prtyPt.nHit -= v54 / 8;
      a1->m_prtyPt.nDodge -= v54 / 3;
      a1->m_prtyPt.nMinAttack -= (v54 - 5) / 11;
      a1->m_prtyPt.nMaxAttack -= 18 * v54 / 77;
      if ( a3 )
        a1->m_prtyPer.nPer[4] += a4;
      else
        a1->m_prtyPer.nPer[4] -= a4;
      v55 = Char::GetDex(a1);
      a1->m_prtyPt.nHit += v55 / 8;
      a1->m_prtyPt.nDodge += v55 / 3;
      a1->m_prtyPt.nMinAttack += (v55 - 5) / 11;
      a1->m_prtyPt.nMaxAttack += 18 * v55 / 77;
      v42 = CChar::GetMaxAttack(a1);
      v35 = CChar::GetMinAttack(a1);
      v32 = CChar::GetDodge(a1);
      v29 = CChar::GetHit(a1);
      CPlayer::Write((int)a1, 69, "bbwwww", 4, v55, v29, v32, v35, v42);
      break;
    case 5:
      if ( a3 )
      {
        a1->m_prtyPer.nPer[5] += a4;
        v53 = CChar::GetMaxHP(a1);
      }
      else
      {
        a1->m_prtyPer.nPer[5] -= a4;
        v53 = CChar::GetMaxHP(a1);
        if ( a1->m_nCurHP >= v53 )
          v47 = v53;
        else
          v47 = a1->m_nCurHP;
        a1->m_nCurHP = v47;
      }
      CPlayer::Write((int)a1, 69, "bww", 5, a1->m_nCurHP, v53);
      CPlayer::UpdatePartyMember(a1, 7);
      break;
    case 6:
      if ( a3 )
      {
        a1->m_prtyPer.nPer[6] += a4;
        v52 = CChar::GetMaxMP(a1);
      }
      else
      {
        a1->m_prtyPer.nPer[6] -= a4;
        v52 = CChar::GetMaxMP(a1);
        if ( a1->m_nCurMP >= v52 )
          v46 = v52;
        else
          v46 = a1->m_nCurMP;
        a1->m_nCurMP = v46;
      }
      CPlayer::Write((int)a1, 69, "bww", 6, a1->m_nCurMP, v52);
      CPlayer::UpdatePartyMember(a1, 8);
      break;
    case 9:
      if ( a3 )
        v5 = a4 + a1->m_prtyPer.nHit;
      else
        v5 = a1->m_prtyPer.nHit - a4;
      a1->m_prtyPer.nHit = v5;
      v6 = CChar::GetHit(a1);
      CPlayer::Write((int)a1, 69, "bw", 9, v6);
      break;
    case 10:
      if ( a3 )
        v7 = a4 + a1->m_prtyPer.nDodge;
      else
        v7 = a1->m_prtyPer.nDodge - a4;
      a1->m_prtyPer.nDodge = v7;
      v43 = CChar::GetDodge(a1);
      CPlayer::Write((int)a1, 69, "bw", 10, v43);
      break;
    case 11:
      if ( a3 )
        v8 = a4 + a1->m_prtyPer.nMinAttack;
      else
        v8 = a1->m_prtyPer.nMinAttack - a4;
      a1->m_prtyPer.nMinAttack = v8;
      v9 = CChar::GetMinAttack(a1);
      CPlayer::Write((int)a1, 69, "bw", 11, v9);
      break;
    case 12:
      if ( a3 )
        v10 = a4 + a1->m_prtyPer.nMaxAttack;
      else
        v10 = a1->m_prtyPer.nMaxAttack - a4;
      a1->m_prtyPer.nMaxAttack = v10;
      v11 = CChar::GetMaxAttack(a1);
      CPlayer::Write((int)a1, 69, "bw", 12, v11);
      break;
    case 13:
      if ( a3 )
        v13 = a4 + a1->m_prtyPer.nMinMagic;
      else
        v13 = a1->m_prtyPer.nMinMagic - a4;
      a1->m_prtyPer.nMinMagic = v13;
      v14 = CChar::GetMinMagic(a1);
      CPlayer::Write((int)a1, 69, "bw", 13, v14);
      break;
    case 14:
      if ( a3 )
        v15 = a4 + a1->m_prtyPer.nMaxMagic;
      else
        v15 = a1->m_prtyPer.nMaxMagic - a4;
      a1->m_prtyPer.nMaxMagic = v15;
      v16 = CChar::GetMaxMagic(a1);
      CPlayer::Write((int)a1, 69, "bw", 14, v16);
      break;
    case 15:
      if ( a3 )
      {
        a1->m_prtyPer.nDefense[0] += a4;
        v18 = a5 + a1->m_prtyPer.nDefense[1];
      }
      else
      {
        a1->m_prtyPer.nDefense[0] -= a4;
        v18 = a1->m_prtyPer.nDefense[1] - a5;
      }
      a1->m_prtyPer.nDefense[1] = v18;
      v19 = CChar::GetDefense(a1, 0);
      CPlayer::Write((int)a1, 69, "bw", 15, v19);
      break;
    case 16:
      if ( a3 )
        v20 = a4 + a1->m_prtyPer.nAbsorb;
      else
        v20 = a1->m_prtyPer.nAbsorb - a4;
      a1->m_prtyPer.nAbsorb = v20;
      v21 = CChar::GetAbsorb(a1);
      CPlayer::Write((int)a1, 69, "bw", 16, v21);
      break;
    case 17:
      if ( a3 )
        v22 = a4 + a1->m_prtyPer.nASpeed;
      else
        v22 = a1->m_prtyPer.nASpeed - a4;
      a1->m_prtyPer.nASpeed = v22;
      CPlayer::Write((int)a1, 69, "bw", 17, a1->m_prtyPer.nASpeed);
      break;
    case 27:
      if ( a3 )
      {
        a1->m_prtyPer.nMinAttack += a4;
        v12 = a5 + a1->m_prtyPer.nMaxAttack;
      }
      else
      {
        a1->m_prtyPer.nMinAttack -= a4;
        v12 = a1->m_prtyPer.nMaxAttack - a5;
      }
      a1->m_prtyPer.nMaxAttack = v12;
      v44 = CChar::GetMaxAttack(a1);
      v36 = CChar::GetMinAttack(a1);
      CPlayer::Write((int)a1, 69, "bww", 27, v36, v44);
      break;
    case 28:
      if ( a3 )
      {
        a1->m_prtyPer.nMinMagic += a4;
        v17 = a5 + a1->m_prtyPer.nMaxMagic;
      }
      else
      {
        a1->m_prtyPer.nMinMagic -= a4;
        v17 = a1->m_prtyPer.nMaxMagic - a5;
      }
      a1->m_prtyPer.nMaxMagic = v17;
      v45 = CChar::GetMaxMagic(a1);
      v37 = CChar::GetMinMagic(a1);
      CPlayer::Write((int)a1, 69, "bww", 28, v37, v45);
      break;
    case 31:
      if ( a3 )
        v23 = a4 + a1->m_prtyPer.nFatal;
      else
        v23 = a1->m_prtyPer.nFatal - a4;
      a1->m_prtyPer.nFatal = v23;
      break;
    case 32:
      if ( a3 )
        v24 = a4 + a1->m_prtyPer.nMSpeed;
      else
        v24 = a1->m_prtyPer.nMSpeed - a4;
      a1->m_prtyPer.nMSpeed = v24;
      CChar::WriteInSight((int)a1, 72, "dbw", a1->m_nId, 32, a1->m_prtyPer.nMSpeed);
      break;
    case 33:
      if ( a3 )
        v25 = a4 + a1->m_prtyPer.nBlock;
      else
        v25 = a1->m_prtyPer.nBlock - a4;
      a1->m_prtyPer.nBlock = v25;
      break;
    case 37:
      if ( a3 )
        v26 = a4 + a1->m_prtyPer.nHost;
      else
        v26 = a1->m_prtyPer.nHost - a4;
      a1->m_prtyPer.nHost = v26;
      break;
    default:
      return;
  }
}

//----- (0045C740) --------------------------------------------------------
void __thiscall CPlayer::Attack(CPlayer *a1, int a2, int a3)
{
  int v3; // eax
  int v4; // esi
  CBuffMoveSpeed *v5; // eax
  CBuffMoveSpeed *v6; // eax
  CBuffMoveSpeed *v7; // eax
  CBuffMoveSpeed *v8; // eax
  CBuffMoveSpeed *v9; // eax
  CBuffMoveSpeed *v10; // eax
  CBuffMoveSpeed *v11; // eax
  int v12; // [esp-10h] [ebp-48h]
  int v13; // [esp-Ch] [ebp-44h]
  int v14; // [esp-8h] [ebp-40h]
  int v15; // [esp-4h] [ebp-3Ch]
  int v16; // [esp+0h] [ebp-38h]
  unsigned int v17; // [esp+4h] [ebp-34h]
  unsigned int v18; // [esp+8h] [ebp-30h]
  int v20; // [esp+14h] [ebp-24h] BYREF
  int v21; // [esp+18h] [ebp-20h] BYREF
  int v22; // [esp+1Ch] [ebp-1Ch] BYREF
  int v23; // [esp+20h] [ebp-18h]
  int v24; // [esp+24h] [ebp-14h]
  unsigned int v25; // [esp+28h] [ebp-10h]
  unsigned int v26; // [esp+2Ch] [ebp-Ch]
  CIOObject *v27; // [esp+30h] [ebp-8h]
  unsigned int v28; // [esp+34h] [ebp-4h]

  if ( CChar::IsNormal((int)a1) && !sub_40B310(a1, 4) && CPlayer::IsWState(a1, 0) )
  {
    v27 = 0;
    if ( a2 )
    {
      if ( a2 == 1 )
        v27 = CMonster::FindMonster(a3);
    }
    else
    {
      v27 = CPlayer::FindPlayer_(a3);
    }
    if ( v27 )
    {
      if ( a1->CanAttack(a1, (CChar *)v27, 0) )
      {
        v25 = CChar::GetASpeed(a1);
        v28 = v25;
        v26 = GetTickCount();
        if ( v26 < a1->m_dwNextAction )
          v28 -= a1->m_dwNextAction - v26;
        if ( a1->m_nMap == v27[19].m_nGeneralRef && CChar::IsNormal((int)v27) )
        {
          a1->m_dwNextAction = v25 + v26;
          CChar::SetDirection(a1, v27[20].m_nGeneralRef - a1->m_ptPixel.x, (int)v27[21].__vftable - a1->m_ptPixel.y);
          v22 = 0;
          v21 = 0;
          v20 = 0;
          v24 = 0;
          v23 = 0;
          v23 = ((int (__thiscall *)(CIOObject *, CPlayer *))v27->__vftable[6].OnFree)(v27, a1);
          if ( !v23 )
          {
            if ( CChar::CheckHit((int)a1, v27, 0) )
            {
              if ( a1->m_nClass == 1 )
                v18 = 0;
              else
                v18 = v28 * a1->GetPalsyDamage(a1, (CChar *)v27) / v25;
              v21 = v18;
              v3 = CChar::GetAttack(a1);
              v24 = ((int (__thiscall *)(CIOObject *, CPlayer *, unsigned int, int *, int *, int *, _DWORD))v27->__vftable[3].~CIOObject)(
                      v27,
                      a1,
                      v28 * v3 / v25,
                      &v22,
                      &v20,
                      &v21,
                      0);
              if ( v24 )
              {
                if ( (a1->m_nGState & 0x7FF00000) != 0 )
                {
                  v4 = a1->m_nGState < 0 ? 10 : 5;
                  if ( v4 > RandomBetween(0, 99) )
                  {
                    v17 = a1->m_nGState & 0x7FF00000;
                    if ( v17 > 0x1000000 )
                    {
                      if ( v17 == 0x2000000 )
                      {
                        v10 = CBuff::CreateBuff(116, 1, 5, v22 / 10);
                        v27->__vftable[7].OnTimerCallback(v27, (int)v10);
                        CChar::WriteInSight((int)a1, 73, "db", a3, 34);
                      }
                      else if ( v17 == 0x4000000 )
                      {
                        v11 = CBuff::CreateBuff(7, 2, v16, 0x4000000);
                        v27->__vftable[7].OnTimerCallback(v27, (int)v11);
                        CChar::WriteInSight((int)a1, 73, "db", a3, 35);
                      }
                    }
                    else
                    {
                      switch ( v17 )
                      {
                        case 0x1000000u:
                          v8 = CBuff::CreateBuff(116, 1, 5, 7 * v22 / 100);
                          v27->__vftable[7].OnTimerCallback(v27, (int)v8);
                          v9 = CBuff::CreateBuff(117, 5, -10, -10);
                          v27->__vftable[7].OnTimerCallback(v27, (int)v9);
                          CChar::WriteInSight((int)a1, 73, "db", a3, 33);
                          break;
                        case 0x400000u:
                          v5 = CBuff::CreateBuff(116, 1, 5, v22 / 10);
                          v27->__vftable[7].OnTimerCallback(v27, (int)v5);
                          CChar::WriteInSight((int)a1, 73, "db", a3, 31);
                          break;
                        case 0x800000u:
                          v6 = CBuff::CreateBuff(116, 1, 5, 7 * v22 / 100);
                          v27->__vftable[7].OnTimerCallback(v27, (int)v6);
                          v7 = CBuff::CreateBuff(118, 5, -50, v16);
                          v27->__vftable[7].OnTimerCallback(v27, (int)v7);
                          CChar::WriteInSight((int)a1, 73, "db", a3, 32);
                          break;
                      }
                    }
                  }
                }
              }
              else
              {
                v27->__vftable[3].OnTimer(v27, (int)a1);
              }
            }
            else
            {
              v27->__vftable[3].OnTimer(v27, (int)a1);
            }
          }
          v15 = v24 | (2 * v20) | (4 * v23);
          v14 = v21;
          v13 = v22;
          v12 = std::_Mpunct<wchar_t>::do_frac_digits(v27);
          CChar::WriteInSight((int)a1, 62, "ddwwb", a1->m_nId, v12, v13, v14, v15);
        }
        CIOObject::Release(v27, (volatile int *)&v27[22]);
      }
      else
      {
        CIOObject::Release(v27, (volatile int *)&v27[22]);
      }
    }
  }
}
// 45CA82: variable 'v16' is possibly undefined

//----- (0045CC00) --------------------------------------------------------
void __thiscall CPlayer::LevelUp(_DWORD *this)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi

  (*(void (__cdecl **)(_DWORD *, int, int, int))(*this + 88))(this, 26, 1, 1);
  (*(void (__cdecl **)(_DWORD *, int, int, int))(*this + 88))(this, 23, 1, 5);
  (*(void (__cdecl **)(_DWORD *, int, int, int))(*this + 88))(this, 24, 1, 1);
  this[138] = 0;
  CPlayer::SaveAllProperty((int)this, 1);
  CShieldAttack::CanSkillUp((CShieldAttack *)(this + 156), 0);
  CPlayer::MLMPayMoney(this, v1, v2, v3, 2);
  CPlayer::MLMLevelUp((CIOCriticalSection *)this, v1, v2, v3);
}
// 45CC72: variable 'v1' is possibly undefined
// 45CC72: variable 'v2' is possibly undefined
// 45CC72: variable 'v3' is possibly undefined

//----- (0045CC90) --------------------------------------------------------
void __thiscall CPlayer::Teleport(_DWORD *this, int a2, _DWORD *a3, int a4, int a5)
{
  int v5; // ecx
  unsigned int v6; // eax
  _DWORD *v8; // [esp+4h] [ebp-4h]

  if ( a2 == -1 )
  {
    LOG_ERR("Map# Is -1. (PID:%d  UID :%d)", this[113], this[112]);
  }
  else
  {
    v8 = (_DWORD *)sub_491080(a2);
    if ( v8 )
    {
      if ( CSMap::IsOnTile(v8, a3, 0) )
      {
        CChar::SubMState(this, 1, 0);
        this[372] = a2;
        v5 = a3[1];
        this[373] = *a3;
        this[374] = v5;
        CPlayer::Write((int)this, 70, "bdddb", a2, *a3, a3[1], a4, a5);
        v6 = CMapObject::GetState((CIOCriticalSection *)&dword_4E2758[15 * a2]);
        CPlayer::Write((int)this, 22, "bb", v6, 0);
      }
    }
  }
}

//----- (0045CD80) --------------------------------------------------------
int __thiscall CSMap::IsOnTile(_DWORD *this, int *a2, int a3)
{
  CCellMap *v4; // eax
  int v5; // [esp+4h] [ebp-8h] BYREF
  int v6; // [esp+8h] [ebp-4h]

  v5 = *a2 >> 5;
  v6 = a2[1] >> 5;
  if ( v5 < 0 || v5 >> 8 >= 64 || v6 < 0 || v6 >> 8 >= 64 )
    return 0;
  v4 = (CCellMap *)CSMap::_GetCellMap(this, &v5);
  return CCellMap::IsOnTile(v4, &v5, a3);
}

//----- (0045CDF0) --------------------------------------------------------
int __thiscall CCellMap::IsOnTile(CCellMap *this, _DWORD *a2, int a3)
{
  _DWORD a2a[2]; // [esp+4h] [ebp-8h] BYREF

  if ( !this )
    return 0;
  if ( !a3 )
    return 1;
  a2a[0] = (unsigned __int8)*a2;
  a2a[1] = (unsigned __int8)a2[1];
  return a3 & *(_DWORD *)(CCellMap::GetTile(this, a2a) + 4);
}

//----- (0045CE50) --------------------------------------------------------
void __thiscall CPlayer::OnTeleport(CIOCriticalSection *this, int a2, int a3)
{
  int *v3; // eax
  int *v4; // [esp-10h] [ebp-1Ch]
  _RTL_CRITICAL_SECTION_DEBUG *v5; // [esp-Ch] [ebp-18h]
  unsigned int v6; // [esp-8h] [ebp-14h]
  _RTL_CRITICAL_SECTION_DEBUG *v7; // [esp-4h] [ebp-10h]
  _RTL_CRITICAL_SECTION_DEBUG *v9; // [esp+4h] [ebp-8h]
  CIOBuffer *v10; // [esp+8h] [ebp-4h]

  if ( a2 )
  {
    sub_412E90(this);
    v9 = (_RTL_CRITICAL_SECTION_DEBUG *)sub_491080((int)this[46].m_critical_section.LockSemaphore);
    if ( v9 )
    {
      if ( sub_4913E0((int)this, (int)&this[10].m_critical_section.LockCount) )
      {
        CChar::WriteInSight((int)this, 55, "d", this->m_dwEIP[1]);
        if ( sub_40B310(this, 8) )
        {
          CChar::SubGState((volatile LONG *)this, 10);
          CPlayer::Write((int)this, 46, "dd", this->m_dwEIP[1], this[8].m_dwEIP[0]);
          CPlayer::SubEState(this, 8);
        }
        if ( sub_40B310(this, 4096) )
          CChar::SubGState((volatile LONG *)this, 4096);
        this[9].m_dwEIP[1] = (unsigned int)this[46].m_critical_section.LockSemaphore;
        this[10].m_critical_section.DebugInfo = v9;
        CChar::SetXY(this, &this[46].m_critical_section.SpinCount);
        this[10].m_critical_section.SpinCount = a3;
        CSMap::GetCellMap(this, (int)&this[10].m_critical_section.LockCount);
        v7 = this[16].m_critical_section.DebugInfo;
        v6 = this[34].m_dwEIP[0];
        v5 = this[15].m_critical_section.DebugInfo;
        v4 = CPlayer::GetGuildName((int *)this);
        v3 = CPlayer::GetGuildClassTitle((int *)this);
        v10 = WritePacket_(
                50,
                "dsbdddwdmbbIssdbd",
                this->m_dwEIP[1],
                &this[1],
                this[14].m_critical_section.OwningThread,
                this[10].m_critical_section.OwningThread,
                this[10].m_critical_section.LockSemaphore,
                this[10].m_critical_section.SpinCount,
                this[10].m_dwEIP[1],
                this[8].m_dwEIP[0],
                &this[32].m_dwEIP[1],
                14,
                this[17].m_critical_section.OwningThread,
                this[17].m_critical_section.LockSemaphore,
                this[9].m_critical_section.DebugInfo,
                this[9].m_critical_section.LockCount,
                v3,
                v4,
                v5,
                v6,
                v7);
        sub_493390(
          this[10].m_critical_section.DebugInfo,
          (int)this,
          (int)&this[10].m_critical_section.LockCount,
          (int)v10);
        CIOBuffer::Release(v10);
        sub_412EB0(this);
      }
      else
      {
        sub_412EB0(this);
        LOG_ERR(
          "CPlayer::OnTeleport() Can't remove player pointer. (%d, %d, %d) (PID:%d, UID: %d) ",
          this[9].m_dwEIP[1],
          this[10].m_critical_section.LockCount,
          this[10].m_critical_section.RecursionCount,
          this[14].m_critical_section.LockCount,
          this[14].m_critical_section.DebugInfo);
      }
    }
    else
    {
      sub_412EB0(this);
    }
  }
}

//----- (0045D0D0) --------------------------------------------------------
int __stdcall CPlayer::_IntoInven(volatile int *a1)
{
  int v1; // ecx
  const std::pair<int const ,CGame_Character::TargetInfo> *v2; // eax
  int v4; // [esp+0h] [ebp-14h]
  char v5[8]; // [esp+4h] [ebp-10h] BYREF
  char v6[8]; // [esp+Ch] [ebp-8h] BYREF

  v4 = v1;
  CIOObject::AddRef((CIOObject *)a1, a1 + 22);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v5);
  sub_445DF0(
    v4 + 1068,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v6,
    v2);
  if ( v6[4] )
    return 1;
  CIOObject::Release((CIOObject *)a1, a1 + 22);
  return 0;
}
// 45D0D6: variable 'v1' is possibly undefined
// 45D109: variable 'v2' is possibly undefined

//----- (0045D140) --------------------------------------------------------
void __userpurge CPlayer::_OutofInven(CPlayer *player, CItem *Item)
{
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *v2; // ecx

  if ( sub_470740(v2 + 89, (int)&player->m_szName[4]) )
    CIOObject::Release(player, &player->m_prtyBase.nBase[6]);
  else
    ELOG("CPlayer()::_OutofInven() Not in ItemMap. (IID:%d)", *(_DWORD *)&player->m_szName[4]);
}
// 45D151: variable 'v2' is possibly undefined

//----- (0045D190) --------------------------------------------------------
int __thiscall CPlayer::FindItem(CIOCriticalSection *this, int a2, int a3)
{
  CIOCriticalSection *v4; // [esp+0h] [ebp-8h]
  int v5; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  v5 = CPlayer::_FindItem((int)v4, a2, a3);
  CIOCriticalSection::Leave(v4);
  return v5;
}
// 45D1B2: variable 'v4' is possibly undefined

//----- (0045D1E0) --------------------------------------------------------
int __thiscall CPlayer::_FindItem(int this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v6[4]; // [esp+4h] [ebp-10h] BYREF
  int v7; // [esp+8h] [ebp-Ch] BYREF
  int v8; // [esp+Ch] [ebp-8h] BYREF
  int v9; // [esp+10h] [ebp-4h]

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 1068),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v8);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1068), (int)v6);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
            v3) )
      break;
    v9 = *(_DWORD *)(sub_420250(&v8) + 4);
    if ( a2 == *(_DWORD *)(*(_DWORD *)(v9 + 40) + 64) && *(_DWORD *)(v9 + 52) >= a3 )
      return v9;
    sub_446090(&v8, &v7, 0);
  }
  return 0;
}

//----- (0045D270) --------------------------------------------------------
int __thiscall CPlayer::_FindMergeItem(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int v6; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  int v8; // [esp+10h] [ebp-4h]

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 1068),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1068), (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v2) )
      break;
    v8 = *(_DWORD *)(sub_420250(&v7) + 4);
    if ( (*(int (__thiscall **)(int, int))(*(_DWORD *)v8 + 148))(v8, a2) )
      return v8;
    sub_446090(&v7, &v6, 0);
  }
  return 0;
}

//----- (0045D2F0) --------------------------------------------------------
void __thiscall CPlayer::BuyItemEx(CIOCriticalSection *this, int a2, int a3, int a4, void *Src, int a6)
{
  DWORD v6; // ebx
  DWORD v7; // edi
  DWORD v8; // esi
  CIOCriticalSection *v9; // [esp-4h] [ebp-44h]
  int v10; // [esp-4h] [ebp-44h]
  CPlayer *player; // [esp+4h] [ebp-3Ch]
  int v13; // [esp+8h] [ebp-38h]
  int v14; // [esp+Ch] [ebp-34h]
  CItem *item; // [esp+10h] [ebp-30h]
  int i; // [esp+14h] [ebp-2Ch]
  int v17; // [esp+18h] [ebp-28h]
  int v18; // [esp+1Ch] [ebp-24h]
  unsigned __int16 v19; // [esp+20h] [ebp-20h] BYREF
  BOOL v20; // [esp+24h] [ebp-1Ch]
  int v21; // [esp+28h] [ebp-18h]
  int v22; // [esp+2Ch] [ebp-14h]
  XBaseModel *v23; // [esp+30h] [ebp-10h]
  int v24; // [esp+34h] [ebp-Ch]
  volatile int *v25; // [esp+38h] [ebp-8h]
  unsigned __int16 v26; // [esp+3Ch] [ebp-4h] BYREF

  sub_412E90(this);
  v24 = *((_DWORD *)this + 275);
  sub_412EB0(this);
  if ( !v24 )
  {
    v25 = CNPC::FindNPC(a2);
    if ( v25 )
    {
      if ( !(*(int (__thiscall **)(volatile int *))(*v25 + 188))(v25) )
      {
        sub_401DE0(v25, v6, v7, v8);
        return;
      }
      v20 = 0;
      v17 = 100;
      v23 = CCastle::GetCastle(*((_DWORD *)v25 + 116));
      sub_401DE0(v25, v6, v7, v8);
      if ( v23 )
      {
        v17 = CCastle::GetTaxRate(v23, v6, v7, v8);
        if ( a3 != v17 )
        {
          CPlayer::Write((int)this, 68, "bb", 69, (unsigned __int8)v17);
          return;
        }
        v20 = CCastle::IsPayment(v23, v6, v7, v8);
      }
      CIOCriticalSection::Enter((CIOCriticalSection *)((char *)this + 332));
      for ( i = 0; *((_DWORD *)this + 274) && i < a4; ++i )
      {
        Src = ScanPacket(v6, v7, v8, (char *)Src, (char *)a6, "ww", &v19, &v26);
        v18 = v19;
        v22 = v26;
        if ( v26 )
        {
          item = (CItem *)CItem::CreateItem(v19, 0, v22, -1);
          if ( item )
          {
            v14 = v22 * (v17 * *(_DWORD *)(*((_DWORD *)item + 10) + 108) / 100);
            if ( v14 <= 0 )
            {
              CBase::Delete(item);
              if ( !v14 )
              {
                CIOCriticalSection::Leave(v9);
                LOG_ERR(
                  "    (HACK USER ^^) -- PID :%d , UID :%d, ItemIndex : %d ",
                  *((_DWORD *)this + 113),
                  *((_DWORD *)this + 112),
                  v18);
                LOG_NORMAL(
                  "[Kickout] At BuyItemEx() '%s' (PID:%d) %p %x %x %x",
                  (const char *)this + 32,
                  *((_DWORD *)this + 113),
                  *(const void **)(*((_DWORD *)this + 419) + 120),
                  *((_DWORD *)this + 5),
                  *(_DWORD *)(*((_DWORD *)this + 419) + 108),
                  v10);
                CPlayer::Write((int)this, 45, "b", 1);
                CSocket::OnKick(*((CIOCriticalSection **)this + 419), v6, v7, v8, 1);
                return;
              }
            }
            else
            {
              if ( *((_DWORD *)this + 274) && *(_DWORD *)(*((_DWORD *)this + 274) + 52) < v14 )
              {
                CBase::Delete(item);
                break;
              }
              sub_4010D0((volatile int *)item, v6, v7, v8);
              v13 = CPlayer::_InsertItem((int)this, v6, v7, v8, 7, (volatile int *)item);
              if ( v13 == 1 )
              {
                player = (CPlayer *)*((_DWORD *)this + 274);
                if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
                  CPlayer::_OutofInven(player, this);
                if ( v20 )
                {
                  v21 = 3 * (v14 - v22 * (85 * *(_DWORD *)(*((_DWORD *)item + 10) + 108) / 100)) / 10;
                  CCastle::AddTax(v23, v6, v7, v8, v21);
                }
              }
              else
              {
                CBase::Delete(item);
              }
              sub_401DE0((volatile int *)item, v6, v7, v8);
              if ( v13 == 2 )
                break;
            }
          }
        }
      }
      CIOCriticalSection::Leave(v9);
    }
  }
}
// 45D358: variable 'v6' is possibly undefined
// 45D358: variable 'v7' is possibly undefined
// 45D358: variable 'v8' is possibly undefined
// 45D581: variable 'v9' is possibly undefined
// 45D5E2: variable 'v10' is possibly undefined

//----- (0045D630) --------------------------------------------------------
void __thiscall CPlayer::SellItem(CIOCriticalSection *this, int a2, int a3, void *Src, int a5)
{
  DWORD v5; // ebx
  DWORD v6; // edi
  DWORD v7; // esi
  int v8; // eax
  CItem *Itema; // [esp+0h] [ebp-2Ch]
  char v11[4]; // [esp+4h] [ebp-28h] BYREF
  CItem *item; // [esp+8h] [ebp-24h]
  char v13[4]; // [esp+Ch] [ebp-20h]
  CPlayer *player; // [esp+10h] [ebp-1Ch]
  int v15; // [esp+14h] [ebp-18h] BYREF
  int i; // [esp+18h] [ebp-14h]
  int v17; // [esp+1Ch] [ebp-10h]
  int v18; // [esp+20h] [ebp-Ch]
  unsigned __int16 v19; // [esp+24h] [ebp-8h] BYREF
  int v20; // [esp+28h] [ebp-4h] BYREF

  sub_412E90(this);
  v18 = *((_DWORD *)this + 275);
  sub_412EB0(this);
  if ( !v18 && CNPC::CanReply(v5, v6, v7, a2, (int)this + 332) )
  {
    CIOCriticalSection::Enter(this);
    for ( i = 0; i < a3; ++i )
    {
      Src = ScanPacket(v5, v6, v7, (char *)Src, (char *)a5, "dw", &v20, &v19);
      v17 = v19;
      if ( v19 )
      {
        sub_44AE20((_DWORD *)Itema + 267, &v15, &v20);
        v8 = sub_430C20((_DWORD *)Itema + 267, (int)v11);
        if ( !(unsigned __int8)unknown_libname_8(v8) )
        {
          player = *(CPlayer **)(sub_420250(&v15) + 4);
          if ( (*(int (__thiscall **)(CPlayer *, int))(*(_DWORD *)player + 136))(player, v17) )
          {
            *(_DWORD *)v13 = (*(int (__thiscall **)(CPlayer *, int))(*(_DWORD *)player + 200))(player, v17);
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, Itema);
            item = (CItem *)CItem::CreateItem(31, 0, *(int *)v13, -1);
            if ( item )
            {
              if ( !CPlayer::_InsertItem((int)Itema, v5, v6, v7, 8, (volatile int *)item) )
              {
                LOG_ERR("CPlayer::SellItem() Fail to insert money(%d).", *(_DWORD *)v13);
                CBase::Delete(item);
              }
            }
          }
        }
      }
    }
    CIOCriticalSection::Leave(Itema);
  }
}
// 45D66E: variable 'v5' is possibly undefined
// 45D66E: variable 'v6' is possibly undefined
// 45D66E: variable 'v7' is possibly undefined
// 45D6E5: variable 'Itema' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0045D7E0) --------------------------------------------------------
void __thiscall CPlayer::DropItem(CIOCriticalSection *this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  CIOCriticalSection *v4; // [esp+0h] [ebp-34h]
  CIOCriticalSection *v5; // [esp+0h] [ebp-34h]
  CIOCriticalSection *v6; // [esp+0h] [ebp-34h]
  char v8[4]; // [esp+10h] [ebp-24h] BYREF
  _DWORD *a1; // [esp+14h] [ebp-20h]
  int v10[2]; // [esp+18h] [ebp-1Ch] BYREF
  int a5[2]; // [esp+20h] [ebp-14h] BYREF
  CPlayer *player; // [esp+28h] [ebp-Ch]
  void *v13; // [esp+2Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v14; // [esp+30h] [ebp-4h] BYREF

  sub_412E90(this);
  v13 = this[34].m_critical_section.OwningThread;
  sub_412EB0(this);
  if ( !v13 && a3 > 0 )
  {
    CIOCriticalSection::Enter(v4);
    sub_44AE20(&this[33].m_critical_section.OwningThread, &v14, &a2);
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(
                                                                     &this[33].m_critical_section.OwningThread,
                                                                     (int)v8);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           &v14,
           v3) )
    {
      player = *(CPlayer **)(sub_420250(&v14) + 4);
      if ( player->GetFinalResist(player, (CChar *)a3, (int)this) )
      {
        CChar::GetDropPt(this, v10);
        a5[0] = v10[0] >> 5;
        a5[1] = v10[1] >> 5;
        if ( *(_DWORD *)&player->m_szName[20] <= a3 )
        {
          if ( CSMap::GetCellMap(player, (int)a5) )
          {
            ((void (__thiscall *)(CPlayer *, CIOCriticalSection *, int *, int *, int, _DWORD))player->SubMState)(
              player,
              this,
              v10,
              a5,
              1,
              0);
            CPlayer::_OutofInven(player, 0);
          }
        }
        else
        {
          a1 = (_DWORD *)CItem::CreateItem(
                           *(_DWORD *)(*(_DWORD *)&player->m_szName[8] + 64),
                           0,
                           a3,
                           player->m_prtyBase.nBase[5]);
          if ( a1 )
          {
            if ( CSMap::GetCellMap(a1, (int)a5) )
            {
              (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int *, int *, _DWORD, _DWORD, _DWORD))(*a1 + 124))(
                a1,
                this,
                v10,
                a5,
                0,
                0,
                0);
              ((void (__thiscall *)(CPlayer *, CIOCriticalSection *, int, int))player->SubMStateEx)(
                player,
                this,
                11,
                -a3);
            }
            else
            {
              if ( a1 )
              {
                v6 = (CIOCriticalSection *)(*(int (__thiscall **)(_DWORD *, int))*a1)(a1, 1);
                CIOCriticalSection::Leave(v6);
                return;
              }
              v5 = 0;
            }
          }
        }
      }
    }
    CIOCriticalSection::Leave(v5);
  }
}
// 45D81F: variable 'v4' is possibly undefined
// 45D9A9: variable 'v5' is possibly undefined

//----- (0045D9C0) --------------------------------------------------------
void __thiscall CPlayer::TrashItem(CIOCriticalSection *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int v3; // [esp-4h] [ebp-18h]
  CItem *Itema; // [esp+0h] [ebp-14h]
  char v6[4]; // [esp+4h] [ebp-10h] BYREF
  CPlayer *player; // [esp+8h] [ebp-Ch]
  int v8; // [esp+Ch] [ebp-8h]
  int v9; // [esp+10h] [ebp-4h] BYREF

  sub_412E90(this);
  v8 = *((_DWORD *)this + 275);
  sub_412EB0(this);
  if ( !v8 )
  {
    CIOCriticalSection::Enter(this);
    sub_44AE20((_DWORD *)Itema + 267, &v9, &a2);
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)Itema + 267, (int)v6);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
           v2) )
    {
      player = *(CPlayer **)(sub_420250(&v9) + 4);
      if ( !*(_DWORD *)(*((_DWORD *)player + 10) + 156) )
      {
        v3 = 4;
        if ( (*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 88))(player) )
          CPlayer::_OutofInven(player, Itema);
      }
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)v3);
  }
}
// 45DA09: variable 'Itema' is possibly undefined
// 45DA7D: variable 'v3' is possibly undefined

//----- (0045DA90) --------------------------------------------------------
int __thiscall CPlayer::RemoveItem(CPlayer *this, int a2, int a3, int a4)
{
  int result; // eax
  CItem *Item; // [esp+0h] [ebp-8h]
  CPlayer *player; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter((CIOCriticalSection *)this);
  player = (CPlayer *)CPlayer::_FindItem((int)Item, a3, a4);
  if ( player )
  {
    if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
    {
      if ( ((int (__thiscall *)(CPlayer *))player->__vftable[1].OnFree)(player) )
        --Item[12].__vftable;
      CPlayer::_OutofInven(player, Item);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)a2);
    result = 1;
  }
  else
  {
    CIOCriticalSection::Leave((CIOCriticalSection *)Item);
    result = 0;
  }
  return result;
}
// 45DAB2: variable 'Item' is possibly undefined

//----- (0045DB40) --------------------------------------------------------
void __thiscall CPlayer::PutOnItem(CIOCriticalSection *this, int a2)
{
  std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // [esp-4h] [ebp-20h]
  CIOCriticalSection *v5; // [esp+0h] [ebp-1Ch]
  CIOCriticalSection *v6; // [esp+0h] [ebp-1Ch]
  char v8[4]; // [esp+8h] [ebp-14h] BYREF
  char v9[4]; // [esp+Ch] [ebp-10h] BYREF
  char v10[4]; // [esp+10h] [ebp-Ch] BYREF
  void *v11; // [esp+14h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v12; // [esp+18h] [ebp-4h] BYREF

  sub_412E90(this);
  v11 = this[34].m_critical_section.OwningThread;
  sub_412EB0(this);
  if ( !v11 )
  {
    CIOCriticalSection::Enter(v5);
    v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(
                                                                     &this[35].m_critical_section.SpinCount,
                                                                     (int)v9);
    v2 = (std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_4714F0(
                                                               &this[35].m_critical_section.SpinCount,
                                                               v10,
                                                               &a2);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           v2,
           v4) )
    {
      CPlayer::Write((int)this, 67, "b", 52);
      CIOCriticalSection::Leave(v6);
    }
    else
    {
      sub_44AE20(&this[33].m_critical_section.OwningThread, &v12, &a2);
      v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(
                                                                       &this[33].m_critical_section.OwningThread,
                                                                       (int)v8);
      if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
             &v12,
             v3) )
      {
        v6 = *(CIOCriticalSection **)(sub_420250(&v12) + 4);
        (*(void (__thiscall **)(CIOCriticalSection *, CIOCriticalSection *))&v6->m_critical_section.DebugInfo[3].Type)(
          v6,
          this);
      }
      CIOCriticalSection::Leave(v6);
    }
  }
}
// 45DB79: variable 'v5' is possibly undefined
// 45DBD3: variable 'v6' is possibly undefined

//----- (0045DC50) --------------------------------------------------------
void __thiscall CPlayer::PutOffItem(CIOCriticalSection *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  CIOCriticalSection *v3; // [esp+0h] [ebp-14h]
  CIOCriticalSection *v4; // [esp+0h] [ebp-14h]
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  void *v7; // [esp+Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v8; // [esp+10h] [ebp-4h] BYREF

  sub_412E90(this);
  v7 = this[34].m_critical_section.OwningThread;
  sub_412EB0(this);
  if ( !v7 )
  {
    CIOCriticalSection::Enter(v3);
    sub_44AE20(&this[33].m_critical_section.OwningThread, &v8, &a2);
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(
                                                                     &this[33].m_critical_section.OwningThread,
                                                                     (int)v6);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           &v8,
           v2) )
    {
      v4 = *(CIOCriticalSection **)(sub_420250(&v8) + 4);
      ((void (__thiscall *)(CIOCriticalSection *, CIOCriticalSection *))v4->m_critical_section.DebugInfo[3].CriticalSection)(
        v4,
        this);
    }
    CIOCriticalSection::Leave(v4);
  }
}
// 45DC86: variable 'v3' is possibly undefined
// 45DCE9: variable 'v4' is possibly undefined

//----- (0045DD00) --------------------------------------------------------
void __thiscall CPlayer::UseItem(CIOCriticalSection *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  CItem *Itema; // [esp+0h] [ebp-14h]
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  CPlayer *player; // [esp+8h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-8h]
  int v8; // [esp+10h] [ebp-4h] BYREF

  sub_412E90(this);
  v7 = *((_DWORD *)this + 275);
  sub_412EB0(this);
  if ( !v7 )
  {
    CIOCriticalSection::Enter(this);
    sub_44AE20((_DWORD *)Itema + 267, &v8, &a2);
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)Itema + 267, (int)v5);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v8,
           v2) )
    {
      player = *(CPlayer **)(sub_420250(&v8) + 4);
      if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 128))(player) )
        CPlayer::_OutofInven(player, Itema);
    }
    CIOCriticalSection::Leave(Itema);
  }
}
// 45DD49: variable 'Itema' is possibly undefined

//----- (0045DDC0) --------------------------------------------------------
int __thiscall sub_45DDC0(CIOCriticalSection *this, int a2, int a3)
{
  int v5; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  v5 = CPlayer::_InsertItem((int)this, a2, (volatile int *)a3);
  CIOCriticalSection::Leave(this);
  return v5;
}
// 45DDE2: variable 'this' is possibly undefined

//----- (0045DE10) --------------------------------------------------------
int __thiscall CPlayer::_InsertItem(int this, int a2, volatile int *a3)
{
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  if ( *(_DWORD *)(*((_DWORD *)a3 + 10) + 92) && (v6 = CPlayer::_FindMergeItem(this, (int)a3)) != 0 )
  {
    (*(void (__thiscall **)(int, int, int, _DWORD))(*(_DWORD *)v6 + 120))(v6, this, a2, *((_DWORD *)a3 + 13));
    (*(void (__thiscall **)(volatile int *, int))(*a3 + 204))(a3, this);
    (*(void (__thiscall **)(volatile int *, int))(*a3 + 92))(a3, a2);
  }
  else
  {
    if ( CPlayer::GetInvenSize((char *)this) >= 60
      && a2 != 10
      && a2 != 8
      && a2 != 25
      && a2 != 16
      && a2 != 24
      && a2 != 2
      && a2 != 45
      && a2 != 21
      && a2 != 27 )
    {
      CPlayer::Write(this, 67, "b", 40);
      return 2;
    }
    v5 = *((_DWORD *)a3 + 9);
    if ( !v5 )
      *((_DWORD *)a3 + 9) = CItem::NewIID();
    if ( !*(_DWORD *)(*((_DWORD *)a3 + 10) + 92) && *((int *)a3 + 13) > 1 )
    {
      LOG_ERR(
        "_InsertItem()     Name(%s) PID(%d) UID(%d) Index(%d) Num(%d) LogType(%d)",
        (const char *)(this + 32),
        *(_DWORD *)(this + 452),
        *(_DWORD *)(this + 448),
        *(_DWORD *)(*((_DWORD *)a3 + 10) + 64),
        *((_DWORD *)a3 + 13),
        a2);
      return 0;
    }
    if ( !CPlayer::_IntoInven(a3) )
      return 0;
    (*(void (__thiscall **)(volatile int *, int, int, int))(*a3 + 112))(a3, this, a2, v5);
    *((_DWORD *)a3 + 20) = 0;
  }
  return 1;
}

//----- (0045DF90) --------------------------------------------------------
void __thiscall CPlayer::EnchantItem(CIOCriticalSection *this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  CItem *v5; // [esp-4h] [ebp-20h]
  CItem *Item; // [esp+0h] [ebp-1Ch]
  char v7[4]; // [esp+4h] [ebp-18h] BYREF
  char v8[4]; // [esp+8h] [ebp-14h] BYREF
  CPlayer *v9; // [esp+Ch] [ebp-10h]
  CPlayer *player; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h] BYREF
  int v12; // [esp+18h] [ebp-4h] BYREF

  if ( a2 != a3 )
  {
    CIOCriticalSection::Enter(this);
    sub_44AE20((_DWORD *)Item + 267, &v12, &a2);
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)Item + 267, (int)v8);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v12,
           v3) )
    {
      player = *(CPlayer **)(sub_420250(&v12) + 4);
      sub_44AE20((_DWORD *)Item + 267, &v11, &a3);
      v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)Item + 267, (int)v7);
      if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
             (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v11,
             v4) )
      {
        v9 = *(CPlayer **)(sub_420250(&v11) + 4);
        v5 = v9;
        if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 172))(player) )
          CPlayer::_OutofInven(player, Item);
        if ( (*(int (__thiscall **)(CPlayer *))(*(_DWORD *)v9 + 168))(v9) )
          CPlayer::_OutofInven(v9, v5);
      }
    }
    CIOCriticalSection::Leave(Item);
  }
}
// 45DFBF: variable 'Item' is possibly undefined

//----- (0045E0A0) --------------------------------------------------------
void __thiscall CPlayer::UpgradeItem(_DWORD *this, CIOCriticalSection *a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  CIOCriticalSection *v4; // [esp+0h] [ebp-14h]
  char v7[4]; // [esp+8h] [ebp-Ch] BYREF
  int v8; // [esp+Ch] [ebp-8h]
  int v9; // [esp+10h] [ebp-4h] BYREF

  CIOCriticalSection::Enter(v4);
  sub_44AE20(this + 267, &v9, &a3);
  v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(this + 267, (int)v7);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
         v3) )
  {
    v8 = *(_DWORD *)(sub_420250(&v9) + 4);
    if ( a2 )
    {
      if ( a2 == (CIOCriticalSection *)1 )
      {
        (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)v8 + 212))(v8, this);
      }
      else if ( a2 == (CIOCriticalSection *)2 )
      {
        (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)v8 + 216))(v8, this);
      }
    }
    else
    {
      (*(void (__thiscall **)(int, _DWORD *))(*(_DWORD *)v8 + 208))(v8, this);
    }
  }
  CIOCriticalSection::Leave(a2);
}
// 45E0B2: variable 'v4' is possibly undefined
// 45E15A: variable 'a2' is possibly undefined

//----- (0045E170) --------------------------------------------------------
void __thiscall CPlayer::AskTrade(__int32 this, int a2)
{
  CIOObject *v3; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(this + 28) != a2 )
  {
    if ( sub_40B310((_DWORD *)this, 256) )
    {
      CPlayer::Write(this, 95, "b", 7);
    }
    else
    {
      v3 = CPlayer::FindPlayer_(a2);
      if ( v3 )
      {
        if ( sub_40B310(v3, 256) )
        {
          CPlayer::Write(this, 95, "b", 8);
        }
        else if ( !sub_40B2F0((_DWORD *)this)
               && !sub_40B310((_DWORD *)this, 176)
               && !sub_40B2F0(v3)
               && !sub_40B310(v3, 176)
               && sub_448870((_DWORD *)(this + 332), &v3[20].m_nGeneralRef) <= 64 )
        {
          sub_412E90((CIOCriticalSection *)v3);
          if ( v3[68].m_nGeneralRef || sub_44A510(v3, 1) )
          {
            CPlayer::Write(this, 67, "b", 19);
          }
          else
          {
            CPlayer::AddEState(v3, 1);
            CPlayer::Write((int)v3, 75, "d", *(_DWORD *)(this + 28));
          }
          sub_412EB0((CIOCriticalSection *)v3);
        }
        CIOObject::Release(v3, (volatile int *)&v3[22]);
      }
    }
  }
}

//----- (0045E2F0) --------------------------------------------------------
void __thiscall CPlayer::OnAskTrade(int this, int a2, int a3)
{
  DWORD v3; // ebx
  DWORD v4; // edi
  DWORD v5; // esi
  CIOObject *a1; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(this + 28) != a3 )
  {
    if ( !sub_40B310((_DWORD *)this, 176) )
    {
      a1 = CPlayer::FindPlayer_(a3);
      if ( a1 )
      {
        if ( sub_40B310(a1, 176) )
        {
          CPlayer::Write(this, 67, "b", 60);
        }
        else if ( a2 )
        {
          CTrade::CreateTrade(v3, v4, v5, (CIOCriticalSection *)a1, (CIOCriticalSection *)this);
        }
        else
        {
          CPlayer::Write((int)a1, 77, "bd", 0, *(_DWORD *)(this + 28));
        }
        CIOObject::Release(a1, (volatile int *)&a1[22]);
      }
    }
    CPlayer::SubEState((_DWORD *)this, 1);
  }
}
// 45E352: variable 'v3' is possibly undefined
// 45E352: variable 'v4' is possibly undefined
// 45E352: variable 'v5' is possibly undefined

//----- (0045E3B0) --------------------------------------------------------
void __thiscall CPlayer::CancelTrade(CIOCriticalSection *this)
{
  int *v2; // [esp+4h] [ebp-4h]

  sub_412E90(this);
  v2 = (int *)this[34].m_critical_section.OwningThread;
  if ( v2 )
  {
    sub_4010D0((int)v2);
    sub_412EB0(this);
    CTrade::Cancel((CIOCriticalSection **)v2, (int)this);
    sub_401DE0(v2);
  }
  else
  {
    sub_412EB0(this);
  }
}

//----- (0045E410) --------------------------------------------------------
int __thiscall CPlayer::_EndTrade(int this, int a2)
{
  CPlayer::Write(this, 78, "b", a2);
  sub_445BF0((std::vector<IPAddrMask> *)(this + 1080));
  *(_DWORD *)(this + 1100) = 0;
  return CPlayer::SubEState((_DWORD *)this, 6);
}

//----- (0045E460) --------------------------------------------------------
void __thiscall CPlayer::ShowOffItem(void *this, int a2, int Src, int a4)
{
  int v4; // eax
  int a1a; // [esp+0h] [ebp-2Ch]
  CIOCriticalSection *a1b; // [esp+0h] [ebp-2Ch]
  char v8[4]; // [esp+4h] [ebp-28h] BYREF
  int v9; // [esp+8h] [ebp-24h]
  int v10; // [esp+Ch] [ebp-20h] BYREF
  int i; // [esp+10h] [ebp-1Ch]
  CIOBuffer *v12; // [esp+14h] [ebp-18h]
  char *v13; // [esp+18h] [ebp-14h] BYREF
  int v14; // [esp+1Ch] [ebp-10h]
  int v15; // [esp+20h] [ebp-Ch] BYREF
  int v16; // [esp+24h] [ebp-8h] BYREF
  CIOBuffer *v17; // [esp+28h] [ebp-4h]

  if ( a2 > 0 )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( *((_DWORD *)this + 275) && !sub_45E6C0(*((_DWORD **)this + 275)) && !sub_44A510(this, 6) )
    {
      v14 = CTrade::GetOther(*((_DWORD **)this + 275), (int)this);
      if ( a2 + CPlayer::GetInvenSize((char *)v14) > 60 )
      {
        CPlayer::Write((int)this, 67, "b", 20);
        sub_412EB0((CIOCriticalSection *)this);
        return;
      }
      v17 = CIOBuffer::Alloc();
      v12 = v17;
      v17->m_buffer[2] = 79;
      v13 = &v12->m_buffer[4];
      CIOCriticalSection::Enter((CIOCriticalSection *)this);
      for ( i = 0; ; ++i )
      {
        if ( i >= a2 )
        {
          CIOCriticalSection::Leave((CIOCriticalSection *)a1a);
          WritePacket(&v12->m_buffer[3], "b", a2);
          *(_WORD *)v12->m_buffer = (_WORD)v13 - (_WORD)v12;
          v17->m_dwSize = *(unsigned __int16 *)v12->m_buffer;
          CSocket::_CSocket(*(_DWORD *)(v14 + 1676), v17);
          sub_412EB0(a1b);
          return;
        }
        Src = (int)ScanPacket((char *)Src, (char *)a4, "dd", &v15, &v16);
        if ( !v15 )
          break;
        if ( v16 <= 0 )
          break;
        sub_44AE20((_DWORD *)(a1a + 1068), &v10, &v15);
        v4 = sub_430C20((_DWORD *)(a1a + 1068), (int)v8);
        if ( (unsigned __int8)unknown_libname_8(v4) )
          break;
        v9 = *(_DWORD *)(sub_420250(&v10) + 4);
        if ( !(*(int (__thiscall **)(int, int, int, int))(*(_DWORD *)v9 + 140))(v9, v16, a1a, v14) )
          break;
        (*(void (__thiscall **)(int, char **, int))(*(_DWORD *)v9 + 72))(v9, &v13, v16);
        sub_4707D0(a1a + 1080, (const XMessageQueue::XTimerElement *)&v15);
      }
      sub_445BF0((std::vector<IPAddrMask> *)(a1a + 1080));
      CIOCriticalSection::Leave((CIOCriticalSection *)a1a);
      CPlayer::Write((int)this, 67, "b", 21);
      CIOBuffer::Release(v17);
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
}
// 45E581: variable 'a1a' is possibly undefined
// 45E664: variable 'a1b' is possibly undefined
// 45E694: variable 'this' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0045E6C0) --------------------------------------------------------
int __thiscall sub_45E6C0(_DWORD *this)
{
  return this[5] & 0x10;
}

//----- (0045E6E0) --------------------------------------------------------
int __thiscall CTrade::GetOther(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-8h]

  if ( a2 == this[8] )
    v3 = this[9];
  else
    v3 = this[8];
  return v3;
}

//----- (0045E720) --------------------------------------------------------
void __thiscall sub_45E720(CIOCriticalSection *this)
{
  int *v2; // [esp+4h] [ebp-4h]

  sub_412E90(this);
  v2 = (int *)this[34].m_critical_section.OwningThread;
  if ( v2 )
  {
    sub_4010D0((int)v2);
    sub_412EB0(this);
    CTrade::TradeAgreed((int)v2, this);
    sub_401DE0(v2);
  }
  else
  {
    sub_412EB0(this);
  }
}

//----- (0045E780) --------------------------------------------------------
int __thiscall CPlayer::_CheckTrade(_DWORD *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int *v3; // eax
  int v4; // edx
  int v5; // eax
  int v6; // eax
  char v8[4]; // [esp+4h] [ebp-1Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-18h] BYREF
  int v10; // [esp+Ch] [ebp-14h] BYREF
  int v11; // [esp+10h] [ebp-10h] BYREF
  int v12; // [esp+14h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v14; // [esp+1Ch] [ebp-4h] BYREF

  if ( !this[275] || sub_40B2F0((_DWORD *)this[275]) )
    return 0;
  sub_430C20(this + 270, (int)&v14);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(this + 270, (int)v9);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v14,
            v2) )
      break;
    v3 = (int *)sub_420010(&v14);
    v4 = v3[1];
    v11 = *v3;
    v12 = v4;
    sub_44AE20(this + 267, &v13, &v11);
    if ( v12 < 0 )
    {
      LOG_ERR(aOX, this[113], v11, v12);
      return 0;
    }
    v5 = sub_430C20(this + 267, (int)v8);
    if ( (unsigned __int8)unknown_libname_8(v5) )
      return 0;
    v6 = sub_420250(&v13);
    if ( *(_DWORD *)(*(_DWORD *)(v6 + 4) + 52) < v12 )
      return 0;
    sub_430E30((int *)&v14, &v10, 0);
  }
  return 1;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0045E890) --------------------------------------------------------
void __thiscall CPlayer::_TradeItem(void *this, void *a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int *v3; // eax
  int v4; // edx
  int v5; // eax
  int v6; // [esp+0h] [ebp-30h]
  char v8[4]; // [esp+8h] [ebp-28h] BYREF
  char v9[4]; // [esp+Ch] [ebp-24h] BYREF
  _DWORD v10[2]; // [esp+10h] [ebp-20h] BYREF
  int v11[2]; // [esp+18h] [ebp-18h] BYREF
  CItem *item; // [esp+20h] [ebp-10h]
  CPlayer *player; // [esp+24h] [ebp-Ch]
  int v14; // [esp+28h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v15; // [esp+2Ch] [ebp-4h] BYREF

  sub_430C20((_DWORD *)this + 270, (int)&v15);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)this + 270, (int)v9);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v15,
            v2) )
      break;
    v3 = (int *)sub_420010(&v15);
    v4 = v3[1];
    v11[0] = *v3;
    v11[1] = v4;
    item = 0;
    sub_44AE20((_DWORD *)this + 267, &v14, v11);
    v5 = sub_430C20((_DWORD *)this + 267, (int)v8);
    if ( !(unsigned __int8)unknown_libname_8(v5) )
    {
      player = *(CPlayer **)(sub_420250(&v14) + 4);
      item = (CItem *)((int (__thiscall *)(CPlayer *))player->RemoveHostility)(player);
      if ( item == (CItem *)player )
        CPlayer::_OutofInven(player, (CItem *)this);
      if ( item )
      {
        sub_4010D0((int)item);
        if ( CPlayer::_InsertItem((int)a2, 10, (volatile int *)item) != 1 )
        {
          if ( item->m_pPrefix )
            v6 = item->m_pPrefix->m_nPrefix;
          else
            v6 = 0;
          v10[1] = v6;
          LOG_ERR(
            "Fail to insert trade item.(iid:%d, index:%d, prefix:%d, num:%d)",
            item->m_nIID,
            item->m_pInit->m_nIndex,
            v6,
            item->m_nNum);
          CBase::Delete(item);
        }
        sub_401DE0((int *)item);
      }
    }
    sub_430E30((int *)&v15, v10, 0);
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0045EA00) --------------------------------------------------------
void __thiscall CPlayer::_StorageIn(int this, int a2, int a3, int a4)
{
  int v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // [esp+0h] [ebp-38h]
  char v8[8]; // [esp+8h] [ebp-30h] BYREF
  int v9[8]; // [esp+10h] [ebp-28h] BYREF
  char v10[4]; // [esp+30h] [ebp-8h] BYREF
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator result; // [esp+34h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(this + 1128),
    &result,
    (const int *)(a2 + 2));
  v4 = sub_430C20((_DWORD *)(this + 1128), (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v4) )
  {
    v5 = sub_472830(v9, (_DWORD *)(a2 + 2), (const void *)a2);
    sub_470890(
      this + 1128,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v8,
      (int)v5);
  }
  else
  {
    v6 = (_DWORD *)(sub_420250(&result) + 15);
    *v6 += *(_DWORD *)(a2 + 11);
  }
  CPlayer::Write(this, 9, "ddb", a3, a4, 15);
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0045EAB0) --------------------------------------------------------
int __thiscall CPlayer::_StorageOut(int *this, int a1, int a2)
{
  int result; // eax

  if ( !a2 )
    result = sub_470A40(this + 282, (int)&a1);
  return result;
}

//----- (0045EAE0) --------------------------------------------------------
int __thiscall CPlayer::AskParty(CPlayer *this, int nId, _DWORD *a3, int a4, int a5)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  char v8[4]; // [esp+Ch] [ebp-28h] BYREF
  int v9; // [esp+10h] [ebp-24h] BYREF
  unsigned __int16 v10; // [esp+14h] [ebp-20h] BYREF
  int v11; // [esp+16h] [ebp-1Eh]
  int v12; // [esp+1Bh] [ebp-19h]
  unsigned __int8 v13; // [esp+25h] [ebp-Fh]
  int v14; // [esp+30h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (CPlayer *)((char *)this + 1128),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v14);
  while ( 1 )
  {
    v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 282, (int)v8);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v14,
            v5) )
      break;
    qmemcpy(&v10, (const void *)(sub_420250(&v14) + 4), 0x1Au);
    if ( nId == v10 && a4 == (v12 & 0x88) && (dword_4E35B8 != 2 || a5 == v13) )
    {
      *a3 = v11;
      return 1;
    }
    sub_434510(&v14, &v9, 0);
  }
  return 0;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (0045EB90) --------------------------------------------------------
void __thiscall CPlayer::StorageInfo(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  _WORD *v2; // eax
  DWORD v3; // edi
  CIOCriticalSection *v4; // [esp+0h] [ebp-28h]
  int v5; // [esp+0h] [ebp-28h]
  CIOCriticalSection *v6; // [esp+0h] [ebp-28h]
  char v8[4]; // [esp+Ch] [ebp-1Ch] BYREF
  int v9; // [esp+10h] [ebp-18h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v10; // [esp+14h] [ebp-14h] BYREF
  char *v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+1Ch] [ebp-Ch]
  DWORD a3; // [esp+20h] [ebp-8h]
  void *a2; // [esp+24h] [ebp-4h]

  a2 = CIOBuffer::Alloc();
  v11 = (char *)a2;
  *((_BYTE *)a2 + 2) = 88;
  a3 = (DWORD)(v11 + 4);
  CIOCriticalSection::Enter(v4);
  v12 = unknown_libname_10(this + 1128, v5);
  if ( v12 > 0 )
  {
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 1128),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v10);
    while ( 1 )
    {
      v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1128), (int)v8);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v10,
              v1) )
        break;
      v2 = (_WORD *)(sub_420250(&v10) + 4);
      v3 = a3;
      qmemcpy((void *)a3, v2, 0x18u);
      *(_WORD *)(v3 + 24) = v2[12];
      a3 += 26;
      sub_434510((int *)&v10, &v9, 0);
    }
  }
  CIOCriticalSection::Leave(v6);
  WritePacket(v11 + 3, "b", v12);
  *(_WORD *)v11 = a3 - (_WORD)v11;
  *((_DWORD *)a2 + 2000) = *(unsigned __int16 *)v11;
  CSocket::_CSocket(*(_DWORD *)(this + 1676), a2);
}
// 45EBC2: variable 'v4' is possibly undefined
// 45EBD0: variable 'v5' is possibly undefined
// 45EC4F: variable 'v6' is possibly undefined

//----- (0045ECA0) --------------------------------------------------------
void __thiscall CPlayer::PutInStorage(CIOCriticalSection *this, int a2, int a3, void *Src, int a5)
{
  DWORD v5; // ebx
  DWORD v6; // edi
  DWORD v7; // esi
  int v8; // eax
  int a1b; // [esp+0h] [ebp-28h]
  int a1a; // [esp+0h] [ebp-28h]
  int a1c; // [esp+0h] [ebp-28h]
  char v13[4]; // [esp+4h] [ebp-24h] BYREF
  CPlayer *player; // [esp+8h] [ebp-20h]
  int v15; // [esp+Ch] [ebp-1Ch] BYREF
  int i; // [esp+10h] [ebp-18h]
  int v17; // [esp+14h] [ebp-14h]
  int v18; // [esp+18h] [ebp-10h] BYREF
  CPlayer *v19; // [esp+1Ch] [ebp-Ch]
  char *v20; // [esp+20h] [ebp-8h]
  int v21; // [esp+24h] [ebp-4h] BYREF
  char *Srca; // [esp+38h] [ebp+10h]

  if ( a3 > 0 && CNPC::CanReply(v5, v6, v7, a2, (int)this + 332) )
  {
    CIOCriticalSection::Enter(this);
    if ( (unsigned int)(a3 + unknown_libname_10(a1b + 1128, a1b)) <= 0x64 )
    {
      v19 = *(CPlayer **)(a1a + 1096);
      if ( v19 )
      {
        v20 = (char *)Src;
        Srca = ScanPacket(v5, v6, v7, (char *)Src, (char *)a5, "dd", &v21, &v18);
        v17 = 0;
        if ( v21 )
        {
          if ( v18 > 0 && *((_DWORD *)v19 + 9) == v21 )
          {
            v17 += v18;
            Srca = v20;
          }
          else
          {
            --a3;
          }
        }
        v17 += 60 * a3;
        if ( *((_DWORD *)v19 + 13) >= v17 )
        {
          v17 = 0;
          for ( i = 0; i < a3; ++i )
          {
            Srca = ScanPacket(v5, v6, v7, Srca, (char *)a5, "dd", &v21, &v18);
            if ( v18 > 0 )
            {
              sub_44AE20((_DWORD *)(a1a + 1068), &v15, &v21);
              v8 = sub_430C20((_DWORD *)(a1a + 1068), (int)v13);
              if ( !(unsigned __int8)unknown_libname_8(v8) )
              {
                player = *(CPlayer **)(sub_420250(&v15) + 4);
                if ( (*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 152))(player) )
                  CPlayer::_OutofInven(player, (CItem *)a1a);
                v17 += 60;
              }
            }
          }
          if ( !sub_40B2F0(v19) && !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)v19 + 120))(v19) )
            CPlayer::_OutofInven(v19, (CItem *)a1a);
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)a1a);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)a1a);
      CPlayer::Write(a1c, 67, "b", 39);
    }
  }
}
// 45ECBC: variable 'v5' is possibly undefined
// 45ECBC: variable 'v6' is possibly undefined
// 45ECBC: variable 'v7' is possibly undefined
// 45ECDE: variable 'a1b' is possibly undefined
// 45ECFA: variable 'a1a' is possibly undefined
// 45ED0C: variable 'a1c' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0045EEC0) --------------------------------------------------------
void __thiscall CPlayer::PutOutStorage(CIOCriticalSection *this, char a2, int a3, int a4, int a5)
{
  int v5; // eax
  int a1a; // [esp+0h] [ebp-24h]
  int a1b; // [esp+0h] [ebp-24h]
  char v9[4]; // [esp+4h] [ebp-20h] BYREF
  _WORD *v10; // [esp+8h] [ebp-1Ch]
  volatile int *v11; // [esp+Ch] [ebp-18h]
  _WORD *v12; // [esp+10h] [ebp-14h] BYREF
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator result; // [esp+14h] [ebp-10h] BYREF
  int i; // [esp+18h] [ebp-Ch]
  int v15; // [esp+1Ch] [ebp-8h] BYREF
  int _Keyval; // [esp+20h] [ebp-4h] BYREF

  if ( a3 > 0 && CNPC::CanReply(a2, (int)&this[10].m_critical_section.OwningThread) )
  {
    CIOCriticalSection::Enter(this);
    if ( a3 + CPlayer::GetInvenSize((char *)a1a) <= 60 )
    {
      for ( i = 0; i < a3; ++i )
      {
        a4 = (int)ScanPacket((char *)a4, (char *)a5, "dd", &_Keyval, &v15);
        if ( v15 > 0 )
        {
          std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
            (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1a + 1128),
            &result,
            &_Keyval);
          v5 = sub_430C20((_DWORD *)(a1a + 1128), (int)v9);
          if ( !(unsigned __int8)unknown_libname_8(v5) )
          {
            v10 = (_WORD *)(sub_420250(&result) + 4);
            v12 = v10;
            v11 = (volatile int *)sub_426060(*(_DWORD *)(a1a + 452), &v12);
            if ( v11 )
            {
              if ( (*(int (__thiscall **)(volatile int *, int, int, _DWORD, int))(*v11 + 156))(
                     v11,
                     a1a,
                     v15,
                     (unsigned __int16)*v10,
                     (int)v10 + 11) )
              {
                CPlayer::_IntoInven(v11);
              }
            }
          }
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)a1a);
    }
    else
    {
      CIOCriticalSection::Leave((CIOCriticalSection *)a1a);
      CPlayer::Write(a1b, 67, "b", 40);
    }
  }
}
// 45EEFE: variable 'a1a' is possibly undefined
// 45EF26: variable 'a1b' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0045F040) --------------------------------------------------------
void __thiscall CPlayer::SetStallInfo(int this, int a2, void *Src, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  _DWORD *v5; // eax
  int v6; // [esp+0h] [ebp-78h]
  CIOCriticalSection *v7; // [esp+0h] [ebp-78h]
  CIOCriticalSection *v8; // [esp+0h] [ebp-78h]
  char v10[8]; // [esp+8h] [ebp-70h] BYREF
  int v11[9]; // [esp+10h] [ebp-68h] BYREF
  char v12[4]; // [esp+34h] [ebp-44h] BYREF
  char *v13; // [esp+38h] [ebp-40h] BYREF
  char v14[4]; // [esp+3Ch] [ebp-3Ch] BYREF
  char *v15; // [esp+40h] [ebp-38h] BYREF
  int v16; // [esp+44h] [ebp-34h]
  char v17[32]; // [esp+48h] [ebp-30h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v18; // [esp+68h] [ebp-10h] BYREF
  int v19; // [esp+6Ch] [ebp-Ch] BYREF
  int v20; // [esp+70h] [ebp-8h] BYREF
  int v21; // [esp+74h] [ebp-4h] BYREF

  if ( sub_40B310((_DWORD *)this, 256) )
  {
    CPlayer::Write(this, 95, "b", 10);
    return;
  }
  if ( CSMap::IsOnTile(*(_DWORD **)(this + 320), (int *)(this + 332), 0x100000) )
  {
    CPlayer::Write(this, 67, "b", 84);
    return;
  }
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      ScanPacket((char *)Src, (char *)a4, "d", v14);
      if ( sub_40B310((_DWORD *)this, 16) )
        InterlockedIncrement((volatile LONG *)(this + 1220));
      CIOCriticalSection::Enter((CIOCriticalSection *)1);
      sub_471430((int *)(this + 1140), (int)v14);
      CIOCriticalSection::Leave(v8);
    }
    else if ( a2 == 2 )
    {
      ScanPacket((char *)Src, (char *)a4, "s", &v13, 65);
      strcpy((char *)(this + 1152), v13);
      if ( sub_40B310((_DWORD *)this, 16) )
        CChar::WriteInSight(this, 13, "bds", 1, *(_DWORD *)(this + 28), this + 1152);
    }
  }
  else
  {
    ScanPacket((char *)Src, (char *)a4, "ddd", &v21, &v19, &v20);
    if ( v19 > 0 && v20 > 0 )
    {
      if ( sub_40B310((_DWORD *)this, 16) )
        InterlockedIncrement((volatile LONG *)(this + 1220));
      CIOCriticalSection::Enter(0);
      if ( (unsigned int)unknown_libname_10(this + 1140, v6) < 0x10 )
      {
        sub_44AE20((_DWORD *)(this + 1068), &v18, &v21);
        v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1068), (int)v12);
        if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               &v18,
               v4) )
        {
          v16 = *(_DWORD *)(sub_420250(&v18) + 4);
          if ( !(*(int (__thiscall **)(int, int, int, _DWORD))(*(_DWORD *)v16 + 140))(v16, v19, this, 0) )
          {
            CIOCriticalSection::Leave(v7);
            CPlayer::GetStallInfo(this, 0, this);
            return;
          }
          sub_45F300(v17, v20);
          v15 = v17;
          (*(void (__thiscall **)(int, char **, int))(*(_DWORD *)v16 + 72))(v16, &v15, v19);
          v5 = sub_4728C0(v11, &v21, v17);
          sub_470AF0(
            this + 1140,
            (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v10,
            (int)v5);
        }
      }
      CIOCriticalSection::Leave(v7);
    }
  }
}
// 45F13B: variable 'v6' is possibly undefined
// 45F1B8: variable 'v7' is possibly undefined
// 45F28B: variable 'v8' is possibly undefined

//----- (0045F300) --------------------------------------------------------
char *__thiscall sub_45F300(char *this, int a2)
{
  this[25] = 0;
  this[24] = 0;
  this[23] = 0;
  this[22] = 0;
  this[21] = 0;
  this[20] = 0;
  this[19] = 0;
  this[18] = 0;
  this[17] = 0;
  this[16] = 0;
  this[15] = 0;
  *(_DWORD *)(this + 11) = 0;
  *(_DWORD *)(this + 7) = 0;
  this[6] = 0;
  *((_WORD *)this + 2) = 0;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 26) = a2;
  return this;
}

//----- (0045F3A0) --------------------------------------------------------
void __thiscall CPlayer::GetStallInfo(int this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  _WORD *v4; // eax
  char *v5; // edi
  CIOCriticalSection *v6; // [esp+0h] [ebp-2Ch]
  int v7; // [esp+0h] [ebp-2Ch]
  CIOCriticalSection *v8; // [esp+0h] [ebp-2Ch]
  char v10[4]; // [esp+10h] [ebp-1Ch] BYREF
  char v11[4]; // [esp+14h] [ebp-18h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v12; // [esp+18h] [ebp-14h] BYREF
  char *v13; // [esp+1Ch] [ebp-10h]
  int v14; // [esp+20h] [ebp-Ch]
  char *v15; // [esp+24h] [ebp-8h]
  void *Src; // [esp+28h] [ebp-4h]

  if ( sub_40B310((_DWORD *)this, 256) )
  {
    CPlayer::Write(this, 95, "b", 10);
  }
  else if ( a2 )
  {
    if ( a2 == 1 )
      CPlayer::Write(a3, 13, "bds", 1, *(_DWORD *)(this + 28), this + 1152);
  }
  else
  {
    Src = CIOBuffer::Alloc();
    v13 = (char *)Src;
    *((_BYTE *)Src + 2) = 13;
    v15 = v13 + 13;
    CIOCriticalSection::Enter(v6);
    v14 = unknown_libname_10(this + 1140, v7);
    if ( v14 > 0 )
    {
      std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 1140),
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v12);
      while ( 1 )
      {
        v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1140), (int)v10);
        if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                &v12,
                v3) )
          break;
        v4 = (_WORD *)(sub_420250(&v12) + 4);
        v5 = v15;
        qmemcpy(v15, v4, 0x1Cu);
        *((_WORD *)v5 + 14) = v4[14];
        v15 += 30;
        sub_472890((int *)&v12, v11, 0);
      }
    }
    CIOCriticalSection::Leave(v8);
    WritePacket(v13 + 3, "bddb", 0, *(_DWORD *)(this + 28), *(_DWORD *)(this + 1220), v14);
    *(_WORD *)v13 = (_WORD)v15 - (_WORD)v13;
    *((_DWORD *)Src + 2000) = *(unsigned __int16 *)v13;
    CPlayer::Send(Src);
    CIOBuffer::Release((CIOBuffer *)Src);
  }
}
// 45F418: variable 'v6' is possibly undefined
// 45F426: variable 'v7' is possibly undefined
// 45F4A5: variable 'v8' is possibly undefined

//----- (0045F540) --------------------------------------------------------
void __thiscall CPlayer::SwitchStall(char *this, int a2)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-Ch]
  CIOCriticalSection *v3; // [esp+0h] [ebp-Ch]
  char *v4; // [esp+0h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-4h]

  if ( a2 )
  {
    sub_412E90((CIOCriticalSection *)this);
    v6 = *((_DWORD *)this + 275);
    sub_412EB0((CIOCriticalSection *)this);
    if ( sub_45F640(this, 2146443264) || *((_DWORD *)this + 254) || v6 || sub_44A510(this, 7) )
      return;
    CChar::AddGState((volatile LONG *)this, 20);
  }
  else
  {
    CIOCriticalSection::Enter(v2);
    sub_471490((_DWORD *)this + 285);
    CIOCriticalSection::Leave(v3);
    if ( !sub_40B310(this, 16) )
      return;
    CChar::SubGState((volatile LONG *)this, 20);
  }
  if ( a2 )
    v4 = this + 1152;
  else
    v4 = &Source;
  CChar::WriteInSight((int)this, 61, "dbbs", *((_DWORD *)this + 7), 11, a2, v4);
}
// 45F5B6: variable 'v2' is possibly undefined
// 45F5D2: variable 'v3' is possibly undefined

//----- (0045F640) --------------------------------------------------------
int __thiscall sub_45F640(_DWORD *this, int a2)
{
  return this[70] & ~a2;
}

//----- (0045F660) --------------------------------------------------------
void __thiscall CPlayer::BuyItemAtStall(_DWORD *a1, int a2, int a3, int a4, void *Src, int a5)
{
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // esi
  char v11[4]; // [esp+8h] [ebp-3Ch] BYREF
  char v12[4]; // [esp+Ch] [ebp-38h] BYREF
  char v13[4]; // [esp+10h] [ebp-34h] BYREF
  char v14[4]; // [esp+14h] [ebp-30h] BYREF
  int v15; // [esp+18h] [ebp-2Ch]
  int v16; // [esp+1Ch] [ebp-28h]
  CItem *item; // [esp+20h] [ebp-24h]
  CPlayer *v18; // [esp+24h] [ebp-20h]
  int v19; // [esp+28h] [ebp-1Ch] BYREF
  CPlayer *player; // [esp+2Ch] [ebp-18h]
  int v21; // [esp+30h] [ebp-14h] BYREF
  int v22; // [esp+34h] [ebp-10h] BYREF
  int v23; // [esp+38h] [ebp-Ch] BYREF
  CItem *v24; // [esp+3Ch] [ebp-8h]
  int i; // [esp+40h] [ebp-4h]

  if ( sub_40B310(a1, 16) )
  {
    if ( a1[305] == a3 )
    {
      if ( a4 + CPlayer::GetInvenSize((char *)a2) <= 60 )
      {
        sub_45FA10();
        for ( i = 0; i < a4; ++i )
        {
          Src = ScanPacket((char *)Src, (char *)a5, "dd", &v23, &v19);
          if ( v19 > 0 )
          {
            sub_4714F0(a1 + 285, &v22, &v23);
            v6 = sub_430C20(a1 + 285, (int)v14);
            if ( (unsigned __int8)unknown_libname_8(v6) )
            {
              CPlayer::Write(a2, 68, "bd", 45, v23);
            }
            else
            {
              v16 = sub_420250(&v22) + 4;
              v7 = sub_45F9A0(v16);
              if ( v19 <= v7 )
              {
                sub_44AE20(a1 + 267, &v21, &v23);
                v8 = sub_430C20(a1 + 267, (int)v13);
                if ( (unsigned __int8)unknown_libname_8(v8)
                  || (v9 = sub_45F9A0(v16), v9 > *(_DWORD *)(*(_DWORD *)(sub_420250(&v21) + 4) + 52)) )
                {
                  CPlayer::Write(a2, 67, "b", 47);
                  sub_470CA0(a1 + 285, v12, v22);
                }
                else
                {
                  v15 = *(_DWORD *)(v16 + 26) * v19;
                  if ( v15 <= 0 )
                    break;
                  v18 = *(CPlayer **)(a2 + 1096);
                  if ( !v18 || v15 > *(_DWORD *)&v18->m_szName[20] )
                    break;
                  player = *(CPlayer **)(sub_420250(&v21) + 4);
                  item = (CItem *)((int (__thiscall *)(CPlayer *))player->RemoveHostility)(player);
                  if ( item == (CItem *)player )
                    CPlayer::_OutofInven(player, (CItem *)a1);
                  if ( CPlayer::_InsertItem(a2, 26, (volatile int *)item) != 1 )
                    CBase::Delete(item);
                  v24 = (CItem *)((int (__thiscall *)(CPlayer *))v18->RemoveHostility)(v18);
                  if ( v24 == (CItem *)v18 )
                    CPlayer::_OutofInven(v18, (CItem *)a2);
                  if ( CPlayer::_InsertItem((int)a1, 26, (volatile int *)v24) != 1 )
                    CBase::Delete(v24);
                  if ( !sub_45F9D0(v16, v19) )
                    sub_470CA0(a1 + 285, v11, v22);
                }
              }
              else
              {
                CPlayer::Write(a2, 68, "bd", 46, v23);
              }
            }
          }
        }
        sub_45FA60();
        CPlayer::GetStallInfo((int)a1, 0, a2);
        CPlayer::GetStallInfo((int)a1, 0, (int)a1);
      }
      else
      {
        CPlayer::Write(a2, 67, "b", 40);
      }
    }
    else
    {
      CPlayer::GetStallInfo((int)a1, 0, a2);
      CPlayer::Write(a2, 67, "b", 48);
    }
  }
  else
  {
    CPlayer::Write(a2, 67, "b", 50);
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0045F9A0) --------------------------------------------------------
int __thiscall sub_45F9A0(int this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( (*(_DWORD *)(this + 7) & 0x20) != 0 )
    v2 = 1;
  else
    v2 = *(_DWORD *)(this + 11);
  return v2;
}

//----- (0045F9D0) --------------------------------------------------------
int __thiscall sub_45F9D0(int this, int a2)
{
  if ( (*(_DWORD *)(this + 7) & 0x20) != 0 )
    return 0;
  *(_DWORD *)(this + 11) -= a2;
  return *(_DWORD *)(this + 11);
}

//----- (0045FA10) --------------------------------------------------------
void sub_45FA10()
{
  CIOCriticalSection *savedregs; // [esp+0h] [ebp+0h]
  CIOCriticalSection *savedregsa; // [esp+0h] [ebp+0h]

  CIOCriticalSection::Enter(savedregs);
  CIOCriticalSection::Enter(savedregsa);
}
// 45FA24: variable 'savedregs' is possibly undefined
// 45FA32: variable 'savedregsa' is possibly undefined

//----- (0045FA60) --------------------------------------------------------
void sub_45FA60()
{
  CIOCriticalSection *savedregs; // [esp+0h] [ebp+0h]
  CIOCriticalSection *savedregsa; // [esp+0h] [ebp+0h]

  CIOCriticalSection::Leave(savedregs);
  CIOCriticalSection::Leave(savedregsa);
}
// 45FA6C: variable 'savedregs' is possibly undefined
// 45FA7A: variable 'savedregsa' is possibly undefined

//----- (0045FA90) --------------------------------------------------------
void __thiscall CPlayer::AskParty(CIOCriticalSection *this, int a2)
{
  volatile int *v3; // [esp+4h] [ebp-Ch]
  unsigned int v4; // [esp+8h] [ebp-8h]
  CIOObject *v5; // [esp+Ch] [ebp-4h]

  if ( this->m_dwEIP[1] != a2 && !sub_40B310(this, 144) )
  {
    sub_412E90(this);
    v4 = this[31].m_dwEIP[0];
    if ( v4 )
    {
      v3 = sub_44D4E0(v4);
      if ( v3 )
      {
        if ( !CParty::IsHead((CIOCriticalSection *)v3, (int)this) )
        {
          sub_412EB0(this);
          CPlayer::Write((int)this, 67, "b", 27);
          sub_401DE0((int *)v3);
          return;
        }
        sub_401DE0((int *)v3);
      }
    }
    sub_412EB0(this);
    if ( sub_40B310(this, 256) )
    {
      CPlayer::Write((int)this, 95, "b", 12);
    }
    else
    {
      v5 = CPlayer::FindPlayer_(a2);
      if ( v5 )
      {
        if ( sub_40B310(v5, 256) )
        {
          CPlayer::Write((int)this, 95, "b", 13);
          CIOObject::Release(v5, (volatile int *)&v5[22]);
        }
        else
        {
          if ( !sub_40B310(v5, 144) )
          {
            if ( v5[63].m_nTimerRef )
            {
              CPlayer::Write((int)this, 68, "bs", 31, &v5[2]);
            }
            else
            {
              CPlayer::Write((int)v5, 82, "d", this->m_dwEIP[1]);
              CPlayer::Write((int)this, 68, "bs", 28, &v5[2]);
            }
          }
          CIOObject::Release(v5, (volatile int *)&v5[22]);
        }
      }
      else
      {
        CPlayer::Write((int)this, 67, "b", 37);
      }
    }
  }
}

//----- (0045FC60) --------------------------------------------------------
void __thiscall CPlayer::OnAskParty(__int32 this, int a2, int a3)
{
  CIOObject *a1; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)(this + 28) != a3 && !sub_40B310((_DWORD *)this, 144) )
  {
    a1 = CPlayer::FindPlayer_(a3);
    if ( a1 )
    {
      if ( sub_40B310(a1, 128) )
      {
        CPlayer::Write(this, 67, "b", 61);
      }
      else if ( sub_448870(&a1[20].m_nGeneralRef, (_DWORD *)(this + 332)) > 320 )
      {
        CPlayer::Write(this, 67, "b", 37);
      }
      else if ( a2 )
      {
        CParty::Accept((int)a1, this);
      }
      else
      {
        CPlayer::Write((int)a1, 68, "bs", 34, this + 32);
      }
      CIOObject::Release(a1, (volatile int *)&a1[22]);
    }
    else
    {
      CPlayer::Write(this, 67, "b", 37);
    }
  }
}

//----- (0045FD70) --------------------------------------------------------
void __thiscall CPlayer::LeaveParty(_DWORD *this)
{
  volatile int *a1; // [esp+4h] [ebp-8h]
  int v3; // [esp+8h] [ebp-4h]

  v3 = this[254];
  if ( v3 )
  {
    a1 = sub_44D4E0(v3);
    if ( a1 )
    {
      CParty::Leave((void *)a1, (int)this);
      sub_401DE0((int *)a1);
    }
  }
}

//----- (0045FDC0) --------------------------------------------------------
void __thiscall CPlayer::ExileParty(int a1, int a2)
{
  CIOObject *v3; // [esp+4h] [ebp-Ch]
  volatile int *a1a; // [esp+8h] [ebp-8h]
  int v5; // [esp+Ch] [ebp-4h]

  if ( *(_DWORD *)(a1 + 28) != a2 )
  {
    v5 = *(_DWORD *)(a1 + 1016);
    if ( v5 )
    {
      a1a = sub_44D4E0(v5);
      if ( a1a )
      {
        v3 = CPlayer::FindPlayer_(a2);
        if ( v3 )
        {
          CParty::Exile((void *)a1a, a1, (int)v3);
          CIOObject::Release(v3, (volatile int *)&v3[22]);
        }
        sub_401DE0((int *)a1a);
      }
    }
  }
}

//----- (0045FE50) --------------------------------------------------------
unsigned int __thiscall CPlayer::GetPartySize(_DWORD *this)
{
  volatile int *v2; // [esp+4h] [ebp-Ch]
  int a1; // [esp+8h] [ebp-8h]
  int v4; // [esp+Ch] [ebp-4h]

  v4 = 0;
  a1 = this[254];
  if ( a1 )
  {
    v2 = sub_44D4E0(a1);
    if ( v2 )
    {
      v4 = sub_412ED0((int)v2);
      sub_401DE0((int *)v2);
    }
  }
  return v4;
}

//----- (0045FEB0) --------------------------------------------------------
void __thiscall CPlayer::UpdatePartyMember(CPlayer *this, int a2)
{
  CIOCriticalSection *v3; // [esp+8h] [ebp-8h]
  int a1; // [esp+Ch] [ebp-4h]

  a1 = this->m_nParty;
  if ( a1 )
  {
    v3 = (CIOCriticalSection *)sub_44D4E0(a1);
    if ( v3 )
    {
      if ( a2 == 7 )
      {
        CParty::UpdateMemberHP(v3, this);
      }
      else if ( a2 == 26 )
      {
        CParty::UpdateMemberLevel(v3, (int)this);
      }
      sub_401DE0((int *)v3);
    }
  }
}

//----- (0045FF20) --------------------------------------------------------
void __thiscall CPlayer::SaveQuestFlag(CIOCriticalSection *this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  int v5; // eax
  std::pair<int,CScriptToCookBoard::tBaseTable> *v6; // eax
  CIOCriticalSection *a1; // [esp+0h] [ebp-30h]
  char v8[12]; // [esp+4h] [ebp-2Ch] BYREF
  char v9[4]; // [esp+10h] [ebp-20h] BYREF
  char v10[8]; // [esp+14h] [ebp-1Ch] BYREF
  int v11[2]; // [esp+1Ch] [ebp-14h] BYREF
  int _Val1; // [esp+24h] [ebp-Ch] BYREF
  int v13; // [esp+28h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v14; // [esp+2Ch] [ebp-4h] BYREF

  _Val1 = a2 >> 16;
  v13 = (unsigned __int16)a2;
  CIOCriticalSection::Enter(this);
  sub_471840(&a1[39].m_critical_section.RecursionCount, &v14, &_Val1);
  v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(
                                                                   &a1[39].m_critical_section.RecursionCount,
                                                                   (int)v9);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v14,
         v3) )
  {
    v4 = sub_420250(&v14);
    if ( v13 <= *(_DWORD *)(v4 + 4) )
    {
      LOG_ERR(
        "CPlayer::SaveQuestFlag() Already saved quest flag. (pid:%d, quest:%d, flag:%d)",
        a1[14].m_critical_section.LockCount,
        _Val1,
        v13);
    }
    else
    {
      v5 = sub_420250(&v14);
      *(_DWORD *)(v5 + 4) = v13;
      *(_DWORD *)(sub_420250(&v14) + 8) = a3;
      CPlayer::Write((int)a1, 86, "wbb", _Val1, v13, a3);
      CDBSocket::Write(14, "dwbb", a1[14].m_critical_section.LockCount, _Val1, v13, a3);
    }
  }
  else
  {
    v11[0] = v13;
    v11[1] = a3;
    v6 = std::pair<int,CScriptToCookBoard::tBaseTable>::pair<int,CScriptToCookBoard::tBaseTable>(
           (std::pair<int,CScriptToCookBoard::tBaseTable> *)v8,
           &_Val1,
           (const CScriptToCookBoard::tBaseTable *)v11);
    sub_4715D0(
      (int)&a1[39].m_critical_section.RecursionCount,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v10,
      (int)v6);
    if ( !v10[4] )
      LOG_ERR(
        "CPlayer::SaveQuestFlag() Failed to save quest flag. (pid:%d, quest:%d, flag:%d)",
        a1[14].m_critical_section.LockCount,
        _Val1,
        v13);
    CPlayer::Write((int)a1, 86, "wbb", _Val1, v13, a3);
    CDBSocket::Write(13, "dwbb", a1[14].m_critical_section.LockCount, _Val1, v13, a3);
  }
  CIOCriticalSection::Leave(a1);
}
// 45FF57: variable 'a1' is possibly undefined

//----- (004600D0) --------------------------------------------------------
BOOL __thiscall CPlayer::CheckQuestFlag(CIOCriticalSection *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int v3; // eax
  int v4; // edx
  CIOCriticalSection *v6; // [esp+0h] [ebp-1Ch]
  char v7[4]; // [esp+4h] [ebp-18h] BYREF
  int v8; // [esp+8h] [ebp-14h] BYREF
  int v9; // [esp+Ch] [ebp-10h]
  int v10; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h]
  char v12[4]; // [esp+18h] [ebp-4h] BYREF

  v8 = a2 >> 16;
  v11 = (unsigned __int16)a2;
  v9 = 0;
  v10 = 0;
  CIOCriticalSection::Enter(this);
  sub_471840(&v6[39].m_critical_section.RecursionCount, v12, &v8);
  v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(
                                                                   &v6[39].m_critical_section.RecursionCount,
                                                                   (int)v7);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v12,
         v2) )
  {
    v3 = sub_420250(v12);
    v4 = *(_DWORD *)(v3 + 8);
    v9 = *(_DWORD *)(v3 + 4);
    v10 = v4;
  }
  CIOCriticalSection::Leave(v6);
  return v9 == v11;
}
// 460115: variable 'v6' is possibly undefined

//----- (00460180) --------------------------------------------------------
int __thiscall CPlayer::CheckQuestClear(CIOCriticalSection *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int v3; // eax
  int v4; // edx
  CIOCriticalSection *v6; // [esp+0h] [ebp-14h]
  char v7[4]; // [esp+4h] [ebp-10h] BYREF
  int v8; // [esp+8h] [ebp-Ch]
  int v9; // [esp+Ch] [ebp-8h]
  char v10[4]; // [esp+10h] [ebp-4h] BYREF

  v8 = 0;
  v9 = 0;
  CIOCriticalSection::Enter(this);
  sub_471840(&v6[39].m_critical_section.RecursionCount, v10, &a2);
  v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(
                                                                   &v6[39].m_critical_section.RecursionCount,
                                                                   (int)v7);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         (std::vector<CIOSocket::CIOTimer>::const_iterator *)v10,
         v2) )
  {
    v3 = sub_420250(v10);
    v4 = *(_DWORD *)(v3 + 8);
    v8 = *(_DWORD *)(v3 + 4);
    v9 = v4;
  }
  CIOCriticalSection::Leave(v6);
  return v9;
}
// 4601B0: variable 'v6' is possibly undefined

//----- (00460210) --------------------------------------------------------
void __thiscall CPlayer::QuestGuide(CIOCriticalSection *this, int a2)
{
  int v2; // eax
  CIOCriticalSection *a1; // [esp+0h] [ebp-1Ch]
  int a1a; // [esp+0h] [ebp-1Ch]
  char v5[4]; // [esp+4h] [ebp-18h] BYREF
  char v6[4]; // [esp+8h] [ebp-14h] BYREF
  int i; // [esp+Ch] [ebp-10h]
  int v8; // [esp+10h] [ebp-Ch]
  int v9; // [esp+14h] [ebp-8h] BYREF
  int v10; // [esp+18h] [ebp-4h]

  v10 = 200046;
  CIOCriticalSection::Enter(this);
  for ( i = 0; i < dword_4E1FF0; ++i )
  {
    v8 = dword_4D63D4[3 * i];
    if ( (signed int)a1[1].m_dwEIP[1] < v8 )
    {
      v10 = 200035;
      break;
    }
    v9 = dword_4D63D0[3 * i];
    sub_471840(&a1[39].m_critical_section.RecursionCount, v6, &v9);
    v2 = sub_430C20(&a1[39].m_critical_section.RecursionCount, (int)v5);
    if ( (unsigned __int8)unknown_libname_8(v2) )
    {
      v10 = dword_4D63D8[3 * i];
      break;
    }
  }
  CIOCriticalSection::Leave(a1);
  CPlayer::Write(a1a, 74, "d", v10);
}
// 460261: variable 'a1' is possibly undefined
// 4602EC: variable 'a1a' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4D63D0: using guessed type int dword_4D63D0[];
// 4D63D4: using guessed type int dword_4D63D4[];
// 4E1FF0: using guessed type int dword_4E1FF0;

//----- (00460300) --------------------------------------------------------
void __thiscall CPlayer::AskPvP(CIOCriticalSection *a1, int a2)
{
  CIOObject *v3; // [esp+4h] [ebp-4h]

  if ( a1->m_dwEIP[1] != a2 )
  {
    v3 = CPlayer::FindPlayer_(a2);
    if ( v3 )
    {
      sub_460490(a1, (CIOCriticalSection *)v3);
      if ( !CChar::IsNormal((int)a1)
        || sub_44A510(a1, 1)
        || a1[34].m_critical_section.OwningThread
        || sub_40B310(a1, 144)
        || a1[47].m_critical_section.OwningThread )
      {
        CPlayer::Write((int)a1, 68, "bb", 62, 0);
      }
      else if ( !CChar::IsNormal((int)v3)
             || sub_44A510(v3, 1)
             || v3[68].m_nGeneralRef
             || sub_40B310(v3, 144)
             || a1[47].m_critical_section.OwningThread )
      {
        CPlayer::Write((int)a1, 68, "bb", 62, 1);
      }
      else if ( sub_448870(&a1[10].m_critical_section.OwningThread, &v3[20].m_nGeneralRef) <= 160 )
      {
        CPlayer::Write((int)v3, 96, "d", a1->m_dwEIP[1]);
      }
      else
      {
        CPlayer::Write((int)a1, 67, "b", 63);
      }
      sub_44D620(a1, (CIOCriticalSection *)v3);
      CIOObject::Release(v3, (volatile int *)&v3[22]);
    }
    else
    {
      CPlayer::Write((int)a1, 67, "b", 63);
    }
  }
}

//----- (00460490) --------------------------------------------------------
void __cdecl sub_460490(CIOCriticalSection *a1, CIOCriticalSection *a2)
{
  if ( a1 >= a2 )
  {
    sub_412E90(a2);
    sub_412E90(a1);
  }
  else
  {
    sub_412E90(a1);
    sub_412E90(a2);
  }
}

//----- (004604C0) --------------------------------------------------------
void __thiscall CPlayer::OnAskPvP(CIOCriticalSection *a1, int a2, int a3)
{
  int v3; // eax
  int v4; // [esp-8h] [ebp-14h]
  int v5; // [esp-4h] [ebp-10h]
  CMemory *i; // [esp+4h] [ebp-8h]
  CIOObject *v8; // [esp+8h] [ebp-4h]

  if ( a1->m_dwEIP[1] != a3 )
  {
    v8 = CPlayer::FindPlayer_(a3);
    if ( v8 )
    {
      sub_460490(a1, (CIOCriticalSection *)v8);
      if ( !CChar::IsNormal((int)a1)
        || sub_44A510(a1, 1)
        || a1[34].m_critical_section.OwningThread
        || sub_40B310(a1, 144)
        || a1[47].m_critical_section.OwningThread )
      {
        CPlayer::Write((int)a1, 68, "bb", 62, 0);
      }
      else if ( !CChar::IsNormal((int)v8)
             || sub_44A510(v8, 1)
             || v8[68].m_nGeneralRef
             || sub_40B310(v8, 144)
             || a1[47].m_critical_section.OwningThread )
      {
        CPlayer::Write((int)a1, 68, "bb", 62, 1);
      }
      else if ( sub_448870(&a1[10].m_critical_section.OwningThread, &v8[20].m_nGeneralRef) <= 160 )
      {
        if ( a2 )
        {
          sub_4010D0((int)a1);
          CChar::AddGState((volatile LONG *)a1, 128);
          CPlayer::Write((int)a1, 46, "dd", a1->m_dwEIP[1], a1[8].m_dwEIP[0]);
          a1[47].m_critical_section.OwningThread = v8;
          sub_4010D0((int)v8);
          CChar::AddGState((volatile LONG *)v8, 128);
          v5 = v8[17].m_nTimerRef;
          v4 = std::_Mpunct<wchar_t>::do_frac_digits(v8);
          CPlayer::Write((int)v8, 46, "dd", v4, v5);
          v8[94].m_nGeneralRef = (int)a1;
          v8[94].m_nTimerRef = InterlockedIncrement(&dword_4E1FFC);
          a1[47].m_critical_section.RecursionCount = v8[94].m_nTimerRef;
          for ( i = CSMap::GetPlayerListInRect(&a1[10].m_critical_section.LockCount, 5);
                i;
                i = (CMemory *)CBaseList::Pop((CIOObject *)i) )
          {
            v3 = unknown_libname_7(i);
            CPlayer::Write(v3, 68, "bbss", 65, 5, &v8[2], &a1[1]);
          }
        }
        else
        {
          CPlayer::Write((int)v8, 68, "bs", 64, &a1[1]);
        }
      }
      else
      {
        CPlayer::Write((int)a1, 67, "b", 63);
      }
      sub_44D620(a1, (CIOCriticalSection *)v8);
      CIOObject::Release(v8, (volatile int *)&v8[22]);
    }
    else
    {
      CPlayer::Write((int)a1, 67, "b", 63);
    }
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00460770) --------------------------------------------------------
void __thiscall CPlayer::OnPvP(int a1)
{
  int v1; // eax
  volatile int *a2; // [esp+4h] [ebp-4h]

  a2 = *(volatile int **)(a1 + 1516);
  if ( !a2 )
    EBREAK(a1);
  if ( CChar::IsNormal((int)a2) && *(_DWORD *)(a1 + 1512) == *((_DWORD *)a2 + 378) )
  {
    if ( *(_DWORD *)(a1 + 1520) < 4u )
    {
      if ( *(_DWORD *)(a1 + 28) >= std::_Mpunct<wchar_t>::do_frac_digits(a2) )
      {
        if ( ++*(_DWORD *)(a1 + 1520) >= 4u )
        {
          v1 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
          CPlayer::Write(a1, 68, "bbd", 65, 1, v1);
          CPlayer::Write((int)a2, 68, "bbd", 65, 1, *(_DWORD *)(a1 + 28));
        }
        else
        {
          CPlayer::Write(a1, 68, "bbsb", 65, 0, a2 + 8, 4 - *(_DWORD *)(a1 + 1520));
          CPlayer::Write((int)a2, 68, "bbsb", 65, 0, a1 + 32, 4 - *(_DWORD *)(a1 + 1520));
        }
      }
    }
    else if ( ++*(_DWORD *)(a1 + 1520) >= 0x258u )
    {
      CPlayer::EndPvP(a1, a2, 4, 4, 7);
    }
  }
  else
  {
    *(_DWORD *)(a1 + 1512) = 0;
    *(_DWORD *)(a1 + 1516) = 0;
    *(_DWORD *)(a1 + 1520) = 0;
    CChar::SubGState((volatile LONG *)a1, 128);
    CPlayer::Write(a1, 46, "dd", *(_DWORD *)(a1 + 28), *(_DWORD *)(a1 + 280));
    sub_401DE0((int *)a2);
  }
}

//----- (00460940) --------------------------------------------------------
void __thiscall CPlayer::EndPvP(int this, volatile int *a2, int a3, int a4, int a5)
{
  int v5; // eax
  CMemory *i; // [esp+4h] [ebp-4h]

  CPlayer::Write(this, 68, "bbs", 65, a3, a2 + 8);
  CPlayer::Write((int)a2, 68, "bbs", 65, a4, this + 32);
  for ( i = CSMap::GetPlayerListInRect((_DWORD *)(this + 324), 5); i; i = (CMemory *)CBaseList::Pop((CIOObject *)i) )
  {
    v5 = unknown_libname_7(i);
    CPlayer::Write(v5, 68, "bbss", 65, a5, this + 32, a2 + 8);
  }
  *(_DWORD *)(this + 1512) = 0;
  *(_DWORD *)(this + 1516) = 0;
  *(_DWORD *)(this + 1520) = 0;
  CChar::SubGState((volatile LONG *)this, 128);
  CPlayer::Write(this, 46, "dd", *(_DWORD *)(this + 28), *(_DWORD *)(this + 280));
  sub_401DE0((int *)a2);
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00460A50) --------------------------------------------------------
void __thiscall CPlayer::ProcessMsg(CIOObject *a1, char *a2)
{
  CIOBuffer *v2; // [esp-4h] [ebp-70h]
  CIOBuffer *v3; // [esp-4h] [ebp-70h]
  CIOBuffer *v4; // [esp-4h] [ebp-70h]
  CIOCriticalSection *v5; // [esp+0h] [ebp-6Ch]
  CIOCriticalSection *v6; // [esp+0h] [ebp-6Ch]
  CIOCriticalSection *v7; // [esp+0h] [ebp-6Ch]
  CMemory *j; // [esp+8h] [ebp-64h]
  CIOBuffer *v10; // [esp+Ch] [ebp-60h]
  CIOObject *v11; // [esp+10h] [ebp-5Ch] BYREF
  CIOBuffer *v12; // [esp+14h] [ebp-58h]
  CIOObject *a5; // [esp+18h] [ebp-54h] BYREF
  CIOBuffer *v14; // [esp+1Ch] [ebp-50h]
  CIOBuffer *v15; // [esp+20h] [ebp-4Ch]
  CIOObject *v16; // [esp+24h] [ebp-48h]
  CIOBuffer *v17; // [esp+28h] [ebp-44h]
  CIOObject *v18; // [esp+2Ch] [ebp-40h]
  CIOBuffer *v19; // [esp+30h] [ebp-3Ch]
  int *v20; // [esp+34h] [ebp-38h]
  int v21; // [esp+38h] [ebp-34h]
  char *v22; // [esp+3Ch] [ebp-30h]
  char name; // [esp+40h] [ebp-2Ch] BYREF
  int v24; // [esp+41h] [ebp-2Bh]
  int v25; // [esp+45h] [ebp-27h]
  int v26; // [esp+49h] [ebp-23h]
  int v27; // [esp+4Dh] [ebp-1Fh]
  int v28; // [esp+54h] [ebp-18h]
  CIOObject *v29; // [esp+58h] [ebp-14h]
  size_t v30; // [esp+5Ch] [ebp-10h]
  CIOObject *i; // [esp+60h] [ebp-Ch]
  void *Src; // [esp+64h] [ebp-8h]
  DWORD v33; // [esp+68h] [ebp-4h]

  v28 = dword_4D9830;
  v33 = GetTickCount();
  if ( a1[91].m_nRef <= v33 )
  {
    a1[91].m_nRef = v33 + 1000;
    v5 = (CIOCriticalSection *)(*a2 - 35);
    switch ( *a2 )
    {
      case '#':
        v21 = a1[63].m_nTimerRef;
        if ( v21 )
        {
          v20 = (int *)sub_44D4E0(v21);
          if ( v20 )
          {
            v19 = WritePacket_(60, "ss", &a1[2], a2);
            CParty::Broadcast((CIOCriticalSection *)v20, v19, 0);
            sub_401DE0(v20);
          }
        }
        break;
      case '$':
        v18 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
        if ( v18 )
        {
          v17 = WritePacket_(60, "ss", &a1[2], a2);
          CGuild::BroadcastLock(v17, 0);
          CIOBuffer::Release(v17);
          CIOObject::Release(v18, &v18[2].m_nTimerRef);
        }
        break;
      case '&':
        CPlayer::Write((int)a1, 60, "ss", &a1[2], a2);
        CIOCriticalSection::Enter(v5);
        a5 = 0;
        CPlayer::_MLMGet((CMemory **)&a5, 3);
        v14 = WritePacket_(60, "ss", &a1[2], a2);
        while ( a5 )
        {
          v2 = v14;
          unknown_libname_7(a5);
          CPlayer::Send(v2);
          a5 = (CIOObject *)CBaseList::Pop(a5);
        }
        CIOBuffer::Release(v14);
        CPlayer::_MLMGet((CMemory **)&a5, 2);
        *a2 = 42;
        v14 = WritePacket_(60, "ss", &a1[2], a2);
        while ( a5 )
        {
          v3 = v14;
          unknown_libname_7(a5);
          CPlayer::Send(v3);
          a5 = (CIOObject *)CBaseList::Pop(a5);
        }
        CIOBuffer::Release(v14);
        CIOCriticalSection::Leave(v6);
        break;
      case '*':
        CPlayer::Write((int)a1, 60, "ss", &a1[2], a2);
        CIOCriticalSection::Enter(v5);
        v11 = 0;
        CPlayer::_MLMGet((CMemory **)&v11, 4);
        *a2 = 38;
        v12 = WritePacket_(60, "ss", &a1[2], a2);
        while ( v11 )
        {
          v4 = v12;
          unknown_libname_7(v11);
          CPlayer::Send(v4);
          v11 = (CIOObject *)CBaseList::Pop(v11);
        }
        CIOBuffer::Release(v12);
        CIOCriticalSection::Leave(v7);
        break;
      case '/':
        if ( a2[1] == 121 && a2[2] == 32 )
        {
          if ( CPlayer::RemoveItem((CPlayer *)a1, 9, 513, 1) || CPlayer::RemoveItem((CPlayer *)a1, 9, 514, 1) )
          {
            Src = WritePacket_(60, "ss", &a1[2], a2);
            for ( i = (CIOObject *)CSMap::GetPlayerListInRect(&a1[20].m_nRef, 50); i; i = (CIOObject *)CBaseList::Pop(i) )
            {
              unknown_libname_7(i);
              CPlayer::Send(Src);
            }
            CIOBuffer::Release((CIOBuffer *)Src);
          }
        }
        else if ( a2[1] == 115 && a2[2] == 32 )
        {
          if ( CPlayer::RemoveItem((CPlayer *)a1, 9, 515, 1) || CPlayer::RemoveItem((CPlayer *)a1, 9, 516, 1) )
            CPlayer::WriteAll(60, "ss", &a1[2], a2);
        }
        else
        {
          CPlayer::ChatCommand((int)a1, a2);
        }
        break;
      case '@':
        v22 = a2 + 1;
        name = 0;
        v24 = 0;
        v25 = 0;
        v26 = 0;
        v27 = 0;
        v30 = strcspn(a2 + 1, " ");
        if ( (int)v30 <= 16 )
        {
          memcpy(&name, v22, v30);
          if ( IsValidAdminName(&name) )
          {
            v29 = sub_450890(&name);
            if ( v29 )
            {
              if ( v29 != a1 )
              {
                CPlayer::Write((int)a1, 60, "ss", &a1[2], a2);
                CPlayer::Write((int)v29, 60, "ss", &a1[2], a2);
              }
              CIOObject::Release(v29, (volatile int *)&v29[22]);
            }
            else
            {
              CPlayer::Write((int)a1, 67, "b", 25);
            }
          }
        }
        break;
      case '~':
        v16 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
        if ( v16 )
        {
          v15 = WritePacket_(60, "ss", &a1[2], a2);
          CGuild::AllianceBroadcast(v16, (int)v15);
          CIOBuffer::Release(v15);
          CIOObject::Release(v16, &v16[2].m_nTimerRef);
        }
        break;
      default:
        v10 = WritePacket_(60, "ss", &a1[2], a2);
        for ( j = CSMap::GetPlayerListInRect(&a1[20].m_nRef, 25); j; j = (CMemory *)CBaseList::Pop((CIOObject *)j) )
        {
          unknown_libname_7(j);
          CPlayer::Send(v10);
        }
        CIOBuffer::Release(v10);
        break;
    }
  }
}
// 460ED6: variable 'v6' is possibly undefined
// 460F7D: variable 'v7' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 4D9830: using guessed type int dword_4D9830;

//----- (00461080) --------------------------------------------------------
void __thiscall CPlayer::ChatCommand(int a1, char *Str1)
{
  char *v2; // eax
  char *v3; // eax
  char *v4; // eax
  char *v5; // eax
  char *v6; // eax
  char *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v14; // eax
  __int64 v15; // rax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v16; // eax
  int v17; // eax
  std::pair<int,CScriptToCookBoard::tBaseTable> *v18; // eax
  int v19; // eax
  int v20; // eax
  std::pair<int,CScriptToCookBoard::tBaseTable> *v21; // eax
  int v22; // [esp-6Ch] [ebp-54Ch]
  int v23; // [esp-68h] [ebp-548h]
  int v24; // [esp-64h] [ebp-544h]
  int v25; // [esp-60h] [ebp-540h]
  int v26; // [esp-5Ch] [ebp-53Ch]
  int v27; // [esp-54h] [ebp-534h]
  int v28; // [esp-4Ch] [ebp-52Ch]
  int v29; // [esp-48h] [ebp-528h]
  int v30; // [esp-44h] [ebp-524h]
  int v31; // [esp-40h] [ebp-520h]
  int v32; // [esp-3Ch] [ebp-51Ch]
  int v33; // [esp-38h] [ebp-518h]
  int v34; // [esp-34h] [ebp-514h]
  int v35; // [esp-30h] [ebp-510h]
  int v36; // [esp-2Ch] [ebp-50Ch]
  int v37; // [esp-28h] [ebp-508h]
  int v38; // [esp-24h] [ebp-504h]
  int v39; // [esp-20h] [ebp-500h]
  int v40; // [esp-1Ch] [ebp-4FCh]
  int v41; // [esp-18h] [ebp-4F8h]
  int v42; // [esp-14h] [ebp-4F4h]
  int v43; // [esp-10h] [ebp-4F0h]
  int v44; // [esp-Ch] [ebp-4ECh]
  int v45; // [esp-8h] [ebp-4E8h]
  char *v46; // [esp-4h] [ebp-4E4h]
  char *v47; // [esp-4h] [ebp-4E4h]
  char *v48; // [esp-4h] [ebp-4E4h]
  char *v49; // [esp-4h] [ebp-4E4h]
  char *v50; // [esp-4h] [ebp-4E4h]
  char *v51; // [esp-4h] [ebp-4E4h]
  int v52; // [esp-4h] [ebp-4E4h]
  int v53; // [esp-4h] [ebp-4E4h]
  int v54; // [esp-4h] [ebp-4E4h]
  int v55; // [esp-4h] [ebp-4E4h]
  int v56; // [esp-4h] [ebp-4E4h]
  CIOCriticalSection *v57; // [esp+0h] [ebp-4E0h]
  CIOCriticalSection *v58; // [esp+0h] [ebp-4E0h]
  int v59; // [esp+0h] [ebp-4E0h]
  CIOCriticalSection *v60; // [esp+0h] [ebp-4E0h]
  CIOCriticalSection *v61; // [esp+0h] [ebp-4E0h]
  CIOCriticalSection *v62; // [esp+0h] [ebp-4E0h]
  CIOCriticalSection *v63; // [esp+0h] [ebp-4E0h]
  CIOCriticalSection *v64; // [esp+0h] [ebp-4E0h]
  CIOCriticalSection *v65; // [esp+0h] [ebp-4E0h]
  int v66; // [esp+4h] [ebp-4DCh]
  const char *v67; // [esp+8h] [ebp-4D8h]
  char v68; // [esp+Ch] [ebp-4D4h]
  int v70; // [esp+14h] [ebp-4CCh] BYREF
  char v71[12]; // [esp+1Ch] [ebp-4C4h] BYREF
  char v72[4]; // [esp+28h] [ebp-4B8h] BYREF
  char v73[8]; // [esp+2Ch] [ebp-4B4h] BYREF
  char v74[12]; // [esp+34h] [ebp-4ACh] BYREF
  char v75[4]; // [esp+40h] [ebp-4A0h] BYREF
  char v76[4]; // [esp+44h] [ebp-49Ch] BYREF
  int v77; // [esp+48h] [ebp-498h] BYREF
  char v78[4]; // [esp+4Ch] [ebp-494h] BYREF
  int v79; // [esp+50h] [ebp-490h]
  int v80; // [esp+54h] [ebp-48Ch]
  int v81; // [esp+58h] [ebp-488h]
  int v82; // [esp+5Ch] [ebp-484h]
  int v83; // [esp+60h] [ebp-480h]
  int v84; // [esp+64h] [ebp-47Ch]
  int v85; // [esp+68h] [ebp-478h]
  int v86; // [esp+6Ch] [ebp-474h]
  int v87; // [esp+70h] [ebp-470h] BYREF
  char v88[4]; // [esp+74h] [ebp-46Ch] BYREF
  int j; // [esp+78h] [ebp-468h] BYREF
  int v90; // [esp+7Ch] [ebp-464h]
  int v91[2]; // [esp+80h] [ebp-460h] BYREF
  char v92[4]; // [esp+88h] [ebp-458h] BYREF
  int _Val1; // [esp+8Ch] [ebp-454h] BYREF
  int v94; // [esp+90h] [ebp-450h] BYREF
  int v95; // [esp+94h] [ebp-44Ch] BYREF
  int v96; // [esp+98h] [ebp-448h]
  int v97; // [esp+9Ch] [ebp-444h]
  int v98; // [esp+A0h] [ebp-440h]
  int v99; // [esp+A4h] [ebp-43Ch]
  int v100; // [esp+A8h] [ebp-438h]
  _DWORD *v101; // [esp+ACh] [ebp-434h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v102; // [esp+B0h] [ebp-430h] BYREF
  int v103; // [esp+B4h] [ebp-42Ch]
  int v104; // [esp+B8h] [ebp-428h]
  int v105; // [esp+BCh] [ebp-424h]
  __int64 v106; // [esp+C0h] [ebp-420h]
  int v107; // [esp+C8h] [ebp-418h]
  unsigned int SkillId; // [esp+CCh] [ebp-414h]
  int v109; // [esp+D0h] [ebp-410h] BYREF
  int v110; // [esp+D4h] [ebp-40Ch] BYREF
  _DWORD *v111; // [esp+D8h] [ebp-408h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v112; // [esp+DCh] [ebp-404h] BYREF
  int v113; // [esp+E0h] [ebp-400h] BYREF
  int v114; // [esp+E4h] [ebp-3FCh] BYREF
  int v115; // [esp+E8h] [ebp-3F8h] BYREF
  int v116; // [esp+ECh] [ebp-3F4h]
  CItem *v117; // [esp+F0h] [ebp-3F0h]
  char *v118; // [esp+F4h] [ebp-3ECh]
  char v119[4]; // [esp+F8h] [ebp-3E8h]
  int v120; // [esp+FCh] [ebp-3E4h]
  int v121; // [esp+100h] [ebp-3E0h]
  int v122; // [esp+104h] [ebp-3DCh]
  int v123; // [esp+108h] [ebp-3D8h]
  CItem *v124; // [esp+10Ch] [ebp-3D4h]
  char v125[4]; // [esp+110h] [ebp-3D0h]
  int v126; // [esp+114h] [ebp-3CCh]
  int v127; // [esp+118h] [ebp-3C8h]
  int v128; // [esp+11Ch] [ebp-3C4h]
  int v129; // [esp+120h] [ebp-3C0h]
  CItem *item; // [esp+124h] [ebp-3BCh]
  char v131[4]; // [esp+128h] [ebp-3B8h]
  int v132; // [esp+12Ch] [ebp-3B4h]
  int v133; // [esp+130h] [ebp-3B0h]
  int v134; // [esp+134h] [ebp-3ACh]
  _DWORD v135[2]; // [esp+138h] [ebp-3A8h] BYREF
  CIOObject *v136; // [esp+140h] [ebp-3A0h]
  int i; // [esp+144h] [ebp-39Ch]
  char v138[132]; // [esp+148h] [ebp-398h] BYREF
  int v139; // [esp+1CCh] [ebp-314h] BYREF
  char v140[128]; // [esp+1D0h] [ebp-310h] BYREF
  int v141; // [esp+250h] [ebp-290h] BYREF
  int v142; // [esp+254h] [ebp-28Ch] BYREF
  int v143; // [esp+258h] [ebp-288h] BYREF
  int v144; // [esp+25Ch] [ebp-284h] BYREF
  _DWORD v145[3]; // [esp+260h] [ebp-280h] BYREF
  size_t v146; // [esp+26Ch] [ebp-274h]
  CIOObject *v147; // [esp+270h] [ebp-270h]
  int v148; // [esp+274h] [ebp-26Ch]
  char v149[132]; // [esp+278h] [ebp-268h] BYREF
  int v150; // [esp+2FCh] [ebp-1E4h]
  int v151; // [esp+300h] [ebp-1E0h]
  int v152; // [esp+304h] [ebp-1DCh]
  char v153[128]; // [esp+308h] [ebp-1D8h] BYREF
  int v154; // [esp+388h] [ebp-158h]
  int v155; // [esp+38Ch] [ebp-154h]
  int v156; // [esp+390h] [ebp-150h]
  int v157; // [esp+394h] [ebp-14Ch]
  int v158; // [esp+398h] [ebp-148h]
  char *Str; // [esp+39Ch] [ebp-144h]
  int v160; // [esp+3A0h] [ebp-140h]
  int v161; // [esp+3A4h] [ebp-13Ch]
  _DWORD v162[2]; // [esp+3A8h] [ebp-138h] BYREF
  int v163; // [esp+3B0h] [ebp-130h]
  int *v164; // [esp+3B4h] [ebp-12Ch]
  char v165[132]; // [esp+3B8h] [ebp-128h] BYREF
  int v166; // [esp+43Ch] [ebp-A4h]
  CIOObject *v167; // [esp+440h] [ebp-A0h]
  int v168; // [esp+444h] [ebp-9Ch] BYREF
  int v169; // [esp+448h] [ebp-98h] BYREF
  int v170; // [esp+44Ch] [ebp-94h] BYREF
  CIOObject *v171; // [esp+450h] [ebp-90h]
  int *v172; // [esp+454h] [ebp-8Ch]
  int v173; // [esp+458h] [ebp-88h]
  int v174; // [esp+45Ch] [ebp-84h] BYREF
  _DWORD a3[3]; // [esp+460h] [ebp-80h] BYREF
  int v176; // [esp+46Ch] [ebp-74h]
  CIOObject *v177; // [esp+470h] [ebp-70h]
  volatile int *v179; // [esp+478h] [ebp-68h]
  volatile int *a2; // [esp+47Ch] [ebp-64h]
  int v181; // [esp+480h] [ebp-60h]
  CIOObject *v182; // [esp+484h] [ebp-5Ch]
  int v183; // [esp+488h] [ebp-58h]
  char *v184; // [esp+48Ch] [ebp-54h]
  CIOObject *v185; // [esp+490h] [ebp-50h]
  int v186; // [esp+494h] [ebp-4Ch]
  CIOObject *v187; // [esp+498h] [ebp-48h]
  int v188; // [esp+49Ch] [ebp-44h]
  CIOObject *v189; // [esp+4A0h] [ebp-40h]
  int v190; // [esp+4A4h] [ebp-3Ch]
  char *name; // [esp+4A8h] [ebp-38h]
  CIOObject *v192; // [esp+4ACh] [ebp-34h]
  char *v193; // [esp+4B0h] [ebp-30h]
  int v194; // [esp+4B4h] [ebp-2Ch]
  CIOObject *v195; // [esp+4B8h] [ebp-28h]
  int v196; // [esp+4BCh] [ebp-24h]
  CIOObject *v197; // [esp+4C0h] [ebp-20h]
  char *a4; // [esp+4C4h] [ebp-1Ch]
  char *Str1a; // [esp+4C8h] [ebp-18h]
  int v200; // [esp+4CCh] [ebp-14h]
  CIOObject *v201; // [esp+4D0h] [ebp-10h]
  int v202; // [esp+4D4h] [ebp-Ch]
  CIOObject *v203; // [esp+4D8h] [ebp-8h]
  size_t v204; // [esp+4DCh] [ebp-4h]
  char *v205; // [esp+4E8h] [ebp+8h]
  char *v206; // [esp+4E8h] [ebp+8h]
  char *v207; // [esp+4E8h] [ebp+8h]
  char *v208; // [esp+4E8h] [ebp+8h]
  char *v209; // [esp+4E8h] [ebp+8h]
  char *v210; // [esp+4E8h] [ebp+8h]

  v166 = dword_4D9830;
  if ( dword_4E35B8 == 1 && *(int *)(a1 + 456) >= 3 )
    LOG_NORMAL(
      "[GM Command] %s(PID:%d, Admin:%d) : %s",
      (const char *)(a1 + 32),
      *(_DWORD *)(a1 + 452),
      *(_DWORD *)(a1 + 456),
      Str1);
  v204 = strcspn(Str1, " ");
  if ( Str1[v204] )
    Str1[v204++] = 0;
  v46 = GetStr(903);
  if ( !strcmp(Str1, v46) )
  {
    v203 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
    if ( v203 )
    {
      v202 = CGuild::Conflux(v203, a1, (int)&Str1[v204]);
      CIOObject::Release(v203, &v203[2].m_nTimerRef);
      if ( v202 )
        CPlayer::Write(a1, 94, "bb", 0, (unsigned __int8)v202);
    }
  }
  else
  {
    v47 = GetStr(904);
    if ( !strcmp(Str1, v47) )
    {
      v201 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
      if ( v201 )
      {
        v200 = CGuild::Banish(v201, a1, &Str1[v204]);
        CIOObject::Release(v201, &v201[2].m_nTimerRef);
        if ( v200 )
          CPlayer::Write(a1, 94, "bb", 0, (unsigned __int8)v200);
      }
    }
    else
    {
      v48 = GetStr(905);
      if ( !strcmp(Str1, v48) )
      {
        Str1a = &Str1[v204];
        v204 = strcspn(&Str1[v204], " ");
        if ( Str1a[v204] )
          Str1a[v204++] = 0;
        a4 = &Str1a[v204];
        v197 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
        if ( v197 )
        {
          v196 = CGuild::Appointment(v197, a1, Str1a, a4);
          CIOObject::Release(v197, &v197[2].m_nTimerRef);
          if ( v196 )
            CPlayer::Write(a1, 94, "bb", 0, (unsigned __int8)v196);
        }
      }
      else
      {
        v2 = GetStr(906);
        if ( !strcmp(Str1, v2) )
        {
          v195 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
          if ( v195 )
          {
            v194 = CGuild::Dissolution((int)v195, a1);
            CIOObject::Release(v195, &v195[2].m_nTimerRef);
            if ( v194 )
              CPlayer::Write(a1, 94, "bb", 0, (unsigned __int8)v194);
          }
        }
        else
        {
          v3 = GetStr(907);
          if ( !strcmp(Str1, v3) )
          {
            v193 = &Str1[v204];
            v204 = strcspn(&Str1[v204], " ");
            if ( v193[v204] )
              v193[v204++] = 0;
            name = &v193[v204];
            if ( strlen(&v193[v204]) <= 0xE && IsValidName(name) )
            {
              v192 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
              if ( v192 )
              {
                v190 = CGuild::TitleChange((int)v192, a1, v193, name);
                CIOObject::Release(v192, &v192[2].m_nTimerRef);
                if ( v190 )
                  CPlayer::Write(a1, 94, "bb", 0, (unsigned __int8)v190);
              }
            }
            else
            {
              CPlayer::Write(a1, 94, "bb", 0, 45);
            }
          }
          else
          {
            v49 = GetStr(908);
            if ( !strcmp(Str1, v49) )
            {
              v189 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
              if ( v189 )
              {
                v188 = CGuild::SetConnectTell(a1, 1);
                CIOObject::Release(v189, &v189[2].m_nTimerRef);
                if ( v188 )
                  CPlayer::Write(a1, 94, "bb", 0, (unsigned __int8)v188);
              }
            }
            else
            {
              v4 = GetStr(909);
              if ( !strcmp(Str1, v4) )
              {
                v187 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
                if ( v187 )
                {
                  v186 = CGuild::SetConnectTell(a1, 0);
                  CIOObject::Release(v187, &v187[2].m_nTimerRef);
                  if ( v186 )
                    CPlayer::Write(a1, 94, "bb", 0, (unsigned __int8)v186);
                }
              }
              else
              {
                v5 = GetStr(910);
                if ( !strcmp(Str1, v5) )
                {
                  v185 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
                  if ( v185 )
                  {
                    CGuild::GetTodayMessage((char *)v185, a1);
                    CIOObject::Release(v185, &v185[2].m_nTimerRef);
                  }
                }
                else
                {
                  v6 = GetStr(918);
                  if ( !strcmp(Str1, v6) )
                  {
                    v184 = &Str1[v204];
                    v204 = strcspn(&Str1[v204], " ");
                    if ( v184[v204] )
                      v184[v204++] = 0;
                    v183 = j__atol(&v184[v204]);
                    v182 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a1);
                    if ( v182 )
                    {
                      v181 = CGuild::AllianceOffer((int *)v182, a1, v184, v183);
                      CIOObject::Release(v182, &v182[2].m_nTimerRef);
                      if ( v181 )
                        CPlayer::Write(a1, 94, "bb", 0, (unsigned __int8)v181);
                    }
                  }
                  else
                  {
                    v50 = GetStr(911);
                    if ( !strcmp(Str1, v50) )
                    {
                      sub_412E90((CIOCriticalSection *)a1);
                      if ( sub_40B310((_DWORD *)a1, 128) )
                      {
                        a2 = *(volatile int **)(a1 + 1516);
                        if ( !a2 )
                          EBREAK();
                        CPlayer::EndPvP(a1, a2, 3, 2, 6);
                      }
                      sub_412EB0((CIOCriticalSection *)a1);
                    }
                    else
                    {
                      v7 = GetStr(900);
                      if ( !strcmp(Str1, v7) )
                      {
                        if ( sub_40B310((_DWORD *)a1, 256) )
                        {
                          CPlayer::Write(a1, 95, "b", 15);
                        }
                        else
                        {
                          sub_412E90((CIOCriticalSection *)a1);
                          *(_DWORD *)(a1 + 272) = 0;
                          if ( sub_40B310((_DWORD *)a1, 0x8000) )
                            CPlayer::Write(a1, 67, "b", 89);
                          CChar::SubGState((volatile LONG *)a1, 32772);
                          CChar::SubMState((_DWORD *)a1, 1, 0);
                          CChar::AddGState((volatile LONG *)a1, 2);
                          if ( sub_40B310((_DWORD *)a1, 128) )
                          {
                            v179 = *(volatile int **)(a1 + 1516);
                            if ( !v179 )
                              EBREAK();
                            CPlayer::EndPvP(a1, v179, 3, 2, 6);
                            CPlayer::AddEState((_DWORD *)a1, 16);
                          }
                          sub_412EB0((CIOCriticalSection *)a1);
                          if ( sub_40B310((_DWORD *)a1, 1024) )
                          {
                            (*(void (__thiscall **)(int, int))(*(_DWORD *)a1 + 112))(a1, 1024);
                            v8 = CPlayer::GetGID((CIOCriticalSection *)a1);
                            CCastle::UnfurlStandardCancel(v8);
                          }
                          CChar::CancelBuffPrty((_DWORD *)a1, -161);
                          if ( sub_40B310((_DWORD *)a1, 16) )
                            CPlayer::SwitchStall((char *)a1, 0);
                          if ( sub_40B310((_DWORD *)a1, 512) )
                            CPlayer::FreeTransform((CIOCriticalSection *)a1);
                          CPlayer::BreakStandard((CIOCriticalSection *)a1);
                          CChar::WriteInSight(a1, 61, "db", *(_DWORD *)(a1 + 28), 9);
                          *(_DWORD *)(a1 + 1448) = GetTickCount() + 20000;
                          *(_DWORD *)(a1 + 1452) = GetTickCount() + 20000;
                          CPlayer::UpdatePartyMember((CPlayer *)a1, 7);
                        }
                      }
                      else
                      {
                        v51 = GetStr(902);
                        if ( !strcmp(Str1, v51) )
                        {
                          CPlayer::Write(a1, 68, "bb", 41, *(_DWORD *)(a1 + 572));
                        }
                        else if ( *(int *)(a1 + 456) >= 3 )
                        {
                          if ( !strcmp(Str1, "/hide") )
                          {
                            if ( j__atol(&Str1[v204]) )
                              (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 104))(a1, 0x80000, 0);
                            else
                              (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a1 + 124))(a1, 0x80000, 0);
                          }
                          else if ( !strcmp(Str1, "/kick") )
                          {
                            v177 = sub_450890(&Str1[v204]);
                            if ( v177 )
                            {
                              CPlayer::Write((int)v177, 45, "b", 1);
                              v176 = v177[1].m_nRef;
                              CSocket::OnKick((CIOCriticalSection *)v177[104].m_nGeneralRef, 1);
                              LOG_NORMAL(
                                "[Kickout] At  '%s' (PID:%d) %p %p %x %x %x",
                                (const char *)&v177[2],
                                v177[28].m_nRef,
                                v177,
                                *(const void **)(v177[104].m_nGeneralRef + 120),
                                v176,
                                v177[1].m_nRef,
                                *(_DWORD *)(v177[104].m_nGeneralRef + 108));
                              CIOObject::Release(v177, (volatile int *)&v177[22]);
                            }
                          }
                          else if ( !strcmp(Str1, "/dlehd") )
                          {
                            if ( !sub_45F640((_DWORD *)a1, -1040384) )
                            {
                              v205 = &Str1[v204];
                              v68 = *v205;
                              if ( *v205 == 35 )
                              {
                                v173 = j__atol(v205 + 1);
                                if ( v173 >= 0 && v173 < dword_4E35AC )
                                {
                                  v172 = (int *)((char *)&unk_4D77C8 + 28 * v173);
                                  CPlayer::Teleport((_DWORD *)a1, *v172, v172 + 1, v172[3], 1);
                                }
                              }
                              else if ( v68 == 36 )
                              {
                                v171 = sub_450890(v205 + 1);
                                if ( v171 )
                                {
                                  CPlayer::Teleport(
                                    (_DWORD *)a1,
                                    v171[19].m_nGeneralRef,
                                    &v171[20].m_nGeneralRef,
                                    v171[21].m_nRef,
                                    1);
                                  CIOObject::Release(v171, (volatile int *)&v171[22]);
                                }
                              }
                              else if ( v68 == 64 )
                              {
                                if ( CGoto::FindGoto((int)(v205 + 1), &v174) )
                                  CPlayer::Teleport((_DWORD *)a1, v174, a3, a3[2], 1);
                              }
                              else if ( sscanf(v205, "%d %d %d", &v170, &v168, &v169) == 3 )
                              {
                                v168 += 32;
                                v169 += 32;
                                CPlayer::Teleport((_DWORD *)a1, v170, &v168, 0, 1);
                              }
                            }
                          }
                          else if ( !strcmp(Str1, "/info") )
                          {
                            v167 = sub_450890(&Str1[v204]);
                            if ( v167 )
                            {
                              sprintf(
                                v165,
                                "[%s] (uid:%d, pid:%d, class:%d, level:%d)",
                                (const char *)&v167[2],
                                v167[28].__vftable,
                                v167[28].m_nRef,
                                v167[28].m_nGeneralRef,
                                v167[3].m_nGeneralRef);
                              CIOObject::Release(v167, (volatile int *)&v167[22]);
                            }
                            else
                            {
                              sprintf(v165, "[%s] isn't in player list", &Str1[v204]);
                            }
                            CPlayer::Write(a1, 15, "s", v165);
                          }
                          else if ( !strcmp(Str1, "/move") )
                          {
                            v163 = j__atol(&Str1[v204]);
                            v164 = (int *)CMonster::ScanMonster(v163);
                            if ( v164 )
                            {
                              v162[0] = v164[83] + 32;
                              v162[1] = v164[84] + 32;
                              CPlayer::Teleport((_DWORD *)a1, v164[79], v162, 0, 1);
                              sub_401DE0(v164);
                            }
                          }
                          else if ( !strcmp(Str1, "/userall/move") )
                          {
                            v161 = j__atol(&Str1[v204]);
                            if ( v161 )
                            {
                              v10 = sub_458680(*(_DWORD **)(a1 + 1676));
                              CAuthSocket::Write(5, "db", v10, v161);
                            }
                            else
                            {
                              v52 = sub_47E710();
                              v9 = sub_47E700();
                              CPlayer::Write(a1, 68, "bbww", 15, dword_4E1188, v9, v52);
                            }
                          }
                          else if ( !strcmp(Str1, "/active") )
                          {
                            v11 = sub_458680(*(_DWORD **)(a1 + 1676));
                            CAuthSocket::Write(6, "d", v11);
                          }
                          else if ( !strcmp(Str1, "/money") )
                          {
                            CPlayer::Write(a1, 68, "bd", 18, dword_4E2014);
                          }
                          else if ( *(int *)(a1 + 456) >= 4 )
                          {
                            if ( !strcmp(Str1, "/guildexp") )
                            {
                              if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 && dword_4E35B8 == 1 )
                              {
                                Str = &Str1[v204];
                                v204 = strcspn(&Str1[v204], " ");
                                if ( Str[v204] )
                                  Str[v204++] = 0;
                                v160 = j__atol(&Str[v204]);
                                if ( CGuild::SetExp(Str, v160) )
                                  v67 = "OK";
                                else
                                  v67 = "ERROR";
                                CPlayer::Write(a1, 60, "ss", "guildexp", v67);
                              }
                            }
                            else if ( !strcmp(Str1, "/syson") )
                            {
                              v158 = j__atol(&Str1[v204]);
                              CPlayer::SetSystemCode(v158, 1);
                            }
                            else if ( !strcmp(Str1, "/sysoff") )
                            {
                              v157 = j__atol(&Str1[v204]);
                              CPlayer::SetSystemCode(v157, 0);
                            }
                            else if ( !strcmp(Str1, "/eventon") )
                            {
                              v156 = j__atol(&Str1[v204]);
                              CPlayer::SetEventCode(v156, 1);
                            }
                            else if ( !strcmp(Str1, "/eventoff") )
                            {
                              v155 = j__atol(&Str1[v204]);
                              CPlayer::SetEventCode(v155, 0);
                            }
                            else if ( !strcmp(Str1, "/infosys") )
                            {
                              if ( dword_4E35B8 != 1 )
                              {
                                v154 = *(_DWORD *)dword_4E1174;
                                v204 = sprintf(v153, "system : ");
                                v152 = 0;
                                while ( v154 > 0 )
                                {
                                  if ( (v154 & 1) != 0 )
                                  {
                                    v12 = sprintf(&v153[v204], "%d ", v152);
                                    v204 += v12;
                                  }
                                  v154 >>= 1;
                                  ++v152;
                                }
                                CPlayer::Write(a1, 15, "s", v153);
                                v154 = dword_4E1178;
                                v204 = sprintf(v153, "event : ");
                                v151 = 0;
                                while ( v154 > 0 )
                                {
                                  if ( (v154 & 1) != 0 )
                                  {
                                    v13 = sprintf(&v153[v204], "%d ", v151);
                                    v204 += v13;
                                  }
                                  v154 >>= 1;
                                  ++v151;
                                }
                                CPlayer::Write(a1, 15, "s", v153);
                              }
                            }
                            else if ( !strcmp(Str1, "/maxuser") )
                            {
                              v150 = j__atol(&Str1[v204]);
                              if ( v150 > 1000 && v150 <= 20000 )
                              {
                                dword_4E118C = v150;
                                sprintf(v149, "Max User : %d", v150);
                                CPlayer::Write(a1, 15, "s", v149);
                                if ( dword_4E35B8 != 1 )
                                  LOG_ERR("Reset maximum user number. (pid:%d, number:%d)", *(_DWORD *)(a1 + 452), v150);
                              }
                            }
                            else if ( !strcmp(Str1, "/shutdown") )
                            {
                              if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 && dword_4E35B8 != 1 )
                              {
                                v148 = j__atol(&Str1[v204]);
                                dword_4E17B8 = 60000 * v148;
                                if ( 60000 * v148 <= 0 )
                                {
                                  KillTimer(hWnd, 2u);
                                  CPlayer::Write(a1, 67, "b", 3);
                                  LOG_NORMAL("Shutdown Canceled. (PID:%d)", *(_DWORD *)(a1 + 452));
                                }
                                else
                                {
                                  SetTimer(hWnd, 2u, 0x2710u, 0);
                                  CPlayer::Write(a1, 68, "bb", 0, v148);
                                  LOG_NORMAL("Shutdown Started. (PID:%d, Min:%d)", *(_DWORD *)(a1 + 452), v148);
                                }
                              }
                            }
                            else if ( !strcmp(Str1, "/shutdownoff") )
                            {
                              if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 && dword_4E35B8 != 1 )
                                CAuthSocket::Write(7, &Source);
                            }
                            else if ( !strcmp(Str1, "/location") )
                            {
                              if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 && dword_4E35B8 != 1 )
                              {
                                v206 = &Str1[v204];
                                v146 = strcspn(v206, " ");
                                if ( v206[v146] )
                                  v206[v146++] = 0;
                                v147 = sub_450890(v206);
                                if ( v147 )
                                {
                                  if ( CGoto::FindGoto((int)&v206[v146], &v144) )
                                    CPlayer::Teleport(v147, v144, v145, v145[2], 1);
                                  CIOObject::Release(v147, (volatile int *)&v147[22]);
                                }
                              }
                            }
                            else if ( !strcmp(Str1, "/dpadpfdpatpt") )
                            {
                              if ( sscanf(&Str1[v204], "%d %d %d %d", &v141, &v142, &v139, &v143) == 4
                                && v141 >= 0
                                && v141 <= 3
                                && v142 >= 0
                                && v139 <= 100
                                && v143 >= 0
                                && v143 <= 50 )
                              {
                                dword_4D66BC[3 * v141] = v142;
                                dword_4D66C0[3 * v141] = v139;
                                dword_4D66C4[3 * v141] = v143;
                                if ( v141 >= 3 )
                                  sprintf(
                                    v140,
                                    "Changed~! (%02d ~ ) (gm:%d, m:%d, max:%d)",
                                    10 * v141 + 1,
                                    v142,
                                    v139,
                                    v143);
                                else
                                  sprintf(
                                    v140,
                                    "Changed~! (%02d ~ %02d) (gm:%d, m:%d, max:%d)",
                                    10 * v141 + 1,
                                    10 * (v141 + 1),
                                    v142,
                                    v139,
                                    v143);
                                CPlayer::Write(a1, 15, "s", v140);
                              }
                            }
                            else if ( !strcmp(Str1, "/dpadpfdpatmxpdlxjtm") )
                            {
                              for ( i = 0; i < 4; ++i )
                              {
                                if ( i >= 3 )
                                  sprintf(
                                    v138,
                                    "(%02d ~ ) (gm:%d, m:%d, max:%d)",
                                    10 * i + 1,
                                    dword_4D66BC[3 * i],
                                    dword_4D66C0[3 * i],
                                    dword_4D66C4[3 * i]);
                                else
                                  sprintf(
                                    v138,
                                    "(%02d ~ %02d) (gm:%d, m:%d, max:%d)",
                                    10 * i + 1,
                                    10 * (i + 1),
                                    dword_4D66BC[3 * i],
                                    dword_4D66C0[3 * i],
                                    dword_4D66C4[3 * i]);
                                CPlayer::Write(a1, 15, "s", v138);
                              }
                            }
                            else if ( !strcmp(Str1, "/notice") )
                            {
                              CPlayer::WriteAll(15, "s", &Str1[v204]);
                            }
                            else if ( !strcmp(Str1, "/portuser") || !strcmp(Str1, "/test") )
                            {
                              v136 = sub_450890(&Str1[v204]);
                              if ( v136 )
                              {
                                v135[0] = *(_DWORD *)(a1 + 332) + 32;
                                v135[1] = *(_DWORD *)(a1 + 336) + 32;
                                CPlayer::Teleport(v136, *(_DWORD *)(a1 + 316), v135, 0, 1);
                                CIOObject::Release(v136, (volatile int *)&v136[22]);
                              }
                            }
                            else if ( strcmp(Str1, "/block") )
                            {
                              strcmp(Str1, "/unblock");
                              if ( *(int *)(a1 + 456) >= 5 )
                              {
                                if ( !strcmp(Str1, "/get") )
                                {
                                  v207 = &Str1[v204];
                                  *(_DWORD *)v131 = 0;
                                  v132 = 0;
                                  v133 = 1;
                                  v134 = -1;
                                  v129 = 0;
                                  while ( *v207 )
                                  {
                                    v204 = strcspn(v207, " ");
                                    if ( v207[v204] )
                                      v207[v204++] = 0;
                                    *(_DWORD *)&v131[4 * v129] = j__atol(v207);
                                    v207 += v204;
                                    ++v129;
                                  }
                                  if ( (dword_4E1174[0] & 2) != 0 || *(_DWORD *)v131 != 31 )
                                  {
                                    item = (CItem *)CItem::CreateCheatItem(v131[0], v132, v133, v134);
                                    if ( item )
                                    {
                                      sub_4010D0((int)item);
                                      if ( sub_45DDC0((CIOCriticalSection *)a1, 3, (int)item) == 1 )
                                        LOG_NORMAL(
                                          "Create Cheat Item. (%s, %s, %d)",
                                          (const char *)(a1 + 32),
                                          item->m_pInit->m_szName,
                                          item->m_nNum);
                                      else
                                        CBase::Delete(item);
                                      sub_401DE0((int *)item);
                                    }
                                  }
                                }
                                else if ( !strcmp(Str1, "/rnlthrdkdlxpa") )
                                {
                                  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 && dword_4E35B8 != 1 )
                                  {
                                    v208 = &Str1[v204];
                                    *(_DWORD *)v125 = 0;
                                    v126 = 0;
                                    v127 = 1;
                                    v128 = -1;
                                    v123 = 0;
                                    while ( *v208 )
                                    {
                                      v204 = strcspn(v208, " ");
                                      if ( v208[v204] )
                                        v208[v204++] = 0;
                                      *(_DWORD *)&v125[4 * v123] = j__atol(v208);
                                      v208 += v204;
                                      ++v123;
                                    }
                                    if ( (dword_4E1174[0] & 2) != 0 || *(_DWORD *)v125 != 31 )
                                    {
                                      v124 = (CItem *)CItem::CreateOwnItem(v125[0], v126, v127, v128);
                                      if ( v124 )
                                      {
                                        sub_4010D0((int)v124);
                                        if ( sub_45DDC0((CIOCriticalSection *)a1, 3, (int)v124) == 1 )
                                          LOG_NORMAL(
                                            "Create Cheat Item. (%s, %s, %d)",
                                            (const char *)(a1 + 32),
                                            v124->m_pInit->m_szName,
                                            v124->m_nNum);
                                        else
                                          CBase::Delete(v124);
                                        sub_401DE0((int *)v124);
                                      }
                                    }
                                  }
                                }
                                else if ( !strcmp(Str1, "/dkdlxpadmfckdrhfh") )
                                {
                                  v209 = &Str1[v204];
                                  v204 = strcspn(v209, " ");
                                  if ( v209[v204] )
                                    v209[v204++] = 0;
                                  v118 = v209;
                                  if ( strlen(v209) <= 0x10 && IsValidAdminName(v118) )
                                  {
                                    v210 = &v209[v204];
                                    *(_DWORD *)v119 = 0;
                                    v120 = 0;
                                    v121 = 1;
                                    v122 = -1;
                                    v116 = 0;
                                    while ( *v210 )
                                    {
                                      v204 = strcspn(v210, " ");
                                      if ( v210[v204] )
                                        v210[v204++] = 0;
                                      *(_DWORD *)&v119[4 * v116] = j__atol(v210);
                                      v210 += v204;
                                      ++v116;
                                    }
                                    if ( (dword_4E1174[0] & 2) != 0 || *(_DWORD *)v119 != 31 )
                                    {
                                      v117 = (CItem *)CItem::CreateItem(v119[0], v120, v121, -1);
                                      if ( v117 )
                                      {
                                        v117->ForcedStorageIn(v117, 40, 0, v118, 0);
                                        CBase::Delete(v117);
                                      }
                                    }
                                  }
                                }
                                else if ( !strcmp(Str1, "/dkdlxpathrtjdqnxdlrl") )
                                {
                                  if ( sscanf(&Str1[v204], "%d %d %d", &v113, &v115, &v114) == 3
                                    && v114 >= 0
                                    && v114 <= 19 )
                                  {
                                    CIOCriticalSection::Enter(v57);
                                    v111 = 0;
                                    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 1068),
                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v112);
                                    while ( 1 )
                                    {
                                      v14 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(a1 + 1068), (int)v78);
                                      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                                              &v112,
                                              v14) )
                                        break;
                                      v111 = *(_DWORD **)(sub_420250(&v112) + 4);
                                      if ( (dword_4E1174[0] & 2) != 0 )
                                        v66 = 1;
                                      else
                                        v66 = sub_427130(v111, 8);
                                      if ( v66 && sub_427130(v111, 1) && *(_DWORD *)(v111[10] + 72) == v113 )
                                      {
                                        (*(void (__thiscall **)(_DWORD *, int))(*v111 + 100))(v111, a1);
                                        if ( (*(int (__thiscall **)(_DWORD *, int, int, int))(*v111 + 180))(
                                               v111,
                                               a1,
                                               v115,
                                               v114) )
                                        {
                                          LOG_NORMAL(
                                            "Charming Cheat Item. (%s, %s, %d, %d, %d)",
                                            (const char *)(a1 + 32),
                                            (const char *)(v111[10] + 32),
                                            v111[9],
                                            v115,
                                            v114);
                                        }
                                        (*(void (__thiscall **)(_DWORD *, int))(*v111 + 96))(v111, a1);
                                        break;
                                      }
                                      sub_418860(&v112);
                                    }
                                    CIOCriticalSection::Leave(v58);
                                  }
                                }
                                else if ( !strcmp(Str1, "/skill") )
                                {
                                  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0
                                    && dword_4E35B8 != 1
                                    && sscanf(&Str1[v204], "%d %d", &v110, &v109) == 2
                                    && (v110 > 0 && v110 < 63 || v110 == 80 || v110 == 81)
                                    && v109 > 0
                                    && v109 <= 20 )
                                  {
                                    CPlayerSkill::CheatSkill((int *)(a1 + 624), v110, v109);
                                  }
                                }
                                else if ( !strcmp(Str1, "/skillredit") )
                                {
                                  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 && dword_4E35B8 != 1 )
                                  {
                                    SkillId = j__atol(&Str1[v204]);
                                    switch ( SkillId )
                                    {
                                      case 0xFFu:
                                        CPlayerSkill::RedistributeAll(a1 + 624);
                                        break;
                                      case 0xFEu:
                                        CPlayerSkill::Redis2ndJobSkill((int *)(a1 + 624));
                                        break;
                                      case 0xFDu:
                                        CMysticArrow::Apply((CMysticArrow *)(a1 + 624));
                                        break;
                                      default:
                                        StoneOfChance((void *)(a1 + 624), SkillId);
                                        break;
                                    }
                                  }
                                }
                                else if ( !strcmp(Str1, "/pktime") )
                                {
                                  v107 = j__atol(&Str1[v204]);
                                  if ( sub_40B310((_DWORD *)a1, 256) )
                                  {
                                    if ( v107 >= 180 )
                                      v59 = 180;
                                    else
                                      v59 = v107;
                                    *(_DWORD *)(a1 + 536) = v59;
                                  }
                                }
                                else if ( !strcmp(Str1, "/getexp") )
                                {
                                  v15 = j__atol(&Str1[v204]);
                                  v106 = v15;
                                  if ( (int)v15 >> 31 >= 0
                                    && ((int)v15 >> 31 >= 0 && (int)v15 < 0 || (_DWORD)v106)
                                    && v106 < qword_4D6948
                                    && *(int *)(a1 + 60) < 99 )
                                  {
                                    (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)a1 + 88))(
                                      a1,
                                      25,
                                      1,
                                      v106,
                                      HIDWORD(v106));
                                  }
                                }
                                else if ( !strcmp(Str1, "/snow") )
                                {
                                  if ( (dword_4E1178 & 0x40) != 0 )
                                  {
                                    v105 = j__atol(&Str1[v204]);
                                    if ( v105 >= 0 && v105 <= 4 )
                                      CPlayer::EventBuff(v105);
                                  }
                                }
                                else if ( !strcmp(Str1, "/levelup") )
                                {
                                  if ( *(int *)(a1 + 60) < 100 )
                                  {
                                    CPlayer::Write(
                                      a1,
                                      69,
                                      "bII",
                                      25,
                                      0,
                                      0,
                                      __PAIR64__(
                                        dword_4D66F4[2 * *(_DWORD *)(a1 + 60)],
                                        dword_4D66F0[2 * *(_DWORD *)(a1 + 60)])
                                    - *(_QWORD *)(a1 + 472));
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 26, 1, 1);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 23, 1, 5);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 24, 1, 1);
                                    *(_DWORD *)(a1 + 472) = 0;
                                    *(_DWORD *)(a1 + 476) = 0;
                                    *(_DWORD *)(a1 + 552) = 0;
                                    CShieldAttack::CanSkillUp((CShieldAttack *)(a1 + 624), 0);
                                    CPlayer::MLMPayMoney((_DWORD *)a1, 2);
                                    CPlayer::MLMLevelUp((CIOCriticalSection *)a1);
                                  }
                                }
                                else if ( !strcmp(Str1, "/resetlevel") )
                                {
                                  v104 = j__atol(&Str1[v204]);
                                  if ( v104 >= 1 && v104 <= 100 )
                                  {
                                    CChar::CancelBuffPrty((_DWORD *)a1, -225);
                                    v103 = v104 - 1;
                                    *(_DWORD *)(a1 + 60) = v104;
                                    *(_DWORD *)(a1 + 472) = 0;
                                    *(_DWORD *)(a1 + 476) = 0;
                                    memset((void *)(a1 + 64), 0, 0x1Cu);
                                    memset((void *)(a1 + 92), 0, 0x60u);
                                    memset((void *)(a1 + 188), 0, 0x54u);
                                    memcpy((void *)(a1 + 64), (char *)&unk_4D6A28 + 28 * *(_DWORD *)(a1 + 460), 0x14u);
                                    *(_DWORD *)(a1 + 548) = 0;
                                    *(_DWORD *)(a1 + 544) = 0;
                                    *(_DWORD *)(a1 + 552) = 0;
                                    *(_DWORD *)(a1 + 620) = 0;
                                    *(_DWORD *)(a1 + 616) = 0;
                                    *(_DWORD *)(a1 + 612) = 0;
                                    *(_DWORD *)(a1 + 608) = 0;
                                    *(_DWORD *)(a1 + 604) = 0;
                                    *(_DWORD *)(a1 + 600) = 0;
                                    *(_DWORD *)(a1 + 596) = 0;
                                    CChar::ResetAllBuff((CIOCriticalSection *)a1);
                                    CShieldAttack::CanSkillUp((CShieldAttack *)(a1 + 624), 0);
                                    (*(void (__thiscall **)(int))(*(_DWORD *)a1 + 84))(a1);
                                    CIOCriticalSection::Enter(v57);
                                    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 1068),
                                      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v102);
                                    while ( 1 )
                                    {
                                      v16 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(a1 + 1068), (int)v76);
                                      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                                              &v102,
                                              v16) )
                                        break;
                                      v101 = *(_DWORD **)(sub_420250(&v102) + 4);
                                      if ( sub_427130(v101, 1) )
                                        (*(void (__thiscall **)(_DWORD *, int))(*v101 + 104))(v101, a1);
                                      sub_446090((int *)&v102, &v77, 0);
                                    }
                                    CIOCriticalSection::Leave(v60);
                                    sub_47FC00((_DWORD *)(a1 + 624));
                                    CPlayer::Write(a1, 69, "bb", 26, *(_DWORD *)(a1 + 60));
                                    CChar::WriteInSight(a1, 73, "db", *(_DWORD *)(a1 + 28), 3);
                                    CPlayer::UpdatePartyMember((CPlayer *)a1, 26);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(
                                      a1,
                                      23,
                                      1,
                                      5 * *(_DWORD *)(a1 + 60));
                                    if ( v103 > 0 )
                                      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 24, 1, v103);
                                    *(_DWORD *)(a1 + 276) = CChar::GetMaxMP((CPlayer *)a1);
                                    *(_DWORD *)(a1 + 272) = CChar::GetMaxHP((CPlayer *)a1);
                                    v53 = *(_DWORD *)(a1 + 580);
                                    v45 = sub_438FA0((_DWORD *)a1, 4);
                                    v44 = sub_438FA0((_DWORD *)a1, 3);
                                    v43 = sub_438FA0((_DWORD *)a1, 2);
                                    v42 = sub_438FA0((_DWORD *)a1, 1);
                                    v41 = sub_438FA0((_DWORD *)a1, 0);
                                    v40 = *(_DWORD *)(a1 + 548);
                                    v39 = *(_DWORD *)(a1 + 544);
                                    v38 = CChar::GetMaxMagic((_DWORD *)a1);
                                    v37 = CChar::GetMinMagic((_DWORD *)a1);
                                    v36 = CChar::GetMaxAttack((_DWORD *)a1);
                                    v35 = CChar::GetMinAttack((_DWORD *)a1);
                                    v34 = *(_DWORD *)(a1 + 476);
                                    v33 = *(_DWORD *)(a1 + 472);
                                    v32 = CChar::GetAbsorb((CPlayer *)a1);
                                    v31 = CChar::GetDefense((_DWORD *)a1, 0);
                                    v30 = CChar::GetDodge((_DWORD *)a1);
                                    v29 = CChar::GetHit((_DWORD *)a1);
                                    v28 = *(_DWORD *)(a1 + 276);
                                    v27 = *(_DWORD *)(a1 + 272);
                                    v26 = Char::GetDex((_DWORD *)a1);
                                    v25 = CChar::GetWis((_DWORD *)a1);
                                    v24 = CChar::GetInt((_DWORD *)a1);
                                    v23 = CChar::GetHth((_DWORD *)a1);
                                    v22 = CChar::GetStr((_DWORD *)a1);
                                    CPlayer::Write(
                                      a1,
                                      66,
                                      "bsbwbbbbbwwwwwwwbIwwwwwwbbbbbd",
                                      *(_DWORD *)(a1 + 464),
                                      &Source,
                                      *(_DWORD *)(a1 + 536),
                                      *(_DWORD *)(a1 + 468),
                                      v22,
                                      v23,
                                      v24,
                                      v25,
                                      v26,
                                      v27,
                                      v27,
                                      v28,
                                      v28,
                                      v29,
                                      v30,
                                      v31,
                                      v32,
                                      v33,
                                      v34,
                                      v35,
                                      v36,
                                      v37,
                                      v38,
                                      v39,
                                      v40,
                                      v41,
                                      v42,
                                      v43,
                                      v44,
                                      v45,
                                      v53);
                                  }
                                }
                                else if ( !strcmp(Str1, "/addhp") )
                                {
                                  v99 = j__atol(&Str1[v204]);
                                  v100 = v99 + CChar::GetMaxHP((CPlayer *)a1);
                                  if ( v100 >= 0 && v100 <= 0x7FFF )
                                  {
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 92))(a1, 5, 1, v99);
                                    v54 = CChar::GetMaxHP((CPlayer *)a1);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 7, 1, v54);
                                  }
                                }
                                else if ( !strcmp(Str1, "/addmp") )
                                {
                                  v97 = j__atol(&Str1[v204]);
                                  v98 = v97 + CChar::GetMaxMP((CPlayer *)a1);
                                  if ( v98 >= 0 && v98 <= 0x7FFF )
                                  {
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 92))(a1, 6, 1, v97);
                                    v55 = CChar::GetMaxMP((CPlayer *)a1);
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 8, 1, v55);
                                  }
                                }
                                else if ( !strcmp(Str1, "/addcp") )
                                {
                                  v96 = j__atol(&Str1[v204]);
                                  if ( v96 + *(_DWORD *)(a1 + 468) <= 0x7FFF )
                                    (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 30, 1, v96);
                                }
                                else if ( !strcmp(Str1, "/addquest") )
                                {
                                  if ( sscanf(&Str1[v204], "%d %d %d", &_Val1, &v94, &v95) == 3 )
                                  {
                                    CIOCriticalSection::Enter(v57);
                                    sub_471840((_DWORD *)(a1 + 1256), v92, &_Val1);
                                    v17 = sub_430C20((_DWORD *)(a1 + 1256), (int)v75);
                                    if ( (unsigned __int8)unknown_libname_8(v17) )
                                    {
                                      v18 = std::pair<int,CScriptToCookBoard::tBaseTable>::pair<int,CScriptToCookBoard::tBaseTable>(
                                              (std::pair<int,CScriptToCookBoard::tBaseTable> *)v74,
                                              &_Val1,
                                              (const CScriptToCookBoard::tBaseTable *)&v94);
                                      sub_4715D0(
                                        a1 + 1256,
                                        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v73,
                                        (int)v18);
                                    }
                                    else
                                    {
                                      v19 = sub_420250(v92);
                                      *(_DWORD *)(v19 + 4) = v94;
                                      *(_DWORD *)(v19 + 8) = v95;
                                    }
                                    CIOCriticalSection::Leave(v61);
                                  }
                                }
                                else if ( !strcmp(Str1, "/finishquest") )
                                {
                                  v90 = j__atol(&Str1[v204]);
                                  v91[0] = 0;
                                  v91[1] = 1;
                                  CIOCriticalSection::Enter(v57);
                                  for ( j = 1; j <= v90; ++j )
                                  {
                                    sub_471840((_DWORD *)(a1 + 1256), v88, &j);
                                    v20 = sub_430C20((_DWORD *)(a1 + 1256), (int)v72);
                                    if ( (unsigned __int8)unknown_libname_8(v20) )
                                    {
                                      v21 = std::pair<int,CScriptToCookBoard::tBaseTable>::pair<int,CScriptToCookBoard::tBaseTable>(
                                              (std::pair<int,CScriptToCookBoard::tBaseTable> *)v71,
                                              &j,
                                              (const CScriptToCookBoard::tBaseTable *)v91);
                                      sub_4715D0(
                                        a1 + 1256,
                                        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)&v70,
                                        (int)v21);
                                    }
                                    else
                                    {
                                      *(_DWORD *)(sub_420250(v88) + 8) = 1;
                                    }
                                  }
                                  CIOCriticalSection::Leave(v62);
                                }
                                else if ( !strcmp(Str1, "/resetquest") )
                                {
                                  v87 = j__atol(&Str1[v204]);
                                  CIOCriticalSection::Enter(v57);
                                  sub_471780((int *)(a1 + 1256), (int)&v87);
                                  CIOCriticalSection::Leave(v63);
                                }
                                else if ( !strcmp(Str1, "/rageadd") )
                                {
                                  CIOCriticalSection::Enter(v57);
                                  sub_4717E0((_DWORD *)(a1 + 1256));
                                  CIOCriticalSection::Leave(v64);
                                }
                                else if ( !strcmp(Str1, "/rage") )
                                {
                                  v86 = j__atol(&Str1[v204]);
                                  (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 35, 1, v86);
                                }
                                else if ( !strcmp(Str1, "/egggrade") )
                                {
                                  v85 = j__atol(&Str1[v204]);
                                  CIOCriticalSection::Enter(v57);
                                  if ( *(_DWORD *)(a1 + 1108) )
                                    CItemTransform::CheatLevelUp(*(_DWORD **)(a1 + 1108), a1, v85);
                                  CIOCriticalSection::Leave(v65);
                                }
                                else if ( !strcmp(Str1, "/addatk") )
                                {
                                  v84 = j__atol(&Str1[v204]);
                                  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a1 + 92))(
                                    a1,
                                    27,
                                    1,
                                    v84,
                                    v84);
                                  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a1 + 92))(
                                    a1,
                                    28,
                                    1,
                                    v84,
                                    v84);
                                }
                                else if ( !strcmp(Str1, "/adddef") )
                                {
                                  v83 = j__atol(&Str1[v204]);
                                  (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a1 + 92))(
                                    a1,
                                    15,
                                    1,
                                    v83,
                                    v83);
                                }
                                else if ( !strcmp(Str1, "/gposition") )
                                {
                                  v82 = j__atol(&Str1[v204]);
                                  if ( v82 >= 0 && v82 <= 5 && (*(_DWORD *)(a1 + 464) & (1 << v82)) == 0 )
                                  {
                                    *(_DWORD *)(a1 + 464) |= 1 << v82;
                                    CPlayer::Write(a1, 68, "bb", 38, *(_DWORD *)(a1 + 464));
                                    CDBSocket::Write(15, "db", *(_DWORD *)(a1 + 452), 1 << v82);
                                    CPlayerSkill::ChangeOccupationAutoLearnSkill((int *)(a1 + 624));
                                  }
                                }
                                else if ( !strcmp(Str1, "/lord") )
                                {
                                  CMonsterTowerBoss::Create();
                                }
                                else if ( !strcmp(Str1, "/nest") )
                                {
                                  if ( dword_4E35B8 != 1 )
                                    CMonsterBigBirdMother::Create();
                                }
                                else if ( !strcmp(Str1, "/queen") )
                                {
                                  if ( dword_4E35B8 != 1 )
                                    CMonsterBigBirdMaster::Create(0);
                                }
                                else if ( !strcmp(Str1, "/event") )
                                {
                                  v81 = j__atol(&Str1[v204]);
                                  if ( (dword_4E1178 & 0x100) != 0 )
                                    CDBSocket::Write(77, "dd", *(_DWORD *)(a1 + 452), v81);
                                }
                                else if ( !strcmp(Str1, "/luxury") )
                                {
                                  if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
                                  {
                                    (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a1 + 92))(
                                      a1,
                                      27,
                                      1,
                                      30000,
                                      30000);
                                    (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a1 + 92))(
                                      a1,
                                      28,
                                      1,
                                      30000,
                                      30000);
                                    (*(void (__cdecl **)(int, int, int, int, int))(*(_DWORD *)a1 + 92))(
                                      a1,
                                      15,
                                      1,
                                      30000,
                                      30000);
                                    v79 = 30000;
                                    v80 = CChar::GetMaxHP((CPlayer *)a1) + 30000;
                                    if ( v80 >= 0 && v80 <= 0x7FFF )
                                    {
                                      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 92))(a1, 5, 1, 30000);
                                      v56 = CChar::GetMaxHP((CPlayer *)a1);
                                      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a1 + 88))(a1, 7, 1, v56);
                                    }
                                  }
                                }
                                else if ( !strcmp(Str1, "/return") )
                                {
                                  CPlayer::ReturnToPoint((_DWORD *)a1, 8);
                                }
                                else if ( !strcmp(Str1, "/castleinfo") )
                                {
                                  CPlayer::CountWarrelationPlayer();
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
// 462617: conditional instruction was optimized away because of '%var_28C.4>=0'
// 462620: conditional instruction was optimized away because of '%var_314.4<65'
// 462EA2: variable 'v57' is possibly undefined
// 463029: variable 'v58' is possibly undefined
// 4636D9: variable 'v60' is possibly undefined
// 463C05: variable 'v61' is possibly undefined
// 463D30: variable 'v62' is possibly undefined
// 463D99: variable 'v63' is possibly undefined
// 463DE6: variable 'v64' is possibly undefined
// 463EB4: variable 'v65' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4D66BC: using guessed type int dword_4D66BC[];
// 4D66C0: using guessed type int dword_4D66C0[];
// 4D66F0: using guessed type int dword_4D66F0[];
// 4D6948: using guessed type __int64 qword_4D6948;
// 4D9830: using guessed type int dword_4D9830;
// 4E1178: using guessed type int dword_4E1178;
// 4E1188: using guessed type int dword_4E1188;
// 4E118C: using guessed type int dword_4E118C;
// 4E17B8: using guessed type int dword_4E17B8;
// 4E35AC: using guessed type int dword_4E35AC;
// 4E35B8: using guessed type int dword_4E35B8;

//----- (004642B0) --------------------------------------------------------
void __thiscall CPlayer::Rest(void *this, int a2)
{
  if ( a2 )
  {
    if ( sub_40B310(this, 4) )
      return;
    CChar::AddGState((volatile LONG *)this, 4);
    (*(void (__thiscall **)(void *, int, _DWORD))(*(_DWORD *)this + 124))(this, 1, 0);
    *((_DWORD *)this + 361) = GetTickCount() + 5000;
    goto LABEL_11;
  }
  if ( sub_40B310(this, 4) && !sub_40B310(this, 16) )
  {
    CChar::SubGState((volatile LONG *)this, 4);
    if ( CChar::IsMState(this, 0x100000i64) )
      CChar::CancelBuff(this, 18);
    if ( CChar::IsMState(this, 0x200000i64) )
      CChar::CancelBuff(this, 19);
LABEL_11:
    CChar::WriteInSight((int)this, 61, "dbb", *((_DWORD *)this + 7), 3, a2);
  }
}

//----- (004643A0) --------------------------------------------------------
int __thiscall CPlayer::CutdownExp(int this, int a2)
{
  int result; // eax
  int v3; // ecx
  __int64 v4; // [esp-10h] [ebp-24h]
  int v5; // [esp+4h] [ebp-10h]
  __int64 v7; // [esp+Ch] [ebp-8h]

  result = this;
  if ( *(int *)(this + 60) > 5 )
  {
    if ( sub_44A510((_DWORD *)this, 256) )
    {
      result = CPlayer::SubEState((_DWORD *)this, 256);
    }
    else
    {
      if ( *(int *)(this + 552) >= 20 )
        v5 = 20;
      else
        v5 = *(_DWORD *)(this + 552);
      v3 = *(_DWORD *)(this + 60);
      HIDWORD(v4) = dword_4D66F4[2 * v3];
      LODWORD(v4) = dword_4D66F0[2 * v3];
      v7 = v4 * (v5 / 5 + 2) / 100;
      result = CSMap::IsOnTile(*(_DWORD **)(this + 320), (int *)(this + 332), 0x100000);
      if ( !result )
      {
        if ( sub_44A510((_DWORD *)this, 128) )
        {
          v7 >>= 1;
          CPlayer::SubEState((_DWORD *)this, 128);
        }
        if ( sub_44A510((_DWORD *)this, 32) )
        {
          v7 >>= 1;
          result = CPlayer::SubEState((_DWORD *)this, 32);
        }
        else
        {
          result = sub_44A510((_DWORD *)this, 64);
          if ( result )
          {
            v7 /= 10i64;
            result = CPlayer::SubEState((_DWORD *)this, 64);
          }
        }
        if ( a2 < 100 )
        {
          if ( a2 > 0 )
            v7 -= v7 * a2 / 100;
          result = (*(int (__cdecl **)(int, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)this + 88))(
                     this,
                     25,
                     0,
                     v7,
                     HIDWORD(v7));
        }
      }
    }
  }
  return result;
}
// 4D66F0: using guessed type int dword_4D66F0[];

//----- (00464550) --------------------------------------------------------
void __thiscall CPlayer::Revival(CPlayer *this)
{
  int v1; // [esp-4h] [ebp-34h]
  int v2; // [esp-4h] [ebp-34h]
  int v4[7]; // [esp+Ch] [ebp-24h] BYREF
  _DWORD a3[2]; // [esp+28h] [ebp-8h] BYREF

  if ( sub_44A510(this, 16) )
  {
    this->SubGState(this, 2);
    CPlayer::SubEState(this, 16);
    return;
  }
  if ( !sub_40B310(this, 8) )
  {
    v1 = CChar::GetMaxHP(this);
    this->UpdateProperty(this, 7, 1, v1);
    v2 = CChar::GetMaxMP(this);
    this->UpdateProperty(this, 8, 1, v2);
    CChar::AddGState((volatile LONG *)this, 8);
    CPlayer::CutdownExp((int)this, 0);
    CChar::CancelBuffPrty(this, 256);
    qmemcpy(v4, (char *)&unk_4D77C8 + 28 * this->m_nRvId, sizeof(v4));
    if ( v4[5] )
    {
      if ( sub_417450() )
      {
        if ( CCastle::IsGateAlive(v4[4], v4[5]) )
        {
LABEL_16:
          a3[0] = RandomBetween(v4[1] - 32, v4[1] + 32);
          a3[1] = RandomBetween(v4[2] - 32, v4[2] + 32);
          CPlayer::Teleport(this, v4[0], a3, v4[3], 0);
          return;
        }
        sub_412EB0((CIOCriticalSection *)this);
        if ( !CPlayer::IsDefenseSide((CIOCriticalSection *)this, v4[4]) )
        {
LABEL_8:
          sub_412E90((CIOCriticalSection *)this);
          goto LABEL_16;
        }
        sub_412E90((CIOCriticalSection *)this);
        this->m_nRvId = v4[6];
      }
      else
      {
        this->m_nRvId = 0;
      }
    }
    else
    {
      if ( !v4[4] )
        goto LABEL_16;
      sub_412EB0((CIOCriticalSection *)this);
      if ( CPlayer::IsDefenseSide((CIOCriticalSection *)this, v4[4]) )
        goto LABEL_8;
      sub_412E90((CIOCriticalSection *)this);
      this->m_nRvId = 0;
    }
    CDBSocket::Write(36, "db", this->m_nPID, this->m_nRvId);
    qmemcpy(v4, (char *)&unk_4D77C8 + 28 * this->m_nRvId, sizeof(v4));
    goto LABEL_16;
  }
}

//----- (00464750) --------------------------------------------------------
void __thiscall CPlayer::RevivalSkill(_DWORD *a1, int a2, int a3)
{
  CBuffMoveSpeed *v3; // eax
  int a1b; // [esp+0h] [ebp-8h]
  CIOObject *v6; // [esp+4h] [ebp-4h]

  if ( sub_44A510(a1, 8) )
  {
    CPlayer::SubEState(a1, 8);
    if ( sub_44A510(a1, 16) )
    {
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 112))(a1, 2);
      CPlayer::SubEState(a1, 16);
      return;
    }
    if ( !CChar::IsNormal((int)a1) && !sub_40B310(a1, 8) && a2 )
    {
      v6 = 0;
      if ( !a3 )
        goto LABEL_13;
      v6 = CPlayer::FindPlayer_(a3);
      if ( !v6 )
      {
        CPlayer::Write((int)a1, 67, "b", 71);
        return;
      }
      if ( sub_448870(a1 + 81, &v6[20].m_nRef) > 10 )
      {
        CPlayer::Write((int)a1, 67, "b", 71);
        CIOObject::Release(v6, (volatile int *)&v6[22]);
      }
      else
      {
LABEL_13:
        CPlayer::CutdownExp((int)a1, 50);
        CChar::CancelBuffPrty(a1, 256);
        a1[69] = 0;
        (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a1 + 88))(a1, 7, 1, a1[147]);
        (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a1 + 88))(a1, 8, 1, a1[148]);
        v3 = CBuff::CreateBuff(4, 60, -50, (int)a1);
        (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a1b + 180))(a1b, v3);
        if ( a3 )
        {
          CChar::AddGState((volatile LONG *)a1b, 8);
          CPlayer::Teleport((_DWORD *)a1b, v6[19].m_nGeneralRef, &v6[20].m_nGeneralRef, v6[21].m_nRef, 0);
          CIOObject::Release(v6, (volatile int *)&v6[22]);
        }
        else
        {
          (*(void (__thiscall **)(int, int))(*(_DWORD *)a1b + 112))(a1b, 2);
        }
        CChar::AddGState((volatile LONG *)a1b, 0x2000);
        *(_DWORD *)(a1b + 1448) = GetTickCount() + 10000;
      }
    }
  }
}
// 4648C1: variable 'a1b' is possibly undefined

//----- (00464950) --------------------------------------------------------
int __thiscall CPlayer::RevivalItem(CPlayer *this, int a2)
{
  int v3; // eax
  int v4; // eax

  if ( CChar::IsNormal((int)this) || sub_44A510(this, 16) || sub_40B310(this, 8) )
    return 0;
  if ( sub_44A510(this, 8) )
    CPlayer::SubEState(this, 8);
  CPlayer::CutdownExp((int)this, a2);
  CChar::CancelBuffPrty(this, 256);
  this->m_nCurMP = 0;
  v3 = CChar::GetMaxHP(this);
  this->UpdateProperty(this, 7, 1, 30 * v3 / 100);
  v4 = CChar::GetMaxMP(this);
  this->UpdateProperty(this, 8, 1, 30 * v4 / 100);
  this->SubGState(this, 2);
  CChar::AddGState((volatile LONG *)this, 0x2000);
  this->m_dwNextAction = GetTickCount() + 10000;
  return 1;
}

//----- (00464A50) --------------------------------------------------------
void __thiscall CPlayer::SaveRevivalPt(_DWORD *this, int a2, int a3)
{
  char *v4; // [esp+4h] [ebp-4h]

  if ( a2 >= 0 && a2 <= dword_4E35AC )
  {
    v4 = (char *)&unk_4D77C8 + 28 * a2;
    if ( *((_DWORD *)v4 + 5) )
    {
      if ( sub_417450()
        && (CCastle::IsGateAlive(*((_DWORD *)v4 + 4), *((_DWORD *)v4 + 5))
         || !CPlayer::IsDefenseSide((CIOCriticalSection *)this, *((_DWORD *)v4 + 4))) )
      {
LABEL_15:
        this[143] = a2;
        CPlayer::Write((int)this, 67, "b", 41);
        CDBSocket::Write(36, "db", this[113], a2);
        return;
      }
    }
    else if ( !*((_DWORD *)v4 + 4) || CPlayer::IsDefenseSide((CIOCriticalSection *)this, *((_DWORD *)v4 + 4)) )
    {
      goto LABEL_15;
    }
    CPlayer::Write((int)this, 67, "b", 76);
  }
}
// 4E35AC: using guessed type int dword_4E35AC;

//----- (00464B40) --------------------------------------------------------
void __thiscall CPlayer::ProcessEvent(CIOCriticalSection *a1, int a2, void *Src, int a4)
{
  CBuffMoveSpeed *v4; // eax
  int v5; // eax
  CBuffMoveSpeed *v6; // eax
  int v7; // [esp+0h] [ebp-50h]
  int nMax; // [esp+4h] [ebp-4Ch]
  CItem *v10; // [esp+24h] [ebp-2Ch]
  CItem *v11; // [esp+28h] [ebp-28h]
  int v12; // [esp+2Ch] [ebp-24h]
  unsigned __int8 v13; // [esp+32h] [ebp-1Eh] BYREF
  unsigned __int8 v14; // [esp+33h] [ebp-1Dh] BYREF
  int v15; // [esp+34h] [ebp-1Ch]
  unsigned __int8 v16; // [esp+3Ah] [ebp-16h] BYREF
  unsigned __int8 v17; // [esp+3Bh] [ebp-15h] BYREF
  CItem *item; // [esp+3Ch] [ebp-14h]
  int v19; // [esp+40h] [ebp-10h]
  int v20; // [esp+44h] [ebp-Ch]
  char *name; // [esp+48h] [ebp-8h] BYREF
  CIOObject *v22; // [esp+4Ch] [ebp-4h]

  switch ( a2 )
  {
    case 1:
      if ( (dword_4E1178 & 2) != 0 )
      {
        if ( (int)a1[1].m_dwEIP[1] >= 10 )
        {
          ScanPacket((char *)Src, (char *)a4, "bb", &v16, &v17);
          if ( v16 <= 3u && v17 <= 0xAu )
          {
            if ( CPlayer::RemoveItem((CPlayer *)a1, 9, 649, v17) )
            {
              v19 = RandomBetween(1, 6);
              v20 = RandomBetween(1, 6);
              v15 = v20 + v19;
              switch ( v16 )
              {
                case 0u:
                  if ( v15 <= 6 )
                    goto LABEL_34;
                  goto LABEL_33;
                case 1u:
                  if ( v15 <= 6 )
                    goto LABEL_33;
                  goto LABEL_34;
                case 2u:
                  if ( v15 != 7 )
                    goto LABEL_33;
                  goto LABEL_34;
                case 3u:
                  if ( v15 != 2 && v15 != 12 )
                    goto LABEL_33;
LABEL_34:
                  item = (CItem *)CItem::CreateItem(31, 0, dword_4D6A88[v16] * v17, -1);
                  if ( sub_45DDC0(a1, 24, (int)item) != 1 )
                    CBase::Delete(item);
                  CPlayer::Write((int)a1, 68, "bbbbb", 43, 26, 1, v19, v20);
                  break;
                default:
LABEL_33:
                  CPlayer::Write((int)a1, 68, "bbbbb", 43, 26, 0, v19, v20);
                  break;
              }
            }
            else
            {
              CPlayer::Write((int)a1, 68, "bb", 43, 25);
              LOG_ERR("ProcessEvent() RemoveItem Error (%d)", 649);
            }
          }
        }
        else
        {
          CPlayer::Write((int)a1, 68, "bb", 43, 24);
        }
      }
      break;
    case 3:
      if ( (dword_4E1178 & 8) != 0 && (int)a1[1].m_dwEIP[1] >= 5 )
      {
        if ( (int)a1[14].m_critical_section.DebugInfo >= 439941 )
        {
          ScanPacket((char *)Src, (char *)a4, "s", &name, 17);
          if ( IsValidAdminName(name) )
          {
            v22 = sub_450890(name);
            if ( v22 )
            {
              if ( a1 == (CIOCriticalSection *)v22 )
                CPlayer::Write((int)a1, 68, "bbb", 43, 8, 0);
              else
                CAuthSocket::Write(
                  11,
                  "bddd",
                  a2,
                  a1->m_dwEIP[1],
                  a1[14].m_critical_section.DebugInfo,
                  v22[28].__vftable);
              CIOObject::Release(v22, (volatile int *)&v22[22]);
            }
            else
            {
              CDBSocket::Write(38, "dbs", a1->m_dwEIP[1], a2, name);
            }
          }
          else
          {
            CPlayer::Write((int)a1, 68, "bbb", 43, 6, 0);
          }
        }
        else
        {
          CPlayer::Write((int)a1, 68, "bbb", 43, 7, 0);
        }
      }
      break;
    case 4:
      if ( dword_4E35B8 != 1 && (dword_4E1178 & 0x10) != 0 )
      {
        if ( CChar::IsBState(a1, 0x10000000i64) )
        {
          CPlayer::Write((int)a1, 67, "b", 102);
        }
        else
        {
          ScanPacket((char *)Src, (char *)a4, "bb", &v14, &v13);
          a1[17].m_critical_section.OwningThread = (void *)v14;
          a1[17].m_critical_section.LockSemaphore = (void *)v13;
          v4 = CBuff::CreateBuff(102, 1814400, 0, v7);
          ((void (__thiscall *)(CIOCriticalSection *, CBuffMoveSpeed *))a1->m_critical_section.DebugInfo[5].ContentionCount)(
            a1,
            v4);
          CChar::WriteInSight(
            (int)a1,
            23,
            "dbb",
            a1->m_dwEIP[1],
            a1[17].m_critical_section.OwningThread,
            a1[17].m_critical_section.LockSemaphore);
          CDBSocket::Write(
            75,
            "dbb",
            a1[14].m_critical_section.LockCount,
            a1[17].m_critical_section.OwningThread,
            a1[17].m_critical_section.LockSemaphore);
        }
      }
      break;
    case 7:
      if ( dword_4E35B8 == 1 && (dword_4E1178 & 0x80) != 0 )
      {
        if ( CPlayer::FindItem(a1, 653, 1) )
        {
          if ( CChar::IsBState(a1, 256i64) )
            nMax = 2;
          else
            nMax = 3;
          v12 = RandomBetween(1, nMax);
          if ( v12 == 3 || CPlayer::GetInvenSize((char *)a1) < 60 )
          {
            switch ( v12 )
            {
              case 1:
                v5 = RandomBetween(0, 2);
                v11 = (CItem *)CItem::CreateItem(dword_4D6A7C[v5], 0, 1, -1);
                if ( v11 && sub_45DDC0(a1, 24, (int)v11) != 1 )
                  CBase::Delete(v11);
                break;
              case 2:
                v10 = (CItem *)CItem::CreateItem(31, 0, 500, -1);
                if ( v10 && sub_45DDC0(a1, 24, (int)v10) != 1 )
                  CBase::Delete(v10);
                break;
              case 3:
                v6 = CBuff::CreateBuff(17, 3600, 3, nMax);
                ((void (__thiscall *)(CIOCriticalSection *, CBuffMoveSpeed *))a1->m_critical_section.DebugInfo[5].ContentionCount)(
                  a1,
                  v6);
                break;
            }
            if ( !CPlayer::RemoveItem((CPlayer *)a1, 24, 653, 1) )
              LOG_ERR("CPlayer::ProcessEvent() Failed to remove item(%d) on Event(%d)", 653, 7);
          }
          else
          {
            CPlayer::Write((int)a1, 67, "b", 17);
          }
        }
        else
        {
          CPlayer::Write((int)a1, 68, "bwd", 104, 653, 1);
        }
      }
      break;
    default:
      return;
  }
}
// 464EC5: variable 'v7' is possibly undefined
// 4E1178: using guessed type int dword_4E1178;
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00465120) --------------------------------------------------------
void __thiscall CPlayer::OnProcessEvent(_DWORD *this, int a2, void *Src)
{
  unsigned __int8 v4; // [esp+Bh] [ebp-9h] BYREF
  int v5; // [esp+Ch] [ebp-8h] BYREF
  char v6; // [esp+12h] [ebp-2h] BYREF
  unsigned __int8 v7; // [esp+13h] [ebp-1h] BYREF
  char *Srca; // [esp+20h] [ebp+Ch]
  void *Srcb; // [esp+20h] [ebp+Ch]

  if ( a2 == 3 )
  {
    Srca = (char *)ReadPacket((char *)Src, "bb", &v6, &v7);
    if ( v6 )
    {
      CPlayer::Write((int)this, 68, "bbb", 43, v7, 0);
    }
    else
    {
      ReadPacket(Srca, "d", &v5);
      if ( v7 == 9 )
      {
        if ( this[112] == v5 )
          CPlayer::Write((int)this, 68, "bbb", 43, 8, 0);
        else
          CAuthSocket::Write(11, "bddd", 3, this[7], this[112], v5);
      }
      else
      {
        CPlayer::Write((int)this, 68, "bbb", 43, v7, 0);
      }
    }
  }
  else if ( a2 == 5 )
  {
    Srcb = ReadPacket((char *)Src, "b", &v4);
    CPlayer::MLMProcess(this, v4, Srcb, (int)Srcb);
  }
}

//----- (00465250) --------------------------------------------------------
void __thiscall CPlayer::InitStat(void *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  int v3; // [esp-68h] [ebp-7Ch]
  int v4; // [esp-64h] [ebp-78h]
  int v5; // [esp-60h] [ebp-74h]
  int v6; // [esp-5Ch] [ebp-70h]
  int v7; // [esp-54h] [ebp-68h]
  int v8; // [esp-4Ch] [ebp-60h]
  int v9; // [esp-48h] [ebp-5Ch]
  int v10; // [esp-44h] [ebp-58h]
  int v11; // [esp-40h] [ebp-54h]
  int v12; // [esp-3Ch] [ebp-50h]
  int v13; // [esp-38h] [ebp-4Ch]
  int v14; // [esp-34h] [ebp-48h]
  int v15; // [esp-30h] [ebp-44h]
  int v16; // [esp-2Ch] [ebp-40h]
  int v17; // [esp-28h] [ebp-3Ch]
  int v18; // [esp-24h] [ebp-38h]
  int v19; // [esp-20h] [ebp-34h]
  int v20; // [esp-1Ch] [ebp-30h]
  int v21; // [esp-18h] [ebp-2Ch]
  int v22; // [esp-14h] [ebp-28h]
  int v23; // [esp-10h] [ebp-24h]
  int v24; // [esp-Ch] [ebp-20h]
  int v25; // [esp-8h] [ebp-1Ch]
  int v26; // [esp-4h] [ebp-18h]
  CPlayer *a1a; // [esp+0h] [ebp-14h]
  CPlayer *a1b; // [esp+0h] [ebp-14h]
  char v30[4]; // [esp+4h] [ebp-10h] BYREF
  int v31; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v32; // [esp+Ch] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v33; // [esp+10h] [ebp-4h] BYREF

  if ( CPlayer::RemoveItem((CPlayer *)this, 16, 361, 1) || CPlayer::RemoveItem((CPlayer *)this, 16, 501, 1) )
  {
    CChar::CancelBuffPrty(this, -225);
    memset((char *)this + 64, 0, 0x1Cu);
    memset((char *)this + 92, 0, 0x60u);
    memset((char *)this + 188, 0, 0x54u);
    memcpy((char *)this + 64, (char *)&unk_4D6A28 + 28 * *((_DWORD *)this + 115), 0x14u);
    *((_DWORD *)this + 136) = 0;
    *((_DWORD *)this + 155) = 0;
    *((_DWORD *)this + 154) = 0;
    *((_DWORD *)this + 153) = 0;
    *((_DWORD *)this + 152) = 0;
    *((_DWORD *)this + 151) = 0;
    *((_DWORD *)this + 150) = 0;
    *((_DWORD *)this + 149) = 0;
    CChar::ResetAllBuff((CIOCriticalSection *)this);
    (*(void (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
    CIOCriticalSection::Enter((CIOCriticalSection *)this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)&a1a->m_mapItem,
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v33);
    while ( 1 )
    {
      v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(&a1a->m_mapItem, (int)v30);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v33,
              v1) )
        break;
      v32 = *(_DWORD **)(sub_420250(&v33) + 4);
      if ( sub_427130(v32, 1) )
        (*(void (__thiscall **)(_DWORD *, CPlayer *))(*v32 + 104))(v32, a1a);
      sub_446090((int *)&v33, &v31, 0);
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)a1a);
    sub_47FC00(&a1b->m_skill.m_pOwner);
    a1b->UpdateProperty(a1b, 23, 1, 5 * a1b->m_nLevel);
    a1b->m_nCurMP = CChar::GetMaxMP(a1b);
    a1b->m_nCurHP = CChar::GetMaxHP(a1b);
    v26 = a1b->m_nRage;
    v25 = sub_438FA0(a1b, 4);
    v24 = sub_438FA0(a1b, 3);
    v23 = sub_438FA0(a1b, 2);
    v22 = sub_438FA0(a1b, 1);
    v21 = sub_438FA0(a1b, 0);
    v20 = a1b->m_nSUPoint;
    v19 = a1b->m_nPUPoint;
    v18 = CChar::GetMaxMagic(a1b);
    v17 = CChar::GetMinMagic(a1b);
    v16 = CChar::GetMaxAttack(a1b);
    v15 = CChar::GetMinAttack(a1b);
    v14 = HIDWORD(a1b->m_nExp);
    v13 = a1b->m_nExp;
    v12 = CChar::GetAbsorb(a1b);
    v11 = CChar::GetDefense(a1b, 0);
    v10 = CChar::GetDodge(a1b);
    v9 = CChar::GetHit(a1b);
    v8 = a1b->m_nCurMP;
    v7 = a1b->m_nCurHP;
    v6 = Char::GetDex(a1b);
    v5 = CChar::GetWis(a1b);
    v4 = CChar::GetInt(a1b);
    v3 = CChar::GetHth(a1b);
    v2 = CChar::GetStr(a1b);
    CPlayer::Write(
      (int)a1b,
      66,
      "bsbwbbbbbwwwwwwwbIwwwwwwbbbbbd",
      a1b->m_dwSpecialty,
      &Source,
      a1b->m_nGRole,
      a1b->m_nContribute,
      v2,
      v3,
      v4,
      v5,
      v6,
      v7,
      v7,
      v8,
      v8,
      v9,
      v10,
      v11,
      v12,
      v13,
      v14,
      v15,
      v16,
      v17,
      v18,
      v19,
      v20,
      v21,
      v22,
      v23,
      v24,
      v25,
      v26);
    CPlayer::Write((int)a1b, 67, "b", 59);
    CPlayer::SaveAllProperty((int)a1b, 0);
  }
}
// 465385: variable 'a1a' is possibly undefined
// 465400: variable 'a1b' is possibly undefined

//----- (004655B0) --------------------------------------------------------
_DWORD *__thiscall CPlayer::EventInsert(_DWORD *this, int a2)
{
  _DWORD *result; // eax

  *(_DWORD *)(a2 + 12) = this[325];
  result = this;
  this[325] = a2;
  return result;
}

//----- (004655E0) --------------------------------------------------------
_DWORD *__thiscall CPlayer::EventRemoveAll(_DWORD *this)
{
  _DWORD *result; // eax
  _DWORD *v3; // [esp+8h] [ebp-4h]

  while ( 1 )
  {
    result = this;
    if ( !this[325] )
      break;
    v3 = (_DWORD *)this[325];
    this[325] = v3[3];
    sub_401020(v3);
  }
  return result;
}

//----- (00465630) --------------------------------------------------------
BOOL __thiscall CPlayer::EventIsMoraTime(_DWORD *this)
{
  _DWORD *v2; // [esp+0h] [ebp-10h]
  CMemory **v4; // [esp+8h] [ebp-8h]
  _DWORD *i; // [esp+Ch] [ebp-4h]

  for ( i = (_DWORD *)this[325]; i; i = (_DWORD *)i[3] )
  {
    if ( !i[1] )
      return GetTickCount() - i[2] >= 0x36EE80;
  }
  v4 = sub_401000(0x10u);
  if ( v4 )
    v2 = sub_457E30(v4);
  else
    v2 = 0;
  v2[1] = 0;
  v2[2] = GetTickCount() - 3600000;
  CPlayer::EventInsert(this, (int)v2);
  return 1;
}

//----- (004656E0) --------------------------------------------------------
unsigned int __thiscall CPlayer::EventSetMora(CIOCriticalSection *this, int a2)
{
  CItem *v4; // [esp+8h] [ebp-20h]
  CItem *item; // [esp+Ch] [ebp-1Ch]
  int v6; // [esp+10h] [ebp-18h]
  int v7; // [esp+14h] [ebp-14h]
  int a3; // [esp+18h] [ebp-10h]
  int a1; // [esp+1Ch] [ebp-Ch]
  _DWORD *i; // [esp+20h] [ebp-8h]
  unsigned int v11; // [esp+24h] [ebp-4h]

  for ( i = (_DWORD *)this[40].m_critical_section.SpinCount; ; i = (_DWORD *)i[3] )
  {
    if ( !i )
      return 0;
    if ( !i[1] )
      break;
  }
  v6 = 0;
  v7 = 0;
  a1 = 0;
  a3 = 0;
  *i = a2 | *i & 0xFFFF0000;
  if ( a2 == 1 )
  {
    *i += 0x10000;
    if ( (*i & 0xFFFF0000) >> 16 >= 5 )
    {
      v6 = 5000;
      a1 = 274;
      v7 = 1;
      a3 = 1;
    }
  }
  else if ( a2 == 3 )
  {
    switch ( (*i & 0xFFFF0000) >> 16 )
    {
      case 1u:
        v6 = 200;
        break;
      case 2u:
        v6 = 500;
        break;
      case 3u:
        v6 = 1000;
        break;
      case 4u:
        v6 = 2000;
        a1 = 273;
        a3 = 1;
        break;
      default:
        break;
    }
    v7 = 1;
  }
  v11 = (*i & 0xFFFF0000) >> 16;
  if ( v7 )
  {
    i[2] = GetTickCount();
    *i = 0;
    if ( v6 )
    {
      item = (CItem *)CItem::CreateItem(31, 0, v6, -1);
      if ( item )
      {
        if ( !sub_45DDC0(this, 24, (int)item) )
        {
          LOG_ERR("CPlayer::EventSetMora() Fail to insert money(%d).", v6);
          CBase::Delete(item);
        }
      }
    }
    if ( a1 )
    {
      v4 = (CItem *)CItem::CreateItem(a1, 0, a3, -1);
      if ( v4 )
      {
        if ( sub_45DDC0(this, 2, (int)v4) != 1 )
          CBase::Delete(v4);
      }
    }
  }
  return v11;
}

//----- (004658E0) --------------------------------------------------------
void __thiscall CPlayer::EventSaveDB(_DWORD *this)
{
  _BYTE *v1; // eax
  int v3; // [esp+8h] [ebp-1010h]
  char *v4; // [esp+Ch] [ebp-100Ch]
  char v5; // [esp+10h] [ebp-1008h] BYREF
  char v6[4092]; // [esp+11h] [ebp-1007h] BYREF
  __int16 v7; // [esp+100Dh] [ebp-Bh]
  char v8; // [esp+100Fh] [ebp-9h]
  int v9; // [esp+1010h] [ebp-8h]
  int v10; // [esp+1014h] [ebp-4h]

  v9 = dword_4D9830;
  v5 = 0;
  memset(v6, 0, sizeof(v6));
  v7 = 0;
  v8 = 0;
  v4 = &v5;
  v10 = 0;
  v3 = this[325];
  while ( v3 )
  {
    v1 = PutNumeric<unsigned char>(v4, *(_BYTE *)(v3 + 4));
    v4 = (char *)PutNumeric<int>(v1, *(_DWORD *)(v3 + 8));
    v3 = *(_DWORD *)(v3 + 12);
    ++v10;
  }
  if ( v10 )
    CDBSocket::Write(37, "dbm", this[113], v10, &v5, v4 - &v5);
}
// 4D9830: using guessed type int dword_4D9830;

//----- (004659F0) --------------------------------------------------------
void __thiscall CPlayer::MLMProcess(_DWORD *a1, int a2, void *Src, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  CIOCriticalSection *v7; // eax
  CIOCriticalSection *v8; // eax
  char *v9; // eax
  CIOObject_vtbl *v10; // [esp-Ch] [ebp-D8h]
  int v11; // [esp-4h] [ebp-D0h]
  int v12; // [esp-4h] [ebp-D0h]
  int v13; // [esp-4h] [ebp-D0h]
  CIOCriticalSection *v14; // [esp+0h] [ebp-CCh]
  CIOCriticalSection *v15; // [esp+0h] [ebp-CCh]
  CIOCriticalSection *v16; // [esp+0h] [ebp-CCh]
  CIOCriticalSection *v17; // [esp+0h] [ebp-CCh]
  CIOCriticalSection *v18; // [esp+0h] [ebp-CCh]
  CIOCriticalSection *v19; // [esp+0h] [ebp-CCh]
  int *v20; // [esp+4h] [ebp-C8h]
  int *v21; // [esp+8h] [ebp-C4h]
  int *v22; // [esp+Ch] [ebp-C0h]
  int *v23; // [esp+10h] [ebp-BCh]
  int *v24; // [esp+14h] [ebp-B8h]
  int *v26; // [esp+20h] [ebp-ACh]
  int *v27; // [esp+24h] [ebp-A8h]
  int *v28; // [esp+28h] [ebp-A4h]
  int *v29; // [esp+2Ch] [ebp-A0h]
  int *v30; // [esp+30h] [ebp-9Ch]
  unsigned __int8 v31; // [esp+37h] [ebp-95h] BYREF
  int v32; // [esp+38h] [ebp-94h] BYREF
  int *v33; // [esp+3Ch] [ebp-90h]
  unsigned __int8 v34; // [esp+43h] [ebp-89h] BYREF
  CIOCriticalSection *v35; // [esp+44h] [ebp-88h]
  int v36; // [esp+48h] [ebp-84h]
  char *str; // [esp+4Ch] [ebp-80h] BYREF
  CIOObject *v38; // [esp+50h] [ebp-7Ch]
  int v39; // [esp+54h] [ebp-78h] BYREF
  char v40; // [esp+5Ah] [ebp-72h] BYREF
  char v41; // [esp+5Bh] [ebp-71h] BYREF
  char *v42; // [esp+5Ch] [ebp-70h]
  char *v43; // [esp+60h] [ebp-6Ch]
  int v44; // [esp+64h] [ebp-68h]
  int v45; // [esp+68h] [ebp-64h]
  void *v46; // [esp+6Ch] [ebp-60h]
  CIOObject *v47; // [esp+70h] [ebp-5Ch]
  int *v48; // [esp+74h] [ebp-58h]
  CIOObject *v49; // [esp+78h] [ebp-54h] BYREF
  int v50; // [esp+7Ch] [ebp-50h]
  CIOObject *v51; // [esp+80h] [ebp-4Ch]
  CIOObject *v52; // [esp+84h] [ebp-48h] BYREF
  int a3; // [esp+88h] [ebp-44h] BYREF
  _DWORD *k; // [esp+8Ch] [ebp-40h]
  CItem *item; // [esp+90h] [ebp-3Ch]
  int j; // [esp+94h] [ebp-38h]
  _DWORD **v57; // [esp+98h] [ebp-34h]
  CMemory *a2a; // [esp+9Ch] [ebp-30h]
  int *v59; // [esp+A0h] [ebp-2Ch]
  int *i; // [esp+A4h] [ebp-28h]
  CMemory *v61; // [esp+A8h] [ebp-24h]
  int v62; // [esp+ACh] [ebp-20h] BYREF
  char v63; // [esp+B3h] [ebp-19h] BYREF
  CIOObject *v64; // [esp+B4h] [ebp-18h]
  int v65; // [esp+B8h] [ebp-14h] BYREF
  char v66; // [esp+BFh] [ebp-Dh] BYREF
  CIOObject *v67; // [esp+C0h] [ebp-Ch]
  CIOObject *v68; // [esp+C4h] [ebp-8h]
  char *v69; // [esp+C8h] [ebp-4h] BYREF

  switch ( a2 )
  {
    case 0:
      if ( (int)a1[15] <= 15 )
      {
        CIOCriticalSection::Enter(v14);
        if ( CPlayer::_MLMFind(a1, 2, 0) )
        {
          CIOCriticalSection::Leave(v15);
          CPlayer::Write((int)a1, 68, "bbb", 43, 13, 0);
        }
        else
        {
          CIOCriticalSection::Leave(v15);
          ScanPacket((char *)Src, (char *)a4, "s", &v69, 17);
          v68 = sub_450890(v69);
          if ( v68 )
          {
            if ( v68[3].m_nGeneralRef < 16 )
            {
              CPlayer::Write((int)a1, 68, "bbb", 43, 11, 0);
            }
            else if ( CPlayer::MLMPupilNum((CIOCriticalSection *)v68) < 20 )
            {
              v4 = std::_Mpunct<wchar_t>::do_frac_digits(v68);
              CAuthSocket::Write(11, "bddbd", 5, a1[7], a1[112], 1, v4);
            }
            else
            {
              CPlayer::Write((int)a1, 68, "bbb", 43, 12, 0);
            }
            CIOObject::Release(v68, (volatile int *)&v68[22]);
          }
          else
          {
            CPlayer::Write((int)a1, 67, "b", 25);
          }
        }
      }
      else
      {
        CPlayer::Write((int)a1, 68, "bbb", 43, 10, 0);
      }
      break;
    case 1:
      ScanPacket((char *)Src, (char *)a4, "db", &v65, &v66);
      v67 = CPlayer::FindPlayer_(v65);
      if ( v67 )
      {
        if ( v66 )
        {
          v11 = a1[7];
          v10 = v67[28].__vftable;
          v5 = std::_Mpunct<wchar_t>::do_frac_digits(v67);
          CAuthSocket::Write(11, "bddbd", 5, v5, v10, 0, v11);
        }
        else
        {
          CPlayer::Write((int)v67, 68, "bbb", 43, 14, 0);
        }
        CIOObject::Release(v67, (volatile int *)&v67[22]);
      }
      break;
    case 2:
      ReadPacket((char *)Src, "bd", &v63, &v62);
      v64 = CPlayer::FindPlayer_(v62);
      if ( v64 )
      {
        if ( v63 )
        {
          sub_466B20();
          if ( CPlayer::_MLMFind(a1, 2, 0) )
          {
            sub_466B70((int)a1, (int)v64);
            CAuthSocket::Write(11, "bddbd", 5, 0, a1[112], 3, 0);
            return;
          }
          i = CPlayer::_MLMFind(v64, 2, 0);
          if ( i )
          {
            v30 = (int *)sub_401000(0x30u);
            if ( v30 )
              v24 = sub_466AB0(v30, 1, i[1], i + 2, i[7], i[8], 0, i[10]);
            else
              v24 = 0;
            v59 = v24;
            CPlayer::_MLMInsert((_DWORD **)a1, v24);
            CDBSocket::Write(66, "dbddbsbb", a1[113], 0, i[1], i[10], 1, i + 2, i[7], i[8]);
          }
          v29 = (int *)sub_401000(0x30u);
          if ( v29 )
            v23 = sub_466AB0(
                    v29,
                    2,
                    v64[28].m_nRef,
                    &v64[2],
                    v64[28].m_nGeneralRef,
                    v64[3].m_nGeneralRef,
                    1,
                    (int)v64[28].__vftable);
          else
            v23 = 0;
          v59 = v23;
          CPlayer::_MLMInsert((_DWORD **)a1, v23);
          CDBSocket::Write(
            66,
            "dbddbsbb",
            a1[113],
            0,
            v64[28].m_nRef,
            v64[28].__vftable,
            2,
            &v64[2],
            v64[28].m_nGeneralRef,
            v64[3].m_nGeneralRef);
          v61 = 0;
          for ( i = CPlayer::_MLMFind(v64, 4, 0); i && *i == 4; i = (int *)i[11] )
          {
            v28 = (int *)sub_401000(0x30u);
            if ( v28 )
              v22 = sub_466AB0(v28, 3, i[1], i + 2, i[7], i[8], i[9], i[10]);
            else
              v22 = 0;
            v59 = v22;
            CPlayer::_MLMInsert((_DWORD **)a1, v22);
            CDBSocket::Write(66, "dbddbsbb", a1[113], 0, i[1], i[10], 3, i + 2, i[7], i[8]);
            CDBSocket::Write(66, "dbddbsbb", i[1], 0, a1[113], a1[112], 3, a1 + 8, a1[115], a1[15]);
            if ( i[9] )
            {
              a2a = (CMemory *)sub_450790(i[1]);
              if ( a2a )
              {
                v61 = (CMemory *)CBaseList::Push(v61, a2a);
                CIOObject::Release((CIOObject *)a2a, &a2a[6].__sbh_sizeHeaderList);
              }
            }
          }
          v27 = (int *)sub_401000(0x30u);
          if ( v27 )
            v21 = sub_466AB0(v27, 4, a1[113], a1 + 8, a1[115], a1[15], 1, a1[112]);
          else
            v21 = 0;
          v59 = v21;
          CPlayer::_MLMInsert(v64, v21);
          CDBSocket::Write(66, "dbddbsbb", v64[28].m_nRef, 0, a1[113], a1[112], 4, a1 + 8, a1[115], a1[15]);
          sub_466B70((int)a1, (int)v64);
          while ( v61 )
          {
            v57 = (_DWORD **)unknown_libname_7(v61);
            v26 = (int *)sub_401000(0x30u);
            if ( v26 )
              v20 = sub_466AB0(v26, 3, a1[113], a1 + 8, a1[115], a1[15], 1, a1[112]);
            else
              v20 = 0;
            v59 = v20;
            CIOCriticalSection::Enter(v14);
            CPlayer::_MLMInsert(v57, v20);
            CIOCriticalSection::Leave(v16);
            v61 = (CMemory *)CBaseList::Pop((CIOObject *)v61);
          }
          if ( v63 == 1 )
          {
            for ( j = 0; j < 5; ++j )
            {
              item = (CItem *)CItem::CreateItem(dword_4D91D0[5 * a1[115] + j], 0, 1, -1);
              if ( item && sub_45DDC0((CIOCriticalSection *)a1, 41, (int)item) != 1 )
                CBase::Delete(item);
            }
          }
          v6 = CPlayer::MLMPupilNum((CIOCriticalSection *)v64);
          CPlayer::Write((int)v64, 68, "bbbs", 43, 17, v6, a1 + 8);
          CPlayer::Write((int)a1, 68, "bbbs", 43, 18, 0, &v64[2]);
        }
        else
        {
          CPlayer::Write((int)v64, 68, "bbb", 43, 15, 0);
          CPlayer::Write((int)a1, 68, "bbb", 43, 13, 0);
        }
        CIOObject::Release(v64, (volatile int *)&v64[22]);
      }
      else if ( v63 )
      {
        CAuthSocket::Write(11, "bddbd", 5, 0, a1[112], 3, 0);
      }
      break;
    case 3:
      ScanPacket((char *)Src, (char *)a4, "d", &a3);
      CIOCriticalSection::Enter(v14);
      for ( k = (_DWORD *)a1[326]; k && (*k != 2 && *k != 4 || k[1] != a3); k = (_DWORD *)k[11] )
        ;
      if ( k )
      {
        if ( *k == 2 )
        {
          if ( (int)a1[15] >= 16 )
          {
            CPlayer::Write((int)a1, 68, "bbbs", 43, 21, 0, k + 2);
            v52 = 0;
            CPlayer::_MLMGet((CMemory **)&v52, 3);
            CPlayer::_MLMDelete((_DWORD **)a1, 1, 0);
            CPlayer::_MLMDelete((_DWORD **)a1, 2, 0);
            CPlayer::_MLMDelete((_DWORD **)a1, 3, 0);
            CIOCriticalSection::Leave(v17);
            while ( v52 )
            {
              v12 = a1[113];
              v7 = (CIOCriticalSection *)unknown_libname_7(v52);
              CPlayer::MLMDelete(v7, 3, v12);
              v52 = (CIOObject *)CBaseList::Pop(v52);
            }
            CDBSocket::Write(66, "db", a1[113], 2);
            v51 = sub_450790(a3);
            if ( v51 )
            {
              CPlayer::MLMDelete((CIOCriticalSection *)v51, 4, a1[113]);
              CPlayer::Write((int)v51, 68, "bbbs", 43, 21, 0, a1 + 8);
              CIOObject::Release(v51, (volatile int *)&v51[22]);
            }
            CDBSocket::Write(66, "dbd", a3, 1, a1[113]);
            CAuthSocket::Write(11, "bddbd", 5, 0, a1[112], 4, 0);
          }
          else
          {
            CIOCriticalSection::Leave(v17);
            CPlayer::Write((int)a1, 68, "bbb", 43, 16, 0);
          }
        }
        else
        {
          v50 = 0;
          v48 = CPlayer::_MLMFind(a1, 4, a3);
          if ( v48 )
          {
            CPlayer::Write((int)a1, 68, "bbbs", 43, 21, 0, v48 + 2);
            v50 = v48[10];
          }
          CPlayer::_MLMDelete((_DWORD **)a1, 4, a3);
          v49 = 0;
          CPlayer::_MLMGet((CMemory **)&v49, 4);
          CIOCriticalSection::Leave(v17);
          CDBSocket::Write(66, "dbd", a1[113], 1, a3);
          while ( v49 )
          {
            v13 = a3;
            v8 = (CIOCriticalSection *)unknown_libname_7(v49);
            CPlayer::MLMDelete(v8, 3, v13);
            v49 = (CIOObject *)CBaseList::Pop(v49);
          }
          v47 = sub_450790(a3);
          if ( v47 )
          {
            CPlayer::MLMDelete((CIOCriticalSection *)v47, 1, 0);
            CPlayer::MLMDelete((CIOCriticalSection *)v47, 2, 0);
            CPlayer::MLMDelete((CIOCriticalSection *)v47, 3, 0);
            CPlayer::Write((int)v47, 68, "bbbs", 43, 21, 0, a1 + 8);
            CIOObject::Release(v47, (volatile int *)&v47[22]);
          }
          CDBSocket::Write(66, "db", a3, 2);
          CAuthSocket::Write(11, "bddbd", 5, 0, v50, 4, 0);
        }
      }
      else
      {
        CIOCriticalSection::Leave(v17);
      }
      break;
    case 4:
      v46 = CIOBuffer::Alloc();
      v42 = (char *)v46;
      *((_BYTE *)v46 + 2) = 100;
      v43 = v42 + 5;
      v45 = 0;
      CIOCriticalSection::Enter(v14);
      v44 = a1[326];
      while ( v44 )
      {
        v43 = PutNumeric<unsigned char>(v43, *(_BYTE *)v44);
        v9 = (char *)PutNumeric<int>(v43, *(_DWORD *)(v44 + 4));
        v43 = PutString(v9, (const char *)(v44 + 8));
        v43 = PutNumeric<unsigned char>(v43, *(_BYTE *)(v44 + 36));
        v43 = PutNumeric<unsigned char>(v43, *(_BYTE *)(v44 + 28));
        v43 = PutNumeric<unsigned char>(v43, *(_BYTE *)(v44 + 32));
        v44 = *(_DWORD *)(v44 + 44);
        ++v45;
      }
      CIOCriticalSection::Leave(v18);
      WritePacket(v42 + 3, "bb", 1, v45);
      *(_WORD *)v42 = (_WORD)v43 - (_WORD)v42;
      *((_DWORD *)v46 + 2000) = *(unsigned __int16 *)v42;
      CSocket::_CSocket(a1[419], v46);
      break;
    case 5:
      ReadPacket((char *)Src, "bbd", &v40, &v41, &v39);
      if ( v40 == 1 )
      {
        v38 = CPlayer::FindPlayer_(v39);
        if ( v38 )
        {
          CPlayer::Write((int)v38, 100, "bds", (v41 & 4) != 0 ? 2 : 0, a1[7], a1 + 8);
          CIOObject::Release(v38, (volatile int *)&v38[22]);
        }
        else
        {
          CPlayer::Write((int)a1, 67, "b", 25);
        }
      }
      else if ( (v41 & 4) == 0 )
      {
        CPlayer::MLMPayMoney(a1, 1);
      }
      break;
    case 6:
      ScanPacket((char *)Src, (char *)a4, "s", &str, 181);
      if ( CPlayer::MLMPupilNum((CIOCriticalSection *)a1) > 0 )
      {
        v36 = 22;
        if ( IsValidString(str) )
        {
          CDBSocket::Write(66, "dbs", a1[113], 4, str);
          v36 = 23;
        }
        CPlayer::Write((int)a1, 68, "bbb", 43, v36, 0);
      }
      break;
    case 7:
      ScanPacket((char *)Src, (char *)a4, "b", &v34);
      v35 = (CIOCriticalSection *)a1[113];
      if ( v34 )
      {
        CIOCriticalSection::Enter(v14);
        v33 = CPlayer::_MLMFind(a1, 2, 0);
        if ( v33 )
          v19 = (CIOCriticalSection *)v33[1];
        else
          v19 = 0;
        v35 = v19;
        CIOCriticalSection::Leave(v19);
      }
      if ( v35 )
        CDBSocket::Write(66, "dbbd", v35, 5, v34, a1[7]);
      break;
    case 8:
      ReadPacket((char *)Src, "bs", &v31, &v32);
      CPlayer::Write((int)a1, 100, "bbs", 3, v31, v32);
      break;
    default:
      return;
  }
}
// 465A5B: variable 'v14' is possibly undefined
// 465A7F: variable 'v15' is possibly undefined
// 4661FC: variable 'v16' is possibly undefined
// 46638E: variable 'v17' is possibly undefined
// 4667C2: variable 'v18' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00466AB0) --------------------------------------------------------
int *__thiscall sub_466AB0(int *this, int a2, int a3, void *a4, int a5, int a6, int a7, int a8)
{
  *this = a2;
  this[1] = a3;
  memcpy(this + 2, a4, 0x11u);
  this[7] = a5;
  this[8] = a6;
  this[9] = a7;
  this[10] = a8;
  this[11] = 0;
  return this;
}

//----- (00466B20) --------------------------------------------------------
void sub_466B20()
{
  CIOCriticalSection *savedregs; // [esp+0h] [ebp+0h]
  CIOCriticalSection *savedregsa; // [esp+0h] [ebp+0h]

  CIOCriticalSection::Enter(savedregs);
  CIOCriticalSection::Enter(savedregsa);
}
// 466B34: variable 'savedregs' is possibly undefined
// 466B42: variable 'savedregsa' is possibly undefined

//----- (00466B70) --------------------------------------------------------
void __cdecl sub_466B70(int a1, int a2)
{
  CIOCriticalSection *savedregs; // [esp+0h] [ebp+0h]
  CIOCriticalSection *savedregsa; // [esp+0h] [ebp+0h]

  CIOCriticalSection::Leave(savedregs);
  CIOCriticalSection::Leave(savedregsa);
}
// 466B7C: variable 'savedregs' is possibly undefined
// 466B8A: variable 'savedregsa' is possibly undefined

//----- (00466BA0) --------------------------------------------------------
void __thiscall CPlayer::MLMLoad(CIOCriticalSection *a1, _DWORD *a2)
{
  int v2; // [esp+0h] [ebp-8h]
  int v3; // [esp+0h] [ebp-8h]
  CIOObject *v4; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(a1);
  CPlayer::_MLMInsert((_DWORD **)v2, a2);
  if ( *a2 == 2 || *a2 == 3 || *a2 == 4 )
  {
    v4 = sub_450790(a2[1]);
    if ( v4 )
    {
      a2[9] = 1;
      CIOCriticalSection::Leave((CIOCriticalSection *)v2);
      CPlayer::MLMUpdate((CIOCriticalSection *)v4, *(_DWORD *)(v3 + 452), 0, 1);
      CIOObject::Release(v4, (volatile int *)&v4[22]);
      return;
    }
  }
  else if ( !*a2 && (int)a2[1] > 20000000 )
  {
    *(_DWORD *)(v2 + 1348) = 1;
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v2);
}
// 466BBE: variable 'v2' is possibly undefined
// 466C12: variable 'v3' is possibly undefined

//----- (00466C70) --------------------------------------------------------
_DWORD *__thiscall CPlayer::_MLMInsert(_DWORD **this, _DWORD *a2)
{
  _DWORD *result; // eax
  _DWORD **i; // [esp+8h] [ebp-8h]
  _DWORD *v4; // [esp+Ch] [ebp-4h]

  for ( i = this + 326; ; i = (_DWORD **)(v4 + 11) )
  {
    v4 = *i;
    if ( !*i || *v4 >= *a2 )
      break;
  }
  result = a2;
  *i = a2;
  a2[11] = v4;
  return result;
}

//----- (00466CD0) --------------------------------------------------------
void __thiscall CPlayer::MLMDelete(CIOCriticalSection *this, int a2, int a3)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  CPlayer::_MLMDelete(v3, a2, a3);
  CIOCriticalSection::Leave(v3);
}
// 466CF0: variable 'v3' is possibly undefined

//----- (00466D10) --------------------------------------------------------
void __thiscall CPlayer::_MLMDelete(_DWORD **this, int a2, int a3)
{
  _DWORD **v3; // [esp+8h] [ebp-8h]
  _DWORD *v4; // [esp+Ch] [ebp-4h]

  if ( a2 )
  {
    v3 = this + 326;
    while ( 1 )
    {
      v4 = *v3;
      if ( !*v3 )
        break;
      if ( *v4 == a2 && (!a3 || v4[1] == a3) )
      {
        *v3 = (_DWORD *)v4[11];
        sub_401020(v4);
        if ( a2 != 3 || a3 )
          return;
      }
      else
      {
        v3 = (_DWORD **)(v4 + 11);
      }
    }
  }
}

//----- (00466DA0) --------------------------------------------------------
void __thiscall CPlayer::MLMDeleteAll(CIOCriticalSection *a1)
{
  CIOCriticalSection *v1; // [esp+0h] [ebp-14h]
  int v2; // [esp+0h] [ebp-14h]
  CIOObject *v3; // [esp+8h] [ebp-Ch]
  _DWORD *v4; // [esp+Ch] [ebp-8h]
  void *v5; // [esp+10h] [ebp-4h]

  CIOCriticalSection::Enter(a1);
  v4 = (_DWORD *)v1[40].m_dwEIP[0];
  v1[40].m_dwEIP[0] = 0;
  CIOCriticalSection::Leave(v1);
  while ( v4 )
  {
    if ( *v4 == 2 || *v4 == 3 || *v4 == 4 )
    {
      v3 = sub_450790(v4[1]);
      if ( v3 )
      {
        CPlayer::MLMUpdate((CIOCriticalSection *)v3, *(_DWORD *)(v2 + 452), 0, 0);
        CIOObject::Release(v3, (volatile int *)&v3[22]);
      }
    }
    v5 = v4;
    v4 = (_DWORD *)v4[11];
    sub_401020(v5);
  }
}
// 466DBA: variable 'v1' is possibly undefined
// 466E1B: variable 'v2' is possibly undefined

//----- (00466E70) --------------------------------------------------------
void __thiscall CPlayer::MLMUpdate(CIOCriticalSection *this, int a2, int a3, int a4)
{
  CIOCriticalSection *a1; // [esp+0h] [ebp-8h]
  _DWORD *i; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  for ( i = (_DWORD *)a1[40].m_dwEIP[0]; i && (!*i || i[1] != a2); i = (_DWORD *)i[11] )
    ;
  if ( i )
  {
    if ( a3 )
    {
      if ( a3 == 1 )
        i[8] = a4;
    }
    else
    {
      i[9] = a4;
      if ( a4 )
        CPlayer::Write((int)a1, 68, "bbs", 73, *i, i + 2);
    }
  }
  CIOCriticalSection::Leave(a1);
}
// 466E8A: variable 'a1' is possibly undefined

//----- (00466F20) --------------------------------------------------------
int *__thiscall CPlayer::_MLMFind(_DWORD *this, int a2, int a3)
{
  int *i; // [esp+4h] [ebp-4h]

  for ( i = (int *)this[326]; i && *i <= a2; i = (int *)i[11] )
  {
    if ( *i == a2 && (!a3 || i[1] == a3) )
      return i;
  }
  return 0;
}

//----- (00466F80) --------------------------------------------------------
void __stdcall CPlayer::_MLMGet(CMemory **a5, int a6)
{
  _DWORD *v2; // ecx
  CMemory *a2; // [esp+4h] [ebp-8h]
  int *i; // [esp+8h] [ebp-4h]

  for ( i = CPlayer::_MLMFind(v2, a6, 0); i && *i == a6; i = (int *)i[11] )
  {
    if ( i[9] )
    {
      a2 = (CMemory *)sub_450790(i[1]);
      if ( a2 )
      {
        *a5 = (CMemory *)CBaseList::Push(*a5, a2);
        CIOObject::Release((CIOObject *)a2, &a2[6].__sbh_sizeHeaderList);
      }
    }
  }
}
// 466F92: variable 'v2' is possibly undefined

//----- (00467010) --------------------------------------------------------
int __thiscall CPlayer::MLMPupilNum(CIOCriticalSection *this)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-Ch]
  _DWORD *i; // [esp+4h] [ebp-8h]
  int v4; // [esp+8h] [ebp-4h]

  v4 = 0;
  CIOCriticalSection::Enter(this);
  for ( i = (_DWORD *)v2[40].m_dwEIP[0]; i; i = (_DWORD *)i[11] )
  {
    if ( *i == 4 )
      ++v4;
  }
  CIOCriticalSection::Leave(v2);
  return v4;
}
// 467031: variable 'v2' is possibly undefined

//----- (00467080) --------------------------------------------------------
void __thiscall CPlayer::MLMPayMoney(_DWORD *a1, int a2)
{
  CIOCriticalSection *a3; // [esp+0h] [ebp-44h]
  CIOCriticalSection *a3a; // [esp+0h] [ebp-44h]
  CIOCriticalSection *a3d; // [esp+0h] [ebp-44h]
  CIOCriticalSection *a3b; // [esp+0h] [ebp-44h]
  int a3c; // [esp+0h] [ebp-44h]
  int v7; // [esp+4h] [ebp-40h]
  CItem *v9; // [esp+Ch] [ebp-38h]
  CIOObject *v10; // [esp+10h] [ebp-34h]
  int v11; // [esp+14h] [ebp-30h]
  int v12; // [esp+18h] [ebp-2Ch]
  int *v13; // [esp+1Ch] [ebp-28h]
  CItem *item; // [esp+24h] [ebp-20h]
  CIOObject *v15; // [esp+2Ch] [ebp-18h]
  int j; // [esp+30h] [ebp-14h]
  _DWORD *i; // [esp+34h] [ebp-10h]
  int v18; // [esp+38h] [ebp-Ch]
  int v19[2]; // [esp+3Ch] [ebp-8h]

  if ( !a2 )
  {
    CIOCriticalSection::Enter(a3);
    if ( (int)a1[335] >= 100 )
    {
      v18 = a1[335];
      a1[335] = 0;
      CIOCriticalSection::Leave(a3a);
      v19[0] = 0;
      v19[1] = 0;
      CIOCriticalSection::Enter(a3d);
      if ( a1[326] )
      {
        for ( i = (_DWORD *)a1[326]; i && (*i == 1 || *i == 2); i = (_DWORD *)i[11] )
          *(&v18 + *i) = i[1];
      }
      CIOCriticalSection::Leave(a3b);
      for ( j = 0; j < 2; ++j )
      {
        if ( v19[j] )
        {
          v15 = sub_450790(v19[j]);
          if ( v15 )
          {
            if ( !v15[84].m_nRef )
            {
              if ( (a1[15] - 1) / 10 <= 3 )
                v7 = (a1[15] - 1) / 10;
              else
                v7 = 3;
              if ( dword_4D66BC[3 * v7 + j] * v18 / 100 >= dword_4D66C4[3 * v7] )
                a3c = dword_4D66C4[3 * v7];
              else
                a3c = dword_4D66BC[3 * v7 + j] * v18 / 100;
              item = (CItem *)CItem::CreateItem(31, 0, a3c, -1);
              item->m_nFrom = 2;
              if ( sub_45DDC0((CIOCriticalSection *)v15, 41, (int)item) != 1 )
                CBase::Delete(item);
            }
            CIOObject::Release(v15, (volatile int *)&v15[22]);
          }
        }
      }
      return;
    }
LABEL_25:
    CIOCriticalSection::Leave(a3a);
    return;
  }
  if ( a2 == 1 )
  {
    CIOCriticalSection::Enter(a3);
    v13 = CPlayer::_MLMFind(a1, 2, 0);
    if ( !v13 )
      goto LABEL_25;
    v11 = v13[1];
    v12 = v13[10];
    CIOCriticalSection::Leave(a3a);
    v9 = (CItem *)CItem::CreateItem(31, 0, a1[15] != 16 ? 50000 : 20000, -1);
    if ( v9 )
    {
      v9->ForcedStorageIn(v9, 40, a1[112], 0, 0);
      v9->ForcedStorageIn(v9, 40, v12, 0, 0);
      CBase::Delete(v9);
    }
    CPlayer::Write((int)a1, 68, "bbb", 43, 19, a1[15]);
    v10 = sub_450790(v11);
    if ( v10 )
    {
      CPlayer::Write((int)v10, 68, "bbbs", 43, 20, a1[15], a1 + 8);
      CIOObject::Release(v10, (volatile int *)&v10[22]);
    }
  }
  else if ( a1[15] == 16 || a1[15] == 30 )
  {
    CAuthSocket::Write(11, "bddbd", 5, a1[7], a1[112], 2, 0);
  }
}
// 46709C: variable 'a3' is possibly undefined
// 4670D3: variable 'a3a' is possibly undefined
// 4670EF: variable 'a3d' is possibly undefined
// 467149: variable 'a3b' is possibly undefined
// 4D66BC: using guessed type int dword_4D66BC[];

//----- (00467400) --------------------------------------------------------
void __thiscall CPlayer::MLMAccumFee(_DWORD *this, int a2)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-10h]
  CIOCriticalSection *v3; // [esp+0h] [ebp-10h]
  int *v5; // [esp+8h] [ebp-8h]
  int *v6; // [esp+Ch] [ebp-4h]

  CIOCriticalSection::Enter(v2);
  v6 = CPlayer::_MLMFind(this, 0, 0);
  if ( v6 )
  {
    v6[1] += a2;
    if ( v6[1] > 20000000 )
      this[337] = 1;
  }
  else
  {
    v5 = (int *)sub_401000(0x30u);
    if ( v5 )
    {
      v3 = (CIOCriticalSection *)sub_466AB0(v5, 0, a2, &Source, 0, 0, 0, 0);
      CPlayer::_MLMInsert((_DWORD **)this, v3);
    }
    else
    {
      v3 = 0;
      CPlayer::_MLMInsert((_DWORD **)this, 0);
    }
  }
  CIOCriticalSection::Leave(v3);
  CDBSocket::Write(66, "dbd", this[113], 3, a2);
}
// 467412: variable 'v2' is possibly undefined
// 4674A5: variable 'v3' is possibly undefined

//----- (004674D0) --------------------------------------------------------
void __thiscall CPlayer::MLMLevelUp(CIOCriticalSection *a1)
{
  CIOCriticalSection *v1; // eax
  int v2; // [esp-Ch] [ebp-1Ch]
  int v3; // [esp-4h] [ebp-14h]
  CIOCriticalSection *v4; // [esp+0h] [ebp-10h]
  int v5; // [esp+0h] [ebp-10h]
  CMemory *a2; // [esp+4h] [ebp-Ch]
  CMemory **v7; // [esp+8h] [ebp-8h]
  _DWORD *i; // [esp+Ch] [ebp-4h]

  CIOCriticalSection::Enter(a1);
  v7 = 0;
  for ( i = (_DWORD *)v4[40].m_dwEIP[0]; i; i = (_DWORD *)i[11] )
  {
    if ( *i == 2 || *i == 3 || *i == 4 )
    {
      a2 = (CMemory *)sub_450790(i[1]);
      if ( a2 )
      {
        v7 = CBaseList::Push((CMemory *)v7, a2);
        CIOObject::Release((CIOObject *)a2, &a2[6].__sbh_sizeHeaderList);
      }
    }
  }
  CIOCriticalSection::Leave(v4);
  while ( v7 )
  {
    v3 = *(_DWORD *)(v5 + 60);
    v2 = *(_DWORD *)(v5 + 452);
    v1 = (CIOCriticalSection *)unknown_libname_7(v7);
    CPlayer::MLMUpdate(v1, v2, 1, v3);
    v7 = (CMemory **)CBaseList::Pop((CIOObject *)v7);
  }
}
// 4674F1: variable 'v4' is possibly undefined
// 467582: variable 'v5' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (004675B0) --------------------------------------------------------
void __thiscall CPlayer::FRDProcess(int a1, int a2, void *a3, int a4)
{
  int v4; // eax
  _DWORD *v5; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // eax
  _DWORD *v8; // eax
  char *v9; // eax
  _DWORD *v10; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  CIOCriticalSection *v15; // [esp+0h] [ebp-56Ch]
  int v16; // [esp+0h] [ebp-56Ch]
  CIOCriticalSection *v17; // [esp+0h] [ebp-56Ch]
  CIOCriticalSection *v18; // [esp+0h] [ebp-56Ch]
  int v19; // [esp+0h] [ebp-56Ch]
  CIOCriticalSection *v20; // [esp+0h] [ebp-56Ch]
  CIOCriticalSection *v21; // [esp+0h] [ebp-56Ch]
  int v22; // [esp+0h] [ebp-56Ch]
  CIOCriticalSection *v23; // [esp+0h] [ebp-56Ch]
  char v25[4]; // [esp+Ch] [ebp-560h] BYREF
  int v26[8]; // [esp+10h] [ebp-55Ch] BYREF
  char v27[8]; // [esp+30h] [ebp-53Ch] BYREF
  int v28[8]; // [esp+38h] [ebp-534h] BYREF
  char v29[4]; // [esp+58h] [ebp-514h] BYREF
  char v30[4]; // [esp+5Ch] [ebp-510h] BYREF
  char v31[8]; // [esp+60h] [ebp-50Ch] BYREF
  int v32[8]; // [esp+68h] [ebp-504h] BYREF
  char v33[4]; // [esp+88h] [ebp-4E4h] BYREF
  CIOObject *v34; // [esp+8Ch] [ebp-4E0h]
  char *v35; // [esp+90h] [ebp-4DCh]
  _BYTE *v36; // [esp+94h] [ebp-4D8h]
  int v37; // [esp+98h] [ebp-4D4h]
  void *a2a; // [esp+9Ch] [ebp-4D0h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v39; // [esp+A0h] [ebp-4CCh] BYREF
  char v40[8]; // [esp+A4h] [ebp-4C8h] BYREF
  char v41[4]; // [esp+ACh] [ebp-4C0h] BYREF
  char v42[24]; // [esp+B0h] [ebp-4BCh] BYREF
  int j; // [esp+C8h] [ebp-4A4h]
  char str[20]; // [esp+CCh] [ebp-4A0h] BYREF
  CIOBuffer *v45; // [esp+E0h] [ebp-48Ch]
  unsigned __int8 v46; // [esp+E7h] [ebp-485h] BYREF
  char *v47; // [esp+E8h] [ebp-484h]
  CIOBuffer *v48; // [esp+ECh] [ebp-480h]
  CIOObject *v49; // [esp+F0h] [ebp-47Ch]
  int v50; // [esp+F4h] [ebp-478h] BYREF
  char v51[20]; // [esp+F8h] [ebp-474h] BYREF
  int v52; // [esp+10Ch] [ebp-460h]
  char *v53; // [esp+110h] [ebp-45Ch] BYREF
  int v54; // [esp+114h] [ebp-458h] BYREF
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator v55; // [esp+118h] [ebp-454h] BYREF
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator v56; // [esp+11Ch] [ebp-450h] BYREF
  int i; // [esp+120h] [ebp-44Ch]
  CIOBuffer *v58; // [esp+124h] [ebp-448h]
  unsigned __int8 v59; // [esp+12Bh] [ebp-441h]
  int _Keyval; // [esp+12Ch] [ebp-440h] BYREF
  unsigned __int8 v61; // [esp+133h] [ebp-439h] BYREF
  char v62; // [esp+134h] [ebp-438h] BYREF
  DWORD a3a[255]; // [esp+135h] [ebp-437h] BYREF
  __int16 v64; // [esp+531h] [ebp-3Bh]
  char v65; // [esp+533h] [ebp-39h]
  char *v66; // [esp+534h] [ebp-38h]
  CIOBuffer *v67; // [esp+538h] [ebp-34h]
  char *v68; // [esp+53Ch] [ebp-30h]
  int v69; // [esp+540h] [ebp-2Ch] BYREF
  char v70[20]; // [esp+544h] [ebp-28h] BYREF
  int v71; // [esp+558h] [ebp-14h]
  int v72; // [esp+55Ch] [ebp-10h]
  std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::iterator result; // [esp+560h] [ebp-Ch] BYREF
  CIOObject *v74; // [esp+564h] [ebp-8h]
  char *name; // [esp+568h] [ebp-4h] BYREF
  char *Src; // [esp+578h] [ebp+Ch]
  char *Srca; // [esp+578h] [ebp+Ch]

  v72 = dword_4D9830;
  switch ( a2 )
  {
    case 0:
      ScanPacket((char *)a3, (char *)a4, "s", &name, 17);
      if ( IsValidAdminName(name) && strcmp((const char *)(a1 + 32), name) )
      {
        v74 = sub_450890(name);
        if ( v74 )
        {
          CIOCriticalSection::Enter(v15);
          if ( (unsigned int)unknown_libname_10(a1 + 1352, v16) < 0x1E )
          {
            std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
              (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1352),
              &result,
              &v74[28].m_nRef);
            v4 = sub_430C20((_DWORD *)(a1 + 1352), (int)v33);
            if ( (unsigned __int8)unknown_libname_8(v4) )
            {
              sub_468240(&v69, v74[28].m_nRef, &v74[2], 1);
              v5 = sub_4728F0(v32, &v69, &v69);
              sub_470890(
                a1 + 1352,
                (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v31,
                (int)v5);
              CDBSocket::Write(29, "dbds", *(_DWORD *)(a1 + 452), 0, v69, v70);
              CPlayer::Write(a1, 18, "bdsb", 0, v69, v70, v71);
            }
            else
            {
              CPlayer::Write(a1, 68, "bbs", 83, 1, name);
            }
            CIOCriticalSection::Leave(v17);
            CIOObject::Release(v74, (volatile int *)&v74[22]);
          }
          else
          {
            CIOCriticalSection::Leave(v17);
            CPlayer::Write(a1, 68, "bbs", 83, 0, name);
            CIOObject::Release(v74, (volatile int *)&v74[22]);
          }
        }
        else
        {
          CDBSocket::Write(29, "dbs", *(_DWORD *)(a1 + 452), 2, name);
        }
      }
      break;
    case 1:
      Src = ScanPacket((char *)a3, (char *)a4, "b", &v61);
      if ( v61 && v61 <= 0x1Eu )
      {
        v67 = CIOBuffer::Alloc();
        v58 = v67;
        v67->m_buffer[2] = 18;
        v66 = &v58->m_buffer[5];
        v62 = 0;
        memset(a3a, 0, sizeof(a3a));
        v64 = 0;
        v65 = 0;
        v68 = &v62;
        v59 = 0;
        CIOCriticalSection::Enter(v15);
        for ( i = 0; i < v61; ++i )
        {
          Src = ScanPacket(Src, (char *)a4, "d", &_Keyval);
          std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
            (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1352),
            &v56,
            &_Keyval);
          v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(a1 + 1352), (int)v30);
          if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                 (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v56,
                 v6) )
          {
            ++v59;
            v66 = (char *)PutNumeric<int>(v66, _Keyval);
            v68 = (char *)PutNumeric<int>(v68, _Keyval);
            sub_471920((int *)(a1 + 1352), (int)&_Keyval);
          }
        }
        CIOCriticalSection::Leave(v18);
        if ( v59 )
        {
          CDBSocket::Write(29, "dbbm", *(_DWORD *)(a1 + 452), 1, v59, &v62, v68 - &v62);
          WritePacket(&v58->m_buffer[3], "bb", 1, v59);
          *(_WORD *)v58->m_buffer = (_WORD)v66 - (_WORD)v58;
          v67->m_dwSize = *(unsigned __int16 *)v58->m_buffer;
          CSocket::_CSocket(*(_DWORD *)(a1 + 1676), v67);
        }
        else
        {
          CIOBuffer::Release(v67);
        }
      }
      break;
    case 2:
      ReadPacket((char *)a3, "ds", &v54, &v53);
      if ( v54 )
      {
        CIOCriticalSection::Enter(v15);
        if ( (unsigned int)unknown_libname_10(a1 + 1352, v19) < 0x1E )
        {
          std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::find(
            (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)(a1 + 1352),
            &v55,
            &v54);
          v7 = sub_430C20((_DWORD *)(a1 + 1352), (int)v29);
          if ( (unsigned __int8)unknown_libname_8(v7) )
          {
            sub_468240(&v50, v54, v53, 0);
            v8 = sub_4728F0(v28, &v50, &v50);
            sub_470890(
              a1 + 1352,
              (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v27,
              (int)v8);
            CDBSocket::Write(29, "dbds", *(_DWORD *)(a1 + 452), 0, v50, v51);
            v49 = sub_450890(v53);
            if ( v49 )
            {
              CIOObject::Release(v49, (volatile int *)&v49[22]);
              v52 = 1;
            }
            CPlayer::Write(a1, 18, "bdsb", 0, v50, v51, v52);
          }
          else
          {
            CPlayer::Write(a1, 68, "bbs", 83, 1, v53);
          }
          CIOCriticalSection::Leave(v20);
        }
        else
        {
          CIOCriticalSection::Leave(v20);
          CPlayer::Write(a1, 68, "bbs", 83, 0, v53);
        }
      }
      else
      {
        CPlayer::Write(a1, 68, "bbs", 83, 2, v53);
      }
      break;
    case 3:
      Srca = (char *)ReadPacket((char *)a3, "b", &v46);
      if ( v46 )
      {
        if ( v46 > 30u )
        {
          Srca = GetString(Srca, str);
          LOG_ERR(
            "byCount > MAX_FRD at FRD_M_LOAD  PID(%d) Char(%s) UID(%d) Count(%d) Name(%s)",
            *(_DWORD *)(a1 + 452),
            (const char *)(a1 + 32),
            *(_DWORD *)(a1 + 448),
            v46,
            str);
        }
        v48 = CIOBuffer::Alloc();
        v45 = v48;
        v48->m_buffer[2] = 18;
        v47 = &v45->m_buffer[5];
        CIOCriticalSection::Enter(v15);
        for ( j = 0; j < v46; ++j )
        {
          sub_468200(v41);
          v9 = (char *)GetNumeric<int>(Srca, v41);
          Srca = GetString(v9, v42);
          v42[16] = 0;
          v47 = (char *)PutNumeric<int>(v47, *(int *)v41);
          v47 = PutString(v47, v42);
          if ( (unsigned int)unknown_libname_10(a1 + 1352, v21) >= 30 )
          {
            CIOBuffer::Free(v48);
            CIOCriticalSection::Leave(v21);
            LOG_ERR(
              "m_mapFrd.size() < MAX_FRD at FRD_M_LOAD  (%d, %s)  PID(%d) UID(%d)  ",
              *(_DWORD *)v41,
              v42,
              *(_DWORD *)(a1 + 452),
              *(_DWORD *)(a1 + 448));
            CPlayer::Write(a1, 45, "b", 1);
            CSocket::OnKick(*(CIOCriticalSection **)(a1 + 1676), 1);
            return;
          }
          v10 = sub_4728F0(v26, v41, v41);
          sub_470890(
            a1 + 1352,
            (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v40,
            (int)v10);
          if ( !v40[4] )
          {
            CIOBuffer::Free(v48);
            CIOCriticalSection::Leave(v21);
            LOG_ERR(
              "!r.second at FRD_M_LOAD  (%d, %s)  PID(%d) UID(%d)  ",
              *(_DWORD *)v41,
              v42,
              *(_DWORD *)(a1 + 452),
              *(_DWORD *)(a1 + 448));
            CPlayer::Write(a1, 45, "b", 1);
            CSocket::OnKick(*(CIOCriticalSection **)(a1 + 1676), 1);
            return;
          }
        }
        CIOCriticalSection::Leave(v21);
        WritePacket(&v45->m_buffer[3], "bb", 2, v46);
        *(_WORD *)v45->m_buffer = (_WORD)v47 - (_WORD)v45;
        v48->m_dwSize = *(unsigned __int16 *)v45->m_buffer;
        CSocket::_CSocket(*(_DWORD *)(a1 + 1676), v48);
      }
      else
      {
        LOG_ERR(
          "byCount <= 0 at FRD_M_LOAD  PID(%d) UID(%d) Count(%d) ",
          *(_DWORD *)(a1 + 452),
          *(_DWORD *)(a1 + 448),
          0);
      }
      break;
    case 4:
      CIOCriticalSection::Enter(v15);
      if ( unknown_libname_10(a1 + 1352, v22) )
      {
        a2a = CIOBuffer::Alloc();
        v35 = (char *)a2a;
        *((_BYTE *)a2a + 2) = 18;
        v36 = v35 + 5;
        v37 = 0;
        std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(a1 + 1352),
          (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v39);
        while ( 1 )
        {
          v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(a1 + 1352), (int)v25);
          if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                  &v39,
                  v11) )
            break;
          v12 = sub_420250(&v39);
          v34 = sub_450790(*(_DWORD *)(v12 + 4));
          *(_DWORD *)(sub_420250(&v39) + 28) = 0;
          if ( v34 )
          {
            *(_DWORD *)(sub_420250(&v39) + 28) = 1;
            CIOObject::Release(v34, (volatile int *)&v34[22]);
          }
          v13 = sub_420250(&v39);
          v36 = PutNumeric<int>(v36, *(_DWORD *)(v13 + 4));
          v14 = sub_420250(&v39);
          v36 = PutNumeric<unsigned char>(v36, *(_BYTE *)(v14 + 28));
          sub_475880(&v39);
          ++v37;
        }
        CIOCriticalSection::Leave(v23);
        WritePacket(v35 + 3, "bb", 3, v37);
        *(_WORD *)v35 = (_WORD)v36 - (_WORD)v35;
        *((_DWORD *)a2a + 2000) = *(unsigned __int16 *)v35;
        CSocket::_CSocket(*(_DWORD *)(a1 + 1676), a2a);
      }
      else
      {
        CIOCriticalSection::Leave(v23);
      }
      break;
    default:
      return;
  }
}
// 467657: variable 'v15' is possibly undefined
// 467668: variable 'v16' is possibly undefined
// 46767E: variable 'v17' is possibly undefined
// 467995: variable 'v18' is possibly undefined
// 467AB9: variable 'v19' is possibly undefined
// 467ACF: variable 'v20' is possibly undefined
// 467E0B: variable 'v21' is possibly undefined
// 467FFC: variable 'v22' is possibly undefined
// 468011: variable 'v23' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4D9830: using guessed type int dword_4D9830;

//----- (00468200) --------------------------------------------------------
_DWORD *__thiscall sub_468200(_DWORD *this)
{
  *this = 0;
  memset(this + 1, 0, 0x11u);
  this[6] = 0;
  return this;
}

//----- (00468240) --------------------------------------------------------
int *__thiscall sub_468240(int *this, int a2, void *a3, int a4)
{
  *this = a2;
  memcpy(this + 1, a3, 0x11u);
  this[6] = a4;
  return this;
}

//----- (00468280) --------------------------------------------------------
int __thiscall CPlayer::MailSend(int this, int a2, int a3, char *Str2, int a5, int a6, int a7, int a8, int a9, int a10, int a11)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v12; // eax
  int v13; // eax
  CIOCriticalSection *v14; // [esp+0h] [ebp-28h]
  CIOCriticalSection *v15; // [esp+0h] [ebp-28h]
  CIOCriticalSection *v16; // [esp+0h] [ebp-28h]
  CIOCriticalSection *v17; // [esp+0h] [ebp-28h]
  int v18; // [esp+4h] [ebp-24h]
  char v20[4]; // [esp+10h] [ebp-18h] BYREF
  char v21[4]; // [esp+14h] [ebp-14h] BYREF
  _DWORD *v22; // [esp+18h] [ebp-10h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v23; // [esp+1Ch] [ebp-Ch] BYREF
  int v24; // [esp+20h] [ebp-8h] BYREF
  int v25; // [esp+24h] [ebp-4h]

  if ( !IsValidAdminName(Str2) || !strcmp((const char *)(this + 32), Str2) )
    return 0;
  if ( a6 )
  {
    if ( a3 == 1 && a8 == 31 )
      a6 += a10;
    CIOCriticalSection::Enter(v14);
    if ( !*(_DWORD *)(this + 1096) || *(_DWORD *)(*(_DWORD *)(this + 1096) + 52) < a6 )
    {
      CIOCriticalSection::Leave(v15);
      CPlayer::Write(this, 68, "bbd", 85, 6, 0);
      return 0;
    }
    CIOCriticalSection::Leave(v15);
  }
  v25 = 0;
  if ( a3 == 1 )
  {
    if ( a10 <= 0 )
      return 0;
    CIOCriticalSection::Enter(v14);
    if ( *(_DWORD *)(this + 1124) )
    {
      CIOCriticalSection::Leave(v16);
      CPlayer::Write(this, 68, "bbd", 85, 3, 0);
      return 0;
    }
    sub_4714F0((_DWORD *)(this + 1140), &v23, &a7);
    v12 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1140), (int)v21);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           &v23,
           v12) )
    {
      CIOCriticalSection::Leave(v16);
      CPlayer::Write(this, 68, "bbd", 85, 9, 0);
      return 0;
    }
    sub_44AE20((_DWORD *)(this + 1068), &v24, &a7);
    v13 = sub_430C20((_DWORD *)(this + 1068), (int)v20);
    if ( (unsigned __int8)unknown_libname_8(v13)
      || ((v22 = *(_DWORD **)(sub_420250(&v24) + 4), a8 != 31) ? (v18 = a10) : (v18 = a6),
          !(*(int (__thiscall **)(_DWORD *, int, int, _DWORD))(*v22 + 140))(v22, v18, this, 0)) )
    {
      CIOCriticalSection::Leave(v16);
      return 0;
    }
    *(_DWORD *)(this + 1124) = 1;
    if ( v22[13] <= a10 )
      v17 = 0;
    else
      v17 = *(CIOCriticalSection **)(v22[10] + 64);
    a8 = (int)v17;
    v25 = v22[21];
    if ( v22[11] )
      a9 = *(_DWORD *)(v22[11] + 32);
    CIOCriticalSection::Leave(v17);
  }
  CDBSocket::Write(
    30,
    "dbdbbssdbwbdds",
    *(_DWORD *)(this + 452),
    0,
    *(_DWORD *)(this + 452),
    a2,
    a3,
    this + 32,
    Str2,
    a7,
    v25,
    a8,
    a9,
    a10,
    a11,
    a5);
  return 1;
}
// 4682D8: variable 'v14' is possibly undefined
// 468303: variable 'v15' is possibly undefined
// 46837E: variable 'v16' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00468570) --------------------------------------------------------
void __thiscall CPlayer::MailSendResult(CIOCriticalSection *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v12; // eax
  int v13; // eax
  int v14; // [esp-28h] [ebp-40h]
  int v15; // [esp-14h] [ebp-2Ch]
  CIOCriticalSection *a1a; // [esp+0h] [ebp-18h]
  int a1b; // [esp+0h] [ebp-18h]
  char v18[4]; // [esp+4h] [ebp-14h] BYREF
  CIOObject *v19; // [esp+8h] [ebp-10h]
  CPlayer *v20; // [esp+Ch] [ebp-Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v21; // [esp+10h] [ebp-8h] BYREF
  CPlayer *player; // [esp+14h] [ebp-4h]

  CIOCriticalSection::Enter(a1);
  if ( a3 == 1 )
    a1a[35].m_critical_section.LockCount = 0;
  CIOCriticalSection::Leave(a1a);
  if ( !a4 )
  {
    if ( !a3 )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)a1b);
      player = *(CPlayer **)(a1b + 1096);
      if ( player && ((int (__thiscall *)(CPlayer *, int, int, _DWORD))player->GetFinalAbsorb)(player, 5, a1b, 0) )
      {
        v15 = 49;
        if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
          CPlayer::_OutofInven(player, (CItem *)a1b);
      }
      else
      {
        a4 = 3;
        LOG_NORMAL("CPlayer::MailSendResult()  not enough money (PID:%d), (SRType:%d)", *(_DWORD *)(a1b + 452), 3);
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)v15);
      goto LABEL_28;
    }
    if ( a3 != 1 )
    {
LABEL_28:
      CDBSocket::Write(30, "dbddbbddwdd", a2, 1, *(_DWORD *)(a1b + 452), a2, a4, a3, a5, a7, a9, a11, a12);
      goto LABEL_29;
    }
    CIOCriticalSection::Enter((CIOCriticalSection *)a1b);
    sub_44AE20((_DWORD *)(a1b + 1068), &v21, &a7);
    v12 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(a1b + 1068), (int)v18);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           &v21,
           v12) )
    {
      player = *(CPlayer **)(a1b + 1096);
      v20 = *(CPlayer **)(sub_420250(&v21) + 4);
      if ( !player
        || (v13 = ((int (__thiscall *)(CPlayer *, int, _DWORD))v20->GetDropItemMask)(v20, a1b, 0),
            !player->GetFinalAbsorb(player, (CChar *)(v13 != 0 ? a11 + 100 : 100))) )
      {
        a4 = 3;
        LOG_NORMAL("CPlayer::MailSendResult()  not enough money (PID:%d), (SRType:%d)", *(_DWORD *)(a1b + 452), 3);
LABEL_27:
        CIOCriticalSection::Leave((CIOCriticalSection *)v14);
        goto LABEL_28;
      }
      if ( v20->GetDropItemMask(v20)
        || ((int (__thiscall *)(CPlayer *, int, int, _DWORD))v20->GetFinalAbsorb)(v20, a11, a1b, 0) )
      {
        if ( ((int (__thiscall *)(CPlayer *))v20->SubMStateEx)(v20) )
          a9 = *(_DWORD *)(*(_DWORD *)&v20->m_szName[8] + 64);
        else
          CPlayer::_OutofInven(v20, (CItem *)a1b);
        v14 = 49;
        if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
          CPlayer::_OutofInven(player, (CItem *)a1b);
        goto LABEL_27;
      }
    }
    LOG_NORMAL("CPlayer::MailSendResult()  not exist item(PID:%d), (index:%d) ", *(_DWORD *)(a1b + 452), a9);
    a4 = 4;
    goto LABEL_27;
  }
LABEL_29:
  CPlayer::Write(a1b, 19, "bbs", 0, a4, a6);
  if ( !a4 )
  {
    v19 = sub_450790(a5);
    if ( v19 )
    {
      CPlayer::Write((int)v19, 68, "bbs", 85, 0, a1b + 32);
      CIOObject::Release(v19, (volatile int *)&v19[22]);
    }
  }
}
// 468590: variable 'a1a' is possibly undefined
// 4685C5: variable 'a1b' is possibly undefined
// 468646: variable 'v15' is possibly undefined
// 4687D8: variable 'v14' is possibly undefined

//----- (00468890) --------------------------------------------------------
void __thiscall CPlayer::MAILProcess(void *this, int a2, void *Src, int a4)
{
  _DWORD *v4; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v5; // eax
  _DWORD *v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v9; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v10; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v12; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v13; // eax
  int v14; // [esp-8h] [ebp-568h]
  CIOCriticalSection *v15; // [esp-8h] [ebp-568h]
  CIOCriticalSection *v16; // [esp-8h] [ebp-568h]
  CIOCriticalSection *v17; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v18; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v19; // [esp+0h] [ebp-560h]
  int v20; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v21; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v22; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v23; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v24; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v25; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v26; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v27; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v28; // [esp+0h] [ebp-560h]
  CIOCriticalSection *v29; // [esp+0h] [ebp-560h]
  char v31[4]; // [esp+10h] [ebp-550h] BYREF
  char v32[4]; // [esp+14h] [ebp-54Ch] BYREF
  char v33[4]; // [esp+18h] [ebp-548h] BYREF
  char v34[4]; // [esp+1Ch] [ebp-544h] BYREF
  char v35[4]; // [esp+20h] [ebp-540h] BYREF
  char v36[4]; // [esp+24h] [ebp-53Ch] BYREF
  char v37[4]; // [esp+28h] [ebp-538h] BYREF
  char v38[4]; // [esp+2Ch] [ebp-534h] BYREF
  char v39[8]; // [esp+30h] [ebp-530h] BYREF
  int v40[25]; // [esp+38h] [ebp-528h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v41; // [esp+9Ch] [ebp-4C4h] BYREF
  int v42; // [esp+A0h] [ebp-4C0h]
  CItem *item; // [esp+A4h] [ebp-4BCh]
  DWORD v44[24]; // [esp+A8h] [ebp-4B8h] BYREF
  int v45; // [esp+108h] [ebp-458h]
  int v46; // [esp+10Ch] [ebp-454h] BYREF
  CPlayer *player; // [esp+110h] [ebp-450h]
  int v48; // [esp+114h] [ebp-44Ch]
  int v49; // [esp+118h] [ebp-448h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v50; // [esp+11Ch] [ebp-444h] BYREF
  int v51[24]; // [esp+120h] [ebp-440h] BYREF
  char v52[4]; // [esp+180h] [ebp-3E0h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v53; // [esp+184h] [ebp-3DCh] BYREF
  int v54[24]; // [esp+188h] [ebp-3D8h] BYREF
  char v55[4]; // [esp+1E8h] [ebp-378h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v56; // [esp+1ECh] [ebp-374h] BYREF
  int v57[25]; // [esp+1F0h] [ebp-370h] BYREF
  char v58[4]; // [esp+254h] [ebp-30Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v59; // [esp+258h] [ebp-308h] BYREF
  unsigned __int16 v60; // [esp+25Ch] [ebp-304h] BYREF
  int v61; // [esp+260h] [ebp-300h] BYREF
  unsigned __int8 v62; // [esp+267h] [ebp-2F9h] BYREF
  char v63; // [esp+268h] [ebp-2F8h] BYREF
  char v64[512]; // [esp+269h] [ebp-2F7h] BYREF
  int v65; // [esp+470h] [ebp-F0h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v66; // [esp+474h] [ebp-ECh] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v67; // [esp+478h] [ebp-E8h] BYREF
  char v68; // [esp+47Fh] [ebp-E1h] BYREF
  int v69[2]; // [esp+480h] [ebp-E0h] BYREF
  char v70[4]; // [esp+488h] [ebp-D8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v71; // [esp+48Ch] [ebp-D4h] BYREF
  int v72; // [esp+490h] [ebp-D0h] BYREF
  char v73[4]; // [esp+494h] [ebp-CCh] BYREF
  char v74[4]; // [esp+498h] [ebp-C8h] BYREF
  char v75[4]; // [esp+49Ch] [ebp-C4h] BYREF
  int v76; // [esp+4A0h] [ebp-C0h] BYREF
  char str[20]; // [esp+4A4h] [ebp-BCh] BYREF
  int v78; // [esp+4B8h] [ebp-A8h] BYREF
  char v79[20]; // [esp+4BCh] [ebp-A4h] BYREF
  int v80; // [esp+4D0h] [ebp-90h] BYREF
  int v81; // [esp+4D4h] [ebp-8Ch] BYREF
  int v82; // [esp+4D8h] [ebp-88h] BYREF
  char v83[4]; // [esp+4DCh] [ebp-84h] BYREF
  __int16 v84; // [esp+4E0h] [ebp-80h] BYREF
  char v85[4]; // [esp+4E4h] [ebp-7Ch] BYREF
  int v86; // [esp+4E8h] [ebp-78h] BYREF
  int v87[3]; // [esp+4ECh] [ebp-74h] BYREF
  int v88; // [esp+4F8h] [ebp-68h]
  CIOBuffer *v89; // [esp+4FCh] [ebp-64h]
  unsigned __int8 v90; // [esp+503h] [ebp-5Dh] BYREF
  char *v91; // [esp+504h] [ebp-5Ch]
  CIOBuffer *v92; // [esp+508h] [ebp-58h]
  unsigned __int16 v93; // [esp+50Ch] [ebp-54h] BYREF
  int a14; // [esp+510h] [ebp-50h] BYREF
  unsigned __int8 v95; // [esp+516h] [ebp-4Ah] BYREF
  unsigned __int8 v96; // [esp+517h] [ebp-49h] BYREF
  int v97; // [esp+518h] [ebp-48h] BYREF
  int a9; // [esp+51Ch] [ebp-44h] BYREF
  int a8; // [esp+520h] [ebp-40h] BYREF
  int a15; // [esp+524h] [ebp-3Ch] BYREF
  unsigned __int8 v101; // [esp+52Ah] [ebp-36h] BYREF
  unsigned __int8 v102; // [esp+52Bh] [ebp-35h] BYREF
  int v103; // [esp+52Ch] [ebp-34h] BYREF
  int i; // [esp+530h] [ebp-30h]
  int a6; // [esp+534h] [ebp-2Ch]
  unsigned __int8 v106; // [esp+53Bh] [ebp-25h] BYREF
  unsigned __int16 v107; // [esp+53Ch] [ebp-24h] BYREF
  int a10; // [esp+540h] [ebp-20h] BYREF
  unsigned __int8 v109; // [esp+547h] [ebp-19h] BYREF
  int a2a; // [esp+548h] [ebp-18h]
  int a11; // [esp+54Ch] [ebp-14h] BYREF
  char *Str2; // [esp+550h] [ebp-10h] BYREF
  unsigned __int8 v113; // [esp+557h] [ebp-9h] BYREF
  int v114; // [esp+558h] [ebp-8h] BYREF
  int a7; // [esp+55Ch] [ebp-4h] BYREF

  v87[2] = dword_4D9830;
  switch ( a2 )
  {
    case 0:
      a2a = 0;
      Src = ScanPacket((char *)Src, (char *)a4, "bs", &v113, &v114, 513);
      if ( v113 )
      {
        if ( v113 == 1 )
        {
          Src = ScanPacket((char *)Src, (char *)a4, "sdwbdd", &Str2, 17, &a7, &v107, &v109, &a10, &a11);
          if ( a10 >= 0 && a11 >= 0 )
          {
            CPlayer::MailSend((int)this, a2a, v113, Str2, v114, 100, a7, v107, v109, a10, a11);
          }
          else
          {
            LOG_ERR(
              "  (MAIL_T_PARCEL)\tUID:\t%d\tName:%s\tPID:\t%d\tIndex:\t%d\tNum:\t%d,\tPay:\t%d",
              *((_DWORD *)this + 112),
              (const char *)this + 32,
              *((_DWORD *)this + 113),
              v107,
              a10,
              a11);
            CPlayer::Write((int)this, 45, "b", 1);
            CSocket::OnKick(*((CIOCriticalSection **)this + 419), 1);
          }
        }
      }
      else
      {
        Src = ScanPacket((char *)Src, (char *)a4, "b", &v106);
        a6 = 5 * v106;
        for ( i = 0; i < v106; ++i )
        {
          Src = ScanPacket((char *)Src, (char *)a4, "s", &Str2, 17);
          if ( !CPlayer::MailSend((int)this, a2a, v113, Str2, v114, a6, 0, 0, 0, 0, 0) )
            break;
        }
      }
      return;
    case 1:
      Src = ReadPacket((char *)Src, "dbbdsdbwbdd", &v97, &v102, &v95, &a8, &a9, &v103, &v101, &v93, &v96, &a14, &a15);
      CPlayer::MailSendResult((CIOCriticalSection *)this, v97, v102, v95, a8, a9, v103, v101, v93, v96, a14, a15);
      return;
    case 2:
      CIOCriticalSection::Enter(v17);
      sub_471BE0((_DWORD *)this + 357);
      CIOCriticalSection::Leave(v18);
      CDBSocket::Write(30, "dbd", *((_DWORD *)this + 113), 2, *((_DWORD *)this + 113));
      return;
    case 3:
      Src = ReadPacket((char *)Src, "b", &v90);
      if ( !v90 )
        return;
      if ( v90 > 0x32u )
        LOG_ERR(
          "byCount > MAIL_MAX_LOAD at FRD_M_LOAD  PID(%d) Char(%s) UID(%d) Count(%d) ",
          *((_DWORD *)this + 113),
          (const char *)this + 32,
          *((_DWORD *)this + 112),
          v90);
      v92 = CIOBuffer::Alloc();
      v89 = v92;
      v92->m_buffer[2] = 19;
      v91 = &v89->m_buffer[5];
      CIOCriticalSection::Enter(v17);
      v88 = 0;
      break;
    case 5:
      Src = ReadPacket((char *)Src, "db", v69, &v68);
      if ( v68 == 1 )
      {
        CPlayer::Write((int)this, 68, "bbd", 85, 4, v69[0]);
      }
      else
      {
        CIOCriticalSection::Enter(v17);
        sub_471C40((_DWORD *)this + 357, &v67, v69);
        v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 357, (int)v37);
        if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               &v67,
               v7) )
        {
          sub_471B80((int *)this + 357, (int)v69);
        }
        CIOCriticalSection::Leave(v22);
        CPlayer::Write((int)this, 68, "bbd", 85, 5, v69[0]);
      }
      return;
    case 6:
      Src = ScanPacket((char *)Src, (char *)a4, "d", v70);
      CIOCriticalSection::Enter(v17);
      sub_471C40((_DWORD *)this + 357, &v71, v70);
      v5 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 357, (int)v38);
      if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
             &v71,
             v5) )
      {
        v6 = (_DWORD *)sub_420250(&v71);
        v69[1] = (int)(v6 + 1);
        CDBSocket::Write(30, "dbddbd", v6[1], 4, *((_DWORD *)this + 113), v6[1], v6[3], v6[19]);
      }
      CIOCriticalSection::Leave(v21);
      return;
    case 7:
      v63 = 0;
      memset(v64, 0, sizeof(v64));
      Src = ReadPacket((char *)Src, "dbdw", &v61, &v62, &v65, &v60);
      Src = ReadPacket((char *)Src, "m", &v63, v60);
      CIOCriticalSection::Enter(v17);
      sub_471C40((_DWORD *)this + 357, &v66, &v61);
      v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 357, (int)v36);
      if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
             &v66,
             v8) )
      {
        if ( v65 )
          CPlayer::Write((int)this, 19, "bdbdwmm", 2, v61, v62, v65, v60, &v63, v60, Src, 22);
        else
          CPlayer::Write((int)this, 19, "bdbdwm", 2, v61, v62, 0, v60, &v63, v60);
      }
      CIOCriticalSection::Leave(v23);
      return;
    case 8:
      Src = ScanPacket((char *)Src, (char *)a4, "d", v58);
      CIOCriticalSection::Enter(v17);
      sub_471C40((_DWORD *)this + 357, &v59, v58);
      v9 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 357, (int)v35);
      if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
             &v59,
             v9) )
      {
        qmemcpy(v57, (const void *)(sub_420250(&v59) + 4), 0x60u);
        if ( v57[2] == 1 )
        {
          CDBSocket::Write(30, "dbdd", v57[0], 3, *((_DWORD *)this + 113), v57[0]);
          sub_471B80((int *)this + 357, (int)v57);
          CPlayer::Write((int)this, 68, "bbd", 85, 1, v57[0]);
        }
      }
      CIOCriticalSection::Leave(v24);
      return;
    case 9:
      Src = ScanPacket((char *)Src, (char *)a4, "d", v55);
      CIOCriticalSection::Enter(v17);
      sub_471C40((_DWORD *)this + 357, &v56, v55);
      v10 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 357, (int)v34);
      if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
             &v56,
             v10) )
      {
        qmemcpy(v54, (const void *)(sub_420250(&v56) + 4), sizeof(v54));
        if ( !v54[2] || v54[2] == 4 )
        {
          sub_471B80((int *)this + 357, (int)v54);
          CDBSocket::Write(30, "dbdd", v54[0], 6, *((_DWORD *)this + 113), v54[0]);
          CPlayer::Write((int)this, 68, "bbd", 85, 2, v54[0]);
        }
      }
      CIOCriticalSection::Leave(v25);
      goto LABEL_48;
    case 10:
LABEL_48:
      Src = ScanPacket((char *)Src, (char *)a4, "d", v52);
      CIOCriticalSection::Enter(v17);
      sub_469C80(v51);
      sub_471C40((_DWORD *)this + 357, &v53, v52);
      v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 357, (int)v33);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v53,
              v11) )
        goto LABEL_62;
      qmemcpy(v51, (const void *)(sub_420250(&v53) + 4), sizeof(v51));
      CIOCriticalSection::Leave(v26);
      CIOCriticalSection::Enter(v27);
      if ( v51[2] != 1 && v51[2] != 2 && v51[2] != 3 )
        goto LABEL_62;
      if ( v51[2] == 1 && v51[23] && (!*((_DWORD *)this + 274) || *(_DWORD *)(*((_DWORD *)this + 274) + 52) < v51[23]) )
      {
        CIOCriticalSection::Leave(v26);
        CPlayer::Write((int)this, 68, "bbd", 85, 6, v51[0]);
      }
      else if ( CPlayer::GetInvenSize((char *)this) < 60 )
      {
        CDBSocket::Write(30, "dbddd", v51[0], 7, *((_DWORD *)this + 113), v51[0], v51[18]);
LABEL_62:
        CIOCriticalSection::Leave(v26);
      }
      else
      {
        CIOCriticalSection::Leave(v26);
        CPlayer::Write((int)this, 68, "bbd", 85, 8, v51[0]);
      }
      return;
    case 11:
      Src = ReadPacket((char *)Src, "dd", &v46, &v49);
      CIOCriticalSection::Enter(v17);
      sub_469C80(v44);
      sub_471C40((_DWORD *)this + 357, &v50, &v46);
      v12 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 357, (int)v32);
      if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
             &v50,
             v12) )
      {
        qmemcpy(v44, (const void *)(sub_420250(&v50) + 4), sizeof(v44));
        CIOCriticalSection::Leave(v28);
        v45 = 1;
        v48 = 0;
        CIOCriticalSection::Enter(v29);
        player = (CPlayer *)*((_DWORD *)this + 274);
        if ( (!player || *(_DWORD *)&player->m_szName[20] < (int)v44[23]) && v44[23] )
        {
          v14 = 6;
          CPlayer::Write((int)this, 68, "bbd", 85);
        }
        else
        {
          item = 0;
          if ( v49 )
            item = (CItem *)sub_426060(*((_DWORD *)this + 113), (_WORD **)&Src);
          else
            item = (CItem *)CItem::CreateItem(v44[20], v44[21], v44[22], v44[19]);
          if ( item )
          {
            v42 = CPlayer::_InsertItem((int)this, 51, (volatile int *)item);
            if ( v42 == 1 )
            {
              if ( v44[23] )
              {
                v14 = 51;
                if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
                {
                  v48 = *(_DWORD *)&player->m_szName[4];
                  CPlayer::_OutofInven(player, (CItem *)this);
                }
              }
              v45 = 0;
            }
            else
            {
              CBase::Delete(item);
              if ( v42 == 2 )
              {
                v14 = 8;
                CPlayer::Write((int)this, 68, "bbd", 85);
              }
            }
          }
        }
        CIOCriticalSection::Leave((CIOCriticalSection *)v14);
        if ( !v45 )
        {
          CPlayer::Write((int)this, 19, "bdbb", 3, v44[0], 0, v44[3]);
          if ( (int)v44[23] > 0 )
            CPlayer::MailSend((int)this, 0, 3, (char *)&v44[5], (int)&Source, 0, v48, v48 != 0 ? 0 : 31, 0, v44[23], 0);
          CIOCriticalSection::Enter(v15);
          sub_471C40((_DWORD *)this + 357, &v41, v44);
          v13 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 357, (int)v31);
          if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                 &v41,
                 v13) )
          {
            *(_DWORD *)(sub_420250(&v41) + 12) = 0;
            *(_DWORD *)(sub_420250(&v41) + 76) = 0;
            *(_DWORD *)(sub_420250(&v41) + 84) = 0;
            *(_DWORD *)(sub_420250(&v41) + 88) = 0;
            *(_DWORD *)(sub_420250(&v41) + 92) = 0;
            *(_DWORD *)(sub_420250(&v41) + 96) = 0;
          }
          CIOCriticalSection::Leave(v16);
        }
        CDBSocket::Write(
          30,
          "dbddbbddwbd",
          v46,
          8,
          *((_DWORD *)this + 113),
          v44[0],
          v45,
          v44[2],
          v44[4],
          v44[18],
          v44[20],
          v44[21],
          v44[22]);
      }
      else
      {
        CDBSocket::Write(30, "dbddb", v46, 8, *((_DWORD *)this + 113), v46, 1);
        CIOCriticalSection::Leave(v28);
      }
      return;
    default:
      return;
  }
  while ( v88 < v90 )
  {
    sub_469C80(&v72);
    Src = GetNumeric<int>(Src, &v72);
    Src = GetNumeric<unsigned char>(Src, v73);
    Src = GetNumeric<unsigned char>(Src, v74);
    Src = GetNumeric<unsigned char>(Src, v75);
    Src = GetNumeric<int>(Src, &v76);
    Src = GetString((char *)Src, str);
    Src = GetNumeric<int>(Src, &v78);
    Src = GetString((char *)Src, v79);
    Src = GetNumeric<int>(Src, &v80);
    Src = GetNumeric<int>(Src, &v81);
    Src = GetNumeric<int>(Src, &v82);
    Src = GetNumeric<unsigned char>(Src, v83);
    Src = GetNumeric<short>(Src, &v84);
    Src = GetNumeric<unsigned char>(Src, v85);
    Src = GetNumeric<int>(Src, &v86);
    Src = GetNumeric<int>(Src, v87);
    if ( v82 > dword_4E10B0 + 100 && v82 )
    {
      CIOCriticalSection::Leave(v19);
      CIOBuffer::Free(v92);
      LOG_ERR(
        "CPlayer::MAILProcess()  :MAIL_M_LOAD  PID(%d) Char(%s) UID(%d) Count(%d) MID (%d) ",
        *((_DWORD *)this + 113),
        (const char *)this + 32,
        *((_DWORD *)this + 112),
        v90,
        v72);
      LOG_NORMAL(
        "[Kickout] At MAIL_M_LOAD '%s' (PID:%d) %p %x %x %x",
        (const char *)this + 32,
        *((_DWORD *)this + 113),
        *(const void **)(*((_DWORD *)this + 419) + 120),
        *((_DWORD *)this + 5),
        *(_DWORD *)(*((_DWORD *)this + 419) + 108),
        v20);
      CPlayer::Write((int)this, 45, "b", 1);
      CSocket::OnKick(*((CIOCriticalSection **)this + 419), 1);
      return;
    }
    v91 = (char *)PutNumeric<int>(v91, v72);
    v91 = PutNumeric<unsigned char>(v91, v73[0]);
    v91 = PutNumeric<unsigned char>(v91, v74[0]);
    v91 = PutNumeric<unsigned char>(v91, v75[0]);
    v91 = (char *)PutNumeric<int>(v91, v76);
    v91 = PutString(v91, str);
    v91 = (char *)PutNumeric<int>(v91, v78);
    v91 = PutString(v91, v79);
    v91 = (char *)PutNumeric<int>(v91, v80);
    v91 = (char *)PutNumeric<int>(v91, v81);
    v91 = (char *)PutNumeric<int>(v91, v82);
    v91 = (char *)PutNumeric<short>(v91, v84);
    v91 = PutNumeric<unsigned char>(v91, v85[0]);
    v91 = (char *)PutNumeric<int>(v91, v86);
    v91 = (char *)PutNumeric<int>(v91, v87[0]);
    v4 = sub_472920(v40, &v72, &v72);
    sub_4719D0(
      (int)this + 1428,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v39,
      (int)v4);
    ++v88;
  }
  CIOCriticalSection::Leave(v19);
  WritePacket(&v89->m_buffer[3], "bb", 1, v90);
  *(_WORD *)v89->m_buffer = (_WORD)v91 - (_WORD)v89;
  v92->m_dwSize = *(unsigned __int16 *)v89->m_buffer;
  CSocket::_CSocket(*((_DWORD *)this + 419), v92);
}
// 468B19: variable 'v17' is possibly undefined
// 468B3B: variable 'v18' is possibly undefined
// 468DA8: variable 'v19' is possibly undefined
// 468E38: variable 'v20' is possibly undefined
// 46911F: variable 'v21' is possibly undefined
// 4691FC: variable 'v22' is possibly undefined
// 469396: variable 'v23' is possibly undefined
// 4694B5: variable 'v24' is possibly undefined
// 4695DD: variable 'v25' is possibly undefined
// 4696A8: variable 'v26' is possibly undefined
// 4696B9: variable 'v27' is possibly undefined
// 4698D3: variable 'v28' is possibly undefined
// 4698F8: variable 'v29' is possibly undefined
// 469A85: variable 'v14' is possibly undefined
// 469B14: variable 'v15' is possibly undefined
// 469BDB: variable 'v16' is possibly undefined
// 4D9830: using guessed type int dword_4D9830;

//----- (00469C80) --------------------------------------------------------
_DWORD *__thiscall sub_469C80(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  this[2] = 0;
  this[3] = 0;
  this[4] = 0;
  memset(this + 5, 0, 0x11u);
  this[10] = 0;
  memset(this + 11, 0, 0x11u);
  this[16] = 0;
  this[17] = 0;
  this[18] = 0;
  this[19] = 0;
  this[20] = 0;
  this[21] = 0;
  this[22] = 0;
  this[23] = 0;
  return this;
}

//----- (00469D40) --------------------------------------------------------
int __thiscall CPlayer::IsCooking(CIOCriticalSection *this, int a2)
{
  CIOCriticalSection *v3; // [esp+0h] [ebp-28h]
  int v4; // [esp+4h] [ebp-24h]
  int v5; // [esp+8h] [ebp-20h]
  int v6; // [esp+10h] [ebp-18h]
  int v7; // [esp+10h] [ebp-18h]
  int v8; // [esp+10h] [ebp-18h]
  int v9; // [esp+10h] [ebp-18h]
  int v10; // [esp+14h] [ebp-14h]
  int v11; // [esp+18h] [ebp-10h]
  int v12; // [esp+1Ch] [ebp-Ch]
  int v13; // [esp+20h] [ebp-8h]
  int v14; // [esp+24h] [ebp-4h]
  int v15; // [esp+24h] [ebp-4h]
  int v16; // [esp+24h] [ebp-4h]

  if ( !a2 )
  {
    v12 = *((_DWORD *)this + 320) + *((_DWORD *)this + 319) + *((_DWORD *)this + 318);
    v11 = *((_DWORD *)this + 322) + *((_DWORD *)this + 321);
    v13 = *((_DWORD *)this + 324) + *((_DWORD *)this + 323);
    if ( !(v13 + v11 + v12) )
      return 0;
    CIOCriticalSection::Enter(this);
    v14 = CPlayer::_FindItem((int)v3, 239, v12);
    if ( !v12 || v14 )
    {
      v15 = CPlayer::_FindItem((int)v3, 240, v11);
      if ( !v11 || v15 )
      {
        v16 = CPlayer::_FindItem((int)v3, 241, v13);
        if ( (!v13 || v16)
          && *((_DWORD *)v3 + 274)
          && *(_DWORD *)(*((_DWORD *)v3 + 274) + 52) >= 1000 * v13
                                                      + 200 * *((_DWORD *)v3 + 322)
                                                      + 100 * *((_DWORD *)v3 + 321)
                                                      + 10 * v12 )
        {
          goto LABEL_12;
        }
      }
    }
LABEL_27:
    CIOCriticalSection::Leave(v3);
    return 0;
  }
  if ( a2 == 1 )
  {
    v4 = 4 * *((_DWORD *)this + 320) + 4 * *((_DWORD *)this + 318);
    v5 = *((_DWORD *)this + 320) + *((_DWORD *)this + 318);
    v10 = *((_DWORD *)this + 319);
    if ( !(*((_DWORD *)this + 320) + v10 + *((_DWORD *)this + 318)) )
      return 0;
    CIOCriticalSection::Enter(this);
    v6 = CPlayer::_FindItem((int)v3, 443, v4);
    if ( !v4 || v6 )
    {
      v7 = CPlayer::_FindItem((int)v3, 444, v5);
      if ( !v5 || v7 )
      {
        v8 = CPlayer::_FindItem((int)v3, 445, v5);
        if ( !v5 || v8 )
        {
          v9 = CPlayer::_FindItem((int)v3, 446, v10);
          if ( (!v10 || v9)
            && *((_DWORD *)v3 + 274)
            && *(_DWORD *)(*((_DWORD *)v3 + 274) + 52) >= 500 * *((_DWORD *)v3 + 320) + 500 * *((_DWORD *)v3 + 319) )
          {
LABEL_12:
            CIOCriticalSection::Leave(v3);
            return 1;
          }
        }
      }
    }
    goto LABEL_27;
  }
  return 0;
}
// 469DC7: variable 'v3' is possibly undefined

//----- (0046A020) --------------------------------------------------------
int __thiscall CPlayer::Cooking(CIOCriticalSection *this, int a2)
{
  CItem *v3; // [esp-24h] [ebp-54h]
  CItem *v4; // [esp-1Ch] [ebp-4Ch]
  CItem *v5; // [esp-Ch] [ebp-3Ch]
  CItem *Item; // [esp+0h] [ebp-30h]
  CPlayer *v7; // [esp+4h] [ebp-2Ch]
  int v8; // [esp+8h] [ebp-28h]
  char *v9; // [esp+Ch] [ebp-24h]
  CPlayer *item; // [esp+14h] [ebp-1Ch]
  CPlayer *itema; // [esp+14h] [ebp-1Ch]
  CPlayer *itemb; // [esp+14h] [ebp-1Ch]
  CPlayer *itemc; // [esp+14h] [ebp-1Ch]
  CPlayer *itemd; // [esp+14h] [ebp-1Ch]
  CPlayer *iteme; // [esp+14h] [ebp-1Ch]
  CPlayer *itemf; // [esp+14h] [ebp-1Ch]
  CPlayer *itemg; // [esp+14h] [ebp-1Ch]
  CItem *itemh; // [esp+14h] [ebp-1Ch]
  CItem *itemi; // [esp+14h] [ebp-1Ch]
  int v20; // [esp+18h] [ebp-18h]
  CPlayer *v21; // [esp+1Ch] [ebp-14h]
  int v22; // [esp+20h] [ebp-10h]
  int v23; // [esp+24h] [ebp-Ch]
  int v24; // [esp+28h] [ebp-8h]
  CPlayer *player; // [esp+2Ch] [ebp-4h]
  CPlayer *playera; // [esp+2Ch] [ebp-4h]
  CPlayer *playerb; // [esp+2Ch] [ebp-4h]
  CPlayer *playerc; // [esp+2Ch] [ebp-4h]
  CPlayer *playerd; // [esp+2Ch] [ebp-4h]
  CPlayer *playere; // [esp+2Ch] [ebp-4h]
  CItem *playerf; // [esp+2Ch] [ebp-4h]
  CItem *playerg; // [esp+2Ch] [ebp-4h]
  CItem *playerh; // [esp+2Ch] [ebp-4h]
  CItem *playeri; // [esp+2Ch] [ebp-4h]
  CItem *playerj; // [esp+2Ch] [ebp-4h]
  CItem *playerk; // [esp+2Ch] [ebp-4h]
  CItem *playerl; // [esp+2Ch] [ebp-4h]

  if ( !a2 )
  {
    v23 = (int)this[40].m_critical_section.DebugInfo + this[39].m_dwEIP[1] + this[39].m_dwEIP[0];
    v22 = this[40].m_critical_section.RecursionCount + this[40].m_critical_section.LockCount;
    v24 = (int)this[40].m_critical_section.LockSemaphore + (unsigned int)this[40].m_critical_section.OwningThread;
    if ( !(v24 + v22 + v23) )
      return 0;
    CIOCriticalSection::Enter(this);
    player = (CPlayer *)CPlayer::_FindItem((int)Item, 239, v23);
    if ( !v23 || player )
    {
      playera = (CPlayer *)CPlayer::_FindItem((int)Item, 240, v22);
      if ( !v22 || playera )
      {
        playerb = (CPlayer *)CPlayer::_FindItem((int)Item, 241, v24);
        if ( (!v24 || playerb)
          && Item[11].m_nVer
          && *(_DWORD *)(Item[11].m_nVer + 52) >= 1000 * v24
                                                + 200 * (int)Item[14].__vftable
                                                + 100 * Item[13].m_nMapRef
                                                + 10 * v23 )
        {
          if ( v23 )
          {
            playerc = (CPlayer *)CPlayer::_FindItem((int)Item, 239, v23);
            if ( !((int (__thiscall *)(CPlayer *))playerc->SubMStateEx)(playerc) )
              CPlayer::_OutofInven(playerc, Item);
          }
          if ( v22 )
          {
            playerd = (CPlayer *)CPlayer::_FindItem((int)Item, 240, v22);
            if ( !((int (__thiscall *)(CPlayer *))playerd->SubMStateEx)(playerd) )
              CPlayer::_OutofInven(playerd, Item);
          }
          if ( v24 )
          {
            playere = (CPlayer *)CPlayer::_FindItem((int)Item, 241, v24);
            if ( !((int (__thiscall *)(CPlayer *))playere->SubMStateEx)(playere) )
              CPlayer::_OutofInven(playere, Item);
          }
          v21 = (CPlayer *)Item[11].m_nVer;
          if ( !((int (__thiscall *)(CPlayer *))v21->SubMStateEx)(v21) )
            CPlayer::_OutofInven(v21, Item);
          playerf = (CItem *)CItem::CreateItem(10, 0, 5 * Item[13].m_nKeyID, -1);
          if ( playerf && CPlayer::_InsertItem((int)Item, 2, (volatile int *)playerf) != 1 )
          {
            CBase::Delete(playerf);
            LOG_ERR(
              "Cooking() item insert error (PID (%d), 11(%d), 2(%d), 3(%d), 4(%d), 5(%d), 6(%d), 7(%d)",
              Item[4].m_nVer,
              Item[13].m_nKeyID,
              Item[13].m_nFrom,
              Item[13].m_nVer,
              Item[13].m_nMapRef,
              Item[14].__vftable,
              Item[14].m_nRef,
              Item[14].m_nTimerRef);
          }
          playerg = (CItem *)CItem::CreateItem(11, 0, 2 * Item[13].m_nFrom, -1);
          if ( playerg && CPlayer::_InsertItem((int)Item, 2, (volatile int *)playerg) != 1 )
          {
            CBase::Delete(playerg);
            LOG_ERR(
              "Cooking() item insert error (PID (%d), 1(%d), 22(%d), 3(%d), 4(%d), 5(%d), 6(%d), 7(%d)",
              Item[4].m_nVer,
              Item[13].m_nKeyID,
              Item[13].m_nFrom,
              Item[13].m_nVer,
              Item[13].m_nMapRef,
              Item[14].__vftable,
              Item[14].m_nRef,
              Item[14].m_nTimerRef);
          }
          playerh = (CItem *)CItem::CreateItem(12, 0, Item[13].m_nVer, -1);
          if ( playerh && CPlayer::_InsertItem((int)Item, 2, (volatile int *)playerh) != 1 )
          {
            CBase::Delete(playerh);
            LOG_ERR(
              "Cooking() item insert error (PID (%d), 1(%d), 2(%d), 33(%d), 4(%d), 5(%d), 6(%d), 7(%d)",
              Item[4].m_nVer,
              Item[13].m_nKeyID,
              Item[13].m_nFrom,
              Item[13].m_nVer,
              Item[13].m_nMapRef,
              Item[14].__vftable,
              Item[14].m_nRef,
              Item[14].m_nTimerRef);
          }
          playeri = (CItem *)CItem::CreateItem(13, 0, Item[13].m_nMapRef, -1);
          if ( playeri && CPlayer::_InsertItem((int)Item, 2, (volatile int *)playeri) != 1 )
          {
            CBase::Delete(playeri);
            LOG_ERR(
              "Cooking() item insert error (PID (%d), 1(%d), 2(%d), 3(%d), 44(%d), 5(%d), 6(%d), 7(%d)",
              Item[4].m_nVer,
              Item[13].m_nKeyID,
              Item[13].m_nFrom,
              Item[13].m_nVer,
              Item[13].m_nMapRef,
              Item[14].__vftable,
              Item[14].m_nRef,
              Item[14].m_nTimerRef);
          }
          playerj = (CItem *)CItem::CreateItem(14, 0, (int)Item[14].__vftable, -1);
          if ( playerj && CPlayer::_InsertItem((int)Item, 2, (volatile int *)playerj) != 1 )
          {
            CBase::Delete(playerj);
            LOG_ERR(
              "Cooking() item insert error (PID (%d), 1(%d), 2(%d), 3(%d), 4(%d), 55(%d), 6(%d), 7(%d)",
              Item[4].m_nVer,
              Item[13].m_nKeyID,
              Item[13].m_nFrom,
              Item[13].m_nVer,
              Item[13].m_nMapRef,
              Item[14].__vftable,
              Item[14].m_nRef,
              Item[14].m_nTimerRef);
          }
          playerk = (CItem *)CItem::CreateItem(15, 0, Item[14].m_nRef, -1);
          if ( playerk && CPlayer::_InsertItem((int)Item, 2, (volatile int *)playerk) != 1 )
          {
            CBase::Delete(playerk);
            LOG_ERR(
              "Cooking() item insert error (PID (%d), 1(%d), 2(%d), 3(%d), 4(%d), 5(%d), 66(%d), 77(%d)",
              Item[4].m_nVer,
              Item[13].m_nKeyID,
              Item[13].m_nFrom,
              Item[13].m_nVer,
              Item[13].m_nMapRef,
              Item[14].__vftable,
              Item[14].m_nRef,
              Item[14].m_nTimerRef);
          }
          playerl = (CItem *)CItem::CreateItem(16, 0, Item[14].m_nTimerRef, -1);
          if ( playerl )
          {
            if ( CPlayer::_InsertItem((int)Item, 2, (volatile int *)playerl) != 1 )
            {
              CBase::Delete(playerl);
              LOG_ERR(
                "Cooking() item insert error (PID (%d), 1(%d), 2(%d), 3(%d), 4(%d), 5(%d), 6(%d), 7(%d)",
                Item[4].m_nVer,
                Item[13].m_nKeyID,
                Item[13].m_nFrom,
                Item[13].m_nVer,
                Item[13].m_nMapRef,
                Item[14].__vftable,
                Item[14].m_nRef,
                Item[14].m_nTimerRef);
            }
          }
          CIOCriticalSection::Leave((CIOCriticalSection *)0x10);
          return 1;
        }
      }
    }
    goto LABEL_83;
  }
  if ( a2 != 1 )
    return 0;
  v8 = 4 * (int)this[40].m_critical_section.DebugInfo + 4 * this[39].m_dwEIP[0];
  v9 = (char *)this[40].m_critical_section.DebugInfo + this[39].m_dwEIP[0];
  v20 = this[39].m_dwEIP[1];
  if ( !(_RTL_CRITICAL_SECTION_DEBUG *)((char *)this[40].m_critical_section.DebugInfo + v20 + this[39].m_dwEIP[0]) )
    return 0;
  CIOCriticalSection::Enter(this);
  item = (CPlayer *)CPlayer::_FindItem((int)Item, 443, v8);
  if ( v8 && !item
    || (itema = (CPlayer *)CPlayer::_FindItem((int)Item, 444, (int)v9), v9) && !itema
    || (itemb = (CPlayer *)CPlayer::_FindItem((int)Item, 445, (int)v9), v9) && !itemb
    || (itemc = (CPlayer *)CPlayer::_FindItem((int)Item, 446, v20), v20) && !itemc
    || !Item[11].m_nVer
    || *(_DWORD *)(Item[11].m_nVer + 52) < 500 * Item[13].m_nVer + 500 * Item[13].m_nFrom )
  {
LABEL_83:
    CIOCriticalSection::Leave((CIOCriticalSection *)Item);
    return 0;
  }
  if ( v8 )
  {
    itemd = (CPlayer *)CPlayer::_FindItem((int)Item, 443, v8);
    if ( !itemd || (v5 = Item, !((int (__thiscall *)(CPlayer *))itemd->SubMStateEx)(itemd)) )
      CPlayer::_OutofInven(itemd, v5);
  }
  if ( v9 )
  {
    iteme = (CPlayer *)CPlayer::_FindItem((int)Item, 444, (int)v9);
    if ( !((int (__thiscall *)(CPlayer *))iteme->SubMStateEx)(iteme) )
      CPlayer::_OutofInven(iteme, Item);
  }
  if ( v9 )
  {
    itemf = (CPlayer *)CPlayer::_FindItem((int)Item, 445, (int)v9);
    if ( !itemf || (v4 = Item, !((int (__thiscall *)(CPlayer *))itemf->SubMStateEx)(itemf)) )
      CPlayer::_OutofInven(itemf, v4);
  }
  if ( v20 )
  {
    itemg = (CPlayer *)CPlayer::_FindItem((int)Item, 446, v20);
    if ( !itemg || (v3 = Item, !((int (__thiscall *)(CPlayer *))itemg->SubMStateEx)(itemg)) )
      CPlayer::_OutofInven(itemg, v3);
  }
  v7 = (CPlayer *)Item[11].m_nVer;
  if ( !((int (__thiscall *)(CPlayer *))v7->SubMStateEx)(v7) )
    CPlayer::_OutofInven(v7, Item);
  itemh = (CItem *)CItem::CreateItem(190, 0, Item[13].m_nKeyID, -1);
  if ( itemh && CPlayer::_InsertItem((int)Item, 2, (volatile int *)itemh) != 1 )
  {
    CBase::Delete(itemh);
    LOG_ERR(
      "Cooking() item insert error (PID (%d), 11(%d), 2(%d)",
      Item[4].m_nVer,
      Item[13].m_nKeyID,
      Item[13].m_nVer + Item[13].m_nFrom);
  }
  itemi = (CItem *)CItem::CreateItem(191, 0, Item[13].m_nVer + Item[13].m_nFrom, -1);
  if ( itemi && CPlayer::_InsertItem((int)Item, 2, (volatile int *)itemi) != 1 )
  {
    CBase::Delete(itemi);
    LOG_ERR(
      "Cooking() item insert error (PID (%d), 1(%d), 22(%d)",
      Item[4].m_nVer,
      Item[13].m_nKeyID,
      Item[13].m_nVer + Item[13].m_nFrom);
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)0x10);
  return 1;
}
// 46A0A7: variable 'Item' is possibly undefined
// 46A891: variable 'v5' is possibly undefined
// 46A919: variable 'v4' is possibly undefined
// 46A960: variable 'v3' is possibly undefined

//----- (0046AAD0) --------------------------------------------------------
volatile int *__thiscall CPlayer::GetGuild(CIOCriticalSection *a1)
{
  CIOObject *v3; // [esp+4h] [ebp-4h]

  sub_412E90(a1);
  v3 = (CIOObject *)a1[15].m_critical_section.LockCount;
  if ( v3 )
    CIOObject::AddRef(v3, &v3[2].m_nTimerRef);
  sub_412EB0(a1);
  return (volatile int *)v3;
}

//----- (0046AB20) --------------------------------------------------------
void __thiscall CPlayer::SetGuild(CIOObject **this, int a2)
{
  sub_412E90((CIOCriticalSection *)this);
  if ( this[121] )
    CIOObject::Release(this[121], &this[121][2].m_nRef);
  if ( a2 )
    CIOObject::AddRef((CIOObject *)a2, (volatile int *)(a2 + 36));
  this[121] = (CIOObject *)a2;
  sub_412EB0((CIOCriticalSection *)this);
}

//----- (0046AB90) --------------------------------------------------------
int __thiscall CPlayer::GetGID(CIOCriticalSection *this)
{
  _RTL_CRITICAL_SECTION_DEBUG *v3; // [esp+4h] [ebp-4h]

  sub_412E90(this);
  v3 = this[15].m_critical_section.DebugInfo;
  sub_412EB0(this);
  return (int)v3;
}

//----- (0046ABC0) --------------------------------------------------------
void __thiscall CPlayer::SetGID(CIOCriticalSection *this, int a2)
{
  sub_412E90(this);
  this[15].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)a2;
  sub_412EB0(this);
}

//----- (0046ABF0) --------------------------------------------------------
void __thiscall CPlayer::SetGuildLevel(CIOCriticalSection *this, int a2)
{
  sub_412E90(this);
  this[15].m_critical_section.RecursionCount = a2;
  sub_412EB0(this);
}

//----- (0046AC20) --------------------------------------------------------
void __thiscall CPlayer::SetGuildName(char *this, char *Source)
{
  sub_412E90((CIOCriticalSection *)this);
  strcpy(this + 492, Source);
  sub_412EB0((CIOCriticalSection *)this);
}

//----- (0046AC60) --------------------------------------------------------
void __thiscall CPlayer::SetGuildStandard(CIOCriticalSection *this, int a2)
{
  sub_412E90(this);
  this[16].m_critical_section.DebugInfo = (_RTL_CRITICAL_SECTION_DEBUG *)a2;
  sub_412EB0(this);
}

//----- (0046AC90) --------------------------------------------------------
void __thiscall CPlayer::SetGuildClass(int this, int a2, char *Source)
{
  sub_412E90((CIOCriticalSection *)this);
  *(_DWORD *)(this + 516) = a2;
  strcpy((char *)(this + 520), Source);
  sub_412EB0((CIOCriticalSection *)this);
}

//----- (0046ACD0) --------------------------------------------------------
int *__thiscall CPlayer::GetGuildName(int *this)
{
  int *v2; // [esp+0h] [ebp-8h]

  if ( this[129] < 6 && (CGuild::GetGuildSkill(this[122]) & 1) != 0 )
    v2 = this + 123;
  else
    v2 = 0;
  return v2;
}

//----- (0046AD20) --------------------------------------------------------
int __thiscall CPlayer::GetGuildStandard(int *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( this[129] < 6 && (CGuild::GetGuildSkill(this[122]) & 2) != 0 )
    v2 = this[128];
  else
    v2 = 0;
  return v2;
}

//----- (0046AD70) --------------------------------------------------------
int *__thiscall CPlayer::GetGuildClassTitle(int *this)
{
  int *v2; // [esp+0h] [ebp-8h]

  if ( this[129] < 6 && (CGuild::GetGuildSkill(this[122]) & 1) != 0 )
    v2 = this + 130;
  else
    v2 = 0;
  return v2;
}

//----- (0046ADC0) --------------------------------------------------------
int __thiscall CPlayer::IsDefenseSide(CIOCriticalSection *a1, unsigned int a5)
{
  int result; // eax
  int v3; // eax
  CIOObject *v5; // [esp+4h] [ebp-8h]
  XBaseModel *a2; // [esp+8h] [ebp-4h]

  v5 = sub_416230((int)a1[15].m_critical_section.DebugInfo);
  if ( !v5 )
    return 0;
  a2 = CCastle::GetCastle(a5);
  if ( a2 && ((v3 = CPlayer::GetGID(a1), CCastle::IsLord(a2, v3)) || CGuild::IsAlliancePeriod(v5, (int)a2)) )
  {
    CIOObject::Release(v5, &v5[2].m_nTimerRef);
    result = 1;
  }
  else
  {
    CIOObject::Release(v5, &v5[2].m_nTimerRef);
    result = 0;
  }
  return result;
}

//----- (0046AE50) --------------------------------------------------------
int __thiscall CPlayer::CanAttack(void *this, void *a2, int a3)
{
  int result; // eax
  int v4; // esi
  int v5; // eax
  volatile int *v6; // eax
  int v7; // eax
  int v8; // eax
  volatile int *v9; // eax
  CIOObject *v10; // [esp-4h] [ebp-28h]
  volatile int *v11; // [esp-4h] [ebp-28h]

  if ( !a3 && CChar::IsMState(this, 0x200010000100i64) )
    return 0;
  if ( CChar::IsMState(a2, 0x80000i64) )
    return 0;
  if ( (*(int (__thiscall **)(void *))(*(_DWORD *)a2 + 64))(a2) )
  {
    if ( CSMap::IsOnTile(*((_DWORD **)a2 + 80), (int *)a2 + 83, 0x100000) )
    {
      if ( sub_417450()
        && CPlayer::GetGID((CIOCriticalSection *)this)
        && (v4 = (*(int (__thiscall **)(void *))(*(_DWORD *)a2 + 220))(a2),
            v4 != CPlayer::GetGID((CIOCriticalSection *)this)) )
      {
        v5 = (*(int (__thiscall **)(void *))(*(_DWORD *)a2 + 220))(a2);
        v10 = sub_416230(v5);
        v6 = CPlayer::GetGuild((CIOCriticalSection *)this);
        result = CGuild::CanAttack((int)v6, (int)v10);
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    if ( !(*(int (__thiscall **)(void *))(*(_DWORD *)a2 + 60))(a2) )
      goto LABEL_30;
    if ( this == a2 )
      return 0;
    if ( sub_40B310(this, 128) && sub_40B310(a2, 128) && *((_DWORD *)this + 378) == *((_DWORD *)a2 + 378) )
      return 1;
    if ( sub_40B310(this, 256) || sub_40B310(a2, 256) )
    {
      v7 = sub_40B310(this, 256);
      if ( !CSMap::IsOnTile(*((_DWORD **)this + 80), (int *)this + 83, v7 != 0 ? 0x20000 : 393216) )
      {
        v8 = sub_40B310(a2, 256);
        if ( !CSMap::IsOnTile(*((_DWORD **)a2 + 80), (int *)a2 + 83, v8 != 0 ? 0x20000 : 393216) )
          return 1;
      }
    }
    if ( sub_417450()
      && CSMap::IsOnTile(*((_DWORD **)a2 + 80), (int *)a2 + 83, 0x100000)
      && (v11 = CPlayer::GetGuild((CIOCriticalSection *)a2),
          v9 = CPlayer::GetGuild((CIOCriticalSection *)this),
          CGuild::CanAttack((int)v9, (int)v11)) )
    {
      result = 1;
    }
    else
    {
LABEL_30:
      result = 0;
    }
  }
  return result;
}

//----- (0046B0C0) --------------------------------------------------------
void __thiscall CPlayer::PKKill(void *this, int a2)
{
  int v2; // eax
  int *v3; // eax
  int v4; // [esp-4h] [ebp-50h]
  int v6; // [esp+0h] [ebp-4Ch]
  char v7[4]; // [esp+4h] [ebp-48h] BYREF
  char v8[4]; // [esp+8h] [ebp-44h] BYREF
  int v9; // [esp+Ch] [ebp-40h]
  CIOObject *v10; // [esp+10h] [ebp-3Ch]
  char v11[17]; // [esp+14h] [ebp-38h] BYREF
  char v12[17]; // [esp+25h] [ebp-27h] BYREF
  char v13[18]; // [esp+36h] [ebp-16h] BYREF
  int v14; // [esp+48h] [ebp-4h]

  v14 = dword_4D9830;
  if ( (dword_4E1174[0] & 1) != 0 && !sub_44A510((_DWORD *)a2, 16) )
  {
    if ( sub_40B310((_DWORD *)a2, 256) )
    {
      CPlayer::AddEState((_DWORD *)a2, 32);
      CPlayer::DropItemONPKDie((CIOCriticalSection *)a2);
      CPlayer::Write(a2, 95, "b", 2);
      if ( !sub_40B310(this, 256) )
      {
        v2 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CPlayer::Write((int)this, 95, "bd", 5, v2);
        sub_46B2C0((int)v11);
        strncpy(v11, (const char *)this + 492, 0x11u);
        strncpy(v12, (const char *)this + 32, 0x11u);
        strncpy(v13, (const char *)(a2 + 32), 0x11u);
        CRWLock::WriteLock(&unk_4E20DC);
        v3 = (int *)std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
                      (std::list<tagPARTICLES *> *)dword_4E20D0,
                      (std::list<tagPARTICLES *>::iterator *)v8);
        std::list<std::pair<std::string const,int>>::insert(dword_4E20D0, v7, *v3, (int)v11);
        if ( (unsigned int)unknown_libname_10(dword_4E20D0, this) > 0x14 )
          sub_4727D0(dword_4E20D0);
        CRWLock::WriteUnlock(&unk_4E20DC);
        CDBSocket::Write(55, "sss", v6 + 492, v6 + 32, a2 + 32);
      }
    }
    else
    {
      v9 = 0;
      v10 = (CIOObject *)CPlayer::GetGuild((CIOCriticalSection *)a2);
      if ( v10 )
      {
        v9 = CCastle::IsAllCastleWarRelation((int)v10);
        CIOObject::Release(v10, &v10[2].m_nTimerRef);
      }
      if ( v9 )
      {
        CPlayer::AddEState((_DWORD *)a2, 256);
      }
      else if ( sub_40B310(this, 256) )
      {
        CPlayer::AddEState((_DWORD *)a2, 64);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(this);
        CPlayer::Write(a2, 95, "bd", 3, v4);
      }
    }
  }
}
// 46B211: variable 'v6' is possibly undefined
// 4D9830: using guessed type int dword_4D9830;
// 4E20D0: using guessed type int dword_4E20D0[3];

//----- (0046B2C0) --------------------------------------------------------
int __thiscall sub_46B2C0(int this)
{
  memset((void *)this, 0, 0x11u);
  memset((void *)(this + 17), 0, 0x11u);
  memset((void *)(this + 34), 0, 0x11u);
  return this;
}

//----- (0046B310) --------------------------------------------------------
int __thiscall CPlayer::GetDropItemMask(_QWORD *this)
{
  if ( CChar::IsBState(this, 16i64) )
    return 3328;
  if ( CChar::IsBState(this, 32i64) )
    return 3584;
  if ( CChar::IsBState(this, 64i64) )
    return 3072;
  return 0;
}

//----- (0046B390) --------------------------------------------------------
int __thiscall CPlayer::AddBuff(_DWORD *this, std::locale::facet *a2)
{
  if ( !a2 )
    return 0;
  if ( !CChar::IsMState(this, 0x80000i64) && (!sub_409310(this, 0x20000) || !sub_4090C0(a2, 4)) )
    return CChar::AddBuff(this, a2);
  std::locale::facet::`scalar deleting destructor'(a2, 1);
  return 0;
}
// 46B3EF: conditional instruction was optimized away because of '%a2.4!=0'

//----- (0046B420) --------------------------------------------------------
void __thiscall CPlayer::PKBulletinInfoSend(void *this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v3; // [esp-34h] [ebp-54h] BYREF
  int v4; // [esp-30h] [ebp-50h]
  int v5; // [esp-2Ch] [ebp-4Ch]
  int v6; // [esp-28h] [ebp-48h]
  int v7; // [esp-24h] [ebp-44h]
  int v8; // [esp-20h] [ebp-40h]
  int v9; // [esp-1Ch] [ebp-3Ch]
  int v10; // [esp-18h] [ebp-38h]
  int v11; // [esp-14h] [ebp-34h]
  int v12; // [esp-10h] [ebp-30h]
  int v13; // [esp-Ch] [ebp-2Ch]
  int v14; // [esp-8h] [ebp-28h]
  int v15; // [esp-4h] [ebp-24h]
  int v16; // [esp+0h] [ebp-20h]
  _DWORD *v17; // [esp+8h] [ebp-18h]
  char v18[4]; // [esp+Ch] [ebp-14h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v19; // [esp+10h] [ebp-10h] BYREF
  char *v20; // [esp+14h] [ebp-Ch]
  unsigned __int16 *v21; // [esp+18h] [ebp-8h]
  void *a2; // [esp+1Ch] [ebp-4h]

  v17 = this;
  CRWLock::ReadLock(&unk_4E20DC);
  if ( !sub_472780(dword_4E20D0) )
  {
    a2 = CIOBuffer::Alloc();
    v20 = (char *)a2;
    *((_BYTE *)a2 + 2) = 12;
    v21 = (unsigned __int16 *)(v20 + 4);
    std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
      (std::list<tagPARTICLES *> *)dword_4E20D0,
      (std::list<tagPARTICLES *>::iterator *)&v19);
    while ( 1 )
    {
      v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E20D0, (int)v18);
      if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              &v19,
              v1) )
        break;
      qmemcpy(&v3, (const void *)sub_40F040(&v19), 0x33u);
      v21 = (unsigned __int16 *)sub_47A260((int)v21, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15);
      sub_41CAB0((std::list<std::pair<std::string const ,int>>::const_iterator *)&v19);
    }
    v2 = unknown_libname_10(dword_4E20D0, v16);
    WritePacket(v20 + 3, "b", v2);
    *(_WORD *)v20 = (_WORD)v21 - (_WORD)v20;
    *((_DWORD *)a2 + 2000) = *(unsigned __int16 *)v20;
    CSocket::_CSocket(v17[419], a2);
  }
  CRWLock::ReadUnlock(&unk_4E20DC);
}
// 4E20D0: using guessed type int dword_4E20D0[3];

//----- (0046B530) --------------------------------------------------------
void __cdecl CPlayer::PKBulletinLoad(_BYTE *a1)
{
  char *v1; // eax
  char *v2; // eax
  int i; // [esp+0h] [ebp-44h]
  char *packet; // [esp+4h] [ebp-40h]
  char str[17]; // [esp+8h] [ebp-3Ch] BYREF
  char v6[17]; // [esp+19h] [ebp-2Bh] BYREF
  char v7[18]; // [esp+2Ah] [ebp-1Ah] BYREF
  int v8; // [esp+3Ch] [ebp-8h]
  int v9; // [esp+40h] [ebp-4h] BYREF

  v8 = dword_4D9830;
  v9 = 0;
  packet = GetNumeric<unsigned char>(a1, &v9);
  if ( v9 > 0 )
  {
    sub_46B2C0((int)str);
    CRWLock::WriteLock(&unk_4E20DC);
    for ( i = 0; i < v9; ++i )
    {
      v1 = GetString(packet, str);
      v2 = GetString(v1, v6);
      packet = GetString(v2, v7);
      sub_4727A0(dword_4E20D0, (int)str);
    }
    CRWLock::WriteUnlock(&unk_4E20DC);
  }
}
// 4D9830: using guessed type int dword_4D9830;
// 4E20D0: using guessed type int dword_4E20D0[3];

//----- (0046B5F0) --------------------------------------------------------
void __cdecl CPlayer::ScanONPKPlayer()
{
  CIOCriticalSection *v0; // [esp+0h] [ebp-14h]
  CIOCriticalSection *v1; // [esp+0h] [ebp-14h]
  CIOCriticalSection *v2; // [esp+0h] [ebp-14h]
  int v3; // [esp+0h] [ebp-14h]
  CLink **a1; // [esp+4h] [ebp-10h]
  CMemory *i; // [esp+8h] [ebp-Ch]
  CLink **v6; // [esp+Ch] [ebp-8h]
  CLink *v7; // [esp+10h] [ebp-4h]

  if ( (dword_4E1174[0] & 1) != 0 )
  {
    CIOCriticalSection::Enter(v0);
    CIOCriticalSection::Enter(v1);
    CLink::MoveTo(&unk_4E200C, &pTo);
    CIOCriticalSection::Leave(v2);
    v7 = pTo.m_pNext;
    while ( v7 != &pTo )
    {
      v6 = &v7[-54].m_pPrev;
      v7 = v7->m_pNext;
      if ( sub_40B310(v6, 256) )
      {
        if ( (int)v6[134] > 0 )
        {
          if ( CSMap::IsOnTile(v6[80], (int *)v6 + 83, 393216) )
          {
            v6[134] = (CLink *)((char *)v6[134] - 1);
          }
          else
          {
            if ( (int)v6[134] <= 3 )
              v3 = (int)v6[134];
            else
              v3 = 3;
            v6[134] = (CLink *)((char *)v6[134] - v3);
          }
        }
        for ( i = CSMap::GetPlayerListInRect(v6 + 81, 10); i; i = (CMemory *)CBaseList::Pop((CIOObject *)i) )
        {
          a1 = (CLink **)unknown_libname_7(i);
          if ( !sub_40B310(a1, 48) && v6 != a1 )
            CPlayer::Write((int)a1, 95, "b", 14);
        }
      }
    }
    CIOCriticalSection::Leave((CIOCriticalSection *)v3);
  }
}
// 46B60A: variable 'v0' is possibly undefined
// 46B614: variable 'v1' is possibly undefined
// 46B62D: variable 'v2' is possibly undefined
// 46B75E: variable 'v3' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0046B770) --------------------------------------------------------
void __cdecl CPlayer::EventBuff(int a1)
{
  CBuffMoveSpeed *v1; // eax
  CIOCriticalSection *v2; // [esp+0h] [ebp-1Ch]
  CIOCriticalSection *v3; // [esp+0h] [ebp-1Ch]
  CIOCriticalSection *v4; // [esp+0h] [ebp-1Ch]
  CIOCriticalSection *v5; // [esp+0h] [ebp-1Ch]
  CLink *v6; // [esp+4h] [ebp-18h]
  int v7; // [esp+8h] [ebp-14h]
  time_t v8; // [esp+Ch] [ebp-10h]
  int v9[3]; // [esp+10h] [ebp-Ch]

  v9[0] = 112;
  v9[1] = 113;
  v9[2] = 114;
  v8 = time(0);
  if ( a1 != 4 )
  {
    if ( a1 )
      v7 = a1 - 1;
    else
      v7 = RandomBetween(0, 2);
    dword_4E1FF8 = v9[v7];
    dword_4E1FF4 = v8 + ((dword_4E1174[0] & 2) != 0 ? 300 : 1800);
  }
  CIOCriticalSection::Enter(v2);
  CIOCriticalSection::Enter(v3);
  CLink::MoveTo(&unk_4E200C, &pTo);
  CIOCriticalSection::Leave(v4);
  v6 = pTo.m_pNext;
  while ( v6 != &pTo )
  {
    v5 = (CIOCriticalSection *)&v6[-54].m_pPrev;
    v6 = v6->m_pNext;
    CChar::CancelBuffPrty(v5, 128);
    if ( a1 != 4 )
    {
      v1 = CBuff::CreateBuff(dword_4E1FF8, dword_4E1FF4 - v8, 0, (int)v5);
      ((void (__thiscall *)(CIOCriticalSection *, CBuffMoveSpeed *))v5->m_critical_section.DebugInfo[5].ContentionCount)(
        v5,
        v1);
    }
  }
  CIOCriticalSection::Leave(v5);
}
// 46B7F5: variable 'v2' is possibly undefined
// 46B7FF: variable 'v3' is possibly undefined
// 46B818: variable 'v4' is possibly undefined
// 46B874: variable 'v5' is possibly undefined
// 4E1FF4: using guessed type int dword_4E1FF4;

//----- (0046B890) --------------------------------------------------------
void __thiscall CPlayer::DropItemONPKDie(CIOCriticalSection *this)
{
  int v1; // eax
  CIOCriticalSection *Itema; // [esp+0h] [ebp-28h]
  CItem *Itemb; // [esp+0h] [ebp-28h]
  int v5; // [esp+4h] [ebp-24h] BYREF
  int a2[2]; // [esp+8h] [ebp-20h] BYREF
  int a5[2]; // [esp+10h] [ebp-18h] BYREF
  int v8; // [esp+18h] [ebp-10h]
  int v9; // [esp+1Ch] [ebp-Ch]
  CPlayer *player; // [esp+20h] [ebp-8h]
  int v11; // [esp+24h] [ebp-4h] BYREF

  if ( RandomBetween(1, 100) <= 10 )
  {
    CIOCriticalSection::Enter(this);
    if ( sub_446110(&Itema[33].m_critical_section.OwningThread) )
    {
      CIOCriticalSection::Leave(Itema);
    }
    else
    {
      v1 = unknown_libname_10(&Itema[33].m_critical_section.OwningThread, Itema);
      v9 = RandomBetween(0, v1 - 1);
      std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)&Itemb[11].m_pMap,
        (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v11);
      v8 = 0;
      while ( v8 < v9 )
      {
        ++v8;
        sub_446090(&v11, &v5, 0);
      }
      player = *(CPlayer **)(sub_420250(&v11) + 4);
      if ( *(_DWORD *)(*(_DWORD *)&player->m_szName[8] + 72) != 20 || !sub_427130(player, 1) )
      {
        if ( sub_427130(player, 1) )
          player->AddGState(player, (int)Itemb);
        if ( player->GetFinalResist(player, *(CChar **)&player->m_szName[20], (int)Itemb) )
        {
          CChar::GetDropPt(Itemb, a2);
          a5[0] = a2[0] >> 5;
          a5[1] = a2[1] >> 5;
          if ( CSMap::GetCellMap(player, (int)a5) )
          {
            ((void (__thiscall *)(CPlayer *, CItem *, int *, int *, int, _DWORD))player->SubMState)(
              player,
              Itemb,
              a2,
              a5,
              1,
              0);
            CPlayer::_OutofInven(player, 0);
          }
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)Itemb);
    }
  }
}
// 46B8C0: variable 'Itema' is possibly undefined
// 46B90B: variable 'Itemb' is possibly undefined

//----- (0046BA30) --------------------------------------------------------
void __thiscall CPlayer::Transform(int this, int a2, int a3)
{
  int a1a; // [esp+0h] [ebp-4h]

  if ( a2 == 2 )
  {
    CPlayer::FreeTransform((CIOCriticalSection *)this);
  }
  else if ( a3 >= 1 && a3 <= 3 && !sub_40B310((_DWORD *)this, 48) )
  {
    if ( CSMap::IsOnTile(*(_DWORD **)(this + 320), (int *)(this + 332), 0x20000) )
    {
      CPlayer::Write(this, 67, "b", 67);
    }
    else if ( *(_DWORD *)(this + 580) >= dword_4D669C[a3] )
    {
      CIOCriticalSection::Enter((CIOCriticalSection *)this);
      if ( !sub_40B310((_DWORD *)a1a, 512) )
      {
        if ( a2 == 1 )
        {
          if ( !*(_DWORD *)(a1a + 1116) )
          {
            if ( *(_DWORD *)(a1a + 1108) )
              CItemTransform::ApplyTransform(*(_DWORD **)(a1a + 1108), (volatile LONG *)a1a, a3);
          }
        }
        else if ( !a2 )
        {
          if ( *(_DWORD *)(a1a + 1116) )
            CPlayer::Write(a1a, 67, "b", 77);
          else
            CChar::WriteInSight(a1a, 61, "dbb", *(_DWORD *)(a1a + 28), 12, a3);
        }
      }
      CIOCriticalSection::Leave((CIOCriticalSection *)a1a);
    }
    else
    {
      CPlayer::Write(this, 67, "b", 66);
    }
  }
}
// 46BADF: variable 'a1a' is possibly undefined

//----- (0046BB90) --------------------------------------------------------
void __thiscall CPlayer::FreeTransform(CIOCriticalSection *this)
{
  int v1; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  if ( sub_40B310((_DWORD *)v1, 512) && *(_DWORD *)(v1 + 1108) )
    CItemTransform::FreeTransform(*(_DWORD **)(v1 + 1108), (_DWORD *)v1);
  CIOCriticalSection::Leave((CIOCriticalSection *)v1);
}
// 46BBAD: variable 'v1' is possibly undefined

//----- (0046BBF0) --------------------------------------------------------
void __thiscall CPlayer::BreakStandard(CIOCriticalSection *this)
{
  CIOCriticalSection *a2; // [esp+0h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  if ( a2[34].m_dwEIP[1] )
    CItemStandard::Broken((CPlayer *)a2[34].m_dwEIP[1], a2, 1);
  CIOCriticalSection::Leave(a2);
}
// 46BC08: variable 'a2' is possibly undefined

//----- (0046BC40) --------------------------------------------------------
void __thiscall CPlayer::RefreshStandardBuff(int this)
{
  CBuffMoveSpeed *v1; // [esp-4h] [ebp-1Ch]
  CIOCriticalSection *v3; // [esp+0h] [ebp-18h]
  int v4; // [esp+0h] [ebp-18h]
  _DWORD *v5; // [esp+4h] [ebp-14h]
  int a1; // [esp+8h] [ebp-10h]
  int a3; // [esp+Ch] [ebp-Ch]
  CMemory *i; // [esp+10h] [ebp-8h]
  unsigned int v9; // [esp+14h] [ebp-4h]

  if ( CPlayer::IsWearBuffStandard((_DWORD *)this)
    && sub_417450()
    && CSMap::IsOnTile(*(_DWORD **)(this + 320), (int *)(this + 332), 0x100000) )
  {
    CIOCriticalSection::Enter((CIOCriticalSection *)this);
    v9 = v3[34].m_dwEIP[1];
    if ( v9 )
    {
      a1 = *(_DWORD *)(*(_DWORD *)(v9 + 40) + 160);
      a3 = *(_DWORD *)(*(_DWORD *)(v9 + 40) + 164);
      CIOCriticalSection::Leave(v3);
      for ( i = CSMap::GetPlayerListInRect((_DWORD *)(v4 + 324), 10); i; i = (CMemory *)CBaseList::Pop((CIOObject *)i) )
      {
        v5 = (_DWORD *)unknown_libname_7(i);
        if ( v5 != (_DWORD *)v4
          && CChar::IsNormal((int)v5)
          && *(_DWORD *)(v4 + 480) == v5[120]
          && !CPlayer::IsWearBuffStandard(v5) )
        {
          v1 = CBuff::CreateBuff(a1, 2, a3, v4);
          (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*v5 + 180))(v5, v1);
        }
      }
    }
    else
    {
      CIOCriticalSection::Leave(v3);
    }
  }
}
// 46BC94: variable 'v3' is possibly undefined
// 46BCDE: variable 'v4' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0046BD80) --------------------------------------------------------
BOOL __thiscall CPlayer::IsWearBuffStandard(_DWORD *this)
{
  return (int)this[280] >= 0 && CPlayer::IsWState(this, 13);
}

//----- (0046BDC0) --------------------------------------------------------
void __thiscall CPlayer::Bless(_DWORD *this, int a2, int a3)
{
  CBuffMoveSpeed *v3; // [esp-Ch] [ebp-28h]
  int v4; // [esp-8h] [ebp-24h]
  int v5; // [esp-8h] [ebp-24h]
  int v6; // [esp-4h] [ebp-20h]
  __int64 v7; // [esp+0h] [ebp-1Ch]
  CIOCriticalSection *v8; // [esp+0h] [ebp-1Ch]
  int v10; // [esp+14h] [ebp-8h]
  CPlayer *player; // [esp+18h] [ebp-4h]

  if ( (int)this[15] >= 6
    && a2 >= 0
    && a2 <= 1
    && a3 >= 1
    && a3 <= 5
    && (a3 & 0x80000001) != 0
    && (a2 || !CChar::IsBState(this, 128i64))
    && (a2 != 1 || (v7 = CChar::IsBState(this, 256i64)) == 0) )
  {
    v10 = a3 * ((a2 != 0 ? 6 : 11) * this[15] * this[15] / 2);
    if ( a3 == 3 )
    {
      v10 = 9 * v10 / 10;
    }
    else if ( a3 == 5 )
    {
      v10 = 8 * v10 / 10;
    }
    CIOCriticalSection::Enter((CIOCriticalSection *)v7);
    if ( this[274] && *(_DWORD *)(this[274] + 52) >= v10 )
    {
      player = (CPlayer *)this[274];
      if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
        CPlayer::_OutofInven(player, (CItem *)this);
      CIOCriticalSection::Leave((CIOCriticalSection *)0x27);
      v3 = CBuff::CreateBuff((a2 != 0) + 16, 3600 * a3, v4, -v10);
      (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *, int, int))(*this + 180))(this, v3, v5, v6);
    }
    else
    {
      CIOCriticalSection::Leave(v8);
    }
  }
}
// 46BDF3: conditional instruction was optimized away because of '%a3.4 in (1..5)'
// 46BEB0: variable 'v7' is possibly undefined
// 46BEDB: variable 'v8' is possibly undefined
// 46BF3A: variable 'v4' is possibly undefined
// 46BF4B: variable 'v5' is possibly undefined
// 46BF4B: variable 'v6' is possibly undefined

//----- (0046BF60) --------------------------------------------------------
void __stdcall CPlayer::SetSystemCode(int a1, int a2)
{
  if ( a1 >= 0 && a1 < 15 )
  {
    if ( a2 )
      *(_DWORD *)dword_4E1174 |= 1 << a1;
    else
      *(_DWORD *)dword_4E1174 &= ~(1 << a1);
    CPlayer::WriteAll(68, "bdd", 70, *(_DWORD *)dword_4E1174, dword_4E1178);
  }
}
// 4E1178: using guessed type int dword_4E1178;

//----- (0046BFD0) --------------------------------------------------------
void __stdcall CPlayer::SetEventCode(int a1, int a2)
{
  if ( a1 >= 0 && a1 < 9 )
  {
    if ( a2 )
      dword_4E1178 |= 1 << a1;
    else
      dword_4E1178 &= ~(1 << a1);
    CPlayer::WriteAll(68, "bdd", 70, *(_DWORD *)dword_4E1174, dword_4E1178);
  }
}
// 4E1178: using guessed type int dword_4E1178;

//----- (0046C040) --------------------------------------------------------
int __thiscall CPlayer::IsPCBang(_DWORD *this)
{
  int result; // eax

  if ( dword_4E35B8 )
    result = 0;
  else
    result = *(_DWORD *)(this[419] + 156) & 0x200;
  return result;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (0046C070) --------------------------------------------------------
void __thiscall CPlayer::Shortcut(_DWORD *this, int a2, void *Src, int a4)
{
  char v5[40]; // [esp+4h] [ebp-2Ch] BYREF
  int v6; // [esp+2Ch] [ebp-4h]

  v6 = dword_4D9830;
  if ( a2 )
  {
    if ( ScanPacket((char *)Src, (char *)a4, "m", v5, 40) != Src )
      CDBSocket::Write(67, "bdm", a2, this[113], v5, 40);
  }
  else
  {
    CDBSocket::Write(67, "bdd", 0, this[113], this[7]);
  }
}
// 4D9830: using guessed type int dword_4D9830;

//----- (0046C100) --------------------------------------------------------
void __thiscall CPlayer::OnGetMyTelPt(void *this, int a2, int a3)
{
  char *v3; // eax
  _BYTE *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  int v7; // eax
  char v9[8]; // [esp+4h] [ebp-8Ch] BYREF
  std::string v10; // [esp+Ch] [ebp-84h] BYREF
  char v11[44]; // [esp+28h] [ebp-68h] BYREF
  int i; // [esp+54h] [ebp-3Ch]
  char *v13; // [esp+58h] [ebp-38h]
  char str[24]; // [esp+5Ch] [ebp-34h] BYREF
  int v15; // [esp+74h] [ebp-1Ch]
  char *v16; // [esp+78h] [ebp-18h]
  void *a2a; // [esp+7Ch] [ebp-14h]
  char v18[4]; // [esp+80h] [ebp-10h] BYREF
  char v19[4]; // [esp+84h] [ebp-Ch] BYREF
  char v20[4]; // [esp+88h] [ebp-8h] BYREF
  char v21[4]; // [esp+8Ch] [ebp-4h] BYREF

  v15 = dword_4D9830;
  a2a = CIOBuffer::Alloc();
  v13 = (char *)a2a;
  *((_BYTE *)a2a + 2) = 31;
  v16 = v13 + 4;
  sub_412E90((CIOCriticalSection *)this);
  sub_46C290(v18);
  for ( i = 0; i < a2; ++i )
  {
    v3 = GetString((char *)a3, str);
    v4 = GetNumeric<unsigned char>(v3, v18);
    v5 = GetNumeric<int>(v4, v19);
    v6 = GetNumeric<int>(v5, v20);
    a3 = (int)GetNumeric<int>(v6, v21);
    v16 = PutString(v16, str);
    std::string::string((std::vector<IPAddrMask> *)&v10, str);
    v7 = sub_472950((int)v11, &v10, v18);
    sub_471D20(
      (int)this + 1500,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v9,
      v7);
    sub_46C2D0(v11);
    sub_40F780(&v10);
  }
  sub_412EB0((CIOCriticalSection *)this);
  WritePacket(v13 + 3, "b", a2);
  *(_WORD *)v13 = (_WORD)v16 - (_WORD)v13;
  *((_DWORD *)a2a + 2000) = *(unsigned __int16 *)v13;
  CSocket::_CSocket(*((_DWORD *)this + 419), a2a);
}
// 4D9830: using guessed type int dword_4D9830;

//----- (0046C290) --------------------------------------------------------
_DWORD *__thiscall sub_46C290(_DWORD *this)
{
  this[3] = 0;
  this[2] = 0;
  this[1] = 0;
  *this = 0;
  return this;
}

//----- (0046C2D0) --------------------------------------------------------
void __thiscall sub_46C2D0(void *this)
{
  sub_40F780(this);
}

//----- (0046C2F0) --------------------------------------------------------
void __thiscall CPlayer::SetMyTelPt(int *this, int a2, void *Src, int a4)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v4; // eax
  int v5; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int *v11; // eax
  char v13[4]; // [esp+8h] [ebp-170h] BYREF
  char v14[28]; // [esp+Ch] [ebp-16Ch] BYREF
  char v15[4]; // [esp+28h] [ebp-150h] BYREF
  char v16[8]; // [esp+2Ch] [ebp-14Ch] BYREF
  std::string v17; // [esp+34h] [ebp-144h] BYREF
  char v18[44]; // [esp+50h] [ebp-128h] BYREF
  char v19[4]; // [esp+7Ch] [ebp-FCh] BYREF
  char v20[4]; // [esp+80h] [ebp-F8h] BYREF
  char v21[28]; // [esp+84h] [ebp-F4h] BYREF
  char v22[4]; // [esp+A0h] [ebp-D8h] BYREF
  char v23[28]; // [esp+A4h] [ebp-D4h] BYREF
  char v24[31]; // [esp+C0h] [ebp-B8h] BYREF
  bool v25; // [esp+DFh] [ebp-99h]
  char v26[8]; // [esp+E0h] [ebp-98h] BYREF
  std::string v27; // [esp+E8h] [ebp-90h] BYREF
  char v28[44]; // [esp+104h] [ebp-74h] BYREF
  char v29[4]; // [esp+130h] [ebp-48h] BYREF
  char v30[28]; // [esp+134h] [ebp-44h] BYREF
  char v31[4]; // [esp+150h] [ebp-28h] BYREF
  int *v32; // [esp+154h] [ebp-24h]
  char *Str; // [esp+158h] [ebp-20h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v34; // [esp+15Ch] [ebp-1Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v35; // [esp+160h] [ebp-18h] BYREF
  char v36[16]; // [esp+164h] [ebp-14h] BYREF
  char *name; // [esp+174h] [ebp-4h] BYREF
  char *Srca; // [esp+184h] [ebp+Ch]

  Srca = ScanPacket((char *)Src, (char *)a4, "s", &name, 21);
  if ( IsValidName(name) )
  {
    sub_412E90((CIOCriticalSection *)this);
    switch ( a2 )
    {
      case 0:
        if ( CSMap::IsValidTile((_DWORD *)this[80], this + 83, 1179648)
          && (this[83] <= 17000 || this[83] >= 23000 || this[84] <= 64000 || this[84] >= 70000) )
        {
          std::string::string((std::vector<IPAddrMask> *)v30, name);
          sub_4726F0(this + 375, &v35, v30);
          sub_40F780(v30);
          v4 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(this + 375, (int)v29);
          if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                 &v35,
                 v4) )
          {
            CPlayer::Write((int)this, 68, "bb", 80, 2);
          }
          else if ( CPlayer::RemoveItem((CPlayer *)this, 9, 509, 1) || CPlayer::RemoveItem((CPlayer *)this, 9, 510, 1) )
          {
            sub_46C920(v36, this[79], this + 83, this[85]);
            std::string::string((std::vector<IPAddrMask> *)&v27, name);
            v5 = sub_472950((int)v28, &v27, v36);
            sub_471D20(
              (int)(this + 375),
              (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v26,
              v5);
            sub_46C2D0(v28);
            sub_40F780(&v27);
            CDBSocket::Write(71, "dbsbddd", this[113], a2, name, this[79], this[83], this[84], this[85]);
          }
        }
        else
        {
          CPlayer::Write((int)this, 68, "bb", 80, 1);
        }
        break;
      case 1:
        std::string::string((std::vector<IPAddrMask> *)v24, name);
        v25 = sub_472690(this + 375, (int)v24) == 0;
        sub_40F780(v24);
        if ( !v25 )
          CDBSocket::Write(71, "dbs", this[113], a2, name);
        break;
      case 2:
        ScanPacket(Srca, (char *)a4, "s", &Str, 21);
        if ( IsValidName(Str) )
        {
          std::string::string((std::vector<IPAddrMask> *)v23, Str);
          sub_4726F0(this + 375, &v34, v23);
          sub_40F780(v23);
          v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(this + 375, (int)v22);
          if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
                 &v34,
                 v6) )
          {
            CPlayer::Write((int)this, 68, "bb", 80, 2);
          }
          else
          {
            std::string::string((std::vector<IPAddrMask> *)v21, name);
            v34._Myptr = (CIOSocket::CIOTimer *)*sub_4726F0(this + 375, v20, v21);
            sub_40F780(v21);
            v7 = sub_430C20(this + 375, (int)v19);
            if ( !(unsigned __int8)unknown_libname_8(v7) )
            {
              std::string::string((std::vector<IPAddrMask> *)&v17, Str);
              v8 = sub_420250(&v34);
              v9 = sub_472950((int)v18, &v17, (_DWORD *)(v8 + 28));
              sub_471D20(
                (int)(this + 375),
                (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v16,
                v9);
              sub_46C2D0(v18);
              sub_40F780(&v17);
              sub_471F00(this + 375, v15, (int)v34._Myptr);
              CDBSocket::Write(71, "dbss", this[113], a2, name, Str);
            }
          }
        }
        else
        {
          CPlayer::Write((int)this, 68, "bb", 80, 0);
        }
        break;
      case 3:
        if ( !sub_40B310(this, 256)
          && (this[83] <= 17000 || this[83] >= 23000 || this[84] <= 64000 || this[84] >= 70000) )
        {
          std::string::string((std::vector<IPAddrMask> *)v14, name);
          sub_4726F0(this + 375, v31, v14);
          sub_40F780(v14);
          v10 = sub_430C20(this + 375, (int)v13);
          if ( !(unsigned __int8)unknown_libname_8(v10)
            && (CPlayer::RemoveItem((CPlayer *)this, 9, 511, 1) || CPlayer::RemoveItem((CPlayer *)this, 9, 512, 1)) )
          {
            v11 = (int *)sub_420250(v31);
            v32 = v11 + 7;
            CPlayer::Teleport(this, v11[7], v11 + 8, v11[10], 0);
          }
        }
        break;
      default:
        break;
    }
    sub_412EB0((CIOCriticalSection *)this);
  }
  else
  {
    CPlayer::Write((int)this, 68, "bb", 80, 0);
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0046C920) --------------------------------------------------------
_DWORD *__thiscall sub_46C920(_DWORD *this, int a2, _DWORD *a3, int a4)
{
  int v4; // ecx

  *this = a2;
  v4 = a3[1];
  this[1] = *a3;
  this[2] = v4;
  this[3] = a4;
  return this;
}

//----- (0046C960) --------------------------------------------------------
void __thiscall CPlayer::OnSetMyTelPt(_DWORD *this, int a2, void *Src)
{
  const char *v4; // [esp+4h] [ebp-8h] BYREF
  char v5; // [esp+Bh] [ebp-1h] BYREF

  if ( !a2 )
  {
    ReadPacket((char *)Src, "bs", &v5, &v4);
    if ( v5 )
    {
      CPlayer::Write((int)this, 32, "bs", 0, v4);
    }
    else
    {
      CPlayer::Write((int)this, 68, "bb", 80, 3);
      LOG_ERR("CPlayer::OnSetMyTelPt() save myteleport point error.(PID:%d, Lod:%s)", this[113], v4);
    }
  }
}

//----- (0046C9F0) --------------------------------------------------------
int __thiscall CPlayer::GetPalsyDamage(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-4Ch]
  int v4; // [esp+4h] [ebp-48h]
  int v5; // [esp+20h] [ebp-2Ch]
  int v6; // [esp+24h] [ebp-28h]
  int v7; // [esp+28h] [ebp-24h]
  int v8; // [esp+2Ch] [ebp-20h]
  int v10; // [esp+38h] [ebp-14h]
  int v11; // [esp+3Ch] [ebp-10h]
  int v12; // [esp+40h] [ebp-Ch]
  int v13; // [esp+44h] [ebp-8h]

  if ( !this[149] )
    return 0;
  v11 = this[15] - *(_DWORD *)(a2 + 60);
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 60))(a2) )
  {
    if ( v11 < 0 )
    {
      if ( abs(v11) >= 7 )
        v7 = 7;
      else
        v7 = abs(v11);
      v10 = dword_4D92DC[v7] * dword_4D9268[this[149]] / 100;
    }
    else
    {
      if ( v11 >= 7 )
        v8 = 7;
      else
        v8 = v11;
      v10 = dword_4D92BC[v8] * dword_4D9268[this[149]] / 100;
    }
  }
  else
  {
    if ( v11 < 0 )
    {
      if ( abs(v11) >= 30 )
        v5 = 30;
      else
        v5 = abs(v11);
      v10 = dword_4D9320[v5] * dword_4D9268[this[149]] / 100;
    }
    else
    {
      if ( v11 >= 7 )
        v6 = 7;
      else
        v6 = v11;
      v10 = dword_4D92FC[v6] * dword_4D9268[this[149]] / 100;
    }
    if ( CChar::IsBState((_QWORD *)a2, 2048i64) )
    {
      v10 += 3;
    }
    else if ( CChar::IsBState((_QWORD *)a2, 4096i64) )
    {
      v10 += 5;
    }
    else if ( CChar::IsBState((_QWORD *)a2, 0x100000000i64) )
    {
      v10 += 3;
    }
  }
  if ( v10 < RandomBetween(1, 100) )
    return 0;
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 64))(a2) )
    v4 = sub_438FA0((_DWORD *)a2, 4) / 10;
  else
    v4 = sub_438FA0((_DWORD *)a2, 4);
  v13 = v4 < 0 ? 0 : v4;
  if ( v13 >= 100 )
    v3 = 0;
  else
    v3 = 100 - v13;
  if ( this[115] == 1 )
    v12 = v3
        * (3 * this[151] + RandomBetween(this[154] + this[149] * this[154] / 20, this[155] + this[149] * this[155] / 10))
        / 100;
  else
    v12 = v3
        * (3 * this[150] + RandomBetween(this[152] + this[149] * this[152] / 20, this[153] + this[149] * this[153] / 10))
        / 100;
  return v12;
}

//----- (0046CD70) --------------------------------------------------------
int __thiscall CPlayer::CanMove(int this)
{
  int result; // eax

  if ( sub_40B310((_DWORD *)this, 38) )
  {
    CPlayer::Write(
      this,
      33,
      "ddddw",
      *(_DWORD *)(this + 28),
      *(_DWORD *)(this + 332),
      *(_DWORD *)(this + 336),
      *(_DWORD *)(this + 340),
      *(_DWORD *)(this + 348));
    result = 0;
  }
  else if ( sub_40B310((_DWORD *)this, 4096) )
  {
    result = 0;
  }
  else
  {
    if ( sub_40B310((_DWORD *)this, 0x2000) )
    {
      CChar::SubGState((volatile LONG *)this, 0x2000);
      *(_DWORD *)(this + 1448) = GetTickCount();
    }
    result = 1;
  }
  return result;
}

//----- (0046CE20) --------------------------------------------------------
void __thiscall CPlayer::NPCProcess(void *this, char a2, int a3, int a4, int a5)
{
  volatile int *v6; // [esp+8h] [ebp-4h]

  v6 = CNPC::FindNPC(a2);
  if ( v6 )
  {
    if ( (*(int (__thiscall **)(volatile int *, char *))(*v6 + 188))(v6, (char *)this + 332) )
    {
      if ( !a3 )
        (*(void (__thiscall **)(volatile int *, void *, int, int))(*v6 + 212))(v6, this, a4, a5);
    }
    sub_401DE0((int *)v6);
  }
}

//----- (0046CEA0) --------------------------------------------------------
void __thiscall CPlayer::ChangePlayerName(char *this, char *Str)
{
  CBuffMoveSpeed *v2; // [esp-4h] [ebp-10h]

  if ( CChar::IsBState(this, 0x800000i64) )
  {
    CPlayer::Write((int)this, 68, "bb", 100, 9);
  }
  else if ( IsValidName(Str) && strlen(Str) <= 0xE && strcmp(this + 32, Str) )
  {
    if ( CPlayer::FindItem((CIOCriticalSection *)this, 639, 1) )
    {
      v2 = CBuff::CreateBuff(97, 1814400, 0, 0);
      (*(void (__thiscall **)(char *, CBuffMoveSpeed *))(*(_DWORD *)this + 180))(this, v2);
      CDBSocket::Write(72, "ddss", *((_DWORD *)this + 7), *((_DWORD *)this + 113), this + 32, Str);
    }
    else
    {
      CPlayer::Write((int)this, 68, "bb", 100, 10);
    }
  }
  else
  {
    CPlayer::Write((int)this, 68, "bbs", 100, 1, Str);
  }
}

//----- (0046CFC0) --------------------------------------------------------
void __thiscall CPlayer::OnChangePlayerName(int this, int a2, char *Source)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v3; // eax
  char v5[8]; // [esp+4h] [ebp-24h] BYREF
  int v6; // [esp+Ch] [ebp-1Ch]
  int v7; // [esp+10h] [ebp-18h]
  char v8[8]; // [esp+14h] [ebp-14h] BYREF
  int v9; // [esp+1Ch] [ebp-Ch] BYREF
  int v10; // [esp+20h] [ebp-8h]
  int v11; // [esp+24h] [ebp-4h]

  if ( a2 )
  {
    sub_412E90((CIOCriticalSection *)this);
    if ( !sub_40B2F0((_DWORD *)this) )
    {
      CRWLock::WriteLock(&unk_4E2050);
      v9 = this + 32;
      sub_470600(dword_4E2044, (int)&v9);
      strcpy((char *)(this + 32), Source);
      v7 = this;
      v6 = this + 32;
      std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v8);
      sub_470440(
        (int)dword_4E2044,
        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v5,
        v3);
      CRWLock::WriteUnlock(&unk_4E2050);
    }
    v10 = *(_DWORD *)(this + 480);
    v11 = *(_DWORD *)(this + 452);
    sub_412EB0((CIOCriticalSection *)this);
    if ( !CPlayer::RemoveItem((CPlayer *)this, 9, 639, 1) )
      LOG_ERR("OnChangePlayerName() RemoveItem Error (%d)", 639);
    CGuild::ChangePlayerName(v10, v11, Source);
    CPlayer::Write(this, 68, "bbs", 100, 3, Source);
  }
  else
  {
    CChar::CancelBuff((_DWORD *)this, 97);
    CPlayer::Write(this, 68, "bbs", 100, 2, Source);
  }
}
// 46D06A: variable 'v3' is possibly undefined

//----- (0046D100) --------------------------------------------------------
void __thiscall CPlayer::ChangeGuildName(int this, char *Str)
{
  CBuffMoveSpeed *v2; // [esp-4h] [ebp-14h]
  int v4; // [esp+Ch] [ebp-4h]

  if ( CChar::IsBState((_QWORD *)this, 0x1000000i64) )
  {
    CPlayer::Write(this, 68, "bb", 100, 9);
  }
  else
  {
    v4 = CPlayer::GetGID((CIOCriticalSection *)this);
    if ( v4 && *(_DWORD *)(this + 452) == v4 )
    {
      if ( IsValidName(Str) && strlen(Str) <= 0xE && strcmp((const char *)(this + 492), Str) )
      {
        if ( CPlayer::FindItem((CIOCriticalSection *)this, 640, 1) )
        {
          v2 = CBuff::CreateBuff(98, 1814400, 0, 0);
          (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)this + 180))(this, v2);
          CDBSocket::Write(73, "ddss", *(_DWORD *)(this + 28), *(_DWORD *)(this + 452), this + 492, Str);
        }
        else
        {
          CPlayer::Write(this, 68, "bb", 100, 11);
        }
      }
      else
      {
        CPlayer::Write(this, 68, "bbs", 100, 5, Str);
      }
    }
    else
    {
      CPlayer::Write(this, 68, "bb", 100, 4);
    }
  }
}

//----- (0046D260) --------------------------------------------------------
void __thiscall CPlayer::OnChangeGuildName(int this, int a2, char *Source)
{
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  if ( a2 )
  {
    sub_412E90((CIOCriticalSection *)this);
    strcpy((char *)(this + 492), Source);
    v4 = *(_DWORD *)(this + 480);
    v5 = *(_DWORD *)(this + 452);
    sub_412EB0((CIOCriticalSection *)this);
    if ( !CPlayer::RemoveItem((CPlayer *)this, 9, 640, 1) )
      LOG_ERR("OnChangeGuildName() RemoveItem Error (%d)", 640);
    CGuild::ChangeGuildName(v4, v5, Source);
    CPlayer::Write(this, 68, "bbs", 100, 7, Source);
  }
  else
  {
    CChar::CancelBuff((_DWORD *)this, 98);
    CPlayer::Write(this, 68, "bbs", 100, 6, Source);
  }
}

//----- (0046D340) --------------------------------------------------------
void __thiscall CPlayer::EventProcessNPC(_DWORD *this, int a2, int a3, int a4)
{
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v6 = 0;
  if ( (dword_4E1178 & 0x100) != 0 )
  {
    if ( sub_46D4B0(a2, 1) && a3 > 0 )
    {
      if ( a3 < 650 )
      {
        if ( a3 < 600 )
        {
          if ( a3 < 150 )
          {
            if ( CPlayer::InsertOwnItem((CIOCriticalSection *)this, 759, 1) != 1 )
              return;
            v5 = 759;
          }
          else
          {
            if ( CPlayer::InsertOwnItem((CIOCriticalSection *)this, 473, 1) != 1 )
              return;
            v5 = 473;
          }
        }
        else
        {
          if ( CPlayer::InsertOwnItem((CIOCriticalSection *)this, 362, 1) != 1 )
            return;
          v5 = 362;
        }
      }
      else
      {
        if ( CPlayer::InsertOwnItem((CIOCriticalSection *)this, 469, 1) != 1 )
          return;
        v5 = 469;
      }
      v6 = 1;
      sub_46D490(&a2, 1);
      CAuthSocket::Write(17, "dddd", this[112], a2, a3, v5);
    }
    else
    {
      a3 = 0;
    }
    if ( !v6 )
      CPlayer::Write((int)this, 68, "b", 112);
  }
}
// 4E1178: using guessed type int dword_4E1178;

//----- (0046D490) --------------------------------------------------------
int __stdcall sub_46D490(int *a1, int a2)
{
  int result; // eax

  result = *a1 & ~a2;
  *a1 = result;
  return result;
}

//----- (0046D4B0) --------------------------------------------------------
int __stdcall sub_46D4B0(int a1, int a2)
{
  return a2 & a1;
}

//----- (0046D4D0) --------------------------------------------------------
int __thiscall CPlayer::InsertOwnItem(CIOCriticalSection *this, int a2, int a3)
{
  int result; // eax
  CItem *item; // [esp+4h] [ebp-14h]

  if ( a2 == 31 )
    return 0;
  item = (CItem *)CItem::CreateOwnItem(a2, 0, a3, -1);
  if ( !item )
    return 0;
  sub_4010D0((int)item);
  if ( sub_45DDC0(this, 3, (int)item) == 0 )
  {
    CBase::Delete(item);
    result = 2;
  }
  else
  {
    sub_401DE0((int *)item);
    result = 1;
  }
  return result;
}

//----- (0046D570) --------------------------------------------------------
void __thiscall CPlayer::ExchangeDanjiToItem(CIOCriticalSection *this, int a2, CPlayer *a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = RandomBetween(1, 1000);
  if ( v4 <= 200 )
  {
    if ( a2 )
      CPlayer::ExchahgeItem(this, a3, 1, 2, 48, 100);
    else
      CPlayer::ExchahgeItem(this, a3, 1, 2, 48, 150);
    return;
  }
  if ( v4 > 550 )
  {
    if ( v4 <= 700 )
    {
      if ( a2 )
      {
        CPlayer::ExchahgeItem(this, a3, 1, 2, 206, 1);
        return;
      }
      goto LABEL_11;
    }
    if ( v4 <= 750 )
    {
      if ( a2 )
      {
        CPlayer::ExchahgeItem(this, a3, 1, 2, 207, 1);
        return;
      }
      goto LABEL_15;
    }
    if ( v4 <= 900 )
    {
      if ( !a2 )
      {
        CPlayer::ExchahgeItem(this, a3, 1, 2, 517, 10);
        return;
      }
LABEL_11:
      CPlayer::ExchahgeItem(this, a3, 1, 2, 447, 10);
      return;
    }
    if ( v4 <= 940 )
    {
      if ( !a2 )
      {
        CPlayer::ExchahgeItem(this, a3, 1, 2, 638, 1);
        return;
      }
LABEL_15:
      CPlayer::ExchahgeItem(this, a3, 1, 2, 241, 10);
      return;
    }
    if ( v4 <= 955 )
    {
      if ( a2 )
      {
        CPlayer::ExchahgeItem(this, a3, 1, 2, 220, 1);
        return;
      }
LABEL_27:
      CPlayer::ExchahgeItem(this, a3, 1, 2, 327, 1);
      return;
    }
    if ( v4 <= 970 )
    {
      if ( a2 )
        goto LABEL_27;
LABEL_31:
      CPlayer::ExchahgeItem(this, a3, 1, 2, 331, 1);
      return;
    }
    if ( v4 <= 980 )
    {
      if ( a2 )
        goto LABEL_31;
LABEL_35:
      CPlayer::ExchahgeItem(this, a3, 1, 2, 329, 1);
      return;
    }
    if ( v4 <= 990 )
    {
      if ( a2 )
        goto LABEL_35;
LABEL_39:
      CPlayer::ExchahgeItem(this, a3, 1, 2, 332, 1);
      return;
    }
    if ( v4 > 995 )
    {
      if ( !a2 )
      {
        CPlayer::ExchahgeItem(this, a3, 1, 2, 221, 1);
        return;
      }
    }
    else if ( a2 )
    {
      goto LABEL_39;
    }
    CPlayer::ExchahgeItem(this, a3, 1, 2, 523, 1);
    return;
  }
  if ( a2 )
    CPlayer::ExchahgeItem(this, a3, 1, 2, 31, 10000);
  else
    CPlayer::ExchahgeItem(this, a3, 1, 2, 31, 20000);
}

//----- (0046D8B0) --------------------------------------------------------
void __thiscall CPlayer::SiegeGunProcess(CIOCriticalSection *this, int a2, int a3, int a4, int a5)
{
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-10h] [ebp-30h]
  CIOObject_vtbl *v9; // [esp-Ch] [ebp-2Ch]
  int v10; // [esp-8h] [ebp-28h]
  CIOObject *v12; // [esp+14h] [ebp-Ch]
  CIOObject *v13; // [esp+18h] [ebp-8h]
  CIOCriticalSection *v14; // [esp+1Ch] [ebp-4h]

  v14 = (CIOCriticalSection *)CNPC::FindNPC(a3);
  if ( v14 )
  {
    sub_412E90(this);
    if ( ((int (__thiscall *)(CIOCriticalSection *, void **))v14->m_critical_section.DebugInfo[5].Spare[1])(
           v14,
           &this[10].m_critical_section.OwningThread) )
    {
      if ( a2 )
      {
        switch ( a4 )
        {
          case 0:
            v13 = CMonster::FindMonster(v14[15].m_dwEIP[0]);
            if ( v13 )
            {
              if ( CChar::IsBState(this, 0x4000000000i64)
                || sub_44A940(&this[19].m_critical_section.LockSemaphore, 80)
                || sub_44A940(&this[19].m_critical_section.LockSemaphore, 81) )
              {
                if ( v13[33].__vftable )
                {
                  v12 = CPlayer::FindPlayer_((int)v13[33].__vftable);
                  CPlayer::Write((int)this, 68, "bs", 125, &v12[2]);
                  CIOObject::Release(v13, (volatile int *)&v13[22]);
                  CIOObject::Release(v12, (volatile int *)&v12[22]);
                }
                else if ( (_RTL_CRITICAL_SECTION_DEBUG *)v13[32].m_nGeneralRef == this[15].m_critical_section.DebugInfo )
                {
                  if ( sub_40B310(v14, 64) )
                  {
                    CPlayer::Write((int)this, 67, "b", 120);
                  }
                  else
                  {
                    ((void (__thiscall *)(CIOCriticalSection *, int, int))this->m_critical_section.DebugInfo[3].ProcessLocksList.Flink)(
                      this,
                      0x80000,
                      0x10000);
                    v10 = v13[21].m_nGeneralRef;
                    v9 = v13[44].__vftable;
                    v8 = std::_Mpunct<wchar_t>::do_frac_digits(v13);
                    CPlayer::Write((int)this, 1, "bdwws", 0, v8, v9, v10, &this[1]);
                    v5 = std::_Mpunct<wchar_t>::do_frac_digits(v13);
                    CChar::WriteInSight((int)this, 1, "bds", 6, v5, &this[1]);
                    v6 = std::_Mpunct<wchar_t>::do_frac_digits(this);
                    CNPCSiegeGunStone::SetOperator(v14, v6);
                    this[51].m_critical_section.LockCount = std::_Mpunct<wchar_t>::do_frac_digits(v13);
                    v7 = std::_Mpunct<wchar_t>::do_frac_digits(this);
                    CMonsterSiegeGun::SetOperator((CIOCriticalSection *)v13, v7);
                    this[51].m_critical_section.RecursionCount = a3;
                    CIOObject::Release(v13, (volatile int *)&v13[22]);
                  }
                }
                else
                {
                  CPlayer::Write((int)this, 67, "b", 124);
                  CIOObject::Release(v13, (volatile int *)&v13[22]);
                }
              }
              else
              {
                CPlayer::Write((int)this, 67, "b", 130);
                CIOObject::Release(v13, (volatile int *)&v13[22]);
              }
            }
            goto LABEL_30;
          case 1:
            this[51].m_critical_section.RecursionCount = a3;
            ((void (__thiscall *)(CIOCriticalSection *, CIOCriticalSection *, int))v14->m_critical_section.DebugInfo[6].Spare[1])(
              v14,
              this,
              1);
            goto LABEL_30;
          case 2:
            this[51].m_critical_section.RecursionCount = 0;
            ((void (__thiscall *)(CIOCriticalSection *, CIOCriticalSection *, _DWORD))v14->m_critical_section.DebugInfo[6].Spare[1])(
              v14,
              this,
              0);
            goto LABEL_30;
        }
      }
      else
      {
        switch ( a4 )
        {
          case 0:
            sub_4490A0(a3, (int)this);
            goto LABEL_30;
          case 1:
            this[51].m_critical_section.RecursionCount = a3;
            ((void (__thiscall *)(CIOCriticalSection *, CIOCriticalSection *, int, int))v14->m_critical_section.DebugInfo[6].Spare[0])(
              v14,
              this,
              1,
              a5);
            goto LABEL_30;
          case 2:
            this[51].m_critical_section.RecursionCount = 0;
            ((void (__thiscall *)(CIOCriticalSection *, CIOCriticalSection *, _DWORD, _DWORD))v14->m_critical_section.DebugInfo[6].Spare[0])(
              v14,
              this,
              0,
              0);
            goto LABEL_30;
        }
      }
      LOG_ERR("SiegeGunProcess Unknown Sequence : ", a4);
    }
LABEL_30:
    sub_401DE0((int *)v14);
    sub_412EB0(this);
  }
}

//----- (0046DC50) --------------------------------------------------------
void __thiscall CPlayer::SiegeGunControl(CIOCriticalSection *this, int a2, void *src, int a4)
{
  int v4; // eax
  int v5; // [esp-Ch] [ebp-2Ch]
  int v6; // [esp-8h] [ebp-28h]
  int v7; // [esp-4h] [ebp-24h]
  int v8; // [esp-4h] [ebp-24h]
  CIOCriticalSection *v10; // [esp+8h] [ebp-18h]
  int v11; // [esp+Ch] [ebp-14h] BYREF
  _DWORD a2a[2]; // [esp+10h] [ebp-10h] BYREF
  CIOObject *v13; // [esp+18h] [ebp-8h]
  unsigned __int8 v14; // [esp+1Fh] [ebp-1h] BYREF

  v13 = CMonster::FindMonster(this[51].m_critical_section.LockCount);
  if ( v13 )
  {
    v14 = 0;
    v11 = 0;
    sub_412E90(this);
    switch ( a2 )
    {
      case 0:
      case 1:
        ReadPacket((char *)src, "d", &v11);
        v10 = (CIOCriticalSection *)CNPC::FindNPC(this[51].m_critical_section.RecursionCount);
        if ( v10 )
        {
          CNPCSiegeGunStone::SetOperator(v10, 0);
          sub_401DE0((int *)v10);
        }
        CMonsterSiegeGun::SetOperator((CIOCriticalSection *)v13, 0);
        this[51].m_critical_section.LockCount = 0;
        ((void (__thiscall *)(CIOCriticalSection *, int, int))this->m_critical_section.DebugInfo[3].Spare[1])(
          this,
          0x80000,
          0x10000);
        v7 = std::_Mpunct<wchar_t>::do_frac_digits(v13);
        CPlayer::Write((int)this, 1, "bd", 1, v7);
        this[51].m_critical_section.RecursionCount = 0;
        break;
      case 2:
        ReadPacket((char *)src, "ddb", &dword_4E2104, &dword_4E2108, &v14);
        CChar::SetDirection(
          v13,
          dword_4E2104 - (unsigned int)this[10].m_critical_section.OwningThread,
          dword_4E2108 - (unsigned int)this[10].m_critical_section.LockSemaphore);
        v8 = v14;
        v6 = dword_4E2108;
        v5 = dword_4E2104;
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(v13);
        CChar::WriteInSight((int)this, 1, "bdddb", 2, v4, v5, v6, v8);
        break;
      case 3:
        break;
      case 4:
        ReadPacket((char *)src, "dd", &dword_4E2104, &dword_4E2108);
        a2a[0] = dword_4E2104;
        a2a[1] = dword_4E2108;
        CMonsterSiegeGun::SetFire((CIOCriticalSection *)v13, a2a);
        break;
      default:
        LOG_ERR("SiegeGunControl Unknown Sequence : ", a2);
        break;
    }
    sub_412EB0(this);
    CIOObject::Release(v13, (volatile int *)&v13[22]);
  }
}
// 4E2104: using guessed type int dword_4E2104;
// 4E2108: using guessed type int dword_4E2108;

//----- (0046DE50) --------------------------------------------------------
void __thiscall CPlayer::SiegeGunUnset(CIOCriticalSection *this, int a2)
{
  CIOCriticalSection *v3; // [esp+8h] [ebp-4h]

  sub_412E90(this);
  if ( a2 == 1 )
  {
    ((void (__thiscall *)(CIOCriticalSection *, int, int))this->m_critical_section.DebugInfo[3].Spare[1])(
      this,
      0x80000,
      0x10000);
    CChar::WriteInSight((int)this, 0, "bdd", 4, this[51].m_critical_section.RecursionCount, this[8].m_dwEIP[0]);
    this[51].m_critical_section.LockCount = 0;
    v3 = (CIOCriticalSection *)CNPC::FindNPC(this[51].m_critical_section.RecursionCount);
    if ( v3 )
    {
      sub_4021B0((int)v3[14].m_critical_section.LockSemaphore, 0);
      CNPCSiegeGunStone::SetOperator(v3, 0);
      CNPCSiegeGunStone::SetSiegeGun(v3, 0);
      this[51].m_critical_section.RecursionCount = 0;
    }
    sub_401DE0((int *)v3);
  }
  sub_412EB0(this);
}

//----- (0046DF30) --------------------------------------------------------
int __thiscall CPlayer::ReturnToPoint(_DWORD *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  __int64 v3; // rax
  __int64 v5; // [esp+0h] [ebp-54h]
  char v7[4]; // [esp+14h] [ebp-40h] BYREF
  char v8[4]; // [esp+18h] [ebp-3Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v9; // [esp+1Ch] [ebp-38h] BYREF
  _DWORD v10[3]; // [esp+20h] [ebp-34h] BYREF
  _DWORD a3[2]; // [esp+2Ch] [ebp-28h] BYREF
  __int64 v12; // [esp+34h] [ebp-20h]
  int v13; // [esp+40h] [ebp-14h]
  __int64 v14; // [esp+44h] [ebp-10h]
  int v15; // [esp+50h] [ebp-4h]

  sub_47D030(v10);
  CNPC::GetNPCList((int)v10, a2, this[79]);
  v15 = 0;
  v13 = 0;
  v14 = 0x7FFFFFFFFFFFFFFFi64;
  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
    (std::list<tagPARTICLES *> *)v10,
    (std::list<tagPARTICLES *>::iterator *)&v9);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(v10, (int)v7);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v9,
            v2) )
      break;
    v15 = *(_DWORD *)sub_40F040(&v9);
    v12 = v14;
    v3 = sub_43D870(this + 83, (_DWORD *)(v15 + 332));
    if ( v14 >= v3 )
      v5 = sub_43D870(this + 83, (_DWORD *)(v15 + 332));
    else
      v5 = v14;
    v14 = v5;
    if ( v12 != v5 )
      v13 = v15;
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)&v9, v8, 0);
  }
  a3[0] = RandomBetween(*(_DWORD *)(*(_DWORD *)(v13 + 444) + 60), *(_DWORD *)(*(_DWORD *)(v13 + 444) + 60) + 32);
  a3[1] = RandomBetween(*(_DWORD *)(*(_DWORD *)(v13 + 444) + 64), *(_DWORD *)(*(_DWORD *)(v13 + 444) + 64) + 32);
  CPlayer::Teleport(this, *(_DWORD *)(*(_DWORD *)(v13 + 444) + 52), a3, 0, 0);
  return (int)sub_472990((std::list<std::pair<std::string const ,int>> *)v10);
}

//----- (0046E0D0) --------------------------------------------------------
int __cdecl CPlayer::CountWarrelationPlayer()
{
  CIOCriticalSection *v1; // [esp+0h] [ebp-14h]
  CIOCriticalSection *v2; // [esp+0h] [ebp-14h]
  CIOCriticalSection *v3; // [esp+0h] [ebp-14h]
  CIOCriticalSection *v4; // [esp+0h] [ebp-14h]
  CLink *i; // [esp+4h] [ebp-10h]
  XBaseModel *v6; // [esp+8h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-8h]
  int v8; // [esp+10h] [ebp-4h]

  v8 = 0;
  v7 = 0;
  v6 = CCastle::GetCastle(1u);
  if ( v6 )
    v7 = CCastle::GetWarSize(v6);
  CIOCriticalSection::Enter(v1);
  CIOCriticalSection::Enter(v2);
  CLink::MoveTo(&unk_4E200C, &pTo);
  CIOCriticalSection::Leave(v3);
  for ( i = pTo.m_pNext; i != &pTo; i = i->m_pNext )
  {
    v4 = (CIOCriticalSection *)&i[-54].m_pPrev;
    if ( i[7].m_pNext )
    {
      if ( CCastle::IsAllCastleWarRelation(v4[15].m_critical_section.LockCount) )
        ++v8;
    }
  }
  LOG_NORMAL(asc_4BBD80, v7, v8);
  CIOCriticalSection::Leave(v4);
  return v8;
}
// 46E107: variable 'v1' is possibly undefined
// 46E111: variable 'v2' is possibly undefined
// 46E12A: variable 'v3' is possibly undefined
// 46E19C: variable 'v4' is possibly undefined

//----- (0046E1B0) --------------------------------------------------------
void __thiscall CPlayer::EnforceItem(int this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v10; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v13; // eax
  int v14; // [esp-8h] [ebp-80h]
  int v15; // [esp-4h] [ebp-7Ch]
  CIOCriticalSection *v16; // [esp+0h] [ebp-78h]
  CIOCriticalSection *v17; // [esp+0h] [ebp-78h]
  int v18; // [esp+4h] [ebp-74h]
  int v19; // [esp+10h] [ebp-68h]
  char v21[4]; // [esp+20h] [ebp-58h] BYREF
  int v22; // [esp+24h] [ebp-54h] BYREF
  char v23[4]; // [esp+28h] [ebp-50h] BYREF
  int v24; // [esp+2Ch] [ebp-4Ch] BYREF
  char v25[4]; // [esp+30h] [ebp-48h] BYREF
  int v26; // [esp+34h] [ebp-44h] BYREF
  char v27[4]; // [esp+38h] [ebp-40h] BYREF
  int v28; // [esp+3Ch] [ebp-3Ch] BYREF
  char v29[4]; // [esp+40h] [ebp-38h] BYREF
  int v30; // [esp+44h] [ebp-34h] BYREF
  int v31; // [esp+48h] [ebp-30h]
  int v32; // [esp+4Ch] [ebp-2Ch]
  int v33; // [esp+50h] [ebp-28h]
  CPlayer *v34; // [esp+54h] [ebp-24h]
  int v35; // [esp+58h] [ebp-20h]
  int v36; // [esp+5Ch] [ebp-1Ch]
  CItem *item; // [esp+60h] [ebp-18h]
  CPlayer *player; // [esp+64h] [ebp-14h]
  CPlayer *v39; // [esp+68h] [ebp-10h]
  CPlayer *Player; // [esp+6Ch] [ebp-Ch]
  CPlayer *v41; // [esp+70h] [ebp-8h]
  int v42; // [esp+74h] [ebp-4h] BYREF

  std::_String_base::_String_base((std::_String_base *)&v42);
  CIOCriticalSection::Enter(v16);
  if ( !*(_DWORD *)(this + 1096) || *(int *)(*(_DWORD *)(this + 1096) + 52) < 30000 )
  {
    LOG_ERR("EnforceItem() PID(%d) Not Enough Money ", *(_DWORD *)(this + 452));
LABEL_139:
    CIOCriticalSection::Leave(v17);
    CPlayer::Write(this, 68, "bb", 138, 0);
    return;
  }
  v42 = *sub_44AE20((_DWORD *)(this + 1068), &v30, &a3);
  v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1068), (int)v29);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v42,
          v7) )
  {
    LOG_ERR("EnforceItem() PID(%d) ItemIndex(%d) ", *(_DWORD *)(this + 452), a3);
    goto LABEL_139;
  }
  item = *(CItem **)(sub_420250(&v42) + 4);
  v42 = *sub_44AE20((_DWORD *)(this + 1068), &v28, &a4);
  v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1068), (int)v27);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v42,
          v8) )
  {
LABEL_31:
    LOG_ERR("EnforceItem() PID(%d) ItemIID(%d) ", *(_DWORD *)(this + 452), a4);
    goto LABEL_139;
  }
  player = *(CPlayer **)(sub_420250(&v42) + 4);
  if ( *(_DWORD *)(*((_DWORD *)player + 10) + 64) == 906 )
  {
    switch ( *(_DWORD *)(*((_DWORD *)item + 10) + 80) )
    {
      case '(':
        if ( *((int *)player + 13) < 1 )
          goto LABEL_31;
        break;
      case '-':
        if ( *((int *)player + 13) >= 2 )
          break;
        goto LABEL_31;
      case '0':
        if ( *((int *)player + 13) >= 4 )
          break;
        goto LABEL_31;
      case '2':
        if ( *((int *)player + 13) < 6 )
          goto LABEL_31;
        break;
      case '5':
        if ( *((int *)player + 13) >= 6 )
          break;
        goto LABEL_31;
      case '8':
        if ( *((int *)player + 13) < 20 )
          goto LABEL_31;
        break;
      case ';':
        if ( *((int *)player + 13) >= 20 )
          break;
        goto LABEL_31;
      case '>':
        if ( *((int *)player + 13) < 75 )
          goto LABEL_31;
        break;
      case 'A':
        if ( *((int *)player + 13) < 450 )
          goto LABEL_31;
        break;
      default:
        break;
    }
  }
  v42 = *sub_44AE20((_DWORD *)(this + 1068), &v26, &a5);
  v10 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1068), (int)v25);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v42,
          v10) )
  {
    LOG_ERR("EnforceItem() PID(%d) ItemIID(%d) ", *(_DWORD *)(this + 452), a5);
    goto LABEL_139;
  }
  Player = *(CPlayer **)(sub_420250(&v42) + 4);
  v42 = *sub_44AE20((_DWORD *)(this + 1068), &v24, &a6);
  v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1068), (int)v23);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v42,
          v11) )
  {
    LOG_ERR("EnforceItem() PID(%d) ItemIID(%d) ", *(_DWORD *)(this + 452), a6);
    goto LABEL_139;
  }
  v39 = *(CPlayer **)(sub_420250(&v42) + 4);
  if ( a2 )
  {
    v42 = *sub_44AE20((_DWORD *)(this + 1068), &v22, &a7);
    v13 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 1068), (int)v21);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v42,
            v13) )
    {
      LOG_ERR("EnforceItem() PID(%d) ItemIID(%d) ", *(_DWORD *)(this + 452), a6);
      goto LABEL_139;
    }
    v41 = *(CPlayer **)(sub_420250(&v42) + 4);
  }
  if ( !CItem::ChkWeaponUpgrade((int)item, (int)player, (int)Player)
    || a2
    && sub_46EF70(v39) != 904
    && sub_46EF70(v39) != 905
    && sub_46EF70(v41) != 904
    && sub_46EF70(v41) != 905
    && !sub_427130(item, 0x100000) )
  {
    goto LABEL_139;
  }
  switch ( *(_DWORD *)(*((_DWORD *)item + 10) + 80) )
  {
    case '(':
    case '-':
      if ( RandomBetween(0, 99) > 10 )
        goto LABEL_128;
      goto LABEL_61;
    case '0':
    case '2':
      if ( RandomBetween(0, 99) <= 7 )
        goto LABEL_61;
      goto LABEL_128;
    case '5':
      if ( RandomBetween(0, 99) <= 5 )
        goto LABEL_61;
      goto LABEL_128;
    case '8':
      if ( RandomBetween(0, 99) <= 4 )
        goto LABEL_61;
      goto LABEL_128;
    case ';':
    case '>':
    case 'A':
      if ( RandomBetween(0, 99) <= 3 )
        goto LABEL_61;
LABEL_128:
      if ( !(*(int (__thiscall **)(_DWORD))(**(_DWORD **)(this + 1096) + 120))(*(_DWORD *)(this + 1096)) )
        CPlayer::_OutofInven(*(CPlayer **)(this + 1096), (CItem *)this);
      CItem::RemoveItem(v39, (CItem *)9);
      if ( a2 )
        CItem::RemoveItem(v41, (CItem *)0xFFFF8AD0);
      CPlayer::Write(this, 68, "bb", 138, 1);
      *((_DWORD *)item + 24) -= RandomBetween(5, 10);
      if ( *((int *)item + 24) > 0 )
      {
        CPlayer::Write(this, 91, "db", *((_DWORD *)item + 9), *((_DWORD *)item + 24));
        CDBSocket::Write(18, "ddb", *((_DWORD *)item + 9), *(_DWORD *)(this + 452), *((_DWORD *)item + 24));
      }
      else
      {
        CPlayer::Write(this, 91, "db", *((_DWORD *)item + 9), 0);
        if ( *((_DWORD *)item + 11) )
          v17 = *(CIOCriticalSection **)(*((_DWORD *)item + 11) + 32);
        else
          v17 = 0;
        v31 = (unsigned __int8)*((_DWORD *)item + 25) | ((unsigned __int8)*((_DWORD *)item + 21) << 8) | ((unsigned __int8)*((_DWORD *)item + 23) << 16) | ((_DWORD)v17 << 24);
        v32 = ((unsigned __int8)*((_DWORD *)item + 28) << 8) | ((unsigned __int8)*((_DWORD *)item + 26) << 24);
        v33 = ((unsigned __int8)*((_DWORD *)item + 32) << 8) | ((unsigned __int8)*((_DWORD *)item + 31) << 16) | ((unsigned __int8)*((_DWORD *)item + 30) << 24);
        CDBSocket::Write(
          3,
          "ddwdbddd",
          *((_DWORD *)item + 9),
          *(_DWORD *)(this + 452),
          *(_DWORD *)(*((_DWORD *)item + 10) + 64),
          *((_DWORD *)item + 13),
          9,
          v31,
          v32,
          v33);
        CBase::Delete(item);
      }
      CIOCriticalSection::Leave(v17);
      return;
    default:
LABEL_61:
      CDBSocket::Write(21, "dddbb", *((_DWORD *)item + 9), *(_DWORD *)(this + 452), 524032, 0, 39);
      sub_427B90(item, 524032);
      if ( a2 )
      {
        if ( sub_46EF70(v39) == 904 || sub_46EF70(v39) == 905 )
          v34 = v39;
        else
          v34 = v41;
        v19 = sub_46EF70(v34);
        if ( v19 == 904 )
        {
          if ( !sub_427130(item, 0x100000) )
          {
            LOG_ERR(aEnforceItem, *(_DWORD *)(this + 452));
            goto LABEL_139;
          }
          sub_4261F0(item, 0x20000);
        }
        else if ( v19 == 905 )
        {
          if ( !sub_427130(item, 0x100000) )
          {
            LOG_ERR(aEnforceItem_0, *(_DWORD *)(this + 452));
            goto LABEL_139;
          }
          sub_4261F0(item, 0x40000);
        }
      }
      else
      {
        switch ( *(_DWORD *)(*((_DWORD *)v39 + 10) + 64) )
        {
          case 0x37F:
            sub_4261F0(item, 256);
            break;
          case 0x380:
            sub_4261F0(item, 512);
            break;
          case 0x381:
            sub_4261F0(item, 1024);
            break;
          case 0x382:
            sub_4261F0(item, 2048);
            break;
          case 0x383:
            sub_4261F0(item, 4096);
            break;
          case 0x384:
            sub_4261F0(item, 0x2000);
            break;
          case 0x385:
            sub_4261F0(item, 0x4000);
            break;
          case 0x386:
            sub_4261F0(item, 0x8000);
            break;
          case 0x387:
            sub_4261F0(item, 0x10000);
            break;
          default:
            break;
        }
      }
      if ( sub_427130(item, 0x80000) || sub_427130(item, 0x100000) )
      {
        if ( sub_427130(item, 0x80000) )
        {
          CDBSocket::Write(21, "dddbb", *((_DWORD *)item + 9), *(_DWORD *)(this + 452), 0x80000, 0, 39);
          sub_427B90(item, 0x80000);
          sub_4261F0(item, 0x100000);
        }
      }
      else
      {
        sub_4261F0(item, 0x80000);
      }
      if ( *(_DWORD *)(*((_DWORD *)player + 10) + 64) == 906 )
      {
        switch ( *(_DWORD *)(*((_DWORD *)item + 10) + 80) )
        {
          case '(':
            v15 = -1;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '-':
            v15 = -2;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '0':
            v15 = -4;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '2':
            v15 = -6;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '5':
            v15 = -6;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '8':
            v15 = -20;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case ';':
            v15 = -20;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '>':
            v15 = -75;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case 'A':
            v15 = -450;
            v14 = 9;
            if ( !(*(int (__thiscall **)(CPlayer *))(*(_DWORD *)player + 120))(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          default:
            break;
        }
      }
      else
      {
        CItem::RemoveItem(player, v17);
      }
      CItem::RemoveItem(Player, (CItem *)v14);
      if ( !(*(int (__thiscall **)(_DWORD))(**(_DWORD **)(this + 1096) + 120))(*(_DWORD *)(this + 1096)) )
        CPlayer::_OutofInven(*(CPlayer **)(this + 1096), (CItem *)this);
      CItem::RemoveItem(v39, (CItem *)9);
      if ( a2 )
        CItem::RemoveItem(v41, (CItem *)0xFFFF8AD0);
      if ( *((_DWORD *)item + 11) )
        v18 = *(_DWORD *)(*((_DWORD *)item + 11) + 32);
      else
        v18 = 0;
      v35 = (unsigned __int8)*((_DWORD *)item + 25) | ((unsigned __int8)*((_DWORD *)item + 21) << 8) | ((unsigned __int8)*((_DWORD *)item + 23) << 16) | (v18 << 24);
      v36 = ((unsigned __int8)*((_DWORD *)item + 28) << 8) | ((unsigned __int8)*((_DWORD *)item + 26) << 24);
      CDBSocket::Write(
        21,
        "dddbwddb",
        *((_DWORD *)item + 9),
        *(_DWORD *)(this + 452),
        *((_DWORD *)item + 12),
        1,
        *(_DWORD *)(*((_DWORD *)item + 10) + 64),
        v35,
        v36,
        *((_DWORD *)item + 30));
      CItem::SendItemInfo(item, this, 92);
      CIOCriticalSection::Leave((CIOCriticalSection *)v15);
      break;
  }
}
// 46E1CA: variable 'v16' is possibly undefined
// 46EB10: variable 'v17' is possibly undefined
// 46EB1C: variable 'v14' is possibly undefined
// 46EC49: variable 'v15' is possibly undefined

//----- (0046EF70) --------------------------------------------------------
int __thiscall sub_46EF70(_DWORD *this)
{
  return *(_DWORD *)(this[10] + 64);
}

//----- (0046EF90) --------------------------------------------------------
signed int __stdcall CItem::ChkWeaponUpgrade(int nItem_1, int nItem, int nItem_2)
{
  signed int result; // eax

  switch ( *(_DWORD *)(*(_DWORD *)(nItem_1 + 40) + 80) )
  {
    case 0x28:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 40
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 1)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 42
        || !CItem::CheckSubClass(nItem_2) )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    case 0x2D:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 45
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 5)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 42
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 72) != 5 )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    case 0x30:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 48
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 10)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 46
        || !CItem::CheckSubClass(nItem_2) )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    case 0x32:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 50
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 15)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 46
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 72) != 5 )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    case 0x35:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 50
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 20)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 50
        || !CItem::CheckSubClass(nItem_2) )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    case 0x38:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 53
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 25)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 50
        || !CItem::CheckSubClass(nItem_2) )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    case 0x3B:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 53
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 30)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 50
        || !CItem::CheckSubClass(nItem_2) )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    case 0x3E:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 56
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 35)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 50
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 72) != 5 )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    case 0x41:
      if ( *(_DWORD *)(*(_DWORD *)(nItem + 40) + 80) != 59
        && (*(_DWORD *)(*(_DWORD *)(nItem + 40) + 64) != 906 || *(int *)(nItem + 52) < 40)
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 80) != 50
        || *(_DWORD *)(*(_DWORD *)(nItem_2 + 40) + 72) != 5 )
      {
        goto LABEL_64;
      }
      result = 1;
      break;
    default:
LABEL_64:
      result = 0;
      break;
  }
  return result;
}

//----- (0046F2C0) --------------------------------------------------------
BOOL __stdcall CItem::CheckSubClass(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 40) + 72) == 4
      || *(_DWORD *)(*(_DWORD *)(a1 + 40) + 72) == 5
      || *(_DWORD *)(*(_DWORD *)(a1 + 40) + 72) == 6
      || *(_DWORD *)(*(_DWORD *)(a1 + 40) + 72) == 7
      || *(_DWORD *)(*(_DWORD *)(a1 + 40) + 72) == 8;
}

//----- (0046F320) --------------------------------------------------------
void __userpurge CItem::RemoveItem(CPlayer *Player, CItem *Item)
{
  CItem *v2; // ecx
  CItem *v3; // [esp+0h] [ebp-4h]

  v3 = v2;
  if ( !((int (__thiscall *)(CPlayer *))Player->SubMStateEx)(Player) )
    CPlayer::_OutofInven(Player, v3);
}
// 46F324: variable 'v2' is possibly undefined

//----- (0046F350) --------------------------------------------------------
void __thiscall CPlayer::MixItem(void *this, int a2, int a3, int a4, int a5, int a6)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v8; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v9; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v11; // eax
  int v14; // [esp-8h] [ebp-80h]
  int v15; // [esp-4h] [ebp-7Ch]
  CIOCriticalSection *v16; // [esp+0h] [ebp-78h]
  CIOCriticalSection *v17; // [esp+0h] [ebp-78h]
  int v18; // [esp+4h] [ebp-74h]
  char v20[4]; // [esp+1Ch] [ebp-5Ch] BYREF
  int v21; // [esp+20h] [ebp-58h] BYREF
  char v22[4]; // [esp+24h] [ebp-54h] BYREF
  int v23; // [esp+28h] [ebp-50h] BYREF
  char v24[4]; // [esp+2Ch] [ebp-4Ch] BYREF
  int v25; // [esp+30h] [ebp-48h] BYREF
  char v26[4]; // [esp+34h] [ebp-44h] BYREF
  int v27; // [esp+38h] [ebp-40h] BYREF
  char v28[4]; // [esp+3Ch] [ebp-3Ch] BYREF
  int v29; // [esp+40h] [ebp-38h] BYREF
  int v30; // [esp+44h] [ebp-34h]
  int v31; // [esp+48h] [ebp-30h]
  int v32; // [esp+4Ch] [ebp-2Ch]
  int v33; // [esp+50h] [ebp-28h]
  int v34; // [esp+54h] [ebp-24h]
  CItem *item; // [esp+58h] [ebp-20h]
  char v36[4]; // [esp+5Ch] [ebp-1Ch]
  CPlayer *v37; // [esp+60h] [ebp-18h]
  CPlayer *player; // [esp+64h] [ebp-14h]
  CPlayer *v39; // [esp+68h] [ebp-10h]
  CPlayer *Player; // [esp+6Ch] [ebp-Ch]
  CPlayer *v41; // [esp+70h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v42; // [esp+74h] [ebp-4h] BYREF

  std::_String_base::_String_base((std::_String_base *)&v42);
  CIOCriticalSection::Enter(v16);
  if ( !*((_DWORD *)this + 274) || *(int *)(*((_DWORD *)this + 274) + 52) < 70000 )
  {
    LOG_ERR("MixItem() PID(%d) Not Enough Money ", *((_DWORD *)this + 113));
LABEL_170:
    CPlayer::Write((int)this, 68, "bb", 138, 0);
    CIOCriticalSection::Leave(v17);
    return;
  }
  if ( a5 == a6 )
    goto LABEL_170;
  v42._Myptr = (CIOSocket::CIOTimer *)*sub_44AE20((_DWORD *)this + 267, &v29, &a2);
  v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 267, (int)v28);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          &v42,
          v6) )
  {
    LOG_ERR("MixItem() PID(%d) ItemIndex(%d) ", *((_DWORD *)this + 113), a2);
    goto LABEL_170;
  }
  v37 = *(CPlayer **)(sub_420250(&v42) + 4);
  if ( *(int *)(*(_DWORD *)&v37->m_szName[8] + 64) >= 769 && *(int *)(*(_DWORD *)&v37->m_szName[8] + 64) <= 801 )
    goto LABEL_170;
  v42._Myptr = (CIOSocket::CIOTimer *)*sub_44AE20((_DWORD *)this + 267, &v27, &a3);
  v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 267, (int)v26);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          &v42,
          v7) )
  {
LABEL_34:
    LOG_ERR("MixItem() PID(%d) ItemIID(%d) ", *((_DWORD *)this + 113), a3);
    goto LABEL_170;
  }
  player = *(CPlayer **)(sub_420250(&v42) + 4);
  if ( *(_DWORD *)(*(_DWORD *)&player->m_szName[8] + 64) == 906 )
  {
    switch ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 80) )
    {
      case '(':
        if ( *(int *)&player->m_szName[20] < 1 )
          goto LABEL_34;
        break;
      case '-':
        if ( *(int *)&player->m_szName[20] >= 2 )
          break;
        goto LABEL_34;
      case '0':
        if ( *(int *)&player->m_szName[20] >= 4 )
          break;
        goto LABEL_34;
      case '2':
        if ( *(int *)&player->m_szName[20] < 6 )
          goto LABEL_34;
        break;
      case '5':
        if ( *(int *)&player->m_szName[20] >= 6 )
          break;
        goto LABEL_34;
      case '8':
        if ( *(int *)&player->m_szName[20] < 20 )
          goto LABEL_34;
        break;
      case ';':
        if ( *(int *)&player->m_szName[20] >= 20 )
          break;
        goto LABEL_34;
      case '>':
        if ( *(int *)&player->m_szName[20] < 75 )
          goto LABEL_34;
        break;
      case 'A':
        if ( *(int *)&player->m_szName[20] < 450 )
          goto LABEL_34;
        break;
      default:
        break;
    }
  }
  v42._Myptr = (CIOSocket::CIOTimer *)*sub_44AE20((_DWORD *)this + 267, &v25, &a4);
  v8 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 267, (int)v24);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          &v42,
          v8) )
  {
    LOG_ERR("MixItem() PID(%d) ItemIID(%d) ", *((_DWORD *)this + 113), a4);
    goto LABEL_170;
  }
  Player = *(CPlayer **)(sub_420250(&v42) + 4);
  v42._Myptr = (CIOSocket::CIOTimer *)*sub_44AE20((_DWORD *)this + 267, &v23, &a5);
  v9 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 267, (int)v22);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          &v42,
          v9) )
  {
    LOG_ERR("MixItem() PID(%d) ItemIID(%d) ", *((_DWORD *)this + 113), a5);
    goto LABEL_170;
  }
  v39 = *(CPlayer **)(sub_420250(&v42) + 4);
  v42._Myptr = (CIOSocket::CIOTimer *)*sub_44AE20((_DWORD *)this + 267, &v21, &a6);
  v11 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)this + 267, (int)v20);
  if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
          &v42,
          v11) )
  {
    LOG_ERR("MixItem() PID(%d) ItemIID(%d) ", *((_DWORD *)this + 113), a6);
    goto LABEL_170;
  }
  v41 = *(CPlayer **)(sub_420250(&v42) + 4);
  if ( !CItem::ChkWeaponUpgrade((int)v37, (int)player, (int)Player) )
    goto LABEL_170;
  switch ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 80) )
  {
    case '(':
    case '-':
      if ( RandomBetween(0, 99) > 10 )
        goto LABEL_161;
      goto LABEL_57;
    case '0':
    case '2':
      if ( RandomBetween(0, 99) <= 7 )
        goto LABEL_57;
      goto LABEL_161;
    case '5':
      if ( RandomBetween(0, 99) <= 5 )
        goto LABEL_57;
      goto LABEL_161;
    case '8':
      if ( RandomBetween(0, 99) <= 4 )
        goto LABEL_57;
      goto LABEL_161;
    case ';':
    case '>':
    case 'A':
      if ( RandomBetween(0, 99) <= 3 )
        goto LABEL_57;
LABEL_161:
      if ( !(*(int (__thiscall **)(_DWORD))(**((_DWORD **)this + 274) + 120))(*((_DWORD *)this + 274)) )
        CPlayer::_OutofInven(*((CPlayer **)this + 274), (CItem *)this);
      CItem::RemoveItem(v39, (CItem *)9);
      CItem::RemoveItem(v41, (CItem *)0xFFFEEE90);
      v37->m_prtyPt.nPt[1] -= RandomBetween(5, 10);
      if ( v37->m_prtyPt.nPt[1] > 0 )
      {
        CPlayer::Write((int)this, 91, "db", *(_DWORD *)&v37->m_szName[4], v37->m_prtyPt.nPt[1]);
        CDBSocket::Write(18, "ddb", *(_DWORD *)&v37->m_szName[4], *((_DWORD *)this + 113), v37->m_prtyPt.nPt[1]);
      }
      else
      {
        CPlayer::Write((int)this, 91, "db", *(_DWORD *)&v37->m_szName[4], 0);
        if ( *(_DWORD *)&v37->m_szName[12] )
          v17 = *(CIOCriticalSection **)(*(_DWORD *)&v37->m_szName[12] + 32);
        else
          v17 = 0;
        v30 = (unsigned __int8)v37->m_prtyPt.nPt[2] | ((unsigned __int8)v37->m_prtyBase.nBase[5] << 8) | ((unsigned __int8)v37->m_prtyPt.nPt[0] << 16) | ((_DWORD)v17 << 24);
        v31 = ((unsigned __int8)v37->m_prtyPt.nPt[5] << 8) | ((unsigned __int8)v37->m_prtyPt.nPt[3] << 24);
        v32 = ((unsigned __int8)v37->m_prtyPt.nMinAttack << 8) | ((unsigned __int8)v37->m_prtyPt.nDodge << 16) | ((unsigned __int8)v37->m_prtyPt.nHit << 24);
        CDBSocket::Write(
          3,
          "ddwdbddd",
          *(_DWORD *)&v37->m_szName[4],
          *((_DWORD *)this + 113),
          *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 64),
          *(_DWORD *)&v37->m_szName[20],
          9,
          v30,
          v31,
          v32);
        CBase::Delete((CItem *)v37);
      }
      CIOCriticalSection::Leave(v17);
      CPlayer::Write((int)this, 68, "bb", 138, 1);
      break;
    default:
LABEL_57:
      if ( *(_DWORD *)(*(_DWORD *)&player->m_szName[8] + 64) == 906 )
      {
        switch ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 80) )
        {
          case '(':
            v15 = -1;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '-':
            v15 = -2;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '0':
            v15 = -4;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '2':
            v15 = -6;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '5':
            v15 = -6;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '8':
            v15 = -20;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case ';':
            v15 = -20;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case '>':
            v15 = -75;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          case 'A':
            v15 = -450;
            v14 = 9;
            if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
              CPlayer::_OutofInven(player, (CItem *)this);
            break;
          default:
            break;
        }
      }
      else
      {
        CItem::RemoveItem(player, (CItem *)v17);
      }
      CItem::RemoveItem(Player, (CItem *)v14);
      CItem::RemoveItem(v39, (CItem *)v15);
      CItem::RemoveItem(v41, (CItem *)v17);
      if ( !(*(int (__thiscall **)(_DWORD))(**((_DWORD **)this + 274) + 120))(*((_DWORD *)this + 274)) )
        CPlayer::_OutofInven(*((CPlayer **)this + 274), (CItem *)this);
      item = 0;
      *(_DWORD *)v36 = 0;
      switch ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 80) )
      {
        case '(':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 771;
            else
              *(_DWORD *)v36 = 770;
          }
          else
          {
            *(_DWORD *)v36 = 769;
          }
          break;
        case '-':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 774;
            else
              *(_DWORD *)v36 = 773;
          }
          else
          {
            *(_DWORD *)v36 = 772;
          }
          break;
        case '0':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 777;
            else
              *(_DWORD *)v36 = 776;
          }
          else
          {
            *(_DWORD *)v36 = 775;
          }
          break;
        case '2':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 781;
            else
              *(_DWORD *)v36 = 780;
          }
          else
          {
            *(_DWORD *)v36 = (*(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 72) != 0) + 778;
          }
          break;
        case '5':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 785;
            else
              *(_DWORD *)v36 = 784;
          }
          else
          {
            *(_DWORD *)v36 = (*(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 72) != 0) + 782;
          }
          break;
        case '8':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 789;
            else
              *(_DWORD *)v36 = 788;
          }
          else
          {
            *(_DWORD *)v36 = (*(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 72) != 0) + 786;
          }
          break;
        case ';':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 793;
            else
              *(_DWORD *)v36 = 792;
          }
          else
          {
            *(_DWORD *)v36 = (*(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 72) != 0) + 790;
          }
          break;
        case '>':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 774;
            else
              *(_DWORD *)v36 = 773;
          }
          else
          {
            *(_DWORD *)v36 = (*(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 72) != 0) + 794;
          }
          break;
        case 'A':
          if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) )
          {
            if ( *(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 96) == 1 )
              *(_DWORD *)v36 = 801;
            else
              *(_DWORD *)v36 = 800;
          }
          else
          {
            *(_DWORD *)v36 = (*(_DWORD *)(*(_DWORD *)&v37->m_szName[8] + 72) != 0) + 798;
          }
          break;
        default:
          break;
      }
      item = (CItem *)CItem::CreateItem(v36[0], 0, 1, -1);
      if ( item )
      {
        if ( item->m_pPrefix != *(CPrefix **)&v37->m_szName[12] )
        {
          item->m_pPrefix = *(CPrefix **)&v37->m_szName[12];
          CDBSocket::Write(19, "ddbb", item->m_nIID, *((_DWORD *)this + 113), item->m_pPrefix, 0);
        }
        if ( item[1].m_nPID != v37->m_prtyPt.nDodge )
        {
          item[1].m_nPID = v37->m_prtyPt.nDodge;
          CDBSocket::Write(28, "ddbb", item->m_nIID, *((_DWORD *)this + 113), 2, item[1].m_nPID);
        }
        if ( item[1].m_nIID != v37->m_prtyPt.nMinAttack )
        {
          item[1].m_nIID = v37->m_prtyPt.nMinAttack;
          CDBSocket::Write(28, "ddbb", item->m_nIID, *((_DWORD *)this + 113), 1, item[1].m_nIID);
        }
        if ( item[1].m_nTimerRef != v37->m_prtyPt.nPt[2] )
        {
          item[1].m_nTimerRef = v37->m_prtyPt.nPt[2];
          CDBSocket::Write(17, "ddbbb", item->m_nIID, *((_DWORD *)this + 113), 27, item[1].m_nTimerRef, 0);
        }
        if ( item[1].m_pNext != (CBase *)v37->m_prtyPt.nPt[4] )
        {
          item[1].m_pNext = (CBase *)v37->m_prtyPt.nPt[4];
          CDBSocket::Write(17, "ddbbb", item->m_nIID, *((_DWORD *)this + 113), 15, item[1].m_pNext, 0);
        }
        if ( item[1].m_bit != v37->m_prtyPt.nPt[5] )
        {
          item[1].m_bit = v37->m_prtyPt.nPt[5];
          CDBSocket::Write(17, "ddbbb", item->m_nIID, *((_DWORD *)this + 113), 9, item[1].m_bit, 0);
        }
        if ( item[1].m_nGeneralRef != v37->m_prtyPt.nPt[3] )
        {
          item[1].m_nGeneralRef = v37->m_prtyPt.nPt[3];
          CDBSocket::Write(17, "ddbbb", item->m_nIID, *((_DWORD *)this + 113), 28, item[1].m_nGeneralRef, 0);
        }
        if ( item->m_dwInfo != *(_DWORD *)&v37->m_szName[16] )
          item->m_dwInfo = *(_DWORD *)&v37->m_szName[16];
        if ( CPlayer::_InsertItem((int)this, 2, (volatile int *)item) == 1 )
        {
          if ( item->m_dwInfo != *(_DWORD *)&v37->m_szName[16] )
          {
            if ( item->m_pPrefix )
              v18 = item->m_pPrefix->m_nPrefix;
            else
              v18 = 0;
            v33 = (unsigned __int8)item[1].m_nTimerRef | ((unsigned __int8)item->m_nVer << 8) | ((unsigned __int8)item[1].__vftable << 16) | (v18 << 24);
            v34 = ((unsigned __int8)item[1].m_bit << 8) | ((unsigned __int8)item[1].m_nGeneralRef << 24);
            CDBSocket::Write(
              21,
              "dddbwddb",
              item->m_nIID,
              *((_DWORD *)this + 113),
              item->m_dwInfo,
              1,
              item->m_pInit->m_nIndex,
              v33,
              v34,
              item[1].m_nId);
          }
          CItem::RemoveItem(v37, (CItem *)9);
          CIOCriticalSection::Leave((CIOCriticalSection *)0xFFFEEE90);
        }
        else
        {
          LOG_ERR(
            "MixItem() item insert error [PID (%d)] [Index (%d)]",
            *((_DWORD *)this + 113),
            item->m_pInit->m_nIndex);
          CBase::Delete(item);
          CIOCriticalSection::Leave((CIOCriticalSection *)9);
        }
      }
      else
      {
        CIOCriticalSection::Leave((CIOCriticalSection *)9);
        LOG_ERR("MixItem() insert item Null error [PID (%d)] ", *((_DWORD *)this + 113));
      }
      break;
  }
}
// 46F36A: variable 'v16' is possibly undefined
// 46FA42: variable 'v17' is possibly undefined
// 46FA4E: variable 'v14' is possibly undefined
// 46FA5A: variable 'v15' is possibly undefined

//----- (004703E0) --------------------------------------------------------
int __thiscall sub_4703E0(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472C30(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    (const int *)a1);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_4729B0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00470440) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_470440(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, const std::pair<int const ,CGame_Character::TargetInfo> *a3)
{
  const char **v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  const char **v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  const char *v10; // [esp-4h] [ebp-3Ch]
  const char *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_478AB0((int *)this);
  v22 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)(this + 4);
  v23 = 1;
  while ( !*(_BYTE *)sub_431110((int)v21) )
  {
    v22 = v21;
    v10 = *(const char **)sub_473500((int)v21);
    v3 = (const char **)sub_474590((int)a3);
    v23 = iless::operator()((iless *)this, *v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_474590((int)v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_430F90((int)v21);
    v21 = v12;
  }
  sub_446700(v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_420270(this, (int)v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_418880(v20);
  }
  v11 = *(const char **)sub_474590((int)a3);
  v7 = unknown_libname_7(v20);
  v8 = (const char **)sub_473500(v7);
  if ( iless::operator()((iless *)this, *v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_420270(this, (int)v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00470600) --------------------------------------------------------
int __thiscall sub_470600(int *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472B50(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    a1);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_472A80(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00470660) --------------------------------------------------------
_DWORD *__thiscall sub_470660(iless *this, _DWORD *a2, const char **a3)
{
  int v3; // eax
  int v4; // eax
  const char **v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_472B20(this, v12, (int)a3);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (const char **)sub_473500(v4), iless::operator()(this, *a3, *v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (004706F0) --------------------------------------------------------
void *__thiscall sub_4706F0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00470720) --------------------------------------------------------
int __thiscall sub_470720(void *this)
{
  return sub_472C70((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00470740) --------------------------------------------------------
int __thiscall sub_470740(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472C30(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    (const int *)a1);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_472B90(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (004707A0) --------------------------------------------------------
std::vector<IPAddrMask> *__thiscall sub_4707A0(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  std::vector<IPAddrMask> *v3; // [esp+0h] [ebp-8h]

  v3 = (std::vector<IPAddrMask> *)this;
  v2 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v2);
  sub_44F7C0(v3, (char)v2);
  std::vector<IPAddrMask>::_Buy(v3, 0);
  return v3;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004707D0) --------------------------------------------------------
XMessageQueue::XTimerElement *__thiscall sub_4707D0(int this, const XMessageQueue::XTimerElement *a2)
{
  unsigned int v2; // esi
  XMessageQueue::XTimerElement *result; // eax
  int *v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
  if ( v2 >= std::vector<XMessageQueue::XElement>::capacity((std::vector<XMessageQueue::XTimerElement> *)this) )
  {
    v4 = (int *)sub_445B40((_DWORD *)this, (int)v7);
    result = (XMessageQueue::XTimerElement *)sub_472DA0((std::vector<IPAddrMask> *)this, (int)v6, *v4, (int)a2);
  }
  else
  {
    result = std::vector<XMessageQueue::XElement>::_Ufill(
               (std::vector<XMessageQueue::XTimerElement> *)this,
               *(XMessageQueue::XTimerElement **)(this + 8),
               1u,
               a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (00470840) --------------------------------------------------------
void *__thiscall sub_470840(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_472ED0(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00470870) --------------------------------------------------------
int __thiscall sub_470870(void *this)
{
  return sub_473430((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00470890) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_470890(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_478AB0((int *)this);
  v22 = *(_DWORD *)(this + 4);
  v23 = 1;
  while ( !*(_BYTE *)sub_433230(v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_473500(v21);
    v3 = (_DWORD *)sub_474590(a3);
    v23 = sub_4186F0(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)sub_474590(v21);
    else
      v12 = *(_DWORD *)sub_430F90(v21);
    v21 = v12;
  }
  sub_446700(v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_472FF0((_DWORD *)this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_475900(v20);
  }
  v11 = (_DWORD *)sub_474590(a3);
  v7 = unknown_libname_7(v20);
  v8 = (_DWORD *)sub_473500(v7);
  if ( sub_4186F0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_472FF0((_DWORD *)this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00470A40) --------------------------------------------------------
int __thiscall sub_470A40(int *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472FB0(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    a1);
  v7 = 0;
  sub_47A310(v5, v6, (int)&v7);
  sub_472F10(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00470AA0) --------------------------------------------------------
void *__thiscall sub_470AA0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_473520(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00470AD0) --------------------------------------------------------
int __thiscall sub_470AD0(void *this)
{
  return sub_473E10((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00470AF0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_470AF0(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)sub_478AB0((int *)this);
  v22 = *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)(this + 4);
  v23 = 1;
  while ( !*(_BYTE *)sub_4734F0((int)v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_473500((int)v21);
    v3 = (_DWORD *)sub_474590(a3);
    v23 = sub_4186F0(v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)sub_474590((int)v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)sub_430F90((int)v21);
    v21 = v12;
  }
  sub_446700(v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_4736F0(this, v17, 1, v22, (const std::pair<int const ,KMacro::CShinsu_Ability> *)a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_4758E0(v20);
  }
  v11 = (_DWORD *)sub_474590(a3);
  v7 = unknown_libname_7(v20);
  v8 = (_DWORD *)sub_473500(v7);
  if ( sub_4186F0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_4736F0(this, v15, v23, v22, (const std::pair<int const ,KMacro::CShinsu_Ability> *)a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00470CA0) --------------------------------------------------------
_DWORD *__thiscall sub_470CA0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  std::logic_error *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  int *v25; // eax
  void **v26; // eax
  int *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  char v52[36]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_7(&a3);
  if ( *(_BYTE *)sub_4734F0(v3) )
  {
    std::string::string((std::vector<IPAddrMask> *)v51, "invalid map/set<T> iterator");
    v4 = sub_4111A0((std::logic_error *)v52, (const std::string *)v51);
    std::exception::_Raise(v4);
    sub_4111D0((std::logic_error *)v52);
    sub_40F780(v51);
  }
  v56 = (void *)unknown_libname_7(&a3);
  sub_4758C0(&a3);
  v54 = v56;
  v5 = (int *)sub_474590((int)v56);
  if ( *(_BYTE *)sub_4734F0(*v5) )
  {
    v55 = *(void **)sub_430F90((int)v54);
  }
  else
  {
    v6 = (int *)sub_430F90((int)v54);
    if ( *(_BYTE *)sub_4734F0(*v6) )
    {
      v55 = *(void **)sub_474590((int)v54);
    }
    else
    {
      v54 = (void *)unknown_libname_7(&a3);
      v55 = *(void **)sub_430F90((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_446FF0((int)v56);
    if ( !*(_BYTE *)sub_4734F0((int)v55) )
    {
      v7 = (_DWORD *)sub_446FF0((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_478AB0(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_478AB0(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)sub_474590((int)v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)sub_474590((int)v53);
      else
        v11 = (_DWORD *)sub_430F90((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_418790(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_4734F0((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_473CA0((int)v55);
      *(_DWORD *)sub_418790(this) = v49;
    }
    v13 = (void **)sub_47EB40(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_4734F0((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_473C60((int)v55);
      *(_DWORD *)sub_47EB40(this) = v48;
    }
  }
  else
  {
    v14 = (int *)sub_474590((int)v56);
    v15 = (_DWORD *)sub_446FF0(*v14);
    *v15 = v54;
    v16 = (_DWORD *)sub_474590((int)v56);
    *(_DWORD *)sub_474590((int)v54) = *v16;
    v17 = (void **)sub_430F90((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_446FF0((int)v54);
      if ( !*(_BYTE *)sub_4734F0((int)v55) )
      {
        v18 = (_DWORD *)sub_446FF0((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)sub_474590((int)v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_430F90((int)v56);
      *(_DWORD *)sub_430F90((int)v54) = *v20;
      v21 = (int *)sub_430F90((int)v56);
      v22 = (_DWORD *)sub_446FF0(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_478AB0(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_478AB0(this);
      *v24 = v54;
    }
    else
    {
      v25 = (int *)sub_446FF0((int)v56);
      v26 = (void **)sub_474590(*v25);
      if ( *v26 == v56 )
      {
        v27 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_474590(*v27);
      }
      else
      {
        v29 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_430F90(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_446FF0((int)v56);
    *(_DWORD *)sub_446FF0((int)v54) = *v30;
    v47 = (char *)sub_4734E0((int)v56);
    v31 = (char *)sub_4734E0((int)v54);
    std::swap<unsigned char>(v31, v47);
  }
  if ( *(_BYTE *)sub_4734E0((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_478AB0(this);
      if ( v55 == *v32 || *(_BYTE *)sub_4734E0((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_4734E0((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)sub_474590((int)v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)sub_474590((int)v53);
      if ( !*(_BYTE *)sub_4734E0((int)v54) )
      {
        *(_BYTE *)sub_4734E0((int)v54) = 1;
        *(_BYTE *)sub_4734E0((int)v53) = 0;
        sub_473CE0(this, (int)v53);
        v54 = *(void **)sub_474590((int)v53);
      }
      if ( !*(_BYTE *)sub_4734F0((int)v54) )
      {
        v40 = (int *)sub_430F90((int)v54);
        if ( *(_BYTE *)sub_4734E0(*v40) != 1 || (v41 = (int *)sub_474590((int)v54), *(_BYTE *)sub_4734E0(*v41) != 1) )
        {
          v42 = (int *)sub_474590((int)v54);
          if ( *(_BYTE *)sub_4734E0(*v42) == 1 )
          {
            v43 = (int *)sub_430F90((int)v54);
            *(_BYTE *)sub_4734E0(*v43) = 1;
            *(_BYTE *)sub_4734E0((int)v54) = 0;
            sub_473B30(this, (int)v54);
            v54 = *(void **)sub_474590((int)v53);
          }
          v44 = (_BYTE *)sub_4734E0((int)v53);
          *(_BYTE *)sub_4734E0((int)v54) = *v44;
          *(_BYTE *)sub_4734E0((int)v53) = 1;
          v45 = (int *)sub_474590((int)v54);
          *(_BYTE *)sub_4734E0(*v45) = 1;
          sub_473CE0(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_4734E0((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_446FF0((int)v55);
    }
    v54 = *(void **)sub_430F90((int)v53);
    if ( !*(_BYTE *)sub_4734E0((int)v54) )
    {
      *(_BYTE *)sub_4734E0((int)v54) = 1;
      *(_BYTE *)sub_4734E0((int)v53) = 0;
      sub_473B30(this, (int)v53);
      v54 = *(void **)sub_430F90((int)v53);
    }
    if ( *(_BYTE *)sub_4734F0((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)sub_474590((int)v54);
    if ( *(_BYTE *)sub_4734E0(*v34) != 1 || (v35 = (int *)sub_430F90((int)v54), *(_BYTE *)sub_4734E0(*v35) != 1) )
    {
      v36 = (int *)sub_430F90((int)v54);
      if ( *(_BYTE *)sub_4734E0(*v36) == 1 )
      {
        v37 = (int *)sub_474590((int)v54);
        *(_BYTE *)sub_4734E0(*v37) = 1;
        *(_BYTE *)sub_4734E0((int)v54) = 0;
        sub_473CE0(this, (int)v54);
        v54 = *(void **)sub_430F90((int)v53);
      }
      v38 = (_BYTE *)sub_4734E0((int)v53);
      *(_BYTE *)sub_4734E0((int)v54) = *v38;
      *(_BYTE *)sub_4734E0((int)v53) = 1;
      v39 = (int *)sub_430F90((int)v54);
      *(_BYTE *)sub_4734E0(*v39) = 1;
      sub_473B30(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_44CD70((int)v56);
  sub_4338F0(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00471430) --------------------------------------------------------
int __thiscall sub_471430(int *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_473630(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    a1);
  v7 = 0;
  sub_47A2B0(v5, v6, (int)&v7);
  sub_473560(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00471490) --------------------------------------------------------
_DWORD *__thiscall sub_471490(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_473670(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (004714F0) --------------------------------------------------------
_DWORD *__thiscall sub_4714F0(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_473600(this, v12, (int)a3);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (_DWORD *)sub_473500(v4), sub_4186F0(a3, v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00471580) --------------------------------------------------------
void *__thiscall sub_471580(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_473ED0(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004715B0) --------------------------------------------------------
int __thiscall sub_4715B0(void *this)
{
  return sub_4744E0((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (004715D0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_4715D0(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)sub_478AB0((int *)this);
  v22 = *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)(this + 4);
  v23 = 1;
  while ( !*(_BYTE *)sub_473EC0((int)v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_473500((int)v21);
    v3 = (_DWORD *)sub_474590(a3);
    v23 = sub_4186F0(v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)sub_474590((int)v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)sub_430F90((int)v21);
    v21 = v12;
  }
  sub_446700(v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_4740A0(this, v17, 1, v22, (const std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> *)a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_4758A0(v20);
  }
  v11 = (_DWORD *)sub_474590(a3);
  v7 = unknown_libname_7(v20);
  v8 = (_DWORD *)sub_473500(v7);
  if ( sub_4186F0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_4740A0(this, v15, v23, v22, (const std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> *)a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00471780) --------------------------------------------------------
int __thiscall sub_471780(int *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_473FE0(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    a1);
  v7 = 0;
  sub_47A2E0(v5, v6, (int)&v7);
  sub_473F10(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (004717E0) --------------------------------------------------------
_DWORD *__thiscall sub_4717E0(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_474020(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00471840) --------------------------------------------------------
_DWORD *__thiscall sub_471840(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_473FB0(this, v12, (int)a3);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (_DWORD *)sub_473500(v4), sub_4186F0(a3, v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (004718D0) --------------------------------------------------------
void *__thiscall sub_4718D0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_472ED0(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00471900) --------------------------------------------------------
int __thiscall sub_471900(void *this)
{
  return sub_474640((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00471920) --------------------------------------------------------
int __thiscall sub_471920(int *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472FB0(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    a1);
  v7 = 0;
  sub_47A310(v5, v6, (int)&v7);
  sub_4745A0(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00471980) --------------------------------------------------------
void *__thiscall sub_471980(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_474700(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (004719B0) --------------------------------------------------------
int __thiscall sub_4719B0(void *this)
{
  return sub_474D10((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (004719D0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_4719D0(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_478AB0((int *)this);
  v22 = *(_DWORD *)(this + 4);
  v23 = 1;
  while ( !*(_BYTE *)sub_4746F0(v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_473500(v21);
    v3 = (_DWORD *)sub_474590(a3);
    v23 = sub_4186F0(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)sub_474590(v21);
    else
      v12 = *(_DWORD *)sub_430F90(v21);
    v21 = v12;
  }
  sub_446700(v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_4748D0((_DWORD *)this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_475920(v20);
  }
  v11 = (_DWORD *)sub_474590(a3);
  v7 = unknown_libname_7(v20);
  v8 = (_DWORD *)sub_473500(v7);
  if ( sub_4186F0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_4748D0((_DWORD *)this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00471B80) --------------------------------------------------------
int __thiscall sub_471B80(int *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_474810(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    a1);
  v7 = 0;
  sub_47A340(v5, v6, (int)&v7);
  sub_474740(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (00471BE0) --------------------------------------------------------
_DWORD *__thiscall sub_471BE0(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_474850(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00471C40) --------------------------------------------------------
_DWORD *__thiscall sub_471C40(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // eax
  _DWORD *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_4747E0(this, v12, (int)a3);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (_DWORD *)sub_473500(v4), sub_4186F0(a3, v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00471CD0) --------------------------------------------------------
void *__thiscall sub_471CD0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_474DE0(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00471D00) --------------------------------------------------------
int __thiscall sub_471D00(void *this)
{
  return sub_475650((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00471D20) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_471D20(int this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, int a3)
{
  void *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  void *v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  void *v10; // [esp-4h] [ebp-3Ch]
  void *v11; // [esp-4h] [ebp-3Ch]
  int v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  bool v23; // [esp+37h] [ebp-1h]

  v21 = *(_DWORD *)sub_478AB0((int *)this);
  v22 = *(_DWORD *)(this + 4);
  v23 = 1;
  while ( !*(_BYTE *)sub_474DD0(v21) )
  {
    v22 = v21;
    v10 = (void *)sub_473500(v21);
    v3 = (void *)sub_474590(a3);
    v23 = sub_471ED0(v3, v10);
    if ( v23 )
      v12 = *(_DWORD *)sub_474590(v21);
    else
      v12 = *(_DWORD *)sub_430F90(v21);
    v21 = v12;
  }
  sub_446700(v20, v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_474F30((_DWORD *)this, v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_4759A0(v20);
  }
  v11 = (void *)sub_474590(a3);
  v7 = unknown_libname_7(v20);
  v8 = (void *)sub_473500(v7);
  if ( sub_471ED0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_474F30((_DWORD *)this, v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00471ED0) --------------------------------------------------------
bool __stdcall sub_471ED0(void *a1, void *a2)
{
  const char *v2; // eax
  const char *v4; // [esp-4h] [ebp-8h]

  v4 = (const char *)sub_4012D0(a2);
  v2 = (const char *)sub_4012D0(a1);
  return mbstricmp(v2, v4) < 0;
}

//----- (00471F00) --------------------------------------------------------
_DWORD *__thiscall sub_471F00(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  std::logic_error *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  int *v25; // eax
  void **v26; // eax
  int *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  char v52[36]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_7(&a3);
  if ( *(_BYTE *)sub_474DD0(v3) )
  {
    std::string::string((std::vector<IPAddrMask> *)v51, "invalid map/set<T> iterator");
    v4 = sub_4111A0((std::logic_error *)v52, (const std::string *)v51);
    std::exception::_Raise(v4);
    sub_4111D0((std::logic_error *)v52);
    sub_40F780(v51);
  }
  v56 = (void *)unknown_libname_7(&a3);
  sub_475980(&a3);
  v54 = v56;
  v5 = (int *)sub_474590((int)v56);
  if ( *(_BYTE *)sub_474DD0(*v5) )
  {
    v55 = *(void **)sub_430F90((int)v54);
  }
  else
  {
    v6 = (int *)sub_430F90((int)v54);
    if ( *(_BYTE *)sub_474DD0(*v6) )
    {
      v55 = *(void **)sub_474590((int)v54);
    }
    else
    {
      v54 = (void *)unknown_libname_7(&a3);
      v55 = *(void **)sub_430F90((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_446FF0((int)v56);
    if ( !*(_BYTE *)sub_474DD0((int)v55) )
    {
      v7 = (_DWORD *)sub_446FF0((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_478AB0(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_478AB0(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)sub_474590((int)v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)sub_474590((int)v53);
      else
        v11 = (_DWORD *)sub_430F90((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_418790(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_474DD0((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_4754E0((int)v55);
      *(_DWORD *)sub_418790(this) = v49;
    }
    v13 = (void **)sub_47EB40(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_474DD0((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_4754A0((int)v55);
      *(_DWORD *)sub_47EB40(this) = v48;
    }
  }
  else
  {
    v14 = (int *)sub_474590((int)v56);
    v15 = (_DWORD *)sub_446FF0(*v14);
    *v15 = v54;
    v16 = (_DWORD *)sub_474590((int)v56);
    *(_DWORD *)sub_474590((int)v54) = *v16;
    v17 = (void **)sub_430F90((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_446FF0((int)v54);
      if ( !*(_BYTE *)sub_474DD0((int)v55) )
      {
        v18 = (_DWORD *)sub_446FF0((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)sub_474590((int)v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_430F90((int)v56);
      *(_DWORD *)sub_430F90((int)v54) = *v20;
      v21 = (int *)sub_430F90((int)v56);
      v22 = (_DWORD *)sub_446FF0(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_478AB0(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_478AB0(this);
      *v24 = v54;
    }
    else
    {
      v25 = (int *)sub_446FF0((int)v56);
      v26 = (void **)sub_474590(*v25);
      if ( *v26 == v56 )
      {
        v27 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_474590(*v27);
      }
      else
      {
        v29 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_430F90(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_446FF0((int)v56);
    *(_DWORD *)sub_446FF0((int)v54) = *v30;
    v47 = (char *)sub_474DC0((int)v56);
    v31 = (char *)sub_474DC0((int)v54);
    std::swap<unsigned char>(v31, v47);
  }
  if ( *(_BYTE *)sub_474DC0((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_478AB0(this);
      if ( v55 == *v32 || *(_BYTE *)sub_474DC0((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_474DC0((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)sub_474590((int)v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)sub_474590((int)v53);
      if ( !*(_BYTE *)sub_474DC0((int)v54) )
      {
        *(_BYTE *)sub_474DC0((int)v54) = 1;
        *(_BYTE *)sub_474DC0((int)v53) = 0;
        sub_475520(this, (int)v53);
        v54 = *(void **)sub_474590((int)v53);
      }
      if ( !*(_BYTE *)sub_474DD0((int)v54) )
      {
        v40 = (int *)sub_430F90((int)v54);
        if ( *(_BYTE *)sub_474DC0(*v40) != 1 || (v41 = (int *)sub_474590((int)v54), *(_BYTE *)sub_474DC0(*v41) != 1) )
        {
          v42 = (int *)sub_474590((int)v54);
          if ( *(_BYTE *)sub_474DC0(*v42) == 1 )
          {
            v43 = (int *)sub_430F90((int)v54);
            *(_BYTE *)sub_474DC0(*v43) = 1;
            *(_BYTE *)sub_474DC0((int)v54) = 0;
            sub_475370(this, (int)v54);
            v54 = *(void **)sub_474590((int)v53);
          }
          v44 = (_BYTE *)sub_474DC0((int)v53);
          *(_BYTE *)sub_474DC0((int)v54) = *v44;
          *(_BYTE *)sub_474DC0((int)v53) = 1;
          v45 = (int *)sub_474590((int)v54);
          *(_BYTE *)sub_474DC0(*v45) = 1;
          sub_475520(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_474DC0((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_446FF0((int)v55);
    }
    v54 = *(void **)sub_430F90((int)v53);
    if ( !*(_BYTE *)sub_474DC0((int)v54) )
    {
      *(_BYTE *)sub_474DC0((int)v54) = 1;
      *(_BYTE *)sub_474DC0((int)v53) = 0;
      sub_475370(this, (int)v53);
      v54 = *(void **)sub_430F90((int)v53);
    }
    if ( *(_BYTE *)sub_474DD0((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)sub_474590((int)v54);
    if ( *(_BYTE *)sub_474DC0(*v34) != 1 || (v35 = (int *)sub_430F90((int)v54), *(_BYTE *)sub_474DC0(*v35) != 1) )
    {
      v36 = (int *)sub_430F90((int)v54);
      if ( *(_BYTE *)sub_474DC0(*v36) == 1 )
      {
        v37 = (int *)sub_474590((int)v54);
        *(_BYTE *)sub_474DC0(*v37) = 1;
        *(_BYTE *)sub_474DC0((int)v54) = 0;
        sub_475520(this, (int)v54);
        v54 = *(void **)sub_430F90((int)v53);
      }
      v38 = (_BYTE *)sub_474DC0((int)v53);
      *(_BYTE *)sub_474DC0((int)v54) = *v38;
      *(_BYTE *)sub_474DC0((int)v53) = 1;
      v39 = (int *)sub_430F90((int)v54);
      *(_BYTE *)sub_474DC0(*v39) = 1;
      sub_475370(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_475700((int)v56);
  sub_4338F0(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00472690) --------------------------------------------------------
int __thiscall sub_472690(int *this, int a1)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_474EF0(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    a1);
  v7 = 0;
  sub_47A370(v5, v6, (int)&v7);
  sub_474E20(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (004726F0) --------------------------------------------------------
_DWORD *__thiscall sub_4726F0(_DWORD *this, _DWORD *a2, void *a3)
{
  int v3; // eax
  int v4; // eax
  void *v5; // eax
  char *v7; // [esp+0h] [ebp-18h]
  char v9[4]; // [esp+8h] [ebp-10h] BYREF
  char v10[4]; // [esp+Ch] [ebp-Ch] BYREF
  char *v11; // [esp+10h] [ebp-8h]
  char v12[4]; // [esp+14h] [ebp-4h] BYREF

  sub_474EC0(this, v12, (int)a3);
  v3 = sub_430C20(this, (int)v10);
  if ( (unsigned __int8)unknown_libname_8(v3)
    || (v4 = unknown_libname_7(v12), v5 = (void *)sub_473500(v4), sub_471ED0(a3, v5)) )
  {
    v7 = (char *)sub_430C20(this, (int)v9);
  }
  else
  {
    v7 = v12;
  }
  v11 = v7;
  *a2 = *(_DWORD *)v7;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00472780) --------------------------------------------------------
bool __thiscall sub_472780(_DWORD *this)
{
  return this[2] == 0;
}

//----- (004727A0) --------------------------------------------------------
CMemory ***__thiscall sub_4727A0(_DWORD *this, int a2)
{
  int *v2; // eax
  char v5[4]; // [esp+4h] [ebp-4h] BYREF

  v2 = (int *)sub_430C20(this, (int)v5);
  return sub_475720(this, *v2, a2);
}

//----- (004727D0) --------------------------------------------------------
_DWORD *__thiscall sub_4727D0(_DWORD *this)
{
  void *v1; // eax
  int *v2; // eax
  char v5[4]; // [esp+4h] [ebp-8h] BYREF
  char v6[4]; // [esp+8h] [ebp-4h] BYREF

  v1 = (void *)sub_430C20(this, (int)v6);
  v2 = (int *)sub_475940(v1);
  return std::list<std::pair<std::string const,int>>::erase((int)this, v5, *v2);
}

//----- (00472800) --------------------------------------------------------
_DWORD *__thiscall std::list<std::pair<std::string const,int>>::insert(_DWORD *this, _DWORD *a1, int a2, int a3)
{
  sub_475720(this, a2, a3);
  *a1 = *(_DWORD *)sub_475940(&a2);
  return a1;
}

//----- (00472830) --------------------------------------------------------
_DWORD *__thiscall sub_472830(_DWORD *this, _DWORD *a2, const void *a3)
{
  *this = *a2;
  qmemcpy(this + 1, a3, 0x1Au);
  return this;
}

//----- (00472860) --------------------------------------------------------
std::pair<int,CScriptToCookBoard::tBaseTable> *__thiscall std::pair<int,CScriptToCookBoard::tBaseTable>::pair<int,CScriptToCookBoard::tBaseTable>(std::pair<int,CScriptToCookBoard::tBaseTable> *this, const int *_Val1, const CScriptToCookBoard::tBaseTable *_Val2)
{
  int v3; // edx

  *(_DWORD *)this = *_Val1;
  v3 = *((_DWORD *)_Val2 + 1);
  *((_DWORD *)this + 1) = *(_DWORD *)_Val2;
  *((_DWORD *)this + 2) = v3;
  return this;
}

//----- (00472890) --------------------------------------------------------
_DWORD *__thiscall sub_472890(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_4758C0(this);
  *a2 = v4;
  return a2;
}

//----- (004728C0) --------------------------------------------------------
_DWORD *__thiscall sub_4728C0(_DWORD *this, _DWORD *a2, const void *a3)
{
  *this = *a2;
  qmemcpy(this + 1, a3, 0x1Eu);
  return this;
}

//----- (004728F0) --------------------------------------------------------
_DWORD *__thiscall sub_4728F0(_DWORD *this, _DWORD *a2, const void *a3)
{
  *this = *a2;
  qmemcpy(this + 1, a3, 0x1Cu);
  return this;
}

//----- (00472920) --------------------------------------------------------
_DWORD *__thiscall sub_472920(_DWORD *this, _DWORD *a2, const void *a3)
{
  *this = *a2;
  qmemcpy(this + 1, a3, 0x60u);
  return this;
}

//----- (00472950) --------------------------------------------------------
int __thiscall sub_472950(int this, const std::string *a2, _DWORD *a3)
{
  std::string::string((std::string *)this, a2);
  *(_DWORD *)(this + 28) = *a3;
  *(_DWORD *)(this + 32) = a3[1];
  *(_DWORD *)(this + 36) = a3[2];
  *(_DWORD *)(this + 40) = a3[3];
  return this;
}

//----- (00472990) --------------------------------------------------------
std::list<std::pair<std::string const ,int>> *__thiscall sub_472990(std::list<std::pair<std::string const ,int>> *this)
{
  return std::list<std::pair<std::string const,int>>::_Tidy(this);
}

//----- (004729B0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4729B0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_4759C0(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00472A50) --------------------------------------------------------
void *__thiscall sub_472A50(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, void *a2, const int *a3)
{
  std::_Tree_nod<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> >::_Node *v3; // eax

  v3 = std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Lbound(
         this,
         a3);
  sub_446700(a2, (int)v3);
  return a2;
}

//----- (00472A80) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_472A80(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_475A20(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00472B20) --------------------------------------------------------
void *__thiscall sub_472B20(void *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_475AB0((int)this, (const char **)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00472B50) --------------------------------------------------------
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_472B50(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2)
{
  const std::vector<KMailSystem::CMailinfo>::iterator *v3; // eax
  const std::vector<KMailSystem::CMailinfo>::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_475A80(this, v8, a2);
  v3 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_472B20(this, v7, a2);
  std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(
    a1,
    v3,
    v5);
  return a1;
}

//----- (00472B90) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_472B90(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_475B40(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00472C30) --------------------------------------------------------
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_472C30(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a2, const int *a3)
{
  const std::vector<KMailSystem::CMailinfo>::iterator *v3; // eax
  const std::vector<KMailSystem::CMailinfo>::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_47EB10(this, v8, a3);
  v3 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_472A50(this, v7, a3);
  std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(
    a2,
    v3,
    v5);
  return a2;
}

//----- (00472C70) --------------------------------------------------------
int __thiscall sub_472C70(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_472B90(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00472D20) --------------------------------------------------------
int __thiscall std::vector<XMessageQueue::XElement>::capacity(std::vector<XMessageQueue::XTimerElement> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 3;
  else
    v2 = 0;
  return v2;
}

//----- (00472D60) --------------------------------------------------------
int __thiscall std::vector<XMessageQueue::XElement>::size(std::vector<IPAddrMask> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 2) - *((_DWORD *)this + 1)) >> 3;
  else
    v2 = 0;
  return v2;
}

//----- (00472DA0) --------------------------------------------------------
int __thiscall sub_472DA0(std::vector<IPAddrMask> *this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<XMessageQueue::XElement>::size(this) )
  {
    v4 = (_DWORD *)sub_430C20(this, (int)v11);
    v8 = sub_4470B0(&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_475BA0((int)this, (XMessageQueue::XTimerElement *)a3, 1u, (int *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_478710(v5, (_DWORD *)a2, v7);
  return a2;
}

//----- (00472E20) --------------------------------------------------------
char __thiscall std::vector<IPAddrMask>::_Buy(std::vector<IPAddrMask> *this, unsigned int _Capacity)
{
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  if ( !_Capacity )
    return 0;
  if ( sub_446B60(this) >= _Capacity )
  {
    *((_DWORD *)this + 1) = sub_446E50(_Capacity);
    *((_DWORD *)this + 2) = *((_DWORD *)this + 1);
    *((_DWORD *)this + 3) = *((_DWORD *)this + 1) + 8 * _Capacity;
  }
  else
  {
    std::vector<tagShowdownPaticipateInfo>::_Xran(this);
  }
  return 1;
}

//----- (00472EA0) --------------------------------------------------------
XMessageQueue::XTimerElement *__thiscall std::vector<XMessageQueue::XElement>::_Ufill(std::vector<XMessageQueue::XTimerElement> *this, XMessageQueue::XTimerElement *_Ptr, unsigned int _Count, const XMessageQueue::XTimerElement *_Val)
{
  sub_431DF0(_Ptr, _Count, (int)_Val);
  return (XMessageQueue::XTimerElement *)((char *)_Ptr + 8 * _Count);
}

//----- (00472ED0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_472ED0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(a3);
  std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(
    this,
    a2,
    v4);
  sub_4776F0(this);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (00472F10) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_472F10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_476600(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_434510(&a3, &v10, 0);
      sub_475E70(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00472FB0) --------------------------------------------------------
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_472FB0(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2)
{
  const std::vector<KMailSystem::CMailinfo>::iterator *v3; // eax
  const std::vector<KMailSystem::CMailinfo>::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_4776C0(this, v8, a2);
  v3 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_433240(this, (int)v7, a2);
  std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(
    a1,
    v3,
    v5);
  return a1;
}

//----- (00472FF0) --------------------------------------------------------
void *__thiscall sub_472FF0(_DWORD *this, void *a2, char a3, int a4, int a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  int *v31; // eax
  int *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  std::length_error that; // [esp+8h] [ebp-48h] BYREF
  CMemory **v43; // [esp+48h] [ebp-8h]
  CMemory **v44; // [esp+4Ch] [ebp-4h]
  int v45; // [esp+60h] [ebp+10h]

  if ( sub_477640((int)this) - 1 <= this[2] )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v5);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  v44 = sub_476820(this[1], a4, this[1], a5, 0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_478AB0(this);
    *v6 = v44;
    v7 = (CMemory ***)sub_418790(this);
    *v7 = v44;
    v8 = (CMemory ***)sub_47EB40(this);
    *v8 = v44;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)sub_474590(a4);
    *v9 = v44;
    if ( a4 == *(_DWORD *)sub_418790(this) )
    {
      v10 = (CMemory ***)sub_418790(this);
      *v10 = v44;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_430F90(a4);
    *v11 = v44;
    if ( a4 == *(_DWORD *)sub_47EB40(this) )
    {
      v12 = (CMemory ***)sub_47EB40(this);
      *v12 = v44;
    }
  }
  v43 = v44;
  while ( 1 )
  {
    v13 = (int *)sub_446FF0((int)v43);
    if ( *(_BYTE *)sub_433730(*v13) )
      break;
    v14 = (_DWORD *)sub_446FF0((int)v43);
    v15 = (int *)sub_446FF0((int)v43);
    v16 = (int *)sub_446FF0(*v15);
    if ( *v14 == *(_DWORD *)sub_474590(*v16) )
    {
      v17 = (int *)sub_446FF0((int)v43);
      v18 = (int *)sub_446FF0(*v17);
      v45 = *(_DWORD *)sub_430F90(*v18);
      if ( !*(_BYTE *)sub_433730(v45) )
        goto LABEL_15;
      v23 = (int *)sub_446FF0((int)v43);
      v24 = (CMemory ***)sub_430F90(*v23);
      if ( v43 == *v24 )
      {
        v43 = *(CMemory ***)sub_446FF0((int)v43);
        sub_4766F0(this, (int)v43);
      }
      v25 = (int *)sub_446FF0((int)v43);
      *(_BYTE *)sub_433730(*v25) = 1;
      v26 = (int *)sub_446FF0((int)v43);
      v27 = (int *)sub_446FF0(*v26);
      *(_BYTE *)sub_433730(*v27) = 0;
      v28 = (int *)sub_446FF0((int)v43);
      v29 = (int *)sub_446FF0(*v28);
      sub_433740(this, *v29);
    }
    else
    {
      v30 = (int *)sub_446FF0((int)v43);
      v31 = (int *)sub_446FF0(*v30);
      v45 = *(_DWORD *)sub_474590(*v31);
      if ( *(_BYTE *)sub_433730(v45) )
      {
        v32 = (int *)sub_446FF0((int)v43);
        v33 = (CMemory ***)sub_474590(*v32);
        if ( v43 == *v33 )
        {
          v43 = *(CMemory ***)sub_446FF0((int)v43);
          sub_433740(this, (int)v43);
        }
        v34 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_433730(*v34) = 1;
        v35 = (int *)sub_446FF0((int)v43);
        v36 = (int *)sub_446FF0(*v35);
        *(_BYTE *)sub_433730(*v36) = 0;
        v37 = (int *)sub_446FF0((int)v43);
        v38 = (int *)sub_446FF0(*v37);
        sub_4766F0(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_433730(*v19) = 1;
        *(_BYTE *)sub_433730(v45) = 1;
        v20 = (int *)sub_446FF0((int)v43);
        v21 = (int *)sub_446FF0(*v20);
        *(_BYTE *)sub_433730(*v21) = 0;
        v22 = (int *)sub_446FF0((int)v43);
        v43 = *(CMemory ***)sub_446FF0(*v22);
      }
    }
  }
  v39 = (int *)sub_478AB0(this);
  *(_BYTE *)sub_433730(*v39) = 1;
  sub_446700(a2, (int)v44);
  return a2;
}
// 473028: variable 'v5' is possibly undefined

//----- (00473430) --------------------------------------------------------
int __thiscall sub_473430(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_472F10(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (004734E0) --------------------------------------------------------
int __cdecl sub_4734E0(int a1)
{
  return a1 + 48;
}

//----- (004734F0) --------------------------------------------------------
int __cdecl sub_4734F0(int a1)
{
  return a1 + 49;
}

//----- (00473500) --------------------------------------------------------
int __cdecl sub_473500(int a1)
{
  int v1; // eax

  v1 = sub_447000(a1);
  return sub_474590(v1);
}

//----- (00473520) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_473520(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(a3);
  std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(
    this,
    a2,
    v4);
  sub_4768F0(this);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (00473560) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_473560(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_471490(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_472890(&a3, &v10, 0);
      sub_470CA0(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00473600) --------------------------------------------------------
void *__thiscall sub_473600(_DWORD *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_476960(this, (_DWORD *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00473630) --------------------------------------------------------
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_473630(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2)
{
  const std::vector<KMailSystem::CMailinfo>::iterator *v3; // eax
  const std::vector<KMailSystem::CMailinfo>::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_4768C0(this, v8, a2);
  v3 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_473600(this, v7, a2);
  std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(
    a1,
    v3,
    v5);
  return a1;
}

//----- (00473670) --------------------------------------------------------
int __stdcall sub_473670(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_4734F0((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_473670(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (004736F0) --------------------------------------------------------
void *__thiscall sub_4736F0(int this, void *a2, char a3, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *a4, const std::pair<int const ,KMacro::CShinsu_Ability> *a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  int *v31; // eax
  int *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  std::length_error that; // [esp+8h] [ebp-48h] BYREF
  CMemory **v43; // [esp+48h] [ebp-8h]
  CMemory **v44; // [esp+4Ch] [ebp-4h]
  std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *_Parg; // [esp+60h] [ebp+10h]

  if ( sub_4768A0(this) - 1 <= *(_DWORD *)(this + 8) )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v5);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  v44 = std::_Tree<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const,KMacro::CShinsu_Ability>>,0>>::_Buynode(
          (std::_Tree<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> > *)this,
          *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)(this + 4),
          a4,
          *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)(this + 4),
          a5,
          0);
  ++*(_DWORD *)(this + 8);
  if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)(this + 4) )
  {
    v6 = (CMemory ***)sub_478AB0((int *)this);
    *v6 = v44;
    v7 = (CMemory ***)sub_418790((_DWORD *)this);
    *v7 = v44;
    v8 = (CMemory ***)sub_47EB40((int *)this);
    *v8 = v44;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)sub_474590((int)a4);
    *v9 = v44;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)sub_418790((_DWORD *)this) )
    {
      v10 = (CMemory ***)sub_418790((_DWORD *)this);
      *v10 = v44;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_430F90((int)a4);
    *v11 = v44;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)sub_47EB40((int *)this) )
    {
      v12 = (CMemory ***)sub_47EB40((int *)this);
      *v12 = v44;
    }
  }
  v43 = v44;
  while ( 1 )
  {
    v13 = (int *)sub_446FF0((int)v43);
    if ( *(_BYTE *)sub_4734E0(*v13) )
      break;
    v14 = (_DWORD *)sub_446FF0((int)v43);
    v15 = (int *)sub_446FF0((int)v43);
    v16 = (int *)sub_446FF0(*v15);
    if ( *v14 == *(_DWORD *)sub_474590(*v16) )
    {
      v17 = (int *)sub_446FF0((int)v43);
      v18 = (int *)sub_446FF0(*v17);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)sub_430F90(*v18);
      if ( !*(_BYTE *)sub_4734E0((int)_Parg) )
        goto LABEL_15;
      v23 = (int *)sub_446FF0((int)v43);
      v24 = (CMemory ***)sub_430F90(*v23);
      if ( v43 == *v24 )
      {
        v43 = *(CMemory ***)sub_446FF0((int)v43);
        sub_473B30((void *)this, (int)v43);
      }
      v25 = (int *)sub_446FF0((int)v43);
      *(_BYTE *)sub_4734E0(*v25) = 1;
      v26 = (int *)sub_446FF0((int)v43);
      v27 = (int *)sub_446FF0(*v26);
      *(_BYTE *)sub_4734E0(*v27) = 0;
      v28 = (int *)sub_446FF0((int)v43);
      v29 = (int *)sub_446FF0(*v28);
      sub_473CE0((void *)this, *v29);
    }
    else
    {
      v30 = (int *)sub_446FF0((int)v43);
      v31 = (int *)sub_446FF0(*v30);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node **)sub_474590(*v31);
      if ( *(_BYTE *)sub_4734E0((int)_Parg) )
      {
        v32 = (int *)sub_446FF0((int)v43);
        v33 = (CMemory ***)sub_474590(*v32);
        if ( v43 == *v33 )
        {
          v43 = *(CMemory ***)sub_446FF0((int)v43);
          sub_473CE0((void *)this, (int)v43);
        }
        v34 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_4734E0(*v34) = 1;
        v35 = (int *)sub_446FF0((int)v43);
        v36 = (int *)sub_446FF0(*v35);
        *(_BYTE *)sub_4734E0(*v36) = 0;
        v37 = (int *)sub_446FF0((int)v43);
        v38 = (int *)sub_446FF0(*v37);
        sub_473B30((void *)this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_4734E0(*v19) = 1;
        *(_BYTE *)sub_4734E0((int)_Parg) = 1;
        v20 = (int *)sub_446FF0((int)v43);
        v21 = (int *)sub_446FF0(*v20);
        *(_BYTE *)sub_4734E0(*v21) = 0;
        v22 = (int *)sub_446FF0((int)v43);
        v43 = *(CMemory ***)sub_446FF0(*v22);
      }
    }
  }
  v39 = (int *)sub_478AB0((int *)this);
  *(_BYTE *)sub_4734E0(*v39) = 1;
  sub_446700(a2, (int)v44);
  return a2;
}
// 473728: variable 'v5' is possibly undefined

//----- (00473B30) --------------------------------------------------------
int *__thiscall sub_473B30(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_430F90(a2);
  v2 = (_DWORD *)sub_474590(v11);
  *(_DWORD *)sub_430F90(a2) = *v2;
  v3 = (int *)sub_474590(v11);
  if ( !*(_BYTE *)sub_4734F0(*v3) )
  {
    v4 = (int *)sub_474590(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_474590(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v8) = v11;
    }
  }
  *(_DWORD *)sub_474590(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (00473C60) --------------------------------------------------------
int __cdecl sub_473C60(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_430F90(a1);
    if ( *(_BYTE *)sub_4734F0(*v1) )
      break;
    a1 = *(_DWORD *)sub_430F90(a1);
  }
  return a1;
}

//----- (00473CA0) --------------------------------------------------------
int __cdecl sub_473CA0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_474590(a1);
    if ( *(_BYTE *)sub_4734F0(*v1) )
      break;
    a1 = *(_DWORD *)sub_474590(a1);
  }
  return a1;
}

//----- (00473CE0) --------------------------------------------------------
int *__thiscall sub_473CE0(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_474590(a2);
  v2 = (_DWORD *)sub_430F90(v11);
  *(_DWORD *)sub_474590(a2) = *v2;
  v3 = (int *)sub_430F90(v11);
  if ( !*(_BYTE *)sub_4734F0(*v3) )
  {
    v4 = (int *)sub_430F90(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_430F90(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v8) = v11;
    }
  }
  *(_DWORD *)sub_430F90(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (00473E10) --------------------------------------------------------
int __thiscall sub_473E10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_473560(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00473EC0) --------------------------------------------------------
int __cdecl sub_473EC0(int a1)
{
  return a1 + 25;
}

//----- (00473ED0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_473ED0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(a3);
  std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(
    this,
    a2,
    v4);
  sub_477260(this);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (00473F10) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_473F10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_4717E0(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_478680(&a3, v10, 0);
      sub_476AA0(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00473FB0) --------------------------------------------------------
void *__thiscall sub_473FB0(_DWORD *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_4772D0(this, (_DWORD *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00473FE0) --------------------------------------------------------
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_473FE0(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2)
{
  const std::vector<KMailSystem::CMailinfo>::iterator *v3; // eax
  const std::vector<KMailSystem::CMailinfo>::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_477230(this, v8, a2);
  v3 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_473FB0(this, v7, a2);
  std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(
    a1,
    v3,
    v5);
  return a1;
}

//----- (00474020) --------------------------------------------------------
int __stdcall sub_474020(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_473EC0((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_474020(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (004740A0) --------------------------------------------------------
void *__thiscall sub_4740A0(int this, void *a2, char a3, std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *a4, const std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> *a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  int *v31; // eax
  int *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  std::length_error that; // [esp+8h] [ebp-48h] BYREF
  CMemory **v43; // [esp+48h] [ebp-8h]
  CMemory **v44; // [esp+4Ch] [ebp-4h]
  std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *_Parg; // [esp+60h] [ebp+10h]

  if ( sub_476A80(this) - 1 <= *(_DWORD *)(this + 8) )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v5);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  v44 = std::_Tree<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const,TriggerSystem::CTrigger::ACTION_INFO>>,0>>::_Buynode(
          (std::_Tree<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> > *)this,
          *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)(this + 4),
          a4,
          *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)(this + 4),
          a5,
          0);
  ++*(_DWORD *)(this + 8);
  if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)(this + 4) )
  {
    v6 = (CMemory ***)sub_478AB0((int *)this);
    *v6 = v44;
    v7 = (CMemory ***)sub_418790((_DWORD *)this);
    *v7 = v44;
    v8 = (CMemory ***)sub_47EB40((int *)this);
    *v8 = v44;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)sub_474590((int)a4);
    *v9 = v44;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)sub_418790((_DWORD *)this) )
    {
      v10 = (CMemory ***)sub_418790((_DWORD *)this);
      *v10 = v44;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_430F90((int)a4);
    *v11 = v44;
    if ( a4 == *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)sub_47EB40((int *)this) )
    {
      v12 = (CMemory ***)sub_47EB40((int *)this);
      *v12 = v44;
    }
  }
  v43 = v44;
  while ( 1 )
  {
    v13 = (int *)sub_446FF0((int)v43);
    if ( *(_BYTE *)sub_476A70(*v13) )
      break;
    v14 = (_DWORD *)sub_446FF0((int)v43);
    v15 = (int *)sub_446FF0((int)v43);
    v16 = (int *)sub_446FF0(*v15);
    if ( *v14 == *(_DWORD *)sub_474590(*v16) )
    {
      v17 = (int *)sub_446FF0((int)v43);
      v18 = (int *)sub_446FF0(*v17);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)sub_430F90(*v18);
      if ( !*(_BYTE *)sub_476A70((int)_Parg) )
        goto LABEL_15;
      v23 = (int *)sub_446FF0((int)v43);
      v24 = (CMemory ***)sub_430F90(*v23);
      if ( v43 == *v24 )
      {
        v43 = *(CMemory ***)sub_446FF0((int)v43);
        sub_477360((void *)this, (int)v43);
      }
      v25 = (int *)sub_446FF0((int)v43);
      *(_BYTE *)sub_476A70(*v25) = 1;
      v26 = (int *)sub_446FF0((int)v43);
      v27 = (int *)sub_446FF0(*v26);
      *(_BYTE *)sub_476A70(*v27) = 0;
      v28 = (int *)sub_446FF0((int)v43);
      v29 = (int *)sub_446FF0(*v28);
      sub_477490((void *)this, *v29);
    }
    else
    {
      v30 = (int *)sub_446FF0((int)v43);
      v31 = (int *)sub_446FF0(*v30);
      _Parg = *(std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node **)sub_474590(*v31);
      if ( *(_BYTE *)sub_476A70((int)_Parg) )
      {
        v32 = (int *)sub_446FF0((int)v43);
        v33 = (CMemory ***)sub_474590(*v32);
        if ( v43 == *v33 )
        {
          v43 = *(CMemory ***)sub_446FF0((int)v43);
          sub_477490((void *)this, (int)v43);
        }
        v34 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_476A70(*v34) = 1;
        v35 = (int *)sub_446FF0((int)v43);
        v36 = (int *)sub_446FF0(*v35);
        *(_BYTE *)sub_476A70(*v36) = 0;
        v37 = (int *)sub_446FF0((int)v43);
        v38 = (int *)sub_446FF0(*v37);
        sub_477360((void *)this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_476A70(*v19) = 1;
        *(_BYTE *)sub_476A70((int)_Parg) = 1;
        v20 = (int *)sub_446FF0((int)v43);
        v21 = (int *)sub_446FF0(*v20);
        *(_BYTE *)sub_476A70(*v21) = 0;
        v22 = (int *)sub_446FF0((int)v43);
        v43 = *(CMemory ***)sub_446FF0(*v22);
      }
    }
  }
  v39 = (int *)sub_478AB0((int *)this);
  *(_BYTE *)sub_476A70(*v39) = 1;
  sub_446700(a2, (int)v44);
  return a2;
}
// 4740D8: variable 'v5' is possibly undefined

//----- (004744E0) --------------------------------------------------------
int __thiscall sub_4744E0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_473F10(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00474590) --------------------------------------------------------
int __cdecl sub_474590(int a1)
{
  return a1;
}

//----- (004745A0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4745A0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_477660(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_434510(&a3, &v10, 0);
      sub_475E70(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00474640) --------------------------------------------------------
int __thiscall sub_474640(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4745A0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (004746F0) --------------------------------------------------------
int __cdecl sub_4746F0(int a1)
{
  return a1 + 113;
}

//----- (00474700) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_474700(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(a3);
  std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(
    this,
    a2,
    v4);
  sub_477F50(this);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (00474740) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_474740(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  char v9[4]; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_471BE0(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_478760(&a3, v10, 0);
      sub_477790(this, v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (004747E0) --------------------------------------------------------
void *__thiscall sub_4747E0(_DWORD *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_477FC0(this, (_DWORD *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00474810) --------------------------------------------------------
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_474810(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2)
{
  const std::vector<KMailSystem::CMailinfo>::iterator *v3; // eax
  const std::vector<KMailSystem::CMailinfo>::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_477F20(this, v8, a2);
  v3 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_4747E0(this, v7, a2);
  std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(
    a1,
    v3,
    v5);
  return a1;
}

//----- (00474850) --------------------------------------------------------
int __stdcall sub_474850(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_4746F0((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_474850(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (004748D0) --------------------------------------------------------
void *__thiscall sub_4748D0(_DWORD *this, void *a2, char a3, int a4, int a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  int *v31; // eax
  int *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  std::length_error that; // [esp+8h] [ebp-48h] BYREF
  CMemory **v43; // [esp+48h] [ebp-8h]
  CMemory **v44; // [esp+4Ch] [ebp-4h]
  int v45; // [esp+60h] [ebp+10h]

  if ( sub_477770((int)this) - 1 <= this[2] )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v5);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  v44 = sub_4782B0(
          (std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *)this[1],
          (std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *)a4,
          (std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *)this[1],
          (const std::pair<int const ,KMacro::BoneInfo> *)a5,
          0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_478AB0(this);
    *v6 = v44;
    v7 = (CMemory ***)sub_418790(this);
    *v7 = v44;
    v8 = (CMemory ***)sub_47EB40(this);
    *v8 = v44;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)sub_474590(a4);
    *v9 = v44;
    if ( a4 == *(_DWORD *)sub_418790(this) )
    {
      v10 = (CMemory ***)sub_418790(this);
      *v10 = v44;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_430F90(a4);
    *v11 = v44;
    if ( a4 == *(_DWORD *)sub_47EB40(this) )
    {
      v12 = (CMemory ***)sub_47EB40(this);
      *v12 = v44;
    }
  }
  v43 = v44;
  while ( 1 )
  {
    v13 = (int *)sub_446FF0((int)v43);
    if ( *(_BYTE *)sub_477760(*v13) )
      break;
    v14 = (_DWORD *)sub_446FF0((int)v43);
    v15 = (int *)sub_446FF0((int)v43);
    v16 = (int *)sub_446FF0(*v15);
    if ( *v14 == *(_DWORD *)sub_474590(*v16) )
    {
      v17 = (int *)sub_446FF0((int)v43);
      v18 = (int *)sub_446FF0(*v17);
      v45 = *(_DWORD *)sub_430F90(*v18);
      if ( !*(_BYTE *)sub_477760(v45) )
        goto LABEL_15;
      v23 = (int *)sub_446FF0((int)v43);
      v24 = (CMemory ***)sub_430F90(*v23);
      if ( v43 == *v24 )
      {
        v43 = *(CMemory ***)sub_446FF0((int)v43);
        sub_478050(this, (int)v43);
      }
      v25 = (int *)sub_446FF0((int)v43);
      *(_BYTE *)sub_477760(*v25) = 1;
      v26 = (int *)sub_446FF0((int)v43);
      v27 = (int *)sub_446FF0(*v26);
      *(_BYTE *)sub_477760(*v27) = 0;
      v28 = (int *)sub_446FF0((int)v43);
      v29 = (int *)sub_446FF0(*v28);
      sub_478180(this, *v29);
    }
    else
    {
      v30 = (int *)sub_446FF0((int)v43);
      v31 = (int *)sub_446FF0(*v30);
      v45 = *(_DWORD *)sub_474590(*v31);
      if ( *(_BYTE *)sub_477760(v45) )
      {
        v32 = (int *)sub_446FF0((int)v43);
        v33 = (CMemory ***)sub_474590(*v32);
        if ( v43 == *v33 )
        {
          v43 = *(CMemory ***)sub_446FF0((int)v43);
          sub_478180(this, (int)v43);
        }
        v34 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_477760(*v34) = 1;
        v35 = (int *)sub_446FF0((int)v43);
        v36 = (int *)sub_446FF0(*v35);
        *(_BYTE *)sub_477760(*v36) = 0;
        v37 = (int *)sub_446FF0((int)v43);
        v38 = (int *)sub_446FF0(*v37);
        sub_478050(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_477760(*v19) = 1;
        *(_BYTE *)sub_477760(v45) = 1;
        v20 = (int *)sub_446FF0((int)v43);
        v21 = (int *)sub_446FF0(*v20);
        *(_BYTE *)sub_477760(*v21) = 0;
        v22 = (int *)sub_446FF0((int)v43);
        v43 = *(CMemory ***)sub_446FF0(*v22);
      }
    }
  }
  v39 = (int *)sub_478AB0(this);
  *(_BYTE *)sub_477760(*v39) = 1;
  sub_446700(a2, (int)v44);
  return a2;
}
// 474908: variable 'v5' is possibly undefined

//----- (00474D10) --------------------------------------------------------
int __thiscall sub_474D10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_474740(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00474DC0) --------------------------------------------------------
int __cdecl sub_474DC0(int a1)
{
  return a1 + 56;
}

//----- (00474DD0) --------------------------------------------------------
int __cdecl sub_474DD0(int a1)
{
  return a1 + 57;
}

//----- (00474DE0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_474DE0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(a3);
  std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(
    this,
    a2,
    v4);
  sub_4783E0(this);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (00474E20) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_474E20(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_478350(this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_4787E0(&a3, v10, 0);
      sub_471F00(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00474EC0) --------------------------------------------------------
void *__thiscall sub_474EC0(_DWORD *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_478450(this, (void *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00474EF0) --------------------------------------------------------
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall sub_474EF0(int *this, std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *a1, int a2)
{
  const std::vector<KMailSystem::CMailinfo>::iterator *v3; // eax
  const std::vector<KMailSystem::CMailinfo>::iterator *v5; // [esp-4h] [ebp-10h]
  char v7[4]; // [esp+4h] [ebp-8h] BYREF
  char v8[4]; // [esp+8h] [ebp-4h] BYREF

  v5 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_4783B0(this, v8, a2);
  v3 = (const std::vector<KMailSystem::CMailinfo>::iterator *)sub_474EC0(this, v7, a2);
  std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(
    a1,
    v3,
    v5);
  return a1;
}

//----- (00474F30) --------------------------------------------------------
void *__thiscall sub_474F30(_DWORD *this, void *a2, char a3, int a4, int a5)
{
  void *v5; // eax
  CMemory ***v6; // eax
  CMemory ***v7; // eax
  CMemory ***v8; // eax
  CMemory ***v9; // eax
  CMemory ***v10; // eax
  CMemory ***v11; // eax
  CMemory ***v12; // eax
  int *v13; // eax
  _DWORD *v14; // esi
  int *v15; // eax
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  int *v20; // eax
  int *v21; // eax
  int *v22; // eax
  int *v23; // eax
  CMemory ***v24; // eax
  int *v25; // eax
  int *v26; // eax
  int *v27; // eax
  int *v28; // eax
  int *v29; // eax
  int *v30; // eax
  int *v31; // eax
  int *v32; // eax
  CMemory ***v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  int *v38; // eax
  int *v39; // eax
  std::length_error that; // [esp+8h] [ebp-48h] BYREF
  CMemory **v43; // [esp+48h] [ebp-8h]
  CMemory **v44; // [esp+4Ch] [ebp-4h]
  int v45; // [esp+60h] [ebp+10h]

  if ( sub_478330((int)this) - 1 <= this[2] )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "map/set<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v5);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  v44 = sub_4784E0(this[1], a4, this[1], a5, 0);
  ++this[2];
  if ( a4 == this[1] )
  {
    v6 = (CMemory ***)sub_478AB0(this);
    *v6 = v44;
    v7 = (CMemory ***)sub_418790(this);
    *v7 = v44;
    v8 = (CMemory ***)sub_47EB40(this);
    *v8 = v44;
  }
  else if ( a3 )
  {
    v9 = (CMemory ***)sub_474590(a4);
    *v9 = v44;
    if ( a4 == *(_DWORD *)sub_418790(this) )
    {
      v10 = (CMemory ***)sub_418790(this);
      *v10 = v44;
    }
  }
  else
  {
    v11 = (CMemory ***)sub_430F90(a4);
    *v11 = v44;
    if ( a4 == *(_DWORD *)sub_47EB40(this) )
    {
      v12 = (CMemory ***)sub_47EB40(this);
      *v12 = v44;
    }
  }
  v43 = v44;
  while ( 1 )
  {
    v13 = (int *)sub_446FF0((int)v43);
    if ( *(_BYTE *)sub_474DC0(*v13) )
      break;
    v14 = (_DWORD *)sub_446FF0((int)v43);
    v15 = (int *)sub_446FF0((int)v43);
    v16 = (int *)sub_446FF0(*v15);
    if ( *v14 == *(_DWORD *)sub_474590(*v16) )
    {
      v17 = (int *)sub_446FF0((int)v43);
      v18 = (int *)sub_446FF0(*v17);
      v45 = *(_DWORD *)sub_430F90(*v18);
      if ( !*(_BYTE *)sub_474DC0(v45) )
        goto LABEL_15;
      v23 = (int *)sub_446FF0((int)v43);
      v24 = (CMemory ***)sub_430F90(*v23);
      if ( v43 == *v24 )
      {
        v43 = *(CMemory ***)sub_446FF0((int)v43);
        sub_475370(this, (int)v43);
      }
      v25 = (int *)sub_446FF0((int)v43);
      *(_BYTE *)sub_474DC0(*v25) = 1;
      v26 = (int *)sub_446FF0((int)v43);
      v27 = (int *)sub_446FF0(*v26);
      *(_BYTE *)sub_474DC0(*v27) = 0;
      v28 = (int *)sub_446FF0((int)v43);
      v29 = (int *)sub_446FF0(*v28);
      sub_475520(this, *v29);
    }
    else
    {
      v30 = (int *)sub_446FF0((int)v43);
      v31 = (int *)sub_446FF0(*v30);
      v45 = *(_DWORD *)sub_474590(*v31);
      if ( *(_BYTE *)sub_474DC0(v45) )
      {
        v32 = (int *)sub_446FF0((int)v43);
        v33 = (CMemory ***)sub_474590(*v32);
        if ( v43 == *v33 )
        {
          v43 = *(CMemory ***)sub_446FF0((int)v43);
          sub_475520(this, (int)v43);
        }
        v34 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_474DC0(*v34) = 1;
        v35 = (int *)sub_446FF0((int)v43);
        v36 = (int *)sub_446FF0(*v35);
        *(_BYTE *)sub_474DC0(*v36) = 0;
        v37 = (int *)sub_446FF0((int)v43);
        v38 = (int *)sub_446FF0(*v37);
        sub_475370(this, *v38);
      }
      else
      {
LABEL_15:
        v19 = (int *)sub_446FF0((int)v43);
        *(_BYTE *)sub_474DC0(*v19) = 1;
        *(_BYTE *)sub_474DC0(v45) = 1;
        v20 = (int *)sub_446FF0((int)v43);
        v21 = (int *)sub_446FF0(*v20);
        *(_BYTE *)sub_474DC0(*v21) = 0;
        v22 = (int *)sub_446FF0((int)v43);
        v43 = *(CMemory ***)sub_446FF0(*v22);
      }
    }
  }
  v39 = (int *)sub_478AB0(this);
  *(_BYTE *)sub_474DC0(*v39) = 1;
  sub_446700(a2, (int)v44);
  return a2;
}
// 474F68: variable 'v5' is possibly undefined

//----- (00475370) --------------------------------------------------------
int *__thiscall sub_475370(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_430F90(a2);
  v2 = (_DWORD *)sub_474590(v11);
  *(_DWORD *)sub_430F90(a2) = *v2;
  v3 = (int *)sub_474590(v11);
  if ( !*(_BYTE *)sub_474DD0(*v3) )
  {
    v4 = (int *)sub_474590(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_474590(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v8) = v11;
    }
  }
  *(_DWORD *)sub_474590(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (004754A0) --------------------------------------------------------
int __cdecl sub_4754A0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_430F90(a1);
    if ( *(_BYTE *)sub_474DD0(*v1) )
      break;
    a1 = *(_DWORD *)sub_430F90(a1);
  }
  return a1;
}

//----- (004754E0) --------------------------------------------------------
int __cdecl sub_4754E0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_474590(a1);
    if ( *(_BYTE *)sub_474DD0(*v1) )
      break;
    a1 = *(_DWORD *)sub_474590(a1);
  }
  return a1;
}

//----- (00475520) --------------------------------------------------------
int *__thiscall sub_475520(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_474590(a2);
  v2 = (_DWORD *)sub_430F90(v11);
  *(_DWORD *)sub_474590(a2) = *v2;
  v3 = (int *)sub_430F90(v11);
  if ( !*(_BYTE *)sub_474DD0(*v3) )
  {
    v4 = (int *)sub_430F90(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_430F90(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v8) = v11;
    }
  }
  *(_DWORD *)sub_430F90(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (00475650) --------------------------------------------------------
int __thiscall sub_475650(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_474E20(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (00475700) --------------------------------------------------------
void *__stdcall sub_475700(int a1)
{
  return sub_47A3A0((void *)a1);
}

//----- (00475720) --------------------------------------------------------
CMemory ***__thiscall sub_475720(_DWORD *this, int a1, int a2)
{
  int *v3; // eax
  int *v4; // eax
  CMemory ***result; // eax
  int v6; // [esp-4h] [ebp-10h]
  int v8; // [esp+4h] [ebp-8h]
  CMemory **v9; // [esp+8h] [ebp-4h]

  v8 = unknown_libname_7(&a1);
  v6 = a2;
  v3 = (int *)sub_446FF0(v8);
  v9 = sub_478560(v8, *v3, v6);
  sub_4785D0(this, 1u);
  *(_DWORD *)sub_446FF0(v8) = v9;
  v4 = (int *)sub_446FF0((int)v9);
  result = (CMemory ***)sub_474590(*v4);
  *result = v9;
  return result;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (004757A0) --------------------------------------------------------
_DWORD *__thiscall std::list<std::pair<std::string const,int>>::erase(int this, _DWORD *a2, int a3)
{
  _DWORD *v3; // eax
  _DWORD *v4; // esi
  int *v5; // eax
  _DWORD *v6; // esi
  int *v7; // eax
  char v10[4]; // [esp+8h] [ebp-8h] BYREF
  void *v11; // [esp+Ch] [ebp-4h]

  v3 = sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)&a3, v10, 0);
  v11 = (void *)unknown_libname_7(v3);
  if ( v11 != *(void **)(this + 4) )
  {
    v4 = (_DWORD *)sub_474590((int)v11);
    v5 = (int *)sub_446FF0((int)v11);
    *(_DWORD *)sub_474590(*v5) = *v4;
    v6 = (_DWORD *)sub_446FF0((int)v11);
    v7 = (int *)sub_474590((int)v11);
    *(_DWORD *)sub_446FF0(*v7) = *v6;
    sub_44CD70((int)v11);
    sub_4338F0(v11, 1);
    --*(_DWORD *)(this + 8);
  }
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00475880) --------------------------------------------------------
void *__thiscall sub_475880(void *this)
{
  sub_478660((int *)this);
  return this;
}

//----- (004758A0) --------------------------------------------------------
void *__thiscall sub_4758A0(void *this)
{
  sub_4786B0(this);
  return this;
}

//----- (004758C0) --------------------------------------------------------
void *__thiscall sub_4758C0(void *this)
{
  sub_4786D0(this);
  return this;
}

//----- (004758E0) --------------------------------------------------------
void *__thiscall sub_4758E0(void *this)
{
  sub_4786F0(this);
  return this;
}

//----- (00475900) --------------------------------------------------------
void *__thiscall sub_475900(void *this)
{
  sub_478740((int *)this);
  return this;
}

//----- (00475920) --------------------------------------------------------
void *__thiscall sub_475920(void *this)
{
  sub_478790(this);
  return this;
}

//----- (00475940) --------------------------------------------------------
void *__thiscall sub_475940(void *this)
{
  sub_4787B0((int *)this);
  return this;
}

//----- (00475960) --------------------------------------------------------
int __thiscall sub_475960(int *this)
{
  return sub_430F90(*this);
}

//----- (00475980) --------------------------------------------------------
void *__thiscall sub_475980(void *this)
{
  sub_478810(this);
  return this;
}

//----- (004759A0) --------------------------------------------------------
void *__thiscall sub_4759A0(void *this)
{
  sub_478830(this);
  return this;
}

//----- (004759C0) --------------------------------------------------------
_DWORD *__thiscall sub_4759C0(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_478920(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00475A20) --------------------------------------------------------
_DWORD *__thiscall sub_475A20(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_478A30(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00475A80) --------------------------------------------------------
void *__thiscall sub_475A80(int *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_478AD0(this, (const char **)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00475AB0) --------------------------------------------------------
int __thiscall sub_475AB0(int this, const char **a2)
{
  const char **v2; // eax
  const char *v4; // [esp-4h] [ebp-10h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]

  v6 = *(_DWORD *)sub_478AB0((int *)this);
  v7 = *(_DWORD *)(this + 4);
  while ( !*(_BYTE *)sub_431110(v6) )
  {
    v4 = *a2;
    v2 = (const char **)sub_473500(v6);
    if ( iless::operator()((iless *)this, *v2, v4) )
    {
      v6 = *(_DWORD *)sub_430F90(v6);
    }
    else
    {
      v7 = v6;
      v6 = *(_DWORD *)sub_474590(v6);
    }
  }
  return v7;
}

//----- (00475B40) --------------------------------------------------------
_DWORD *__thiscall sub_475B40(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_478B60(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00475BA0) --------------------------------------------------------
void __thiscall sub_475BA0(int this, XMessageQueue::XTimerElement *a2, unsigned int a3, int *a4)
{
  int v4; // edx
  unsigned int v5; // esi
  char *v6; // eax
  unsigned int v7; // [esp+4h] [ebp-20h]
  _DWORD *v9; // [esp+Ch] [ebp-18h]
  CMemory **v10; // [esp+10h] [ebp-14h]
  XMessageQueue::XTimerElement *_Ptr; // [esp+14h] [ebp-10h]
  unsigned int v12; // [esp+18h] [ebp-Ch]
  int v13; // [esp+18h] [ebp-Ch]
  int v14[2]; // [esp+1Ch] [ebp-8h] BYREF
  unsigned int _Count; // [esp+30h] [ebp+Ch]

  v4 = a4[1];
  v14[0] = *a4;
  v14[1] = v4;
  v12 = std::vector<XMessageQueue::XElement>::capacity((std::vector<XMessageQueue::XTimerElement> *)this);
  if ( a3 )
  {
    v5 = sub_446B60((std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *)this);
    if ( v5 - std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) >= a3 )
    {
      if ( v12 >= a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 3 >= a3 )
        {
          v9 = *(_DWORD **)(this + 8);
          *(_DWORD *)(this + 8) = sub_431E60((void *)this, (int)&v9[-2 * a3], (int)v9, v9);
          sub_47A3F0(a2, &v9[-2 * a3], v9);
          std::fill<XMessageQueue::XElement *,XMessageQueue::XElement>(
            a2,
            (XMessageQueue::XTimerElement *)((char *)a2 + 8 * a3),
            (const XMessageQueue::XTimerElement *)v14);
        }
        else
        {
          sub_431E60((void *)this, (int)a2, *(_DWORD *)(this + 8), (char *)a2 + 8 * a3);
          std::vector<XMessageQueue::XElement>::_Ufill(
            (std::vector<XMessageQueue::XTimerElement> *)this,
            *(XMessageQueue::XTimerElement **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 3),
            (const XMessageQueue::XTimerElement *)v14);
          *(_DWORD *)(this + 8) += 8 * a3;
          std::fill<XMessageQueue::XElement *,XMessageQueue::XElement>(
            a2,
            (XMessageQueue::XTimerElement *)(*(_DWORD *)(this + 8) - 8 * a3),
            (const XMessageQueue::XTimerElement *)v14);
        }
      }
      else
      {
        if ( sub_446B60((std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *)this) - (v12 >> 1) >= v12 )
          v7 = v12 + (v12 >> 1);
        else
          v7 = 0;
        v13 = v7;
        if ( v7 < a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this) )
          v13 = a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
        v10 = sub_446E50(v13);
        v6 = sub_431E60((void *)this, *(_DWORD *)(this + 4), (int)a2, v10);
        _Ptr = std::vector<XMessageQueue::XElement>::_Ufill(
                 (std::vector<XMessageQueue::XTimerElement> *)this,
                 (XMessageQueue::XTimerElement *)v6,
                 a3,
                 (const XMessageQueue::XTimerElement *)v14);
        sub_431E60((void *)this, (int)a2, *(_DWORD *)(this + 8), _Ptr);
        _Count = a3 + std::vector<XMessageQueue::XElement>::size((std::vector<IPAddrMask> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_4316C0((void *)this, *(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 3);
        }
        *(_DWORD *)(this + 12) = &v10[2 * v13];
        *(_DWORD *)(this + 8) = &v10[2 * _Count];
        *(_DWORD *)(this + 4) = v10;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (00475E70) --------------------------------------------------------
_DWORD *__thiscall sub_475E70(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  std::logic_error *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  int *v25; // eax
  void **v26; // eax
  int *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  char v52[36]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_7(&a3);
  if ( *(_BYTE *)sub_433230(v3) )
  {
    std::string::string((std::vector<IPAddrMask> *)v51, "invalid map/set<T> iterator");
    v4 = sub_4111A0((std::logic_error *)v52, (const std::string *)v51);
    std::exception::_Raise(v4);
    sub_4111D0((std::logic_error *)v52);
    sub_40F780(v51);
  }
  v56 = (void *)unknown_libname_7(&a3);
  sub_475880(&a3);
  v54 = v56;
  v5 = (int *)sub_474590((int)v56);
  if ( *(_BYTE *)sub_433230(*v5) )
  {
    v55 = *(void **)sub_430F90((int)v54);
  }
  else
  {
    v6 = (int *)sub_430F90((int)v54);
    if ( *(_BYTE *)sub_433230(*v6) )
    {
      v55 = *(void **)sub_474590((int)v54);
    }
    else
    {
      v54 = (void *)unknown_libname_7(&a3);
      v55 = *(void **)sub_430F90((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_446FF0((int)v56);
    if ( !*(_BYTE *)sub_433230((int)v55) )
    {
      v7 = (_DWORD *)sub_446FF0((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_478AB0(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_478AB0(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)sub_474590((int)v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)sub_474590((int)v53);
      else
        v11 = (_DWORD *)sub_430F90((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_418790(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_433230((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_479190((int)v55);
      *(_DWORD *)sub_418790(this) = v49;
    }
    v13 = (void **)sub_47EB40(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_433230((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_433AB0((int)v55);
      *(_DWORD *)sub_47EB40(this) = v48;
    }
  }
  else
  {
    v14 = (int *)sub_474590((int)v56);
    v15 = (_DWORD *)sub_446FF0(*v14);
    *v15 = v54;
    v16 = (_DWORD *)sub_474590((int)v56);
    *(_DWORD *)sub_474590((int)v54) = *v16;
    v17 = (void **)sub_430F90((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_446FF0((int)v54);
      if ( !*(_BYTE *)sub_433230((int)v55) )
      {
        v18 = (_DWORD *)sub_446FF0((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)sub_474590((int)v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_430F90((int)v56);
      *(_DWORD *)sub_430F90((int)v54) = *v20;
      v21 = (int *)sub_430F90((int)v56);
      v22 = (_DWORD *)sub_446FF0(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_478AB0(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_478AB0(this);
      *v24 = v54;
    }
    else
    {
      v25 = (int *)sub_446FF0((int)v56);
      v26 = (void **)sub_474590(*v25);
      if ( *v26 == v56 )
      {
        v27 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_474590(*v27);
      }
      else
      {
        v29 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_430F90(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_446FF0((int)v56);
    *(_DWORD *)sub_446FF0((int)v54) = *v30;
    v47 = (char *)sub_433730((int)v56);
    v31 = (char *)sub_433730((int)v54);
    std::swap<unsigned char>(v31, v47);
  }
  if ( *(_BYTE *)sub_433730((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_478AB0(this);
      if ( v55 == *v32 || *(_BYTE *)sub_433730((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_433730((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)sub_474590((int)v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)sub_474590((int)v53);
      if ( !*(_BYTE *)sub_433730((int)v54) )
      {
        *(_BYTE *)sub_433730((int)v54) = 1;
        *(_BYTE *)sub_433730((int)v53) = 0;
        sub_433740(this, (int)v53);
        v54 = *(void **)sub_474590((int)v53);
      }
      if ( !*(_BYTE *)sub_433230((int)v54) )
      {
        v40 = (int *)sub_430F90((int)v54);
        if ( *(_BYTE *)sub_433730(*v40) != 1 || (v41 = (int *)sub_474590((int)v54), *(_BYTE *)sub_433730(*v41) != 1) )
        {
          v42 = (int *)sub_474590((int)v54);
          if ( *(_BYTE *)sub_433730(*v42) == 1 )
          {
            v43 = (int *)sub_430F90((int)v54);
            *(_BYTE *)sub_433730(*v43) = 1;
            *(_BYTE *)sub_433730((int)v54) = 0;
            sub_4766F0(this, (int)v54);
            v54 = *(void **)sub_474590((int)v53);
          }
          v44 = (_BYTE *)sub_433730((int)v53);
          *(_BYTE *)sub_433730((int)v54) = *v44;
          *(_BYTE *)sub_433730((int)v53) = 1;
          v45 = (int *)sub_474590((int)v54);
          *(_BYTE *)sub_433730(*v45) = 1;
          sub_433740(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_433730((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_446FF0((int)v55);
    }
    v54 = *(void **)sub_430F90((int)v53);
    if ( !*(_BYTE *)sub_433730((int)v54) )
    {
      *(_BYTE *)sub_433730((int)v54) = 1;
      *(_BYTE *)sub_433730((int)v53) = 0;
      sub_4766F0(this, (int)v53);
      v54 = *(void **)sub_430F90((int)v53);
    }
    if ( *(_BYTE *)sub_433230((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)sub_474590((int)v54);
    if ( *(_BYTE *)sub_433730(*v34) != 1 || (v35 = (int *)sub_430F90((int)v54), *(_BYTE *)sub_433730(*v35) != 1) )
    {
      v36 = (int *)sub_430F90((int)v54);
      if ( *(_BYTE *)sub_433730(*v36) == 1 )
      {
        v37 = (int *)sub_474590((int)v54);
        *(_BYTE *)sub_433730(*v37) = 1;
        *(_BYTE *)sub_433730((int)v54) = 0;
        sub_433740(this, (int)v54);
        v54 = *(void **)sub_430F90((int)v53);
      }
      v38 = (_BYTE *)sub_433730((int)v53);
      *(_BYTE *)sub_433730((int)v54) = *v38;
      *(_BYTE *)sub_433730((int)v53) = 1;
      v39 = (int *)sub_430F90((int)v54);
      *(_BYTE *)sub_433730(*v39) = 1;
      sub_4766F0(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_44CD70((int)v56);
  sub_4338F0(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00476600) --------------------------------------------------------
_DWORD *__thiscall sub_476600(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_478C10(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (00476660) --------------------------------------------------------
int __thiscall sub_476660(_DWORD *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_433230(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(v2, a2) )
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
  }
  return v6;
}

//----- (004766F0) --------------------------------------------------------
int *__thiscall sub_4766F0(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_430F90(a2);
  v2 = (_DWORD *)sub_474590(v11);
  *(_DWORD *)sub_430F90(a2) = *v2;
  v3 = (int *)sub_474590(v11);
  if ( !*(_BYTE *)sub_433230(*v3) )
  {
    v4 = (int *)sub_474590(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_474590(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v8) = v11;
    }
  }
  *(_DWORD *)sub_474590(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (00476820) --------------------------------------------------------
CMemory **__stdcall sub_476820(int a1, int a2, int a3, int a4, char a5)
{
  _DWORD *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_4793B0(1);
  v6 = operator new(0x30u, v7);
  if ( v6 )
    sub_479E10(v6, a1, a2, a3, (const void *)a4, a5);
  return v7;
}

//----- (004768A0) --------------------------------------------------------
unsigned int __thiscall sub_4768A0(int this)
{
  return std::allocator<LayerInfo>::max_size((std::allocator<KGuildSystem::CGuildMember> *)(this + 3));
}

//----- (004768C0) --------------------------------------------------------
void *__thiscall sub_4768C0(int *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_478C90(this, (_DWORD *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (004768F0) --------------------------------------------------------
_DWORD *__thiscall sub_4768F0(_DWORD *this)
{
  _DWORD *result; // eax

  this[1] = sub_478D20();
  *(_BYTE *)sub_4734F0(this[1]) = 1;
  *(_DWORD *)sub_478AB0(this) = this[1];
  *(_DWORD *)sub_418790(this) = this[1];
  *(_DWORD *)sub_47EB40(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (00476960) --------------------------------------------------------
int __thiscall sub_476960(_DWORD *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_4734F0(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(v2, a2) )
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
  }
  return v6;
}

//----- (004769F0) --------------------------------------------------------
CMemory **__thiscall std::_Tree<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const,KMacro::CShinsu_Ability>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::CShinsu_Ability,std::less<int>,std::allocator<std::pair<int const ,KMacro::CShinsu_Ability> >,0> >::_Node *_Rarg, const std::pair<int const ,KMacro::CShinsu_Ability> *_Val, char _Carg)
{
  _DWORD *v7; // [esp+8h] [ebp-8h]
  CMemory **v8; // [esp+Ch] [ebp-4h]

  v8 = sub_478E70(1);
  v7 = operator new(0x34u, v8);
  if ( v7 )
    sub_479E60(v7, (int)_Larg, (int)_Parg, (int)_Rarg, _Val, _Carg);
  return v8;
}

//----- (00476A70) --------------------------------------------------------
int __cdecl sub_476A70(int a1)
{
  return a1 + 24;
}

//----- (00476A80) --------------------------------------------------------
unsigned int __thiscall sub_476A80(int this)
{
  return std::allocator<std::pair<unsigned int const,TriggerSystem::CTrigger::ACTION_INFO>>::max_size((std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *)(this + 3));
}

//----- (00476AA0) --------------------------------------------------------
_DWORD *__thiscall sub_476AA0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  std::logic_error *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  int *v25; // eax
  void **v26; // eax
  int *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  char v52[36]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_7(&a3);
  if ( *(_BYTE *)sub_473EC0(v3) )
  {
    std::string::string((std::vector<IPAddrMask> *)v51, "invalid map/set<T> iterator");
    v4 = sub_4111A0((std::logic_error *)v52, (const std::string *)v51);
    std::exception::_Raise(v4);
    sub_4111D0((std::logic_error *)v52);
    sub_40F780(v51);
  }
  v56 = (void *)unknown_libname_7(&a3);
  sub_4798D0(&a3);
  v54 = v56;
  v5 = (int *)sub_474590((int)v56);
  if ( *(_BYTE *)sub_473EC0(*v5) )
  {
    v55 = *(void **)sub_430F90((int)v54);
  }
  else
  {
    v6 = (int *)sub_430F90((int)v54);
    if ( *(_BYTE *)sub_473EC0(*v6) )
    {
      v55 = *(void **)sub_474590((int)v54);
    }
    else
    {
      v54 = (void *)unknown_libname_7(&a3);
      v55 = *(void **)sub_430F90((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_446FF0((int)v56);
    if ( !*(_BYTE *)sub_473EC0((int)v55) )
    {
      v7 = (_DWORD *)sub_446FF0((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_478AB0(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_478AB0(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)sub_474590((int)v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)sub_474590((int)v53);
      else
        v11 = (_DWORD *)sub_430F90((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_418790(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_473EC0((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_478ED0((int)v55);
      *(_DWORD *)sub_418790(this) = v49;
    }
    v13 = (void **)sub_47EB40(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_473EC0((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_478E90((int)v55);
      *(_DWORD *)sub_47EB40(this) = v48;
    }
  }
  else
  {
    v14 = (int *)sub_474590((int)v56);
    v15 = (_DWORD *)sub_446FF0(*v14);
    *v15 = v54;
    v16 = (_DWORD *)sub_474590((int)v56);
    *(_DWORD *)sub_474590((int)v54) = *v16;
    v17 = (void **)sub_430F90((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_446FF0((int)v54);
      if ( !*(_BYTE *)sub_473EC0((int)v55) )
      {
        v18 = (_DWORD *)sub_446FF0((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)sub_474590((int)v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_430F90((int)v56);
      *(_DWORD *)sub_430F90((int)v54) = *v20;
      v21 = (int *)sub_430F90((int)v56);
      v22 = (_DWORD *)sub_446FF0(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_478AB0(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_478AB0(this);
      *v24 = v54;
    }
    else
    {
      v25 = (int *)sub_446FF0((int)v56);
      v26 = (void **)sub_474590(*v25);
      if ( *v26 == v56 )
      {
        v27 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_474590(*v27);
      }
      else
      {
        v29 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_430F90(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_446FF0((int)v56);
    *(_DWORD *)sub_446FF0((int)v54) = *v30;
    v47 = (char *)sub_476A70((int)v56);
    v31 = (char *)sub_476A70((int)v54);
    std::swap<unsigned char>(v31, v47);
  }
  if ( *(_BYTE *)sub_476A70((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_478AB0(this);
      if ( v55 == *v32 || *(_BYTE *)sub_476A70((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_476A70((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)sub_474590((int)v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)sub_474590((int)v53);
      if ( !*(_BYTE *)sub_476A70((int)v54) )
      {
        *(_BYTE *)sub_476A70((int)v54) = 1;
        *(_BYTE *)sub_476A70((int)v53) = 0;
        sub_477490(this, (int)v53);
        v54 = *(void **)sub_474590((int)v53);
      }
      if ( !*(_BYTE *)sub_473EC0((int)v54) )
      {
        v40 = (int *)sub_430F90((int)v54);
        if ( *(_BYTE *)sub_476A70(*v40) != 1 || (v41 = (int *)sub_474590((int)v54), *(_BYTE *)sub_476A70(*v41) != 1) )
        {
          v42 = (int *)sub_474590((int)v54);
          if ( *(_BYTE *)sub_476A70(*v42) == 1 )
          {
            v43 = (int *)sub_430F90((int)v54);
            *(_BYTE *)sub_476A70(*v43) = 1;
            *(_BYTE *)sub_476A70((int)v54) = 0;
            sub_477360(this, (int)v54);
            v54 = *(void **)sub_474590((int)v53);
          }
          v44 = (_BYTE *)sub_476A70((int)v53);
          *(_BYTE *)sub_476A70((int)v54) = *v44;
          *(_BYTE *)sub_476A70((int)v53) = 1;
          v45 = (int *)sub_474590((int)v54);
          *(_BYTE *)sub_476A70(*v45) = 1;
          sub_477490(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_476A70((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_446FF0((int)v55);
    }
    v54 = *(void **)sub_430F90((int)v53);
    if ( !*(_BYTE *)sub_476A70((int)v54) )
    {
      *(_BYTE *)sub_476A70((int)v54) = 1;
      *(_BYTE *)sub_476A70((int)v53) = 0;
      sub_477360(this, (int)v53);
      v54 = *(void **)sub_430F90((int)v53);
    }
    if ( *(_BYTE *)sub_473EC0((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)sub_474590((int)v54);
    if ( *(_BYTE *)sub_476A70(*v34) != 1 || (v35 = (int *)sub_430F90((int)v54), *(_BYTE *)sub_476A70(*v35) != 1) )
    {
      v36 = (int *)sub_430F90((int)v54);
      if ( *(_BYTE *)sub_476A70(*v36) == 1 )
      {
        v37 = (int *)sub_474590((int)v54);
        *(_BYTE *)sub_476A70(*v37) = 1;
        *(_BYTE *)sub_476A70((int)v54) = 0;
        sub_477490(this, (int)v54);
        v54 = *(void **)sub_430F90((int)v53);
      }
      v38 = (_BYTE *)sub_476A70((int)v53);
      *(_BYTE *)sub_476A70((int)v54) = *v38;
      *(_BYTE *)sub_476A70((int)v53) = 1;
      v39 = (int *)sub_430F90((int)v54);
      *(_BYTE *)sub_476A70(*v39) = 1;
      sub_477360(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_44CD70((int)v56);
  sub_4338F0(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00477230) --------------------------------------------------------
void *__thiscall sub_477230(int *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_478F10(this, (_DWORD *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00477260) --------------------------------------------------------
_DWORD *__thiscall sub_477260(_DWORD *this)
{
  _DWORD *result; // eax

  this[1] = sub_478FA0();
  *(_BYTE *)sub_473EC0(this[1]) = 1;
  *(_DWORD *)sub_478AB0(this) = this[1];
  *(_DWORD *)sub_418790(this) = this[1];
  *(_DWORD *)sub_47EB40(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (004772D0) --------------------------------------------------------
int __thiscall sub_4772D0(_DWORD *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_473EC0(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(v2, a2) )
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
  }
  return v6;
}

//----- (00477360) --------------------------------------------------------
int *__thiscall sub_477360(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_430F90(a2);
  v2 = (_DWORD *)sub_474590(v11);
  *(_DWORD *)sub_430F90(a2) = *v2;
  v3 = (int *)sub_474590(v11);
  if ( !*(_BYTE *)sub_473EC0(*v3) )
  {
    v4 = (int *)sub_474590(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_474590(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v8) = v11;
    }
  }
  *(_DWORD *)sub_474590(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (00477490) --------------------------------------------------------
int *__thiscall sub_477490(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_474590(a2);
  v2 = (_DWORD *)sub_430F90(v11);
  *(_DWORD *)sub_474590(a2) = *v2;
  v3 = (int *)sub_430F90(v11);
  if ( !*(_BYTE *)sub_473EC0(*v3) )
  {
    v4 = (int *)sub_430F90(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_430F90(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v8) = v11;
    }
  }
  *(_DWORD *)sub_430F90(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (004775C0) --------------------------------------------------------
CMemory **__thiscall std::_Tree<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const,TriggerSystem::CTrigger::ACTION_INFO>>,0>>::_Buynode(std::_Tree<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<unsigned int,TriggerSystem::CTrigger::ACTION_INFO,std::less<unsigned int>,std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> >,0> >::_Node *_Rarg, const std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> *_Val, char _Carg)
{
  std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *v7; // [esp+8h] [ebp-8h]
  CMemory **v8; // [esp+Ch] [ebp-4h]

  v8 = sub_4790F0(1);
  v7 = (std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *)operator new(0x1Cu, v8);
  if ( v7 )
    std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const,CScriptToCookBoard::tBaseTable>>,0>>::_Node::_Node(
      v7,
      _Larg,
      _Parg,
      _Rarg,
      _Val,
      _Carg);
  return v8;
}

//----- (00477640) --------------------------------------------------------
unsigned int __thiscall sub_477640(int this)
{
  return std::allocator<View_ARMY_ADD_RAIDER_TEAM::RAIDERS_MASTER_INFO>::max_size((std::allocator<std::pair<unsigned long const ,std::string > > *)(this + 3));
}

//----- (00477660) --------------------------------------------------------
_DWORD *__thiscall sub_477660(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_479110(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (004776C0) --------------------------------------------------------
void *__thiscall sub_4776C0(int *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_4791D0(this, (_DWORD *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (004776F0) --------------------------------------------------------
_DWORD *__thiscall sub_4776F0(_DWORD *this)
{
  _DWORD *result; // eax

  this[1] = sub_479260();
  *(_BYTE *)sub_433230(this[1]) = 1;
  *(_DWORD *)sub_478AB0(this) = this[1];
  *(_DWORD *)sub_418790(this) = this[1];
  *(_DWORD *)sub_47EB40(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (00477760) --------------------------------------------------------
int __cdecl sub_477760(int a1)
{
  return a1 + 112;
}

//----- (00477770) --------------------------------------------------------
unsigned int __thiscall sub_477770(int this)
{
  return std::allocator<KMailSystem::CMailinfo>::max_size((std::allocator<KMailSystem::CMailinfo> *)(this + 3));
}

//----- (00477790) --------------------------------------------------------
_DWORD *__thiscall sub_477790(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  std::logic_error *v4; // eax
  int *v5; // eax
  int *v6; // eax
  _DWORD *v7; // eax
  void **v8; // eax
  _DWORD *v9; // eax
  void **v10; // eax
  _DWORD *v11; // eax
  void **v12; // eax
  void **v13; // eax
  int *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  void **v17; // eax
  _DWORD *v18; // eax
  _DWORD *v19; // eax
  _DWORD *v20; // esi
  int *v21; // eax
  _DWORD *v22; // eax
  void **v23; // eax
  _DWORD *v24; // eax
  int *v25; // eax
  void **v26; // eax
  int *v27; // eax
  _DWORD *v28; // eax
  int *v29; // eax
  _DWORD *v30; // esi
  char *v31; // eax
  void **v32; // eax
  void **v33; // eax
  int *v34; // eax
  int *v35; // eax
  int *v36; // eax
  int *v37; // eax
  _BYTE *v38; // esi
  int *v39; // eax
  int *v40; // eax
  int *v41; // eax
  int *v42; // eax
  int *v43; // eax
  _BYTE *v44; // esi
  int *v45; // eax
  char *v47; // [esp-4h] [ebp-64h]
  int v48; // [esp+4h] [ebp-5Ch]
  int v49; // [esp+8h] [ebp-58h]
  char v51[28]; // [esp+10h] [ebp-50h] BYREF
  char v52[36]; // [esp+2Ch] [ebp-34h] BYREF
  void *v53; // [esp+50h] [ebp-10h]
  void *v54; // [esp+54h] [ebp-Ch]
  void *v55; // [esp+58h] [ebp-8h]
  void *v56; // [esp+5Ch] [ebp-4h]

  v3 = unknown_libname_7(&a3);
  if ( *(_BYTE *)sub_4746F0(v3) )
  {
    std::string::string((std::vector<IPAddrMask> *)v51, "invalid map/set<T> iterator");
    v4 = sub_4111A0((std::logic_error *)v52, (const std::string *)v51);
    std::exception::_Raise(v4);
    sub_4111D0((std::logic_error *)v52);
    sub_40F780(v51);
  }
  v56 = (void *)unknown_libname_7(&a3);
  sub_479B70(&a3);
  v54 = v56;
  v5 = (int *)sub_474590((int)v56);
  if ( *(_BYTE *)sub_4746F0(*v5) )
  {
    v55 = *(void **)sub_430F90((int)v54);
  }
  else
  {
    v6 = (int *)sub_430F90((int)v54);
    if ( *(_BYTE *)sub_4746F0(*v6) )
    {
      v55 = *(void **)sub_474590((int)v54);
    }
    else
    {
      v54 = (void *)unknown_libname_7(&a3);
      v55 = *(void **)sub_430F90((int)v54);
    }
  }
  if ( v54 == v56 )
  {
    v53 = *(void **)sub_446FF0((int)v56);
    if ( !*(_BYTE *)sub_4746F0((int)v55) )
    {
      v7 = (_DWORD *)sub_446FF0((int)v55);
      *v7 = v53;
    }
    v8 = (void **)sub_478AB0(this);
    if ( *v8 == v56 )
    {
      v9 = (_DWORD *)sub_478AB0(this);
      *v9 = v55;
    }
    else
    {
      v10 = (void **)sub_474590((int)v53);
      if ( *v10 == v56 )
        v11 = (_DWORD *)sub_474590((int)v53);
      else
        v11 = (_DWORD *)sub_430F90((int)v53);
      *v11 = v55;
    }
    v12 = (void **)sub_418790(this);
    if ( *v12 == v56 )
    {
      if ( *(_BYTE *)sub_4746F0((int)v55) )
        v49 = (int)v53;
      else
        v49 = sub_479410((int)v55);
      *(_DWORD *)sub_418790(this) = v49;
    }
    v13 = (void **)sub_47EB40(this);
    if ( *v13 == v56 )
    {
      if ( *(_BYTE *)sub_4746F0((int)v55) )
        v48 = (int)v53;
      else
        v48 = sub_4793D0((int)v55);
      *(_DWORD *)sub_47EB40(this) = v48;
    }
  }
  else
  {
    v14 = (int *)sub_474590((int)v56);
    v15 = (_DWORD *)sub_446FF0(*v14);
    *v15 = v54;
    v16 = (_DWORD *)sub_474590((int)v56);
    *(_DWORD *)sub_474590((int)v54) = *v16;
    v17 = (void **)sub_430F90((int)v56);
    if ( v54 == *v17 )
    {
      v53 = v54;
    }
    else
    {
      v53 = *(void **)sub_446FF0((int)v54);
      if ( !*(_BYTE *)sub_4746F0((int)v55) )
      {
        v18 = (_DWORD *)sub_446FF0((int)v55);
        *v18 = v53;
      }
      v19 = (_DWORD *)sub_474590((int)v53);
      *v19 = v55;
      v20 = (_DWORD *)sub_430F90((int)v56);
      *(_DWORD *)sub_430F90((int)v54) = *v20;
      v21 = (int *)sub_430F90((int)v56);
      v22 = (_DWORD *)sub_446FF0(*v21);
      *v22 = v54;
    }
    v23 = (void **)sub_478AB0(this);
    if ( *v23 == v56 )
    {
      v24 = (_DWORD *)sub_478AB0(this);
      *v24 = v54;
    }
    else
    {
      v25 = (int *)sub_446FF0((int)v56);
      v26 = (void **)sub_474590(*v25);
      if ( *v26 == v56 )
      {
        v27 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_474590(*v27);
      }
      else
      {
        v29 = (int *)sub_446FF0((int)v56);
        v28 = (_DWORD *)sub_430F90(*v29);
      }
      *v28 = v54;
    }
    v30 = (_DWORD *)sub_446FF0((int)v56);
    *(_DWORD *)sub_446FF0((int)v54) = *v30;
    v47 = (char *)sub_477760((int)v56);
    v31 = (char *)sub_477760((int)v54);
    std::swap<unsigned char>(v31, v47);
  }
  if ( *(_BYTE *)sub_477760((int)v56) == 1 )
  {
    while ( 1 )
    {
      v32 = (void **)sub_478AB0(this);
      if ( v55 == *v32 || *(_BYTE *)sub_477760((int)v55) != 1 )
      {
LABEL_65:
        *(_BYTE *)sub_477760((int)v55) = 1;
        goto LABEL_66;
      }
      v33 = (void **)sub_474590((int)v53);
      if ( v55 == *v33 )
        break;
      v54 = *(void **)sub_474590((int)v53);
      if ( !*(_BYTE *)sub_477760((int)v54) )
      {
        *(_BYTE *)sub_477760((int)v54) = 1;
        *(_BYTE *)sub_477760((int)v53) = 0;
        sub_478180(this, (int)v53);
        v54 = *(void **)sub_474590((int)v53);
      }
      if ( !*(_BYTE *)sub_4746F0((int)v54) )
      {
        v40 = (int *)sub_430F90((int)v54);
        if ( *(_BYTE *)sub_477760(*v40) != 1 || (v41 = (int *)sub_474590((int)v54), *(_BYTE *)sub_477760(*v41) != 1) )
        {
          v42 = (int *)sub_474590((int)v54);
          if ( *(_BYTE *)sub_477760(*v42) == 1 )
          {
            v43 = (int *)sub_430F90((int)v54);
            *(_BYTE *)sub_477760(*v43) = 1;
            *(_BYTE *)sub_477760((int)v54) = 0;
            sub_478050(this, (int)v54);
            v54 = *(void **)sub_474590((int)v53);
          }
          v44 = (_BYTE *)sub_477760((int)v53);
          *(_BYTE *)sub_477760((int)v54) = *v44;
          *(_BYTE *)sub_477760((int)v53) = 1;
          v45 = (int *)sub_474590((int)v54);
          *(_BYTE *)sub_477760(*v45) = 1;
          sub_478180(this, (int)v53);
          goto LABEL_65;
        }
LABEL_52:
        *(_BYTE *)sub_477760((int)v54) = 0;
        v55 = v53;
        goto LABEL_42;
      }
      v55 = v53;
LABEL_42:
      v53 = *(void **)sub_446FF0((int)v55);
    }
    v54 = *(void **)sub_430F90((int)v53);
    if ( !*(_BYTE *)sub_477760((int)v54) )
    {
      *(_BYTE *)sub_477760((int)v54) = 1;
      *(_BYTE *)sub_477760((int)v53) = 0;
      sub_478050(this, (int)v53);
      v54 = *(void **)sub_430F90((int)v53);
    }
    if ( *(_BYTE *)sub_4746F0((int)v54) )
    {
      v55 = v53;
      goto LABEL_42;
    }
    v34 = (int *)sub_474590((int)v54);
    if ( *(_BYTE *)sub_477760(*v34) != 1 || (v35 = (int *)sub_430F90((int)v54), *(_BYTE *)sub_477760(*v35) != 1) )
    {
      v36 = (int *)sub_430F90((int)v54);
      if ( *(_BYTE *)sub_477760(*v36) == 1 )
      {
        v37 = (int *)sub_474590((int)v54);
        *(_BYTE *)sub_477760(*v37) = 1;
        *(_BYTE *)sub_477760((int)v54) = 0;
        sub_478180(this, (int)v54);
        v54 = *(void **)sub_430F90((int)v53);
      }
      v38 = (_BYTE *)sub_477760((int)v53);
      *(_BYTE *)sub_477760((int)v54) = *v38;
      *(_BYTE *)sub_477760((int)v53) = 1;
      v39 = (int *)sub_430F90((int)v54);
      *(_BYTE *)sub_477760(*v39) = 1;
      sub_478050(this, (int)v53);
      goto LABEL_65;
    }
    goto LABEL_52;
  }
LABEL_66:
  sub_44CD70((int)v56);
  sub_4338F0(v56, 1);
  if ( this[2] )
    --this[2];
  *a2 = a3;
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00477F20) --------------------------------------------------------
void *__thiscall sub_477F20(int *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_479450(this, (_DWORD *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (00477F50) --------------------------------------------------------
_DWORD *__thiscall sub_477F50(_DWORD *this)
{
  _DWORD *result; // eax

  this[1] = sub_4794E0();
  *(_BYTE *)sub_4746F0(this[1]) = 1;
  *(_DWORD *)sub_478AB0(this) = this[1];
  *(_DWORD *)sub_418790(this) = this[1];
  *(_DWORD *)sub_47EB40(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (00477FC0) --------------------------------------------------------
int __thiscall sub_477FC0(_DWORD *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_4746F0(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(v2, a2) )
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
  }
  return v6;
}

//----- (00478050) --------------------------------------------------------
int *__thiscall sub_478050(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_430F90(a2);
  v2 = (_DWORD *)sub_474590(v11);
  *(_DWORD *)sub_430F90(a2) = *v2;
  v3 = (int *)sub_474590(v11);
  if ( !*(_BYTE *)sub_4746F0(*v3) )
  {
    v4 = (int *)sub_474590(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_474590(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v8) = v11;
    }
  }
  *(_DWORD *)sub_474590(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (00478180) --------------------------------------------------------
int *__thiscall sub_478180(void *this, int a2)
{
  _DWORD *v2; // esi
  int *v3; // eax
  int *v4; // eax
  _DWORD *v5; // esi
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *result; // eax
  int v11; // [esp+8h] [ebp-4h]

  v11 = *(_DWORD *)sub_474590(a2);
  v2 = (_DWORD *)sub_430F90(v11);
  *(_DWORD *)sub_474590(a2) = *v2;
  v3 = (int *)sub_430F90(v11);
  if ( !*(_BYTE *)sub_4746F0(*v3) )
  {
    v4 = (int *)sub_430F90(v11);
    *(_DWORD *)sub_446FF0(*v4) = a2;
  }
  v5 = (_DWORD *)sub_446FF0(a2);
  *(_DWORD *)sub_446FF0(v11) = *v5;
  if ( a2 == *(_DWORD *)sub_478AB0((int *)this) )
  {
    *(_DWORD *)sub_478AB0((int *)this) = v11;
  }
  else
  {
    v6 = (int *)sub_446FF0(a2);
    if ( a2 == *(_DWORD *)sub_430F90(*v6) )
    {
      v7 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_430F90(*v7) = v11;
    }
    else
    {
      v8 = (int *)sub_446FF0(a2);
      *(_DWORD *)sub_474590(*v8) = v11;
    }
  }
  *(_DWORD *)sub_430F90(v11) = a2;
  result = (int *)sub_446FF0(a2);
  *result = v11;
  return result;
}

//----- (004782B0) --------------------------------------------------------
CMemory **__stdcall sub_4782B0(std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *a1, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *a2, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *a3, const std::pair<int const ,KMacro::BoneInfo> *a4, char a5)
{
  std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_479630(1);
  v6 = (std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *)operator new(0x74u, v7);
  if ( v6 )
    std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const,KMacro::BoneInfo>>,0>>::_Node::_Node(
      v6,
      a1,
      a2,
      a3,
      a4,
      a5);
  return v7;
}

//----- (00478330) --------------------------------------------------------
unsigned int __thiscall sub_478330(int this)
{
  return std::allocator<MixingForItemList>::max_size((std::allocator<MixingForItemList> *)(this + 3));
}

//----- (00478350) --------------------------------------------------------
_DWORD *__thiscall sub_478350(_DWORD *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_479650(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (004783B0) --------------------------------------------------------
void *__thiscall sub_4783B0(int *this, void *a1, int a2)
{
  int v3; // eax

  v3 = sub_4796D0(this, (void *)a2);
  sub_446700(a1, v3);
  return a1;
}

//----- (004783E0) --------------------------------------------------------
_DWORD *__thiscall sub_4783E0(_DWORD *this)
{
  _DWORD *result; // eax

  this[1] = sub_479760();
  *(_BYTE *)sub_474DD0(this[1]) = 1;
  *(_DWORD *)sub_478AB0(this) = this[1];
  *(_DWORD *)sub_418790(this) = this[1];
  *(_DWORD *)sub_47EB40(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (00478450) --------------------------------------------------------
int __thiscall sub_478450(_DWORD *this, void *a2)
{
  void *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_474DD0(v5) )
  {
    v2 = (void *)sub_473500(v5);
    if ( sub_471ED0(v2, a2) )
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
    else
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
  }
  return v6;
}

//----- (004784E0) --------------------------------------------------------
CMemory **__stdcall sub_4784E0(int a1, int a2, int a3, int a4, char a5)
{
  char *v6; // [esp+8h] [ebp-8h]
  CMemory **v7; // [esp+Ch] [ebp-4h]

  v7 = sub_478640(1);
  v6 = (char *)operator new(0x3Cu, v7);
  if ( v6 )
    sub_479F60(v6, a1, a2, a3, a4, a5);
  return v7;
}

//----- (00478560) --------------------------------------------------------
CMemory **__stdcall sub_478560(int a1, int a2, int a3)
{
  _DWORD *v4; // [esp+8h] [ebp-8h]
  CMemory **v5; // [esp+Ch] [ebp-4h]

  v5 = sub_478640(1);
  v4 = operator new(0x3Cu, v5);
  if ( v4 )
    sub_479FB0(v4, a1, a2, (const void *)a3);
  return v5;
}

//----- (004785D0) --------------------------------------------------------
_DWORD *__thiscall sub_4785D0(_DWORD *this, unsigned int a2)
{
  void *v2; // eax
  _DWORD *result; // eax
  std::length_error that; // [esp+4h] [ebp-40h] BYREF

  if ( sub_4798B0((char *)this) - this[2] < a2 )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "list<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v2);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  result = this;
  this[2] += a2;
  return result;
}
// 478607: variable 'v2' is possibly undefined

//----- (00478640) --------------------------------------------------------
CMemory **__stdcall sub_478640(int a1)
{
  return sub_47A4B0(a1);
}

//----- (00478660) --------------------------------------------------------
int *__thiscall sub_478660(int *this)
{
  sub_434540(this);
  return this;
}

//----- (00478680) --------------------------------------------------------
_DWORD *__thiscall sub_478680(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_4798D0(this);
  *a2 = v4;
  return a2;
}

//----- (004786B0) --------------------------------------------------------
void *__thiscall sub_4786B0(void *this)
{
  sub_4798F0((int *)this);
  return this;
}

//----- (004786D0) --------------------------------------------------------
void *__thiscall sub_4786D0(void *this)
{
  sub_479AB0((int *)this);
  return this;
}

//----- (004786F0) --------------------------------------------------------
void *__thiscall sub_4786F0(void *this)
{
  sub_4799D0((int *)this);
  return this;
}

//----- (00478710) --------------------------------------------------------
_DWORD *__thiscall sub_478710(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h] BYREF

  v4 = *this;
  *a2 = *(_DWORD *)std::vector<XMessageQueue::XElement>::iterator::operator+=(
                     (std::vector<XMessageQueue::XTimerElement>::iterator *)&v4,
                     a3);
  return a2;
}

//----- (00478740) --------------------------------------------------------
int *__thiscall sub_478740(int *this)
{
  sub_433950(this);
  return this;
}

//----- (00478760) --------------------------------------------------------
_DWORD *__thiscall sub_478760(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_479B70(this);
  *a2 = v4;
  return a2;
}

//----- (00478790) --------------------------------------------------------
void *__thiscall sub_478790(void *this)
{
  sub_479B90((int *)this);
  return this;
}

//----- (004787B0) --------------------------------------------------------
int *__thiscall sub_4787B0(int *this)
{
  *this = *(_DWORD *)sub_446FF0(*this);
  return this;
}

//----- (004787E0) --------------------------------------------------------
_DWORD *__thiscall sub_4787E0(int *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *this;
  sub_475980(this);
  *a2 = v4;
  return a2;
}

//----- (00478810) --------------------------------------------------------
void *__thiscall sub_478810(void *this)
{
  sub_479D50((int *)this);
  return this;
}

//----- (00478830) --------------------------------------------------------
void *__thiscall sub_478830(void *this)
{
  sub_479C70((int *)this);
  return this;
}

//----- (00478850) --------------------------------------------------------
void *__thiscall std::list<std::pair<std::string const,int>>::clear(std::list<std::pair<std::string const ,int>> *this)
{
  void *result; // eax
  void *v3; // [esp+4h] [ebp-8h]
  void *v4; // [esp+8h] [ebp-4h]

  v4 = *(void **)sub_474590(*((_DWORD *)this + 1));
  *(_DWORD *)sub_474590(*((_DWORD *)this + 1)) = *((_DWORD *)this + 1);
  *(_DWORD *)sub_446FF0(*((_DWORD *)this + 1)) = *((_DWORD *)this + 1);
  *((_DWORD *)this + 2) = 0;
  while ( 1 )
  {
    result = v4;
    if ( v4 == *((void **)this + 1) )
      break;
    v3 = *(void **)sub_474590((int)v4);
    sub_44CD70((int)v4);
    sub_4338F0(v4, 1);
    v4 = v3;
  }
  return result;
}

//----- (004788F0) --------------------------------------------------------
std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *__thiscall std::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>::pair<std::vector<KScenario3System::CPersonList>::iterator,std::vector<KScenario3System::CPersonList>::iterator>(std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *this, const std::vector<KMailSystem::CMailinfo>::iterator *_Val1, const std::vector<KMailSystem::CMailinfo>::iterator *_Val2)
{
  *(_DWORD *)this = *(_DWORD *)_Val1;
  *((_DWORD *)this + 1) = *(_DWORD *)_Val2;
  return this;
}

//----- (00478920) --------------------------------------------------------
int __stdcall sub_478920(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_478920(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (004789A0) --------------------------------------------------------
int __thiscall sub_4789A0(_DWORD *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_431110(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
  }
  return v6;
}

//----- (00478A30) --------------------------------------------------------
int __stdcall sub_478A30(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_478A30(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (00478AB0) --------------------------------------------------------
int __thiscall sub_478AB0(int *this)
{
  return sub_446FF0(this[1]);
}

//----- (00478AD0) --------------------------------------------------------
int __thiscall sub_478AD0(int *this, const char **a2)
{
  const char **v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_431110(v5) )
  {
    v2 = (const char **)sub_473500(v5);
    if ( iless::operator()((iless *)this, *a2, *v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
  }
  return v6;
}

//----- (00478B60) --------------------------------------------------------
int __stdcall sub_478B60(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_478B60(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (00478BE0) --------------------------------------------------------
unsigned int __thiscall std::allocator<std::pair<char const * const,int>>::max_size(std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *this)
{
  return 0x1FFFFFFF;
}

//----- (00478C10) --------------------------------------------------------
int __stdcall sub_478C10(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_433230((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_478C10(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (00478C90) --------------------------------------------------------
int __thiscall sub_478C90(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_4734F0(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
  }
  return v6;
}

//----- (00478D20) --------------------------------------------------------
CMemory **sub_478D20()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_478E70(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)sub_474590((int)v7);
  sub_42F9B0(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_446FF0((int)v7);
  sub_42F9B0(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_430F90((int)v7);
  sub_42F9B0(v2, (int)&v4);
  *(_BYTE *)sub_4734E0((int)v7) = 1;
  *(_BYTE *)sub_4734F0((int)v7) = 0;
  return v7;
}

//----- (00478E40) --------------------------------------------------------
unsigned int __thiscall std::allocator<LayerInfo>::max_size(std::allocator<KGuildSystem::CGuildMember> *this)
{
  return 119304647;
}

//----- (00478E70) --------------------------------------------------------
CMemory **__stdcall sub_478E70(int a1)
{
  return sub_47A450(a1);
}

//----- (00478E90) --------------------------------------------------------
int __cdecl sub_478E90(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_430F90(a1);
    if ( *(_BYTE *)sub_473EC0(*v1) )
      break;
    a1 = *(_DWORD *)sub_430F90(a1);
  }
  return a1;
}

//----- (00478ED0) --------------------------------------------------------
int __cdecl sub_478ED0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_474590(a1);
    if ( *(_BYTE *)sub_473EC0(*v1) )
      break;
    a1 = *(_DWORD *)sub_474590(a1);
  }
  return a1;
}

//----- (00478F10) --------------------------------------------------------
int __thiscall sub_478F10(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_473EC0(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
  }
  return v6;
}

//----- (00478FA0) --------------------------------------------------------
CMemory **sub_478FA0()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_4790F0(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)sub_474590((int)v7);
  sub_42F9B0(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_446FF0((int)v7);
  sub_42F9B0(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_430F90((int)v7);
  sub_42F9B0(v2, (int)&v4);
  *(_BYTE *)sub_476A70((int)v7) = 1;
  *(_BYTE *)sub_473EC0((int)v7) = 0;
  return v7;
}

//----- (004790C0) --------------------------------------------------------
unsigned int __thiscall std::allocator<std::pair<unsigned int const,TriggerSystem::CTrigger::ACTION_INFO>>::max_size(std::allocator<std::pair<unsigned int const ,TriggerSystem::CTrigger::ACTION_INFO> > *this)
{
  return 357913941;
}

//----- (004790F0) --------------------------------------------------------
CMemory **__stdcall sub_4790F0(int a1)
{
  return sub_47A470(a1);
}

//----- (00479110) --------------------------------------------------------
int __stdcall sub_479110(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_433230((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_479110(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (00479190) --------------------------------------------------------
int __cdecl sub_479190(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_474590(a1);
    if ( *(_BYTE *)sub_433230(*v1) )
      break;
    a1 = *(_DWORD *)sub_474590(a1);
  }
  return a1;
}

//----- (004791D0) --------------------------------------------------------
int __thiscall sub_4791D0(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_433230(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
  }
  return v6;
}

//----- (00479260) --------------------------------------------------------
CMemory **sub_479260()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_4793B0(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)sub_474590((int)v7);
  sub_42F9B0(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_446FF0((int)v7);
  sub_42F9B0(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_430F90((int)v7);
  sub_42F9B0(v2, (int)&v4);
  *(_BYTE *)sub_433730((int)v7) = 1;
  *(_BYTE *)sub_433230((int)v7) = 0;
  return v7;
}

//----- (00479380) --------------------------------------------------------
unsigned int __thiscall std::allocator<View_ARMY_ADD_RAIDER_TEAM::RAIDERS_MASTER_INFO>::max_size(std::allocator<std::pair<unsigned long const ,std::string > > *this)
{
  return 0x7FFFFFF;
}

//----- (004793B0) --------------------------------------------------------
CMemory **__stdcall sub_4793B0(int a1)
{
  return sub_433B00(a1);
}

//----- (004793D0) --------------------------------------------------------
int __cdecl sub_4793D0(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_430F90(a1);
    if ( *(_BYTE *)sub_4746F0(*v1) )
      break;
    a1 = *(_DWORD *)sub_430F90(a1);
  }
  return a1;
}

//----- (00479410) --------------------------------------------------------
int __cdecl sub_479410(int a1)
{
  int *v1; // eax

  while ( 1 )
  {
    v1 = (int *)sub_474590(a1);
    if ( *(_BYTE *)sub_4746F0(*v1) )
      break;
    a1 = *(_DWORD *)sub_474590(a1);
  }
  return a1;
}

//----- (00479450) --------------------------------------------------------
int __thiscall sub_479450(int *this, _DWORD *a2)
{
  _DWORD *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_4746F0(v5) )
  {
    v2 = (_DWORD *)sub_473500(v5);
    if ( sub_4186F0(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
  }
  return v6;
}

//----- (004794E0) --------------------------------------------------------
CMemory **sub_4794E0()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_479630(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)sub_474590((int)v7);
  sub_42F9B0(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_446FF0((int)v7);
  sub_42F9B0(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_430F90((int)v7);
  sub_42F9B0(v2, (int)&v4);
  *(_BYTE *)sub_477760((int)v7) = 1;
  *(_BYTE *)sub_4746F0((int)v7) = 0;
  return v7;
}

//----- (00479600) --------------------------------------------------------
unsigned int __thiscall std::allocator<KMailSystem::CMailinfo>::max_size(std::allocator<KMailSystem::CMailinfo> *this)
{
  return 42949672;
}

//----- (00479630) --------------------------------------------------------
CMemory **__stdcall sub_479630(int a1)
{
  return sub_47A490(a1);
}

//----- (00479650) --------------------------------------------------------
int __stdcall sub_479650(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_474DD0((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_479650(*v2);
    i = *(void **)sub_474590((int)i);
    sub_475700((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (004796D0) --------------------------------------------------------
int __thiscall sub_4796D0(int *this, void *a2)
{
  void *v2; // eax
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = *(_DWORD *)sub_478AB0(this);
  v6 = this[1];
  while ( !*(_BYTE *)sub_474DD0(v5) )
  {
    v2 = (void *)sub_473500(v5);
    if ( sub_471ED0(a2, v2) )
    {
      v6 = v5;
      v5 = *(_DWORD *)sub_474590(v5);
    }
    else
    {
      v5 = *(_DWORD *)sub_430F90(v5);
    }
  }
  return v6;
}

//----- (00479760) --------------------------------------------------------
CMemory **sub_479760()
{
  void *v0; // eax
  void *v1; // eax
  void *v2; // eax
  int v4; // [esp+4h] [ebp-14h] BYREF
  int v5; // [esp+8h] [ebp-10h] BYREF
  int v6; // [esp+Ch] [ebp-Ch] BYREF
  CMemory **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = sub_478640(1);
  v8 = 0;
  v6 = 0;
  v0 = (void *)sub_474590((int)v7);
  sub_42F9B0(v0, (int)&v6);
  ++v8;
  v5 = 0;
  v1 = (void *)sub_446FF0((int)v7);
  sub_42F9B0(v1, (int)&v5);
  ++v8;
  v4 = 0;
  v2 = (void *)sub_430F90((int)v7);
  sub_42F9B0(v2, (int)&v4);
  *(_BYTE *)sub_474DC0((int)v7) = 1;
  *(_BYTE *)sub_474DD0((int)v7) = 0;
  return v7;
}

//----- (00479880) --------------------------------------------------------
unsigned int __thiscall std::allocator<MixingForItemList>::max_size(std::allocator<MixingForItemList> *this)
{
  return 97612893;
}

//----- (004798B0) --------------------------------------------------------
int __thiscall sub_4798B0(char *this)
{
  return sub_47A030();
}

//----- (004798D0) --------------------------------------------------------
void *__thiscall sub_4798D0(void *this)
{
  sub_47A060(this);
  return this;
}

//----- (004798F0) --------------------------------------------------------
int __thiscall sub_4798F0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_473EC0(*this) )
  {
    result = *(_DWORD *)sub_430F90(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)sub_474590(*this);
    if ( *(_BYTE *)sub_473EC0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        if ( *(_BYTE *)sub_473EC0(v5) || *this != *(_DWORD *)sub_474590(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_473EC0(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)sub_474590(*this);
      result = sub_478E90(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (004799D0) --------------------------------------------------------
int __thiscall sub_4799D0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_4734F0(*this) )
  {
    result = *(_DWORD *)sub_430F90(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)sub_474590(*this);
    if ( *(_BYTE *)sub_4734F0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        if ( *(_BYTE *)sub_4734F0(v5) || *this != *(_DWORD *)sub_474590(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_4734F0(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)sub_474590(*this);
      result = sub_473C60(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (00479AB0) --------------------------------------------------------
int __thiscall sub_479AB0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_4734F0(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_430F90(*this);
    if ( *(_BYTE *)sub_4734F0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        result = *(char *)sub_4734F0(v5);
        if ( result )
          break;
        result = sub_430F90(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_430F90(*this);
      result = sub_473CA0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (00479B70) --------------------------------------------------------
void *__thiscall sub_479B70(void *this)
{
  sub_47A080(this);
  return this;
}

//----- (00479B90) --------------------------------------------------------
int __thiscall sub_479B90(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_4746F0(*this) )
  {
    result = *(_DWORD *)sub_430F90(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)sub_474590(*this);
    if ( *(_BYTE *)sub_4746F0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        if ( *(_BYTE *)sub_4746F0(v5) || *this != *(_DWORD *)sub_474590(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_4746F0(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)sub_474590(*this);
      result = sub_4793D0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (00479C70) --------------------------------------------------------
int __thiscall sub_479C70(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( *(_BYTE *)sub_474DD0(*this) )
  {
    result = *(_DWORD *)sub_430F90(*this);
    *this = result;
  }
  else
  {
    v2 = (int *)sub_474590(*this);
    if ( *(_BYTE *)sub_474DD0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        if ( *(_BYTE *)sub_474DD0(v5) || *this != *(_DWORD *)sub_474590(v5) )
          break;
        *this = v5;
      }
      result = *(char *)sub_474DD0(v5);
      if ( !result )
        *this = v5;
    }
    else
    {
      v3 = (int *)sub_474590(*this);
      result = sub_4754A0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (00479D50) --------------------------------------------------------
int __thiscall sub_479D50(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_474DD0(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_430F90(*this);
    if ( *(_BYTE *)sub_474DD0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        result = *(char *)sub_474DD0(v5);
        if ( result )
          break;
        result = sub_430F90(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_430F90(*this);
      result = sub_4754E0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (00479E10) --------------------------------------------------------
_DWORD *__thiscall sub_479E10(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6)
{
  *this = a2;
  this[1] = a3;
  this[2] = a4;
  qmemcpy(this + 3, a5, 0x20u);
  *((_BYTE *)this + 44) = a6;
  *((_BYTE *)this + 45) = 0;
  return this;
}

//----- (00479E60) --------------------------------------------------------
_DWORD *__thiscall sub_479E60(_DWORD *this, int a2, int a3, int a4, const void *a5, char a6)
{
  *this = a2;
  this[1] = a3;
  this[2] = a4;
  qmemcpy(this + 3, a5, 0x24u);
  *((_BYTE *)this + 48) = a6;
  *((_BYTE *)this + 49) = 0;
  return this;
}

//----- (00479EB0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const,CScriptToCookBoard::tBaseTable>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,CScriptToCookBoard::tBaseTable,std::less<int>,std::allocator<std::pair<int const ,CScriptToCookBoard::tBaseTable> >,0> >::_Node *_Rarg, const std::pair<int const ,CScriptToCookBoard::tBaseTable> *_Val, char _Carg)
{
  _DWORD *v6; // ecx

  *(_DWORD *)this = _Larg;
  *((_DWORD *)this + 1) = _Parg;
  *((_DWORD *)this + 2) = _Rarg;
  v6 = (_DWORD *)((char *)this + 12);
  *v6 = *(_DWORD *)_Val;
  v6[1] = *((_DWORD *)_Val + 1);
  v6[2] = *((_DWORD *)_Val + 2);
  *((_BYTE *)this + 24) = _Carg;
  *((_BYTE *)this + 25) = 0;
  return this;
}

//----- (00479F10) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const,KMacro::BoneInfo>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,KMacro::BoneInfo,std::less<int>,std::allocator<std::pair<int const ,KMacro::BoneInfo> >,0> >::_Node *_Rarg, const std::pair<int const ,KMacro::BoneInfo> *_Val, char _Carg)
{
  *(_DWORD *)this = _Larg;
  *((_DWORD *)this + 1) = _Parg;
  *((_DWORD *)this + 2) = _Rarg;
  qmemcpy((char *)this + 12, _Val, 0x64u);
  *((_BYTE *)this + 112) = _Carg;
  *((_BYTE *)this + 113) = 0;
  return this;
}

//----- (00479F60) --------------------------------------------------------
char *__thiscall sub_479F60(char *this, int a2, int a3, int a4, int a5, char a6)
{
  *(_DWORD *)this = a2;
  *((_DWORD *)this + 1) = a3;
  *((_DWORD *)this + 2) = a4;
  CQuest::~CQuest((CQuest *)(this + 12), a5);
  this[56] = a6;
  this[57] = 0;
  return this;
}

//----- (00479FB0) --------------------------------------------------------
_DWORD *__thiscall sub_479FB0(_DWORD *this, int a2, int a3, const void *a4)
{
  *this = a2;
  this[1] = a3;
  qmemcpy(this + 2, a4, 0x33u);
  return this;
}

//----- (00479FF0) --------------------------------------------------------
CQuest *__thiscall CQuest::~CQuest(CQuest *this, int a2)
{
  std::string::string((std::string *)this, (const std::string *)a2);
  this->m_nId = *(_DWORD *)(a2 + 28);
  this->m_dwKey = *(_DWORD *)(a2 + 32);
  this->m_pClone = *(CQuest **)(a2 + 36);
  this->m_bLinked = *(_DWORD *)(a2 + 40);
  return this;
}

//----- (0047A030) --------------------------------------------------------
int sub_47A030()
{
  return 84215045;
}

//----- (0047A060) --------------------------------------------------------
void *__thiscall sub_47A060(void *this)
{
  sub_47A0A0((int *)this);
  return this;
}

//----- (0047A080) --------------------------------------------------------
void *__thiscall sub_47A080(void *this)
{
  sub_47A160((int *)this);
  return this;
}

//----- (0047A0A0) --------------------------------------------------------
int __thiscall sub_47A0A0(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_473EC0(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_430F90(*this);
    if ( *(_BYTE *)sub_473EC0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        result = *(char *)sub_473EC0(v5);
        if ( result )
          break;
        result = sub_430F90(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_430F90(*this);
      result = sub_478ED0(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0047A160) --------------------------------------------------------
int __thiscall sub_47A160(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_4746F0(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_430F90(*this);
    if ( *(_BYTE *)sub_4746F0(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        result = *(char *)sub_4746F0(v5);
        if ( result )
          break;
        result = sub_430F90(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_430F90(*this);
      result = sub_479410(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0047A220) --------------------------------------------------------
_DWORD *__cdecl sub_47A220(_DWORD *a1, _DWORD *a2)
{
  *a2 = *a1;
  a2[1] = a1[1];
  return a1 + 2;
}

//----- (0047A240) --------------------------------------------------------
_DWORD *__cdecl GetNumeric<int>(_DWORD *a1, _DWORD *a2)
{
  *a2 = *a1;
  return a1 + 1;
}

//----- (0047A260) --------------------------------------------------------
int __cdecl sub_47A260(int a1, char a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  qmemcpy((void *)a1, &a2, 0x30u);
  *(_WORD *)(a1 + 48) = a14;
  *(_BYTE *)(a1 + 50) = BYTE2(a14);
  return a1 + 51;
}

//----- (0047A280) --------------------------------------------------------
BOOL __cdecl std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(int a1, int a2, _DWORD *a3)
{
  char v4; // [esp+3h] [ebp-1h] BYREF

  unknown_libname_11(&v4);
  return std::_Distance2<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
           a1,
           a2,
           a3);
}
// 447560: using guessed type _DWORD __cdecl unknown_libname_11(_DWORD);

//----- (0047A2B0) --------------------------------------------------------
BOOL __cdecl sub_47A2B0(int a1, int a2, int a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_11(&v5);
  return sub_47A520(a1, a2, (_DWORD *)a3);
}
// 47A2B3: variable 'v3' is possibly undefined
// 447560: using guessed type _DWORD __cdecl unknown_libname_11(_DWORD);

//----- (0047A2E0) --------------------------------------------------------
BOOL __cdecl sub_47A2E0(int a1, int a2, int a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_11(&v5);
  return sub_47A560(a1, a2, (_DWORD *)a3);
}
// 47A2E3: variable 'v3' is possibly undefined
// 447560: using guessed type _DWORD __cdecl unknown_libname_11(_DWORD);

//----- (0047A310) --------------------------------------------------------
BOOL __cdecl sub_47A310(int a1, int a2, int a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_11(&v5);
  return sub_47A5A0(a1, a2, (_DWORD *)a3);
}
// 47A313: variable 'v3' is possibly undefined
// 447560: using guessed type _DWORD __cdecl unknown_libname_11(_DWORD);

//----- (0047A340) --------------------------------------------------------
BOOL __cdecl sub_47A340(int a1, int a2, int a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_11(&v5);
  return sub_47A5E0(a1, a2, (_DWORD *)a3);
}
// 47A343: variable 'v3' is possibly undefined
// 447560: using guessed type _DWORD __cdecl unknown_libname_11(_DWORD);

//----- (0047A370) --------------------------------------------------------
BOOL __cdecl sub_47A370(int a1, int a2, int a3)
{
  int v3; // ecx
  char v5; // [esp+1h] [ebp-1h] BYREF

  v5 = HIBYTE(v3);
  unknown_libname_11(&v5);
  return sub_47A620(a1, a2, (_DWORD *)a3);
}
// 47A373: variable 'v3' is possibly undefined
// 447560: using guessed type _DWORD __cdecl unknown_libname_11(_DWORD);

//----- (0047A3A0) --------------------------------------------------------
void *__cdecl sub_47A3A0(void *a1)
{
  return sub_47A4D0(a1, 0);
}

//----- (0047A3B0) --------------------------------------------------------
int __cdecl sub_47A3B0(int a1, int a2)
{
  unknown_libname_6(&a1, &a2);
  return std::_Destroy_range<IPAddrMask>(a1, a2);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0047A3F0) --------------------------------------------------------
_DWORD *__cdecl sub_47A3F0(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  unknown_libname_6(&a1, &a3);
  return std::_Copy_backward_opt<XMessageQueue::XTimerElement *,XMessageQueue::XTimerElement *>(a1, a2, a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0047A430) --------------------------------------------------------
CMemory **__cdecl sub_47A430(int a1)
{
  return sub_401000(8 * a1);
}

//----- (0047A450) --------------------------------------------------------
CMemory **__cdecl sub_47A450(int a1)
{
  return sub_401000(52 * a1);
}

//----- (0047A470) --------------------------------------------------------
CMemory **__cdecl sub_47A470(int a1)
{
  return sub_401000(28 * a1);
}

//----- (0047A490) --------------------------------------------------------
CMemory **__cdecl sub_47A490(int a1)
{
  return sub_401000(116 * a1);
}

//----- (0047A4B0) --------------------------------------------------------
CMemory **__cdecl sub_47A4B0(int a1)
{
  return sub_401000(60 * a1);
}

//----- (0047A4D0) --------------------------------------------------------
void *__thiscall sub_47A4D0(void *this, char a2)
{
  sub_47A500(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}
// 47A500: using guessed type int __thiscall sub_47A500(_DWORD);

//----- (0047A520) --------------------------------------------------------
BOOL __cdecl sub_47A520(int a1, int a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_4758C0(&a1);
  }
  return result;
}

//----- (0047A560) --------------------------------------------------------
BOOL __cdecl sub_47A560(int a1, int a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_4798D0(&a1);
  }
  return result;
}

//----- (0047A5A0) --------------------------------------------------------
BOOL __cdecl sub_47A5A0(int a1, int a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_475880(&a1);
  }
  return result;
}

//----- (0047A5E0) --------------------------------------------------------
BOOL __cdecl sub_47A5E0(int a1, int a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_479B70(&a1);
  }
  return result;
}

//----- (0047A620) --------------------------------------------------------
BOOL __cdecl sub_47A620(int a1, int a2, _DWORD *a3)
{
  BOOL result; // eax

  while ( 1 )
  {
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a1,
               (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a2);
    if ( !result )
      break;
    ++*a3;
    sub_475980(&a1);
  }
  return result;
}

//----- (0047A660) --------------------------------------------------------
int __cdecl std::_Destroy_range<IPAddrMask>(int a1, int a2)
{
  int result; // eax

  while ( a1 != a2 )
  {
    sub_44CD70(a1);
    result = a1 + 8;
    a1 += 8;
  }
  return result;
}

//----- (0047A690) --------------------------------------------------------
char *__cdecl sub_47A690(int a1, int a2, void *a3)
{
  unknown_libname_6(&a1, &a3);
  return std::_Uninit_copy<XMessageQueue::XTimerElement *,XMessageQueue::XTimerElement *,std::allocator<XMessageQueue::XTimerElement>>(
           a1,
           a2,
           (char *)a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0047A6D0) --------------------------------------------------------
_DWORD *__stdcall sub_47A6D0(void *a1, int a2)
{
  return std::map<int,std::string>::map<int,std::string>(a1, (_DWORD *)a2);
}

//----- (0047A6F0) --------------------------------------------------------
void *__thiscall sub_47A6F0(void *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(
    (std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)this,
    (int)&v4,
    (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0047A720) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_47A720(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this, int a2, int a3)
{
  char v4; // [esp-4h] [ebp-Ch]

  v4 = (char)this;
  std::_Init_locks::operator=(a3);
  std::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::_Tree_val<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>(
    this,
    a2,
    v4);
  sub_47EC10((int *)this);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (0047A760) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_47A760(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v4 = 0;
  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(this, (int)&v4, (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0047A790) --------------------------------------------------------
_DWORD *__thiscall sub_47A790(_DWORD *this)
{
  _DWORD *v2; // [esp-4h] [ebp-Ch] BYREF
  _DWORD *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v2);
  std::_List_val<std::pair<int const,IDirect3DTexture9 *>>::_List_val<std::pair<int const,IDirect3DTexture9 *>>(
    v3,
    (char)v2);
  v3[1] = sub_47A7D0();
  v3[2] = 0;
  return v3;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0047A7D0) --------------------------------------------------------
int sub_47A7D0()
{
  void *v0; // eax
  void *v1; // eax
  int v3; // [esp+4h] [ebp-8h] BYREF
  int v4; // [esp+8h] [ebp-4h]

  v3 = (int)sub_478640(1);
  v4 = 0;
  v0 = (void *)sub_474590(v3);
  sub_42F9B0(v0, (int)&v3);
  ++v4;
  v1 = (void *)sub_446FF0(v3);
  sub_42F9B0(v1, (int)&v3);
  return v3;
}

//----- (0047A870) --------------------------------------------------------
void *__thiscall std::_List_val<std::pair<int const,IDirect3DTexture9 *>>::_List_val<std::pair<int const,IDirect3DTexture9 *>>(void *this, char a2)
{
  char v3; // [esp-4h] [ebp-Ch]

  v3 = (char)this;
  std::_Init_locks::operator=(&a2);
  std::_List_ptr<evQuake_s *>::_List_ptr<evQuake_s *>(this, v3);
  std::_Init_locks::operator=(&a2);
  return this;
}
// 447550: using guessed type _DWORD __stdcall std::_Init_locks::operator=(_DWORD);

//----- (0047A8B0) --------------------------------------------------------
CIOObject *__thiscall sub_47A8B0(CIOObject *this)
{
  CIOObject::CIOObject(this);
  *(_DWORD *)this = &off_4BBF54;
  return this;
}
// 4BBF54: using guessed type int (__stdcall *off_4BBF54)(int);

//----- (0047A8D0) --------------------------------------------------------
int __thiscall sub_47A8D0(void *this)
{
  return sub_47A8F0(this);
}

//----- (0047A8F0) --------------------------------------------------------
int __thiscall sub_47A8F0(void *this)
{
  return sub_47A910((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0047A910) --------------------------------------------------------
int __thiscall sub_47A910(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4729B0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0047A9C0) --------------------------------------------------------
int __thiscall sub_47A9C0(void *this)
{
  return sub_47A9E0(this);
}

//----- (0047A9E0) --------------------------------------------------------
int __thiscall sub_47A9E0(void *this)
{
  return sub_47AA00((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0047AA00) --------------------------------------------------------
int __thiscall sub_47AA00(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_472A80(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0047AAB0) --------------------------------------------------------
BOOL __thiscall sub_47AAB0(_DWORD *this, int a2)
{
  return this[1] == *(_DWORD *)(a2 + 460);
}

//----- (0047AAE0) --------------------------------------------------------
BOOL __thiscall sub_47AAE0(_DWORD *this, int a2)
{
  return *(_DWORD *)(a2 + 60) >= this[1];
}

//----- (0047AB00) --------------------------------------------------------
BOOL __thiscall sub_47AB00(int *this, int a2)
{
  return *(_DWORD *)(a2 + 460) == this[1] >> 16 && ((unsigned __int16)this[1] & *(_DWORD *)(a2 + 464)) != 0;
}

//----- (0047AB60) --------------------------------------------------------
BOOL __thiscall sub_47AB60(_DWORD *this, int a2)
{
  return *(_DWORD *)(a2 + 468) >= this[1];
}

//----- (0047AB90) --------------------------------------------------------
int __thiscall CCondItem::IsMeet(CIOCriticalSection *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int *v3; // eax
  CIOCriticalSection *v5; // [esp+0h] [ebp-20h]
  char v6[4]; // [esp+4h] [ebp-1Ch] BYREF
  int v7; // [esp+8h] [ebp-18h] BYREF
  int v8; // [esp+Ch] [ebp-14h]
  int v9; // [esp+10h] [ebp-10h]
  int v10; // [esp+14h] [ebp-Ch]
  int v11; // [esp+18h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v12; // [esp+1Ch] [ebp-4h] BYREF

  CIOCriticalSection::Enter(this);
  sub_430C20(&v5->m_critical_section.RecursionCount, (int)&v12);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(
                                                                     &v5->m_critical_section.RecursionCount,
                                                                     (int)v6);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v12,
            v2) )
      break;
    v3 = (int *)sub_420010(&v12);
    v8 = *v3;
    v9 = v3[1];
    v10 = v3[2];
    v11 = v3[3];
    if ( !CPlayer::_FindItem(a2, v8, v10) )
    {
      CIOCriticalSection::Leave(v5);
      return 0;
    }
    sub_430E00((int *)&v12, &v7, 0);
  }
  CIOCriticalSection::Leave(v5);
  return 1;
}
// 47ABAE: variable 'v5' is possibly undefined

//----- (0047AC50) --------------------------------------------------------
BOOL __thiscall CCondParty::IsMeet(int nCondParty, int nPlayer)
{
  return (int)CPlayer::GetPartySize((_DWORD *)nPlayer) >= *(_DWORD *)(nCondParty + 4);
}

//----- (0047AC80) --------------------------------------------------------
BOOL __thiscall sub_47AC80(int *this, CIOCriticalSection *a2)
{
  return CPlayer::CheckQuestFlag(a2, this[1]);
}

//----- (0047ACA0) --------------------------------------------------------
int __thiscall sub_47ACA0(_DWORD *this, CIOCriticalSection *a2)
{
  return CPlayer::CheckQuestClear(a2, this[1]);
}

//----- (0047ACC0) --------------------------------------------------------
BOOL __thiscall CCondNotClear::IsMeet(_DWORD *this, CIOCriticalSection *a2)
{
  return CPlayer::CheckQuestClear(a2, this[1]) == 0;
}

//----- (0047ACF0) --------------------------------------------------------
int __thiscall CCondGState::IsMeet(_DWORD *this, _DWORD *a2)
{
  int v3; // [esp+0h] [ebp-8h]

  if ( (unsigned __int16)this[1] )
    v3 = sub_40B310(a2, 1 << BYTE2(this[1]));
  else
    v3 = sub_40B310(a2, 1 << BYTE2(this[1])) == 0;
  return v3;
}

//----- (0047AD50) --------------------------------------------------------
void __thiscall CCondHtml::Action(int nCondHtml, int nPlayer)
{
  CPlayer::Write(nPlayer, 74, "d", *(_DWORD *)(nCondHtml + 4));
}

//----- (0047AD80) --------------------------------------------------------
void __thiscall sub_47AD80(int *this, int a1)
{
  CQuest::Proceed(this[1], a1);
}

//----- (0047ADA0) --------------------------------------------------------
void __thiscall CActionSpecialty::Action(int nQuestSpec, int nPlayer)
{
  *(_DWORD *)(nPlayer + 464) |= *(_DWORD *)(nQuestSpec + 4);
  CPlayer::Write(nPlayer, 68, "bb", 38, *(_DWORD *)(nPlayer + 464));
  CDBSocket::Write(15, "db", *(_DWORD *)(nPlayer + 452), *(_DWORD *)(nQuestSpec + 4));
  CPlayerSkill::ChangeOccupationAutoLearnSkill((int *)(nPlayer + 624));
}

//----- (0047AE20) --------------------------------------------------------
int __thiscall std::_Tree<std::_Tmap_traits<CPlayer *,int,std::less<CPlayer *>,std::allocator<std::pair<CPlayer * const,int>>,0>>::_Rrotate(std::_Tree<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> > *this, std::_Tree_nod<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::_Node *_Wherenode)
{
  return (*(int (__cdecl **)(std::_Tree_nod<std::_Tmap_traits<int,stMember *,std::less<int>,std::allocator<std::pair<int const ,stMember *> >,0> >::_Node *, int, int, _DWORD, int))(*(_DWORD *)_Wherenode + 88))(
           _Wherenode,
           25,
           1,
           *((_DWORD *)this + 1),
           *((int *)this + 1) >> 31);
}

//----- (0047AE50) --------------------------------------------------------
void __thiscall CActionItem::Action(int nQuestSpec, int nPlayer)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  int *v3; // eax
  char v5[4]; // [esp+4h] [ebp-20h] BYREF
  int v6; // [esp+8h] [ebp-1Ch] BYREF
  CItem *item; // [esp+Ch] [ebp-18h]
  int Value; // [esp+10h] [ebp-14h]
  int a2; // [esp+14h] [ebp-10h]
  int Index; // [esp+18h] [ebp-Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v12; // [esp+20h] [ebp-4h] BYREF

  sub_430C20((_DWORD *)(nQuestSpec + 8), (int)&v12);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40((_DWORD *)(nQuestSpec + 8), (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v12,
            v2) )
      break;
    v3 = (int *)sub_420010(&v12);
    Value = *v3;
    a2 = v3[1];
    Index = v3[2];
    if ( v3[3] )
    {
      item = (CItem *)CItem::CreateItem(Value, a2, Index, -1);
      if ( item )
      {
        sub_4010D0((int)item);
        if ( sub_45DDC0((CIOCriticalSection *)nPlayer, 16, (int)item) == 1 )
        {
          if ( item->IsQuestItem(item) )
            ++*(_DWORD *)(nPlayer + 1104);
        }
        else
        {
          CBase::Delete(item);
        }
        sub_401DE0((int *)item);
      }
    }
    else if ( !CPlayer::RemoveItem((CPlayer *)nPlayer, 16, Value, Index) )
    {
      LOG_ERR(
        "CActionItem::Action() Can't remove Quest Item. (pid:%d, index:%d, num:%d)",
        *(_DWORD *)(nPlayer + 452),
        Value,
        Index);
    }
    sub_430E00((int *)&v12, &v6, 0);
  }
}

//----- (0047AF80) --------------------------------------------------------
void __thiscall std::vector<QUESTITEM>::iterator::operator-(std::vector<ITEMDROPINFO>::iterator *this, const std::vector<ITEMDROPINFO>::const_iterator *_Right)
{
  CItem *item; // [esp+4h] [ebp-4h]

  item = (CItem *)CItem::CreateQuestItem((char)this[1]._Myptr);
  if ( item )
  {
    sub_4010D0((int)item);
    if ( sub_45DDC0((CIOCriticalSection *)_Right, 16, (int)item) == 1 )
    {
      if ( ((int (__thiscall *)(CItem *, std::vector<ITEMDROPINFO>::iterator *))item->IsQuestItem)(item, this) )
        ++_Right[276]._Myptr;
    }
    else
    {
      CBase::Delete(item);
    }
    sub_401DE0((int *)item);
  }
}

//----- (0047B000) --------------------------------------------------------
void __thiscall CActionCon::Action(int nQuestSpec, int nPlayer)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)nPlayer + 88))(nPlayer, 30, 1, *(_DWORD *)(nQuestSpec + 4));
  CDBSocket::Write(16, "dbw", *(_DWORD *)(nPlayer + 452), 30, *(_DWORD *)(nPlayer + 468));
}

//----- (0047B050) --------------------------------------------------------
void __thiscall CActionSUpoint::Action(int nQuestSpec, int nPlayer)
{
  (*(void (__cdecl **)(int, int, int, _DWORD))(*(_DWORD *)nPlayer + 88))(nPlayer, 24, 1, *(_DWORD *)(nQuestSpec + 4));
  CDBSocket::Write(16, "dbw", *(_DWORD *)(nPlayer + 452), 24, *(_DWORD *)(nPlayer + 548));
}

//----- (0047B0A0) --------------------------------------------------------
void __thiscall sub_47B0A0(int *this, CIOCriticalSection *a2)
{
  CPlayer::SaveQuestFlag(a2, this[1], 0);
}

//----- (0047B0C0) --------------------------------------------------------
void __thiscall sub_47B0C0(int *this, CIOCriticalSection *a2)
{
  CPlayer::SaveQuestFlag(a2, this[1], 1);
}

//----- (0047B0E0) --------------------------------------------------------
int __thiscall std::_Allocate<std::_List_nod<CCondition *>::_Node>(int this, int a2)
{
  int v3; // [esp+14h] [ebp-8h]
  int v4; // [esp+18h] [ebp-4h]

  v4 = 1 << BYTE2(*(_DWORD *)(this + 4));
  if ( !(unsigned __int16)*(_DWORD *)(this + 4) )
    return (*(int (__thiscall **)(int, int))(*(_DWORD *)a2 + 112))(a2, v4);
  if ( v4 == 32 )
  {
    v3 = 600000;
    if ( CChar::IsBState((_QWORD *)a2, 8i64) )
    {
      v3 = 300000;
    }
    else if ( CChar::IsBState((_QWORD *)a2, 1i64) )
    {
      v3 = 300000;
    }
    *(_DWORD *)(a2 + 1468) = v3 + GetTickCount();
    CPlayer::Write(a2, 67, "b", 44);
  }
  return (*(int (__thiscall **)(int, int))(*(_DWORD *)a2 + 100))(a2, v4);
}

//----- (0047B1B0) --------------------------------------------------------
void __thiscall sub_47B1B0(int *this, CIOCriticalSection *a2)
{
  CPlayer::QuestGuide(a2, this[1]);
}

//----- (0047B1D0) --------------------------------------------------------
void __stdcall sub_47B1D0(int a1)
{
  CPlayerSkill::RedistributeAll((_DWORD *)(a1 + 624));
}

//----- (0047B1F0) --------------------------------------------------------
void __thiscall CActionTeleport::Action(int nQuestSpec, int nPlayer)
{
  _DWORD a3[2]; // [esp+4h] [ebp-8h] BYREF

  a3[0] = *(_DWORD *)(nQuestSpec + 12) + 32;
  a3[1] = *(_DWORD *)(nQuestSpec + 16) + 32;
  CPlayer::Teleport((_DWORD *)nPlayer, *(_DWORD *)(nQuestSpec + 8), a3, 0, 0);
}

//----- (0047B230) --------------------------------------------------------
void __thiscall CCase::_CCase(int nObject)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  void (__thiscall ***v4)(_DWORD, int); // [esp+10h] [ebp-24h]
  char v5[4]; // [esp+14h] [ebp-20h] BYREF
  char v6[4]; // [esp+18h] [ebp-1Ch] BYREF
  void (__thiscall ***v7)(_DWORD, int); // [esp+1Ch] [ebp-18h]
  void (__thiscall ***v8)(_DWORD, int); // [esp+20h] [ebp-14h]
  char v9[4]; // [esp+24h] [ebp-10h] BYREF
  char v10[4]; // [esp+28h] [ebp-Ch] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v11; // [esp+2Ch] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v12; // [esp+30h] [ebp-4h] BYREF

  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
    (std::list<tagPARTICLES *> *)nObject,
    (std::list<tagPARTICLES *>::iterator *)&v12);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)nObject, (int)v9);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v12,
            v1) )
      break;
    v7 = *(void (__thiscall ****)(_DWORD, int))sub_40F040(&v12);
    v8 = v7;
    if ( v7 )
      (**v8)(v8, 1);
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)&v12, v10, 0);
  }
  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
    (std::list<tagPARTICLES *> *)(nObject + 12),
    (std::list<tagPARTICLES *>::iterator *)&v11);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(nObject + 12), (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v11,
            v2) )
      break;
    v4 = *(void (__thiscall ****)(_DWORD, int))sub_40F040(&v11);
    if ( v4 )
      (**v4)(v4, 1);
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)&v11, v6, 0);
  }
  sub_472990((std::list<std::pair<std::string const ,int>> *)(nObject + 12));
  sub_472990((std::list<std::pair<std::string const ,int>> *)nObject);
}

//----- (0047B330) --------------------------------------------------------
int __stdcall CCase::SetCondition(int a1)
{
  _DWORD *v1; // ecx
  lisp::var *v2; // eax
  lisp::var *v4; // eax
  int v5; // eax
  lisp::var *v6; // eax
  int v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  int v11; // eax
  lisp::var *v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  int v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  int v19; // eax
  lisp::var *v20; // eax
  int v21; // eax
  lisp::var *v22; // eax
  lisp::var *v23; // eax
  std::locale::facet *v24; // [esp+0h] [ebp-D4h]
  std::locale::facet *v25; // [esp+4h] [ebp-D0h]
  std::locale::facet *v26; // [esp+8h] [ebp-CCh]
  std::locale::facet *v27; // [esp+Ch] [ebp-C8h]
  std::locale::facet *v28; // [esp+10h] [ebp-C4h]
  std::locale::facet *v29; // [esp+14h] [ebp-C0h]
  std::locale::facet *v30; // [esp+18h] [ebp-BCh]
  std::locale::facet *v31; // [esp+1Ch] [ebp-B8h]
  std::locale::facet *v32; // [esp+20h] [ebp-B4h]
  std::locale::facet *v33; // [esp+24h] [ebp-B0h]
  _DWORD *v34; // [esp+2Ch] [ebp-A8h]
  CMemory **v35; // [esp+30h] [ebp-A4h]
  lisp::var v36; // [esp+34h] [ebp-A0h] BYREF
  lisp::var v37; // [esp+38h] [ebp-9Ch] BYREF
  lisp::var v38; // [esp+3Ch] [ebp-98h] BYREF
  CMemory **v39; // [esp+40h] [ebp-94h]
  lisp::var v40; // [esp+44h] [ebp-90h] BYREF
  CMemory **v41; // [esp+48h] [ebp-8Ch]
  CMemory **v42; // [esp+4Ch] [ebp-88h]
  lisp::var v43; // [esp+50h] [ebp-84h] BYREF
  lisp::var v44; // [esp+54h] [ebp-80h] BYREF
  lisp::var v45; // [esp+58h] [ebp-7Ch] BYREF
  CMemory **v46; // [esp+5Ch] [ebp-78h]
  lisp::var v47; // [esp+60h] [ebp-74h] BYREF
  lisp::var v48; // [esp+64h] [ebp-70h] BYREF
  CMemory **v49; // [esp+68h] [ebp-6Ch]
  lisp::var v50; // [esp+6Ch] [ebp-68h] BYREF
  CMemory **v51; // [esp+70h] [ebp-64h]
  CMemory **v52; // [esp+74h] [ebp-60h]
  lisp::var v53; // [esp+78h] [ebp-5Ch] BYREF
  lisp::var v54; // [esp+7Ch] [ebp-58h] BYREF
  lisp::var v55; // [esp+80h] [ebp-54h] BYREF
  CMemory **v56; // [esp+84h] [ebp-50h]
  lisp::var v57; // [esp+88h] [ebp-4Ch] BYREF
  CMemory **v58; // [esp+8Ch] [ebp-48h]
  lisp::var v59; // [esp+90h] [ebp-44h] BYREF
  int v60; // [esp+94h] [ebp-40h]
  int v61; // [esp+98h] [ebp-3Ch]
  int v62; // [esp+9Ch] [ebp-38h]
  int v63; // [esp+A0h] [ebp-34h]
  tagRECT v64; // [esp+A4h] [ebp-30h] BYREF
  lisp::var v65; // [esp+B4h] [ebp-20h] BYREF
  std::locale::facet *v66; // [esp+B8h] [ebp-1Ch]
  int v67; // [esp+BCh] [ebp-18h]
  int v68; // [esp+C0h] [ebp-14h]
  lisp::var result; // [esp+C4h] [ebp-10h] BYREF
  char v70[4]; // [esp+C8h] [ebp-Ch]
  std::locale::facet *v71; // [esp+CCh] [ebp-8h] BYREF
  char v72[4]; // [esp+D0h] [ebp-4h]

  v34 = v1;
  while ( 2 )
  {
    if ( (unsigned __int8)sub_402380(&a1) )
      return 1;
    lisp::var::pop((lisp::var *)&a1, &result);
    v2 = lisp::var::pop(&result, &v59);
    *(_DWORD *)v70 = sub_402360(v2);
    *(_DWORD *)v72 = CObjectDB::FindSymbol(*(int *)v70);
    if ( *(_DWORD *)v72 )
    {
      v71 = 0;
      switch ( *(_DWORD *)v72 )
      {
        case 7:
          v56 = sub_401000(8u);
          if ( v56 )
          {
            v6 = lisp::var::pop(&result, &v55);
            v7 = sub_40C8D0(v6);
            v32 = sub_47B9B0((std::locale::facet *)v56, v7);
          }
          else
          {
            v32 = 0;
          }
          v71 = v32;
          goto LABEL_50;
        case 0x26:
          v58 = sub_401000(8u);
          if ( v58 )
          {
            v4 = lisp::var::pop(&result, &v57);
            v5 = sub_40C8D0(v4);
            v33 = sub_47B8E0((std::locale::facet *)v58, v5);
          }
          else
          {
            v33 = 0;
          }
          v71 = v33;
          goto LABEL_50;
        case 0x2A:
          v8 = lisp::var::pop(&result, &v54);
          v67 = sub_40C8D0(v8);
          v9 = lisp::var::pop(&result, &v53);
          v68 = sub_40C8D0(v9);
          v52 = sub_401000(8u);
          if ( v52 )
            v31 = sub_47B9E0((std::locale::facet *)v52, (1 << v68) | (v67 << 16));
          else
            v31 = 0;
          v71 = v31;
          goto LABEL_50;
        case 0x32:
          v49 = sub_401000(0x18u);
          if ( v49 )
            v29 = CActionItem::CActionItem((std::locale::facet *)v49, 0);
          else
            v29 = 0;
          v71 = v29;
          v66 = v29;
          while ( !(unsigned __int8)sub_402380(&result) )
          {
            lisp::var::pop(&result, &v65);
            sub_47B8A0(&v64);
            v12 = lisp::var::pop(&v65, &v48);
            v64.left = sub_40C8D0(v12);
            v13 = lisp::var::pop(&v65, &v47);
            v64.right = sub_40C8D0(v13);
            sub_47CF90((int)&v66[1], &v64);
          }
          goto LABEL_50;
        case 0x45:
          v46 = sub_401000(8u);
          if ( v46 )
          {
            v14 = lisp::var::pop(&result, &v45);
            v15 = sub_40C8D0(v14);
            v28 = sub_47BAC0((std::locale::facet *)v46, v15);
          }
          else
          {
            v28 = 0;
          }
          v71 = v28;
          goto LABEL_50;
        case 0x46:
          v16 = lisp::var::pop(&result, &v44);
          v62 = sub_40C8D0(v16);
          v17 = lisp::var::pop(&result, &v43);
          v63 = sub_40C8D0(v17);
          v42 = sub_401000(8u);
          if ( v42 )
            v27 = sub_47BAF0((std::locale::facet *)v42, v63 | (v62 << 16));
          else
            v27 = 0;
          v71 = v27;
          goto LABEL_50;
        case 0x47:
          v51 = sub_401000(8u);
          if ( v51 )
          {
            v10 = lisp::var::pop(&result, &v50);
            v11 = sub_40C8D0(v10);
            v30 = sub_47BA10((std::locale::facet *)v51, v11);
          }
          else
          {
            v30 = 0;
          }
          v71 = v30;
          goto LABEL_50;
        case 0x4A:
          v41 = sub_401000(8u);
          if ( v41 )
          {
            v18 = lisp::var::pop(&result, &v40);
            v19 = sub_40C8D0(v18);
            v26 = sub_47BB20((std::locale::facet *)v41, v19);
          }
          else
          {
            v26 = 0;
          }
          v71 = v26;
          goto LABEL_50;
        case 0x4B:
          v39 = sub_401000(8u);
          if ( v39 )
          {
            v20 = lisp::var::pop(&result, &v38);
            v21 = sub_40C8D0(v20);
            v25 = sub_47BB50((std::locale::facet *)v39, v21);
          }
          else
          {
            v25 = 0;
          }
          v71 = v25;
          goto LABEL_50;
        case 0x55:
          v22 = lisp::var::pop(&result, &v37);
          v60 = sub_40C8D0(v22);
          v23 = lisp::var::pop(&result, &v36);
          v61 = sub_40C8D0(v23);
          v35 = sub_401000(8u);
          if ( v35 )
            v24 = sub_47BB80((std::locale::facet *)v35, v61 | (v60 << 16));
          else
            v24 = 0;
          v71 = v24;
LABEL_50:
          sub_47D000(v34, (int)&v71);
          continue;
        default:
          LOG_ERR("CCase::SetCondition() Invalid Condition. (symbol:%d)", *(_DWORD *)v72);
          return 0;
      }
    }
    break;
  }
  LOG_ERR("CCase::SetCondition() Invalid symbol(%s)", *(const char **)v70);
  return 0;
}
// 47B339: variable 'v1' is possibly undefined

//----- (0047B8A0) --------------------------------------------------------
_DWORD *__thiscall sub_47B8A0(_DWORD *this)
{
  this[2] = 0;
  this[1] = 0;
  *this = 0;
  this[3] = 1;
  return this;
}

//----- (0047B8E0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47B8E0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC020;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC020: using guessed type int (__stdcall *off_4BC020[3])(int);

//----- (0047B940) --------------------------------------------------------
std::locale::facet *__thiscall sub_47B940(std::locale::facet *this, char a2)
{
  std::locale::facet::~facet(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}
// 47B970: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (0047B990) --------------------------------------------------------
void __thiscall sub_47B990(std::locale::facet *this)
{
  std::locale::facet::~facet(this);
}
// 47B970: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (0047B9B0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47B9B0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC030;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC030: using guessed type int (__stdcall *off_4BC030[18])(int);

//----- (0047B9E0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47B9E0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC038;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC038: using guessed type int (__stdcall *off_4BC038[16])(int);

//----- (0047BA10) --------------------------------------------------------
std::locale::facet *__thiscall sub_47BA10(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC040;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC040: using guessed type int (__stdcall *off_4BC040[14])(int);

//----- (0047BA40) --------------------------------------------------------
std::locale::facet *__thiscall CActionItem::CActionItem(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  this->__vftable = (std::locale::facet_vtbl *)off_4BC048;
  sub_47CF60(&this[1]);
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC048: using guessed type int (__stdcall *off_4BC048[12])(int);

//----- (0047BA70) --------------------------------------------------------
void *__thiscall sub_47BA70(void *this, char a2)
{
  sub_47BAA0((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0047BAA0) --------------------------------------------------------
void __thiscall sub_47BAA0(int this)
{
  sub_430B90((std::vector<tagRECT> *)(this + 8));
  std::locale::facet::~facet((std::locale::facet *)this);
}
// 47B970: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (0047BAC0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47BAC0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC050;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC050: using guessed type int (__stdcall *off_4BC050[10])(int);

//----- (0047BAF0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47BAF0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC058;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC058: using guessed type int (__stdcall *off_4BC058[8])(int);

//----- (0047BB20) --------------------------------------------------------
std::locale::facet *__thiscall sub_47BB20(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC060;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC060: using guessed type int (__stdcall *off_4BC060[6])(int);

//----- (0047BB50) --------------------------------------------------------
std::locale::facet *__thiscall sub_47BB50(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC068;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC068: using guessed type int (__stdcall *off_4BC068[4])(int);

//----- (0047BB80) --------------------------------------------------------
std::locale::facet *__thiscall sub_47BB80(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC070;
  return this;
}
// 47B910: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC070: using guessed type int (__stdcall *off_4BC070[2])(int);

//----- (0047BBB0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47BBB0(std::locale::facet *this, char a2)
{
  sub_47B990(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0047BBE0) --------------------------------------------------------
int __stdcall CQuest::SetAction(int a1)
{
  int v1; // ecx
  lisp::var *v2; // eax
  lisp::var *v4; // eax
  int v5; // eax
  lisp::var *v6; // eax
  int v7; // esi
  lisp::var *v8; // eax
  const std::pair<int const ,CGame_Character::TargetInfo> *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  int v12; // eax
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  int v20; // eax
  lisp::var *v21; // eax
  int v22; // eax
  lisp::var *v23; // eax
  int v24; // eax
  lisp::var *v25; // eax
  lisp::var *v26; // eax
  lisp::var *v27; // eax
  lisp::var *v28; // eax
  lisp::var *v29; // eax
  lisp::var *v30; // eax
  lisp::var *v31; // eax
  int v32; // eax
  lisp::var *v33; // eax
  int v34; // eax
  lisp::var *v35; // eax
  int v36; // eax
  lisp::var *v37; // eax
  int v38; // eax
  std::locale::facet *v39; // [esp+4h] [ebp-14Ch]
  std::locale::facet *v40; // [esp+8h] [ebp-148h]
  std::locale::facet *v41; // [esp+Ch] [ebp-144h]
  std::locale::facet *v42; // [esp+10h] [ebp-140h]
  std::locale::facet *v43; // [esp+14h] [ebp-13Ch]
  std::locale::facet *v44; // [esp+18h] [ebp-138h]
  std::locale::facet *v45; // [esp+1Ch] [ebp-134h]
  std::locale::facet *v46; // [esp+20h] [ebp-130h]
  std::locale::facet *v47; // [esp+24h] [ebp-12Ch]
  std::locale::facet *v48; // [esp+2Ch] [ebp-124h]
  std::locale::facet *v49; // [esp+30h] [ebp-120h]
  std::locale::facet *v50; // [esp+34h] [ebp-11Ch]
  std::locale::facet *v51; // [esp+38h] [ebp-118h]
  CSocket *v52; // [esp+3Ch] [ebp-114h]
  std::locale::facet *v53; // [esp+40h] [ebp-110h]
  int v54; // [esp+48h] [ebp-108h]
  lisp::var v55; // [esp+4Ch] [ebp-104h] BYREF
  lisp::var v56; // [esp+50h] [ebp-100h] BYREF
  lisp::var v57; // [esp+54h] [ebp-FCh] BYREF
  CMemory **v58; // [esp+58h] [ebp-F8h]
  CMemory **v59; // [esp+5Ch] [ebp-F4h]
  lisp::var v60; // [esp+60h] [ebp-F0h] BYREF
  CMemory **v61; // [esp+64h] [ebp-ECh]
  CMemory **v62; // [esp+68h] [ebp-E8h]
  lisp::var v63; // [esp+6Ch] [ebp-E4h] BYREF
  lisp::var v64; // [esp+70h] [ebp-E0h] BYREF
  CMemory **v65; // [esp+74h] [ebp-DCh]
  lisp::var v66; // [esp+78h] [ebp-D8h] BYREF
  lisp::var v67; // [esp+7Ch] [ebp-D4h] BYREF
  CMemory **v68; // [esp+80h] [ebp-D0h]
  lisp::var v69; // [esp+84h] [ebp-CCh] BYREF
  lisp::var v70; // [esp+88h] [ebp-C8h] BYREF
  lisp::var v71; // [esp+8Ch] [ebp-C4h] BYREF
  CMemory **v72; // [esp+90h] [ebp-C0h]
  lisp::var v73; // [esp+94h] [ebp-BCh] BYREF
  CMemory **v74; // [esp+98h] [ebp-B8h]
  lisp::var v75; // [esp+9Ch] [ebp-B4h] BYREF
  CMemory **v76; // [esp+A0h] [ebp-B0h]
  lisp::var v77; // [esp+A4h] [ebp-ACh] BYREF
  lisp::var v78; // [esp+A8h] [ebp-A8h] BYREF
  lisp::var v79; // [esp+ACh] [ebp-A4h] BYREF
  lisp::var v80; // [esp+B0h] [ebp-A0h] BYREF
  lisp::var v81; // [esp+B4h] [ebp-9Ch] BYREF
  lisp::var v82; // [esp+B8h] [ebp-98h] BYREF
  CMemory **v83; // [esp+BCh] [ebp-94h]
  lisp::var v84; // [esp+C0h] [ebp-90h] BYREF
  CMemory **v85; // [esp+C4h] [ebp-8Ch]
  CMemory **v86; // [esp+C8h] [ebp-88h]
  lisp::var v87; // [esp+CCh] [ebp-84h] BYREF
  CMemory **v88; // [esp+D0h] [ebp-80h]
  char v89[8]; // [esp+D4h] [ebp-7Ch] BYREF
  int v90; // [esp+DCh] [ebp-74h]
  char v91[8]; // [esp+E0h] [ebp-70h] BYREF
  CMemory **v92; // [esp+E8h] [ebp-68h]
  lisp::var v93; // [esp+ECh] [ebp-64h] BYREF
  lisp::var v94; // [esp+F0h] [ebp-60h] BYREF
  lisp::var v95; // [esp+F4h] [ebp-5Ch] BYREF
  CMemory **v96; // [esp+F8h] [ebp-58h]
  lisp::var v97; // [esp+FCh] [ebp-54h] BYREF
  std::locale::facet *v98; // [esp+100h] [ebp-50h]
  int v99; // [esp+104h] [ebp-4Ch]
  int v100; // [esp+108h] [ebp-48h]
  int v101; // [esp+10Ch] [ebp-44h]
  int v102; // [esp+110h] [ebp-40h]
  int v103; // [esp+114h] [ebp-3Ch]
  int v104; // [esp+118h] [ebp-38h]
  tagRECT v105; // [esp+11Ch] [ebp-34h] BYREF
  lisp::var v106; // [esp+12Ch] [ebp-24h] BYREF
  std::locale::facet *v107; // [esp+130h] [ebp-20h]
  int v108; // [esp+134h] [ebp-1Ch]
  CSocket *v109; // [esp+138h] [ebp-18h]
  int nId; // [esp+13Ch] [ebp-14h]
  lisp::var result; // [esp+140h] [ebp-10h] BYREF
  char v112[4]; // [esp+144h] [ebp-Ch]
  std::locale::facet *v113; // [esp+148h] [ebp-8h] BYREF
  char v114[4]; // [esp+14Ch] [ebp-4h]

  v54 = v1;
  while ( 2 )
  {
    if ( (unsigned __int8)sub_402380(&a1) )
      return 1;
    lisp::var::pop((lisp::var *)&a1, &result);
    v2 = lisp::var::pop(&result, &v97);
    *(_DWORD *)v112 = sub_402360(v2);
    *(_DWORD *)v114 = CObjectDB::FindSymbol(*(int *)v112);
    if ( *(_DWORD *)v114 )
    {
      v113 = 0;
      switch ( *(_DWORD *)v114 )
      {
        case '$':
          v85 = sub_401000(8u);
          if ( v85 )
          {
            v11 = lisp::var::pop(&result, &v84);
            v12 = sub_40C8D0(v11);
            v49 = sub_47C5A0((std::locale::facet *)v85, v12);
          }
          else
          {
            v49 = 0;
          }
          v113 = v49;
          goto LABEL_76;
        case '*':
          v10 = lisp::var::pop(&result, &v87);
          v108 = sub_40C8D0(v10);
          v86 = sub_401000(8u);
          if ( v86 )
            v50 = sub_47C570((std::locale::facet *)v86, 1 << v108);
          else
            v50 = 0;
          v113 = v50;
          goto LABEL_76;
        case '+':
          v58 = sub_401000(0x14u);
          if ( v58 )
            v39 = sub_47C800((std::locale::facet *)v58, 0);
          else
            v39 = 0;
          v113 = v39;
          v98 = v39;
          v33 = lisp::var::pop(&result, &v57);
          v34 = sub_40C8D0(v33);
          v98[1].__vftable = (std::locale::facet_vtbl *)v34;
          v35 = lisp::var::pop(&result, &v56);
          v36 = sub_40C8D0(v35);
          v98[1]._Refs = v36;
          v37 = lisp::var::pop(&result, &v55);
          v38 = sub_40C8D0(v37);
          v98[2].__vftable = (std::locale::facet_vtbl *)v38;
          goto LABEL_76;
        case '2':
          v83 = sub_401000(0x18u);
          if ( v83 )
            v48 = sub_47C600((std::locale::facet *)v83, 0);
          else
            v48 = 0;
          v113 = v48;
          v107 = v48;
          while ( !(unsigned __int8)sub_402380(&result) )
          {
            lisp::var::pop(&result, &v106);
            v13 = lisp::var::pop(&v106, &v82);
            *(_DWORD *)v112 = sub_402360(v13);
            *(_DWORD *)v114 = CObjectDB::FindSymbol(*(int *)v112);
            sub_47B8A0(&v105);
            if ( *(_DWORD *)v114 == 77 )
            {
              v14 = lisp::var::pop(&v106, &v81);
              v105.left = sub_40C8D0(v14);
              v15 = lisp::var::pop(&v106, &v80);
              v105.top = sub_40C8D0(v15);
              v16 = lisp::var::pop(&v106, &v79);
              v105.right = sub_40C8D0(v16);
            }
            else if ( *(_DWORD *)v114 == 78 )
            {
              v17 = lisp::var::pop(&v106, &v78);
              v105.left = sub_40C8D0(v17);
              v18 = lisp::var::pop(&v106, &v77);
              v105.right = sub_40C8D0(v18);
              v105.bottom = 0;
            }
            else
            {
              LOG_ERR("CCase::SetAction() Invalid symbol for ActionItem. (symbol:%d)", *(_DWORD *)v114);
            }
            sub_47CF90((int)&v107[1], &v105);
          }
          goto LABEL_76;
        case '6':
          v96 = sub_401000(8u);
          if ( v96 )
          {
            v4 = lisp::var::pop(&result, &v95);
            v5 = sub_40C8D0(v4);
            v53 = sub_47C470((std::locale::facet *)v96, v5);
          }
          else
          {
            v53 = 0;
          }
          v113 = v53;
          goto LABEL_76;
        case 'G':
          v74 = sub_401000(8u);
          if ( v74 )
          {
            v21 = lisp::var::pop(&result, &v73);
            v22 = sub_40C8D0(v21);
            v46 = sub_47C6B0((std::locale::facet *)v74, v22);
          }
          else
          {
            v46 = 0;
          }
          v113 = v46;
          goto LABEL_76;
        case 'H':
          v72 = sub_401000(8u);
          if ( v72 )
          {
            v23 = lisp::var::pop(&result, &v71);
            v24 = sub_40C8D0(v23);
            v45 = sub_47C6E0((std::locale::facet *)v72, v24);
          }
          else
          {
            v45 = 0;
          }
          v113 = v45;
          goto LABEL_76;
        case 'I':
          v25 = lisp::var::pop(&result, &v70);
          v103 = sub_40C8D0(v25);
          v26 = lisp::var::pop(&result, &v69);
          v104 = sub_40C8D0(v26);
          v68 = sub_401000(8u);
          if ( v68 )
            v44 = sub_47C710((std::locale::facet *)v68, v104 | (v103 << 16));
          else
            v44 = 0;
          v113 = v44;
          goto LABEL_76;
        case 'J':
          v27 = lisp::var::pop(&result, &v67);
          v101 = sub_40C8D0(v27);
          v28 = lisp::var::pop(&result, &v66);
          v102 = sub_40C8D0(v28);
          v65 = sub_401000(8u);
          if ( v65 )
            v43 = sub_47C740((std::locale::facet *)v65, v102 | (v101 << 16));
          else
            v43 = 0;
          v113 = v43;
          goto LABEL_76;
        case 'L':
          v6 = lisp::var::pop(&result, &v94);
          v7 = sub_40C8D0(v6) << 16;
          v8 = lisp::var::pop(&result, &v93);
          nId = sub_40C8D0(v8) | v7;
          v109 = CServer::FindSocket(nId);
          if ( !v109 )
          {
            v92 = sub_401000(0x38u);
            if ( v92 )
              v52 = (CSocket *)sub_47C830(v92, nId);
            else
              v52 = 0;
            v109 = v52;
            v90 = nId;
            std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v91);
            sub_445DF0(
              (int)dword_4E210C,
              (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v89,
              v9);
          }
          v88 = sub_401000(8u);
          if ( v88 )
            v51 = sub_47C510((std::locale::facet *)v88, (unsigned int)v109);
          else
            v51 = 0;
          v113 = v51;
          goto LABEL_76;
        case 'U':
          v29 = lisp::var::pop(&result, &v64);
          v100 = sub_40C8D0(v29);
          v30 = lisp::var::pop(&result, &v63);
          v99 = sub_40C8D0(v30);
          v62 = sub_401000(8u);
          if ( v62 )
            v42 = sub_47C770((std::locale::facet *)v62, v99 | (v100 << 16));
          else
            v42 = 0;
          v113 = v42;
          goto LABEL_76;
        case '\\':
          v76 = sub_401000(8u);
          if ( v76 )
          {
            v19 = lisp::var::pop(&result, &v75);
            v20 = sub_40C8D0(v19);
            v47 = sub_47C680((std::locale::facet *)v76, v20);
          }
          else
          {
            v47 = 0;
          }
          v113 = v47;
          goto LABEL_76;
        case ']':
          v61 = sub_401000(8u);
          if ( v61 )
          {
            v31 = lisp::var::pop(&result, &v60);
            v32 = sub_40C8D0(v31);
            v41 = sub_47C7A0((std::locale::facet *)v61, v32);
          }
          else
          {
            v41 = 0;
          }
          v113 = v41;
          goto LABEL_76;
        case '^':
          v59 = sub_401000(8u);
          if ( v59 )
            v40 = sub_47C7D0((std::locale::facet *)v59, 0);
          else
            v40 = 0;
          v113 = v40;
LABEL_76:
          sub_47D000((_DWORD *)(v54 + 12), (int)&v113);
          continue;
        default:
          LOG_ERR("CQuest::SetAction() Invalid Reward. (symbol:%d)", *(_DWORD *)v114);
          return 0;
      }
    }
    break;
  }
  LOG_ERR("CCase::SetAction() Invalid symbol(%s)", *(const char **)v112);
  return 0;
}
// 47BBEA: variable 'v1' is possibly undefined
// 47BD81: variable 'v9' is possibly undefined
// 4E210C: using guessed type int dword_4E210C[3];

//----- (0047C470) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C470(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC110;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC110: using guessed type int (__stdcall *off_4BC110[3])(int);

//----- (0047C4A0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C4A0(std::locale::facet *this, char a2)
{
  std::locale::facet::~facet(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}
// 47C4D0: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (0047C4F0) --------------------------------------------------------
void __thiscall sub_47C4F0(std::locale::facet *this)
{
  std::locale::facet::~facet(this);
}
// 47C4D0: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (0047C510) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C510(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC120;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC120: using guessed type int (__stdcall *off_4BC120[26])(int);

//----- (0047C570) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C570(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC128;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC128: using guessed type int (__stdcall *off_4BC128[24])(int);

//----- (0047C5A0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C5A0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC130;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC130: using guessed type int (__stdcall *off_4BC130[22])(int);

//----- (0047C5D0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C5D0(std::locale::facet *this, char a2)
{
  sub_47C4F0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0047C600) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C600(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC138;
  sub_47CF60((char *)this + 8);
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC138: using guessed type int (__stdcall *off_4BC138[20])(int);

//----- (0047C630) --------------------------------------------------------
void *__thiscall sub_47C630(void *this, char a2)
{
  sub_47C660((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0047C660) --------------------------------------------------------
void __thiscall sub_47C660(int this)
{
  sub_430B90((std::vector<tagRECT> *)(this + 8));
  std::locale::facet::~facet((std::locale::facet *)this);
}
// 47C4D0: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);

//----- (0047C680) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C680(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC140;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC140: using guessed type int (__stdcall *off_4BC140[18])(int);

//----- (0047C6B0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C6B0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC148;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC148: using guessed type int (__stdcall *off_4BC148[16])(int);

//----- (0047C6E0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C6E0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC150;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC150: using guessed type int (__stdcall *off_4BC150[14])(int);

//----- (0047C710) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C710(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC158;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC158: using guessed type int (__stdcall *off_4BC158[12])(int);

//----- (0047C740) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C740(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC160;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC160: using guessed type int (__stdcall *off_4BC160[10])(int);

//----- (0047C770) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C770(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC168;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC168: using guessed type int (__stdcall *off_4BC168[8])(int);

//----- (0047C7A0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C7A0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC170;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC170: using guessed type int (__stdcall *off_4BC170[6])(int);

//----- (0047C7D0) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C7D0(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC178;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC178: using guessed type int (__stdcall *off_4BC178[4])(int);

//----- (0047C800) --------------------------------------------------------
std::locale::facet *__thiscall sub_47C800(std::locale::facet *this, unsigned int a2)
{
  std::locale::facet::facet(this, a2);
  *(_DWORD *)this = off_4BC180;
  return this;
}
// 47C540: using guessed type _DWORD __thiscall std::locale::facet::facet(std::locale::facet *__hidden this, unsigned int);
// 4BC180: using guessed type int (__stdcall *off_4BC180[2])(int);

//----- (0047C830) --------------------------------------------------------
_DWORD *__thiscall sub_47C830(_DWORD *this, int a2)
{
  CBase::CBase((int)this);
  *this = &off_4BA5A0;
  this[8] = a2;
  this[9] = 0;
  this[10] = 0;
  sub_47D030(this + 11);
  return this;
}
// 4BA5A0: using guessed type int (__stdcall *off_4BA5A0)(int);

//----- (0047C880) --------------------------------------------------------
int __thiscall sub_47C880(std::list<tagPARTICLES *> *this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h]
  char v8[4]; // [esp+10h] [ebp-4h] BYREF

  if ( sub_472780(this) )
    return 1;
  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(this, (std::list<tagPARTICLES *>::iterator *)v8);
  while ( 1 )
  {
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(this, (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v8,
            v3) )
      break;
    v7 = *(_DWORD *)sub_40F040(v8);
    if ( !(*(int (__thiscall **)(int, int))(*(_DWORD *)v7 + 4))(v7, a2) )
      return 0;
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)v8, v6, 0);
  }
  return 1;
}

//----- (0047C910) --------------------------------------------------------
BOOL __thiscall sub_47C910(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  BOOL result; // eax
  _DWORD *v4; // eax
  char v6[4]; // [esp+8h] [ebp-Ch] BYREF
  char v7[4]; // [esp+Ch] [ebp-8h] BYREF
  char v8[4]; // [esp+10h] [ebp-4h] BYREF

  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
    (std::list<tagPARTICLES *> *)(this + 12),
    (std::list<tagPARTICLES *>::iterator *)v8);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 12), (int)v6);
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               (std::vector<CIOSocket::CIOTimer>::const_iterator *)v8,
               v2);
    if ( !result )
      break;
    v4 = (_DWORD *)sub_40F040(v8);
    (*(void (__thiscall **)(_DWORD, int))(*(_DWORD *)*v4 + 4))(*v4, a2);
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)v8, v7, 0);
  }
  return result;
}

//----- (0047C980) --------------------------------------------------------
void __thiscall CQuest::_CQuest(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  void *v3; // [esp+Ch] [ebp-10h]
  char v4[4]; // [esp+10h] [ebp-Ch] BYREF
  char v5[4]; // [esp+14h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+18h] [ebp-4h] BYREF

  *(_DWORD *)this = &off_4BA5A0;
  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
    (std::list<tagPARTICLES *> *)(this + 44),
    (std::list<tagPARTICLES *>::iterator *)&v6);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 44), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v6,
            v1) )
      break;
    v3 = *(void **)sub_40F040(&v6);
    if ( v3 )
      sub_47CA20(v3, 1);
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)&v6, v5, 0);
  }
  sub_472990((std::list<std::pair<std::string const ,int>> *)(this + 44));
  CBase::_CBase((std::locale::facet *)this);
}
// 4BA5A0: using guessed type int (__stdcall *off_4BA5A0)(int);

//----- (0047CA20) --------------------------------------------------------
void *__thiscall sub_47CA20(void *this, char a2)
{
  CCase::_CCase((int)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0047CA50) --------------------------------------------------------
void __cdecl CQuest::Close()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int v1; // eax
  char v2[4]; // [esp+0h] [ebp-Ch] BYREF
  int v3; // [esp+4h] [ebp-8h] BYREF
  std::vector<CIOSocket::CIOTimer>::const_iterator v4; // [esp+8h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E2118);
  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E210C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v4);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E210C, (int)v2);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v4,
            v0) )
      break;
    v1 = sub_420250(&v4);
    CBase::Delete(*(CItem **)(v1 + 4));
    sub_446090((int *)&v4, &v3, 0);
  }
  CRWLock::WriteUnlock(&unk_4E2118);
}
// 4E210C: using guessed type int dword_4E210C[3];

//----- (0047CAC0) --------------------------------------------------------
CSocket *__cdecl CServer::FindSocket(int nId)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  int v4; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+Ch] [ebp-4h] BYREF

  v5 = 0;
  CRWLock::ReadLock(&unk_4E2118);
  v4 = nId;
  sub_44AE20(dword_4E210C, &v6, &v4);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E210C, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v6,
         v1) )
  {
    v5 = *(_DWORD *)(sub_420250(&v6) + 4);
    sub_4010D0(v5);
  }
  CRWLock::ReadUnlock(&unk_4E2118);
  return (CSocket *)v5;
}
// 4E210C: using guessed type int dword_4E210C[3];

//----- (0047CB40) --------------------------------------------------------
void __cdecl CQuest::ProcessPacket(int nId, int a2)
{
  int *v2; // [esp+0h] [ebp-4h]

  v2 = (int *)CServer::FindSocket(nId);
  if ( v2 )
  {
    if ( !v2[10] )
      CQuest::Proceed((int)v2, a2);
    sub_401DE0(v2);
  }
}

//----- (0047CB80) --------------------------------------------------------
BOOL __thiscall CQuest::Set(int nQuest, int attribute, char param)
{
  lisp::var *v3; // eax
  int v4; // ecx
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  int v8; // eax
  int v9; // [esp-4h] [ebp-48h] BYREF
  _DWORD *v10; // [esp+0h] [ebp-44h]
  int v11; // [esp+4h] [ebp-40h]
  CTraceSnapshot *v12; // [esp+8h] [ebp-3Ch]
  int v13; // [esp+Ch] [ebp-38h]
  void *v14; // [esp+10h] [ebp-34h]
  CMemory **v15; // [esp+18h] [ebp-2Ch]
  char v16[4]; // [esp+1Ch] [ebp-28h] BYREF
  int v17; // [esp+20h] [ebp-24h] BYREF
  lisp::var v18; // [esp+24h] [ebp-20h] BYREF
  lisp::var v19[3]; // [esp+28h] [ebp-1Ch] BYREF
  CTraceSnapshot *v20; // [esp+34h] [ebp-10h]
  lisp::var result; // [esp+38h] [ebp-Ch] BYREF
  int v22; // [esp+3Ch] [ebp-8h] BYREF
  int a2; // [esp+40h] [ebp-4h]

  v14 = (void *)nQuest;
  if ( !*(_DWORD *)(nQuest + 36) )
  {
    v11 = attribute;
    if ( attribute == 2 )
    {
      v6 = lisp::var::pop((lisp::var *)&param, v19);
      *((_DWORD *)v14 + 8) |= sub_40C8D0(v6) << 16;
      v7 = lisp::var::pop((lisp::var *)&param, &v18);
      *((_DWORD *)v14 + 8) |= sub_40C8D0(v7);
      v17 = *((_DWORD *)v14 + 8);
      sub_44AE20(dword_4E210C, &v22, &v17);
      v8 = sub_430C20(dword_4E210C, (int)v16);
      if ( (unsigned __int8)unknown_libname_8(v8) )
      {
        v15 = sub_401000(0x38u);
        if ( v15 )
          v10 = sub_47C830(v15, *((_DWORD *)v14 + 8));
        else
          v10 = 0;
        *((_DWORD *)v14 + 9) = v10;
      }
      else
      {
        *((_DWORD *)v14 + 9) = *(_DWORD *)(sub_420250(&v22) + 4);
      }
      return 1;
    }
LABEL_11:
    v9 = attribute;
    sub_402340(&v9, &param);
    return CBase::Set(v14, attribute, v9);
  }
  v13 = attribute;
  if ( attribute == 64 )
  {
    v20 = (CTraceSnapshot *)sub_401000(0x18u);
    if ( v20 )
      v12 = CTraceSnapshot::CTraceSnapshot(v20);
    else
      v12 = 0;
    a2 = (int)v12;
    v9 = v4;
    sub_402340(&v9, &param);
    return CQuest::SetCase(*((void **)v14 + 9), a2, v9) != 0;
  }
  if ( v13 != 79 )
    goto LABEL_11;
  v3 = lisp::var::pop((lisp::var *)&param, &result);
  *(_DWORD *)(*((_DWORD *)v14 + 9) + 40) = sub_40C8D0(v3);
  return 1;
}
// 47CBF5: variable 'v4' is possibly undefined
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E210C: using guessed type int dword_4E210C[3];

//----- (0047CD40) --------------------------------------------------------
CTraceSnapshot *__thiscall CTraceSnapshot::CTraceSnapshot(CTraceSnapshot *this)
{
  sub_47D030(this);
  sub_47D030((char *)this + 12);
  return this;
}

//----- (0047CD70) --------------------------------------------------------
int __thiscall CQuest::SetCase(void *this, int a2, int a3)
{
  lisp::var *v3; // eax
  int v4; // ecx
  int v6; // [esp-4h] [ebp-24h] BYREF
  int v7; // [esp+0h] [ebp-20h]
  _DWORD *v8; // [esp+4h] [ebp-1Ch]
  lisp::var v9; // [esp+10h] [ebp-10h] BYREF
  char v10[4]; // [esp+14h] [ebp-Ch]
  lisp::var result; // [esp+18h] [ebp-8h] BYREF
  char v12[4]; // [esp+1Ch] [ebp-4h]

  v8 = this;
  while ( !(unsigned __int8)sub_402380(&a3) )
  {
    lisp::var::pop((lisp::var *)&a3, &result);
    v3 = lisp::var::pop(&result, &v9);
    *(_DWORD *)v10 = sub_402360(v3);
    *(_DWORD *)v12 = CObjectDB::FindSymbol(*(int *)v10);
    if ( !*(_DWORD *)v12 )
    {
      LOG_ERR("CQuest::SetCase() Invalid symbol(%s)", *(const char **)v10);
      return 0;
    }
    v7 = *(_DWORD *)v12;
    if ( *(_DWORD *)v12 == 65 )
    {
      v6 = v4;
      sub_402340(&v6, &result);
      if ( !CCase::SetCondition(v6) )
        return 0;
    }
    else
    {
      if ( v7 != 66 )
      {
        LOG_ERR("CQuest::SetCondition() Invalid Case. (symbol:%d)", *(_DWORD *)v12);
        return 0;
      }
      v6 = v4;
      sub_402340(&v6, &result);
      if ( !CQuest::SetAction(v6) )
        return 0;
    }
  }
  sub_47D000(v8 + 11, (int)&a2);
  return 1;
}
// 47CDED: variable 'v4' is possibly undefined

//----- (0047CE60) --------------------------------------------------------
int __thiscall CQuest::OnLoad(_DWORD *this)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  char v4[8]; // [esp+8h] [ebp-10h] BYREF
  char v5[8]; // [esp+10h] [ebp-8h] BYREF

  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v4);
  sub_445DF0(
    (int)dword_4E210C,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v5,
    v1);
  this[8] = 0;
  this[9] = 0;
  return 1;
}
// 47CE8F: variable 'v1' is possibly undefined
// 4E210C: using guessed type int dword_4E210C[3];

//----- (0047CEC0) --------------------------------------------------------
void __thiscall CQuest::Proceed(int this, int a2)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v2; // eax
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  char v5[4]; // [esp+8h] [ebp-Ch] BYREF
  std::list<tagPARTICLES *> *v6; // [esp+Ch] [ebp-8h]
  char v7[4]; // [esp+10h] [ebp-4h] BYREF

  std::list<std::pair<int const,IDirect3DTexture9 *>>::begin(
    (std::list<tagPARTICLES *> *)(this + 44),
    (std::list<tagPARTICLES *>::iterator *)v7);
  while ( 1 )
  {
    v2 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 44), (int)v4);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)v7,
            v2) )
      break;
    v6 = *(std::list<tagPARTICLES *> **)sub_40F040(v7);
    if ( sub_47C880(v6, a2) )
    {
      sub_47C910((int)v6, a2);
      return;
    }
    sub_47D0A0((std::list<std::pair<std::string const ,int>>::const_iterator *)v7, v5, 0);
  }
  LOG_ERR("CQuest::Proceed() No Meet Condition. (Quest:%x, PID:%d)", *(_DWORD *)(this + 32), *(_DWORD *)(a2 + 452));
}

//----- (0047CF60) --------------------------------------------------------
std::vector<tagRECT> *__thiscall sub_47CF60(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  std::vector<tagRECT> *v3; // [esp+0h] [ebp-8h]

  v3 = (std::vector<tagRECT> *)this;
  v2 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v2);
  sub_44F7C0(v3, (char)v2);
  std::vector<tagRECT>::_Buy(v3, 0);
  return v3;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0047CF90) --------------------------------------------------------
tagRECT *__thiscall sub_47CF90(int this, const tagRECT *a2)
{
  unsigned int v2; // esi
  tagRECT *result; // eax
  int *v4; // eax
  char v6[4]; // [esp+8h] [ebp-8h] BYREF
  char v7[4]; // [esp+Ch] [ebp-4h] BYREF

  v2 = std::vector<tagRECT>::size((std::vector<tagRECT> *)this);
  if ( v2 >= std::vector<tagRECT>::capacity((std::vector<tagRECT> *)this) )
  {
    v4 = (int *)sub_445B40((_DWORD *)this, (int)v7);
    result = (tagRECT *)sub_47D110((std::vector<tagRECT> *)this, v6, *v4, (int)a2);
  }
  else
  {
    result = std::vector<tagRECT>::_Ufill((std::vector<tagRECT> *)this, *(tagRECT **)(this + 8), 1u, a2);
    *(_DWORD *)(this + 8) = result;
  }
  return result;
}

//----- (0047D000) --------------------------------------------------------
CMemory ***__thiscall sub_47D000(_DWORD *this, int a2)
{
  int *v2; // eax
  char v5[4]; // [esp+4h] [ebp-4h] BYREF

  v2 = (int *)sub_430C20(this, (int)v5);
  return sub_47D240((std::list<tagPARTICLES *> *)this, *v2, (tagPARTICLES *const *)a2);
}

//----- (0047D030) --------------------------------------------------------
void *__thiscall sub_47D030(void *this)
{
  void *v2; // [esp-4h] [ebp-Ch] BYREF
  void *v3; // [esp+0h] [ebp-8h]

  v3 = this;
  v2 = this;
  _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v2);
  std::_List_val<std::pair<int const,IDirect3DTexture9 *>>::_List_val<std::pair<int const,IDirect3DTexture9 *>>(
    v3,
    (char)v2);
  *((_DWORD *)v3 + 1) = sub_47D2C0();
  *((_DWORD *)v3 + 2) = 0;
  return v3;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0047D070) --------------------------------------------------------
BOOL __thiscall std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(std::vector<CIOSocket::CIOTimer>::const_iterator *this, const std::vector<CIOSocket::CIOTimer>::const_iterator *_Right)
{
  return (unsigned __int8)unknown_libname_8(_Right) == 0;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0047D0A0) --------------------------------------------------------
_DWORD *__thiscall sub_47D0A0(std::list<std::pair<std::string const ,int>>::const_iterator *this, _DWORD *a2, int a3)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = *(_DWORD *)this;
  sub_41CAB0(this);
  *a2 = v4;
  return a2;
}

//----- (0047D0D0) --------------------------------------------------------
int __thiscall std::vector<tagRECT>::capacity(std::vector<tagRECT> *this)
{
  int v2; // [esp+0h] [ebp-8h]

  if ( *((_DWORD *)this + 1) )
    v2 = (*((_DWORD *)this + 3) - *((_DWORD *)this + 1)) >> 4;
  else
    v2 = 0;
  return v2;
}

//----- (0047D110) --------------------------------------------------------
_DWORD *__thiscall sub_47D110(std::vector<tagRECT> *this, _DWORD *a2, int a3, int a4)
{
  _DWORD *v4; // eax
  int *v5; // eax
  int v7; // [esp-4h] [ebp-18h]
  int v8; // [esp+0h] [ebp-14h]
  char v10[4]; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  int v12; // [esp+10h] [ebp-4h]

  if ( std::vector<tagRECT>::size(this) )
  {
    v4 = (_DWORD *)sub_430C20(this, (int)v11);
    v8 = sub_47D7D0(&a3, v4);
  }
  else
  {
    v8 = 0;
  }
  v12 = v8;
  sub_47D3F0((int)this, (tagRECT *)a3, 1u, (LONG *)a4);
  v7 = v12;
  v5 = (int *)sub_430C20(this, (int)v10);
  sub_431D20(v5, a2, v7);
  return a2;
}

//----- (0047D190) --------------------------------------------------------
char __thiscall std::vector<tagRECT>::_Buy(std::vector<tagRECT> *this, unsigned int _Capacity)
{
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  *((_DWORD *)this + 3) = 0;
  if ( !_Capacity )
    return 0;
  if ( sub_47D3D0(this) >= _Capacity )
  {
    *((_DWORD *)this + 1) = sub_47D6D0(_Capacity);
    *((_DWORD *)this + 2) = *((_DWORD *)this + 1);
    *((_DWORD *)this + 3) = *((_DWORD *)this + 1) + 16 * _Capacity;
  }
  else
  {
    std::vector<tagShowdownPaticipateInfo>::_Xran(this);
  }
  return 1;
}

//----- (0047D210) --------------------------------------------------------
tagRECT *__thiscall std::vector<tagRECT>::_Ufill(std::vector<tagRECT> *this, tagRECT *_Ptr, unsigned int _Count, const tagRECT *_Val)
{
  sub_47D820(_Ptr, _Count, (int)_Val);
  return &_Ptr[_Count];
}

//----- (0047D240) --------------------------------------------------------
CMemory ***__thiscall sub_47D240(std::list<tagPARTICLES *> *this, int a2, tagPARTICLES *const *a3)
{
  std::_List_nod<tagPARTICLES *>::_Node **v3; // eax
  int *v4; // eax
  CMemory ***result; // eax
  tagPARTICLES *const *v6; // [esp-4h] [ebp-10h]
  std::_List_nod<tagPARTICLES *>::_Node *_Next; // [esp+4h] [ebp-8h]
  CMemory **v9; // [esp+8h] [ebp-4h]

  _Next = (std::_List_nod<tagPARTICLES *>::_Node *)unknown_libname_7(&a2);
  v6 = a3;
  v3 = (std::_List_nod<tagPARTICLES *>::_Node **)sub_446FF0((int)_Next);
  v9 = std::list<tagSUBPARTICLES *>::_Buynode(this, _Next, *v3, v6);
  sub_47D760(this, 1u);
  *(_DWORD *)sub_446FF0((int)_Next) = v9;
  v4 = (int *)sub_446FF0((int)v9);
  result = (CMemory ***)sub_474590(*v4);
  *result = v9;
  return result;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0047D2C0) --------------------------------------------------------
int sub_47D2C0()
{
  void *v0; // eax
  void *v1; // eax
  int v3; // [esp+4h] [ebp-8h] BYREF
  int v4; // [esp+8h] [ebp-4h]

  v3 = (int)sub_446B40(1);
  v4 = 0;
  v0 = (void *)sub_474590(v3);
  sub_42F9B0(v0, (int)&v3);
  ++v4;
  v1 = (void *)sub_446FF0(v3);
  sub_42F9B0(v1, (int)&v3);
  return v3;
}

//----- (0047D360) --------------------------------------------------------
std::list<std::pair<std::string const ,int>> *__thiscall std::list<std::pair<std::string const,int>>::_Tidy(std::list<std::pair<std::string const ,int>> *this)
{
  int v1; // eax
  int v2; // eax
  std::list<std::pair<std::string const ,int>> *result; // eax

  std::list<std::pair<std::string const,int>>::clear(this);
  v1 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v1);
  v2 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  sub_4338F0(*((void **)this + 1), 1);
  result = this;
  *((_DWORD *)this + 1) = 0;
  return result;
}

//----- (0047D3D0) --------------------------------------------------------
unsigned int __thiscall sub_47D3D0(std::allocator<tagRECT> *this)
{
  return std::allocator<tagRECT>::max_size(this);
}

//----- (0047D3F0) --------------------------------------------------------
void __thiscall sub_47D3F0(int this, tagRECT *a2, unsigned int a3, LONG *a4)
{
  unsigned int v4; // esi
  char *v5; // eax
  unsigned int v6; // [esp+4h] [ebp-28h]
  _DWORD *v8; // [esp+Ch] [ebp-20h]
  CMemory **v9; // [esp+10h] [ebp-1Ch]
  tagRECT *_Ptr; // [esp+14h] [ebp-18h]
  unsigned int v11; // [esp+18h] [ebp-14h]
  int v12; // [esp+18h] [ebp-14h]
  tagRECT _Val; // [esp+1Ch] [ebp-10h] BYREF
  unsigned int _Count; // [esp+38h] [ebp+Ch]

  _Val.left = *a4;
  _Val.top = a4[1];
  _Val.right = a4[2];
  _Val.bottom = a4[3];
  v11 = std::vector<tagRECT>::capacity((std::vector<tagRECT> *)this);
  if ( a3 )
  {
    v4 = sub_47D3D0((std::allocator<tagRECT> *)this);
    if ( v4 - std::vector<tagRECT>::size((std::vector<tagRECT> *)this) >= a3 )
    {
      if ( v11 >= a3 + std::vector<tagRECT>::size((std::vector<tagRECT> *)this) )
      {
        if ( (*(_DWORD *)(this + 8) - (int)a2) >> 4 >= a3 )
        {
          v8 = *(_DWORD **)(this + 8);
          *(_DWORD *)(this + 8) = sub_431E30((void *)this, (int)&v8[-4 * a3], (int)v8, v8);
          sub_47D8E0(a2, &v8[-4 * a3], v8);
          std::fill<tagRECT *,tagRECT>(a2, &a2[a3], &_Val);
        }
        else
        {
          sub_431E30((void *)this, (int)a2, *(_DWORD *)(this + 8), &a2[a3]);
          std::vector<tagRECT>::_Ufill(
            (std::vector<tagRECT> *)this,
            *(tagRECT **)(this + 8),
            a3 - ((*(_DWORD *)(this + 8) - (int)a2) >> 4),
            &_Val);
          *(_DWORD *)(this + 8) += 16 * a3;
          std::fill<tagRECT *,tagRECT>(a2, (tagRECT *)(*(_DWORD *)(this + 8) - 16 * a3), &_Val);
        }
      }
      else
      {
        if ( sub_47D3D0((std::allocator<tagRECT> *)this) - (v11 >> 1) >= v11 )
          v6 = v11 + (v11 >> 1);
        else
          v6 = 0;
        v12 = v6;
        if ( v6 < a3 + std::vector<tagRECT>::size((std::vector<tagRECT> *)this) )
          v12 = a3 + std::vector<tagRECT>::size((std::vector<tagRECT> *)this);
        v9 = sub_47D6D0(v12);
        v5 = sub_431E30((void *)this, *(_DWORD *)(this + 4), (int)a2, v9);
        _Ptr = std::vector<tagRECT>::_Ufill((std::vector<tagRECT> *)this, (tagRECT *)v5, a3, &_Val);
        sub_431E30((void *)this, (int)a2, *(_DWORD *)(this + 8), _Ptr);
        _Count = a3 + std::vector<tagRECT>::size((std::vector<tagRECT> *)this);
        if ( *(_DWORD *)(this + 4) )
        {
          sub_4313B0((void *)this, *(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
          sub_4338F0(*(void **)(this + 4), (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 4);
        }
        *(_DWORD *)(this + 12) = &v9[4 * v12];
        *(_DWORD *)(this + 8) = &v9[4 * _Count];
        *(_DWORD *)(this + 4) = v9;
      }
    }
    else
    {
      std::vector<tagShowdownPaticipateInfo>::_Xran((std::vector<tagShowdownPaticipateInfo> *)this);
    }
  }
}

//----- (0047D6D0) --------------------------------------------------------
CMemory **__stdcall sub_47D6D0(int a1)
{
  return sub_47D920(a1);
}

//----- (0047D6F0) --------------------------------------------------------
CMemory **__thiscall std::list<tagSUBPARTICLES *>::_Buynode(std::list<tagPARTICLES *> *this, std::_List_nod<tagPARTICLES *>::_Node *_Next, std::_List_nod<tagPARTICLES *>::_Node *_Prev, tagPARTICLES *const *_Val)
{
  std::_List_nod<tagPARTICLES *>::_Node *v5; // [esp+8h] [ebp-8h]
  CMemory **v6; // [esp+Ch] [ebp-4h]

  v6 = sub_446B40(1);
  v5 = (std::_List_nod<tagPARTICLES *>::_Node *)operator new(0xCu, v6);
  if ( v5 )
    std::_List_nod<tagPARTICLES *>::_Node::_Node(v5, _Next, _Prev, _Val);
  return v6;
}

//----- (0047D760) --------------------------------------------------------
_DWORD *__thiscall sub_47D760(_DWORD *this, unsigned int a2)
{
  void *v2; // eax
  _DWORD *result; // eax
  std::length_error that; // [esp+4h] [ebp-40h] BYREF

  if ( sub_44B800((int)this) - this[2] < a2 )
  {
    std::string::string((std::vector<IPAddrMask> *)&that, "list<T> too long");
    std::length_error::length_error((std::length_error *)(&that._Str._Bx._Ptr + 3), &that);
    std::exception::_Raise(v2);
    sub_40F6E0((std::logic_error *)(&that._Str._Bx._Ptr + 3));
    sub_40F780(&that);
  }
  result = this;
  this[2] += a2;
  return result;
}
// 47D797: variable 'v2' is possibly undefined

//----- (0047D7D0) --------------------------------------------------------
int __thiscall sub_47D7D0(int *this, _DWORD *a2)
{
  int v3; // [esp+4h] [ebp-4h] BYREF

  v3 = *this;
  return sub_431DB0(&v3, a2);
}

//----- (0047D800) --------------------------------------------------------
std::vector<tagRECT>::iterator *__thiscall std::vector<tagRECT>::iterator::operator+=(std::vector<tagRECT>::iterator *this, int _Off)
{
  *(_DWORD *)this += 16 * _Off;
  return this;
}

//----- (0047D820) --------------------------------------------------------
char *__cdecl sub_47D820(void *a1, int a2, int a3)
{
  unknown_libname_6(&a1, &a1);
  return std::_Uninit_fill_n<tagRECT *,unsigned int,tagRECT,std::allocator<tagRECT>>((char *)a1, a2, a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0047D860) --------------------------------------------------------
int __cdecl sub_47D860(int a1, int a2)
{
  unknown_libname_6(&a1, &a2);
  return std::_Destroy_range<tagRECT>(a1, a2);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0047D8A0) --------------------------------------------------------
tagRECT *__cdecl std::fill<tagRECT *,tagRECT>(tagRECT *_First, tagRECT *_Last, const tagRECT *_Val)
{
  tagRECT *result; // eax

  while ( _First != _Last )
  {
    *_First = *_Val;
    result = ++_First;
  }
  return result;
}

//----- (0047D8E0) --------------------------------------------------------
_DWORD *__cdecl sub_47D8E0(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  unknown_libname_6(&a1, &a3);
  return std::_Copy_backward_opt<tagRECT *,tagRECT *>(a1, a2, a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0047D920) --------------------------------------------------------
CMemory **__cdecl sub_47D920(int a1)
{
  return sub_401000(16 * a1);
}

//----- (0047D940) --------------------------------------------------------
char *__cdecl std::_Uninit_fill_n<tagRECT *,unsigned int,tagRECT,std::allocator<tagRECT>>(char *a1, int a2, int a3)
{
  char *result; // eax

  result = a1;
  while ( a2 )
  {
    result = (char *)sub_47DA10(a1, a3);
    --a2;
    a1 += 16;
  }
  return result;
}

//----- (0047D9A0) --------------------------------------------------------
int __cdecl std::_Destroy_range<tagRECT>(int a1, int a2)
{
  int result; // eax

  while ( a1 != a2 )
  {
    sub_44CD70(a1);
    result = a1 + 16;
    a1 += 16;
  }
  return result;
}

//----- (0047D9D0) --------------------------------------------------------
char *__cdecl sub_47D9D0(int a1, int a2, void *a3)
{
  unknown_libname_6(&a1, &a3);
  return std::_Uninit_copy<tagRECT *,tagRECT *,std::allocator<tagRECT>>(a1, a2, (char *)a3);
}
// 4254D0: using guessed type int __cdecl unknown_libname_6(_DWORD, _DWORD);

//----- (0047DA10) --------------------------------------------------------
LONG *__stdcall sub_47DA10(void *a1, int a2)
{
  return std::_Construct<tagRECT,tagRECT>((tagRECT *)a1, (const tagRECT *)a2);
}

//----- (0047DA30) --------------------------------------------------------
char *__cdecl std::_Uninit_copy<tagRECT *,tagRECT *,std::allocator<tagRECT>>(int a1, int a2, char *a3)
{
  while ( a1 != a2 )
  {
    sub_47DA10(a3, a1);
    a3 += 16;
    a1 += 16;
  }
  return a3;
}

//----- (0047DAA0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_47DAA0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(this, (int)&v4, (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0047DAD0) --------------------------------------------------------
int __thiscall sub_47DAD0(void *this)
{
  return sub_47DAF0(this);
}

//----- (0047DAF0) --------------------------------------------------------
int __thiscall sub_47DAF0(void *this)
{
  return sub_47DB10((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0047DB10) --------------------------------------------------------
int __thiscall sub_47DB10(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_47DBC0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0047DBC0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_47DBC0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_47DC60((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0047DC60) --------------------------------------------------------
_DWORD *__thiscall sub_47DC60(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_47DCC0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0047DCC0) --------------------------------------------------------
int __stdcall sub_47DCC0(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_47DCC0(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0047DD40) --------------------------------------------------------
void __thiscall CRWLock::CRWLock(CRWLock *this)
{
  this->m_nCount = 0;
  this->m_nLock = 0;
  this->m_hREvent = CreateEventA(0, 0, 0, 0);
  this->m_hWEvent = CreateEventA(0, 0, 0, 0);
  this->m_dwEIP[1] = 0;
  this->m_dwEIP[0] = 0;
}

//----- (0047DDA0) --------------------------------------------------------
void __thiscall CRWLock::~CRWLock(CRWLock *this)
{
  if ( this->m_nCount )
    EBREAK();
  CloseHandle(this->m_hREvent);
  CloseHandle(this->m_hWEvent);
}

//----- (0047DDE0) --------------------------------------------------------
void __thiscall CRWLock::Wait(CRWLock *this)
{
  int v2; // [esp+4h] [ebp-4h]
  int v3; // [esp+4h] [ebp-4h]

  v2 = 4000;
  while ( --v2 >= 0 )
  {
    if ( !InterlockedCompareExchange(&this->m_nLock, 1, 0) )
      return;
    _mm_pause();
  }
  v3 = 4000;
  while ( --v3 >= 0 )
  {
    SwitchToThread();
    if ( !InterlockedCompareExchange(&this->m_nLock, 1, 0) )
      return;
  }
  do
    Sleep(1000u);
  while ( InterlockedCompareExchange(&this->m_nLock, 1, 0) );
}

//----- (0047DE70) --------------------------------------------------------
void __thiscall CRWLock::ReadLock(CRWLock *this)
{
  unsigned int v2; // [esp+8h] [ebp-8h]
  int v3; // [esp+Ch] [ebp-4h]
  int var0; // [esp+10h] [ebp+0h]
  unsigned int retaddr; // [esp+14h] [ebp+4h]

  LOWORD(v3) = InterlockedIncrement(&this->m_nCount);
  if ( (v3 & 0xFF00) != 0 )
  {
    CServer::CreateSocket((CServer *)this);
    v3 = this->m_nCount;
    do
    {
      if ( v3 < 0 )
      {
        if ( (unsigned __int16)InterlockedExchangeAdd(&this->m_nCount, 0xFFFF) == 1 )
        {
          sub_47E060(&this->m_nCount);
          SetEvent(this->m_hWEvent);
        }
        else
        {
          sub_47E060(&this->m_nCount);
        }
        WaitForSingleObject(this->m_hREvent, 0xFFFFFFFF);
        CServer::CreateSocket((CServer *)this);
        v3 = InterlockedExchangeAdd(&this->m_nCount, -65535) - 0xFFFF;
      }
      else
      {
        if ( (unsigned __int16)InterlockedExchangeAdd(&this->m_nCount, 0x7FFFFFFF) == 1 )
        {
          sub_47E060(&this->m_nCount);
          SetEvent(this->m_hWEvent);
        }
        else
        {
          sub_47E060(&this->m_nCount);
        }
        WaitForSingleObject(this->m_hWEvent, 0xFFFFFFFF);
        CServer::CreateSocket((CServer *)this);
        v3 = InterlockedExchangeAdd(&this->m_nCount, -2147483647) - 0x7FFFFFFF;
      }
    }
    while ( (v3 & 0xFF00) != 0 );
    sub_47E060(&this->m_nCount);
    if ( (v3 & 0xFF0000) != 0 )
      SetEvent(this->m_hREvent);
  }
  if ( (char)v3 == 1 )
  {
    v2 = *(_DWORD *)(var0 + 4);
    this->m_dwEIP[0] = retaddr;
    this->m_dwEIP[1] = v2;
  }
}
// 47E00A: variable 'var0' is possibly undefined

//----- (0047E030) --------------------------------------------------------
void __thiscall CServer::CreateSocket(CServer *this)
{
  if ( InterlockedCompareExchange((volatile LONG *)this + 1, 1, 0) )
    CRWLock::Wait(this);
}

//----- (0047E060) --------------------------------------------------------
LONG __thiscall sub_47E060(volatile LONG *this)
{
  return InterlockedExchange(this + 1, 0);
}

//----- (0047E080) --------------------------------------------------------
LONG __thiscall CRWLock::ReadUnlock(CRWLock *this)
{
  LONG result; // eax
  LONG v3; // [esp+4h] [ebp-4h]

  result = InterlockedDecrement(&this->m_nCount);
  v3 = result;
  if ( (result & 0x8080) != 0 )
    EBREAK(result);
  if ( !(_WORD)v3 )
  {
    result = v3 & 0xFF000000;
    if ( (v3 & 0xFF000000) != 0 )
      result = SetEvent(this->m_hWEvent);
  }
  return result;
}

//----- (0047E0D0) --------------------------------------------------------
void __thiscall CRWLock::WriteLock(CRWLock *this)
{
  unsigned int v2; // [esp+8h] [ebp-8h]
  int var0; // [esp+10h] [ebp+0h]
  unsigned int retaddr; // [esp+14h] [ebp+4h]

  if ( (unsigned __int16)InterlockedExchangeAdd(&this->m_nCount, 256) )
  {
    CServer::CreateSocket((CServer *)this);
    do
    {
      if ( (unsigned __int16)InterlockedExchangeAdd(&this->m_nCount, 16776960) == 256 )
      {
        sub_47E060(&this->m_nCount);
        SetEvent(this->m_hWEvent);
      }
      else
      {
        sub_47E060(&this->m_nCount);
      }
      WaitForSingleObject(this->m_hWEvent, 0xFFFFFFFF);
      CServer::CreateSocket((CServer *)this);
    }
    while ( (unsigned __int16)InterlockedExchangeAdd(&this->m_nCount, -16776960) );
    sub_47E060(&this->m_nCount);
  }
  v2 = *(_DWORD *)(var0 + 4);
  this->m_dwEIP[0] = retaddr;
  this->m_dwEIP[1] = v2;
}
// 47E19D: variable 'var0' is possibly undefined

//----- (0047E1C0) --------------------------------------------------------
int __fastcall CRWLock::WriteUnlock(CRWLock *this)
{
  int result; // eax
  int v3; // [esp+4h] [ebp-4h]

  result = InterlockedExchangeAdd(&this->m_nCount, -256) - 256;
  v3 = result;
  if ( (result & 0x8080) != 0 )
    EBREAK(result);
  if ( !(_WORD)v3 )
  {
    result = v3 & 0xFF000000;
    if ( (v3 & 0xFF000000) != 0 )
      result = SetEvent(this->m_hWEvent);
  }
  return result;
}

//----- (0047E220) --------------------------------------------------------
void __thiscall CScreen::CScreen(CScreen *this)
{
  CIOCriticalSection::CIOCriticalSection(&this->m_lock);
  this->m_nWidth = 0;
  this->m_nHeight = 0;
  this->m_nPitch = 0;
  this->m_nLine = 0;
  this->m_pBuffer = 0;
}

//----- (0047E270) --------------------------------------------------------
void __thiscall CScreen::~CScreen(CScreen *this)
{
  sub_4A16B4(this->m_pBuffer);
  CIOCriticalSection::~CIOCriticalSection(&this->m_lock);
}
// 4A16B4: using guessed type _DWORD __cdecl sub_4A16B4(_DWORD);

//----- (0047E2A0) --------------------------------------------------------
void __thiscall CScreen::Open(CScreen *this, int nWidth, int nHeight)
{
  this->m_nWidth = nWidth;
  this->m_nHeight = nHeight;
  this->m_nPitch = (nWidth + 8) & 0xFFFFFFFC;
  this->m_nLine = 0;
  this->m_pBuffer = (char *)sub_49F2E1(nHeight * this->m_nPitch);
  memset(this->m_pBuffer, 0, nHeight * this->m_nPitch);
}

//----- (0047E320) --------------------------------------------------------
int CScreen::Add(CScreen *this, unsigned int color, const char *format, ...)
{
  int v4; // [esp+4h] [ebp-8h]
  char *v5; // [esp+8h] [ebp-4h]
  va_list va; // [esp+20h] [ebp+14h] BYREF

  va_start(va, format);
  if ( this->m_nLine == this->m_nHeight )
  {
    v4 = this->m_nLine - 1;
    memcpy_0(this->m_pBuffer, &this->m_pBuffer[this->m_nPitch], this->m_nPitch * v4);
  }
  else
  {
    v4 = this->m_nLine;
    this->m_nLine = v4 + 1;
  }
  v5 = &this->m_pBuffer[this->m_nPitch * v4];
  *(_DWORD *)v5 = color;
  return _vsnprintf(v5 + 4, this->m_nWidth, format, va);
}

//----- (0047E3D0) --------------------------------------------------------
char *__thiscall CLink::Insert(CLink *this, CLink *pLink, char *a3)
{
  CLink *v5; // [esp+4h] [ebp-8h]
  char *v6; // [esp+8h] [ebp-4h]

  if ( this[1].m_pPrev == this[1].m_pNext )
  {
    v5 = (CLink *)((char *)this[1].m_pPrev - 1);
    memcpy_0(this->m_pNext, (char *)this[2].m_pNext + (unsigned int)this->m_pNext, (int)this[2].m_pNext * (_DWORD)v5);
  }
  else
  {
    v5 = this[1].m_pPrev;
    this[1].m_pPrev = (CLink *)((char *)&v5->m_pNext + 1);
  }
  v6 = (char *)this->m_pNext + (int)this[2].m_pNext * (_DWORD)v5;
  *(_DWORD *)v6 = pLink;
  return strncpy(v6 + 4, a3, (size_t)this->m_pPrev);
}

//----- (0047E480) --------------------------------------------------------
_DWORD *__thiscall sub_47E480(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  this[3] = 0;
  return result;
}

//----- (0047E4A0) --------------------------------------------------------
BOOL __thiscall CScreen::OnPaint(CScreen *this)
{
  int v1; // eax
  HDC hdc; // [esp+4h] [ebp-9Ch]
  struct tagPAINTSTRUCT Paint; // [esp+8h] [ebp-98h] BYREF
  int v6; // [esp+48h] [ebp-58h]
  struct tagRECT Rect; // [esp+4Ch] [ebp-54h] BYREF
  int y; // [esp+5Ch] [ebp-44h]
  struct tagTEXTMETRICA tm; // [esp+60h] [ebp-40h] BYREF
  char *v10; // [esp+98h] [ebp-8h]
  int v11; // [esp+9Ch] [ebp-4h]

  v6 = dword_4D9830;
  hdc = BeginPaint(hWnd, &Paint);
  sub_4327C0((CIOCriticalSection *)this);
  GetTextMetricsA(hdc, &tm);
  GetClientRect(hWnd, &Rect);
  y = 0;
  v11 = Rect.bottom / tm.tmHeight;
  if ( this->m_nLine <= Rect.bottom / tm.tmHeight )
  {
    v10 = this->m_pBuffer;
    v11 = this->m_nLine;
  }
  else
  {
    v10 = &this->m_pBuffer[this->m_nPitch * (this->m_nLine - v11)];
  }
  while ( --v11 >= 0 )
  {
    SetTextColor(hdc, *(_DWORD *)v10);
    v1 = strlen(v10 + 4);
    TextOutA(hdc, 0, y, v10 + 4, v1);
    v10 += this->m_nPitch;
    y += tm.tmHeight;
  }
  sub_4327E0((CIOCriticalSection *)this);
  return EndPaint(hWnd, &Paint);
}
// 4D9830: using guessed type int dword_4D9830;

//----- (0047E5F0) --------------------------------------------------------
void __cdecl CServer::Start()
{
  time(&dword_4E2148);
  sub_438A60(&dword_4E2140);
  CIOObject::Release(&unk_4E2158, *(int *)&nPort);
}

//----- (0047E620) --------------------------------------------------------
void __cdecl sub_47E620(_DWORD *a4)
{
  const std::pair<int const ,CGame_Character::TargetInfo> *v1; // eax
  int v2; // [esp+0h] [ebp-18h]
  char v3[8]; // [esp+4h] [ebp-14h] BYREF
  int v4; // [esp+Ch] [ebp-Ch]
  char v5[8]; // [esp+10h] [ebp-8h] BYREF

  CRWLock::WriteLock(&unk_4E2170);
  CLink::Insert((CLink *)a4 + 14, &dword_4E2140);
  v4 = sub_458680(a4);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v5);
  sub_445DF0(
    (int)dword_4E214C,
    (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v3,
    v1);
  if ( dword_4E2138 <= ++dword_4E213C )
    v2 = dword_4E213C;
  else
    v2 = dword_4E2138;
  dword_4E2138 = v2;
  CRWLock::WriteUnlock(&unk_4E2170);
}
// 47E665: variable 'v1' is possibly undefined
// 4E2138: using guessed type int dword_4E2138;
// 4E213C: using guessed type int dword_4E213C;

//----- (0047E6B0) --------------------------------------------------------
void __cdecl CSkill::ReviseTick(CPlayer *pOwner)
{
  int v1; // [esp+0h] [ebp-4h] BYREF

  CRWLock::WriteLock(&unk_4E2170);
  CLink::Remove((CLink *)&pOwner->m_prtyPt.nPt[5]);
  --dword_4E213C;
  v1 = sub_458680(pOwner);
  sub_47E990(
    (std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *)dword_4E214C,
    &v1);
  CRWLock::WriteUnlock(&unk_4E2170);
}
// 4E213C: using guessed type int dword_4E213C;

//----- (0047E700) --------------------------------------------------------
int sub_47E700()
{
  return dword_4E213C;
}
// 4E213C: using guessed type int dword_4E213C;

//----- (0047E710) --------------------------------------------------------
int sub_47E710()
{
  return dword_4E2138;
}
// 4E2138: using guessed type int dword_4E2138;

//----- (0047E720) --------------------------------------------------------
void __cdecl sub_47E720()
{
  CLink *i; // [esp+4h] [ebp-4h]

  CIOServer::Stop(&unk_4E2158);
  CRWLock::ReadLock(&unk_4E2170);
  for ( i = dword_4E2140.m_pNext; i != &dword_4E2140; i = i->m_pNext )
    CSocket::CloseSocket((volatile LONG *)&i[-14]);
  CRWLock::ReadUnlock(&unk_4E2170);
}

//----- (0047E780) --------------------------------------------------------
void __cdecl CServer::SendAlive()
{
  CIOCriticalSection *a1; // [esp+0h] [ebp-8h]
  CLink *i; // [esp+4h] [ebp-4h]

  CRWLock::ReadLock(&unk_4E2170);
  for ( i = dword_4E2140.m_pNext; i != &dword_4E2140; i = i->m_pNext )
  {
    a1 = (CIOCriticalSection *)&i[-14];
    CSocket::Write((int)&i[-14], 30, &Source);
    if ( InterlockedIncrement((volatile LONG *)&i[7].m_pPrev) >= 5 )
    {
      CSocket::OnKick(a1, 0);
      sub_4947C0((SOCKET *)a1);
    }
  }
  CRWLock::ReadUnlock(&unk_4E2170);
}

//----- (0047E800) --------------------------------------------------------
volatile int *__cdecl sub_47E800(DWORD a1)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  char v3[4]; // [esp+0h] [ebp-10h] BYREF
  DWORD v4; // [esp+4h] [ebp-Ch] BYREF
  int v5; // [esp+8h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v6; // [esp+Ch] [ebp-4h] BYREF

  v5 = 0;
  CRWLock::ReadLock(&unk_4E2170);
  v4 = a1;
  sub_44AE20(dword_4E214C, &v6, &v4);
  v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E214C, (int)v3);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v6,
         v1) )
  {
    v5 = *(_DWORD *)(sub_420250(&v6) + 4);
    sub_4010D0(v5);
  }
  CRWLock::ReadUnlock(&unk_4E2170);
  return (volatile int *)v5;
}

//----- (0047E880) --------------------------------------------------------
void CServer::Relogin()
{
  int v0; // eax
  CLink *v1; // [esp-14h] [ebp-20h]
  CLink *v2; // [esp-10h] [ebp-1Ch]
  CLink *v3; // [esp-Ch] [ebp-18h]
  CLink *v4; // [esp-8h] [ebp-14h]
  CLink *v5; // [esp-4h] [ebp-10h]
  CLink *v6; // [esp+0h] [ebp-Ch]
  CLink *v7; // [esp+4h] [ebp-8h]
  CLink *i; // [esp+8h] [ebp-4h]

  if ( dword_4E2168 != -1 )
  {
    CRWLock::ReadLock(&unk_4E2170);
    for ( i = dword_4E2140.m_pNext; i != &dword_4E2140; i = i->m_pNext )
    {
      v6 = i - 14;
      v7 = i[5].m_pNext;
      if ( v7 )
      {
        v5 = v6[20].m_pNext;
        v4 = v6[21].m_pNext;
        v3 = v6[19].m_pPrev;
        v2 = v6[17].m_pNext;
        v1 = v6[17].m_pPrev;
        v0 = sub_458680(v6);
        CAuthSocket::Write(3, "dddwbdd", v0, v7, v1, v2, v3, v4, v5);
      }
    }
    CRWLock::ReadUnlock(&unk_4E2170);
  }
}
// 4E2168: using guessed type int dword_4E2168;

//----- (0047E940) --------------------------------------------------------
_DWORD *__stdcall CServer::CreateSocket(int a1, int a2)
{
  _DWORD *v3; // [esp+0h] [ebp-10h]
  CMemory **v4; // [esp+8h] [ebp-8h]

  v4 = sub_401000(0x11Cu);
  if ( v4 )
    v3 = sub_4942C0(v4, a1, a2);
  else
    v3 = 0;
  return v3;
}

//----- (0047E990) --------------------------------------------------------
int __thiscall sub_47E990(std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const ,CSocket *> >,0> > *this, const int *a2)
{
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  sub_472C30(
    this,
    (std::pair<std::vector<KMailSystem::CMailinfo>::iterator,std::vector<KMailSystem::CMailinfo>::iterator> *)&v5,
    a2);
  v7 = 0;
  std::_Distance<std::_Tree<std::_Tmap_traits<int,CSocket *,std::less<int>,std::allocator<std::pair<int const,CSocket *>>,0>>::iterator,unsigned int>(
    v5,
    v6,
    &v7);
  sub_47E9F0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v4,
    v5,
    v6);
  return v7;
}

//----- (0047E9F0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_47E9F0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_47EAB0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0047EA90) --------------------------------------------------------
unsigned int __thiscall sub_47EA90(int this)
{
  return std::allocator<std::pair<char const * const,int>>::max_size((std::allocator<std::pair<int const ,CGame_Character::TargetInfo> > *)(this + 3));
}

//----- (0047EAB0) --------------------------------------------------------
_DWORD *__thiscall sub_47EAB0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_47EB60(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0047EB10) --------------------------------------------------------
void *__thiscall sub_47EB10(_DWORD *this, void *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_4789A0(this, a3);
  sub_446700(a2, v3);
  return a2;
}

//----- (0047EB40) --------------------------------------------------------
int __thiscall sub_47EB40(int *this)
{
  return sub_430F90(this[1]);
}

//----- (0047EB60) --------------------------------------------------------
int __stdcall sub_47EB60(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_47EB60(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0047EBE0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_47EBE0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(this, (int)&v4, (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0047EC10) --------------------------------------------------------
int *__thiscall sub_47EC10(int *this)
{
  int *result; // eax

  this[1] = (int)sub_4471B0();
  *(_BYTE *)sub_431110(this[1]) = 1;
  *(_DWORD *)sub_478AB0(this) = this[1];
  *(_DWORD *)sub_418790(this) = this[1];
  *(_DWORD *)sub_47EB40(this) = this[1];
  result = this;
  this[2] = 0;
  return result;
}

//----- (0047EC80) --------------------------------------------------------
CIOServer *__thiscall sub_47EC80(CIOServer *this)
{
  CIOServer::CIOServer(this);
  *(_DWORD *)this = &off_4BC224;
  return this;
}
// 4BC224: using guessed type int (__stdcall *off_4BC224)(int);

//----- (0047ECA0) --------------------------------------------------------
void *__thiscall sub_47ECA0(void *this, char a2)
{
  sub_47ECD0((CWin32FileIO *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0047ECD0) --------------------------------------------------------
void __thiscall sub_47ECD0(CWin32FileIO *this)
{
  CAnger::~CAnger(this);
}

//----- (0047ECF0) --------------------------------------------------------
int __thiscall sub_47ECF0(void *this)
{
  return sub_47ED10(this);
}

//----- (0047ED10) --------------------------------------------------------
int __thiscall sub_47ED10(void *this)
{
  return sub_47ED30((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0047ED30) --------------------------------------------------------
int __thiscall sub_47ED30(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_47E9F0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0047EDE0) --------------------------------------------------------
_DWORD *__thiscall sub_47EDE0(_DWORD *this)
{
  CBase::CBase((int)this);
  *this = &off_4BC240;
  this[23] = 0;
  this[22] = 0;
  this[21] = 0;
  this[20] = 0;
  this[19] = 0;
  this[18] = 0;
  this[17] = 0;
  this[16] = 0;
  this[15] = 0;
  this[14] = 0;
  this[13] = 0;
  this[12] = 0;
  this[11] = 0;
  this[10] = 0;
  this[9] = 0;
  this[8] = 0;
  return this;
}
// 4BC240: using guessed type int (__stdcall *off_4BC240)(int);

//----- (0047EEA0) --------------------------------------------------------
void *__thiscall sub_47EEA0(void *this, char a2)
{
  sub_47EED0((std::locale::facet *)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (0047EED0) --------------------------------------------------------
void __thiscall sub_47EED0(std::locale::facet *this)
{
  CBase::_CBase(this);
}

//----- (0047EEF0) --------------------------------------------------------
int __thiscall sub_47EEF0(_DWORD *this, int a2, int a3)
{
  lisp::var *v3; // eax
  lisp::var *v4; // eax
  lisp::var *v5; // eax
  lisp::var *v6; // eax
  lisp::var *v7; // eax
  lisp::var *v8; // eax
  lisp::var *v9; // eax
  lisp::var *v10; // eax
  lisp::var *v11; // eax
  int v12; // esi
  lisp::var *v13; // eax
  lisp::var *v14; // eax
  lisp::var *v15; // eax
  lisp::var *v16; // eax
  lisp::var *v17; // eax
  lisp::var *v18; // eax
  lisp::var *v19; // eax
  lisp::var *v20; // eax
  int result; // eax
  _DWORD v22[3]; // [esp-4h] [ebp-58h] BYREF
  void *v23; // [esp+8h] [ebp-4Ch]
  char v24[4]; // [esp+10h] [ebp-44h] BYREF
  char v25[4]; // [esp+14h] [ebp-40h] BYREF
  char v26[4]; // [esp+18h] [ebp-3Ch] BYREF
  char v27[4]; // [esp+1Ch] [ebp-38h] BYREF
  char v28[4]; // [esp+20h] [ebp-34h] BYREF
  char v29[4]; // [esp+24h] [ebp-30h] BYREF
  char v30[4]; // [esp+28h] [ebp-2Ch] BYREF
  char v31[4]; // [esp+2Ch] [ebp-28h] BYREF
  char v32[4]; // [esp+30h] [ebp-24h] BYREF
  char v33[4]; // [esp+34h] [ebp-20h] BYREF
  char v34[4]; // [esp+38h] [ebp-1Ch] BYREF
  char v35[4]; // [esp+3Ch] [ebp-18h] BYREF
  char v36[4]; // [esp+40h] [ebp-14h] BYREF
  char v37[4]; // [esp+44h] [ebp-10h] BYREF
  char v38[4]; // [esp+48h] [ebp-Ch] BYREF
  char v39[4]; // [esp+4Ch] [ebp-8h] BYREF
  char v40[4]; // [esp+50h] [ebp-4h] BYREF

  v23 = this;
  v22[2] = a2 - 2;
  switch ( a2 )
  {
    case 2:
      v4 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v39);
      *((_DWORD *)v23 + 9) = sub_40C8D0(v4);
      goto LABEL_17;
    case 15:
      v5 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v38);
      *((_DWORD *)v23 + 17) = sub_40C8D0(v5);
      goto LABEL_17;
    case 38:
      v3 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v40);
      *((_DWORD *)v23 + 8) = sub_40C8D0(v3);
      goto LABEL_17;
    case 39:
      v14 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v30);
      *((_DWORD *)v23 + 10) = sub_40C8D0(v14);
      v15 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v29);
      *((_DWORD *)v23 + 11) = 1 << sub_40C8D0(v15);
      v16 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v28);
      *((_DWORD *)v23 + 12) = sub_40C8D0(v16);
      v17 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v27);
      *((_DWORD *)v23 + 13) = sub_40C8D0(v17);
      goto LABEL_17;
    case 60:
      v7 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v36);
      *((_DWORD *)v23 + 19) = sub_40C8D0(v7);
      v8 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v35);
      *((_DWORD *)v23 + 20) = *((_DWORD *)v23 + 19) + sub_40C8D0(v8);
      v9 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v34);
      *((_DWORD *)v23 + 21) = sub_40C8D0(v9);
      goto LABEL_17;
    case 61:
      v6 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v37);
      *((_DWORD *)v23 + 18) = sub_40C8D0(v6);
      goto LABEL_17;
    case 62:
      v10 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v33);
      *((_DWORD *)v23 + 22) = sub_40C8D0(v10);
      goto LABEL_17;
    case 63:
      v11 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v32);
      *((_DWORD *)v23 + 23) = sub_40C8D0(v11);
      while ( !(unsigned __int8)sub_402380(&a3) )
      {
        v12 = *((_DWORD *)v23 + 23) << 8;
        v13 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v31);
        *((_DWORD *)v23 + 23) = (unsigned __int8)sub_40C8D0(v13) | v12;
      }
      goto LABEL_17;
    case 81:
      v18 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v26);
      *((_DWORD *)v23 + 14) = sub_40C8D0(v18);
      goto LABEL_17;
    case 94:
      v19 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v25);
      *((_DWORD *)v23 + 15) = sub_40C8D0(v19);
      goto LABEL_17;
    case 97:
      v20 = lisp::var::pop((lisp::var *)&a3, (lisp::var *)v24);
      *((_DWORD *)v23 + 16) = sub_40C8D0(v20);
LABEL_17:
      result = 1;
      break;
    default:
      v22[0] = a2 - 2;
      sub_402340(v22, &a3);
      result = CBase::Set(v23, a2, v22[0]);
      break;
  }
  return result;
}

//----- (0047F1E0) --------------------------------------------------------
int __thiscall CInitSkill::OnLoad(_DWORD *this)
{
  int v1; // eax
  int result; // eax
  char v4[4]; // [esp+8h] [ebp-10h] BYREF
  int v5; // [esp+Ch] [ebp-Ch] BYREF
  int v6; // [esp+10h] [ebp-8h] BYREF
  _DWORD *v7; // [esp+14h] [ebp-4h]

  switch ( this[8] )
  {
    case 0xFFFFFFFE:
      if ( this[9] < dword_4E2188 )
      {
        v7 = (_DWORD *)dword_4E2690[this[9]];
        goto LABEL_10;
      }
      LOG_ERR("CInitSkill::OnLoad() Invalid Monster Skill Index (%d)", this[9]);
      result = 0;
      break;
    case 0xFFFFFFFF:
      v7 = (_DWORD *)dword_4E2568[this[9]];
      goto LABEL_10;
    case 0:
    case 1:
    case 2:
      v5 = this[9] + (this[8] << 16);
      sub_446130(dword_4E218C, &v6, (int)&v5);
      v1 = sub_430C20(dword_4E218C, (int)v4);
      if ( (unsigned __int8)unknown_libname_8(v1) )
      {
        result = 0;
      }
      else
      {
        v7 = *(_DWORD **)(sub_420250(&v6) + 4);
LABEL_10:
        v7[1] = this[9];
        v7[3] = this[10];
        v7[4] = this[11];
        v7[5] = this[12];
        v7[6] = this[13];
        v7[7] = this[14];
        v7[8] = this[15];
        v7[17] = this[16];
        v7[9] = this[17];
        v7[13] = this[18];
        v7[10] = this[19];
        v7[11] = this[20];
        v7[12] = this[21];
        v7[14] = this[22];
        v7[15] = this[23];
        this[23] = 0;
        this[22] = 0;
        this[21] = 0;
        this[20] = 0;
        this[19] = 0;
        this[18] = 0;
        this[17] = 0;
        this[16] = 0;
        this[15] = 0;
        this[14] = 0;
        this[13] = 0;
        this[12] = 0;
        this[11] = 0;
        this[10] = 0;
        this[9] = 0;
        this[8] = 0;
        result = 1;
      }
      break;
    default:
      LOG_ERR("CInitSkill::OnLoad() Invalid Skill Class (%d)", this[8]);
      result = 0;
      break;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E2188: using guessed type int dword_4E2188;
// 4E218C: using guessed type int dword_4E218C[3];
// 4E2568: using guessed type int dword_4E2568[];
// 4E2690: using guessed type int dword_4E2690[];

//----- (0047F450) --------------------------------------------------------
_DWORD *__thiscall sub_47F450(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  memset(this + 2, 0, 0x150u);
  this[86] = 0;
  this[87] = 0;
  this[88] = 0;
  memset(this + 89, 0, 0x24u);
  return this;
}

//----- (0047F4D0) --------------------------------------------------------
LONG __thiscall CPlayerSkill::_CPlayerSkill(_DWORD *this)
{
  LONG result; // eax
  int v3; // [esp+4h] [ebp-10h]
  int j; // [esp+8h] [ebp-Ch]
  int v5; // [esp+Ch] [ebp-8h]
  int i; // [esp+10h] [ebp-4h]

  for ( i = 0; i < 84; ++i )
  {
    v5 = this[i + 2];
    if ( v5 )
      sub_48D900(v5);
    result = i + 1;
  }
  for ( j = 0; j < 9; ++j )
  {
    result = j;
    v3 = this[j + 89];
    if ( v3 )
      result = sub_48D900(v3);
  }
  return result;
}

//----- (0047F560) --------------------------------------------------------
int sub_47F560()
{
  int result; // eax
  char v1[8]; // [esp+0h] [ebp-10h] BYREF
  int i; // [esp+8h] [ebp-8h]
  int v3; // [esp+Ch] [ebp-4h]

  v3 = 152;
  for ( i = 0; i < v3; ++i )
  {
    sub_48D6D0(
      dword_4E218C,
      (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v1,
      (const std::pair<int const ,CGame_Character::TargetInfo> *)(8 * i + 5120424));
    if ( !v1[4] )
      LOG_ERR("Duplicate key at Skill Map. (%x)", *(_DWORD *)&dword_4E21A8[8 * i]);
    result = i + 1;
  }
  return result;
}
// 4E218C: using guessed type int dword_4E218C[3];

//----- (0047F5D0) --------------------------------------------------------
int CPlayerSkill::Close()
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v0; // eax
  int result; // eax
  int v2; // eax
  char v3[4]; // [esp+8h] [ebp-14h] BYREF
  int v4; // [esp+Ch] [ebp-10h] BYREF
  void *v5; // [esp+10h] [ebp-Ch]
  int i; // [esp+14h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v7; // [esp+18h] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)dword_4E218C,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v0 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E218C, (int)v3);
    result = std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
               &v7,
               v0);
    if ( !(_BYTE)result )
      break;
    v2 = sub_420250(&v7);
    sub_401020(*(void **)(v2 + 4));
    sub_446090((int *)&v7, &v4, 0);
  }
  for ( i = 0; i < 9; ++i )
  {
    v5 = (void *)dword_4E2668[i];
    if ( v5 )
      sub_401020(v5);
    result = i + 1;
  }
  return result;
}
// 4E218C: using guessed type int dword_4E218C[3];
// 4E2668: using guessed type int dword_4E2668[];

//----- (0047F680) --------------------------------------------------------
int __thiscall sub_47F680(_DWORD *this, int a2)
{
  int result; // eax

  *this = a2;
  result = a2;
  this[1] = *(_DWORD *)(a2 + 460);
  return result;
}

//----- (0047F6B0) --------------------------------------------------------
void __thiscall CPlayerSkill::SetSkill(_DWORD *this, int a2, int a3)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v3; // eax
  int v4; // eax
  char v6[4]; // [esp+4h] [ebp-10h] BYREF
  int v7; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v8; // [esp+Ch] [ebp-8h]
  int v9; // [esp+10h] [ebp-4h] BYREF

  if ( a2 < 84 )
  {
    v7 = a2 + (this[1] << 16);
    sub_446130(dword_4E218C, &v9, (int)&v7);
    v3 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20(dword_4E218C, (int)v6);
    if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
           (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v9,
           v3) )
    {
      v4 = sub_420250(&v9);
      v8 = sub_47F760(*(const void **)(v4 + 4));
      sub_47F780(v8, a2, a3);
      this[a2 + 2] = v8;
    }
    else
    {
      LOG_ERR("CPlayerSkill::SetSkill() Can't find Skill(Class:%d, Skill:%d)", this[1], a2);
    }
  }
}
// 4E218C: using guessed type int dword_4E218C[3];

//----- (0047F760) --------------------------------------------------------
void *__thiscall sub_47F760(const void *this)
{
  _DWORD *v1; // eax

  v1 = CMemoryPool_CSkill::_Alloc();
  return memcpy(v1, this, 0x4Cu);
}

//----- (0047F780) --------------------------------------------------------
int __thiscall sub_47F780(_DWORD *this, int a2, int a3)
{
  int result; // eax

  this[1] = a2;
  result = a3;
  this[2] = a3;
  return result;
}

//----- (0047F7A0) --------------------------------------------------------
void __thiscall sub_47F7A0(int *this, int a2)
{
  int v2; // eax
  char v4[4]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+8h] [ebp-Ch] BYREF
  _DWORD *v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  if ( a2 < 84 && !sub_44A940(this, a2) )
  {
    v5 = a2 + (this[1] << 16);
    sub_446130(dword_4E218C, &v7, (int)&v5);
    v2 = sub_430C20(dword_4E218C, (int)v4);
    if ( !(unsigned __int8)unknown_libname_8(v2) )
    {
      v6 = *(_DWORD **)(sub_420250(&v7) + 4);
      if ( (*(int (__thiscall **)(_DWORD *, _DWORD, _DWORD))(*v6 + 60))(
             v6,
             *(_DWORD *)(*this + 60),
             *(_DWORD *)(*this + 464)) )
      {
        if ( sub_47F910(this, v6[5], v6[6]) )
        {
          v6 = sub_47F760(v6);
          sub_47F780(v6, a2, 1);
          (*(void (__thiscall **)(_DWORD *, int, _DWORD, _DWORD))(*v6 + 8))(v6, *this, 0, 0);
          this[a2 + 2] = (int)v6;
          if ( CPlayerSkill::IsSpendSUPointSkill(this, a2) )
            (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)*this + 88))(*this, 24, 0, 1);
          CPlayer::Write(*this, 81, "bb", a2, 1);
          CDBSocket::Write(9, "dbw", *(_DWORD *)(*this + 452), a2, *(_DWORD *)(*this + 548));
        }
      }
    }
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E218C: using guessed type int dword_4E218C[3];

//----- (0047F910) --------------------------------------------------------
int __thiscall sub_47F910(_DWORD *this, int a2, int a3)
{
  int v5; // [esp+8h] [ebp-4h]

  if ( !a2 )
    return 1;
  v5 = this[a2 + 2];
  if ( !a3 )
    return this[a2 + 2];
  return v5 && *(_DWORD *)(v5 + 8) >= a3;
}

//----- (0047F970) --------------------------------------------------------
void __thiscall CPlayerSkill::SkillUp(int this, signed int a2)
{
  int v3; // [esp+4h] [ebp-8h]
  _DWORD *v4; // [esp+8h] [ebp-4h]

  if ( a2 < 84 )
  {
    v4 = *(_DWORD **)(this + 4 * a2 + 8);
    if ( v4 )
    {
      if ( (*(int (__thiscall **)(_DWORD *, _DWORD))(*v4 + 44))(v4, *(_DWORD *)this) )
      {
        v3 = v4[2] + 1;
        (*(void (__thiscall **)(_DWORD *, _DWORD, int, int))(*v4 + 8))(v4, *(_DWORD *)this, v3, 1);
        v4[2] = v3;
        if ( CPlayerSkill::IsSpendSUPointSkill((_DWORD *)this, a2) )
          (*(void (__cdecl **)(_DWORD, int, _DWORD, int))(**(_DWORD **)this + 88))(*(_DWORD *)this, 24, 0, 1);
        CPlayer::Write(*(_DWORD *)this, 81, "bb", a2, v3);
        CDBSocket::Write(10, "dbbw", *(_DWORD *)(*(_DWORD *)this + 452), a2, v3, *(_DWORD *)(*(_DWORD *)this + 548));
      }
    }
  }
}

//----- (0047FA60) --------------------------------------------------------
void __thiscall CPlayerSkill::CheatSkill(int *this, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  char v6[4]; // [esp+4h] [ebp-10h] BYREF
  int v7; // [esp+8h] [ebp-Ch] BYREF
  int v8; // [esp+Ch] [ebp-8h] BYREF
  _DWORD *v9; // [esp+10h] [ebp-4h]

  v9 = (_DWORD *)this[a2 + 2];
  if ( v9 )
  {
    (*(void (__thiscall **)(_DWORD *, int, int, int))(*v9 + 8))(v9, *this, a3, 1);
    v9[2] = a3;
  }
  else
  {
    v7 = a2 + (this[1] << 16);
    sub_446130(dword_4E218C, &v8, (int)&v7);
    v3 = sub_430C20(dword_4E218C, (int)v6);
    if ( (unsigned __int8)unknown_libname_8(v3) )
      return;
    v4 = sub_420250(&v8);
    this[a2 + 2] = (int)sub_47F760(*(const void **)(v4 + 4));
    v9 = (_DWORD *)this[a2 + 2];
    sub_47F780(v9, a2, a3);
    (*(void (__thiscall **)(_DWORD *, int, _DWORD, _DWORD))(*v9 + 8))(v9, *this, 0, 0);
  }
  CPlayer::Write(*this, 81, "bb", a2, a3);
  CDBSocket::Write(9, "dbw", *(_DWORD *)(*this + 452), a2, *(_DWORD *)(*this + 548));
  CDBSocket::Write(10, "dbbw", *(_DWORD *)(*this + 452), a2, a3, *(_DWORD *)(*this + 548));
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E218C: using guessed type int dword_4E218C[3];

//----- (0047FBB0) --------------------------------------------------------
int __thiscall CPlayerSkill::ExcuteSkill(_DWORD *this, int a2, int a3, int a4)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-4h]

  if ( a2 < 84 )
  {
    result = a2;
    v5 = this[a2 + 2];
    if ( v5 )
      result = (*(int (__thiscall **)(int, _DWORD, int, int))(*(_DWORD *)v5 + 4))(v5, *this, a3, a4);
  }
  return result;
}

//----- (0047FC00) --------------------------------------------------------
int __thiscall sub_47FC00(_DWORD *this)
{
  int result; // eax
  int v3; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]

  for ( i = 0; i < 84; ++i )
  {
    v3 = this[i + 2];
    if ( v3 )
      (*(void (__thiscall **)(int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)v3 + 8))(v3, *this, 0, 0);
    result = i + 1;
  }
  return result;
}

//----- (0047FC50) --------------------------------------------------------
int sub_47FC50(_DWORD *a1, int a2, ...)
{
  int result; // eax
  int v3; // [esp+4h] [ebp-4h]
  va_list va; // [esp+18h] [ebp+10h] BYREF

  va_start(va, a2);
  result = a2;
  v3 = a1[a2 + 2];
  if ( v3 )
    result = (*(int (__thiscall **)(int, _DWORD, char *))(*(_DWORD *)v3 + 12))(v3, *a1, va);
  return result;
}

//----- (0047FC90) --------------------------------------------------------
void __thiscall sub_47FC90(_DWORD *this, int a2, int a3, int a4)
{
  _DWORD *v5; // [esp+4h] [ebp-4h]
  int v6; // [esp+10h] [ebp+8h]

  if ( a2 >= 64 && a2 < 93 && *(_DWORD *)(*this + 1108) && sub_40B310((_DWORD *)*this, 512) )
  {
    v6 = a2 - 64;
    v5 = (_DWORD *)this[v6 + 89];
    if ( !v5 )
    {
      this[v6 + 89] = sub_47F760((const void *)dword_4E2668[v6]);
      v5 = (_DWORD *)this[v6 + 89];
    }
    if ( v5[14] == *(int *)(*this + 1112) >> 4 && (*(_DWORD *)(*this + 1112) & 0xF) >= v5[3] )
      (*(void (__thiscall **)(_DWORD *, _DWORD, int, int))(*v5 + 4))(v5, *this, a3, a4);
  }
}
// 4E2668: using guessed type int dword_4E2668[];

//----- (0047FD70) --------------------------------------------------------
int __thiscall CPlayerSkill::IsSpendSUPointSkill(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+4h] [ebp-8h]

  if ( a2 == 11 )
    return 0;
  if ( *(_DWORD *)(*this + 464) > 3u )
  {
    if ( a2 == 30 )
      return 0;
    v3 = *(_DWORD *)(*this + 460);
    if ( v3 )
    {
      if ( v3 == 1 && (*(_DWORD *)(*this + 464) & 8) != 0 && a2 == 61 )
        return 0;
    }
    else if ( (*(_DWORD *)(*this + 464) & 8) != 0 && (a2 == 18 || a2 == 14 || a2 == 35) )
    {
      return 0;
    }
  }
  else
  {
    v4 = *(_DWORD *)(*this + 460);
    if ( v4 )
    {
      if ( v4 == 1 )
      {
        if ( a2 == 5 )
          return 0;
        if ( a2 >= 17 && a2 <= 21 )
          return 0;
      }
      else if ( v4 == 2 )
      {
        if ( a2 == 7 )
          return 0;
        if ( a2 == 15 )
          return 0;
      }
    }
    else
    {
      if ( a2 == 14 && this[16] && *(_DWORD *)(this[16] + 8) == 1 )
        return 0;
      if ( a2 == 4 && this[6] && *(_DWORD *)(this[6] + 8) == 1 )
        return 0;
      if ( a2 == 6 && this[8] && *(_DWORD *)(this[8] + 8) == 1 )
        return 0;
      if ( a2 == 15 )
        return 0;
    }
  }
  return 1;
}

//----- (0047FF00) --------------------------------------------------------
void __thiscall CShieldAttack::CanSkillUp(CShieldAttack *this, CPlayer *pOwner)
{
  int v2; // [esp+0h] [ebp-Ch]
  int v3; // [esp+4h] [ebp-8h]

  if ( !pOwner )
    pOwner = *(CPlayer **)(*(_DWORD *)this + 60);
  if ( *(_DWORD *)(*(_DWORD *)this + 464) > 3u )
  {
    if ( pOwner == (CPlayer *)55 || pOwner == (CPlayer *)60 || pOwner == (CPlayer *)65 || pOwner == (CPlayer *)70 )
      CPlayerSkill::SkillUp((int *)this, 30);
    v2 = *(_DWORD *)(*(_DWORD *)this + 460);
    if ( v2 )
    {
      if ( v2 == 1 && (*(_DWORD *)(*(_DWORD *)this + 464) & 8) != 0 && pOwner == (CPlayer *)59 )
        sub_47F7A0((int *)this, 61);
    }
    else if ( (*(_DWORD *)(*(_DWORD *)this + 464) & 8) != 0 )
    {
      if ( pOwner == (CPlayer *)56 || pOwner == (CPlayer *)62 || pOwner == (CPlayer *)70 )
        CPlayerSkill::SkillUp((int *)this, 18);
      if ( pOwner == (CPlayer *)53 || pOwner == (CPlayer *)62 )
        CPlayerSkill::SkillUp((int *)this, 14);
      if ( pOwner == (CPlayer *)59 )
        sub_47F7A0((int *)this, 35);
      if ( pOwner == (CPlayer *)69 )
        CPlayerSkill::SkillUp((int *)this, 35);
    }
  }
  else
  {
    v3 = *(_DWORD *)(*(_DWORD *)this + 460);
    if ( v3 )
    {
      if ( v3 == 1 )
      {
        if ( pOwner == (CPlayer *)25 )
          sub_47F7A0((int *)this, 5);
        if ( pOwner == (CPlayer *)35 )
          sub_47F7A0((int *)this, 18);
        if ( pOwner == (CPlayer *)40 )
          sub_47F7A0((int *)this, 19);
        if ( pOwner == (CPlayer *)45 )
          sub_47F7A0((int *)this, 20);
        if ( pOwner == (CPlayer *)50 )
          sub_47F7A0((int *)this, 21);
      }
      else if ( v3 == 2 )
      {
        if ( pOwner == (CPlayer *)25 )
          sub_47F7A0((int *)this, 15);
        if ( pOwner == (CPlayer *)35 || pOwner == (CPlayer *)40 || pOwner == (CPlayer *)45 || pOwner == (CPlayer *)50 )
          CPlayerSkill::SkillUp((int *)this, 7);
      }
    }
    else
    {
      if ( pOwner == (CPlayer *)15 )
        sub_47F7A0((int *)this, 14);
      if ( pOwner == (CPlayer *)18 )
        sub_47F7A0((int *)this, 4);
      if ( pOwner == (CPlayer *)25 )
        sub_47F7A0((int *)this, 15);
    }
  }
}

//----- (004800E0) --------------------------------------------------------
void __thiscall CPlayerSkill::ChangeOccupationAutoLearnSkill(int *this)
{
  int v1; // [esp+4h] [ebp-10h]
  int i; // [esp+Ch] [ebp-8h]
  int pOwner; // [esp+10h] [ebp-4h]

  if ( *(_DWORD *)(*this + 464) == 3 )
  {
    if ( *(int *)(*this + 60) < 30 )
    {
LABEL_3:
      LOG_ERR("CPlayerSkill::ChangeOccupationAutoLearnSkill()  not enough Level(%d)", *(_DWORD *)(*this + 60));
      return;
    }
    CPlayerSkill::SkillUp(this, 11);
    v1 = *(_DWORD *)(*this + 460);
    if ( v1 )
    {
      if ( v1 == 1 )
      {
        sub_47F7A0(this, 17);
      }
      else if ( v1 == 2 )
      {
        sub_47F7A0(this, 7);
      }
    }
    else
    {
      sub_47F7A0(this, 6);
    }
    for ( pOwner = 31; pOwner <= 50; ++pOwner )
      CShieldAttack::CanSkillUp((CShieldAttack *)this, (CPlayer *)pOwner);
  }
  else if ( *(_DWORD *)(*this + 464) > 3u )
  {
    if ( *(int *)(*this + 60) < 50 )
      goto LABEL_3;
    sub_47F7A0(this, 30);
    if ( !*(_DWORD *)(*this + 460) && (*(_DWORD *)(*this + 464) & 8) != 0 )
      sub_47F7A0(this, 18);
    for ( i = 51; i <= *(_DWORD *)(*this + 60); ++i )
      CShieldAttack::CanSkillUp((CShieldAttack *)this, (CPlayer *)i);
  }
}

//----- (00480240) --------------------------------------------------------
void __thiscall StoneOfChance(void *pSkill, unsigned int SkillId)
{
  _DWORD *v3; // [esp+8h] [ebp-4h]

  if ( (int)SkillId < 84 )
  {
    v3 = (_DWORD *)*((_DWORD *)pSkill + SkillId + 2);
    if ( v3 )
    {
      if ( v3[8]
        && (CPlayer::RemoveItem(*(CPlayer **)pSkill, 9, 362, 1) || CPlayer::RemoveItem(*(CPlayer **)pSkill, 9, 502, 1)) )
      {
        if ( (*(int (__thiscall **)(_DWORD *, _DWORD))(*v3 + 48))(v3, *(_DWORD *)pSkill) )
          sub_401020(v3);
      }
    }
  }
}

//----- (004802D0) --------------------------------------------------------
void __thiscall CPlayerSkill::RedistributeAll(int this)
{
  _DWORD *v2; // [esp+8h] [ebp-8h]
  int i; // [esp+Ch] [ebp-4h]

  for ( i = 0; i < 84; ++i )
  {
    v2 = *(_DWORD **)(this + 4 * i + 8);
    if ( v2 && v2[8] )
    {
      if ( (*(int (__thiscall **)(_DWORD *, _DWORD))(*v2 + 48))(v2, *(_DWORD *)this) )
        sub_401020(v2);
    }
  }
}

//----- (00480340) --------------------------------------------------------
void __thiscall sub_480340(_DWORD *this, int a2)
{
  void *v2; // [esp+8h] [ebp-4h]

  v2 = (void *)this[a2 + 2];
  if ( v2 )
  {
    if ( (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)v2 + 48))(v2, *this) )
      sub_401020(v2);
  }
}

//----- (00480390) --------------------------------------------------------
int __thiscall sub_480390(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+4h] [ebp-4h]

  if ( a2 >= 64 )
    return 1;
  v4 = this[a2 + 2];
  if ( v4 )
    result = (*(int (__thiscall **)(int, _DWORD, int))(*(_DWORD *)v4 + 64))(v4, *this, a3);
  else
    result = 0;
  return result;
}

//----- (004803E0) --------------------------------------------------------
void __thiscall CPlayerSkill::Redis2ndJobSkill(int *this)
{
  _DWORD *v2; // [esp+14h] [ebp-14h]
  _DWORD *v3; // [esp+18h] [ebp-10h]
  _DWORD *v4; // [esp+1Ch] [ebp-Ch]
  _DWORD *v5; // [esp+20h] [ebp-8h]
  int i; // [esp+24h] [ebp-4h]

  for ( i = 0; i < 84; ++i )
  {
    v5 = (_DWORD *)this[i + 2];
    if ( v5 && v5[8] )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int))(*v5 + 48))(v5, *this) )
        sub_401020(v5);
    }
  }
  if ( *(_DWORD *)(*this + 460) )
  {
    if ( *(_DWORD *)(*this + 460) == 1 && (*(_DWORD *)(*this + 464) & 4) != 0 )
    {
      v2 = (_DWORD *)this[63];
      if ( v2 )
      {
        if ( sub_481150(v2, (_DWORD *)*this) )
          sub_401020(v2);
      }
    }
  }
  else if ( (*(_DWORD *)(*this + 464) & 4) != 0 )
  {
    v3 = (_DWORD *)this[20];
    if ( v3 && sub_481150(v3, (_DWORD *)*this) )
      sub_401020(v3);
    v4 = (_DWORD *)this[37];
    if ( v4 && sub_481150(v4, (_DWORD *)*this) )
      sub_401020(v4);
  }
  CPlayerSkill::ChangeOccupationAutoLearnSkill(this);
}

//----- (00480540) --------------------------------------------------------
void __thiscall CMysticArrow::Apply(CMysticArrow *this)
{
  int v1; // eax
  char v3[4]; // [esp+8h] [ebp-44h] BYREF
  int v4[7]; // [esp+Ch] [ebp-40h] BYREF
  _DWORD *v5; // [esp+28h] [ebp-24h]
  _DWORD *v6; // [esp+2Ch] [ebp-20h]
  int v7; // [esp+30h] [ebp-1Ch] BYREF
  void *v8; // [esp+34h] [ebp-18h]
  CSkill *v9; // [esp+38h] [ebp-14h]
  _DWORD *v10; // [esp+3Ch] [ebp-10h]
  void *v11; // [esp+40h] [ebp-Ch]
  void *v12; // [esp+44h] [ebp-8h]
  int i; // [esp+48h] [ebp-4h]

  for ( i = 0; i < 84; ++i )
  {
    v12 = (void *)*(&this->m_nLevel + i);
    if ( v12 && *((_DWORD *)v12 + 8) )
    {
      if ( (*(int (__thiscall **)(void *, CMysticArrow_vtbl *))(*(_DWORD *)v12 + 48))(v12, this->__vftable) )
      {
        v4[6] = (int)v12;
        sub_401020(v12);
      }
    }
  }
  if ( this->__vftable[5].CanExcute )
  {
    if ( this->__vftable[5].CanExcute == (int (__thiscall *)(CSkill *, CPlayer *, CChar *))1 )
    {
      v6 = (_DWORD *)this->m_nLmtSkillLevel;
      (*((void (__cdecl **)(CMysticArrow_vtbl *, int, int, int))this->CanExcute + 22))(
        this->__vftable,
        24,
        1,
        v6[2] - 1);
      if ( v6 && sub_481150(v6, &this->CanExcute) )
      {
        v4[1] = (int)v6;
        sub_401020(v6);
      }
      v4[0] = (this->m_nSkill << 16) + 4;
      sub_446130(dword_4E218C, &v7, (int)v4);
      v1 = sub_430C20(dword_4E218C, (int)v3);
      if ( !(unsigned __int8)unknown_libname_8(v1) )
      {
        v6 = *(_DWORD **)(sub_420250(&v7) + 4);
        v6 = sub_47F760(v6);
        sub_47F780(v6, 4, 1);
        (*(void (__thiscall **)(_DWORD *, CMysticArrow_vtbl *, _DWORD, _DWORD))(*v6 + 8))(v6, this->__vftable, 0, 0);
        this->m_nLmtSkillLevel = (int)v6;
        CPlayer::Write((int)this->__vftable, 81, "bb", 4, 1);
        CDBSocket::Write(9, "dbw", this->__vftable[4].GetHit, 4, this->__vftable[5].AddMortal);
      }
      if ( ((int)this->__vftable[5].Excute & 4) != 0 )
      {
        v5 = (_DWORD *)this[3].m_nLmtSkillLevel;
        if ( v5 )
        {
          if ( sub_481150(v5, &this->CanExcute) )
            sub_401020(v5);
        }
      }
    }
  }
  else if ( ((int)this->__vftable[5].Excute & 4) != 0 )
  {
    v9 = this[1].m_pNext;
    if ( v9 && sub_481150(v9, &this->CanExcute) )
    {
      v4[5] = (int)v9;
      sub_401020(v9);
    }
    v10 = (_DWORD *)this[1].m_nContiCnt;
    if ( v10 && sub_481150(v10, &this->CanExcute) )
    {
      v4[4] = (int)v10;
      sub_401020(v10);
    }
    v11 = (void *)this->m_nLmtSkillLevel;
    if ( v10 && sub_481150(v10, &this->CanExcute) )
    {
      v4[3] = (int)v11;
      sub_401020(v11);
    }
    v8 = (void *)this->m_nRedistribute;
    if ( v10 && sub_481150(v10, &this->CanExcute) )
    {
      v4[2] = (int)v8;
      sub_401020(v8);
    }
  }
  CPlayerSkill::ChangeOccupationAutoLearnSkill((int *)this);
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E218C: using guessed type int dword_4E218C[3];

//----- (00480830) --------------------------------------------------------
CMonsterSkill *__thiscall CMonsterSkill::CMonsterSkill(CMonsterSkill *this)
{
  sub_48D680((std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)&this->m_mapMSkill);
  this->m_pOwner = 0;
  this->m_pCurSkill = 0;
  this->m_dwTick = 0;
  return this;
}

//----- (00480870) --------------------------------------------------------
int __thiscall sub_480870(int this)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v1; // eax
  int v2; // eax
  char v5[4]; // [esp+4h] [ebp-Ch] BYREF
  int v6; // [esp+8h] [ebp-8h] BYREF
  int v7; // [esp+Ch] [ebp-4h] BYREF

  std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 8),
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)&v7);
  while ( 1 )
  {
    v1 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(this + 8), (int)v5);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            (std::vector<CIOSocket::CIOTimer>::const_iterator *)&v7,
            v1) )
      break;
    v2 = sub_420250(&v7);
    sub_48D900(*(_DWORD *)(v2 + 4));
    sub_446090(&v7, &v6, 0);
  }
  return sub_4808E0((void *)(this + 8));
}

//----- (004808E0) --------------------------------------------------------
int __thiscall sub_4808E0(void *this)
{
  return sub_48D6B0(this);
}

//----- (00480900) --------------------------------------------------------
void sub_480900()
{
  dword_4E2188 = 41;
}
// 4E2188: using guessed type int dword_4E2188;

//----- (00480910) --------------------------------------------------------
int CMonsterSkill::Close()
{
  int result; // eax
  int i; // [esp+4h] [ebp-8h]
  int v2; // [esp+8h] [ebp-4h]

  result = dword_4E2188;
  v2 = dword_4E2188;
  dword_4E2188 = 0;
  for ( i = 0; i < v2; ++i )
    sub_401020((void *)dword_4E2690[i]);
  return result;
}
// 4E2188: using guessed type int dword_4E2188;
// 4E2690: using guessed type int dword_4E2690[];

//----- (00480970) --------------------------------------------------------
int __thiscall CMonsterSkill::SetCurSkill(_DWORD *this, int a2)
{
  int v3; // eax
  char v5[4]; // [esp+4h] [ebp-10h] BYREF
  int v6; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h]
  int v8; // [esp+10h] [ebp-4h] BYREF

  if ( this[1] )
    return 0;
  v6 = a2;
  sub_446130(this + 2, &v8, (int)&v6);
  v3 = sub_430C20(this + 2, (int)v5);
  if ( (unsigned __int8)unknown_libname_8(v3) )
    return 0;
  v7 = *(_DWORD *)(sub_420250(&v8) + 4);
  if ( GetTickCount() < *(_DWORD *)(v7 + 64) )
    return 0;
  this[1] = v7;
  return 1;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00480A00) --------------------------------------------------------
void __thiscall CMonsterSkill::SetCurSkillDefault(int this)
{
  int v1; // eax
  char v3[4]; // [esp+4h] [ebp-Ch] BYREF
  int v4; // [esp+8h] [ebp-8h]
  char v5[4]; // [esp+Ch] [ebp-4h] BYREF

  if ( !*(_DWORD *)(this + 4) )
  {
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)(this + 8),
      (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v5);
    v1 = sub_430C20((_DWORD *)(this + 8), (int)v3);
    if ( !(unsigned __int8)unknown_libname_8(v1) )
    {
      v4 = *(_DWORD *)(sub_420250(v5) + 4);
      if ( GetTickCount() >= *(_DWORD *)(v4 + 64) )
        *(_DWORD *)(this + 4) = v4;
    }
  }
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00480A80) --------------------------------------------------------
void __thiscall CMagic::ApplyPrtyIce(CMagic *this, CPlayer *pOwner, CChar *pChar, unsigned int dwReviseTick, int nResist, int nMagic)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v6; // eax
  int *v7; // eax
  int v8; // edx
  const std::pair<int const ,CGame_Character::TargetInfo> *v9; // eax
  char v11[8]; // [esp+8h] [ebp-2Ch] BYREF
  char v12[4]; // [esp+10h] [ebp-24h] BYREF
  int v13; // [esp+14h] [ebp-20h] BYREF
  char v14[8]; // [esp+18h] [ebp-1Ch] BYREF
  _DWORD *v15; // [esp+20h] [ebp-14h]
  int v16; // [esp+24h] [ebp-10h]
  int v17; // [esp+28h] [ebp-Ch]
  std::vector<CIOSocket::CIOTimer>::const_iterator v18; // [esp+2Ch] [ebp-8h] BYREF
  _DWORD *v19; // [esp+30h] [ebp-4h]

  v19 = (_DWORD *)(pOwner->m_nSocketRef + 288);
  sub_430C20(v19, (int)&v18);
  while ( 1 )
  {
    v6 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_445B40(v19, (int)v12);
    if ( !std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
            &v18,
            v6) )
      break;
    v7 = (int *)sub_420010(&v18);
    v8 = v7[1];
    v16 = *v7;
    v17 = v8;
    if ( v16 < dword_4E2188 )
    {
      v15 = sub_47F760((const void *)dword_4E2690[v16]);
      sub_47F780(v15, v16, v17);
      std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)v11);
      sub_48D6D0(
        &this->m_nLevel,
        (std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *)v14,
        v9);
      if ( !v14[4] )
        sub_48D900((int)v15);
    }
    sub_430E30((int *)&v18, &v13, 0);
  }
  this->__vftable = (CMagic_vtbl *)pOwner;
}
// 480B3A: variable 'v9' is possibly undefined
// 4E2188: using guessed type int dword_4E2188;
// 4E2690: using guessed type int dword_4E2690[];

//----- (00480B70) --------------------------------------------------------
int __thiscall CMonsterSkill::PreSkill(int *this, int a2)
{
  int v3; // [esp+0h] [ebp-14h]
  int v5; // [esp+Ch] [ebp-8h]
  DWORD v6; // [esp+10h] [ebp-4h]

  v6 = GetTickCount();
  if ( v6 < *(_DWORD *)(*this + 468) || !this[1] )
    return 0;
  if ( this[5] )
  {
    if ( v6 >= this[5] )
      return 1;
    (*(void (__thiscall **)(int, int))(*(_DWORD *)this[1] + 68))(this[1], *this);
  }
  else
  {
    v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)*this);
    if ( a2 )
      v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    else
      v3 = v5;
    CChar::WriteInSight(*this, 61, "dbbd", v5, 5, *(_DWORD *)(this[1] + 4), v3);
    this[5] = *(_DWORD *)(this[1] + 40) + v6;
  }
  return 0;
}

//----- (00480C50) --------------------------------------------------------
void __thiscall CMonsterSkill::ExcuteSkill(_DWORD *a1, volatile int *a5)
{
  if ( a5 )
  {
    CIOObject::AddRef((CIOObject *)a5, a5 + 88);
    (*(void (__thiscall **)(_DWORD, _DWORD, volatile int *))(*(_DWORD *)a1[1] + 72))(a1[1], *a1, a5);
    CIOObject::Release((CIOObject *)a5, a5 + 88);
  }
  else
  {
    (*(void (__thiscall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)a1[1] + 72))(a1[1], *a1, 0);
  }
  sub_480CD0(a1);
}

//----- (00480CD0) --------------------------------------------------------
_DWORD *__thiscall sub_480CD0(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  this[1] = 0;
  this[5] = 0;
  return result;
}

//----- (00480CF0) --------------------------------------------------------
void __thiscall CMonsterSkill::ExcuteSkillWithoutResetSkill(int a1, volatile int *a5)
{
  if ( a5 )
  {
    CIOObject::AddRef((CIOObject *)a5, a5 + 88);
    (*(void (__thiscall **)(_DWORD, _DWORD, volatile int *))(**(_DWORD **)(a1 + 4) + 72))(
      *(_DWORD *)(a1 + 4),
      *(_DWORD *)a1,
      a5);
    CIOObject::Release((CIOObject *)a5, a5 + 88);
  }
}

//----- (00480D40) --------------------------------------------------------
_DWORD *__thiscall sub_480D40(_DWORD *this)
{
  *this = &off_4BDD60;
  this[1] = -1;
  this[2] = 0;
  this[3] = 0;
  this[4] = 0;
  this[5] = 0;
  this[6] = 0;
  this[7] = 0;
  this[8] = 0;
  this[9] = 0;
  this[13] = 0;
  this[10] = 0;
  this[11] = 0;
  this[12] = 0;
  this[14] = 0;
  this[15] = 0;
  this[16] = 0;
  this[17] = 0;
  this[18] = 0;
  return this;
}
// 4BDD60: using guessed type int (__stdcall *off_4BDD60)(int, int);

//----- (00480E10) --------------------------------------------------------
int __thiscall CSkill::GetDelay(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-8h]

  if ( this[11] )
    v3 = this[11];
  else
    v3 = 1;
  return v3;
}

//----- (00480E40) --------------------------------------------------------
BOOL __thiscall sub_480E40(_DWORD *this, int a2, int a3)
{
  return a2 >= this[3] && (this[4] & a3) != 0;
}

//----- (00480E80) --------------------------------------------------------
BOOL __thiscall CSkill::CanExcute(void *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal(a3)
      && a2[79] == *(_DWORD *)(a3 + 316)
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *, int, _DWORD))(*a2 + 176))(a2, a3, 0);
}

//----- (00480F20) --------------------------------------------------------
int __thiscall sub_480F20(_DWORD *this, int a2)
{
  int v3; // [esp+0h] [ebp-14h]
  DWORD v5; // [esp+8h] [ebp-Ch]
  int v6; // [esp+Ch] [ebp-8h]
  DWORD v7; // [esp+10h] [ebp-4h]

  v6 = (*(int (__thiscall **)(_DWORD *, int))(*this + 36))(this, a2);
  v7 = GetTickCount();
  v5 = this[16];
  this[16] = v6 + v7;
  if ( v7 >= v5 )
    v3 = v6;
  else
    v3 = v7 + v6 - v5;
  return v3;
}

//----- (00480F80) --------------------------------------------------------
BOOL __stdcall sub_480F80(int a1, int a2)
{
  int v3; // [esp+4h] [ebp-4h]
  int v4; // [esp+4h] [ebp-4h]

  v3 = *(_DWORD *)(a1 + 60) - *(_DWORD *)(a2 + 60);
  if ( v3 <= 0 )
  {
    if ( v3 < -9 )
      v3 = -9;
    v4 = abs(v3);
  }
  else
  {
    if ( v3 > 3 )
      v3 = 3;
    v4 = v3 + 10;
  }
  return dword_4D8CAC[v4] >= RandomBetween(1, 100);
}

//----- (00481000) --------------------------------------------------------
BOOL __thiscall CSkill::CanSkillUp(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( this[2] < this[7] )
    result = *(_DWORD *)(a2 + 60) > this[3] + this[2] - 1;
  else
    result = 0;
  return result;
}

//----- (00481040) --------------------------------------------------------
int __thiscall sub_481040(void *this, int a2)
{
  int v2; // eax

  v2 = (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
  return (*(int (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v2);
}

//----- (00481070) --------------------------------------------------------
int __thiscall sub_481070(_DWORD *this, _DWORD *a2)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = dword_4D8D00[96 * a2[115] + this[1]];
  (*(void (__thiscall **)(_DWORD *, _DWORD *, int, int))(*this + 8))(this, a2, v4, 1);
  (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 88))(a2, 24, 1, this[2] - v4);
  this[2] = v4;
  CPlayer::Write((int)a2, 11, "bb", this[1], 0);
  CDBSocket::Write(22, "dbbw", a2[113], this[1], this[2], a2[137]);
  if ( v4 )
    return 0;
  a2[this[1] + 158] = 0;
  return 1;
}
// 4D8D00: using guessed type int dword_4D8D00[];

//----- (00481150) --------------------------------------------------------
int __thiscall sub_481150(_DWORD *this, _DWORD *a2)
{
  int v4; // [esp+4h] [ebp-4h]

  v4 = dword_4D8D00[96 * a2[115] + this[1]];
  (*(void (__thiscall **)(_DWORD *, _DWORD *, int, int))(*this + 8))(this, a2, v4, 1);
  this[2] = v4;
  CPlayer::Write((int)a2, 11, "bb", this[1], 1);
  CDBSocket::Write(22, "dbbw", a2[113], this[1], this[2], a2[137]);
  if ( v4 )
    return 0;
  a2[this[1] + 158] = 0;
  return 1;
}
// 4D8D00: using guessed type int dword_4D8D00[];

//----- (00481210) --------------------------------------------------------
void __thiscall CBoost::Excute(_DWORD *this, int a2, void *a3, int a4)
{
  char v5; // [esp+27h] [ebp-1h] BYREF

  ScanPacket((char *)a3, (char *)a4, "b", &v5);
  if ( v5 )
  {
    if ( !CChar::IsMState((_QWORD *)a2, 1i64)
      && *(_DWORD *)(a2 + 276) >= this[9]
      && !CPlayer::IsWearBuffStandard((_DWORD *)a2) )
    {
      if ( CChar::IsMState((_QWORD *)a2, 8i64) )
        CChar::CancelBuff((_DWORD *)a2, 2);
      if ( CChar::IsMState((_QWORD *)a2, 0x2000i64) )
        CChar::CancelBuff((_DWORD *)a2, 12);
      (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 104))(a2, 1, 0);
      CPlayer::Rest((void *)a2, 0);
      (*(void (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, 8, 0, this[9]);
    }
  }
  else if ( CChar::IsMState((_QWORD *)a2, 1i64) )
  {
    (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 124))(a2, 1, 0);
  }
}

//----- (00481330) --------------------------------------------------------
BOOL __stdcall CBehead::CanExcute(_DWORD *a1, _DWORD *a2)
{
  return CChar::IsNormal((int)a1)
      && a1[79] == a2[79]
      && CPlayer::IsWState(a1, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a2 + 64))(a2)
      && sub_40B310(a2, 1);
}

//----- (004813A0) --------------------------------------------------------
void __thiscall sub_4813A0(int a1, int a5, void *a6, int a7)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-1Ch]
  int v9; // [esp-4h] [ebp-14h]
  DWORD v11; // [esp+4h] [ebp-Ch] BYREF
  char v12; // [esp+Bh] [ebp-5h] BYREF
  CItem *item; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)a6, (char *)a7, "bd", &v12, &v11);
  item = (CItem *)CMonster::FindMonster(v11);
  if ( item )
  {
    if ( (**(int (__thiscall ***)(int, int, CItem *))a1)(a1, a5, item) )
    {
      v4 = CChar::GetMaxHP((CPlayer *)a5);
      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 88))(a5, 7, 1, v4 / 10);
      v5 = CChar::GetMaxMP((CPlayer *)a5);
      (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a5 + 88))(a5, 8, 1, v5 / 10);
      CChar::SetDirection(
        (_DWORD *)a5,
        (int)item[3].m_pMap - *(_DWORD *)(a5 + 332),
        item[3].m_ptPixel.x - *(_DWORD *)(a5 + 336));
      v9 = *(_DWORD *)(a1 + 8);
      v8 = std::_Mpunct<wchar_t>::do_frac_digits(item);
      v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbb", *(_DWORD *)(a1 + 4), v6, v8, 0, v9);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits(item);
      CChar::WriteInSight((int)item, 61, "db", v7, 10);
      CBase::Delete(item);
    }
    CIOObject::Release(item, &item[3].m_nKeyID);
  }
}

//----- (004814F0) --------------------------------------------------------
int __thiscall CUpWeapon::ExcutePassive(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int result; // eax

  if ( a4 )
  {
    a2[30] -= this[2] / 2;
    a2[33] -= this[2] / 2 + 1;
    a2[32] -= this[2] / 2 + 1;
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, a3 / 2);
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 12, 1, a3 / 2 + 1);
    result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 11, 1, a3 / 2 + 1);
  }
  else
  {
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, this[2] / 2);
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 12, 1, this[2] / 2 + 1);
    result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 11, 1, this[2] / 2 + 1);
  }
  return result;
}

//----- (00481630) --------------------------------------------------------
int __thiscall CCallLitning::Redistribute(CCallLitning *this, CPlayer *pOwner, int a3, int a4)
{
  int result; // eax

  if ( a4 )
  {
    *((_DWORD *)pOwner + 33) -= *((_DWORD *)this + 2);
    *((_DWORD *)pOwner + 32) -= *((_DWORD *)this + 2) / 2;
    (*(void (__cdecl **)(CPlayer *, int, int, int))(*(_DWORD *)pOwner + 92))(pOwner, 12, 1, a3);
    result = (*(int (__cdecl **)(CPlayer *, int, int, int))(*(_DWORD *)pOwner + 92))(pOwner, 11, 1, a3 / 2);
  }
  else
  {
    (*(void (__cdecl **)(CPlayer *, int, int, _DWORD))(*(_DWORD *)pOwner + 92))(pOwner, 12, 1, *((_DWORD *)this + 2));
    result = (*(int (__cdecl **)(CPlayer *, int, int, int))(*(_DWORD *)pOwner + 92))(
               pOwner,
               11,
               1,
               *((_DWORD *)this + 2) / 2);
  }
  return result;
}

//----- (004816F0) --------------------------------------------------------
int __thiscall sub_4816F0(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  if ( !a4 )
    return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, 2 * this[2]);
  a2[30] -= 2 * this[2];
  return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 9, 1, 2 * a3);
}

//----- (00481750) --------------------------------------------------------
void __thiscall sub_481750(_DWORD *a1, int a5, void *a6, int a7)
{
  int v4; // eax
  DWORD v5; // esi
  int v6; // eax
  int v7; // eax
  int v8; // [esp-18h] [ebp-48h]
  int v9; // [esp-10h] [ebp-40h]
  int v10; // [esp-Ch] [ebp-3Ch]
  int v11; // [esp-8h] [ebp-38h]
  int v12; // [esp-4h] [ebp-34h]
  int v14; // [esp+Ch] [ebp-24h] BYREF
  int v15; // [esp+10h] [ebp-20h] BYREF
  int v16; // [esp+14h] [ebp-1Ch] BYREF
  int v17; // [esp+18h] [ebp-18h]
  int v18; // [esp+1Ch] [ebp-14h]
  int v19; // [esp+20h] [ebp-10h]
  int a1a; // [esp+24h] [ebp-Ch] BYREF
  char v21; // [esp+2Bh] [ebp-5h] BYREF
  CIOObject *v22; // [esp+2Ch] [ebp-4h]

  ScanPacket((char *)a6, (char *)a7, "bd", &v21, &a1a);
  v22 = 0;
  if ( v21 )
  {
    if ( v21 == 1 )
      v22 = CMonster::FindMonster(a1a);
  }
  else
  {
    v22 = CPlayer::FindPlayer_(a1a);
  }
  if ( v22 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v22) )
    {
      v19 = sub_480F20(a1, a5);
      v5 = GetTickCount();
      *(_DWORD *)(a5 + 1448) = CChar::GetASpeed((CPlayer *)a5) + v5;
      CChar::SetDirection(
        (_DWORD *)a5,
        v22[20].m_nGeneralRef - *(_DWORD *)(a5 + 332),
        (int)v22[21].__vftable - *(_DWORD *)(a5 + 336));
      v16 = 0;
      v15 = 0;
      v14 = 0;
      v18 = 0;
      v17 = 0;
      v17 = ((int (__thiscall *)(CIOObject *, int))v22->__vftable[6].OnFree)(v22, a5);
      if ( !v17 )
      {
        v18 = (*(int (__thiscall **)(_DWORD *, int, CIOObject *, int, int *, int *, int *))(*a1 + 80))(
                a1,
                a5,
                v22,
                v19,
                &v16,
                &v14,
                &v15);
        if ( !v18 )
          v22->__vftable[3].OnTimer(v22, a5);
      }
      (*(void (__thiscall **)(_DWORD *, int))(*a1 + 56))(a1, a5);
      v12 = v18 | (2 * v14) | (4 * v17);
      v11 = v15;
      v10 = v16;
      v9 = a1[2];
      v8 = std::_Mpunct<wchar_t>::do_frac_digits(v22);
      v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbbwwb", a1[1], v6, v8, 1, v9, v10, v11, v12);
    }
    else if ( a1[10] )
    {
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 61, "db", v7, 0);
    }
    CIOObject::Release(v22, (volatile int *)&v22[22]);
  }
  else if ( a1[10] )
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
    CChar::WriteInSight(a5, 61, "db", v4, 0);
  }
}

//----- (00481970) --------------------------------------------------------
int *__stdcall sub_481970(int *a1)
{
  int *result; // eax

  result = a1;
  if ( a1[46] < 5 )
    result = (int *)(*(int (__cdecl **)(int *, int, int, int))(*a1 + 92))(a1, 36, 1, 1);
  return result;
}

//----- (004819A0) --------------------------------------------------------
BOOL __thiscall sub_4819A0(void *this, _DWORD *a2, int a3)
{
  return CSkill::CanExcute(this, a2, a3) && CPlayer::IsWState(a2, 12);
}

//----- (004819F0) --------------------------------------------------------
void __thiscall CUpBow::ExcutePassive(void *this, int a2, void *a3, int a4)
{
  int v4; // eax
  DWORD v5; // esi
  int v6; // eax
  unsigned int v7; // esi
  int v8; // eax
  int v9; // [esp-10h] [ebp-68h]
  int v10; // [esp-Ch] [ebp-64h]
  int v11; // [esp-Ch] [ebp-64h]
  int v12; // [esp-8h] [ebp-60h]
  int v13; // [esp-8h] [ebp-60h]
  int v14; // [esp-4h] [ebp-5Ch]
  int v15; // [esp-4h] [ebp-5Ch]
  int v16; // [esp+4h] [ebp-54h]
  unsigned int v18; // [esp+10h] [ebp-48h]
  int v19; // [esp+14h] [ebp-44h] BYREF
  int v20; // [esp+18h] [ebp-40h]
  int v21; // [esp+1Ch] [ebp-3Ch]
  int v22; // [esp+20h] [ebp-38h]
  int v23; // [esp+24h] [ebp-34h]
  int v24; // [esp+28h] [ebp-30h] BYREF
  int v25; // [esp+2Ch] [ebp-2Ch]
  CIOObject *v26; // [esp+30h] [ebp-28h]
  int v27; // [esp+34h] [ebp-24h]
  int v28; // [esp+38h] [ebp-20h] BYREF
  int v29; // [esp+3Ch] [ebp-1Ch]
  int v30; // [esp+40h] [ebp-18h]
  int v31; // [esp+44h] [ebp-14h]
  int v32; // [esp+48h] [ebp-10h]
  int a1; // [esp+4Ch] [ebp-Ch] BYREF
  char v34; // [esp+53h] [ebp-5h] BYREF
  CIOObject *v35; // [esp+54h] [ebp-4h]

  ScanPacket((char *)a3, (char *)a4, "bd", &v34, &a1);
  v35 = 0;
  if ( v34 )
  {
    if ( v34 == 1 )
      v35 = CMonster::FindMonster(a1);
  }
  else
  {
    v35 = CPlayer::FindPlayer_(a1);
  }
  if ( v35 )
  {
    if ( (**(int (__thiscall ***)(void *, int, CIOObject *))this)(this, a2, v35) )
    {
      v32 = sub_480F20(this, a2);
      v5 = GetTickCount();
      *(_DWORD *)(a2 + 1448) = CChar::GetASpeed((CPlayer *)a2) + v5;
      CChar::SetDirection(
        (_DWORD *)a2,
        v35[20].m_nGeneralRef - *(_DWORD *)(a2 + 332),
        (int)v35[21].__vftable - *(_DWORD *)(a2 + 336));
      v30 = 0;
      v29 = 0;
      v23 = v35[20].m_nGeneralRef - *(_DWORD *)(a2 + 332);
      v31 = (int)v35[21].__vftable - *(_DWORD *)(a2 + 336);
      if ( v23 )
      {
        if ( v31 )
        {
          v29 = *(_DWORD *)(a2 + 336) + v23 * *(_DWORD *)(a2 + 332) / v31;
          v30 = v29 - v23 * v35[20].m_nGeneralRef / v31 - (unsigned int)v35[21].__vftable;
        }
        else
        {
          v30 = v35[20].m_nGeneralRef - *(_DWORD *)(a2 + 332);
        }
      }
      else
      {
        v30 = (int)v35[21].__vftable - *(_DWORD *)(a2 + 336);
      }
      v25 = 0;
      v26 = (CIOObject *)sub_4935A0(*(void **)(a2 + 320), (int)&v35[20].m_nRef, 1);
      v28 = 0;
      v24 = 0;
      v27 = 0;
      while ( v26 )
      {
        v25 = unknown_libname_7(v26);
        if ( (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)a2 + 176))(a2, v25, 0)
          && sub_448870((_DWORD *)(a2 + 332), (_DWORD *)(v25 + 332)) <= *(_DWORD *)(a2 + 312) )
        {
          if ( v23 && v31 )
          {
            v22 = v29 - v23 * *(_DWORD *)(v25 + 332) / v31 - *(_DWORD *)(v25 + 336);
          }
          else
          {
            v16 = v23 ? *(_DWORD *)(v25 + 332) - *(_DWORD *)(a2 + 332) : *(_DWORD *)(v25 + 336) - *(_DWORD *)(a2 + 336);
            v22 = v16;
          }
          if ( (v22 ^ v30) >= 0 )
          {
            if ( CChar::IsNormal(v25) )
            {
              if ( *(_DWORD *)(a2 + 316) == *(_DWORD *)(v25 + 316) )
              {
                v19 = 0;
                v21 = 0;
                v20 = 0;
                v20 = ((int (__thiscall *)(CIOObject *, int))v35->__vftable[6].OnFree)(v35, a2);
                if ( !v20 )
                {
                  v6 = CChar::GetAttack((CPlayer *)a2);
                  v7 = v32 * (v6 + *((_DWORD *)this + 2) * 10 * v6 / 100);
                  v18 = v7 / (*(int (__thiscall **)(void *, int))(*(_DWORD *)this + 36))(this, a2);
                  v21 = (*(int (__thiscall **)(int, int, unsigned int, int *, int *, int *, void *))(*(_DWORD *)v25 + 72))(
                          v25,
                          a2,
                          v18,
                          &v28,
                          &v19,
                          &v24,
                          this);
                  if ( !v21 )
                    (*(void (__thiscall **)(int, int))(*(_DWORD *)v25 + 80))(v25, a2);
                  if ( v28 > 0 )
                  {
                    v27 = 1;
                    v14 = v24;
                    v12 = v28;
                    v10 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v25);
                    v9 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
                    CChar::WriteInSight(a2, 10, "bbddww", 13, *((_DWORD *)this + 1), v9, v10, v12, v14);
                  }
                }
              }
            }
          }
        }
        v26 = (CIOObject *)CBaseList::Pop(v26);
      }
      if ( v27 )
        (*(void (__thiscall **)(void *, int))(*(_DWORD *)this + 88))(this, a2);
      (*(void (__thiscall **)(void *, int))(*(_DWORD *)this + 56))(this, a2);
      v15 = *((_DWORD *)this + 2);
      v11 = std::_Mpunct<wchar_t>::do_frac_digits(v35);
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInSight(a2, 63, "bddbb", *((_DWORD *)this + 1), v8, v11, 0, v15);
    }
    else if ( *((_DWORD *)this + 10) )
    {
      v13 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInSight(a2, 61, "db", v13, 0);
    }
    CIOObject::Release(v35, (volatile int *)&v35[22]);
  }
  else if ( *((_DWORD *)this + 10) )
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 61, "db", v4, 0);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00481E80) --------------------------------------------------------
BOOL __thiscall CPullSwing::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 58;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 66;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 69;
  }
  return 0;
}

//----- (00481F10) --------------------------------------------------------
int __thiscall sub_481F10(_DWORD *this, CPlayer *a2)
{
  return this[11] + CChar::GetASpeed(a2);
}

//----- (00481F30) --------------------------------------------------------
int __thiscall CThunder::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 7);
  return sub_481070(this, a2);
}

//----- (00481F60) --------------------------------------------------------
int __thiscall sub_481F60(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  int v5; // [esp+0h] [ebp-Ch]

  v3 = Char::GetDex(a2);
  if ( 7 * this[2] * v3 / 4 / 2 + 50 >= 70 * this[2] + 200 )
    v5 = 70 * this[2] + 200;
  else
    v5 = 7 * this[2] * v3 / 4 / 2 + 50;
  return v5 + a3;
}

//----- (00481FD0) --------------------------------------------------------
int __thiscall CTranscendental::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 9);
  return sub_481070(this, a2);
}

//----- (00482000) --------------------------------------------------------
int __thiscall CBlow::Apply(void *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  unsigned int v9; // esi
  unsigned int v10; // eax
  int v13; // [esp+8h] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v13 = (*(int (__thiscall **)(void *, CPlayer *, int))(*(_DWORD *)this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
  if ( !CChar::CheckHit((int)a2, a3, v8) )
    return 0;
  v9 = a4 * a2->GetPalsyDamage(a2, (CChar *)a3);
  *a7 = v9 / (*(int (__thiscall **)(void *, CPlayer *))(*(_DWORD *)this + 36))(this, a2);
  v10 = (*(int (__thiscall **)(void *, CPlayer *, int, int, unsigned int *, void *))(*(_DWORD *)this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  return (*(int (__thiscall **)(_DWORD *, CPlayer *, unsigned int))(*a3 + 72))(a3, a2, a4 * v13 / v10);
}

//----- (004820C0) --------------------------------------------------------
int __stdcall CMagicWideSelf::ExcuteM(CMagicWideSelf *this, CMonster *pOwner, CChar *pChar)
{
  _DWORD *v3; // ecx
  _DWORD *v5; // [esp+0h] [ebp-4h]

  v5 = v3;
  sub_480340(&this[8].m_dwLmtSpecialty, 14);
  return sub_481070(v5, this);
}
// 4820C4: variable 'v3' is possibly undefined

//----- (004820F0) --------------------------------------------------------
int __thiscall CEdge::GetDelay(_DWORD *this, CPlayer *a2)
{
  return this[11] + CChar::GetASpeed(a2) - 100 * ((this[2] + 1) / 2);
}

//----- (00482130) --------------------------------------------------------
int __thiscall sub_482130(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 13);
  return sub_481070(this, a2);
}

//----- (00482160) --------------------------------------------------------
int __thiscall CEdge::Apply(int *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  CBuffMoveSpeed *v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // eax
  int v13; // [esp+0h] [ebp-Ch]
  int v15; // [esp+8h] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v15 = (*(int (__thiscall **)(int *, CPlayer *, int))(*this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(int *))(*this + 84))(this);
  if ( !CChar::CheckHit((int)a2, a3, v8) )
    return 0;
  if ( (*(int (__thiscall **)(int *, CPlayer *, _DWORD *))(*this + 40))(this, a2, a3) )
  {
    v9 = CBuff::CreateBuff(7, this[2], v13, (int)this);
    (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*a3 + 180))(a3, v9);
  }
  v10 = a4 * a2->GetPalsyDamage(a2, (CChar *)a3);
  *a7 = v10 / (*(int (__thiscall **)(int *, CPlayer *))(*this + 36))(this, a2);
  v11 = (*(int (__thiscall **)(int *, CPlayer *, int, int, unsigned int *, int *))(*this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  return (*(int (__thiscall **)(_DWORD *, CPlayer *, unsigned int))(*a3 + 72))(a3, a2, a4 * v15 / v11);
}
// 4821C5: variable 'v13' is possibly undefined
// 4821FB: variable 'this' is possibly undefined

//----- (00482260) --------------------------------------------------------
int __thiscall sub_482260(void *this, CPlayer *a2, _DWORD *a3, int a4, _DWORD *a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  unsigned int v9; // esi
  unsigned int v10; // eax
  int v13; // [esp+8h] [ebp-8h]
  int v14; // [esp+Ch] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v14 = (*(int (__thiscall **)(void *, CPlayer *, int))(*(_DWORD *)this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
  if ( !CChar::CheckHit((int)a2, a3, v8) )
    return 0;
  v9 = a4 * (*(int (__thiscall **)(CPlayer *, _DWORD *))(*(_DWORD *)a2 + 168))(a2, a3);
  *a7 = v9 / (*(int (__thiscall **)(void *, CPlayer *))(*(_DWORD *)this + 36))(this, a2);
  v10 = (*(int (__thiscall **)(void *, CPlayer *, _DWORD *, int, unsigned int *, void *))(*(_DWORD *)this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  v13 = (*(int (__thiscall **)(_DWORD *, CPlayer *, unsigned int))(*a3 + 72))(a3, a2, a4 * v14 / v10);
  if ( *a5 )
    (*(void (__thiscall **)(void *, CPlayer *))(*(_DWORD *)this + 88))(this, a2);
  return v13;
}

//----- (00482340) --------------------------------------------------------
int __thiscall CUpperSmash::GetAttack(_DWORD *this, int a2, int a3)
{
  return a3 + a3 * (10 * this[2] + 100) / 80;
}

//----- (00482370) --------------------------------------------------------
BOOL __thiscall CUpperSmash::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 57;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 63;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 68;
  }
  return 0;
}

//----- (004823E0) --------------------------------------------------------
BOOL __thiscall CInfernal::CanExcute(void *this, _DWORD *a2, int a3)
{
  return CSkill::CanExcute(this, a2, a3) && (int)a2[46] > 0;
}

//----- (00482430) --------------------------------------------------------
int __thiscall CInfernal::GetAttack(_DWORD *this, int a2, int a3)
{
  return this[2] * (5 * *(_DWORD *)(a2 + 184) + 25)
       + a3
       + 5 * *(_DWORD *)(a2 + 184)
       + 45
       + a3 * (20 * *(_DWORD *)(a2 + 184) + 2 * this[2] + 8) / 50;
}

//----- (00482490) --------------------------------------------------------
int __thiscall sub_482490(void *this, _DWORD *a2)
{
  int v2; // eax

  v2 = (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
  (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 88))(a2, 8, 0, v2);
  return (*(int (__cdecl **)(_DWORD *, int, _DWORD, _DWORD))(*a2 + 92))(a2, 36, 0, a2[46]);
}

//----- (004824E0) --------------------------------------------------------
BOOL __thiscall sub_4824E0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 63;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 67;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 70;
  }
  return 0;
}

//----- (00482570) --------------------------------------------------------
BOOL __thiscall CShieldAttack::CanExcute(void *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal(a3)
      && a2[79] == *(_DWORD *)(a3 + 316)
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 1)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *, int, _DWORD))(*a2 + 176))(a2, a3, 0);
}

//----- (00482610) --------------------------------------------------------
int __thiscall CShieldAttack::Apply(_DWORD *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  CBuffMoveSpeed *v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // eax
  int v13; // [esp+0h] [ebp-Ch]
  int v15; // [esp+8h] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v15 = (*(int (__thiscall **)(_DWORD *, CPlayer *, int))(*this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(_DWORD *))(*this + 84))(this);
  if ( !CChar::CheckHit((int)a2, a3, v8) )
    return 0;
  if ( (*(int (__thiscall **)(_DWORD *, CPlayer *, _DWORD *))(*this + 40))(this, a2, a3) )
  {
    v9 = CBuff::CreateBuff(7, 3 * this[2], v13, (int)this);
    (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*a3 + 180))(a3, v9);
  }
  v10 = a4 * a2->GetPalsyDamage(a2, (CChar *)a3);
  *a7 = v10 / (*(int (__thiscall **)(_DWORD *, CPlayer *))(*this + 36))(this, a2);
  v11 = (*(int (__thiscall **)(_DWORD *, CPlayer *, int, int, unsigned int *, _DWORD *))(*this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  return (*(int (__thiscall **)(_DWORD *, CPlayer *, unsigned int))(*a3 + 72))(a3, a2, a4 * v15 / v11);
}
// 482678: variable 'v13' is possibly undefined
// 4826AE: variable 'this' is possibly undefined

//----- (00482710) --------------------------------------------------------
int __thiscall CShieldAttack::GetAttack(_DWORD *this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-8h]

  if ( a3 * (10 * this[2] + 60) / 100 >= 200 )
    v4 = 200;
  else
    v4 = a3 * (10 * this[2] + 60) / 100;
  return v4 + a3;
}

//----- (00482770) --------------------------------------------------------
BOOL __thiscall sub_482770(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 59;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 64;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 68;
  }
  return 0;
}

//----- (004827E0) --------------------------------------------------------
BOOL __thiscall CMock::CanExcute(void *this, _DWORD *a2, int a3)
{
  return CSkill::CanExcute(this, a2, a3) && (*(int (__thiscall **)(int))(*(_DWORD *)a3 + 64))(a3);
}

//----- (00482830) --------------------------------------------------------
void __thiscall CMock::Excute(_DWORD *this, int a1, void *Src, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-24h]
  int v8; // [esp-4h] [ebp-1Ch]
  CIOObject *v10; // [esp+8h] [ebp-10h]
  DWORD v11; // [esp+Ch] [ebp-Ch] BYREF
  char v12; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v13; // [esp+14h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v12, &v11);
  v13 = 0;
  if ( v12 )
  {
    if ( v12 == 1 )
      v13 = CMonster::FindMonster(v11);
  }
  else
  {
    v13 = CPlayer::FindPlayer_(v11);
  }
  if ( v13 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a1, v13) )
    {
      sub_412E90((CIOCriticalSection *)v13);
      v10 = v13;
      v4 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 24))(this, 0);
      ((void (__thiscall *)(CIOObject *, int, int))v10->__vftable[8].OnIOCallback)(v10, a1, v4);
      sub_412EB0((CIOCriticalSection *)v13);
      v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, v5);
      v8 = this[2];
      v7 = std::_Mpunct<wchar_t>::do_frac_digits(v13);
      v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 63, "bddbb", this[1], v6, v7, 0, v8);
    }
    CIOObject::Release(v13, (volatile int *)&v13[22]);
  }
}

//----- (00482960) --------------------------------------------------------
int __thiscall sub_482960(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 8);
  return sub_481070(this, a2);
}

//----- (00482990) --------------------------------------------------------
int __thiscall sub_482990(_DWORD *this, _DWORD *a2)
{
  return sub_481070(this, a2);
}

//----- (004829B0) --------------------------------------------------------
int __thiscall CStunArrow::GetAttack(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = *(_DWORD *)(a2 + 644);
  if ( v4 )
    result = 12 * this[2] + a3 + (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)v4 + 16))(v4, a2, 0);
  else
    result = 0;
  return result;
}

//----- (00482A00) --------------------------------------------------------
int __thiscall CStunArrow::Apply(_DWORD *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  unsigned int v9; // esi
  unsigned int v10; // eax
  CBuffMoveSpeed *v11; // eax
  int v13; // [esp+0h] [ebp-10h]
  int v15; // [esp+8h] [ebp-8h]
  int v16; // [esp+Ch] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v16 = (*(int (__thiscall **)(_DWORD *, CPlayer *, int))(*this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(_DWORD *))(*this + 84))(this);
  if ( !CChar::CheckHit((int)a2, a3, v8) )
    return 0;
  v9 = a4 * a2->GetPalsyDamage(a2, (CChar *)a3);
  *a7 = v9 / (*(int (__thiscall **)(_DWORD *, CPlayer *))(*this + 36))(this, a2);
  v10 = (*(int (__thiscall **)(_DWORD *, CPlayer *, int, int, unsigned int *, _DWORD *))(*this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  v15 = (*(int (__thiscall **)(_DWORD *, CPlayer *, unsigned int))(*a3 + 72))(a3, a2, a4 * v16 / v10);
  if ( (*(int (__thiscall **)(_DWORD *, CPlayer *, _DWORD *))(*this + 40))(this, a2, a3) )
  {
    if ( CChar::IsNormal((int)a3) )
    {
      v11 = CBuff::CreateBuff(7, this[2] / 2 + 1, v13, (int)this);
      (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*a3 + 180))(a3, v11);
    }
  }
  return v15;
}
// 482AEE: variable 'v13' is possibly undefined

//----- (00482B20) --------------------------------------------------------
int __thiscall CExplosion::GetAttack(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+4h] [ebp-4h]

  v4 = *(_DWORD *)(a2 + 656);
  if ( v4 )
    result = 19 * this[2] + a3 + (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)v4 + 16))(v4, a2, 0);
  else
    result = 0;
  return result;
}

//----- (00482B70) --------------------------------------------------------
int __thiscall sub_482B70(_DWORD *this, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-10h]
  DWORD v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  v6 = GetTickCount() - this[10];
  if ( v6 < 0x3E8 )
    return 0;
  if ( v6 >= 0x6A4 )
  {
    if ( v6 >= 0x8FC )
    {
      if ( v6 >= 0xA28 )
      {
        if ( v6 >= 0xB54 )
          this[14] = 5;
        else
          this[14] = 4;
      }
      else
      {
        this[14] = 3;
      }
    }
    else
    {
      this[14] = 2;
    }
  }
  else
  {
    this[14] = 1;
  }
  switch ( this[14] )
  {
    case 1:
      v7 = a3 * (50 * this[14] + 25 * this[2] + 50) / 90;
      break;
    case 2:
      v7 = a3 * (50 * this[14] + 32 * this[2] + 50) / 90;
      break;
    case 3:
      v7 = a3 * (50 * this[14] + 40 * this[2] + 50) / 90;
      break;
    case 4:
      v7 = a3 * (50 * this[14] + 47 * this[2] + 50) / 90;
      break;
    case 5:
      v7 = a3 * (50 * this[14] + 55 * this[2] + 50) / 90;
      break;
    default:
      return 0;
  }
  if ( v7 >= 2000 )
    v4 = 2000;
  else
    v4 = v7;
  return v4 + a3;
}

//----- (00482D30) --------------------------------------------------------
int __thiscall CGetherShot::GetHit(_DWORD *this)
{
  return (this[2] + 1) / 2 + 2 * this[14] - 1;
}

//----- (00482D60) --------------------------------------------------------
BOOL __thiscall CGetherShot::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 60;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 66;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 69;
  }
  return 0;
}

//----- (00482DF0) --------------------------------------------------------
int __thiscall sub_482DF0(_DWORD *this, int a2, int a3)
{
  return (this[2] + 2) * (50 * a3 / 100);
}

//----- (00482E20) --------------------------------------------------------
int __thiscall sub_482E20(void *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  unsigned int v8; // esi
  unsigned int v9; // eax
  CBuffMoveSpeed *v10; // eax
  int v12; // [esp+0h] [ebp-14h]
  int v14; // [esp+8h] [ebp-Ch]
  int v15; // [esp+Ch] [ebp-8h]
  int v16; // [esp+10h] [ebp-4h]

  v15 = CChar::GetAttack(a2);
  v16 = (*(int (__thiscall **)(void *, CPlayer *, int))(*(_DWORD *)this + 16))(this, a2, v15);
  v7 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
  if ( !CChar::CheckHit((int)a2, a3, v7) )
    return 0;
  v8 = a4 * a2->GetPalsyDamage(a2, (CChar *)a3);
  *a7 = v8 / (*(int (__thiscall **)(void *, CPlayer *))(*(_DWORD *)this + 36))(this, a2);
  v9 = (*(int (__thiscall **)(void *, CPlayer *, int, int, unsigned int *, void *))(*(_DWORD *)this + 36))(
         this,
         a2,
         a5,
         a6,
         a7,
         this);
  v14 = (*(int (__thiscall **)(_DWORD *, CPlayer *, unsigned int))(*a3 + 72))(a3, a2, a4 * v16 / v9);
  if ( (*(int (__thiscall **)(void *, CPlayer *, _DWORD *))(*(_DWORD *)this + 40))(this, a2, a3) )
  {
    v10 = CBuff::CreateBuff(39, 5, 50 * v15 / 100 / 5, v12);
    (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*a3 + 180))(a3, v10);
  }
  return v14;
}
// 482F12: variable 'v12' is possibly undefined

//----- (00482F40) --------------------------------------------------------
BOOL __thiscall CMysticArrow::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 67;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 70;
  return 0;
}

//----- (00482FA0) --------------------------------------------------------
void __thiscall CMagic::Excute_0(_DWORD *this, int a2, void *Src, int a4)
{
  int v4; // eax
  DWORD v5; // esi
  unsigned int v6; // esi
  int v7; // eax
  unsigned int v8; // esi
  unsigned int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-18h] [ebp-4Ch]
  int v13; // [esp-10h] [ebp-44h]
  int v14; // [esp-Ch] [ebp-40h]
  unsigned int v15; // [esp-8h] [ebp-3Ch]
  int v16; // [esp-4h] [ebp-38h]
  int v18; // [esp+Ch] [ebp-28h] BYREF
  unsigned int v19; // [esp+10h] [ebp-24h] BYREF
  int v20; // [esp+14h] [ebp-20h] BYREF
  int v21; // [esp+18h] [ebp-1Ch]
  int v22; // [esp+1Ch] [ebp-18h]
  int v23; // [esp+20h] [ebp-14h]
  int v24; // [esp+24h] [ebp-10h]
  int a1; // [esp+28h] [ebp-Ch] BYREF
  char v26; // [esp+2Fh] [ebp-5h] BYREF
  CIOObject *v27; // [esp+30h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v26, &a1);
  v27 = 0;
  if ( v26 )
  {
    if ( v26 == 1 )
      v27 = CMonster::FindMonster(a1);
  }
  else
  {
    v27 = CPlayer::FindPlayer_(a1);
  }
  if ( v27 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a2, v27) )
    {
      v23 = sub_480F20(this, a2);
      v5 = GetTickCount();
      *(_DWORD *)(a2 + 1448) = CChar::GetASpeed((CPlayer *)a2) + v5;
      CChar::SetDirection(
        (_DWORD *)a2,
        v27[20].m_nGeneralRef - *(_DWORD *)(a2 + 332),
        (int)v27[21].__vftable - *(_DWORD *)(a2 + 336));
      v20 = 0;
      v6 = v23 * (*(int (__thiscall **)(int, CIOObject *))(*(_DWORD *)a2 + 168))(a2, v27);
      v19 = v6 / (*(int (__thiscall **)(_DWORD *, int))(*this + 36))(this, a2);
      v24 = CMagic::GetResist(this, a2, v27);
      v18 = 0;
      v7 = sub_483230((_DWORD *)a2);
      v22 = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 20))(this, a2, v7);
      v8 = v23 * (v24 * v22 / 100);
      v9 = (*(int (__thiscall **)(_DWORD *, int, int *, int *, unsigned int *, _DWORD *))(*this + 36))(
             this,
             a2,
             &v20,
             &v18,
             &v19,
             this);
      v21 = ((int (__thiscall *)(CIOObject *, int, unsigned int))v27->__vftable[3].~CIOObject)(v27, a2, v8 / v9);
      if ( !v21 )
        v27->__vftable[3].OnTimer(v27, a2);
      (*(void (__thiscall **)(_DWORD *, int))(*this + 56))(this, a2);
      v16 = v21;
      v15 = v19;
      v14 = v20;
      v13 = this[2];
      v12 = std::_Mpunct<wchar_t>::do_frac_digits(v27);
      v10 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInSight(a2, 63, "bddbbwwb", this[1], v10, v12, 1, v13, v14, v15, v16);
      (*(void (__thiscall **)(_DWORD *, int, CIOObject *, int, int, int))(*this + 84))(this, a2, v27, v23, v24, v22);
    }
    else if ( this[10] )
    {
      v11 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInSight(a2, 61, "db", v11, 0);
    }
    CIOObject::Release(v27, (volatile int *)&v27[22]);
  }
  else if ( this[10] )
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 61, "db", v4, 0);
  }
}

//----- (00483230) --------------------------------------------------------
int __thiscall sub_483230(_DWORD *this)
{
  int v1; // eax
  int v3; // [esp-4h] [ebp-Ch]

  v3 = CChar::GetMaxMagic(this);
  v1 = CChar::GetMinMagic(this);
  return RandomBetween(v1, v3);
}

//----- (00483260) --------------------------------------------------------
int __thiscall sub_483260(void *this, int a2)
{
  int v3; // [esp+8h] [ebp-4h]

  v3 = 0;
  if ( (*(int (__thiscall **)(void *))(*(_DWORD *)this + 80))(this) == 2 )
    v3 = 20 * *(_DWORD *)(a2 + 968);
  return v3;
}

//----- (004832A0) --------------------------------------------------------
int __thiscall sub_4832A0(_DWORD *this, int a2)
{
  int v4; // [esp+8h] [ebp-4h]

  if ( !a2 )
    return this[11];
  v4 = this[11];
  if ( !(*(int (__thiscall **)(_DWORD *))(*this + 80))(this) )
    v4 -= 5 * *(_DWORD *)(a2 + 976) * this[10] / 0x64u;
  return v4;
}

//----- (00483310) --------------------------------------------------------
int __thiscall sub_483310(void *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax

  result = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 80))(this);
  if ( result == 1 )
    result = CMagic::Excute(this, a2, a3, a4, a5, a6);
  return result;
}

//----- (00483360) --------------------------------------------------------
int __thiscall CMagic::Excute(void *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  CBuffMoveSpeed *v7; // eax

  result = a2;
  if ( *(_DWORD *)(a2 + 972) )
  {
    result = (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 40))(this, a2, a3);
    if ( result )
    {
      v7 = CBuff::CreateBuff(0, *(_DWORD *)(a2 + 972) + 2, -20 * *(_DWORD *)(a2 + 972), (int)this);
      result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v7);
    }
  }
  return result;
}

//----- (004833D0) --------------------------------------------------------
int __thiscall CMagic::GetResist(void *this, int a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // esi
  int v5; // eax
  int v7; // [esp+4h] [ebp-10h]
  int v8; // [esp+Ch] [ebp-8h]
  int v9; // [esp+10h] [ebp-4h]

  v8 = *(_DWORD *)(a2 + 60) - a3[15];
  v3 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 80))(this);
  v4 = (*(int (__thiscall **)(_DWORD *, int, int))(*a3 + 144))(a3, a2, v3);
  v5 = abs(v8);
  v9 = (v4 - v8 * v5 / 6) & ((v4 - v8 * v5 / 6 < 0) - 1);
  if ( v9 >= 100 )
    v7 = 0;
  else
    v7 = 100 - v9;
  return v7;
}

//----- (00483460) --------------------------------------------------------
int __thiscall sub_483460(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // eax
  int v6; // [esp+4h] [ebp-Ch]

  v3 = 9 * a2[15] / 2;
  v4 = CChar::GetInt(a2);
  if ( (v3 + 5 * this[2] * v4) / 2 >= 200 * this[2] + 600 )
    v6 = 200 * this[2] + 600;
  else
    v6 = (v3 + 5 * this[2] * v4) / 2;
  return v6 + a3;
}

//----- (004834E0) --------------------------------------------------------
BOOL __thiscall CMeshStr::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 63;
  return 0;
}

//----- (00483520) --------------------------------------------------------
int __thiscall CFire::GetMagic(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v7 = (v3 + 3 * this[2] * CChar::GetInt(a2) / 10) / 2;
  if ( v7 >= 21 * this[2] + 30 )
    v5 = 21 * this[2] + 30;
  else
    v5 = v7;
  return v5 + a3 + 2 * this[2];
}

//----- (004835A0) --------------------------------------------------------
int __thiscall CFire::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 25);
  sub_480340(a2 + 156, 33);
  return sub_481070(this, a2);
}

//----- (004835E0) --------------------------------------------------------
int __thiscall CHealingAnyQuick::Redistribute(CHealingAnyQuick *this, CPlayer *pOwner, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 3 * *((_DWORD *)pOwner + 15) / 2;
  v7 = (v3 + 10 * *((_DWORD *)this + 2) * CChar::GetInt(pOwner) / 3) / 2 + 380;
  if ( v7 >= 150 * *((_DWORD *)this + 2) + 500 )
    v5 = 150 * *((_DWORD *)this + 2) + 500;
  else
    v5 = v7;
  return v5 + a3;
}

//----- (00483670) --------------------------------------------------------
BOOL __thiscall CFireExplosion::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 59;
  return 0;
}

//----- (004836B0) --------------------------------------------------------
int __thiscall CFireExplosion::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 46);
  return sub_481070(this, a2);
}

//----- (004836E0) --------------------------------------------------------
int __thiscall sub_4836E0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v7 = (v3 + 14 * this[2] * CChar::GetInt(a2) / 3) / 2 + 580;
  if ( v7 >= 300 * this[2] + 600 )
    v5 = 300 * this[2] + 600;
  else
    v5 = v7;
  return v5 + a3;
}

//----- (00483770) --------------------------------------------------------
int __thiscall sub_483770(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v7 = (v3 + 3 * this[2] * CChar::GetInt(a2) / 13) / 2;
  if ( v7 >= 16 * this[2] + 30 )
    v5 = 16 * this[2] + 30;
  else
    v5 = v7;
  return v5 + a3;
}

//----- (004837F0) --------------------------------------------------------
int __thiscall sub_4837F0(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 24);
  sub_480340(a2 + 156, 32);
  return sub_481070(this, a2);
}

//----- (00483830) --------------------------------------------------------
int __thiscall CIceLance::GetMagic(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // eax
  int v6; // [esp+4h] [ebp-Ch]

  v3 = 3 * a2[15] / 2;
  v4 = CChar::GetInt(a2);
  if ( (v3 + 10 * this[2] * v4 / 4) / 2 + 240 >= 150 * this[2] + 400 )
    v6 = 150 * this[2] + 400;
  else
    v6 = (v3 + 10 * this[2] * v4 / 4) / 2 + 240;
  return v6 + a3;
}

//----- (004838C0) --------------------------------------------------------
BOOL __thiscall CIceLance::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 58;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 64;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 67;
  }
  return 0;
}

//----- (00483930) --------------------------------------------------------
int __thiscall CLitning::GetMagic(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-14h]
  int v6; // [esp+8h] [ebp-10h]
  int nMin; // [esp+10h] [ebp-8h]
  int nMax; // [esp+14h] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  nMin = (v3 + 2 * this[2] * CChar::GetInt(a2) / 16) / 2;
  nMax = nMin + sub_483260(this, (int)a2);
  if ( nMin >= 12 * this[2] + 30 )
    v6 = 12 * this[2] + 30;
  else
    v6 = nMin;
  if ( nMax >= 12 * this[2] + 180 )
    v5 = 12 * this[2] + 180;
  else
    v5 = nMax;
  return a3 + RandomBetween(v6, v5);
}

//----- (00483A00) --------------------------------------------------------
int __stdcall sub_483A00(_DWORD *a1)
{
  int v1; // eax
  char v3[4]; // [esp+4h] [ebp-14h] BYREF
  int v4[2]; // [esp+8h] [ebp-10h] BYREF
  _DWORD *v5; // [esp+10h] [ebp-8h]
  int v6; // [esp+14h] [ebp-4h] BYREF

  v5 = (_DWORD *)a1[162];
  (*(void (__cdecl **)(_DWORD *, int, int, int))(*a1 + 88))(a1, 24, 1, v5[2] - 1);
  if ( v5 && sub_481150(v5, a1) )
  {
    v4[1] = (int)v5;
    sub_401020(v5);
  }
  v4[0] = (a1[115] << 16) + 4;
  sub_446130(dword_4E218C, &v6, (int)v4);
  v1 = sub_430C20(dword_4E218C, (int)v3);
  if ( (unsigned __int8)unknown_libname_8(v1) )
    return 0;
  v5 = *(_DWORD **)(sub_420250(&v6) + 4);
  v5 = sub_47F760(v5);
  sub_47F780(v5, 4, 1);
  (*(void (__thiscall **)(_DWORD *, _DWORD *, _DWORD, _DWORD))(*v5 + 8))(v5, a1, 0, 0);
  a1[162] = v5;
  CPlayer::Write((int)a1, 81, "bb", 4, 1);
  CDBSocket::Write(9, "dbw", a1[113], 4, a1[137]);
  sub_480340(a1 + 156, 9);
  sub_480340(a1 + 156, 23);
  return 1;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4E218C: using guessed type int dword_4E218C[3];

//----- (00483B50) --------------------------------------------------------
int __thiscall CShock::GetMagic(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v5; // edi
  int v7; // [esp+8h] [ebp-14h]
  int v8; // [esp+Ch] [ebp-10h]
  int nMin; // [esp+14h] [ebp-8h]
  int nMax; // [esp+18h] [ebp-4h]

  v3 = 5 * a2[15] / 3;
  nMin = (v3 + 6 * this[2] * CChar::GetInt(a2) / 4) / 2 + 50;
  v4 = sub_483260(this, (int)a2);
  v5 = 5 * a2[15] / 3;
  nMax = v4 + (v5 + 11 * this[2] * CChar::GetInt(a2) / 3) / 2 + 150;
  if ( nMin >= 60 * this[2] + 200 )
    v8 = 60 * this[2] + 200;
  else
    v8 = nMin;
  if ( nMax >= 200 * this[2] + 200 )
    v7 = 200 * this[2] + 200;
  else
    v7 = nMax;
  return a3 + RandomBetween(v8, v7);
}

//----- (00483C70) --------------------------------------------------------
int __thiscall CSpark::GetMagic(_DWORD *this, _DWORD *a2, int a3)
{
  int v4; // esi
  int v5; // esi
  int v6; // esi
  int v7; // [esp+4h] [ebp-18h]
  int v8; // [esp+8h] [ebp-14h]
  int nMin; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h]
  int nMaxa; // [esp+18h] [ebp-4h]
  int nMax; // [esp+18h] [ebp-4h]

  v11 = a2[162];
  if ( !v11 )
    return 0;
  v4 = 3 * a2[15] / 2;
  nMin = v4 + 3 * this[2] * CChar::GetInt(a2) / 10 / 2 + 10;
  v5 = 3 * a2[15] / 2;
  nMaxa = v5 + 5 * this[2] * CChar::GetInt(a2) / 8 / 2 + 30;
  v6 = nMaxa + sub_483260(this, (int)a2);
  nMax = (*(int (__thiscall **)(int, _DWORD *, _DWORD))(*(_DWORD *)v11 + 20))(v11, a2, 0) + v6;
  if ( nMin >= 30 * this[2] + 150 )
    v8 = 30 * this[2] + 150;
  else
    v8 = nMin;
  if ( nMax >= 40 * this[2] + 200 )
    v7 = 40 * this[2] + 200;
  else
    v7 = nMax;
  return a3 + RandomBetween(v8, v7);
}

//----- (00483DB0) --------------------------------------------------------
int __thiscall CSpark::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 31);
  sub_480340(a2 + 156, 41);
  return sub_481070(this, a2);
}

//----- (00483DF0) --------------------------------------------------------
int __thiscall CCallLitning::GetMagic(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int nMin; // [esp+10h] [ebp-8h]
  int nMax; // [esp+14h] [ebp-4h]

  v3 = 3 * a2[15] / 2 + sub_483260(this, (int)a2);
  nMin = v3 + 2 * this[2] * CChar::GetInt(a2) / 7 / 2 + 320;
  v4 = 3 * a2[15] / 2 + sub_483260(this, (int)a2);
  nMax = v4 + 10 * this[2] * CChar::GetInt(a2) / 2 / 2 + 320;
  if ( nMin >= this[2] + 450 )
    v7 = this[2] + 450;
  else
    v7 = nMin;
  if ( nMax >= 200 * this[2] + 700 )
    v6 = 200 * this[2] + 700;
  else
    v6 = nMax;
  return a3 + RandomBetween(v7, v6);
}

//----- (00483F10) --------------------------------------------------------
BOOL __thiscall sub_483F10(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( this[2] < this[7] )
    result = *(_DWORD *)(a2 + 60) >= 4 * this[2] + 53;
  else
    result = 0;
  return result;
}

//----- (00483F50) --------------------------------------------------------
int __thiscall sub_483F50(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 42);
  return sub_481070(this, a2);
}

//----- (00483F80) --------------------------------------------------------
int __thiscall sub_483F80(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int nMin; // [esp+10h] [ebp-8h]
  int nMax; // [esp+14h] [ebp-4h]

  v3 = 3 * a2[15] / 2 + sub_483260(this, (int)a2);
  nMin = v3 + 5 * this[2] * (3 * CChar::GetInt(a2) / 2) / 3 / 2 + 360;
  v4 = 3 * a2[15] / 2 + sub_483260(this, (int)a2);
  nMax = v4 + 10 * this[2] * (3 * CChar::GetInt(a2) / 2) / 2 / 2 + 700;
  if ( nMin >= 154 * this[2] + 456 )
    v7 = 154 * this[2] + 456;
  else
    v7 = nMin;
  if ( nMax >= 300 * this[2] + 900 )
    v6 = 300 * this[2] + 900;
  else
    v6 = nMax;
  return a3 + RandomBetween(v7, v6);
}

//----- (004840C0) --------------------------------------------------------
BOOL __thiscall sub_4840C0(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( this[2] < this[7] )
    result = *(_DWORD *)(a2 + 60) >= 3 * this[2] + 63;
  else
    result = 0;
  return result;
}

//----- (00484100) --------------------------------------------------------
void __thiscall CMagicWide::Excute(int pSkill, int pPlayer, char *p, char *end)
{
  int v4; // eax
  DWORD v5; // esi
  int v6; // eax
  int v7; // eax
  unsigned int v8; // esi
  int v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // [esp-Ch] [ebp-48h]
  int v17; // [esp-Ch] [ebp-48h]
  int v18; // [esp-8h] [ebp-44h]
  unsigned int v19; // [esp-4h] [ebp-40h]
  int v20; // [esp-4h] [ebp-40h]
  int v22; // [esp+Ch] [ebp-30h] BYREF
  unsigned int v23; // [esp+10h] [ebp-2Ch] BYREF
  int v24; // [esp+14h] [ebp-28h] BYREF
  int v26; // [esp+1Ch] [ebp-20h]
  int v27; // [esp+20h] [ebp-1Ch]
  int v28; // [esp+24h] [ebp-18h]
  CIOObject *i; // [esp+28h] [ebp-14h]
  int v30; // [esp+2Ch] [ebp-10h]
  int a1; // [esp+30h] [ebp-Ch] BYREF
  char v32; // [esp+37h] [ebp-5h] BYREF
  CIOObject *v33; // [esp+38h] [ebp-4h]

  ScanPacket(p, end, "bd", &v32, &a1);
  v33 = 0;
  if ( v32 )
  {
    if ( v32 == 1 )
      v33 = CMonster::FindMonster(a1);
  }
  else
  {
    v33 = CPlayer::FindPlayer_(a1);
  }
  if ( v33 )
  {
    if ( (**(int (__thiscall ***)(int, int, CIOObject *))pSkill)(pSkill, pPlayer, v33) )
    {
      v30 = sub_480F20((_DWORD *)pSkill, pPlayer);
      v5 = GetTickCount();
      *(_DWORD *)(pPlayer + 1448) = CChar::GetASpeed((CPlayer *)pPlayer) + v5;
      CChar::SetDirection(
        (_DWORD *)pPlayer,
        v33[20].m_nGeneralRef - *(_DWORD *)(pPlayer + 332),
        (int)v33[21].__vftable - *(_DWORD *)(pPlayer + 336));
      v28 = 0;
      v6 = (*(int (__thiscall **)(int))(*(_DWORD *)pSkill + 92))(pSkill);
      for ( i = (CIOObject *)sub_4935A0(*(void **)(pPlayer + 320), (int)&v33[20].m_nRef, v6);
            i;
            i = (CIOObject *)CBaseList::Pop(i) )
      {
        v28 = unknown_libname_7(i);
        if ( (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)pPlayer + 176))(pPlayer, v28, 0)
          && CChar::IsNormal(v28)
          && *(_DWORD *)(pPlayer + 316) == *(_DWORD *)(v28 + 316) )
        {
          v24 = 0;
          v7 = (*(int (__thiscall **)(int, CIOObject *))(*(_DWORD *)pPlayer + 168))(pPlayer, v33);
          v8 = v30 * v7;
          v23 = v8 / (*(int (__thiscall **)(int, int))(*(_DWORD *)pSkill + 36))(pSkill, pPlayer);
          v27 = CMagic::GetResist((void *)pSkill, pPlayer, (_DWORD *)v28);
          v22 = 0;
          v9 = sub_483230((_DWORD *)pPlayer);
          v26 = (*(int (__thiscall **)(int, int, int))(*(_DWORD *)pSkill + 20))(pSkill, pPlayer, v9);
          if ( (*(int (__thiscall **)(int))(*(_DWORD *)pSkill + 100))(pSkill) )
          {
            v10 = v30 * (v27 * v26 / 100);
            v11 = (*(int (__thiscall **)(int, int, int *, int *, unsigned int *, int))(*(_DWORD *)pSkill + 36))(
                    pSkill,
                    pPlayer,
                    &v24,
                    &v22,
                    &v23,
                    pSkill);
            if ( !(*(int (__thiscall **)(int, int, unsigned int))(*(_DWORD *)v28 + 72))(v28, pPlayer, v10 / v11) )
              (*(void (__thiscall **)(int, int))(*(_DWORD *)v28 + 80))(v28, pPlayer);
            if ( v24 > 0 )
            {
              v19 = v23;
              v18 = v24;
              v16 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v28);
              v12 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)pPlayer);
              v13 = (*(int (__thiscall **)(int, _DWORD, int, int, int, unsigned int))(*(_DWORD *)pSkill + 96))(
                      pSkill,
                      *(_DWORD *)(pSkill + 4),
                      v12,
                      v16,
                      v18,
                      v19);
              CChar::WriteInSight(pPlayer, 10, "bbddww", v13);
              (*(void (__thiscall **)(int, int, int, int, int, int))(*(_DWORD *)pSkill + 84))(
                pSkill,
                pPlayer,
                v28,
                v30,
                v27,
                v26);
            }
          }
          else
          {
            (*(void (__thiscall **)(int, int, int, int, int, int))(*(_DWORD *)pSkill + 84))(
              pSkill,
              pPlayer,
              v28,
              v30,
              v27,
              v26);
            (*(void (__thiscall **)(int, int))(*(_DWORD *)v28 + 80))(v28, pPlayer);
          }
        }
      }
      (*(void (__thiscall **)(int, int))(*(_DWORD *)pSkill + 56))(pSkill, pPlayer);
      v20 = *(_DWORD *)(pSkill + 8);
      v17 = std::_Mpunct<wchar_t>::do_frac_digits(v33);
      v14 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)pPlayer);
      CChar::WriteInSight(pPlayer, 63, "bddbb", *(_DWORD *)(pSkill + 4), v14, v17, 0, v20);
    }
    else if ( *(_DWORD *)(pSkill + 40) )
    {
      v15 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)pPlayer);
      CChar::WriteInSight(pPlayer, 61, "db", v15, 0);
    }
    CIOObject::Release(v33, (volatile int *)&v33[22]);
  }
  else if ( *(_DWORD *)(pSkill + 40) )
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)pPlayer);
    CChar::WriteInSight(pPlayer, 61, "db", v4, 0);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (004844A0) --------------------------------------------------------
void __thiscall CMagicWide::ExcuteM(_DWORD *this, CIOCriticalSection *a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-34h]
  int v8; // [esp-Ch] [ebp-34h]
  int v9; // [esp-8h] [ebp-30h]
  int v10; // [esp-4h] [ebp-2Ch]
  int v11; // [esp-4h] [ebp-2Ch]
  int v13; // [esp+4h] [ebp-24h] BYREF
  int v14; // [esp+8h] [ebp-20h] BYREF
  int v15; // [esp+Ch] [ebp-1Ch] BYREF
  int v17; // [esp+14h] [ebp-14h]
  int v18; // [esp+18h] [ebp-10h]
  int v19; // [esp+1Ch] [ebp-Ch]
  CIOObject *v20; // [esp+20h] [ebp-8h]
  DWORD v21; // [esp+24h] [ebp-4h]

  if ( a3 )
  {
    CChar::SetDirection(
      a2,
      *(_DWORD *)(a3 + 332) - (unsigned int)a2[10].m_critical_section.OwningThread,
      *(_DWORD *)(a3 + 336) - (unsigned int)a2[10].m_critical_section.LockSemaphore);
    v19 = 0;
    v3 = (*(int (__thiscall **)(_DWORD *))(*this + 92))(this);
    v20 = (CIOObject *)CSMap::GetPlayerListInRect((_DWORD *)(a3 + 324), v3);
    v21 = GetTickCount();
    this[16] = this[11] + v21 - this[10];
    ((void (__thiscall *)(CIOCriticalSection *, DWORD, int))a2->m_critical_section.DebugInfo[7].CriticalSection)(
      a2,
      this[12] + v21,
      1);
    a2[14].m_critical_section.SpinCount = this[12] + v21;
    sub_412EB0(a2);
    while ( v20 )
    {
      v19 = unknown_libname_7(v20);
      if ( CChar::IsNormal(v19) && a2[9].m_dwEIP[1] == *(_DWORD *)(v19 + 316) )
      {
        v15 = 0;
        v14 = 0;
        v18 = CMagic::GetResist(this, (int)a2, (_DWORD *)v19);
        v13 = 0;
        v17 = (*(int (__thiscall **)(_DWORD *, CIOCriticalSection *))(*this + 88))(this, a2);
        if ( (*(int (__thiscall **)(_DWORD *))(*this + 100))(this) )
        {
          if ( !(*(int (__thiscall **)(int, CIOCriticalSection *, int, int *, int *, int *, _DWORD *))(*(_DWORD *)v19 + 72))(
                  v19,
                  a2,
                  v18 * v17 / 100,
                  &v15,
                  &v13,
                  &v14,
                  this) )
            (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)v19 + 80))(v19, a2);
          if ( v15 > 0 )
          {
            v10 = v14;
            v9 = v15;
            v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v19);
            v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
            v5 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*this + 96))(
                   this,
                   this[1],
                   v4,
                   v7,
                   v9,
                   v10);
            CChar::WriteInSight((int)a2, 10, "bbddww", v5);
            (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v19);
          }
        }
        else
        {
          (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v19);
          (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)v19 + 80))(v19, a2);
        }
      }
      v20 = (CIOObject *)CBaseList::Pop(v20);
    }
    sub_412E90(a2);
    v11 = this[2];
    v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a3);
    v6 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v6, v8, 0, v11);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00484710) --------------------------------------------------------
void __thiscall CMagicWideSelf::Excute(_DWORD *this, CPlayer *a2, int a3, int a4)
{
  int v4; // eax
  int v5; // eax
  DWORD v6; // esi
  int v7; // eax
  unsigned int v8; // esi
  int v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // [esp-Ch] [ebp-38h]
  int v16; // [esp-Ch] [ebp-38h]
  int v17; // [esp-8h] [ebp-34h]
  unsigned int v18; // [esp-4h] [ebp-30h]
  int v19; // [esp-4h] [ebp-30h]
  int v21; // [esp+8h] [ebp-24h] BYREF
  unsigned int v22; // [esp+Ch] [ebp-20h] BYREF
  int v23; // [esp+10h] [ebp-1Ch] BYREF
  int v25; // [esp+18h] [ebp-14h]
  int v26; // [esp+1Ch] [ebp-10h]
  int v27; // [esp+20h] [ebp-Ch]
  CIOObject *v28; // [esp+24h] [ebp-8h]
  int v29; // [esp+28h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, CPlayer *, _DWORD))*this)(this, a2, 0) )
  {
    v27 = 0;
    v5 = (*(int (__thiscall **)(_DWORD *))(*this + 92))(this);
    v28 = (CIOObject *)sub_4935A0(a2->m_pMap, (int)&a2->m_ptTile, v5);
    v29 = sub_480F20(this, (int)a2);
    v6 = GetTickCount();
    a2->m_dwNextAction = CChar::GetASpeed(a2) + v6;
    while ( v28 )
    {
      v27 = unknown_libname_7(v28);
      if ( a2->CanAttack(a2, (CChar *)v27, 0) && CChar::IsNormal(v27) && a2->m_nMap == *(_DWORD *)(v27 + 316) )
      {
        v23 = 0;
        v7 = a2->GetPalsyDamage(a2, (CChar *)v27);
        v8 = v29 * v7;
        v22 = v8 / (*(int (__thiscall **)(_DWORD *, CPlayer *))(*this + 36))(this, a2);
        v26 = CMagic::GetResist(this, (int)a2, (_DWORD *)v27);
        v21 = 0;
        v9 = sub_483230(a2);
        v25 = (*(int (__thiscall **)(_DWORD *, CPlayer *, int))(*this + 20))(this, a2, v9);
        if ( (*(int (__thiscall **)(_DWORD *))(*this + 100))(this) )
        {
          v10 = v29 * (v26 * v25 / 100);
          v11 = (*(int (__thiscall **)(_DWORD *, CPlayer *, int *, int *, unsigned int *, _DWORD *))(*this + 36))(
                  this,
                  a2,
                  &v23,
                  &v21,
                  &v22,
                  this);
          if ( !(*(int (__thiscall **)(int, CPlayer *, unsigned int))(*(_DWORD *)v27 + 72))(v27, a2, v10 / v11) )
            (*(void (__thiscall **)(int, CPlayer *))(*(_DWORD *)v27 + 80))(v27, a2);
          if ( v23 > 0 )
          {
            v18 = v22;
            v17 = v23;
            v15 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v27);
            v12 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
            v13 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, unsigned int))(*this + 96))(
                    this,
                    this[1],
                    v12,
                    v15,
                    v17,
                    v18);
            CChar::WriteInSight((int)a2, 10, "bbddww", v13);
            (*(void (__thiscall **)(_DWORD *, CPlayer *, int, int, int, int))(*this + 84))(this, a2, v27, v29, v26, v25);
          }
        }
        else
        {
          (*(void (__thiscall **)(_DWORD *, CPlayer *, int, int, int, int))(*this + 84))(this, a2, v27, v29, v26, v25);
          (*(void (__thiscall **)(int, CPlayer *))(*(_DWORD *)v27 + 80))(v27, a2);
        }
      }
      v28 = (CIOObject *)CBaseList::Pop(v28);
    }
    (*(void (__thiscall **)(_DWORD *, CPlayer *))(*this + 56))(this, a2);
    v19 = this[2];
    v16 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    v14 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v14, v16, 0, v19);
  }
  else if ( this[10] )
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 61, "db", v4, 0);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (004849E0) --------------------------------------------------------
void __thiscall sub_4849E0(_DWORD *this, CIOCriticalSection *a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-34h]
  int v8; // [esp-Ch] [ebp-34h]
  int v9; // [esp-8h] [ebp-30h]
  int v10; // [esp-4h] [ebp-2Ch]
  int v11; // [esp-4h] [ebp-2Ch]
  int v13; // [esp+4h] [ebp-24h] BYREF
  int v14; // [esp+8h] [ebp-20h] BYREF
  int v15; // [esp+Ch] [ebp-1Ch] BYREF
  int v17; // [esp+14h] [ebp-14h]
  int v18; // [esp+18h] [ebp-10h]
  int v19; // [esp+1Ch] [ebp-Ch]
  CIOObject *v20; // [esp+20h] [ebp-8h]
  DWORD v21; // [esp+24h] [ebp-4h]

  v19 = 0;
  v3 = (*(int (__thiscall **)(_DWORD *))(*this + 92))(this);
  v20 = (CIOObject *)CSMap::GetPlayerListInRect(&a2[10].m_critical_section.LockCount, v3);
  v21 = GetTickCount();
  this[16] = this[11] + v21 - this[10];
  ((void (__thiscall *)(CIOCriticalSection *, DWORD, int))a2->m_critical_section.DebugInfo[7].CriticalSection)(
    a2,
    this[12] + v21,
    1);
  a2[14].m_critical_section.SpinCount = this[12] + v21;
  sub_412EB0(a2);
  while ( v20 )
  {
    v19 = unknown_libname_7(v20);
    if ( CChar::IsNormal(v19) && a2[9].m_dwEIP[1] == *(_DWORD *)(v19 + 316) )
    {
      v15 = 0;
      v14 = 0;
      v18 = CMagic::GetResist(this, (int)a2, (_DWORD *)v19);
      v13 = 0;
      v17 = (*(int (__thiscall **)(_DWORD *, CIOCriticalSection *))(*this + 88))(this, a2);
      if ( !(*(int (__thiscall **)(int, CIOCriticalSection *, int, int *, int *, int *, _DWORD *))(*(_DWORD *)v19 + 72))(
              v19,
              a2,
              v18 * v17 / 100,
              &v15,
              &v13,
              &v14,
              this) )
        (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)v19 + 80))(v19, a2);
      if ( v15 > 0 )
      {
        v10 = v14;
        v9 = v15;
        v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v19);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
        v5 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*this + 96))(this, this[1], v4, v7, v9, v10);
        CChar::WriteInSight((int)a2, 10, "bbddww", v5);
        (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v19);
      }
    }
    v20 = (CIOObject *)CBaseList::Pop(v20);
  }
  sub_412E90(a2);
  v11 = this[2];
  v8 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  v6 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v6, v8, 0, v11);
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00484BE0) --------------------------------------------------------
void __thiscall CMagicWidePos::Excute_0(_DWORD *this, int arg0, void *Src, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  DWORD v7; // esi
  int v8; // eax
  unsigned int v9; // esi
  int v10; // eax
  unsigned int v11; // esi
  unsigned int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // [esp-Ch] [ebp-44h]
  int v17; // [esp-Ch] [ebp-44h]
  int v18; // [esp-8h] [ebp-40h]
  unsigned int v19; // [esp-4h] [ebp-3Ch]
  int v20; // [esp-4h] [ebp-3Ch]
  int v22; // [esp+8h] [ebp-30h] BYREF
  unsigned int v23; // [esp+Ch] [ebp-2Ch] BYREF
  int v24; // [esp+10h] [ebp-28h] BYREF
  int v26; // [esp+18h] [ebp-20h]
  int v27; // [esp+1Ch] [ebp-1Ch]
  int v28; // [esp+20h] [ebp-18h]
  CIOObject *v29; // [esp+24h] [ebp-14h]
  _DWORD *v30; // [esp+28h] [ebp-10h]
  int a2; // [esp+2Ch] [ebp-Ch] BYREF
  int v32; // [esp+30h] [ebp-8h] BYREF
  int v33; // [esp+34h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "dd", &a2, &v32);
  v30 = (_DWORD *)sub_491080(*(_DWORD *)(arg0 + 316));
  if ( CSMap::IsValidTile(v30, &a2, 0) )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*this)(this, arg0, 0) )
    {
      a2 >>= 5;
      v32 >>= 5;
      v28 = 0;
      v6 = (*(int (__thiscall **)(_DWORD *))(*this + 92))(this);
      v29 = (CIOObject *)sub_4935A0(*(void **)(arg0 + 320), (int)&a2, v6);
      v33 = sub_480F20(this, arg0);
      v7 = GetTickCount();
      *(_DWORD *)(arg0 + 1448) = CChar::GetASpeed((CPlayer *)arg0) + v7;
      while ( v29 )
      {
        v28 = unknown_libname_7(v29);
        if ( (*(int (__thiscall **)(int, int, _DWORD))(*(_DWORD *)arg0 + 176))(arg0, v28, 0)
          && CChar::IsNormal(v28)
          && *(_DWORD *)(arg0 + 316) == *(_DWORD *)(v28 + 316) )
        {
          v24 = 0;
          v8 = (*(int (__thiscall **)(int, int))(*(_DWORD *)arg0 + 168))(arg0, v28);
          v9 = v33 * v8;
          v23 = v9 / (*(int (__thiscall **)(_DWORD *, int))(*this + 36))(this, arg0);
          v27 = CMagic::GetResist(this, arg0, (_DWORD *)v28);
          v22 = 0;
          v10 = sub_483230((_DWORD *)arg0);
          v26 = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 20))(this, arg0, v10);
          v11 = v33 * (v27 * v26 / 100);
          v12 = (*(int (__thiscall **)(_DWORD *, int, int *, int *, unsigned int *, _DWORD *))(*this + 36))(
                  this,
                  arg0,
                  &v24,
                  &v22,
                  &v23,
                  this);
          if ( !(*(int (__thiscall **)(int, int, unsigned int))(*(_DWORD *)v28 + 72))(v28, arg0, v11 / v12) )
            (*(void (__thiscall **)(int, int))(*(_DWORD *)v28 + 80))(v28, arg0);
          if ( v24 > 0 )
          {
            v19 = v23;
            v18 = v24;
            v16 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v28);
            v13 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)arg0);
            v14 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, unsigned int))(*this + 96))(
                    this,
                    this[1],
                    v13,
                    v16,
                    v18,
                    v19);
            CChar::WriteInSight(arg0, 10, "bbddww", v14);
            (*(void (__thiscall **)(_DWORD *, int, int, int, int, int))(*this + 84))(this, arg0, v28, v33, v27, v26);
          }
        }
        v29 = (CIOObject *)CBaseList::Pop(v29);
      }
      (*(void (__thiscall **)(_DWORD *, int))(*this + 56))(this, arg0);
      v20 = this[2];
      v17 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)arg0);
      v15 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)arg0);
      CChar::WriteInSight(arg0, 63, "bddbb", this[1], v15, v17, 0, v20);
    }
    else if ( this[10] )
    {
      v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)arg0);
      CChar::WriteInSight(arg0, 61, "db", v5, 0);
    }
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)arg0);
    CChar::WriteInSight(arg0, 61, "db", v4, 0);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (00484EE0) --------------------------------------------------------
int __thiscall CMagicWideIce::GetMagic_0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 5 * a2[15] / 3;
  v7 = (v3 + 5 * this[2] * CChar::GetInt(a2) / 7) / 2;
  if ( v7 >= 40 * this[2] + 120 )
    v5 = 40 * this[2] + 120;
  else
    v5 = v7;
  return v5 + a3;
}

//----- (00484F60) --------------------------------------------------------
int __thiscall sub_484F60(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 27);
  sub_480340(a2 + 156, 44);
  return sub_481070(this, a2);
}

//----- (00484FA0) --------------------------------------------------------
int __thiscall CMagicWidePos::Excute(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 5 * a2[15] / 3;
  v7 = (v3 + 6 * this[2] * CChar::GetInt(a2) / 5) / 2;
  if ( v7 >= 70 * this[2] + 150 )
    v5 = 70 * this[2] + 150;
  else
    v5 = v7;
  return v5 + a3 + 8 * this[2];
}

//----- (00485030) --------------------------------------------------------
int __thiscall sub_485030(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 47);
  return sub_481070(this, a2);
}

//----- (00485060) --------------------------------------------------------
char *__thiscall CProtect::Excute(CProtect *this, CPlayer *pOwner, char *packet, char *end)
{
  int v4; // esi
  int v6; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v4 = 6 * pOwner->m_nLevel / 2;
  v7 = (v4 + 4 * this->m_nLevel * CChar::GetInt(pOwner) / 5) / 2 + 580;
  if ( v7 >= 900 )
    v6 = 900;
  else
    v6 = v7;
  return &packet[v6];
}

//----- (004850D0) --------------------------------------------------------
int __thiscall CExplosiveBurst::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 48);
  return sub_481070(this, a2);
}

//----- (00485100) --------------------------------------------------------
int __thiscall CMesmerization::Apply(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  CBuffMoveSpeed *v7; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    if ( (int)this[18] < 8 )
    {
      ++this[18];
      v7 = CBuff::CreateBuff(26, 5 * this[2] + 4, 0, (int)this);
      result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v7);
    }
  }
  return result;
}

//----- (00485170) --------------------------------------------------------
BOOL __thiscall CProtect::CanSkillUp(CProtect *this, CPlayer *pOwner)
{
  if ( *((_DWORD *)this + 2) >= *((_DWORD *)this + 7) )
    return 0;
  switch ( *((_DWORD *)this + 2) )
  {
    case 1:
      return *((_DWORD *)pOwner + 15) >= 56;
    case 2:
      return *((_DWORD *)pOwner + 15) >= 61;
    case 3:
      return *((_DWORD *)pOwner + 15) >= 67;
    case 4:
      return *((_DWORD *)pOwner + 15) >= 70;
  }
  return 0;
}

//----- (00485200) --------------------------------------------------------
int __thiscall CMesmerization::SpendMPRage(_DWORD *this, int a2)
{
  int result; // eax

  result = sub_481040(this, a2);
  this[18] = 0;
  return result;
}

//----- (00485230) --------------------------------------------------------
int __thiscall CSnowField::Apply(_DWORD *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  CBuffMoveSpeed *v7; // eax
  int savedregs; // [esp+4h] [ebp+0h]

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    if ( (int)this[18] < 5 )
    {
      ++this[18];
      v7 = CBuff::CreateBuff(8, 2 * this[2] + 6, (int)this, savedregs);
      result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v7);
    }
  }
  return result;
}
// 485275: variable 'savedregs' is possibly undefined

//----- (004852A0) --------------------------------------------------------
BOOL __thiscall CMagicWideIce::GetMagic(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 58;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 63;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 68;
  }
  return 0;
}

//----- (00485310) --------------------------------------------------------
int __thiscall CChainLitning::GetMagic_0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int nMin; // [esp+10h] [ebp-8h]
  int nMax; // [esp+14h] [ebp-4h]

  v3 = 3 * a2[15] / 2 + sub_483260(this, (int)a2);
  nMin = v3 + 7 * this[2] * CChar::GetInt(a2) / 3 / 2 + 360;
  v4 = 3 * a2[15] / 2 + sub_483260(this, (int)a2);
  nMax = v4 + 10 * this[2] * CChar::GetInt(a2) / 4 / 2 + 700;
  if ( nMin >= 700 )
    v7 = 700;
  else
    v7 = nMin;
  if ( nMax >= 1000 )
    v6 = 1000;
  else
    v6 = nMax;
  return a3 + RandomBetween(v7, v6);
}

//----- (00485400) --------------------------------------------------------
int __thiscall CChainLitning::Redistribute_0(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 43);
  return sub_481070(this, a2);
}

//----- (00485430) --------------------------------------------------------
int __thiscall sub_485430(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+Ch] [ebp-4h]

  v3 = 3 * a2[15] / 2;
  v6 = (v3 + 2 * this[2] * CChar::GetInt(a2) / 6) / 2 + 480;
  if ( v6 >= 500 )
    v5 = 500;
  else
    v5 = v6;
  return v5 + a3;
}

//----- (004854A0) --------------------------------------------------------
int __thiscall CIceRequiem::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 45);
  return sub_481070(this, a2);
}

//----- (004854D0) --------------------------------------------------------
void __thiscall sub_4854D0(_DWORD *this, int a2, void *a3, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-4h] [ebp-14h]
  _DWORD *v9; // [esp+4h] [ebp-Ch]
  int v10; // [esp+8h] [ebp-8h] BYREF
  int v11; // [esp+Ch] [ebp-4h] BYREF

  ScanPacket((char *)a3, (char *)a4, "dd", &v10, &v11);
  v9 = (_DWORD *)sub_491080(*(_DWORD *)(a2 + 316));
  if ( CSMap::IsValidTile(v9, &v10, 0)
    && (*(int (__thiscall **)(_DWORD *, int, int, int))(*this + 100))(this, a2, v10, v11) )
  {
    v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v5);
    v7 = this[2];
    v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", this[1], v6, 0, 0, v7);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 61, "db", v4, 0);
  }
}

//----- (004855D0) --------------------------------------------------------
int __thiscall sub_4855D0(void *this, int a2, int a3)
{
  int result; // eax

  if ( a3 )
    result = (*(int (__thiscall **)(void *, int, _DWORD, _DWORD))(*(_DWORD *)this + 92))(
               this,
               a2,
               *(_DWORD *)(a3 + 332),
               *(_DWORD *)(a3 + 336));
  return result;
}

//----- (00485610) --------------------------------------------------------
void __thiscall sub_485610(_DWORD *this, int a2, int a3, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // [esp-4h] [ebp-Ch]
  _DWORD *v8; // [esp+4h] [ebp-4h]

  v8 = (_DWORD *)sub_491080(*(_DWORD *)(a2 + 316));
  if ( CSMap::IsValidTile(v8, &a3, 0)
    && (*(int (__thiscall **)(_DWORD *, int, int, int))(*this + 104))(this, a2, a3, a4) )
  {
    v6 = this[2];
    v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", this[1], v5, 0, 0, v6);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 61, "db", v4, 0);
  }
}

//----- (004856D0) --------------------------------------------------------
CIOCriticalSection *__thiscall CChainLitning::GetMagic(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // esi
  int v5; // edi
  int v6; // esi
  int v7; // edi
  int v8; // eax
  int v10; // [esp-8h] [ebp-20h]
  int nMin; // [esp+Ch] [ebp-Ch]

  v4 = sub_483260(this, (int)a2);
  v5 = 3 * a2[15] / 2;
  nMin = v4 + (v5 + 5 * this[2] * (3 * CChar::GetInt(a2) / 2) / 3) / 2 + 360;
  v6 = sub_483260(this, (int)a2);
  v7 = 3 * a2[15] / 2;
  v8 = CChar::GetInt(a2);
  v10 = RandomBetween(nMin, v6 + (v7 + 10 * this[2] * (3 * v8 / 2) / 2) / 2 + 700);
  return CMonsterMagic::Create(228, a2[79], &a3, 1, (int)a2, v10, 16000);
}

//----- (004857C0) --------------------------------------------------------
CIOCriticalSection *__thiscall CChainLitning::Redistribute(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // esi
  int v5; // eax

  v4 = 3 * a2[15] / 2;
  v5 = CChar::GetInt(a2);
  return CMonsterMagic::Create(229, a2[79], &a3, 1, (int)a2, 60 * ((v4 + 10 * this[2] * v5 / 4) / 2 + 240) / 100, 16000);
}

//----- (00485840) --------------------------------------------------------
CIOCriticalSection *__thiscall CFireRain::AddMagicMonster(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // esi
  int v5; // eax

  v4 = 3 * a2[15] / 2;
  v5 = CChar::GetInt(a2);
  return CMonsterMagic::Create(230, a2[79], &a3, 1, (int)a2, 60 * ((v4 + 14 * this[2] * v5 / 3) / 2 + 380) / 100, 16000);
}

//----- (004858C0) --------------------------------------------------------
CIOCriticalSection *__thiscall sub_4858C0(_DWORD *this, int *a2, int a3, int a4)
{
  int v4; // eax

  v4 = CChar::GetAttack((CPlayer *)a2);
  return CMonsterMagic::Create(231, a2[79], &a3, 1, (int)a2, (200 * this[2] + 50) * v4 / 100 / 10, 12000);
}

//----- (00485930) --------------------------------------------------------
BOOL __thiscall sub_485930(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 70;
  return 0;
}

//----- (00485970) --------------------------------------------------------
void __thiscall CHealing::Excute(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // esi
  int v5; // edi
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-24h]
  int v9; // [esp-4h] [ebp-1Ch]
  int v10; // [esp+8h] [ebp-10h]
  int v12; // [esp+10h] [ebp-8h]
  int v13; // [esp+14h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))*this)(this, a2, 0) )
  {
    v12 = sub_480F20(this, (int)a2);
    v4 = RandomBetween(0, 2 * this[2]);
    v5 = 15 * a2[15] / 10;
    v13 = v4 + (unsigned int)(v12 * ((v5 + 5 * this[2] * CChar::GetWis(a2) / 10) / 2)) / this[11] + 100;
    if ( v13 >= 50 * this[2] + 50 )
      v10 = 50 * this[2] + 50;
    else
      v10 = v13;
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 88))(a2, 7, 1, v10);
    v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 88))(a2, 8, 0, v6);
    v9 = this[2];
    v8 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    v7 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v7, v8, 0, v9);
  }
}

//----- (00485AB0) --------------------------------------------------------
int __thiscall sub_485AB0(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 10);
  return sub_481070(this, a2);
}

//----- (00485AE0) --------------------------------------------------------
BOOL __thiscall CAuraDefense::CanExcute(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal((int)a3)
      && a2[79] == a3[79]
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3);
}

//----- (00485B80) --------------------------------------------------------
void __thiscall sub_485B80(_DWORD *a1, int a5, void *a6, int a7)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-24h]
  int v10; // [esp-4h] [ebp-1Ch]
  int v12; // [esp+4h] [ebp-14h]
  int v13; // [esp+Ch] [ebp-Ch] BYREF
  char v14; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v15; // [esp+14h] [ebp-4h]

  ScanPacket((char *)a6, (char *)a7, "bd", &v14, &v13);
  v15 = CPlayer::FindPlayer_(v13);
  if ( v15 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v15) )
    {
      v12 = sub_480F20(a1, a5);
      v5 = (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 80))(a1, a5, v15);
      ((void (__cdecl *)(CIOObject *, int, int, unsigned int))v15->__vftable[3].OnWaitCallback)(
        v15,
        7,
        1,
        (unsigned int)(v12 * v5) / a1[11]);
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v6);
      v10 = a1[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v15);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbb", a1[1], v7, v9, 0, v10);
    }
    else if ( a1[10] )
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 61, "db", v8, 0);
    }
    CIOObject::Release(v15, (volatile int *)&v15[22]);
  }
  else if ( a1[10] )
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
    CChar::WriteInSight(a5, 61, "db", v4, 0);
  }
}

//----- (00485CE0) --------------------------------------------------------
int __thiscall sub_485CE0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // edi
  int v5; // esi
  int v7; // [esp+8h] [ebp-Ch]
  int v9; // [esp+10h] [ebp-4h]

  v3 = 30 * this[2];
  v4 = 7 * a2[15] / 11;
  v5 = v3 + (v4 + 3 * this[2] * CChar::GetWis(a2) / 11) / 2 + 70;
  v9 = RandomBetween(0, 2 * this[2]) + v5;
  if ( v9 >= 40 * this[2] + 100 )
    v7 = 40 * this[2] + 100;
  else
    v7 = v9;
  return v7;
}

//----- (00485D80) --------------------------------------------------------
int __thiscall CHealingAny::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 16);
  sub_480340(a2 + 156, 22);
  return sub_481070(this, a2);
}

//----- (00485DC0) --------------------------------------------------------
int __thiscall sub_485DC0(int *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // edi
  int v5; // esi
  int v7; // [esp+8h] [ebp-Ch]
  int v9; // [esp+10h] [ebp-4h]

  v3 = 50 * this[2];
  v4 = 8 * a2[15] / 11;
  v5 = v3 + (v4 + 5 * this[2] * CChar::GetWis(a2) / 9) / 2 + 500;
  v9 = RandomBetween(0, this[2]) + v5;
  if ( v9 >= 50 * this[2] + 650 )
    v7 = 50 * this[2] + 650;
  else
    v7 = v9;
  return v7;
}

//----- (00485E60) --------------------------------------------------------
int __thiscall CHealingAnyPlus::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 28);
  return sub_481070(this, a2);
}

//----- (00485E90) --------------------------------------------------------
int __thiscall CRestoration::GetIncHP(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // esi
  int v4; // esi
  int v6; // [esp+4h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = 100 * this[2];
  v4 = v3 + 11 * CChar::GetWis(a2) / 3 + 750;
  v7 = RandomBetween(0, 100) + v4;
  if ( v7 >= 1600 )
    v6 = 1600;
  else
    v6 = v7;
  return v6;
}

//----- (00485EF0) --------------------------------------------------------
BOOL __thiscall CChantBattle::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 60;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 66;
  return 0;
}

//----- (00485F50) --------------------------------------------------------
int __stdcall sub_485F50(int a1, CPlayer *a2)
{
  return 25 * CChar::GetMaxHP(a2) / 100;
}

//----- (00485F70) --------------------------------------------------------
int __thiscall CHealingAnyQuick::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 55);
  return sub_481070(this, a2);
}

//----- (00485FA0) --------------------------------------------------------
int __thiscall CHealingInstance::GetIncHP(_DWORD *this, int a2, CPlayer *a3)
{
  return (20 * this[2] + 15) * CChar::GetMaxHP(a3) / 100;
}

//----- (00485FD0) --------------------------------------------------------
BOOL __thiscall sub_485FD0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 62;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 69;
  return 0;
}

//----- (00486030) --------------------------------------------------------
int __stdcall sub_486030(int a1, CPlayer *a2)
{
  return CChar::GetMaxHP(a2);
}

//----- (00486050) --------------------------------------------------------
_DWORD *__thiscall CRest::ExcutePassive(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[144] -= this[2];
    v4 = a3 + a2[144];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[144];
  }
  a2[144] = v4;
  return result;
}

//----- (004860B0) --------------------------------------------------------
BOOL __thiscall CRest::CanSkillUp(_DWORD *this, int a2)
{
  return this[2] == 1 && (*(_DWORD *)(a2 + 464) & 2) != 0 && *(int *)(a2 + 60) >= 30;
}

//----- (004860F0) --------------------------------------------------------
int __thiscall CUpFatal::ExcutePassive(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int result; // eax
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-8h]

  if ( a4 )
  {
    a2[45] -= this[2];
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 31, 1, a3);
    if ( (int)this[2] >= 10 )
      v6 = 10;
    else
      v6 = this[2];
    a2[64] -= v6;
    if ( a3 >= 10 )
      v5 = 10;
    else
      v5 = a3;
    result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 31, 1, v5);
  }
  else
  {
    (*(void (__cdecl **)(_DWORD *, int, int, _DWORD))(*a2 + 92))(a2, 31, 1, this[2]);
    if ( (int)this[2] >= 10 )
      result = (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 96))(a2, 31, 1, 10);
    else
      result = (*(int (__cdecl **)(_DWORD *, int, int, _DWORD))(*a2 + 96))(a2, 31, 1, this[2]);
  }
  return result;
}

//----- (004861F0) --------------------------------------------------------
BOOL __thiscall sub_4861F0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( (int)this[2] > 0 && (int)this[2] < 5 )
    return *(_DWORD *)(a2 + 60) > this[2] + 9;
  if ( (int)this[2] >= 5 && (int)this[2] < 10 )
    return *(_DWORD *)(a2 + 60) > this[2] + 28;
  if ( (int)this[2] < 10 || (int)this[2] >= 15 )
    return 0;
  return *(_DWORD *)(a2 + 60) > this[2] + 36;
}

//----- (004862A0) --------------------------------------------------------
int __stdcall CDash::Excute(CDash *this, CPlayer *pOwner, char *packet, char *end)
{
  _DWORD *v4; // ecx
  _DWORD *v6; // [esp+0h] [ebp-4h]

  v6 = v4;
  if ( !this[6].m_nSkill && (this[6].m_nLevel & 4) != 0 )
    sub_480340(&this[8].m_dwLmtSpecialty, 36);
  return sub_481070(v6, this);
}
// 4862A4: variable 'v4' is possibly undefined

//----- (004862F0) --------------------------------------------------------
int __stdcall CUpFatal2::ExcutePassive(_DWORD *a1, int a2, int a3)
{
  if ( a3 )
    a1[45] -= 80;
  return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a1 + 92))(a1, 31, 1, 80);
}

//----- (00486350) --------------------------------------------------------
int __stdcall CUpFatal3::ExcutePassive(_DWORD *a1, int a2, int a3)
{
  if ( a3 )
    a1[45] -= 20;
  return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a1 + 92))(a1, 31, 1, 20);
}

//----- (004863B0) --------------------------------------------------------
BOOL __thiscall CMeditation::CanExcute(_DWORD *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal((int)a2) && !sub_40B310(a2, 512) && CPlayer::IsWState(a2, 0) && a2[69] >= a2[15] - 9 * this[2];
}

//----- (00486420) --------------------------------------------------------
void __thiscall CMeshSpeed::Excute(CMeshSpeed *this, CPlayer *pOwner, char *packet, char *end)
{
  CBuffMoveSpeed *v4; // eax
  int v5; // [esp-10h] [ebp-1Ch]
  int v6; // [esp-Ch] [ebp-18h]
  int v7; // [esp-4h] [ebp-10h]
  __int64 v8; // [esp+0h] [ebp-Ch]

  if ( this->CanExcute(this, pOwner, 0) )
  {
    v8 = CChar::IsMState(pOwner, 1i64);
    if ( v8 )
      ((void (__thiscall *)(CPlayer *, int, _DWORD))pOwner->SubMState)(pOwner, 1, 0);
    v4 = CBuff::CreateBuff(2, 10 * this->m_nLevel + 720, this->m_nLevel, v8);
    pOwner->AddBuff(pOwner, v4);
    pOwner->UpdateProperty(pOwner, 8, 0, pOwner->m_nLevel - 9 * this->m_nLevel);
    v7 = this->m_nLevel;
    v6 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
    v5 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
    CChar::WriteInSight((int)pOwner, 63, "bddbb", this->m_nSkill, v5, v6, 0, v7);
  }
}

//----- (00486500) --------------------------------------------------------
_DWORD *__thiscall sub_486500(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[242] -= this[2];
    v4 = a3 + a2[242];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[242];
  }
  a2[242] = v4;
  return result;
}

//----- (00486560) --------------------------------------------------------
_DWORD *__thiscall sub_486560(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[243] -= this[2];
    v4 = a3 + a2[243];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[243];
  }
  a2[243] = v4;
  return result;
}

//----- (004865C0) --------------------------------------------------------
CPlayer *__thiscall CDarknessVision::Excute(CDarknessVision *this, CPlayer *pOwner, char *packet, char *end)
{
  char *v4; // edx
  CPlayer *result; // eax

  if ( end )
  {
    *((_DWORD *)pOwner + 244) -= *((_DWORD *)this + 2);
    v4 = &packet[*((_DWORD *)pOwner + 244)];
    result = pOwner;
  }
  else
  {
    result = this;
    v4 = (char *)(*((_DWORD *)this + 2) + *((_DWORD *)pOwner + 244));
  }
  *((_DWORD *)pOwner + 244) = v4;
  return result;
}

//----- (00486620) --------------------------------------------------------
void __thiscall CFatalChance::Excute(_DWORD *this, int a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-10h]
  int v8; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*this)(this, a2, 0) )
  {
    v4 = CBuff::CreateBuff(3, 900, 2 * this[2] + 3, this[2]);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v4);
    v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v5);
    v8 = this[2];
    v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", this[1], v6, v7, 0, v8);
  }
}

//----- (004866D0) --------------------------------------------------------
BOOL __thiscall CFatalChance::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 35;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 40;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 45;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 50;
  }
  return 0;
}

//----- (00486760) --------------------------------------------------------
BOOL __thiscall CDarknessVision::CanSkillUp(CDarknessVision *this, CPlayer *pOwner)
{
  if ( *((_DWORD *)this + 2) >= *((_DWORD *)this + 7) )
    return 0;
  if ( *((int *)this + 2) > 0 && *((int *)this + 2) < 3 )
    return *((_DWORD *)pOwner + 15) > *((_DWORD *)this + 2) + 29;
  if ( *((int *)this + 2) >= 3 && *((int *)this + 2) < 6 )
    return *((_DWORD *)pOwner + 15) > *((_DWORD *)this + 2) + 31;
  if ( *((int *)this + 2) >= 6 && *((int *)this + 2) < 9 )
    return *((_DWORD *)pOwner + 15) > *((_DWORD *)this + 2) + 33;
  if ( *((int *)this + 2) >= 9 && *((int *)this + 2) < 12 )
    return *((_DWORD *)pOwner + 15) > *((_DWORD *)this + 2) + 35;
  if ( *((int *)this + 2) < 12 || *((int *)this + 2) >= 15 )
    return 0;
  return *((_DWORD *)pOwner + 15) > *((_DWORD *)this + 2) + 37;
}

//----- (00486860) --------------------------------------------------------
BOOL __thiscall CRevival::CanExcute(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal((int)a2)
      && !CChar::IsNormal((int)a3)
      && a2[79] == a3[79]
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && !sub_44A510(a3, 24);
}

//----- (00486910) --------------------------------------------------------
void __thiscall CAmnesia::CanExcute(CAmnesia *this, CPlayer *pOwner, CChar *pTarget, char *a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-1Ch]
  int v12; // [esp-4h] [ebp-14h]
  int v14; // [esp+4h] [ebp-Ch] BYREF
  char v15; // [esp+Bh] [ebp-5h] BYREF
  int a1; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)pTarget, a7, "bd", &v15, &v14);
  a1 = (int)CPlayer::FindPlayer_(v14);
  if ( a1 )
  {
    if ( this->CanExcute(this, pOwner, (CChar *)a1) )
    {
      CPlayer::AddEState((_DWORD *)a1, 8);
      this->__vftable[1].CanExcute(this, pOwner, (CChar *)a1);
      CPlayer::Write(a1, 67, "b", 53);
      v8 = this->GetSpendMP(this, 0);
      pOwner->UpdateProperty(pOwner, 8, 0, v8);
      v12 = this->m_nLevel;
      v11 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
      CChar::WriteInSight((int)pOwner, 63, "bddbb", this->m_nSkill, v9, v11, 0, v12);
    }
    else
    {
      v10 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
      CChar::WriteInSight((int)pOwner, 61, "db", v10, 0);
    }
    CIOObject::Release((CIOObject *)a1, (volatile int *)(a1 + 352));
  }
  else
  {
    v7 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
    CChar::WriteInSight((int)pOwner, 61, "db", v7, 0);
  }
}

//----- (00486A50) --------------------------------------------------------
int __stdcall CRevival::Apply(int a1, CPlayer *a2)
{
  int result; // eax

  a2->m_nRevivalHP = 13 * CChar::GetMaxHP(a2) / 100;
  result = 11 * CChar::GetMaxMP(a2) / 100;
  a2->m_nRevivalMP = result;
  return result;
}

//----- (00486AA0) --------------------------------------------------------
int __stdcall CSacrifice::CanExcute(CSacrifice *this, CPlayer *pOwner, CChar *pTarget)
{
  _DWORD *v3; // ecx
  _DWORD *v5; // [esp+0h] [ebp-4h]

  v5 = v3;
  sub_480340(&this[8].m_dwLmtSpecialty, 29);
  sub_480340(&this[8].m_dwLmtSpecialty, 34);
  return sub_481070(v5, this);
}
// 486AA4: variable 'v3' is possibly undefined

//----- (00486AE0) --------------------------------------------------------
int __thiscall CResurrection::Apply(_DWORD *this, int a2, CPlayer *a3)
{
  int v3; // eax
  int result; // eax
  int v6; // [esp+8h] [ebp-4h]

  v3 = CChar::GetMaxHP(a3);
  a3->m_nRevivalHP = v3 / 10 + this[2] * v3 / 4;
  v6 = CChar::GetMaxMP(a3);
  result = v6 / 10;
  a3->m_nRevivalMP = v6 / 10 + this[2] * v6 / 10;
  return result;
}

//----- (00486B60) --------------------------------------------------------
int __thiscall CReincarnate::Apply(_DWORD *this, int a2, CPlayer *a3)
{
  int v3; // eax
  int result; // eax
  int v6; // [esp+8h] [ebp-4h]

  v3 = CChar::GetMaxHP(a3);
  a3->m_nRevivalHP = v3 / 10 + v3 * (12 * this[2] - 9) / 100;
  v6 = CChar::GetMaxMP(a3);
  result = v6 / 10;
  a3->m_nRevivalMP = v6 / 10 + v6 * (4 * this[2] - 3) / 100;
  return result;
}

//----- (00486BF0) --------------------------------------------------------
int __thiscall CUpEvade::ExcutePassive(_DWORD *this, int a2, int a3, int a4)
{
  int v4; // edx
  int result; // eax

  if ( a4 )
  {
    *(_DWORD *)(a2 + 264) -= this[2] + 7;
    v4 = a3 + *(_DWORD *)(a2 + 264) + 7;
  }
  else
  {
    v4 = this[2] + *(_DWORD *)(a2 + 264) + 7;
  }
  result = a2;
  *(_DWORD *)(a2 + 264) = v4;
  return result;
}

//----- (00486C60) --------------------------------------------------------
int __thiscall sub_486C60(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 20);
  return sub_481070(this, a2);
}

//----- (00486C90) --------------------------------------------------------
_DWORD *__thiscall CUpRFEvade::ExcutePassive(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // edx
  _DWORD *result; // eax

  if ( a4 )
  {
    a2[66] -= this[2];
    v4 = a3 + a2[66];
    result = a2;
  }
  else
  {
    result = this;
    v4 = this[2] + a2[66];
  }
  a2[66] = v4;
  return result;
}

//----- (00486CF0) --------------------------------------------------------
BOOL __thiscall sub_486CF0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 62;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 68;
  return 0;
}

//----- (00486D50) --------------------------------------------------------
void __thiscall sub_486D50(_DWORD *this, int a2, int a3, int a4)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-10h]
  int v9; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*this)(this, a2, 0) )
  {
    v5 = CBuff::CreateBuff(1, 900, this[14], this[15]);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v5);
    v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v6);
    v9 = this[2];
    v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", this[1], v7, v8, 0, v9);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 61, "db", v4, 0);
  }
}

//----- (00486E20) --------------------------------------------------------
BOOL __thiscall CHaste::CanExcute(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal((int)a3)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && !CPlayer::IsWearBuffStandard(a3)
      && CChar::IsNormal((int)a2)
      && a2[79] == a3[79]
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
}

//----- (00486EC0) --------------------------------------------------------
void __thiscall sub_486EC0(int a1, int a5, void *a6, int a7)
{
  int v7; // eax
  CBuffMoveSpeed *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // [esp-Ch] [ebp-1Ch]
  int v13; // [esp-4h] [ebp-14h]
  _DWORD *v15; // [esp+0h] [ebp-10h]
  int v16; // [esp+4h] [ebp-Ch] BYREF
  char v17; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v18; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)a6, (char *)a7, "bd", &v17, &v16);
  v18 = CPlayer::FindPlayer_(v16);
  if ( v18 )
  {
    if ( (**(int (__thiscall ***)(int, int, CIOObject *))a1)(a1, a5, v18) )
    {
      v8 = CBuff::CreateBuff(12, 600 * *(_DWORD *)(a1 + 8), 15 * *(_DWORD *)(a1 + 8), a1);
      v18->__vftable[7].OnTimerCallback(v18, (int)v8);
      v9 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v15 + 32))(v15, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v9);
      v13 = v15[2];
      v12 = std::_Mpunct<wchar_t>::do_frac_digits(v18);
      v10 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbb", v15[1], v10, v12, 0, v13);
    }
    else
    {
      v11 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 61, "db", v11, 0);
    }
    CIOObject::Release(v18, (volatile int *)&v18[22]);
  }
  else
  {
    v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
    CChar::WriteInSight(a5, 61, "db", v7, 0);
  }
}
// 486F6D: variable 'v15' is possibly undefined

//----- (00487000) --------------------------------------------------------
void __thiscall CFrostBlast::Excute(_DWORD *this, int a1, void *Src, int a4)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-18h] [ebp-30h]
  int v10; // [esp-10h] [ebp-28h]
  int v11; // [esp+0h] [ebp-18h]
  int v13; // [esp+8h] [ebp-10h]
  DWORD v14; // [esp+Ch] [ebp-Ch] BYREF
  char v15; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v16; // [esp+14h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v15, &v14);
  v16 = 0;
  LOBYTE(v11) = v15;
  if ( v15 )
  {
    if ( v15 == 1 )
      v16 = CMonster::FindMonster(v14);
  }
  else
  {
    v16 = CPlayer::FindPlayer_(v14);
  }
  if ( v16 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a1, v16) )
    {
      v13 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*this + 40))(this, a1, v16) )
      {
        v13 = 1;
        v5 = CBuff::CreateBuff(8, 8, v11, (int)this);
        v16->__vftable[7].OnTimerCallback(v16, (int)v5);
      }
      v16->__vftable[3].OnTimer(v16, a1);
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, v6);
      v10 = this[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v16);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 63, "bddbbwwb", this[1], v7, v9, 1, v10, 0, 0, v13);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 61, "db", v8, 0);
    }
    CIOObject::Release(v16, (volatile int *)&v16[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CChar::WriteInSight(a1, 61, "db", v4, 0);
  }
}
// 4870CD: variable 'v11' is possibly undefined
// 4870F8: variable 'this' is possibly undefined

//----- (00487190) --------------------------------------------------------
int __thiscall CFrostBlast::Redistribute(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 37);
  return sub_481070(this, a2);
}

//----- (004871C0) --------------------------------------------------------
void __thiscall CHealingParty::Excute(_DWORD *this, int *a2, int a3, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-24h]
  int v11; // [esp-Ch] [ebp-24h]
  int v12; // [esp-8h] [ebp-20h]
  int v13; // [esp-4h] [ebp-1Ch]
  int v14; // [esp-4h] [ebp-1Ch]
  int v15; // [esp+0h] [ebp-18h]
  volatile int *v17; // [esp+8h] [ebp-10h]
  int v18; // [esp+10h] [ebp-8h]
  unsigned int a4a; // [esp+14h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, int *, _DWORD))*this)(this, a2, 0) )
  {
    v18 = sub_480F20(this, (int)a2);
    a4a = (unsigned int)(v18 * (*(int (__thiscall **)(_DWORD *, int *))(*this + 84))(this, a2)) / this[11];
    if ( a2[254] )
    {
      v17 = sub_44D4E0(a2[254]);
      if ( v17 )
      {
        v13 = (*(int (__thiscall **)(_DWORD *))(*this + 80))(this);
        v12 = this[1];
        v5 = (*(int (__thiscall **)(_DWORD *))(*this + 88))(this);
        CParty::Healing(v17, (int)a2, v5, a4a, v12, v13);
        sub_401DE0((int *)v17);
      }
    }
    else
    {
      if ( (*(int (__thiscall **)(_DWORD *))(*this + 88))(this) )
        v15 = (int)(a4a * CChar::GetMaxHP((CPlayer *)a2)) / 100;
      else
        v15 = a4a;
      (*(void (__cdecl **)(int *, int, int, int))(*a2 + 88))(a2, 7, 1, v15);
      v10 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      v6 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      v7 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, _DWORD))(*this + 80))(this, this[1], v6, v10, v15, 0);
      CChar::WriteInSight((int)a2, 10, "bbddww", v7);
    }
    v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
    (*(void (__cdecl **)(int *, int, _DWORD, int))(*a2 + 88))(a2, 8, 0, v8);
    v14 = this[2];
    v11 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    v9 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v9, v11, 0, v14);
  }
  else if ( this[10] )
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 61, "db", v4, 0);
  }
}

//----- (00487390) --------------------------------------------------------
int __thiscall sub_487390(_DWORD *this, _DWORD *a2)
{
  int v2; // esi
  __int64 v3; // rax
  int v4; // esi
  int v6; // [esp+4h] [ebp-Ch]
  int v8; // [esp+Ch] [ebp-4h]

  v2 = a2[15] / 2;
  v3 = v2 + 8 * this[2] * CChar::GetWis(a2) / 7;
  v4 = 60 * this[2] + (((int)v3 - HIDWORD(v3)) >> 1);
  v8 = v4 + RandomBetween(0, 10 * this[2]) + 100;
  if ( v8 >= 180 * this[2] )
    v6 = 180 * this[2];
  else
    v6 = v8;
  return v6;
}

//----- (00487430) --------------------------------------------------------
int __thiscall sub_487430(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 57);
  return sub_481070(this, a2);
}

//----- (00487460) --------------------------------------------------------
int __thiscall sub_487460(_DWORD *this, _DWORD *a2)
{
  sub_480340(a2 + 156, 58);
  return sub_481070(this, a2);
}

//----- (00487490) --------------------------------------------------------
int __stdcall CHealingPartyIns::GetIncHP(int a1)
{
  int v1; // esi

  v1 = 8 * *(_DWORD *)(a1 + 60) / 11;
  return v1 + RandomBetween(0, 100) + 550;
}

//----- (004874D0) --------------------------------------------------------
BOOL __thiscall CHealingPartyIns::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 58;
  return 0;
}

//----- (00487510) --------------------------------------------------------
void __thiscall sub_487510(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3, int a4)
{
  CBuffMoveSpeed *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-10h]
  int v11; // [esp-4h] [ebp-8h]
  _DWORD *v13; // [esp+0h] [ebp-4h]

  if ( (**this)(this, a2, 0) )
  {
    v7 = CBuff::CreateBuff(9, 900, 3, (int)this);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v7);
    v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v13 + 32))(v13, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v8);
    v11 = v13[2];
    v10 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v9 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", v13[1], v9, v10, 0, v11);
  }
}
// 487552: variable 'v13' is possibly undefined

//----- (004875B0) --------------------------------------------------------
void __thiscall sub_4875B0(_DWORD *a1, int a5, void *a6, int a7)
{
  const std::vector<CIOSocket::CIOTimer>::const_iterator *v7; // eax
  int v8; // eax
  CBuffMoveSpeed *v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // [esp-44h] [ebp-74h]
  int v14; // [esp-3Ch] [ebp-6Ch]
  int v15; // [esp-30h] [ebp-60h]
  int v16; // [esp-8h] [ebp-38h]
  CIOCriticalSection *v17; // [esp+0h] [ebp-30h]
  char v19[4]; // [esp+8h] [ebp-28h] BYREF
  int a3a; // [esp+Ch] [ebp-24h]
  int v21; // [esp+10h] [ebp-20h]
  int v22; // [esp+14h] [ebp-1Ch]
  int a1a; // [esp+18h] [ebp-18h] BYREF
  char v24; // [esp+1Fh] [ebp-11h] BYREF
  CPlayer *player; // [esp+20h] [ebp-10h]
  int v26; // [esp+24h] [ebp-Ch] BYREF
  CIOObject *v27; // [esp+28h] [ebp-8h]
  std::vector<CIOSocket::CIOTimer>::const_iterator v28; // [esp+2Ch] [ebp-4h] BYREF

  ScanPacket((char *)a6, (char *)a7, "bdd", &v24, &a1a, &v26);
  CIOCriticalSection::Enter(v17);
  player = 0;
  sub_44AE20((_DWORD *)(a5 + 1068), &v28, &v26);
  v7 = (const std::vector<CIOSocket::CIOTimer>::const_iterator *)sub_430C20((_DWORD *)(a5 + 1068), (int)v19);
  if ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
         &v28,
         v7) )
  {
    player = *(CPlayer **)(sub_420250(&v28) + 4);
    if ( *(_DWORD *)(*(_DWORD *)&player->m_szName[8] + 64) == 360 )
    {
      v16 = 9;
      if ( !((int (__thiscall *)(CPlayer *))player->SubMStateEx)(player) )
        CPlayer::_OutofInven(player, (CItem *)a5);
    }
    else
    {
      player = 0;
    }
  }
  CIOCriticalSection::Leave((CIOCriticalSection *)v16);
  if ( !player )
    goto LABEL_8;
  v27 = 0;
  if ( v24 )
  {
    if ( v24 == 1 )
      v27 = CMonster::FindMonster(a1a);
  }
  else
  {
    v27 = CPlayer::FindPlayer_(a1a);
  }
  if ( v27 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v27) )
    {
      v22 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v27) )
      {
        v22 = 1;
        v21 = ((int (__thiscall *)(CIOObject *))v27->__vftable[6].~CIOObject)(v27);
        a3a = *(_DWORD *)(a5 + 60) + 10 * a1[2];
        a3a -= v21 * a3a / 100;
        v9 = CBuff::CreateBuff(11, 10 * a1[2] + 10, a3a, a5);
        v27->__vftable[7].OnTimerCallback(v27, (int)v9);
      }
      v27->__vftable[3].OnTimer(v27, a5);
      v10 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v10);
      v15 = v22;
      v14 = a1[2];
      v13 = std::_Mpunct<wchar_t>::do_frac_digits(v27);
      v11 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbbwwb", a1[1], v11, v13, 1, v14, 0, 0, v15);
    }
    else
    {
      v12 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 61, "db", v12, 0);
    }
    CIOObject::Release(v27, (volatile int *)&v27[22]);
  }
  else
  {
LABEL_8:
    v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
    CChar::WriteInSight(a5, 61, "db", v8, 0);
  }
}
// 4875E3: variable 'v17' is possibly undefined
// 487679: variable 'v16' is possibly undefined

//----- (00487860) --------------------------------------------------------
void __thiscall sub_487860(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3, int a4)
{
  CBuffMoveSpeed *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-10h]
  int v11; // [esp-4h] [ebp-8h]
  _DWORD *v13; // [esp+0h] [ebp-4h]

  if ( (**this)(this, a2, 0) )
  {
    v7 = CBuff::CreateBuff(10, 900, 5, (int)this);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v7);
    v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v13 + 32))(v13, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v8);
    v11 = v13[2];
    v10 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v9 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", v13[1], v9, v10, 0, v11);
  }
}
// 4878A2: variable 'v13' is possibly undefined

//----- (00487900) --------------------------------------------------------
BOOL __thiscall CMeshStr::Apply(CMeshStr *this, CPlayer *pOwner, CChar *pTarget, int *bSuccess)
{
  return CChar::IsNormal((int)pOwner)
      && CChar::IsNormal((int)pTarget)
      && pOwner->m_nMap == pTarget->m_nMap
      && !sub_40B310(pOwner, 512)
      && CPlayer::IsWState(pOwner, 0)
      && pOwner->m_nCurMP >= this->GetSpendMP(this, 0)
      && pTarget->IsPlayer(pTarget)
      && pOwner->m_nParty
      && pOwner->m_nParty == pTarget[2].m_prtyPt.nMinMagic
      && pOwner != pTarget;
}

//----- (004879D0) --------------------------------------------------------
void __thiscall sub_4879D0(int a1, int a5, void *a6, int a7)
{
  CBuffMoveSpeed *v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-1Ch]
  int v8; // [esp-4h] [ebp-14h]
  _DWORD *v10; // [esp+0h] [ebp-10h]
  int v11; // [esp+4h] [ebp-Ch] BYREF
  char v12; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v13; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)a6, (char *)a7, "bd", &v12, &v11);
  v13 = CPlayer::FindPlayer_(v11);
  if ( v13 )
  {
    if ( (**(int (__thiscall ***)(int, int, CIOObject *))a1)(a1, a5, v13) )
    {
      v4 = CBuff::CreateBuff(13, 300 * *(_DWORD *)(a1 + 8) + 300, -(10 * *(_DWORD *)(a1 + 8) + 40), a1);
      v13->__vftable[7].OnTimerCallback(v13, (int)v4);
      v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v10 + 32))(v10, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v5);
      v8 = v10[2];
      v7 = std::_Mpunct<wchar_t>::do_frac_digits(v13);
      v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbb", v10[1], v6, v7, 0, v8);
    }
    CIOObject::Release(v13, (volatile int *)&v13[22]);
  }
}
// 487A69: variable 'v10' is possibly undefined

//----- (00487AE0) --------------------------------------------------------
BOOL __thiscall CMeshDefense::Apply(CMeshDefense *this, CPlayer *pOwner, CChar *pTarget, int *bSuccess)
{
  if ( this->m_nLevel >= this->m_nLmtMaxLevel )
    return 0;
  if ( this->m_nLevel == 1 )
    return pOwner->m_nLevel >= 53;
  if ( this->m_nLevel == 2 )
    return pOwner->m_nLevel >= 62;
  return 0;
}

//----- (00487B40) --------------------------------------------------------
BOOL __thiscall sub_487B40(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal((int)a3)
      && a2[79] == a3[79]
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 1)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))(*a2 + 176))(a2, a3, 0);
}

//----- (00487BF0) --------------------------------------------------------
void __thiscall CDestroySight::Apply(CDestroySight *this, CPlayer *pOwner, CChar *pTarget, int *bSuccess)
{
  CBuffMoveSpeed *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-1Ch]
  int v11; // [esp-4h] [ebp-14h]
  int v13; // [esp+4h] [ebp-Ch] BYREF
  char v14; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v15; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)pTarget, (char *)bSuccess, "bd", &v14, &v13);
  v15 = CPlayer::FindPlayer_(v13);
  if ( v15 )
  {
    if ( this->CanExcute(this, pOwner, (CChar *)v15) )
    {
      if ( this->CanContiSkill(this, pOwner, (CChar *)v15) )
      {
        v7 = CBuff::CreateBuff(7, 3, (int)this, v13);
        v15->__vftable[7].OnTimerCallback(v15, (int)v7);
      }
      v8 = this->GetSpendMP(this, 0);
      pOwner->UpdateProperty(pOwner, 8, 0, v8);
      v11 = this->m_nLevel;
      v10 = std::_Mpunct<wchar_t>::do_frac_digits(v15);
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
      CChar::WriteInSight((int)pOwner, 63, "bddbb", this->m_nSkill, v9, v10, 0, v11);
    }
    CIOObject::Release(v15, (volatile int *)&v15[22]);
  }
}
// 487C81: variable 'this' is possibly undefined

//----- (00487CF0) --------------------------------------------------------
BOOL __thiscall CSilenceArrow::CanExcute(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal((int)a3)
      && a2[79] == a3[79]
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && a3[115] == 1
      && (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))(*a2 + 176))(a2, a3, 0);
}

//----- (00487DB0) --------------------------------------------------------
void __thiscall CSilenceArrow::Excute(_DWORD *this, int a1, void *Src, int a4)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-1Ch]
  int v10; // [esp-4h] [ebp-14h]
  int v12; // [esp+4h] [ebp-Ch] BYREF
  char v13; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v14; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v13, &v12);
  v14 = CPlayer::FindPlayer_(v12);
  if ( v14 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a1, v14) )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*this + 40))(this, a1, v14) )
      {
        v5 = CBuff::CreateBuff(15, 8, (int)this, v12);
        v14->__vftable[7].OnTimerCallback(v14, (int)v5);
      }
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, v6);
      v10 = this[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v14);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 63, "bddbb", this[1], v7, v9, 0, v10);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 61, "db", v8, 0);
    }
    CIOObject::Release(v14, (volatile int *)&v14[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CChar::WriteInSight(a1, 61, "db", v4, 0);
  }
}
// 487E5F: variable 'this' is possibly undefined

//----- (00487EF0) --------------------------------------------------------
void __thiscall CProtectRange::Excute(int (__thiscall ***this)(void *, int, CIOObject *), int a1, void *Src, int a4)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-1Ch]
  int v10; // [esp-4h] [ebp-14h]
  _DWORD *v12; // [esp+0h] [ebp-10h]
  int v13; // [esp+4h] [ebp-Ch] BYREF
  char v14; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v15; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v14, &v13);
  v15 = CPlayer::FindPlayer_(v13);
  if ( v15 )
  {
    if ( (**this)(this, a1, v15) )
    {
      v5 = CBuff::CreateBuff(14, 300, (int)this, v13);
      v15->__vftable[7].OnTimerCallback(v15, (int)v5);
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v12 + 32))(v12, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, v6);
      v10 = v12[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v15);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 63, "bddbb", v12[1], v7, v9, 0, v10);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 61, "db", v8, 0);
    }
    CIOObject::Release(v15, (volatile int *)&v15[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CChar::WriteInSight(a1, 61, "db", v4, 0);
  }
}
// 487F87: variable 'v12' is possibly undefined

//----- (00488010) --------------------------------------------------------
int __thiscall sub_488010(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v5; // [esp+4h] [ebp-4h]

  v5 = 2 * a2[17] * a2[17] / dword_4D6AB8[a2[115]];
  if ( !a4 )
    return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 5, 1, v5 * (10 * this[2] + 14) / 100);
  a2[28] -= v5 * (10 * this[2] + 14) / 100;
  return (*(int (__cdecl **)(_DWORD *, int, int, int))(*a2 + 92))(a2, 5, 1, v5 * (10 * a3 + 14) / 100);
}

//----- (004880D0) --------------------------------------------------------
int __thiscall CUpReinforceVitality::ExcutePassiveV(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // [esp+8h] [ebp-4h]
  int *v5; // [esp+18h] [ebp+Ch]

  v5 = (int *)(a3 + 4);
  v4 = *v5;
  *(_DWORD *)(a2 + 112) -= *(v5 - 1) * (10 * this[2] + 14) / 100;
  result = *(_DWORD *)(a2 + 112) + v4 * (10 * this[2] + 14) / 100;
  *(_DWORD *)(a2 + 112) = result;
  return result;
}

//----- (00488160) --------------------------------------------------------
BOOL __thiscall sub_488160(_DWORD *this, int a2)
{
  BOOL result; // eax

  if ( this[2] < this[7] )
    result = *(_DWORD *)(a2 + 60) >= 5 * this[2] + 50;
  else
    result = 0;
  return result;
}

//----- (004881A0) --------------------------------------------------------
void __thiscall CRainforceDefense::Excute(_DWORD *this, int a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-10h]
  int v8; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*this)(this, a2, 0) )
  {
    v4 = CBuff::CreateBuff(27, 1200, 7 * this[2] + 14, 3 * this[2] + 14);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v4);
    v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v5);
    v8 = this[2];
    v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", this[1], v6, v7, 0, v8);
  }
}

//----- (00488260) --------------------------------------------------------
BOOL __thiscall sub_488260(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 70;
  }
  return 0;
}

//----- (004882D0) --------------------------------------------------------
BOOL __thiscall sub_4882D0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 58;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 67;
  return 0;
}

//----- (00488330) --------------------------------------------------------
void __thiscall CVitalityDrain::Excute(_DWORD *this, int a2, void *Src, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-18h] [ebp-38h]
  int v8; // [esp-10h] [ebp-30h]
  int v9; // [esp+0h] [ebp-20h]
  int v11; // [esp+Ch] [ebp-14h]
  int v12; // [esp+10h] [ebp-10h]
  int a1; // [esp+14h] [ebp-Ch] BYREF
  char v14; // [esp+1Bh] [ebp-5h] BYREF
  CIOObject *v15; // [esp+1Ch] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v14, &a1);
  v15 = 0;
  if ( v14 )
  {
    if ( v14 == 1 )
      v15 = CMonster::FindMonster(a1);
  }
  else
  {
    v15 = CPlayer::FindPlayer_(a1);
  }
  if ( v15 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a2, v15) )
    {
      v12 = 0;
      v11 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*this + 40))(this, a2, v15) )
      {
        v12 = 1;
        v4 = CChar::GetAttack((CPlayer *)a2);
        if ( (40 * this[2] + 50) * v4 / 50 >= (int)&v15[17].__vftable[-1].OnIOCallback + 3 )
          v9 = (int)&v15[17].__vftable[-1].OnIOCallback + 3;
        else
          v9 = (40 * this[2] + 50) * CChar::GetAttack((CPlayer *)a2) / 50;
        v11 = v9;
        if ( ((int (__thiscall *)(CIOObject *))v15->__vftable[2].OnWaitCallback)(v15) )
          v15[29].m_nTimerRef = GetTickCount() + 20000;
        ((void (__cdecl *)(CIOObject *, int, _DWORD, int))v15->__vftable[3].OnWaitCallback)(v15, 7, 0, v9);
        (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)a2 + 88))(a2, 7, 1, v9 * (10 * this[2] + 20) / 50);
        v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
        (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v5);
      }
      v15->__vftable[3].OnTimer(v15, a2);
      v8 = this[2];
      v7 = std::_Mpunct<wchar_t>::do_frac_digits(v15);
      v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInSight(a2, 63, "bddbbwwb", this[1], v6, v7, 1, v8, v11, 0, v12);
    }
    CIOObject::Release(v15, (volatile int *)&v15[22]);
  }
}

//----- (00488540) --------------------------------------------------------
BOOL __thiscall CVitalityDrain::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 57;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 66;
  return 0;
}

//----- (004885A0) --------------------------------------------------------
void __thiscall CSuffering::Excute_0(_DWORD *this, int a2, void *Src, int a4)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-18h] [ebp-3Ch]
  int v10; // [esp-10h] [ebp-34h]
  int v11; // [esp+0h] [ebp-24h]
  int v13; // [esp+Ch] [ebp-18h]
  int v14; // [esp+Ch] [ebp-18h]
  int v15; // [esp+10h] [ebp-14h]
  int v16; // [esp+14h] [ebp-10h]
  int a1; // [esp+18h] [ebp-Ch] BYREF
  char v18; // [esp+1Fh] [ebp-5h] BYREF
  CIOObject *v19; // [esp+20h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v18, &a1);
  v19 = 0;
  if ( v18 )
  {
    if ( v18 == 1 )
      v19 = CMonster::FindMonster(a1);
  }
  else
  {
    v19 = CPlayer::FindPlayer_(a1);
  }
  if ( v19 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a2, v19) )
    {
      v16 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*this + 40))(this, a2, v19) )
      {
        v16 = 1;
        v15 = ((int (__thiscall *)(CIOObject *, int, int))v19->__vftable[6].~CIOObject)(v19, a2, 3);
        v13 = (150 * this[2] + 100) * CChar::GetAttack((CPlayer *)a2) / 20;
        v14 = v13 - v15 * v13 / 100;
        if ( v14 >= 4500 )
          v11 = 4500;
        else
          v11 = v14;
        v5 = CBuff::CreateBuff(29, 30, v11 / 30, v11);
        v19->__vftable[7].OnTimerCallback(v19, (int)v5);
      }
      v19->__vftable[3].OnTimer(v19, a2);
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v6);
      v10 = this[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v19);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInSight(a2, 63, "bddbbwwb", this[1], v7, v9, 1, v10, 0, 0, v16);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInSight(a2, 61, "db", v8, 0);
    }
    CIOObject::Release(v19, (volatile int *)&v19[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 61, "db", v4, 0);
  }
}

//----- (004887B0) --------------------------------------------------------
BOOL __thiscall sub_4887B0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 56;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 68;
  }
  return 0;
}

//----- (00488820) --------------------------------------------------------
void __thiscall CInchantWeapon::Excute(int (__thiscall ***this)(void *, int, CIOObject *), int a1, void *Src, int a4)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-1Ch]
  int v10; // [esp-4h] [ebp-14h]
  _DWORD *v12; // [esp+0h] [ebp-10h]
  int v13; // [esp+4h] [ebp-Ch] BYREF
  char v14; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v15; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v14, &v13);
  v15 = CPlayer::FindPlayer_(v13);
  if ( v15 )
  {
    if ( (**this)(this, a1, v15) )
    {
      v5 = CBuff::CreateBuff(36, 900, 8 * (_DWORD)this[2] + 16, (int)this);
      v15->__vftable[7].OnTimerCallback(v15, (int)v5);
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v12 + 32))(v12, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, v6);
      v10 = v12[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v15);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 63, "bddbb", v12[1], v7, v9, 0, v10);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 61, "db", v8, 0);
    }
    CIOObject::Release(v15, (volatile int *)&v15[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CChar::WriteInSight(a1, 61, "db", v4, 0);
  }
}
// 4888C9: variable 'v12' is possibly undefined

//----- (00488960) --------------------------------------------------------
BOOL __thiscall CSuffering::Excute(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  switch ( this[2] )
  {
    case 1:
      return *(_DWORD *)(a2 + 60) >= 57;
    case 2:
      return *(_DWORD *)(a2 + 60) >= 62;
    case 3:
      return *(_DWORD *)(a2 + 60) >= 66;
    case 4:
      return *(_DWORD *)(a2 + 60) >= 69;
  }
  return 0;
}

//----- (004889F0) --------------------------------------------------------
void __thiscall CAuraDefense::Excute(_DWORD *this, int a1, void *Src, int a4)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-1Ch]
  int v10; // [esp-4h] [ebp-14h]
  int v12; // [esp+4h] [ebp-Ch] BYREF
  char v13; // [esp+Bh] [ebp-5h] BYREF
  CIOObject *v14; // [esp+Ch] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v13, &v12);
  v14 = CPlayer::FindPlayer_(v12);
  if ( v14 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a1, v14) )
    {
      v5 = CBuff::CreateBuff(37, 600, 30 * this[2] + 5, 20 * this[2] + 5);
      v14->__vftable[7].OnTimerCallback(v14, (int)v5);
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, v6);
      v10 = this[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v14);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 63, "bddbb", this[1], v7, v9, 0, v10);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 61, "db", v8, 0);
    }
    CIOObject::Release(v14, (volatile int *)&v14[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CChar::WriteInSight(a1, 61, "db", v4, 0);
  }
}

//----- (00488B30) --------------------------------------------------------
BOOL __thiscall CDash::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 62;
  return 0;
}

//----- (00488B70) --------------------------------------------------------
void __thiscall sub_488B70(_DWORD *a1, int a5, void *a6, int a7)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-20h]
  int v10; // [esp-4h] [ebp-18h]
  int v11; // [esp+0h] [ebp-14h]
  DWORD v13; // [esp+8h] [ebp-Ch] BYREF
  char v14; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v15; // [esp+10h] [ebp-4h]

  ScanPacket((char *)a6, (char *)a7, "bd", &v14, &v13);
  v15 = 0;
  LOBYTE(v11) = v14;
  if ( v14 )
  {
    if ( v14 == 1 )
      v15 = CMonster::FindMonster(v13);
  }
  else
  {
    v15 = CPlayer::FindPlayer_(v13);
  }
  if ( v15 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v15) )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v15) )
      {
        v5 = CBuff::CreateBuff(7, a1[2] + 1, v11, (int)a1);
        v15->__vftable[7].OnTimerCallback(v15, (int)v5);
      }
      v15->__vftable[3].OnTimer(v15, a5);
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v6);
      v10 = a1[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v15);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbb", a1[1], v7, v9, 0, v10);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 61, "db", v8, 0);
    }
    CIOObject::Release(v15, (volatile int *)&v15[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
    CChar::WriteInSight(a5, 61, "db", v4, 0);
  }
}
// 488C37: variable 'v11' is possibly undefined
// 488C62: variable 'a1' is possibly undefined

//----- (00488CF0) --------------------------------------------------------
void __thiscall sub_488CF0(_DWORD *a1, int a5, void *a6, int a7)
{
  CBuffMoveSpeed *v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-18h] [ebp-30h]
  int v8; // [esp-10h] [ebp-28h]
  int v9; // [esp+0h] [ebp-18h]
  int v11; // [esp+8h] [ebp-10h]
  DWORD v12; // [esp+Ch] [ebp-Ch] BYREF
  char v13; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v14; // [esp+14h] [ebp-4h]

  ScanPacket((char *)a6, (char *)a7, "bd", &v13, &v12);
  v14 = 0;
  LOBYTE(v9) = v13;
  if ( v13 )
  {
    if ( v13 == 1 )
      v14 = CMonster::FindMonster(v12);
  }
  else
  {
    v14 = CPlayer::FindPlayer_(v12);
  }
  if ( v14 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v14) )
    {
      v11 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v14) )
      {
        v11 = 1;
        v4 = CBuff::CreateBuff(20, 15, -30 * a1[2], v9);
        v14->__vftable[7].OnTimerCallback(v14, (int)v4);
      }
      v14->__vftable[3].OnTimer(v14, a5);
      v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v5);
      v8 = a1[2];
      v7 = std::_Mpunct<wchar_t>::do_frac_digits(v14);
      v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbbwwb", a1[1], v6, v7, 1, v8, 0, 0, v11);
    }
    CIOObject::Release(v14, (volatile int *)&v14[22]);
  }
}
// 488DA9: variable 'v9' is possibly undefined

//----- (00488E50) --------------------------------------------------------
BOOL __thiscall CSacrifice::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 61;
  return 0;
}

//----- (00488E90) --------------------------------------------------------
void __thiscall sub_488E90(_DWORD *a1, int a5, void *a6, int a7)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-18h] [ebp-30h]
  int v10; // [esp-10h] [ebp-28h]
  int v11; // [esp+0h] [ebp-18h]
  int v13; // [esp+8h] [ebp-10h]
  DWORD v14; // [esp+Ch] [ebp-Ch] BYREF
  char v15; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v16; // [esp+14h] [ebp-4h]

  ScanPacket((char *)a6, (char *)a7, "bd", &v15, &v14);
  v16 = 0;
  LOBYTE(v11) = v15;
  if ( v15 )
  {
    if ( v15 == 1 )
      v16 = CMonster::FindMonster(v14);
  }
  else
  {
    v16 = CPlayer::FindPlayer_(v14);
  }
  if ( v16 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*a1)(a1, a5, v16) )
    {
      v13 = 0;
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*a1 + 40))(a1, a5, v16) )
      {
        v13 = 1;
        v5 = CBuff::CreateBuff(0, 8 * a1[2], -50, v11);
        v16->__vftable[7].OnTimerCallback(v16, (int)v5);
      }
      v16->__vftable[3].OnTimer(v16, a5);
      v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*a1 + 32))(a1, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 8, 0, v6);
      v10 = a1[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v16);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbbwwb", a1[1], v7, v9, 1, v10, 0, 0, v13);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 61, "db", v8, 0);
    }
    CIOObject::Release(v16, (volatile int *)&v16[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
    CChar::WriteInSight(a5, 61, "db", v4, 0);
  }
}
// 488F67: variable 'v11' is possibly undefined

//----- (00489030) --------------------------------------------------------
BOOL __thiscall CDarknessVision::CanSkillUp_0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 58;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 69;
  return 0;
}

//----- (00489090) --------------------------------------------------------
void __thiscall CPurge::Excute(_DWORD *this, int a1, void *Src, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-20h]
  int v9; // [esp-4h] [ebp-18h]
  DWORD v11; // [esp+8h] [ebp-Ch] BYREF
  char v12; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v13; // [esp+10h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v12, &v11);
  v13 = 0;
  if ( v12 )
  {
    if ( v12 == 1 )
      v13 = CMonster::FindMonster(v11);
  }
  else
  {
    v13 = CPlayer::FindPlayer_(v11);
  }
  if ( v13 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a1, v13) )
    {
      CChar::CancelBuffPrty(v13, 4);
      v13->__vftable[3].OnTimer(v13, a1);
      v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, v5);
      v9 = this[2];
      v8 = std::_Mpunct<wchar_t>::do_frac_digits(v13);
      v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 63, "bddbb", this[1], v6, v8, 0, v9);
    }
    else
    {
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 61, "db", v7, 0);
    }
    CIOObject::Release(v13, (volatile int *)&v13[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CChar::WriteInSight(a1, 61, "db", v4, 0);
  }
}

//----- (004891E0) --------------------------------------------------------
void __thiscall CDoTele::ExcuteM(CDoTele *this, CMonster *pOwner, CChar *pChar, char *a7)
{
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // [esp-Ch] [ebp-20h]
  int v12; // [esp-4h] [ebp-18h]
  DWORD v14; // [esp+8h] [ebp-Ch] BYREF
  char v15; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v16; // [esp+10h] [ebp-4h]

  ScanPacket((char *)pChar, a7, "bd", &v15, &v14);
  v16 = 0;
  if ( v15 )
  {
    if ( v15 == 1 )
      v16 = CMonster::FindMonster(v14);
  }
  else
  {
    v16 = CPlayer::FindPlayer_(v14);
  }
  if ( v16 )
  {
    if ( this->CanExcute(this, (CPlayer *)pOwner, (CChar *)v16) )
    {
      v16->__vftable[5].OnTimerCallback(v16, (int)pOwner);
      v8 = this->GetSpendMP(this, 0);
      pOwner->UpdateProperty(pOwner, 8, 0, v8);
      v12 = this->m_nLevel;
      v11 = std::_Mpunct<wchar_t>::do_frac_digits(v16);
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
      CChar::WriteInSight((int)pOwner, 63, "bddbb", this->m_nSkill, v9, v11, 0, v12);
    }
    else
    {
      v10 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
      CChar::WriteInSight((int)pOwner, 61, "db", v10, 0);
    }
    CIOObject::Release(v16, (volatile int *)&v16[22]);
  }
  else
  {
    v7 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
    CChar::WriteInSight((int)pOwner, 61, "db", v7, 0);
  }
}

//----- (00489320) --------------------------------------------------------
BOOL __thiscall sub_489320(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal((int)a3)
      && a2[79] == a3[79]
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[68] > (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 32))(this, a2)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3)
      && a2 != a3;
}

//----- (004893C0) --------------------------------------------------------
int __thiscall sub_4893C0(_DWORD *this, CPlayer *a2)
{
  return (5 * this[2] + 5) * CChar::GetMaxHP(a2) / 100;
}

//----- (004893F0) --------------------------------------------------------
void __thiscall CDarknessVision::CanSkillUp(_DWORD *this, int a5, void *Src, int a7)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-20h]
  int v8; // [esp-8h] [ebp-1Ch]
  int v9; // [esp-4h] [ebp-18h]
  int v10; // [esp-4h] [ebp-18h]
  int a1; // [esp+8h] [ebp-Ch] BYREF
  char v13; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v14; // [esp+10h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a7, "bd", &v13, &a1);
  v14 = 0;
  if ( !v13 )
    v14 = CPlayer::FindPlayer_(a1);
  if ( v14 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a5, v14) )
    {
      v4 = (*(int (__thiscall **)(_DWORD *, int))(*this + 32))(this, a5);
      ((void (__cdecl *)(CIOObject *, int, int, int))v14->__vftable[3].OnWaitCallback)(
        v14,
        7,
        1,
        (25 * this[2] + 50) * v4 / 100);
      v9 = (*(int (__thiscall **)(_DWORD *, int))(*this + 32))(this, a5);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a5 + 88))(a5, 7, 0, v9);
      v10 = this[2];
      v7 = std::_Mpunct<wchar_t>::do_frac_digits(v14);
      v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 63, "bddbb", this[1], v5, v7, 0, v10);
    }
    else
    {
      v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
      CChar::WriteInSight(a5, 61, "db", v6, 0);
    }
    CIOObject::Release(v14, (volatile int *)&v14[22]);
  }
  else
  {
    v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a5);
    CChar::WriteInSight(a5, 61, "db", v8, 0);
  }
}

//----- (00489550) --------------------------------------------------------
BOOL __thiscall sub_489550(void *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal((int)a2)
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 32))(this, a2);
}

//----- (004895C0) --------------------------------------------------------
int __stdcall CChangeVitality::GetSpendMP(CPlayer *a1)
{
  return 10 * CChar::GetMaxMP(a1) / 100;
}

//----- (004895E0) --------------------------------------------------------
void __thiscall sub_4895E0(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // [esp-Ch] [ebp-10h]
  int v7; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))*this)(this, a2, 0)
    && a2[69] > (*(int (__thiscall **)(_DWORD *, _DWORD *))(*this + 32))(this, a2) )
  {
    (*(void (__cdecl **)(_DWORD *, int, int, int))(*a2 + 88))(a2, 7, 1, this[2] * 2 * a2[69]);
    (*(void (__cdecl **)(_DWORD *, int, _DWORD, _DWORD))(*a2 + 88))(a2, 8, 0, a2[69]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 61, "db", v4, 0);
  }
  v7 = this[2];
  v6 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  v5 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v5, v6, 0, v7);
}

//----- (004896C0) --------------------------------------------------------
void __thiscall sub_4896C0(_DWORD *this, int *a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // [esp-Ch] [ebp-20h]
  int v9; // [esp-4h] [ebp-18h]
  int v10; // [esp+0h] [ebp-14h]
  CMemory *i; // [esp+8h] [ebp-Ch]
  int *v13; // [esp+Ch] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int *, _DWORD))*this)(this, a2, 0) )
  {
    if ( a2[254] )
    {
      v13 = (int *)sub_44D4E0(a2[254]);
      if ( v13 )
      {
        for ( i = CParty::GetPlayerList((CIOCriticalSection *)v13); i; i = (CMemory *)CBaseList::Pop((CIOObject *)i) )
        {
          v10 = unknown_libname_7(i);
          v4 = CBuff::CreateBuff(75, 15, 350, 300);
          (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)v10 + 180))(v10, v4);
        }
        sub_401DE0(v13);
      }
    }
    else
    {
      v5 = CBuff::CreateBuff(75, 15, 350, 300);
      (*(void (__thiscall **)(int *, CBuffMoveSpeed *))(*a2 + 180))(a2, v5);
    }
    v6 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
    (*(void (__cdecl **)(int *, int, _DWORD, int))(*a2 + 88))(a2, 8, 0, v6);
    v9 = this[2];
    v8 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    v7 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v7, v8, 0, v9);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (004897F0) --------------------------------------------------------
BOOL __thiscall sub_4897F0(void *this, _DWORD *a2, _DWORD *a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal((int)a3)
      && a2[79] == a3[79]
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[68] > (*(int (__thiscall **)(void *, _DWORD *))(*(_DWORD *)this + 32))(this, a2)
      && (*(int (__thiscall **)(_DWORD *))(*a3 + 60))(a3);
}

//----- (00489890) --------------------------------------------------------
void __thiscall CSilenceShot::Excute(_DWORD *this, int a1, void *Src, int a4)
{
  int v4; // eax
  CBuffMoveSpeed *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-20h]
  int v10; // [esp-4h] [ebp-18h]
  int v11; // [esp+0h] [ebp-14h]
  DWORD v13; // [esp+8h] [ebp-Ch] BYREF
  char v14; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v15; // [esp+10h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v14, &v13);
  v15 = 0;
  LOBYTE(v11) = v14;
  if ( v14 )
  {
    if ( v14 == 1 )
      v15 = CMonster::FindMonster(v13);
  }
  else
  {
    v15 = CPlayer::FindPlayer_(v13);
  }
  if ( v15 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a1, v15) )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*this + 40))(this, a1, v15) )
      {
        v5 = CBuff::CreateBuff(81, 10, 70 * this[2] - 20, v11);
        v15->__vftable[7].OnTimerCallback(v15, (int)v5);
      }
      v6 = (*(int (__thiscall **)(_DWORD *, int))(*this + 32))(this, a1);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 7, 0, v6);
      v10 = this[2];
      v9 = std::_Mpunct<wchar_t>::do_frac_digits(v15);
      v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 63, "bddbb", this[1], v7, v9, 0, v10);
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 61, "db", v8, 0);
    }
    CIOObject::Release(v15, (volatile int *)&v15[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CChar::WriteInSight(a1, 61, "db", v4, 0);
  }
}
// 48995C: variable 'v11' is possibly undefined

//----- (00489A10) --------------------------------------------------------
BOOL __thiscall CSkillBuff::CanExcute_0(void *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal(a3)
      && a2[79] == *(_DWORD *)(a3 + 316)
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
}

//----- (00489AA0) --------------------------------------------------------
int __thiscall CSkillBuff::PreExcute_0(_DWORD *a1, int a5, int a6)
{
  CIOObject *v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v6 = 1;
  if ( !(*(int (__thiscall **)(_DWORD *))(*a1 + 88))(a1) )
  {
    v5 = CPlayer::FindPlayer_(a6);
    if ( !v5 )
      return 0;
    if ( sub_409310(v5, a1[14]) )
    {
      CPlayer::Write(a5, 68, "bb", 101, a1[1]);
      v6 = 0;
    }
    CIOObject::Release(v5, (volatile int *)&v5[22]);
  }
  return v6;
}

//----- (00489B30) --------------------------------------------------------
void __thiscall CSkillBuff::Excute(_DWORD *this, int a1, void *Src, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // [esp-18h] [ebp-30h]
  int v10; // [esp-10h] [ebp-28h]
  int v11; // [esp-Ch] [ebp-24h]
  int v12; // [esp-4h] [ebp-1Ch]
  int v13; // [esp-4h] [ebp-1Ch]
  int v15; // [esp+8h] [ebp-10h] BYREF
  DWORD v16; // [esp+Ch] [ebp-Ch] BYREF
  char v17; // [esp+13h] [ebp-5h] BYREF
  CIOObject *v18; // [esp+14h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bd", &v17, &v16);
  v18 = 0;
  if ( v17 )
  {
    if ( v17 == 1 )
      v18 = CMonster::FindMonster(v16);
  }
  else
  {
    v18 = CPlayer::FindPlayer_(v16);
  }
  if ( v18 )
  {
    if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a1, v18) )
    {
      v15 = 0;
      (*(void (__thiscall **)(_DWORD *, int, CIOObject *, int *))(*this + 80))(this, a1, v18, &v15);
      v18->__vftable[3].OnTimer(v18, a1);
      v5 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
      (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a1 + 88))(a1, 8, 0, v5);
      if ( (*(int (__thiscall **)(_DWORD *))(*this + 88))(this) )
      {
        v12 = v15;
        v10 = this[2];
        v9 = std::_Mpunct<wchar_t>::do_frac_digits(v18);
        v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
        CChar::WriteInSight(a1, 63, "bddbbwwb", this[1], v6, v9, 1, v10, 0, 0, v12);
      }
      else
      {
        v13 = this[2];
        v11 = std::_Mpunct<wchar_t>::do_frac_digits(v18);
        v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
        CChar::WriteInSight(a1, 63, "bddbb", this[1], v7, v11, 0, v13);
      }
    }
    else
    {
      v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
      CChar::WriteInSight(a1, 61, "db", v8, 0);
    }
    CIOObject::Release(v18, (volatile int *)&v18[22]);
  }
  else
  {
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CChar::WriteInSight(a1, 61, "db", v4, 0);
  }
}

//----- (00489CE0) --------------------------------------------------------
void __thiscall sub_489CE0(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-14h]
  int v5; // [esp-4h] [ebp-Ch]
  DWORD v7; // [esp+4h] [ebp-4h]

  v7 = GetTickCount();
  this[16] = this[11] + v7 - this[10];
  (*(void (__thiscall **)(_DWORD *, DWORD, int))(*a2 + 228))(a2, this[12] + v7, 1);
  a2[117] = this[12] + v7;
  (*(void (__thiscall **)(_DWORD *, _DWORD *, int))(*this + 84))(this, a2, a3);
  v5 = this[2];
  v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a3);
  v3 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v3, v4, 0, v5);
}

//----- (00489D90) --------------------------------------------------------
int __thiscall CStrenUpStr::Apply(_DWORD *this, int a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax

  v4 = CBuff::CreateBuff(46, 1200, 6 * this[2] + 2, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (00489DD0) --------------------------------------------------------
int __thiscall CSkillBuff::CanExcute(_DWORD *this, int a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax

  v4 = CBuff::CreateBuff(47, 1200, 8 * this[2] + 3, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (00489E10) --------------------------------------------------------
BOOL __thiscall CStrenUpFatal::CanExcute(void *this, _DWORD *a2, int a3)
{
  return CSkillBuff::CanExcute_0(this, a2, a3) && (*(int (__thiscall **)(int))(*(_DWORD *)a3 + 60))(a3);
}

//----- (00489E60) --------------------------------------------------------
int __thiscall CSkillBuff::PreExcute(_DWORD *this, int a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax

  v4 = CBuff::CreateBuff(48, 1200, 8 * this[2] + 3, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (00489EA0) --------------------------------------------------------
BOOL __thiscall sub_489EA0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 64;
  return 0;
}

//----- (00489EE0) --------------------------------------------------------
int __thiscall CStrenUpInt::Apply_0(_DWORD *this, int a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax

  v4 = CBuff::CreateBuff(49, 1200, 6 * this[2] + 2, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (00489F20) --------------------------------------------------------
BOOL __thiscall CResistPalsy::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 65;
  return 0;
}

//----- (00489F60) --------------------------------------------------------
int __thiscall sub_489F60(_DWORD *this, int a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax

  v4 = CBuff::CreateBuff(50, 900, 3 * this[2] + 2, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (00489FA0) --------------------------------------------------------
BOOL __thiscall CCloudSight::CanExcute_0(void *this, _DWORD *a2, int a3)
{
  return CSkill::CanExcute(this, a2, a3) && (*(int (__thiscall **)(int))(*(_DWORD *)a3 + 156))(a3) == 1;
}

//----- (00489FF0) --------------------------------------------------------
int __thiscall CMShock::ExcuteM(CMShock *this, CMonster *pOwner, CChar *pChar, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = this->CanContiSkill(this, (CPlayer *)pOwner, pChar);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(83, 15, 50 * pChar->m_nRange / -100, (int)this);
    result = pChar->AddBuff(pChar, v5);
  }
  return result;
}

//----- (0048A050) --------------------------------------------------------
BOOL __thiscall sub_48A050(void *this, _DWORD *a2, int a3)
{
  return CSkill::CanExcute(this, a2, a3);
}

//----- (0048A070) --------------------------------------------------------
int __thiscall sub_48A070(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(84, 10, (250 * this[2] + 100) / 10, (int)this);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A0D0) --------------------------------------------------------
BOOL __thiscall sub_48A0D0(void *this, _DWORD *a2, int a3)
{
  return CSkill::CanExcute(this, a2, a3) && (*(int (__thiscall **)(int))(*(_DWORD *)a3 + 60))(a3);
}

//----- (0048A120) --------------------------------------------------------
int __thiscall CMeshChance::Apply(_DWORD *this, int a2, _DWORD *a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, _DWORD *))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(85, 20 * this[2] + 50, a3[64] * (25 * this[2] + 25) / -100, (int)this);
    result = (*(int (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A1A0) --------------------------------------------------------
BOOL __thiscall CMeshDefense::CanSkillUp_0(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 67;
  return 0;
}

//----- (0048A1E0) --------------------------------------------------------
int __thiscall sub_48A1E0(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(86, 20 * this[2] + 50, -24 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A240) --------------------------------------------------------
int __thiscall CMeshHth::Apply(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(87, 20 * this[2] + 50, -12 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A2A0) --------------------------------------------------------
int __thiscall CStrenUpInt::Apply(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(88, 20 * this[2] + 50, -20 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A300) --------------------------------------------------------
int __thiscall sub_48A300(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(89, 20 * this[2] + 50, -24 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A360) --------------------------------------------------------
int __thiscall CCloudSight::CanExcute(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(90, 20 * this[2] + 50, -16 * this[2], (int)this);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A3C0) --------------------------------------------------------
BOOL __thiscall CMeshWis::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 66;
  return 0;
}

//----- (0048A400) --------------------------------------------------------
int __thiscall CMeshDefense::Apply(_DWORD *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(_DWORD *, int, int))(*this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(91, 10 * this[2] + 30, -(8 * this[2] + 4), -(6 * this[2] + 2));
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A480) --------------------------------------------------------
int __thiscall CVanishConfi::Apply(void *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax

  result = (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(93, 15, -50, (int)this);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}

//----- (0048A4D0) --------------------------------------------------------
int __thiscall CDestroySight::Apply(void *this, int a2, int a3, _DWORD *a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax
  int savedregs; // [esp+4h] [ebp+0h]

  result = (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 40))(this, a2, a3);
  if ( result )
  {
    *a4 = 1;
    v5 = CBuff::CreateBuff(94, 10, (int)this, savedregs);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v5);
  }
  return result;
}
// 48A4FB: variable 'savedregs' is possibly undefined

//----- (0048A520) --------------------------------------------------------
void __thiscall CBenefitAblation::Apply(void *this, int a2, _DWORD *a3, _DWORD *a4)
{
  if ( (*(int (__thiscall **)(void *, int, _DWORD *))(*(_DWORD *)this + 40))(this, a2, a3) )
  {
    *a4 = 1;
    CChar::CancelBuffPrty(a3, 2);
  }
}

//----- (0048A560) --------------------------------------------------------
BOOL __thiscall CMeshDefense::CanSkillUp(void *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal((int)a2)
      && !sub_40B310(a2, 512)
      && CPlayer::IsWState(a2, 0)
      && a2[69] >= (*(int (__thiscall **)(void *, _DWORD))(*(_DWORD *)this + 32))(this, 0);
}

//----- (0048A5D0) --------------------------------------------------------
void __thiscall CSkillSelfBuff::Excute(_DWORD *this, int a2, int a3, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-10h]
  int v8; // [esp-4h] [ebp-8h]

  if ( (*(int (__thiscall **)(_DWORD *, int, _DWORD))*this)(this, a2, 0) )
  {
    (*(void (__thiscall **)(_DWORD *, int))(*this + 80))(this, a2);
    v4 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
    (*(void (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)a2 + 88))(a2, 8, 0, v4);
    v8 = this[2];
    v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", this[1], v5, v7, 0, v8);
  }
  else
  {
    v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 61, "db", v6, 0);
  }
}

//----- (0048A680) --------------------------------------------------------
int __thiscall sub_48A680(_DWORD *this, int a2)
{
  CBuffMoveSpeed *v2; // eax

  v2 = CBuff::CreateBuff(69, 60, 6 * this[2] + 5, -(2 * this[2] + 3));
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0048A6D0) --------------------------------------------------------
BOOL __thiscall CShootingFire::GetMagicM(CShootingFire *this, CMonster *pOwner)
{
  if ( *((_DWORD *)this + 2) >= *((_DWORD *)this + 7) )
    return 0;
  switch ( *((_DWORD *)this + 2) )
  {
    case 1:
      return *((_DWORD *)pOwner + 15) >= 56;
    case 2:
      return *((_DWORD *)pOwner + 15) >= 59;
    case 3:
      return *((_DWORD *)pOwner + 15) >= 62;
    case 4:
      return *((_DWORD *)pOwner + 15) >= 65;
    case 5:
      return *((_DWORD *)pOwner + 15) >= 70;
  }
  return 0;
}

//----- (0048A770) --------------------------------------------------------
int __thiscall sub_48A770(_DWORD *this, int a2)
{
  CBuffMoveSpeed *v2; // eax

  v2 = CBuff::CreateBuff(76, 900, 5 * this[2] + 10, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0048A7B0) --------------------------------------------------------
int __thiscall CResistIce::Apply(_DWORD *this, int a2)
{
  CBuffMoveSpeed *v2; // eax

  v2 = CBuff::CreateBuff(77, 900, 5 * this[2] + 10, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0048A7F0) --------------------------------------------------------
int __thiscall CMSiegeGunBallExplosion::GetMagicM(CMSiegeGunBallExplosion *this, CMonster *pOwner)
{
  CBuffMoveSpeed *v2; // eax

  v2 = CBuff::CreateBuff(78, 900, 5 * this->m_nLevel + 10, (int)this);
  return pOwner->AddBuff(pOwner, v2);
}

//----- (0048A830) --------------------------------------------------------
int __thiscall CMSiegeGunBallExplosion::ExcuteM(CMSiegeGunBallExplosion *this, CMonster *pOwner, CChar *pChar)
{
  CBuffMoveSpeed *v3; // eax

  v3 = CBuff::CreateBuff(79, 900, 5 * this->m_nLevel + 10, (int)this);
  return pOwner->AddBuff(pOwner, v3);
}

//----- (0048A870) --------------------------------------------------------
int __thiscall CResistPalsy::Apply(_DWORD *this, int a2)
{
  CBuffMoveSpeed *v2; // eax

  v2 = CBuff::CreateBuff(80, 900, 5 * this[2] + 10, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v2);
}

//----- (0048A8B0) --------------------------------------------------------
void __thiscall CEmergencyEscape::Apply(void *this, _DWORD *a2)
{
  CBuffMoveSpeed *v2; // eax
  CBuffMoveSpeed *v3; // eax
  _DWORD *v5; // [esp+4h] [ebp-10h]
  CMemory *i; // [esp+8h] [ebp-Ch]
  int *v7; // [esp+Ch] [ebp-8h]
  int a1; // [esp+10h] [ebp-4h]

  a1 = a2[254];
  if ( a1 )
  {
    v7 = (int *)sub_44D4E0(a1);
    if ( v7 )
    {
      for ( i = CParty::GetPlayerList((CIOCriticalSection *)v7); i; i = (CMemory *)CBaseList::Pop((CIOObject *)i) )
      {
        v5 = (_DWORD *)unknown_libname_7(i);
        if ( sub_448870(a2 + 83, v5 + 83) <= 64 )
        {
          v2 = CBuff::CreateBuff(82, 38, 200, (int)this);
          (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*v5 + 180))(v5, v2);
          CChar::CancelBuffPrty(v5, 4);
        }
      }
      sub_401DE0(v7);
    }
  }
  else
  {
    v3 = CBuff::CreateBuff(82, 38, 200, (int)this);
    (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*a2 + 180))(a2, v3);
    CChar::CancelBuffPrty(a2, 4);
  }
}
// 48A938: variable 'this' is possibly undefined
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0048A9A0) --------------------------------------------------------
void __thiscall CChant::Excute(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // [esp-Ch] [ebp-28h]
  int v7; // [esp-4h] [ebp-20h]
  int *v9; // [esp+10h] [ebp-Ch]
  int *v10; // [esp+18h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, _DWORD *, _DWORD))*this)(this, a2, 0) )
  {
    v10 = (int *)(*(int (__thiscall **)(_DWORD *, _DWORD *))(*this + 80))(this, a2);
    if ( v10 )
    {
      if ( a2[254] )
      {
        v9 = (int *)sub_44D4E0(a2[254]);
        if ( v9 )
        {
          CParty::Chant(v9, a2, v10);
          std::locale::facet::`scalar deleting destructor'((std::locale::facet *)v10, 1);
          sub_401DE0(v9);
        }
      }
      else
      {
        if ( a2[146] )
          CChar::CancelBuff(a2, a2[146]);
        (*(void (__thiscall **)(_DWORD *, int *))(*a2 + 180))(a2, v10);
        a2[146] = v10[1];
      }
      v4 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*this + 32))(this, 0);
      (*(void (__cdecl **)(_DWORD *, int, _DWORD, int))(*a2 + 88))(a2, 8, 0, v4);
      v7 = this[2];
      v6 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      v5 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
      CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v5, v6, 0, v7);
    }
  }
}
// 48AA2C: conditional instruction was optimized away because of '%var_4.4!=0'

//----- (0048AAF0) --------------------------------------------------------
CBuffMoveSpeed *__thiscall CChantProtect::CreateBuff(_DWORD *this, int a2)
{
  return CBuff::CreateBuff(28, 0, 7 * this[2] + 9, 3 * this[2] + 9);
}

//----- (0048AB30) --------------------------------------------------------
bool __thiscall std::_Tree<std::_Tmap_traits<CParty *,int,std::less<CParty *>,std::allocator<std::pair<CParty * const,int>>,0>>::find(int this, int a2)
{
  BOOL v2; // eax

  if ( *(_DWORD *)(this + 8) < *(_DWORD *)(this + 28) )
  {
    if ( *(_DWORD *)(this + 8) == 1 )
    {
      v2 = *(_DWORD *)(a2 + 60) >= 57;
    }
    else if ( *(_DWORD *)(this + 8) == 2 )
    {
      LOBYTE(v2) = *(_DWORD *)(a2 + 60) >= 63;
    }
    else
    {
      LOBYTE(v2) = 0;
    }
  }
  else
  {
    LOBYTE(v2) = 0;
  }
  return v2;
}

//----- (0048AB90) --------------------------------------------------------
CBuffMoveSpeed *__thiscall CChantHealing::CreateBuff(_DWORD *this, int a2)
{
  return CBuff::CreateBuff(38, 0, 8 * this[2] + 4, (int)this);
}

//----- (0048ABC0) --------------------------------------------------------
CSkill *__thiscall CMemoryPool<CSkill>::Alloc(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return (CSkill *)(*(_DWORD *)(a2 + 60) >= 61);
  if ( this[2] == 2 )
    return (CSkill *)(*(_DWORD *)(a2 + 60) >= 67);
  return 0;
}

//----- (0048AC20) --------------------------------------------------------
CBuffMoveSpeed *__thiscall CChantDefLightning::CreateBuff_0(_DWORD *this, int a2)
{
  return CBuff::CreateBuff(70, 0, 3 * this[2] + 2, (int)this);
}

//----- (0048AC50) --------------------------------------------------------
BOOL __thiscall CChantDefFire::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 57;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 64;
  return 0;
}

//----- (0048ACB0) --------------------------------------------------------
int __thiscall std::_Tree<std::_Tmap_traits<CPlayer *,int,std::less<CPlayer *>,std::allocator<std::pair<CPlayer * const,int>>,0>>::lower_bound(int this, int a2)
{
  return (int)CBuff::CreateBuff(71, 0, 3 * *(_DWORD *)(this + 8) + 2, this);
}

//----- (0048ACE0) --------------------------------------------------------
CBuffMoveSpeed *__thiscall std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,CSkill *>>,0>>::_Tidy(std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,CSkill *> >,0> > *this, int a2)
{
  return CBuff::CreateBuff(72, 0, 3 * this->_Mysize + 2, (int)this);
}

//----- (0048AD10) --------------------------------------------------------
CBuffMoveSpeed *__thiscall sub_48AD10(_DWORD *this, int a2)
{
  return CBuff::CreateBuff(73, 0, 5 * this[2] + 5, (int)this);
}

//----- (0048AD40) --------------------------------------------------------
BOOL __thiscall CChantAccuracy::CanSkillUp(_DWORD *this, int a2)
{
  if ( this[2] >= this[7] )
    return 0;
  if ( this[2] == 1 )
    return *(_DWORD *)(a2 + 60) >= 58;
  if ( this[2] == 2 )
    return *(_DWORD *)(a2 + 60) >= 65;
  return 0;
}

//----- (0048ADA0) --------------------------------------------------------
CBuffMoveSpeed *__thiscall sub_48ADA0(_DWORD *this, int a2)
{
  return CBuff::CreateBuff(74, 0, 25 * this[2] + 25, (int)this);
}

//----- (0048ADD0) --------------------------------------------------------
int __stdcall CTLitningBlast::GetMagic(int a1, int a2)
{
  return a2 + a2 / 5 + 2 * *(_DWORD *)(a1 + 72);
}

//----- (0048AE00) --------------------------------------------------------
BOOL __thiscall std::_Tree<std::_Tmap_traits<unsigned long,CSkill *,std::less<unsigned long>,std::allocator<std::pair<unsigned long const,CSkill *>>,0>>::erase(_DWORD *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal((int)a2) && CPlayer::IsWState(a2, 0) && a2[145] >= this[17];
}

//----- (0048AE50) --------------------------------------------------------
int __stdcall sub_48AE50(int a1, int a2)
{
  return *(_DWORD *)(a1 + 72) + a2 / 2;
}

//----- (0048AE70) --------------------------------------------------------
int __thiscall sub_48AE70(void *this, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  CBuffMoveSpeed *v7; // eax
  CBuffMoveSpeed *v8; // eax
  int v10; // [esp+0h] [ebp-4h]

  result = (*(int (__thiscall **)(void *, int, int))(*(_DWORD *)this + 40))(this, a2, a3);
  if ( result )
  {
    v7 = CBuff::CreateBuff(0, 8, -50, (int)this);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v7);
    v8 = CBuff::CreateBuff(20, 8, -50, v10);
    result = (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v8);
  }
  return result;
}
// 48AEB3: variable 'v10' is possibly undefined

//----- (0048AED0) --------------------------------------------------------
void __thiscall sub_48AED0(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3, int a4)
{
  CBuffMoveSpeed *v7; // eax
  int v8; // eax
  int v9; // [esp-Ch] [ebp-10h]
  int v10; // [esp-4h] [ebp-8h]
  _DWORD *v12; // [esp+0h] [ebp-4h]

  if ( (**this)(this, a2, 0) )
  {
    v7 = CBuff::CreateBuff(24, 15, 0, (int)this);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v7);
    (*(void (__thiscall **)(_DWORD *, int))(*v12 + 56))(v12, a2);
    v10 = v12[2];
    v9 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", v12[1], v8, v9, 0, v10);
  }
}
// 48AF11: variable 'v12' is possibly undefined

//----- (0048AF60) --------------------------------------------------------
int __stdcall sub_48AF60(int a1, int a2)
{
  return a2 + 20 * a2 / 100 + 2 * *(_DWORD *)(a1 + 64);
}

//----- (0048AF90) --------------------------------------------------------
int __thiscall CTPhoenix::SpendMPRage(_DWORD *this, int a2)
{
  return (*(int (__cdecl **)(int, int, _DWORD, _DWORD))(*(_DWORD *)a2 + 88))(a2, 35, 0, this[17]);
}

//----- (0048AFC0) --------------------------------------------------------
int __stdcall sub_48AFC0(int a1, int a2)
{
  return a2 + 2 * *(_DWORD *)(a1 + 60);
}

//----- (0048AFE0) --------------------------------------------------------
int __thiscall CChantDefLightning::CreateBuff(void *this, CPlayer *a2, _DWORD *a3, int a4, int a5, int a6, unsigned int *a7)
{
  int v7; // eax
  int v8; // eax
  CBuffMoveSpeed *v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // eax
  int v13; // [esp+0h] [ebp-Ch]
  int v15; // [esp+8h] [ebp-4h]

  v7 = CChar::GetAttack(a2);
  v15 = (*(int (__thiscall **)(void *, CPlayer *, int))(*(_DWORD *)this + 16))(this, a2, v7);
  v8 = (*(int (__thiscall **)(void *))(*(_DWORD *)this + 84))(this);
  if ( !CChar::CheckHit((int)a2, a3, v8) )
    return 0;
  if ( (*(int (__thiscall **)(void *, CPlayer *, _DWORD *))(*(_DWORD *)this + 40))(this, a2, a3) )
  {
    v9 = CBuff::CreateBuff(7, 5, v13, (int)this);
    (*(void (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*a3 + 180))(a3, v9);
  }
  v10 = a4 * a2->GetPalsyDamage(a2, (CChar *)a3);
  *a7 = v10 / (*(int (__thiscall **)(void *, CPlayer *))(*(_DWORD *)this + 36))(this, a2);
  v11 = (*(int (__thiscall **)(void *, CPlayer *, int, int, unsigned int *, void *))(*(_DWORD *)this + 36))(
          this,
          a2,
          a5,
          a6,
          a7,
          this);
  return (*(int (__thiscall **)(_DWORD *, CPlayer *, unsigned int))(*a3 + 72))(a3, a2, a4 * v15 / v11);
}
// 48B040: variable 'v13' is possibly undefined
// 48B076: variable 'this' is possibly undefined

//----- (0048B0E0) --------------------------------------------------------
void __thiscall CThunder::GetAttack(CThunder *this, CPlayer *pOwner, int nBaseAttack, int a4)
{
  int v4; // eax
  int v5; // [esp-Ch] [ebp-10h]
  CBuffMoveSpeed *v6; // [esp-4h] [ebp-8h]
  int v7; // [esp-4h] [ebp-8h]
  _DWORD *v9; // [esp+0h] [ebp-4h]

  if ( this->CanExcute(this, pOwner, 0) )
  {
    v6 = CBuff::CreateBuff(23, 15, 0, (int)this);
    pOwner->AddBuff(pOwner, v6);
    (*(void (__thiscall **)(_DWORD *, CPlayer *))(*v9 + 56))(v9, pOwner);
    v7 = v9[2];
    v5 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
    v4 = std::_Mpunct<wchar_t>::do_frac_digits(pOwner);
    CChar::WriteInSight((int)pOwner, 63, "bddbb", v9[1], v4, v5, 0, v7);
  }
}
// 48B121: variable 'v9' is possibly undefined

//----- (0048B170) --------------------------------------------------------
int __thiscall CHealingPartyPlus::GetSkillAddValue(CShootingFire *this, int a2, int a3)
{
  return a3 + 20 * a3 / 100 + 2 * *(_DWORD *)(a2 + 80);
}

//----- (0048B1A0) --------------------------------------------------------
BOOL __thiscall CMock::GetHostility(CMock *this, _DWORD *a2, int a3)
{
  return CChar::IsNormal((int)a2)
      && CChar::IsNormal(a3)
      && a2[79] == *(_DWORD *)(a3 + 316)
      && CPlayer::IsWState(a2, 0)
      && (*(int (__thiscall **)(_DWORD *, int, _DWORD))(*a2 + 176))(a2, a3, 0)
      && a2[145] >= *((_DWORD *)this + 17);
}

//----- (0048B230) --------------------------------------------------------
void __thiscall CTShadowFang::Excute(_DWORD *this, int a2, void *Src, int a4)
{
  int v4; // eax
  int v5; // eax
  CBuffMoveSpeed *v6; // eax
  CBuffMoveSpeed *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // [esp-Ch] [ebp-20h]
  int v11; // [esp-4h] [ebp-18h]
  int v12; // [esp+0h] [ebp-14h]
  int v13; // [esp+0h] [ebp-14h]
  int a1; // [esp+8h] [ebp-Ch] BYREF
  char v16; // [esp+Ch] [ebp-8h] BYREF
  char v17; // [esp+Dh] [ebp-7h] BYREF
  char v18; // [esp+Eh] [ebp-6h] BYREF
  char v19; // [esp+Fh] [ebp-5h] BYREF
  CIOObject *v20; // [esp+10h] [ebp-4h]

  ScanPacket((char *)Src, (char *)a4, "bdbbb", &v17, &a1, &v16, &v19, &v18);
  sub_412E90((CIOCriticalSection *)a2);
  if ( CPlayer::CanMove(a2) && CSMap::ReadLock(a2, v16, v19, v18, 1, 1) )
  {
    sub_412EB0((CIOCriticalSection *)a2);
    v20 = 0;
    LOBYTE(v12) = v17;
    if ( v17 )
    {
      if ( v17 == 1 )
        v20 = CMonster::FindMonster(a1);
    }
    else
    {
      v20 = CPlayer::FindPlayer_(a1);
    }
    if ( v20 )
    {
      if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))*this)(this, a2, v20) )
      {
        if ( (*(int (__thiscall **)(_DWORD *, int, CIOObject *))(*this + 40))(this, a2, v20) )
        {
          v6 = CBuff::CreateBuff(21, 10, -50, v12);
          v20->__vftable[7].OnTimerCallback(v20, (int)v6);
          v7 = CBuff::CreateBuff(22, 10, 0, v13);
          v20->__vftable[7].OnTimerCallback(v20, (int)v7);
        }
        v20->__vftable[3].OnTimer(v20, a2);
        (*(void (__thiscall **)(_DWORD *, int))(*this + 56))(this, a2);
        v11 = this[2];
        v10 = std::_Mpunct<wchar_t>::do_frac_digits(v20);
        v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 63, "bddbb", this[1], v8, v10, 0, v11);
      }
      else
      {
        v9 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 61, "db", v9, 0);
      }
      CIOObject::Release(v20, (volatile int *)&v20[22]);
    }
    else
    {
      v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
      CChar::WriteInSight(a2, 61, "db", v5, 0);
    }
  }
  else
  {
    sub_412EB0((CIOCriticalSection *)a2);
    CPlayer::Write(a2, 67, "b", 68);
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 61, "db", v4, 0);
  }
}
// 48B382: variable 'v12' is possibly undefined
// 48B39F: variable 'v13' is possibly undefined

//----- (0048B440) --------------------------------------------------------
void __thiscall CTDiamondClow::Excute_0(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3, int a4)
{
  CBuffMoveSpeed *v4; // eax
  int v5; // eax
  int v6; // [esp-Ch] [ebp-10h]
  int v7; // [esp-4h] [ebp-8h]
  _DWORD *v9; // [esp+0h] [ebp-4h]

  if ( (**this)(this, a2, 0) )
  {
    v4 = CBuff::CreateBuff(25, 15, 0, (int)this);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v4);
    (*(void (__thiscall **)(_DWORD *, int))(*v9 + 56))(v9, a2);
    v7 = v9[2];
    v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
    CChar::WriteInSight(a2, 63, "bddbb", v9[1], v5, v6, 0, v7);
  }
}
// 48B481: variable 'v9' is possibly undefined

//----- (0048B4D0) --------------------------------------------------------
CInfernal *__thiscall CInfernal::CInfernal(CInfernal *this, _DWORD *a2)
{
  int v2; // esi

  v2 = sub_483230(a2);
  return (CInfernal *)(3 * a2[15] + 5 * CChar::GetInt(a2) / 2 + v2);
}

//----- (0048B510) --------------------------------------------------------
int __thiscall CShieldAttack::GetSpendMP(CManaBurn *this, CPlayer *pOwner)
{
  int v2; // esi

  v2 = sub_483230(pOwner);
  return 7 * CChar::GetInt(pOwner) / 2 + v2 + 4 * *((_DWORD *)pOwner + 15);
}

//----- (0048B550) --------------------------------------------------------
int __thiscall CShot::GetDelay(CStunArrow *this, CPlayer *pOwner)
{
  return 6 * CChar::GetStr(pOwner) / 2 + 5 * *((_DWORD *)pOwner + 15) / 3;
}

//----- (0048B590) --------------------------------------------------------
CExplosion *__thiscall CExplosion::CExplosion(CExplosion *this, int a2, int a3)
{
  CBuffMoveSpeed *v3; // eax
  int savedregs; // [esp+4h] [ebp+0h]

  v3 = CBuff::CreateBuff(7, 12, (int)this, savedregs);
  return (CExplosion *)(*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v3);
}
// 48B59B: variable 'savedregs' is possibly undefined

//----- (0048B5C0) --------------------------------------------------------
int __thiscall CExplosion::GetSpendMP(CExplosion *this, CPlayer *pOwner)
{
  int v2; // esi

  if ( *((_DWORD *)this + 14) )
    return 6 * *((_DWORD *)pOwner + 15) + 11 * CChar::GetStr(pOwner);
  v2 = sub_483230(pOwner);
  return 5 * CChar::GetInt(pOwner) / 4 + v2 + 2 * *((_DWORD *)pOwner + 15);
}

//----- (0048B630) --------------------------------------------------------
void __thiscall CGetherShot::GetFatalRate(CGetherShot *this, int a2)
{
  int v2; // eax
  int v3; // eax
  int v4; // [esp-18h] [ebp-40h]
  int v5; // [esp-Ch] [ebp-34h]
  int v6; // [esp-8h] [ebp-30h]
  int v7; // [esp-4h] [ebp-2Ch]
  int v9; // [esp+4h] [ebp-24h] BYREF
  int v10; // [esp+8h] [ebp-20h] BYREF
  int v11; // [esp+Ch] [ebp-1Ch] BYREF
  int v13; // [esp+14h] [ebp-14h]
  int v14; // [esp+18h] [ebp-10h]
  int v15; // [esp+1Ch] [ebp-Ch]
  CIOObject *v16; // [esp+20h] [ebp-8h]
  unsigned int v17; // [esp+24h] [ebp-4h]

  v17 = GetTickCount();
  if ( v17 >= this->m_dwTick )
  {
    if ( ++this->m_nContiCnt <= 13 )
    {
      if ( this->m_nContiCnt == 1 )
        CChar::AddGState((volatile LONG *)a2, 0x4000);
      this->m_dwTick = v17 + 5000;
      v15 = 0;
      v2 = ((int (__thiscall *)(CGetherShot *))this->__vftable[1].CanExcute)(this);
      v16 = (CIOObject *)CSMap::GetPlayerListInRect((_DWORD *)(a2 + 324), v2);
      sub_412EB0((CIOCriticalSection *)a2);
      while ( v16 )
      {
        v15 = unknown_libname_7(v16);
        if ( CChar::IsNormal(v15) && *(_DWORD *)(a2 + 316) == *(_DWORD *)(v15 + 316) )
        {
          v11 = 0;
          v10 = 0;
          v14 = CMagic::GetResist(this, a2, (_DWORD *)v15);
          v9 = 0;
          v13 = ((int (__thiscall *)(CGetherShot *, int))this->AddMortal)(this, a2);
          if ( !(*(int (__thiscall **)(int, int, int, int *, int *, int *, CGetherShot *))(*(_DWORD *)v15 + 72))(
                  v15,
                  a2,
                  v14 * v13 / 100,
                  &v11,
                  &v9,
                  &v10,
                  this) )
            (*(void (__thiscall **)(int, int))(*(_DWORD *)v15 + 80))(v15, a2);
          if ( v11 > 0 )
          {
            v7 = v10;
            v6 = v11;
            v5 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v15);
            v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
            v4 = ((int (__thiscall *)(CGetherShot *, int, int, int, int, int))this->__vftable[1].Excute)(
                   this,
                   this->m_nSkill,
                   v3,
                   v5,
                   v6,
                   v7);
            CChar::WriteInSight(a2, 10, "bbddww", v4);
          }
        }
        v16 = (CIOObject *)CBaseList::Pop(v16);
      }
      sub_412E90((CIOCriticalSection *)a2);
    }
    else
    {
      this->m_nV1 = 1;
    }
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0048B800) --------------------------------------------------------
LONG __thiscall CTDiamondClow::Excute(_DWORD *this, CIOCriticalSection *a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int v6; // [esp-18h] [ebp-3Ch]
  int v7; // [esp-10h] [ebp-34h]
  int v8; // [esp-Ch] [ebp-30h]
  int v9; // [esp-Ch] [ebp-30h]
  int v10; // [esp-8h] [ebp-2Ch]
  int v11; // [esp-4h] [ebp-28h]
  int v12; // [esp-4h] [ebp-28h]
  int v14; // [esp+4h] [ebp-20h] BYREF
  int v15; // [esp+8h] [ebp-1Ch] BYREF
  int v16; // [esp+Ch] [ebp-18h] BYREF
  int v18; // [esp+14h] [ebp-10h]
  int v19; // [esp+18h] [ebp-Ch]
  int v20; // [esp+1Ch] [ebp-8h]
  CIOObject *v21; // [esp+20h] [ebp-4h]

  v20 = 0;
  v3 = (*(int (__thiscall **)(_DWORD *))(*this + 92))(this);
  v21 = (CIOObject *)CSMap::GetPlayerListInRect(&a2[10].m_critical_section.LockCount, v3);
  a2[14].m_critical_section.SpinCount = this[12] + GetTickCount();
  sub_412EB0(a2);
  while ( v21 )
  {
    v20 = unknown_libname_7(v21);
    if ( CChar::IsNormal(v20) && a2[9].m_dwEIP[1] == *(_DWORD *)(v20 + 316) )
    {
      v16 = 0;
      v15 = 0;
      v19 = CMagic::GetResist(this, (int)a2, (_DWORD *)v20);
      v14 = 0;
      v18 = (*(int (__thiscall **)(_DWORD *, CIOCriticalSection *))(*this + 88))(this, a2);
      if ( !(*(int (__thiscall **)(int, CIOCriticalSection *, int, int *, int *, int *, _DWORD *))(*(_DWORD *)v20 + 72))(
              v20,
              a2,
              v19 * v18 / 100,
              &v16,
              &v14,
              &v15,
              this) )
        (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)v20 + 80))(v20, a2);
      if ( v16 > 0 )
      {
        v11 = v15;
        v10 = v16;
        v8 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v20);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
        v6 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*this + 96))(this, this[1], v4, v8, v10, v11);
        CChar::WriteInSight((int)a2, 10, "bbddww", v6);
      }
    }
    v21 = (CIOObject *)CBaseList::Pop(v21);
  }
  sub_412E90(a2);
  v12 = this[2];
  v9 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  v7 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v7, v9, 0, v12);
  return CChar::AddGState((volatile LONG *)a2, 0x10000);
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0048B9C0) --------------------------------------------------------
void __thiscall CDoTele::ExcuteM(_DWORD *this, int *a2, int a3)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-38h]
  int v5; // [esp-4h] [ebp-30h]
  _DWORD *v7; // [esp+4h] [ebp-28h]
  _DWORD a3a[2]; // [esp+8h] [ebp-24h] BYREF
  int v9; // [esp+10h] [ebp-1Ch]
  int nMax; // [esp+14h] [ebp-18h]
  CIOObject *i; // [esp+18h] [ebp-14h]
  DWORD v12; // [esp+1Ch] [ebp-10h]
  int nMin; // [esp+20h] [ebp-Ch]
  int v14; // [esp+24h] [ebp-8h]
  int v15; // [esp+28h] [ebp-4h]

  if ( a3 && *(_DWORD *)(a3 + 316) == a2[79] )
  {
    v12 = GetTickCount();
    this[16] = this[11] + v12 - this[10];
    (*(void (__thiscall **)(int *, DWORD, int))(*a2 + 228))(a2, this[12] + v12, 1);
    a2[117] = this[12] + v12;
    v5 = this[2];
    v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a3);
    v3 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v3, v4, 0, v5);
    v15 = RandomBetween(0, 4);
    nMin = dword_4D62B0[2 * v15] - 96;
    nMax = dword_4D62B0[2 * v15] + 96;
    v9 = dword_4D62B4[2 * v15] - 96;
    v14 = dword_4D62B4[2 * v15] + 96;
    for ( i = (CIOObject *)CSMap::GetPlayerListInRect((_DWORD *)(a3 + 324), 2); i; i = (CIOObject *)CBaseList::Pop(i) )
    {
      a3a[0] = RandomBetween(nMin, nMax);
      a3a[1] = RandomBetween(v9, v14);
      v7 = (_DWORD *)unknown_libname_7(i);
      if ( CChar::IsNormal((int)v7) )
        CPlayer::Teleport(v7, a2[79], a3a, 30000, 0);
    }
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 4D62B0: using guessed type int dword_4D62B0[];

//----- (0048BB50) --------------------------------------------------------
void __thiscall CEdge::GetSpendMP(CHealingAnyPlus *this, CPlayer *a5, int a6)
{
  int v3; // eax
  int v4; // eax
  int v5; // [esp-Ch] [ebp-1Ch]
  int v6; // [esp-4h] [ebp-14h]
  int v8; // [esp+4h] [ebp-Ch] BYREF
  DWORD v9; // [esp+8h] [ebp-8h]
  CIOObject *v10; // [esp+Ch] [ebp-4h]

  v10 = (CIOObject *)sub_493770((char *)a5->m_pMap, &a5->m_ptTile.x, this->m_nV1, 5);
  if ( v10 )
  {
    v9 = GetTickCount();
    this->m_dwTick = this->m_dwDelay + v9 - this->m_dwDelayPre;
    ((void (__thiscall *)(CPlayer *, unsigned int, int))a5->__vftable[1].OnDelete)(a5, this->m_dwActionDelay + v9, 1);
    a5->m_nContribute = this->m_dwActionDelay + v9;
    v3 = CChar::GetMaxHP(a5);
    a5->UpdateProperty(a5, 7, 1, v3 / 20);
    v6 = this->m_nLevel;
    v5 = std::_Mpunct<wchar_t>::do_frac_digits(v10);
    v4 = std::_Mpunct<wchar_t>::do_frac_digits(a5);
    CChar::WriteInSight((int)a5, 63, "bddbb", this->m_nSkill, v4, v5, 0, v6);
    sub_412EB0((CIOCriticalSection *)a5);
    v8 = 0;
    ((void (__thiscall *)(CIOObject *, CPlayer *, int, int *, int *, int *, _DWORD))v10->__vftable[3].~CIOObject)(
      v10,
      a5,
      0xFFFF,
      &v8,
      &v8,
      &v8,
      0);
    CIOObject::Release(v10, (volatile int *)&v10[22]);
    sub_412E90((CIOCriticalSection *)a5);
  }
}

//----- (0048BC80) --------------------------------------------------------
int __thiscall sub_48BC80(void *this, int a2, int a3)
{
  CBuffMoveSpeed *v3; // eax

  v3 = CBuff::CreateBuff(95, 180, 50, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v3);
}

//----- (0048BCB0) --------------------------------------------------------
CMeditation *__thiscall CMeditation::CMeditation(CMeditation *this, int a2, int a3)
{
  CBuffMoveSpeed *v3; // eax

  v3 = CBuff::CreateBuff(96, 180, 50, (int)this);
  return (CMeditation *)(*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a2 + 180))(a2, v3);
}

//----- (0048BCE0) --------------------------------------------------------
int __stdcall sub_48BCE0(int a1)
{
  return RandomBetween(3000, 4000);
}

//----- (0048BD00) --------------------------------------------------------
void __thiscall CSkill_MonsterMagic::ExcuteM(_DWORD *this, CIOCriticalSection *a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // [esp-Ch] [ebp-30h]
  int v7; // [esp-8h] [ebp-2Ch]
  int v8; // [esp-4h] [ebp-28h]
  int v10; // [esp+4h] [ebp-20h] BYREF
  int v11; // [esp+8h] [ebp-1Ch] BYREF
  int v12; // [esp+Ch] [ebp-18h] BYREF
  int v14; // [esp+14h] [ebp-10h]
  int v15; // [esp+18h] [ebp-Ch]
  int v16; // [esp+1Ch] [ebp-8h]
  CIOObject *v17; // [esp+20h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, CIOCriticalSection *, _DWORD))(*this + 76))(this, a2, 0) )
  {
    v16 = 0;
    v3 = (*(int (__thiscall **)(_DWORD *))(*this + 92))(this);
    v17 = (CIOObject *)sub_4935A0(a2[10].m_critical_section.DebugInfo, (int)&a2[10].m_critical_section.LockCount, v3);
    sub_412EB0(a2);
    while ( v17 )
    {
      v16 = unknown_libname_7(v17);
      if ( CChar::IsNormal(v16)
        && a2[9].m_dwEIP[1] == *(_DWORD *)(v16 + 316)
        && (*(int (__thiscall **)(int, int, int))(*(_DWORD *)a2[15].m_critical_section.LockCount + 176))(
             a2[15].m_critical_section.LockCount,
             v16,
             1) )
      {
        v12 = 0;
        v11 = 0;
        v15 = CMagic::GetResist(this, a2[15].m_critical_section.LockCount, (_DWORD *)v16);
        v10 = 0;
        v14 = (*(int (__thiscall **)(_DWORD *, CIOCriticalSection *))(*this + 88))(this, a2);
        if ( (*(int (__thiscall **)(_DWORD *))(*this + 100))(this) )
        {
          if ( !(*(int (__thiscall **)(int, int, int, int *, int *, int *, _DWORD *))(*(_DWORD *)v16 + 72))(
                  v16,
                  a2[15].m_critical_section.LockCount,
                  v15 * v14 / 100,
                  &v12,
                  &v10,
                  &v11,
                  this) )
            (*(void (__thiscall **)(int, int))(*(_DWORD *)v16 + 80))(v16, a2[15].m_critical_section.LockCount);
          if ( v12 > 0 )
          {
            v8 = v11;
            v7 = v12;
            v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v16);
            v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
            v5 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*this + 96))(
                   this,
                   this[1],
                   v4,
                   v6,
                   v7,
                   v8);
            CChar::WriteInSight((int)a2, 10, "bbddww", v5);
            (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v16);
          }
        }
        else
        {
          (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v16);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)v16 + 80))(v16, a2[15].m_critical_section.LockCount);
        }
      }
      v17 = (CIOObject *)CBaseList::Pop(v17);
    }
    sub_412E90(a2);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0048BF10) --------------------------------------------------------
int __stdcall sub_48BF10(_DWORD *a1)
{
  return sub_483230(a1);
}

//----- (0048BF30) --------------------------------------------------------
CHealingPartyIns *__thiscall CHealingPartyIns::CHealingPartyIns(CHealingPartyIns *this, int a2, int a3)
{
  return (CHealingPartyIns *)(*(int (__thiscall **)(CHealingPartyIns *, _DWORD, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)this + 84))(
                               this,
                               *(_DWORD *)(a2 + 484),
                               a3,
                               0,
                               0,
                               0);
}

//----- (0048BF60) --------------------------------------------------------
int __thiscall CMPoisonCloud::ApplyM(void *this, int a2, int a3)
{
  int v3; // eax
  CBuffMoveSpeed *v4; // eax

  v3 = (*(int (__thiscall **)(void *, int))(*(_DWORD *)this + 88))(this, a2);
  v4 = CBuff::CreateBuff(92, 60, v3, (int)this);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v4);
}

//----- (0048BFA0) --------------------------------------------------------
CPoisonArrow *__thiscall CPoisonArrow::CPoisonArrow(CPoisonArrow *this, _DWORD *a2)
{
  int v2; // esi
  int v4; // [esp+4h] [ebp-14h]
  int v5; // [esp+8h] [ebp-10h]
  int nMin; // [esp+10h] [ebp-8h]

  v2 = 3 * a2[15] / 2;
  nMin = (v2 + 20 * CChar::GetInt(a2) / 16) / 2;
  if ( nMin >= 150 )
    v5 = 150;
  else
    v5 = nMin;
  if ( nMin >= 300 )
    v4 = 300;
  else
    v4 = nMin;
  return (CPoisonArrow *)RandomBetween(v5, v4);
}

//----- (0048C040) --------------------------------------------------------
CSilenceArrow *__thiscall CSilenceArrow::CSilenceArrow(CSilenceArrow *this, _DWORD *a2)
{
  int v2; // esi
  int v3; // esi
  int v5; // [esp+4h] [ebp-14h]
  int v6; // [esp+8h] [ebp-10h]
  int nMin; // [esp+10h] [ebp-8h]
  int nMax; // [esp+14h] [ebp-4h]

  v2 = 3 * a2[15] / 2;
  nMin = v2 + 3 * this->m_nLevel * CChar::GetInt(a2) / 10 / 2 + 10;
  v3 = 3 * a2[15] / 2;
  nMax = v3 + 5 * this->m_nLevel * CChar::GetInt(a2) / 8 / 2 + 30;
  if ( nMin >= 300 )
    v6 = 300;
  else
    v6 = nMin;
  if ( nMax >= 400 )
    v5 = 400;
  else
    v5 = nMax;
  return (CSilenceArrow *)RandomBetween(v6, v5);
}

//----- (0048C110) --------------------------------------------------------
void __thiscall CMSpark::ExcuteM_0(_DWORD *this, int a2, CPlayer *a3)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-2Ch]
  int v6; // [esp+4h] [ebp-1Ch] BYREF
  int v7; // [esp+8h] [ebp-18h] BYREF
  int v8; // [esp+Ch] [ebp-14h] BYREF
  int v10; // [esp+14h] [ebp-Ch]
  int v11; // [esp+18h] [ebp-8h]
  DWORD v12; // [esp+1Ch] [ebp-4h]

  if ( a3 )
  {
    CChar::SetDirection((_DWORD *)a2, a3->m_ptPixel.x - *(_DWORD *)(a2 + 332), a3->m_ptPixel.y - *(_DWORD *)(a2 + 336));
    v12 = GetTickCount();
    this[16] = this[11] + v12 - this[10];
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a2 + 228))(a2, this[12] + v12, 1);
    *(_DWORD *)(a2 + 468) = this[12] + v12;
    if ( CChar::IsNormal((int)a3) )
    {
      if ( *(_DWORD *)(a2 + 316) == a3->m_nMap && sub_448870((_DWORD *)(a2 + 332), &a3->m_ptPixel.x) < 170 )
      {
        v8 = 0;
        v7 = 0;
        v11 = CMagic::GetResist(this, a2, *(_DWORD **)(a2 + 464));
        v6 = 0;
        v10 = (*(int (__thiscall **)(_DWORD *, int))(*this + 88))(this, a2);
        if ( !a3->Damage(a3, (CChar *)a2, v11 * v10 / 100, &v8, &v6, &v7, (CSkill *)this) )
          a3->Defense(a3, (CChar *)a2);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(a3);
        v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 63, "bddbbwwb", this[1], v3, v4, 1, 5);
        CPlayer::Write((int)a3, 69, "bw", 7, a3->m_nCurHP);
        CPlayer::UpdatePartyMember(a3, 7);
      }
    }
  }
}

//----- (0048C2D0) --------------------------------------------------------
int __stdcall CMFireRain::GetMagicM(_DWORD *a1)
{
  int v1; // esi

  v1 = 3 * a1[15] / 2;
  return v1 + 60 * CChar::GetInt(a1) / 10;
}

//----- (0048C310) --------------------------------------------------------
void __thiscall CDestructionFlame::ExcuteM(_DWORD *this, int a2, CPlayer *a3)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-2Ch]
  int v6; // [esp+4h] [ebp-1Ch] BYREF
  int v7; // [esp+8h] [ebp-18h] BYREF
  int v8; // [esp+Ch] [ebp-14h] BYREF
  int v10; // [esp+14h] [ebp-Ch]
  int v11; // [esp+18h] [ebp-8h]
  DWORD v12; // [esp+1Ch] [ebp-4h]

  if ( a3 )
  {
    CChar::SetDirection((_DWORD *)a2, a3->m_ptPixel.x - *(_DWORD *)(a2 + 332), a3->m_ptPixel.y - *(_DWORD *)(a2 + 336));
    v12 = GetTickCount();
    this[16] = this[11] + v12 - this[10];
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a2 + 228))(a2, this[12] + v12, 1);
    *(_DWORD *)(a2 + 468) = this[12] + v12;
    if ( CChar::IsNormal((int)a3) )
    {
      if ( *(_DWORD *)(a2 + 316) == a3->m_nMap && sub_448870((_DWORD *)(a2 + 332), &a3->m_ptPixel.x) < 170 )
      {
        v8 = 0;
        v7 = 0;
        v11 = CMagic::GetResist(this, a2, *(_DWORD **)(a2 + 464));
        v6 = 0;
        v10 = (*(int (__thiscall **)(_DWORD *, int))(*this + 88))(this, a2);
        if ( !a3->Damage(a3, (CChar *)a2, v11 * v10 / 100, &v8, &v6, &v7, (CSkill *)this) )
          a3->Defense(a3, (CChar *)a2);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(a3);
        v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 63, "bddbbwwb", this[1], v3, v4, 1, 20);
        CPlayer::Write((int)a3, 69, "bw", 7, a3->m_nCurHP);
        CPlayer::UpdatePartyMember(a3, 7);
      }
    }
  }
}

//----- (0048C4D0) --------------------------------------------------------
int __stdcall CMSpark::ExcuteM(_DWORD *a1)
{
  int v1; // esi
  int v2; // esi
  int v4; // [esp+4h] [ebp-14h]
  int v5; // [esp+8h] [ebp-10h]
  int nMin; // [esp+10h] [ebp-8h]
  int nMax; // [esp+14h] [ebp-4h]

  v1 = 5 * a1[15] / 3;
  nMin = (v1 + 6 * *(_DWORD *)(a1[110] + 320) * CChar::GetInt(a1) / 4) / 2 + 50;
  v2 = 5 * a1[15] / 3;
  nMax = (v2 + 11 * *(_DWORD *)(a1[110] + 320) * CChar::GetInt(a1) / 3) / 2 + 150;
  if ( nMin >= 60 * *(_DWORD *)(a1[110] + 320) + 200 )
    v5 = 60 * *(_DWORD *)(a1[110] + 320) + 200;
  else
    v5 = nMin;
  if ( nMax >= 200 * *(_DWORD *)(a1[110] + 320) + 200 )
    v4 = 200 * *(_DWORD *)(a1[110] + 320) + 200;
  else
    v4 = nMax;
  return RandomBetween(v5, v4);
}

//----- (0048C610) --------------------------------------------------------
void __thiscall CVanishConfi::CVanishConfi(CVanishConfi *this, int a2, CPlayer *a3)
{
  int v3; // [esp-10h] [ebp-30h]
  int v4; // [esp-Ch] [ebp-2Ch]
  int v6; // [esp+4h] [ebp-1Ch] BYREF
  int v7; // [esp+8h] [ebp-18h] BYREF
  int v8; // [esp+Ch] [ebp-14h] BYREF
  int v10; // [esp+14h] [ebp-Ch]
  int v11; // [esp+18h] [ebp-8h]
  DWORD v12; // [esp+1Ch] [ebp-4h]

  if ( a3 )
  {
    CChar::SetDirection((_DWORD *)a2, a3->m_ptPixel.x - *(_DWORD *)(a2 + 332), a3->m_ptPixel.y - *(_DWORD *)(a2 + 336));
    v12 = GetTickCount();
    this->m_dwTick = this->m_dwDelay + v12 - this->m_dwDelayPre;
    (*(void (__thiscall **)(int, unsigned int, int))(*(_DWORD *)a2 + 228))(a2, this->m_dwActionDelay + v12, 1);
    *(_DWORD *)(a2 + 468) = this->m_dwActionDelay + v12;
    if ( CChar::IsNormal((int)a3) )
    {
      if ( *(_DWORD *)(a2 + 316) == a3->m_nMap && sub_448870((_DWORD *)(a2 + 332), &a3->m_ptPixel.x) < 170 )
      {
        v8 = 0;
        v7 = 0;
        v11 = CMagic::GetResist(this, a2, *(_DWORD **)(a2 + 464));
        v6 = 0;
        v10 = ((int (__thiscall *)(CVanishConfi *, int))this->IsDeBuff)(this, a2);
        if ( !a3->Damage(a3, (CChar *)a2, v11 * v10 / 100, &v8, &v6, &v7, this) )
          a3->Defense(a3, (CChar *)a2);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(a3);
        v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 63, "bddbbwwb", this->m_nSkill, v3, v4, 1, 2);
        CPlayer::Write((int)a3, 69, "bw", 7, a3->m_nCurHP);
        CPlayer::UpdatePartyMember(a3, 7);
      }
    }
  }
}

//----- (0048C7D0) --------------------------------------------------------
CChantHealing *__thiscall CChantHealing::CChantHealing(CChantHealing *this, _DWORD *a2)
{
  int v2; // esi
  int v4; // [esp+4h] [ebp-Ch]
  int v5; // [esp+Ch] [ebp-4h]

  v2 = 5 * a2[15] / 3;
  v5 = (v2 + 6 * *(_DWORD *)(a2[110] + 320) * CChar::GetInt(a2) / 5) / 2;
  if ( v5 >= 70 * *(_DWORD *)(a2[110] + 320) + 150 )
    v4 = 70 * *(_DWORD *)(a2[110] + 320) + 150;
  else
    v4 = v5;
  return (CChantHealing *)(v4 + 8 * *(_DWORD *)(a2[110] + 320));
}

//----- (0048C880) --------------------------------------------------------
int __thiscall sub_48C880(_DWORD *this, _DWORD *a2, int a3)
{
  int v3; // eax
  int v5; // [esp-Ch] [ebp-14h]
  int v6; // [esp-4h] [ebp-Ch]
  DWORD v8; // [esp+4h] [ebp-4h]

  v8 = GetTickCount();
  this[16] = this[11] + v8 - this[10];
  (*(void (__thiscall **)(_DWORD *, DWORD, int))(*a2 + 228))(a2, this[12] + v8, 1);
  a2[117] = this[12] + v8;
  v6 = this[2];
  v5 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  v3 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  CChar::WriteInSight((int)a2, 63, "bddbb", this[1], v3, v5, 0, v6);
  return (*(int (__thiscall **)(_DWORD *, _DWORD, int, _DWORD, _DWORD))(*a2 + 232))(
           a2,
           this[14],
           (int)this[15] >> 16,
           (unsigned __int8)BYTE1(this[15]),
           (unsigned __int8)this[15]);
}

//----- (0048C950) --------------------------------------------------------
void __thiscall CTGroundSplinter::CTGroundSplinter(CTGroundSplinter *this, CIOCriticalSection *a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-20h]
  int v5; // [esp-4h] [ebp-18h]
  int v7; // [esp+4h] [ebp-10h] BYREF
  int v8; // [esp+8h] [ebp-Ch] BYREF
  int v9; // [esp+Ch] [ebp-8h] BYREF
  DWORD v10; // [esp+10h] [ebp-4h]

  if ( a3 )
  {
    v7 = 0;
    v8 = 0;
    v9 = 0;
    CChar::SetDirection(
      a2,
      a3[83] - (unsigned int)a2[10].m_critical_section.OwningThread,
      a3[84] - (unsigned int)a2[10].m_critical_section.LockSemaphore);
    v10 = GetTickCount();
    this->m_dwTick = this->m_dwDelay + v10 - this->m_dwDelayPre;
    ((void (__thiscall *)(CIOCriticalSection *, unsigned int, int))a2->m_critical_section.DebugInfo[7].CriticalSection)(
      a2,
      this->m_dwActionDelay + v10,
      1);
    a2[14].m_critical_section.SpinCount = this->m_dwActionDelay + v10;
    sub_412EB0(a2);
    (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int, int *, int *, int *, CTGroundSplinter *))(*a3 + 72))(
      a3,
      a2,
      2 * a3[68],
      &v9,
      &v7,
      &v8,
      this);
    sub_412E90(a2);
    v5 = this->m_nLevel;
    v4 = std::_Mpunct<wchar_t>::do_frac_digits(a3);
    v3 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 63, "bddbb", this->m_nSkill, v3, v4, 0, v5);
  }
}

//----- (0048CA70) --------------------------------------------------------
CMShock *__thiscall CMShock::CMShock(CMShock *this, _DWORD *a2)
{
  int v2; // eax
  int v4; // [esp-4h] [ebp-8h]

  v4 = CChar::GetMaxAttack(a2);
  v2 = CChar::GetMaxAttack(a2);
  return (CMShock *)RandomBetween(v2, v4);
}

//----- (0048CAA0) --------------------------------------------------------
int __thiscall CDoAscension::GetAddValueType(CDoAscension *this, int a2, int a3)
{
  CBuffMoveSpeed *v3; // eax
  int savedregs; // [esp+4h] [ebp+0h]

  v3 = CBuff::CreateBuff(7, 10, (int)this, savedregs);
  return (*(int (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v3);
}
// 48CAAB: variable 'savedregs' is possibly undefined

//----- (0048CAD0) --------------------------------------------------------
void __thiscall sub_48CAD0(void *this, int a2, int a3)
{
  CBuffMoveSpeed *v3; // eax

  if ( a3 )
  {
    v3 = CBuff::CreateBuff(105, 20000, 800, (int)this);
    (*(void (__thiscall **)(int, CBuffMoveSpeed *))(*(_DWORD *)a3 + 180))(a3, v3);
  }
}

//----- (0048CB10) --------------------------------------------------------
void __thiscall sub_48CB10(_DWORD *this, CIOCriticalSection *a2, CPlayer *a3)
{
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // [esp-Ch] [ebp-34h]
  int v8; // [esp-Ch] [ebp-34h]
  int v9; // [esp-8h] [ebp-30h]
  int v10; // [esp-4h] [ebp-2Ch]
  int v12; // [esp+4h] [ebp-24h] BYREF
  int v13; // [esp+8h] [ebp-20h] BYREF
  int v14; // [esp+Ch] [ebp-1Ch] BYREF
  int v16; // [esp+14h] [ebp-14h]
  int v17; // [esp+18h] [ebp-10h]
  int v18; // [esp+1Ch] [ebp-Ch]
  CIOObject *v19; // [esp+20h] [ebp-8h]
  DWORD v20; // [esp+24h] [ebp-4h]

  if ( a3 )
  {
    CChar::SetDirection(
      a2,
      a3->m_ptPixel.x - (unsigned int)a2[10].m_critical_section.OwningThread,
      a3->m_ptPixel.y - (unsigned int)a2[10].m_critical_section.LockSemaphore);
    v18 = 0;
    v3 = (*(int (__thiscall **)(_DWORD *))(*this + 92))(this);
    v19 = (CIOObject *)CSMap::GetPlayerListInRect(&a3->m_ptTile.x, v3);
    v20 = GetTickCount();
    this[16] = this[11] + v20 - this[10];
    ((void (__thiscall *)(CIOCriticalSection *, DWORD, int))a2->m_critical_section.DebugInfo[7].CriticalSection)(
      a2,
      this[12] + v20,
      1);
    a2[14].m_critical_section.SpinCount = this[12] + v20;
    sub_412EB0(a2);
    while ( v19 )
    {
      v18 = unknown_libname_7(v19);
      if ( CChar::IsNormal(v18) && a2[9].m_dwEIP[1] == *(_DWORD *)(v18 + 316) )
      {
        v14 = 0;
        v13 = 0;
        v17 = CMagic::GetResist(this, (int)a2, (_DWORD *)v18);
        v12 = 0;
        v16 = (*(int (__thiscall **)(_DWORD *, CIOCriticalSection *))(*this + 88))(this, a2);
        if ( (*(int (__thiscall **)(_DWORD *))(*this + 100))(this) )
        {
          if ( !(*(int (__thiscall **)(int, CIOCriticalSection *, int, int *, int *, int *, _DWORD *))(*(_DWORD *)v18 + 72))(
                  v18,
                  a2,
                  v17 * v16 / 100,
                  &v14,
                  &v12,
                  &v13,
                  this) )
            (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)v18 + 80))(v18, a2);
          if ( v14 > 0 )
          {
            v10 = v13;
            v9 = v14;
            v7 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v18);
            v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
            v5 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*this + 96))(
                   this,
                   this[1],
                   v4,
                   v7,
                   v9,
                   v10);
            CChar::WriteInSight((int)a2, 10, "bbddww", v5);
            (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v18);
          }
        }
        else
        {
          (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v18);
          (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)v18 + 80))(v18, a2);
        }
      }
      v19 = (CIOObject *)CBaseList::Pop(v19);
    }
    sub_412E90(a2);
    v8 = std::_Mpunct<wchar_t>::do_frac_digits(a3);
    v6 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
    CChar::WriteInSight((int)a2, 63, "bddbbwwb", this[1], v6, v8, 1, 10);
    CPlayer::Write((int)a3, 69, "bw", 7, a3->m_nCurHP);
    CPlayer::UpdatePartyMember(a3, 7);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0048CDA0) --------------------------------------------------------
int __stdcall sub_48CDA0(int a1)
{
  return RandomBetween(2500, 3500);
}

//----- (0048CDC0) --------------------------------------------------------
int __stdcall sub_48CDC0(int a1)
{
  return RandomBetween(2000, 2500);
}

//----- (0048CDE0) --------------------------------------------------------
CIOCriticalSection *__stdcall CPurgatorialFlame::AddMagicMonster_0(int a1, int a2, int a3)
{
  return CMonsterMagic::Create(230, *(_DWORD *)(a1 + 316), &a2, 1, a1, 800, 60000);
}

//----- (0048CE20) --------------------------------------------------------
int __stdcall sub_48CE20(int a1)
{
  return RandomBetween(4000, 5000);
}

//----- (0048CE40) --------------------------------------------------------
void __stdcall CDemonBeastSummon::ExcuteM(int a1, int pChar)
{
  if ( pChar )
  {
    CMonsterMaguniMaster::Create(a1, pChar);
    CMonsterMaguniMaster::Create(a1, pChar);
  }
  else
  {
    CMonsterMaguniMaster::Create(a1, a1);
    CMonsterMaguniMaster::Create(a1, a1);
    LOG_ERR("CDemonBeastSummon::ExcuteM pChar is Null");
  }
}

//----- (0048CEB0) --------------------------------------------------------
int __stdcall sub_48CEB0(_DWORD *a1)
{
  int v1; // eax
  int v3; // [esp-4h] [ebp-8h]

  v3 = CChar::GetMaxAttack(a1);
  v1 = CChar::GetMinAttack(a1);
  return RandomBetween(v1, v3);
}

//----- (0048CEE0) --------------------------------------------------------
int __stdcall sub_48CEE0(int a1)
{
  int v1; // eax
  int v3; // [esp-4h] [ebp-8h]

  v3 = CChar::GetMaxAttack(*(_DWORD **)(a1 + 484));
  v1 = CChar::GetMinAttack(*(_DWORD **)(a1 + 484));
  return RandomBetween(v1, v3);
}

//----- (0048CF20) --------------------------------------------------------
void __thiscall CMSiegeGunBallExplosion::CMSiegeGunBallExplosion(CMSiegeGunBallExplosion *this, CIOCriticalSection *a2, int nY)
{
  int v3; // eax
  int v4; // eax
  int v5; // [esp-18h] [ebp-40h]
  int v6; // [esp-Ch] [ebp-34h]
  int v7; // [esp-8h] [ebp-30h]
  int v8; // [esp-8h] [ebp-30h]
  int v9; // [esp-4h] [ebp-2Ch]
  int v11; // [esp+4h] [ebp-24h] BYREF
  int v12; // [esp+8h] [ebp-20h] BYREF
  int v13; // [esp+Ch] [ebp-1Ch] BYREF
  int v15; // [esp+14h] [ebp-14h]
  int v16; // [esp+18h] [ebp-10h]
  int v17; // [esp+1Ch] [ebp-Ch]
  CIOObject *v18; // [esp+20h] [ebp-8h]
  DWORD v19; // [esp+24h] [ebp-4h]

  v17 = 0;
  v3 = this->GetRadiusTile(this);
  v18 = (CIOObject *)sub_4935A0(a2[10].m_critical_section.DebugInfo, (int)&a2[10].m_critical_section.LockCount, v3);
  v19 = GetTickCount();
  this->m_dwTick = this->m_dwDelay + v19 - this->m_dwDelayPre;
  ((void (__thiscall *)(CIOCriticalSection *, unsigned int, int))a2->m_critical_section.DebugInfo[7].CriticalSection)(
    a2,
    this->m_dwActionDelay + v19,
    1);
  a2[14].m_critical_section.SpinCount = this->m_dwActionDelay + v19;
  sub_412EB0(a2);
  while ( v18 )
  {
    v17 = unknown_libname_7(v18);
    if ( CChar::IsNormal(v17) && a2[9].m_dwEIP[1] == *(_DWORD *)(v17 + 316) )
    {
      v13 = 0;
      v12 = 0;
      v16 = CMagic::GetResist(this, (int)a2, (_DWORD *)v17);
      v11 = 0;
      v15 = this->GetMagicM(this, (CMonster *)a2);
      if ( !(*(int (__thiscall **)(int, CIOCriticalSection *, int, int *, int *, int *, CMSiegeGunBallExplosion *))(*(_DWORD *)v17 + 72))(
              v17,
              a2,
              v16 * v15 / 100,
              &v13,
              &v11,
              &v12,
              this) )
        (*(void (__thiscall **)(int, CIOCriticalSection *))(*(_DWORD *)v17 + 80))(v17, a2);
      if ( v13 > 0 )
      {
        v9 = v12;
        v7 = v13;
        v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v17);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
        v5 = ((int (__thiscall *)(CMSiegeGunBallExplosion *, int, int, int, int, int))this->GetAddValueType)(
               this,
               this->m_nSkill,
               v4,
               v6,
               v7,
               v9);
        CChar::WriteInSight((int)a2, 10, "bbddww", v5);
        this->ApplyM(this, (CMonster *)a2, (CChar *)v17);
      }
    }
    v18 = (CIOObject *)CBaseList::Pop(v18);
  }
  sub_412E90(a2);
  v8 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
  CChar::WriteInSight((int)a2, 61, "db", v8, 9);
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0048D100) --------------------------------------------------------
BOOL __stdcall sub_48D100(_QWORD *a1, int a2)
{
  return CChar::IsBState(a1, 0x40000000000i64) == 0;
}

//----- (0048D140) --------------------------------------------------------
int __thiscall CReturn::Excute(int *this, _DWORD *a2, int a3, int a4)
{
  int result; // eax
  CBuffMoveSpeed *v5; // eax
  int savedregs; // [esp+4h] [ebp+0h]

  result = (*(int (__thiscall **)(int *, _DWORD *, _DWORD))*this)(this, a2, 0);
  if ( result )
  {
    CPlayer::ReturnToPoint(a2, this[14]);
    v5 = CBuff::CreateBuff(115, this[11] / 0x3E8u, (int)this, savedregs);
    result = (*(int (__thiscall **)(_DWORD *, CBuffMoveSpeed *))(*a2 + 180))(a2, v5);
  }
  return result;
}
// 48D17E: variable 'savedregs' is possibly undefined

//----- (0048D1A0) --------------------------------------------------------
BOOL __thiscall CPurgatorialFlame::AddMagicMonster(int (__thiscall ***this)(void *, int, _DWORD), int a2, int a3)
{
  return (**this)(this, a2, 0) != 0;
}

//----- (0048D1D0) --------------------------------------------------------
void __thiscall sub_48D1D0(_DWORD *this, int a2, CPlayer *a3)
{
  int v3; // eax
  int v4; // [esp-Ch] [ebp-2Ch]
  int v6; // [esp+4h] [ebp-1Ch] BYREF
  int v7; // [esp+8h] [ebp-18h] BYREF
  int v8; // [esp+Ch] [ebp-14h] BYREF
  int v10; // [esp+14h] [ebp-Ch]
  int v11; // [esp+18h] [ebp-8h]
  DWORD v12; // [esp+1Ch] [ebp-4h]

  if ( a3 )
  {
    CChar::SetDirection((_DWORD *)a2, a3->m_ptPixel.x - *(_DWORD *)(a2 + 332), a3->m_ptPixel.y - *(_DWORD *)(a2 + 336));
    v12 = GetTickCount();
    this[16] = this[11] + v12 - this[10];
    (*(void (__thiscall **)(int, DWORD, int))(*(_DWORD *)a2 + 228))(a2, this[12] + v12, 1);
    *(_DWORD *)(a2 + 468) = this[12] + v12;
    if ( CChar::IsNormal((int)a3) )
    {
      if ( *(_DWORD *)(a2 + 316) == a3->m_nMap && sub_448870((_DWORD *)(a2 + 332), &a3->m_ptPixel.x) < 170 )
      {
        v8 = 0;
        v7 = 0;
        v11 = CMagic::GetResist(this, a2, *(_DWORD **)(a2 + 464));
        v6 = 0;
        v10 = (*(int (__thiscall **)(_DWORD *, int))(*this + 88))(this, a2);
        if ( !a3->Damage(a3, (CChar *)a2, v11 * v10 / 100, &v8, &v6, &v7, (CSkill *)this) )
          a3->Defense(a3, (CChar *)a2);
        v4 = std::_Mpunct<wchar_t>::do_frac_digits(a3);
        v3 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a2);
        CChar::WriteInSight(a2, 63, "bddbbwwb", this[1], v3, v4, 1, 10);
        CPlayer::Write((int)a3, 69, "bw", 7, a3->m_nCurHP);
        CPlayer::UpdatePartyMember(a3, 7);
      }
    }
  }
}

//----- (0048D390) --------------------------------------------------------
CIOCriticalSection *__stdcall CMFujiExplosion::AddMagicMonsterM(_DWORD *a1, int a2, int a3)
{
  int v3; // eax
  int v5; // [esp-4h] [ebp-Ch]
  int a6; // [esp+4h] [ebp-4h]

  v5 = CChar::GetMaxMagic(a1);
  v3 = CChar::GetMinMagic(a1);
  a6 = RandomBetween(v3, v5);
  return CMonsterMagic::Create(82, a1[79], &a2, 1, (int)a1, a6, 5000);
}

//----- (0048D3F0) --------------------------------------------------------
int __stdcall CMMagicFuJiExplosion::GetMagicM(int a1)
{
  int v2; // eax
  int v3; // [esp-4h] [ebp-8h]

  if ( !*(_DWORD *)(a1 + 484) )
    return 0;
  v3 = CChar::GetMaxMagic(*(_DWORD **)(a1 + 484));
  v2 = CChar::GetMinMagic(*(_DWORD **)(a1 + 484));
  return RandomBetween(v2, v3);
}

//----- (0048D440) --------------------------------------------------------
void __thiscall CMMagicFuJiExplosion::ExcuteM(_DWORD *this, CIOCriticalSection *a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // [esp-Ch] [ebp-30h]
  int v7; // [esp-8h] [ebp-2Ch]
  int v8; // [esp-4h] [ebp-28h]
  int v10; // [esp+4h] [ebp-20h] BYREF
  int v11; // [esp+8h] [ebp-1Ch] BYREF
  int v12; // [esp+Ch] [ebp-18h] BYREF
  int v14; // [esp+14h] [ebp-10h]
  int v15; // [esp+18h] [ebp-Ch]
  int v16; // [esp+1Ch] [ebp-8h]
  CIOObject *v17; // [esp+20h] [ebp-4h]

  if ( (*(int (__thiscall **)(_DWORD *, CIOCriticalSection *, _DWORD))(*this + 76))(this, a2, 0) )
  {
    v16 = 0;
    v3 = (*(int (__thiscall **)(_DWORD *))(*this + 92))(this);
    v17 = (CIOObject *)CSMap::GetPlayerListInRect(&a2[10].m_critical_section.LockCount, v3);
    ++a2[16].m_critical_section.SpinCount;
    sub_412EB0(a2);
    while ( v17 )
    {
      v16 = unknown_libname_7(v17);
      if ( CChar::IsNormal(v16)
        && a2[9].m_dwEIP[1] == *(_DWORD *)(v16 + 316)
        && (*(int (__thiscall **)(int, int, int))(*(_DWORD *)a2[15].m_critical_section.LockCount + 176))(
             a2[15].m_critical_section.LockCount,
             v16,
             1) )
      {
        v12 = 0;
        v11 = 0;
        v15 = CMagic::GetResist(this, a2[15].m_critical_section.LockCount, (_DWORD *)v16);
        v10 = 0;
        v14 = (*(int (__thiscall **)(_DWORD *, CIOCriticalSection *))(*this + 88))(this, a2);
        if ( (int)a2[16].m_critical_section.SpinCount > 2 )
          v14 *= a2[16].m_critical_section.SpinCount - 1;
        if ( (*(int (__thiscall **)(_DWORD *))(*this + 100))(this) )
        {
          if ( !(*(int (__thiscall **)(int, int, int, int *, int *, int *, _DWORD *))(*(_DWORD *)v16 + 72))(
                  v16,
                  a2[15].m_critical_section.LockCount,
                  v15 * v14 / 100,
                  &v12,
                  &v10,
                  &v11,
                  this) )
            (*(void (__thiscall **)(int, int))(*(_DWORD *)v16 + 80))(v16, a2[15].m_critical_section.LockCount);
          if ( v12 > 0 )
          {
            v8 = v11;
            v7 = v12;
            v6 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)v16);
            v4 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
            v5 = (*(int (__thiscall **)(_DWORD *, _DWORD, int, int, int, int))(*this + 96))(
                   this,
                   this[1],
                   v4,
                   v6,
                   v7,
                   v8);
            CChar::WriteInSight((int)a2, 10, "bbddww", v5);
            (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v16);
          }
        }
        else
        {
          (*(void (__thiscall **)(_DWORD *, CIOCriticalSection *, int))(*this + 104))(this, a2, v16);
          (*(void (__thiscall **)(int, int))(*(_DWORD *)v16 + 80))(v16, a2[15].m_critical_section.LockCount);
        }
      }
      v17 = (CIOObject *)CBaseList::Pop(v17);
    }
    sub_412E90(a2);
  }
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);

//----- (0048D680) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_48D680(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(this, (int)&v4, (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (0048D6B0) --------------------------------------------------------
int __thiscall sub_48D6B0(void *this)
{
  return sub_48D930((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (0048D6D0) --------------------------------------------------------
std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *__thiscall sub_48D6D0(int *this, std::pair<std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator,bool> *a2, const std::pair<int const ,CGame_Character::TargetInfo> *a3)
{
  _DWORD *v3; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v5; // eax
  int v7; // eax
  _DWORD *v8; // eax
  const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *v9; // eax
  _DWORD *v10; // [esp-4h] [ebp-3Ch]
  _DWORD *v11; // [esp-4h] [ebp-3Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v12; // [esp+0h] [ebp-38h]
  bool v14; // [esp+Bh] [ebp-2Dh] BYREF
  char v15[7]; // [esp+Ch] [ebp-2Ch] BYREF
  bool v16; // [esp+13h] [ebp-25h] BYREF
  char v17[7]; // [esp+14h] [ebp-24h] BYREF
  bool v18; // [esp+1Bh] [ebp-1Dh] BYREF
  char v19[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  char v20[4]; // [esp+28h] [ebp-10h] BYREF
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v21; // [esp+2Ch] [ebp-Ch]
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *v22; // [esp+30h] [ebp-8h]
  char v23; // [esp+37h] [ebp-1h]

  v21 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_478AB0(this);
  v22 = (std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *)this[1];
  v23 = 1;
  while ( !*(_BYTE *)sub_431110((int)v21) )
  {
    v22 = v21;
    v10 = (_DWORD *)sub_473500((int)v21);
    v3 = (_DWORD *)sub_474590((int)a3);
    v23 = sub_48D9E0(v3, v10);
    if ( v23 )
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_474590((int)v21);
    else
      v12 = *(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node **)sub_430F90((int)v21);
    v21 = v12;
  }
  sub_446700(v20, (int)v22);
  if ( v23 )
  {
    v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this,
           (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v19);
    if ( (unsigned __int8)unknown_libname_8(v4) )
    {
      v18 = 1;
      v5 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_420270((int)this, (int)v17, 1, v22, a3);
      std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
        a2,
        v5,
        &v18);
      return a2;
    }
    sub_418880(v20);
  }
  v11 = (_DWORD *)sub_474590((int)a3);
  v7 = unknown_libname_7(v20);
  v8 = (_DWORD *)sub_473500(v7);
  if ( sub_48D9E0(v8, v11) )
  {
    v16 = 1;
    v9 = (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)sub_420270((int)this, (int)v15, v23, v22, a3);
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      v9,
      &v16);
  }
  else
  {
    v14 = 0;
    std::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>::pair<std::_Tree<std::_Tmap_traits<int,D3DXMATRIX,std::less<int>,std::allocator<std::pair<int const,D3DXMATRIX>>,0>>::iterator,bool>(
      a2,
      (const std::_Tree<std::_Tmap_traits<unsigned long,tagSibmanRankInfo,std::less<unsigned long>,std::allocator<std::pair<unsigned long const ,tagSibmanRankInfo> >,0> >::iterator *)v20,
      &v14);
  }
  return a2;
}
// 42F830: using guessed type int __thiscall unknown_libname_7(_DWORD);
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0048D880) --------------------------------------------------------
_DWORD *CMemoryPool_CSkill::_Alloc()
{
  _DWORD *result; // eax
  _DWORD *v1; // [esp+0h] [ebp-Ch]
  CMemory **v2; // [esp+4h] [ebp-8h]
  _DWORD *v3; // [esp+8h] [ebp-4h]

  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA760);
  v3 = (_DWORD *)dword_4DA75C;
  if ( dword_4DA75C )
  {
    dword_4DA75C = *(_DWORD *)(dword_4DA75C + 4);
    sub_401F30(&dword_4DA760);
    result = v3;
  }
  else
  {
    sub_401F30(&dword_4DA760);
    v2 = sub_401000(0x4Cu);
    if ( v2 )
      v1 = sub_480D40(v2);
    else
      v1 = 0;
    result = v1;
  }
  return result;
}
// 4DA75C: using guessed type int dword_4DA75C;

//----- (0048D900) --------------------------------------------------------
LONG __cdecl sub_48D900(int a1)
{
  CIOSpinLock::Enter((CIOSpinLock *)&dword_4DA760);
  *(_DWORD *)(a1 + 4) = dword_4DA75C;
  dword_4DA75C = a1;
  return sub_401F30(&dword_4DA760);
}
// 4DA75C: using guessed type int dword_4DA75C;

//----- (0048D930) --------------------------------------------------------
int __thiscall sub_48D930(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_48DA20(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (0048D9E0) --------------------------------------------------------
BOOL __stdcall sub_48D9E0(_DWORD *a1, _DWORD *a2)
{
  return *a1 < *a2;
}

//----- (0048DA00) --------------------------------------------------------
_DWORD *__thiscall sub_48DA00(_DWORD *this)
{
  *this += 8;
  return this;
}

//----- (0048DA20) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_48DA20(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, char a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_48DAC0((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (0048DAC0) --------------------------------------------------------
_DWORD *__thiscall sub_48DAC0(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_48DC30(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (0048DB20) --------------------------------------------------------
int __thiscall sub_48DB20(int *this)
{
  int result; // eax
  int *v2; // eax
  int *v3; // eax
  int v5; // [esp+4h] [ebp-4h]

  result = sub_431110(*this);
  if ( !*(_BYTE *)result )
  {
    v2 = (int *)sub_430F90(*this);
    if ( *(_BYTE *)sub_431110(*v2) )
    {
      while ( 1 )
      {
        v5 = *(_DWORD *)sub_446FF0(*this);
        result = *(char *)sub_431110(v5);
        if ( result )
          break;
        result = sub_430F90(v5);
        if ( *this != *(_DWORD *)result )
          break;
        *this = v5;
      }
      *this = v5;
    }
    else
    {
      v3 = (int *)sub_430F90(*this);
      result = sub_42F920(*v3);
      *this = result;
    }
  }
  return result;
}

//----- (0048DBE0) --------------------------------------------------------
std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *__thiscall std::_Tree_nod<std::_Tmap_traits<char const *,int,iless,std::allocator<std::pair<char const * const,int>>,0>>::_Node::_Node(std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *this, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Larg, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Parg, std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *_Rarg, const std::pair<int const ,CGame_Character::TargetInfo> *_Val, char _Carg)
{
  int v6; // edx
  std::_Tree_nod<std::_Tmap_traits<int,CGame_Character::TargetInfo,std::less<int>,std::allocator<std::pair<int const ,CGame_Character::TargetInfo> >,0> >::_Node *result; // eax

  *(_DWORD *)this = _Larg;
  *((_DWORD *)this + 1) = _Parg;
  *((_DWORD *)this + 2) = _Rarg;
  v6 = *((_DWORD *)_Val + 1);
  result = this;
  *((_DWORD *)this + 3) = *(_DWORD *)_Val;
  *((_DWORD *)this + 4) = v6;
  *((_BYTE *)this + 20) = _Carg;
  *((_BYTE *)this + 21) = 0;
  return result;
}

//----- (0048DC30) --------------------------------------------------------
int __stdcall sub_48DC30(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_48DC30(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (0048DCB0) --------------------------------------------------------
_DWORD *__thiscall sub_48DCB0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BC3F0;
  return this;
}
// 4BC3F0: using guessed type int (__stdcall *off_4BC3F0)(int, int);

//----- (0048DCD0) --------------------------------------------------------
_DWORD *__thiscall sub_48DCD0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BC440;
  return this;
}
// 4BC440: using guessed type int (__stdcall *off_4BC440)(int, int);

//----- (0048DCF0) --------------------------------------------------------
_DWORD *__thiscall sub_48DCF0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BC490;
  return this;
}
// 4BC490: using guessed type int (__stdcall *off_4BC490)(int, int);

//----- (0048DD10) --------------------------------------------------------
_DWORD *__thiscall sub_48DD10(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BC4E0;
  return this;
}
// 4BC4E0: using guessed type int (__stdcall *off_4BC4E0)(int, int);

//----- (0048DD30) --------------------------------------------------------
_DWORD *__thiscall sub_48DD30(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BC530;
  return this;
}
// 4BC530: using guessed type int (__stdcall *off_4BC530)(int, int);

//----- (0048DD50) --------------------------------------------------------
_DWORD *__thiscall sub_48DD50(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BC580;
  return this;
}
// 4BC580: using guessed type int (__stdcall *off_4BC580)(int, int);

//----- (0048DD70) --------------------------------------------------------
_DWORD *__thiscall sub_48DD70(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC5D0;
  return this;
}
// 4BC5D0: using guessed type int (__stdcall *off_4BC5D0)(int, int);

//----- (0048DD90) --------------------------------------------------------
_DWORD *__thiscall sub_48DD90(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BC630;
  return this;
}
// 4BC630: using guessed type int (__stdcall *off_4BC630)(int, int);

//----- (0048DDB0) --------------------------------------------------------
int __thiscall sub_48DDB0(_DWORD *this, int a2)
{
  return this[9] + 9 * this[2];
}

//----- (0048DDD0) --------------------------------------------------------
_DWORD *__thiscall sub_48DDD0(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC690;
  return this;
}
// 4BC690: using guessed type int (__stdcall *off_4BC690)(int, int);

//----- (0048DDF0) --------------------------------------------------------
int __thiscall sub_48DDF0(_DWORD *this, int a2, int a3)
{
  return a3 + 8 * this[2];
}

//----- (0048DE10) --------------------------------------------------------
int __thiscall sub_48DE10(_DWORD *this)
{
  return this[2] / 2;
}

//----- (0048DE30) --------------------------------------------------------
_DWORD *__thiscall sub_48DE30(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC6F0;
  return this;
}
// 4BC6F0: using guessed type int (__stdcall *off_4BC6F0)(int, int);

//----- (0048DE50) --------------------------------------------------------
int sub_48DE50()
{
  return 100;
}

//----- (0048DE60) --------------------------------------------------------
int __thiscall sub_48DE60(_DWORD *this, int a2)
{
  return this[9] + 3 * this[2];
}

//----- (0048DE80) --------------------------------------------------------
int __thiscall sub_48DE80(_DWORD *this, int a2)
{
  return this[11] - 100 * this[2];
}

//----- (0048DEA0) --------------------------------------------------------
int __thiscall sub_48DEA0(_DWORD *this)
{
  return 2 * this[2];
}

//----- (0048DEC0) --------------------------------------------------------
_DWORD *__thiscall sub_48DEC0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BC750;
  return this;
}
// 4BC750: using guessed type int (__stdcall *off_4BC750)(int, int);

//----- (0048DEE0) --------------------------------------------------------
int __thiscall sub_48DEE0(_DWORD *this)
{
  return 150 * this[2] + 50;
}

//----- (0048DF00) --------------------------------------------------------
int __thiscall sub_48DF00(_DWORD *this, int a2)
{
  return this[9] + this[2];
}

//----- (0048DF20) --------------------------------------------------------
_DWORD *__thiscall sub_48DF20(_DWORD *this)
{
  sub_48DEC0(this);
  *this = &off_4BC7A0;
  return this;
}
// 4BC7A0: using guessed type int (__stdcall *off_4BC7A0)(int, int);

//----- (0048DF40) --------------------------------------------------------
int __thiscall sub_48DF40(_DWORD *this)
{
  return 200 * this[2] + 800;
}

//----- (0048DF60) --------------------------------------------------------
int __thiscall sub_48DF60(_DWORD *this, int a2)
{
  return this[9] + 4 * this[2];
}

//----- (0048DF80) --------------------------------------------------------
_DWORD *__thiscall sub_48DF80(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC7F0;
  return this;
}
// 4BC7F0: using guessed type int (__stdcall *off_4BC7F0)(int, int);

//----- (0048DFA0) --------------------------------------------------------
int __stdcall sub_48DFA0(int a1, int a2)
{
  return a2;
}

//----- (0048DFB0) --------------------------------------------------------
int __thiscall sub_48DFB0(_DWORD *this)
{
  return -6 * this[2];
}

//----- (0048DFD0) --------------------------------------------------------
int __thiscall sub_48DFD0(_DWORD *this, int a2)
{
  return 2 * this[2];
}

//----- (0048DFF0) --------------------------------------------------------
_DWORD *__thiscall sub_48DFF0(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC850;
  return this;
}
// 4BC850: using guessed type int (__stdcall *off_4BC850)(int, int);

//----- (0048E010) --------------------------------------------------------
int __thiscall sub_48E010(_DWORD *this, int a2, int a3)
{
  return a3 + 12 * this[2];
}

//----- (0048E030) --------------------------------------------------------
_DWORD *__thiscall sub_48E030(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC8B0;
  return this;
}
// 4BC8B0: using guessed type int (__stdcall *off_4BC8B0)(int, int);

//----- (0048E050) --------------------------------------------------------
int __thiscall CTranscendental::GetAttack_0(_DWORD *this, int a2, int a3)
{
  return a3 + 50 * this[2] + 150;
}

//----- (0048E070) --------------------------------------------------------
int sub_48E070()
{
  return 200;
}

//----- (0048E080) --------------------------------------------------------
_DWORD *__thiscall sub_48E080(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC910;
  return this;
}
// 4BC910: using guessed type int (__stdcall *off_4BC910)(int, int);

//----- (0048E0A0) --------------------------------------------------------
int __thiscall CCellMap::`scalar deleting destructor'(CCellMap *this, unsigned int a2, int a3)
{
  int v3; // esi

  v3 = a3 + 20 * *((_DWORD *)this + 2) + 60;
  return v3 + RandomBetween(0, *((_DWORD *)this + 2));
}

//----- (0048E0E0) --------------------------------------------------------
int sub_48E0E0()
{
  return 50;
}

//----- (0048E0F0) --------------------------------------------------------
int __thiscall sub_48E0F0(_DWORD *this)
{
  return this[2] + this[2] / 2;
}

//----- (0048E110) --------------------------------------------------------
_DWORD *__thiscall sub_48E110(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC970;
  return this;
}
// 4BC970: using guessed type int (__stdcall *off_4BC970)(int, int);

//----- (0048E130) --------------------------------------------------------
int __thiscall sub_48E130(_DWORD *this, int a2, int a3)
{
  return a3 + 10 * this[2] + 50;
}

//----- (0048E150) --------------------------------------------------------
int __thiscall sub_48E150(_DWORD *this)
{
  return this[2] + 9;
}

//----- (0048E170) --------------------------------------------------------
_DWORD *__thiscall sub_48E170(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BC9D0;
  return this;
}
// 4BC9D0: using guessed type int (__stdcall *off_4BC9D0)(int, int);

//----- (0048E190) --------------------------------------------------------
int __thiscall CFatalWound::GetAttack(int *this, int a2, int a3)
{
  int v3; // esi

  v3 = a3 + 24 * this[2] + 80;
  return v3 + RandomBetween(0, this[2]);
}

//----- (0048E1D0) --------------------------------------------------------
_DWORD *__thiscall sub_48E1D0(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BCA30;
  return this;
}
// 4BCA30: using guessed type int (__stdcall *off_4BCA30)(int, int);

//----- (0048E1F0) --------------------------------------------------------
_DWORD *__thiscall sub_48E1F0(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BCA90;
  return this;
}
// 4BCA90: using guessed type int (__stdcall *off_4BCA90)(int, int);

//----- (0048E210) --------------------------------------------------------
_DWORD *__thiscall sub_48E210(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BCAF0;
  return this;
}
// 4BCAF0: using guessed type int (__stdcall *off_4BCAF0)(int, int);

//----- (0048E230) --------------------------------------------------------
_DWORD *__thiscall sub_48E230(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BCB50;
  return this;
}
// 4BCB50: using guessed type int (__stdcall *off_4BCB50)(int, int);

//----- (0048E250) --------------------------------------------------------
_DWORD *__thiscall sub_48E250(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BCBB0;
  return this;
}
// 4BCBB0: using guessed type int (__stdcall *off_4BCBB0)(int, int);

//----- (0048E270) --------------------------------------------------------
int sub_48E270()
{
  return 75;
}

//----- (0048E280) --------------------------------------------------------
CMock *__thiscall CMock::CMock(CMock *this, int a2)
{
  return (CMock *)(*((_DWORD *)this + 9) + 3 * *((_DWORD *)this + 2) / 2);
}

//----- (0048E2B0) --------------------------------------------------------
_DWORD *__thiscall sub_48E2B0(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BCC10;
  return this;
}
// 4BCC10: using guessed type int (__stdcall *off_4BCC10)(int, int);

//----- (0048E2D0) --------------------------------------------------------
int __thiscall sub_48E2D0(_DWORD *this, int a2)
{
  return this[9] + 5 * this[2];
}

//----- (0048E2F0) --------------------------------------------------------
int __thiscall sub_48E2F0(_DWORD *this)
{
  return this[2] + 5;
}

//----- (0048E310) --------------------------------------------------------
int __thiscall sub_48E310(_DWORD *this, int a2, int a3)
{
  this[10] = GetTickCount();
  return 1;
}

//----- (0048E330) --------------------------------------------------------
_DWORD *__thiscall sub_48E330(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BCC70;
  return this;
}
// 4BCC70: using guessed type int (__stdcall *off_4BCC70)(int, int);

//----- (0048E350) --------------------------------------------------------
_DWORD *__thiscall sub_48E350(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4BCCD0;
  return this;
}
// 4BCCD0: using guessed type int (__stdcall *off_4BCCD0)(int, int);

//----- (0048E370) --------------------------------------------------------
_DWORD *__thiscall sub_48E370(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BCD30;
  return this;
}
// 4BCD30: using guessed type int (__stdcall *off_4BCD30)(int, int);

//----- (0048E390) --------------------------------------------------------
_DWORD *__thiscall sub_48E390(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4BCD90;
  return this;
}
// 4BCD90: using guessed type int (__stdcall *off_4BCD90)(int, int);

//----- (0048E3B0) --------------------------------------------------------
_DWORD *__thiscall sub_48E3B0(_DWORD *this)
{
  sub_48E390(this);
  *this = &off_4BCDF0;
  return this;
}
// 4BCDF0: using guessed type int (__stdcall *off_4BCDF0)(int, int);

//----- (0048E3D0) --------------------------------------------------------
_DWORD *__thiscall sub_48E3D0(_DWORD *this)
{
  sub_48E390(this);
  *this = &off_4BCE50;
  return this;
}
// 4BCE50: using guessed type int (__stdcall *off_4BCE50)(int, int);

//----- (0048E3F0) --------------------------------------------------------
_DWORD *__thiscall sub_48E3F0(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4BCEB0;
  return this;
}
// 4BCEB0: using guessed type int (__stdcall *off_4BCEB0)(int, int);

//----- (0048E410) --------------------------------------------------------
int __thiscall CTranscendental::GetAttack(_DWORD *this, int a2)
{
  return this[9] + this[2] / 4;
}

//----- (0048E440) --------------------------------------------------------
_DWORD *__thiscall sub_48E440(_DWORD *this)
{
  sub_48E3F0(this);
  *this = &off_4BCF10;
  return this;
}
// 4BCF10: using guessed type int (__stdcall *off_4BCF10)(int, int);

//----- (0048E460) --------------------------------------------------------
_DWORD *__thiscall sub_48E460(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4BCF70;
  return this;
}
// 4BCF70: using guessed type int (__stdcall *off_4BCF70)(int, int);

//----- (0048E480) --------------------------------------------------------
int __thiscall sub_48E480(_DWORD *this, int a2)
{
  return this[9] + this[2] / 2;
}

//----- (0048E4A0) --------------------------------------------------------
_DWORD *__thiscall sub_48E4A0(_DWORD *this)
{
  sub_48E460(this);
  *this = &off_4BCFD0;
  return this;
}
// 4BCFD0: using guessed type int (__stdcall *off_4BCFD0)(int, int);

//----- (0048E4C0) --------------------------------------------------------
_DWORD *__thiscall sub_48E4C0(_DWORD *this)
{
  sub_48E460(this);
  *this = &off_4BD030;
  return this;
}
// 4BD030: using guessed type int (__stdcall *off_4BD030)(int, int);

//----- (0048E4E0) --------------------------------------------------------
int __thiscall sub_48E4E0(_DWORD *this, int a2)
{
  return this[2] + this[9];
}

//----- (0048E500) --------------------------------------------------------
_DWORD *__thiscall sub_48E500(_DWORD *this)
{
  sub_48E460(this);
  *this = &off_4BD090;
  return this;
}
// 4BD090: using guessed type int (__stdcall *off_4BD090)(int, int);

//----- (0048E520) --------------------------------------------------------
_DWORD *__thiscall sub_48E520(_DWORD *this)
{
  sub_48E460(this);
  *this = &off_4BD0F0;
  return this;
}
// 4BD0F0: using guessed type int (__stdcall *off_4BD0F0)(int, int);

//----- (0048E540) --------------------------------------------------------
_DWORD *__thiscall sub_48E540(_DWORD *this)
{
  sub_48E560(this);
  *this = &off_4BD150;
  return this;
}
// 4BD150: using guessed type int (__stdcall *off_4BD150)(int, int);

//----- (0048E560) --------------------------------------------------------
_DWORD *__thiscall sub_48E560(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4BD1C0;
  return this;
}
// 4BD1C0: using guessed type int (__stdcall *off_4BD1C0)(int, int);

//----- (0048E580) --------------------------------------------------------
_DWORD *__thiscall sub_48E580(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4BD230;
  return this;
}
// 4BD230: using guessed type int (__stdcall *off_4BD230)(int, int);

//----- (0048E5B0) --------------------------------------------------------
int sub_48E5B0()
{
  return 9;
}

//----- (0048E5C0) --------------------------------------------------------
_DWORD *__thiscall sub_48E5C0(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4BD2A0;
  return this;
}
// 4BD2A0: using guessed type int (__stdcall *off_4BD2A0)(int, int);

//----- (0048E5E0) --------------------------------------------------------
_DWORD *__thiscall sub_48E5E0(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4BD310;
  return this;
}
// 4BD310: using guessed type int (__stdcall *off_4BD310)(int, int);

//----- (0048E600) --------------------------------------------------------
_DWORD *__thiscall sub_48E600(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4BD380;
  return this;
}
// 4BD380: using guessed type int (__stdcall *off_4BD380)(int, int);

//----- (0048E620) --------------------------------------------------------
_DWORD *__thiscall sub_48E620(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4BD3F0;
  return this;
}
// 4BD3F0: using guessed type int (__stdcall *off_4BD3F0)(int, int);

//----- (0048E640) --------------------------------------------------------
int sub_48E640()
{
  return 7;
}

//----- (0048E650) --------------------------------------------------------
_DWORD *__thiscall sub_48E650(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4BD460;
  return this;
}
// 4BD460: using guessed type int (__stdcall *off_4BD460)(int, int);

//----- (0048E670) --------------------------------------------------------
int sub_48E670()
{
  return 8;
}

//----- (0048E680) --------------------------------------------------------
_DWORD *__thiscall sub_48E680(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BD4D0;
  return this;
}
// 4BD4D0: using guessed type int (__stdcall *off_4BD4D0)(int, int);

//----- (0048E6A0) --------------------------------------------------------
_DWORD *__thiscall sub_48E6A0(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4BD540;
  return this;
}
// 4BD540: using guessed type int (__stdcall *off_4BD540)(int, int);

//----- (0048E6C0) --------------------------------------------------------
_DWORD *__thiscall sub_48E6C0(_DWORD *this)
{
  sub_48E6E0(this);
  *this = &off_4BD5B0;
  return this;
}
// 4BD5B0: using guessed type int (__stdcall *off_4BD5B0)(int, int);

//----- (0048E6E0) --------------------------------------------------------
_DWORD *__thiscall sub_48E6E0(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4BD620;
  return this;
}
// 4BD620: using guessed type int (__stdcall *off_4BD620)(int, int);

//----- (0048E700) --------------------------------------------------------
int __stdcall sub_48E700(int a1, int a2, int a3)
{
  return 0;
}

//----- (0048E710) --------------------------------------------------------
_DWORD *__thiscall sub_48E710(_DWORD *this)
{
  sub_48E6E0(this);
  *this = &off_4BD690;
  return this;
}
// 4BD690: using guessed type int (__stdcall *off_4BD690)(int, int);

//----- (0048E730) --------------------------------------------------------
_DWORD *__thiscall sub_48E730(_DWORD *this)
{
  sub_48E6E0(this);
  *this = &off_4BD700;
  return this;
}
// 4BD700: using guessed type int (__stdcall *off_4BD700)(int, int);

//----- (0048E750) --------------------------------------------------------
_DWORD *__thiscall sub_48E750(_DWORD *this)
{
  sub_48E6E0(this);
  *this = &off_4BD770;
  return this;
}
// 4BD770: using guessed type int (__stdcall *off_4BD770)(int, int);

//----- (0048E770) --------------------------------------------------------
int __thiscall sub_48E770(_DWORD *this, int a2)
{
  return this[9] + 16 * this[2];
}

//----- (0048E790) --------------------------------------------------------
_DWORD *__thiscall sub_48E790(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BD7E0;
  return this;
}
// 4BD7E0: using guessed type int (__stdcall *off_4BD7E0)(int, int);

//----- (0048E7B0) --------------------------------------------------------
int __thiscall sub_48E7B0(_DWORD *this, int a2)
{
  return this[9] + 6 * this[2];
}

//----- (0048E7D0) --------------------------------------------------------
_DWORD *__thiscall sub_48E7D0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BD830;
  return this;
}
// 4BD830: using guessed type int (__stdcall *off_4BD830)(int, int);

//----- (0048E7F0) --------------------------------------------------------
int __thiscall sub_48E7F0(_DWORD *this, int a2)
{
  return this[9] + 2 * this[2];
}

//----- (0048E810) --------------------------------------------------------
_DWORD *__thiscall sub_48E810(_DWORD *this)
{
  sub_48E7D0(this);
  *this = &off_4BD888;
  return this;
}
// 4BD888: using guessed type int (__stdcall *off_4BD888)(int, int);

//----- (0048E830) --------------------------------------------------------
int __thiscall sub_48E830(_DWORD *this)
{
  return this[9] + 2 * this[2];
}

//----- (0048E850) --------------------------------------------------------
_DWORD *__thiscall sub_48E850(_DWORD *this)
{
  sub_48E7D0(this);
  *this = &off_4BD8E0;
  return this;
}
// 4BD8E0: using guessed type int (__stdcall *off_4BD8E0)(int, int);

//----- (0048E870) --------------------------------------------------------
int __thiscall sub_48E870(_DWORD *this)
{
  return this[9] + 4 * this[2];
}

//----- (0048E890) --------------------------------------------------------
_DWORD *__thiscall sub_48E890(_DWORD *this)
{
  sub_48E7D0(this);
  *this = &off_4BD938;
  return this;
}
// 4BD938: using guessed type int (__stdcall *off_4BD938)(int, int);

//----- (0048E8B0) --------------------------------------------------------
_DWORD *__thiscall sub_48E8B0(_DWORD *this)
{
  sub_48E7D0(this);
  *this = &off_4BD990;
  return this;
}
// 4BD990: using guessed type int (__stdcall *off_4BD990)(int, int);

//----- (0048E8D0) --------------------------------------------------------
int __thiscall sub_48E8D0(_DWORD *this, int a2)
{
  return this[9] + 30 * this[2];
}

//----- (0048E8F0) --------------------------------------------------------
_DWORD *__thiscall sub_48E8F0(_DWORD *this)
{
  sub_48E7D0(this);
  *this = &off_4BD9E8;
  return this;
}
// 4BD9E8: using guessed type int (__stdcall *off_4BD9E8)(int, int);

//----- (0048E910) --------------------------------------------------------
_DWORD *__thiscall sub_48E910(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDA40;
  return this;
}
// 4BDA40: using guessed type int (__stdcall *off_4BDA40)(int, int);

//----- (0048E930) --------------------------------------------------------
_DWORD *__thiscall sub_48E930(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDA90;
  return this;
}
// 4BDA90: using guessed type int (__stdcall *off_4BDA90)(int, int);

//----- (0048E950) --------------------------------------------------------
_DWORD *__thiscall sub_48E950(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDAE0;
  return this;
}
// 4BDAE0: using guessed type int (__stdcall *off_4BDAE0)(int, int);

//----- (0048E970) --------------------------------------------------------
_DWORD *__thiscall sub_48E970(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDB30;
  return this;
}
// 4BDB30: using guessed type int (__stdcall *off_4BDB30)(int, int);

//----- (0048E990) --------------------------------------------------------
_DWORD *__thiscall sub_48E990(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDB80;
  return this;
}
// 4BDB80: using guessed type int (__stdcall *off_4BDB80)(int, int);

//----- (0048E9B0) --------------------------------------------------------
_DWORD *__thiscall sub_48E9B0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDBD0;
  return this;
}
// 4BDBD0: using guessed type int (__stdcall *off_4BDBD0)(int, int);

//----- (0048E9D0) --------------------------------------------------------
_DWORD *__thiscall sub_48E9D0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDC20;
  return this;
}
// 4BDC20: using guessed type int (__stdcall *off_4BDC20)(int, int);

//----- (0048E9F0) --------------------------------------------------------
_DWORD *__thiscall sub_48E9F0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDC70;
  return this;
}
// 4BDC70: using guessed type int (__stdcall *off_4BDC70)(int, int);

//----- (0048EA10) --------------------------------------------------------
_DWORD *__thiscall sub_48EA10(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDCC0;
  return this;
}
// 4BDCC0: using guessed type int (__stdcall *off_4BDCC0)(int, int);

//----- (0048EA30) --------------------------------------------------------
_DWORD *__thiscall sub_48EA30(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDD10;
  return this;
}
// 4BDD10: using guessed type int (__stdcall *off_4BDD10)(int, int);

//----- (0048EA50) --------------------------------------------------------
_DWORD *__thiscall sub_48EA50(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDD60;
  return this;
}
// 4BDD60: using guessed type int (__stdcall *off_4BDD60)(int, int);

//----- (0048EA70) --------------------------------------------------------
_DWORD *__thiscall sub_48EA70(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDDB0;
  return this;
}
// 4BDDB0: using guessed type int (__stdcall *off_4BDDB0)(int, int);

//----- (0048EA90) --------------------------------------------------------
_DWORD *__thiscall sub_48EA90(_DWORD *this)
{
  sub_48EA70(this);
  *this = &off_4BDE08;
  return this;
}
// 4BDE08: using guessed type int (__stdcall *off_4BDE08)(int, int);

//----- (0048EAB0) --------------------------------------------------------
int __thiscall sub_48EAB0(_DWORD *this, int a2)
{
  return this[9] - 30 * this[2];
}

//----- (0048EAD0) --------------------------------------------------------
_DWORD *__thiscall sub_48EAD0(_DWORD *this)
{
  sub_48EA70(this);
  *this = &off_4BDE60;
  return this;
}
// 4BDE60: using guessed type int (__stdcall *off_4BDE60)(int, int);

//----- (0048EAF0) --------------------------------------------------------
int __thiscall sub_48EAF0(_DWORD *this, int a2)
{
  return this[9] + 80 * this[2];
}

//----- (0048EB10) --------------------------------------------------------
_DWORD *__thiscall sub_48EB10(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDEB8;
  return this;
}
// 4BDEB8: using guessed type int (__stdcall *off_4BDEB8)(int, int);

//----- (0048EB30) --------------------------------------------------------
_DWORD *__thiscall sub_48EB30(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDF08;
  return this;
}
// 4BDF08: using guessed type int (__stdcall *off_4BDF08)(int, int);

//----- (0048EB50) --------------------------------------------------------
_DWORD *__thiscall sub_48EB50(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDF58;
  return this;
}
// 4BDF58: using guessed type int (__stdcall *off_4BDF58)(int, int);

//----- (0048EB70) --------------------------------------------------------
_DWORD *__thiscall sub_48EB70(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDFA8;
  return this;
}
// 4BDFA8: using guessed type int (__stdcall *off_4BDFA8)(int, int);

//----- (0048EB90) --------------------------------------------------------
_DWORD *__thiscall sub_48EB90(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BDFF8;
  return this;
}
// 4BDFF8: using guessed type int (__stdcall *off_4BDFF8)(int, int);

//----- (0048EBB0) --------------------------------------------------------
_DWORD *__thiscall sub_48EBB0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE048;
  return this;
}
// 4BE048: using guessed type int (__stdcall *off_4BE048)(int, int);

//----- (0048EBD0) --------------------------------------------------------
int sub_48EBD0()
{
  return 4;
}

//----- (0048EBE0) --------------------------------------------------------
_DWORD *__thiscall sub_48EBE0(_DWORD *this)
{
  sub_48EBB0(this);
  *this = &off_4BE0A8;
  return this;
}
// 4BE0A8: using guessed type int (__stdcall *off_4BE0A8)(int, int);

//----- (0048EC00) --------------------------------------------------------
_DWORD *__thiscall sub_48EC00(_DWORD *this)
{
  sub_48EBB0(this);
  *this = &off_4BE108;
  return this;
}
// 4BE108: using guessed type int (__stdcall *off_4BE108)(int, int);

//----- (0048EC20) --------------------------------------------------------
int __thiscall sub_48EC20(_DWORD *this, int a2)
{
  return this[9] + 40 * this[2];
}

//----- (0048EC40) --------------------------------------------------------
int sub_48EC40()
{
  return 11;
}

//----- (0048EC50) --------------------------------------------------------
_DWORD *__thiscall sub_48EC50(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE168;
  return this;
}
// 4BE168: using guessed type int (__stdcall *off_4BE168)(int, int);

//----- (0048EC70) --------------------------------------------------------
_DWORD *__thiscall sub_48EC70(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE1B8;
  return this;
}
// 4BE1B8: using guessed type int (__stdcall *off_4BE1B8)(int, int);

//----- (0048EC90) --------------------------------------------------------
_DWORD *__thiscall sub_48EC90(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE208;
  return this;
}
// 4BE208: using guessed type int (__stdcall *off_4BE208)(int, int);

//----- (0048ECB0) --------------------------------------------------------
_DWORD *__thiscall sub_48ECB0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE258;
  return this;
}
// 4BE258: using guessed type void (__thiscall *off_4BE258)(CMeshStr *__hidden this, struct CPlayer *, struct CChar *, int *);

//----- (0048ECD0) --------------------------------------------------------
int __thiscall sub_48ECD0(_DWORD *this, int a2)
{
  return this[9] + 25 * this[2];
}

//----- (0048ECF0) --------------------------------------------------------
_DWORD *__thiscall sub_48ECF0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE2A8;
  return this;
}
// 4BE2A8: using guessed type int (__stdcall *off_4BE2A8)(int, int);

//----- (0048ED10) --------------------------------------------------------
_DWORD *__thiscall sub_48ED10(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE2F8;
  return this;
}
// 4BE2F8: using guessed type int (__stdcall *off_4BE2F8)(int, int);

//----- (0048ED30) --------------------------------------------------------
_DWORD *__thiscall sub_48ED30(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE348;
  return this;
}
// 4BE348: using guessed type int (__stdcall *off_4BE348)(int, int);

//----- (0048ED50) --------------------------------------------------------
_DWORD *__thiscall sub_48ED50(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE398;
  return this;
}
// 4BE398: using guessed type int (__stdcall *off_4BE398)(int, int);

//----- (0048ED70) --------------------------------------------------------
BOOL __thiscall CUpReinforceVitality::CanLearn(_DWORD *this, int a2, unsigned int a3)
{
  return a2 >= this[3] && a3 > 3;
}

//----- (0048EDB0) --------------------------------------------------------
_DWORD *__thiscall sub_48EDB0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE3E8;
  return this;
}
// 4BE3E8: using guessed type int (__stdcall *off_4BE3E8)(int, int);

//----- (0048EDD0) --------------------------------------------------------
_DWORD *__thiscall sub_48EDD0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE438;
  return this;
}
// 4BE438: using guessed type int (__stdcall *off_4BE438)(int, int);

//----- (0048EDF0) --------------------------------------------------------
_DWORD *__thiscall sub_48EDF0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE488;
  return this;
}
// 4BE488: using guessed type int (__stdcall *off_4BE488)(int, int);

//----- (0048EE10) --------------------------------------------------------
int __thiscall sub_48EE10(_DWORD *this, int a2)
{
  return this[9] + 8 * this[2];
}

//----- (0048EE30) --------------------------------------------------------
_DWORD *__thiscall sub_48EE30(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE4D8;
  return this;
}
// 4BE4D8: using guessed type int (__stdcall *off_4BE4D8)(int, int);

//----- (0048EE50) --------------------------------------------------------
_DWORD *__thiscall sub_48EE50(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE528;
  return this;
}
// 4BE528: using guessed type int (__stdcall *off_4BE528)(int, int);

//----- (0048EE70) --------------------------------------------------------
int __thiscall sub_48EE70(_DWORD *this, int a2)
{
  return this[9] + 12 * this[2];
}

//----- (0048EE90) --------------------------------------------------------
_DWORD *__thiscall sub_48EE90(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE578;
  return this;
}
// 4BE578: using guessed type int (__stdcall *off_4BE578)(int, int);

//----- (0048EEB0) --------------------------------------------------------
int __thiscall sub_48EEB0(_DWORD *this, int a2)
{
  return this[9] + 31 * this[2];
}

//----- (0048EED0) --------------------------------------------------------
_DWORD *__thiscall sub_48EED0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE5C8;
  return this;
}
// 4BE5C8: using guessed type int (__stdcall *off_4BE5C8)(int, int);

//----- (0048EEF0) --------------------------------------------------------
_DWORD *__thiscall sub_48EEF0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE618;
  return this;
}
// 4BE618: using guessed type int (__stdcall *off_4BE618)(int, int);

//----- (0048EF10) --------------------------------------------------------
_DWORD *__thiscall sub_48EF10(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE668;
  return this;
}
// 4BE668: using guessed type int (__stdcall *off_4BE668)(int, int);

//----- (0048EF30) --------------------------------------------------------
int __thiscall sub_48EF30(_DWORD *this, int a2)
{
  return this[9] + 11 * this[2];
}

//----- (0048EF50) --------------------------------------------------------
_DWORD *__thiscall sub_48EF50(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE6B8;
  return this;
}
// 4BE6B8: using guessed type int (__stdcall *off_4BE6B8)(int, int);

//----- (0048EF70) --------------------------------------------------------
_DWORD *__thiscall sub_48EF70(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE708;
  return this;
}
// 4BE708: using guessed type int (__stdcall *off_4BE708)(int, int);

//----- (0048EF90) --------------------------------------------------------
_DWORD *__thiscall sub_48EF90(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE758;
  return this;
}
// 4BE758: using guessed type int (__stdcall *off_4BE758)(int, int);

//----- (0048EFB0) --------------------------------------------------------
int __thiscall sub_48EFB0(_DWORD *this, int a2)
{
  return this[9];
}

//----- (0048EFD0) --------------------------------------------------------
_DWORD *__thiscall sub_48EFD0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE7A8;
  return this;
}
// 4BE7A8: using guessed type int (__stdcall *off_4BE7A8)(int, int);

//----- (0048EFF0) --------------------------------------------------------
_DWORD *__thiscall sub_48EFF0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE7F8;
  return this;
}
// 4BE7F8: using guessed type int (__stdcall *off_4BE7F8)(int, int);

//----- (0048F010) --------------------------------------------------------
_DWORD *__thiscall sub_48F010(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE848;
  return this;
}
// 4BE848: using guessed type int (__stdcall *off_4BE848)(int, int);

//----- (0048F030) --------------------------------------------------------
_DWORD *__thiscall sub_48F030(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE898;
  return this;
}
// 4BE898: using guessed type int (__stdcall *off_4BE898)(int, int);

//----- (0048F050) --------------------------------------------------------
int __thiscall sub_48F050(_DWORD *this, int a2)
{
  return this[9] + 20 * this[2];
}

//----- (0048F070) --------------------------------------------------------
_DWORD *__thiscall sub_48F070(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BE8E8;
  return this;
}
// 4BE8E8: using guessed type int (__stdcall *off_4BE8E8)(int, int);

//----- (0048F090) --------------------------------------------------------
_DWORD *__thiscall sub_48F090(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BE948;
  return this;
}
// 4BE948: using guessed type int (__stdcall *off_4BE948)(int, int);

//----- (0048F0B0) --------------------------------------------------------
int __thiscall sub_48F0B0(_DWORD *this, int a2)
{
  return this[9] + 32 * this[2];
}

//----- (0048F0D0) --------------------------------------------------------
_DWORD *__thiscall sub_48F0D0(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BE9A8;
  return this;
}
// 4BE9A8: using guessed type int (__stdcall *off_4BE9A8)(int, int);

//----- (0048F0F0) --------------------------------------------------------
int __thiscall sub_48F0F0(_DWORD *this, int a2)
{
  return this[9] + 27 * this[2];
}

//----- (0048F110) --------------------------------------------------------
_DWORD *__thiscall sub_48F110(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEA08;
  return this;
}
// 4BEA08: using guessed type int (__stdcall *off_4BEA08)(int, int);

//----- (0048F130) --------------------------------------------------------
int __thiscall sub_48F130(_DWORD *this, int a2)
{
  return this[9] + 26 * this[2];
}

//----- (0048F150) --------------------------------------------------------
_DWORD *__thiscall sub_48F150(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEA68;
  return this;
}
// 4BEA68: using guessed type int (__stdcall *off_4BEA68)(int, int);

//----- (0048F170) --------------------------------------------------------
int __thiscall sub_48F170(_DWORD *this, int a2)
{
  return this[9] + 36 * this[2];
}

//----- (0048F190) --------------------------------------------------------
_DWORD *__thiscall sub_48F190(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEAC8;
  return this;
}
// 4BEAC8: using guessed type int (__stdcall *off_4BEAC8)(int, int);

//----- (0048F1B0) --------------------------------------------------------
int __thiscall sub_48F1B0(_DWORD *this, int a2)
{
  return this[9] + 38 * this[2];
}

//----- (0048F1D0) --------------------------------------------------------
_DWORD *__thiscall sub_48F1D0(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEB28;
  return this;
}
// 4BEB28: using guessed type int (__stdcall *off_4BEB28)(int, int);

//----- (0048F1F0) --------------------------------------------------------
int __stdcall sub_48F1F0(int a1)
{
  return 0;
}

//----- (0048F200) --------------------------------------------------------
_DWORD *__thiscall sub_48F200(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEB88;
  return this;
}
// 4BEB88: using guessed type int (__stdcall *off_4BEB88)(int, int);

//----- (0048F220) --------------------------------------------------------
_DWORD *__thiscall sub_48F220(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEBE8;
  return this;
}
// 4BEBE8: using guessed type int (__stdcall *off_4BEBE8)(int, int);

//----- (0048F240) --------------------------------------------------------
_DWORD *__thiscall sub_48F240(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEC48;
  return this;
}
// 4BEC48: using guessed type int (__stdcall *off_4BEC48)(int, int);

//----- (0048F260) --------------------------------------------------------
_DWORD *__thiscall sub_48F260(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BECA8;
  return this;
}
// 4BECA8: using guessed type int (__stdcall *off_4BECA8)(int, int);

//----- (0048F280) --------------------------------------------------------
_DWORD *__thiscall sub_48F280(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BED08;
  return this;
}
// 4BED08: using guessed type int (__stdcall *off_4BED08)(int, int);

//----- (0048F2A0) --------------------------------------------------------
_DWORD *__thiscall sub_48F2A0(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BED68;
  return this;
}
// 4BED68: using guessed type int (__stdcall *off_4BED68)(int, int);

//----- (0048F2C0) --------------------------------------------------------
_DWORD *__thiscall sub_48F2C0(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEDC8;
  return this;
}
// 4BEDC8: using guessed type int (__stdcall *off_4BEDC8)(int, int);

//----- (0048F2E0) --------------------------------------------------------
_DWORD *__thiscall sub_48F2E0(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEE28;
  return this;
}
// 4BEE28: using guessed type int (__stdcall *off_4BEE28)(int, int);

//----- (0048F300) --------------------------------------------------------
_DWORD *__thiscall sub_48F300(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEE88;
  return this;
}
// 4BEE88: using guessed type int (__stdcall *off_4BEE88)(int, int);

//----- (0048F320) --------------------------------------------------------
_DWORD *__thiscall sub_48F320(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEEE8;
  return this;
}
// 4BEEE8: using guessed type int (__stdcall *off_4BEEE8)(int, int);

//----- (0048F340) --------------------------------------------------------
_DWORD *__thiscall sub_48F340(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BEF48;
  return this;
}
// 4BEF48: using guessed type int (__stdcall *off_4BEF48)(int, int);

//----- (0048F360) --------------------------------------------------------
_DWORD *__thiscall sub_48F360(_DWORD *this)
{
  sub_48F380(this);
  *this = &off_4BEFA8;
  return this;
}
// 4BEFA8: using guessed type int (__stdcall *off_4BEFA8)(int, int);

//----- (0048F380) --------------------------------------------------------
_DWORD *__thiscall sub_48F380(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BF000;
  return this;
}
// 4BF000: using guessed type int (__stdcall *off_4BF000)(int, int);

//----- (0048F3A0) --------------------------------------------------------
int __thiscall sub_48F3A0(_DWORD *this, int a2)
{
  return this[9] + 15 * this[2];
}

//----- (0048F3C0) --------------------------------------------------------
_DWORD *__thiscall sub_48F3C0(_DWORD *this)
{
  sub_48F380(this);
  *this = &off_4BF058;
  return this;
}
// 4BF058: using guessed type int (__stdcall *off_4BF058)(int, int);

//----- (0048F3E0) --------------------------------------------------------
_DWORD *__thiscall sub_48F3E0(_DWORD *this)
{
  sub_48F380(this);
  *this = &off_4BF0B0;
  return this;
}
// 4BF0B0: using guessed type int (__stdcall *off_4BF0B0)(int, int);

//----- (0048F400) --------------------------------------------------------
_DWORD *__thiscall sub_48F400(_DWORD *this)
{
  sub_48F380(this);
  *this = &off_4BF108;
  return this;
}
// 4BF108: using guessed type int (__stdcall *off_4BF108)(int, int);

//----- (0048F420) --------------------------------------------------------
_DWORD *__thiscall sub_48F420(_DWORD *this)
{
  sub_48F380(this);
  *this = &off_4BF160;
  return this;
}
// 4BF160: using guessed type int (__stdcall *off_4BF160)(int, int);

//----- (0048F440) --------------------------------------------------------
int __thiscall sub_48F440(_DWORD *this, int a2)
{
  return this[9] + 14 * this[2];
}

//----- (0048F460) --------------------------------------------------------
_DWORD *__thiscall sub_48F460(_DWORD *this)
{
  sub_48F380(this);
  *this = &off_4BF1B8;
  return this;
}
// 4BF1B8: using guessed type int (__stdcall *off_4BF1B8)(int, int);

//----- (0048F480) --------------------------------------------------------
_DWORD *__thiscall sub_48F480(_DWORD *this)
{
  sub_48F380(this);
  *this = &off_4BF210;
  return this;
}
// 4BF210: using guessed type int (__stdcall *off_4BF210)(int, int);

//----- (0048F4A0) --------------------------------------------------------
_DWORD *__thiscall sub_48F4A0(_DWORD *this)
{
  sub_48F4C0(this);
  *this = &off_4BF268;
  return this;
}
// 4BF268: using guessed type int (__stdcall *off_4BF268)(int, int);

//----- (0048F4C0) --------------------------------------------------------
_DWORD *__thiscall sub_48F4C0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BF2C0;
  return this;
}
// 4BF2C0: using guessed type int (__stdcall *off_4BF2C0)(int, int);

//----- (0048F4E0) --------------------------------------------------------
_DWORD *__thiscall sub_48F4E0(_DWORD *this)
{
  sub_48F4C0(this);
  *this = &off_4BF318;
  return this;
}
// 4BF318: using guessed type int (__stdcall *off_4BF318)(int, int);

//----- (0048F500) --------------------------------------------------------
_DWORD *__thiscall sub_48F500(_DWORD *this)
{
  sub_48F4C0(this);
  *this = &off_4BF370;
  return this;
}
// 4BF370: using guessed type int (__stdcall *off_4BF370)(int, int);

//----- (0048F520) --------------------------------------------------------
_DWORD *__thiscall sub_48F520(_DWORD *this)
{
  sub_48F4C0(this);
  *this = &off_4BF3C8;
  return this;
}
// 4BF3C8: using guessed type int (__stdcall *off_4BF3C8)(int, int);

//----- (0048F540) --------------------------------------------------------
_DWORD *__thiscall sub_48F540(_DWORD *this)
{
  sub_48F4C0(this);
  *this = &off_4BF420;
  return this;
}
// 4BF420: using guessed type int (__stdcall *off_4BF420)(int, int);

//----- (0048F560) --------------------------------------------------------
_DWORD *__thiscall sub_48F560(_DWORD *this)
{
  sub_48F4C0(this);
  *this = &off_4BF478;
  return this;
}
// 4BF478: using guessed type int (__stdcall *off_4BF478)(int, int);

//----- (0048F580) --------------------------------------------------------
_DWORD *__thiscall sub_48F580(_DWORD *this)
{
  sub_48F4C0(this);
  *this = &off_4BF4D0;
  return this;
}
// 4BF4D0: using guessed type int (__stdcall *off_4BF4D0)(int, int);

//----- (0048F5A0) --------------------------------------------------------
_DWORD *__thiscall sub_48F5A0(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4BF528;
  return this;
}
// 4BF528: using guessed type int (__thiscall *off_4BF528)(CMock *__hidden this);

//----- (0048F5C0) --------------------------------------------------------
_DWORD *__thiscall sub_48F5C0(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BF588;
  return this;
}
// 4BF588: using guessed type void *off_4BF588;

//----- (0048F5E0) --------------------------------------------------------
_DWORD *__thiscall sub_48F5E0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BF5F8;
  return this;
}
// 4BF5F8: using guessed type void *off_4BF5F8;

//----- (0048F600) --------------------------------------------------------
_DWORD *__thiscall sub_48F600(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BF648;
  return this;
}
// 4BF648: using guessed type int (__thiscall *off_4BF648)(CMock *__hidden this);

//----- (0048F620) --------------------------------------------------------
_DWORD *__thiscall sub_48F620(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BF6A8;
  return this;
}
// 4BF6A8: using guessed type int (__thiscall *off_4BF6A8)(CMock *__hidden this);

//----- (0048F640) --------------------------------------------------------
_DWORD *__thiscall sub_48F640(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BF708;
  return this;
}
// 4BF708: using guessed type void *off_4BF708;

//----- (0048F660) --------------------------------------------------------
_DWORD *__thiscall sub_48F660(_DWORD *this)
{
  sub_48DD90(this);
  *this = &off_4BF758;
  return this;
}
// 4BF758: using guessed type int (__thiscall *off_4BF758)(CMock *__hidden this);

//----- (0048F680) --------------------------------------------------------
_DWORD *__thiscall sub_48F680(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BF7B8;
  return this;
}
// 4BF7B8: using guessed type int (__thiscall *off_4BF7B8)(CMock *__hidden this);

//----- (0048F6A0) --------------------------------------------------------
_DWORD *__thiscall sub_48F6A0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BF808;
  return this;
}
// 4BF808: using guessed type void *off_4BF808;

//----- (0048F6C0) --------------------------------------------------------
_DWORD *__thiscall sub_48F6C0(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BF858;
  return this;
}
// 4BF858: using guessed type int (__stdcall *off_4BF858)(int, int);

//----- (0048F6E0) --------------------------------------------------------
int sub_48F6E0()
{
  return 14;
}

//----- (0048F6F0) --------------------------------------------------------
_DWORD *__thiscall sub_48F6F0(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BF8C8;
  return this;
}
// 4BF8C8: using guessed type int (__stdcall *off_4BF8C8)(int, int);

//----- (0048F710) --------------------------------------------------------
int sub_48F710()
{
  return 15;
}

//----- (0048F720) --------------------------------------------------------
_DWORD *__thiscall sub_48F720(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BF938;
  return this;
}
// 4BF938: using guessed type int (__stdcall *off_4BF938)(int, int);

//----- (0048F740) --------------------------------------------------------
_DWORD *__thiscall sub_48F740(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BF9A8;
  return this;
}
// 4BF9A8: using guessed type int (__stdcall *off_4BF9A8)(int, int);

//----- (0048F760) --------------------------------------------------------
int __thiscall sub_48F760(_DWORD *this)
{
  return this[14] != 0 ? 40 : 10;
}

//----- (0048F780) --------------------------------------------------------
int __thiscall sub_48F780(_DWORD *this)
{
  return this[14] != 0 ? 4 : 0;
}

//----- (0048F7A0) --------------------------------------------------------
int __thiscall sub_48F7A0(_DWORD *this)
{
  return (this[14] != 0) + 17;
}

//----- (0048F7C0) --------------------------------------------------------
_DWORD *__thiscall sub_48F7C0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BFA68;
  return this;
}
// 4BFA68: using guessed type int (__stdcall *off_4BFA68)(int, int);

//----- (0048F7E0) --------------------------------------------------------
_DWORD *__thiscall sub_48F7E0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BFAB8;
  return this;
}
// 4BFAB8: using guessed type int (__stdcall *off_4BFAB8)(int, int);

//----- (0048F800) --------------------------------------------------------
_DWORD *__thiscall sub_48F800(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BFB08;
  return this;
}
// 4BFB08: using guessed type int (__stdcall *off_4BFB08)(int, int);

//----- (0048F820) --------------------------------------------------------
_DWORD *__thiscall sub_48F820(_DWORD *this)
{
  sub_48F090(this);
  *this = &off_4BFB68;
  return this;
}
// 4BFB68: using guessed type int (__stdcall *off_4BFB68)(int, int);

//----- (0048F840) --------------------------------------------------------
_DWORD *__thiscall sub_48F840(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4BFBC8;
  return this;
}
// 4BFBC8: using guessed type int (__stdcall *off_4BFBC8)(int, int);

//----- (0048F860) --------------------------------------------------------
int sub_48F860()
{
  return 22;
}

//----- (0048F870) --------------------------------------------------------
_DWORD *__thiscall sub_48F870(_DWORD *this)
{
  sub_48F890(this);
  *this = &off_4BFC38;
  return this;
}
// 4BFC38: using guessed type int (__stdcall *off_4BFC38)(int, int);

//----- (0048F890) --------------------------------------------------------
_DWORD *__thiscall sub_48F890(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BFCA8;
  return this;
}
// 4BFCA8: using guessed type int (__stdcall *off_4BFCA8)(int, int);

//----- (0048F8B0) --------------------------------------------------------
BOOL __thiscall CSkill_MonsterMagic::CanExcuteM(_DWORD *this, int a2, int a3)
{
  unsigned int v3; // edx

  v3 = this[16] % 2u;
  ++this[16];
  return v3 == 0;
}

//----- (0048F900) --------------------------------------------------------
int sub_48F900()
{
  return 19;
}

//----- (0048F910) --------------------------------------------------------
_DWORD *__thiscall sub_48F910(_DWORD *this)
{
  sub_48F890(this);
  *this = &off_4BFD18;
  return this;
}
// 4BFD18: using guessed type int (__stdcall *off_4BFD18)(int, int);

//----- (0048F930) --------------------------------------------------------
int sub_48F930()
{
  return 20;
}

//----- (0048F940) --------------------------------------------------------
_DWORD *__thiscall sub_48F940(_DWORD *this)
{
  sub_48F890(this);
  *this = &off_4BFD88;
  return this;
}
// 4BFD88: using guessed type int (__stdcall *off_4BFD88)(int, int);

//----- (0048F960) --------------------------------------------------------
int sub_48F960()
{
  return 21;
}

//----- (0048F970) --------------------------------------------------------
_DWORD *__thiscall sub_48F970(_DWORD *this)
{
  sub_48F890(this);
  *this = &off_4BFDF8;
  return this;
}
// 4BFDF8: using guessed type int (__stdcall *off_4BFDF8)(int, int);

//----- (0048F990) --------------------------------------------------------
_DWORD *__thiscall sub_48F990(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BFA18;
  return this;
}
// 4BFA18: using guessed type int (__stdcall *off_4BFA18)(int, int);

//----- (0048F9B0) --------------------------------------------------------
_DWORD *__thiscall sub_48F9B0(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4BFE68;
  return this;
}
// 4BFE68: using guessed type int (__stdcall *off_4BFE68)(int, int);

//----- (0048F9D0) --------------------------------------------------------
_DWORD *__thiscall sub_48F9D0(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BFEB8;
  return this;
}
// 4BFEB8: using guessed type int (__stdcall *off_4BFEB8)(int, int);

//----- (0048F9F0) --------------------------------------------------------
int sub_48F9F0()
{
  return 23;
}

//----- (0048FA00) --------------------------------------------------------
_DWORD *__thiscall sub_48FA00(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4BFF28;
  return this;
}
// 4BFF28: using guessed type int (__stdcall *off_4BFF28)(int, int);

//----- (0048FA20) --------------------------------------------------------
int sub_48FA20()
{
  return 24;
}

//----- (0048FA30) --------------------------------------------------------
_DWORD *__thiscall sub_48FA30(_DWORD *this)
{
  sub_48F720(this);
  *this = &off_4BFF98;
  return this;
}
// 4BFF98: using guessed type int (__stdcall *off_4BFF98)(int, int);

//----- (0048FA50) --------------------------------------------------------
int sub_48FA50()
{
  return 6;
}

//----- (0048FA60) --------------------------------------------------------
int sub_48FA60()
{
  return 25;
}

//----- (0048FA70) --------------------------------------------------------
_DWORD *__thiscall sub_48FA70(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4C0008;
  return this;
}
// 4C0008: using guessed type int (__stdcall *off_4C0008)(int, int);

//----- (0048FA90) --------------------------------------------------------
_DWORD *__thiscall sub_48FA90(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4C0068;
  return this;
}
// 4C0068: using guessed type int (__stdcall *off_4C0068)(int, int);

//----- (0048FAB0) --------------------------------------------------------
_DWORD *__thiscall sub_48FAB0(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4C00D8;
  return this;
}
// 4C00D8: using guessed type int (__stdcall *off_4C00D8)(int, int);

//----- (0048FAD0) --------------------------------------------------------
int sub_48FAD0()
{
  return 10;
}

//----- (0048FAF0) --------------------------------------------------------
_DWORD *__thiscall sub_48FAF0(_DWORD *this)
{
  sub_48E6E0(this);
  *this = &off_4C0148;
  return this;
}
// 4C0148: using guessed type int (__stdcall *off_4C0148)(int, int);

//----- (0048FB10) --------------------------------------------------------
_DWORD *__thiscall sub_48FB10(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4C01B8;
  return this;
}
// 4C01B8: using guessed type int (__stdcall *off_4C01B8)(int, int);

//----- (0048FB30) --------------------------------------------------------
_DWORD *__thiscall sub_48FB30(_DWORD *this)
{
  sub_480D40(this);
  *this = &off_4C0218;
  return this;
}
// 4C0218: using guessed type int (__stdcall *off_4C0218)(int, int);

//----- (0048FB50) --------------------------------------------------------
_DWORD *__thiscall sub_48FB50(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4C0268;
  return this;
}
// 4C0268: using guessed type int (__stdcall *off_4C0268)(int, int);

//----- (0048FB70) --------------------------------------------------------
_DWORD *__thiscall sub_48FB70(_DWORD *this)
{
  sub_48FB50(this);
  *this = &off_4C02C8;
  return this;
}
// 4C02C8: using guessed type int (__stdcall *off_4C02C8)(int, int);

//----- (0048FB90) --------------------------------------------------------
_DWORD *__thiscall sub_48FB90(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4C0328;
  return this;
}
// 4C0328: using guessed type int (__stdcall *off_4C0328)(int, int);

//----- (0048FBB0) --------------------------------------------------------
_DWORD *__thiscall sub_48FBB0(_DWORD *this)
{
  sub_48FB50(this);
  *this = &off_4C0388;
  return this;
}
// 4C0388: using guessed type int (__stdcall *off_4C0388)(int, int);

//----- (0048FBD0) --------------------------------------------------------
_DWORD *__thiscall sub_48FBD0(_DWORD *this)
{
  sub_48E580(this);
  *this = &off_4C03E8;
  return this;
}
// 4C03E8: using guessed type int (__stdcall *off_4C03E8)(int, int);

//----- (0048FBF0) --------------------------------------------------------
_DWORD *__thiscall sub_48FBF0(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4C0458;
  return this;
}
// 4C0458: using guessed type int (__stdcall *off_4C0458)(int, int);

//----- (0048FC20) --------------------------------------------------------
_DWORD *__thiscall sub_48FC20(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4C04C8;
  return this;
}
// 4C04C8: using guessed type int (__stdcall *off_4C04C8)(int, int);

//----- (0048FC40) --------------------------------------------------------
int sub_48FC40()
{
  return 3;
}

//----- (0048FC50) --------------------------------------------------------
int sub_48FC50()
{
  return 26;
}

//----- (0048FC60) --------------------------------------------------------
_DWORD *__thiscall sub_48FC60(_DWORD *this)
{
  sub_48E370(this);
  *this = &off_4C0538;
  return this;
}
// 4C0538: using guessed type int (__stdcall *off_4C0538)(int, int);

//----- (0048FC90) --------------------------------------------------------
_DWORD *__thiscall sub_48FC90(_DWORD *this)
{
  sub_48E6E0(this);
  *this = &off_4C0598;
  return this;
}
// 4C0598: using guessed type int (__stdcall *off_4C0598)(int, int);

//----- (0048FCB0) --------------------------------------------------------
_DWORD *__thiscall sub_48FCB0(_DWORD *this)
{
  sub_48E6A0(this);
  *this = &off_4C0608;
  return this;
}
// 4C0608: using guessed type int (__stdcall *off_4C0608)(int, int);

//----- (0048FCD0) --------------------------------------------------------
int sub_48FCD0()
{
  return 28;
}

//----- (0048FCE0) --------------------------------------------------------
CMMagicFuJiExplosion *__thiscall CMMagicFuJiExplosion::CMMagicFuJiExplosion(CMMagicFuJiExplosion *this)
{
  sub_48F890(this);
  *(_DWORD *)this = &off_4C0678;
  *((_DWORD *)this + 19) = 0;
  return this;
}
// 4C0678: using guessed type int (__stdcall *off_4C0678)(int, int);

//----- (0048FD10) --------------------------------------------------------
int sub_48FD10()
{
  return 29;
}

//----- (0048FD20) --------------------------------------------------------
_DWORD *__thiscall sub_48FD20(_DWORD *this, int a2, int a3)
{
  *this = a2;
  this[1] = a3;
  this[2] = 0;
  this[3] = 0;
  return this;
}

//----- (0048FD60) --------------------------------------------------------
std::codecvt_base *__thiscall CCellMap::_CCellMap_0(std::codecvt_base **this)
{
  std::codecvt_base *result; // eax

  result = (std::codecvt_base *)this;
  if ( this[2] )
  {
    result = this[2];
    if ( result )
      result = std::codecvt_base::`vector deleting destructor'(this[2], 3u);
  }
  if ( this[3] )
  {
    result = this[3];
    if ( result )
      result = (std::codecvt_base *)CCompleteFire::CCompleteFire((CCompleteFire *)this[3], 3);
  }
  return result;
}

//----- (0048FDE0) --------------------------------------------------------
std::codecvt_base *__thiscall std::codecvt_base::`vector deleting destructor'(std::codecvt_base *this, unsigned int a2)
{
  std::codecvt_base *result; // eax

  if ( (a2 & 2) != 0 )
  {
    `vector destructor iterator'(this, 8u, this[-1]._Refs, (void (__thiscall *)(void *))CTile::_CTile);
    if ( (a2 & 1) != 0 )
      sub_4A16B4(&this[-1]._Refs);
    result = (std::codecvt_base *)((char *)this - 4);
  }
  else
  {
    CTile::_CTile(this);
    if ( (a2 & 1) != 0 )
      sub_401020(this);
    result = this;
  }
  return result;
}
// 4A16B4: using guessed type _DWORD __cdecl sub_4A16B4(_DWORD);

//----- (0048FE50) --------------------------------------------------------
CCompleteFire *__thiscall CCompleteFire::CCompleteFire(CCompleteFire *this, char a2)
{
  CCompleteFire *result; // eax

  if ( (a2 & 2) != 0 )
  {
    `vector destructor iterator'(this, 0x18u, this[-1].m_nContiCnt, (void (__thiscall *)(void *))CRWLock::~CRWLock);
    if ( (a2 & 1) != 0 )
      sub_4A16B4(&this[-1].m_nContiCnt);
    result = (CCompleteFire *)((char *)this - 4);
  }
  else
  {
    CRWLock::~CRWLock((CRWLock *)this);
    if ( (a2 & 1) != 0 )
      sub_401020(this);
    result = this;
  }
  return result;
}
// 4A16B4: using guessed type _DWORD __cdecl sub_4A16B4(_DWORD);

//----- (0048FEC0) --------------------------------------------------------
int __thiscall CCellMap::AllocTile(_DWORD *this)
{
  int result; // eax
  _DWORD *v2; // [esp+0h] [ebp-14h]
  _DWORD *v3; // [esp+4h] [ebp-10h]
  _DWORD *v5; // [esp+Ch] [ebp-8h]
  _DWORD *v6; // [esp+10h] [ebp-4h]

  if ( this[2] || this[3] )
  {
    LOG_ERR("CCellMap::AllocTile() Can't allocate Tile. CellMap(%d,%d)", *this, this[1]);
    result = 0;
  }
  else
  {
    v6 = (_DWORD *)sub_49F2E1(0x80004u);
    if ( v6 )
    {
      *v6 = 0x10000;
      `vector constructor iterator'(v6 + 1, 8u, 0x10000, std::_Iterator_base::_Iterator_base);
      v3 = v6 + 1;
    }
    else
    {
      v3 = 0;
    }
    this[2] = v3;
    v5 = (_DWORD *)sub_49F2E1(0x1804u);
    if ( v5 )
    {
      *v5 = 256;
      `vector constructor iterator'(v5 + 1, 0x18u, 256, (void *(__thiscall *)(void *))CRWLock::CRWLock);
      v2 = v5 + 1;
    }
    else
    {
      v2 = 0;
    }
    this[3] = v2;
    result = 1;
  }
  return result;
}

//----- (0048FFB0) --------------------------------------------------------
int __thiscall CMFireFlowerExplosion::CMFireFlowerExplosion(_DWORD *this, FILE *Stream)
{
  int j; // [esp+4h] [ebp-10h]
  int i; // [esp+8h] [ebp-Ch]
  int v6; // [esp+Ch] [ebp-8h]
  int v7; // [esp+10h] [ebp-4h] BYREF

  if ( !sub_4A17A2(&v7, 4u, 1u, Stream) )
    return 0;
  if ( v7 == 1 )
  {
    v6 = this[2];
    for ( i = 0; i < 256; ++i )
    {
      for ( j = 0; j < 256; ++j )
      {
        if ( !sub_4A17A2((void *)(v6 + 4), 4u, 1u, Stream) )
        {
          LOG_ERR("CCellMap::ReadTileAttr() Invalid Tile Attr. (Tile:%d,%d)", j, i);
          return 0;
        }
        v6 += 8;
      }
    }
  }
  return 1;
}

//----- (00490070) --------------------------------------------------------
CRWLock *__thiscall CCellMap::ReadLock(_DWORD *this, int a2)
{
  CRWLock *result; // eax
  int j; // [esp+4h] [ebp-20h]
  CRWLock *i; // [esp+8h] [ebp-1Ch]
  CRWLock *v6; // [esp+Ch] [ebp-18h]
  int v7[2]; // [esp+10h] [ebp-14h] BYREF
  int v8; // [esp+18h] [ebp-Ch]
  CRWLock *v9; // [esp+1Ch] [ebp-8h]
  int v10; // [esp+20h] [ebp-4h]

  if ( this )
  {
    CCellMap::_CCellMap(this, (_DWORD *)a2, v7);
    v6 = (CRWLock *)(this[3] + 24 * (v7[0] + 16 * (_DWORD)v9));
    v10 = 16 - (v8 - v7[0]);
    result = v9;
    for ( i = v9; (int)i < v7[1]; i = (CRWLock *)((char *)i + 1) )
    {
      result = (CRWLock *)v7[0];
      for ( j = v7[0]; j < v8; ++j )
      {
        CRWLock::ReadLock(v6);
        result = ++v6;
      }
      v6 += v10;
    }
  }
  return result;
}

//----- (00490120) --------------------------------------------------------
int __thiscall CCellMap::_CCellMap(_DWORD *this, _DWORD *a2, int *a3)
{
  int result; // eax
  int v4; // [esp+0h] [ebp-30h]
  int v5; // [esp+4h] [ebp-2Ch]
  int v6; // [esp+8h] [ebp-28h]
  int v7; // [esp+Ch] [ebp-24h]
  int v8; // [esp+14h] [ebp-1Ch]
  int v9; // [esp+18h] [ebp-18h]
  int v10; // [esp+1Ch] [ebp-14h]
  int v11; // [esp+28h] [ebp-8h]
  int v12; // [esp+2Ch] [ebp-4h]

  v11 = a2[3];
  v10 = a2[2];
  v8 = a2[1];
  v12 = *this << 8;
  v9 = this[1] << 8;
  if ( *a2 <= v12 )
    v7 = 0;
  else
    v7 = (int)(unsigned __int8)*a2 >> 4;
  *a3 = v7;
  if ( v11 <= v9 )
    v6 = 0;
  else
    v6 = (int)(unsigned __int8)v11 >> 4;
  a3[3] = v6;
  if ( v10 >= v12 + 256 )
    v5 = 16;
  else
    v5 = (((unsigned __int8)v10 - 1) >> 4) + 1;
  a3[2] = v5;
  if ( v8 >= v9 + 256 )
    v4 = 16;
  else
    v4 = (((unsigned __int8)v8 - 1) >> 4) + 1;
  result = v4;
  a3[1] = v4;
  return result;
}

//----- (00490220) --------------------------------------------------------
int __thiscall sub_490220(_DWORD *a1, _DWORD *a2)
{
  int result; // eax
  int j; // [esp+4h] [ebp-20h]
  int i; // [esp+8h] [ebp-1Ch]
  CRWLock *v6; // [esp+Ch] [ebp-18h]
  int v7[2]; // [esp+10h] [ebp-14h] BYREF
  int v8; // [esp+18h] [ebp-Ch]
  int v9; // [esp+1Ch] [ebp-8h]
  int v10; // [esp+20h] [ebp-4h]

  if ( a1 )
  {
    CCellMap::_CCellMap(a1, a2, v7);
    v6 = (CRWLock *)(a1[3] + 24 * (v7[0] + 16 * v9));
    v10 = 16 - (v8 - v7[0]);
    result = v9;
    for ( i = v9; i < v7[1]; ++i )
    {
      result = v7[0];
      for ( j = v7[0]; j < v8; ++j )
      {
        CRWLock::ReadUnlock(v6);
        result = (int)&v6[1];
        ++v6;
      }
      v6 += v10;
    }
  }
  return result;
}

//----- (004902D0) --------------------------------------------------------
CRWLock *__thiscall CCellMap::ReadUnlock_0(_DWORD *this, int a2, int a3)
{
  CRWLock *result; // eax
  int l; // [esp+4h] [ebp-38h]
  int k; // [esp+8h] [ebp-34h]
  int j; // [esp+Ch] [ebp-30h]
  CRWLock *i; // [esp+10h] [ebp-2Ch]
  CRWLock *v9; // [esp+14h] [ebp-28h]
  int v10[4]; // [esp+18h] [ebp-24h] BYREF
  int v11; // [esp+28h] [ebp-14h]
  int v12[2]; // [esp+2Ch] [ebp-10h] BYREF
  int v13; // [esp+34h] [ebp-8h]
  CRWLock *v14; // [esp+38h] [ebp-4h]

  if ( this )
  {
    CCellMap::GetRWLockRect_0(this, (_DWORD *)a2, v12);
    CCellMap::GetRWLockRect_0(this, (_DWORD *)a3, v10);
    v9 = (CRWLock *)(this[3] + 24 * (v12[0] + 16 * (_DWORD)v14));
    v11 = 16 - (v13 - v12[0]);
    for ( i = v14; (int)i < v10[3]; i = (CRWLock *)((char *)i + 1) )
    {
      for ( j = v12[0]; j < v13; ++j )
        CRWLock::ReadLock(v9++);
      v9 += v11;
    }
    while ( 1 )
    {
      result = i;
      if ( (int)i >= v10[1] )
        break;
      for ( k = v12[0]; k < v10[0]; ++k )
        CRWLock::ReadLock(v9++);
      while ( k < v10[2] )
      {
        CRWLock::WriteLock(v9);
        ++k;
        ++v9;
      }
      while ( k < v13 )
      {
        CRWLock::ReadLock(v9);
        ++k;
        ++v9;
      }
      i = (CRWLock *)((char *)i + 1);
      v9 += v11;
    }
    while ( (int)i < v12[1] )
    {
      for ( l = v12[0]; l < v13; ++l )
        CRWLock::ReadLock(v9++);
      i = (CRWLock *)((char *)i + 1);
      result = &v9[v11];
      v9 = result;
    }
  }
  return result;
}

//----- (00490470) --------------------------------------------------------
int __thiscall CCellMap::GetRWLockRect_0(_DWORD *this, _DWORD *a2, int *a3)
{
  int result; // eax
  int v4; // [esp+0h] [ebp-40h]
  int v5; // [esp+4h] [ebp-3Ch]
  int v6; // [esp+8h] [ebp-38h]
  int v7; // [esp+Ch] [ebp-34h]
  int v8; // [esp+10h] [ebp-30h]
  int v9; // [esp+14h] [ebp-2Ch]
  int v10; // [esp+18h] [ebp-28h]
  int v11; // [esp+1Ch] [ebp-24h]
  int v12; // [esp+24h] [ebp-1Ch]
  int v13; // [esp+28h] [ebp-18h]
  int v14; // [esp+2Ch] [ebp-14h]
  int v15; // [esp+38h] [ebp-8h]
  int v16; // [esp+3Ch] [ebp-4h]

  v15 = a2[3];
  v14 = a2[2];
  v12 = a2[1];
  v16 = *this << 8;
  v13 = this[1] << 8;
  if ( *a2 < v16 + 256 )
  {
    if ( *a2 <= v16 )
      v10 = 0;
    else
      v10 = (int)(unsigned __int8)*a2 >> 4;
    v11 = v10;
  }
  else
  {
    v11 = 16;
  }
  *a3 = v11;
  if ( v15 < v13 + 256 )
  {
    if ( v15 <= v13 )
      v8 = 0;
    else
      v8 = (int)(unsigned __int8)v15 >> 4;
    v9 = v8;
  }
  else
  {
    v9 = 16;
  }
  a3[3] = v9;
  if ( v14 > v16 )
  {
    if ( v14 >= v16 + 256 )
      v6 = 16;
    else
      v6 = (((unsigned __int8)v14 - 1) >> 4) + 1;
    v7 = v6;
  }
  else
  {
    v7 = 0;
  }
  a3[2] = v7;
  result = v12;
  if ( v12 > v13 )
  {
    if ( v12 >= v13 + 256 )
      v4 = 16;
    else
      v4 = (((unsigned __int8)v12 - 1) >> 4) + 1;
    result = v4;
    v5 = v4;
  }
  else
  {
    v5 = 0;
  }
  a3[1] = v5;
  return result;
}

//----- (004905E0) --------------------------------------------------------
CRWLock *__thiscall sub_4905E0(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  CRWLock *result; // eax
  int l; // [esp+4h] [ebp-38h]
  int k; // [esp+8h] [ebp-34h]
  int j; // [esp+Ch] [ebp-30h]
  CRWLock *i; // [esp+10h] [ebp-2Ch]
  CRWLock *v9; // [esp+14h] [ebp-28h]
  int v10[4]; // [esp+18h] [ebp-24h] BYREF
  int v11; // [esp+28h] [ebp-14h]
  int v12[2]; // [esp+2Ch] [ebp-10h] BYREF
  int v13; // [esp+34h] [ebp-8h]
  CRWLock *v14; // [esp+38h] [ebp-4h]

  if ( a1 )
  {
    CCellMap::GetRWLockRect_0(a1, a2, v12);
    CCellMap::GetRWLockRect_0(a1, a3, v10);
    v9 = (CRWLock *)(a1[3] + 24 * (v12[0] + 16 * (_DWORD)v14));
    v11 = 16 - (v13 - v12[0]);
    for ( i = v14; (int)i < v10[3]; i = (CRWLock *)((char *)i + 1) )
    {
      for ( j = v12[0]; j < v13; ++j )
        CRWLock::ReadUnlock(v9++);
      v9 += v11;
    }
    while ( 1 )
    {
      result = i;
      if ( (int)i >= v10[1] )
        break;
      for ( k = v12[0]; k < v10[0]; ++k )
        CRWLock::ReadUnlock(v9++);
      while ( k < v10[2] )
      {
        CRWLock::WriteUnlock(v9);
        ++k;
        ++v9;
      }
      while ( k < v13 )
      {
        CRWLock::ReadUnlock(v9);
        ++k;
        ++v9;
      }
      i = (CRWLock *)((char *)i + 1);
      v9 += v11;
    }
    while ( (int)i < v12[1] )
    {
      for ( l = v12[0]; l < v13; ++l )
        CRWLock::ReadUnlock(v9++);
      i = (CRWLock *)((char *)i + 1);
      result = &v9[v11];
      v9 = result;
    }
  }
  return result;
}

//----- (00490780) --------------------------------------------------------
void __thiscall CSellMap::SendDelete(CCellMap *a1, int a2, _DWORD *a3, int a4)
{
  int v4; // eax
  _DWORD a2a[2]; // [esp+4h] [ebp-10h] BYREF
  _DWORD *v6; // [esp+Ch] [ebp-8h]
  char v7[4]; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    a2a[0] = (unsigned __int8)*a3;
    a2a[1] = (unsigned __int8)a3[1];
    v6 = (_DWORD *)CCellMap::GetTile(a1, a2a);
    for ( *(_DWORD *)v7 = *v6; *(_DWORD *)v7; *(_DWORD *)v7 = unknown_libname_9(*(_DWORD *)v7) )
    {
      if ( *(_DWORD *)(*(_DWORD *)v7 + 16) == -6 )
      {
        *v6 = 0;
        ELOG("CSellMap::SendDelete %p %p\n", v7[0]);
        EBREAK(v4);
        return;
      }
      (*(void (__thiscall **)(_DWORD, int, int))(**(_DWORD **)v7 + 44))(*(_DWORD *)v7, a2, a4);
    }
  }
}
// 490803: variable 'v4' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00490830) --------------------------------------------------------
void __thiscall CCellMap::GetRWLockRect(CCellMap *a1, int a2, _DWORD *a3, int a4)
{
  int v4; // eax
  _DWORD a2a[2]; // [esp+4h] [ebp-10h] BYREF
  _DWORD *v6; // [esp+Ch] [ebp-8h]
  char v7[4]; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    a2a[0] = (unsigned __int8)*a3;
    a2a[1] = (unsigned __int8)a3[1];
    v6 = (_DWORD *)CCellMap::GetTile(a1, a2a);
    for ( *(_DWORD *)v7 = *v6; *(_DWORD *)v7; *(_DWORD *)v7 = unknown_libname_9(*(_DWORD *)v7) )
    {
      if ( *(_DWORD *)(*(_DWORD *)v7 + 16) == -6 )
      {
        *v6 = 0;
        ELOG("CSellMap::SendMove %p %p\n", v7[0]);
        EBREAK(v4);
        return;
      }
      (*(void (__thiscall **)(_DWORD, int, int))(**(_DWORD **)v7 + 48))(*(_DWORD *)v7, a2, a4);
    }
  }
}
// 4908B3: variable 'v4' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (004908E0) --------------------------------------------------------
void __thiscall CSellMap::SendCreate(CCellMap *a1, int a2, _DWORD *a3, int a4)
{
  int v4; // eax
  _DWORD a2a[2]; // [esp+4h] [ebp-10h] BYREF
  _DWORD *v6; // [esp+Ch] [ebp-8h]
  char v7[4]; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    a2a[0] = (unsigned __int8)*a3;
    a2a[1] = (unsigned __int8)a3[1];
    v6 = (_DWORD *)CCellMap::GetTile(a1, a2a);
    for ( *(_DWORD *)v7 = *v6; *(_DWORD *)v7; *(_DWORD *)v7 = unknown_libname_9(*(_DWORD *)v7) )
    {
      if ( *(_DWORD *)(*(_DWORD *)v7 + 16) == -6 )
      {
        *v6 = 0;
        ELOG("CSellMap::SendCreate %p %p\n", v7[0]);
        EBREAK(v4);
        return;
      }
      (*(void (__thiscall **)(_DWORD, int, int))(**(_DWORD **)v7 + 52))(*(_DWORD *)v7, a2, a4);
    }
  }
}
// 490963: variable 'v4' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00490990) --------------------------------------------------------
void __thiscall CSellMap::SendPacket(CCellMap *this, _DWORD *src, int a3)
{
  int v3; // eax
  _DWORD a2[2]; // [esp+4h] [ebp-10h] BYREF
  _DWORD *v5; // [esp+Ch] [ebp-8h]
  char v6[4]; // [esp+10h] [ebp-4h]

  if ( this )
  {
    a2[0] = (unsigned __int8)*src;
    a2[1] = (unsigned __int8)src[1];
    v5 = (_DWORD *)CCellMap::GetTile(this, a2);
    for ( *(_DWORD *)v6 = *v5; *(_DWORD *)v6; *(_DWORD *)v6 = unknown_libname_9(*(_DWORD *)v6) )
    {
      if ( *(_DWORD *)(*(_DWORD *)v6 + 16) == -6 )
      {
        *v5 = 0;
        ELOG("CSellMap::SendPacket %p %p\n", v6[0]);
        EBREAK(v3);
        return;
      }
      (*(void (__thiscall **)(_DWORD, int))(**(_DWORD **)v6 + 40))(*(_DWORD *)v6, a3);
    }
  }
}
// 490A13: variable 'v3' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00490A40) --------------------------------------------------------
void __thiscall CSellMap::GetPlayerList(CCellMap *a1, _DWORD *a2, CMemory **a3)
{
  int v3; // eax
  _DWORD a2a[2]; // [esp+4h] [ebp-10h] BYREF
  CMemory **v5; // [esp+Ch] [ebp-8h]
  CMemory *i; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    a2a[0] = (unsigned __int8)*a2;
    a2a[1] = (unsigned __int8)a2[1];
    v5 = (CMemory **)CCellMap::GetTile(a1, a2a);
    for ( i = *v5; i; i = (CMemory *)unknown_libname_9(i) )
    {
      if ( i->__sbh_sizeHeaderList == -6 )
      {
        *v5 = 0;
        ELOG("CSellMap::GetPlayerList %p %p\n", (char)i);
        EBREAK(v3);
        return;
      }
      if ( (*((int (__thiscall **)(CMemory *))i->_crtheap + 15))(i) )
        *a3 = (CMemory *)CBaseList::Push(*a3, i);
    }
  }
}
// 490AC3: variable 'v3' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00490B00) --------------------------------------------------------
void __thiscall CSellMap::GetPlayerMonsterList(CCellMap *a1, _DWORD *a2, CMemory **a3)
{
  int v3; // eax
  _DWORD a2a[2]; // [esp+4h] [ebp-10h] BYREF
  CMemory **v5; // [esp+Ch] [ebp-8h]
  CMemory *i; // [esp+10h] [ebp-4h]

  if ( a1 )
  {
    a2a[0] = (unsigned __int8)*a2;
    a2a[1] = (unsigned __int8)a2[1];
    v5 = (CMemory **)CCellMap::GetTile(a1, a2a);
    for ( i = *v5; i; i = (CMemory *)unknown_libname_9(i) )
    {
      if ( i->__sbh_sizeHeaderList == -6 )
      {
        *v5 = 0;
        ELOG("CSellMap::GetPlayerMonsterList %p %p\n", (char)i);
        EBREAK(v3);
        return;
      }
      if ( (*((int (__thiscall **)(CMemory *))i->_crtheap + 15))(i)
        || (*((int (__thiscall **)(CMemory *))i->_crtheap + 16))(i) )
      {
        *a3 = (CMemory *)CBaseList::Push(*a3, i);
      }
    }
  }
}
// 490B83: variable 'v3' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00490BD0) --------------------------------------------------------
int __thiscall CSellMap::GetClosestPlayer(CCellMap *a1, _DWORD *a2, _DWORD *a3)
{
  int v4; // eax
  CIOObject *v5; // [esp+4h] [ebp-14h]
  _DWORD a2a[2]; // [esp+8h] [ebp-10h] BYREF
  _DWORD *v7; // [esp+10h] [ebp-8h]
  char v8[4]; // [esp+14h] [ebp-4h]

  if ( !a1 )
    return 0;
  a2a[0] = (unsigned __int8)*a2;
  a2a[1] = (unsigned __int8)a2[1];
  v7 = (_DWORD *)CCellMap::GetTile(a1, a2a);
  for ( *(_DWORD *)v8 = *v7; *(_DWORD *)v8; *(_DWORD *)v8 = unknown_libname_9(*(_DWORD *)v8) )
  {
    if ( *(_DWORD *)(*(_DWORD *)v8 + 16) == -6 )
    {
      *v7 = 0;
      ELOG("CSellMap::GetClosestPlayer %p %p\n", v8[0]);
      EBREAK(v4);
      return 0;
    }
    if ( (*(int (__thiscall **)(_DWORD))(**(_DWORD **)v8 + 60))(*(_DWORD *)v8) )
    {
      v5 = *(CIOObject **)v8;
      if ( CChar::IsNormal(*(int *)v8) )
      {
        if ( !sub_40B310(v5, 0x2000) && v5[28].m_nTimerRef != 4 )
        {
          CIOObject::AddRef(v5, &v5[22].m_nRef);
          *a3 = v5;
          return 1;
        }
      }
    }
  }
  return 0;
}
// 490C59: variable 'v4' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00490CD0) --------------------------------------------------------
int __thiscall CSellMap::GetMonster(CCellMap *a1, _DWORD *a2, int a3, _DWORD *a4)
{
  int v5; // eax
  CIOObject *v6; // [esp+4h] [ebp-14h]
  _DWORD a2a[2]; // [esp+8h] [ebp-10h] BYREF
  _DWORD *v8; // [esp+10h] [ebp-8h]
  char v9[4]; // [esp+14h] [ebp-4h]

  if ( !a1 )
    return 0;
  a2a[0] = (unsigned __int8)*a2;
  a2a[1] = (unsigned __int8)a2[1];
  v8 = (_DWORD *)CCellMap::GetTile(a1, a2a);
  for ( *(_DWORD *)v9 = *v8; *(_DWORD *)v9; *(_DWORD *)v9 = unknown_libname_9(*(_DWORD *)v9) )
  {
    if ( *(_DWORD *)(*(_DWORD *)v9 + 16) == -6 )
    {
      *v8 = 0;
      ELOG("CSellMap::GetMonster %p %p\n", v9[0]);
      EBREAK(v5);
      return 0;
    }
    if ( (*(int (__thiscall **)(_DWORD))(**(_DWORD **)v9 + 64))(*(_DWORD *)v9) )
    {
      v6 = *(CIOObject **)v9;
      if ( CChar::IsNormal(*(int *)v9) )
      {
        if ( a3 == *(_DWORD *)(v6[27].m_nTimerRef + 60) )
        {
          CIOObject::AddRef(v6, (volatile int *)&v6[22]);
          *a4 = v6;
          return 1;
        }
      }
    }
  }
  return 0;
}
// 490D59: variable 'v5' is possibly undefined
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00490DC0) --------------------------------------------------------
_DWORD *__thiscall sub_490DC0(_DWORD *this)
{
  *this = 0;
  this[1] = 0;
  memset(this + 2, 0, 0x4000u);
  return this;
}

//----- (00490E00) --------------------------------------------------------
void __thiscall CCellMap::GetPlayerList(_DWORD *this)
{
  int i; // [esp+10h] [ebp-8h]

  for ( i = 0; i < 4096; ++i )
  {
    if ( this[i + 2] )
      sub_490E70((std::codecvt_base **)this[i + 2], 1);
  }
}

//----- (00490E70) --------------------------------------------------------
std::codecvt_base **__thiscall sub_490E70(std::codecvt_base **this, char a2)
{
  CCellMap::_CCellMap_0(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00490EA0) --------------------------------------------------------
int __cdecl CSMap::LoadMap(int a1)
{
  int result; // eax
  _DWORD *v2; // [esp+4h] [ebp-24h]
  _DWORD *v3; // [esp+8h] [ebp-20h]
  CMemory **v4; // [esp+14h] [ebp-14h]
  CMemory **v5; // [esp+18h] [ebp-10h]
  _DWORD *v6; // [esp+1Ch] [ebp-Ch]
  FILE *Stream; // [esp+20h] [ebp-8h]

  Stream = fopen((const char *)(a1 + 48), "rb");
  if ( Stream )
  {
    v6 = (_DWORD *)sub_491080(*(_DWORD *)(a1 + 32));
    if ( !v6 )
    {
      v5 = sub_401000(0x4008u);
      if ( v5 )
        v3 = sub_490DC0(v5);
      else
        v3 = 0;
      dword_4E2738 = (int)v3;
      v6 = v3;
    }
    v4 = sub_401000(0x10u);
    if ( v4 )
      v2 = sub_48FD20(v4, *(_DWORD *)(a1 + 40), *(_DWORD *)(a1 + 44));
    else
      v2 = 0;
    v6[64 * *(_DWORD *)(a1 + 44) + 2 + *(_DWORD *)(a1 + 40)] = v2;
    if ( CCellMap::AllocTile(v2) && CMFireFlowerExplosion::CMFireFlowerExplosion(v2, Stream) )
    {
      fclose(Stream);
      result = 1;
    }
    else
    {
      LOG_ERR("Map loading is failed. (%s)", (const char *)(a1 + 48));
      fclose(Stream);
      if ( v6 )
        sub_491010(v6, 1);
      result = 0;
    }
  }
  else
  {
    LOG_ERR("CSMap::LoadMap() Can't read map(%s).", (const char *)(a1 + 48));
    result = 0;
  }
  return result;
}
// 4E2738: using guessed type int dword_4E2738;

//----- (00491010) --------------------------------------------------------
_DWORD *__thiscall sub_491010(_DWORD *this, char a2)
{
  CCellMap::GetPlayerList(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00491040) --------------------------------------------------------
void __cdecl CSMap::FreeSMap()
{
  if ( dword_4E2738 )
    sub_491010((_DWORD *)dword_4E2738, 1);
}
// 4E2738: using guessed type int dword_4E2738;

//----- (00491080) --------------------------------------------------------
int __cdecl sub_491080(int a1)
{
  int result; // eax

  if ( a1 < 32 )
    result = dword_4E2738;
  else
    result = 0;
  return result;
}
// 4E2738: using guessed type int dword_4E2738;

//----- (004910A0) --------------------------------------------------------
int __thiscall CSMap::ReadLock_0(char *this, int a2, int *a3)
{
  int result; // eax
  _DWORD *v4; // [esp+0h] [ebp-18h]
  int j; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  char *v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = &this[256 * a3[3] + 8 + 4 * *a3];
  result = 64 - (a3[2] - *a3);
  v8 = result;
  for ( i = a3[3]; i < a3[1]; ++i )
  {
    for ( j = *a3; j < a3[2]; ++j )
    {
      v4 = *(_DWORD **)v7;
      v7 += 4;
      CCellMap::ReadLock(v4, a2);
    }
    v7 += 4 * v8;
    result = i + 1;
  }
  return result;
}

//----- (00491150) --------------------------------------------------------
int __thiscall sub_491150(int a1, _DWORD *a5, int *a6)
{
  int result; // eax
  _DWORD *a1a; // [esp+0h] [ebp-18h]
  int j; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  _DWORD **v7; // [esp+10h] [ebp-8h]
  int v8; // [esp+14h] [ebp-4h]

  v7 = (_DWORD **)(a1 + 4 * ((a6[3] << 6) + *a6) + 8);
  result = 64 - (a6[2] - *a6);
  v8 = result;
  for ( i = a6[3]; i < a6[1]; ++i )
  {
    for ( j = *a6; j < a6[2]; ++j )
    {
      a1a = *v7++;
      sub_490220(a1a, a5);
    }
    v7 += v8;
    result = i + 1;
  }
  return result;
}

//----- (00491200) --------------------------------------------------------
int __thiscall CSMap::ReadWriteLock(char *this, int a2, int a3, int *a4)
{
  int result; // eax
  _DWORD *v5; // [esp+0h] [ebp-18h]
  int j; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  char *v8; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h]

  v8 = &this[256 * a4[3] + 8 + 4 * *a4];
  result = 64 - (a4[2] - *a4);
  v9 = result;
  for ( i = a4[3]; i < a4[1]; ++i )
  {
    for ( j = *a4; j < a4[2]; ++j )
    {
      v5 = *(_DWORD **)v8;
      v8 += 4;
      CCellMap::ReadUnlock_0(v5, a2, a3);
    }
    v8 += 4 * v9;
    result = i + 1;
  }
  return result;
}

//----- (004912B0) --------------------------------------------------------
int __thiscall sub_4912B0(int a1, _DWORD *a5, _DWORD *a6, int *a7)
{
  int result; // eax
  _DWORD *a1a; // [esp+0h] [ebp-18h]
  int j; // [esp+8h] [ebp-10h]
  int i; // [esp+Ch] [ebp-Ch]
  _DWORD **v8; // [esp+10h] [ebp-8h]
  int v9; // [esp+14h] [ebp-4h]

  v8 = (_DWORD **)(a1 + 4 * ((a7[3] << 6) + *a7) + 8);
  result = 64 - (a7[2] - *a7);
  v9 = result;
  for ( i = a7[3]; i < a7[1]; ++i )
  {
    for ( j = *a7; j < a7[2]; ++j )
    {
      a1a = *v8++;
      sub_4905E0(a1a, a5, a6);
    }
    v8 += v9;
    result = i + 1;
  }
  return result;
}

//----- (00491360) --------------------------------------------------------
int __stdcall CSMap::GetCellMap(_DWORD *a1, int a2)
{
  _DWORD *v2; // ecx
  int *v4; // eax
  CRWLock *v5; // [esp+4h] [ebp-10h]
  _DWORD a2a[2]; // [esp+8h] [ebp-Ch] BYREF
  CCellMap *v7; // [esp+10h] [ebp-4h]

  v7 = (CCellMap *)CSMap::_GetCellMap(v2, (_DWORD *)a2);
  if ( !v7 )
    return 0;
  a2a[0] = (unsigned __int8)*(_DWORD *)a2;
  a2a[1] = (unsigned __int8)*(_DWORD *)(a2 + 4);
  v5 = (CRWLock *)CCellMap::GetLock(v7, a2a);
  CRWLock::WriteLock(v5);
  v4 = (int *)CCellMap::GetTile(v7, a2a);
  sub_496520(v4, (int)a1);
  CRWLock::WriteUnlock(v5);
  return 1;
}
// 491370: variable 'v2' is possibly undefined

//----- (004913E0) --------------------------------------------------------
int __stdcall sub_4913E0(int a1, int a2)
{
  _DWORD *v2; // ecx
  int *v4; // eax
  CRWLock *v5; // [esp+4h] [ebp-10h]
  _DWORD a2a[2]; // [esp+8h] [ebp-Ch] BYREF
  CCellMap *v7; // [esp+10h] [ebp-4h]

  v7 = (CCellMap *)CSMap::_GetCellMap(v2, (_DWORD *)a2);
  if ( !v7 )
    return 0;
  a2a[0] = (unsigned __int8)*(_DWORD *)a2;
  a2a[1] = (unsigned __int8)*(_DWORD *)(a2 + 4);
  v5 = (CRWLock *)CCellMap::GetLock(v7, a2a);
  CRWLock::WriteLock(v5);
  v4 = (int *)CCellMap::GetTile(v7, a2a);
  CTile::RemoveBase(v4, a1);
  CRWLock::WriteUnlock(v5);
  return 1;
}
// 4913F0: variable 'v2' is possibly undefined

//----- (00491460) --------------------------------------------------------
int __stdcall CSMap::ReadLock(int a1, int a2, int a3, int a4, int a5, int a6)
{
  char *v6; // ecx
  int v7; // edx
  int result; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  Concurrency::details::_CancellationTokenRegistration **v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  CCellMap *v16; // eax
  CCellMap *v17; // eax
  CCellMap *v18; // eax
  CCellMap *v19; // eax
  CCellMap *v20; // eax
  CCellMap *v21; // eax
  CCellMap *v22; // eax
  CCellMap *v23; // eax
  CCellMap *v24; // eax
  CCellMap *v25; // eax
  CCellMap *v26; // eax
  CCellMap *v27; // eax
  CCellMap *v28; // eax
  CCellMap *v29; // eax
  CCellMap *v30; // eax
  CCellMap *v31; // eax
  CCellMap *v32; // eax
  CCellMap *v33; // eax
  CCellMap *v34; // eax
  CCellMap *v35; // eax
  CCellMap *v36; // eax
  CCellMap *v37; // eax
  CCellMap *v38; // eax
  CCellMap *v39; // eax
  CCellMap *v40; // eax
  CCellMap *v41; // eax
  CCellMap *v42; // eax
  CCellMap *v43; // eax
  CCellMap *v44; // eax
  CCellMap *v45; // eax
  CCellMap *v46; // eax
  CCellMap *v47; // eax
  CCellMap *v48; // eax
  int v49; // [esp-44h] [ebp-E8h]
  int v50; // [esp-40h] [ebp-E4h]
  int v51; // [esp-3Ch] [ebp-E0h]
  int v52; // [esp-38h] [ebp-DCh]
  int v53; // [esp-34h] [ebp-D8h]
  int v54; // [esp-30h] [ebp-D4h]
  int v55; // [esp-24h] [ebp-C8h]
  int v56; // [esp-20h] [ebp-C4h]
  int v57; // [esp-1Ch] [ebp-C0h]
  int v58; // [esp-18h] [ebp-BCh]
  int *v59; // [esp-14h] [ebp-B8h]
  int v60; // [esp-10h] [ebp-B4h]
  int *v61; // [esp-10h] [ebp-B4h]
  int v62; // [esp-Ch] [ebp-B0h]
  int v63; // [esp-Ch] [ebp-B0h]
  int v64; // [esp-8h] [ebp-ACh]
  int v65; // [esp-8h] [ebp-ACh]
  int v66; // [esp-4h] [ebp-A8h]
  int v67; // [esp-4h] [ebp-A8h]
  void *v68; // [esp-4h] [ebp-A8h]
  CIOBuffer *v69; // [esp-4h] [ebp-A8h]
  void *v70; // [esp-4h] [ebp-A8h]
  CIOBuffer *v71; // [esp-4h] [ebp-A8h]
  CIOBuffer *v72; // [esp-4h] [ebp-A8h]
  void *v73; // [esp-4h] [ebp-A8h]
  CIOBuffer *v74; // [esp-4h] [ebp-A8h]
  CIOBuffer *v75; // [esp-4h] [ebp-A8h]
  void *v76; // [esp-4h] [ebp-A8h]
  CIOBuffer *v77; // [esp-4h] [ebp-A8h]
  CIOBuffer *v78; // [esp-4h] [ebp-A8h]
  CIOBuffer *v79; // [esp-4h] [ebp-A8h]
  void *v80; // [esp-4h] [ebp-A8h]
  CIOBuffer *v81; // [esp-4h] [ebp-A8h]
  CIOBuffer *v82; // [esp-4h] [ebp-A8h]
  CIOBuffer *v83; // [esp-4h] [ebp-A8h]
  CIOBuffer *v84; // [esp-4h] [ebp-A8h]
  void *v85; // [esp-4h] [ebp-A8h]
  CIOBuffer *v86; // [esp-4h] [ebp-A8h]
  CIOBuffer *v87; // [esp-4h] [ebp-A8h]
  CIOBuffer *v88; // [esp-4h] [ebp-A8h]
  void *v89; // [esp-4h] [ebp-A8h]
  CIOBuffer *v90; // [esp-4h] [ebp-A8h]
  CIOBuffer *v91; // [esp-4h] [ebp-A8h]
  CIOBuffer *v92; // [esp-4h] [ebp-A8h]
  void *v93; // [esp-4h] [ebp-A8h]
  CIOBuffer *v94; // [esp-4h] [ebp-A8h]
  CIOBuffer *v95; // [esp-4h] [ebp-A8h]
  CIOBuffer *v96; // [esp-4h] [ebp-A8h]
  CIOBuffer *v97; // [esp-4h] [ebp-A8h]
  void *v98; // [esp-4h] [ebp-A8h]
  CIOBuffer *v99; // [esp-4h] [ebp-A8h]
  CIOBuffer *v100; // [esp-4h] [ebp-A8h]
  char *v101; // [esp+0h] [ebp-A4h]
  int v102; // [esp+4h] [ebp-A0h] BYREF
  int v103; // [esp+8h] [ebp-9Ch]
  int v104; // [esp+Ch] [ebp-98h]
  int v105; // [esp+10h] [ebp-94h]
  int *v106; // [esp+14h] [ebp-90h]
  int v107; // [esp+18h] [ebp-8Ch]
  _DWORD a2a[2]; // [esp+1Ch] [ebp-88h] BYREF
  _DWORD v109[2]; // [esp+24h] [ebp-80h] BYREF
  CIOBuffer *v110; // [esp+2Ch] [ebp-78h]
  int v111; // [esp+30h] [ebp-74h] BYREF
  int v112; // [esp+34h] [ebp-70h]
  int v113; // [esp+38h] [ebp-6Ch]
  int v114; // [esp+3Ch] [ebp-68h]
  int v115; // [esp+40h] [ebp-64h] BYREF
  int v116; // [esp+44h] [ebp-60h]
  int v117; // [esp+48h] [ebp-5Ch] BYREF
  int v118; // [esp+4Ch] [ebp-58h]
  int v119; // [esp+50h] [ebp-54h]
  int v120; // [esp+54h] [ebp-50h] BYREF
  int v121; // [esp+58h] [ebp-4Ch]
  int v122; // [esp+5Ch] [ebp-48h]
  int v123; // [esp+60h] [ebp-44h]
  int v124[3]; // [esp+64h] [ebp-40h] BYREF
  int v125; // [esp+70h] [ebp-34h]
  CIOBuffer *v126; // [esp+74h] [ebp-30h]
  int v127; // [esp+78h] [ebp-2Ch] BYREF
  int v128; // [esp+7Ch] [ebp-28h]
  int v129; // [esp+80h] [ebp-24h] BYREF
  int v130; // [esp+84h] [ebp-20h]
  int v131; // [esp+88h] [ebp-1Ch]
  int v132; // [esp+8Ch] [ebp-18h]
  void *Src; // [esp+90h] [ebp-14h]
  CCellMap *v134; // [esp+94h] [ebp-10h]
  int a6a; // [esp+98h] [ebp-Ch] BYREF
  int i; // [esp+9Ch] [ebp-8h]
  CCellMap *v137; // [esp+A0h] [ebp-4h]
  int Number; // [esp+B0h] [ebp+Ch]
  int a3a; // [esp+B4h] [ebp+10h]

  v101 = v6;
  v7 = *(_DWORD *)(a1 + 328);
  v115 = *(_DWORD *)(a1 + 324);
  v116 = v7;
  v117 = a2 + *(_DWORD *)(a1 + 332);
  v118 = a3 + *(_DWORD *)(a1 + 336);
  v127 = v117 >> 5;
  v128 = v118 >> 5;
  v134 = (CCellMap *)sub_492570(v6, &v115);
  if ( !v134 )
    return 0;
  v137 = (CCellMap *)sub_492570(v101, &v127);
  if ( !v137 )
    return 0;
  v119 = a6 != 0 ? 100 : 64;
  v9 = abs(a2);
  if ( v9 <= v119 && (v10 = abs(a3), v10 <= v119) )
  {
    sub_492440(&v115, &v120, 25);
    sub_492440(&v127, &v102, 25);
    if ( a2 <= 0 )
    {
      v129 = v127;
      v131 = v115 + 1;
      v111 = v102;
      v113 = v122;
    }
    else
    {
      v129 = v115;
      v131 = v127 + 1;
      v111 = v120;
      v113 = v104;
    }
    if ( a3 <= 0 )
    {
      v130 = v116 + 1;
      v132 = v128;
      v112 = v121;
      v114 = v105;
    }
    else
    {
      v130 = v128 + 1;
      v132 = v116;
      v112 = v103;
      v114 = v123;
    }
    a2a[0] = (unsigned __int8)v115;
    a2a[1] = (unsigned __int8)v116;
    CSMap::GetCellMapRect(&v111, v124);
    v107 = v124[0] + (v125 << 6);
    if ( v107 >= 0 && v107 <= 4096 )
    {
      CSMap::ReadWriteLock(v101, (int)&v111, (int)&v129, v124);
      v12 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(v134, a2a);
      if ( CTile::RemoveBase(v12, (Concurrency::details::_CancellationTokenRegistration *)a1) )
      {
        CChar::SetXY((_DWORD *)a1, &v117);
        *(_DWORD *)(a1 + 340) += a4;
        CChar::SetDirection((_DWORD *)a1, a2, a3);
        v109[0] = (unsigned __int8)v127;
        v109[1] = (unsigned __int8)v128;
        v106 = (int *)CCellMap::GetTile(v137, v109);
        sub_496520(v106, a1);
        v13 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
        v126 = (CIOBuffer *)WritePacket_(0x37u, "d", v13);
        v14 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
        if ( a6 )
        {
          Src = WritePacket_((a5 != 0) + 101, "dbbb", v14, a2, a3, a4);
          CPlayer::Send(Src);
        }
        else
        {
          Src = WritePacket_((a5 != 0) + 34, "dbbb", v14, a2, a3, a4);
        }
        v67 = *(_DWORD *)(a1 + 512);
        v65 = *(_DWORD *)(a1 + 1112);
        v63 = *(_DWORD *)(a1 + 480);
        v61 = CPlayer::GetGuildName((int *)a1);
        v59 = CPlayer::GetGuildClassTitle((int *)a1);
        v58 = *(_DWORD *)(a1 + 292);
        v57 = *(_DWORD *)(a1 + 288);
        v56 = *(_DWORD *)(a1 + 560);
        v55 = *(_DWORD *)(a1 + 556);
        v54 = *(_DWORD *)(a1 + 280);
        v53 = *(_DWORD *)(a1 + 348);
        v52 = *(_DWORD *)(a1 + 340);
        v51 = *(_DWORD *)(a1 + 336);
        v50 = *(_DWORD *)(a1 + 332);
        v49 = *(_DWORD *)(a1 + 460);
        v15 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
        v110 = (CIOBuffer *)WritePacket_(
                              0x32u,
                              "dsbdddwdmbbIssdbd",
                              v15,
                              a1 + 32,
                              v49,
                              v50,
                              v51,
                              v52,
                              v53,
                              v54,
                              a1 + 1052,
                              14,
                              v55,
                              v56,
                              v57,
                              v58,
                              v59,
                              v61,
                              v63,
                              v65,
                              v67);
        Number = v127 - v115;
        a3a = v128 - v116;
        if ( v127 == v115 )
        {
          if ( a3a )
          {
            if ( a3a <= 0 )
            {
              for ( i = v105; i < v123; ++i )
              {
                for ( a6a = v102; a6a < v104; ++a6a )
                {
                  v72 = v110;
                  v20 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CSellMap::SendCreate(v20, a1, &a6a, (int)v72);
                }
              }
              while ( i < v103 )
              {
                for ( a6a = v102; a6a < v104; ++a6a )
                {
                  v73 = Src;
                  v21 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CCellMap::GetRWLockRect(v21, a1, &a6a, (int)v73);
                }
                ++i;
              }
              while ( i < v121 )
              {
                for ( a6a = v102; a6a < v104; ++a6a )
                {
                  v74 = v126;
                  v22 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CSellMap::SendDelete(v22, a1, &a6a, (int)v74);
                }
                ++i;
              }
            }
            else
            {
              for ( i = v123; i < v105; ++i )
              {
                for ( a6a = v120; a6a < v122; ++a6a )
                {
                  v69 = v126;
                  v17 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CSellMap::SendDelete(v17, a1, &a6a, (int)v69);
                }
              }
              while ( i < v121 )
              {
                for ( a6a = v120; a6a < v122; ++a6a )
                {
                  v70 = Src;
                  v18 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CCellMap::GetRWLockRect(v18, a1, &a6a, (int)v70);
                }
                ++i;
              }
              while ( i < v103 )
              {
                for ( a6a = v120; a6a < v122; ++a6a )
                {
                  v71 = v110;
                  v19 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CSellMap::SendCreate(v19, a1, &a6a, (int)v71);
                }
                ++i;
              }
            }
          }
          else
          {
            for ( i = v123; i < v121; ++i )
            {
              for ( a6a = v120; a6a < v122; ++a6a )
              {
                v68 = Src;
                v16 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CCellMap::GetRWLockRect(v16, a1, &a6a, (int)v68);
              }
            }
          }
        }
        else if ( Number <= 0 )
        {
          if ( Number < 0 )
          {
            if ( a3a )
            {
              if ( a3a <= 0 )
              {
                for ( i = v105; i < v123; ++i )
                {
                  for ( a6a = v102; a6a < v104; ++a6a )
                  {
                    v96 = v110;
                    v44 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CSellMap::SendCreate(v44, a1, &a6a, (int)v96);
                  }
                }
                while ( i < v103 )
                {
                  for ( a6a = v102; a6a < v120; ++a6a )
                  {
                    v97 = v110;
                    v45 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CSellMap::SendCreate(v45, a1, &a6a, (int)v97);
                  }
                  while ( a6a < v104 )
                  {
                    v98 = Src;
                    v46 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CCellMap::GetRWLockRect(v46, a1, &a6a, (int)v98);
                    ++a6a;
                  }
                  while ( a6a < v122 )
                  {
                    v99 = v126;
                    v47 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CSellMap::SendDelete(v47, a1, &a6a, (int)v99);
                    ++a6a;
                  }
                  ++i;
                }
                while ( i < v121 )
                {
                  for ( a6a = v120; a6a < v122; ++a6a )
                  {
                    v100 = v126;
                    v48 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CSellMap::SendDelete(v48, a1, &a6a, (int)v100);
                  }
                  ++i;
                }
              }
              else
              {
                for ( i = v123; i < v105; ++i )
                {
                  for ( a6a = v120; a6a < v122; ++a6a )
                  {
                    v91 = v126;
                    v39 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CSellMap::SendDelete(v39, a1, &a6a, (int)v91);
                  }
                }
                while ( i < v121 )
                {
                  for ( a6a = v102; a6a < v120; ++a6a )
                  {
                    v92 = v110;
                    v40 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CSellMap::SendCreate(v40, a1, &a6a, (int)v92);
                  }
                  while ( a6a < v104 )
                  {
                    v93 = Src;
                    v41 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CCellMap::GetRWLockRect(v41, a1, &a6a, (int)v93);
                    ++a6a;
                  }
                  while ( a6a < v122 )
                  {
                    v94 = v126;
                    v42 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CSellMap::SendDelete(v42, a1, &a6a, (int)v94);
                    ++a6a;
                  }
                  ++i;
                }
                while ( i < v103 )
                {
                  for ( a6a = v102; a6a < v104; ++a6a )
                  {
                    v95 = v110;
                    v43 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                    CSellMap::SendCreate(v43, a1, &a6a, (int)v95);
                  }
                  ++i;
                }
              }
            }
            else
            {
              for ( i = v105; i < v103; ++i )
              {
                for ( a6a = v102; a6a < v120; ++a6a )
                {
                  v88 = v110;
                  v36 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CSellMap::SendCreate(v36, a1, &a6a, (int)v88);
                }
                while ( a6a < v104 )
                {
                  v89 = Src;
                  v37 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CCellMap::GetRWLockRect(v37, a1, &a6a, (int)v89);
                  ++a6a;
                }
                while ( a6a < v122 )
                {
                  v90 = v126;
                  v38 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                  CSellMap::SendDelete(v38, a1, &a6a, (int)v90);
                  ++a6a;
                }
              }
            }
          }
        }
        else if ( a3a )
        {
          if ( a3a <= 0 )
          {
            for ( i = v105; i < v123; ++i )
            {
              for ( a6a = v102; a6a < v104; ++a6a )
              {
                v83 = v110;
                v31 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CSellMap::SendCreate(v31, a1, &a6a, (int)v83);
              }
            }
            while ( i < v103 )
            {
              for ( a6a = v120; a6a < v102; ++a6a )
              {
                v84 = v126;
                v32 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CSellMap::SendDelete(v32, a1, &a6a, (int)v84);
              }
              while ( a6a < v122 )
              {
                v85 = Src;
                v33 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CCellMap::GetRWLockRect(v33, a1, &a6a, (int)v85);
                ++a6a;
              }
              while ( a6a < v104 )
              {
                v86 = v110;
                v34 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CSellMap::SendCreate(v34, a1, &a6a, (int)v86);
                ++a6a;
              }
              ++i;
            }
            while ( i < v121 )
            {
              for ( a6a = v120; a6a < v122; ++a6a )
              {
                v87 = v126;
                v35 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CSellMap::SendDelete(v35, a1, &a6a, (int)v87);
              }
              ++i;
            }
          }
          else
          {
            for ( i = v123; i < v105; ++i )
            {
              for ( a6a = v120; a6a < v122; ++a6a )
              {
                v78 = v126;
                v26 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CSellMap::SendDelete(v26, a1, &a6a, (int)v78);
              }
            }
            while ( i < v121 )
            {
              for ( a6a = v120; a6a < v102; ++a6a )
              {
                v79 = v126;
                v27 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CSellMap::SendDelete(v27, a1, &a6a, (int)v79);
              }
              while ( a6a < v122 )
              {
                v80 = Src;
                v28 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CCellMap::GetRWLockRect(v28, a1, &a6a, (int)v80);
                ++a6a;
              }
              while ( a6a < v104 )
              {
                v81 = v110;
                v29 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CSellMap::SendCreate(v29, a1, &a6a, (int)v81);
                ++a6a;
              }
              ++i;
            }
            while ( i < v103 )
            {
              for ( a6a = v102; a6a < v104; ++a6a )
              {
                v82 = v110;
                v30 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
                CSellMap::SendCreate(v30, a1, &a6a, (int)v82);
              }
              ++i;
            }
          }
        }
        else
        {
          for ( i = v123; i < v121; ++i )
          {
            for ( a6a = v120; a6a < v102; ++a6a )
            {
              v75 = v126;
              v23 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
              CSellMap::SendDelete(v23, a1, &a6a, (int)v75);
            }
            while ( a6a < v122 )
            {
              v76 = Src;
              v24 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
              CCellMap::GetRWLockRect(v24, a1, &a6a, (int)v76);
              ++a6a;
            }
            while ( a6a < v104 )
            {
              v77 = v110;
              v25 = (CCellMap *)CSMap::_GetCellMap(v101, &a6a);
              CSellMap::SendCreate(v25, a1, &a6a, (int)v77);
              ++a6a;
            }
          }
        }
        if ( (v106[1] & 0x10000) != 0 )
          CPortal::OpenPortal(a1);
        sub_4912B0((int)v101, &v111, &v129, v124);
        CIOBuffer::Release(v126);
        CIOBuffer::Release(v110);
        CIOBuffer::Release((CIOBuffer *)Src);
        result = 1;
      }
      else
      {
        sub_4912B0((int)v101, &v111, &v129, v124);
        result = 0;
      }
    }
    else
    {
      ELOG("CSMap::MovePlayer rtMap.left(%d) rtMap.bottom(%d) nIndex(%d) PID(%d) Name(%s)", v124[0]);
      if ( dword_4E2754 < GetTickCount() && ++dword_4E2740 < 5 )
        EBREAK();
      result = 0;
    }
  }
  else
  {
    LOG_NORMAL("move hack PID(%d) Delta(%d,%d)", *(_DWORD *)(a1 + 452), a2, a3);
    v66 = *(_DWORD *)(a1 + 348);
    v64 = *(_DWORD *)(a1 + 340);
    v62 = *(_DWORD *)(a1 + 336);
    v60 = *(_DWORD *)(a1 + 332);
    v11 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1);
    CPlayer::Write(a1, 33, "ddddw", v11, v60, v62, v64, v66);
    result = 0;
  }
  return result;
}
// 491A8A: conditional instruction was optimized away because of '%a3.4<0'
// 491E2B: conditional instruction was optimized away because of '%a3.4<0'
// 492241: conditional instruction was optimized away because of '%a3.4<0'
// 491469: variable 'v6' is possibly undefined
// 4E2740: using guessed type int dword_4E2740;
// 4E2754: using guessed type int dword_4E2754;

//----- (00492440) --------------------------------------------------------
_DWORD *__stdcall sub_492440(_DWORD *a1, _DWORD *a2, int a3)
{
  _DWORD *result; // eax
  int v4; // [esp+0h] [ebp-14h]
  int v5; // [esp+4h] [ebp-10h]
  int v6; // [esp+8h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-8h]

  if ( *a1 - a3 >= 0 )
    v7 = *a1 - a3;
  else
    v7 = 0;
  *a2 = v7;
  if ( a1[1] - a3 >= 0 )
    v6 = a1[1] - a3;
  else
    v6 = 0;
  a2[3] = v6;
  if ( *a1 + a3 + 1 <= 0x4000 )
    v5 = *a1 + a3 + 1;
  else
    v5 = 0x4000;
  a2[2] = v5;
  if ( a1[1] + a3 + 1 <= 0x4000 )
    v4 = a1[1] + a3 + 1;
  else
    v4 = 0x4000;
  result = a2;
  a2[1] = v4;
  return result;
}

//----- (00492510) --------------------------------------------------------
int *__stdcall CSMap::GetCellMapRect(int *a1, int *a2)
{
  int *result; // eax

  *a2 = *a1 >> 8;
  a2[3] = a1[3] >> 8;
  a2[2] = ((a1[2] - 1) >> 8) + 1;
  result = a1;
  a2[1] = ((a1[1] - 1) >> 8) + 1;
  return result;
}

//----- (00492570) --------------------------------------------------------
int __thiscall sub_492570(_DWORD *this, int *a2)
{
  int result; // eax

  if ( *a2 >= 0 && *a2 >> 8 < 64 && a2[1] >= 0 && a2[1] >> 8 < 64 )
    result = CSMap::_GetCellMap(this, a2);
  else
    result = 0;
  return result;
}

//----- (004925C0) --------------------------------------------------------
int __thiscall sub_4925C0(char *a1, CPlayer *a5, int a6, int a7, int a8, int a9)
{
  int v6; // edx
  int result; // eax
  int v8; // eax
  Concurrency::details::_CancellationTokenRegistration **v9; // eax
  int *v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  CCellMap *v14; // eax
  CCellMap *v15; // eax
  CCellMap *v16; // eax
  CCellMap *v17; // eax
  CCellMap *v18; // eax
  CCellMap *v19; // eax
  CCellMap *v20; // eax
  CCellMap *v21; // eax
  CCellMap *v22; // eax
  CCellMap *v23; // eax
  CCellMap *v24; // eax
  CCellMap *v25; // eax
  CCellMap *v26; // eax
  CCellMap *v27; // eax
  CCellMap *v28; // eax
  CCellMap *v29; // eax
  CCellMap *v30; // eax
  CCellMap *v31; // eax
  CCellMap *v32; // eax
  CCellMap *v33; // eax
  CCellMap *v34; // eax
  CCellMap *v35; // eax
  CCellMap *v36; // eax
  CCellMap *v37; // eax
  CCellMap *v38; // eax
  CCellMap *v39; // eax
  CCellMap *v40; // eax
  CCellMap *v41; // eax
  CCellMap *v42; // eax
  CCellMap *v43; // eax
  CCellMap *v44; // eax
  CCellMap *v45; // eax
  CCellMap *v46; // eax
  tagPOINT v47; // [esp-30h] [ebp-C8h]
  int v48; // [esp-28h] [ebp-C0h]
  int v49; // [esp-24h] [ebp-BCh]
  int v50; // [esp-20h] [ebp-B8h]
  int v51; // [esp-1Ch] [ebp-B4h]
  __int64 v52; // [esp-18h] [ebp-B0h]
  int v53; // [esp-10h] [ebp-A8h]
  int v54; // [esp-4h] [ebp-9Ch]
  int v55; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v56; // [esp-4h] [ebp-9Ch]
  int v57; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v58; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v59; // [esp-4h] [ebp-9Ch]
  int v60; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v61; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v62; // [esp-4h] [ebp-9Ch]
  int v63; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v64; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v65; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v66; // [esp-4h] [ebp-9Ch]
  int v67; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v68; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v69; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v70; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v71; // [esp-4h] [ebp-9Ch]
  int v72; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v73; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v74; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v75; // [esp-4h] [ebp-9Ch]
  int v76; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v77; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v78; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v79; // [esp-4h] [ebp-9Ch]
  int v80; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v81; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v82; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v83; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v84; // [esp-4h] [ebp-9Ch]
  int v85; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v86; // [esp-4h] [ebp-9Ch]
  CIOBuffer *v87; // [esp-4h] [ebp-9Ch]
  int v89; // [esp+4h] [ebp-94h] BYREF
  int v90; // [esp+8h] [ebp-90h]
  int v91; // [esp+Ch] [ebp-8Ch]
  int v92; // [esp+10h] [ebp-88h]
  _DWORD a2[2]; // [esp+14h] [ebp-84h] BYREF
  _DWORD v94[2]; // [esp+1Ch] [ebp-7Ch] BYREF
  CIOBuffer *v95; // [esp+24h] [ebp-74h]
  int v96; // [esp+28h] [ebp-70h] BYREF
  int v97; // [esp+2Ch] [ebp-6Ch]
  int v98; // [esp+30h] [ebp-68h]
  int v99; // [esp+34h] [ebp-64h]
  int v100; // [esp+38h] [ebp-60h] BYREF
  int v101; // [esp+3Ch] [ebp-5Ch]
  int v102; // [esp+40h] [ebp-58h] BYREF
  int v103; // [esp+44h] [ebp-54h]
  int v104; // [esp+48h] [ebp-50h] BYREF
  int v105; // [esp+4Ch] [ebp-4Ch]
  int v106; // [esp+50h] [ebp-48h]
  int v107; // [esp+54h] [ebp-44h]
  int v108[4]; // [esp+58h] [ebp-40h] BYREF
  CIOBuffer *v109; // [esp+68h] [ebp-30h]
  int v110; // [esp+6Ch] [ebp-2Ch] BYREF
  int v111; // [esp+70h] [ebp-28h]
  int v112; // [esp+74h] [ebp-24h] BYREF
  int v113; // [esp+78h] [ebp-20h]
  int v114; // [esp+7Ch] [ebp-1Ch]
  int v115; // [esp+80h] [ebp-18h]
  int a3; // [esp+84h] [ebp-14h]
  CCellMap *v117; // [esp+88h] [ebp-10h]
  int src; // [esp+8Ch] [ebp-Ch] BYREF
  int i; // [esp+90h] [ebp-8h]
  CCellMap *v120; // [esp+94h] [ebp-4h]
  int Number; // [esp+A4h] [ebp+Ch]
  int a7a; // [esp+A8h] [ebp+10h]

  v6 = a5->m_ptTile.y;
  v100 = a5->m_ptTile.x;
  v101 = v6;
  v102 = a6 + a5->m_ptPixel.x;
  v103 = a7 + a5->m_ptPixel.y;
  v110 = v102 >> 5;
  v111 = v103 >> 5;
  v117 = (CCellMap *)sub_492570(a1, &v100);
  if ( !v117 )
    return 0;
  v120 = (CCellMap *)sub_492570(a1, &v110);
  if ( !v120 )
    return 0;
  if ( a6 <= 127 && a6 >= -128 && a7 <= 127 && a7 >= -128 )
  {
    sub_492440(&v100, &v104, 25);
    sub_492440(&v110, &v89, 25);
    if ( a6 <= 0 )
    {
      v112 = v110;
      v114 = v100 + 1;
      v96 = v89;
      v98 = v106;
    }
    else
    {
      v112 = v100;
      v114 = v110 + 1;
      v96 = v104;
      v98 = v91;
    }
    if ( a7 <= 0 )
    {
      v113 = v101 + 1;
      v115 = v111;
      v97 = v105;
      v99 = v92;
    }
    else
    {
      v113 = v111 + 1;
      v115 = v101;
      v97 = v90;
      v99 = v107;
    }
    a2[0] = (unsigned __int8)v100;
    a2[1] = (unsigned __int8)v101;
    CSMap::GetCellMapRect(&v96, v108);
    CSMap::ReadWriteLock(a1, (int)&v96, (int)&v112, v108);
    v9 = (Concurrency::details::_CancellationTokenRegistration **)CCellMap::GetTile(v117, a2);
    if ( CTile::RemoveBase(v9, (Concurrency::details::_CancellationTokenRegistration *)a5) )
    {
      CChar::SetXY(a5, &v102);
      CChar::SetDirection(a5, a6, a7);
      v94[0] = (unsigned __int8)v110;
      v94[1] = (unsigned __int8)v111;
      v10 = (int *)CCellMap::GetTile(v120, v94);
      sub_496520(v10, (int)a5);
      v11 = std::_Mpunct<wchar_t>::do_frac_digits(a5);
      v109 = (CIOBuffer *)WritePacket_(0x38u, "d", v11);
      v12 = std::_Mpunct<wchar_t>::do_frac_digits(a5);
      a3 = (int)WritePacket_((a8 != 0) + 36, "dbbb", v12, a6, a7, a9);
      v54 = ((int (__thiscall *)(CPlayer *))a5->__vftable[1].SendMove)(a5);
      v53 = ((int (__thiscall *)(CPlayer *, _DWORD, _DWORD, int))a5->__vftable[1].OnLoad)(
              a5,
              *(_DWORD *)(a5->m_nSocketRef + 64),
              *(_DWORD *)&a5->m_szGuildClassTitle[4],
              v54);
      v52 = a5->m_nMState;
      v51 = a5->m_nGState;
      v50 = CChar::GetMaxHP(a5);
      v49 = a5->m_nCurHP;
      v48 = a5->m_nDir;
      v47 = a5->m_ptPixel;
      v13 = std::_Mpunct<wchar_t>::do_frac_digits(a5);
      v95 = (CIOBuffer *)WritePacket_(
                           0x33u,
                           "wdddwdddIsbds",
                           *(_DWORD *)(a5->m_nSocketRef + 60),
                           v13,
                           v47.x,
                           v47.y,
                           v48,
                           v49,
                           v50,
                           v51,
                           v52,
                           v53);
      Number = v110 - v100;
      a7a = v111 - v101;
      if ( v110 == v100 )
      {
        if ( a7a )
        {
          if ( a7a <= 0 )
          {
            for ( i = v92; i < v107; ++i )
            {
              for ( src = v89; src < v91; ++src )
              {
                v59 = v95;
                v18 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v18, &src, (int)v59);
              }
            }
            while ( i < v90 )
            {
              for ( src = v89; src < v91; ++src )
              {
                v60 = a3;
                v19 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v19, &src, v60);
              }
              ++i;
            }
            while ( i < v105 )
            {
              for ( src = v89; src < v91; ++src )
              {
                v61 = v109;
                v20 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v20, &src, (int)v61);
              }
              ++i;
            }
          }
          else
          {
            for ( i = v107; i < v92; ++i )
            {
              for ( src = v104; src < v106; ++src )
              {
                v56 = v109;
                v15 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v15, &src, (int)v56);
              }
            }
            while ( i < v105 )
            {
              for ( src = v104; src < v106; ++src )
              {
                v57 = a3;
                v16 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v16, &src, v57);
              }
              ++i;
            }
            while ( i < v90 )
            {
              for ( src = v104; src < v106; ++src )
              {
                v58 = v95;
                v17 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v17, &src, (int)v58);
              }
              ++i;
            }
          }
        }
        else
        {
          for ( i = v107; i < v105; ++i )
          {
            for ( src = v104; src < v106; ++src )
            {
              v55 = a3;
              v14 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v14, &src, v55);
            }
          }
        }
      }
      else if ( Number <= 0 )
      {
        if ( Number < 0 )
        {
          if ( a7a )
          {
            if ( a7a <= 0 )
            {
              for ( i = v92; i < v107; ++i )
              {
                for ( src = v89; src < v91; ++src )
                {
                  v83 = v95;
                  v42 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v42, &src, (int)v83);
                }
              }
              while ( i < v90 )
              {
                for ( src = v89; src < v104; ++src )
                {
                  v84 = v95;
                  v43 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v43, &src, (int)v84);
                }
                while ( src < v91 )
                {
                  v85 = a3;
                  v44 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v44, &src, v85);
                  ++src;
                }
                while ( src < v106 )
                {
                  v86 = v109;
                  v45 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v45, &src, (int)v86);
                  ++src;
                }
                ++i;
              }
              while ( i < v105 )
              {
                for ( src = v104; src < v106; ++src )
                {
                  v87 = v109;
                  v46 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v46, &src, (int)v87);
                }
                ++i;
              }
            }
            else
            {
              for ( i = v107; i < v92; ++i )
              {
                for ( src = v104; src < v106; ++src )
                {
                  v78 = v109;
                  v37 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v37, &src, (int)v78);
                }
              }
              while ( i < v105 )
              {
                for ( src = v89; src < v104; ++src )
                {
                  v79 = v95;
                  v38 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v38, &src, (int)v79);
                }
                while ( src < v91 )
                {
                  v80 = a3;
                  v39 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v39, &src, v80);
                  ++src;
                }
                while ( src < v106 )
                {
                  v81 = v109;
                  v40 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v40, &src, (int)v81);
                  ++src;
                }
                ++i;
              }
              while ( i < v90 )
              {
                for ( src = v89; src < v91; ++src )
                {
                  v82 = v95;
                  v41 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                  CSellMap::SendPacket(v41, &src, (int)v82);
                }
                ++i;
              }
            }
          }
          else
          {
            for ( i = v92; i < v90; ++i )
            {
              for ( src = v89; src < v104; ++src )
              {
                v75 = v95;
                v34 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v34, &src, (int)v75);
              }
              while ( src < v91 )
              {
                v76 = a3;
                v35 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v35, &src, v76);
                ++src;
              }
              while ( src < v106 )
              {
                v77 = v109;
                v36 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
                CSellMap::SendPacket(v36, &src, (int)v77);
                ++src;
              }
            }
          }
        }
      }
      else if ( a7a )
      {
        if ( a7a <= 0 )
        {
          for ( i = v92; i < v107; ++i )
          {
            for ( src = v89; src < v91; ++src )
            {
              v70 = v95;
              v29 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v29, &src, (int)v70);
            }
          }
          while ( i < v90 )
          {
            for ( src = v104; src < v89; ++src )
            {
              v71 = v109;
              v30 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v30, &src, (int)v71);
            }
            while ( src < v106 )
            {
              v72 = a3;
              v31 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v31, &src, v72);
              ++src;
            }
            while ( src < v91 )
            {
              v73 = v95;
              v32 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v32, &src, (int)v73);
              ++src;
            }
            ++i;
          }
          while ( i < v105 )
          {
            for ( src = v104; src < v106; ++src )
            {
              v74 = v109;
              v33 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v33, &src, (int)v74);
            }
            ++i;
          }
        }
        else
        {
          for ( i = v107; i < v92; ++i )
          {
            for ( src = v104; src < v106; ++src )
            {
              v65 = v109;
              v24 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v24, &src, (int)v65);
            }
          }
          while ( i < v105 )
          {
            for ( src = v104; src < v89; ++src )
            {
              v66 = v109;
              v25 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v25, &src, (int)v66);
            }
            while ( src < v106 )
            {
              v67 = a3;
              v26 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v26, &src, v67);
              ++src;
            }
            while ( src < v91 )
            {
              v68 = v95;
              v27 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v27, &src, (int)v68);
              ++src;
            }
            ++i;
          }
          while ( i < v90 )
          {
            for ( src = v89; src < v91; ++src )
            {
              v69 = v95;
              v28 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
              CSellMap::SendPacket(v28, &src, (int)v69);
            }
            ++i;
          }
        }
      }
      else
      {
        for ( i = v107; i < v105; ++i )
        {
          for ( src = v104; src < v89; ++src )
          {
            v62 = v109;
            v21 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
            CSellMap::SendPacket(v21, &src, (int)v62);
          }
          while ( src < v106 )
          {
            v63 = a3;
            v22 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
            CSellMap::SendPacket(v22, &src, v63);
            ++src;
          }
          while ( src < v91 )
          {
            v64 = v95;
            v23 = (CCellMap *)CSMap::_GetCellMap(a1, &src);
            CSellMap::SendPacket(v23, &src, (int)v64);
            ++src;
          }
        }
      }
      sub_4912B0((int)a1, &v96, &v112, v108);
      CIOBuffer::Release(v109);
      CIOBuffer::Release(v95);
      CIOBuffer::Release((CIOBuffer *)a3);
      result = 1;
    }
    else
    {
      sub_4912B0((int)a1, &v96, &v112, v108);
      result = 0;
    }
  }
  else
  {
    v8 = std::_Mpunct<wchar_t>::do_frac_digits(a5);
    LOG_NORMAL("invalid monster move(%d : %d, %d)", v8, a6, a7);
    result = 0;
  }
  return result;
}
// 492A81: conditional instruction was optimized away because of '%a7.4<0'
// 492DF6: conditional instruction was optimized away because of '%a7.4<0'
// 4931D8: conditional instruction was optimized away because of '%a7.4<0'

//----- (00493390) --------------------------------------------------------
int __thiscall sub_493390(void *this, int a2, int a3, int a4)
{
  CCellMap *v4; // eax
  int v7[4]; // [esp+4h] [ebp-28h] BYREF
  int v8[4]; // [esp+14h] [ebp-18h] BYREF
  int a6; // [esp+24h] [ebp-8h] BYREF
  int i; // [esp+28h] [ebp-4h]

  sub_492440((_DWORD *)a3, v7, 25);
  CSMap::GetCellMapRect(v7, v8);
  CSMap::ReadLock_0((char *)this, (int)v7, v8);
  for ( i = v7[3]; i < v7[1]; ++i )
  {
    for ( a6 = v7[0]; a6 < v7[2]; ++a6 )
    {
      v4 = (CCellMap *)CSMap::_GetCellMap(this, &a6);
      CSellMap::SendCreate(v4, a2, &a6, a4);
    }
  }
  return sub_491150((int)this, v7, v8);
}

//----- (00493440) --------------------------------------------------------
int __thiscall CSMap::SendPacketInRect(void *this, int a2, int a3, int a4)
{
  CCellMap *v4; // eax
  int v7[4]; // [esp+4h] [ebp-28h] BYREF
  int v8[4]; // [esp+14h] [ebp-18h] BYREF
  int src; // [esp+24h] [ebp-8h] BYREF
  int i; // [esp+28h] [ebp-4h]

  sub_492440((_DWORD *)a2, v7, a4);
  CSMap::GetCellMapRect(v7, v8);
  CSMap::ReadLock_0((char *)this, (int)v7, v8);
  for ( i = v7[3]; i < v7[1]; ++i )
  {
    for ( src = v7[0]; src < v7[2]; ++src )
    {
      v4 = (CCellMap *)CSMap::_GetCellMap(this, &src);
      CSellMap::SendPacket(v4, &src, a3);
    }
  }
  return sub_491150((int)this, v7, v8);
}

//----- (004934F0) --------------------------------------------------------
CMemory *__stdcall CSMap::GetPlayerListInRect(_DWORD *a1, int a2)
{
  char *v2; // ecx
  CCellMap *v3; // eax
  char *v5; // [esp+0h] [ebp-30h]
  int v6[4]; // [esp+4h] [ebp-2Ch] BYREF
  CMemory *a6; // [esp+14h] [ebp-1Ch] BYREF
  int v8[4]; // [esp+18h] [ebp-18h] BYREF
  int a5; // [esp+28h] [ebp-8h] BYREF
  int i; // [esp+2Ch] [ebp-4h]

  v5 = v2;
  a6 = 0;
  sub_492440(a1, v6, a2);
  CSMap::GetCellMapRect(v6, v8);
  CSMap::ReadLock_0(v5, (int)v6, v8);
  for ( i = v6[3]; i < v6[1]; ++i )
  {
    for ( a5 = v6[0]; a5 < v6[2]; ++a5 )
    {
      v3 = (CCellMap *)CSMap::_GetCellMap(v5, &a5);
      CSellMap::GetPlayerList(v3, &a5, &a6);
    }
  }
  sub_491150((int)v5, v6, v8);
  return a6;
}
// 4934F6: variable 'v2' is possibly undefined

//----- (004935A0) --------------------------------------------------------
CMemory *__thiscall sub_4935A0(void *this, int a2, int a3)
{
  CCellMap *v3; // eax
  int v6[4]; // [esp+4h] [ebp-2Ch] BYREF
  CMemory *a6; // [esp+14h] [ebp-1Ch] BYREF
  int v8[4]; // [esp+18h] [ebp-18h] BYREF
  int a5; // [esp+28h] [ebp-8h] BYREF
  int i; // [esp+2Ch] [ebp-4h]

  a6 = 0;
  sub_492440((_DWORD *)a2, v6, a3);
  CSMap::GetCellMapRect(v6, v8);
  CSMap::ReadLock_0((char *)this, (int)v6, v8);
  for ( i = v6[3]; i < v6[1]; ++i )
  {
    for ( a5 = v6[0]; a5 < v6[2]; ++a5 )
    {
      v3 = (CCellMap *)CSMap::_GetCellMap(this, &a5);
      CSellMap::GetPlayerMonsterList(v3, &a5, &a6);
    }
  }
  sub_491150((int)this, v6, v8);
  return a6;
}

//----- (00493650) --------------------------------------------------------
int __thiscall sub_493650(void *this, int a2, signed int a3)
{
  CCellMap *v3; // eax
  signed int i; // [esp+8h] [ebp-30h]
  int v7[4]; // [esp+Ch] [ebp-2Ch] BYREF
  int a6; // [esp+1Ch] [ebp-1Ch] BYREF
  int v9[4]; // [esp+20h] [ebp-18h] BYREF
  int a5; // [esp+30h] [ebp-8h] BYREF
  int j; // [esp+34h] [ebp-4h]

  a6 = 0;
  sub_492440((_DWORD *)a2, v7, a3);
  CSMap::GetCellMapRect(v7, v9);
  CSMap::ReadLock_0((char *)this, (int)v7, v9);
  for ( i = 1; i <= a3; ++i )
  {
    for ( j = *(_DWORD *)(a2 + 4) - i; j <= i + *(_DWORD *)(a2 + 4); ++j )
    {
      for ( a5 = *(_DWORD *)a2 - i; a5 <= i + *(_DWORD *)a2; ++a5 )
      {
        v3 = (CCellMap *)CSMap::_GetCellMap(this, &a5);
        if ( CSellMap::GetClosestPlayer(v3, &a5, &a6) )
          goto LABEL_14;
        if ( j != *(_DWORD *)(a2 + 4) - i && j != i + *(_DWORD *)(a2 + 4) )
          a5 += 2 * i - 1;
      }
    }
  }
LABEL_14:
  sub_491150((int)this, v7, v9);
  return a6;
}

//----- (00493770) --------------------------------------------------------
int __thiscall sub_493770(char *a1, _DWORD *a5, int a6, int a7)
{
  CCellMap *v4; // eax
  int i; // [esp+8h] [ebp-30h]
  int v8[4]; // [esp+Ch] [ebp-2Ch] BYREF
  int v9[4]; // [esp+1Ch] [ebp-1Ch] BYREF
  int a5a; // [esp+2Ch] [ebp-Ch] BYREF
  int j; // [esp+30h] [ebp-8h]
  int a7a; // [esp+34h] [ebp-4h] BYREF

  a7a = 0;
  sub_492440(a5, v8, a7);
  CSMap::GetCellMapRect(v8, v9);
  CSMap::ReadLock_0(a1, (int)v8, v9);
  for ( i = 1; i <= a7; ++i )
  {
    for ( j = a5[1] - i; j <= i + a5[1]; ++j )
    {
      for ( a5a = *a5 - i; a5a <= i + *a5; ++a5a )
      {
        v4 = (CCellMap *)CSMap::_GetCellMap(a1, &a5a);
        if ( CSellMap::GetMonster(v4, &a5a, a6, &a7a) )
          goto LABEL_14;
        if ( j != a5[1] - i && j != i + a5[1] )
          a5a += 2 * i - 1;
      }
    }
  }
LABEL_14:
  sub_491150((int)a1, v8, v9);
  return a7a;
}

//----- (004938A0) --------------------------------------------------------
void __stdcall CPlayerTile::PickUpItem(int a1, int a5, int *a3)
{
  CIOCriticalSection *v3; // ecx
  int v4; // eax
  CIOCriticalSection *v5; // [esp+0h] [ebp-40h]
  CIOCriticalSection *v6; // [esp+0h] [ebp-40h]
  int v7[2]; // [esp+4h] [ebp-3Ch] BYREF
  CIOBuffer *v8; // [esp+Ch] [ebp-34h]
  int v9[2]; // [esp+10h] [ebp-30h] BYREF
  CIOBuffer *v10; // [esp+18h] [ebp-28h]
  CIOBuffer *v11; // [esp+1Ch] [ebp-24h]
  CRWLock *v12; // [esp+20h] [ebp-20h]
  _DWORD a2[2]; // [esp+24h] [ebp-1Ch] BYREF
  volatile int *a6; // [esp+2Ch] [ebp-14h]
  _DWORD **v15; // [esp+30h] [ebp-10h]
  int v16; // [esp+34h] [ebp-Ch]
  CCellMap *v17; // [esp+38h] [ebp-8h]
  CIOCriticalSection *v18; // [esp+3Ch] [ebp-4h]

  v5 = v3;
  v17 = (CCellMap *)sub_492570(v3, a3);
  if ( !v17 )
    return;
  a6 = 0;
  a2[0] = (unsigned __int8)*a3;
  a2[1] = (unsigned __int8)a3[1];
  v12 = (CRWLock *)CCellMap::GetLock(v17, a2);
  CIOCriticalSection::Enter(v5);
  CRWLock::WriteLock(v12);
  v15 = (_DWORD **)CCellMap::GetTile(v17, a2);
  v16 = 0;
  v18 = 0;
  a6 = (volatile int *)CTile::GetItem((void **)v15, a5);
  if ( a6 && !sub_40B2F0(a6) && sub_448870((_DWORD *)(a1 + 332), (_DWORD *)a6 + 15) <= 64 )
  {
    if ( *((_DWORD *)a6 + 19)
      && (*((_DWORD *)a6 + 18) || (v4 = std::_Mpunct<wchar_t>::do_frac_digits((_DWORD *)a1), *((_DWORD *)a6 + 19) != v4)) )
    {
      if ( *((_DWORD *)a6 + 18) && *((_DWORD *)a6 + 19) == *(_DWORD *)(a1 + 1016) )
      {
        v18 = (CIOCriticalSection *)sub_44D4E0(*((_DWORD *)a6 + 19));
        if ( v18 )
        {
          CTile::RemoveBase(
            (Concurrency::details::_CancellationTokenRegistration **)v15,
            (Concurrency::details::_CancellationTokenRegistration *)a6);
          CRWLock::WriteUnlock(v12);
          CIOCriticalSection::Leave(v6);
          CParty::StoreItem(v18, (CMemory *)a6);
          v16 = 1;
          goto LABEL_18;
        }
      }
      else
      {
        CPlayer::Write(a1, 67, "b", 23);
      }
    }
    else
    {
      sub_4010D0((int)a6);
      if ( CPlayer::_InsertItem(a1, 12, a6) == 1 )
      {
        CTile::RemoveBase(
          (Concurrency::details::_CancellationTokenRegistration **)v15,
          (Concurrency::details::_CancellationTokenRegistration *)a6);
        *((_DWORD *)a6 + 18) = 0;
        *((_DWORD *)a6 + 19) = 0;
        *((_DWORD *)a6 + 17) = 0;
        *((_DWORD *)a6 + 14) = 0;
        v16 = 1;
      }
      sub_401DE0((int *)a6);
    }
  }
  CRWLock::WriteUnlock(v12);
  CIOCriticalSection::Leave(v6);
LABEL_18:
  if ( v16 )
  {
    if ( v18 )
    {
      CParty::DistributeItem(v18, (_DWORD *)(a1 + 332));
      sub_401DE0((int *)v18);
    }
    else
    {
      if ( (*(int *)(*((_DWORD *)a6 + 10) + 64) >= 665 && *(int *)(*((_DWORD *)a6 + 10) + 64) <= 668
         || *(int *)(*((_DWORD *)a6 + 10) + 64) >= 802 && *(int *)(*((_DWORD *)a6 + 10) + 64) <= 825
         || *(int *)(*((_DWORD *)a6 + 10) + 64) >= 856 && *(int *)(*((_DWORD *)a6 + 10) + 64) <= 867
         || *(_DWORD *)(*((_DWORD *)a6 + 10) + 64) == 688)
        && abs(*(_DWORD *)(a1 + 332) - 57367) < 1000
        && abs(*(_DWORD *)(a1 + 336) - 9077) < 1001 )
      {
        v9[0] = 1792;
        v9[1] = 284;
        v10 = (CIOBuffer *)WritePacket_(0x44u, "bsw", 42, a1 + 32, *(_DWORD *)(*((_DWORD *)a6 + 10) + 64));
        CSMap::SendPacketInRect(*(void **)(a1 + 320), (int)v9, (int)v10, 32);
        CIOBuffer::Release(v10);
      }
      if ( (*(int *)(*((_DWORD *)a6 + 10) + 64) >= 673 && *(int *)(*((_DWORD *)a6 + 10) + 64) <= 687
         || *(int *)(*((_DWORD *)a6 + 10) + 64) >= 826 && *(int *)(*((_DWORD *)a6 + 10) + 64) <= 855)
        && abs(*(_DWORD *)(a1 + 332) - 20284) < 1160
        && abs(*(_DWORD *)(a1 + 336) - 67480) < 1212 )
      {
        v7[0] = 634;
        v7[1] = 2109;
        v8 = (CIOBuffer *)WritePacket_(0x44u, "bsw", 42, a1 + 32, *(_DWORD *)(*((_DWORD *)a6 + 10) + 64));
        CSMap::SendPacketInRect(*(void **)(a1 + 320), (int)v7, (int)v8, 38);
        CIOBuffer::Release(v8);
      }
    }
    v11 = (CIOBuffer *)WritePacket_(0x3Bu, "d", a5);
    CSMap::SendPacketInRect(*(void **)(a1 + 320), (int)a3, (int)v11, 25);
    CIOBuffer::Release(v11);
  }
}
// 4938A6: variable 'v3' is possibly undefined
// 493A47: variable 'v6' is possibly undefined

//----- (00493CD0) --------------------------------------------------------
void __thiscall CMapObject::OnTimer(int *this, int a2)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-8h]
  CIOCriticalSection *v3; // [esp+0h] [ebp-8h]

  CIOCriticalSection::Enter(v2);
  this[5] = this[6];
  v3 = (CIOCriticalSection *)this[5];
  switch ( (unsigned int)v3 )
  {
    case 0u:
      break;
    case 1u:
      this[6] = 2;
      CPlayer::WriteInMap(this[4], 22, "bb", this[5], 95);
      CIOObject::AddTimer((CIOObject *)this, 0x186A0u, 0);
      break;
    case 2u:
      this[6] = 3;
      CNPCScenario::MirrorGState(1, 2);
      CNPCScenario::ThroneGState(1, 4);
      CPlayer::WriteInMap(this[4], 22, "bb", this[5], 96);
      CIOObject::AddTimer((CIOObject *)this, 0x222E0u, 0);
      break;
    case 3u:
      this[6] = 4;
      CNPCScenario::ThroneGState(1, 8);
      CPlayer::WriteInMap(this[4], 22, "bb", this[5], 97);
      CIOObject::AddTimer((CIOObject *)this, 0x7530u, 0);
      break;
    case 4u:
      this[6] = 5;
      CPlayer::WriteInMap(this[4], 22, "bb", this[5], 98);
      CIOObject::AddTimer((CIOObject *)this, 0x7530u, 0);
      break;
    case 5u:
      this[6] = 0;
      this[5] = 0;
      CMonsterTowerBoss::Create();
      break;
    default:
      this[6] = 0;
      this[5] = 0;
      break;
  }
  CIOCriticalSection::Leave(v3);
}
// 493CDF: variable 'v2' is possibly undefined

//----- (00493E80) --------------------------------------------------------
int __fastcall BitSet(unsigned int *pBit, int nOffset, unsigned int a3, unsigned int a4)
{
  pBit[4] = a3;
  pBit[6] = a4;
  return (*(int (__thiscall **)(unsigned int *, _DWORD))(*pBit + 8))(pBit, 0);
}

//----- (00493EB0) --------------------------------------------------------
unsigned int __thiscall CMapObject::GetState(CIOCriticalSection *this)
{
  CIOCriticalSection *v2; // [esp+0h] [ebp-8h]
  unsigned int v3; // [esp+4h] [ebp-4h]

  CIOCriticalSection::Enter(this);
  v3 = v2->m_critical_section.SpinCount;
  CIOCriticalSection::Leave(v2);
  return v3;
}
// 493EC7: variable 'v2' is possibly undefined

//----- (00493EE0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *__thiscall sub_493EE0(std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *this)
{
  struct localeinfo_struct *v1; // eax
  char v4; // [esp+6h] [ebp-2h] BYREF
  char v5; // [esp+7h] [ebp-1h] BYREF

  v1 = _LocaleUpdate::GetLocaleT((_LocaleUpdate *)&v5);
  sub_47A720(this, (int)&v4, (int)v1);
  return this;
}
// 44B910: using guessed type struct localeinfo_struct *__thiscall _LocaleUpdate::GetLocaleT(_LocaleUpdate *__hidden this);

//----- (00493F10) --------------------------------------------------------
void *__thiscall _f(void *this)
{
  CIOObject::CIOObject((CIOObject *)this);
  *(_DWORD *)this = &off_4C0934;
  CIOCriticalSection::CIOCriticalSection((CIOCriticalSection *)((char *)this + 28));
  *((_DWORD *)this + 6) = 0;
  *((_DWORD *)this + 5) = 0;
  *((_DWORD *)this + 4) = 0;
  return this;
}
// 4C0934: using guessed type int (__stdcall *off_4C0934)(int);

//----- (00493F60) --------------------------------------------------------
void *__thiscall sub_493F60(void *this, char a2)
{
  sub_493F90(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00493F90) --------------------------------------------------------
int __thiscall sub_493F90(void *this)
{
  int result; // eax

  *(_DWORD *)this = &off_4C0934;
  CIOCriticalSection::~CIOCriticalSection((CIOCriticalSection *)((char *)this + 28));
  std::locale::facet::~facet((std::locale::facet *)this);
  return result;
}
// 423960: using guessed type void __thiscall std::locale::facet::~facet(std::locale::facet *__hidden this);
// 4C0934: using guessed type int (__stdcall *off_4C0934)(int);

//----- (00493FC0) --------------------------------------------------------
int __thiscall sub_493FC0(void *this)
{
  return sub_493FE0(this);
}

//----- (00493FE0) --------------------------------------------------------
int __thiscall sub_493FE0(void *this)
{
  return sub_494000((std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *)this);
}

//----- (00494000) --------------------------------------------------------
int __thiscall sub_494000(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this)
{
  int *v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-14h]
  char v8[4]; // [esp+4h] [ebp-Ch] BYREF
  char v9[4]; // [esp+8h] [ebp-8h] BYREF
  char v10[4]; // [esp+Ch] [ebp-4h] BYREF

  v6 = *(_DWORD *)sub_430C20(this, (int)v10);
  v1 = (int *)std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
                this,
                (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v9);
  sub_4940B0(
    this,
    (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v8,
    *v1,
    v6);
  v2 = sub_474590(*((_DWORD *)this + 1));
  sub_44CD70(v2);
  v3 = sub_446FF0(*((_DWORD *)this + 1));
  sub_44CD70(v3);
  v4 = sub_430F90(*((_DWORD *)this + 1));
  sub_44CD70(v4);
  sub_4338F0(*((void **)this + 1), 1);
  *((_DWORD *)this + 1) = 0;
  *((_DWORD *)this + 2) = 0;
  return result;
}

//----- (004940B0) --------------------------------------------------------
std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *__thiscall sub_4940B0(std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> > *this, std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *a2, int a3, int a4)
{
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *v4; // eax
  int v5; // eax
  std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *result; // eax
  int *v7; // eax
  int v9; // [esp+4h] [ebp-10h] BYREF
  int v10; // [esp+8h] [ebp-Ch] BYREF
  char v11[4]; // [esp+Ch] [ebp-8h] BYREF
  char v12[4]; // [esp+10h] [ebp-4h] BYREF

  v4 = std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
         this,
         (std::_Tree<std::_Tmap_traits<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> >,0> >::iterator *)v12);
  if ( (unsigned __int8)unknown_libname_8(v4)
    && (v5 = sub_430C20(this, (int)v11), (unsigned __int8)unknown_libname_8(v5)) )
  {
    sub_494150((int *)this);
    std::_Tree<std::_Tmap_traits<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>,0>>::begin(
      this,
      a2);
    result = a2;
  }
  else
  {
    while ( std::_Tree<std::_Tmap_traits<int,CUser *,std::less<int>,std::allocator<std::pair<int const,CUser *>>,0>>::const_iterator::operator!=(
              (std::vector<CIOSocket::CIOTimer>::const_iterator *)&a3,
              (const std::vector<CIOSocket::CIOTimer>::const_iterator *)&a4) )
    {
      v7 = sub_446090(&a3, &v10, 0);
      sub_44AF50(this, &v9, *v7);
    }
    *(_DWORD *)a2 = a3;
    result = a2;
  }
  return result;
}
// 431370: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);

//----- (00494150) --------------------------------------------------------
_DWORD *__thiscall sub_494150(int *this)
{
  void **v1; // eax
  _DWORD *result; // eax

  v1 = (void **)sub_478AB0(this);
  sub_4941B0(*v1);
  *(_DWORD *)sub_478AB0(this) = this[1];
  this[2] = 0;
  *(_DWORD *)sub_418790(this) = this[1];
  result = (_DWORD *)sub_47EB40(this);
  *result = this[1];
  return result;
}

//----- (004941B0) --------------------------------------------------------
int __stdcall sub_4941B0(void *a1)
{
  int result; // eax
  void **v2; // eax
  void *i; // [esp+4h] [ebp-4h]

  for ( i = a1; ; a1 = i )
  {
    result = *(char *)sub_431110((int)i);
    if ( result )
      break;
    v2 = (void **)sub_430F90((int)i);
    sub_4941B0(*v2);
    i = *(void **)sub_474590((int)i);
    sub_44CD70((int)a1);
    sub_4338F0(a1, 1);
  }
  return result;
}

//----- (00494230) --------------------------------------------------------
int __stdcall sub_494230(_BYTE *a1)
{
  unsigned __int8 *v2; // [esp+8h] [ebp+8h]

  if ( !*a1 )
    return 0;
  do
  {
    if ( (unsigned __int8)*a1 >= 0x80u )
    {
      v2 = a1 + 1;
      if ( *v2 < 0x80u )
        return 0;
      a1 = v2 + 1;
    }
    else
    {
      if ( (unsigned __int8)*a1 <= 0x20u || strchr("',\"", (char)*a1) )
        return 0;
      ++a1;
    }
  }
  while ( *a1 );
  return 1;
}

//----- (004942C0) --------------------------------------------------------
_DWORD *__thiscall sub_4942C0(_DWORD *this, int a2, int a3)
{
  CIOSocket::CIOSocket(this, a2);
  *this = &off_4C0950;
  this[27] = 0;
  this[70] = InterlockedIncrement(&dword_4E2ED8);
  this[31] = 0;
  this[32] = 0;
  this[33] = 0;
  this[35] = *(_DWORD *)(a3 + 4);
  this[34] = *(unsigned __int16 *)(a3 + 2);
  this[30] = 0;
  this[36] = 0;
  this[38] = 0;
  this[43] = 0;
  this[40] = 0;
  this[41] = 0;
  this[42] = 0;
  memset(this + 44, 0, 0xBu);
  memset((char *)this + 187, 0, 0x48u);
  this[65] = 0;
  this[67] = 1;
  this[68] = 0;
  this[66] = GetTickCount();
  return this;
}
// 4C0950: using guessed type int (__stdcall *off_4C0950)(int);

//----- (00494400) --------------------------------------------------------
void *__thiscall sub_494400(void *this, char a2)
{
  sub_494430((CIOBuffer **)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (00494430) --------------------------------------------------------
void __thiscall sub_494430(CIOBuffer **a1)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi

  *a1 = (CIOBuffer *)&off_4C0950;
  CIOSocket::_CIOSocket(a1, v1, v2, v3);
}
// 494443: variable 'v1' is possibly undefined
// 494443: variable 'v2' is possibly undefined
// 494443: variable 'v3' is possibly undefined
// 4C0950: using guessed type int (__stdcall *off_4C0950)(int);

//----- (00494450) --------------------------------------------------------
void __thiscall sub_494450(struct in_addr *a1)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi
  char *v4; // eax
  u_long v5; // [esp-8h] [ebp-Ch]
  CIOSocket *v7; // [esp+0h] [ebp-4h]

  v7 = (CIOSocket *)a1;
  v5 = a1[34].S_un.S_addr;
  v4 = inet_ntoa(a1[35]);
  LOG_INFO("new connection in_addr(%s) port(%d) socket(%p)", v4, v5, a1);
  sub_47E620(v1, v2, v3, v7);
  sub_4243D0(v7);
  if ( dword_4E118C < sub_47E700()
    && v7[1].m_lock.m_critical_section.OwningThread != (void *)inet_addr("211.108.45.218") )
  {
    CSocket::Write((int)v7, 45, "b", 6);
    CSocket::OnKick((CIOCriticalSection *)v7, 6);
    CIOSocket::GracefulClose(v7);
  }
}
// 494487: variable 'v1' is possibly undefined
// 494487: variable 'v2' is possibly undefined
// 494487: variable 'v3' is possibly undefined
// 4E118C: using guessed type int dword_4E118C;

//----- (004944F0) --------------------------------------------------------
void __thiscall CIOSocket::Recv(struct in_addr *this)
{
  DWORD v1; // ebx
  DWORD v2; // edi
  DWORD v3; // esi
  char *v4; // eax
  u_long v5; // [esp-8h] [ebp-28h]
  char *v6; // [esp-8h] [ebp-28h]
  int v7; // [esp-4h] [ebp-24h]
  int v8; // [esp-4h] [ebp-24h]
  char v9; // [esp+3h] [ebp-1Dh]
  int v11; // [esp+8h] [ebp-18h]
  int v12; // [esp+10h] [ebp-10h]
  unsigned int v13; // [esp+14h] [ebp-Ch]
  unsigned __int8 *i; // [esp+18h] [ebp-8h]
  unsigned int dwLeft; // [esp+1Ch] [ebp-4h]

  if ( (int)this[26].S_un.S_addr <= 0xFFFF )
  {
    dwLeft = *(_DWORD *)(this[23].S_un.S_addr + 8000);
    for ( i = (unsigned __int8 *)this[23].S_un.S_addr; ; i += v13 )
    {
      if ( dwLeft < 3 )
        goto LABEL_5;
      v12 = i[2];
      v13 = *(unsigned __int16 *)i;
      if ( dwLeft < v13 )
        break;
      if ( *(unsigned __int16 *)i < 3u )
      {
        LOG_ERR("invalid buffer size. (type:%d, size:%d, bit:%X)", v12, v13, this[27].S_un.S_addr);
        CIOSocket::WriteCallback((CIOSocket *)this);
        return;
      }
      v9 = this[32].S_un.S_addr++ & 0x3F;
      Decode(v1, v2, v3, v9, i + 2, v13 - 2);
      if ( (*(_WORD *)dword_4E1174 & 0x4000) != 0 )
      {
        if ( this[33].S_un.S_addr )
        {
          if ( (int)(v13 - 3) > 0 )
          {
            v11 = _HsCrypt_GetDecMsg(i + 3, v13 - 3, (int)&unk_4E158E, i + 3, v13 - 3);
            if ( v11 )
            {
              LOG_ERR("_HsCrypt_GetDecMsg() is Failed.  ErrorType(%d)", v11);
              CSocket::Write((int)this, 45, "b", 1);
              CIOSocket::WriteCallback((CIOSocket *)this);
              return;
            }
          }
        }
      }
      CSocket::Process((int)this, (char *)i);
      dwLeft -= v13;
    }
    if ( *(unsigned __int16 *)i <= 0x1F40u )
    {
LABEL_5:
      CIOSocket::Read((CIOSocket *)this, dwLeft);
      return;
    }
    v8 = sub_458680(this);
    v6 = inet_ntoa(this[35]);
    LOG_NORMAL(
      "exceed buffer size. (type %d) (size %d) (bit %X) (addr %s) (SID %x) ",
      v12,
      v13,
      this[27].S_un.S_addr,
      v6,
      v8);
    CIOSocket::WriteCallback((CIOSocket *)this);
  }
  else
  {
    v7 = sub_458680(this);
    v5 = this[26].S_un.S_addr;
    v4 = inet_ntoa(this[35]);
    LOG_NORMAL("close pending socket (addr %s) (bytes %d) (id %x)", v4, v5, v7);
    CIOSocket::WriteCallback((CIOSocket *)this);
  }
}
// 49464F: variable 'v1' is possibly undefined
// 49464F: variable 'v2' is possibly undefined
// 49464F: variable 'v3' is possibly undefined

//----- (00494700) --------------------------------------------------------
void __thiscall CSocket::OnClose(CPlayer *a1)
{
  CIOObject *v2; // [esp+4h] [ebp-4h]

  CSkill::ReviseTick(a1);
  CSocket::OnKick((CIOCriticalSection *)a1, 0);
  v2 = (CIOObject *)a1->m_prtyPt.nHit;
  if ( v2 )
  {
    sub_4327C0((CIOCriticalSection *)a1);
    a1->m_prtyPt.nHit = 0;
    sub_4327E0((CIOCriticalSection *)a1);
    CIOObject::Release(v2, &v2[27].m_nTimerRef);
  }
}

//----- (00494760) --------------------------------------------------------
int __thiscall CSocket::CloseSocket(volatile LONG *this)
{
  char optval[2]; // [esp+4h] [ebp-8h] BYREF
  __int16 v4; // [esp+6h] [ebp-6h]
  SOCKET s; // [esp+8h] [ebp-4h]

  sub_4327C0((CIOCriticalSection *)this);
  s = InterlockedExchange(this + 4, 0);
  sub_4327E0((CIOCriticalSection *)this);
  *(_WORD *)optval = 1;
  v4 = 0;
  setsockopt(s, 0xFFFF, 128, optval, 4);
  return closesocket(s);
}

//----- (004947C0) --------------------------------------------------------
void __thiscall sub_4947C0(SOCKET *this)
{
  sub_4327C0((CIOCriticalSection *)this);
  shutdown(this[4], 2);
  sub_4327E0((CIOCriticalSection *)this);
}

//----- (004947F0) --------------------------------------------------------
void __thiscall CSocket::_CSocket(int this, void *a2)
{
  int v3; // [esp+4h] [ebp-4h]

  if ( (*(_WORD *)dword_4E1174 & 0x4000) != 0
    && *(_DWORD *)(this + 132)
    && *((_DWORD *)a2 + 2000) != 3
    && (v3 = _HsCrypt_GetEncMsg(
               (char *)a2 + 3,
               *((_DWORD *)a2 + 2000) - 3,
               (int)&unk_4E1368,
               (char *)a2 + 3,
               *((_DWORD *)a2 + 2000) - 3)) != 0 )
  {
    LOG_ERR("_HsCrypt_GetEncMsg() is Failed.  ErrorType(%d)", v3);
    CSocket::Write(this, 45, "b", 1);
    CIOSocket::WriteCallback((CIOSocket *)this);
  }
  else
  {
    Encode(*(_BYTE *)(this + 124), (unsigned __int8 *)a2 + 2, *((_DWORD *)a2 + 2000) - 2);
    CIOSocket::Write((CIOSocket *)this, (CIOBuffer *)a2);
  }
}

//----- (004948C0) --------------------------------------------------------
void CSocket::Write(int a1, char a2, ...)
{
  CIOBuffer *v2; // [esp+0h] [ebp-10h]
  va_list va; // [esp+20h] [ebp+10h] BYREF

  va_start(va, a2);
  v2 = CIOBuffer::Alloc();
  v2->m_buffer[2] = a2;
  *(_WORD *)v2->m_buffer = (unsigned __int16)WritePacket(&v2->m_buffer[3], (int)va) - (_WORD)v2;
  v2->m_dwSize = *(unsigned __int16 *)v2->m_buffer;
  CSocket::_CSocket(a1, v2);
}

//----- (00494930) --------------------------------------------------------
void __thiscall CSocket::Process(int a1, char *packet)
{
  int v2; // eax
  char *v3; // eax
  char *v4; // eax
  char *v5; // [esp-10h] [ebp-190h]
  int v6; // [esp-Ch] [ebp-18Ch]
  char *v7; // [esp-8h] [ebp-188h]
  char *v8; // [esp-8h] [ebp-188h]
  const void *v9; // [esp-8h] [ebp-188h]
  int v10; // [esp-4h] [ebp-184h]
  int v11; // [esp-4h] [ebp-184h]
  int v12; // [esp-4h] [ebp-184h]
  int v13; // [esp-4h] [ebp-184h]
  int v14; // [esp-4h] [ebp-184h]
  int v15; // [esp-4h] [ebp-184h]
  char a3[4]; // [esp+Ch] [ebp-174h] BYREF
  __int16 v18; // [esp+41h] [ebp-13Fh]
  char v19; // [esp+43h] [ebp-13Dh]
  int v20; // [esp+44h] [ebp-13Ch]
  char v21[5]; // [esp+48h] [ebp-138h] BYREF
  int v22; // [esp+4Dh] [ebp-133h]
  int v23; // [esp+51h] [ebp-12Fh]
  int v24; // [esp+55h] [ebp-12Bh]
  __int16 v25; // [esp+59h] [ebp-127h]
  char v26; // [esp+5Bh] [ebp-125h]
  int v27; // [esp+5Ch] [ebp-124h]
  int v28; // [esp+60h] [ebp-120h] BYREF
  int v29; // [esp+64h] [ebp-11Ch] BYREF
  int a2; // [esp+68h] [ebp-118h] BYREF
  unsigned __int8 v31; // [esp+6Fh] [ebp-111h] BYREF
  char *v32; // [esp+70h] [ebp-110h] BYREF
  char *v33; // [esp+74h] [ebp-10Ch] BYREF
  int v34; // [esp+78h] [ebp-108h] BYREF
  unsigned __int8 v35; // [esp+7Fh] [ebp-101h] BYREF
  unsigned __int8 v36; // [esp+80h] [ebp-100h] BYREF
  unsigned __int8 v37; // [esp+81h] [ebp-FFh] BYREF
  unsigned __int8 v38; // [esp+82h] [ebp-FEh] BYREF
  unsigned __int8 v39; // [esp+83h] [ebp-FDh] BYREF
  const char *v40; // [esp+84h] [ebp-FCh] BYREF
  unsigned __int8 v41; // [esp+89h] [ebp-F7h] BYREF
  unsigned __int8 v42; // [esp+8Ah] [ebp-F6h] BYREF
  unsigned __int8 v43; // [esp+8Bh] [ebp-F5h] BYREF
  _BYTE *v44; // [esp+8Ch] [ebp-F4h] BYREF
  char *name; // [esp+90h] [ebp-F0h] BYREF
  char v46[5]; // [esp+94h] [ebp-ECh] BYREF
  int v47; // [esp+99h] [ebp-E7h]
  int v48; // [esp+9Dh] [ebp-E3h]
  int v49; // [esp+A1h] [ebp-DFh]
  __int16 v50; // [esp+A5h] [ebp-DBh]
  char v51; // [esp+A7h] [ebp-D9h]
  int v52; // [esp+A8h] [ebp-D8h]
  int v53; // [esp+ACh] [ebp-D4h]
  char v54; // [esp+B3h] [ebp-CDh] BYREF
  int v55; // [esp+B4h] [ebp-CCh] BYREF
  int v56; // [esp+B8h] [ebp-C8h]
  int v57; // [esp+BCh] [ebp-C4h] BYREF
  _BYTE v58[157]; // [esp+C0h] [ebp-C0h] BYREF
  __int16 v59; // [esp+15Dh] [ebp-23h]
  char v60; // [esp+15Fh] [ebp-21h]
  int v61; // [esp+160h] [ebp-20h]
  int v62; // [esp+164h] [ebp-1Ch]
  DWORD v63; // [esp+168h] [ebp-18h]
  int v64; // [esp+16Ch] [ebp-14h] BYREF
  int v65; // [esp+170h] [ebp-10h]
  char *Src; // [esp+174h] [ebp-Ch]
  char *v67; // [esp+178h] [ebp-8h]
  char v68[4]; // [esp+17Ch] [ebp-4h]

  v61 = dword_4D9830;
  Src = packet + 3;
  v67 = &packet[*(unsigned __int16 *)packet];
  *(_DWORD *)v68 = (unsigned __int8)packet[2];
  if ( *(int *)v68 >= 11 )
  {
    if ( *(_DWORD *)(a1 + 120) )
    {
      CPlayer::Process(*(CPlayer **)(a1 + 120), *(int *)v68, Src, (int)v67);
    }
    else
    {
LABEL_83:
      if ( !sub_40DC60((_DWORD *)a1, 6) )
      {
        v15 = sub_458680((_DWORD *)a1);
        v9 = *(const void **)(a1 + 120);
        v6 = *(_DWORD *)(a1 + 136);
        v5 = inet_ntoa(*(struct in_addr *)(a1 + 140));
        LOG_NORMAL(
          "Invalid state at CSocket::Process() Type(%d) UID(%d) Bit(%x) Addr(%s) Port(%d) Player(%p) SID(%x)",
          *(_DWORD *)v68,
          *(_DWORD *)(a1 + 152),
          *(_DWORD *)(a1 + 108),
          v5,
          v6,
          v9,
          v15);
      }
    }
  }
  else
  {
    switch ( *(_DWORD *)v68 )
    {
      case 0:
        if ( (*(_DWORD *)(a1 + 108) & 0x4E) != 2 )
          goto LABEL_83;
        ScanPacket(Src, v67, "d", &v28);
        CDBSocket::Write(79, "ddd", *(_DWORD *)(a1 + 280), *(_DWORD *)(a1 + 152), v28);
        return;
      case 1:
        if ( (*(_WORD *)dword_4E1174 & 0x2000) != 0 )
        {
          v21[0] = 0;
          *(_DWORD *)&v21[1] = 0;
          v22 = 0;
          v23 = 0;
          v24 = 0;
          v25 = 0;
          v26 = 0;
          ScanPacket(Src, v67, "m", v21, 20);
          v27 = AntiCpSvr_AnalyzeGuidAckMsg(v21, a1 + 187, a1 + 260);
          if ( v27 )
          {
            if ( (dword_4E1174[0] & 2) == 0 )
            {
              v13 = v27;
              v4 = inet_ntoa(*(struct in_addr *)(a1 + 140));
              LOG_ERR(
                "_AntiCpSvr_AnalyzeGuidAckMsg(...) is failed. UID: (%d) IP(%s) ERROR TYPE (%d)",
                *(_DWORD *)(a1 + 152),
                v4,
                v13);
              CSocket::Write(a1, 45, "b", 1);
              CSocket::OnKick((CIOCriticalSection *)a1, 1);
            }
          }
        }
        return;
      case 2:
        if ( (*(_DWORD *)(a1 + 108) & 0x43) != 0 )
          goto LABEL_83;
        if ( (dword_4E1174[0] & 8) != 0 )
        {
          ScanPacket(Src, v67, "ss", &name, 17, &v44, 9);
          if ( !sub_494230(name) )
          {
LABEL_44:
            CSocket::Write(a1, 43, "b", 2);
            return;
          }
          if ( !*v44 )
          {
            CSocket::Write(a1, 43, "b", 3);
            return;
          }
        }
        else
        {
          ScanPacket(Src, v67, "ss", &name, 17, &v44, 17);
          if ( !IsValidAdminName(name) )
            goto LABEL_44;
        }
        CAuthSocket::Write(1, "dssdw", *(_DWORD *)(a1 + 280), name, v44, *(_DWORD *)(a1 + 140), *(_DWORD *)(a1 + 136));
        sub_496CD0((volatile signed __int32 *)(a1 + 108), 0);
        break;
      case 3:
        if ( (*(_WORD *)dword_4E1174 & 0x2000) != 0 )
        {
          a3[0] = 0;
          memset(&a3[1], 0, 0x34u);
          v18 = 0;
          v19 = 0;
          ScanPacket(Src, v67, "m", a3, 56);
          *(_DWORD *)(a1 + 272) = 0;
          v20 = AntiCpSvr_AnalyzeAckMsg(*(_DWORD *)(a1 + 260), a3, a1 + 187);
          if ( !v20 || (dword_4E1174[0] & 2) != 0 )
          {
            if ( *(_DWORD *)(a1 + 268) )
              *(_DWORD *)(a1 + 268) = 0;
          }
          else
          {
            v14 = v20;
            v8 = inet_ntoa(*(struct in_addr *)(a1 + 140));
            LOG_ERR(
              "_AntiCpSvr_AnalyzeAckMsg is failed. UID: (%d) IP(%s) ERROR TYPE (%d)",
              *(_DWORD *)(a1 + 152),
              v8,
              v14);
            CSocket::Write(a1, 45, "b", 1);
            CSocket::OnKick((CIOCriticalSection *)a1, 1);
          }
        }
        return;
      case 4:
        if ( (*(_DWORD *)(a1 + 108) & 0x4E) != 2 )
          goto LABEL_83;
        Src = ScanPacket(Src, v67, "s", &v40, 15);
        if ( IsValidName(v40) )
        {
          ScanPacket(Src, v67, "bbbbbbbb", &v36, &v43, &v41, &v39, &v35, &v37, &v42, &v38);
          CDBSocket::Write(
            34,
            "dsdbbbbbbbb",
            *(_DWORD *)(a1 + 280),
            v40,
            *(_DWORD *)(a1 + 152),
            v36,
            v43,
            v41,
            v39,
            v35,
            v37,
            v42,
            v38);
        }
        else
        {
          CSocket::Write(a1, 67, "b", 4);
        }
        return;
      case 5:
        InterlockedDecrement((volatile LONG *)(a1 + 172));
        ScanPacket(Src, v67, "d", &v64);
        v65 = v64 - GetTickCount() - *(_DWORD *)(a1 + 144);
        if ( v65 <= 10000 )
        {
          if ( v65 < -10000 )
          {
            if ( v65 < -30000 )
            {
              v10 = sub_458680((_DWORD *)a1);
              LOG_NORMAL("[SpeedHack] UID(%d) Diff(%d) SID(%x)", *(_DWORD *)(a1 + 152), v65, v10);
            }
            *(_DWORD *)(a1 + 144) += v65 + 10000;
          }
        }
        else if ( v65 <= 30000 )
        {
          *(_DWORD *)(a1 + 144) += 1000;
        }
        else
        {
          v2 = sub_458680((_DWORD *)a1);
          LOG_NORMAL("[SpeedHack] UID(%d) Diff(%d) SID(%x)", *(_DWORD *)(a1 + 152), v65, v2);
          CSocket::Write(a1, 45, "b", 4);
          CSocket::OnKick((CIOCriticalSection *)a1, 4);
        }
        if ( (*(_WORD *)dword_4E1174 & 0x2000) != 0 )
        {
          v63 = GetTickCount();
          if ( *(_DWORD *)(a1 + 272) && *(_DWORD *)(a1 + 264) - 115000 < v63 )
          {
            CSocket::Write(a1, 45, "b", 1);
            CSocket::OnKick((CIOCriticalSection *)a1, 1);
          }
          if ( *(_DWORD *)(a1 + 264) < v63 )
          {
            v58[0] = 0;
            memset(&v58[1], 0, 0x9Cu);
            v59 = 0;
            v60 = 0;
            if ( *(_DWORD *)(a1 + 268) )
              v62 = AntiCpSvr_MakeReqMsg(*(_DWORD *)(a1 + 260), v58, a1 + 187, 7);
            else
              v62 = AntiCpSvr_MakeReqMsg(*(_DWORD *)(a1 + 260), v58, a1 + 187, 1);
            if ( !v62 || (dword_4E1174[0] & 2) != 0 )
            {
              CSocket::Write(a1, 3, "m", v58, 160);
              *(_DWORD *)(a1 + 264) = v63 + 120000;
              *(_DWORD *)(a1 + 272) = 1;
            }
            else
            {
              v11 = v62;
              v7 = inet_ntoa(*(struct in_addr *)(a1 + 140));
              LOG_ERR(
                "_AntiCpSvr_MakeReqMsg(...) is failed. UID: (%d) IP(%s) ERROR TYPE (%d)",
                *(_DWORD *)(a1 + 152),
                v7,
                v11);
              CSocket::Write(a1, 45, "b", 1);
              CSocket::OnKick((CIOCriticalSection *)a1, 1);
            }
          }
        }
        return;
      case 6:
        if ( (*(_DWORD *)(a1 + 108) & 0x4E) != 2 )
          goto LABEL_83;
        if ( (*(_WORD *)dword_4E1174 & 0x100) != 0 )
        {
          ScanPacket(Src, v67, "bss", &v31, &v33, 17, &v32, 15);
          if ( IsValidAdminName(v33) && IsValidName(v32) )
          {
            sub_496CD0((volatile signed __int32 *)(a1 + 108), 2u);
            CDBSocket::Write(52, "dbdss", *(_DWORD *)(a1 + 280), v31, *(_DWORD *)(a1 + 152), v33, v32);
          }
          else
          {
            CSocket::Write(a1, 67, "b", 4);
          }
        }
        return;
      case 7:
        if ( (*(_DWORD *)(a1 + 108) & 0x4E) != 2 )
          goto LABEL_83;
        ScanPacket(Src, v67, "d", &v34);
        if ( v34 )
          CDBSocket::Write(0, "ddd", v34, *(_DWORD *)(a1 + 152), *(_DWORD *)(a1 + 280));
        return;
      case 8:
        if ( (*(_DWORD *)(a1 + 108) & 0x43) != 0 )
          goto LABEL_83;
        ScanPacket(Src, v67, "d", &v57);
        *(_DWORD *)(a1 + 144) = v57 - GetTickCount();
        v56 = RandomBetween(1, 63);
        *(_DWORD *)(a1 + 276) = RandomBetween(100000, 2000000000);
        if ( (*(_WORD *)dword_4E1174 & 0x4000) != 0 )
        {
          CSocket::Write(
            a1,
            42,
            "dbddddbbbmm",
            *(_DWORD *)(a1 + 276),
            v56,
            dword_4E117C,
            dword_4E2148,
            *(_DWORD *)dword_4E1174,
            dword_4E1178,
            dword_4E1188,
            dword_4E1184,
            dword_4E35B8,
            &unk_4E1368,
            550,
            &unk_4E158E,
            550);
          *(_DWORD *)(a1 + 132) = 1;
        }
        else
        {
          CSocket::Write(
            a1,
            42,
            "dbddddbbb",
            *(_DWORD *)(a1 + 276),
            v56,
            dword_4E117C,
            dword_4E2148,
            *(_DWORD *)dword_4E1174,
            dword_4E1178,
            dword_4E1188,
            dword_4E1184,
            dword_4E35B8);
        }
        *(_DWORD *)(a1 + 128) = v56;
        *(_DWORD *)(a1 + 124) = v56;
        return;
      case 9:
        if ( (*(_DWORD *)(a1 + 108) & 0x43) != 0 )
          goto LABEL_83;
        if ( *Src )
        {
          v53 = *(_DWORD *)(a1 + 276) % (int)uValue + 9052;
          ScanPacket(Src, v67, "bd", &v54, &v55);
          if ( v55 >= 9052 && v53 == v55 )
          {
            if ( (*(_WORD *)dword_4E1174 & 0x2000) != 0 )
            {
              v46[0] = 0;
              *(_DWORD *)&v46[1] = 0;
              v47 = 0;
              v48 = 0;
              v49 = 0;
              v50 = 0;
              v51 = 0;
              v52 = AntiCpSvr_MakeGuidReqMsg(v46, a1 + 187);
              if ( !v52 || (dword_4E1174[0] & 2) != 0 )
              {
                CSocket::Write(a1, 2, "m", v46, 20);
              }
              else
              {
                v12 = v52;
                v3 = inet_ntoa(*(struct in_addr *)(a1 + 140));
                LOG_ERR(
                  "_AntiCpSvr_MakeGuidReqMsg(...) is failed. UID: (%d) IP(%s) ERROR TYPE (%d)",
                  *(_DWORD *)(a1 + 152),
                  v3,
                  v12);
                CSocket::Write(a1, 45, "b", 1);
                CSocket::OnKick((CIOCriticalSection *)a1, 1);
              }
            }
          }
          else
          {
            CSocket::Write(a1, 45, "b", 10);
            CSocket::OnKick((CIOCriticalSection *)a1, 10);
          }
        }
        else
        {
          CIOSocket::WriteCallback((CIOSocket *)a1);
        }
        return;
      case 0xA:
        if ( (*(_DWORD *)(a1 + 108) & 0x4E) != 2 )
          goto LABEL_83;
        ScanPacket(Src, v67, "dd", &a2, &v29);
        CSocket::LoadPlayer(a1, a2, v29);
        return;
      default:
        goto LABEL_83;
    }
  }
}
// 4B4008: using guessed type int (__stdcall *AntiCpSvr_MakeGuidReqMsg)(_DWORD, _DWORD);
// 4B400C: using guessed type int (__stdcall *AntiCpSvr_MakeReqMsg)(_DWORD, _DWORD, _DWORD, _DWORD);
// 4B4018: using guessed type int (__stdcall *AntiCpSvr_AnalyzeAckMsg)(_DWORD, _DWORD, _DWORD);
// 4B401C: using guessed type int (__stdcall *AntiCpSvr_AnalyzeGuidAckMsg)(_DWORD, _DWORD, _DWORD);
// 4D9830: using guessed type int dword_4D9830;
// 4E1178: using guessed type int dword_4E1178;
// 4E117C: using guessed type int dword_4E117C;
// 4E1184: using guessed type int dword_4E1184;
// 4E1188: using guessed type int dword_4E1188;
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00495770) --------------------------------------------------------
void __thiscall sub_495770(void *this, signed int a2, int a3, int a4, int a5, int a6, const void *a7)
{
  int v7; // eax
  int v8; // [esp-1Ch] [ebp-24h]
  int v9; // [esp-18h] [ebp-20h]

  if ( a2 == 1 )
  {
    sub_4327C0((CIOCriticalSection *)this);
    if ( sub_40DC60(this, 6) )
    {
      v9 = *((_DWORD *)this + 34);
      v8 = *((_DWORD *)this + 35);
      v7 = sub_458680(this);
      CAuthSocket::Write(2, "dddwbdddb", v7, a3, v8, v9, a4, 0, 0, 0, 7);
    }
    else
    {
      if ( *((_DWORD *)this + 38) )
        EBREAK(0);
      *((_DWORD *)this + 38) = a3;
      *((_DWORD *)this + 39) = a4 | (a6 != 0 ? 512 : 256);
      *((_DWORD *)this + 40) = a5;
      time((time_t *)this + 37);
      *((_DWORD *)this + 41) = *((_DWORD *)this + 37);
      memcpy((char *)this + 176, a7, 0xAu);
      CDBSocket::Write(33, "dd", *((_DWORD *)this + 70), a3);
    }
    sub_4327E0((CIOCriticalSection *)this);
  }
  else if ( a2 > 1 && a2 <= 9 )
  {
    CSocket::Write((int)this, 43, "b", a2);
    sub_496CE0((volatile signed __int32 *)this + 27, 0);
  }
  else
  {
    CSocket::Write((int)this, 43, "b", 0);
    sub_496CE0((volatile signed __int32 *)this + 27, 0);
  }
}

//----- (004958F0) --------------------------------------------------------
void __thiscall CSocket::OnLogin(int nSocket_1, int p, int nCount, int size)
{
  sub_496CD0((volatile signed __int32 *)(nSocket_1 + 108), 1u);
  if ( dword_4E35B8 == 1 && (dword_4E1174[0] & 4) != 0 )
    CSocket::Write(nSocket_1, 98, "bd", *(_DWORD *)(nSocket_1 + 156) & 0x30, *(_DWORD *)(nSocket_1 + 160));
  CSocket::Write(nSocket_1, 17, "bdbm", *(_DWORD *)(nSocket_1 + 156), *(_DWORD *)(nSocket_1 + 160), nCount, p, size);
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00495980) --------------------------------------------------------
void __thiscall sub_495980(void *this, int a2, int a3, int a4)
{
  CSocket::Write((int)this, 68, "bbww", 15, a2, a3, a4);
}

//----- (004959B0) --------------------------------------------------------
void __thiscall CSocket::OnUserAllCount(void *this, int a2, int a3, int a4)
{
  CSocket::Write((int)this, 68, "bwwd", 16, a2, a3, a4);
}

//----- (004959E0) --------------------------------------------------------
void __thiscall CSocket::OnNewPlayer(_DWORD *this, int a2, void *a3)
{
  LONG v3; // [esp-4h] [ebp-14h]
  int v5; // [esp+4h] [ebp-Ch]
  unsigned __int8 v6; // [esp+Bh] [ebp-5h] BYREF
  int v7; // [esp+Ch] [ebp-4h] BYREF

  if ( a2 == 1 )
  {
    ReadPacket((char *)a3, "db", &v7, &v6);
    if ( v7 )
    {
      v5 = CItem::CreateItem(dword_4D6AC4[v6], 0, 1, -1);
      if ( v5 )
      {
        v3 = CItem::NewIID();
        (*(void (__thiscall **)(int, int, LONG))(*(_DWORD *)v5 + 116))(v5, v7, v3);
      }
    }
    CDBSocket::Write(33, "dd", this[70], this[38]);
  }
  else
  {
    CSocket::Write((int)this, 44, "b", a2);
  }
}

//----- (00495A90) --------------------------------------------------------
void __thiscall CSocket::OnDelPlayer_0(_DWORD *this, int a2)
{
  switch ( a2 )
  {
    case 1:
      goto LABEL_6;
    case 2:
      CAuthSocket::Write(11, "bddbd", 5, 0, this[38], 4, 0);
LABEL_6:
      CDBSocket::Write(33, "dd", this[70], this[38]);
      return;
    case 3:
      CSocket::Write((int)this, 67, "b", 103);
      break;
  }
}

//----- (00495B20) --------------------------------------------------------
void __thiscall CSocket::OnKick(CIOCriticalSection *a1, int a2)
{
  time_t v2; // eax
  CItem *item; // [esp+4h] [ebp-4h]

  sub_4327C0(a1);
  if ( a1[4].m_dwEIP[0] )
  {
    v2 = time(0);
    CAuthSocket::Write(
      2,
      "dddwbdddb",
      a1[8].m_dwEIP[0],
      a1[4].m_dwEIP[0],
      a1[4].m_critical_section.OwningThread,
      a1[4].m_critical_section.RecursionCount,
      a1[4].m_dwEIP[1],
      a1[5].m_critical_section.RecursionCount,
      a1[4].m_critical_section.SpinCount,
      v2,
      a2);
    a1[4].m_dwEIP[0] = 0;
  }
  sub_496CD0((volatile signed __int32 *)&a1[3].m_critical_section.OwningThread, 6u);
  item = (CItem *)a1[3].m_dwEIP[0];
  if ( item )
  {
    CIOObject::AddRef(item, &item[3].m_nKeyID);
    sub_4327E0(a1);
    CBase::Delete(item);
    CIOObject::Release(item, &item[3].m_nKeyID);
  }
  else
  {
    sub_4327E0(a1);
  }
}

//----- (00495C20) --------------------------------------------------------
void __thiscall CSocket::OnKickOut(CIOCriticalSection *a1)
{
  CSocket::Write((int)a1, 45, "b", 3);
  CSocket::OnKick(a1, 3);
}

//----- (00495C50) --------------------------------------------------------
void __thiscall CSocket::OnFreeAccount(void *this, int a2, int a3, const char *a4)
{
  char v5[132]; // [esp+4h] [ebp-88h] BYREF
  int v6; // [esp+88h] [ebp-4h]

  v6 = dword_4D9830;
  if ( a2 == 1 )
  {
    sprintf(v5, "[Account Block] ID(%s), UID(%d)", a4, a3);
    CSocket::Write((int)this, 15, "s", v5);
  }
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00495CC0) --------------------------------------------------------
void __thiscall sub_495CC0(void *this, int a2, int a3, const char *a4)
{
  char v5[132]; // [esp+4h] [ebp-88h] BYREF
  int v6; // [esp+88h] [ebp-4h]

  v6 = dword_4D9830;
  if ( a2 == 1 )
  {
    sprintf(v5, "[Account Free] ID(%s), UID(%d)", a4, a3);
    CSocket::Write((int)this, 15, "s", v5);
  }
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00495D30) --------------------------------------------------------
void __thiscall CSocket::LoadPlayer(int this, int a2, int a3)
{
  CPlayer *v3; // [esp+0h] [ebp-14h]
  CPlayer *v5; // [esp+8h] [ebp-Ch]
  bool v6; // [esp+Ch] [ebp-8h]
  CItem *item; // [esp+10h] [ebp-4h]

  item = *(CItem **)(this + 120);
  sub_4327C0((CIOCriticalSection *)this);
  v5 = (CPlayer *)sub_401000(0x690u);
  if ( v5 )
    v3 = CPlayer::CPlayer(v5, this, *(_DWORD *)(this + 152), a2);
  else
    v3 = 0;
  *(_DWORD *)(this + 120) = v3;
  CIOObject::AddRef(*(CIOObject **)(this + 120), (volatile int *)(*(_DWORD *)(this + 120) + 440));
  sub_4327E0((CIOCriticalSection *)this);
  if ( item )
  {
    CBase::Delete(item);
    CIOObject::Release(item, &item[4].m_bParty);
  }
  sub_496CD0((volatile signed __int32 *)(this + 108), 3u);
  v6 = 0;
  if ( a3 )
  {
    if ( CGuild::IsLoad(a3) )
      a3 = 0;
    else
      v6 = CAlliance::IsLoad(a3) == 0;
  }
  CDBSocket::Write(1, "ddddb", a2, a3, *(_DWORD *)(this + 152), *(_DWORD *)(this + 280), v6);
}

//----- (00495E50) --------------------------------------------------------
void __thiscall CSocket::OnDelPlayer(void *this, int a2, int a3)
{
  CIOObject *v4; // [esp+4h] [ebp-4h]

  if ( a2 == 1 )
  {
    sub_4327C0((CIOCriticalSection *)this);
    v4 = (CIOObject *)*((_DWORD *)this + 30);
    if ( v4 )
    {
      CIOObject::AddRef(v4, (volatile int *)&v4[22]);
      sub_4327E0((CIOCriticalSection *)this);
      if ( CPlayer::OnLoadPlayer(v4, (_BYTE *)a3) )
      {
        sub_496CD0((volatile signed __int32 *)this + 27, 4u);
        if ( (dword_4E1178 & 0x100) != 0 )
          CAuthSocket::Write(15, "dd", v4[28].__vftable, v4[28].m_nRef);
      }
      else
      {
        sub_496CE0((volatile signed __int32 *)this + 27, 3u);
        CSocket::Write((int)this, 67, "b", 7);
      }
      CIOObject::Release(v4, (volatile int *)&v4[22]);
    }
    else
    {
      sub_4327E0((CIOCriticalSection *)this);
    }
  }
  else
  {
    sub_496CE0((volatile signed __int32 *)this + 27, 3u);
    if ( a2 == 2 )
      CSocket::Write((int)this, 67, "b", 7);
    else
      CSocket::Write((int)this, 67, "b", 8);
  }
}
// 4E1178: using guessed type int dword_4E1178;

//----- (00495F90) --------------------------------------------------------
void __thiscall CSocket::OnCheckCopy(CIOCriticalSection *this, int a2, int a3, int a4, int a5)
{
  unsigned int v6; // [esp+4h] [ebp-4h]

  if ( a2 == 2 )
  {
    sub_4327C0(this);
    if ( sub_40DC60(this, 6) )
    {
      sub_4327E0(this);
    }
    else
    {
      v6 = this[4].m_dwEIP[0];
      sub_4327E0(this);
      CAuthSocket::Write(12, "dbdss", this[8].m_dwEIP[0], a3, v6, a4, a5);
    }
  }
  else
  {
    sub_496CE0((volatile signed __int32 *)&this[3].m_critical_section.OwningThread, 2u);
    CSocket::Write((int)this, 97, "b", a2);
  }
}

//----- (00496030) --------------------------------------------------------
void __thiscall CSocket::OnRequestCopy(int this, int a2, void *a3, int a4)
{
  int v4; // eax
  int i; // [esp+4h] [ebp-14h]
  _DWORD *v7; // [esp+8h] [ebp-10h]
  unsigned __int8 v8; // [esp+12h] [ebp-6h] BYREF
  unsigned __int8 v9; // [esp+13h] [ebp-5h] BYREF
  int v10; // [esp+14h] [ebp-4h]
  char *v11; // [esp+24h] [ebp+Ch]

  if ( a2 == 1 )
  {
    sub_4327C0((CIOCriticalSection *)this);
    if ( sub_40DC60((_DWORD *)this, 6) )
    {
      sub_4327E0((CIOCriticalSection *)this);
    }
    else
    {
      v10 = *(_DWORD *)(this + 152);
      sub_4327E0((CIOCriticalSection *)this);
      v11 = (char *)ReadPacket((char *)a3, "b", &v8);
      v7 = ReadPacket(&v11[v8], "b", &v9);
      for ( i = 0; i < v9; ++i )
      {
        v4 = CItem::NewIID();
        PutNumeric<int>(v7, v4);
        v7 = (_DWORD *)((char *)v7 + 26);
      }
      CDBSocket::Write(54, "ddm", *(_DWORD *)(this + 280), v10, v11, a4 - (_DWORD)v11);
    }
  }
  else
  {
    sub_496CE0((volatile signed __int32 *)(this + 108), 2u);
    CSocket::Write(this, 97, "b", a2);
  }
}

//----- (00496150) --------------------------------------------------------
void __thiscall CSocket::OnCopyPlayer(CIOCriticalSection *a1, int a2)
{
  if ( a2 == 1 )
  {
    CSocket::Write((int)a1, 45, "b", 8);
    CSocket::OnKick(a1, 8);
  }
  else
  {
    sub_496CE0((volatile signed __int32 *)&a1[3].m_critical_section.OwningThread, 2u);
    CSocket::Write((int)a1, 97, "b", a2);
  }
}

//----- (004961B0) --------------------------------------------------------
BOOL __cdecl CStatus::Update()
{
  int v0; // eax
  int v1; // eax
  int v2; // eax
  int v3; // eax
  LONG v4; // eax
  LONG v5; // eax

  sub_4327C0((CIOCriticalSection *)dword_4E2EDC);
  sub_47E480(dword_4E2EDC);
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " Running Thread : %d", dword_4E0FDC);
  v0 = sub_4962E0(dword_4DA7B8);
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " Pending DB Output : %d", v0);
  v1 = sub_4962E0(dword_4DA6F0);
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " Pending Auth Output : %d", v1);
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " ====================");
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " Change of Currency : %d", dword_4E2014);
  v2 = sub_47E710();
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " Max. Connection : %d", v2);
  v3 = sub_47E700();
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " Cur. Connection : %d", v3);
  v4 = sub_4391F0();
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " Monster : %d", v4);
  v5 = sub_448F00();
  CScreen::Add((CScreen *)dword_4E2EDC, 0, " NPC : %d", v5);
  sub_4327E0((CIOCriticalSection *)dword_4E2EDC);
  return InvalidateRect(hWnd, 0, 1);
}
// 4DA6F0: using guessed type int dword_4DA6F0[4];
// 4DA7B8: using guessed type int dword_4DA7B8[4];
// 4E2EDC: using guessed type int dword_4E2EDC[13];

//----- (004962E0) --------------------------------------------------------
int __thiscall sub_4962E0(_DWORD *this)
{
  return this[26];
}

//----- (00496300) --------------------------------------------------------
void *__thiscall CTables::CTables_0(void *this)
{
  int v2; // [esp+4h] [ebp-18h]
  int l; // [esp+8h] [ebp-14h]
  int k; // [esp+Ch] [ebp-10h]
  int v5; // [esp+10h] [ebp-Ch]
  int j; // [esp+14h] [ebp-8h]
  int i; // [esp+18h] [ebp-4h]

  dword_4E35B0 = 6;
  dword_4E35AC = 11;
  dword_4E35A8 = 6;
  for ( i = 0; i < 10; ++i )
  {
    for ( j = 0; j < 21; ++j )
    {
      v5 = dword_4D8528[21 * i + j];
      switch ( v5 )
      {
        case 100:
          dword_4E3260[21 * i + j] = 6;
          break;
        case 50:
          dword_4E3260[21 * i + j] = 5;
          break;
        case 25:
          dword_4E3260[21 * i + j] = 4;
          break;
        default:
          dword_4E3260[21 * i + j] = 3;
          break;
      }
    }
  }
  for ( k = 0; k < 10; ++k )
  {
    for ( l = 0; l < 21; ++l )
    {
      v2 = dword_4D8870[21 * k + l];
      switch ( v2 )
      {
        case 100:
          dword_4E2F18[21 * k + l] = 0;
          break;
        case 50:
          dword_4E2F18[21 * k + l] = 1;
          break;
        case 25:
          dword_4E2F18[21 * k + l] = 2;
          break;
        default:
          dword_4E2F18[21 * k + l] = 3;
          break;
      }
    }
  }
  return this;
}
// 4E35A8: using guessed type int dword_4E35A8;
// 4E35AC: using guessed type int dword_4E35AC;
// 4E35B0: using guessed type int dword_4E35B0;

//----- (004964E0) --------------------------------------------------------
void *__thiscall CTile::_CTile(void *this)
{
  void *result; // eax
  CItem *v2; // [esp+4h] [ebp-8h]
  CItem *item; // [esp+8h] [ebp-4h]

  result = this;
  for ( item = *(CItem **)this; item; item = v2 )
  {
    v2 = (CItem *)item->m_pNext;
    item->m_pNext = (CBase *)-6;
    result = (void *)CBase::Delete(item);
  }
  return result;
}

//----- (00496520) --------------------------------------------------------
int __thiscall sub_496520(int *a1, int a5)
{
  int result; // eax

  if ( *(_DWORD *)(a5 + 16) != -6 )
    EBREAK(a5);
  result = *a1;
  *(_DWORD *)(a5 + 16) = *a1;
  *a1 = a5;
  return result;
}

//----- (00496550) --------------------------------------------------------
int __thiscall CTile::RemoveBase(Concurrency::details::_CancellationTokenRegistration **this, Concurrency::details::_CancellationTokenRegistration *a2)
{
  Concurrency::details::_CancellationTokenRegistration *v4; // [esp+8h] [ebp-4h]

  while ( 1 )
  {
    v4 = *this;
    if ( *this == a2 )
    {
      *this = (Concurrency::details::_CancellationTokenRegistration *)unknown_libname_9(a2);
      *((_DWORD *)a2 + 4) = -6;
      return 1;
    }
    if ( !v4 )
      break;
    this = (Concurrency::details::_CancellationTokenRegistration **)((char *)v4 + 16);
  }
  return 0;
}
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (004965B0) --------------------------------------------------------
int __thiscall CTile::GetItem(void **this, int a2)
{
  _DWORD *a2a; // [esp+8h] [ebp-4h]

  for ( a2a = *this; a2a; a2a = (_DWORD *)unknown_libname_9(a2a) )
  {
    if ( a2a[4] == -6 )
    {
      *this = 0;
      ELOG("CTile::GetItem %p %p\n", (char)a2a);
      EBREAK();
      return 0;
    }
    if ( (*(int (__thiscall **)(_DWORD *))(*a2a + 68))(a2a) && a2 == std::_Mpunct<wchar_t>::do_frac_digits(a2a) )
      return (int)a2a;
  }
  return 0;
}
// 43E420: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (00496640) --------------------------------------------------------
CTrade *__thiscall CTrade::CTrade(CTrade *this, int a2, int a3)
{
  CBase::CBase((int)this);
  this->__vftable = (CTrade_vtbl *)&off_4C0E08;
  sub_496CD0((volatile signed __int32 *)&this->m_bit, 1u);
  this->m_pCaller = (CPlayer *)a2;
  this->m_pAcc = (CPlayer *)a3;
  return this;
}
// 4C0E08: using guessed type int (__stdcall *off_4C0E08)(int);

//----- (00496690) --------------------------------------------------------
void *__thiscall sub_496690(void *this, char a2)
{
  CTables::CTables((volatile int **)this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004966C0) --------------------------------------------------------
void __thiscall CTables::CTables(volatile int **this)
{
  *this = (volatile int *)&off_4C0E08;
  sub_401DE0((int *)this[8]);
  sub_401DE0((int *)this[9]);
  CBase::_CBase((std::locale::facet *)this);
}
// 4C0E08: using guessed type int (__stdcall *off_4C0E08)(int);

//----- (00496700) --------------------------------------------------------
void __cdecl CTrade::CreateTrade(CIOCriticalSection *a1, CIOCriticalSection *a2)
{
  int v2; // eax
  int v3; // eax
  CTrade *v4; // [esp+0h] [ebp-Ch]
  CMemory **v5; // [esp+4h] [ebp-8h]

  sub_460490(a1, a2);
  if ( !sub_40B2F0(a1) && !sub_40B2F0(a2) )
  {
    if ( sub_448870(&a1[10].m_critical_section.OwningThread, &a2[10].m_critical_section.OwningThread) <= 64 )
    {
      if ( a1[34].m_critical_section.OwningThread )
      {
        CPlayer::Write((int)a2, 67, "b", 19);
      }
      else if ( a2[34].m_critical_section.OwningThread )
      {
        CPlayer::Write((int)a1, 67, "b", 19);
      }
      else
      {
        sub_4010D0((int)a1);
        sub_4010D0((int)a2);
        v5 = sub_401000(0x28u);
        if ( v5 )
          v4 = CTrade::CTrade((CTrade *)v5, (int)a1, (int)a2);
        else
          v4 = 0;
        a2[34].m_critical_section.OwningThread = v4;
        a1[34].m_critical_section.OwningThread = v4;
        v2 = std::_Mpunct<wchar_t>::do_frac_digits(a2);
        CPlayer::Write((int)a1, 77, "bd", 1, v2);
        v3 = std::_Mpunct<wchar_t>::do_frac_digits(a1);
        CPlayer::Write((int)a2, 77, "bd", 1, v3);
      }
    }
    else
    {
      CPlayer::Write((int)a1, 67, "b", 24);
      CPlayer::Write((int)a2, 67, "b", 24);
    }
  }
  sub_44D620(a1, a2);
}

//----- (00496880) --------------------------------------------------------
void __thiscall CTrade::OnDelete(int this)
{
  sub_460490(*(CIOCriticalSection **)(this + 32), *(CIOCriticalSection **)(this + 36));
  if ( !sub_496CD0((volatile signed __int32 *)(this + 20), 4u) )
  {
    CPlayer::_EndTrade(*(_DWORD *)(this + 32), 2);
    CPlayer::_EndTrade(*(_DWORD *)(this + 36), 2);
  }
  sub_44D620(*(CIOCriticalSection **)(this + 32), *(CIOCriticalSection **)(this + 36));
  sub_402180(this);
}

//----- (004968F0) --------------------------------------------------------
void __thiscall CTrade::Cancel(CIOCriticalSection **this, int a2)
{
  sub_460490(this[8], this[9]);
  if ( sub_496CD0((volatile signed __int32 *)this + 5, 2u) )
  {
    sub_44D620(this[8], this[9]);
  }
  else
  {
    if ( !sub_496CD0((volatile signed __int32 *)this + 5, 4u) )
    {
      CPlayer::_EndTrade((int)this[8], 3);
      CPlayer::_EndTrade((int)this[9], 3);
    }
    sub_44D620(this[8], this[9]);
    CBase::Delete((CItem *)this);
  }
}

//----- (00496990) --------------------------------------------------------
void __thiscall CTrade::TradeAgreed(int a1, _DWORD *a5)
{
  int v2; // eax

  sub_460490(*(CIOCriticalSection **)(a1 + 32), *(CIOCriticalSection **)(a1 + 36));
  CPlayer::AddEState(a5, 4);
  v2 = CTrade::GetOther((_DWORD *)a1, (int)a5);
  CPlayer::Write(v2, 67, "b", 22);
  if ( sub_44A510(*(_DWORD **)(a1 + 32), 4) && sub_44A510(*(_DWORD **)(a1 + 36), 4) )
  {
    if ( sub_448870((_DWORD *)(*(_DWORD *)(a1 + 32) + 332), (_DWORD *)(*(_DWORD *)(a1 + 36) + 332)) <= 64
      && !sub_496CD0((volatile signed __int32 *)(a1 + 20), 4u) )
    {
      sub_45FA10();
      if ( CPlayer::_CheckTrade(*(_DWORD **)(a1 + 32)) && CPlayer::_CheckTrade(*(_DWORD **)(a1 + 36)) )
      {
        CPlayer::_TradeItem(*(void **)(a1 + 32), *(void **)(a1 + 36));
        CPlayer::_TradeItem(*(void **)(a1 + 36), *(void **)(a1 + 32));
        CPlayer::_EndTrade(*(_DWORD *)(a1 + 32), 1);
        CPlayer::_EndTrade(*(_DWORD *)(a1 + 36), 1);
      }
      else
      {
        CPlayer::_EndTrade(*(_DWORD *)(a1 + 32), 2);
        CPlayer::_EndTrade(*(_DWORD *)(a1 + 36), 2);
      }
      sub_45FA60();
    }
    sub_44D620(*(CIOCriticalSection **)(a1 + 32), *(CIOCriticalSection **)(a1 + 36));
    CBase::Delete((CItem *)a1);
  }
  else
  {
    sub_44D620(*(CIOCriticalSection **)(a1 + 32), *(CIOCriticalSection **)(a1 + 36));
  }
}

//----- (00496B30) --------------------------------------------------------
void __stdcall Encode(char chCodeNum, unsigned __int8 *ptr, int len)
{
  unsigned __int8 *v3; // [esp+0h] [ebp-4h]

  if ( chCodeNum < 0 || chCodeNum >= 64 )
    EBREAK();
  v3 = &ptr[len];
  while ( ptr != v3 )
  {
    *ptr = g_chEncodeCode[256 * chCodeNum + *ptr];
    ++ptr;
  }
}

//----- (00496B90) --------------------------------------------------------
void __stdcall Decode(char chCodeNum, unsigned __int8 *ptr, int len)
{
  unsigned __int8 *v3; // [esp+0h] [ebp-4h]

  if ( chCodeNum >= 64 )
    EBREAK(chCodeNum);
  v3 = &ptr[len];
  while ( ptr != v3 )
  {
    *ptr = g_chDecodeCode[256 * chCodeNum + *ptr];
    ++ptr;
  }
}

//----- (00496BE0) --------------------------------------------------------
time_t __cdecl InitRandom()
{
  unsigned int v0; // eax
  time_t result; // eax
  int i; // [esp+0h] [ebp-4h]
  int j; // [esp+0h] [ebp-4h]

  v0 = time(0);
  srand(v0);
  result = time(0);
  dword_4E36C8[0] = result;
  for ( i = 1; i < 32; ++i )
  {
    dword_4E36C8[i] = 1103515245 * dword_4E36C4[i] + 12345;
    result = i + 1;
  }
  dword_4E36C0 = 2;
  for ( j = 0; j < 310; ++j )
    result = sub_496C70();
  return result;
}
// 4E36C4: using guessed type int dword_4E36C4[];

//----- (00496C70) --------------------------------------------------------
unsigned int sub_496C70()
{
  return (unsigned int)_Random() >> 1;
}

//----- (00496C80) --------------------------------------------------------
int __cdecl _Random()
{
  char v0; // al

  v0 = InterlockedIncrement(&dword_4E36C0);
  dword_4E36C8[v0 & 0x1F] += dword_4E36C8[(v0 - 3) & 0x1F];
  return dword_4E36C8[v0 & 0x1F];
}

//----- (00496CD0) --------------------------------------------------------
int __fastcall sub_496CD0(volatile signed __int32 *a1, unsigned int a2)
{
  int result; // eax

  if ( _interlockedbittestandset(a1, a2) )
    result = 1;
  else
    result = 0;
  return result;
}

//----- (00496CE0) --------------------------------------------------------
int __fastcall sub_496CE0(volatile signed __int32 *a1, unsigned int a2)
{
  int result; // eax

  if ( _interlockedbittestandreset(a1, a2) )
    result = 1;
  else
    result = 0;
  return result;
}

//----- (00496CF0) --------------------------------------------------------
char *__cdecl WritePacket(char *a1, int a2)
{
  int v2; // ecx
  int result; // [esp+4h] [ebp-14h]
  size_t v5; // [esp+8h] [ebp-10h]
  void *v6; // [esp+Ch] [ebp-Ch]
  char *v7; // [esp+10h] [ebp-8h]
  char *v8; // [esp+14h] [ebp-4h]
  int a5; // [esp+24h] [ebp+Ch]
  int a5a; // [esp+24h] [ebp+Ch]

  a5 = a2 + 4;
  v8 = *(char **)(a5 - 4);
  while ( 1 )
  {
    result = *v8++;
    switch ( result )
    {
      case 0:
        return a1;
      case 66:
      case 98:
        a5 += 4;
        *a1++ = *(_BYTE *)(a5 - 4);
        break;
      case 73:
        a5 += 8;
        *(_DWORD *)a1 = *(_DWORD *)(a5 - 8);
        *((_DWORD *)a1 + 1) = *(_DWORD *)(a5 - 4);
        a1 += 8;
        break;
      case 77:
      case 109:
        a5a = a5 + 4;
        v6 = *(void **)(a5a - 4);
        a5 = a5a + 4;
        v5 = *(_DWORD *)(a5 - 4);
        memcpy(a1, v6, v5);
        a1 += v5;
        break;
      case 83:
      case 115:
        a5 += 4;
        v7 = *(char **)(a5 - 4);
        if ( v7 )
        {
          do
          {
            *a1 = *v7;
            v2 = *a1++;
            ++v7;
          }
          while ( v2 );
        }
        else
        {
          *a1++ = 0;
        }
        break;
      case 87:
      case 119:
        a5 += 4;
        *(_WORD *)a1 = *(_WORD *)(a5 - 4);
        a1 += 2;
        break;
      case 100:
        a5 += 4;
        *(_DWORD *)a1 = *(_DWORD *)(a5 - 4);
        a1 += 4;
        break;
      default:
        EBREAK();
        break;
    }
  }
}

//----- (00496F10) --------------------------------------------------------
char *WritePacket(char *packet, const char *formal, ...)
{
  return WritePacket(packet, (int)&formal);
}

//----- (00496F40) --------------------------------------------------------
char *__stdcall ReadPacketV(char *a1, int a2)
{
  _DWORD *v2; // edx
  int v4; // ecx
  int result; // [esp+4h] [ebp-1Ch]
  int v7; // [esp+8h] [ebp-18h]
  char **v8; // [esp+Ch] [ebp-14h]
  size_t v9; // [esp+10h] [ebp-10h]
  void *v10; // [esp+14h] [ebp-Ch]
  char *v11; // [esp+18h] [ebp-8h]
  char *v12; // [esp+1Ch] [ebp-4h]
  int a5; // [esp+2Ch] [ebp+Ch]
  int a5a; // [esp+2Ch] [ebp+Ch]
  int a5b; // [esp+2Ch] [ebp+Ch]

  a5 = a2 + 4;
  v12 = *(char **)(a5 - 4);
  while ( 1 )
  {
    result = *v12++;
    switch ( result )
    {
      case 0:
        return a1;
      case 66:
        a5 += 4;
        **(_DWORD **)(a5 - 4) = *a1++;
        break;
      case 73:
        a5 += 4;
        v2 = *(_DWORD **)(a5 - 4);
        *v2 = *(_DWORD *)a1;
        v2[1] = *((_DWORD *)a1 + 1);
        a1 += 8;
        break;
      case 77:
        a5b = a5 + 4;
        v8 = *(char ***)(a5b - 4);
        a5 = a5b + 4;
        v7 = *(_DWORD *)(a5 - 4);
        *v8 = a1;
        a1 += v7;
        break;
      case 83:
        a5 += 4;
        v11 = *(char **)(a5 - 4);
        do
        {
          *v11 = *a1;
          v4 = *v11++;
          ++a1;
        }
        while ( v4 );
        break;
      case 87:
        a5 += 4;
        **(_DWORD **)(a5 - 4) = *(unsigned __int16 *)a1;
        a1 += 2;
        break;
      case 98:
        a5 += 4;
        **(_BYTE **)(a5 - 4) = *a1++;
        break;
      case 100:
        a5 += 4;
        **(_DWORD **)(a5 - 4) = *(_DWORD *)a1;
        a1 += 4;
        break;
      case 109:
        a5a = a5 + 4;
        v10 = *(void **)(a5a - 4);
        a5 = a5a + 4;
        v9 = *(_DWORD *)(a5 - 4);
        memcpy(v10, a1, v9);
        a1 += v9;
        break;
      case 115:
        a5 += 4;
        **(_DWORD **)(a5 - 4) = a1;
        while ( *a1++ )
          ;
        break;
      case 119:
        a5 += 4;
        **(_WORD **)(a5 - 4) = *(_WORD *)a1;
        a1 += 2;
        break;
      default:
        EBREAK(result);
        break;
    }
  }
}

//----- (00497220) --------------------------------------------------------
void *ReadPacket(char *a1, char *a2, ...)
{
  return ReadPacketV(a1, (int)&a2);
}

//----- (00497250) --------------------------------------------------------
char *__stdcall ScanPacketV(char *a1, unsigned int a2, int a3)
{
  _DWORD *v3; // edx
  int v5; // edx
  char *v7; // [esp+0h] [ebp-34h]
  char *v8; // [esp+4h] [ebp-30h]
  int result; // [esp+Ch] [ebp-28h]
  size_t v10; // [esp+10h] [ebp-24h]
  void *v11; // [esp+14h] [ebp-20h]
  char *v12; // [esp+18h] [ebp-1Ch]
  int v13; // [esp+1Ch] [ebp-18h]
  int v14; // [esp+24h] [ebp-10h]
  char **v15; // [esp+28h] [ebp-Ch]
  char *v16; // [esp+30h] [ebp-4h]
  int a6; // [esp+44h] [ebp+10h]
  int a6a; // [esp+44h] [ebp+10h]
  int a6b; // [esp+44h] [ebp+10h]
  int a6c; // [esp+44h] [ebp+10h]

  a6 = a3 + 4;
  v16 = *(char **)(a6 - 4);
  while ( 1 )
  {
LABEL_2:
    result = *v16++;
    switch ( result )
    {
      case 0:
        return a1;
      case 66:
        if ( (unsigned int)a1 < a2 )
        {
          a6 += 4;
          **(_DWORD **)(a6 - 4) = *a1++;
        }
        continue;
      case 73:
        if ( (unsigned int)(a1 + 8) <= a2 )
        {
          a6 += 4;
          v3 = *(_DWORD **)(a6 - 4);
          *v3 = *(_DWORD *)a1;
          v3[1] = *((_DWORD *)a1 + 1);
          a1 += 8;
        }
        continue;
      case 83:
        a6b = a6 + 4;
        v12 = *(char **)(a6b - 4);
        a6 = a6b + 4;
        v13 = *(_DWORD *)(a6 - 4);
        if ( v13 <= 0 )
          EBREAK(*(_DWORD *)(a6 - 4));
        if ( a1 == (char *)a2 )
        {
          *v12 = 0;
          continue;
        }
        if ( (unsigned int)&a1[v13] >= a2 )
          v7 = (char *)a2;
        else
          v7 = &a1[v13];
        while ( 1 )
        {
          *v12 = *a1;
          v5 = *v12++;
          ++a1;
          if ( !v5 )
            goto LABEL_2;
          if ( a1 == v7 )
          {
            *(v12 - 1) = 0;
            goto LABEL_2;
          }
        }
      case 87:
        if ( (unsigned int)(a1 + 2) <= a2 )
        {
          a6 += 4;
          **(_DWORD **)(a6 - 4) = *(unsigned __int16 *)a1;
          a1 += 2;
        }
        continue;
      case 98:
        if ( (unsigned int)a1 < a2 )
        {
          a6 += 4;
          **(_BYTE **)(a6 - 4) = *a1++;
        }
        continue;
      case 100:
        if ( (unsigned int)(a1 + 4) <= a2 )
        {
          a6 += 4;
          **(_DWORD **)(a6 - 4) = *(_DWORD *)a1;
          a1 += 4;
        }
        continue;
      case 109:
        a6c = a6 + 4;
        v11 = *(void **)(a6c - 4);
        a6 = a6c + 4;
        v10 = *(_DWORD *)(a6 - 4);
        if ( (unsigned int)&a1[v10] <= a2 )
        {
          memcpy(v11, a1, v10);
          a1 += v10;
        }
        continue;
      case 115:
        a6a = a6 + 4;
        v15 = *(char ***)(a6a - 4);
        a6 = a6a + 4;
        v14 = *(_DWORD *)(a6 - 4);
        *v15 = a1;
        if ( (unsigned int)&a1[v14] >= a2 )
          v8 = (char *)a2;
        else
          v8 = &a1[v14];
        break;
      case 119:
        if ( (unsigned int)(a1 + 2) <= a2 )
        {
          a6 += 4;
          **(_WORD **)(a6 - 4) = *(_WORD *)a1;
          a1 += 2;
        }
        continue;
      default:
        EBREAK(result);
        continue;
    }
    while ( a1 != v8 )
    {
      if ( !*a1++ )
        goto LABEL_2;
    }
    *v15 = &Source;
  }
}

//----- (004975F0) --------------------------------------------------------
char *ScanPacket(char *Src, char *a5, const char *a6, ...)
{
  return ScanPacketV(Src, (unsigned int)a5, (int)&a6);
}

//----- (00497620) --------------------------------------------------------
char *__stdcall GetString(char *packet, char *str)
{
  int v2; // ecx

  do
  {
    *str = *packet;
    v2 = *str++;
    ++packet;
  }
  while ( v2 );
  return packet;
}

//----- (00497660) --------------------------------------------------------
char *__stdcall PutString(char *a1, const char *a2)
{
  int v2; // ecx

  do
  {
    *a1 = *a2;
    v2 = *a1++;
    ++a2;
  }
  while ( v2 );
  return a1;
}

//----- (004976A0) --------------------------------------------------------
void __cdecl init_codepage()
{
  int v0; // [esp+0h] [ebp-8h]
  int i; // [esp+4h] [ebp-4h]

  for ( i = 0; i < 256; ++i )
  {
    if ( IsDBCSLeadByte(i) )
      LOBYTE(v0) = -1;
    else
      v0 = tolower(i) & 0x7F;
    byte_4E35C0[i] = v0;
  }
}

//----- (00497700) --------------------------------------------------------
int __stdcall mbstricmp(const char *s1, const char *s2)
{
  int v3; // [esp+0h] [ebp-Ch]
  int v4; // [esp+0h] [ebp-Ch]
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+4h] [ebp-8h]

  while ( 1 )
  {
    while ( 1 )
    {
      v5 = *(unsigned __int8 *)s1++;
      v3 = *(unsigned __int8 *)s2++;
      if ( byte_4E35C0[v5] >= 0 )
        break;
      v6 = v5 - v3;
      if ( !v6 )
      {
        v7 = *(unsigned __int8 *)s1++;
        v4 = *(unsigned __int8 *)s2++;
        v6 = v7 - v4;
        if ( !v6 )
          continue;
      }
      return v6;
    }
    if ( byte_4E35C0[v5] != byte_4E35C0[v3] )
      break;
    if ( !v5 )
      return 0;
  }
  return byte_4E35C0[v5] - byte_4E35C0[v3];
}

//----- (004977B0) --------------------------------------------------------
int __stdcall IsValidString(const char *str)
{
  int result; // eax
  int v2; // eax
  const char *v3; // [esp+Ch] [ebp+8h]
  const char *v4; // [esp+Ch] [ebp+8h]

  if ( !*str )
    return 0;
  if ( dword_4E35B8 )
  {
    if ( dword_4E35B8 == 1 )
    {
      while ( 1 )
      {
        if ( isalnum(*(unsigned __int8 *)str) || strchr(" \n", *(unsigned __int8 *)str) )
        {
          ++str;
        }
        else
        {
          if ( *(unsigned __int8 *)str < 0xB0u || *(unsigned __int8 *)str > 0xF7u )
            return 0;
          v2 = *(unsigned __int8 *)str;
          v4 = str + 1;
          if ( v2 == 215 )
          {
            if ( *(unsigned __int8 *)v4 < 0xA1u || *(unsigned __int8 *)v4 > 0xF9u )
              return 0;
          }
          else if ( *(unsigned __int8 *)v4 < 0xA1u || *(unsigned __int8 *)v4 == 255 )
          {
            return 0;
          }
          str = v4 + 1;
        }
        if ( !*str )
          goto LABEL_41;
      }
    }
    if ( dword_4E35B8 == 2 )
    {
      while ( isalnum(*(unsigned __int8 *)str) || strchr(" \n", *(unsigned __int8 *)str) )
      {
        if ( !*++str )
          goto LABEL_41;
      }
      result = 0;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    do
    {
      if ( isalnum(*(unsigned __int8 *)str) || strchr(" \n", *(unsigned __int8 *)str) )
      {
        ++str;
      }
      else
      {
        if ( *(unsigned __int8 *)str < 0xB0u || *(unsigned __int8 *)str > 0xC8u )
          return 0;
        v3 = str + 1;
        if ( *(unsigned __int8 *)v3 < 0xA1u || *(unsigned __int8 *)v3 == 255 )
          return 0;
        str = v3 + 1;
      }
    }
    while ( *str );
LABEL_41:
    result = 1;
  }
  return result;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (004979C0) --------------------------------------------------------
int __stdcall IsValidName(const char *name)
{
  int result; // eax
  int v2; // edx
  const char *v3; // [esp+Ch] [ebp+8h]
  const char *v4; // [esp+Ch] [ebp+8h]

  if ( !*name )
    return 0;
  if ( dword_4E35B8 )
  {
    if ( dword_4E35B8 == 1 )
    {
      while ( 1 )
      {
        if ( isalnum(*(unsigned __int8 *)name) )
        {
          ++name;
        }
        else
        {
          if ( *(unsigned __int8 *)name < 0xB0u || *(unsigned __int8 *)name > 0xF7u )
            return 0;
          v2 = *(unsigned __int8 *)name;
          v4 = name + 1;
          if ( v2 == 215 )
          {
            if ( *(unsigned __int8 *)v4 < 0xA1u || *(unsigned __int8 *)v4 > 0xF9u )
              return 0;
          }
          else if ( *(unsigned __int8 *)v4 < 0xA1u || *(unsigned __int8 *)v4 == 255 )
          {
            return 0;
          }
          name = v4 + 1;
        }
        if ( !*name )
          goto LABEL_38;
      }
    }
    if ( dword_4E35B8 == 2 )
    {
      while ( isalnum(*(unsigned __int8 *)name) )
      {
        if ( !*++name )
          goto LABEL_38;
      }
      result = 0;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    do
    {
      if ( isalnum(*(unsigned __int8 *)name) )
      {
        ++name;
      }
      else
      {
        if ( *(unsigned __int8 *)name < 0xB0u || *(unsigned __int8 *)name > 0xC8u )
          return 0;
        v3 = name + 1;
        if ( *(unsigned __int8 *)v3 < 0xA1u || *(unsigned __int8 *)v3 == 255 )
          return 0;
        name = v3 + 1;
      }
    }
    while ( *name );
LABEL_38:
    result = 1;
  }
  return result;
}
// 4E35B8: using guessed type int dword_4E35B8;

//----- (00497B80) --------------------------------------------------------
int __stdcall IsValidAdminName(const char *name)
{
  const char *v2; // [esp+8h] [ebp+8h]

  if ( !*name )
    return 0;
  do
  {
    if ( byte_4E35C0[*(unsigned __int8 *)name] >= 0 )
    {
      if ( !isalnum(*(unsigned __int8 *)name) && !strchr("_<>", *(unsigned __int8 *)name) )
        return 0;
      ++name;
    }
    else
    {
      v2 = name + 1;
      if ( !*v2 )
        return 0;
      name = v2 + 1;
    }
  }
  while ( *name );
  return 1;
}

//----- (00497C20) --------------------------------------------------------
std::string *__cdecl GetUniqueName(std::string *result)
{
  CHAR *i; // [esp+0h] [ebp-114h]
  CHAR Str[268]; // [esp+4h] [ebp-110h] BYREF
  int v4; // [esp+110h] [ebp-4h]

  v4 = dword_4D9830;
  GetModuleFileNameA(0, Str, 0x104u);
  for ( i = Str; *i; ++i )
  {
    if ( *i == 92 )
      *i = 47;
  }
  std::string::string(result, Str);
  return result;
}
// 4D9830: using guessed type int dword_4D9830;

//----- (00497CB0) --------------------------------------------------------
void __thiscall InitCodePage::InitCodePage(InitCodePage *this)
{
  init_codepage();
  dword_4E3748 = GetACP();
}
// 4E3748: using guessed type int dword_4E3748;

//----- (00497CE0) --------------------------------------------------------
int __stdcall _HsCrypt_InitCrypt(int a1)
{
  if ( !a1 )
    return 110594;
  memset((void *)(a1 + 16), 0, 0x20Cu);
  memset((void *)(a1 + 566), 0, 0x20Cu);
  sub_49EFED(a1 + 16, (int *)a1, 16);
  sub_49F008(a1 + 566, (int *)a1, 16);
  return 0;
}

//----- (00497D5D) --------------------------------------------------------
int __stdcall _HsCrypt_GetEncMsg(void *Src, int a2, int a3, void *a4, int a5)
{
  if ( !Src || !a2 || !a3 || !a4 || !a5 )
    return 110595;
  AES_ECB_Encrypt(a3, a4, Src, a2, (int)&unk_4CD658);
  return 0;
}

//----- (00497DA8) --------------------------------------------------------
int __stdcall _HsCrypt_GetDecMsg(void *Src, int a2, int a3, void *a4, int a5)
{
  if ( !Src || !a2 || !a3 || !a4 || !a5 )
    return 110596;
  sub_49F10F(a3, a4, Src, a2, (int)&unk_4CD658);
  return 0;
}

//----- (00497DF3) --------------------------------------------------------
int __stdcall _HsCrypt_FSeek(FILE *Stream, int a2)
{
  __int32 v3; // [esp+0h] [ebp-4h]

  if ( a2 )
    v3 = a2 / 16;
  else
    v3 = 0;
  return fseek(Stream, 16 * v3, 0);
}

//----- (004983BD) --------------------------------------------------------
unsigned int __stdcall _HsCrypt_EncFfile(FILE *Stream, void *a2, size_t ElementCount, unsigned int *a4, unsigned __int8 *a5)
{
  void *v5; // esp
  unsigned int result; // eax
  _DWORD v7[6]; // [esp-Ch] [ebp-2038h] BYREF
  int v8; // [esp+Ch] [ebp-2020h]
  size_t v9; // [esp+10h] [ebp-201Ch]
  char Src; // [esp+14h] [ebp-2018h] BYREF
  char v11[4092]; // [esp+15h] [ebp-2017h] BYREF
  __int16 v12; // [esp+1011h] [ebp-101Bh]
  char v13; // [esp+1013h] [ebp-1019h]
  char v14; // [esp+1014h] [ebp-1018h] BYREF
  char v15[4092]; // [esp+1015h] [ebp-1017h] BYREF
  __int16 v16; // [esp+2011h] [ebp-1Bh]
  char v17; // [esp+2013h] [ebp-19h]
  CPPEH_RECORD ms_exc; // [esp+2014h] [ebp-18h]

  v5 = alloca(8212);
  ms_exc.old_esp = (DWORD)v7;
  v8 = 0;
  v9 = 0;
  Src = 0;
  memset(v11, 0, sizeof(v11));
  v12 = 0;
  v13 = 0;
  v14 = 0;
  memset(v15, 0, sizeof(v15));
  v16 = 0;
  v17 = 0;
  ms_exc.registration.TryLevel = 0;
  if ( Stream && a2 && ElementCount && ElementCount <= 0x1000 && a4 && a5 )
  {
    v9 = sub_4A17A2(&Src, 1u, ElementCount, Stream);
    if ( v9 )
    {
      v8 = _HsCrypt_GetEncMsg(&Src, v9, (int)a5, &v14, 4096);
      if ( v8 )
      {
        v7[3] = 110626;
        ms_exc.registration.TryLevel = -1;
        result = 110626;
      }
      else
      {
        memcpy(a2, &v14, v9);
        *a4 = v9;
        result = 0;
      }
    }
    else
    {
      v7[4] = 110625;
      ms_exc.registration.TryLevel = -1;
      result = 110625;
    }
  }
  else
  {
    v7[5] = 110624;
    ms_exc.registration.TryLevel = -1;
    result = 110624;
  }
  return result;
}

//----- (00498577) --------------------------------------------------------
unsigned int __stdcall _HsCrypt_FileFEnc(char *FileName, void *Src, void *a3)
{
  void *v3; // esp
  int v5; // eax
  unsigned int a4; // [esp+20h] [ebp-1590h] BYREF
  FILE *Stream; // [esp+24h] [ebp-158Ch]
  FILE *stream; // [esp+28h] [ebp-1588h]
  unsigned int v9; // [esp+2Ch] [ebp-1584h]
  int a1[4]; // [esp+30h] [ebp-1580h] BYREF
  unsigned __int8 a5[1100]; // [esp+40h] [ebp-1570h] BYREF
  CHAR NewFileName[260]; // [esp+48Ch] [ebp-1124h] BYREF
  char a2; // [esp+590h] [ebp-1020h] BYREF
  char v14[4092]; // [esp+591h] [ebp-101Fh] BYREF
  __int16 v15; // [esp+158Dh] [ebp-23h]
  char v16; // [esp+158Fh] [ebp-21h]
  unsigned int v17; // [esp+1590h] [ebp-20h]
  unsigned __int32 v18; // [esp+1594h] [ebp-1Ch]
  CPPEH_RECORD ms_exc; // [esp+1598h] [ebp-18h] BYREF

  v3 = alloca(5528);
  v9 = 0;
  a4 = 0;
  v17 = 0;
  v18 = 0;
  a2 = 0;
  memset(v14, 0, sizeof(v14));
  v15 = 0;
  v16 = 0;
  NewFileName[0] = 0;
  memset(&NewFileName[1], 0, 0x100u);
  *(_WORD *)&NewFileName[257] = 0;
  NewFileName[259] = 0;
  stream = 0;
  Stream = 0;
  ms_exc.registration.TryLevel = 0;
  if ( FileName && a3 )
  {
    stream = fopen(FileName, "rb+");
    if ( !stream )
    {
      _local_unwind2(&ms_exc.registration, -1);
      return 110609;
    }
    v5 = _fileno(stream);
    v18 = _filelength(v5);
    if ( v18 == -1 )
    {
      _local_unwind2(&ms_exc.registration, -1);
      return 110610;
    }
    if ( !v18 )
    {
      _local_unwind2(&ms_exc.registration, -1);
      return 110611;
    }
    memcpy(a1, Src, sizeof(a1));
    v9 = _HsCrypt_InitCrypt((int)a1);
    if ( v9 )
    {
      _local_unwind2(&ms_exc.registration, -1);
      return 110612;
    }
    sprintf(NewFileName, "%s.bak", FileName);
    memcpy(a3, NewFileName, 0x104u);
    if ( !CopyFileA(FileName, NewFileName, 0) )
    {
      _local_unwind2(&ms_exc.registration, -1);
      return 110613;
    }
    Stream = fopen(NewFileName, "rb");
    if ( !Stream )
    {
      _local_unwind2(&ms_exc.registration, -1);
      return 110609;
    }
    while ( v17 < v18 )
    {
      v9 = _HsCrypt_EncFfile(Stream, &a2, 0x1000u, &a4, a5);
      if ( v9 )
      {
        _local_unwind2(&ms_exc.registration, -1);
        return 110614;
      }
      v17 += a4;
      v9 = fread_0(&a2, 1u, a4, stream);
      if ( v9 < a4 )
      {
        _local_unwind2(&ms_exc.registration, -1);
        return 110615;
      }
    }
    v9 = 0;
  }
  else
  {
    v9 = 110608;
  }
  ms_exc.registration.TryLevel = -1;
  if ( stream )
  {
    fclose(stream);
    stream = 0;
  }
  if ( Stream )
  {
    fclose(Stream);
    Stream = 0;
  }
  return v9;
}
// 4A076A: using guessed type _DWORD __cdecl _local_unwind2(_DWORD, _DWORD);

//----- (00498920) --------------------------------------------------------
unsigned int __cdecl convert_key(int a1)
{
  unsigned int result; // eax
  unsigned int i; // [esp+4h] [ebp-4h]

  for ( i = 4; i < 4 * *(_DWORD *)(a1 + 516); ++i )
  {
    *(_DWORD *)(a1 + 4 * i + 256) = dword_4D2308[*(unsigned __int8 *)(a1 + 4 * i + 256)] ^ dword_4D1F08[(unsigned __int8)BYTE1(*(_DWORD *)(a1 + 4 * i + 256))] ^ dword_4D1B08[(unsigned __int8)BYTE2(*(_DWORD *)(a1 + 4 * i + 256))] ^ dword_4D1708[(unsigned __int8)HIBYTE(*(_DWORD *)(a1 + 4 * i + 256))];
    result = i + 1;
  }
  return result;
}

//----- (004989CB) --------------------------------------------------------
__int16 __cdecl aes_set_key(int *a1, int a2, char a3, int a4)
{
  __int16 result; // ax
  int v5; // [esp+8h] [ebp-34h]
  int v6; // [esp+8h] [ebp-34h]
  int v7; // [esp+8h] [ebp-34h]
  int v8; // [esp+8h] [ebp-34h]
  int v9; // [esp+8h] [ebp-34h]
  int v10; // [esp+8h] [ebp-34h]
  int v11; // [esp+8h] [ebp-34h]
  int v12; // [esp+8h] [ebp-34h]
  int v13; // [esp+Ch] [ebp-30h]
  int v14; // [esp+Ch] [ebp-30h]
  int v15; // [esp+Ch] [ebp-30h]
  int v16; // [esp+Ch] [ebp-30h]
  int v17; // [esp+Ch] [ebp-30h]
  int v18; // [esp+Ch] [ebp-30h]
  int v19; // [esp+Ch] [ebp-30h]
  int v20; // [esp+Ch] [ebp-30h]
  int v21; // [esp+10h] [ebp-2Ch]
  int v22; // [esp+10h] [ebp-2Ch]
  int v23; // [esp+10h] [ebp-2Ch]
  int v24; // [esp+10h] [ebp-2Ch]
  int v25; // [esp+10h] [ebp-2Ch]
  int v26; // [esp+10h] [ebp-2Ch]
  int v27; // [esp+10h] [ebp-2Ch]
  int v28; // [esp+10h] [ebp-2Ch]
  int v29; // [esp+14h] [ebp-28h]
  int v30; // [esp+14h] [ebp-28h]
  int v31; // [esp+14h] [ebp-28h]
  int v32; // [esp+14h] [ebp-28h]
  int v33; // [esp+14h] [ebp-28h]
  int v34; // [esp+14h] [ebp-28h]
  int v35; // [esp+14h] [ebp-28h]
  int v36; // [esp+14h] [ebp-28h]
  int v37; // [esp+18h] [ebp-24h]
  int v38; // [esp+18h] [ebp-24h]
  int v39; // [esp+18h] [ebp-24h]
  int v40; // [esp+18h] [ebp-24h]
  int v41; // [esp+18h] [ebp-24h]
  int v42; // [esp+18h] [ebp-24h]
  int v43; // [esp+18h] [ebp-24h]
  int v44; // [esp+18h] [ebp-24h]
  int v45; // [esp+1Ch] [ebp-20h]
  int v46; // [esp+1Ch] [ebp-20h]
  int v47; // [esp+1Ch] [ebp-20h]
  int v48; // [esp+1Ch] [ebp-20h]
  int v49; // [esp+1Ch] [ebp-20h]
  int v50; // [esp+1Ch] [ebp-20h]
  int v51; // [esp+1Ch] [ebp-20h]
  int v52; // [esp+1Ch] [ebp-20h]
  unsigned int v53; // [esp+1Ch] [ebp-20h]
  int v54; // [esp+1Ch] [ebp-20h]
  int v55; // [esp+1Ch] [ebp-20h]
  int v56; // [esp+1Ch] [ebp-20h]
  int v57; // [esp+1Ch] [ebp-20h]
  int v58; // [esp+1Ch] [ebp-20h]
  int v59; // [esp+1Ch] [ebp-20h]
  int v60; // [esp+1Ch] [ebp-20h]
  int v61; // [esp+1Ch] [ebp-20h]
  int v62; // [esp+1Ch] [ebp-20h]
  unsigned int v63; // [esp+1Ch] [ebp-20h]
  int v64; // [esp+1Ch] [ebp-20h]
  int v65; // [esp+1Ch] [ebp-20h]
  int v66; // [esp+1Ch] [ebp-20h]
  int v67; // [esp+1Ch] [ebp-20h]
  int v68; // [esp+1Ch] [ebp-20h]
  int v69; // [esp+1Ch] [ebp-20h]
  int v70; // [esp+1Ch] [ebp-20h]
  int v71; // [esp+1Ch] [ebp-20h]
  int v72; // [esp+1Ch] [ebp-20h]
  int v73; // [esp+1Ch] [ebp-20h]
  int v74; // [esp+1Ch] [ebp-20h]
  int v75; // [esp+1Ch] [ebp-20h]
  int v76; // [esp+1Ch] [ebp-20h]
  int v77; // [esp+1Ch] [ebp-20h]
  int v78; // [esp+1Ch] [ebp-20h]
  int v79; // [esp+1Ch] [ebp-20h]
  int v80; // [esp+1Ch] [ebp-20h]
  int v81; // [esp+1Ch] [ebp-20h]
  unsigned int v82; // [esp+1Ch] [ebp-20h]
  int v83; // [esp+1Ch] [ebp-20h]
  int v84; // [esp+1Ch] [ebp-20h]
  int v85; // [esp+1Ch] [ebp-20h]
  int v86; // [esp+1Ch] [ebp-20h]
  int v87; // [esp+1Ch] [ebp-20h]
  int v88; // [esp+1Ch] [ebp-20h]
  int v89; // [esp+1Ch] [ebp-20h]
  int v90; // [esp+20h] [ebp-1Ch]
  int v91; // [esp+20h] [ebp-1Ch]
  int v92; // [esp+20h] [ebp-1Ch]
  int v93; // [esp+20h] [ebp-1Ch]
  int v94; // [esp+20h] [ebp-1Ch]
  int v95; // [esp+20h] [ebp-1Ch]
  int v96; // [esp+20h] [ebp-1Ch]
  int v97; // [esp+20h] [ebp-1Ch]
  int v98; // [esp+20h] [ebp-1Ch]
  int v99; // [esp+20h] [ebp-1Ch]
  int v100; // [esp+20h] [ebp-1Ch]
  int v101; // [esp+20h] [ebp-1Ch]
  int v102; // [esp+20h] [ebp-1Ch]
  int v103; // [esp+20h] [ebp-1Ch]
  int v104; // [esp+20h] [ebp-1Ch]
  int v105; // [esp+20h] [ebp-1Ch]
  int v106; // [esp+20h] [ebp-1Ch]
  int v107; // [esp+20h] [ebp-1Ch]
  int v108; // [esp+20h] [ebp-1Ch]
  int v109; // [esp+20h] [ebp-1Ch]
  int v110; // [esp+20h] [ebp-1Ch]
  int v111; // [esp+20h] [ebp-1Ch]
  int v112; // [esp+20h] [ebp-1Ch]
  int v113; // [esp+20h] [ebp-1Ch]
  int v114; // [esp+20h] [ebp-1Ch]
  int v115; // [esp+20h] [ebp-1Ch]
  int v116; // [esp+20h] [ebp-1Ch]
  int v117; // [esp+20h] [ebp-1Ch]
  int v118; // [esp+20h] [ebp-1Ch]
  int v119; // [esp+20h] [ebp-1Ch]
  int v120; // [esp+20h] [ebp-1Ch]
  int v121; // [esp+20h] [ebp-1Ch]
  int v122; // [esp+20h] [ebp-1Ch]
  int v123; // [esp+20h] [ebp-1Ch]
  int v124; // [esp+20h] [ebp-1Ch]
  int v125; // [esp+20h] [ebp-1Ch]
  int v126; // [esp+20h] [ebp-1Ch]
  int v127; // [esp+20h] [ebp-1Ch]
  int v128; // [esp+20h] [ebp-1Ch]
  int v129; // [esp+20h] [ebp-1Ch]
  int v130; // [esp+20h] [ebp-1Ch]
  int v131; // [esp+20h] [ebp-1Ch]
  int v132; // [esp+20h] [ebp-1Ch]
  int v133; // [esp+20h] [ebp-1Ch]
  int v134; // [esp+20h] [ebp-1Ch]
  int v135; // [esp+24h] [ebp-18h]
  int v136; // [esp+24h] [ebp-18h]
  int v137; // [esp+24h] [ebp-18h]
  int v138; // [esp+24h] [ebp-18h]
  int v139; // [esp+24h] [ebp-18h]
  int v140; // [esp+24h] [ebp-18h]
  int v141; // [esp+24h] [ebp-18h]
  int v142; // [esp+24h] [ebp-18h]
  int v143; // [esp+24h] [ebp-18h]
  int v144; // [esp+24h] [ebp-18h]
  int v145; // [esp+24h] [ebp-18h]
  int v146; // [esp+24h] [ebp-18h]
  int v147; // [esp+24h] [ebp-18h]
  int v148; // [esp+24h] [ebp-18h]
  int v149; // [esp+24h] [ebp-18h]
  int v150; // [esp+24h] [ebp-18h]
  int v151; // [esp+24h] [ebp-18h]
  int v152; // [esp+24h] [ebp-18h]
  int v153; // [esp+24h] [ebp-18h]
  int v154; // [esp+24h] [ebp-18h]
  int v155; // [esp+24h] [ebp-18h]
  int v156; // [esp+24h] [ebp-18h]
  int v157; // [esp+24h] [ebp-18h]
  int v158; // [esp+24h] [ebp-18h]
  int v159; // [esp+24h] [ebp-18h]
  int v160; // [esp+24h] [ebp-18h]
  int v161; // [esp+24h] [ebp-18h]
  int v162; // [esp+24h] [ebp-18h]
  int v163; // [esp+24h] [ebp-18h]
  int v164; // [esp+24h] [ebp-18h]
  int v165; // [esp+24h] [ebp-18h]
  int v166; // [esp+24h] [ebp-18h]
  int v167; // [esp+24h] [ebp-18h]
  int v168; // [esp+24h] [ebp-18h]
  int v169; // [esp+24h] [ebp-18h]
  int v170; // [esp+24h] [ebp-18h]
  int v171; // [esp+24h] [ebp-18h]
  int v172; // [esp+24h] [ebp-18h]
  int v173; // [esp+24h] [ebp-18h]
  int v174; // [esp+24h] [ebp-18h]
  int v175; // [esp+24h] [ebp-18h]
  int v176; // [esp+24h] [ebp-18h]
  int v177; // [esp+24h] [ebp-18h]
  int v178; // [esp+24h] [ebp-18h]
  int v179; // [esp+28h] [ebp-14h]
  int v180; // [esp+28h] [ebp-14h]
  int v181; // [esp+28h] [ebp-14h]
  int v182; // [esp+28h] [ebp-14h]
  int v183; // [esp+28h] [ebp-14h]
  int v184; // [esp+28h] [ebp-14h]
  int v185; // [esp+28h] [ebp-14h]
  int v186; // [esp+28h] [ebp-14h]
  int v187; // [esp+28h] [ebp-14h]
  int v188; // [esp+28h] [ebp-14h]
  int v189; // [esp+28h] [ebp-14h]
  int v190; // [esp+28h] [ebp-14h]
  int v191; // [esp+28h] [ebp-14h]
  int v192; // [esp+28h] [ebp-14h]
  int v193; // [esp+28h] [ebp-14h]
  int v194; // [esp+28h] [ebp-14h]
  int v195; // [esp+28h] [ebp-14h]
  int v196; // [esp+28h] [ebp-14h]
  int v197; // [esp+28h] [ebp-14h]
  int v198; // [esp+28h] [ebp-14h]
  int v199; // [esp+28h] [ebp-14h]
  int v200; // [esp+28h] [ebp-14h]
  int v201; // [esp+28h] [ebp-14h]
  int v202; // [esp+28h] [ebp-14h]
  int v203; // [esp+28h] [ebp-14h]
  int v204; // [esp+28h] [ebp-14h]
  int v205; // [esp+28h] [ebp-14h]
  int v206; // [esp+28h] [ebp-14h]
  int v207; // [esp+28h] [ebp-14h]
  int v208; // [esp+28h] [ebp-14h]
  int v209; // [esp+28h] [ebp-14h]
  int v210; // [esp+28h] [ebp-14h]
  int v211; // [esp+28h] [ebp-14h]
  int v212; // [esp+28h] [ebp-14h]
  int v213; // [esp+28h] [ebp-14h]
  int v214; // [esp+28h] [ebp-14h]
  int v215; // [esp+28h] [ebp-14h]
  int v216; // [esp+28h] [ebp-14h]
  int v217; // [esp+28h] [ebp-14h]
  int v218; // [esp+2Ch] [ebp-10h]
  int v219; // [esp+2Ch] [ebp-10h]
  int v220; // [esp+2Ch] [ebp-10h]
  int v221; // [esp+2Ch] [ebp-10h]
  int v222; // [esp+2Ch] [ebp-10h]
  int v223; // [esp+2Ch] [ebp-10h]
  int v224; // [esp+2Ch] [ebp-10h]
  int v225; // [esp+2Ch] [ebp-10h]
  int v226; // [esp+2Ch] [ebp-10h]
  int v227; // [esp+2Ch] [ebp-10h]
  int v228; // [esp+2Ch] [ebp-10h]
  int v229; // [esp+2Ch] [ebp-10h]
  int v230; // [esp+2Ch] [ebp-10h]
  int v231; // [esp+2Ch] [ebp-10h]
  int v232; // [esp+2Ch] [ebp-10h]
  int v233; // [esp+2Ch] [ebp-10h]
  int v234; // [esp+2Ch] [ebp-10h]
  int v235; // [esp+2Ch] [ebp-10h]
  int v236; // [esp+2Ch] [ebp-10h]
  int v237; // [esp+2Ch] [ebp-10h]
  int v238; // [esp+2Ch] [ebp-10h]
  int v239; // [esp+2Ch] [ebp-10h]
  int v240; // [esp+2Ch] [ebp-10h]
  int v241; // [esp+2Ch] [ebp-10h]
  int v242; // [esp+2Ch] [ebp-10h]
  int v243; // [esp+2Ch] [ebp-10h]
  int v244; // [esp+2Ch] [ebp-10h]
  int v245; // [esp+2Ch] [ebp-10h]
  int v246; // [esp+2Ch] [ebp-10h]
  int v247; // [esp+2Ch] [ebp-10h]
  int v248; // [esp+2Ch] [ebp-10h]
  int v249; // [esp+2Ch] [ebp-10h]
  int v250; // [esp+2Ch] [ebp-10h]
  int v251; // [esp+2Ch] [ebp-10h]
  int v252; // [esp+2Ch] [ebp-10h]
  int v253; // [esp+2Ch] [ebp-10h]
  int v254; // [esp+2Ch] [ebp-10h]
  int v255; // [esp+2Ch] [ebp-10h]
  int v256; // [esp+2Ch] [ebp-10h]
  int v257; // [esp+2Ch] [ebp-10h]
  int v258; // [esp+2Ch] [ebp-10h]
  int v259; // [esp+2Ch] [ebp-10h]
  int v260; // [esp+2Ch] [ebp-10h]
  int v261; // [esp+2Ch] [ebp-10h]
  unsigned int v262; // [esp+2Ch] [ebp-10h]
  int v263; // [esp+2Ch] [ebp-10h]
  int v264; // [esp+2Ch] [ebp-10h]
  int v265; // [esp+2Ch] [ebp-10h]
  int v266; // [esp+2Ch] [ebp-10h]
  int v267; // [esp+2Ch] [ebp-10h]
  int v268; // [esp+2Ch] [ebp-10h]
  int v269; // [esp+2Ch] [ebp-10h]
  int v270; // [esp+2Ch] [ebp-10h]
  int v271; // [esp+2Ch] [ebp-10h]
  int v272; // [esp+2Ch] [ebp-10h]
  int v273; // [esp+2Ch] [ebp-10h]
  int v274; // [esp+2Ch] [ebp-10h]
  int v275; // [esp+2Ch] [ebp-10h]
  int v276; // [esp+2Ch] [ebp-10h]
  int v277; // [esp+2Ch] [ebp-10h]
  int v278; // [esp+2Ch] [ebp-10h]
  int v279; // [esp+2Ch] [ebp-10h]
  int v280; // [esp+2Ch] [ebp-10h]
  int v281; // [esp+2Ch] [ebp-10h]
  int v282; // [esp+2Ch] [ebp-10h]
  int v283; // [esp+2Ch] [ebp-10h]
  int v284; // [esp+30h] [ebp-Ch]
  int v285; // [esp+30h] [ebp-Ch]
  int v286; // [esp+30h] [ebp-Ch]
  int v287; // [esp+30h] [ebp-Ch]
  int v288; // [esp+30h] [ebp-Ch]
  int v289; // [esp+30h] [ebp-Ch]
  int v290; // [esp+30h] [ebp-Ch]
  int v291; // [esp+30h] [ebp-Ch]
  int v292; // [esp+30h] [ebp-Ch]
  int v293; // [esp+30h] [ebp-Ch]
  int v294; // [esp+30h] [ebp-Ch]
  int v295; // [esp+30h] [ebp-Ch]
  int v296; // [esp+30h] [ebp-Ch]
  int v297; // [esp+30h] [ebp-Ch]
  int v298; // [esp+30h] [ebp-Ch]
  int v299; // [esp+30h] [ebp-Ch]
  int v300; // [esp+30h] [ebp-Ch]
  int v301; // [esp+30h] [ebp-Ch]
  int v302; // [esp+30h] [ebp-Ch]
  int v303; // [esp+30h] [ebp-Ch]
  int v304; // [esp+30h] [ebp-Ch]
  int v305; // [esp+30h] [ebp-Ch]
  int v306; // [esp+30h] [ebp-Ch]
  int v307; // [esp+30h] [ebp-Ch]
  int v308; // [esp+30h] [ebp-Ch]
  int v309; // [esp+30h] [ebp-Ch]
  int v310; // [esp+30h] [ebp-Ch]
  int v311; // [esp+30h] [ebp-Ch]
  int v312; // [esp+30h] [ebp-Ch]
  int v313; // [esp+34h] [ebp-8h]
  int v314; // [esp+34h] [ebp-8h]
  int v315; // [esp+34h] [ebp-8h]
  int v316; // [esp+34h] [ebp-8h]
  int v317; // [esp+34h] [ebp-8h]
  int v318; // [esp+34h] [ebp-8h]
  int v319; // [esp+34h] [ebp-8h]
  int v320; // [esp+34h] [ebp-8h]
  int v321; // [esp+34h] [ebp-8h]
  int v322; // [esp+34h] [ebp-8h]
  int v323; // [esp+34h] [ebp-8h]
  int v324; // [esp+34h] [ebp-8h]
  int v325; // [esp+34h] [ebp-8h]
  int v326; // [esp+34h] [ebp-8h]
  int v327; // [esp+34h] [ebp-8h]
  int v328; // [esp+34h] [ebp-8h]
  int v329; // [esp+34h] [ebp-8h]
  int v330; // [esp+34h] [ebp-8h]
  int v331; // [esp+34h] [ebp-8h]
  int v332; // [esp+34h] [ebp-8h]
  int v333; // [esp+34h] [ebp-8h]
  int v334; // [esp+34h] [ebp-8h]
  int v335; // [esp+34h] [ebp-8h]
  int v336; // [esp+34h] [ebp-8h]
  int v337; // [esp+34h] [ebp-8h]
  int v338; // [esp+34h] [ebp-8h]
  int v339; // [esp+34h] [ebp-8h]
  int v340; // [esp+34h] [ebp-8h]
  int v341; // [esp+34h] [ebp-8h]
  int v342; // [esp+34h] [ebp-8h]
  int v343; // [esp+34h] [ebp-8h]
  int v344; // [esp+34h] [ebp-8h]
  int v345; // [esp+34h] [ebp-8h]
  int v346; // [esp+34h] [ebp-8h]
  int v347; // [esp+34h] [ebp-8h]
  int v348; // [esp+34h] [ebp-8h]
  int v349; // [esp+34h] [ebp-8h]
  int v350; // [esp+34h] [ebp-8h]
  int v351; // [esp+34h] [ebp-8h]
  int v352; // [esp+34h] [ebp-8h]
  int v353; // [esp+34h] [ebp-8h]
  int v354; // [esp+34h] [ebp-8h]
  int v355; // [esp+34h] [ebp-8h]
  int v356; // [esp+34h] [ebp-8h]
  int v357; // [esp+34h] [ebp-8h]
  int v358; // [esp+34h] [ebp-8h]
  int v359; // [esp+34h] [ebp-8h]
  int v360; // [esp+34h] [ebp-8h]
  int v361; // [esp+34h] [ebp-8h]
  int v362; // [esp+38h] [ebp-4h]
  int v363; // [esp+38h] [ebp-4h]
  int v364; // [esp+38h] [ebp-4h]
  int v365; // [esp+38h] [ebp-4h]
  int v366; // [esp+38h] [ebp-4h]
  int v367; // [esp+38h] [ebp-4h]
  int v368; // [esp+38h] [ebp-4h]
  int v369; // [esp+38h] [ebp-4h]
  int v370; // [esp+38h] [ebp-4h]
  int v371; // [esp+38h] [ebp-4h]
  int v372; // [esp+38h] [ebp-4h]
  int v373; // [esp+38h] [ebp-4h]
  int v374; // [esp+38h] [ebp-4h]
  int v375; // [esp+38h] [ebp-4h]

  if ( (a3 & 3) == 0 )
    return 0;
  *(_BYTE *)(a4 + 520) = a3 & 3 | *(_BYTE *)(a4 + 520) & 0xFC;
  if ( (*(_BYTE *)(a4 + 520) & 1) != 0 )
  {
    v45 = *a1;
    *(_DWORD *)a4 = *a1;
    v90 = a1[1];
    *(_DWORD *)(a4 + 4) = v90;
    v135 = a1[2];
    *(_DWORD *)(a4 + 8) = v135;
    v179 = a1[3];
    *(_DWORD *)(a4 + 12) = v179;
    switch ( a2 )
    {
      case 0:
        result = 4 * *(_DWORD *)(a4 + 512);
        break;
      case 16:
        v46 = dword_4CF308[HIBYTE(v179)] ^ dword_4CEF08[(unsigned __int8)v179] ^ dword_4CEB08[BYTE1(v179)] ^ dword_4CE708[BYTE2(v179)] ^ 0x1000000 ^ v45;
        *(_DWORD *)(a4 + 16) = v46;
        v91 = v46 ^ v90;
        *(_DWORD *)(a4 + 20) = v91;
        v136 = v91 ^ v135;
        *(_DWORD *)(a4 + 24) = v136;
        v180 = v136 ^ v179;
        *(_DWORD *)(a4 + 28) = v180;
        v47 = dword_4CF308[HIBYTE(v180)] ^ dword_4CEF08[(unsigned __int8)v180] ^ dword_4CEB08[BYTE1(v180)] ^ dword_4CE708[BYTE2(v180)] ^ 0x2000000 ^ v46;
        *(_DWORD *)(a4 + 32) = v47;
        v92 = v47 ^ v91;
        *(_DWORD *)(a4 + 36) = v92;
        v137 = v92 ^ v136;
        *(_DWORD *)(a4 + 40) = v137;
        v181 = v137 ^ v180;
        *(_DWORD *)(a4 + 44) = v181;
        v48 = dword_4CF308[HIBYTE(v181)] ^ dword_4CEF08[(unsigned __int8)v181] ^ dword_4CEB08[BYTE1(v181)] ^ dword_4CE708[BYTE2(v181)] ^ 0x4000000 ^ v47;
        *(_DWORD *)(a4 + 48) = v48;
        v93 = v48 ^ v92;
        *(_DWORD *)(a4 + 52) = v93;
        v138 = v93 ^ v137;
        *(_DWORD *)(a4 + 56) = v138;
        v182 = v138 ^ v181;
        *(_DWORD *)(a4 + 60) = v182;
        v49 = dword_4CF308[HIBYTE(v182)] ^ dword_4CEF08[(unsigned __int8)v182] ^ dword_4CEB08[BYTE1(v182)] ^ dword_4CE708[BYTE2(v182)] ^ 0x8000000 ^ v48;
        *(_DWORD *)(a4 + 64) = v49;
        v94 = v49 ^ v93;
        *(_DWORD *)(a4 + 68) = v94;
        v139 = v94 ^ v138;
        *(_DWORD *)(a4 + 72) = v139;
        v183 = v139 ^ v182;
        *(_DWORD *)(a4 + 76) = v183;
        v50 = dword_4CF308[HIBYTE(v183)] ^ dword_4CEF08[(unsigned __int8)v183] ^ dword_4CEB08[BYTE1(v183)] ^ dword_4CE708[BYTE2(v183)] ^ 0x10000000 ^ v49;
        *(_DWORD *)(a4 + 80) = v50;
        v95 = v50 ^ v94;
        *(_DWORD *)(a4 + 84) = v95;
        v140 = v95 ^ v139;
        *(_DWORD *)(a4 + 88) = v140;
        v184 = v140 ^ v183;
        *(_DWORD *)(a4 + 92) = v184;
        v51 = dword_4CF308[HIBYTE(v184)] ^ dword_4CEF08[(unsigned __int8)v184] ^ dword_4CEB08[BYTE1(v184)] ^ dword_4CE708[BYTE2(v184)] ^ 0x20000000 ^ v50;
        *(_DWORD *)(a4 + 96) = v51;
        v96 = v51 ^ v95;
        *(_DWORD *)(a4 + 100) = v96;
        v141 = v96 ^ v140;
        *(_DWORD *)(a4 + 104) = v141;
        v185 = v141 ^ v184;
        *(_DWORD *)(a4 + 108) = v185;
        v52 = dword_4CF308[HIBYTE(v185)] ^ dword_4CEF08[(unsigned __int8)v185] ^ dword_4CEB08[BYTE1(v185)] ^ dword_4CE708[BYTE2(v185)] ^ 0x40000000 ^ v51;
        *(_DWORD *)(a4 + 112) = v52;
        v97 = v52 ^ v96;
        *(_DWORD *)(a4 + 116) = v97;
        v142 = v97 ^ v141;
        *(_DWORD *)(a4 + 120) = v142;
        v186 = v142 ^ v185;
        *(_DWORD *)(a4 + 124) = v186;
        v53 = dword_4CF308[HIBYTE(v186)] ^ dword_4CEF08[(unsigned __int8)v186] ^ dword_4CEB08[BYTE1(v186)] ^ dword_4CE708[BYTE2(v186)] ^ 0x80000000 ^ v52;
        *(_DWORD *)(a4 + 128) = v53;
        v98 = v53 ^ v97;
        *(_DWORD *)(a4 + 132) = v98;
        v143 = v98 ^ v142;
        *(_DWORD *)(a4 + 136) = v143;
        v187 = v143 ^ v186;
        *(_DWORD *)(a4 + 140) = v187;
        v54 = dword_4CF308[HIBYTE(v187)] ^ dword_4CEF08[(unsigned __int8)v187] ^ dword_4CEB08[BYTE1(v187)] ^ dword_4CE708[BYTE2(v187)] ^ 0x1B000000 ^ v53;
        *(_DWORD *)(a4 + 144) = v54;
        v99 = v54 ^ v98;
        *(_DWORD *)(a4 + 148) = v99;
        v144 = v99 ^ v143;
        *(_DWORD *)(a4 + 152) = v144;
        v188 = v144 ^ v187;
        *(_DWORD *)(a4 + 156) = v188;
        v55 = dword_4CF308[HIBYTE(v188)] ^ dword_4CEF08[(unsigned __int8)v188] ^ dword_4CEB08[BYTE1(v188)] ^ dword_4CE708[BYTE2(v188)] ^ 0x36000000 ^ v54;
        *(_DWORD *)(a4 + 160) = v55;
        v100 = v55 ^ v99;
        *(_DWORD *)(a4 + 164) = v100;
        v145 = v100 ^ v144;
        *(_DWORD *)(a4 + 168) = v145;
        *(_DWORD *)(a4 + 172) = v145 ^ v188;
        *(_DWORD *)(a4 + 512) = 4;
        *(_DWORD *)(a4 + 516) = 10;
        goto LABEL_10;
      case 24:
        v218 = a1[4];
        *(_DWORD *)(a4 + 16) = v218;
        v284 = a1[5];
        *(_DWORD *)(a4 + 20) = v284;
        v56 = dword_4CF308[HIBYTE(v284)] ^ dword_4CEF08[(unsigned __int8)v284] ^ dword_4CEB08[BYTE1(v284)] ^ dword_4CE708[BYTE2(v284)] ^ 0x1000000 ^ v45;
        *(_DWORD *)(a4 + 24) = v56;
        v101 = v56 ^ v90;
        *(_DWORD *)(a4 + 28) = v101;
        v146 = v101 ^ v135;
        *(_DWORD *)(a4 + 32) = v146;
        v189 = v146 ^ v179;
        *(_DWORD *)(a4 + 36) = v189;
        v219 = v189 ^ v218;
        *(_DWORD *)(a4 + 40) = v219;
        v285 = v219 ^ v284;
        *(_DWORD *)(a4 + 44) = v285;
        v57 = dword_4CF308[HIBYTE(v285)] ^ dword_4CEF08[(unsigned __int8)v285] ^ dword_4CEB08[BYTE1(v285)] ^ dword_4CE708[BYTE2(v285)] ^ 0x2000000 ^ v56;
        *(_DWORD *)(a4 + 48) = v57;
        v102 = v57 ^ v101;
        *(_DWORD *)(a4 + 52) = v102;
        v147 = v102 ^ v146;
        *(_DWORD *)(a4 + 56) = v147;
        v190 = v147 ^ v189;
        *(_DWORD *)(a4 + 60) = v190;
        v220 = v190 ^ v219;
        *(_DWORD *)(a4 + 64) = v220;
        v286 = v220 ^ v285;
        *(_DWORD *)(a4 + 68) = v286;
        v58 = dword_4CF308[HIBYTE(v286)] ^ dword_4CEF08[(unsigned __int8)v286] ^ dword_4CEB08[BYTE1(v286)] ^ dword_4CE708[BYTE2(v286)] ^ 0x4000000 ^ v57;
        *(_DWORD *)(a4 + 72) = v58;
        v103 = v58 ^ v102;
        *(_DWORD *)(a4 + 76) = v103;
        v148 = v103 ^ v147;
        *(_DWORD *)(a4 + 80) = v148;
        v191 = v148 ^ v190;
        *(_DWORD *)(a4 + 84) = v191;
        v221 = v191 ^ v220;
        *(_DWORD *)(a4 + 88) = v221;
        v287 = v221 ^ v286;
        *(_DWORD *)(a4 + 92) = v287;
        v59 = dword_4CF308[HIBYTE(v287)] ^ dword_4CEF08[(unsigned __int8)v287] ^ dword_4CEB08[BYTE1(v287)] ^ dword_4CE708[BYTE2(v287)] ^ 0x8000000 ^ v58;
        *(_DWORD *)(a4 + 96) = v59;
        v104 = v59 ^ v103;
        *(_DWORD *)(a4 + 100) = v104;
        v149 = v104 ^ v148;
        *(_DWORD *)(a4 + 104) = v149;
        v192 = v149 ^ v191;
        *(_DWORD *)(a4 + 108) = v192;
        v222 = v192 ^ v221;
        *(_DWORD *)(a4 + 112) = v222;
        v288 = v222 ^ v287;
        *(_DWORD *)(a4 + 116) = v288;
        v60 = dword_4CF308[HIBYTE(v288)] ^ dword_4CEF08[(unsigned __int8)v288] ^ dword_4CEB08[BYTE1(v288)] ^ dword_4CE708[BYTE2(v288)] ^ 0x10000000 ^ v59;
        *(_DWORD *)(a4 + 120) = v60;
        v105 = v60 ^ v104;
        *(_DWORD *)(a4 + 124) = v105;
        v150 = v105 ^ v149;
        *(_DWORD *)(a4 + 128) = v150;
        v193 = v150 ^ v192;
        *(_DWORD *)(a4 + 132) = v193;
        v223 = v193 ^ v222;
        *(_DWORD *)(a4 + 136) = v223;
        v289 = v223 ^ v288;
        *(_DWORD *)(a4 + 140) = v289;
        v61 = dword_4CF308[HIBYTE(v289)] ^ dword_4CEF08[(unsigned __int8)v289] ^ dword_4CEB08[BYTE1(v289)] ^ dword_4CE708[BYTE2(v289)] ^ 0x20000000 ^ v60;
        *(_DWORD *)(a4 + 144) = v61;
        v106 = v61 ^ v105;
        *(_DWORD *)(a4 + 148) = v106;
        v151 = v106 ^ v150;
        *(_DWORD *)(a4 + 152) = v151;
        v194 = v151 ^ v193;
        *(_DWORD *)(a4 + 156) = v194;
        v224 = v194 ^ v223;
        *(_DWORD *)(a4 + 160) = v224;
        v290 = v224 ^ v289;
        *(_DWORD *)(a4 + 164) = v290;
        v62 = dword_4CF308[HIBYTE(v290)] ^ dword_4CEF08[(unsigned __int8)v290] ^ dword_4CEB08[BYTE1(v290)] ^ dword_4CE708[BYTE2(v290)] ^ 0x40000000 ^ v61;
        *(_DWORD *)(a4 + 168) = v62;
        v107 = v62 ^ v106;
        *(_DWORD *)(a4 + 172) = v107;
        v152 = v107 ^ v151;
        *(_DWORD *)(a4 + 176) = v152;
        v195 = v152 ^ v194;
        *(_DWORD *)(a4 + 180) = v195;
        v225 = v195 ^ v224;
        *(_DWORD *)(a4 + 184) = v225;
        v291 = v225 ^ v290;
        *(_DWORD *)(a4 + 188) = v291;
        v63 = dword_4CF308[HIBYTE(v291)] ^ dword_4CEF08[(unsigned __int8)v291] ^ dword_4CEB08[BYTE1(v291)] ^ dword_4CE708[BYTE2(v291)] ^ 0x80000000 ^ v62;
        *(_DWORD *)(a4 + 192) = v63;
        v108 = v63 ^ v107;
        *(_DWORD *)(a4 + 196) = v108;
        v153 = v108 ^ v152;
        *(_DWORD *)(a4 + 200) = v153;
        *(_DWORD *)(a4 + 204) = v153 ^ v195;
        *(_DWORD *)(a4 + 512) = 6;
        *(_DWORD *)(a4 + 516) = 12;
        goto LABEL_10;
      case 32:
        v226 = a1[4];
        *(_DWORD *)(a4 + 16) = v226;
        v292 = a1[5];
        *(_DWORD *)(a4 + 20) = v292;
        v313 = a1[6];
        *(_DWORD *)(a4 + 24) = v313;
        v362 = a1[7];
        *(_DWORD *)(a4 + 28) = v362;
        v64 = dword_4CF308[HIBYTE(v362)] ^ dword_4CEF08[(unsigned __int8)v362] ^ dword_4CEB08[BYTE1(v362)] ^ dword_4CE708[BYTE2(v362)] ^ 0x1000000 ^ v45;
        *(_DWORD *)(a4 + 32) = v64;
        v109 = v64 ^ v90;
        *(_DWORD *)(a4 + 36) = v109;
        v154 = v109 ^ v135;
        *(_DWORD *)(a4 + 40) = v154;
        v196 = v154 ^ v179;
        *(_DWORD *)(a4 + 44) = v196;
        v227 = dword_4CF308[(unsigned __int8)v196] ^ dword_4CEF08[BYTE1(v196)] ^ dword_4CEB08[BYTE2(v196)] ^ dword_4CE708[HIBYTE(v196)] ^ v226;
        *(_DWORD *)(a4 + 48) = v227;
        v293 = v227 ^ v292;
        *(_DWORD *)(a4 + 52) = v293;
        v314 = v293 ^ v313;
        *(_DWORD *)(a4 + 56) = v314;
        v363 = v314 ^ v362;
        *(_DWORD *)(a4 + 60) = v363;
        v65 = dword_4CF308[HIBYTE(v363)] ^ dword_4CEF08[(unsigned __int8)v363] ^ dword_4CEB08[BYTE1(v363)] ^ dword_4CE708[BYTE2(v363)] ^ 0x2000000 ^ v64;
        *(_DWORD *)(a4 + 64) = v65;
        v110 = v65 ^ v109;
        *(_DWORD *)(a4 + 68) = v110;
        v155 = v110 ^ v154;
        *(_DWORD *)(a4 + 72) = v155;
        v197 = v155 ^ v196;
        *(_DWORD *)(a4 + 76) = v197;
        v228 = dword_4CF308[(unsigned __int8)v197] ^ dword_4CEF08[BYTE1(v197)] ^ dword_4CEB08[BYTE2(v197)] ^ dword_4CE708[HIBYTE(v197)] ^ v227;
        *(_DWORD *)(a4 + 80) = v228;
        v294 = v228 ^ v293;
        *(_DWORD *)(a4 + 84) = v294;
        v315 = v294 ^ v314;
        *(_DWORD *)(a4 + 88) = v315;
        v364 = v315 ^ v363;
        *(_DWORD *)(a4 + 92) = v364;
        v66 = dword_4CF308[HIBYTE(v364)] ^ dword_4CEF08[(unsigned __int8)v364] ^ dword_4CEB08[BYTE1(v364)] ^ dword_4CE708[BYTE2(v364)] ^ 0x4000000 ^ v65;
        *(_DWORD *)(a4 + 96) = v66;
        v111 = v66 ^ v110;
        *(_DWORD *)(a4 + 100) = v111;
        v156 = v111 ^ v155;
        *(_DWORD *)(a4 + 104) = v156;
        v198 = v156 ^ v197;
        *(_DWORD *)(a4 + 108) = v198;
        v229 = dword_4CF308[(unsigned __int8)v198] ^ dword_4CEF08[BYTE1(v198)] ^ dword_4CEB08[BYTE2(v198)] ^ dword_4CE708[HIBYTE(v198)] ^ v228;
        *(_DWORD *)(a4 + 112) = v229;
        v295 = v229 ^ v294;
        *(_DWORD *)(a4 + 116) = v295;
        v316 = v295 ^ v315;
        *(_DWORD *)(a4 + 120) = v316;
        v365 = v316 ^ v364;
        *(_DWORD *)(a4 + 124) = v365;
        v67 = dword_4CF308[HIBYTE(v365)] ^ dword_4CEF08[(unsigned __int8)v365] ^ dword_4CEB08[BYTE1(v365)] ^ dword_4CE708[BYTE2(v365)] ^ 0x8000000 ^ v66;
        *(_DWORD *)(a4 + 128) = v67;
        v112 = v67 ^ v111;
        *(_DWORD *)(a4 + 132) = v112;
        v157 = v112 ^ v156;
        *(_DWORD *)(a4 + 136) = v157;
        v199 = v157 ^ v198;
        *(_DWORD *)(a4 + 140) = v199;
        v230 = dword_4CF308[(unsigned __int8)v199] ^ dword_4CEF08[BYTE1(v199)] ^ dword_4CEB08[BYTE2(v199)] ^ dword_4CE708[HIBYTE(v199)] ^ v229;
        *(_DWORD *)(a4 + 144) = v230;
        v296 = v230 ^ v295;
        *(_DWORD *)(a4 + 148) = v296;
        v317 = v296 ^ v316;
        *(_DWORD *)(a4 + 152) = v317;
        v366 = v317 ^ v365;
        *(_DWORD *)(a4 + 156) = v366;
        v68 = dword_4CF308[HIBYTE(v366)] ^ dword_4CEF08[(unsigned __int8)v366] ^ dword_4CEB08[BYTE1(v366)] ^ dword_4CE708[BYTE2(v366)] ^ 0x10000000 ^ v67;
        *(_DWORD *)(a4 + 160) = v68;
        v113 = v68 ^ v112;
        *(_DWORD *)(a4 + 164) = v113;
        v158 = v113 ^ v157;
        *(_DWORD *)(a4 + 168) = v158;
        v200 = v158 ^ v199;
        *(_DWORD *)(a4 + 172) = v200;
        v231 = dword_4CF308[(unsigned __int8)v200] ^ dword_4CEF08[BYTE1(v200)] ^ dword_4CEB08[BYTE2(v200)] ^ dword_4CE708[HIBYTE(v200)] ^ v230;
        *(_DWORD *)(a4 + 176) = v231;
        v297 = v231 ^ v296;
        *(_DWORD *)(a4 + 180) = v297;
        v318 = v297 ^ v317;
        *(_DWORD *)(a4 + 184) = v318;
        v367 = v318 ^ v366;
        *(_DWORD *)(a4 + 188) = v367;
        v69 = dword_4CF308[HIBYTE(v367)] ^ dword_4CEF08[(unsigned __int8)v367] ^ dword_4CEB08[BYTE1(v367)] ^ dword_4CE708[BYTE2(v367)] ^ 0x20000000 ^ v68;
        *(_DWORD *)(a4 + 192) = v69;
        v114 = v69 ^ v113;
        *(_DWORD *)(a4 + 196) = v114;
        v159 = v114 ^ v158;
        *(_DWORD *)(a4 + 200) = v159;
        v201 = v159 ^ v200;
        *(_DWORD *)(a4 + 204) = v201;
        v232 = dword_4CF308[(unsigned __int8)v201] ^ dword_4CEF08[BYTE1(v201)] ^ dword_4CEB08[BYTE2(v201)] ^ dword_4CE708[HIBYTE(v201)] ^ v231;
        *(_DWORD *)(a4 + 208) = v232;
        v298 = v232 ^ v297;
        *(_DWORD *)(a4 + 212) = v298;
        v319 = v298 ^ v318;
        *(_DWORD *)(a4 + 216) = v319;
        v368 = v319 ^ v367;
        *(_DWORD *)(a4 + 220) = v368;
        v70 = dword_4CF308[HIBYTE(v368)] ^ dword_4CEF08[(unsigned __int8)v368] ^ dword_4CEB08[BYTE1(v368)] ^ dword_4CE708[BYTE2(v368)] ^ 0x40000000 ^ v69;
        *(_DWORD *)(a4 + 224) = v70;
        v115 = v70 ^ v114;
        *(_DWORD *)(a4 + 228) = v115;
        v160 = v115 ^ v159;
        *(_DWORD *)(a4 + 232) = v160;
        *(_DWORD *)(a4 + 236) = v160 ^ v201;
        *(_DWORD *)(a4 + 512) = 8;
        *(_DWORD *)(a4 + 516) = 14;
        goto LABEL_10;
      default:
        *(_BYTE *)(a4 + 520) &= 0xFCu;
        result = 0;
        break;
    }
  }
  else
  {
LABEL_10:
    if ( (*(_BYTE *)(a4 + 520) & 2) != 0 )
    {
      v71 = *a1;
      *(_DWORD *)(a4 + 256) = *a1;
      v116 = a1[1];
      *(_DWORD *)(a4 + 260) = v116;
      v161 = a1[2];
      *(_DWORD *)(a4 + 264) = v161;
      v202 = a1[3];
      *(_DWORD *)(a4 + 268) = v202;
      switch ( a2 )
      {
        case 0:
          result = 4 * *(_DWORD *)(a4 + 512);
          break;
        case 16:
          v233 = dword_4CF308[HIBYTE(v202)] ^ dword_4CEF08[(unsigned __int8)v202] ^ dword_4CEB08[BYTE1(v202)] ^ dword_4CE708[BYTE2(v202)] ^ 0x1000000;
          v72 = v233 ^ v202 ^ v161 ^ v116 ^ v71;
          v234 = *(_DWORD *)(a4 + 256) ^ v233;
          *(_DWORD *)(a4 + 272) = dword_4D2308[(unsigned __int8)v234] ^ dword_4D1F08[BYTE1(v234)] ^ dword_4D1B08[BYTE2(v234)] ^ dword_4D1708[HIBYTE(v234)];
          v235 = *(_DWORD *)(a4 + 260) ^ v234;
          *(_DWORD *)(a4 + 276) = dword_4D2308[(unsigned __int8)v235] ^ dword_4D1F08[BYTE1(v235)] ^ dword_4D1B08[BYTE2(v235)] ^ dword_4D1708[HIBYTE(v235)];
          v236 = *(_DWORD *)(a4 + 264) ^ v235;
          *(_DWORD *)(a4 + 280) = dword_4D2308[(unsigned __int8)v236] ^ dword_4D1F08[BYTE1(v236)] ^ dword_4D1B08[BYTE2(v236)] ^ dword_4D1708[HIBYTE(v236)];
          v237 = *(_DWORD *)(a4 + 268) ^ v236;
          *(_DWORD *)(a4 + 284) = dword_4D2308[(unsigned __int8)v237] ^ dword_4D1F08[BYTE1(v237)] ^ dword_4D1B08[BYTE2(v237)] ^ dword_4D1708[HIBYTE(v237)];
          v238 = dword_4CF308[HIBYTE(v72)] ^ dword_4CEF08[(unsigned __int8)v72] ^ dword_4CEB08[BYTE1(v72)] ^ dword_4CE708[BYTE2(v72)] ^ 0x2000000;
          v117 = v238 ^ v202 ^ v116;
          v239 = *(_DWORD *)(a4 + 272) ^ dword_4D2308[(unsigned __int8)v238] ^ dword_4D1F08[BYTE1(v238)] ^ dword_4D1B08[BYTE2(v238)] ^ dword_4D1708[HIBYTE(v238)];
          *(_DWORD *)(a4 + 288) = v239;
          v240 = *(_DWORD *)(a4 + 276) ^ v239;
          *(_DWORD *)(a4 + 292) = v240;
          v241 = *(_DWORD *)(a4 + 280) ^ v240;
          *(_DWORD *)(a4 + 296) = v241;
          *(_DWORD *)(a4 + 300) = *(_DWORD *)(a4 + 284) ^ v241;
          v242 = dword_4CF308[HIBYTE(v117)] ^ dword_4CEF08[(unsigned __int8)v117] ^ dword_4CEB08[BYTE1(v117)] ^ dword_4CE708[BYTE2(v117)] ^ 0x4000000;
          v162 = v242 ^ v202 ^ v161;
          v243 = *(_DWORD *)(a4 + 288) ^ dword_4D2308[(unsigned __int8)v242] ^ dword_4D1F08[BYTE1(v242)] ^ dword_4D1B08[BYTE2(v242)] ^ dword_4D1708[HIBYTE(v242)];
          *(_DWORD *)(a4 + 304) = v243;
          v244 = *(_DWORD *)(a4 + 292) ^ v243;
          *(_DWORD *)(a4 + 308) = v244;
          v245 = *(_DWORD *)(a4 + 296) ^ v244;
          *(_DWORD *)(a4 + 312) = v245;
          *(_DWORD *)(a4 + 316) = *(_DWORD *)(a4 + 300) ^ v245;
          v246 = dword_4CF308[HIBYTE(v162)] ^ dword_4CEF08[(unsigned __int8)v162] ^ dword_4CEB08[BYTE1(v162)] ^ dword_4CE708[BYTE2(v162)] ^ 0x8000000;
          v203 = v246 ^ v202;
          v247 = *(_DWORD *)(a4 + 304) ^ dword_4D2308[(unsigned __int8)v246] ^ dword_4D1F08[BYTE1(v246)] ^ dword_4D1B08[BYTE2(v246)] ^ dword_4D1708[HIBYTE(v246)];
          *(_DWORD *)(a4 + 320) = v247;
          v248 = *(_DWORD *)(a4 + 308) ^ v247;
          *(_DWORD *)(a4 + 324) = v248;
          v249 = *(_DWORD *)(a4 + 312) ^ v248;
          *(_DWORD *)(a4 + 328) = v249;
          *(_DWORD *)(a4 + 332) = *(_DWORD *)(a4 + 316) ^ v249;
          v250 = dword_4CF308[HIBYTE(v203)] ^ dword_4CEF08[(unsigned __int8)v203] ^ dword_4CEB08[BYTE1(v203)] ^ dword_4CE708[BYTE2(v203)] ^ 0x10000000;
          v73 = v250 ^ v72;
          v251 = *(_DWORD *)(a4 + 320) ^ dword_4D2308[(unsigned __int8)v250] ^ dword_4D1F08[BYTE1(v250)] ^ dword_4D1B08[BYTE2(v250)] ^ dword_4D1708[HIBYTE(v250)];
          *(_DWORD *)(a4 + 336) = v251;
          v252 = *(_DWORD *)(a4 + 324) ^ v251;
          *(_DWORD *)(a4 + 340) = v252;
          v253 = *(_DWORD *)(a4 + 328) ^ v252;
          *(_DWORD *)(a4 + 344) = v253;
          *(_DWORD *)(a4 + 348) = *(_DWORD *)(a4 + 332) ^ v253;
          v254 = dword_4CF308[HIBYTE(v73)] ^ dword_4CEF08[(unsigned __int8)v73] ^ dword_4CEB08[BYTE1(v73)] ^ dword_4CE708[BYTE2(v73)] ^ 0x20000000;
          v118 = v254 ^ v117;
          v255 = *(_DWORD *)(a4 + 336) ^ dword_4D2308[(unsigned __int8)v254] ^ dword_4D1F08[BYTE1(v254)] ^ dword_4D1B08[BYTE2(v254)] ^ dword_4D1708[HIBYTE(v254)];
          *(_DWORD *)(a4 + 352) = v255;
          v256 = *(_DWORD *)(a4 + 340) ^ v255;
          *(_DWORD *)(a4 + 356) = v256;
          v257 = *(_DWORD *)(a4 + 344) ^ v256;
          *(_DWORD *)(a4 + 360) = v257;
          *(_DWORD *)(a4 + 364) = *(_DWORD *)(a4 + 348) ^ v257;
          v258 = dword_4CF308[HIBYTE(v118)] ^ dword_4CEF08[(unsigned __int8)v118] ^ dword_4CEB08[BYTE1(v118)] ^ dword_4CE708[BYTE2(v118)] ^ 0x40000000;
          v163 = v258 ^ v162;
          v259 = *(_DWORD *)(a4 + 352) ^ dword_4D2308[(unsigned __int8)v258] ^ dword_4D1F08[BYTE1(v258)] ^ dword_4D1B08[BYTE2(v258)] ^ dword_4D1708[HIBYTE(v258)];
          *(_DWORD *)(a4 + 368) = v259;
          v260 = *(_DWORD *)(a4 + 356) ^ v259;
          *(_DWORD *)(a4 + 372) = v260;
          v261 = *(_DWORD *)(a4 + 360) ^ v260;
          *(_DWORD *)(a4 + 376) = v261;
          *(_DWORD *)(a4 + 380) = *(_DWORD *)(a4 + 364) ^ v261;
          v262 = dword_4CF308[HIBYTE(v163)] ^ dword_4CEF08[(unsigned __int8)v163] ^ dword_4CEB08[BYTE1(v163)] ^ dword_4CE708[BYTE2(v163)] ^ 0x80000000;
          v204 = v262 ^ v203;
          v263 = *(_DWORD *)(a4 + 368) ^ dword_4D2308[(unsigned __int8)v262] ^ dword_4D1F08[BYTE1(v262)] ^ dword_4D1B08[BYTE2(v262)] ^ dword_4D1708[HIBYTE(v262)];
          *(_DWORD *)(a4 + 384) = v263;
          v264 = *(_DWORD *)(a4 + 372) ^ v263;
          *(_DWORD *)(a4 + 388) = v264;
          v265 = *(_DWORD *)(a4 + 376) ^ v264;
          *(_DWORD *)(a4 + 392) = v265;
          *(_DWORD *)(a4 + 396) = *(_DWORD *)(a4 + 380) ^ v265;
          v266 = dword_4CF308[HIBYTE(v204)] ^ dword_4CEF08[(unsigned __int8)v204] ^ dword_4CEB08[BYTE1(v204)] ^ dword_4CE708[BYTE2(v204)] ^ 0x1B000000;
          v74 = v266 ^ v73;
          v267 = *(_DWORD *)(a4 + 384) ^ dword_4D2308[(unsigned __int8)v266] ^ dword_4D1F08[BYTE1(v266)] ^ dword_4D1B08[BYTE2(v266)] ^ dword_4D1708[HIBYTE(v266)];
          *(_DWORD *)(a4 + 400) = v267;
          v268 = *(_DWORD *)(a4 + 388) ^ v267;
          *(_DWORD *)(a4 + 404) = v268;
          v269 = *(_DWORD *)(a4 + 392) ^ v268;
          *(_DWORD *)(a4 + 408) = v269;
          *(_DWORD *)(a4 + 412) = *(_DWORD *)(a4 + 396) ^ v269;
          v119 = dword_4CF308[HIBYTE(v74)] ^ dword_4CEF08[(unsigned __int8)v74] ^ dword_4CEB08[BYTE1(v74)] ^ dword_4CE708[BYTE2(v74)] ^ 0x36000000 ^ v118;
          *(_DWORD *)(a4 + 416) = v204 ^ v163 ^ v119 ^ v74;
          *(_DWORD *)(a4 + 420) = v204 ^ v119;
          *(_DWORD *)(a4 + 424) = v119 ^ v74;
          *(_DWORD *)(a4 + 428) = v119;
          *(_DWORD *)(a4 + 512) = 4;
          *(_DWORD *)(a4 + 516) = 10;
          goto LABEL_17;
        case 24:
          v270 = a1[4];
          *(_DWORD *)(a4 + 272) = dword_4D2308[(unsigned __int8)v270] ^ dword_4D1F08[BYTE1(v270)] ^ dword_4D1B08[BYTE2(v270)] ^ dword_4D1708[HIBYTE(v270)];
          v299 = a1[5];
          *(_DWORD *)(a4 + 276) = dword_4D2308[(unsigned __int8)v299] ^ dword_4D1F08[BYTE1(v299)] ^ dword_4D1B08[BYTE2(v299)] ^ dword_4D1708[HIBYTE(v299)];
          v75 = dword_4CF308[HIBYTE(v299)] ^ dword_4CEF08[(unsigned __int8)v299] ^ dword_4CEB08[BYTE1(v299)] ^ dword_4CE708[BYTE2(v299)] ^ 0x1000000 ^ v71;
          *(_DWORD *)(a4 + 280) = dword_4D2308[(unsigned __int8)v75] ^ dword_4D1F08[BYTE1(v75)] ^ dword_4D1B08[BYTE2(v75)] ^ dword_4D1708[HIBYTE(v75)];
          v120 = v75 ^ v116;
          *(_DWORD *)(a4 + 284) = dword_4D2308[(unsigned __int8)v120] ^ dword_4D1F08[BYTE1(v120)] ^ dword_4D1B08[BYTE2(v120)] ^ dword_4D1708[HIBYTE(v120)];
          v164 = v120 ^ v161;
          *(_DWORD *)(a4 + 288) = dword_4D2308[(unsigned __int8)v164] ^ dword_4D1F08[BYTE1(v164)] ^ dword_4D1B08[BYTE2(v164)] ^ dword_4D1708[HIBYTE(v164)];
          v205 = v164 ^ v202;
          *(_DWORD *)(a4 + 292) = dword_4D2308[(unsigned __int8)v205] ^ dword_4D1F08[BYTE1(v205)] ^ dword_4D1B08[BYTE2(v205)] ^ dword_4D1708[HIBYTE(v205)];
          v271 = v205 ^ v270;
          *(_DWORD *)(a4 + 296) = dword_4D2308[(unsigned __int8)v271] ^ dword_4D1F08[BYTE1(v271)] ^ dword_4D1B08[BYTE2(v271)] ^ dword_4D1708[HIBYTE(v271)];
          v300 = v271 ^ v299;
          *(_DWORD *)(a4 + 300) = dword_4D2308[(unsigned __int8)v300] ^ dword_4D1F08[BYTE1(v300)] ^ dword_4D1B08[BYTE2(v300)] ^ dword_4D1708[HIBYTE(v300)];
          v320 = dword_4CF308[HIBYTE(v300)] ^ dword_4CEF08[(unsigned __int8)v300] ^ dword_4CEB08[BYTE1(v300)] ^ dword_4CE708[BYTE2(v300)] ^ 0x2000000;
          v76 = v320 ^ v75;
          v321 = *(_DWORD *)(a4 + 280) ^ dword_4D2308[(unsigned __int8)v320] ^ dword_4D1F08[BYTE1(v320)] ^ dword_4D1B08[BYTE2(v320)] ^ dword_4D1708[HIBYTE(v320)];
          *(_DWORD *)(a4 + 304) = v321;
          v121 = v76 ^ v120;
          v322 = *(_DWORD *)(a4 + 284) ^ v321;
          *(_DWORD *)(a4 + 308) = v322;
          v165 = v121 ^ v164;
          v323 = *(_DWORD *)(a4 + 288) ^ v322;
          *(_DWORD *)(a4 + 312) = v323;
          v206 = v165 ^ v205;
          v324 = *(_DWORD *)(a4 + 292) ^ v323;
          *(_DWORD *)(a4 + 316) = v324;
          v272 = v206 ^ v271;
          v325 = *(_DWORD *)(a4 + 296) ^ v324;
          *(_DWORD *)(a4 + 320) = v325;
          v301 = v272 ^ v300;
          *(_DWORD *)(a4 + 324) = *(_DWORD *)(a4 + 300) ^ v325;
          v326 = dword_4CF308[HIBYTE(v301)] ^ dword_4CEF08[(unsigned __int8)v301] ^ dword_4CEB08[BYTE1(v301)] ^ dword_4CE708[BYTE2(v301)] ^ 0x4000000;
          v77 = v326 ^ v76;
          v327 = *(_DWORD *)(a4 + 304) ^ dword_4D2308[(unsigned __int8)v326] ^ dword_4D1F08[BYTE1(v326)] ^ dword_4D1B08[BYTE2(v326)] ^ dword_4D1708[HIBYTE(v326)];
          *(_DWORD *)(a4 + 328) = v327;
          v122 = v77 ^ v121;
          v328 = *(_DWORD *)(a4 + 308) ^ v327;
          *(_DWORD *)(a4 + 332) = v328;
          v166 = v122 ^ v165;
          v329 = *(_DWORD *)(a4 + 312) ^ v328;
          *(_DWORD *)(a4 + 336) = v329;
          v207 = v166 ^ v206;
          v330 = *(_DWORD *)(a4 + 316) ^ v329;
          *(_DWORD *)(a4 + 340) = v330;
          v273 = v207 ^ v272;
          v331 = *(_DWORD *)(a4 + 320) ^ v330;
          *(_DWORD *)(a4 + 344) = v331;
          v302 = v273 ^ v301;
          *(_DWORD *)(a4 + 348) = *(_DWORD *)(a4 + 324) ^ v331;
          v332 = dword_4CF308[HIBYTE(v302)] ^ dword_4CEF08[(unsigned __int8)v302] ^ dword_4CEB08[BYTE1(v302)] ^ dword_4CE708[BYTE2(v302)] ^ 0x8000000;
          v78 = v332 ^ v77;
          v333 = *(_DWORD *)(a4 + 328) ^ dword_4D2308[(unsigned __int8)v332] ^ dword_4D1F08[BYTE1(v332)] ^ dword_4D1B08[BYTE2(v332)] ^ dword_4D1708[HIBYTE(v332)];
          *(_DWORD *)(a4 + 352) = v333;
          v123 = v78 ^ v122;
          v334 = *(_DWORD *)(a4 + 332) ^ v333;
          *(_DWORD *)(a4 + 356) = v334;
          v167 = v123 ^ v166;
          v335 = *(_DWORD *)(a4 + 336) ^ v334;
          *(_DWORD *)(a4 + 360) = v335;
          v208 = v167 ^ v207;
          v336 = *(_DWORD *)(a4 + 340) ^ v335;
          *(_DWORD *)(a4 + 364) = v336;
          v274 = v208 ^ v273;
          v337 = *(_DWORD *)(a4 + 344) ^ v336;
          *(_DWORD *)(a4 + 368) = v337;
          v303 = v274 ^ v302;
          *(_DWORD *)(a4 + 372) = *(_DWORD *)(a4 + 348) ^ v337;
          v338 = dword_4CF308[HIBYTE(v303)] ^ dword_4CEF08[(unsigned __int8)v303] ^ dword_4CEB08[BYTE1(v303)] ^ dword_4CE708[BYTE2(v303)] ^ 0x10000000;
          v79 = v338 ^ v78;
          v339 = *(_DWORD *)(a4 + 352) ^ dword_4D2308[(unsigned __int8)v338] ^ dword_4D1F08[BYTE1(v338)] ^ dword_4D1B08[BYTE2(v338)] ^ dword_4D1708[HIBYTE(v338)];
          *(_DWORD *)(a4 + 376) = v339;
          v124 = v79 ^ v123;
          v340 = *(_DWORD *)(a4 + 356) ^ v339;
          *(_DWORD *)(a4 + 380) = v340;
          v168 = v124 ^ v167;
          v341 = *(_DWORD *)(a4 + 360) ^ v340;
          *(_DWORD *)(a4 + 384) = v341;
          v209 = v168 ^ v208;
          v342 = *(_DWORD *)(a4 + 364) ^ v341;
          *(_DWORD *)(a4 + 388) = v342;
          v275 = v209 ^ v274;
          v343 = *(_DWORD *)(a4 + 368) ^ v342;
          *(_DWORD *)(a4 + 392) = v343;
          v304 = v275 ^ v303;
          *(_DWORD *)(a4 + 396) = *(_DWORD *)(a4 + 372) ^ v343;
          v344 = dword_4CF308[HIBYTE(v304)] ^ dword_4CEF08[(unsigned __int8)v304] ^ dword_4CEB08[BYTE1(v304)] ^ dword_4CE708[BYTE2(v304)] ^ 0x20000000;
          v80 = v344 ^ v79;
          v345 = *(_DWORD *)(a4 + 376) ^ dword_4D2308[(unsigned __int8)v344] ^ dword_4D1F08[BYTE1(v344)] ^ dword_4D1B08[BYTE2(v344)] ^ dword_4D1708[HIBYTE(v344)];
          *(_DWORD *)(a4 + 400) = v345;
          v125 = v80 ^ v124;
          v346 = *(_DWORD *)(a4 + 380) ^ v345;
          *(_DWORD *)(a4 + 404) = v346;
          v169 = v125 ^ v168;
          v347 = *(_DWORD *)(a4 + 384) ^ v346;
          *(_DWORD *)(a4 + 408) = v347;
          v210 = v169 ^ v209;
          v348 = *(_DWORD *)(a4 + 388) ^ v347;
          *(_DWORD *)(a4 + 412) = v348;
          v276 = v210 ^ v275;
          v349 = *(_DWORD *)(a4 + 392) ^ v348;
          *(_DWORD *)(a4 + 416) = v349;
          v305 = v276 ^ v304;
          *(_DWORD *)(a4 + 420) = *(_DWORD *)(a4 + 396) ^ v349;
          v350 = dword_4CF308[HIBYTE(v305)] ^ dword_4CEF08[(unsigned __int8)v305] ^ dword_4CEB08[BYTE1(v305)] ^ dword_4CE708[BYTE2(v305)] ^ 0x40000000;
          v81 = v350 ^ v80;
          v351 = *(_DWORD *)(a4 + 400) ^ dword_4D2308[(unsigned __int8)v350] ^ dword_4D1F08[BYTE1(v350)] ^ dword_4D1B08[BYTE2(v350)] ^ dword_4D1708[HIBYTE(v350)];
          *(_DWORD *)(a4 + 424) = v351;
          v126 = v81 ^ v125;
          v352 = *(_DWORD *)(a4 + 404) ^ v351;
          *(_DWORD *)(a4 + 428) = v352;
          v170 = v126 ^ v169;
          v353 = *(_DWORD *)(a4 + 408) ^ v352;
          *(_DWORD *)(a4 + 432) = v353;
          v211 = v170 ^ v210;
          v354 = *(_DWORD *)(a4 + 412) ^ v353;
          *(_DWORD *)(a4 + 436) = v354;
          v355 = *(_DWORD *)(a4 + 416) ^ v354;
          *(_DWORD *)(a4 + 440) = v355;
          v306 = v211 ^ v276 ^ v305;
          *(_DWORD *)(a4 + 444) = *(_DWORD *)(a4 + 420) ^ v355;
          v82 = dword_4CF308[HIBYTE(v306)] ^ dword_4CEF08[(unsigned __int8)v306] ^ dword_4CEB08[BYTE1(v306)] ^ dword_4CE708[BYTE2(v306)] ^ 0x80000000 ^ v81;
          *(_DWORD *)(a4 + 448) = v82;
          v127 = v82 ^ v126;
          *(_DWORD *)(a4 + 452) = v127;
          v171 = v127 ^ v170;
          *(_DWORD *)(a4 + 456) = v171;
          *(_DWORD *)(a4 + 460) = v171 ^ v211;
          *(_DWORD *)(a4 + 512) = 6;
          *(_DWORD *)(a4 + 516) = 12;
          goto LABEL_17;
        case 32:
          v277 = a1[4];
          *(_DWORD *)(a4 + 272) = dword_4D2308[(unsigned __int8)v277] ^ dword_4D1F08[BYTE1(v277)] ^ dword_4D1B08[BYTE2(v277)] ^ dword_4D1708[HIBYTE(v277)];
          v307 = a1[5];
          *(_DWORD *)(a4 + 276) = dword_4D2308[(unsigned __int8)v307] ^ dword_4D1F08[BYTE1(v307)] ^ dword_4D1B08[BYTE2(v307)] ^ dword_4D1708[HIBYTE(v307)];
          v356 = a1[6];
          *(_DWORD *)(a4 + 280) = dword_4D2308[(unsigned __int8)v356] ^ dword_4D1F08[BYTE1(v356)] ^ dword_4D1B08[BYTE2(v356)] ^ dword_4D1708[HIBYTE(v356)];
          v369 = a1[7];
          *(_DWORD *)(a4 + 284) = dword_4D2308[(unsigned __int8)v369] ^ dword_4D1F08[BYTE1(v369)] ^ dword_4D1B08[BYTE2(v369)] ^ dword_4D1708[HIBYTE(v369)];
          v83 = dword_4CF308[HIBYTE(v369)] ^ dword_4CEF08[(unsigned __int8)v369] ^ dword_4CEB08[BYTE1(v369)] ^ dword_4CE708[BYTE2(v369)] ^ 0x1000000 ^ v71;
          *(_DWORD *)(a4 + 288) = dword_4D2308[(unsigned __int8)v83] ^ dword_4D1F08[BYTE1(v83)] ^ dword_4D1B08[BYTE2(v83)] ^ dword_4D1708[HIBYTE(v83)];
          v128 = v83 ^ v116;
          *(_DWORD *)(a4 + 292) = dword_4D2308[(unsigned __int8)v128] ^ dword_4D1F08[BYTE1(v128)] ^ dword_4D1B08[BYTE2(v128)] ^ dword_4D1708[HIBYTE(v128)];
          v172 = v128 ^ v161;
          *(_DWORD *)(a4 + 296) = dword_4D2308[(unsigned __int8)v172] ^ dword_4D1F08[BYTE1(v172)] ^ dword_4D1B08[BYTE2(v172)] ^ dword_4D1708[HIBYTE(v172)];
          v212 = v172 ^ v202;
          *(_DWORD *)(a4 + 300) = dword_4D2308[(unsigned __int8)v212] ^ dword_4D1F08[BYTE1(v212)] ^ dword_4D1B08[BYTE2(v212)] ^ dword_4D1708[HIBYTE(v212)];
          v278 = dword_4CF308[(unsigned __int8)v212] ^ dword_4CEF08[BYTE1(v212)] ^ dword_4CEB08[BYTE2(v212)] ^ dword_4CE708[HIBYTE(v212)] ^ v277;
          *(_DWORD *)(a4 + 304) = dword_4D2308[(unsigned __int8)v278] ^ dword_4D1F08[BYTE1(v278)] ^ dword_4D1B08[BYTE2(v278)] ^ dword_4D1708[HIBYTE(v278)];
          v308 = v278 ^ v307;
          *(_DWORD *)(a4 + 308) = dword_4D2308[(unsigned __int8)v308] ^ dword_4D1F08[BYTE1(v308)] ^ dword_4D1B08[BYTE2(v308)] ^ dword_4D1708[HIBYTE(v308)];
          v357 = v308 ^ v356;
          *(_DWORD *)(a4 + 312) = dword_4D2308[(unsigned __int8)v357] ^ dword_4D1F08[BYTE1(v357)] ^ dword_4D1B08[BYTE2(v357)] ^ dword_4D1708[HIBYTE(v357)];
          v370 = v357 ^ v369;
          *(_DWORD *)(a4 + 316) = dword_4D2308[(unsigned __int8)v370] ^ dword_4D1F08[BYTE1(v370)] ^ dword_4D1B08[BYTE2(v370)] ^ dword_4D1708[HIBYTE(v370)];
          v37 = dword_4CF308[HIBYTE(v370)] ^ dword_4CEF08[(unsigned __int8)v370] ^ dword_4CEB08[BYTE1(v370)] ^ dword_4CE708[BYTE2(v370)] ^ 0x2000000;
          v84 = v37 ^ v83;
          v38 = *(_DWORD *)(a4 + 288) ^ dword_4D2308[(unsigned __int8)v37] ^ dword_4D1F08[BYTE1(v37)] ^ dword_4D1B08[BYTE2(v37)] ^ dword_4D1708[HIBYTE(v37)];
          *(_DWORD *)(a4 + 320) = v38;
          v129 = v84 ^ v128;
          v39 = *(_DWORD *)(a4 + 292) ^ v38;
          *(_DWORD *)(a4 + 324) = v39;
          v173 = v129 ^ v172;
          v40 = *(_DWORD *)(a4 + 296) ^ v39;
          *(_DWORD *)(a4 + 328) = v40;
          v213 = v173 ^ v212;
          *(_DWORD *)(a4 + 332) = *(_DWORD *)(a4 + 300) ^ v40;
          v41 = dword_4CF308[(unsigned __int8)v213] ^ dword_4CEF08[BYTE1(v213)] ^ dword_4CEB08[BYTE2(v213)] ^ dword_4CE708[HIBYTE(v213)];
          v279 = v41 ^ v278;
          v42 = *(_DWORD *)(a4 + 304) ^ dword_4D2308[(unsigned __int8)v41] ^ dword_4D1F08[BYTE1(v41)] ^ dword_4D1B08[BYTE2(v41)] ^ dword_4D1708[HIBYTE(v41)];
          *(_DWORD *)(a4 + 336) = v42;
          v309 = v279 ^ v308;
          v43 = *(_DWORD *)(a4 + 308) ^ v42;
          *(_DWORD *)(a4 + 340) = v43;
          v358 = v309 ^ v357;
          v44 = *(_DWORD *)(a4 + 312) ^ v43;
          *(_DWORD *)(a4 + 344) = v44;
          v371 = v358 ^ v370;
          *(_DWORD *)(a4 + 348) = *(_DWORD *)(a4 + 316) ^ v44;
          v29 = dword_4CF308[HIBYTE(v371)] ^ dword_4CEF08[(unsigned __int8)v371] ^ dword_4CEB08[BYTE1(v371)] ^ dword_4CE708[BYTE2(v371)] ^ 0x4000000;
          v85 = v29 ^ v84;
          v30 = *(_DWORD *)(a4 + 320) ^ dword_4D2308[(unsigned __int8)v29] ^ dword_4D1F08[BYTE1(v29)] ^ dword_4D1B08[BYTE2(v29)] ^ dword_4D1708[HIBYTE(v29)];
          *(_DWORD *)(a4 + 352) = v30;
          v130 = v85 ^ v129;
          v31 = *(_DWORD *)(a4 + 324) ^ v30;
          *(_DWORD *)(a4 + 356) = v31;
          v174 = v130 ^ v173;
          v32 = *(_DWORD *)(a4 + 328) ^ v31;
          *(_DWORD *)(a4 + 360) = v32;
          v214 = v174 ^ v213;
          *(_DWORD *)(a4 + 364) = *(_DWORD *)(a4 + 332) ^ v32;
          v33 = dword_4CF308[(unsigned __int8)v214] ^ dword_4CEF08[BYTE1(v214)] ^ dword_4CEB08[BYTE2(v214)] ^ dword_4CE708[HIBYTE(v214)];
          v280 = v33 ^ v279;
          v34 = *(_DWORD *)(a4 + 336) ^ dword_4D2308[(unsigned __int8)v33] ^ dword_4D1F08[BYTE1(v33)] ^ dword_4D1B08[BYTE2(v33)] ^ dword_4D1708[HIBYTE(v33)];
          *(_DWORD *)(a4 + 368) = v34;
          v310 = v280 ^ v309;
          v35 = *(_DWORD *)(a4 + 340) ^ v34;
          *(_DWORD *)(a4 + 372) = v35;
          v359 = v310 ^ v358;
          v36 = *(_DWORD *)(a4 + 344) ^ v35;
          *(_DWORD *)(a4 + 376) = v36;
          v372 = v359 ^ v371;
          *(_DWORD *)(a4 + 380) = *(_DWORD *)(a4 + 348) ^ v36;
          v21 = dword_4CF308[HIBYTE(v372)] ^ dword_4CEF08[(unsigned __int8)v372] ^ dword_4CEB08[BYTE1(v372)] ^ dword_4CE708[BYTE2(v372)] ^ 0x8000000;
          v86 = v21 ^ v85;
          v22 = *(_DWORD *)(a4 + 352) ^ dword_4D2308[(unsigned __int8)v21] ^ dword_4D1F08[BYTE1(v21)] ^ dword_4D1B08[BYTE2(v21)] ^ dword_4D1708[HIBYTE(v21)];
          *(_DWORD *)(a4 + 384) = v22;
          v131 = v86 ^ v130;
          v23 = *(_DWORD *)(a4 + 356) ^ v22;
          *(_DWORD *)(a4 + 388) = v23;
          v175 = v131 ^ v174;
          v24 = *(_DWORD *)(a4 + 360) ^ v23;
          *(_DWORD *)(a4 + 392) = v24;
          v215 = v175 ^ v214;
          *(_DWORD *)(a4 + 396) = *(_DWORD *)(a4 + 364) ^ v24;
          v25 = dword_4CF308[(unsigned __int8)v215] ^ dword_4CEF08[BYTE1(v215)] ^ dword_4CEB08[BYTE2(v215)] ^ dword_4CE708[HIBYTE(v215)];
          v281 = v25 ^ v280;
          v26 = *(_DWORD *)(a4 + 368) ^ dword_4D2308[(unsigned __int8)v25] ^ dword_4D1F08[BYTE1(v25)] ^ dword_4D1B08[BYTE2(v25)] ^ dword_4D1708[HIBYTE(v25)];
          *(_DWORD *)(a4 + 400) = v26;
          v311 = v281 ^ v310;
          v27 = *(_DWORD *)(a4 + 372) ^ v26;
          *(_DWORD *)(a4 + 404) = v27;
          v360 = v311 ^ v359;
          v28 = *(_DWORD *)(a4 + 376) ^ v27;
          *(_DWORD *)(a4 + 408) = v28;
          v373 = v360 ^ v372;
          *(_DWORD *)(a4 + 412) = *(_DWORD *)(a4 + 380) ^ v28;
          v13 = dword_4CF308[HIBYTE(v373)] ^ dword_4CEF08[(unsigned __int8)v373] ^ dword_4CEB08[BYTE1(v373)] ^ dword_4CE708[BYTE2(v373)] ^ 0x10000000;
          v87 = v13 ^ v86;
          v14 = *(_DWORD *)(a4 + 384) ^ dword_4D2308[(unsigned __int8)v13] ^ dword_4D1F08[BYTE1(v13)] ^ dword_4D1B08[BYTE2(v13)] ^ dword_4D1708[HIBYTE(v13)];
          *(_DWORD *)(a4 + 416) = v14;
          v132 = v87 ^ v131;
          v15 = *(_DWORD *)(a4 + 388) ^ v14;
          *(_DWORD *)(a4 + 420) = v15;
          v176 = v132 ^ v175;
          v16 = *(_DWORD *)(a4 + 392) ^ v15;
          *(_DWORD *)(a4 + 424) = v16;
          v216 = v176 ^ v215;
          *(_DWORD *)(a4 + 428) = *(_DWORD *)(a4 + 396) ^ v16;
          v17 = dword_4CF308[(unsigned __int8)v216] ^ dword_4CEF08[BYTE1(v216)] ^ dword_4CEB08[BYTE2(v216)] ^ dword_4CE708[HIBYTE(v216)];
          v282 = v17 ^ v281;
          v18 = *(_DWORD *)(a4 + 400) ^ dword_4D2308[(unsigned __int8)v17] ^ dword_4D1F08[BYTE1(v17)] ^ dword_4D1B08[BYTE2(v17)] ^ dword_4D1708[HIBYTE(v17)];
          *(_DWORD *)(a4 + 432) = v18;
          v312 = v282 ^ v311;
          v19 = *(_DWORD *)(a4 + 404) ^ v18;
          *(_DWORD *)(a4 + 436) = v19;
          v361 = v312 ^ v360;
          v20 = *(_DWORD *)(a4 + 408) ^ v19;
          *(_DWORD *)(a4 + 440) = v20;
          v374 = v361 ^ v373;
          *(_DWORD *)(a4 + 444) = *(_DWORD *)(a4 + 412) ^ v20;
          v5 = dword_4CF308[HIBYTE(v374)] ^ dword_4CEF08[(unsigned __int8)v374] ^ dword_4CEB08[BYTE1(v374)] ^ dword_4CE708[BYTE2(v374)] ^ 0x20000000;
          v88 = v5 ^ v87;
          v6 = *(_DWORD *)(a4 + 416) ^ dword_4D2308[(unsigned __int8)v5] ^ dword_4D1F08[BYTE1(v5)] ^ dword_4D1B08[BYTE2(v5)] ^ dword_4D1708[HIBYTE(v5)];
          *(_DWORD *)(a4 + 448) = v6;
          v133 = v88 ^ v132;
          v7 = *(_DWORD *)(a4 + 420) ^ v6;
          *(_DWORD *)(a4 + 452) = v7;
          v177 = v133 ^ v176;
          v8 = *(_DWORD *)(a4 + 424) ^ v7;
          *(_DWORD *)(a4 + 456) = v8;
          v217 = v177 ^ v216;
          *(_DWORD *)(a4 + 460) = *(_DWORD *)(a4 + 428) ^ v8;
          v9 = dword_4CF308[(unsigned __int8)v217] ^ dword_4CEF08[BYTE1(v217)] ^ dword_4CEB08[BYTE2(v217)] ^ dword_4CE708[HIBYTE(v217)];
          v283 = v9 ^ v282;
          v10 = *(_DWORD *)(a4 + 432) ^ dword_4D2308[(unsigned __int8)v9] ^ dword_4D1F08[BYTE1(v9)] ^ dword_4D1B08[BYTE2(v9)] ^ dword_4D1708[HIBYTE(v9)];
          *(_DWORD *)(a4 + 464) = v10;
          v11 = *(_DWORD *)(a4 + 436) ^ v10;
          *(_DWORD *)(a4 + 468) = v11;
          v12 = *(_DWORD *)(a4 + 440) ^ v11;
          *(_DWORD *)(a4 + 472) = v12;
          v375 = v283 ^ v312 ^ v361 ^ v374;
          *(_DWORD *)(a4 + 476) = *(_DWORD *)(a4 + 444) ^ v12;
          v89 = dword_4CF308[HIBYTE(v375)] ^ dword_4CEF08[(unsigned __int8)v375] ^ dword_4CEB08[BYTE1(v375)] ^ dword_4CE708[BYTE2(v375)] ^ 0x40000000 ^ v88;
          *(_DWORD *)(a4 + 480) = v89;
          v134 = v89 ^ v133;
          *(_DWORD *)(a4 + 484) = v134;
          v178 = v134 ^ v177;
          *(_DWORD *)(a4 + 488) = v178;
          *(_DWORD *)(a4 + 492) = v178 ^ v217;
          *(_DWORD *)(a4 + 512) = 8;
          *(_DWORD *)(a4 + 516) = 14;
          goto LABEL_17;
        default:
          *(_BYTE *)(a4 + 520) &= 0xFCu;
          result = 0;
          break;
      }
    }
    else
    {
LABEL_17:
      result = 1;
    }
  }
  return result;
}
// 4CD694: using guessed type int dword_4CD694;
// 4CD698: using guessed type int dword_4CD698;
// 4CD69C: using guessed type int dword_4CD69C;
// 4CD6A0: using guessed type int dword_4CD6A0;
// 4CD6A4: using guessed type int dword_4CD6A4;
// 4CD6A8: using guessed type int dword_4CD6A8;
// 4CD6AC: using guessed type int dword_4CD6AC;
// 4CD6B0: using guessed type int dword_4CD6B0;
// 4CD6B4: using guessed type int dword_4CD6B4;
// 4CD6B8: using guessed type int dword_4CD6B8;

//----- (0049C998) --------------------------------------------------------
__int16 __cdecl aes_encrypt(_DWORD *a1, int *a2, int a3)
{
  int v4; // [esp+0h] [ebp-28h]
  int v5; // [esp+4h] [ebp-24h]
  int v6; // [esp+4h] [ebp-24h]
  int v7; // [esp+4h] [ebp-24h]
  int v8; // [esp+4h] [ebp-24h]
  int v9; // [esp+4h] [ebp-24h]
  int v10; // [esp+4h] [ebp-24h]
  int v11; // [esp+4h] [ebp-24h]
  int v12; // [esp+8h] [ebp-20h]
  int v13; // [esp+8h] [ebp-20h]
  int v14; // [esp+8h] [ebp-20h]
  int v15; // [esp+8h] [ebp-20h]
  int v16; // [esp+8h] [ebp-20h]
  int v17; // [esp+8h] [ebp-20h]
  int v18; // [esp+8h] [ebp-20h]
  int v19; // [esp+Ch] [ebp-1Ch]
  int v20; // [esp+Ch] [ebp-1Ch]
  int v21; // [esp+Ch] [ebp-1Ch]
  int v22; // [esp+Ch] [ebp-1Ch]
  int v23; // [esp+Ch] [ebp-1Ch]
  int v24; // [esp+Ch] [ebp-1Ch]
  int v25; // [esp+Ch] [ebp-1Ch]
  int v26; // [esp+10h] [ebp-18h]
  int v27; // [esp+10h] [ebp-18h]
  int v28; // [esp+10h] [ebp-18h]
  int v29; // [esp+10h] [ebp-18h]
  int v30; // [esp+10h] [ebp-18h]
  int v31; // [esp+10h] [ebp-18h]
  int v32; // [esp+10h] [ebp-18h]
  int v33; // [esp+14h] [ebp-14h]
  int v34; // [esp+14h] [ebp-14h]
  int v35; // [esp+14h] [ebp-14h]
  int v36; // [esp+14h] [ebp-14h]
  int v37; // [esp+14h] [ebp-14h]
  int v38; // [esp+18h] [ebp-10h]
  int v39; // [esp+18h] [ebp-10h]
  int v40; // [esp+18h] [ebp-10h]
  int v41; // [esp+18h] [ebp-10h]
  int v42; // [esp+18h] [ebp-10h]
  int v43; // [esp+1Ch] [ebp-Ch]
  int v44; // [esp+1Ch] [ebp-Ch]
  int v45; // [esp+1Ch] [ebp-Ch]
  int v46; // [esp+1Ch] [ebp-Ch]
  int v47; // [esp+1Ch] [ebp-Ch]
  int v48; // [esp+20h] [ebp-8h]
  int v49; // [esp+20h] [ebp-8h]
  int v50; // [esp+20h] [ebp-8h]
  int v51; // [esp+20h] [ebp-8h]
  int v52; // [esp+20h] [ebp-8h]
  _DWORD *v53; // [esp+24h] [ebp-4h]

  if ( (*(_BYTE *)(a3 + 520) & 1) == 0 )
    return 0;
  v33 = *(_DWORD *)a3 ^ *a1;
  v38 = *(_DWORD *)(a3 + 4) ^ a1[1];
  v43 = *(_DWORD *)(a3 + 8) ^ a1[2];
  v48 = *(_DWORD *)(a3 + 12) ^ a1[3];
  v53 = (_DWORD *)(a3 + 4 * (4 * *(_DWORD *)(a3 + 516) - 36));
  v4 = *(_DWORD *)(a3 + 516);
  switch ( v4 )
  {
    case 10:
      goto LABEL_8;
    case 12:
LABEL_7:
      v6 = dword_4CE308[(unsigned __int8)v48] ^ dword_4CDF08[BYTE1(v43)] ^ dword_4CDB08[BYTE2(v38)] ^ dword_4CD708[HIBYTE(v33)] ^ *(v53 - 8);
      v13 = dword_4CE308[(unsigned __int8)v33] ^ dword_4CDF08[BYTE1(v48)] ^ dword_4CDB08[BYTE2(v43)] ^ dword_4CD708[HIBYTE(v38)] ^ *(v53 - 7);
      v20 = dword_4CE308[(unsigned __int8)v38] ^ dword_4CDF08[BYTE1(v33)] ^ dword_4CDB08[BYTE2(v48)] ^ dword_4CD708[HIBYTE(v43)] ^ *(v53 - 6);
      v27 = dword_4CE308[(unsigned __int8)v43] ^ dword_4CDF08[BYTE1(v38)] ^ dword_4CDB08[BYTE2(v33)] ^ dword_4CD708[HIBYTE(v48)] ^ *(v53 - 5);
      v33 = dword_4CE308[(unsigned __int8)v27] ^ dword_4CDF08[BYTE1(v20)] ^ dword_4CDB08[BYTE2(v13)] ^ dword_4CD708[HIBYTE(v6)] ^ *(v53 - 4);
      v38 = dword_4CE308[(unsigned __int8)v6] ^ dword_4CDF08[BYTE1(v27)] ^ dword_4CDB08[BYTE2(v20)] ^ dword_4CD708[HIBYTE(v13)] ^ *(v53 - 3);
      v43 = dword_4CE308[(unsigned __int8)v13] ^ dword_4CDF08[BYTE1(v6)] ^ dword_4CDB08[BYTE2(v27)] ^ dword_4CD708[HIBYTE(v20)] ^ *(v53 - 2);
      v48 = dword_4CE308[(unsigned __int8)v20] ^ dword_4CDF08[BYTE1(v13)] ^ dword_4CDB08[BYTE2(v6)] ^ dword_4CD708[HIBYTE(v27)] ^ *(v53 - 1);
LABEL_8:
      v7 = dword_4CE308[(unsigned __int8)v48] ^ dword_4CDF08[BYTE1(v43)] ^ dword_4CDB08[BYTE2(v38)] ^ dword_4CD708[HIBYTE(v33)] ^ *v53;
      v14 = dword_4CE308[(unsigned __int8)v33] ^ dword_4CDF08[BYTE1(v48)] ^ dword_4CDB08[BYTE2(v43)] ^ dword_4CD708[HIBYTE(v38)] ^ v53[1];
      v21 = dword_4CE308[(unsigned __int8)v38] ^ dword_4CDF08[BYTE1(v33)] ^ dword_4CDB08[BYTE2(v48)] ^ dword_4CD708[HIBYTE(v43)] ^ v53[2];
      v28 = dword_4CE308[(unsigned __int8)v43] ^ dword_4CDF08[BYTE1(v38)] ^ dword_4CDB08[BYTE2(v33)] ^ dword_4CD708[HIBYTE(v48)] ^ v53[3];
      v34 = dword_4CE308[(unsigned __int8)v28] ^ dword_4CDF08[BYTE1(v21)] ^ dword_4CDB08[BYTE2(v14)] ^ dword_4CD708[HIBYTE(v7)] ^ v53[4];
      v39 = dword_4CE308[(unsigned __int8)v7] ^ dword_4CDF08[BYTE1(v28)] ^ dword_4CDB08[BYTE2(v21)] ^ dword_4CD708[HIBYTE(v14)] ^ v53[5];
      v44 = dword_4CE308[(unsigned __int8)v14] ^ dword_4CDF08[BYTE1(v7)] ^ dword_4CDB08[BYTE2(v28)] ^ dword_4CD708[HIBYTE(v21)] ^ v53[6];
      v49 = dword_4CE308[(unsigned __int8)v21] ^ dword_4CDF08[BYTE1(v14)] ^ dword_4CDB08[BYTE2(v7)] ^ dword_4CD708[HIBYTE(v28)] ^ v53[7];
      v8 = dword_4CE308[(unsigned __int8)v49] ^ dword_4CDF08[BYTE1(v44)] ^ dword_4CDB08[BYTE2(v39)] ^ dword_4CD708[HIBYTE(v34)] ^ v53[8];
      v15 = dword_4CE308[(unsigned __int8)v34] ^ dword_4CDF08[BYTE1(v49)] ^ dword_4CDB08[BYTE2(v44)] ^ dword_4CD708[HIBYTE(v39)] ^ v53[9];
      v22 = dword_4CE308[(unsigned __int8)v39] ^ dword_4CDF08[BYTE1(v34)] ^ dword_4CDB08[BYTE2(v49)] ^ dword_4CD708[HIBYTE(v44)] ^ v53[10];
      v29 = dword_4CE308[(unsigned __int8)v44] ^ dword_4CDF08[BYTE1(v39)] ^ dword_4CDB08[BYTE2(v34)] ^ dword_4CD708[HIBYTE(v49)] ^ v53[11];
      v35 = dword_4CE308[(unsigned __int8)v29] ^ dword_4CDF08[BYTE1(v22)] ^ dword_4CDB08[BYTE2(v15)] ^ dword_4CD708[HIBYTE(v8)] ^ v53[12];
      v40 = dword_4CE308[(unsigned __int8)v8] ^ dword_4CDF08[BYTE1(v29)] ^ dword_4CDB08[BYTE2(v22)] ^ dword_4CD708[HIBYTE(v15)] ^ v53[13];
      v45 = dword_4CE308[(unsigned __int8)v15] ^ dword_4CDF08[BYTE1(v8)] ^ dword_4CDB08[BYTE2(v29)] ^ dword_4CD708[HIBYTE(v22)] ^ v53[14];
      v50 = dword_4CE308[(unsigned __int8)v22] ^ dword_4CDF08[BYTE1(v15)] ^ dword_4CDB08[BYTE2(v8)] ^ dword_4CD708[HIBYTE(v29)] ^ v53[15];
      v9 = dword_4CE308[(unsigned __int8)v50] ^ dword_4CDF08[BYTE1(v45)] ^ dword_4CDB08[BYTE2(v40)] ^ dword_4CD708[HIBYTE(v35)] ^ v53[16];
      v16 = dword_4CE308[(unsigned __int8)v35] ^ dword_4CDF08[BYTE1(v50)] ^ dword_4CDB08[BYTE2(v45)] ^ dword_4CD708[HIBYTE(v40)] ^ v53[17];
      v23 = dword_4CE308[(unsigned __int8)v40] ^ dword_4CDF08[BYTE1(v35)] ^ dword_4CDB08[BYTE2(v50)] ^ dword_4CD708[HIBYTE(v45)] ^ v53[18];
      v30 = dword_4CE308[(unsigned __int8)v45] ^ dword_4CDF08[BYTE1(v40)] ^ dword_4CDB08[BYTE2(v35)] ^ dword_4CD708[HIBYTE(v50)] ^ v53[19];
      v36 = dword_4CE308[(unsigned __int8)v30] ^ dword_4CDF08[BYTE1(v23)] ^ dword_4CDB08[BYTE2(v16)] ^ dword_4CD708[HIBYTE(v9)] ^ v53[20];
      v41 = dword_4CE308[(unsigned __int8)v9] ^ dword_4CDF08[BYTE1(v30)] ^ dword_4CDB08[BYTE2(v23)] ^ dword_4CD708[HIBYTE(v16)] ^ v53[21];
      v46 = dword_4CE308[(unsigned __int8)v16] ^ dword_4CDF08[BYTE1(v9)] ^ dword_4CDB08[BYTE2(v30)] ^ dword_4CD708[HIBYTE(v23)] ^ v53[22];
      v51 = dword_4CE308[(unsigned __int8)v23] ^ dword_4CDF08[BYTE1(v16)] ^ dword_4CDB08[BYTE2(v9)] ^ dword_4CD708[HIBYTE(v30)] ^ v53[23];
      v10 = dword_4CE308[(unsigned __int8)v51] ^ dword_4CDF08[BYTE1(v46)] ^ dword_4CDB08[BYTE2(v41)] ^ dword_4CD708[HIBYTE(v36)] ^ v53[24];
      v17 = dword_4CE308[(unsigned __int8)v36] ^ dword_4CDF08[BYTE1(v51)] ^ dword_4CDB08[BYTE2(v46)] ^ dword_4CD708[HIBYTE(v41)] ^ v53[25];
      v24 = dword_4CE308[(unsigned __int8)v41] ^ dword_4CDF08[BYTE1(v36)] ^ dword_4CDB08[BYTE2(v51)] ^ dword_4CD708[HIBYTE(v46)] ^ v53[26];
      v31 = dword_4CE308[(unsigned __int8)v46] ^ dword_4CDF08[BYTE1(v41)] ^ dword_4CDB08[BYTE2(v36)] ^ dword_4CD708[HIBYTE(v51)] ^ v53[27];
      v37 = dword_4CE308[(unsigned __int8)v31] ^ dword_4CDF08[BYTE1(v24)] ^ dword_4CDB08[BYTE2(v17)] ^ dword_4CD708[HIBYTE(v10)] ^ v53[28];
      v42 = dword_4CE308[(unsigned __int8)v10] ^ dword_4CDF08[BYTE1(v31)] ^ dword_4CDB08[BYTE2(v24)] ^ dword_4CD708[HIBYTE(v17)] ^ v53[29];
      v47 = dword_4CE308[(unsigned __int8)v17] ^ dword_4CDF08[BYTE1(v10)] ^ dword_4CDB08[BYTE2(v31)] ^ dword_4CD708[HIBYTE(v24)] ^ v53[30];
      v52 = dword_4CE308[(unsigned __int8)v24] ^ dword_4CDF08[BYTE1(v17)] ^ dword_4CDB08[BYTE2(v10)] ^ dword_4CD708[HIBYTE(v31)] ^ v53[31];
      v11 = dword_4CE308[(unsigned __int8)v52] ^ dword_4CDF08[BYTE1(v47)] ^ dword_4CDB08[BYTE2(v42)] ^ dword_4CD708[HIBYTE(v37)] ^ v53[32];
      v18 = dword_4CE308[(unsigned __int8)v37] ^ dword_4CDF08[BYTE1(v52)] ^ dword_4CDB08[BYTE2(v47)] ^ dword_4CD708[HIBYTE(v42)] ^ v53[33];
      v25 = dword_4CE308[(unsigned __int8)v42] ^ dword_4CDF08[BYTE1(v37)] ^ dword_4CDB08[BYTE2(v52)] ^ dword_4CD708[HIBYTE(v47)] ^ v53[34];
      v32 = dword_4CE308[(unsigned __int8)v47] ^ dword_4CDF08[BYTE1(v42)] ^ dword_4CDB08[BYTE2(v37)] ^ dword_4CD708[HIBYTE(v52)] ^ v53[35];
      v33 = dword_4CF308[(unsigned __int8)v32] ^ dword_4CEF08[BYTE1(v25)] ^ dword_4CEB08[BYTE2(v18)] ^ dword_4CE708[HIBYTE(v11)] ^ v53[36];
      v38 = dword_4CF308[(unsigned __int8)v11] ^ dword_4CEF08[BYTE1(v32)] ^ dword_4CEB08[BYTE2(v25)] ^ dword_4CE708[HIBYTE(v18)] ^ v53[37];
      v43 = dword_4CF308[(unsigned __int8)v18] ^ dword_4CEF08[BYTE1(v11)] ^ dword_4CEB08[BYTE2(v32)] ^ dword_4CE708[HIBYTE(v25)] ^ v53[38];
      v48 = dword_4CF308[(unsigned __int8)v25] ^ dword_4CEF08[BYTE1(v18)] ^ dword_4CEB08[BYTE2(v11)] ^ dword_4CE708[HIBYTE(v32)] ^ v53[39];
      break;
    case 14:
      v5 = dword_4CE308[(unsigned __int8)v48] ^ dword_4CDF08[BYTE1(v43)] ^ dword_4CDB08[BYTE2(v38)] ^ dword_4CD708[HIBYTE(v33)] ^ *(v53 - 16);
      v12 = dword_4CE308[(unsigned __int8)v33] ^ dword_4CDF08[BYTE1(v48)] ^ dword_4CDB08[BYTE2(v43)] ^ dword_4CD708[HIBYTE(v38)] ^ *(v53 - 15);
      v19 = dword_4CE308[(unsigned __int8)v38] ^ dword_4CDF08[BYTE1(v33)] ^ dword_4CDB08[BYTE2(v48)] ^ dword_4CD708[HIBYTE(v43)] ^ *(v53 - 14);
      v26 = dword_4CE308[(unsigned __int8)v43] ^ dword_4CDF08[BYTE1(v38)] ^ dword_4CDB08[BYTE2(v33)] ^ dword_4CD708[HIBYTE(v48)] ^ *(v53 - 13);
      v33 = dword_4CE308[(unsigned __int8)v26] ^ dword_4CDF08[BYTE1(v19)] ^ dword_4CDB08[BYTE2(v12)] ^ dword_4CD708[HIBYTE(v5)] ^ *(v53 - 12);
      v38 = dword_4CE308[(unsigned __int8)v5] ^ dword_4CDF08[BYTE1(v26)] ^ dword_4CDB08[BYTE2(v19)] ^ dword_4CD708[HIBYTE(v12)] ^ *(v53 - 11);
      v43 = dword_4CE308[(unsigned __int8)v12] ^ dword_4CDF08[BYTE1(v5)] ^ dword_4CDB08[BYTE2(v26)] ^ dword_4CD708[HIBYTE(v19)] ^ *(v53 - 10);
      v48 = dword_4CE308[(unsigned __int8)v19] ^ dword_4CDF08[BYTE1(v12)] ^ dword_4CDB08[BYTE2(v5)] ^ dword_4CD708[HIBYTE(v26)] ^ *(v53 - 9);
      goto LABEL_7;
  }
  *a2 = v33;
  a2[1] = v38;
  a2[2] = v43;
  a2[3] = v48;
  return 1;
}

//----- (0049DCC7) --------------------------------------------------------
__int16 __cdecl aes_decrypt(_DWORD *a1, int *a2, int a3)
{
  int v4; // [esp+0h] [ebp-28h]
  int v5; // [esp+4h] [ebp-24h]
  int v6; // [esp+4h] [ebp-24h]
  int v7; // [esp+4h] [ebp-24h]
  int v8; // [esp+4h] [ebp-24h]
  int v9; // [esp+4h] [ebp-24h]
  int v10; // [esp+4h] [ebp-24h]
  int v11; // [esp+4h] [ebp-24h]
  int v12; // [esp+8h] [ebp-20h]
  int v13; // [esp+8h] [ebp-20h]
  int v14; // [esp+8h] [ebp-20h]
  int v15; // [esp+8h] [ebp-20h]
  int v16; // [esp+8h] [ebp-20h]
  int v17; // [esp+8h] [ebp-20h]
  int v18; // [esp+8h] [ebp-20h]
  int v19; // [esp+Ch] [ebp-1Ch]
  int v20; // [esp+Ch] [ebp-1Ch]
  int v21; // [esp+Ch] [ebp-1Ch]
  int v22; // [esp+Ch] [ebp-1Ch]
  int v23; // [esp+Ch] [ebp-1Ch]
  int v24; // [esp+Ch] [ebp-1Ch]
  int v25; // [esp+Ch] [ebp-1Ch]
  int v26; // [esp+10h] [ebp-18h]
  int v27; // [esp+10h] [ebp-18h]
  int v28; // [esp+10h] [ebp-18h]
  int v29; // [esp+10h] [ebp-18h]
  int v30; // [esp+10h] [ebp-18h]
  int v31; // [esp+10h] [ebp-18h]
  int v32; // [esp+10h] [ebp-18h]
  int v33; // [esp+14h] [ebp-14h]
  int v34; // [esp+14h] [ebp-14h]
  int v35; // [esp+14h] [ebp-14h]
  int v36; // [esp+14h] [ebp-14h]
  int v37; // [esp+14h] [ebp-14h]
  int v38; // [esp+18h] [ebp-10h]
  int v39; // [esp+18h] [ebp-10h]
  int v40; // [esp+18h] [ebp-10h]
  int v41; // [esp+18h] [ebp-10h]
  int v42; // [esp+18h] [ebp-10h]
  int v43; // [esp+1Ch] [ebp-Ch]
  int v44; // [esp+1Ch] [ebp-Ch]
  int v45; // [esp+1Ch] [ebp-Ch]
  int v46; // [esp+1Ch] [ebp-Ch]
  int v47; // [esp+1Ch] [ebp-Ch]
  int v48; // [esp+20h] [ebp-8h]
  int v49; // [esp+20h] [ebp-8h]
  int v50; // [esp+20h] [ebp-8h]
  int v51; // [esp+20h] [ebp-8h]
  int v52; // [esp+20h] [ebp-8h]

  if ( (*(_BYTE *)(a3 + 520) & 2) == 0 )
    return 0;
  v33 = *(_DWORD *)(a3 + 16 * *(_DWORD *)(a3 + 516) + 256) ^ *a1;
  v38 = *(_DWORD *)(a3 + 16 * *(_DWORD *)(a3 + 516) + 260) ^ a1[1];
  v43 = *(_DWORD *)(a3 + 16 * *(_DWORD *)(a3 + 516) + 264) ^ a1[2];
  v48 = *(_DWORD *)(a3 + 16 * *(_DWORD *)(a3 + 516) + 268) ^ a1[3];
  v4 = *(_DWORD *)(a3 + 516);
  switch ( v4 )
  {
    case 10:
      goto LABEL_8;
    case 12:
LABEL_7:
      v6 = dword_4D0308[(unsigned __int8)v38] ^ dword_4CFF08[BYTE1(v43)] ^ dword_4CFB08[BYTE2(v48)] ^ dword_4CF708[HIBYTE(v33)] ^ *(_DWORD *)(a3 + 432);
      v13 = dword_4D0308[(unsigned __int8)v43] ^ dword_4CFF08[BYTE1(v48)] ^ dword_4CFB08[BYTE2(v33)] ^ dword_4CF708[HIBYTE(v38)] ^ *(_DWORD *)(a3 + 436);
      v20 = dword_4D0308[(unsigned __int8)v48] ^ dword_4CFF08[BYTE1(v33)] ^ dword_4CFB08[BYTE2(v38)] ^ dword_4CF708[HIBYTE(v43)] ^ *(_DWORD *)(a3 + 440);
      v27 = dword_4D0308[(unsigned __int8)v33] ^ dword_4CFF08[BYTE1(v38)] ^ dword_4CFB08[BYTE2(v43)] ^ dword_4CF708[HIBYTE(v48)] ^ *(_DWORD *)(a3 + 444);
      v33 = dword_4D0308[(unsigned __int8)v13] ^ dword_4CFF08[BYTE1(v20)] ^ dword_4CFB08[BYTE2(v27)] ^ dword_4CF708[HIBYTE(v6)] ^ *(_DWORD *)(a3 + 416);
      v38 = dword_4D0308[(unsigned __int8)v20] ^ dword_4CFF08[BYTE1(v27)] ^ dword_4CFB08[BYTE2(v6)] ^ dword_4CF708[HIBYTE(v13)] ^ *(_DWORD *)(a3 + 420);
      v43 = dword_4D0308[(unsigned __int8)v27] ^ dword_4CFF08[BYTE1(v6)] ^ dword_4CFB08[BYTE2(v13)] ^ dword_4CF708[HIBYTE(v20)] ^ *(_DWORD *)(a3 + 424);
      v48 = dword_4D0308[(unsigned __int8)v6] ^ dword_4CFF08[BYTE1(v13)] ^ dword_4CFB08[BYTE2(v20)] ^ dword_4CF708[HIBYTE(v27)] ^ *(_DWORD *)(a3 + 428);
LABEL_8:
      v7 = dword_4D0308[(unsigned __int8)v38] ^ dword_4CFF08[BYTE1(v43)] ^ dword_4CFB08[BYTE2(v48)] ^ dword_4CF708[HIBYTE(v33)] ^ *(_DWORD *)(a3 + 400);
      v14 = dword_4D0308[(unsigned __int8)v43] ^ dword_4CFF08[BYTE1(v48)] ^ dword_4CFB08[BYTE2(v33)] ^ dword_4CF708[HIBYTE(v38)] ^ *(_DWORD *)(a3 + 404);
      v21 = dword_4D0308[(unsigned __int8)v48] ^ dword_4CFF08[BYTE1(v33)] ^ dword_4CFB08[BYTE2(v38)] ^ dword_4CF708[HIBYTE(v43)] ^ *(_DWORD *)(a3 + 408);
      v28 = dword_4D0308[(unsigned __int8)v33] ^ dword_4CFF08[BYTE1(v38)] ^ dword_4CFB08[BYTE2(v43)] ^ dword_4CF708[HIBYTE(v48)] ^ *(_DWORD *)(a3 + 412);
      v34 = dword_4D0308[(unsigned __int8)v14] ^ dword_4CFF08[BYTE1(v21)] ^ dword_4CFB08[BYTE2(v28)] ^ dword_4CF708[HIBYTE(v7)] ^ *(_DWORD *)(a3 + 384);
      v39 = dword_4D0308[(unsigned __int8)v21] ^ dword_4CFF08[BYTE1(v28)] ^ dword_4CFB08[BYTE2(v7)] ^ dword_4CF708[HIBYTE(v14)] ^ *(_DWORD *)(a3 + 388);
      v44 = dword_4D0308[(unsigned __int8)v28] ^ dword_4CFF08[BYTE1(v7)] ^ dword_4CFB08[BYTE2(v14)] ^ dword_4CF708[HIBYTE(v21)] ^ *(_DWORD *)(a3 + 392);
      v49 = dword_4D0308[(unsigned __int8)v7] ^ dword_4CFF08[BYTE1(v14)] ^ dword_4CFB08[BYTE2(v21)] ^ dword_4CF708[HIBYTE(v28)] ^ *(_DWORD *)(a3 + 396);
      v8 = dword_4D0308[(unsigned __int8)v39] ^ dword_4CFF08[BYTE1(v44)] ^ dword_4CFB08[BYTE2(v49)] ^ dword_4CF708[HIBYTE(v34)] ^ *(_DWORD *)(a3 + 368);
      v15 = dword_4D0308[(unsigned __int8)v44] ^ dword_4CFF08[BYTE1(v49)] ^ dword_4CFB08[BYTE2(v34)] ^ dword_4CF708[HIBYTE(v39)] ^ *(_DWORD *)(a3 + 372);
      v22 = dword_4D0308[(unsigned __int8)v49] ^ dword_4CFF08[BYTE1(v34)] ^ dword_4CFB08[BYTE2(v39)] ^ dword_4CF708[HIBYTE(v44)] ^ *(_DWORD *)(a3 + 376);
      v29 = dword_4D0308[(unsigned __int8)v34] ^ dword_4CFF08[BYTE1(v39)] ^ dword_4CFB08[BYTE2(v44)] ^ dword_4CF708[HIBYTE(v49)] ^ *(_DWORD *)(a3 + 380);
      v35 = dword_4D0308[(unsigned __int8)v15] ^ dword_4CFF08[BYTE1(v22)] ^ dword_4CFB08[BYTE2(v29)] ^ dword_4CF708[HIBYTE(v8)] ^ *(_DWORD *)(a3 + 352);
      v40 = dword_4D0308[(unsigned __int8)v22] ^ dword_4CFF08[BYTE1(v29)] ^ dword_4CFB08[BYTE2(v8)] ^ dword_4CF708[HIBYTE(v15)] ^ *(_DWORD *)(a3 + 356);
      v45 = dword_4D0308[(unsigned __int8)v29] ^ dword_4CFF08[BYTE1(v8)] ^ dword_4CFB08[BYTE2(v15)] ^ dword_4CF708[HIBYTE(v22)] ^ *(_DWORD *)(a3 + 360);
      v50 = dword_4D0308[(unsigned __int8)v8] ^ dword_4CFF08[BYTE1(v15)] ^ dword_4CFB08[BYTE2(v22)] ^ dword_4CF708[HIBYTE(v29)] ^ *(_DWORD *)(a3 + 364);
      v9 = dword_4D0308[(unsigned __int8)v40] ^ dword_4CFF08[BYTE1(v45)] ^ dword_4CFB08[BYTE2(v50)] ^ dword_4CF708[HIBYTE(v35)] ^ *(_DWORD *)(a3 + 336);
      v16 = dword_4D0308[(unsigned __int8)v45] ^ dword_4CFF08[BYTE1(v50)] ^ dword_4CFB08[BYTE2(v35)] ^ dword_4CF708[HIBYTE(v40)] ^ *(_DWORD *)(a3 + 340);
      v23 = dword_4D0308[(unsigned __int8)v50] ^ dword_4CFF08[BYTE1(v35)] ^ dword_4CFB08[BYTE2(v40)] ^ dword_4CF708[HIBYTE(v45)] ^ *(_DWORD *)(a3 + 344);
      v30 = dword_4D0308[(unsigned __int8)v35] ^ dword_4CFF08[BYTE1(v40)] ^ dword_4CFB08[BYTE2(v45)] ^ dword_4CF708[HIBYTE(v50)] ^ *(_DWORD *)(a3 + 348);
      v36 = dword_4D0308[(unsigned __int8)v16] ^ dword_4CFF08[BYTE1(v23)] ^ dword_4CFB08[BYTE2(v30)] ^ dword_4CF708[HIBYTE(v9)] ^ *(_DWORD *)(a3 + 320);
      v41 = dword_4D0308[(unsigned __int8)v23] ^ dword_4CFF08[BYTE1(v30)] ^ dword_4CFB08[BYTE2(v9)] ^ dword_4CF708[HIBYTE(v16)] ^ *(_DWORD *)(a3 + 324);
      v46 = dword_4D0308[(unsigned __int8)v30] ^ dword_4CFF08[BYTE1(v9)] ^ dword_4CFB08[BYTE2(v16)] ^ dword_4CF708[HIBYTE(v23)] ^ *(_DWORD *)(a3 + 328);
      v51 = dword_4D0308[(unsigned __int8)v9] ^ dword_4CFF08[BYTE1(v16)] ^ dword_4CFB08[BYTE2(v23)] ^ dword_4CF708[HIBYTE(v30)] ^ *(_DWORD *)(a3 + 332);
      v10 = dword_4D0308[(unsigned __int8)v41] ^ dword_4CFF08[BYTE1(v46)] ^ dword_4CFB08[BYTE2(v51)] ^ dword_4CF708[HIBYTE(v36)] ^ *(_DWORD *)(a3 + 304);
      v17 = dword_4D0308[(unsigned __int8)v46] ^ dword_4CFF08[BYTE1(v51)] ^ dword_4CFB08[BYTE2(v36)] ^ dword_4CF708[HIBYTE(v41)] ^ *(_DWORD *)(a3 + 308);
      v24 = dword_4D0308[(unsigned __int8)v51] ^ dword_4CFF08[BYTE1(v36)] ^ dword_4CFB08[BYTE2(v41)] ^ dword_4CF708[HIBYTE(v46)] ^ *(_DWORD *)(a3 + 312);
      v31 = dword_4D0308[(unsigned __int8)v36] ^ dword_4CFF08[BYTE1(v41)] ^ dword_4CFB08[BYTE2(v46)] ^ dword_4CF708[HIBYTE(v51)] ^ *(_DWORD *)(a3 + 316);
      v37 = dword_4D0308[(unsigned __int8)v17] ^ dword_4CFF08[BYTE1(v24)] ^ dword_4CFB08[BYTE2(v31)] ^ dword_4CF708[HIBYTE(v10)] ^ *(_DWORD *)(a3 + 288);
      v42 = dword_4D0308[(unsigned __int8)v24] ^ dword_4CFF08[BYTE1(v31)] ^ dword_4CFB08[BYTE2(v10)] ^ dword_4CF708[HIBYTE(v17)] ^ *(_DWORD *)(a3 + 292);
      v47 = dword_4D0308[(unsigned __int8)v31] ^ dword_4CFF08[BYTE1(v10)] ^ dword_4CFB08[BYTE2(v17)] ^ dword_4CF708[HIBYTE(v24)] ^ *(_DWORD *)(a3 + 296);
      v52 = dword_4D0308[(unsigned __int8)v10] ^ dword_4CFF08[BYTE1(v17)] ^ dword_4CFB08[BYTE2(v24)] ^ dword_4CF708[HIBYTE(v31)] ^ *(_DWORD *)(a3 + 300);
      v11 = dword_4D0308[(unsigned __int8)v42] ^ dword_4CFF08[BYTE1(v47)] ^ dword_4CFB08[BYTE2(v52)] ^ dword_4CF708[HIBYTE(v37)] ^ *(_DWORD *)(a3 + 272);
      v18 = dword_4D0308[(unsigned __int8)v47] ^ dword_4CFF08[BYTE1(v52)] ^ dword_4CFB08[BYTE2(v37)] ^ dword_4CF708[HIBYTE(v42)] ^ *(_DWORD *)(a3 + 276);
      v25 = dword_4D0308[(unsigned __int8)v52] ^ dword_4CFF08[BYTE1(v37)] ^ dword_4CFB08[BYTE2(v42)] ^ dword_4CF708[HIBYTE(v47)] ^ *(_DWORD *)(a3 + 280);
      v32 = dword_4D0308[(unsigned __int8)v37] ^ dword_4CFF08[BYTE1(v42)] ^ dword_4CFB08[BYTE2(v47)] ^ dword_4CF708[HIBYTE(v52)] ^ *(_DWORD *)(a3 + 284);
      v33 = dword_4D1308[(unsigned __int8)v18] ^ dword_4D0F08[BYTE1(v25)] ^ dword_4D0B08[BYTE2(v32)] ^ dword_4D0708[HIBYTE(v11)] ^ *(_DWORD *)(a3 + 256);
      v38 = dword_4D1308[(unsigned __int8)v25] ^ dword_4D0F08[BYTE1(v32)] ^ dword_4D0B08[BYTE2(v11)] ^ dword_4D0708[HIBYTE(v18)] ^ *(_DWORD *)(a3 + 260);
      v43 = dword_4D1308[(unsigned __int8)v32] ^ dword_4D0F08[BYTE1(v11)] ^ dword_4D0B08[BYTE2(v18)] ^ dword_4D0708[HIBYTE(v25)] ^ *(_DWORD *)(a3 + 264);
      v48 = dword_4D1308[(unsigned __int8)v11] ^ dword_4D0F08[BYTE1(v18)] ^ dword_4D0B08[BYTE2(v25)] ^ dword_4D0708[HIBYTE(v32)] ^ *(_DWORD *)(a3 + 268);
      break;
    case 14:
      v5 = dword_4D0308[(unsigned __int8)v38] ^ dword_4CFF08[BYTE1(v43)] ^ dword_4CFB08[BYTE2(v48)] ^ dword_4CF708[HIBYTE(v33)] ^ *(_DWORD *)(a3 + 464);
      v12 = dword_4D0308[(unsigned __int8)v43] ^ dword_4CFF08[BYTE1(v48)] ^ dword_4CFB08[BYTE2(v33)] ^ dword_4CF708[HIBYTE(v38)] ^ *(_DWORD *)(a3 + 468);
      v19 = dword_4D0308[(unsigned __int8)v48] ^ dword_4CFF08[BYTE1(v33)] ^ dword_4CFB08[BYTE2(v38)] ^ dword_4CF708[HIBYTE(v43)] ^ *(_DWORD *)(a3 + 472);
      v26 = dword_4D0308[(unsigned __int8)v33] ^ dword_4CFF08[BYTE1(v38)] ^ dword_4CFB08[BYTE2(v43)] ^ dword_4CF708[HIBYTE(v48)] ^ *(_DWORD *)(a3 + 476);
      v33 = dword_4D0308[(unsigned __int8)v12] ^ dword_4CFF08[BYTE1(v19)] ^ dword_4CFB08[BYTE2(v26)] ^ dword_4CF708[HIBYTE(v5)] ^ *(_DWORD *)(a3 + 448);
      v38 = dword_4D0308[(unsigned __int8)v19] ^ dword_4CFF08[BYTE1(v26)] ^ dword_4CFB08[BYTE2(v5)] ^ dword_4CF708[HIBYTE(v12)] ^ *(_DWORD *)(a3 + 452);
      v43 = dword_4D0308[(unsigned __int8)v26] ^ dword_4CFF08[BYTE1(v5)] ^ dword_4CFB08[BYTE2(v12)] ^ dword_4CF708[HIBYTE(v19)] ^ *(_DWORD *)(a3 + 456);
      v48 = dword_4D0308[(unsigned __int8)v5] ^ dword_4CFF08[BYTE1(v12)] ^ dword_4CFB08[BYTE2(v19)] ^ dword_4CF708[HIBYTE(v26)] ^ *(_DWORD *)(a3 + 460);
      goto LABEL_7;
  }
  *a2 = v33;
  a2[1] = v38;
  a2[2] = v43;
  a2[3] = v48;
  return 1;
}

//----- (0049EFED) --------------------------------------------------------
__int16 __cdecl sub_49EFED(int a1, int *a2, int a3)
{
  return aes_set_key(a2, a3, 1, a1);
}

//----- (0049F008) --------------------------------------------------------
__int16 __cdecl sub_49F008(int a1, int *a2, int a3)
{
  return aes_set_key(a2, a3, 2, a1);
}

//----- (0049F030) --------------------------------------------------------
void *__cdecl AES_ECB_Encrypt(int a1, void *a2, void *Src, int a4, int a5)
{
  void *result; // eax
  int v6; // [esp+0h] [ebp-28h]
  int i; // [esp+4h] [ebp-24h]
  int v8[4]; // [esp+8h] [ebp-20h] BYREF
  _DWORD v9[4]; // [esp+18h] [ebp-10h] BYREF

  result = (void *)a4;
  v6 = a4 - 16;
  while ( v6 >= 0 )
  {
    memcpy(v9, Src, sizeof(v9));
    aes_encrypt(v9, v8, a1);
    memcpy(a2, v8, 0x10u);
    v6 -= 16;
    result = (char *)Src + 16;
    Src = (char *)Src + 16;
    a2 = (char *)a2 + 16;
  }
  if ( v6 != -16 )
  {
    memcpy(v9, Src, v6 + 16);
    for ( i = 0; i < v6 + 16; ++i )
      *((_BYTE *)v9 + i) ^= *(_BYTE *)(i + a5);
    result = memcpy(a2, v9, v6 + 16);
  }
  return result;
}

//----- (0049F10F) --------------------------------------------------------
void *__cdecl sub_49F10F(int a1, void *a2, void *a3, int a4, int a5)
{
  void *result; // eax
  int v6; // [esp+0h] [ebp-28h]
  int i; // [esp+4h] [ebp-24h]
  int v8[4]; // [esp+8h] [ebp-20h] BYREF
  _DWORD a1a[4]; // [esp+18h] [ebp-10h] BYREF

  result = (void *)a4;
  v6 = a4 - 16;
  while ( v6 >= 0 )
  {
    memcpy(a1a, a3, sizeof(a1a));
    aes_decrypt(a1a, v8, a1);
    memcpy(a2, v8, 0x10u);
    v6 -= 16;
    result = (char *)a3 + 16;
    a3 = (char *)a3 + 16;
    a2 = (char *)a2 + 16;
  }
  if ( v6 != -16 )
  {
    memcpy(a1a, a3, v6 + 16);
    for ( i = 0; i < v6 + 16; ++i )
      *((_BYTE *)a1a + i) ^= *(_BYTE *)(i + a5);
    result = memcpy(a2, a1a, v6 + 16);
  }
  return result;
}

//----- (0049F1EE) --------------------------------------------------------
void __thiscall __noreturn std::_String_base::_Xran(std::_String_base *this)
{
  std::logic_error pExceptionObject; // [esp+0h] [ebp-50h] BYREF
  std::string _Message; // [esp+28h] [ebp-28h] BYREF
  int v3; // [esp+4Ch] [ebp-4h]

  std::string::string((std::vector<IPAddrMask> *)&_Message, "invalid string position");
  v3 = 0;
  std::logic_error::logic_error(&pExceptionObject, &_Message);
  pExceptionObject.__vftable = (std::logic_error_vtbl *)&std::out_of_range::`vftable';
  _CxxThrowException(&pExceptionObject, &_TI3_AVout_of_range_std__);
}
// 4D2724: using guessed type int (__stdcall *std::out_of_range::`vftable')(int);

//----- (0049F22E) --------------------------------------------------------
std::logic_error *__thiscall std::logic_error::logic_error(std::logic_error *this, const std::logic_error *__that)
{
  exception::exception(this, __that);
  *(_DWORD *)this = &off_4D270C;
  std::string::string((std::logic_error *)((char *)this + 12), (const std::logic_error *)((char *)__that + 12));
  return this;
}
// 4A243F: using guessed type exception *__thiscall exception::exception(exception *__hidden this, const struct exception *);
// 4D270C: using guessed type int (__stdcall *off_4D270C)(int);

//----- (0049F271) --------------------------------------------------------
std::logic_error *__thiscall sub_49F271(std::logic_error *this, const std::logic_error *a2)
{
  std::logic_error::logic_error(this, a2);
  *(_DWORD *)this = &std::out_of_range::`vftable';
  return this;
}
// 4D2724: using guessed type int (__stdcall *std::out_of_range::`vftable')(int);

//----- (0049F289) --------------------------------------------------------
void __noreturn sub_49F289()
{
  std::logic_error pExceptionObject; // [esp+0h] [ebp-50h] BYREF
  std::string _Message; // [esp+28h] [ebp-28h] BYREF
  int v2; // [esp+4Ch] [ebp-4h]

  std::string::string((std::vector<IPAddrMask> *)&_Message, "string too long");
  v2 = 0;
  std::logic_error::logic_error(&pExceptionObject, &_Message);
  pExceptionObject.__vftable = (std::logic_error_vtbl *)&std::length_error::`vftable';
  _CxxThrowException(&pExceptionObject, &_TI3_AVlength_error_std__);
}
// 4D2718: using guessed type int (__stdcall *std::length_error::`vftable')(int);

//----- (0049F2C9) --------------------------------------------------------
std::logic_error *__thiscall sub_49F2C9(std::logic_error *this, const std::logic_error *a2)
{
  std::logic_error::logic_error(this, a2);
  *(_DWORD *)this = &std::length_error::`vftable';
  return this;
}
// 4D2718: using guessed type int (__stdcall *std::length_error::`vftable')(int);

//----- (0049F65E) --------------------------------------------------------
void __thiscall sub_49F65E(void *this)
{
  if ( this != (void *)dword_4D9830 )
    report_failure();
}
// 49F62D: using guessed type int report_failure(void);
// 4D9830: using guessed type int dword_4D9830;

//----- (004A0647) --------------------------------------------------------
int __cdecl sub_4A0647(int a1)
{
  int result; // eax

  result = dword_4E3750;
  dword_4E3750 = a1;
  return result;
}
// 4E3750: using guessed type int dword_4E3750;

//----- (004A0FE3) --------------------------------------------------------
unsigned int __cdecl fread_0(void *buffer, unsigned int size, unsigned int count, _iobuf *stream)
{
  unsigned int v5; // [esp+Ch] [ebp-1Ch]

  _lock_file(stream);
  v5 = fwrite(buffer, size, count, stream);
  _unlock_file(stream);
  return v5;
}

//----- (004A1236) --------------------------------------------------------
int sub_4A1236()
{
  return flsall(1);
}
// 4A1111: using guessed type _DWORD __cdecl flsall(_DWORD);

//----- (004A17A2) --------------------------------------------------------
size_t __cdecl sub_4A17A2(void *a1, size_t a2, size_t a3, FILE *a4)
{
  size_t v5; // [esp+Ch] [ebp-1Ch]

  _lock_file(a4);
  v5 = fread(a1, a2, a3, a4);
  _unlock_file(a4);
  return v5;
}

//----- (004A2489) --------------------------------------------------------
void __thiscall sub_4A2489(void *this)
{
  bool v1; // zf

  v1 = *((_DWORD *)this + 2) == 0;
  *(_DWORD *)this = &exception::`vftable';
  if ( !v1 )
    free(*((void **)this + 1));
}
// 4D2AA0: using guessed type int (__stdcall *exception::`vftable')(char);

//----- (004A24AC) --------------------------------------------------------
void *__thiscall sub_4A24AC(void *this, char a2)
{
  sub_4A2489(this);
  if ( (a2 & 1) != 0 )
    sub_401020(this);
  return this;
}

//----- (004A7BF9) --------------------------------------------------------
void __cdecl _RTC_Initialize()
{
  void (**i)(void); // [esp+Ch] [ebp-1Ch]

  for ( i = dword_4D3C90; i < dword_4D3C90; ++i )
  {
    if ( *i )
      (*i)();
  }
}

//----- (004A7C3D) --------------------------------------------------------
void __cdecl sub_4A7C3D()
{
  void (**i)(void); // [esp+Ch] [ebp-1Ch]

  for ( i = &dword_4D3C98; i < &dword_4D3C98; ++i )
  {
    if ( *i )
      (*i)();
  }
}

//----- (004A89F9) --------------------------------------------------------
void __cdecl __noreturn _inconsistency()
{
  if ( off_4DA1C8 )
    off_4DA1C8();
  terminate();
}
// 4DA1C8: using guessed type int (*off_4DA1C8)(void);

//----- (004AA18E) --------------------------------------------------------
int __cdecl sub_4AA18E(int a1, int a2)
{
  return _ld12cvt(a1, a2, &unk_4DA3E0);
}
// 4AA036: using guessed type _DWORD __cdecl _ld12cvt(_DWORD, _DWORD, _DWORD);

//----- (004AA1A4) --------------------------------------------------------
int __cdecl sub_4AA1A4(int a1, int a2)
{
  return _ld12cvt(a1, a2, &unk_4DA3F8);
}
// 4AA036: using guessed type _DWORD __cdecl _ld12cvt(_DWORD, _DWORD, _DWORD);

//----- (004AA1BA) --------------------------------------------------------
int __cdecl _atodbl(_CRT_DOUBLE *Result, char *String)
{
  char v3[4]; // [esp+0h] [ebp-14h] BYREF
  char v4[12]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+10h] [ebp-4h]

  v5 = dword_4D9830;
  __strgtold12(v4, v3, String, 0, 0, 0, 0);
  return sub_4AA18E((int)v4, (int)Result);
}
// 4AAC97: using guessed type _DWORD __cdecl __strgtold12(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4D9830: using guessed type int dword_4D9830;

//----- (004AA1F7) --------------------------------------------------------
int __cdecl sub_4AA1F7(int a1, int a2)
{
  char v3[4]; // [esp+0h] [ebp-14h] BYREF
  char v4[12]; // [esp+4h] [ebp-10h] BYREF
  int v5; // [esp+10h] [ebp-4h]

  v5 = dword_4D9830;
  __strgtold12(v4, v3, a2, 0, 0, 0, 0);
  return sub_4AA1A4((int)v4, a1);
}
// 4AAC97: using guessed type _DWORD __cdecl __strgtold12(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4D9830: using guessed type int dword_4D9830;

//----- (004ABF90) --------------------------------------------------------
int sub_4ABF90()
{
  CDBSocket::CDBSocket(dword_4DA6F0);
  return atexit((void (__cdecl *)())sub_4B2FC0);
}
// 4DA6F0: using guessed type int dword_4DA6F0[4];

//----- (004ABFB0) --------------------------------------------------------
int sub_4ABFB0()
{
  sub_40E750((int)&dword_4DA75C);
  return atexit(sub_4B2FE0);
}
// 4DA75C: using guessed type int dword_4DA75C;

//----- (004ABFD0) --------------------------------------------------------
int sub_4ABFD0()
{
  sub_40E750((int)&dword_4DA764);
  return atexit((void (__cdecl *)())sub_4B2FD0);
}
// 4DA764: using guessed type int dword_4DA764;

//----- (004ABFF0) --------------------------------------------------------
int sub_4ABFF0()
{
  sub_40E750((int)&dword_4DA770);
  return atexit((void (__cdecl *)())sub_4B2FF0);
}
// 4DA770: using guessed type int dword_4DA770;

//----- (004AC010) --------------------------------------------------------
int sub_4AC010()
{
  sub_40A620(&unk_4DA798);
  return atexit(sub_4B3000);
}

//----- (004AC030) --------------------------------------------------------
int sub_4AC030()
{
  sub_40CA80(dword_4DA7B8);
  return atexit(sub_4B3010);
}
// 4DA7B8: using guessed type int dword_4DA7B8[4];

//----- (004AC050) --------------------------------------------------------
int sub_4AC050()
{
  sub_40E750((int)&dword_4DA824);
  return atexit((void (__cdecl *)())sub_4B3020);
}
// 4DA824: using guessed type int dword_4DA824;

//----- (004AC070) --------------------------------------------------------
_DWORD *sub_4AC070()
{
  return CFindPath::NODE::NODE(dword_4E0908, -1, -1);
}

//----- (004AC090) --------------------------------------------------------
int sub_4AC090()
{
  sub_40E750((int)&dword_4E0900);
  return atexit(sub_4B3030);
}
// 4E0900: using guessed type int dword_4E0900;

//----- (004AC0B0) --------------------------------------------------------
int sub_4AC0B0()
{
  std::map<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>>::map<char const *,CBillingLogin *,StrCmp,std::allocator<std::pair<char const * const,CBillingLogin *>>>((std::map<char const *,CItem *,iless,std::allocator<std::pair<char const * const,CItem *> > > *)dword_4E094C);
  return atexit((void (__cdecl *)())sub_4B3040);
}
// 4E094C: using guessed type int dword_4E094C[3];

//----- (004AC0D0) --------------------------------------------------------
int sub_4AC0D0()
{
  std::list<tagSUBPARTICLES *>::list<tagSUBPARTICLES *>((std::list<tagPARTICLES *> *)dword_4E0958);
  return atexit((void (__cdecl *)())sub_4B3050);
}
// 4E0958: using guessed type int dword_4E0958[3];

//----- (004AC0F0) --------------------------------------------------------
int sub_4AC0F0()
{
  sub_418A00(dword_4E0968);
  return atexit((void (__cdecl *)())sub_4B3060);
}

//----- (004AC110) --------------------------------------------------------
int sub_4AC110()
{
  sub_418A00(dword_4E0974);
  return atexit((void (__cdecl *)())sub_4B3070);
}
// 4E0974: using guessed type int dword_4E0974[3];

//----- (004AC130) --------------------------------------------------------
int sub_4AC130()
{
  CRWLock::CRWLock(&unk_4E0980);
  return atexit((void (__cdecl *)())sub_4B3080);
}

//----- (004AC150) --------------------------------------------------------
int sub_4AC150()
{
  sub_41D000(dword_4E09A4);
  return atexit((void (__cdecl *)())sub_4B3090);
}

//----- (004AC170) --------------------------------------------------------
int sub_4AC170()
{
  CRWLock::CRWLock(&unk_4E09B0);
  return atexit((void (__cdecl *)())sub_4B30A0);
}

//----- (004AC190) --------------------------------------------------------
int sub_4AC190()
{
  sub_41D030(dword_4E09C8);
  return atexit((void (__cdecl *)())sub_4B30B0);
}

//----- (004AC1B0) --------------------------------------------------------
int sub_4AC1B0()
{
  CRWLock::CRWLock(&unk_4E09D4);
  return atexit((void (__cdecl *)())sub_4B30C0);
}

//----- (004AC1D0) --------------------------------------------------------
int sub_4AC1D0()
{
  sub_420920(dword_4E09F0);
  return atexit((void (__cdecl *)())sub_4B30D0);
}

//----- (004AC1F0) --------------------------------------------------------
void sub_4AC1F0()
{
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A00);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A08);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A10);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A18);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A20);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A30);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A38);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A40);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A48);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A50);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A58);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A60);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A68);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A70);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A78);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A80);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A88);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A90);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0A98);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AA0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AA8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AB0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AB8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AC0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AC8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AD0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AD8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AE0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AE8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AF0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0AF8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B00);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B08);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B10);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B18);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B20);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B30);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B38);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B40);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B48);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B50);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B58);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B60);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E0B68);
}

//----- (004AC930) --------------------------------------------------------
int sub_4AC930()
{
  CIOException::CInit::CInit(&unk_4E0DB4);
  return atexit(sub_4B30E0);
}

//----- (004AC950) --------------------------------------------------------
int sub_4AC950()
{
  CIOCriticalSection::CIOCriticalSection(&unk_4E0FE8);
  return atexit(sub_4B30F0);
}

//----- (004AC970) --------------------------------------------------------
int sub_4AC970()
{
  return atexit((void (__cdecl *)())sub_4B3100);
}

//----- (004AC990) --------------------------------------------------------
int sub_4AC990()
{
  sub_425830(&unk_4E100C);
  return atexit((void (__cdecl *)())sub_4B3110);
}

//----- (004AC9B0) --------------------------------------------------------
int sub_4AC9B0()
{
  sub_425880(&unk_4E1020);
  return atexit(sub_4B3120);
}

//----- (004AC9D0) --------------------------------------------------------
int sub_4AC9D0()
{
  return `vector constructor iterator'(_t, 8u, 16, (void *(__thiscall *)(void *))CIOBuffer::CSlot::CSlot);
}

//----- (004AC9F0) --------------------------------------------------------
int sub_4AC9F0()
{
  sub_42F980(dword_4E10B4);
  return atexit((void (__cdecl *)())sub_4B3130);
}
// 4E10B4: using guessed type int dword_4E10B4[3];

//----- (004ACA10) --------------------------------------------------------
int sub_4ACA10()
{
  sub_42F9D0(dword_4E10C0);
  return atexit((void (__cdecl *)())sub_4B3140);
}
// 4E10C0: using guessed type int dword_4E10C0[3];

//----- (004ACA30) --------------------------------------------------------
int sub_4ACA30()
{
  sub_42FA10(dword_4E10CC);
  return atexit((void (__cdecl *)())sub_4B3150);
}
// 4E10CC: using guessed type int dword_4E10CC[3];

//----- (004ACA50) --------------------------------------------------------
int sub_4ACA50()
{
  CRWLock::CRWLock(&unk_4E10D8);
  return atexit(sub_4B3160);
}

//----- (004ACA70) --------------------------------------------------------
int sub_4ACA70()
{
  sub_432030(dword_4E10F0);
  return atexit((void (__cdecl *)())sub_4B3170);
}
// 4E10F0: using guessed type int dword_4E10F0[3];

//----- (004ACA90) --------------------------------------------------------
int sub_4ACA90()
{
  sub_4320A0(dword_4E10FC);
  return atexit((void (__cdecl *)())sub_4B3180);
}
// 4E10FC: using guessed type int dword_4E10FC[3];

//----- (004ACAB0) --------------------------------------------------------
std::ios_base *sub_4ACAB0()
{
  return std::ios_base::ios_base((std::ios_base *)&dword_4E1108);
}

//----- (004ACAC0) --------------------------------------------------------
std::ios_base *sub_4ACAC0()
{
  return sub_4324B0((std::ios_base *)&unk_4E110C);
}

//----- (004ACAD0) --------------------------------------------------------
int sub_4ACAD0()
{
  CScreen::CScreen((CScreen *)&unk_4E1128);
  return atexit(sub_4B3190);
}

//----- (004ACAF0) --------------------------------------------------------
int sub_4ACAF0()
{
  return atexit((void (__cdecl *)())sub_4B31A0);
}

//----- (004ACB10) --------------------------------------------------------
int sub_4ACB10()
{
  std::string::string(&stru_4E1194);
  return atexit(sub_4B31B0);
}

//----- (004ACB30) --------------------------------------------------------
int sub_4ACB30()
{
  std::string::string(&stru_4E11B0);
  return atexit(sub_4B31C0);
}

//----- (004ACB50) --------------------------------------------------------
int sub_4ACB50()
{
  std::string::string(&stru_4E11CC);
  return atexit(sub_4B31D0);
}

//----- (004ACB70) --------------------------------------------------------
int sub_4ACB70()
{
  std::string::string(&stru_4E11E8);
  return atexit(sub_4B31E0);
}

//----- (004ACB90) --------------------------------------------------------
int sub_4ACB90()
{
  std::string::string(&stru_4E1204);
  return atexit(sub_4B31F0);
}

//----- (004ACBB0) --------------------------------------------------------
int sub_4ACBB0()
{
  std::string::string(&stru_4E1220);
  return atexit(sub_4B3200);
}

//----- (004ACBD0) --------------------------------------------------------
int sub_4ACBD0()
{
  std::string::string(&stru_4E123C);
  return atexit(sub_4B3210);
}

//----- (004ACBF0) --------------------------------------------------------
int sub_4ACBF0()
{
  sub_433BC0(dword_4E1258);
  return atexit((void (__cdecl *)())sub_4B3220);
}
// 4E1258: using guessed type int dword_4E1258[3];

//----- (004ACC10) --------------------------------------------------------
int sub_4ACC10()
{
  std::string::string(&stru_4E1264);
  return atexit(sub_4B3230);
}

//----- (004ACC30) --------------------------------------------------------
void *sub_4ACC30()
{
  return CMemory::CInit::CInit(&unk_4E1808);
}

//----- (004ACC40) --------------------------------------------------------
DWORD sub_4ACC40()
{
  DWORD result; // eax

  result = GetTickCount();
  dword_4E181C = result;
  return result;
}
// 4E181C: using guessed type int dword_4E181C;

//----- (004ACC50) --------------------------------------------------------
int sub_4ACC50()
{
  sub_447760(dword_4E1820);
  return atexit((void (__cdecl *)())sub_4B3240);
}
// 4E1820: using guessed type int dword_4E1820[3];

//----- (004ACC70) --------------------------------------------------------
int sub_4ACC70()
{
  CIOCriticalSection::CIOCriticalSection(&unk_4E182C);
  return atexit(sub_4B3250);
}

//----- (004ACC90) --------------------------------------------------------
int sub_4ACC90()
{
  sub_447790(dword_4E184C);
  return atexit((void (__cdecl *)())sub_4B3260);
}
// 4E184C: using guessed type int dword_4E184C[3];

//----- (004ACCB0) --------------------------------------------------------
int sub_4ACCB0()
{
  CRWLock::CRWLock(&unk_4E1858);
  return atexit(sub_4B3270);
}

//----- (004ACCD0) --------------------------------------------------------
int sub_4ACCD0()
{
  sub_4477C0(dword_4E1870);
  return atexit((void (__cdecl *)())sub_4B3280);
}
// 4E1870: using guessed type int dword_4E1870[3];

//----- (004ACCF0) --------------------------------------------------------
int sub_4ACCF0()
{
  CRWLock::CRWLock(&unk_4E187C);
  return atexit(sub_4B3290);
}

//----- (004ACD10) --------------------------------------------------------
int sub_4ACD10()
{
  sub_4382D0(&unk_4E1898);
  return atexit(sub_4B32A0);
}

//----- (004ACD30) --------------------------------------------------------
int sub_4ACD30()
{
  `vector constructor iterator'(
    &unk_4E18F0,
    0x20u,
    2,
    (void *(__thiscall *)(void *))CIOCriticalSection::CIOCriticalSection);
  return atexit((void (__cdecl *)())sub_4B32B0);
}

//----- (004ACD60) --------------------------------------------------------
int sub_4ACD60()
{
  CMonsterObject::CMonsterObject((int)&unk_4E1930);
  return atexit(sub_4B32D0);
}

//----- (004ACD80) --------------------------------------------------------
int sub_4ACD80()
{
  CMonsterObject::CMonsterObject((int)&unk_4E1998);
  return atexit(sub_4B32E0);
}

//----- (004ACDA0) --------------------------------------------------------
int sub_4ACDA0()
{
  CMonsterObject::CMonsterObject((int)&unk_4E1A00);
  return atexit(sub_4B32F0);
}

//----- (004ACDC0) --------------------------------------------------------
int sub_4ACDC0()
{
  sub_44B880(dword_4E1A9C);
  return atexit((void (__cdecl *)())sub_4B3300);
}
// 4E1A9C: using guessed type int dword_4E1A9C[3];

//----- (004ACDE0) --------------------------------------------------------
int sub_4ACDE0()
{
  sub_44B8B0(dword_4E1AA8);
  return atexit((void (__cdecl *)())sub_4B3310);
}
// 4E1AA8: using guessed type int dword_4E1AA8[3];

//----- (004ACE00) --------------------------------------------------------
int sub_4ACE00()
{
  sub_44B8E0(dword_4E1AB4);
  return atexit((void (__cdecl *)())sub_4B3320);
}
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (004ACE20) --------------------------------------------------------
int sub_4ACE20()
{
  CRWLock::CRWLock(&unk_4E1AC0);
  return atexit(sub_4B3330);
}

//----- (004ACE40) --------------------------------------------------------
int sub_4ACE40()
{
  sub_448530((int)&unk_4E1AD8);
  return atexit(sub_4B3340);
}

//----- (004ACE60) --------------------------------------------------------
int sub_4ACE60()
{
  CIOCriticalSection::CIOCriticalSection(&unk_4E1B38);
  return atexit(sub_4B3350);
}

//----- (004ACE80) --------------------------------------------------------
int sub_4ACE80()
{
  CIOCriticalSection::CIOCriticalSection(&unk_4E1B58);
  return atexit(sub_4B3360);
}

//----- (004ACEA0) --------------------------------------------------------
int sub_4ACEA0()
{
  CIOCriticalSection::CIOCriticalSection(&unk_4E1B78);
  return atexit(sub_4B3370);
}

//----- (004ACEC0) --------------------------------------------------------
int sub_4ACEC0()
{
  sub_44CD40(dword_4E1B9C);
  return atexit((void (__cdecl *)())sub_4B3380);
}

//----- (004ACEE0) --------------------------------------------------------
void sub_4ACEE0()
{
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BA8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BB0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BB8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BC0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BC8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BD0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BD8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BE0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BE8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BF0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1BF8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C00);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C08);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C10);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C18);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C20);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C30);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C38);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C40);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C48);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C50);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C58);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C60);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C68);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C70);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C78);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C80);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C88);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C90);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1C98);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CA0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CA8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CB0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CB8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CC0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CC8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CD0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CD8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CE0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CE8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CF0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1CF8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D00);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D08);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D10);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D18);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D20);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D30);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D38);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D40);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D48);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D50);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D58);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D60);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D68);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D70);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D78);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D80);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D88);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D90);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1D98);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DA0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DA8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DB0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DB8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DC0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DC8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DD0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DD8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DE0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DE8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DF0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1DF8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E00);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E08);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E10);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E18);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E20);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E30);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E38);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E40);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E48);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E50);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E58);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E60);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E68);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E70);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E78);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E80);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E88);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E90);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1E98);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EA0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EA8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EB0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EB8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EC0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EC8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1ED0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1ED8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EE0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EE8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EF0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1EF8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F00);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F08);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F10);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F18);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F20);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F30);
}

//----- (004AE1D0) --------------------------------------------------------
int sub_4AE1D0()
{
  sub_44CD90(dword_4E1F38);
  return atexit((void (__cdecl *)())sub_4B3390);
}
// 4E1F38: using guessed type int dword_4E1F38[4];

//----- (004AE1F0) --------------------------------------------------------
void sub_4AE1F0()
{
  CMemory **v0; // [esp+3Ch] [ebp-A4h]
  CMemory **v1; // [esp+48h] [ebp-98h]
  CMemory **v2; // [esp+54h] [ebp-8Ch]
  CMemory **v3; // [esp+60h] [ebp-80h]
  CMemory **v4; // [esp+6Ch] [ebp-74h]
  CMemory **v5; // [esp+78h] [ebp-68h]
  CMemory **v6; // [esp+84h] [ebp-5Ch]
  CMemory **v7; // [esp+90h] [ebp-50h]
  CMemory **v8; // [esp+9Ch] [ebp-44h]
  CMemory **v9; // [esp+A8h] [ebp-38h]
  CMemory **v10; // [esp+B4h] [ebp-2Ch]
  CMemory **v11; // [esp+C0h] [ebp-20h]
  CMemory **v12; // [esp+CCh] [ebp-14h]
  CMemory **v13; // [esp+D8h] [ebp-8h]

  v13 = sub_401000(0xB4u);
  if ( v13 )
    CInitMap::CInitMap((CInitMap *)v13);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F48);
  v12 = sub_401000(0x14Cu);
  if ( v12 )
    CInitMonster::CInitMonster((CInitMonster *)v12);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F50);
  v11 = sub_401000(0x58u);
  if ( v11 )
    sub_4382D0(v11);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F58);
  v10 = sub_401000(0xB8u);
  if ( v10 )
    CInitItem::CInitItem((CInitItem *)v10);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F60);
  v9 = sub_401000(0x38u);
  if ( v9 )
    CPrefix::CPrefix((CPrefix *)v9);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F68);
  v8 = sub_401000(0x34u);
  if ( v8 )
    CGroup::CGroup((CGroup *)v8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F70);
  v7 = sub_401000(0x34u);
  if ( v7 )
    sub_4303E0(v7);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F78);
  v6 = sub_401000(0x28u);
  if ( v6 )
    CInitNPC::CInitNPC((CInitNPC *)v6);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F80);
  v5 = sub_401000(0xB4u);
  if ( v5 )
    CGenNPC::CGenNPC((CGenNPC *)v5);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F88);
  v4 = sub_401000(0x60u);
  if ( v4 )
    sub_47EDE0(v4);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F90);
  v3 = sub_401000(0x38u);
  if ( v3 )
    CQuest::CQuest((CQuest *)v3);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1F98);
  v2 = sub_401000(0x34u);
  if ( v2 )
    CGoto::CGoto((CGoto *)v2);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1FA0);
  v1 = sub_401000(0x48u);
  if ( v1 )
    CPortal::CPortal((CPortal *)v1);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1FA8);
  v0 = sub_401000(0x34u);
  if ( v0 )
    CGoods::CGoods((CGoods *)v0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E1FB0);
}

//----- (004AE6A0) --------------------------------------------------------
DWORD sub_4AE6A0()
{
  DWORD result; // eax

  result = GetTickCount();
  dword_4E1FC0 = result;
  return result;
}
// 4E1FC0: using guessed type int dword_4E1FC0;

//----- (004AE6B0) --------------------------------------------------------
int sub_4AE6B0()
{
  sub_44FB90(dword_4E1FC4);
  return atexit((void (__cdecl *)())sub_4B33A0);
}

//----- (004AE6D0) --------------------------------------------------------
int sub_4AE6D0()
{
  CIOCriticalSection::CIOCriticalSection(&unk_4E1FD0);
  return atexit(sub_4B33B0);
}

//----- (004AE6F0) --------------------------------------------------------
DWORD sub_4AE6F0()
{
  DWORD result; // eax

  result = GetTickCount();
  dword_4E201C = result;
  return result;
}
// 4E201C: using guessed type int dword_4E201C;

//----- (004AE700) --------------------------------------------------------
int sub_4AE700()
{
  sub_47A6F0(dword_4E2020);
  return atexit((void (__cdecl *)())sub_4B33C0);
}

//----- (004AE720) --------------------------------------------------------
int sub_4AE720()
{
  CRWLock::CRWLock(&unk_4E202C);
  return atexit(sub_4B33D0);
}

//----- (004AE740) --------------------------------------------------------
int sub_4AE740()
{
  sub_47A760((std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)dword_4E2044);
  return atexit((void (__cdecl *)())sub_4B33E0);
}

//----- (004AE760) --------------------------------------------------------
int sub_4AE760()
{
  CRWLock::CRWLock(&unk_4E2050);
  return atexit(sub_4B33F0);
}

//----- (004AE780) --------------------------------------------------------
int sub_4AE780()
{
  sub_47A6F0(dword_4E2068);
  return atexit((void (__cdecl *)())sub_4B3400);
}

//----- (004AE7A0) --------------------------------------------------------
int sub_4AE7A0()
{
  `vector constructor iterator'(
    &unk_4E2078,
    0x20u,
    2,
    (void *(__thiscall *)(void *))CIOCriticalSection::CIOCriticalSection);
  return atexit((void (__cdecl *)())sub_4B3410);
}

//----- (004AE7D0) --------------------------------------------------------
int sub_4AE7D0()
{
  CRWLock::CRWLock(&unk_4E20B8);
  return atexit(sub_4B3430);
}

//----- (004AE7F0) --------------------------------------------------------
int sub_4AE7F0()
{
  sub_47A790(dword_4E20D0);
  return atexit((void (__cdecl *)())sub_4B3440);
}
// 4E20D0: using guessed type int dword_4E20D0[3];

//----- (004AE810) --------------------------------------------------------
int sub_4AE810()
{
  CRWLock::CRWLock(&unk_4E20DC);
  return atexit(sub_4B3450);
}

//----- (004AE830) --------------------------------------------------------
int sub_4AE830()
{
  sub_47A8B0(&unk_4E20F4);
  return atexit(sub_4B3460);
}

//----- (004AE850) --------------------------------------------------------
int sub_4AE850()
{
  sub_47DAA0((std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)dword_4E210C);
  return atexit((void (__cdecl *)())sub_4B3470);
}
// 4E210C: using guessed type int dword_4E210C[3];

//----- (004AE870) --------------------------------------------------------
int sub_4AE870()
{
  CRWLock::CRWLock(&unk_4E2118);
  return atexit(sub_4B3480);
}

//----- (004AE890) --------------------------------------------------------
int sub_4AE890()
{
  sub_47EBE0((std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)dword_4E214C);
  return atexit((void (__cdecl *)())sub_4B3490);
}

//----- (004AE8B0) --------------------------------------------------------
int sub_4AE8B0()
{
  sub_47EC80(&unk_4E2158);
  return atexit(sub_4B34A0);
}

//----- (004AE8D0) --------------------------------------------------------
int sub_4AE8D0()
{
  CRWLock::CRWLock(&unk_4E2170);
  return atexit(sub_4B34B0);
}

//----- (004AE8F0) --------------------------------------------------------
int sub_4AE8F0()
{
  sub_48D680((std::_Tree<std::_Tmap_traits<int,std::string,std::less<int>,std::allocator<std::pair<int const ,std::string > >,0> > *)dword_4E218C);
  return atexit((void (__cdecl *)())sub_4B34C0);
}
// 4E218C: using guessed type int dword_4E218C[3];

//----- (004AE910) --------------------------------------------------------
int sub_4AE910()
{
  sub_48D680(&stru_4E2198);
  return atexit((void (__cdecl *)())sub_4B34D0);
}

//----- (004AE930) --------------------------------------------------------
void sub_4AE930()
{
  CMemory **v0; // [esp+264h] [ebp-71Ch]
  CMemory **v1; // [esp+270h] [ebp-710h]
  CMemory **v2; // [esp+27Ch] [ebp-704h]
  CMemory **v3; // [esp+288h] [ebp-6F8h]
  CMemory **v4; // [esp+294h] [ebp-6ECh]
  CMemory **v5; // [esp+2A0h] [ebp-6E0h]
  CMemory **v6; // [esp+2ACh] [ebp-6D4h]
  CMemory **v7; // [esp+2B8h] [ebp-6C8h]
  CMemory **v8; // [esp+2C4h] [ebp-6BCh]
  CMemory **v9; // [esp+2D0h] [ebp-6B0h]
  CMemory **v10; // [esp+2DCh] [ebp-6A4h]
  CMemory **v11; // [esp+2E8h] [ebp-698h]
  CMemory **v12; // [esp+2F4h] [ebp-68Ch]
  CMemory **v13; // [esp+300h] [ebp-680h]
  CMemory **v14; // [esp+30Ch] [ebp-674h]
  CMemory **v15; // [esp+318h] [ebp-668h]
  CMemory **v16; // [esp+324h] [ebp-65Ch]
  CMemory **v17; // [esp+330h] [ebp-650h]
  CMemory **v18; // [esp+33Ch] [ebp-644h]
  CMemory **v19; // [esp+348h] [ebp-638h]
  CMemory **v20; // [esp+354h] [ebp-62Ch]
  CMemory **v21; // [esp+360h] [ebp-620h]
  CMemory **v22; // [esp+36Ch] [ebp-614h]
  CMemory **v23; // [esp+378h] [ebp-608h]
  CMemory **v24; // [esp+384h] [ebp-5FCh]
  CMemory **v25; // [esp+390h] [ebp-5F0h]
  CMemory **v26; // [esp+39Ch] [ebp-5E4h]
  CMemory **v27; // [esp+3A8h] [ebp-5D8h]
  CMemory **v28; // [esp+3B4h] [ebp-5CCh]
  CMemory **v29; // [esp+3C0h] [ebp-5C0h]
  CMemory **v30; // [esp+3CCh] [ebp-5B4h]
  CMemory **v31; // [esp+3D8h] [ebp-5A8h]
  CMemory **v32; // [esp+3E4h] [ebp-59Ch]
  CMemory **v33; // [esp+3F0h] [ebp-590h]
  CMemory **v34; // [esp+3FCh] [ebp-584h]
  CMemory **v35; // [esp+408h] [ebp-578h]
  CMemory **v36; // [esp+414h] [ebp-56Ch]
  CMemory **v37; // [esp+420h] [ebp-560h]
  CMemory **v38; // [esp+42Ch] [ebp-554h]
  CMemory **v39; // [esp+438h] [ebp-548h]
  CMemory **v40; // [esp+444h] [ebp-53Ch]
  CMemory **v41; // [esp+450h] [ebp-530h]
  CMemory **v42; // [esp+45Ch] [ebp-524h]
  CMemory **v43; // [esp+468h] [ebp-518h]
  CMemory **v44; // [esp+474h] [ebp-50Ch]
  CMemory **v45; // [esp+480h] [ebp-500h]
  CMemory **v46; // [esp+48Ch] [ebp-4F4h]
  CMemory **v47; // [esp+498h] [ebp-4E8h]
  CMemory **v48; // [esp+4A4h] [ebp-4DCh]
  CMemory **v49; // [esp+4B0h] [ebp-4D0h]
  CMemory **v50; // [esp+4BCh] [ebp-4C4h]
  CMemory **v51; // [esp+4C8h] [ebp-4B8h]
  CMemory **v52; // [esp+4D4h] [ebp-4ACh]
  CMemory **v53; // [esp+4E0h] [ebp-4A0h]
  CMemory **v54; // [esp+4ECh] [ebp-494h]
  CMemory **v55; // [esp+4F8h] [ebp-488h]
  CMemory **v56; // [esp+504h] [ebp-47Ch]
  CMemory **v57; // [esp+510h] [ebp-470h]
  CMemory **v58; // [esp+51Ch] [ebp-464h]
  CMemory **v59; // [esp+528h] [ebp-458h]
  CMemory **v60; // [esp+534h] [ebp-44Ch]
  CMemory **v61; // [esp+540h] [ebp-440h]
  CMemory **v62; // [esp+54Ch] [ebp-434h]
  CMemory **v63; // [esp+558h] [ebp-428h]
  CMemory **v64; // [esp+564h] [ebp-41Ch]
  CMemory **v65; // [esp+570h] [ebp-410h]
  CMemory **v66; // [esp+57Ch] [ebp-404h]
  CMemory **v67; // [esp+588h] [ebp-3F8h]
  CMemory **v68; // [esp+594h] [ebp-3ECh]
  CMemory **v69; // [esp+5A0h] [ebp-3E0h]
  CMemory **v70; // [esp+5ACh] [ebp-3D4h]
  CMemory **v71; // [esp+5B8h] [ebp-3C8h]
  CMemory **v72; // [esp+5C4h] [ebp-3BCh]
  CMemory **v73; // [esp+5D0h] [ebp-3B0h]
  CMemory **v74; // [esp+5DCh] [ebp-3A4h]
  CMemory **v75; // [esp+5E8h] [ebp-398h]
  CMemory **v76; // [esp+5F4h] [ebp-38Ch]
  CMemory **v77; // [esp+600h] [ebp-380h]
  CMemory **v78; // [esp+60Ch] [ebp-374h]
  CMemory **v79; // [esp+618h] [ebp-368h]
  CMemory **v80; // [esp+624h] [ebp-35Ch]
  CMemory **v81; // [esp+630h] [ebp-350h]
  CMemory **v82; // [esp+63Ch] [ebp-344h]
  CMemory **v83; // [esp+648h] [ebp-338h]
  CMemory **v84; // [esp+654h] [ebp-32Ch]
  CMemory **v85; // [esp+660h] [ebp-320h]
  CMemory **v86; // [esp+66Ch] [ebp-314h]
  CMemory **v87; // [esp+678h] [ebp-308h]
  CMemory **v88; // [esp+684h] [ebp-2FCh]
  CMemory **v89; // [esp+690h] [ebp-2F0h]
  CMemory **v90; // [esp+69Ch] [ebp-2E4h]
  CMemory **v91; // [esp+6A8h] [ebp-2D8h]
  CMemory **v92; // [esp+6B4h] [ebp-2CCh]
  CMemory **v93; // [esp+6C0h] [ebp-2C0h]
  CMemory **v94; // [esp+6CCh] [ebp-2B4h]
  CMemory **v95; // [esp+6D8h] [ebp-2A8h]
  CMemory **v96; // [esp+6E4h] [ebp-29Ch]
  CMemory **v97; // [esp+6F0h] [ebp-290h]
  CMemory **v98; // [esp+6FCh] [ebp-284h]
  CMemory **v99; // [esp+708h] [ebp-278h]
  CMemory **v100; // [esp+714h] [ebp-26Ch]
  CMemory **v101; // [esp+720h] [ebp-260h]
  CMemory **v102; // [esp+72Ch] [ebp-254h]
  CMemory **v103; // [esp+738h] [ebp-248h]
  CMemory **v104; // [esp+744h] [ebp-23Ch]
  CMemory **v105; // [esp+750h] [ebp-230h]
  CMemory **v106; // [esp+75Ch] [ebp-224h]
  CMemory **v107; // [esp+768h] [ebp-218h]
  CMemory **v108; // [esp+774h] [ebp-20Ch]
  CMemory **v109; // [esp+780h] [ebp-200h]
  CMemory **v110; // [esp+78Ch] [ebp-1F4h]
  CMemory **v111; // [esp+798h] [ebp-1E8h]
  CMemory **v112; // [esp+7A4h] [ebp-1DCh]
  CMemory **v113; // [esp+7B0h] [ebp-1D0h]
  CMemory **v114; // [esp+7BCh] [ebp-1C4h]
  CMemory **v115; // [esp+7C8h] [ebp-1B8h]
  CMemory **v116; // [esp+7D4h] [ebp-1ACh]
  CMemory **v117; // [esp+7E0h] [ebp-1A0h]
  CMemory **v118; // [esp+7ECh] [ebp-194h]
  CMemory **v119; // [esp+7F8h] [ebp-188h]
  CMemory **v120; // [esp+804h] [ebp-17Ch]
  CMemory **v121; // [esp+810h] [ebp-170h]
  CMemory **v122; // [esp+81Ch] [ebp-164h]
  CMemory **v123; // [esp+828h] [ebp-158h]
  CMemory **v124; // [esp+834h] [ebp-14Ch]
  CMemory **v125; // [esp+840h] [ebp-140h]
  CMemory **v126; // [esp+84Ch] [ebp-134h]
  CMemory **v127; // [esp+858h] [ebp-128h]
  CMemory **v128; // [esp+864h] [ebp-11Ch]
  CMemory **v129; // [esp+870h] [ebp-110h]
  CMemory **v130; // [esp+87Ch] [ebp-104h]
  CMemory **v131; // [esp+888h] [ebp-F8h]
  CMemory **v132; // [esp+894h] [ebp-ECh]
  CMemory **v133; // [esp+8A0h] [ebp-E0h]
  CMemory **v134; // [esp+8ACh] [ebp-D4h]
  CMemory **v135; // [esp+8B8h] [ebp-C8h]
  CMemory **v136; // [esp+8C4h] [ebp-BCh]
  CMemory **v137; // [esp+8D0h] [ebp-B0h]
  CMemory **v138; // [esp+8DCh] [ebp-A4h]
  CMemory **v139; // [esp+8E8h] [ebp-98h]
  CMemory **v140; // [esp+8F4h] [ebp-8Ch]
  CMemory **v141; // [esp+900h] [ebp-80h]
  CMemory **v142; // [esp+90Ch] [ebp-74h]
  CMemory **v143; // [esp+918h] [ebp-68h]
  CMemory **v144; // [esp+924h] [ebp-5Ch]
  CMemory **v145; // [esp+930h] [ebp-50h]
  CMemory **v146; // [esp+93Ch] [ebp-44h]
  CMemory **v147; // [esp+948h] [ebp-38h]
  CMemory **v148; // [esp+954h] [ebp-2Ch]
  CMemory **v149; // [esp+960h] [ebp-20h]
  CMemory **v150; // [esp+96Ch] [ebp-14h]
  CMemory **v151; // [esp+978h] [ebp-8h]

  v151 = sub_401000(0x4Cu);
  if ( v151 )
    sub_48DCD0(v151);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&dword_4E21A8);
  v150 = sub_401000(0x4Cu);
  if ( v150 )
    sub_48DCF0(v150);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21B0);
  v149 = sub_401000(0x4Cu);
  if ( v149 )
    sub_48DD10(v149);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21B8);
  v148 = sub_401000(0x4Cu);
  if ( v148 )
    sub_48DDD0(v148);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21C0);
  v147 = sub_401000(0x4Cu);
  if ( v147 )
    sub_48DEC0(v147);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21C8);
  v146 = sub_401000(0x4Cu);
  if ( v146 )
    sub_48E030(v146);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21D0);
  v145 = sub_401000(0x4Cu);
  if ( v145 )
    sub_48EA30(v145);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21D8);
  v144 = sub_401000(0x4Cu);
  if ( v144 )
    sub_48E080(v144);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21E0);
  v143 = sub_401000(0x4Cu);
  if ( v143 )
    sub_48DF20(v143);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21E8);
  v142 = sub_401000(0x4Cu);
  if ( v142 )
    sub_48E110(v142);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21F0);
  v141 = sub_401000(0x4Cu);
  if ( v141 )
    sub_48EC50(v141);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E21F8);
  v140 = sub_401000(0x4Cu);
  if ( v140 )
    sub_48E910(v140);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2200);
  v139 = sub_401000(0x4Cu);
  if ( v139 )
    sub_48E930(v139);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2208);
  v138 = sub_401000(0x4Cu);
  if ( v138 )
    sub_48E170(v138);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2210);
  v137 = sub_401000(0x4Cu);
  if ( v137 )
    sub_48ECB0(v137);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2218);
  v136 = sub_401000(0x4Cu);
  if ( v136 )
    sub_48ECF0(v136);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2220);
  v135 = sub_401000(0x4Cu);
  if ( v135 )
    sub_48E1D0(v135);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2228);
  v134 = sub_401000(0x4Cu);
  if ( v134 )
    sub_48E1F0(v134);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2230);
  v133 = sub_401000(0x4Cu);
  if ( v133 )
    sub_48EE30(v133);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2238);
  v132 = sub_401000(0x4Cu);
  if ( v132 )
    sub_48F4A0(v132);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2240);
  v131 = sub_401000(0x4Cu);
  if ( v131 )
    sub_48EA50(v131);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2248);
  v130 = sub_401000(0x4Cu);
  if ( v130 )
    sub_48EED0(v130);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2250);
  v129 = sub_401000(0x4Cu);
  if ( v129 )
    sub_48E210(v129);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2258);
  v128 = sub_401000(0x4Cu);
  if ( v128 )
    sub_48F4E0(v128);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2260);
  v127 = sub_401000(0x4Cu);
  if ( v127 )
    sub_48F360(v127);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2268);
  v126 = sub_401000(0x4Cu);
  if ( v126 )
    sub_48DD70(v126);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2270);
  v125 = sub_401000(0x4Cu);
  if ( v125 )
    sub_48EFD0(v125);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2278);
  v124 = sub_401000(0x4Cu);
  if ( v124 )
    sub_48F500(v124);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2280);
  v123 = sub_401000(0x4Cu);
  if ( v123 )
    sub_48F520(v123);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2288);
  v122 = sub_401000(0x4Cu);
  if ( v122 )
    sub_48F540(v122);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2290);
  v121 = sub_401000(0x4Cu);
  if ( v121 )
    sub_48ED50(v121);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2298);
  v120 = sub_401000(0x4Cu);
  if ( v120 )
    sub_48F560(v120);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22A0);
  v119 = sub_401000(0x4Cu);
  if ( v119 )
    sub_48F580(v119);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22A8);
  v118 = sub_401000(0x4Cu);
  if ( v118 )
    sub_48EFF0(v118);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22B0);
  v117 = sub_401000(0x4Cu);
  if ( v117 )
    sub_48F010(v117);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22B8);
  v116 = sub_401000(0x4Cu);
  if ( v116 )
    sub_48EAD0(v116);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22C0);
  v115 = sub_401000(0x4Cu);
  if ( v115 )
    sub_48E970(v115);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22C8);
  v114 = sub_401000(0x4Cu);
  if ( v114 )
    sub_48DCB0(v114);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22D0);
  v113 = sub_401000(0x4Cu);
  if ( v113 )
    sub_48EA50(v113);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22D8);
  v112 = sub_401000(0x4Cu);
  if ( v112 )
    sub_48EA50(v112);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22E0);
  v111 = sub_401000(0x4Cu);
  if ( v111 )
    sub_48DCD0(v111);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22E8);
  v110 = sub_401000(0x4Cu);
  if ( v110 )
    sub_48DCF0(v110);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22F0);
  v109 = sub_401000(0x4Cu);
  if ( v109 )
    sub_48E390(v109);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E22F8);
  v108 = sub_401000(0x4Cu);
  if ( v108 )
    sub_48E3F0(v108);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2300);
  v107 = sub_401000(0x4Cu);
  if ( v107 )
    sub_48E460(v107);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2308);
  v106 = sub_401000(0x4Cu);
  if ( v106 )
    sub_48ED30(v106);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2310);
  v105 = sub_401000(0x4Cu);
  if ( v105 )
    sub_48E790(v105);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2318);
  v104 = sub_401000(0x4Cu);
  if ( v104 )
    sub_48E4A0(v104);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2320);
  v103 = sub_401000(0x4Cu);
  if ( v103 )
    sub_48E7D0(v103);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2328);
  v102 = sub_401000(0x4Cu);
  if ( v102 )
    sub_48E910(v102);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2330);
  v101 = sub_401000(0x4Cu);
  if ( v101 )
    sub_48E9B0(v101);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2338);
  v100 = sub_401000(0x4Cu);
  if ( v100 )
    sub_48E9D0(v100);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2340);
  v99 = sub_401000(0x4Cu);
  if ( v99 )
    sub_48E9F0(v99);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2348);
  v98 = sub_401000(0x4Cu);
  if ( v98 )
    sub_48E990(v98);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2350);
  v97 = sub_401000(0x4Cu);
  if ( v97 )
    sub_48EA70(v97);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2358);
  v96 = sub_401000(0x4Cu);
  if ( v96 )
    sub_48EB50(v96);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2360);
  v95 = sub_401000(0x4Cu);
  if ( v95 )
    sub_48EB50(v95);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2368);
  v94 = sub_401000(0x4Cu);
  if ( v94 )
    sub_48EB50(v94);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2370);
  v93 = sub_401000(0x4Cu);
  if ( v93 )
    sub_48EB50(v93);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2378);
  v92 = sub_401000(0x4Cu);
  if ( v92 )
    sub_48EB50(v92);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2380);
  v91 = sub_401000(0x4Cu);
  if ( v91 )
    sub_48E810(v91);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2388);
  v90 = sub_401000(0x4Cu);
  if ( v90 )
    sub_48E4C0(v90);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2390);
  v89 = sub_401000(0x4Cu);
  if ( v89 )
    sub_48E680(v89);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2398);
  v88 = sub_401000(0x4Cu);
  if ( v88 )
    sub_48E5C0(v88);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23A0);
  v87 = sub_401000(0x4Cu);
  if ( v87 )
    sub_48EB70(v87);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23A8);
  v86 = sub_401000(0x4Cu);
  if ( v86 )
    sub_48EB90(v86);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23B0);
  v85 = sub_401000(0x4Cu);
  if ( v85 )
    sub_48EBB0(v85);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23B8);
  v84 = sub_401000(0x4Cu);
  if ( v84 )
    sub_48E890(v84);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23C0);
  v83 = sub_401000(0x4Cu);
  if ( v83 )
    sub_48ED50(v83);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23C8);
  v82 = sub_401000(0x4Cu);
  if ( v82 )
    sub_48E500(v82);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23D0);
  v81 = sub_401000(0x4Cu);
  if ( v81 )
    sub_48E440(v81);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23D8);
  v80 = sub_401000(0x4Cu);
  if ( v80 )
    sub_48E3B0(v80);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23E0);
  v79 = sub_401000(0x4Cu);
  if ( v79 )
    sub_48EA90(v79);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23E8);
  v78 = sub_401000(0x4Cu);
  if ( v78 )
    sub_48E850(v78);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23F0);
  v77 = sub_401000(0x4Cu);
  if ( v77 )
    sub_48E5E0(v77);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E23F8);
  v76 = sub_401000(0x4Cu);
  if ( v76 )
    sub_48E600(v76);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2400);
  v75 = sub_401000(0x4Cu);
  if ( v75 )
    sub_48EE50(v75);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2408);
  v74 = sub_401000(0x4Cu);
  if ( v74 )
    sub_48EE90(v74);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2410);
  v73 = sub_401000(0x4Cu);
  if ( v73 )
    sub_48E350(v73);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2418);
  v72 = sub_401000(0x4Cu);
  if ( v72 )
    sub_48E620(v72);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2420);
  v71 = sub_401000(0x4Cu);
  if ( v71 )
    sub_48E520(v71);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2428);
  v70 = sub_401000(0x4Cu);
  if ( v70 )
    sub_48E6C0(v70);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2430);
  v69 = sub_401000(0x4Cu);
  if ( v69 )
    sub_48E650(v69);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2438);
  v68 = sub_401000(0x4Cu);
  if ( v68 )
    sub_48E710(v68);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2440);
  v67 = sub_401000(0x4Cu);
  if ( v67 )
    sub_48E3D0(v67);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2448);
  v66 = sub_401000(0x4Cu);
  if ( v66 )
    sub_48E540(v66);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2450);
  v65 = sub_401000(0x4Cu);
  if ( v65 )
    sub_48E730(v65);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2458);
  v64 = sub_401000(0x4Cu);
  if ( v64 )
    sub_48F070(v64);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2460);
  v63 = sub_401000(0x4Cu);
  if ( v63 )
    sub_48F0D0(v63);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2468);
  v62 = sub_401000(0x4Cu);
  if ( v62 )
    sub_48F110(v62);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2470);
  v61 = sub_401000(0x4Cu);
  if ( v61 )
    sub_48F150(v61);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2478);
  v60 = sub_401000(0x4Cu);
  if ( v60 )
    sub_48F190(v60);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2480);
  v59 = sub_401000(0x4Cu);
  if ( v59 )
    sub_48EF50(v59);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2488);
  v58 = sub_401000(0x4Cu);
  if ( v58 )
    sub_48E8B0(v58);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2490);
  v57 = sub_401000(0x4Cu);
  if ( v57 )
    sub_48EF70(v57);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2498);
  v56 = sub_401000(0x4Cu);
  if ( v56 )
    sub_48EBE0(v56);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24A0);
  v55 = sub_401000(0x4Cu);
  if ( v55 )
    sub_48EC00(v55);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24A8);
  v54 = sub_401000(0x4Cu);
  if ( v54 )
    sub_48E8F0(v54);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24B0);
  v53 = sub_401000(0x4Cu);
  if ( v53 )
    sub_48EF70(v53);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24B8);
  v52 = sub_401000(0x4Cu);
  if ( v52 )
    sub_48EF90(v52);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24C0);
  v51 = sub_401000(0x4Cu);
  if ( v51 )
    sub_48DCB0(v51);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24C8);
  v50 = sub_401000(0x4Cu);
  if ( v50 )
    sub_48EA50(v50);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24D0);
  v49 = sub_401000(0x4Cu);
  if ( v49 )
    sub_48EA50(v49);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24D8);
  v48 = sub_401000(0x4Cu);
  if ( v48 )
    sub_48DCD0(v48);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24E0);
  v47 = sub_401000(0x4Cu);
  if ( v47 )
    sub_48DCF0(v47);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24E8);
  v46 = sub_401000(0x4Cu);
  if ( v46 )
    sub_48DD30(v46);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24F0);
  v45 = sub_401000(0x4Cu);
  if ( v45 )
    sub_48DE30(v45);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E24F8);
  v44 = sub_401000(0x4Cu);
  if ( v44 )
    sub_48DF80(v44);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2500);
  v43 = sub_401000(0x4Cu);
  if ( v43 )
    sub_48DD50(v43);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2508);
  v42 = sub_401000(0x4Cu);
  if ( v42 )
    sub_48DFF0(v42);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2510);
  v41 = sub_401000(0x4Cu);
  if ( v41 )
    sub_48EA10(v41);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2518);
  v40 = sub_401000(0x4Cu);
  if ( v40 )
    sub_48EB10(v40);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2520);
  v39 = sub_401000(0x4Cu);
  if ( v39 )
    sub_48E230(v39);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2528);
  v38 = sub_401000(0x4Cu);
  if ( v38 )
    sub_48EC90(v38);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2530);
  v37 = sub_401000(0x4Cu);
  if ( v37 )
    sub_48E910(v37);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2538);
  v36 = sub_401000(0x4Cu);
  if ( v36 )
    sub_48E930(v36);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2540);
  v35 = sub_401000(0x4Cu);
  if ( v35 )
    sub_48EC70(v35);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2548);
  v34 = sub_401000(0x4Cu);
  if ( v34 )
    sub_48E250(v34);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2550);
  v33 = sub_401000(0x4Cu);
  if ( v33 )
    sub_48ED10(v33);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2558);
  v32 = sub_401000(0x4Cu);
  if ( v32 )
    sub_48E2B0(v32);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2560);
  v31 = sub_401000(0x4Cu);
  if ( v31 )
    sub_48EDB0(v31);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&dword_4E2568);
  v30 = sub_401000(0x4Cu);
  if ( v30 )
    sub_48EDD0(v30);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2570);
  v29 = sub_401000(0x4Cu);
  if ( v29 )
    sub_48EDF0(v29);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2578);
  v28 = sub_401000(0x4Cu);
  if ( v28 )
    sub_48EB30(v28);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2580);
  v27 = sub_401000(0x4Cu);
  if ( v27 )
    sub_48E330(v27);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2588);
  v26 = sub_401000(0x4Cu);
  if ( v26 )
    sub_48EEF0(v26);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2590);
  v25 = sub_401000(0x4Cu);
  if ( v25 )
    sub_48EF10(v25);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2598);
  v24 = sub_401000(0x4Cu);
  if ( v24 )
    sub_48F3C0(v24);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25A0);
  v23 = sub_401000(0x4Cu);
  if ( v23 )
    sub_48F3E0(v23);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25A8);
  v22 = sub_401000(0x4Cu);
  if ( v22 )
    sub_48F400(v22);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25B0);
  v21 = sub_401000(0x4Cu);
  if ( v21 )
    sub_48F030(v21);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25B8);
  v20 = sub_401000(0x4Cu);
  if ( v20 )
    sub_48F420(v20);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25C0);
  v19 = sub_401000(0x4Cu);
  if ( v19 )
    sub_48F460(v19);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25C8);
  v18 = sub_401000(0x4Cu);
  if ( v18 )
    sub_48ED50(v18);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25D0);
  v17 = sub_401000(0x4Cu);
  if ( v17 )
    sub_48F480(v17);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25D8);
  v16 = sub_401000(0x4Cu);
  if ( v16 )
    sub_48E950(v16);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25E0);
  v15 = sub_401000(0x4Cu);
  if ( v15 )
    sub_48F1D0(v15);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25E8);
  v14 = sub_401000(0x4Cu);
  if ( v14 )
    sub_48F200(v14);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25F0);
  v13 = sub_401000(0x4Cu);
  if ( v13 )
    sub_48F220(v13);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E25F8);
  v12 = sub_401000(0x4Cu);
  if ( v12 )
    sub_48F240(v12);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2600);
  v11 = sub_401000(0x4Cu);
  if ( v11 )
    sub_48F260(v11);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2608);
  v10 = sub_401000(0x4Cu);
  if ( v10 )
    sub_48F280(v10);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2610);
  v9 = sub_401000(0x4Cu);
  if ( v9 )
    sub_48F2A0(v9);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2618);
  v8 = sub_401000(0x4Cu);
  if ( v8 )
    sub_48F2C0(v8);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2620);
  v7 = sub_401000(0x4Cu);
  if ( v7 )
    sub_48F2E0(v7);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2628);
  v6 = sub_401000(0x4Cu);
  if ( v6 )
    sub_48E750(v6);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2630);
  v5 = sub_401000(0x4Cu);
  if ( v5 )
    sub_48F300(v5);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2638);
  v4 = sub_401000(0x4Cu);
  if ( v4 )
    sub_48F320(v4);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2640);
  v3 = sub_401000(0x4Cu);
  if ( v3 )
    sub_48F340(v3);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2648);
  v2 = sub_401000(0x4Cu);
  if ( v2 )
    sub_48DCB0(v2);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2650);
  v1 = sub_401000(0x4Cu);
  if ( v1 )
    sub_48EA50(v1);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2658);
  v0 = sub_401000(0x4Cu);
  if ( v0 )
    sub_48EA50(v0);
  std::pair<unsigned char *,unsigned char *>::pair<unsigned char *,unsigned char *>((CAtlTraceSettings *)&unk_4E2660);
}
// 4E21A8: using guessed type int dword_4E21A8;
// 4E2568: using guessed type int dword_4E2568;

//----- (004B23C0) --------------------------------------------------------
_DWORD *sub_4B23C0()
{
  _DWORD *result; // eax
  _DWORD *v1; // [esp+0h] [ebp-48h]
  _DWORD *v2; // [esp+4h] [ebp-44h]
  _DWORD *v3; // [esp+8h] [ebp-40h]
  _DWORD *v4; // [esp+Ch] [ebp-3Ch]
  _DWORD *v5; // [esp+10h] [ebp-38h]
  _DWORD *v6; // [esp+14h] [ebp-34h]
  _DWORD *v7; // [esp+18h] [ebp-30h]
  _DWORD *v8; // [esp+1Ch] [ebp-2Ch]
  _DWORD *v9; // [esp+20h] [ebp-28h]
  CMemory **v10; // [esp+28h] [ebp-20h]
  CMemory **v11; // [esp+2Ch] [ebp-1Ch]
  CMemory **v12; // [esp+30h] [ebp-18h]
  CMemory **v13; // [esp+34h] [ebp-14h]
  CMemory **v14; // [esp+38h] [ebp-10h]
  CMemory **v15; // [esp+3Ch] [ebp-Ch]
  CMemory **v16; // [esp+40h] [ebp-8h]
  CMemory **v17; // [esp+44h] [ebp-4h]

  v17 = sub_401000(0x4Cu);
  if ( v17 )
    v9 = sub_48F5A0(v17);
  else
    v9 = 0;
  dword_4E2668[0] = (int)v9;
  v16 = sub_401000(0x4Cu);
  if ( v16 )
    v8 = sub_48F5C0(v16);
  else
    v8 = 0;
  dword_4E266C = (int)v8;
  v15 = sub_401000(0x4Cu);
  if ( v15 )
    v7 = sub_48F5E0(v15);
  else
    v7 = 0;
  dword_4E2670 = (int)v7;
  v14 = sub_401000(0x4Cu);
  if ( v14 )
    v6 = sub_48F600(v14);
  else
    v6 = 0;
  dword_4E2674 = (int)v6;
  v13 = sub_401000(0x4Cu);
  if ( v13 )
    v5 = sub_48F620(v13);
  else
    v5 = 0;
  dword_4E2678 = (int)v5;
  v12 = sub_401000(0x4Cu);
  if ( v12 )
    v4 = sub_48F640(v12);
  else
    v4 = 0;
  dword_4E267C = (int)v4;
  v11 = sub_401000(0x4Cu);
  if ( v11 )
    v3 = sub_48F660(v11);
  else
    v3 = 0;
  dword_4E2680 = (int)v3;
  v10 = sub_401000(0x4Cu);
  if ( v10 )
    v2 = sub_48F680(v10);
  else
    v2 = 0;
  dword_4E2684 = (int)v2;
  result = sub_401000(0x4Cu);
  if ( result )
  {
    result = sub_48F6A0(result);
    v1 = result;
  }
  else
  {
    v1 = 0;
  }
  dword_4E2688 = (int)v1;
  return result;
}
// 4E2668: using guessed type int dword_4E2668[];
// 4E266C: using guessed type int dword_4E266C;
// 4E2670: using guessed type int dword_4E2670;
// 4E2674: using guessed type int dword_4E2674;
// 4E2678: using guessed type int dword_4E2678;
// 4E267C: using guessed type int dword_4E267C;
// 4E2680: using guessed type int dword_4E2680;
// 4E2684: using guessed type int dword_4E2684;
// 4E2688: using guessed type int dword_4E2688;

//----- (004B2580) --------------------------------------------------------
CMMagicFuJiExplosion *sub_4B2580()
{
  CMMagicFuJiExplosion *result; // eax
  CMMagicFuJiExplosion *v1; // [esp+0h] [ebp-148h]
  _DWORD *v2; // [esp+4h] [ebp-144h]
  _DWORD *v3; // [esp+8h] [ebp-140h]
  _DWORD *v4; // [esp+Ch] [ebp-13Ch]
  _DWORD *v5; // [esp+10h] [ebp-138h]
  _DWORD *v6; // [esp+14h] [ebp-134h]
  _DWORD *v7; // [esp+18h] [ebp-130h]
  _DWORD *v8; // [esp+1Ch] [ebp-12Ch]
  _DWORD *v9; // [esp+20h] [ebp-128h]
  _DWORD *v10; // [esp+24h] [ebp-124h]
  _DWORD *v11; // [esp+28h] [ebp-120h]
  _DWORD *v12; // [esp+2Ch] [ebp-11Ch]
  _DWORD *v13; // [esp+30h] [ebp-118h]
  _DWORD *v14; // [esp+34h] [ebp-114h]
  _DWORD *v15; // [esp+38h] [ebp-110h]
  _DWORD *v16; // [esp+3Ch] [ebp-10Ch]
  _DWORD *v17; // [esp+40h] [ebp-108h]
  _DWORD *v18; // [esp+44h] [ebp-104h]
  _DWORD *v19; // [esp+48h] [ebp-100h]
  _DWORD *v20; // [esp+4Ch] [ebp-FCh]
  _DWORD *v21; // [esp+50h] [ebp-F8h]
  _DWORD *v22; // [esp+54h] [ebp-F4h]
  _DWORD *v23; // [esp+58h] [ebp-F0h]
  _DWORD *v24; // [esp+5Ch] [ebp-ECh]
  _DWORD *v25; // [esp+60h] [ebp-E8h]
  _DWORD *v26; // [esp+64h] [ebp-E4h]
  _DWORD *v27; // [esp+68h] [ebp-E0h]
  _DWORD *v28; // [esp+6Ch] [ebp-DCh]
  _DWORD *v29; // [esp+70h] [ebp-D8h]
  _DWORD *v30; // [esp+74h] [ebp-D4h]
  _DWORD *v31; // [esp+78h] [ebp-D0h]
  _DWORD *v32; // [esp+7Ch] [ebp-CCh]
  _DWORD *v33; // [esp+80h] [ebp-C8h]
  _DWORD *v34; // [esp+84h] [ebp-C4h]
  _DWORD *v35; // [esp+88h] [ebp-C0h]
  _DWORD *v36; // [esp+8Ch] [ebp-BCh]
  _DWORD *v37; // [esp+90h] [ebp-B8h]
  _DWORD *v38; // [esp+94h] [ebp-B4h]
  _DWORD *v39; // [esp+98h] [ebp-B0h]
  _DWORD *v40; // [esp+9Ch] [ebp-ACh]
  _DWORD *v41; // [esp+A0h] [ebp-A8h]
  CMemory **v42; // [esp+A8h] [ebp-A0h]
  CMemory **v43; // [esp+ACh] [ebp-9Ch]
  CMemory **v44; // [esp+B0h] [ebp-98h]
  CMemory **v45; // [esp+B4h] [ebp-94h]
  CMemory **v46; // [esp+B8h] [ebp-90h]
  CMemory **v47; // [esp+BCh] [ebp-8Ch]
  CMemory **v48; // [esp+C0h] [ebp-88h]
  CMemory **v49; // [esp+C4h] [ebp-84h]
  CMemory **v50; // [esp+C8h] [ebp-80h]
  CMemory **v51; // [esp+CCh] [ebp-7Ch]
  CMemory **v52; // [esp+D0h] [ebp-78h]
  CMemory **v53; // [esp+D4h] [ebp-74h]
  CMemory **v54; // [esp+D8h] [ebp-70h]
  CMemory **v55; // [esp+DCh] [ebp-6Ch]
  CMemory **v56; // [esp+E0h] [ebp-68h]
  CMemory **v57; // [esp+E4h] [ebp-64h]
  CMemory **v58; // [esp+E8h] [ebp-60h]
  CMemory **v59; // [esp+ECh] [ebp-5Ch]
  CMemory **v60; // [esp+F0h] [ebp-58h]
  CMemory **v61; // [esp+F4h] [ebp-54h]
  CMemory **v62; // [esp+F8h] [ebp-50h]
  CMemory **v63; // [esp+FCh] [ebp-4Ch]
  CMemory **v64; // [esp+100h] [ebp-48h]
  CMemory **v65; // [esp+104h] [ebp-44h]
  CMemory **v66; // [esp+108h] [ebp-40h]
  CMemory **v67; // [esp+10Ch] [ebp-3Ch]
  CMemory **v68; // [esp+110h] [ebp-38h]
  CMemory **v69; // [esp+114h] [ebp-34h]
  CMemory **v70; // [esp+118h] [ebp-30h]
  CMemory **v71; // [esp+11Ch] [ebp-2Ch]
  CMemory **v72; // [esp+120h] [ebp-28h]
  CMemory **v73; // [esp+124h] [ebp-24h]
  CMemory **v74; // [esp+128h] [ebp-20h]
  CMemory **v75; // [esp+12Ch] [ebp-1Ch]
  CMemory **v76; // [esp+130h] [ebp-18h]
  CMemory **v77; // [esp+134h] [ebp-14h]
  CMemory **v78; // [esp+138h] [ebp-10h]
  CMemory **v79; // [esp+13Ch] [ebp-Ch]
  CMemory **v80; // [esp+140h] [ebp-8h]
  CMemory **v81; // [esp+144h] [ebp-4h]

  v81 = sub_401000(0x4Cu);
  if ( v81 )
    v41 = sub_48F6C0(v81);
  else
    v41 = 0;
  dword_4E2690[0] = (int)v41;
  v80 = sub_401000(0x4Cu);
  if ( v80 )
    v40 = sub_48F6F0(v80);
  else
    v40 = 0;
  dword_4E2694 = (int)v40;
  v79 = sub_401000(0x4Cu);
  if ( v79 )
    v39 = sub_48F990(v79);
  else
    v39 = 0;
  dword_4E2698 = (int)v39;
  v78 = sub_401000(0x4Cu);
  if ( v78 )
    v38 = sub_48F720(v78);
  else
    v38 = 0;
  dword_4E269C = (int)v38;
  v77 = sub_401000(0x4Cu);
  if ( v77 )
    v37 = sub_48F7C0(v77);
  else
    v37 = 0;
  dword_4E26A0 = (int)v37;
  v76 = sub_401000(0x4Cu);
  if ( v76 )
    v36 = sub_48F7E0(v76);
  else
    v36 = 0;
  dword_4E26A4 = (int)v36;
  v75 = sub_401000(0x4Cu);
  if ( v75 )
    v35 = sub_48F800(v75);
  else
    v35 = 0;
  dword_4E26A8 = (int)v35;
  v74 = sub_401000(0x4Cu);
  if ( v74 )
    v34 = sub_48F820(v74);
  else
    v34 = 0;
  dword_4E26AC = (int)v34;
  v73 = sub_401000(0x4Cu);
  if ( v73 )
    v33 = sub_48F740(v73);
  else
    v33 = 0;
  dword_4E26B0 = (int)v33;
  v72 = sub_401000(0x4Cu);
  if ( v72 )
    v32 = sub_48F870(v72);
  else
    v32 = 0;
  dword_4E26B4 = (int)v32;
  v71 = sub_401000(0x4Cu);
  if ( v71 )
    v31 = sub_48F910(v71);
  else
    v31 = 0;
  dword_4E26B8 = (int)v31;
  v70 = sub_401000(0x4Cu);
  if ( v70 )
    v30 = sub_48F940(v70);
  else
    v30 = 0;
  dword_4E26BC = (int)v30;
  v69 = sub_401000(0x4Cu);
  if ( v69 )
    v29 = sub_48F970(v69);
  else
    v29 = 0;
  dword_4E26C0 = (int)v29;
  v68 = sub_401000(0x4Cu);
  if ( v68 )
    v28 = sub_48F840(v68);
  else
    v28 = 0;
  dword_4E26C4 = (int)v28;
  v67 = sub_401000(0x4Cu);
  if ( v67 )
    v27 = sub_48EA50(v67);
  else
    v27 = 0;
  dword_4E26C8 = (int)v27;
  v66 = sub_401000(0x4Cu);
  if ( v66 )
    v26 = sub_48F990(v66);
  else
    v26 = 0;
  dword_4E26CC = (int)v26;
  v65 = sub_401000(0x4Cu);
  if ( v65 )
    v25 = sub_48F990(v65);
  else
    v25 = 0;
  dword_4E26D0 = (int)v25;
  v64 = sub_401000(0x4Cu);
  if ( v64 )
    v24 = sub_48F9B0(v64);
  else
    v24 = 0;
  dword_4E26D4 = (int)v24;
  v63 = sub_401000(0x4Cu);
  if ( v63 )
    v23 = sub_48F9D0(v63);
  else
    v23 = 0;
  dword_4E26D8 = (int)v23;
  v62 = sub_401000(0x4Cu);
  if ( v62 )
    v22 = sub_48FA00(v62);
  else
    v22 = 0;
  dword_4E26DC = (int)v22;
  v61 = sub_401000(0x4Cu);
  if ( v61 )
    v21 = sub_48FA30(v61);
  else
    v21 = 0;
  dword_4E26E0 = (int)v21;
  v60 = sub_401000(0x4Cu);
  if ( v60 )
    v20 = sub_48F990(v60);
  else
    v20 = 0;
  dword_4E26E4 = (int)v20;
  v59 = sub_401000(0x4Cu);
  if ( v59 )
    v19 = sub_48FA70(v59);
  else
    v19 = 0;
  dword_4E26E8 = (int)v19;
  v58 = sub_401000(0x4Cu);
  if ( v58 )
    v18 = sub_48FA90(v58);
  else
    v18 = 0;
  dword_4E26EC = (int)v18;
  v57 = sub_401000(0x4Cu);
  if ( v57 )
    v17 = sub_48EA50(v57);
  else
    v17 = 0;
  dword_4E26F0 = (int)v17;
  v56 = sub_401000(0x4Cu);
  if ( v56 )
    v16 = sub_48FAB0(v56);
  else
    v16 = 0;
  dword_4E26F4 = (int)v16;
  v55 = sub_401000(0x4Cu);
  if ( v55 )
    v15 = sub_48FAF0(v55);
  else
    v15 = 0;
  dword_4E26F8 = (int)v15;
  v54 = sub_401000(0x4Cu);
  if ( v54 )
    v14 = sub_48FB10(v54);
  else
    v14 = 0;
  dword_4E26FC = (int)v14;
  v53 = sub_401000(0x4Cu);
  if ( v53 )
    v13 = sub_48FB30(v53);
  else
    v13 = 0;
  dword_4E2700 = (int)v13;
  v52 = sub_401000(0x4Cu);
  if ( v52 )
    v12 = sub_48FB50(v52);
  else
    v12 = 0;
  dword_4E2704 = (int)v12;
  v51 = sub_401000(0x4Cu);
  if ( v51 )
    v11 = sub_48FB70(v51);
  else
    v11 = 0;
  dword_4E2708 = (int)v11;
  v50 = sub_401000(0x4Cu);
  if ( v50 )
    v10 = sub_48FB90(v50);
  else
    v10 = 0;
  dword_4E270C = (int)v10;
  v49 = sub_401000(0x4Cu);
  if ( v49 )
    v9 = sub_48FBB0(v49);
  else
    v9 = 0;
  dword_4E2710 = (int)v9;
  v48 = sub_401000(0x4Cu);
  if ( v48 )
    v8 = sub_48FBD0(v48);
  else
    v8 = 0;
  dword_4E2714 = (int)v8;
  v47 = sub_401000(0x4Cu);
  if ( v47 )
    v7 = sub_48FBF0(v47);
  else
    v7 = 0;
  dword_4E2718 = (int)v7;
  v46 = sub_401000(0x4Cu);
  if ( v46 )
    v6 = sub_48F990(v46);
  else
    v6 = 0;
  dword_4E271C = (int)v6;
  v45 = sub_401000(0x4Cu);
  if ( v45 )
    v5 = sub_48FC20(v45);
  else
    v5 = 0;
  dword_4E2720 = (int)v5;
  v44 = sub_401000(0x4Cu);
  if ( v44 )
    v4 = sub_48FC60(v44);
  else
    v4 = 0;
  dword_4E2724 = (int)v4;
  v43 = sub_401000(0x4Cu);
  if ( v43 )
    v3 = sub_48FC90(v43);
  else
    v3 = 0;
  dword_4E2728 = (int)v3;
  v42 = sub_401000(0x4Cu);
  if ( v42 )
    v2 = sub_48FCB0(v42);
  else
    v2 = 0;
  dword_4E272C = (int)v2;
  result = (CMMagicFuJiExplosion *)sub_401000(0x50u);
  if ( result )
  {
    result = CMMagicFuJiExplosion::CMMagicFuJiExplosion(result);
    v1 = result;
  }
  else
  {
    v1 = 0;
  }
  dword_4E2730 = (int)v1;
  return result;
}
// 4E2690: using guessed type int dword_4E2690[];
// 4E2694: using guessed type int dword_4E2694;
// 4E2698: using guessed type int dword_4E2698;
// 4E269C: using guessed type int dword_4E269C;
// 4E26A0: using guessed type int dword_4E26A0;
// 4E26A4: using guessed type int dword_4E26A4;
// 4E26A8: using guessed type int dword_4E26A8;
// 4E26AC: using guessed type int dword_4E26AC;
// 4E26B0: using guessed type int dword_4E26B0;
// 4E26B4: using guessed type int dword_4E26B4;
// 4E26B8: using guessed type int dword_4E26B8;
// 4E26BC: using guessed type int dword_4E26BC;
// 4E26C0: using guessed type int dword_4E26C0;
// 4E26C4: using guessed type int dword_4E26C4;
// 4E26C8: using guessed type int dword_4E26C8;
// 4E26CC: using guessed type int dword_4E26CC;
// 4E26D0: using guessed type int dword_4E26D0;
// 4E26D4: using guessed type int dword_4E26D4;
// 4E26D8: using guessed type int dword_4E26D8;
// 4E26DC: using guessed type int dword_4E26DC;
// 4E26E0: using guessed type int dword_4E26E0;
// 4E26E4: using guessed type int dword_4E26E4;
// 4E26E8: using guessed type int dword_4E26E8;
// 4E26EC: using guessed type int dword_4E26EC;
// 4E26F0: using guessed type int dword_4E26F0;
// 4E26F4: using guessed type int dword_4E26F4;
// 4E26F8: using guessed type int dword_4E26F8;
// 4E26FC: using guessed type int dword_4E26FC;
// 4E2700: using guessed type int dword_4E2700;
// 4E2704: using guessed type int dword_4E2704;
// 4E2708: using guessed type int dword_4E2708;
// 4E270C: using guessed type int dword_4E270C;
// 4E2710: using guessed type int dword_4E2710;
// 4E2714: using guessed type int dword_4E2714;
// 4E2718: using guessed type int dword_4E2718;
// 4E271C: using guessed type int dword_4E271C;
// 4E2720: using guessed type int dword_4E2720;
// 4E2724: using guessed type int dword_4E2724;
// 4E2728: using guessed type int dword_4E2728;
// 4E272C: using guessed type int dword_4E272C;
// 4E2730: using guessed type int dword_4E2730;

//----- (004B2F00) --------------------------------------------------------
DWORD sub_4B2F00()
{
  DWORD result; // eax

  result = GetTickCount();
  dword_4E2744 = result;
  return result;
}
// 4E2744: using guessed type int dword_4E2744;

//----- (004B2F10) --------------------------------------------------------
int sub_4B2F10()
{
  sub_493EE0(&stru_4E2748);
  return atexit((void (__cdecl *)())sub_4B34E0);
}

//----- (004B2F30) --------------------------------------------------------
DWORD sub_4B2F30()
{
  DWORD result; // eax

  result = GetTickCount();
  dword_4E2754 = result;
  return result;
}
// 4E2754: using guessed type int dword_4E2754;

//----- (004B2F40) --------------------------------------------------------
int sub_4B2F40()
{
  `vector constructor iterator'(dword_4E2758, 0x3Cu, 32, _f);
  return atexit((void (__cdecl *)())sub_4B34F0);
}

//----- (004B2F70) --------------------------------------------------------
int sub_4B2F70()
{
  CScreen::CScreen((CScreen *)dword_4E2EDC);
  return atexit(sub_4B3510);
}
// 4E2EDC: using guessed type int dword_4E2EDC[13];

//----- (004B2F90) --------------------------------------------------------
int sub_4B2F90()
{
  CTables::CTables_0(&unk_4E35B4);
  return atexit(sub_4B3520);
}

//----- (004B2FB0) --------------------------------------------------------
void sub_4B2FB0()
{
  InitCodePage::InitCodePage(&unk_4E374C);
}

//----- (004B2FC0) --------------------------------------------------------
void __cdecl sub_4B2FC0()
{
  sub_401170(dword_4DA6F0);
}
// 4DA6F0: using guessed type int dword_4DA6F0[4];

//----- (004B2FD0) --------------------------------------------------------
LONG __cdecl sub_4B2FD0()
{
  return sub_402030(&dword_4DA764);
}
// 4DA764: using guessed type int dword_4DA764;

//----- (004B2FE0) --------------------------------------------------------
void __cdecl sub_4B2FE0()
{
  sub_4020B0(&dword_4DA75C);
}
// 4DA75C: using guessed type int dword_4DA75C;

//----- (004B2FF0) --------------------------------------------------------
LONG __cdecl sub_4B2FF0()
{
  return sub_4024F0(&dword_4DA770);
}
// 4DA770: using guessed type int dword_4DA770;

//----- (004B3000) --------------------------------------------------------
void __cdecl sub_4B3000()
{
  sub_40A670((std::locale::facet *)&unk_4DA798);
}

//----- (004B3010) --------------------------------------------------------
void __cdecl sub_4B3010()
{
  sub_40CAE0(dword_4DA7B8);
}
// 4DA7B8: using guessed type int dword_4DA7B8[4];

//----- (004B3020) --------------------------------------------------------
LONG __cdecl sub_4B3020()
{
  return sub_40DDF0(&dword_4DA824);
}
// 4DA824: using guessed type int dword_4DA824;

//----- (004B3030) --------------------------------------------------------
void __cdecl sub_4B3030()
{
  sub_40E770(&dword_4E0900);
}
// 4E0900: using guessed type int dword_4E0900;

//----- (004B3040) --------------------------------------------------------
int __cdecl sub_4B3040()
{
  return sub_410880(dword_4E094C);
}
// 4E094C: using guessed type int dword_4E094C[3];

//----- (004B3050) --------------------------------------------------------
std::list<std::pair<std::string const ,int>> *__cdecl sub_4B3050()
{
  return sub_472990((std::list<std::pair<std::string const ,int>> *)dword_4E0958);
}
// 4E0958: using guessed type int dword_4E0958[3];

//----- (004B3060) --------------------------------------------------------
int __cdecl sub_4B3060()
{
  return sub_418A30(dword_4E0968);
}

//----- (004B3070) --------------------------------------------------------
int __cdecl sub_4B3070()
{
  return sub_418A30(dword_4E0974);
}
// 4E0974: using guessed type int dword_4E0974[3];

//----- (004B3080) --------------------------------------------------------
void __cdecl sub_4B3080()
{
  CRWLock::~CRWLock(&unk_4E0980);
}

//----- (004B3090) --------------------------------------------------------
int __cdecl sub_4B3090()
{
  return sub_41D060(dword_4E09A4);
}

//----- (004B30A0) --------------------------------------------------------
void __cdecl sub_4B30A0()
{
  CRWLock::~CRWLock(&unk_4E09B0);
}

//----- (004B30B0) --------------------------------------------------------
int __cdecl sub_4B30B0()
{
  return sub_41D1F0(dword_4E09C8);
}

//----- (004B30C0) --------------------------------------------------------
void __cdecl sub_4B30C0()
{
  CRWLock::~CRWLock(&unk_4E09D4);
}

//----- (004B30D0) --------------------------------------------------------
int __cdecl sub_4B30D0()
{
  return sub_4209C0(dword_4E09F0);
}

//----- (004B30E0) --------------------------------------------------------
void __cdecl sub_4B30E0()
{
  CIOException::CInit::~CInit(&unk_4E0DB4);
}

//----- (004B30F0) --------------------------------------------------------
void __cdecl sub_4B30F0()
{
  CIOCriticalSection::~CIOCriticalSection(&unk_4E0FE8);
}

//----- (004B3100) --------------------------------------------------------
int __cdecl sub_4B3100()
{
  return sub_423710();
}

//----- (004B3110) --------------------------------------------------------
std::vector<CIOSocket::CIOTimer> *__cdecl sub_4B3110()
{
  return sub_4258D0(&unk_4E100C);
}

//----- (004B3120) --------------------------------------------------------
void __cdecl sub_4B3120()
{
  sub_402010((std::locale::facet *)&unk_4E1020);
}

//----- (004B3130) --------------------------------------------------------
int __cdecl sub_4B3130()
{
  return sub_42FA40(dword_4E10B4);
}
// 4E10B4: using guessed type int dword_4E10B4[3];

//----- (004B3140) --------------------------------------------------------
int __cdecl sub_4B3140()
{
  return sub_42FBD0(dword_4E10C0);
}
// 4E10C0: using guessed type int dword_4E10C0[3];

//----- (004B3150) --------------------------------------------------------
int __cdecl sub_4B3150()
{
  return sub_42FD60(dword_4E10CC);
}
// 4E10CC: using guessed type int dword_4E10CC[3];

//----- (004B3160) --------------------------------------------------------
void __cdecl sub_4B3160()
{
  CRWLock::~CRWLock(&unk_4E10D8);
}

//----- (004B3170) --------------------------------------------------------
int __cdecl sub_4B3170()
{
  return sub_4320D0(dword_4E10F0);
}
// 4E10F0: using guessed type int dword_4E10F0[3];

//----- (004B3180) --------------------------------------------------------
int __cdecl sub_4B3180()
{
  return sub_432260(dword_4E10FC);
}
// 4E10FC: using guessed type int dword_4E10FC[3];

//----- (004B3190) --------------------------------------------------------
void __cdecl sub_4B3190()
{
  CScreen::~CScreen((CScreen *)&unk_4E1128);
}

//----- (004B31A0) --------------------------------------------------------
unsigned int __cdecl sub_4B31A0()
{
  return CLog::CInit::~CInit(&unk_4E115C);
}

//----- (004B31B0) --------------------------------------------------------
void __cdecl sub_4B31B0()
{
  sub_40F780(&stru_4E1194);
}

//----- (004B31C0) --------------------------------------------------------
void __cdecl sub_4B31C0()
{
  sub_40F780(&stru_4E11B0);
}

//----- (004B31D0) --------------------------------------------------------
void __cdecl sub_4B31D0()
{
  sub_40F780(&stru_4E11CC);
}

//----- (004B31E0) --------------------------------------------------------
void __cdecl sub_4B31E0()
{
  sub_40F780(&stru_4E11E8);
}

//----- (004B31F0) --------------------------------------------------------
void __cdecl sub_4B31F0()
{
  sub_40F780(&stru_4E1204);
}

//----- (004B3200) --------------------------------------------------------
void __cdecl sub_4B3200()
{
  sub_40F780(&stru_4E1220);
}

//----- (004B3210) --------------------------------------------------------
void __cdecl sub_4B3210()
{
  sub_40F780(&stru_4E123C);
}

//----- (004B3220) --------------------------------------------------------
int __cdecl sub_4B3220()
{
  return sub_433BF0(dword_4E1258);
}
// 4E1258: using guessed type int dword_4E1258[3];

//----- (004B3230) --------------------------------------------------------
void __cdecl sub_4B3230()
{
  sub_40F780(&stru_4E1264);
}

//----- (004B3240) --------------------------------------------------------
int __cdecl sub_4B3240()
{
  return sub_4477F0(dword_4E1820);
}
// 4E1820: using guessed type int dword_4E1820[3];

//----- (004B3250) --------------------------------------------------------
void __cdecl sub_4B3250()
{
  CIOCriticalSection::~CIOCriticalSection(&unk_4E182C);
}

//----- (004B3260) --------------------------------------------------------
int __cdecl sub_4B3260()
{
  return sub_447980(dword_4E184C);
}
// 4E184C: using guessed type int dword_4E184C[3];

//----- (004B3270) --------------------------------------------------------
void __cdecl sub_4B3270()
{
  CRWLock::~CRWLock(&unk_4E1858);
}

//----- (004B3280) --------------------------------------------------------
int __cdecl sub_4B3280()
{
  return sub_447A70(dword_4E1870);
}
// 4E1870: using guessed type int dword_4E1870[3];

//----- (004B3290) --------------------------------------------------------
void __cdecl sub_4B3290()
{
  CRWLock::~CRWLock(&unk_4E187C);
}

//----- (004B32A0) --------------------------------------------------------
void __cdecl sub_4B32A0()
{
  sub_4383A0((std::locale::facet *)&unk_4E1898);
}

//----- (004B32B0) --------------------------------------------------------
char *__cdecl sub_4B32B0()
{
  return `vector destructor iterator'(
           &unk_4E18F0,
           0x20u,
           2,
           (void (__thiscall *)(void *))CIOCriticalSection::~CIOCriticalSection);
}

//----- (004B32D0) --------------------------------------------------------
void __cdecl sub_4B32D0()
{
  CNPCObject::_CNPCObject(&unk_4E1930);
}

//----- (004B32E0) --------------------------------------------------------
void __cdecl sub_4B32E0()
{
  CNPCObject::_CNPCObject(&unk_4E1998);
}

//----- (004B32F0) --------------------------------------------------------
void __cdecl sub_4B32F0()
{
  CNPCObject::_CNPCObject(&unk_4E1A00);
}

//----- (004B3300) --------------------------------------------------------
int __cdecl sub_4B3300()
{
  return sub_44B920(dword_4E1A9C);
}
// 4E1A9C: using guessed type int dword_4E1A9C[3];

//----- (004B3310) --------------------------------------------------------
int __cdecl sub_4B3310()
{
  return sub_44BB90(dword_4E1AA8);
}
// 4E1AA8: using guessed type int dword_4E1AA8[3];

//----- (004B3320) --------------------------------------------------------
int __cdecl sub_4B3320()
{
  return sub_44BE00(dword_4E1AB4);
}
// 4E1AB4: using guessed type int dword_4E1AB4[3];

//----- (004B3330) --------------------------------------------------------
void __cdecl sub_4B3330()
{
  CRWLock::~CRWLock(&unk_4E1AC0);
}

//----- (004B3340) --------------------------------------------------------
void __cdecl sub_4B3340()
{
  CNPCObject::_CNPCObject(&unk_4E1AD8);
}

//----- (004B3350) --------------------------------------------------------
void __cdecl sub_4B3350()
{
  CIOCriticalSection::~CIOCriticalSection(&unk_4E1B38);
}

//----- (004B3360) --------------------------------------------------------
void __cdecl sub_4B3360()
{
  CIOCriticalSection::~CIOCriticalSection(&unk_4E1B58);
}

//----- (004B3370) --------------------------------------------------------
void __cdecl sub_4B3370()
{
  CIOCriticalSection::~CIOCriticalSection(&unk_4E1B78);
}

//----- (004B3380) --------------------------------------------------------
int __cdecl sub_4B3380()
{
  return sub_44CEE0(dword_4E1B9C);
}

//----- (004B3390) --------------------------------------------------------
int __cdecl sub_4B3390()
{
  return sub_44D150(dword_4E1F38);
}
// 4E1F38: using guessed type int dword_4E1F38[4];

//----- (004B33A0) --------------------------------------------------------
int __cdecl sub_4B33A0()
{
  return sub_44FBF0(dword_4E1FC4);
}

//----- (004B33B0) --------------------------------------------------------
void __cdecl sub_4B33B0()
{
  CIOCriticalSection::~CIOCriticalSection(&unk_4E1FD0);
}

//----- (004B33C0) --------------------------------------------------------
int __cdecl sub_4B33C0()
{
  return sub_47A8D0(dword_4E2020);
}

//----- (004B33D0) --------------------------------------------------------
void __cdecl sub_4B33D0()
{
  CRWLock::~CRWLock(&unk_4E202C);
}

//----- (004B33E0) --------------------------------------------------------
int __cdecl sub_4B33E0()
{
  return sub_47A9C0(dword_4E2044);
}

//----- (004B33F0) --------------------------------------------------------
void __cdecl sub_4B33F0()
{
  CRWLock::~CRWLock(&unk_4E2050);
}

//----- (004B3400) --------------------------------------------------------
int __cdecl sub_4B3400()
{
  return sub_47A8D0(dword_4E2068);
}

//----- (004B3410) --------------------------------------------------------
char *__cdecl sub_4B3410()
{
  return `vector destructor iterator'(
           &unk_4E2078,
           0x20u,
           2,
           (void (__thiscall *)(void *))CIOCriticalSection::~CIOCriticalSection);
}

//----- (004B3430) --------------------------------------------------------
void __cdecl sub_4B3430()
{
  CRWLock::~CRWLock(&unk_4E20B8);
}

//----- (004B3440) --------------------------------------------------------
std::list<std::pair<std::string const ,int>> *__cdecl sub_4B3440()
{
  return sub_472990((std::list<std::pair<std::string const ,int>> *)dword_4E20D0);
}
// 4E20D0: using guessed type int dword_4E20D0[3];

//----- (004B3450) --------------------------------------------------------
void __cdecl sub_4B3450()
{
  CRWLock::~CRWLock(&unk_4E20DC);
}

//----- (004B3460) --------------------------------------------------------
void __cdecl sub_4B3460()
{
  sub_402010((std::locale::facet *)&unk_4E20F4);
}

//----- (004B3470) --------------------------------------------------------
int __cdecl sub_4B3470()
{
  return sub_47DAD0(dword_4E210C);
}
// 4E210C: using guessed type int dword_4E210C[3];

//----- (004B3480) --------------------------------------------------------
void __cdecl sub_4B3480()
{
  CRWLock::~CRWLock(&unk_4E2118);
}

//----- (004B3490) --------------------------------------------------------
int __cdecl sub_4B3490()
{
  return sub_47ECF0(dword_4E214C);
}

//----- (004B34A0) --------------------------------------------------------
void __cdecl sub_4B34A0()
{
  sub_47ECD0((CWin32FileIO *)&unk_4E2158);
}

//----- (004B34B0) --------------------------------------------------------
void __cdecl sub_4B34B0()
{
  CRWLock::~CRWLock(&unk_4E2170);
}

//----- (004B34C0) --------------------------------------------------------
int __cdecl sub_4B34C0()
{
  return sub_4808E0(dword_4E218C);
}
// 4E218C: using guessed type int dword_4E218C[3];

//----- (004B34D0) --------------------------------------------------------
int __cdecl sub_4B34D0()
{
  return sub_4808E0(&stru_4E2198);
}

//----- (004B34E0) --------------------------------------------------------
int __cdecl sub_4B34E0()
{
  return sub_493FC0(&stru_4E2748);
}

//----- (004B34F0) --------------------------------------------------------
char *__cdecl sub_4B34F0()
{
  return `vector destructor iterator'(dword_4E2758, 0x3Cu, 32, (void (__thiscall *)(void *))sub_493F90);
}

//----- (004B3510) --------------------------------------------------------
void __cdecl sub_4B3510()
{
  CScreen::~CScreen((CScreen *)dword_4E2EDC);
}
// 4E2EDC: using guessed type int dword_4E2EDC[13];

//----- (004B3520) --------------------------------------------------------
void __cdecl sub_4B3520()
{
  std::_Init_locks::~_Init_locks((std::_Init_locks *)&unk_4E35B4);
}
// 401130: using guessed type void __thiscall std::_Init_locks::~_Init_locks(std::_Init_locks *__hidden this);

// nfuncs=3728 queued=3372 decompiled=3372 lumina nreq=0 worse=0 better=0
// ALL OK, 3372 function(s) have been successfully decompiled
